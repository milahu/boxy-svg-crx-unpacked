System.registerModule("classes/artboard-helpers",[],function(){"use strict";var t=System.get("utils/dom").createSVGLength,e=Number.parseFloat,n={
1:"none",2:"xMinYMin",3:"xMidYMin",4:"xMaxYMin",5:"xMinYMid",6:"xMidYMid",7:"xMaxYMid",
8:"xMinYMax",9:"xMidYMax",10:"xMaxYMax"},r={none:1,xMinYMin:2,xMidYMin:3,xMaxYMin:4,
xMinYMid:5,xMidYMid:6,xMaxYMid:7,xMinYMax:8,xMidYMax:9,xMaxYMax:10},i={meet:1,slice:2
},a=function(t){return t.trim().split(/[\s+,]+/)},s=function(){function t(t){this._artboard=t;
}return $traceurRuntime.createClass(t,{get x(){return this._artboard.hasAttribute("viewBox")?e(a(this._artboard.getAttribute("viewBox"))[0]):0;
},set x(t){var e,n;if(this._artboard.hasAttribute("viewBox")){var r=a(this._artboard.getAttribute("viewBox")),i=(e=r[Symbol.iterator](),
(n=e.next()).done?void 0:n.value,(n=e.next()).done?void 0:n.value),s=(n=e.next()).done?void 0:n.value,o=(n=e.next()).done?void 0:n.value;
this._artboard.setAttribute("viewBox",t+" "+i+" "+s+" "+o)}else this._artboard.setAttribute("viewBox",t+" 0 0 0");
},get y(){return this._artboard.hasAttribute("viewBox")?e(a(this._artboard.getAttribute("viewBox"))[1]):0;
},set y(t){var e,n;if(this._artboard.hasAttribute("viewBox")){var r=a(this._artboard.getAttribute("viewBox")),i=(e=r[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),s=((n=e.next()).done?void 0:n.value,(n=e.next()).done?void 0:n.value),o=(n=e.next()).done?void 0:n.value;
this._artboard.setAttribute("viewBox",i+" "+t+" "+s+" "+o)}else this._artboard.setAttribute("viewBox","0 "+t+" 0 0");
},get width(){return this._artboard.hasAttribute("viewBox")?e(a(this._artboard.getAttribute("viewBox"))[2]):0;
},set width(t){var e,n;if(this._artboard.hasAttribute("viewBox")){var r=a(this._artboard.getAttribute("viewBox")),i=(e=r[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),s=(n=e.next()).done?void 0:n.value,o=((n=e.next()).done?void 0:n.value,
(n=e.next()).done?void 0:n.value);this._artboard.setAttribute("viewBox",i+" "+s+" "+t+" "+o);
}else this._artboard.setAttribute("viewBox","0 0 "+t+" 0")},get height(){return this._artboard.hasAttribute("viewBox")?e(a(this._artboard.getAttribute("viewBox"))[3]):0;
},set height(t){var e,n;if(this._artboard.hasAttribute("viewBox")){var r=a(this._artboard.getAttribute("viewBox")),i=(e=r[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),s=(n=e.next()).done?void 0:n.value,o=(n=e.next()).done?void 0:n.value;
(n=e.next()).done?void 0:n.value;this._artboard.setAttribute("viewBox",i+" "+s+" "+o+" "+t);
}else this._artboard.setAttribute("viewBox","0 0 0 "+t)}},{})}(),o=function(){function t(t){
this._artboard=t}return $traceurRuntime.createClass(t,{get align(){if(this._artboard.hasAttribute("preserveAspectRatio")){
var t=a(this._artboard.getAttribute("preserveAspectRatio"))[0];return r[t]||r.xMidYMid;
}return r.xMidYMid},set align(t){var e=n[t]||"xMidYMid";this.meetOrSlice===i.slice&&(e+=" slice"),
this._artboard.setAttribute("preserveAspectRatio",e)},get meetOrSlice(){if(this._artboard.hasAttribute("preserveAspectRatio")){
var t=a(this._artboard.getAttribute("preserveAspectRatio"))[1];return i[t]||i.meet;
}return i.meet},set meetOrSlice(t){var e=n[this.align];t===i.slice&&(e+=" slice"),
this._artboard.setAttribute("preserveAspectRatio",e)}},{})}(),l=function(){function e(t,e){
this._ownerElement=t,this._attributeName=e}return $traceurRuntime.createClass(e,{
get unitType(){var e=t();return this._ownerElement.hasAttribute(this._attributeName)&&(e.valueAsString=this._ownerElement.getAttribute(this._attributeName)),
e.unitType},set unitType(t){throw new Error("unitType property is read-only")},get value(){
var e=t();return this._ownerElement.hasAttribute(this._attributeName)&&(e.valueAsString=this._ownerElement.getAttribute(this._attributeName)),
e.value},set value(e){var n=t();this._ownerElement.hasAttribute(this._attributeName)&&(n.valueAsString=this._ownerElement.getAttribute(this._attributeName)),
n.value=e,this._ownerElement.setAttribute(this._attributeName,n.valueAsString)},get valueInSpecifiedUnits(){
var e=t();return this._ownerElement.hasAttribute(this._attributeName)&&(e.valueAsString=this._ownerElement.getAttribute(this._attributeName)),
e.valueInSpecifiedUnits},set valueInSpecifiedUnits(e){var n=t();this._ownerElement.hasAttribute(this._attributeName)&&(n.valueAsString=this._ownerElement.getAttribute(this._attributeName)),
n.valueInSpecifiedUnits=e,this._ownerElement.setAttribute(this._attributeName,n.valueAsString);
},get valueAsString(){var e=t();return this._ownerElement.hasAttribute(this._attributeName)&&(e.valueAsString=this._ownerElement.getAttribute(this._attributeName)),
e.valueAsString},set valueAsString(t){this._ownerElement.setAttribute(this._attributeName,t);
}},{})}();return{get BXViewBox(){return s},get BXPreserveAspectRatio(){return o},
get BXLength(){return l}}}),System.registerModule("classes/bridge",[],function(){
"use strict";var t=function(){function t(){var t=this;this._counter=0,this._requestCallbacks={},
this._responseCallbacks={},this._postMessageCache=[],this._masterWindow=null,this._masterOrigin=null,
window.addEventListener("message",function(e){return t._onMessage(e)})}return $traceurRuntime.createClass(t,{
postMessage:function(t){var e=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null,r=this,i=function(){
var i=r._counter++,a="request",s={channel:a,id:i,name:t,arg:e};n&&(r._responseCallbacks[s.id]=n),
r._masterWindow.postMessage(s,r._masterOrigin)};this._masterWindow&&this._masterOrigin?i():this._postMessageCache.push(i);
},addMessageListener:function(t,e){this._requestCallbacks[t]||(this._requestCallbacks[t]=[]),
this._requestCallbacks[t].push(e)},removeMessageListener:function(t,e){this._requestCallbacks[t]&&(this._requestCallbacks[t]=this._requestCallbacks[t].filter(function(t){
return t!==e}))},_onMessage:function(t){var e=this,n=t.data,r=n.channel,i=n.id,a=n.name,s=n.arg;
if(null===this._masterWindow){this._masterWindow=t.source,this._masterOrigin=t.origin;
var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=this._postMessageCache[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h()}}catch(f){l=!0,u=f}finally{try{o||null==d["return"]||d["return"]();
}finally{if(l)throw u}}this._postMessageCache=[]}"request"===r?this._requestCallbacks[a]&&this._requestCallbacks[a].forEach(function(t){
t(s,function(t){var n={channel:"response",id:i,name:a,arg:t};e._masterWindow.postMessage(n,e._masterOrigin);
})}):"response"===r&&this._responseCallbacks[i]&&(this._responseCallbacks[i](s),delete this._responseCallbacks[i]);
}},{})}(),e=function(){function t(){var t=this;this._counter=0,this._requestCallbacks={},
this._responseCallbacks={},ipcRenderer.on("request",function(e,n){return t._onRequestMessage(n);
}),ipcRenderer.on("response",function(e,n){return t._onResponseMessage(n)})}return $traceurRuntime.createClass(t,{
postMessage:function(t){var e=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null,r=this._counter++,i={
name:t,arg:e,id:r};n&&(this._responseCallbacks[i.id]=n),ipcRenderer.isWebview?ipcRenderer.sendToHost("request",i):ipcRenderer.send("request",i);
},addMessageListener:function(t,e){this._requestCallbacks[t]||(this._requestCallbacks[t]=[]),
this._requestCallbacks[t].push(e)},removeMessageListener:function(t,e){this._requestCallbacks[t]&&(this._requestCallbacks[t]=this._requestCallbacks[t].filter(function(t){
return t!==e}))},_onRequestMessage:function(t){var e=t,n=e.name,r=e.arg,i=e.id,a=this._requestCallbacks[n];
a&&a.forEach(function(t){t(r,function(t){var e={id:i,name:n,arg:t};ipcRenderer.isWebview?ipcRenderer.sendToHost("response",e):ipcRenderer.send("response",e);
})})},_onResponseMessage:function(t){this._responseCallbacks[t.id]&&(this._responseCallbacks[t.id](t.arg),
delete this._responseCallbacks[t.id])}},{})}(),n=window.ipcRenderer?e:t;return{get default(){
return n}}}),System.registerModule("classes/color",[],function(){"use strict";var t=System.get("utils/color"),e=t.stringToColor,n=t.colorToString,r=t.rgbToHsl,i=t.hslToRgb,a=function(){
function t(){var t=void 0!==arguments[0]?arguments[0]:0,e=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:0,r=void 0!==arguments[3]?arguments[3]:1,i=void 0!==arguments[4]?arguments[4]:"rgba";
"rgba"===i?(this.r=t,this.g=e,this.b=n):"hsla"===i&&(this.h=t,this.s=e,this.l=n),
this.a=r,this.space=i}return $traceurRuntime.createClass(t,{setSpace:function(t){
var e,n,a,s;if("rgba"===t&&"hsla"===this.space){var o=i(this.h,this.s,this.l),l=(e=o[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),u=(n=e.next()).done?void 0:n.value,c=(n=e.next()).done?void 0:n.value;
this.r=l,this.g=u,this.b=c,delete this.h,delete this.s,delete this.l,this.space="rgba";
}else if("hsla"===t&&"rgba"===this.space){var d=r(this.r,this.g,this.b),h=(a=d[Symbol.iterator](),
(s=a.next()).done?void 0:s.value),f=(s=a.next()).done?void 0:s.value,v=(s=a.next()).done?void 0:s.value;
this.h=h,this.s=f,this.l=v,delete this.r,delete this.g,delete this.b,this.space="hsla";
}},clone:function(){return"rgba"===this.space?new t(this.r,this.g,this.b,this.a,"rgba"):"hsla"===this.space?new t(this.h,this.s,this.l,this.a,"hsla"):void 0;
},log:function(){var t=this.toString();console.log("%c     ","background: "+t,t)},
toString:function(){var t=void 0!==arguments[0]?arguments[0]:"rgba";return n(this,t);
}},{fromString:function(n){var r=void 0!==arguments[1]?arguments[1]:"rgba";if("rgba"===r){
var i=e(n,"rgba"),a=i.r,s=i.g,o=i.b,l=i.a;return new t(a,s,o,l,"rgba")}var u=e(n,"hsla"),c=u.h,d=u.s,h=u.l,f=u.a;
return new t(c,d,h,f,"hsla")}})}(),s=a;return{get default(){return s}}}),System.registerModule("classes/decomposed-transform",[],function(){
"use strict";var t=System.get("utils/dom").createSVGMatrix,e=Math,n=e.abs,r=e.sqrt,i=e.asin,a=e.sin,s=e.cos,o=(e.tan,
e.atan2),l=1e-8,u=function(){function e(){var t=void 0!==arguments[0]?arguments[0]:"eulerAngles";
this._translateX=0,this._translateY=0,this._translateZ=0,this._scaleX=1,this._scaleY=1,
this._scaleZ=1,this._perspectiveX=0,this._perspectiveY=0,this._perspectiveZ=0,this._perspectiveW=1,
this._skewXY=0,this._skewXZ=0,this._skewYZ=0,this._rotation=t,"eulerAngles"===t?(this._rotateX=0,
this._rotateY=0,this._rotateZ=0):"quaternions"===t&&(this._quaternionX=0,this._quaternionY=0,
this._quaternionZ=0,this._quaternionW=0)}return $traceurRuntime.createClass(e,{toSVGMatrix:function(){
var e=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];if(e[0][3]=this.perspectiveX,e[1][3]=this.perspectiveY,
e[2][3]=this.perspectiveZ,e[3][3]=this.perspectiveW,S(e,this.translateX,this.translateY,this.translateZ),
"eulerAngles"===this.rotation){var n=s(this.rotateX),r=a(this.rotateX),i=s(this.rotateY),o=a(this.rotateY),l=s(this.rotateZ),u=a(this.rotateZ),c=i*l,d=i*u,h=o*l,f=o*u,v=[[c-f*r,d+h*r,-n*o,0],[-n*u,n*l,r,0],[h+d*r,f-c*r,n*i,0],[0,0,0,1]];
e=C(e,v)}else if("quaternions"===this.rotation){var m=this.quaternionX*this.quaternionX,b=this.quaternionX*this.quaternionY,g=this.quaternionX*this.quaternionZ,p=this.quaternionX*this.quaternionW,y=this.quaternionY*this.quaternionY,_=this.quaternionY*this.quaternionZ,x=this.quaternionY*this.quaternionW,w=this.quaternionZ*this.quaternionZ,k=this.quaternionZ*this.quaternionW,A=[[1-2*(y+w),2*(b-k),2*(g+x),0],[2*(b+k),1-2*(m+w),2*(_-p),0],[2*(g-x),2*(_+p),1-2*(m+y),0],[0,0,0,1]];
e=C(e,A)}if(this.skewYZ){var T=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];T[2][1]=this.skewYZ,
e=C(e,T)}if(this.skewXZ){var L=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];L[2][1]=0,
L[2][0]=this.skewXZ,e=C(e,L)}if(this.skewXY){var M=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];
M[2][0]=0,M[1][0]=this.skewXY,e=C(e,M)}return E(e,this.scaleX,this.scaleY,this.scaleZ),
t(e[0][0],e[0][1],e[1][0],e[1][1],e[3][0],e[3][1])},clone:function(){var t=new e(this._rotation);
return t.translateX=this._translateX,t.translateY=this._translateY,t.translateZ=this._translateZ,
t.scaleX=this._scaleX,t.scaleY=this._scaleY,t.scaleZ=this._scaleZ,t.perspectiveX=this._perspectiveX,
t.perspectiveY=this._perspectiveY,t.perspectiveZ=this._perspectiveZ,t.perspectiveW=this._perspectiveW,
t.skewXY=this._skewXY,t.skewXZ=this._skewXZ,t.skewYZ=this._skewYZ,"eulerAngles"===this._rotation?(t.rotateX=this._rotateX,
t.rotateY=this._rotateY,t.rotateZ=this._rotateZ):"quaternions"===this._rotation&&(t.quaternionX=this._quaternionX,
t.quaternionY=this._quaternionY,t.quaternionZ=this._quaternionZ,t.quaternionW=this._quaternionW),
t},get translateX(){return this._translateX},set translateX(t){this._translateX=t;
},get translateY(){return this._translateY},set translateY(t){this._translateY=t},
get translateZ(){return this._translateZ},set translateZ(t){this._translateZ=t},get scaleX(){
return this._scaleX},set scaleX(t){this._scaleX=t},get scaleY(){return this._scaleY;
},set scaleY(t){this._scaleY=t},get scaleZ(){return this._scaleZ},set scaleZ(t){this._scaleZ=t;
},get perspectiveX(){return this._perspectiveX},set perspectiveX(t){this._perspectiveX=t;
},get perspectiveY(){return this._perspectiveY},set perspectiveY(t){this._perspectiveY=t;
},get perspectiveZ(){return this._perspectiveZ},set perspectiveZ(t){this._perspectiveZ=t;
},get perspectiveW(){return this._perspectiveW},set perspectiveW(t){this._perspectiveW=t;
},get skewXY(){return this._skewXY},set skewXY(t){this._skewXY=t},get skewXZ(){return this._skewXZ;
},set skewXZ(t){this._skewXZ=t},get skewYZ(){return this._skewYZ},set skewYZ(t){this._skewYZ=t;
},get rotation(){return this._rotation},set rotation(t){throw new Error('"rotation" property is read-only.');
},get rotateX(){if("eulerAngles"===this._rotation)return this._rotateX;throw new Error('Can\'t get "rotateX" propery - decomposed transform does not use Euler angles.');
},set rotateX(t){if("eulerAngles"!==this._rotation)throw new Error('Can\'t set "rotateX" propery - decomposed transform does not use Euler angles.');
this._rotateX=t},get rotateY(){if("eulerAngles"===this._rotation)return this._rotateY;
throw new Error('Can\'t get "rotateY" propery - decomposed transform does not use Euler angles.');
},set rotateY(t){if("eulerAngles"!==this._rotation)throw new Error('Can\'t set "rotateY" propery - decomposed transform does not use Euler angles.');
this._rotateY=t},get rotateZ(){if("eulerAngles"===this._rotation)return this._rotateZ;
throw new Error('Can\'t get "rotateZ" propery - decomposed transform does not use Euler angles.');
},set rotateZ(t){if("eulerAngles"!==this._rotation)throw new Error('Can\'t set "rotateZ" propery - decomposed transform does not use Euler angles.');
this._rotateZ=t},get quaternionX(){if("quaternions"===this._rotation)return this._quaternionX;
throw new Error('Can\'t get "quaternionX" propery - decomposed transform does not use quaternions.');
},set quaternionX(t){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionX" propery - decomposed transform does not use quaternions.');
this._quaternionX=t},get quaternionY(){if("quaternions"===this._rotation)return this._quaternionY;
throw new Error('Can\'t get "quaternionY" propery - decomposed transform does not use quaternions.');
},set quaternionY(t){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionY" propery - decomposed transform does not use quaternions.');
this._quaternionY=t},get quaternionZ(){if("quaternions"===this._rotation)return this._quaternionZ;
throw new Error('Can\'t get "quaternionZ" propery - decomposed transform does not use quaternions.');
},set quaternionZ(t){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionZ" propery - decomposed transform does not use quaternions.');
this._quaternionX=t},get quaternionW(){if("quaternions"===this._rotation)return this._quaternionW;
throw new Error('Can\'t get "quaternionW" propery - decomposed transform does not use quaternions.');
},set quaternionW(t){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionW" propery - decomposed transform does not use quaternions.');
this._quaternionW=t}},{fromSVGMatrix:function(t){var n=void 0!==arguments[1]?arguments[1]:"eulerAngles",a=new e(n),l=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];
if(0==l[3][3])return!1;for(var u=0;4>u;u++)for(var c=0;4>c;c++)l[u][c]/=l[3][3];for(var d=[],h=0;4>h;h++){
d[h]=[];for(var v=0;4>v;v++)d[h][v]=l[h][v]}for(var S=0;3>S;S++)d[S][3]=0;if(d[3][3]=1,
0==f(d))return!1;if(0!=l[0][3]||0!=l[1][3]||0!=l[2][3]){var C=[0,0,0,0];C[0]=l[0][3],
C[1]=l[1][3],C[2]=l[2][3],C[3]=l[3][3];var k=m(d),E=b(k),A=g(C,E);a.perspectiveX=A[0],
a.perspectiveY=A[1],a.perspectiveZ=A[2],a.perspectiveW=A[3],l[0][3]=l[1][3]=l[2][3]=0,
l[3][3]=1}else a.perspectiveX=a.perspectiveY=a.perspectiveZ=0,a.perspectiveW=1;a.translateX=l[3][0],
l[3][0]=0,a.translateY=l[3][1],l[3][1]=0,a.translateZ=l[3][2],l[3][2]=0;for(var T=[[],[],[]],L=[0,0,0],M=0;3>M;M++)T[M][0]=l[M][0],
T[M][1]=l[M][1],T[M][2]=l[M][2];if(a.scaleX=p(T[0]),y(T[0],1),a.skewXY=_(T[0],T[1]),
x(T[1],T[0],T[1],1,-a.skewXY),a.scaleY=p(T[1]),y(T[1],1),a.skewXY/=a.scaleY,a.skewXZ=_(T[0],T[2]),
x(T[2],T[0],T[2],1,-a.skewXZ),a.skewYZ=_(T[1],T[2]),x(T[2],T[1],T[2],1,-a.skewYZ),
a.scaleZ=p(T[2]),y(T[2],1),a.skewXZ/=a.scaleZ,a.skewYZ/=a.scaleZ,w(T[1],T[2],L),_(T[0],L)<0){
a.scaleX*=-1,a.scaleY*=-1,a.scaleZ*=-1;for(var j=0;3>j;j++)T[j][0]*=-1,T[j][1]*=-1,
T[j][2]*=-1}if("eulerAngles"===n)a.rotateY=i(-T[0][2]),0!==s(a.rotateY)?(a.rotateX=o(T[1][2],T[2][2]),
a.rotateZ=o(T[0][1],T[0][0])):(a.rotateX=o(-T[2][0],T[1][1]),a.rotateZ=0);else if("quaternions"===n){
var R,O,P,I,D,N;O=T[0][0]+T[1][1]+T[2][2]+1,O>1e-4?(R=.5/r(O),N=.25/R,P=(T[2][1]-T[1][2])*R,
I=(T[0][2]-T[2][0])*R,D=(T[1][0]-T[0][1])*R):T[0][0]>T[1][1]&&T[0][0]>T[2][2]?(R=2*r(1+T[0][0]-T[1][1]-T[2][2]),
P=.25*R,I=(T[0][1]+T[1][0])/R,D=(T[0][2]+T[2][0])/R,N=(T[2][1]-T[1][2])/R):T[1][1]>T[2][2]?(R=2*r(1+T[1][1]-T[0][0]-T[2][2]),
P=(T[0][1]+T[1][0])/R,I=.25*R,D=(T[1][2]+T[2][1])/R,N=(T[0][2]-T[2][0])/R):(R=2*r(1+T[2][2]-T[0][0]-T[1][1]),
P=(T[0][2]+T[2][0])/R,I=(T[1][2]+T[2][1])/R,D=.25*R,N=(T[1][0]-T[0][1])/R),a.quaternionX=P,
a.quaternionY=I,a.quaternionZ=D,a.quaternionW=N}return a}})}(),c=u,d=function(t,e,n,r){
return t*r-e*n},h=function(t,e,n,r,i,a,s,o,l){return t*d(i,a,o,l)-r*d(e,n,o,l)+s*d(e,n,i,a);
},f=function(t){var e=t[0][0],n=t[0][1],r=t[0][2],i=t[0][3],a=t[1][0],s=t[1][1],o=t[1][2],l=t[1][3],u=t[2][0],c=t[2][1],d=t[2][2],f=t[2][3],v=t[3][0],m=t[3][1],b=t[3][2],g=t[3][3];
return e*h(s,c,m,o,d,b,l,f,g)-n*h(a,u,v,o,d,b,l,f,g)+r*h(a,u,v,s,c,m,l,f,g)-i*h(a,u,v,s,c,m,o,d,b);
},v=function(t){var e=[[],[],[],[]],n=t[0][0],r=t[0][1],i=t[0][2],a=t[0][3],s=t[1][0],o=t[1][1],l=t[1][2],u=t[1][3],c=t[2][0],d=t[2][1],f=t[2][2],v=t[2][3],m=t[3][0],b=t[3][1],g=t[3][2],p=t[3][3];
e[0][0]=h(o,d,b,l,f,g,u,v,p),e[1][0]=-h(s,c,m,l,f,g,u,v,p),e[2][0]=h(s,c,m,o,d,b,u,v,p),
e[3][0]=-h(s,c,m,o,d,b,l,f,g),e[0][1]=-h(r,d,b,i,f,g,a,v,p),e[1][1]=h(n,c,m,i,f,g,a,v,p),
e[2][1]=-h(n,c,m,r,d,b,a,v,p),e[3][1]=h(n,c,m,r,d,b,i,f,g),e[0][2]=h(r,o,b,i,l,g,a,u,p),
e[1][2]=-h(n,s,m,i,l,g,a,u,p),e[2][2]=h(n,s,m,r,o,b,a,u,p),e[3][2]=-h(n,s,m,r,o,b,i,l,g),
e[0][3]=-h(r,o,d,i,l,f,a,u,v),e[1][3]=h(n,s,c,i,l,f,a,u,v),e[2][3]=-h(n,s,c,r,o,d,a,u,v),
e[3][3]=h(n,s,c,r,o,d,i,l,f)},m=function(t){var e=v(t),r=f(t);if(n(r)<l)return!1;for(var i=0;4>i;i++)for(var a=0;4>a;a++)e[i][a]=e[i][a]/r;
return e},b=function(t){for(var e=[[],[],[],[]],n=0;4>n;n++)for(var r=0;4>r;r++)e[n][r]=t[r][n];
return e},g=function(t,e){var n=[];return n[0]=t[0]*e[0][0]+t[1]*e[1][0]+t[2]*e[2][0]+t[3]*e[3][0],
n[1]=t[0]*e[0][1]+t[1]*e[1][1]+t[2]*e[2][1]+t[3]*e[3][1],n[2]=t[0]*e[0][2]+t[1]*e[1][2]+t[2]*e[2][2]+t[3]*e[3][2],
n[3]=t[0]*e[0][3]+t[1]*e[1][3]+t[2]*e[2][3]+t[3]*e[3][3],n},p=function(t){return r(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);
},y=function(t,e){var n=p(t);if(0!=n){var r=e/n;t[0]*=r,t[1]*=r,t[2]*=r}},_=function(t,e){
return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},x=function(t,e,n,r,i){n[0]=r*t[0]+i*e[0],n[1]=r*t[1]+i*e[1],
n[2]=r*t[2]+i*e[2]},w=function(t,e,n){n[0]=t[1]*e[2]-t[2]*e[1],n[1]=t[2]*e[0]-t[0]*e[2],
n[2]=t[0]*e[1]-t[1]*e[0]},S=function(t,e,n,r){t[3][0]+=e*t[0][0]+n*t[1][0]+r*t[2][0],
t[3][1]+=e*t[0][1]+n*t[1][1]+r*t[2][1],t[3][2]+=e*t[0][2]+n*t[1][2]+r*t[2][2],t[3][3]+=e*t[0][3]+n*t[1][3]+r*t[2][3];
},C=function(t,e){var n=[[],[],[],[]];return n[0][0]=e[0][0]*t[0][0]+e[0][1]*t[1][0]+e[0][2]*t[2][0]+e[0][3]*t[3][0],
n[0][1]=e[0][0]*t[0][1]+e[0][1]*t[1][1]+e[0][2]*t[2][1]+e[0][3]*t[3][1],n[0][2]=e[0][0]*t[0][2]+e[0][1]*t[1][2]+e[0][2]*t[2][2]+e[0][3]*t[3][2],
n[0][3]=e[0][0]*t[0][3]+e[0][1]*t[1][3]+e[0][2]*t[2][3]+e[0][3]*t[3][3],n[1][0]=e[1][0]*t[0][0]+e[1][1]*t[1][0]+e[1][2]*t[2][0]+e[1][3]*t[3][0],
n[1][1]=e[1][0]*t[0][1]+e[1][1]*t[1][1]+e[1][2]*t[2][1]+e[1][3]*t[3][1],n[1][2]=e[1][0]*t[0][2]+e[1][1]*t[1][2]+e[1][2]*t[2][2]+e[1][3]*t[3][2],
n[1][3]=e[1][0]*t[0][3]+e[1][1]*t[1][3]+e[1][2]*t[2][3]+e[1][3]*t[3][3],n[2][0]=e[2][0]*t[0][0]+e[2][1]*t[1][0]+e[2][2]*t[2][0]+e[2][3]*t[3][0],
n[2][1]=e[2][0]*t[0][1]+e[2][1]*t[1][1]+e[2][2]*t[2][1]+e[2][3]*t[3][1],n[2][2]=e[2][0]*t[0][2]+e[2][1]*t[1][2]+e[2][2]*t[2][2]+e[2][3]*t[3][2],
n[2][3]=e[2][0]*t[0][3]+e[2][1]*t[1][3]+e[2][2]*t[2][3]+e[2][3]*t[3][3],n[3][0]=e[3][0]*t[0][0]+e[3][1]*t[1][0]+e[3][2]*t[2][0]+e[3][3]*t[3][0],
n[3][1]=e[3][0]*t[0][1]+e[3][1]*t[1][1]+e[3][2]*t[2][1]+e[3][3]*t[3][1],n[3][2]=e[3][0]*t[0][2]+e[3][1]*t[1][2]+e[3][2]*t[2][2]+e[3][3]*t[3][2],
n[3][3]=e[3][0]*t[0][3]+e[3][1]*t[1][3]+e[3][2]*t[2][3]+e[3][3]*t[3][3],n},k=function(t,e,n){
t[0][0]*=e,t[0][1]*=e,t[0][2]*=e,t[0][3]*=e,t[1][0]*=n,t[1][1]*=n,t[1][2]*=n,t[1][3]*=n;
},E=function(t,e,n,r){k(t,e,n),t[2][0]*=r,t[2][1]*=r,t[2][2]*=r,t[2][3]*=r};return{
get default(){return c}}}),System.registerModule("classes/dom-undo-manager",[],function(){
"use strict";var t=System.get("classes/event-emitter")["default"],e=System.get("utils/type").isBoolean,n={
childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0
},r=function(t){function r(t){var e;$traceurRuntime.superConstructor(r).call(this),
this._rootElement=t,this._groups=[],this._position=0,this._disabled=!1,this._observer=new MutationObserver((e=this,
function(t){var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;e._onDOMTransaction(o)}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}})),this._onDisabledChange()}return $traceurRuntime.createClass(r,{
get disabled(){return this._disabled},set disabled(t){e(t)&&t!==this._disabled&&(this._disabled=t,
this._onDisabledChange())},get undoLabel(){var t="Undo";if(this.canUndo()){var e;e=this._groups[this._position-1].transactions.length>0?this._groups[this._position-1]:this._groups[this._position-2],
t="Undo: "+e.label}return t},set undoLabel(t){throw new Error("undoLabel property is read-only");
},get redoLabel(){var t="Redo";if(this.canRedo()){var e=this._groups[this._position];
t="Redo: "+e.label}return t},set redoLabel(t){throw new Error("redoLabel property is read-only");
},clear:function(){this._groups=[],0!==this._position&&(this._position=0,this.dispatchEvent(new CustomEvent("positionchange",{
detail:"reset"})))},checkpoint:function(t){this._observer.takeRecords(),this._position<this._groups.length&&(this._groups=this._groups.slice(0,this._position));
var e={label:t,transactions:[]};this._groups.push(e),this._position+=1,this.dispatchEvent(new CustomEvent("positionchange",{
detail:"increment"}))},undo:function(){if(this.canUndo()){this._discardCurrentGroupIfEmpty(),
this.disabled=!0,this._position-=1;var t=this._groups[this._position].transactions;
t=$traceurRuntime.spread(t).reverse();var e=new Set,n=new Set,r=new Set,i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;
if("childList"===u.type){var c=document.createDocumentFragment(),d=!0,h=!1,f=void 0;
try{for(var v=void 0,m=u.addedNodes[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){
var b=v.value;u.target.removeChild(b),n.add(b),e["delete"](b)}}catch(g){h=!0,f=g}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw f}}var p=!0,y=!1,_=void 0;
try{for(var x=void 0,w=u.removedNodes[Symbol.iterator]();!(p=(x=w.next()).done);p=!0){
var S=x.value;c.append(S),e.add(S),n["delete"](S)}}catch(C){y=!0,_=C}finally{try{
p||null==w["return"]||w["return"]()}finally{if(y)throw _}}u.nextSibling?u.target.insertBefore(c,u.nextSibling):u.previousSibling?u.target.insertBefore(c,u.previousSibling.nextSibling):u.target.append(c);
}else"attributes"===u.type?(null===u.oldValue?"gradientUnits"===u.attributeName?u.target.setAttribute("gradientUnits","objectBoundingBox"):"patternUnits"===u.attributeName?u.target.setAttribute("patternUnits","objectBoundingBox"):"patternContentUnits"===u.attributeName?u.target.setAttribute("patternContentUnits","userSpaceOnUse"):u.target.removeAttribute(u.attributeName):u.target.setAttribute(u.attributeName,u.oldValue),
r.add(u.target)):"characterData"===u.type&&(u.target.data=u.oldValue,r.add(u.target));
}}catch(k){a=!0,s=k}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{addedNodes:e,
removedNodes:n,modifiedNodes:r}})),this.dispatchEvent(new CustomEvent("positionchange",{
detail:"decrement"}))}else console.info("Can't undo")},redo:function(){if(this.canRedo()){
this.disabled=!0;var t=this._groups[this._position].transactions;this._position+=1;
var e=new Set,n=new Set,r=new Set,i=!0,a=!1,s=void 0;try{for(var o=void 0,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;if("childList"===u.type){var c=document.createDocumentFragment(),d=!0,h=!1,f=void 0;
try{for(var v=void 0,m=u.removedNodes[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){
var b=v.value;u.target.removeChild(b),n.add(b),e["delete"](b)}}catch(g){h=!0,f=g}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw f}}var p=!0,y=!1,_=void 0;
try{for(var x=void 0,w=u.addedNodes[Symbol.iterator]();!(p=(x=w.next()).done);p=!0){
var S=x.value;c.append(S),e.add(S),n["delete"](S)}}catch(C){y=!0,_=C}finally{try{
p||null==w["return"]||w["return"]()}finally{if(y)throw _}}u.nextSibling?u.target.insertBefore(c,u.nextSibling):u.previousSibling?u.target.insertBefore(c,u.previousSibling.nextSibling):u.target.append(c);
}else"attributes"===u.type?(null===u.newValue?u.target.removeAttribute(u.attributeName):u.target.setAttribute(u.attributeName,u.newValue),
r.add(u.target)):"characterData"===u.type&&(u.target.data=u.newValue,r.add(u.target));
}}catch(k){a=!0,s=k}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{addedNodes:e,
removedNodes:n,modifiedNodes:r}})),this.dispatchEvent(new CustomEvent("positionchange",{
detail:"increment"}))}else console.info("Can't redo")},canUndo:function(){return 0===this._position||this.disabled?!1:1===this._position&&this._isCurrentGroupEmpty()?!1:!0;
},canRedo:function(){return this._position===this._groups.length||this.disabled?!1:!0;
},_onDisabledChange:function(){this.disabled===!0?(this._observer.takeRecords(),this._observer.disconnect()):this.disabled===!1&&this._observer.observe(this._rootElement,n);
},_onDOMTransaction:function(t){if(0!==this._groups.length){var e=this._groups[this._groups.length-1].transactions;
if("attributes"===t.type){var n=t.attributeName,r=e.find(function(e){return"attributes"===e.type&&e.attributeName===n&&e.target===t.target;
});r?r.newValue=r.target.getAttribute(n):(r={type:"attributes",target:t.target,attributeName:n,
oldValue:t.oldValue,newValue:t.target.getAttribute(n)},e.push(r))}else if("characterData"===t.type){
var i=e.find(function(e){return"characterData"===e.type&&e.target===t.target});if(i)i.newValue=i.target.data;else{
var a={type:"characterData",target:t.target,oldValue:t.oldValue,newValue:t.target.data
};e.push(a)}}else if("childList"===t.type){var s={type:"childList",target:t.target,
addedNodes:$traceurRuntime.spread(t.addedNodes),removedNodes:$traceurRuntime.spread(t.removedNodes),
nextSibling:t.nextSibling,previousSibling:t.previousSibling};e.push(s)}}},_isCurrentGroupEmpty:function(){
return 0===this._groups[this._position-1].transactions.length},_discardCurrentGroupIfEmpty:function(){
this._position>0&&0===this._groups[this._position-1].transactions.length&&(this._groups.remove(this._groups[this._position]),
this._position-=1,this.dispatchEvent(new CustomEvent("positionchange",{detail:"decrement"
})))}},{},t)}(t),i=r;return{get default(){return i}}}),System.registerModule("classes/enum",[],function(){
"use strict";var t=Object,e=t.defineProperty,n=t.freeze,r=function(){function t(){
for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=!0,a=!1,s=void 0;try{
for(var o=void 0,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value,c=Symbol(u);
e(this,u,{enumerable:!0,configurable:!1,value:c}),e(this,c,{enumerable:!1,configurable:!1,
value:u})}}catch(d){a=!0,s=d}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw s}}n(this)}return $traceurRuntime.createClass(t,{},{})}(),i=r;return{get default(){
return i}}}),System.registerModule("classes/event-emitter",[],function(){"use strict";
var t=function(){function t(){}return $traceurRuntime.createClass(t,{addEventListener:function(t,e){
this._events||(this._events={});var n=this._events[t];n||(this._events[t]=n=[]),n.push(e),
n.length>300&&console.warn("Potential EventEmitter memory leak: "+n.length+" listeners "+('subscribed to event "'+t+'"'));
},removeEventListener:function(t,e){if(this._events&&this._events[t]){for(var n=[],r=0;r<this._events[t].length;r+=1)this._events[t][r]!==e&&n.push(this._events[t][r]);
this._events[t]=n}},dispatchEvent:function(t){if(this._events){var e=this._events[t.type];
if(e){for(var n=null,r=e.length-1;r>=0;r-=1){var i,a=e[r];try{i=a.call(window,t)}catch(s){
null===n&&(n=s)}if(i===!1)break}if(n)throw n}}}},{})}(),e=t;return{get default(){
return e}}}),System.registerModule("classes/google-fonts-manager",[],function(){"use strict";
var t=System.get("utils/constants"),e=t.GOOGLE_FONTS_API_KEY,n=t.TEXT_PROPERTIES,r=System.get("utils/dom"),i=r.createElement,a=r.createSVGMatrix,s=r.isElementConnectedToDocument,o=System.get("utils/json").fromJSON,l=System.get("utils/network").httpRequest,u=System.get("utils/path").parsePathData,c=System.get("utils/time"),d=c.getTimeStamp,h=c.milisecondsToDays,f=c.sleepUntilIdle,v=System.get("utils/transform").reducePathTransform,m=System.get("utils/font"),b=m.getOpenTypeFont,g=m.getOpenTypeGlyphPath,p=(m.matchFontWeight,
m.matchGoogleFontFace),y=m.normalizeFontWeight,_=m.parseGoogleFontsImportRule,x=m.normalizeGoogleFontFace,w=Number.parseFloat,S=Object,C=S.entries,k=S.keys,E=(S.freeze,
window.getComputedStyle),A="\n  Google Fonts Manager can't be created with root element that is disconnected from the document tree because it\n  relies on window.getComputeStyle() and SVGStyleElement.sheet.rules APIs.\n",T=function(){
function t(t){if(s(t)===!1)throw new Error(A);this._rootElement=t,this._registry=null,
this._renderingCanvas=null}return $traceurRuntime.createClass(t,{getAllFamilies:function(){
var t=void 0!==arguments[0]?arguments[0]:"alphabetical",e=this;return new Promise(function(n){
var r,i;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){case 0:
return void Promise.resolve(e._getRegistry()).then(a.createCallback(3),a.errback);
case 3:r=a.value,a.state=2;break;case 2:r?"alphabetical"===t?(i=r.items.map(function(t){
return t.family}),n(i)):("popularity"===t||"trending"===t||"date"===t)&&n(r.sortedFamilies[t]):n(null),
a.state=-2;break;default:return a.end()}},this)})},getImportedFamilies:function(){
var t,e,n=this._rootElement.querySelector("style#bx-google-fonts"),r=n?n.sheet.rules[0]:void 0,i=new Set;
if(r){var a=!0,s=!1,o=void 0;try{for(var l=void 0,u=_(r)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=(t=l.value[Symbol.iterator](),(e=t.next()).done?void 0:e.value);i.add(c)}}catch(d){
s=!0,o=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}}return $traceurRuntime.spread(i);
},getUsedImportedFamilies:function(){var t=new Set,e=this.getImportedFamilies(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=this._rootElement.querySelectorAll("text, tspan")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value,l=E(o).fontFamily.replaceAll("'","");t.add(l)}}catch(u){r=!0,i=u}finally{
try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}return t=$traceurRuntime.spread(t).filter(function(t){
return e.includes(t)})},getImportedWeights:function(t){var e,n,r=this._rootElement.querySelector("style#bx-google-fonts"),i=r?r.sheet.rules[0]:void 0,a=new Set;
if(i){var s=!0,o=!1,l=void 0;try{for(var u=void 0,c=_(i)[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value,h=(e=d[Symbol.iterator](),(n=e.next()).done?void 0:n.value),f=(n=e.next()).done?void 0:n.value;
if(h===t){var v=!0,m=!1,b=void 0;try{for(var g=void 0,p=f[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){
var y=g.value,x=y.endsWith("italic")?y.substring(0,3):y;a.add(x)}}catch(w){m=!0,b=w;
}finally{try{v||null==p["return"]||p["return"]()}finally{if(m)throw b}}}}}catch(S){
o=!0,l=S}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l}}}return $traceurRuntime.spread(a);
},getThumbnail:function(t){var e=this;return new Promise(function(n){var r,i,a,s;return $traceurRuntime.asyncWrap(function(o){
for(;;)switch(o.state){case 0:return void Promise.resolve(e._dbGetThumbnailEntry(t)).then(o.createCallback(3),o.errback);
case 3:r=o.value,o.state=2;break;case 2:i=d(),o.state=19;break;case 19:o.state=r?11:12;
break;case 11:o.state=h(i-r.timeStamp)<90?9:4;break;case 9:n(r.thumbnail),o.state=-2;
break;case 4:return void Promise.resolve(e._createThumbnail(t)).then(o.createCallback(6),o.errback);
case 6:a=o.value,o.state=5;break;case 5:a?(e._dbSetThumbnailEntry(t,{thumbnail:a,
timeStamp:i}),n(a)):n(r.thumbnail),o.state=-2;break;case 12:return void Promise.resolve(e._createThumbnail(t)).then(o.createCallback(14),o.errback);
case 14:s=o.value,o.state=13;break;case 13:s?(e._dbSetThumbnailEntry(t,{thumbnail:s,
timeStamp:i}),n(s)):n(null),o.state=-2;break;default:return o.end()}},this)})},_createThumbnail:function(t){
var e=this;return new Promise(function(n){var r,a,s,o,l,u;return $traceurRuntime.asyncWrap(function(c){
for(;;)switch(c.state){case 0:return void Promise.resolve(e._getRegistry()).then(c.createCallback(3),c.errback);
case 3:r=c.value,c.state=2;break;case 2:c.state=r?15:17;break;case 15:a=r.items.find(function(e){
return e.family===t}),c.state=16;break;case 16:c.state=a?8:12;break;case 8:s=a.urls[400]||a.urls[k(a.urls)[0]],
o=new FontFace("BX "+t,"url("+s+")",{}),c.state=9;break;case 9:return void Promise.resolve(o.load()).then(c.createCallback(5),c.errback);
case 5:return void Promise.resolve(f(20)).then(c.createCallback(7),c.errback);case 7:
document.fonts.add(o),null===e._renderingCanvas&&(e._renderingCanvas=i("canvas"),
e._renderingCanvas.width=300,e._renderingCanvas.height=40),l=e._renderingCanvas.getContext("2d"),
l.clearRect(0,0,300,40),l.font='30px "BX '+t+'"',l.fillStyle="white",l.fillText(t,5,30),
document.fonts["delete"](o),u=e._renderingCanvas.toDataURL("image/png"),n(u),c.state=-2;
break;case 12:n(null),c.state=-2;break;case 17:n(null),c.state=-2;break;default:return c.end();
}},this)})},_getRegistry:function(){var t=this;return new Promise(function(e){var n,r,i,a;
return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:s.state=t._registry?20:1;
break;case 20:e(t._registry),s.state=-2;break;case 1:return void Promise.resolve(t._dbGetRegistry()).then(s.createCallback(3),s.errback);
case 3:n=s.value,s.state=2;break;case 2:r=d(),s.state=19;break;case 19:s.state=n?11:12;
break;case 11:s.state=h(r-n.timeStamp)<30?9:4;break;case 9:e(n),s.state=-2;break;case 4:
return void Promise.resolve(t._createRegistry()).then(s.createCallback(6),s.errback);
case 6:i=s.value,s.state=5;break;case 5:i?(t._dbSetRegistry(i),e(i)):e(n),s.state=-2;
break;case 12:return void Promise.resolve(t._createRegistry()).then(s.createCallback(14),s.errback);
case 14:a=s.value,s.state=13;break;case 13:a?(t._dbSetRegistry(a),e(a)):e(null),s.state=-2;
break;default:return s.end()}},this)})},_createRegistry:function(){return new Promise(function(t){
var n,r,i,a,s,u,c,h,f,v,m,b,g,p,y,_,w,S,k,E,A,T,L,M,j,R,O,P,I,D,N,V;return $traceurRuntime.asyncWrap(function(B){
for(;;)switch(B.state){case 0:i="https://www.googleapis.com/webfonts/v1/webfonts?key="+e,
B.state=28;break;case 28:return void Promise.resolve(l(i+"&sort=alpha")).then(B.createCallback(3),B.errback);
case 3:a=B.value,B.state=2;break;case 2:s=o(a),u={timeStamp:d(),items:[],sortedFamilies:{}
},c=!0,h=!1,f=void 0;try{for(v=void 0,m=s.items[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){
b=v.value,g=[],p={},y=!0,_=!1,w=void 0;try{for(S=void 0,k=C(b.files)[Symbol.iterator]();!(y=(S=k.next()).done);y=!0)E=S.value,
n=E[Symbol.iterator](),A=(r=n.next()).done?void 0:r.value,T=(r=n.next()).done?void 0:r.value,
A=x(A),g.push(A),p[A]=T}catch(U){_=!0,w=U}finally{try{y||null==k["return"]||k["return"]();
}finally{if(_)throw w}}L={family:b.family,category:b.category,subsets:b.subsets,faces:g,
urls:p},u.items.push(L)}}catch(z){h=!0,f=z}finally{try{c||null==m["return"]||m["return"]();
}finally{if(h)throw f}}M=!0,j=!1,R=void 0,B.state=30;break;case 30:B.pushTry(14,15),
B.state=17;break;case 17:O=void 0,P=["popularity","trending","date"][Symbol.iterator](),
B.state=13;break;case 13:B.state=(M=(O=P.next()).done)?11:9;break;case 8:M=!0,B.state=13;
break;case 9:I=O.value,B.state=10;break;case 10:return void Promise.resolve(l(i+"&sort="+I)).then(B.createCallback(6),B.errback);
case 6:D=B.value,B.state=5;break;case 5:N=o(D),u.sortedFamilies[I]=N.items.map(function(t){
return t.family}),B.state=8;break;case 11:B.popTry(),B.state=15,B.finallyFallThrough=19;
break;case 14:B.popTry(),B.maybeUncatchable(),V=B.storedException,B.state=20;break;
case 20:j=!0,R=V,B.state=15,B.finallyFallThrough=19;break;case 15:B.popTry(),B.state=26;
break;case 26:try{M||null==P["return"]||P["return"]()}finally{if(j)throw R}B.state=24;
break;case 19:t(u),B.state=-2;break;case 24:B.state=B.finallyFallThrough;break;default:
return B.end()}},this)})},importFamily:function(t){var e=this;return new Promise(function(n){
var r,a,s,o,l,u,c,d,h,f,v,m,b,g,p,y,x,w,S,C;return $traceurRuntime.asyncWrap(function(k){
for(;;)switch(k.state){case 0:return void Promise.resolve(e._getRegistry()).then(k.createCallback(3),k.errback);
case 3:s=k.value,k.state=2;break;case 2:k.state=s?12:14;break;case 12:o=s.items.find(function(e){
return e.family===t}),k.state=13;break;case 13:k.state=o?4:9;break;case 4:return void Promise.resolve(e._loadFamily(t)).then(k.createCallback(6),k.errback);
case 6:l=k.value,k.state=5;break;case 5:if(l){if(u=[],c=e._rootElement.querySelector("style#bx-google-fonts")){
if(d=c.sheet.rules[0]){h=!0,f=!1,v=void 0;try{for(m=void 0,b=_(d)[Symbol.iterator]();!(h=(m=b.next()).done);h=!0)g=m.value,
r=g[Symbol.iterator](),p=(a=r.next()).done?void 0:a.value,y=(a=r.next()).done?void 0:a.value,
p!==t&&u.push({family:p,faces:y})}catch(E){f=!0,v=E}finally{try{h||null==b["return"]||b["return"]();
}finally{if(f)throw v}}}}else x=i("svg:style"),x.id="bx-google-fonts",w=e._rootElement.querySelector("defs"),
w||(w=i("svg:defs"),e._rootElement.append(w)),w.append(x);u.push({family:o.family,
faces:o.faces}),u.sort(function(t,e){return t.family>e.family}),S=u.map(function(t){
var e=t,n=e.family,r=e.faces;return n.replaceAll(" ","+")+":"+r.join(",")}),C="@import url(https://fonts.googleapis.com/css?family="+S.join("|")+");",
c=e._rootElement.querySelector("style#bx-google-fonts"),c.textContent=C,n(!0)}else n(!1);
k.state=-2;break;case 9:n(!1),k.state=-2;break;case 14:n(!1),k.state=-2;break;default:
return k.end()}},this)})},deportFamily:function(t){var e,n,r=this._rootElement.querySelector("style#bx-google-fonts"),i=r?r.sheet.rules[0]:null;
if(i){var a=[],s=!0,o=!1,l=void 0;try{for(var u=void 0,c=_(i)[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value,h=(e=d[Symbol.iterator](),(n=e.next()).done?void 0:n.value),f=(n=e.next()).done?void 0:n.value;
h!==t&&a.push([h,f])}}catch(v){o=!0,l=v}finally{try{s||null==c["return"]||c["return"]();
}finally{if(o)throw l}}var m=a.map(function(t){var e,n,r=t,i=(e=r[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),a=(n=e.next()).done?void 0:n.value;return i.replaceAll(" ","+")+":"+a.join(",");
});if(m.length>0){var b="@import url(https://fonts.googleapis.com/css?family="+m.join("|")+");";
r.textContent=b}else r.remove()}},deportUnsusedFamilies:function(){var t=this.getImportedFamilies(),e=this.getUsedImportedFamilies(),n=[],r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
e.includes(l)===!1&&n.push(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=n[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.deportFamily(m)}}catch(b){d=!0,h=b}finally{try{c||null==v["return"]||v["return"]();
}finally{if(d)throw h}}},loadImportedFamilies:function(){var t=this;return new Promise(function(e){
var n,r,i,a,s,o,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:n=t.getImportedFamilies(),r=!0,i=!1,a=void 0,c.state=22;break;case 22:c.pushTry(8,9),
c.state=11;break;case 11:s=void 0,o=t.getImportedFamilies()[Symbol.iterator](),c.state=7;
break;case 7:c.state=(r=(s=o.next()).done)?5:3;break;case 2:r=!0,c.state=7;break;case 3:
l=s.value,c.state=4;break;case 4:return void Promise.resolve(t._loadFamily(l)).then(c.createCallback(2),c.errback);
case 5:c.popTry(),c.state=9,c.finallyFallThrough=13;break;case 8:c.popTry(),c.maybeUncatchable(),
u=c.storedException,c.state=14;break;case 14:i=!0,a=u,c.state=9,c.finallyFallThrough=13;
break;case 9:c.popTry(),c.state=20;break;case 20:try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}c.state=18;break;case 13:e(),c.state=-2;break;case 18:c.state=c.finallyFallThrough;
break;default:return c.end()}},this)})},_loadFamily:function(t){var e=this;return new Promise(function(n){
var r,i,a;return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:
return void Promise.resolve(e._getRegistry()).then(s.createCallback(3),s.errback);
case 3:r=s.value,s.state=2;break;case 2:s.state=r?13:15;break;case 13:i=r.items.find(function(e){
return e.family===t}),s.state=14;break;case 14:s.state=i?6:10;break;case 6:a=i.faces.map(function(e){
return new Promise(function(n){var r,a,s,o;return $traceurRuntime.asyncWrap(function(l){
for(;;)switch(l.state){case 0:r=e.substring(0,3),a=e.includes("italic")?"italic":"normal",
s=i.urls[e],o=new FontFace(t,"url("+s+")",{style:a,weight:r}),l.state=4;break;case 4:
return void Promise.resolve(o.load()).then(l.createCallback(2),l.errback);case 2:
document.fonts.add(o),n(),l.state=-2;break;default:return l.end()}},this)})}),s.state=7;
break;case 7:return void Promise.resolve(Promise.all(a)).then(s.createCallback(5),s.errback);
case 5:n(!0),s.state=-2;break;case 10:n(!1),s.state=-2;break;case 15:n(!1),s.state=-2;
break;default:return s.end()}},this)})},replaceTextWithPaths:function(t){var e=this;
return new Promise(function(r){var s,o,l,u,c,d,h,f,m,b,g,p,_,x,S,C,k,A,T,L,M,j,R,O,P,I,D,N,V,B,U,z,G,H,F,q,$,W,Y,X,Z,K,J,Q,tt,et,nt,rt,it,at,st;
return $traceurRuntime.asyncWrap(function(ot){for(;;)switch(ot.state){case 0:l=a(t.transform.baseVal.consolidate().matrix),
u=document.createDocumentFragment(),c=t.firstElementChild&&"textPath"===t.firstElementChild.localName?$traceurRuntime.spread(t.firstElementChild.children):$traceurRuntime.spread(t.children),
d=!0,h=!1,f=void 0,ot.state=34;break;case 34:ot.pushTry(20,21),ot.state=23;break;case 23:
m=void 0,b=c[Symbol.iterator](),ot.state=19;break;case 19:ot.state=(d=(m=b.next()).done)?17:15;
break;case 9:d=!0,ot.state=19;break;case 15:g=m.value,ot.state=16;break;case 16:p=g.textContent.split(""),
_=E(g),x=_.fontFamily.replaceAll("'",""),S=w(_.fontSize),C=y(_.fontWeight),k=_.fontStyle,
A=_.textDecoration,ot.state=12;break;case 12:return void Promise.resolve(e._getGlyphs(p,x,S,C,k,A)).then(ot.createCallback(3),ot.errback);
case 3:T=ot.value,ot.state=2;break;case 2:L=[],ot.state=14;break;case 14:ot.state=T?8:6;
break;case 8:for(M=0;M<T.length;M+=1)j=T[M],j.length>0&&(R=g.getStartPositionOfChar(M),
O=g.getRotationOfChar(M),P=a(),P.translateSelf(R.x,R.y),P.rotateSelf(O),I=i("svg:path"),
I.setPathData(j),I.setAttribute("transform",P.toString()),v(I),L.push(I));if(L.length>0){
D=L,s=D[Symbol.iterator](),N=(o=s.next()).done?void 0:o.value,V=$traceurRuntime.iteratorToArray(s),
B=N.getAttribute("d"),U=!0,z=!1,G=void 0;try{for(H=void 0,F=V[Symbol.iterator]();!(U=(H=F.next()).done);U=!0)q=H.value,
B+=q.getAttribute("d")}catch(lt){z=!0,G=lt}finally{try{U||null==F["return"]||F["return"]();
}finally{if(z)throw G}}$=i("svg:path"),$.setAttribute("d",B),$.setAttribute("transform",l.toString()),
W=!0,Y=!1,X=void 0;try{for(Z=void 0,K=t.style[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0)J=Z.value,
n.includes(J)===!1&&$.style.setProperty(J,t.style.getPropertyValue(J))}catch(ut){
Y=!0,X=ut}finally{try{W||null==K["return"]||K["return"]()}finally{if(Y)throw X}}Q=!0,
tt=!1,et=void 0;try{for(nt=void 0,rt=g.style[Symbol.iterator]();!(Q=(nt=rt.next()).done);Q=!0)it=nt.value,
n.includes(it)===!1&&$.style.setProperty(it,g.style.getPropertyValue(it))}catch(ct){
tt=!0,et=ct}finally{try{Q||null==rt["return"]||rt["return"]()}finally{if(tt)throw et;
}}u.append($)}ot.state=9;break;case 6:u=null,ot.state=17;break;case 17:ot.popTry(),
ot.state=21,ot.finallyFallThrough=25;break;case 20:ot.popTry(),ot.maybeUncatchable(),
st=ot.storedException,ot.state=26;break;case 26:h=!0,f=st,ot.state=21,ot.finallyFallThrough=25;
break;case 21:ot.popTry(),ot.state=32;break;case 32:try{d||null==b["return"]||b["return"]();
}finally{if(h)throw f}ot.state=30;break;case 25:u?(at=$traceurRuntime.spread(u.children),
t.replace(u),r(at)):r(null),ot.state=-2;break;case 30:ot.state=ot.finallyFallThrough;
break;default:return ot.end()}},this)})},canReplaceTextWithPaths:function(t){var e=this;
return new Promise(function(n){var r,i,a,s,o,l,u,c,d,h;return $traceurRuntime.asyncWrap(function(f){
for(;;)switch(f.state){case 0:return void Promise.resolve(e._getRegistry()).then(f.createCallback(3),f.errback);
case 3:r=f.value,f.state=2;break;case 2:f.state=r?31:35;break;case 31:i=!0,a=!0,s=!1,
o=void 0,f.state=32;break;case 32:f.pushTry(18,19),f.state=21;break;case 21:l=function(){
var t=c.value,e=E(t).fontFamily.replaceAll("'",""),n=r.items.find(function(t){return t.family===e;
});return n?void 0:(i=!1,0)},f.state=17;break;case 17:c=void 0,d=t.children[Symbol.iterator](),
f.state=15;break;case 15:f.state=(a=(c=d.next()).done)?6:11;break;case 5:a=!0,f.state=15;
break;case 11:u=l(),f.state=12;break;case 12:switch(u){default:f.state=5;break;case 0:
f.state=6}break;case 6:f.popTry(),f.state=19,f.finallyFallThrough=23;break;case 18:
f.popTry(),f.maybeUncatchable(),h=f.storedException,f.state=24;break;case 24:s=!0,
o=h,f.state=19,f.finallyFallThrough=23;break;case 19:f.popTry(),f.state=30;break;case 30:
try{a||null==d["return"]||d["return"]()}finally{if(s)throw o}f.state=28;break;case 23:
n(i),f.state=-2;break;case 35:n(!1),f.state=-2;break;case 28:f.state=f.finallyFallThrough;
break;default:return f.end()}},this)})},_getGlyphs:function(t,e,n,r,i,a){var s=this;
return new Promise(function(o){var l,c,d,h,f,v,m,y,_,x,w,S,C,k,E,A;return $traceurRuntime.asyncWrap(function(T){
for(;;)switch(T.state){case 0:return void Promise.resolve(s._getRegistry()).then(T.createCallback(3),T.errback);
case 3:l=T.value,T.state=2;break;case 2:T.state=l?14:16;break;case 14:c=l.items.find(function(t){
return t.family===e}),T.state=15;break;case 15:T.state=c?7:11;break;case 7:d=p(c.faces,r,i),
T.state=8;break;case 8:return void Promise.resolve(b(c.urls[d])).then(T.createCallback(6),T.errback);
case 6:h=T.value,T.state=5;break;case 5:if(null===h)o(null);else{f=[],v=("italic"===i||"oblique"===i)&&!d.includes("italic"),
m=!0,y=!1,_=void 0;try{for(x=void 0,w=t[Symbol.iterator]();!(m=(x=w.next()).done);m=!0)S=x.value,
C=h.charToGlyph(S),k=g(C,h,n,a,v),E=k.toPathData(),A=u(E),f.push(A)}catch(L){y=!0,
_=L}finally{try{m||null==w["return"]||w["return"]()}finally{if(y)throw _}}o(f)}T.state=-2;
break;case 11:o(null),T.state=-2;break;case 16:o(null),T.state=-2;break;default:return T.end();
}},this)})},_dbOpen:function(){return new Promise(function(t,e){var n=indexedDB.open("google-fonts-manager",1);
n.addEventListener("upgradeneeded",function(t){var e=t.target.result;t.oldVersion<1&&(e.createObjectStore("registry",{
autoIncrement:!0}),e.createObjectStore("thumbnails",{autoIncrement:!0}))}),n.addEventListener("success",function(e){
return t(e.target.result)}),n.addEventListener("error",function(t){return e("Failed to open IndexedDB database");
})})},_dbPromiseOpen:function(){var t=this;return new Promise(function(e){t._database?e():t._dbOpen().then(function(n){
t._database=n,e()})})},_dbGetRegistry:function(){var t=this;return new Promise(function(e,n){
var r,i;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){case 0:
return void Promise.resolve(t._dbPromiseOpen()).then(a.createCallback(2),a.errback);
case 2:r=t._database.transaction(["registry"],"readonly").objectStore("registry"),
i=r.get("registry"),i.onsuccess=function(t){return e(t.target.result)},i.onerror=function(t){
return n("Failed to get registry from IndexedDB")},a.state=-2;break;default:return a.end();
}},this)})},_dbSetRegistry:function(t){var e=this;return new Promise(function(n,r){
var i,a;return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:
return void Promise.resolve(e._dbPromiseOpen()).then(s.createCallback(2),s.errback);
case 2:i=e._database.transaction(["registry"],"readwrite").objectStore("registry"),
a=i.put(t,"registry"),a.addEventListener("success",function(t){return n()}),a.addEventListener("error",function(t){
return r("Failed to store registry in IndexedDB database")}),s.state=-2;break;default:
return s.end()}},this)})},_dbGetThumbnailEntry:function(t){var e=this;return new Promise(function(n,r){
var i,a,s;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:
return void Promise.resolve(e._dbPromiseOpen()).then(o.createCallback(2),o.errback);
case 2:i=e._database.transaction(["thumbnails"],"readonly"),a=i.objectStore("thumbnails"),
s=a.get(t),s.addEventListener("success",function(t){return n(t.target.result)}),s.addEventListener("error",function(t){
return r("Failed to get thumbnail")}),o.state=-2;break;default:return o.end()}},this);
})},_dbSetThumbnailEntry:function(t,e){var n=this;return new Promise(function(r,i){
var a,s,o;return $traceurRuntime.asyncWrap(function(l){for(;;)switch(l.state){case 0:
return void Promise.resolve(n._dbPromiseOpen()).then(l.createCallback(2),l.errback);
case 2:a=n._database.transaction(["thumbnails"],"readwrite"),s=a.objectStore("thumbnails"),
o=s.put(e,t),o.addEventListener("success",function(t){return r()}),o.addEventListener("error",function(t){
return i("Failed to store thumbnail in IndexedDB database")}),l.state=-2;break;default:
return l.end()}},this)})}},{})}(),L=T;return{get default(){return L}}}),System.registerModule("classes/shortcut",[],function(){
"use strict";var t=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),e=function(){
function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.ctrl=!1,
this.alt=!1,this.meta=!1,this.shift=!1,this.base=null;var n=!0,r=!1,i=void 0;try{
for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"Control"===o?this.ctrl=!0:"Alt"===o?this.alt=!0:"Meta"===o?this.meta=!0:"Shift"===o?this.shift=!0:this.base=o;
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}}return $traceurRuntime.createClass(e,{matches:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];
var n=!1,r=!1,i=!1,a=!1,s=null,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;"Control"===h?n=!0:"Alt"===h?r=!0:"Meta"===h?i=!0:"Shift"===h?a=!0:s=h;
}}catch(f){l=!0,u=f}finally{try{o||null==d["return"]||d["return"]()}finally{if(l)throw u;
}}return n===this.ctrl&&r===this.alt&&i===this.meta&&a===this.shift&&s===this.base;
},includes:function(t){return"Control"===t?this.ctrl:"Alt"===t?this.alt:"Meta"===t?this.meta:"Shift"===t?this.shift:this.base===t;
},compare:function(t){return this.ctrl===t.ctrl&&this.alt===t.alt&&this.meta===t.meta&&this.shift===t.shift&&this.base===t.base;
},isVoid:function(){return this.ctrl===!1&&this.alt===!1&&this.meta===!1&&this.shift===!1&&null===this.base;
},toDisplayString:function(){var e="";if(t){this.meta&&(e+="^"),this.alt&&(e+=""),
this.shift&&(e+=""),this.ctrl&&(e+="");var n={ArrowUp:"",ArrowDown:"",ArrowLeft:"",
ArrowRight:"",Backspace:""};null!==this.base&&(e+=n[this.base]||this.base)}else{
var r=[];this.ctrl&&r.push("Ctrl"),this.alt&&r.push("Alt"),this.meta&&r.push("Meta"),
this.shift&&r.push("Shift");var i={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",
ArrowRight:"Right"};null!==this.base&&r.push(i[this.base]||this.base),e=r.join("+");
}return e},toAccelerator:function(){var t=[];return this.ctrl&&t.push("CmdOrCtrl"),
this.alt&&t.push("Alt"),this.shift&&t.push("Shift"),this.meta,null!==this.base&&("ArrowUp"===this.base?t.push("Up"):"ArrowDown"===this.base?t.push("Down"):"ArrowLeft"===this.base?t.push("Left"):"ArrowRight"===this.base?t.push("Right"):t.push(this.base)),
t.join("+")},toJSON:function(){return this.toString()},toString:function(){var t=[];
return this.ctrl&&t.push("Control"),this.alt&&t.push("Alt"),this.meta&&t.push("Meta"),
this.shift&&t.push("Shift"),null!==this.base&&t.push(this.base),t.join("+")}},{fromEvent:function(n){
var r=new e;r.ctrl=t?n.metaKey:n.ctrlKey,r.alt=n.altKey,r.meta=t?n.ctrlKey:n.metaKey,
r.shift=n.shiftKey;var i=null,a=n.keyIdentifier,s={"U+00C0":"U+0060","U+00BD":"U+002D",
"U+00BB":"U+003D","U+00DB":"U+005B","U+00DD":"U+005D","U+00DC":"U+005C","U+00BA":"U+003B",
"U+00DE":"U+0027","U+00BC":"U+002C","U+00BE":"U+002E","U+00BF":"U+002F",Win:"Meta",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown"};for(var o in s)if(a===o){
var l=s[o];a=l}if("U"===a[0]&&"+"===a[1]){var u=parseInt(a.substring(2),16);27===u?i="Escape":8===u?i="Backspace":(i=String.fromCharCode(u),
"	"===i?i="Tab":" "===i?i="Space":n.shiftKey===!1&&(i=i.toLowerCase()))}else i=a;return i&&"Control"!==i&&"Alt"!==i&&"Shift"!==i&&"Meta"!==i?1===i.length?r.base=i.toUpperCase():r.base=i:r.base=null,
r},fromAccelerator:function(t){var n=t.split("+"),r=[],i=!0,a=!1,s=void 0;try{for(var o=void 0,l=n[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;"CmdOrCtrl"===u||"CommandOrControl"===u?r.push("Control"):"Up"===u?r.push("ArrowUp"):"Down"===u?r.push("ArrowDown"):"Left"===u?r.push("ArrowLeft"):"Right"===u?r.push("ArrowRight"):""!==u&&r.push(u);
}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}var d=new(Function.prototype.bind.apply(e,$traceurRuntime.spread([null],r)));return d;
},fromString:function(t){return new(Function.prototype.bind.apply(e,$traceurRuntime.spread([null],t.split("+").filter(function(t){
return""!==t}))))}})}(),n=e;return{get default(){return n}}}),System.registerModule("classes/string-scanner",[],function(){
"use strict";var t=function(){function t(t){this.text=t,this.counter=0,this.storedPosition=0;
}return $traceurRuntime.createClass(t,{read:function(){for(var t=void 0!==arguments[0]?arguments[0]:1,e="",n=this.counter,r=0;t>r;r+=1){
var i=this.text[n+r];if(void 0===i)break;e+=i,this.counter+=1}return""===e?null:e;
},peek:function(){for(var t=void 0!==arguments[0]?arguments[0]:1,e="",n=0;t>n;n+=1){
var r=this.text[this.counter+n];if(void 0===r)break;e+=r}return""===e?null:e},storePosition:function(){
this.storedPosition=this.counter},restorePosition:function(){this.counter=this.storedPosition;
}},{})}(),e=t;return{get default(){return e}}}),System.registerModule("classes/undo-manager",[],function(){
"use strict";var t={label:"Sample label",icon:"stub",undo:function(){},redo:function(){}
},e=function(){function e(){this._entries=[],this._position=0}return $traceurRuntime.createClass(e,{
get undoLabel(){if(this.canUndo()){var t=this._entries[this._position-1];if(t[0]&&t[0].label)return"Undo: "+t[0].label;
}return"Undo"},set undoLabel(t){throw new Error("undoLabel property is read-only");
},get redoLabel(){if(this.canRedo()){var t=this._entries[this._position];if(t[0]&&t[0].label)return"Redo: "+t[0].label;
}return"Redo"},set redoLabel(t){throw new Error("redoLabel property is read-only");
},register:function(e){e.__proto__=t,this._position<this._entries.length&&(this._entries=this._entries.slice(0,this._position));
var n=[];this._entries.push(n),this._position+=1,n.push(e)},undo:function(){if(this.canUndo()){
var t=this._entries[this._position-1],e=$traceurRuntime.spread(t).reverse(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
o.undo()}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{
if(r)throw i}}this._position-=1}},redo:function(){if(this.canRedo()){var t=this._entries[this._position],e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;
s.redo()}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{
if(n)throw r}}this._position+=1}},reset:function(){this._entries=[],this._position=0;
},canUndo:function(){return 0===this._position?!1:!0},canRedo:function(){return this._position===this._entries.length?!1:!0;
}},{})}(),n=e;return{get default(){return n}}}),System.registerModule("classes/vector",[],function(){
"use strict";var t=System.get("utils/dom").createSVGPoint,e=System.get("utils/type").isNumber,n=Math.sqrt,r="Invalid argument passed to Vector contstructor",i=function(){
function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)this.x=0,
this.y=0;else if(1===t.length){if(!e(t[0].x)||!e(t[0].y))throw new Error(r);this.x=t[0].x,
this.y=t[0].y}else{if(2!==t.length)throw new Error(r);if(e(t[0])&&e(t[1]))this.x=t[0],
this.y=t[1];else{if(!(t[0]instanceof SVGPoint&&t[1]instanceof SVGPoint))throw new Error(r);
var i=t[0],a=t[1];this.x=a.x-i.x,this.y=a.y-i.y}}}return $traceurRuntime.createClass(i,{
get length(){return n(this.x*this.x+this.y*this.y)},set length(t){0!==this.length&&(t/=this.length,
this.x=this.x*t,this.y=this.y*t)},getNormalVector:function(){return new i(-this.y,this.x);
},getOppositeVector:function(){return new i(-this.x,-this.y)},negate:function(){var t=this.multiply(-1);
return t},multiply:function(t){return new i(this.x*t,this.y*t)},multiplySelf:function(t){
return this.x=this.x*t,this.y=this.y*t,this},divide:function(t){return new i(this.x/t,this.y/t);
},divideSelf:function(t){return this.x=this.x/t,this.y=this.y/t,this},normalize:function(){
return 0===this.length?new i(this):new i(this.x/this.length,this.y/this.length)},
scale:function(t){return 0===this.length?new i(this):(t/=this.length,new i(this.x*t,this.y*t));
},transformPoint:function(e){return t(e.x+this.x,e.y+this.y)},toString:function(){
return"("+this.x+", "+this.y+")"}},{})}(),a=i;return{get default(){return a}}}),System.registerModule("elements/bx-aboutbody",[],function(){
"use strict";var t=System.get("elements/bx-body")["default"],e=System.get("utils/dom").registerElement,n='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-aboutbody.css");</style>\n\n  <main>\n    <div id="titlebar" hidden></div>\n    <img id="logo" src="images/logo.svg"></img>\n\n    <div id="headings">\n      <h1 id="app-name">Boxy SVG</h1>\n      <h2 id="version"></h2>\n    </div>\n\n    <div id="scroll">\n      <h3>Authors</h3>\n      <ul>\n        <li><a href="http://foksa.name/">Jarosaw Foksa</a></li>\n      </ul>\n\n      <h3>Libraries</h3>\n      <ul id="libraries">\n        <li><a href="http://electron.atom.io/">Electron</a></li>\n        <li><a href="https://nodejs.org/">Node.js</a></li>\n        <li><a href="http://opentype.js.org/">Opentype.js</a></li>\n        <li><a href="ttp://nodeca.github.io/pako/">Pako</a></li>\n        <li><a href="http://paperjs.org/">Paper.js</a></li>\n        <li><a href="https://github.com/google/traceur-compiler">Traceur</a></li>\n      </ul>\n\n      <h3>Snippets</h3>\n      <dl>\n        <dt><a href="https://github.com/DmitryBaranovskiy">Dmitry Baranovskiy</a></dt>\n        <dd><a href="http://raphaeljs.com/">Arc to cubic curve conversion</a></dd>\n\n        <dt><a href="http://bost.ocks.org/mike/">Mike Bostock</a></dt>\n        <dd><a href="https://gist.github.com/mbostock/8027637">Closest point on path</a></dd>\n\n        <dt><a href="http://xn--dahlstrm-t4a.net/">Erik Dahlstrm</a></dt>\n        <dd><a href="http://xn--dahlstrm-t4a.net/svg/path/donut-shop.html">Ring shape</a></dd>\n\n        <dt><a href="http://ariya.blogspot.com/">Ariya Hidayat</a></dt>\n        <dd>HSVHSL conversion</dd>\n\n        <dt><a href="http://mjijackson.com/">Michael Jackson</a></dt>\n        <dd><a href="https://github.com/mjackson/mjijackson.github.com/blob/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.txt">HSVRGBHSL conversion</a></dd>\n\n        <dt><a href="http://tmotooka.hatenablog.jp/">Tadahisa Motooka</a></dt>\n        <dd><a href="https://github.com/motooka/SVGPathNormalizer">Path normalization</a></dd>\n\n        <dt><a href="https://github.com/kennethormandy">Kenneth Ormandy</a></dt>\n        <dd><a href="https://github.com/kennethormandy/normalize-opentype.css">OpenType normalization</a></dd>\n\n        <dt><a href="https://github.com/progers">Philip Rogers</a></dt>\n        <dd><a href="https://github.com/progers/pathseg">Path parser</a></dd>\n\n        <dt><a href="http://svg-whiz.com/">Doug Schepers</a></dt>\n        <dd><a href="http://svg-whiz.com/experiments.html">Star shape</a></dd>\n\n        <dt>Philip J. Schneider</dt>\n        <dd>Bezier curve fitting</dd>\n\n        <dt><a href="https://github.com/johan">Johan Sundstrm</a></dt>\n        <dd>Path normalization</dd>\n      </dl>\n    </div>\n\n    <h2 id="copyright"> '+(new Date).getFullYear()+" Jarosaw Foksa</h2>\n  </main>\n",r=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;$traceurRuntime.superGet(this,e.prototype,"createdCallback").call(this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=n;
var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}this.bridge.postMessage("getAppVersion",null,function(e){return t["#version"].textContent="Version "+e;
}),this.bridge.postMessage("getAppName",null,function(e){return t["#app-name"].textContent=e;
}),this.bridge.postMessage("getBackendName",null,function(e){return t["#titlebar"].hidden="electron"!==e;
}),this._shadowRoot.addEventListener("click",function(e){return t._onShadowRootClick(e);
})},_onShadowRootClick:function(t){"a"===t.target.localName&&t.target.href&&(t.preventDefault(),
this.bridge.postMessage("openExternalURL",t.target.href))}},{},t)}(t),i=e("body","bx-aboutbody",r);
return{get default(){return i}}}),System.registerModule("elements/bx-alignmentselect",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e='\n  <style>\n    @import url("stylesheets/bx-alignmentselect.css");\n  </style>\n\n  <main>\n    <svg viewBox="10 10 280 280">\n      <rect id="outline" x="50" y="50" width="200" height="200"></rect>\n\n      <g id="buttons">\n        <g class="button" data-value="xMinYMin" transform="translate(0, 0)">\n          <title>Blah</title>\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMin" transform="translate(100, 0)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMin" transform="translate(200, 0)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMinYMid" transform="translate(0, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMid" transform="translate(100, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMid" transform="translate(200, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMinYMax" transform="translate(0, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMax" transform="translate(100, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMax" transform="translate(200, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n      </g>\n    </svg>\n  </main>\n',n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=e;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#buttons"].addEventListener("click",function(e){
return t._onButtonsClick(e)})},attributeChangedCallback:function(t){"value"===t&&this._onValueAttributeChange();
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},get value(){return this.getAttribute("value")},set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);
},_onValueAttributeChange:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#buttons"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.getAttribute("data-value")===this.value?a.setAttribute("pressed",""):a.removeAttribute("pressed");
}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_onButtonsClick:function(t){var e=t.target.closest(".button");this.value=e.getAttribute("data-value"),
this.dispatchEvent(new CustomEvent("change"))}},{},t)}(HTMLElement),r=t("bx-alignmentselect",n);
return{get default(){return r}}}),System.registerModule("elements/bx-alphaslider",[],function(){
"use strict";var t=System.get("utils/color").parseColor,e=System.get("utils/dom").registerElement,n=System.get("utils/math").normalize,r=Number.parseFloat,i=!1,a='\n  <style>@import url("stylesheets/bx-alphaslider.css");</style>\n\n  <main>\n    <canvas id="canvas"></canvas>\n    <div id="marker"></div>\n  </main>\n',s=function(e){
function s(){$traceurRuntime.superConstructor(s).apply(this,arguments)}return $traceurRuntime.createClass(s,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a;var e=!0,n=!1,r=void 0;try{for(var i=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("mousedown",function(e){
return t._onMouseDown(e)})},attributeChangedCallback:function(t){"alpha"===t?this._onAlphaAttributeChange():"color"===t&&this._onColorAttributeChange();
},get alpha(){return this.hasAttribute("alpha")?r(this.getAttribute("alpha")):1},
set alpha(t){this.setAttribute("alpha",t)},get color(){return this.hasAttribute("color")?this.getAttribute("color"):"#ffffff";
},set color(t){this.setAttribute("color",t)},get disabled(){return this.hasAttribute("disabled");
},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onAlphaAttributeChange:function(){var t=n(this.alpha,0,1,2);this["#marker"].style.left=100*t+"%";
},_onColorAttributeChange:function(){var e=this["#canvas"].width=800,n=this["#canvas"].height=100,r=this["#canvas"].getContext("2d");
if(r.clearRect(0,0,e,n),null!==this.color){var i=t(this.color),a=i.clone();a.a=0;var s=i.clone();
s.a=1;var o=r.createLinearGradient(0,0,e,0);o.addColorStop(0,a.toString()),o.addColorStop(1,s.toString()),
r.fillStyle=o,r.fillRect(0,0,e,n)}},_onMouseDown:function(t){var e=this;this.dispatchEvent(new CustomEvent("markerdragstart"));
var n,r,i,a=this["#canvas"].getBoundingClientRect().left;this._onMarkerDrag(t.clientX-a),
window.addEventListener("mousemove",n=function(t){t.clientX!==i&&(i=t.clientX,e._onMarkerDrag(t.clientX-a));
}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),e.dispatchEvent(new CustomEvent("markerdragend"));
})},_onMarkerDrag:function(e){var r=n(e/this["#canvas"].clientWidth,0,1,2);if(this.alpha!==r&&(this.alpha=r,
this.dispatchEvent(new CustomEvent("markerdrag",{detail:this.alpha})),i)){var a=t(this.color);
a.a=r,console.log("%c     ","background: "+a,"alpha = "+r)}}},{},e)}(HTMLElement),o=e("bx-alphaslider",s);
return{get default(){return o}}}),System.registerModule("elements/bx-arrangementcontrols",[],function(){
"use strict";System.get("elements/bx-button"),System.get("elements/bx-checkbox"),
System.get("elements/bx-select");var t=System.get("utils/bbox").getClientBBox,e=System.get("utils/rect").getBiggestRect,n=System.get("utils/dom"),r=n.registerElement,i=n.createSVGMatrix,a=n.createSVGRect,s=System.get("utils/rect"),o=s.combineRects,l=s.transformRect,u=System.get("utils/time").throttle,c='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-arrangementcontrols.css");\n  </style>\n\n  <section id="align">\n    <h2 id="align-section-header">Align</h2>\n\n    <bx-select id="align-to-select" value="first-selected">\n      <bx-selectitem value="first-selected" label="To first selected"></bx-selectitem>\n      <bx-selectitem value="last-selected" label="To last selected"></bx-selectitem>\n      <bx-selectitem value="biggest-selected" label="To biggest selected"></bx-selectitem>\n      <bx-selectitem value="view-box" label="To view box"></bx-selectitem>\n    </bx-select>\n\n    <bx-checkbox\n      id="align-individually-checkbox"\n      label="Align each element individually">\n    </bx-checkbox>\n\n    <div id="align-buttons">\n      <div id="align-inside-buttons">\n        <div class="column">\n          <bx-button\n            id="move-left-button"\n            tooltip="Align Left"\n            icon="move-left"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n        </div>\n\n        <div class="column">\n          <bx-button\n            id="move-top-button"\n            tooltip="Align Top"\n            icon="move-top"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="move-bottom-button"\n            tooltip="Align Bottom"\n            icon="move-bottom"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n        </div>\n\n        <div class="column">\n          <bx-button\n            id="move-right-button"\n            tooltip="Align Right"\n            icon="move-right"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="center-buttons">\n        <bx-button\n          id="center-horizontally-button"\n          tooltip="Center Horizontally"\n          icon="center-horizontally"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="center-vertically-button"\n          tooltip="Center Vertically"\n          icon="center-vertically"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n\n      <div id="stretch-buttons">\n        <bx-button\n          id="stretch-horizontally-button"\n          tooltip="Stretch horizontally (align left and right)"\n          icon="stretch-horizontally"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="stretch-vertically-button"\n          tooltip="Stretch vertically (align left and right)"\n          icon="stretch-vertically"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </div>\n  </section>\n\n  <section id="transform-section">\n    <h2 id="transform-section-header">Transform</h2>\n\n    <div id="transform-section-buttons" class="buttons-row">\n      <bx-button\n        id="rotate-counterclockwise-button"\n        icon="rotate-counterclockwise"\n        iconsize="30"\n        title="Rotate element(s) counter-clockwise by 90"\n        skin="iconic"\n        label="Rotate by -90">\n      </bx-button>\n\n      <bx-button\n        id="rotate-clockwise-button"\n        icon="rotate-clockwise"\n        iconsize="30"\n        title="Rotate element(s) clockwise by 90"\n        skin="iconic"\n        label="Rotate by +90">\n      </bx-button>\n\n      <bx-button\n        id="flip-x-button"\n        icon="flip-x"\n        iconsize="30"\n        title="Flip X"\n        skin="iconic"\n        label="Flip X">\n      </bx-button>\n\n      <bx-button\n        id="flip-y-button"\n        icon="flip-y"\n        iconsize="30"\n        title="Flip Y"\n        skin="iconic"\n        label="Flip Y">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="order-section">\n    <h2 id="order-section-header">Z-order</h2>\n\n    <div id="order-section-buttons" class="buttons-row">\n      <bx-button\n        id="raise-button"\n        icon="raise"\n        iconsize="30"\n        title="Raise Selection"\n        skin="iconic"\n        label="Raise">\n      </bx-button>\n\n      <bx-button\n        id="lower-button"\n        icon="lower"\n        iconsize="30"\n        title="Lower Selection"\n        skin="iconic"\n        label="Lower">\n      </bx-button>\n\n      <bx-button\n        id="raise-to-front-button"\n        icon="raise-to-front"\n        iconsize="30"\n        title="Raise Selection to Front"\n        skin="iconic"\n        label="Raise to Front">\n      </bx-button>\n\n      <bx-button\n        id="lower-to-back-button"\n        icon="lower-to-bottom"\n        iconsize="30"\n        title="Lower Selection to Bottom"\n        skin="iconic"\n        label="Lower to Bottom">\n      </bx-button>\n    </div>\n  </section>\n',d=function(n){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var t=this;this._updateWidgets250Th=u(this._updateWidgets,250,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=c;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
l||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#align-buttons"].addEventListener("click",function(e){
return t._onAlignButtonsClick(e)}),this["#align-to-select"].addEventListener("change",function(){
return t._onAlignToSelectChange()}),this["#align-individually-checkbox"].addEventListener("change",function(){
return t._onAlignIndividuallyCheckboxChange()}),this["#lower-button"].addEventListener("click",function(e){
return t._onLowerButtonClick(e)}),this["#raise-button"].addEventListener("click",function(e){
return t._onRaiseButtonClick(e)}),this["#lower-to-back-button"].addEventListener("click",function(e){
return t._onLowerToBackButtonClick(e)}),this["#raise-to-front-button"].addEventListener("click",function(e){
return t._onRaiseToFrontButtonClick(e)}),this["#rotate-counterclockwise-button"].addEventListener("click",function(){
return t._onRotateByMinus90DegButtonClick()}),this["#rotate-clockwise-button"].addEventListener("click",function(){
return t._onRotateByPlus90DegButtonClick()}),this["#flip-x-button"].addEventListener("click",function(e){
return t._onFlipXButtonClick(e)}),this["#flip-y-button"].addEventListener("click",function(e){
return t._onFlipYButtonClick(e)}),body.getConfig("bx-arrangementcontrols:relativeTo").then(function(e){
null!==e&&(t["#align-to-select"].value=e)}),body.getConfig("bx-arrangmentControls:alignIndividually").then(function(e){
(e===!0||e===!1)&&(t["#align-individually-checkbox"].checked=e)})},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._updateWidgets(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._updateWidgets250Th()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
t._updateWidgets250Th()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onAlignToSelectChange:function(){this._updateAlignSection(),body.setConfig("bx-arrangementcontrols:relativeTo",this["#align-to-select"].value);
},_onAlignIndividuallyCheckboxChange:function(){body.setConfig("bx-arrangmentControls:alignIndividually",this["#align-individually-checkbox"].checked);
},_onAlignButtonsClick:function(t){"bx-button"===t.target.localName&&this._onAlignButtonClick(t.target);
},_onAlignButtonClick:function(n){body.canvas.undoManager.checkpoint("Align");var r=this["#align-to-select"].value,i=this["#align-individually-checkbox"].checked,s=n.id.split("-button")[0];
if("view-box"===r){var o=body.canvas.currentArtboard.getScreenCTM(),u=a(body.canvas.currentArtboard.viewBox),c=l(u,o);
this._alignElementsToBBox(body.canvas.selectedElements,c,s,i)}else if("first-selected"===r){
var d=body.canvas.selectedElements[0],h=body.canvas.selectedElements.slice(1),f=t(d);
this._alignElementsToBBox(h,f,s,i)}else if("last-selected"===r){var v=body.canvas.selectedElements[body.canvas.selectedElements.length-1],m=body.canvas.selectedElements.slice(0,body.canvas.selectedElements.length-1),b=t(v);
this._alignElementsToBBox(m,b,s,i)}else if("biggest-selected"===r){var g=$traceurRuntime.spread(body.canvas.selectedElements),p=g.map(function(e){
return t(e)}),y=e(p),_=g[p.indexOf(y)],x=g.filter(function(t){return t!==_}),w=t(_);
this._alignElementsToBBox(x,w,s,i)}},_alignElementsToBBox:function(e,n,r){var a=void 0!==arguments[3]?arguments[3]:!0;
if(a===!0){var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,f=i(h.transform.baseVal.consolidate().matrix),v=h.getScreenCTM(),m=v.inverse(),b=t(h),g=0,p=0,y=1,_=1;
"move-left"===r?g=n.x-b.x:"move-right"===r?g=n.x+n.width-(b.x+b.width):"move-top"===r?p=n.y-b.y:"move-bottom"===r?p=n.y+n.height-(b.y+b.height):"center-horizontally"===r?g=n.x-b.x+n.width/2-b.width/2:"center-vertically"===r?p=n.y-b.y+n.height/2-b.height/2:"stretch-horizontally"===r?(y=n.width/b.width,
g=n.x-b.x*y):"stretch-vertically"===r&&(_=n.height/b.height,p=n.y-b.y*_);var x=f.multiply(m);
x.translateSelf(g,p),x.scaleNonUniformSelf(y,_),x.multiplySelf(v),h.setAttribute("transform",x.toString());
}}catch(w){l=!0,u=w}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u;
}}}else if(a===!1){var S=function(){var n=0,r=[],i=!0,a=!1,s=void 0;try{for(var o=void 0,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r[n++]=t(u)}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}return r}(),C=o(S),k=0,E=0,A=1,T=1;"move-left"===r?k=n.x-C.x:"move-right"===r?k=n.x+n.width-(C.x+C.width):"move-top"===r?E=n.y-C.y:"move-bottom"===r?E=n.y+n.height-(C.y+C.height):"center-horizontally"===r?k=n.x-C.x+n.width/2-C.width/2:"center-vertically"===r?E=n.y-C.y+n.height/2-C.height/2:"stretch-horizontally"===r?(A=n.width/C.width,
k=n.x-C.x*A):"stretch-vertically"===r&&(T=n.height/C.height,E=n.y-C.y*T);var L=!0,M=!1,j=void 0;
try{for(var R=void 0,O=e[Symbol.iterator]();!(L=(R=O.next()).done);L=!0){var P=R.value,I=i(P.transform.baseVal.consolidate().matrix),D=P.getScreenCTM(),N=D.inverse(),V=I.multiply(N);
V.translateSelf(k,E),V.scaleNonUniformSelf(A,T),V.multiplySelf(D),P.setAttribute("transform",V.toString());
}}catch(B){M=!0,j=B}finally{try{L||null==O["return"]||O["return"]()}finally{if(M)throw j;
}}}},_onRaiseButtonClick:function(){0===event.button&&body.commands.raise.exec()},
_onLowerButtonClick:function(){0===event.button&&body.commands.lower.exec()},_onRaiseToFrontButtonClick:function(){
0===event.button&&body.commands.raiseToFront.exec()},_onLowerToBackButtonClick:function(){
0===event.button&&body.commands.lowerToBack.exec()},_onRotateByMinus90DegButtonClick:function(){
0===event.button&&body.commands.rotateCounterclockwise.exec()},_onRotateByPlus90DegButtonClick:function(){
0===event.button&&body.commands.rotateClockwise.exec()},_onFlipXButtonClick:function(t){
0===t.button&&body.commands.flipX.exec()},_onFlipYButtonClick:function(t){0===t.button&&body.commands.flipY.exec();
},_updateWidgets:function(){this._updateAlignSection(),this._updateOrderSection(),
this._updateTransformSection()},_updateAlignSection:function(){if(0===body.canvas.selectedElements.length)this["#align-section-header"].disabled=!0,
this["#align-to-select"].disabled=!0,this["#align-individually-checkbox"].disabled=!0,
this._disableAlignButtons();else if(1===body.canvas.selectedElements.length){this["#align-section-header"].disabled=!1,
this["#align-to-select"].disabled=!1,this["#align-individually-checkbox"].disabled=!1;
var t=this["#align-to-select"].value;"view-box"===t?this._enableAlignButtons():this._disableAlignButtons();
}else this["#align-section-header"].disabled=!1,this["#align-to-select"].disabled=!1,
this["#align-individually-checkbox"].disabled=!1,this._enableAlignButtons()},_updateOrderSection:function(){
this["#raise-button"].disabled=!body.commands.raise.enabled(),this["#lower-button"].disabled=!body.commands.lower.enabled(),
this["#raise-to-front-button"].disabled=!body.commands.raiseToFront.enabled(),this["#lower-to-back-button"].disabled=!body.commands.lowerToBack.enabled(),
this["#order-section-header"].disabled=this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#raise-to-front-button"].disabled&&this["#lower-to-back-button"].disabled;
},_updateTransformSection:function(){this["#rotate-counterclockwise-button"].disabled=!body.commands.rotateCounterclockwise.enabled(),
this["#rotate-clockwise-button"].disabled=!body.commands.rotateClockwise.enabled(),
this["#flip-x-button"].disabled=!body.commands.flipX.enabled(),this["#flip-y-button"].disabled=!body.commands.flipY.enabled(),
this["#transform-section-header"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-x-button"].disabled&&this["#flip-y-button"].disabled;
},_enableAlignButtons:function(){this["#move-left-button"].disabled=!1,this["#move-right-button"].disabled=!1,
this["#move-top-button"].disabled=!1,this["#move-bottom-button"].disabled=!1,this["#center-horizontally-button"].disabled=!1,
this["#center-vertically-button"].disabled=!1,this["#stretch-horizontally-button"].disabled=!1,
this["#stretch-vertically-button"].disabled=!1},_disableAlignButtons:function(){this["#move-left-button"].disabled=!0,
this["#move-right-button"].disabled=!0,this["#move-top-button"].disabled=!0,this["#move-bottom-button"].disabled=!0,
this["#center-horizontally-button"].disabled=!0,this["#center-vertically-button"].disabled=!0,
this["#stretch-horizontally-button"].disabled=!0,this["#stretch-vertically-button"].disabled=!0;
}},{},n)}(HTMLElement),h=r("bx-arrangementcontrols",d);return{get default(){return h;
}}}),System.registerModule("elements/bx-backgroundartboard",[],function(){"use strict";
var t=System.get("utils/dom").registerElement,e='\n  <polygon\n    fill="white"\n    points="-1000000,-1000000 2000000,0 2000000,20000000, 0,2000000"/>\n',n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
get contentType(){return"background"},createdCallback:function(){this._shadowRoot=this.createShadowRoot(),
this._shadowRoot.innerHTML=e}},{},t)}(SVGGElement),r=t("g","bx-backgroundartboard",n);
return{get default(){return r}}}),System.registerModule("elements/bx-body",[],function(){
"use strict";var t=System.get("classes/bridge")["default"],e=System.get("classes/shortcut")["default"],n=System.get("utils/dom"),r=n.createElement,i=n.registerElement,a=Object,s=(a.entries,
a.observe,navigator.platform,function(n){function i(){$traceurRuntime.superConstructor(i).apply(this,arguments);
}return $traceurRuntime.createClass(i,{createdCallback:function(){var e=this;this.bridge=new t,
this.tabIndex=-1,this.commands={},this.mouseClientX=0,this.mouseClientY=0,this.isMouseDown=!1,
this._cursors=[],this._modKeys={ctrl:!1,alt:!1,meta:!1,shift:!1},this.bridge.postMessage("getBackendName",null,function(t){
return e._backendName=t}),this.bridge.addMessageListener("execCommand",function(t){
return e.execCommand(t)}),this.bridge.addMessageListener("validateCommand",function(t,n){
return e.validateCommand(t).then(n)}),this.bridge.addMessageListener("configChanged",function(t){
e.dispatchEvent(new CustomEvent("configchange",{detail:t}))})},attachedCallback:function(){
var t=this;window.addEventListener("keydown",this._keyDownListener=function(e){return t._onKeyDown(e);
}),window.addEventListener("keyup",this._keyUpListener=function(e){return t._onKeyUp(e);
}),window.addEventListener("blur",this._blurListener=function(e){return t._onBlur(e);
}),window.addEventListener("mousedown",this._mouseDownListener=function(e){return t.isMouseDown=!0;
}),window.addEventListener("mouseup",this._mouseUpListener=function(e){return t.isMouseDown=!1;
}),window.addEventListener("mousemove",this._mouseMoveListener=function(e){t.mouseClientX=e.clientX,
t.mouseClientY=e.clientY}),window.addEventListener("drop",this._dropListener=function(e){
t.mouseClientX=e.clientX,t.mouseClientY=e.clientY}),window.addEventListener("dragend",this._dragEndListener=function(e){
t.isMouseDown=!1}),"electron"===this.bridge.name&&window.addEventListener("beforeunload",this._beforeUnloadListener=function(){
t._cursorStyle.innerHTML=""}),this.focus()},detachedCallback:function(){window.removeEventListener("keydown",this._keyDownListener),
window.removeEventListener("keyup",this._keyUpListener),window.removeEventListener("blur",this._blurListener),
window.removeEventListener("drop",this._dropListener),window.removeEventListener("mousedown",this._mouseDownListener),
window.removeEventListener("mousemove",this._mouseMoveListener),window.removeEventListener("mouseup",this._mouseUpListener),
window.removeEventListener("dragend",this._dragEndListener),"electron"===this.bridge.name&&window.removeEventListener("beforeunload",this._beforeUnloadListener);
},get modKeys(){var t=this._modKeys,e=t.ctrl,n=t.alt,r=t.meta,i=t.shift;return{ctrl:e,
alt:n,meta:r,shift:i}},set modKeys(t){throw new Error("modKeys property is read-only");
},getConfig:function(t){var e=this;return new Promise(function(n){e.bridge.postMessage("getConfig",t,function(t){
n(t)})})},setConfig:function(t,e){var n=this;return new Promise(function(r){n.bridge.postMessage("setConfig",{
key:t,value:e},function(){r()})})},registerCursor:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:0,r=void 0!==arguments[3]?arguments[3]:0;
t.includes("/")&&(t="url("+t+") "+n+" "+r+", auto");var i={name:t,weight:e};return this._cursors.push(i),
this._updateCursorStyle(),i},unregisterCursor:function(t){this._cursors=this._cursors.filter(function(e){
return e!==t}),this._updateCursorStyle()},execCommand:function(t){for(var e=document.activeElement;e._shadowRoot&&e._shadowRoot.activeElement;)e=e._shadowRoot.activeElement;
for(var n=e;n;n=n.parentNode||n.host)if(n.commands&&n.commands[t]){var r=n.commands[t];
if(r){(!r.enabled||r.enabled())&&r.exec();break}}},validateCommand:function(t){return new Promise(function(e,n){
for(var r=document.activeElement;r._shadowRoot&&r._shadowRoot.activeElement;)r=r._shadowRoot.activeElement;
for(var i=r;i;i=i.parentNode||i.host)if(i.commands&&i.commands[t]){var a=i.commands[t];
if(a)if(void 0!==a.enabled){var s=a.enabled();e(s)}else e(!0)}return!0})},_onKeyDown:function(t){
var n=e.fromEvent(t);(n.ctrl!==this._modKeys.ctrl||n.alt!==this._modKeys.alt||n.meta!==this._modKeys.meta||n.shift!==this._modKeys.shift)&&(this._modKeys={
ctrl:n.ctrl,alt:n.alt,meta:n.meta,shift:n.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),
"chrome"===this._backendName&&(n.matches("Control","Z")||n.matches("Control","Shift","Z")||n.matches("Control","X")||n.matches("Control","C")||n.matches("Control","V")||n.matches("Control","A"))&&t.preventDefault();
},_onKeyUp:function(t){var n=e.fromEvent(t),r=n.ctrl,i=n.alt,a=n.meta,s=n.shift;(r!==this._modKeys.ctrl||i!==this._modKeys.alt||a!==this._modKeys.meta||s!==this._modKeys.shift)&&(this._modKeys={
ctrl:r,alt:i,meta:a,shift:s},this.dispatchEvent(new CustomEvent("modkeyschange")));
},_onBlur:function(t){var e=this._modKeys,n=e.ctrl,r=e.alt,i=e.meta,a=e.shift;(n||r||i||a)&&(this._modKeys={
ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));
},_updateCursorStyle:function(){var t=$traceurRuntime.spread(this._cursors);if(t.sort(function(t,e){
return t.weight>e.weight?1:t.weight<e.weight?-1:0}),this._cursorStyle||(this._cursorStyle=r("style"),
this._cursorStyle.id="cursor-style",this.prepend(this._cursorStyle)),t.length>0){
var e=t[t.length-1].name;this._cursorStyle.innerHTML="* {cursor: "+e+"!important}";
}else this._cursorStyle.innerHTML=""}},{},n)}(HTMLBodyElement)),o=i("bx-body",s);return{
get default(){return o}}}),System.registerModule("elements/bx-breadcrumb",[],function(){
"use strict";System.get("elements/bx-breadcrumbitem");var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("utils/time").debounce,i='\n  <style>@import url("stylesheets/bx-breadcrumb.css");</style>\n  <main id="main"></main>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var e=!0,n=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){n=!0,a=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(n)throw a}}this._update80Db=r(this._update,80,this),this["#main"].addEventListener("click",function(e){
return t._onItemClick(e)})},attachedCallback:function(){var t=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._update80Db()}),body.canvas.addEventListener("currentcontainerchange",this._currentContainerChangeListener=function(){
t._update80Db()})},detachedCallback:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("currentcontainerchange",this._currentContainerChangeListener);
},_onItemClick:function(t){var e=t.target,n=e.ref;n===body.canvas.currentArtboard?(body.canvas.selectedElements=[],
body.canvas.currentContainer=null):n===body.canvas.masterArtboard?("symbol"===body.canvas.currentArtboard.contentType?body.canvas.editSymbolEnd():"pattern"===body.canvas.currentArtboard.contentType&&body.canvas.editPatternEnd(),
body.canvas.selectedElements=[],body.canvas.currentContainer=null):(body.canvas.selectedElements=[n],
body.canvas.currentContainer=n.parentElement===body.canvas.currentArtboard?null:n.parentElement);
},_update:function(){var t=this,n=[body.canvas.masterArtboard];if(body.canvas.currentArtboard!==body.canvas.masterArtboard&&n.push(body.canvas.currentArtboard),
body.canvas.currentContainer){for(var r=[],i=body.canvas.currentContainer;i!==body.canvas.currentArtboard;i=i.parentElement)r.unshift(i);
n=$traceurRuntime.spread(n,r)}for(body.canvas.selectedElements.length>0&&n.push(body.canvas.selectedElements[0]);this["#main"].childElementCount>n.length;)this["#main"].lastElementChild.remove();
for(;this["#main"].childElementCount<n.length;)this["#main"].append(e("bx-breadcrumbitem"));
n.forEach(function(e,n){var r=t["#main"].children[n];r.ref=e});var a=null;body.canvas.selectedElements.length>0?a=body.canvas.selectedElements[0]:body.canvas.currentContainer||(a=body.canvas.currentArtboard);
var s=!0,o=!1,l=void 0;try{for(var u=void 0,c=this["#main"].children[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;d.highlighted=d.ref===a}}catch(h){o=!0,l=h}finally{try{s||null==c["return"]||c["return"]();
}finally{if(o)throw l}}}},{},t)}(HTMLElement),s=n("bx-breadcrumb",a);return{get default(){
return s}}}),System.registerModule("elements/bx-breadcrumbitem",[],function(){"use strict";
var t=System.get("utils/dom").registerElement,e=System.get("utils/string").capitalize,n='\n  <style>@import url("stylesheets/bx-breadcrumbitem.css");</style>\n\n  <main>\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use id="use" width="100" height="100"></use>\n    </svg>\n\n    <div id="label"></div>\n  </main>\n',r=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._ref=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=n;var t=!0,e=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){e=!0,r=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw r}}},get ref(){return this._ref},set ref(t){this._ref=t,this._onRefChange();
},get mixed(){return this.hasAttribute("mixed")},set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},_onRefChange:function(){var t=this._ref;if(t){var n=t.getAttribute("is");if("g"===t.localName)"bx-svgartboard"===n?(this["#label"].textContent="SVG",
this["#use"].setAttribute("href","images/icons.svg#object-svg")):"bx-symbolartboard"===n?(this["#label"].textContent="Symbol",
this["#use"].setAttribute("href","images/icons.svg#object-symbol")):"bx-patternartboard"===n?(this["#label"].textContent="Pattern",
this["#use"].setAttribute("href","images/icons.svg#object-pattern")):(this["#label"].textContent="Group",
this["#use"].setAttribute("href","images/icons.svg#object-group"));else if("a"===t.localName)this["#label"].textContent="Anchor",
this["#use"].setAttribute("href","images/icons.svg#object-anchor");else if("path"===t.localName)"bx-rectpath"===n?(this["#label"].textContent="Rect",
this["#use"].setAttribute("href","images/icons.svg#object-rect")):"bx-ringpath"===n?(this["#label"].textContent="Ring",
this["#use"].setAttribute("href","images/icons.svg#object-ring")):"bx-starpath"===n?(this["#label"].textContent="Star",
this["#use"].setAttribute("href","images/icons.svg#object-star")):(this["#label"].textContent="Path",
this["#use"].setAttribute("href","images/icons.svg#object-path"));else if("ellipse"===t.localName)this["#label"].textContent="Ellipse",
this["#use"].setAttribute("href","images/icons.svg#object-ellipse");else if("text"===t.localName)this["#label"].textContent="Text",
this["#use"].setAttribute("href","images/icons.svg#object-text");else if("image"===t.localName)this["#label"].textContent="Image",
this["#use"].setAttribute("href","images/icons.svg#object-image");else if("use"===t.localName){
var r=body.canvas.artboards.querySelector(t.href.baseVal);this["#use"].setAttribute("href","images/icons.svg#object-symbol"),
r&&"symbol"===r.localName?this["#label"].textContent="Symbol Use":this["#label"].textContent="Use";
}else"foreignObject"===t.localName?(this["#label"].textContent="Foreign Object",this["#use"].setAttribute("href","images/icons.svg#object-image")):"svg"===t.localName?(this["#label"].textContent="SVG",
this["#use"].setAttribute("href","images/icons.svg#object-svg")):this["#label"].textContent=e(t.localName);
}}},{},t)}(HTMLElement),i=t("bx-breadcrumbitem",r);return{get default(){return i}
}}),System.registerModule("elements/bx-button",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=Number.parseInt,i='\n  <style id="skin-stylesheet"></style>\n\n  <main>\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100" style="width: 20px; height: 20px;">\n      <use id="icon-use" x="0" y="0" width="100%" height="100%"></use>\n    </svg>\n\n    <label id="label"></label>\n  </main>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=i;var t=!0,e=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._updateSkin()},attributeChangedCallback:function(t){
"label"===t?this._onLabelAttributeChange():"icon"===t?this._onIconAttributeChange():"iconsize"===t?this._onIconSizeAttributeChange():"skin"===t?this._onSkinAttributeChange():"hidden"===t&&this._onHiddenAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(t){
this.setAttribute("label",t)},get value(){return this.getAttribute("value")},set value(t){
null===t?this.removeAttribute("value"):this.setAttribute("value",t)},get icon(){return this.getAttribute("icon");
},set icon(t){null===t?this.removeAttribute("icon"):this.setAttribute("icon",t)},
get iconSize(){return this.hasAttribute("iconsize")?r(this.getAttribute("iconsize")):20;
},set iconSize(t){this.setAttribute("iconsize",t)},get skin(){return this.getAttribute("skin");
},set skin(t){t?this.setAttribute("skin",t):this.removeAttribute("skin")},get href(){
return this.hasAttribute("href")?this.getAttribute("href"):""},set href(t){this.setAttribute("href",t);
},get pressed(){return this.hasAttribute("pressed")},set pressed(t){t===!0?this.setAttribute("pressed",""):this.removeAttribute("pressed");
},get mixed(){return this.hasAttribute("mixed")},set mixed(t){t===!0?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t===!0?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onIconAttributeChange:function(){
this["#icon-use"].remove(),this["#icon-use"]=e("svg:use"),this["#icon"].append(this["#icon-use"]),
this.icon&&this["#icon-use"].setAttribute("href","images/icons.svg#"+this.icon)},
_onIconSizeAttributeChange:function(){this["#icon"].style.width=this.iconSize+"px",
this["#icon"].style.height=this.iconSize+"px"},_onSkinAttributeChange:function(){
this._updateSkin()},_onHiddenAttributeChange:function(){this.dispatchEvent(new CustomEvent("hiddenchange",{
detail:this,bubbles:!0}))},_updateSkin:function(){this.skin?this["#skin-stylesheet"].innerText='@import url("stylesheets/bx-button@'+this.skin+'.css");':this["#skin-stylesheet"].innerText='@import url("stylesheets/bx-button.css");';
}},{},t)}(HTMLElement),s=n("bx-button",a);return{get default(){return s}}}),System.registerModule("elements/bx-canvas",[],function(){
"use strict";System.get("elements/bx-svgartboard"),System.get("elements/bx-symbolartboard"),
System.get("elements/bx-patternartboard"),System.get("elements/bx-backgroundartboard"),
System.get("elements/bx-viewboxhud"),System.get("elements/bx-viewboxedithud"),System.get("elements/bx-outlineshud"),
System.get("elements/bx-recthud"),System.get("elements/bx-ellipsehud"),System.get("elements/bx-starhud"),
System.get("elements/bx-ringhud"),System.get("elements/bx-pathsedithud"),System.get("elements/bx-selectedtextrangehud"),
System.get("elements/bx-lineargradienthud"),System.get("elements/bx-radialgradienthud"),
System.get("elements/bx-patternhud"),System.get("elements/bx-transformhud"),System.get("elements/bx-rubberbandhud"),
System.get("elements/bx-cubicsegsdrawhud"),System.get("elements/bx-quadsegsdrawhud"),
System.get("elements/bx-freehandsegsdrawhud"),System.get("elements/bx-guide");var t=System.get("classes/dom-undo-manager")["default"],e=System.get("classes/google-fonts-manager")["default"],n=System.get("utils/artwork"),r=n.deserializeArtwork,i=n.uncompressArtwork,a=n.resolveConflictingIDs,s=System.get("utils/bbox").getClientBBox,o=System.get("utils/constants"),l=o.SVG_NAMESPACE,u=o.XLINK_NAMESPACE,c=System.get("utils/math").normalize,d=System.get("utils/image").extractImageSize,h=System.get("utils/pattern").getClosestPatternWithChildren,f=System.get("utils/rect"),v=f.transformRect,m=f.combineRects,b=f.rectIntersectsRect,g=System.get("utils/relationship").sortByDomPosition,p=System.get("utils/transform").getTransformToElement,y=System.get("utils/dom"),_=y.closest,x=y.createElement,w=y.createSVGMatrix,S=y.createSVGPoint,C=y.createSVGRect,k=y.isTransformableElement,E=y.mirrorAttributes,A=y.parseSVG,T=y.registerElement,L=Math.min,M=Object,j=M.defineProperty,R=M.freeze,O=.39,P=102400,I=20,D=window.screen.width,N=window.screen.height,V={
childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1
},B=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],U='\n  <style>@import url("stylesheets/bx-canvas.css");</style>\n\n  <main id="main">\n    <svg id="svg">\n      <g id="artboards">\n        <g is="bx-backgroundartboard"></g>\n      </g>\n\n      <g id="huds">\n        <g id="viewbox-hud" is="bx-viewboxhud"></g>\n        <g id="outlines-hud" is="bx-outlineshud"></g>\n        <g id="transform-hud" is="bx-transformhud"></g>\n        <g id="rect-hud" is="bx-recthud"></g>\n        <g id="ellipse-hud" is="bx-ellipsehud"></g>\n        <g id="star-hud" is="bx-starhud"></g>\n        <g id="ring-hud" is="bx-ringhud"></g>\n        <g id="paths-edit-hud" is="bx-pathsedithud"></g>\n        <g id="selected-text-range-hud" is="bx-selectedtextrangehud"></g>\n        <g id="linear-gradient-fill-hud" is="bx-lineargradienthud" context="fill"></g>\n        <g id="linear-gradient-stroke-hud" is="bx-lineargradienthud" context="stroke"></g>\n        <g id="radial-gradient-fill-hud" is="bx-radialgradienthud" context="fill"></g>\n        <g id="radial-gradient-stroke-hud" is="bx-radialgradienthud" context="stroke"></g>\n        <g id="pattern-fill-hud" is="bx-patternhud" context="fill"></g>\n        <g id="pattern-stroke-hud" is="bx-patternhud" context="stroke"></g>\n        <g id="rubber-band-hud" is="bx-rubberbandhud" enabled></g>\n        <g id="draw-cubic-segs-hud" is="bx-cubicsegsdrawhud"></g>\n        <g id="draw-quad-segs-hud" is="bx-quadsegsdrawhud"></g>\n        <g id="draw-freehand-segs-hud" is="bx-freehandsegsdrawhud"></g>\n        <g id="viewbox-edit-hud" is="bx-viewboxedithud"></g>\n      </g>\n\n      <filter id="grippie-drop-shadow" width="100" height="100">\n        <feGaussianBlur id="grippie-fe-blur" in="SourceAlpha" result="blur-out" stdDeviation="1"/>\n        <feOffset id="grippie-fe-offset" in="blur-out" result="the-shadow" dx="1" dy="1"/>\n        <feBlend in="SourceGraphic" in2="the-shadow" mode="normal"/>\n      </filter>\n    </svg>\n  </main>\n',z=function(n){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var n=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=U;var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var f=this,v=function(){var t=m.value;
j(f,t.id.toCamelCase(),{get:function(){return t}})},m=void 0,b=this["#huds"].children[Symbol.iterator]();!(c=(m=b.next()).done);c=!0)v();
}catch(g){d=!0,h=g}finally{try{c||null==b["return"]||b["return"]()}finally{if(d)throw h;
}}this["#svg"].setAttribute("width",D+"px"),this["#svg"].setAttribute("height",N+"px"),
this["#svg"].pauseAnimations(),this._undoManager=new t(this["#artboards"]),this._googleFontsManager=new e(this["#artboards"]),
this._selectedElements=[],this._selectedTextRange=null,this._currentContainer=null,
this._scrollX=0,this._scrollY=0,this._zoom=100,this._textInputMode=!1;var p=new MutationObserver(function(t){
return n._onArtboardMutation(t)});p.observe(this["#artboards"],V),this._shadowRoot.addEventListener("click",function(t){
return n._onClick(t)}),this._shadowRoot.addEventListener("wheel",function(t){return n._onMouseWheel(t);
}),this._shadowRoot.addEventListener("dragover",function(t){return n._onDragOver(t);
}),this._shadowRoot.addEventListener("drop",function(t){return n._onDrop(t)}),this._undoManager.addEventListener("undo",function(t){
return n._onUndoManagerUndoOrRedo(t)}),this._undoManager.addEventListener("redo",function(t){
return n._onUndoManagerUndoOrRedo(t)}),this._undoManager.addEventListener("positionchange",function(t){
return n._onUndoManagerPositionChange(t)}),this["#main"].addEventListener("scroll",function(t){
return n._onScroll(t)}),this.enableHud("viewbox-hud")},get selectedElements(){return R($traceurRuntime.spread(this._selectedElements));
},set selectedElements(t){this._selectedElements=t,this.dispatchEvent(new CustomEvent("selectedelementschange"));
},get selectedTextRange(){return this._selectedTextRange?this._selectedTextRange:null;
},set selectedTextRange(t){this._selectedTextRange=t?t:null,this.dispatchEvent(new CustomEvent("selectedtextrangechange"));
},get currentContainer(){return this._currentContainer},set currentContainer(t){this._currentContainer=t,
this.dispatchEvent(new CustomEvent("currentcontainerchange"))},get artboards(){return this["#artboards"];
},set artboards(t){throw new Error("artboards property is read-only")},get masterArtboard(){
return this.artboards.querySelector('g[is="bx-svgartboard"]')},set masterArtboard(t){
throw new Error("masterArtboard property is read-only")},get currentArtboard(){return this["#artboards"].lastElementChild;
},set currentArtboard(t){throw new Error("currentArtboard property is read-only");
},get defs(){return this.masterArtboard.querySelector("defs")},set defs(t){throw new Error("defs property is read-only");
},get huds(){return this["#huds"]},set huds(t){throw new Error("huds property is read-only");
},get zoom(){return this._zoom},set zoom(t){throw new Error("zoom property is read-only");
},get scale(){return this._zoom/100},set scale(t){throw new Error("scale property is read-only");
},get textInputMode(){return this._textInputMode},set textInputMode(t){t!==this._textInputMode&&(this._textInputMode=t,
this._onTextInputModeChange())},get undoManager(){return this._undoManager},set undoManager(t){
throw new Error("undoManager property is read-only")},get googleFontsManager(){return this._googleFontsManager;
},set googleFontsManager(t){throw new Error("googleFontsManager property is read-only");
},enableHud:function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#huds"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.id===t&&(s.enabled=!0)}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},disableHud:function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#huds"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.id===t&&(s.enabled=!1)}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},editPattern:function(t){var e=this.masterArtboard.querySelector("pattern#"+t);
if(null!==e&&this.currentArtboard.id!==t){this.undoManager.checkpoint("Edit Pattern"),
"pattern"===this.currentArtboard.contentType?this.editPatternEnd(!1):"symbol"===this.currentArtboard.contentType&&this.editSymbolEnd(!1);
var n=x("svg:g","bx-patternartboard");E(e,n,["is"]),n.innerHTML=(h(e)||e).innerHTML,
this["#artboards"].append(n),this.selectedElements=[],this.selectedTextRange=null,
this.currentContainer=null,this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
}},editPatternEnd:function(){var t=void 0!==arguments[0]?arguments[0]:!0;if("pattern"===this.currentArtboard.contentType){
t&&this.undoManager.checkpoint("Edit Pattern");var e=this.currentArtboard,n=this.masterArtboard.querySelector("pattern#"+e.id);
E(e,n,["is"]),e.remove(),(h(n)||n).innerHTML=e.innerHTML,this.selectedElements=[],
this.selectedTextRange=null,this.currentContainer=null}},editSymbol:function(t){var e=this.masterArtboard.querySelector("symbol#"+t);
if(null!==e&&this.currentArtboard.id!==e.id){this.undoManager.checkpoint("Edit Symbol"),
"pattern"===this.currentArtboard.contentType?this.editPatternEnd(!1):"symbol"===this.currentArtboard.contentType&&this.editSymbolEnd(!1);
var n=x("svg:g","bx-symbolartboard");E(e,n,["is"]),n.innerHTML=e.innerHTML,this["#artboards"].append(n),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
}},editSymbolEnd:function(){var t=void 0!==arguments[0]?arguments[0]:!0;if("symbol"===this.currentArtboard.contentType){
t&&this.undoManager.checkpoint("Edit Symbol");var e=this.currentArtboard,n=this.masterArtboard.querySelector("symbol#"+e.id);
E(e,n,["is"]),e.remove(),n.innerHTML=e.innerHTML,this.selectedElements=[],this.selectedTextRange=null,
this.currentContainer=null}},loadArtwork:function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.artboards.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;"bx-backgroundartboard"!==s.getAttribute("is")&&s.remove()}}catch(o){
n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=x("svg:g","bx-svgartboard");
for(E(t,l,["is","xmlns"]);t.firstChild;)l.append(t.firstChild);this.artboards.append(l),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),
this.googleFontsManager.loadImportedFamilies(),this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll(),
this.dispatchEvent(new CustomEvent("artworkload"))},extractArtwork:function(){var t=x("svg:svg"),e=this.masterArtboard,n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=["id","class","style","x","y","width","height","viewBox","preserveAspectRatio"][Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;e.hasAttribute(o)&&t.setAttribute(o,e.getAttribute(o))}}catch(l){r=!0,
i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=e.childNodes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;t.append(v.cloneNode(!0))}}catch(m){c=!0,d=m}finally{try{u||null==f["return"]||f["return"]();
}finally{if(c)throw d}}if("pattern"===this.currentArtboard.contentType){var b=this.currentArtboard,g=t.querySelector("#"+b.id);
E(b,g,["is"]),g.innerHTML=b.innerHTML}else if("symbol"===this.currentArtboard.contentType){
var p=this.currentArtboard,y=t.querySelector("symbol#"+p.id);E(p,y,["is"]),y.innerHTML=p.innerHTML;
}return t},extractArtworkWithSelectedElements:function(){var t=this,e=this._extractArtworkWithElements(this.selectedElements),n=function(){
var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,l=t.selectedElements[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;n[e++]=s(u)}}catch(c){i=!0,a=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw a}}return n}(),r=m(n);r=v(r,this.currentArtboard.getCTM().inverse());
var i=!0,a=!1,o=void 0;try{for(var l=void 0,u=["x","y","width","height"][Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value;e.viewBox.baseVal[c]=r[c]}}catch(d){a=!0,o=d}finally{try{i||null==u["return"]||u["return"]();
}finally{if(a)throw o}}return e.setAttribute("width",r.width),e.setAttribute("height",r.height),
e},extractArtworkWithViewBoxElements:function(){var t=[],e=C(this.currentArtboard.viewBox),n=this.currentArtboard.getCTM().inverse(),r=!0,i=!1,a=void 0;
try{for(var o=void 0,l=this.currentArtboard.children[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;if(k(u)){var c=s(u);c=v(c,n),b(e,c)&&t.push(u)}}}catch(d){i=!0,a=d}finally{
try{r||null==l["return"]||l["return"]()}finally{if(i)throw a}}var h=this._extractArtworkWithElements(t),f=!0,m=!1,g=void 0;
try{for(var p=void 0,y=["x","y","width","height"][Symbol.iterator]();!(f=(p=y.next()).done);f=!0){
var _=p.value;h.viewBox.baseVal[_]=e[_]}}catch(x){m=!0,g=x}finally{try{f||null==y["return"]||y["return"]();
}finally{if(m)throw g}}return h.setAttribute("width",e.width),h.setAttribute("height",e.height),
h},_extractArtworkWithElements:function(t){t=g(t);var e=this._getIdsReferencedByElementsAndTheirDescendants(t),n=[],r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,u=this.currentArtboard.querySelector("#"+l);
u||this.currentArtboard===this.masterArtboard||(u=this.masterArtboard.querySelector("#"+l)),
u&&n.push(u)}}catch(c){i=!0,a=c}finally{try{r||null==o["return"]||o["return"]()}finally{
if(i)throw a}}n=n.filter(function(e){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;if(l.contains(e)||l===e)return!1}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=n[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;if(m.contains(e)&&m!==e)return!1}}catch(b){d=!0,h=b}finally{try{c||null==v["return"]||v["return"]();
}finally{if(d)throw h}}return!0});var d=x("svg:svg"),h=x("svg:defs"),f=!0,v=!1,m=void 0;
try{for(var b=void 0,y=n[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var _=b.value;
_.closest("defs")?h.append(_.cloneNode(!0)):d.append(_.cloneNode(!0))}}catch(w){v=!0,
m=w}finally{try{f||null==y["return"]||y["return"]()}finally{if(v)throw m}}var S=!0,C=!1,k=void 0;
try{for(var E=void 0,A=this.defs.querySelectorAll("style")[Symbol.iterator]();!(S=(E=A.next()).done);S=!0){
var T=E.value;h.append(T.cloneNode(!0))}}catch(L){C=!0,k=L}finally{try{S||null==A["return"]||A["return"]();
}finally{if(C)throw k}}h.childElementCount>0&&d.append(h);var M=!0,j=!1,R=void 0;try{
for(var O=void 0,P=t[Symbol.iterator]();!(M=(O=P.next()).done);M=!0){var I=O.value,D=p(I,this.currentArtboard),N=I.cloneNode(!0);
N.setAttribute("transform",D),d.append(N)}}catch(V){j=!0,R=V}finally{try{M||null==P["return"]||P["return"]();
}finally{if(j)throw R}}return d},insertArtwork:function(t){var e=void 0!==arguments[1]?arguments[1]:"canvasCenter";
a(t,this.extractArtwork());var n=this.currentContainer||this.currentArtboard,r=[],i=!0,o=!1,l=void 0;
try{for(var u=void 0,c=$traceurRuntime.spread(t.children)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){
var d=u.value;if(k(d)){var h=p(n,this.currentArtboard),f=w(d.transform.baseVal.consolidate().matrix),v=w();
v.multiplySelf(h.inverse()),v.multiplySelf(f),v.isIdentity()?d.removeAttribute("transform"):d.setAttribute("transform",v.toString()),
n.append(d),k(d)&&r.push(d)}else if("defs"===d.localName){var b=!0,g=!1,y=void 0;try{
for(var _=void 0,x=$traceurRuntime.spread(d.children)[Symbol.iterator]();!(b=(_=x.next()).done);b=!0){
var C=_.value;this.defs.append(C)}}catch(E){g=!0,y=E}finally{try{b||null==x["return"]||x["return"]();
}finally{if(g)throw y}}}else n.append(d)}}catch(A){o=!0,l=A}finally{try{i||null==c["return"]||c["return"]();
}finally{if(o)throw l}}if("original"!==e){var T;T="canvasCenter"===e?S(this.clientLeft+this.clientWidth/2,this.clientTop+this.clientHeight/2):S(body.mouseClientX,body.mouseClientY);
var L=function(){var t=0,e=[],n=!0,i=!1,a=void 0;try{for(var o=void 0,l=r[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){
var u=o.value;e[t++]=s(u)}}catch(c){i=!0,a=c}finally{try{n||null==l["return"]||l["return"]();
}finally{if(i)throw a}}return e}();L=L.filter(function(t){return t.width>0||t.height>0;
});var M=m(L),j=T.x-(M.x+M.width/2),R=T.y-(M.y+M.height/2),O=!0,P=!1,I=void 0;try{
for(var D=void 0,N=r[Symbol.iterator]();!(O=(D=N.next()).done);O=!0){var V=D.value,B=V.getScreenCTM(),U=B.inverse(),z=w(V.transform.baseVal.consolidate().matrix);
z.multiplySelf(U),z.translateSelf(j,R),z.multiplySelf(B),V.setAttribute("transform",z.toString());
}}catch(G){P=!0,I=G}finally{try{O||null==N["return"]||N["return"]()}finally{if(P)throw I;
}}}this.selectedElements=r},insertBitmap:function(t){var e,n,r,i,a,s,o,l,u,c,h,f,v;
return $traceurRuntime.asyncWrap(function(m){for(;;)switch(m.state){case 0:c=d(t),
m.state=5;break;case 5:return void Promise.resolve(c).then(m.createCallback(3),m.errback);
case 3:h=m.value,m.state=2;break;case 2:e=h,f=e.width,n=f,v=e.height,r=v,m.state=7;
break;case 7:i=x("svg:image"),i.setAttribute("href",t),i.setAttribute("width",n),
i.setAttribute("height",r),a=this.currentContainer||this.currentArtboard,s=a.getScreenCTM().inverse(),
o=S(body.mouseClientX,body.mouseClientY),l=o.matrixTransform(s),a.append(i),u=i.getBBox(),
i.setAttribute("x",l.x-u.width/2),i.setAttribute("y",l.y-u.height/2),this.selectedElements=[i],
m.state=-2;break;default:return m.end()}},this)},zoomBy:function(){var t=void 0!==arguments[0]?arguments[0]:.3,e=this["#svg"].getScreenCTM(),n=e.inverse(),r=S(this.matches(":hover")?body.mouseClientX:this.clientWidth/2,this.matches(":hover")?body.mouseClientY:this.clientHeight/2),i=r.matrixTransform(n);
this._zoom=c(this._zoom+this._zoom*t,O,P,3),this._scrollX=i.x-r.x/this.scale,this._scrollY=i.y-r.y/this.scale,
this["#svg"].viewBox.baseVal.width=D/this.scale,this["#svg"].viewBox.baseVal.height=N/this.scale,
this["#svg"].viewBox.baseVal.x=this._scrollX,this["#svg"].viewBox.baseVal.y=this._scrollY,
this._updateDropShadow(),this.dispatchEvent(new CustomEvent("zoomchange"))},zoomToFitAll:function(){
var t=this.currentArtboard.getBBox();this._zoomToArea(t.x,t.y,t.width,t.height,30);
},zoomToCurrentArtboardViewBox:function(){this._zoomToArea(this.currentArtboard.viewBox.x,this.currentArtboard.viewBox.y,this.currentArtboard.viewBox.width,this.currentArtboard.viewBox.height,30);
},zoomToCurrentArtboardViewBoxWidth:function(){this._zoomToArea(this.currentArtboard.viewBox.x,this.currentArtboard.viewBox.y+this.currentArtboard.viewBox.height/2,this.currentArtboard.viewBox.width,0,30);
},zoomToCurrentArtboardViewBoxHeight:function(){this._zoomToArea(this.currentArtboard.viewBox.x+this.currentArtboard.viewBox.width/2,this.currentArtboard.viewBox.y,0,this.currentArtboard.viewBox.height,30);
},_zoomToArea:function(t,e,n,r){var i=void 0!==arguments[4]?arguments[4]:0,a={width:window.innerWidth,
height:window.innerHeight},s=100*L(a.width/n,a.height/r);i=100*i/s,s=100*L(a.width/(n+i),a.height/(r+i)),
s=c(s,O,P,3),this._zoom=s;var o=a.width/this.scale,l=a.height/this.scale,u=t-(o-n)/2,d=e-(l-r)/2;
this._scrollX=u,this._scrollY=d,this["#svg"].viewBox.baseVal.width=D/this.scale,this["#svg"].viewBox.baseVal.height=N/this.scale,
this["#svg"].viewBox.baseVal.x=this._scrollX,this["#svg"].viewBox.baseVal.y=this._scrollY,
this._updateDropShadow(),this.dispatchEvent(new CustomEvent("zoomchange"))},resetZoom:function(){
var t=(100-this._zoom)/this._zoom;this.zoomBy(t)},selectAll:function(){if(this.textInputMode&&this.selectedTextRange){
var t=_(this.selectedTextRange.startContainer,"text"),e=new Range;e.selectNodeContents(t),
this.selectedTextRange=e}else{var n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this.currentArtboard.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;k(l)&&n.push(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}this.selectedElements=$traceurRuntime.spread(n)}},grabColor:function(){
var t=this;return new Promise(function(e){var n=t["#svg"].cloneNode(!0),r=A('\n        <rect\n          x="'+t.currentArtboard.viewBox.x+'"\n          y="'+t.currentArtboard.viewBox.y+'"\n          width="'+t.currentArtboard.viewBox.width+'"\n          height="'+t.currentArtboard.viewBox.height+'"\n          style="fill: none; stroke: #646464; stroke-width: 1; vector-effect: non-scaling-stroke;">\n        </rect>\n      ');
n.appendChild(r),n.setAttribute("xmlns",l),n.setAttribute("xmlns:xlink",u);var i=new Blob([n.outerHTML],{
type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(i),s=new Image;s.src=a,
s.addEventListener("load",function(){var n=document.createElement("canvas"),r=t["#svg"].getBoundingClientRect();
n.width=r.width,n.height=r.height,n.setAttribute("style","\n          position: absolute;\n          top: "+r.top+"px;\n          left: "+r.left+"px;\n          background: white;\n        ");
var i=n.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,1e3,1e3),i.drawImage(s,0,0),
t.after(n);var o,l,u,d;n.addEventListener("mouseenter",o=function(t){d=body.registerCursor("crosshair",0);
}),n.addEventListener("mouseleave",l=function(t){body.unregisterCursor(d)}),n.addEventListener("click",u=function(s){
n.removeEventListener("click",u),n.removeEventListener("mouseenter",o),n.removeEventListener("mouseleave",l),
body.unregisterCursor(d),n.remove();var h=s.clientX-r.x,f=s.clientY-r.y,v=t["#svg"].clientWidth,m=t["#svg"].clientHeight,b=i.getImageData(h,f,v,m),g=b.data[0],p=b.data[1],y=b.data[2],_=c(b.data[3]/255,0,1,2),x="rgba("+g+", "+p+", "+y+", "+_+")";
URL.revokeObjectURL(a),e(x)})})})},getHitArtboardElements:function(t,e){var n,r,i=[],a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=B[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=(n=c[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),h=(r=n.next()).done?void 0:r.value,f=this.shadowRoot.elementFromPoint(t+d,e+h);
f&&(("tspan"===f.localName||"textPath"===f.localName)&&(f=_(f,"text")),!i.includes(f)&&this.currentArtboard.contains(f)&&i.push(f));
}}catch(v){s=!0,o=v}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o;
}}return g(i)},generateUniqueID:function(t){for(var e=void 0!==arguments[1]?arguments[1]:null,n=0;;){
n+=1;var r=t+"-"+n;if(!this["#artboards"].querySelector("#"+r)){if(!e)return r;if(!e.querySelector("#"+r))return r;
}}},_onTextInputModeChange:function(){this._textInputMode===!0?(this["#main"].setAttribute("contenteditable",""),
this["#main"].focus(),body.bridge.postMessage("toggleTextInputMode",!0)):(this._textInputMode=!1,
this["#main"].removeAttribute("contenteditable"),body.bridge.postMessage("toggleTextInputMode",!1));
},_onArtboardMutation:function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this.dispatchEvent(new CustomEvent("artboardmutation",{detail:s})),
"childList"===s.type&&s.target===this["#artboards"]&&this._onCurrentArtboardChange();
}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}},_onCurrentArtboardChange:function(){this.dispatchEvent(new CustomEvent("currentartboardchange")),
this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
},_onMouseWheel:function(t){var e=c(t.wheelDeltaX,-I,I,1),n=c(t.wheelDeltaY,-I,I,1);
if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey)this._scrollX=this._scrollX-e/this.scale,
this._scrollY=this._scrollY-n/this.scale,this["#svg"].viewBox.baseVal.width=D/this.scale,
this["#svg"].viewBox.baseVal.height=N/this.scale,this["#svg"].viewBox.baseVal.x=this._scrollX,
this["#svg"].viewBox.baseVal.y=this._scrollY;else{var r=body.modKeys.ctrl?100:800,i=n/r;
this.zoomBy(i)}},_onScroll:function(t){this["#main"].scrollTop=0,this["#main"].scrollLeft=0,
this["#main"].scrollIntoView()},_onClick:function(t){t.target.closest("a")&&t.preventDefault();
},_onUndoManagerUndoOrRedo:function(t){var e=this,n=t.detail,r=n.addedNodes,i=n.removedNodes,a=n.modifiedNodes,s=new Set(this.selectedElements),o=!0,l=!1,u=void 0;
try{for(var c=void 0,d=r[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value;
s.add(h)}}catch(f){l=!0,u=f}finally{try{o||null==d["return"]||d["return"]()}finally{
if(l)throw u}}var v=!0,m=!1,b=void 0;try{for(var g=void 0,p=a[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){
var y=g.value;s.add(y)}}catch(_){m=!0,b=_}finally{try{v||null==p["return"]||p["return"]();
}finally{if(m)throw b}}var x=!0,w=!1,S=void 0;try{for(var C=void 0,E=i[Symbol.iterator]();!(x=(C=E.next()).done);x=!0){
var A=C.value;s["delete"](A)}}catch(T){w=!0,S=T}finally{try{x||null==E["return"]||E["return"]();
}finally{if(w)throw S}}s=$traceurRuntime.spread(s).filter(function(t){return k(t)&&e.currentArtboard.contains(t)&&null===t.closest("defs")&&e.currentArtboard!==t;
}),this.currentContainer=null,this.selectedElements=s;var L=!0,M=!1,j=void 0;try{
for(var R=void 0,O=this.currentArtboard.querySelectorAll("use")[Symbol.iterator]();!(L=(R=O.next()).done);L=!0){
var P=R.value;P.href.baseVal=P.href.baseVal}}catch(I){M=!0,j=I}finally{try{L||null==O["return"]||O["return"]();
}finally{if(M)throw j}}},_onUndoManagerPositionChange:function(t){body.bridge.postMessage("setChangeCounter",t.detail);
},_onDragOver:function(t){t.preventDefault()},_onDrop:function(t){var e=this;t.preventDefault();
var n=t.dataTransfer.files,a=t.dataTransfer.getData("bx-symbolslistitem/symbolID");
if(n.length>0){var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=n[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value,f=h.name.substring(h.name.lastIndexOf(".")+1).toLowerCase();if("image/svg+xml"===h.type||"text/html"===h.type)if("svgz"===f){
var v=new FileReader;v.readAsArrayBuffer(h),v.addEventListener("load",function(t){
var n=new Uint8Array(t.target.result),a=i(n);if(a){var s=r(a);s&&(e.undoManager.checkpoint("Paste"),
e.insertArtwork(s))}})}else{var m=new FileReader;m.readAsText(h,"UTF-8"),m.addEventListener("load",function(t){
var n=r(t.target.result);n&&(e.undoManager.checkpoint("Paste"),e.insertArtwork(n));
})}else if(["image/png","image/jpeg","image/webp","image/gif"].includes(h.type)){
var b=new FileReader;b.readAsDataURL(h),b.addEventListener("load",function(t){var n=t.target.result;
n&&(e.undoManager.checkpoint("Paste"),e.insertBitmap(n))})}}}catch(g){l=!0,u=g}finally{
try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else if(a){if("symbol"===this.currentArtboard.contentType&&this.currentArtboard.id===a)return void t.preventDefault();
this.undoManager.checkpoint("Create symbol reference");var p=this.currentContainer||this.currentArtboard,y=this.masterArtboard.querySelector("#"+a),_=x("svg:use");
_.setAttribute("href","#"+a),y.hasAttribute("viewBox")&&(_.setAttribute("width",y.viewBox.baseVal.width),
_.setAttribute("height",y.viewBox.baseVal.height)),p.append(_);var S=_.getScreenCTM().inverse(),C=w(_.transform.baseVal.consolidate().matrix);
C.multiplySelf(S),_.setAttribute("transform",C.toString());var k=s(_);_.setAttribute("x",t.clientX-k.width/2),
_.setAttribute("y",t.clientY-k.height/2),this.selectedElements=[_]}},_updateDropShadow:function(){
this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,
this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;
},_getIdsReferencedByElementsAndTheirDescendants:function(t){t=g(t);var e=new Set,n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this._getIdsReferencedByElementAndItsDescendants(o)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;e.add(f)}}catch(v){u=!0,c=v}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}}}catch(m){r=!0,i=m}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return $traceurRuntime.spread(e)},_getIdsReferencedByElementAndItsDescendants:function(t){
var e=this,n=new Set,r=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],i=function(t){
for(var a=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),s=null;s=a.nextNode();){
var o=getComputedStyle(s),l=!0,u=!1,c=void 0;try{for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value,v=o.getPropertyValue(f);if(v&&v.startsWith('url("#')){var m=v.substring(6,v.length-2);
if(n.has(m)===!1){var b=e.currentArtboard.querySelector("#"+m);b||e.currentArtboard===e.masterArtboard||(b=e.masterArtboard.querySelector("#"+m)),
b&&i(b)}n.add(m)}}}catch(g){u=!0,c=g}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(s.href&&"#"===s.href.baseVal[0]){var p=s.href.baseVal.substring(1,s.href.baseVal.length);
if(n.has(p)===!1){var y=e.currentArtboard.querySelector("#"+p);y||e.currentArtboard===e.masterArtboard||(y=e.masterArtboard.querySelector("#"+p)),
y&&i(y)}n.add(p)}}};return i(t),$traceurRuntime.spread(n)}},{},n)}(HTMLElement),G=T("bx-canvas",z);
return{get MIN_ZOOM(){return O},get MAX_ZOOM(){return P},get default(){return G}};
}),System.registerModule("elements/bx-checkbox",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r="images/icons.svg#checkbox-on",i="images/icons.svg#checkbox-off",a='\n  <style>@import url("stylesheets/bx-checkbox.css");</style>\n\n  <main>\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100">\n      <use id="icon-use" x="0" y="0" width="100%" height="100%"></use>\n    </svg>\n\n    <label id="label"></label>\n  </main>\n',s=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=a;var e=!0,n=!1,r=void 0;try{for(var i=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this._updateIcon(),this.addEventListener("click",function(e){
return t._onClick(e)}),this.addEventListener("keydown",function(e){return t._onKeyDown(e);
})},attributeChangedCallback:function(t){"label"===t?this._onLabelAttributeChange():"checked"===t&&this._onCheckedAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(t){
this.setAttribute("label",t)},get checked(){return this.hasAttribute("checked")},
set checked(t){t?this.setAttribute("checked",""):this.removeAttribute("checked")},
get mixed(){return this.hasAttribute("mixed")},set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onCheckedAttributeChange:function(){
this._updateIcon()},_onClick:function(t){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change"));
},_onKeyDown:function(t){"Enter"===t.keyIdentifier&&(this.checked=!this.checked)},
_updateIcon:function(){this["#icon-use"].remove(),this["#icon-use"]=e("svg:use"),
this["#icon"].append(this["#icon-use"]),this.checked?this["#icon-use"].setAttribute("href",r):this["#icon-use"].setAttribute("href",i);
}},{},t)}(HTMLElement),o=n("bx-checkbox",s);return{get default(){return o}}}),System.registerModule("elements/bx-colorpicker",[],function(){
"use strict";System.get("elements/bx-alphaslider"),System.get("elements/bx-hueslider"),
System.get("elements/bx-satlightslider"),System.get("elements/bx-input"),System.get("elements/bx-button");
var t=System.get("classes/color")["default"],e=System.get("utils/color"),n=e.isValidColorString,r=e.parseColor,i=System.get("utils/dom").registerElement,a="hex",s='\n  <style>\n    @import url("stylesheets/bx-colorpicker.css");\n  </style>\n\n  <main>\n    <bx-hueslider id="hue-slider"></bx-hueslider>\n    <bx-satlightslider id="satlight-slider"></bx-satlightslider>\n    <bx-alphaslider id="alpha-slider"></bx-alphaslider>\n\n    <div>\n      <bx-input id="color-input" title="Color"></bx-input>\n\n      <bx-button\n        id="grab-color-button"\n        title="Grab color"\n        icon="grab-color"\n        iconsize="25"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </main>\n',o=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var t=this;this._isDraggingSlider=!1,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var e=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){
var l=a.value;this["#"+l.id]=l}}catch(u){r=!0,i=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this.hasAttribute("color")||this.attributeChangedCallback("color"),
this["#hue-slider"].addEventListener("markerdragstart",function(){return t._onHueSliderDragStart();
}),this["#satlight-slider"].addEventListener("markerdragstart",function(){return t._onSatlightSliderDragStart();
}),this["#alpha-slider"].addEventListener("markerdragstart",function(){return t._onAlphaSliderDragStart();
}),this["#grab-color-button"].addEventListener("click",function(e){return t._onGrabColorButtonClick(e);
}),this["#color-input"].addEventListener("change",function(){return t._onColorInputChange(event);
}),this["#color-input"].validate=function(t){return n(t)}},attributeChangedCallback:function(t){
"color"===t&&this._onColorAttributeChange()},get color(){return this.hasAttribute("color")?this.getAttribute("color"):"#ffffff";
},set color(t){this.setAttribute("color",t)},get mixed(){this["#color-input"].mixed;
},set mixed(t){this["#color-input"].mixed=t},get disabled(){return this.hasAttribute("disabled");
},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onColorAttributeChange:function(){if(this._isDraggingSlider===!1){var t=r(this.color,"hsla");
this["#hue-slider"].hue=t.h,this["#satlight-slider"].hue=t.h,this["#satlight-slider"].saturation=t.s,
this["#satlight-slider"].lightness=t.l,this["#alpha-slider"].color=this.color,this["#alpha-slider"].alpha=t.a,
this["#color-input"].value=t.toString(a)}},_onHueSliderDragStart:function(){var t=this;
this._isDraggingSlider=!0;var e,n,i=r(this.color,"hsla");this.dispatchEvent(new CustomEvent("changestart")),
this["#hue-slider"].addEventListener("markerdrag",e=function(e){i.h=t["#hue-slider"].hue,
t.color=i.toString("rgba"),t["#satlight-slider"].hue=t["#hue-slider"].hue,t["#alpha-slider"].color=t.color,
t["#color-input"].value=i.toString(a),t.dispatchEvent(new CustomEvent("change"))}),
this["#hue-slider"].addEventListener("markerdragend",n=function(){t["#hue-slider"].removeEventListener("markerdrag",e),
t["#hue-slider"].removeEventListener("markerdragend",n),t._isDraggingSlider=!1,t.dispatchEvent(new CustomEvent("changeend"));
})},_onSatlightSliderDragStart:function(){var e=this;this._isDraggingSlider=!0;var n,r,i=new t(this["#hue-slider"].hue,50,50,this["#alpha-slider"].alpha,"hsla");
this.dispatchEvent(new CustomEvent("changestart")),this["#satlight-slider"].addEventListener("markerdrag",n=function(){
i.s=e["#satlight-slider"].saturation,i.l=e["#satlight-slider"].lightness,e.color=i.toString("rgba"),
e["#alpha-slider"].color=e.color,e["#color-input"].value=i.toString(a),e.dispatchEvent(new CustomEvent("change"));
}),this["#satlight-slider"].addEventListener("markerdragend",r=function(){e["#satlight-slider"].removeEventListener("markerdrag",n),
e["#satlight-slider"].removeEventListener("markerdragend",r),e._isDraggingSlider=!1,
e.dispatchEvent(new CustomEvent("changeend"))})},_onAlphaSliderDragStart:function(){
var t=this;this._isDraggingSlider=!0;var e,n,i=r(this.color,"hsla");this.dispatchEvent(new CustomEvent("changestart")),
this["#alpha-slider"].addEventListener("markerdrag",e=function(e){i.a=e.detail,t.color=i.toString("rgba"),
t["#color-input"].value=i.toString(a),t.dispatchEvent(new CustomEvent("change"))}),
this["#alpha-slider"].addEventListener("markerdragend",n=function(){t["#alpha-slider"].removeEventListener("markerdrag",e),
t["#alpha-slider"].removeEventListener("markerdragend",n),t._isDraggingSlider=!1,
t.dispatchEvent(new CustomEvent("changeend"))})},_onColorInputChange:function(){this.dispatchEvent(new CustomEvent("changestart")),
this.color=this["#color-input"].value,this.dispatchEvent(new CustomEvent("change")),
this.dispatchEvent(new CustomEvent("changeend"))},_onGrabColorButtonClick:function(){
var t;return $traceurRuntime.asyncWrap(function(e){for(;;)switch(e.state){case 0:
this["#grab-color-button"].pressed=!0,e.state=5;break;case 5:return void Promise.resolve(body.canvas.grabColor()).then(e.createCallback(3),e.errback);
case 3:t=e.value,e.state=2;break;case 2:this["#grab-color-button"].pressed=!1,this.dispatchEvent(new CustomEvent("changestart")),
this.color=t,this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend")),
e.state=-2;break;default:return e.end()}},this)}},{},e)}(HTMLElement),l=i("bx-colorpicker",o);
return{get default(){return l}}}),System.registerModule("elements/bx-compositingcontrols",[],function(){
"use strict";System.get("elements/bx-button"),System.get("elements/bx-checkbox"),
System.get("elements/bx-select");var t=System.get("utils/dom"),e=(t.createElement,
t.createSVGMatrix,t.registerElement),n=System.get("utils/math").round,r=(System.get("utils/paint").getDefFromURL,
System.get("utils/style").queryStylableElements),i=System.get("utils/time").throttle,a=Number.parseFloat,s='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-compositingcontrols.css");\n  </style>\n\n  <section id="opacity-section">\n    <h2 id="opacity-section-heading">Opacity</h2>\n\n    <bx-slider\n      id="opacity-slider"\n      title="Opacity"\n      value="1"\n      min="0"\n      max="1"\n      precision="2">\n    </bx-slider>\n  </section>\n\n  <section id="blend-mode-section">\n    <h2 id="blend-mode-section-heading">Blend Mode</h2>\n\n    <bx-select id="blend-mode-select" value="normal">\n      <bx-selectitem value="normal" label="Normal"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="darken" label="Darken"></bx-selectitem>\n      <bx-selectitem value="multiply" label="Multiply"></bx-selectitem>\n      <bx-selectitem value="color-burn" label="Color Burn"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="lighten" label="Lighten"></bx-selectitem>\n      <bx-selectitem value="screen" label="Screen"></bx-selectitem>\n      <bx-selectitem value="color-dodge" label="Color Dodge"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="overlay" label="Overlay"></bx-selectitem>\n      <bx-selectitem value="soft-light" label="Soft Light"></bx-selectitem>\n      <bx-selectitem value="hard-light" label="Hard Light"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="difference" label="Difference"></bx-selectitem>\n      <bx-selectitem value="exclusion" label="Exclusion"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="hue" label="Hue"></bx-selectitem>\n      <bx-selectitem value="saturation" label="Saturation"></bx-selectitem>\n      <bx-selectitem value="color" label="Color"></bx-selectitem>\n      <bx-selectitem value="luminosity" label="Luminosity"></bx-selectitem>\n    </bx-select>\n\n    <bx-checkbox label="Isolate" id="isolate-checkbox"></bx-checkbox>\n  </section>\n',o=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._update200Th=i(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=s;
var e=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){
var l=a.value;this["#"+l.id]=l}}catch(u){n=!0,r=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return t._onOpacitySliderChangeStart()}),this["#blend-mode-select"].addEventListener("change",function(){
return t._onBlendModeSelectChange()}),this["#isolate-checkbox"].addEventListener("change",function(){
return t._onIsolateCheckboxChange()})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(t){this._update200Th()},_onOpacitySliderChangeStart:function(){
var t=this;body.canvas.undoManager.checkpoint("Opacity");var e,n,i=body.canvas.selectedElements,a=r("opacity",i);
a[0]||null;this._isChangingOpacitySlider=!0,this["#opacity-slider"].addEventListener("change",e=function(){
var e=!0,n=!1,r=void 0;try{for(var i=void 0,s=a[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){
var o=i.value;o.style.opacity=t["#opacity-slider"].value}}catch(l){n=!0,r=l}finally{
try{e||null==s["return"]||s["return"]()}finally{if(n)throw r}}t["#opacity-slider"].mixed=!1;
}),this["#opacity-slider"].addEventListener("changeend",n=function(){t["#opacity-slider"].removeEventListener("change",e),
t["#opacity-slider"].removeEventListener("changeend",n),t._isChangingOpacitySlider=!1;
})},_onBlendModeSelectChange:function(){body.canvas.undoManager.checkpoint("Blend mode");
var t=r("mix-blend-mode",body.canvas.selectedElements),e=!0,n=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;o.style.mixBlendMode=this["#blend-mode-select"].value}}catch(l){n=!0,
i=l}finally{try{e||null==s["return"]||s["return"]()}finally{if(n)throw i}}},_onIsolateCheckboxChange:function(){
body.canvas.undoManager.checkpoint("Isolate");var t=r("isolation",body.canvas.selectedElements),e=!0,n=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var o=a.value;
this["#isolate-checkbox"].checked?o.style.isolation="isolate":o.style.isolation="auto";
}}catch(l){n=!0,i=l}finally{try{e||null==s["return"]||s["return"]()}finally{if(n)throw i;
}}},_update:function(){this._updateOpacitySection(),this._updateBlendModeSection();
},_updateOpacitySection:function(){if(!this._isChangingOpacitySlider){var t=r("opacity",body.canvas.selectedElements),e=t[0]||null;
if(null===e)this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;else{
this["#opacity-slider"].disabled=!1;var i=n(a(getComputedStyle(e).opacity),2),s=!1,o=!0,l=!1,u=void 0;
try{for(var c=void 0,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value;
if(h!==e){var f=n(a(getComputedStyle(h).opacity),2);f!==i&&(s=!0)}}}catch(v){l=!0,
u=v}finally{try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}this["#opacity-slider"].value=i,
this["#opacity-slider"].mixed=s}this["#opacity-section-heading"].disabled=this["#opacity-slider"].disabled;
}},_updateBlendModeSection:function(){var t=r("mix-blend-mode",body.canvas.selectedElements),e=t[0]||null;
if(null===e)this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,
this["#blend-mode-select"].mixed=!1;else{var n=!1,i=getComputedStyle(e).mixBlendMode,a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
if(c!==e){var d=getComputedStyle(c).mixBlendMode;if(d!==i){n=!0;break}}}}catch(h){
s=!0,o=h}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}this["#blend-mode-select"].value=getComputedStyle(e).mixBlendMode,
this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=n}if(null===e)this["#isolate-checkbox"].disabled=!0,
this["#isolate-checkbox"].checked=!1,this["#isolate-checkbox"].mixed=!1;else{var f=getComputedStyle(e).isolation,v=!1,m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=t[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){var _=p.value;
if(_!==e){var x=getComputedStyle(_).isolation;if(x!==f){v=!0;break}}}}catch(w){b=!0,
g=w}finally{try{m||null==y["return"]||y["return"]()}finally{if(b)throw g}}this["#isolate-checkbox"].disabled=!1,
this["#isolate-checkbox"].checked="isolate"===f,this["#isolate-checkbox"].mixed=v;
}this["#blend-mode-section-heading"].disabled=this["#blend-mode-select"].disabled&&this["#isolate-checkbox"].disabled;
}},{},t)}(HTMLElement),l=e("bx-compositingcontrols",o);return{get default(){return l;
}}}),System.registerModule("elements/bx-contextmenu",[],function(){"use strict";var t=System.get("utils/dom"),e=t.getClosestShadowRoot,n=t.registerElement,r=System.get("classes/shortcut")["default"];
System.get("elements/bx-menu");var i='\n  <style>@import url("stylesheets/bx-contextmenu.css");</style>\n  <div id="overlay" hidden></div>\n\n  <bx-menu id="root-menu">\n    <content></content>\n  </bx-menu>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}this.addEventListener("menuitemtrigger",function(e){return t._close();
}),this["#overlay"].addEventListener("mousedown",function(e){return t._onOverlayMouseDown(e);
}),this["#root-menu"].addEventListener("mousedown",function(e){return t._onRootMenuMouseDown(e);
}),$traceurRuntime.spread([this["#root-menu"]],this.querySelectorAll("bx-menu")).forEach(function(e){
e.menuWillShow=function(){return t.menuWillShow(e)},e.menuItemWillTrigger=function(e){
return t.menuItemWillTrigger(e)}})},menuWillShow:function(t){return Promise.resolve();
},menuItemWillTrigger:function(t){return Promise.resolve()},open:function(t,e){var n=this;
this["#root-menu"].openAtPosition(t,e),this["#overlay"].hidden=!1,window.addEventListener("keydown",this._keyDownListener=function(t){
return n._onKeyDown(t)},!0),window.addEventListener("resize",this._resizeListener=function(){
return n._close()}),window.addEventListener("blur",this._blurListener=function(){
return n._close()})},_close:function(){this["#root-menu"].close(),this["#overlay"].hidden=!0,
window.removeEventListener("keydown",this._keyDownListener,!0),window.removeEventListener("resize",this._resizeListener),
window.removeEventListener("blur",this._blurListener),this.blur()},_onOverlayMouseDown:function(t){
event.preventDefault(),this._close()},_onRootMenuMouseDown:function(t){t.preventDefault();
},_onKeyDown:function(t){var n=r.fromEvent(t);if(n.matches("ArrowUp")||n.matches("ArrowDown")){
var i=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),a=i.length>0?i[i.length-1]:null,s=this["#root-menu"],o=this.querySelectorAll("bx-menu[opened]"),l=$traceurRuntime.spread([s],o);
if(t.stopPropagation(),t.preventDefault(),a){var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=l[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;v.items.includes(a)&&(n.matches("ArrowUp")?v.highlightPreviousItem():v.highlightNextItem());
}}catch(m){c=!0,d=m}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw d;
}}}else{var b=l.length>0?l[l.length-1]:null;b&&(n.matches("ArrowUp")?b.highlightPreviousItem():b.highlightNextItem());
}}else if(n.matches("ArrowLeft")){var g=this.querySelectorAll("bx-menu[opened]");if(t.stopPropagation(),
t.preventDefault(),g.length>0){var p=g[g.length-1];p.items.find(function(t){return t.highlighted;
})&&p.highlightItem(null)}}else if(n.matches("ArrowRight")){var y=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),_=y.length>0?y[y.length-1]:null,x=_?_.querySelector("bx-menu"):null;
if(t.stopPropagation(),t.preventDefault(),x){var w=x.getBoundingClientRect(),S=_.getBoundingClientRect(),C=w.x+w.width/2,k=S.y+S.height/2,E=e(this).elementFromPoint(C,k);
E.disabled?x.highlightNextItem(E):x.highlightItem(E)}}else if(n.matches("Enter")){
var A=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),T=A.length>0?A[A.length-1]:null;
if(t.stopPropagation(),t.preventDefault(),T){if(!T.querySelector("bx-menu")){var L=this["#root-menu"],M=this.querySelectorAll("bx-menu[opened]"),j=$traceurRuntime.spread([L],M),R=!0,O=!1,P=void 0;
try{for(var I=void 0,D=j[Symbol.iterator]();!(R=(I=D.next()).done);R=!0){var N=I.value;
if(N.items.includes(T)){N.triggerItem(T);break}}}catch(V){O=!0,P=V}finally{try{R||null==D["return"]||D["return"]();
}finally{if(O)throw P}}}}else this._close()}else null!==n.base&&this._close()}},{},t);
}(HTMLElement),s=n("bx-contextmenu",a);return{get default(){return s}}}),System.registerModule("elements/bx-cubicbeziertool",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e=function(t){function e(){
$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-cubic-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-cubic-segs-hud");
}},{},t)}(HTMLElement),n=t("bx-cubicbeziertool",e);return{get default(){return n}
}}),System.registerModule("elements/bx-cubicsegsdrawhud",[],function(){"use strict";
var t=System.get("classes/enum")["default"],e=System.get("classes/shortcut")["default"],n=System.get("classes/vector")["default"],r=System.get("utils/dom"),i=r.registerElement,a=r.createElement,s=r.createSVGPoint,o=System.get("utils/path").reversePath,l=System.get("utils/transform"),u=l.reduceTransform,c=l.getTransformToElement;
System.get("elements/bx-cubicsegsketch");var d=10,h=new t("path"),f='\n  <style>@import url("stylesheets/bx-cubicsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-cubicsegsketch"></g>\n',v=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=f;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;this.attributeChangedCallback(h.name)}}catch(v){l=!0,u=v}finally{try{
o||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._mode="select",this._currentPath=null,window.addEventListener("keydown",this._keyDownListener=function(e){
t._onKeyDown(e)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)}),body.canvas.artboards.addEventListener("mousedown",this._canvasMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),this["#node-grippies"].addEventListener("mousedown",this._nodeGrippiesMouseDownListener=function(e){
t._onNodeGrippieMouseDown(e)}),this._onSelectedElementsChange()},_onDisabled:function(){
window.removeEventListener("keydown",this._keyDownListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.artboards.removeEventListener("mousedown",this._canvasMouseDownListener),
this["#node-grippies"].removeEventListener("mousedown",this._nodeGrippiesMouseDownListener),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(t){var e=t.detail;if("childList"===e.type){var n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=e.removedNodes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;(o===this._currentPath||o.contains(this._currentPath))&&(this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies())}}catch(l){
r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}}else(e.target===this._currentPath||e.target.contains(this._currentPath))&&this._updateNodeGrippies();
},_onArtboardMouseDown:function(t){var e,r,i=this,a=s(t.clientX,t.clientY),o=0;window.addEventListener("mousemove",e=function(t){
var e=s(t.clientX,t.clientY),r=new n(a,e).length;r>o&&(o=r)}),window.addEventListener("mouseup",r=function(n){
window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",r),
i._onArtboardClick(t,n),4>o&&i._onArtboardDirectClick(t,n)})},_onArtboardClick:function(t){
var e;if("draw-forward"===this._mode){var n=this._currentPath.getPathData({normalize:!0
}),r=$traceurRuntime.spread(n);r.length>1&&body.canvas.undoManager.checkpoint("Draw path segment"),
this["#seg-sketch"].curved?r.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):r.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),this._currentPath.setPathData(r)}else if("draw-backward"===this._mode){body.canvas.undoManager.checkpoint("Draw path segment");
var i=this._currentPath.getPathData({normalize:!0}),a=[];a.push({type:"M",values:[this["#seg-sketch"].startPoint.x,this["#seg-sketch"].startPoint.y]
}),this["#seg-sketch"].curved?a.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):a.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),(e=a).push.apply(e,$traceurRuntime.spread(i.slice(1))),this._currentPath.setPathData(a);
}},_onArtboardDirectClick:function(t){var e=t,n=e.clientX,r=e.clientY;if("select"===this._mode){
body.canvas.undoManager.checkpoint("Draw path segment");var i=a("svg:path");i.style.stroke="black",
i.style.fill="none";var o=body.canvas.currentContainer||body.canvas.currentArtboard;
o.append(i);var l=i.getScreenCTM().inverse(),u=s(n,r).matrixTransform(l),c=u.x,d=u.y;
i.setAttribute("d","M "+c+" "+d),body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[i]),
this._mode="draw-forward",this._currentPath=i,this["#seg-sketch"].show(i,"end")}},
_onNodeGrippieMouseDown:function(t){var e,n,r=this,i=t.target;this["#node-grippies"].addEventListener("mouseup",e=function(t){
r["#node-grippies"].removeEventListener("mouseup",e),window.removeEventListener("mouseup",n);
var a=t.target,s=r._onNodeGrippieClick(i,t);i!==a||s||r._onNodeGrippieDirectClick(i,t);
}),window.addEventListener("mouseup",n=function(t){r["#node-grippies"].removeEventListener("mouseup",e),
window.removeEventListener("mouseup",n),r._onNodeGrippieClick(i,t)})},_onNodeGrippieClick:function(t,e){
var n,r,i,a;if("select"===this._mode)return!1;if(t[h.path]===this._currentPath){var s=t.getAttribute("data-position"),l=this._currentPath,d=l.getPathData({
normalize:!0}),f=d[0],v=d[d.length-1];if("draw-forward"===this._mode&&"start"===s){
body.canvas.undoManager.checkpoint("Draw path segment");var m=$traceurRuntime.spread(d);
this["#seg-sketch"].curved?m.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,f.values[0],f.values[1]]
}):m.push({type:"L",values:[f.values[0],f.values[1]]}),m.push({type:"Z",values:[]
}),l.setPathData(m),this._updateNodeGrippies()}else if("draw-backward"===this._mode&&"end"===s){
body.canvas.undoManager.checkpoint("Draw path segment");var b=[];b.push({type:"M",
values:["C"===v.type?v.values[4]:v.values[0],"C"===v.type?v.values[5]:v.values[1]]
}),this["#seg-sketch"].curved?b.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,f.values[0],f.values[1]]
}):b.push({type:"L",values:[f.values[0],f.values[1]]}),(n=b).push.apply(n,$traceurRuntime.spread(d.slice(1))),
b.push({type:"Z",values:[]}),l.setPathData(b),this._updateNodeGrippies()}return this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),!0}var g=t.getAttribute("data-position"),p=this._currentPath,y=t[h.path],_=p.getPathData({
normalize:!0});_.length>1&&body.canvas.undoManager.checkpoint("Draw path segment");
var x=c(y,p);if(y.setAttribute("transform",x.toString()),u(y),"draw-forward"===this._mode){
"end"===g&&o(y);var w=$traceurRuntime.spread(_),S=y.getPathData({normalize:!0}),C=S[0];
this["#seg-sketch"].curved?w.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,C.values[0],C.values[1]]
}):w.push({type:"L",values:[C.values[0],C.values[1]]}),(r=w).push.apply(r,$traceurRuntime.spread(S.slice(1))),
p.setPathData(w),y.setPathData([]),y.remove()}else if("draw-backward"===this._mode){
"start"===g&&o(y);var k=[],E=y.getPathData({normalize:!0}),A=_[0];(i=k).push.apply(i,$traceurRuntime.spread(E)),
this["#seg-sketch"].curved?k.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,A.values[0],A.values[1]]
}):k.push({type:"L",values:[A.values[0],A.values[1]]}),(a=k).push.apply(a,$traceurRuntime.spread(_.slice(1))),
p.setPathData(k),y.setPathData([]),y.remove()}return body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==y}),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0},_onNodeGrippieDirectClick:function(t,e){if("select"===this._mode){this._currentPath=t[h.path];
var n=t.getAttribute("data-position");"start"===n?(this._mode="draw-backward",this["#seg-sketch"].show(t[h.path],"start")):(this._mode="draw-forward",
this["#seg-sketch"].show(t[h.path],"end"))}},_onKeyDown:function(t){if("draw-forward"===this._mode||"draw-backward"===this._mode){
var n=e.fromEvent(t);if(n.matches("Enter")||n.matches("Escape"))t.stopPropagation(),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies();else if(n.matches("Shift","Enter")){
t.stopPropagation();var r=(this._currentPath.getAttribute("d"),{type:"Z",values:[]
}),i=this._currentPath.getPathData();i.push(r),this._currentPath.setPathData(i),this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies()}}},_updateNodeGrippies:function(){
this["#node-grippies"].innerHTML="";var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._getSelectedPaths()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var o=r.value,l=o.getPathData({normalize:!0}),u=l.length,d=void 0,f=void 0;0===u?(d=null,
f=null):1===u?(d=l[0],f=null):u>1&&(d=l[0],f=l[u-1]);var v=c(o,this),m=f&&"Z"===f.type;
if(d&&!m){var b=s(d.values[0],d.values[1]).matrixTransform(v),g=a("svg:ellipse");g.setAttribute("class","node-grippie"),
g.setAttribute("cx",b.x),g.setAttribute("cy",b.y),g.setAttribute("data-position","start"),
g[h.path]=o,this["#node-grippies"].append(g)}if(f&&!m){var p=void 0;"M"===f.type||"L"===f.type?p=s(f.values[0],f.values[1]).matrixTransform(v):"C"===f.type&&(p=s(f.values[4],f.values[5]).matrixTransform(v));
var y=a("svg:ellipse");y.setAttribute("class","node-grippie"),y.setAttribute("cx",p.x),
y.setAttribute("cy",p.y),y.setAttribute("data-position","end"),y[h.path]=o,this["#node-grippies"].append(y);
}}}catch(_){e=!0,n=_}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var t=d/2/body.canvas.scale,e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.setAttribute("rx",t),s.setAttribute("ry",t)}}catch(o){n=!0,r=o}finally{
try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"path"===o.localName&&o.hasAttribute("is")===!1?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedPaths(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),m=i("g","bx-cubicsegsdrawhud",v);return{get default(){
return m}}}),System.registerModule("elements/bx-cubicsegsketch",[],function(){"use strict";
var t=System.get("utils/dom"),e=t.registerElement,n=t.createSVGPoint,r=System.get("utils/point"),i=r.comparePoints,a=r.snapPointToAngleMultiple,s=System.get("utils/transform").getTransformToElement,o=System.get("classes/vector")["default"],l=Object.freeze,u='\n  <style>@import url("stylesheets/bx-cubicsegsketch.css");</style>\n  <path id="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n  <line id="control-line-1"></line>\n  <line id="control-line-2"></line>\n  <circle id="control-point-1-grippie"></circle>\n  <circle id="control-point-2-grippie"></circle>\n',c=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=u;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._path=null,this._position="end",this._snap="none",this._hasListeners=!1,
this._clientX=null,this._clientY=null},get startPoint(){return l(n(this._startPoint));
},set startPoint(t){throw new Error("startPoint property is read-only.")},get endPoint(){
return l(n(this._endPoint))},set endPoint(t){throw new Error("endPoint property is read-only.");
},get controlPoint1(){return l(n(this._controlPoint1))},set controlPoint1(t){throw new Error("controlPoint1 property is read-only.");
},get controlPoint2(){return l(n(this._controlPoint2))},set controlPoint2(t){throw new Error("controlPoint2 property is read-only.");
},get curved(){return i(this.startPoint,this.controlPoint1)===!1||i(this.endPoint,this.controlPoint2)===!1;
},show:function(t){var e=void 0!==arguments[1]?arguments[1]:"end";this._position=e,
this._path=t,this._snap="none",this.style.visibility="visible",this._hasListeners===!1&&this._addListeners(),
this._updateSegProperties(),this._updateSnapProperty(),this._updatePointProperties(),
this._updateOutlines()},hide:function(){this._path=null,this._clientX=null,this._clientY=null,
this.style.visibility="hidden",this._hasListeners===!0&&this._removeListeners()},
_addListeners:function(){var t=this;this._hasListeners=!0,this._mouseDown=!1,body.addEventListener("modkeyschange",this._modKeysChangeListener=function(){
t._mouseDown===!1&&(t._updateSnapProperty(),t._updatePointProperties(),t._updateOutlines());
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)}),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(e){
var r,i,s,o,l=t._path.getScreenCTM().inverse();if(t._mouseDown=!0,t._mouseDownPoint=n(e.clientX,e.clientY),
t._mouseDownPoint=t._mouseDownPoint.matrixTransform(l),t._mouseDownControlPoint1=n(t._controlPoint1),
t._mouseDownControlPoint2=n(t._controlPoint2),"end"===t._position)if("paraxialPolygon"===t._snap){
var u=(r=a(t._startPoint,t._endPoint,45)[Symbol.iterator](),(i=r.next()).done?void 0:i.value);
t._endPoint=u}else t._endPoint=n(t._mouseDownPoint);else if("start"===t._position)if("paraxialPolygon"===t._snap){
var c=(s=a(t._startPoint,t._endPoint,45)[Symbol.iterator](),(o=s.next()).done?void 0:o.value);
t._endPoint=c}else t._endPoint=n(n(t._firstSeg.values[0],t._firstSeg.values[1]))}),
window.addEventListener("mousemove",this._mouseMoveListener=function(e){t._clientX=e.clientX,
t._clientY=e.clientY,t._updatePointProperties(),t._updateOutlines()}),window.addEventListener("mouseup",this._mouseUpListener=function(e){
t._mouseDown=!1,t._updateSnapProperty()})},_removeListeners:function(){this._hasListeners=!1,
body.removeEventListener("modkeyschange",this._modKeysChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("mousedown",this._mouseDownListener),window.removeEventListener("mousemove",this._mouseMoveListener),
window.removeEventListener("mouseup",this._mouseUpListener)},_onArtboardMutation:function(t){
var e=t.detail;(e.target===this._path||e.target.contains(this._path))&&this._path.hasAttribute("d")&&(this._updateSegProperties(),
this._updateSnapProperty(),this._updatePointProperties(),this._updateOutlines())},
_updateSegProperties:function(){if("end"===this._position){var t=this._path.getPathData({
normalize:!0}),e=t[t.length-1];this._lastSeg=e;for(var r=t.length-1;r>=0;r-=1){var i=t[r];
if("Z"!==i.type){this._lastNonZSeg=i;break}}"C"===e.type?this._lastSegControlPoint=n(e.values[2],e.values[3]):"M"===e.type||"L"===e.type?this._lastSegControlPoint=n(e.values[0],e.values[1]):this._lastSegControlPoint=null,
"C"===e.type?this._lastSegIsSmooth=e.values[2]!==e.values[4]||e.values[3]!==e.values[5]:this._lastSegIsSmooth=!1;
}else if("start"===this._position){var a=this._path.getPathData({normalize:!0}),s=a[0],o=a[1];
this._firstSeg=s,"C"===o.type?this._secondSegControlPoint=n(o.values[0],o.values[1]):"M"===o.type||"L"===o.type?this._secondSegControlPoint=n(s.values[0],s.values[1]):this._secondSegControlPoint=null,
"C"===o.type?this._secondSegIsSmooth=o.values[0]!==s.values[0]&&o.values[1]!==s.values[1]:this._secondSegIsSmooth=!1;
}},_updatePointProperties:function(){var t,e,r,i;if(this._mouseDown===!1){var s=this._path.getScreenCTM().inverse();
if("end"===this._position?("L"===this._lastNonZSeg.type||"M"===this._lastNonZSeg.type?this._startPoint=n(this._lastNonZSeg.values[0],this._lastNonZSeg.values[1]):"C"===this._lastNonZSeg.type&&(this._startPoint=n(this._lastNonZSeg.values[4],this._lastNonZSeg.values[5])),
null===this._clientX?this._endPoint=n(this._startPoint):this._endPoint=n(this._clientX,this._clientY).matrixTransform(s)):"start"===this._position&&(null===this._clientX?this._startPoint=n(this._firstSeg.values[0],this._firstSeg.values[1]):this._startPoint=n(this._clientX,this._clientY).matrixTransform(s),
this._endPoint=n(this._firstSeg.values[0],this._firstSeg.values[1])),"none"===this._snap){
var l;new o(this._startPoint,this._endPoint);"end"===this._position?l=new o(this._startPoint,this._lastSegControlPoint):"start"===this._position&&(l=new o(this._endPoint,this._secondSegControlPoint)),
l=l.negate(),"end"===this._position?(this._controlPoint1=n(this._startPoint.x+l.x,this._startPoint.y+l.y),
this._controlPoint2=n(this._endPoint)):"start"===this._position&&(this._controlPoint2=n(this._endPoint.x+l.x,this._endPoint.y+l.y),
this._controlPoint1=n(this._startPoint))}else if("polygon"===this._snap)this._controlPoint1=n(this._startPoint),
this._controlPoint2=n(this._endPoint);else if("paraxialPolygon"===this._snap){if("end"===this._position){
var u=(t=a(this._startPoint,this._endPoint,45)[Symbol.iterator](),(e=t.next()).done?void 0:e.value);
this._endPoint=u}else if("start"===this._position){var c=(r=a(this._endPoint,this._startPoint,45)[Symbol.iterator](),
(i=r.next()).done?void 0:i.value);this._startPoint=c}this._controlPoint1=n(this._startPoint),
this._controlPoint2=n(this._endPoint)}}else if(this._mouseDown===!0){var d=this._path.getScreenCTM().inverse(),h=n(this._clientX,this._clientY);
h=h.matrixTransform(d);var f=new o(this._mouseDownPoint,h).negate();"end"===this._position?this._controlPoint2=n(this._mouseDownControlPoint2.x+f.x,this._mouseDownControlPoint2.y+f.y):"start"===this._position&&(this._controlPoint1=n(this._mouseDownControlPoint1.x+f.x,this._mouseDownControlPoint1.y+f.y));
}},_updateSnapProperty:function(){var t=body.modKeys,e=t.ctrl,n=(t.alt,t.shift);e&&!n?this._snap="polygon":e&&n?this._snap="paraxialPolygon":this._snap="none",
"end"===this._position?this._lastSegIsSmooth||"none"!==this._snap||(this._snap="polygon"):"start"===this._position&&(this._secondSegIsSmooth||"none"!==this._snap||(this._snap="polygon"));
},_updateOutlines:function(){var t=s(this._path,this),e=this._startPoint.matrixTransform(t),n=this._endPoint.matrixTransform(t),r=this._controlPoint1.matrixTransform(t),i=this._controlPoint2.matrixTransform(t),a=3/body.canvas.scale,o=[{
type:"M",values:[e.x,e.y]},{type:"C",values:[r.x,r.y,i.x,i.y,n.x,n.y]}];this["#outline"].setPathData(o),
this["#control-point-1-grippie"].cx.baseVal.value=r.x,this["#control-point-1-grippie"].cy.baseVal.value=r.y,
this["#control-point-1-grippie"].r.baseVal.value=a,this["#control-point-2-grippie"].cx.baseVal.value=i.x,
this["#control-point-2-grippie"].cy.baseVal.value=i.y,this["#control-point-2-grippie"].r.baseVal.value=a,
this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,
this["#control-line-1"].x2.baseVal.value=r.x,this["#control-line-1"].y2.baseVal.value=r.y,
this["#control-line-2"].x1.baseVal.value=n.x,this["#control-line-2"].y1.baseVal.value=n.y,
this["#control-line-2"].x2.baseVal.value=i.x,this["#control-line-2"].y2.baseVal.value=i.y;
}},{},t)}(SVGGElement),d=e("g","bx-cubicsegsketch",c);return{get default(){return d;
}}}),System.registerModule("elements/bx-defscontrols",[],function(){"use strict";System.get("elements/bx-button"),
System.get("elements/bx-patternslist"),System.get("elements/bx-symbolslist");var t=System.get("utils/dom").registerElement,e='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-defscontrols.css");\n  </style>\n\n  <main>\n    <div id="buttons">\n      <bx-button\n        id="symbols-button"\n        class="button"\n        href="#symbols-list"\n        tooltip="Symbols"\n        icon="symbols-button"\n        iconsize="30"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="patterns-button"\n        class="button"\n        href="#patterns-list"\n        tooltip="Patterns"\n        icon="paint-pattern"\n        iconsize="30"\n        skin="iconic">\n      </bx-button>\n    </div>\n\n    <div id="lists">\n      <bx-symbolslist id="symbols-list" class="list"></bx-symbolslist>\n      <bx-patternslist id="patterns-list" class="list"></bx-patternslist>\n    </div>\n  </main>\n',n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=e;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#buttons"].addEventListener("click",function(e){
return t._onButtonsClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t;return $traceurRuntime.asyncWrap(function(e){for(;;)switch(e.state){
case 0:return void Promise.resolve(body.getConfig("bx-defscontrols:currentListID")).then(e.createCallback(3),e.errback);
case 3:t=e.value,e.state=2;break;case 2:this._toggleList(t||"symbols-list"),e.state=-2;
break;default:return e.end()}},this)},_onDisabled:function(){this._toggleList(null);
},_onButtonsClick:function(t){"bx-button"===t.target.localName&&0===t.button&&this._onButtonClick(t.target);
},_onButtonClick:function(t){t.pressed===!1&&this._toggleList(t.href.substring(1));
},_toggleList:function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#buttons"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;null!==t&&s.href==="#"+t?s.pressed=!0:s.pressed=!1}}catch(o){n=!0,r=o;
}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this["#lists"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;null!==t&&f.id===t?(f.enabled=!0,f.hidden=!1):(f.enabled=!1,f.hidden=!0);
}}catch(v){u=!0,c=v}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}null!==t&&body.setConfig("bx-defscontrols:currentListID",t)}},{},t)}(HTMLElement),r=t("bx-defscontrols",n);
return{get default(){return r}}}),System.registerModule("elements/bx-dock",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e=System.get("utils/time"),n=e.sleep,r=e.throttle,i='\n  <style>@import url("stylesheets/bx-dock.css");</style>\n\n  <main>\n    <div id="up-grippie" class="grippie">\n      <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n        <use xlink:href="images/icons.svg#arrow-up" width="100" height="100"></use>\n      </svg>\n    </div>\n\n    <div id="buttons">\n      <content></content>\n    </div>\n\n    <div id="down-grippie" class="grippie">\n      <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n        <use xlink:href="images/icons.svg#arrow-down" width="100" height="100"></use>\n      </svg>\n    </div>\n  </main>\n',a=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i,this._pressedButton=null,this._updateGrippiesVisibility250Th=r(this._updateGrippiesVisibility,250,this);
var e=!0,n=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){n=!0,a=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(n)throw a}}window.addEventListener("resize",function(){return t._updateGrippiesVisibility250Th();
}),this["#buttons"].addEventListener("scroll",function(){return t._updateGrippiesVisibility();
}),this["#buttons"].addEventListener("hiddenchange",function(){return t._updateGrippiesVisibility();
})},attachedCallback:function(){var t;return $traceurRuntime.asyncWrap(function(e){
for(;;)switch(e.state){case 0:t=this,this.addEventListener("mouseenter",this._mouseEnterListener=function(){
t._defaultCursor=body.registerCursor("default",200)}),this.addEventListener("mouseleave",this._mouseLeaveListener=function(){
body.unregisterCursor(t._defaultCursor)}),e.state=6;break;case 6:return void Promise.resolve(n(100)).then(e.createCallback(2),e.errback);
case 2:this._updateGrippiesVisibility(),e.state=8;break;case 8:return void Promise.resolve(n(1e3)).then(e.createCallback(4),e.errback);
case 4:this._updateGrippiesVisibility(),e.state=-2;break;default:return e.end()}},this);
},detachedCallback:function(){this.removeEventListener("mouseenter",this._mouseEnterListener),
this.removeEventListener("mouseleave",this._mouseLeaveListener)},_updateGrippiesVisibility:function(){
0===this["#buttons"].scrollTop?this["#up-grippie"].setAttribute("disabled",""):this["#up-grippie"].removeAttribute("disabled"),
this["#buttons"].scrollTop>=this["#buttons"].scrollHeight-this["#buttons"].offsetHeight?this["#down-grippie"].setAttribute("disabled",""):this["#down-grippie"].removeAttribute("disabled");
}},{},t)}(HTMLElement),s=t("bx-dock",a);return{get default(){return s}}}),System.registerModule("elements/bx-editorbody",[],function(){
"use strict";var t=System.get("elements/bx-body")["default"];System.get("elements/bx-button"),
System.get("elements/bx-canvas"),System.get("elements/bx-dock"),System.get("elements/bx-panel"),
System.get("elements/bx-breadcrumb"),System.get("elements/bx-contextmenu"),System.get("elements/bx-menuitem"),
System.get("elements/bx-fillcontrols"),System.get("elements/bx-strokecontrols"),System.get("elements/bx-compositingcontrols"),
System.get("elements/bx-maskcontrols"),System.get("elements/bx-typographycontrols"),
System.get("elements/bx-viewcontrols"),System.get("elements/bx-arrangementcontrols"),
System.get("elements/bx-defscontrols"),System.get("elements/bx-pathcontrols"),System.get("elements/bx-exportcontrols"),
System.get("elements/bx-transformtool"),System.get("elements/bx-edittool"),System.get("elements/bx-quadbeziertool"),
System.get("elements/bx-cubicbeziertool"),System.get("elements/bx-freehandtool"),
System.get("elements/bx-texttool"),System.get("elements/bx-recttool"),System.get("elements/bx-ellipsetool"),
System.get("elements/bx-startool"),System.get("elements/bx-ringtool"),System.get("elements/bx-rectpath"),
System.get("elements/bx-starpath"),System.get("elements/bx-ringpath");var e=System.get("utils/artwork"),n=e.isArtworkString,r=e.serializeArtwork,i=e.deserializeArtwork,a=e.rasterizeArtwork,s=System.get("utils/bbox").getClientBBox,o=(System.get("utils/constants").SHAPE_ELEMENTS,
System.get("utils/dom")),l=o.parseSVG,u=o.registerElement,c=o.createElement,d=o.createSVGPoint,h=o.createSVGMatrix,f=System.get("utils/paint").getDefFromURL,v=System.get("utils/path"),m=v.getPaperPath,b=v.getSubpathsData,g=v.ellipseToPath,p=v.reversePath,y=System.get("utils/rect").combineRects,_=System.get("utils/string").capitalize,x=(System.get("utils/time").sleep,
System.get("utils/transform")),w=x.getTransformOriginPoint,S=x.getTransformToElement,C=x.reducePathTransform,k=System.get("utils/relationship"),E=k.getElementIndex,A=k.sortByDomPosition,T=k.isElementIntersectingElement,L=k.sortBySiblingElements,M=k.sortByIntersectingElements,j=k.queryClippingElements,R=(k.queryGraphicsElements,
System.get("classes/shortcut")["default"]),O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>',P="http://sarasoueidan.com/blog/svg-coordinate-systems/",I='\n  <style>@import url("stylesheets/bx-editorbody.css");</style>\n\n  <main>\n    <bx-canvas id="canvas"></bx-canvas>\n    <bx-breadcrumb id="breadcrumb"></bx-breadcrumb>\n\n    <bx-dock id="tools-dock">\n      <bx-button\n        title="Transform Tool"\n        icon="transform-tool"\n        skin="bx-dock"\n        href="#transform-tool">\n      </bx-button>\n\n      <bx-button\n        title="Edit Tool"\n        icon="edit-tool"\n        skin="bx-dock"\n        href="#edit-tool">\n      </bx-button>\n\n      <bx-button\n        title="Quad Bezier Tool"\n        icon="quad-bezier-tool"\n        skin="bx-dock"\n        href="#quad-bezier-tool">\n      </bx-button>\n\n      <bx-button\n        title="Cubic Bezier Tool"\n        icon="cubic-bezier-tool"\n        skin="bx-dock"\n        href="#cubic-bezier-tool">\n      </bx-button>\n\n      <bx-button id="freehand"\n        title="Freehand Tool"\n        icon="freehand-tool"\n        skin="bx-dock"\n        href="#freehand-tool">\n      </bx-button>\n\n      <bx-button\n        title="Text Tool"\n        icon="text-tool"\n        skin="bx-dock"\n        href="#text-tool">\n      </bx-button>\n\n      <bx-button\n        title="Rectangle Tool"\n        icon="rect-tool"\n        skin="bx-dock"\n        href="#rect-tool">\n      </bx-button>\n\n      <bx-button\n        title="Ellipse Tool"\n        icon="ellipse-tool"\n        skin="bx-dock"\n        href="#ellipse-tool">\n      </bx-button>\n\n      <bx-button\n        title="Star Tool"\n        icon="star-tool"\n        skin="bx-dock"\n        href="#star-tool">\n      </bx-button>\n\n      <bx-button\n        title="Ring Tool"\n        icon="ring-tool"\n        skin="bx-dock"\n        href="#ring-tool">\n      </bx-button>\n    </bx-dock>\n\n    <bx-dock id="panels-dock">\n      <bx-button\n        title="Fill Panel"\n        icon="fill-panel"\n        iconsize="23"\n        skin="bx-dock"\n        href="#fill-panel">\n      </bx-button>\n\n      <bx-button\n        title="Stroke Panel"\n        icon="stroke-panel"\n        skin="bx-dock"\n        href="#stroke-panel">\n      </bx-button>\n\n      <bx-button\n        title="Compositing Panel"\n        icon="compositing-panel"\n        skin="bx-dock"\n        href="#compositing-panel">\n      </bx-button>\n\n      <bx-button\n        title="View Panel"\n        icon="view-panel"\n        skin="bx-dock"\n        href="#view-panel">\n      </bx-button>\n\n      <bx-button\n        title="Arrangement Panel"\n        icon="arrangement-panel"\n        skin="bx-dock"\n        href="#arrangement-panel">\n      </bx-button>\n\n      <bx-button\n        title="Typography Panel"\n        icon="typography-panel"\n        iconsize="22"\n        skin="bx-dock"\n        href="#typography-panel">\n      </bx-button>\n\n      <bx-button\n        title="Defs Panel"\n        icon="defs-panel"\n        skin="bx-dock"\n        href="#defs-panel">\n      </bx-button>\n\n      <bx-button\n        title="Mask Panel"\n        icon="mask-panel"\n        skin="bx-dock"\n        href="#mask-panel">\n      </bx-button>\n\n      <bx-button\n        title="Path Panel"\n        icon="path-panel"\n        skin="bx-dock"\n        href="#path-panel">\n      </bx-button>\n\n      <bx-button\n        title="Export Panel"\n        icon="export-panel"\n        skin="bx-dock"\n        href="#export-panel">\n      </bx-button>\n    </bx-dock>\n\n    <div id="tools">\n      <bx-transformtool id="transform-tool"></bx-transformtool>\n      <bx-edittool id="edit-tool"></bx-edittool>\n      <bx-quadbeziertool id="quad-bezier-tool"></bx-quadbeziertool>\n      <bx-cubicbeziertool id="cubic-bezier-tool"></bx-cubicbeziertool>\n      <bx-freehandtool id="freehand-tool"></bx-freehandtool>\n      <bx-texttool id="text-tool"></bx-texttool>\n      <bx-recttool id="rect-tool"></bx-recttool>\n      <bx-ellipsetool id="ellipse-tool"></bx-ellipsetool>\n      <bx-startool id="star-tool"></bx-startool>\n      <bx-ringtool id="ring-tool"></bx-ringtool>\n    </div>\n\n    <div id="panels">\n      <bx-panel id="fill-panel" label="Fill">\n        <bx-fillcontrols></bx-fillcontrols>\n      </bx-panel>\n\n      <bx-panel id="stroke-panel" label="Stroke">\n        <bx-strokecontrols></bx-strokecontrols>\n      </bx-panel>\n\n      <bx-panel id="compositing-panel" label="Compositing">\n        <bx-compositingcontrols></bx-compositingcontrols>\n      </bx-panel>\n\n      <bx-panel id="typography-panel" label="Typography">\n        <bx-typographycontrols></bx-typographycontrols>\n      </bx-panel>\n\n      <bx-panel id="view-panel" height="497" label="View" help="'+P+'">\n        <bx-viewcontrols></bx-viewcontrols>\n      </bx-panel>\n\n      <bx-panel id="arrangement-panel" label="Arrangement">\n        <bx-arrangementcontrols></bx-arrangementcontrols>\n      </bx-panel>\n\n      <bx-panel id="defs-panel" label="Defs">\n        <bx-defscontrols></bx-defscontrols>\n      </bx-panel>\n\n      <bx-panel id="mask-panel" label="Mask">\n        <bx-maskcontrols></bx-maskcontrols>\n      </bx-panel>\n\n      <bx-panel id="path-panel" label="Path">\n        <bx-pathcontrols></bx-pathcontrols>\n      </bx-panel>\n\n      <bx-panel id="export-panel" label="Export">\n        <bx-exportcontrols></bx-exportcontrols>\n      </bx-panel>\n    </div>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n      <bx-menuitem commandid="duplicate" label="Duplicate"></bx-menuitem>\n      <bx-menuitem commandid="delete" label="Delete"></bx-menuitem>\n      <hr/>\n      <bx-menuitem commandid="raise" label="Raise"></bx-menuitem>\n      <bx-menuitem commandid="lower" label="Lower"></bx-menuitem>\n      <hr/>\n      <bx-menuitem commandid="group" label="Group"></bx-menuitem>\n      <bx-menuitem commandid="ungroup" label="Ungroup"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n',D=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t,n,a,s,o,l,u;return $traceurRuntime.asyncWrap(function(c){
for(;;)switch(c.state){case 0:t=this,$traceurRuntime.superGet(this,e.prototype,"createdCallback").call(this),
this.commands={transformTool:{exec:function(){return t.toggleTool("transform-tool");
}},editTool:{exec:function(){return t.toggleTool("edit-tool")}},quadBezierTool:{exec:function(){
return t.toggleTool("quad-bezier-tool")}},cubicBezierTool:{exec:function(){return t.toggleTool("cubic-bezier-tool");
}},freehandTool:{exec:function(){return t.toggleTool("freehand-tool")}},textTool:{
exec:function(){return t.toggleTool("text-tool")}},rectTool:{exec:function(){return t.toggleTool("rect-tool");
}},ellipseTool:{exec:function(){return t.toggleTool("ellipse-tool")}},starTool:{exec:function(){
return t.toggleTool("star-tool")}},ringTool:{exec:function(){return t.toggleTool("ring-tool");
}},fillPanel:{exec:function(){return t.togglePanel("fill-panel")}},strokePanel:{exec:function(){
return t.togglePanel("stroke-panel")}},compositingPanel:{exec:function(){return t.togglePanel("compositing-panel");
}},maskPanel:{exec:function(){return t.togglePanel("mask-panel")}},typographyPanel:{
exec:function(){return t.togglePanel("typography-panel")}},pathPanel:{exec:function(){
return t.togglePanel("path-panel")}},exportPanel:{exec:function(){return t.togglePanel("export-panel");
}},viewPanel:{exec:function(){return t.togglePanel("view-panel")}},arrangementPanel:{
exec:function(){return t.togglePanel("arrangement-panel")}},defsPanel:{exec:function(){
return t.togglePanel("defs-panel")}},zoomIn:{exec:function(){return t.canvas.zoomBy(.3);
}},zoomOut:{exec:function(){return t.canvas.zoomBy(-.3)}},resetZoom:{enabled:function(){
return 100!==t.canvas.zoom},exec:function(){return t.canvas.resetZoom()}},zoomToFitAll:{
exec:function(){return t.canvas.zoomToFitAll()}},zoomToViewBox:{enabled:function(){
return t.canvas.currentArtboard.hasAttribute("viewBox")},exec:function(){return t.canvas.zoomToCurrentArtboardViewBox();
}},zoomToViewBoxWidth:{enabled:function(){return t.canvas.currentArtboard.hasAttribute("viewBox");
},exec:function(){return t.canvas.zoomToCurrentArtboardViewBoxWidth()}},zoomToViewBoxHeight:{
enabled:function(){return t.canvas.currentArtboard.hasAttribute("viewBox")},exec:function(){
return t.canvas.zoomToCurrentArtboardViewBoxHeight()}},undo:{enabled:function(){return t.canvas.undoManager.canUndo()&&t.isMouseDown===!1;
},exec:function(){return t.canvas.undoManager.undo()}},redo:{enabled:function(){return t.canvas.undoManager.canRedo()&&t.isMouseDown===!1;
},exec:function(){return t.canvas.undoManager.redo()}},group:{enabled:function(){
return t._canGroup()},exec:function(){return t._group()}},ungroup:{enabled:function(){
return t._canUngroup()},exec:function(){return t._ungroup()}},convertToPath:{enabled:function(){
return t._canConvertToPath()},exec:function(){return t._convertToPath()}},reversePath:{
enabled:function(){return t._canReversePath()},exec:function(){return t._reversePath();
}},unite:{enabled:function(){return t._canPerformBooleanOperation()},exec:function(){
return t._performBooleanOperation("unite")}},subtract:{enabled:function(){return t._canPerformBooleanOperation();
},exec:function(){return t._performBooleanOperation("subtract")}},intersect:{enabled:function(){
return t._canPerformBooleanOperation()},exec:function(){return t._performBooleanOperation("intersect");
}},exclude:{enabled:function(){return t._canPerformBooleanOperation()},exec:function(){
return t._performBooleanOperation("exclude")}},combine:{enabled:function(){return t._canCombine();
},exec:function(){return t._combine()}},breakApart:{enabled:function(){return t._canBreakApart();
},exec:function(){return t._breakApart()}},raise:{enabled:function(){return t._canRaise();
},exec:function(){return t._raise()}},raiseToFront:{enabled:function(){return t._canRaise();
},exec:function(){return t._raiseToFront()}},lower:{enabled:function(){return t._canLower();
},exec:function(){return t._lower()}},lowerToBack:{enabled:function(){return t._canLower();
},exec:function(){return t._lowerToBack()}},clip:{enabled:function(){return t._canClip();
},exec:function(){return t._clip()}},unclip:{enabled:function(){return t._canUnclip();
},exec:function(){return t._unclip()}},mask:{enabled:function(){return t._canMask();
},exec:function(){return t._mask()}},unmask:{enabled:function(){return t._canUnmask();
},exec:function(){return t._unmask()}},rotateClockwise:{enabled:function(){return t._canRotate();
},exec:function(){return t._rotate(90)}},rotateCounterclockwise:{enabled:function(){
return t._canRotate()},exec:function(){return t._rotate(-90)}},flipX:{enabled:function(){
return t._canFlip()},exec:function(){return t._flip("x")}},flipY:{enabled:function(){
return t._canFlip()},exec:function(){return t._flip("y")}},moveOneUnitLeft:{enabled:function(){
return t._canMove()},exec:function(){return t._move(1,"left")}},moveOneUnitRight:{
enabled:function(){return t._canMove()},exec:function(){return t._move(1,"right");
}},moveOneUnitUp:{enabled:function(){return t._canMove()},exec:function(){return t._move(1,"up");
}},moveOneUnitDown:{enabled:function(){return t._canMove()},exec:function(){return t._move(1,"down");
}},moveTenUnitsLeft:{enabled:function(){return t._canMove()},exec:function(){return t._move(10,"left");
}},moveTenUnitsRight:{enabled:function(){return t._canMove()},exec:function(){return t._move(10,"right");
}},moveTenUnitsUp:{enabled:function(){return t._canMove()},exec:function(){return t._move(10,"up");
}},moveTenUnitsDown:{enabled:function(){return t._canMove()},exec:function(){return t._move(10,"down");
}},selectAll:{exec:function(){return t.canvas.selectAll()}},deselectAll:{enabled:function(){
return t.canvas.selectedElements.length>0},exec:function(){return t.canvas.selectedElements=[];
}},copy:{enabled:function(){return t.canvas.selectedElements.length>0},exec:function(){
return t._copy()}},cut:{enabled:function(){return t.canvas.selectedElements.length>0;
},exec:function(){return t._cut()}},paste:{exec:function(){return t._paste()}},duplicate:{
enabled:function(){return t.canvas.selectedElements.length>0},exec:function(){return t._duplicate();
}},"delete":{enabled:function(){return t.canvas.selectedElements.length>0},exec:function(){
return t._delete()}},previousTool:{enabled:function(){return null!==t._previousToolID;
},exec:function(){return t.toggleTool(t._previousToolID)}}},this._previousToolID=null,
this.innerHTML=I,n=!0,a=!1,s=void 0;try{for(o=void 0,l=this.querySelectorAll("[id]")[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)u=o.value,
this["#"+u.id]=u}catch(d){a=!0,s=d}finally{try{n||null==l["return"]||l["return"]();
}finally{if(a)throw s}}this.addEventListener("contextmenu",function(e){return t._onContextMenu(e);
}),this["#tools-dock"].addEventListener("click",function(e){return t._onToolsDockClick(e);
}),this["#panels-dock"].addEventListener("click",function(e){return t._onPanelsDockClick(e);
}),this["#context-menu"].menuWillShow=function(e){return t._menuWillShow(e)},this["#context-menu"].menuItemWillTrigger=function(e){
return t._menuItemWillTrigger(e)},this["#context-menu"].addEventListener("menuitemtrigger",function(e){
return t.execCommand(e.detail.commandID)}),this.bridge.addMessageListener("init",function(e,n){
var r=e,a=r.artwork,s=r.distribution;t._updateDockButtonsForDistribution(s),t.canvas.loadArtwork(i(a)),
n()}),this.bridge.addMessageListener("getArtwork",function(e,n){var i=r(t.canvas.extractArtwork(),e);
n(i)}),this.bridge.addMessageListener("getArtworkFromSelectedElements",function(e,n){
var r=t._getArtworkFromSelectedElements(e);n(r)}),this.bridge.addMessageListener("setArtwork",function(e){
var n=i(e);t.canvas.loadArtwork(n)}),this.bridge.addMessageListener("distributionChanged",function(e){
t._updateDockButtonsForDistribution(e)}),this.toggleTool("transform-tool"),c.state=-2;
break;default:return c.end()}},this)},get canvas(){return this.querySelector("#canvas");
},set canvas(t){throw new Error("canvas property is read-only")},get tools(){return $traceurRuntime.spread(this["#tools"].children);
},set tools(t){throw new Error("tools property is read-only")},get panels(){return $traceurRuntime.spread(this["#panels"].children);
},set panels(t){throw new Error("panels property is read-only")},get currentTool(){
var t=null,e=this["#tools-dock"].querySelector("bx-button[pressed]");if(e){var n=e.href.slice(1);
t=this["#tools"].querySelector("#"+n)}return t},set currentTool(t){throw new Error("currentTool property is read-only");
},get currentPanel(){var t=null,e=this["#panels-dock"].querySelector("bx-button[pressed]");
if(e){var n=e.href.slice(1);t=this["#panels"].querySelector("#"+n)}return t},set currentPanel(t){
throw new Error("currentPanel property is read-only")},toggleTool:function(t){var e=this["#tools"].querySelector("#"+t),n=this["#tools-dock"].querySelector('bx-button[href="#'+t+'"]'),r=this["#tools-dock"].querySelector("bx-button[pressed]");
if(!n.pressed){if(!e)throw new Error("Tool with given ID was not found: "+t);if(r){
r.pressed=!1,this._previousToolID=r.href.substring(1);var i=r.href.slice(1),a=this["#tools"].querySelector("#"+i);
a&&(a.enabled=!1)}n.pressed=!0,e.enabled=!0,this.dispatchEvent(new CustomEvent("toolchange",{
detail:t})),this.bridge.postMessage("toolChanged",t.toCamelCase())}},togglePanel:function(t){
var e=this["#panels"].querySelector("#"+t),n=this["#panels-dock"].querySelector('bx-button[href="#'+t+'"]'),r=this["#panels-dock"].querySelector("bx-button[pressed]");
if(n.pressed)n.pressed=!1,e.enabled=!1,this.bridge.postMessage("panelChanged",null);else{
if(!e)throw new Error("Panel with given ID was not found: "+t);if(r){r.pressed=!1;
var i=r.href.slice(1),a=this["#panels"].querySelector("#"+i);a&&(a.enabled=!1)}n.pressed=!0,
e.enabled=!0,this.bridge.postMessage("panelChanged",t.toCamelCase())}},_onKeyDown:function(t){
$traceurRuntime.superGet(this,e.prototype,"_onKeyDown").call(this,t);var n=R.fromEvent(t);
this.canvas.selectedElements.length>0&&(n.matches("Backspace")?this._delete():n.matches("ArrowDown")?this._move(1,"down"):n.matches("ArrowUp")?this._move(1,"up"):n.matches("ArrowLeft")?this._move(1,"left"):n.matches("ArrowRight")?this._move(1,"right"):n.matches("Shift","ArrowDown")?this._move(10,"down"):n.matches("Shift","ArrowUp")?this._move(10,"up"):n.matches("Shift","ArrowLeft")?this._move(10,"left"):n.matches("Shift","ArrowRight")&&this._move(10,"right"));
},_onToolsDockClick:function(t){t.target!==this["#tools-dock"]&&this._onToolsDockButtonClick(t);
},_onPanelsDockClick:function(t){t.target!==this["#panels-dock"]&&this._onPanelsDockButtonClick(t);
},_onToolsDockButtonClick:function(t){var e=t.target,n=e.href.slice(1);this.toggleTool(n);
},_onPanelsDockButtonClick:function(t){var e=t.target,n=e.href.slice(1);this.togglePanel(n);
},_onContextMenu:function(t){this.canvas.contains(t.target)&&(t.preventDefault(),
this["#context-menu"].open(t.clientX,t.clientY))},_menuWillShow:function(t){var e=this;
return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.items[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(t){this._validateMenuItem(t);
},_validateMenuItem:function(t){var e=this;return new Promise(function(n){var r=t.commandID||null,i=r?e.commands[r]:null;
i&&(t.disabled=i.enabled?!i.enabled():!1),n()})},_getArtworkFromSelectedElements:function(t){
if(0===this.canvas.selectedElements.length)return O;var e=this.canvas.extractArtworkWithSelectedElements(),n=r(e,t);
return n},_updateDockButtonsForDistribution:function(t){var e=!0,n=!1,r=void 0;try{
for(var i=void 0,a=this["#tools-dock"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value,o=s.href.substring(1);s.hidden=t.tools&&t.tools.includes(o)===!1}}catch(l){
n=!0,r=l}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=this["#panels-dock"].children[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value,m=v.href.substring(1);v.hidden=t.panels&&t.panels.includes(m)===!1}
}catch(b){c=!0,d=b}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw d;
}}"embedded"===t.backend&&this["#tools-dock"].setAttribute("data-extra-whitespace","");
},_copy:function(){var t,e,n,i,s,o,l,u,c;return $traceurRuntime.asyncWrap(function(d){
for(;;)switch(d.state){case 0:t=this.canvas,e=t.selectedElements,n=t.selectedTextRange,
d.state=13;break;case 13:d.state=n&&n.collapsed===!1?9:8;break;case 9:i={"text/plain":n.toString()
},this.bridge.postMessage("setClipboardData",i),d.state=-2;break;case 8:d.state=e.length>0?4:-2;
break;case 4:s=this.canvas.extractArtworkWithSelectedElements(),o=r(s,"html"),l=r(s,"xml"),
d.state=5;break;case 5:return void Promise.resolve(a(s)).then(d.createCallback(3),d.errback);
case 3:u=d.value,d.state=2;break;case 2:c={"text/plain":o,"text/html":o,"image/png":u
},this.bridge.postMessage("setClipboardData",c),d.state=-2;break;default:return d.end();
}},this)},_paste:function(){var t=this,e=this.canvas.matches(":hover")?"pointer":"canvasCenter";
this.bridge.postMessage("getClipboardData",null,function(r){r["text/html"]&&n(r["text/html"])?t._pasteSVG(r["text/html"],e):r["image/png"]?t._pastePNG(r["image/png"],e):r["text/plain"]&&t._pasteText(r["text/plain"],e);
})},_pasteSVG:function(t,e){this.canvas.undoManager.checkpoint("Paste");var n=i(t);
this.canvas.insertArtwork(n,e)},_pastePNG:function(t){this.canvas.undoManager.checkpoint("Paste"),
this.canvas.insertBitmap(t)},_pasteText:function(t){this.canvas.undoManager.checkpoint("Paste");
var e=this.canvas.currentContainer||this.canvas.currentArtboard,n=e.getScreenCTM().inverse(),r=d(this.mouseClientX,this.mouseClientY),i=r.matrixTransform(n),a=S(e,this.canvas.currentArtboard).inverse(),s=l('<text style="font-size: 30;"><tspan>'+t+"</tspan></text>");
s.setAttribute("transform",a.toString()),s.setAttribute("x",i.x),s.setAttribute("y",i.y),
e.append(s),this.canvas.selectedElements=[s],this.canvas.currentContainer=e===this.canvas.currentArtboard?null:e;
},_duplicate:function(){this.canvas.undoManager.checkpoint("Duplicate");var t=this.canvas.extractArtworkWithSelectedElements();
this.canvas.insertArtwork(t,"original"),this.canvas.transformHud.blink()},_cut:function(){
this.canvas.undoManager.checkpoint("Cut"),this._copy();var t=A(this.canvas.selectedElements);
t.reverse(),this.canvas.selectedElements=[];var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.remove()}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_delete:function(){if(this.canvas.selectedElements.length>0){
this.canvas.undoManager.checkpoint("Delete");var t=A(this.canvas.selectedElements);
t.reverse(),this.canvas.selectedElements=[];var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.remove()}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}},_clip:function(){this.canvas.undoManager.checkpoint("Clip");
var t=this.canvas.selectedElements[0],e=j(this.canvas.selectedElements.slice(1)),n=this.canvas.generateUniqueID("clip"),r=c("svg:clipPath");
r.id=n,this.canvas.defs.append(r);var i=!0,a=!1,s=void 0;try{for(var o=void 0,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value,d=S(u,t);u.setAttribute("transform",d.toString()),r.appendChild(u)}
}catch(h){a=!0,s=h}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}this.canvas.selectedElements=this.canvas.selectedElements.filter(function(t){return e.includes(t)===!1;
}),t.style.clipPath="url(#"+n+")"},_canClip:function(){var t=!1,e=this.canvas.selectedElements[0]||null,n=this.canvas.selectedElements.slice(1),r=j(n),i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;
if(T(u,e)){t=!0;break}}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}return null===e||t===!1?!1:!0},_unclip:function(){this.canvas.undoManager.checkpoint("Unclip");
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;if("none"!==getComputedStyle(a).clipPath){var s=a,o=f(this.canvas.masterArtboard,a.style.clipPath);
if(o){var l=$traceurRuntime.spread(o.children),u=!0,c=!1,d=void 0;try{for(var h=void 0,v=l[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var m=h.value,b=S(m,this.canvas.currentArtboard),g=s.transform.baseVal.consolidate().matrix.multiply(b);
m.setAttribute("transform",g.toString()),this.canvas.currentArtboard.appendChild(m);
}}catch(p){c=!0,d=p}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}a.style.clipPath=null}}}}catch(y){e=!0,n=y}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}},_canUnclip:function(){var t=!1,e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value,o=getComputedStyle(s).clipPath;if("none"!==o){var l=f(this.canvas.masterArtboard,o);
if(l){t=!0;break}}}}catch(u){n=!0,r=u}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return t},_mask:function(){this.canvas.undoManager.checkpoint("Mask");
var t=this.canvas.selectedElements[0],e=this.canvas.selectedElements.slice(1),n=this.canvas.generateUniqueID("mask"),r=c("svg:mask");
r.id=n,this.canvas.defs.append(r);var i=!0,a=!1,s=void 0;try{for(var o=void 0,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value,d=S(u,t);u.setAttribute("transform",d.toString()),r.appendChild(u)}
}catch(h){a=!0,s=h}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}this.canvas.selectedElements=this.canvas.selectedElements.filter(function(t){return e.includes(t)===!1;
}),t.style.mask="url(#"+n+")"},_canMask:function(){var t=!1,e=this.canvas.selectedElements[0]||null,n=this.canvas.selectedElements.slice(1),r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=n[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
if(T(l,e)){t=!0;break}}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return null===e||t===!1?!1:!0},_unmask:function(){this.canvas.undoManager.checkpoint("Unmask");
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;if("none"!==getComputedStyle(a).mask){var s=a,o=f(this.canvas.masterArtboard,a.style.mask);
if(o){var l=$traceurRuntime.spread(o.children),u=!0,c=!1,d=void 0;try{for(var h=void 0,v=l[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var m=h.value,b=S(m,this.canvas.currentArtboard),g=s.transform.baseVal.consolidate().matrix.multiply(b);
m.setAttribute("transform",g.toString()),this.canvas.currentArtboard.appendChild(m);
}}catch(p){c=!0,d=p}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}a.style.mask=null}}}}catch(y){e=!0,n=y}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}},_canUnmask:function(){var t=!1,e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value,o=getComputedStyle(s).mask;if("none"!==o){var l=f(this.canvas.masterArtboard,o);
if(l){t=!0;break}}}}catch(u){n=!0,r=u}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return t},_move:function(){var t=void 0!==arguments[0]?arguments[0]:1,e=void 0!==arguments[1]?arguments[1]:"left";
this.canvas.undoManager.checkpoint("Move");var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this.canvas.selectedElements[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value,l=h(o.transform.baseVal.consolidate().matrix),u=S(o,this.canvas.currentArtboard),c=u.inverse(),d=h();
"left"===e?d.translateSelf(-t,0):"right"===e?d.translateSelf(t,0):"up"===e?d.translateSelf(0,-t):"down"===e&&d.translateSelf(0,t);
var f=h(l);f.multiplySelf(c),f.multiplySelf(d),f.multiplySelf(u),o.setAttribute("transform",f.toString());
}}catch(v){r=!0,i=v}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}},_canMove:function(){return this.canvas.selectedElements.length>0},_flip:function(){
var t=void 0!==arguments[0]?arguments[0]:"x";this.canvas.undoManager.checkpoint("Flip");
var e=$traceurRuntime.spread(this.canvas.selectedElements),n=function(){var t=0,n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value;
n[t++]=s(u)}}catch(c){i=!0,a=c}finally{try{r||null==l["return"]||l["return"]()}finally{
if(i)throw a}}return n}(),r=y(n),i=!0,a=!1,o=void 0;try{for(var l=void 0,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=h(c.transform.baseVal.consolidate().matrix),f=c.getScreenCTM(),v=f.inverse(),m=void 0;
if("x"===t){var b=2*(r.x+r.width/2);m=h(-1,0,0,1,b,0)}else if("y"===t){var g=2*(r.y+r.height/2);
m=h(1,0,0,-1,0,g)}var p=h(d);p.multiplySelf(v),p.multiplySelf(m),p.multiplySelf(f),
c.setAttribute("transform",p.toString())}}catch(_){a=!0,o=_}finally{try{i||null==u["return"]||u["return"]();
}finally{if(a)throw o}}},_canFlip:function(){return this.canvas.selectedElements.length>0;
},_raise:function(){this.canvas.undoManager.checkpoint("Raise");var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=L(this.canvas.selectedElements)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var t=f.value,e=$traceurRuntime.spread(t[0].parentElement.children).filter(function(e){
if(t.includes(e))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(T(e,o))return!0}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!1}),n=e.find(function(e){return E(e)>E(t[t.length-1]);
});if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=t.reverse()[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.after(a)}}catch(s){c=!0,d=s}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},f=void 0,v=M(a)[Symbol.iterator]();!(s=(f=v.next()).done);s=!0)h();
}catch(m){o=!0,l=m}finally{try{s||null==v["return"]||v["return"]()}finally{if(o)throw l;
}}}}catch(b){e=!0,n=b}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_raiseToFront:function(){this.canvas.undoManager.checkpoint("Raise to Front");
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=L(this.canvas.selectedElements)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var t=f.value,e=$traceurRuntime.spread(t[0].parentElement.children).filter(function(e){
if(t.includes(e))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(T(e,o))return!0}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!1}),n=e[e.length-1];if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=t.reverse()[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.after(a)}}catch(s){c=!0,d=s}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},f=void 0,v=M(a)[Symbol.iterator]();!(s=(f=v.next()).done);s=!0)h();
}catch(m){o=!0,l=m}finally{try{s||null==v["return"]||v["return"]()}finally{if(o)throw l;
}}}}catch(b){e=!0,n=b}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_canRaise:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=L(this.canvas.selectedElements)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=function(){var t=d.value,e=$traceurRuntime.spread(t[0].parentElement.children).filter(function(e){
if(t.includes(e))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(T(e,o))return!0}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!1}),n=e.find(function(e){return E(e)>E(t[t.length-1]);
});return n?{v:!0}:void 0},c=void 0,d=void 0,h=M(a)[Symbol.iterator]();!(s=(d=h.next()).done);s=!0)if(c=u(),
"object"===("undefined"==typeof c?"undefined":$traceurRuntime["typeof"](c)))return c.v;
}catch(f){o=!0,l=f}finally{try{s||null==h["return"]||h["return"]()}finally{if(o)throw l;
}}}}catch(v){e=!0,n=v}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}return!1},_lower:function(){this.canvas.undoManager.checkpoint("Lower");var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=L(this.canvas.selectedElements)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var t=f.value,e=$traceurRuntime.spread(t[0].parentElement.children).filter(function(e){
if(t.includes(e))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(T(e,o))return!0}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!1}),n=e.reverse().find(function(e){return E(e)<E(t[0]);
});if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=t[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.before(a)}}catch(s){c=!0,d=s}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},f=void 0,v=M(a)[Symbol.iterator]();!(s=(f=v.next()).done);s=!0)h();
}catch(m){o=!0,l=m}finally{try{s||null==v["return"]||v["return"]()}finally{if(o)throw l;
}}}}catch(b){e=!0,n=b}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_lowerToBack:function(){this.canvas.undoManager.checkpoint("Lower to Back");var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=L(this.canvas.selectedElements)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var t=f.value,e=$traceurRuntime.spread(t[0].parentElement.children).filter(function(e){
if(t.includes(e))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(T(e,o))return!0}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!1}),n=e[0];if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=t[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.before(a)}}catch(s){c=!0,d=s}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},f=void 0,v=M(a)[Symbol.iterator]();!(s=(f=v.next()).done);s=!0)h();
}catch(m){o=!0,l=m}finally{try{s||null==v["return"]||v["return"]()}finally{if(o)throw l;
}}}}catch(b){e=!0,n=b}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_canLower:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=L(this.canvas.selectedElements)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=function(){var t=d.value,e=$traceurRuntime.spread(t[0].parentElement.children).filter(function(e){
if(t.includes(e))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(T(e,o))return!0}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!1}),n=e.reverse().find(function(e){return E(e)<E(t[0]);
});return n?{v:!0}:void 0},c=void 0,d=void 0,h=M(a)[Symbol.iterator]();!(s=(d=h.next()).done);s=!0)if(c=u(),
"object"===("undefined"==typeof c?"undefined":$traceurRuntime["typeof"](c)))return c.v;
}catch(f){o=!0,l=f}finally{try{s||null==h["return"]||h["return"]()}finally{if(o)throw l;
}}}}catch(v){e=!0,n=v}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}return!1},_rotate:function(){var t=void 0!==arguments[0]?arguments[0]:90;this.canvas.undoManager.checkpoint("Rotate");
var e=$traceurRuntime.spread(this.canvas.selectedElements),n=w.apply(void 0,$traceurRuntime.spread(e)),r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,u=h(l.transform.baseVal.consolidate().matrix),c=l.getScreenCTM(),d=c.inverse(),f=h(u);
f.multiplySelf(d),f.rotateSelf(t,n.x,n.y),f.multiplySelf(c),l.setAttribute("transform",f.toString());
}}catch(v){i=!0,a=v}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a;
}}},_canRotate:function(){return this.canvas.selectedElements.length>0},_group:function(){
this.canvas.undoManager.checkpoint("Group");var t=$traceurRuntime.spread(this.canvas.selectedElements),e=c("svg:g");
t[0].after(e),t=A(t);var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value,l=S(o,e);o.setAttribute("transform",l.toString()),e.append(o)}}catch(u){
r=!0,i=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}this.canvas.selectedElements=[e];
},_canGroup:function(){return this.canvas.selectedElements.length>0},_ungroup:function(){
this.canvas.undoManager.checkpoint("Ungroup");var t=$traceurRuntime.spread(this.canvas.selectedElements),e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
if("g"===o.localName){var l=o,u=!0,c=!1,d=void 0;try{for(var h=void 0,f=$traceurRuntime.spread(l.children)[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value,m=S(v,l.parentElement);v.setAttribute("transform",m.toString()),l.before(v),
e.push(v)}}catch(b){c=!0,d=b}finally{try{u||null==f["return"]||f["return"]()}finally{
if(c)throw d}}l.remove()}else e.push(o)}}catch(g){r=!0,i=g}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}this.canvas.selectedElements=$traceurRuntime.spread(e)},_canUngroup:function(){
return this.canvas.selectedElements.length>0},_convertToPath:function(){var t,e,n,r,i,a,s,o,l,u,c,d,h;
return $traceurRuntime.asyncWrap(function(f){for(;;)switch(f.state){case 0:f.state=this._canConvertToPath()===!1?1:3;
break;case 1:f.returnValue=void 0,f.state=2;break;case 2:f.state=-2;break;case 3:
this.canvas.undoManager.checkpoint("Convert to path"),body.canvas.selectedTextRange=null,
t=[],e=!0,n=!1,r=void 0,f.state=44;break;case 44:f.pushTry(30,31),f.state=33;break;
case 33:i=void 0,a=this.canvas.selectedElements[Symbol.iterator](),f.state=29;break;
case 29:f.state=(e=(i=a.next()).done)?27:25;break;case 23:e=!0,f.state=29;break;case 25:
s=i.value,f.state=26;break;case 26:f.state="ellipse"===s.localName?22:21;break;case 22:
o=g(s),s.replace(o),t.push(o),f.state=23;break;case 21:f.state="path"===s.localName?19:18;
break;case 19:l=s.getAttribute("is"),"bx-rectpath"===l||"bx-starpath"===l||"bx-ringpath"===l?(u=s.toSVGPath(!1),
s.replace(u),t.push(u)):t.push(s),f.state=23;break;case 18:f.state="text"===s.localName?5:16;
break;case 5:return void Promise.resolve(this.canvas.googleFontsManager.canReplaceTextWithPaths(s)).then(f.createCallback(7),f.errback);
case 7:c=f.value,f.state=6;break;case 6:f.state=c?8:13;break;case 8:return void Promise.resolve(this.canvas.googleFontsManager.replaceTextWithPaths(s)).then(f.createCallback(10),f.errback);
case 10:d=f.value,f.state=9;break;case 9:t=$traceurRuntime.spread(t,d),f.state=23;
break;case 13:t.push(s),f.state=23;break;case 16:t.push(s),f.state=23;break;case 27:
f.popTry(),f.state=31,f.finallyFallThrough=35;break;case 30:f.popTry(),f.maybeUncatchable(),
h=f.storedException,f.state=36;break;case 36:n=!0,r=h,f.state=31,f.finallyFallThrough=35;
break;case 31:f.popTry(),f.state=42;break;case 42:try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}f.state=40;break;case 35:body.canvas.selectedElements=t,f.state=-2;
break;case 40:f.state=f.finallyFallThrough;break;default:return f.end()}},this)},
_canConvertToPath:function(){var t=this;return new Promise(function(e){var n,r,i,a,s,o,l,u,c;
return $traceurRuntime.asyncWrap(function(d){for(;;)switch(d.state){case 0:n=!1,r=!0,
i=!1,a=void 0,d.state=40;break;case 40:d.pushTry(26,27),d.state=29;break;case 29:
s=void 0,o=t.canvas.selectedElements[Symbol.iterator](),d.state=25;break;case 25:
d.state=(r=(s=o.next()).done)?23:21;break;case 19:r=!0,d.state=25;break;case 21:l=s.value,
d.state=22;break;case 22:d.state="ellipse"===l.localName?18:17;break;case 18:n=!0,
d.state=19;break;case 17:d.state="path"===l.localName?8:16;break;case 8:u=l.getAttribute("is"),
d.state=9;break;case 9:d.state="bx-rectpath"===u||"bx-starpath"===u||"bx-ringpath"===u?5:3;
break;case 5:n=!0,d.state=19;break;case 3:n=!1,d.state=23;break;case 16:d.state="text"===l.localName?10:19;
break;case 10:return void Promise.resolve(t.canvas.googleFontsManager.canReplaceTextWithPaths(l)).then(d.createCallback(12),d.errback);
case 12:n=d.value,d.state=11;break;case 11:d.state=n===!1?23:19;break;case 23:d.popTry(),
d.state=27,d.finallyFallThrough=31;break;case 26:d.popTry(),d.maybeUncatchable(),
c=d.storedException,d.state=32;break;case 32:i=!0,a=c,d.state=27,d.finallyFallThrough=31;
break;case 27:d.popTry(),d.state=38;break;case 38:try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}d.state=36;break;case 31:e(n),d.state=-2;break;case 36:d.state=d.finallyFallThrough;
break;default:return d.end()}},this)})},_reversePath:function(){if(this._canReversePath()!==!1){
this.canvas.undoManager.checkpoint("Reverse path");var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;"path"===a.localName&&a.hasAttribute("is")===!1&&(console.log("B"),
p(a))}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]()}finally{
if(e)throw n}}}},_canReversePath:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;if("path"===a.localName&&a.hasAttribute("is")===!1)return!0}}catch(s){
e=!0,n=s}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}return!1;
},_performBooleanOperation:function(){var t,e,n,r,i=void 0!==arguments[0]?arguments[0]:"unite";
if(this._canPerformBooleanOperation()!==!1){this.canvas.undoManager.checkpoint(_(i));
var a=this.canvas.selectedElements,s=(t=a[Symbol.iterator](),(e=t.next()).done?void 0:e.value),o=$traceurRuntime.iteratorToArray(t),l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=this.canvas.selectedElements[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value,b=void 0;"path"===v.localName?b=v.toSVGPath?v.toSVGPath(!1):v.cloneNode():"ellipse"===v.localName&&(b=g(v));
var p=S(v,s.parentElement).toString();b.setAttribute("transform",p),b.setPathData(b.getPathData({
normalize:!0})),C(b),l.push(b)}}catch(y){c=!0,d=y}finally{try{u||null==f["return"]||f["return"]();
}finally{if(c)throw d}}var x=l,w=(n=x[Symbol.iterator](),(r=n.next()).done?void 0:r.value),k=$traceurRuntime.iteratorToArray(n),E=!0,A=!1,T=void 0;
try{for(var L=void 0,M=k[Symbol.iterator]();!(E=(L=M.next()).done);E=!0){var j=L.value,R=w.getAttribute("d"),O=j.getAttribute("d"),P=m(R),I=m(O),D=void 0;
"unite"===i?D=P.unite(I).exportSVG():"subtract"===i?D=P.subtract(I).exportSVG():"intersect"===i?D=P.intersect(I).exportSVG():"exclude"===i&&(D=P.exclude(I).exportSVG()),
D?w.setAttribute("d",D.getAttribute("d")):w.removeAttribute("d")}}catch(N){A=!0,T=N;
}finally{try{E||null==M["return"]||M["return"]()}finally{if(A)throw T}}w.hasAttribute("d")?s.replace(w):s.remove();
var V=!0,B=!1,U=void 0;try{for(var z=void 0,G=o[Symbol.iterator]();!(V=(z=G.next()).done);V=!0){
var H=z.value;H.remove()}}catch(F){B=!0,U=F}finally{try{V||null==G["return"]||G["return"]();
}finally{if(B)throw U}}w.hasAttribute("d")?this.canvas.selectedElements=[w]:this.canvas.selectedElements=[];
}},_canPerformBooleanOperation:function(){if(this.canvas.selectedElements.length<2)return!1;
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;if(["path","ellipse"].includes(a.localName)===!1)return!1}}catch(s){
e=!0,n=s}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}return!0;
},_combine:function(){var t,e,n,r;if(this._canCombine()!==!1){this.canvas.undoManager.checkpoint("Combine");
var i=this.canvas.selectedElements,a=(t=i[Symbol.iterator](),(e=t.next()).done?void 0:e.value),s=$traceurRuntime.iteratorToArray(t),o=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this.canvas.selectedElements[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value,v=void 0;"path"===f.localName?v=f.toSVGPath?f.toSVGPath(!1):f.cloneNode():"ellipse"===f.localName&&(v=g(f));
var m=S(f,a.parentElement).toString();v.setAttribute("transform",m),v.setPathData(v.getPathData({
normalize:!0})),C(v),o.push(v)}}catch(b){u=!0,c=b}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}var p=o,y=(n=p[Symbol.iterator](),(r=n.next()).done?void 0:r.value),_=$traceurRuntime.iteratorToArray(n),x=y.getPathData(),w=!0,k=!1,E=void 0;
try{for(var A=void 0,T=_[Symbol.iterator]();!(w=(A=T.next()).done);w=!0){var L=A.value,M=L.getPathData();
x=$traceurRuntime.spread(x,M)}}catch(j){k=!0,E=j}finally{try{w||null==T["return"]||T["return"]();
}finally{if(k)throw E}}y.setPathData(x),a.replace(y);var R=!0,O=!1,P=void 0;try{for(var I=void 0,D=s[Symbol.iterator]();!(R=(I=D.next()).done);R=!0){
var N=I.value;N.remove()}}catch(V){O=!0,P=V}finally{try{R||null==D["return"]||D["return"]();
}finally{if(O)throw P}}this.canvas.selectedElements=[y]}},_canCombine:function(){
if(this.canvas.selectedElements.length<2)return!1;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;if(["path","ellipse"].includes(a.localName)===!1)return!1}}catch(s){
e=!0,n=s}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}return!0;
},_breakApart:function(){},_canBreakApart:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;if("path"===a.localName&&a.hasAttribute("is")===!1){var s=b(a.getPathData(!0));
if(s.length>1)return!1}}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}return!1}},{},t)}(t),N=u("body","bx-editorbody",D);return{
get default(){return N}}}),System.registerModule("elements/bx-edittool",[],function(){
"use strict";var t=System.get("utils/bbox").getClientBBox,e=System.get("utils/dom"),n=e.closest,r=e.registerElement,i=(e.isTransformableElement,
System.get("utils/event").isMouseMoveIntentional),a=System.get("utils/rect"),s=a.rectContainsRect,o=a.transformRect,l=System.get("utils/relationship").queryGraphicsElements,u=System.get("utils/text").getRangeOffsetRelativeToElement,c=System.get("utils/time").debounce,d=(System.get("classes/vector")["default"],
System.get("classes/shortcut")["default"]),h=System.get("utils/constants").GRAPHICS_ELEMENTS,f=Node.DOCUMENT_POSITION_PRECEDING,v=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._onKeyPress300Db=c(this._onKeyPress300Db,300,this,!0),
this._onBackspaceKeyDown600Db=c(this._onBackspaceKeyDown600Db,600,this,!0);var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_enableTextInputMode:function(){var t=this;body.canvas.textInputMode=!0,document.addEventListener("selectionchange",this._selectionChangeListener=function(){
t._onSystemSelectionChange()}),document.addEventListener("mousedown",this._documentMouseDownListener=function(e){
t._onDocumentMouseDown(e)}),document.addEventListener("keydown",this._keydownListener=function(e){
t._onKeyDown(e)}),document.addEventListener("keypress",this._keypressListener=function(e){
t._onKeyPress300Db(e),t._onKeyPress(e)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
t._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
t._onUndoOrRedo()})},_disableTextInputMode:function(){body.canvas.textInputMode=!1,
document.removeEventListener("selectionchange",this._selectionChangeListener),document.removeEventListener("mousedown",this._documentMouseDownListener),
document.removeEventListener("keydown",this._keydownListener),document.removeEventListener("keypress",this._keypressListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener);
},_onEnabled:function(){var t=this;if(body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("rect-hud"),
body.canvas.enableHud("ellipse-hud"),body.canvas.enableHud("star-hud"),body.canvas.enableHud("ring-hud"),
body.canvas.enableHud("paths-edit-hud"),body.canvas.enableHud("rubber-band-hud"),
body.canvas.enableHud("selected-text-range-hud"),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),1===body.canvas.selectedElements.length&&"text"===body.canvas.selectedElements[0].localName){
var e=body.canvas.selectedElements[0];this._enableTextInputMode();var n=new Range;
n.selectNodeContents(e),body.canvas.selectedTextRange=n,this._setSystemSelectionToCanvasSelectedTextRange();
}},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("rect-hud"),
body.canvas.disableHud("ellipse-hud"),body.canvas.disableHud("star-hud"),body.canvas.disableHud("ring-hud"),
body.canvas.disableHud("paths-edit-hud"),body.canvas.disableHud("rubber-band-hud"),
body.canvas.disableHud("selected-text-range-hud"),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.selectedTextRange=null,this._disableTextInputMode()},_onSelectedElementsChange:function(){
if(body.canvas.selectedTextRange){var t=n(body.canvas.selectedTextRange.startContainer,"text"),e=body.canvas.selectedElements.find(function(e){
return e===t||e.contains(t)});e||(body.canvas.selectedTextRange=null)}},_onSystemSelectionChange:function(){
var t=body.canvas._shadowRoot.getSelection();if("None"!==t.type){var e=l(body.canvas.selectedElements),n=e.length>0?e[0]:null,r=t.getRangeAt(0).cloneRange(),i=n&&"text"===n.localName?n:null;
i&&i.contains(r.startContainer)&&i!==r.startContainer&&i.contains(r.endContainer)&&i!==r.endContainer&&(r.direction=this._getSelectionDirection(t),
body.canvas.selectedTextRange=r)}},_onUndoOrRedo:function(){body.canvas.selectedTextRange=null,
this._setSystemSelectionToCanvasSelectedTextRange()},_onKeyDown:function(t){var e=d.fromEvent(t);
e.ctrl||e.alt||e.meta||t.stopImmediatePropagation(),body.isMouseDown?(t.preventDefault(),
t.stopImmediatePropagation()):e.includes("ArrowUp")||e.includes("ArrowDown")?(t.preventDefault(),
t.stopImmediatePropagation()):e.includes("ArrowLeft")||e.includes("ArrowRight")?this._setSystemSelectionToCanvasSelectedTextRange():e.matches("Control","A")?(t.preventDefault(),
t.stopImmediatePropagation(),this._selectAll()):e.matches("Enter")?(t.preventDefault(),
t.stopImmediatePropagation()):e.includes("Backspace")&&(t.preventDefault(),t.stopImmediatePropagation(),
this._onBackspaceKeyDown600Db(t),this._onBackspaceKeyDown(t))},_onBackspaceKeyDown:function(t){
this._setSystemSelectionToCanvasSelectedTextRange();var e=body.canvas.selectedTextRange,r=n(e.startContainer,"text"),i=u(e,r,"start");
(e.collapsed!==!0||0!==i)&&(document.execCommand("delete"),0===r.textContent.length&&(r.remove(),
body.canvas.selectedTextRange=null,this._disableTextInputMode()))},_onBackspaceKeyDown600Db:function(t){
body.canvas.undoManager.checkpoint("Delete text")},_onKeyPress:function(t){var e=n(body.canvas.selectedTextRange.startContainer,"text"),r=n(body.canvas.selectedTextRange.startContainer,"textPath"),i=r||e,a=body.canvas.selectedTextRange;
if(a.collapsed===!1&&a.toString()===i.textContent){var s=i.children[0],o=String.fromCharCode(t.keyCode);
for(s.innerHTML=o;i.childElementCount>1;)i.lastChild.remove();t.preventDefault(),
a.selectNodeContents(s),a.collapse(),this._setSystemSelectionToCanvasSelectedTextRange();
}},_onKeyPress300Db:function(t){body.canvas.undoManager.checkpoint("Text")},_onDocumentMouseDown:function(t){
t.target!==body.canvas&&this._disableTextInputMode()},_onArtboardMouseDown:function(t){
var e=this;if(0===t.button){var n=body.canvas.getHitArtboardElements(t.clientX,t.clientY),r=n.length>0?n[n.length-1]:null,a=r&&"text"===r.localName?r:null;
if(a?this._onMouseDownTextElementHit(r,t):r?this._onMouseDownNonTextElementHit(r,t):this._onMouseDownEmptySpaceHit(),
null===a){var s,o;window.addEventListener("mousemove",s=function(n){i(t,n)&&(window.removeEventListener("mousemove",s),
e._onArtboardIntentionalDragStart(t,n))}),window.addEventListener("mouseup",o=function(n){
window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",o),
t.clientX===n.clientX&&t.clientY===n.clientY&&e._onArtboardClick(n)})}}},_onMouseDownTextElementHit:function(t,e){
var n=body.modKeys.shift;if(n===!1)body.canvas.selectedElements=[t],this._updateCurrentContainer(),
body.canvas.textInputMode||this._enableTextInputMode(t);else if(n===!0){var r=body.canvas.selectedElements.find(function(e){
return e.contains(t)});r?(body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==r}),body.canvas.selectedTextRange=null):body.canvas.selectedElements.includes(t)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==t}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[t]),
this._updateCurrentContainer(),body.canvas.textInputMode||this._enableTextInputMode(t);
}e.detail>=3&&(e.preventDefault(),this._selectAll())},_onMouseDownNonTextElementHit:function(){
this._disableTextInputMode(),null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null);
},_onMouseDownEmptySpaceHit:function(){this._disableTextInputMode(),null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null);
},_onArtboardIntentionalDragStart:function(t){var e=this,n=t,r=n.clientX,i=n.clientY;
body.canvas.rubberBandHud.grabSelection(r,i,function(t){var n=e._getSelectedPaths();
n.length>0?body.canvas.pathsEditHud.rubberBandSelectionCallback(t):(null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null),
body.canvas.selectedElements=e._getElementsInBBox(t),e._updateCurrentContainer());
})},_onArtboardClick:function(t){var e=body.modKeys.shift,n=body.canvas.getHitArtboardElements(t.clientX,t.clientY),r=n.length>0?n[n.length-1]:null;
if(r){if(e===!1)body.canvas.selectedElements=[r],null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null),
this._updateCurrentContainer();else if(e===!0){var i=body.canvas.selectedElements.find(function(t){
return t.contains(r)});i?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==i}):body.canvas.selectedElements.includes(r)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==r}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[r]),
this._updateCurrentContainer()}}else body.canvas.selectedElements=[],this._updateCurrentContainer();
},_selectAll:function(){if(null!==body.canvas.selectedTextRange){var t=n(body.canvas.selectedTextRange.startContainer,"text"),e=n(body.canvas.selectedTextRange.startContainer,"textPath"),r=e||t,i=r.childNodes[0],a=r.childNodes[r.childNodes.length-1],s=new Range;
s.setStart(i.childNodes[0],0),s.setEnd(a.childNodes[0],a.childNodes[0].textContent.length),
body.canvas.selectedTextRange=s,this._setSystemSelectionToCanvasSelectedTextRange();
}},_getSelectionDirection:function(t){var e=t.anchorNode.compareDocumentPosition(t.focusNode);
return!e&&t.anchorOffset>t.focusOffset||e===f?"backward":"forward"},_getSelectedPaths:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"path"===o.localName&&o.hasAttribute("d")&&!o.hasAttribute("is")?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedPaths(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e},_getElementsInBBox:function(e){var n=[],r=body.canvas.currentArtboard.getScreenCTM().inverse(),i=function(a){
var l=!0,u=!1,c=void 0;try{for(var d=void 0,f=a.children[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){
var v=d.value;if(h.includes(v.localName)){var m=t(v);m=o(m,r);var b=0===m.width&&0===m.height;
!b&&s(e,m)&&n.push(v)}else("g"===v.localName||"a"===v.localName)&&i(v)}}catch(g){
u=!0,c=g}finally{try{l||null==f["return"]||f["return"]()}finally{if(u)throw c}}};return i(body.canvas.currentArtboard),
n},_setSystemSelectionToCanvasSelectedTextRange:function(){var t=document.getSelection(),e=body.canvas.selectedTextRange;
null===e?t.removeAllRanges():(t.removeAllRanges(),t.addRange(e))},_updateCurrentContainer:function(){
var t=body.canvas.selectedElements.length>0?body.canvas.selectedElements[0]:null,e=null;
if(t){var n=t.closest("g, a");n!==body.canvas.currentArtboard&&(e=n)}body.canvas.currentContainer=e;
}},{},e)}(HTMLElement),m=r("bx-edittool",v);return{get default(){return m}}}),System.registerModule("elements/bx-ellipsehud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=(t.createElement,
t.createSVGPoint),r=System.get("utils/math").normalize,i=System.get("utils/time").throttle,a=System.get("utils/transform").getTransformToElement,s=System.get("classes/enum")["default"],o=new s("ellipse"),l=6,u=8,c='\n  <style>@import url("stylesheets/bx-ellipsehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',d=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._installed=!1,this._selectedEllipses=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=i(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=c;var t=!0,e=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw n}}var l=!0,u=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,d=m}finally{try{
l||null==f["return"]||f["return"]()}finally{if(u)throw d}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var t=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(e){
t._onShadowRootMouseDown(e)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedEllipses=this._getSelectedEllipses(),
0===this._selectedEllipses.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(t){t.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(t){
t.target.classList.contains("grippie")&&this._onGrippieMouseDown(t)},_onGrippieMouseDown:function(t){
var e=this;if(0===t.button){var i,a,s,l=t.target,c=l.parentElement,d=c[o.ellipse],h=l.getAttribute("data-axis"),f=d.getCTM().inverse(),v={
rx:d.rx.baseVal.value,ry:d.ry.baseVal.value},m=n(t.clientX,t.clientY).matrixTransform(f),b=n(m.x,m.y),g="normal",p=!1;
l.parentElement.append(l),this._draggedGrippie=l;var y=function(){var t=body.modKeys,e=t.ctrl,n=t.shift;
e===!0&&n===!1?g="normal":e===!1&&n===!0?g="symmetric":e===!0&&n===!0?g="symmetric":d.rx.baseVal.value===d.ry.baseVal.value&&(g="symmetric");
},_=function(){var t=b.x-m.x,e=b.y-m.y;if("rx"===h){if("normal"===g){var n=r(v.rx+t,0,1/0,u);
d.setAttribute("rx",n)}else if("symmetric"===g){var i=r(v.rx+t,0,1/0,u);d.setAttribute("rx",i),
d.setAttribute("ry",i)}}else if("ry"===h)if("normal"===g){var a=r(v.ry+e,0,1/0,u);
d.setAttribute("ry",a)}else if("symmetric"===g){var s=r(v.ry+e,0,1/0,u);d.setAttribute("rx",s),
d.setAttribute("ry",s)}};window.addEventListener("mousemove",i=function(t){p||(p=!0,
body.canvas.undoManager.checkpoint("Ellipse radius")),b=n(t.clientX,t.clientY).matrixTransform(f),
_()}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",i),
window.removeEventListener("mouseup",a),body.removeEventListener("modkeyschange",s),
e._draggedGrippie=null}),body.addEventListener("modkeyschange",s=function(){y(),_();
}),y()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this._selectedEllipses[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[o.ellipse]=a,
this["#subhuds"].append(s)}}catch(l){e=!0,n=l}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var t=!0,e=!1,r=void 0;try{for(var i=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){
var l=i.value,u=l[o.ellipse],c=a(u,this),d=!0,h=!1,f=void 0;try{for(var v=void 0,m=l.children[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){
var b=v.value,g=b.getAttribute("data-axis");if("rx"===g){var p=n(u.cx.baseVal.value+u.rx.baseVal.value,u.cy.baseVal.value).matrixTransform(c);
b.setAttribute("cx",p.x),b.setAttribute("cy",p.y)}else if("ry"===g){var y=n(u.cx.baseVal.value,u.cy.baseVal.value+u.ry.baseVal.value).matrixTransform(c);
b.setAttribute("cx",y.x),b.setAttribute("cy",y.y)}}}catch(_){h=!0,f=_}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw f}}}}catch(x){e=!0,r=x}finally{
try{t||null==s["return"]||s["return"]()}finally{if(e)throw r}}},_updateGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,u=void 0;try{for(var c=void 0,d=a.children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.setAttribute("r",l/body.canvas.scale)}}catch(f){o=!0,u=f}finally{
try{s||null==d["return"]||d["return"]()}finally{if(o)throw u}}}}catch(v){e=!0,n=v;
}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_getSelectedEllipses:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"ellipse"===o.localName?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedEllipses(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),h=e("g","bx-ellipsehud",d);return{get default(){
return h}}}),System.registerModule("elements/bx-ellipsetool",[],function(){"use strict";
var t=System.get("utils/dom"),e=t.registerElement,n=t.createElement,r=t.createSVGMatrix,i=System.get("utils/event").isMouseMoveIntentional,a=Math,s=a.abs,o=a.min,l=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._ellipseCursor=body.registerCursor("images/cursor-ellipse.png",-100,8,7),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(e){
return t._onMouseDown(e)})},_onDisabled:function(){body.unregisterCursor(this._ellipseCursor),
body.unregisterCursor(this._mouseDownEllipseCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(t){
var e,n,r=this;window.addEventListener("mousemove",e=function(a){i(t,a)!==!1&&(window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",n),r._onIntentionalDragStart(t))}),window.addEventListener("mouseup",n=function(t){
window.removeEventListener("mousemove",e),body.canvas.removeEventListener("mouseend",n);
})},_onIntentionalDragStart:function(t){var e,i,a,l=this,u=body.canvas.currentContainer||body.canvas.currentArtboard,c=n("svg:ellipse");
c.style.fill="#d8d8d8",body.canvas.undoManager.checkpoint("Draw Ellipse"),u.append(c),
body.canvas.selectedElements=[c],this._mouseDownEllipseCursor=body.registerCursor("images/cursor-ellipse.png",900,8,7);
var d=c.getScreenCTM().inverse(),h=r(c.transform.baseVal.consolidate().matrix);h.multiplySelf(d),
c.setAttribute("transform",h.toString()),window.addEventListener("mousemove",e=function(e){
var n,r,i,a,l=body.modKeys,u=l.ctrl,d=l.shift;if(d===!1){n=(e.clientX-t.clientX)/2,
r=(e.clientY-t.clientY)/2;var h=!1,f=!1;0>n&&(h=!0,n=s(n)),0>r&&(f=!0,r=s(r)),u&&(n=o(n,r),
r=n),i=h?t.clientX-n:t.clientX+n,a=f?t.clientY-r:t.clientY+r}else if(d===!0&&(n=e.clientX-t.clientX,
r=e.clientY-t.clientY,0>n?(n=s(n),i=e.clientX+n):i=e.clientX-n,0>r?(r=s(r),a=e.clientY+r):a=e.clientY-r,
u)){var v=o(n,r);n=r=v}c.setAttribute("cx",i),c.setAttribute("cy",a),c.setAttribute("rx",n),
c.setAttribute("ry",r)}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",i),body.removeEventListener("toolchange",a),
body.unregisterCursor(l._mouseDownEllipseCursor)}),body.addEventListener("toolchange",a=function(t){
window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",i),
body.removeEventListener("toolchange",a),body.unregisterCursor(l._mouseDownEllipseCursor);
})}},{},t)}(HTMLElement),u=e("bx-ellipsetool",l);return{get default(){return u}}}),
System.registerModule("elements/bx-exportcontrols",[],function(){"use strict";System.get("elements/bx-button"),
System.get("elements/bx-checkbox"),System.get("elements/bx-select"),System.get("elements/bx-selectitem"),
System.get("elements/bx-slider");var t=System.get("utils/artwork"),e=t.rasterizeArtwork,n=(t.serializeArtwork,
System.get("utils/dom")),r=(n.createElement,n.registerElement),i=System.get("utils/time").throttle,a='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-exportcontrols.css");\n  </style>\n\n  <section id="export-bitmap-section">\n    <div id="format-div">\n      <h3>Format</h3>\n\n      <bx-select id="format-select" value="png">\n        <bx-selectitem value="png" label="PNG"></bx-selectitem>\n        <bx-selectitem value="jpg" label="JPEG"></bx-selectitem>\n      </bx-select>\n    </div>\n\n    <div id="area-div">\n      <h3>Area</h3>\n\n      <bx-select id="area-select" value="viewBox">\n        <bx-selectitem value="selected" label="Selected objects"></bx-selectitem>\n        <bx-selectitem value="viewBox" label="View box"></bx-selectitem>\n      </bx-select>\n    </div>\n\n    <div id="compression-div">\n      <h3>Compression</h3>\n\n      <bx-slider\n        id="compression-slider"\n        title="Compression"\n        min="0"\n        max="1"\n        value="0.82"\n        precision="2">\n      </bx-slider>\n    </div>\n\n    <bx-checkbox label="Transparent background" id="transparent-checkbox" checked></bx-checkbox>\n\n    <bx-button id="export-button" label="Export"></bx-button>\n  </section>\n',s=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this._update200Th=i(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=a;
var e=!0,n=!1,r=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){n=!0,r=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#area-select"].addEventListener("change",function(){
return t._update200Th()}),this["#format-select"].addEventListener("change",function(){
return t._onFormatSelectChange()}),this["#export-button"].addEventListener("click",function(e){
return t._onExportButtonClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onArtboardMutation:function(t){
this._update200Th()},_onFormatSelectChange:function(){var t=this["#format-select"].value;
"png"===t?(this["#compression-div"].hidden=!1,this["#transparent-checkbox"].hidden=!1):"jpg"===t&&(this["#compression-div"].hidden=!1,
this["#transparent-checkbox"].hidden=!0)},_onExportButtonClick:function(t){var n,r,i,a,s,o,l,u;
return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){case 0:n=this["#format-select"].value,
r=this["#area-select"].value,i="viewBox"===r?body.canvas.extractArtworkWithViewBoxElements():body.canvas.extractArtworkWithSelectedElements(),
t.state=18;break;case 18:t.state="png"===n?4:15;break;case 4:a=this["#compression-slider"].value,
s=this["#transparent-checkbox"].checked,t.state=5;break;case 5:return void Promise.resolve(e(i,"png",a,s)).then(t.createCallback(3),t.errback);
case 3:o=t.value,t.state=2;break;case 2:body.bridge.postMessage("exportFile",{format:"png",
data:o}),t.state=-2;break;case 15:t.state="jpg"===n?11:-2;break;case 11:l=this["#compression-slider"].value,
t.state=12;break;case 12:return void Promise.resolve(e(i,"jpg",l)).then(t.createCallback(10),t.errback);
case 10:u=t.value,t.state=9;break;case 9:body.bridge.postMessage("exportFile",{format:"jpg",
data:u}),t.state=-2;break;default:return t.end()}},this)},_update:function(){"selected"===this["#area-select"].value&&0===body.canvas.selectedElements.length?this["#export-button"].disabled=!0:this["#export-button"].disabled=!1;
}},{},t)}(HTMLElement),o=r("bx-exportcontrols",s);return{get default(){return o}};
}),System.registerModule("elements/bx-fillcontrols",[],function(){"use strict";System.get("elements/bx-button"),
System.get("elements/bx-slider"),System.get("elements/bx-paintsection");var t=System.get("utils/dom"),e=(t.closest,
t.registerElement),n=System.get("utils/math").round,r=System.get("utils/style").queryStylableElements,i=System.get("utils/text").normalizeTextInRangeBeforeEditing,a=System.get("utils/time").throttle,s=Number.parseFloat,o='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-fillcontrols.css");\n  </style>\n\n  <main>\n    <section id="paint-section" is="bx-paintsection" context="fill"></section>\n\n    <section id="opacity-section">\n      <h2 id="opacity-section-heading">Opacity</h2>\n\n      <bx-slider\n        id="opacity-slider"\n        title="Fill Opacity"\n        value="1"\n        min="0"\n        max="1"\n        precision="2">\n      </bx-slider>\n    </section>\n\n    <section id="fill-rule-section">\n      <h2 id="fill-rule-section-heading">Fill Rule</h2>\n\n      <div id="fill-rule-buttons">\n        <bx-button\n          id="non-zero-fill-rule-button"\n          value="nonzero"\n          icon="fill-rule-non-zero"\n          iconsize="28"\n          title="Non-zero"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="even-odd-fill-rule-button"\n          value="evenodd"\n          icon="fill-rule-even-odd"\n          iconsize="28"\n          title="Even-odd"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n  </main>\n',l=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._update200Th=a(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=o;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){
var l=i.value;this["#"+l.id]=l}}catch(u){n=!0,r=u}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return t._onOpacitySliderChangeStart()}),this["#non-zero-fill-rule-button"].addEventListener("click",function(){
return t._onFillRuleButtonClick(event)}),this["#even-odd-fill-rule-button"].addEventListener("click",function(){
return t._onFillRuleButtonClick(event)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this["#paint-section"].enabled=!0,this._toggleHuds(),
this._onSelectedElementsChange(),body.addEventListener("toolchange",this._toolChangeListener=function(){
t._toggleHuds()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)})},_onDisabled:function(){this["#paint-section"].enabled=!1,
this._toggleHuds(),body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(t){this._update200Th()},_onOpacitySliderChangeStart:function(){
var t=this;body.canvas.undoManager.checkpoint("Fill opacity");var e=body.canvas,n=e.selectedElements,a=e.selectedTextRange;
i(a);var s,o,l=r("fill-opacity",n,a);this._isChangingOpacitySlider=!0,this["#opacity-slider"].addEventListener("change",s=function(){
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=l[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.style.fillOpacity=t["#opacity-slider"].value}}catch(o){n=!0,r=o}finally{
try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}t["#opacity-slider"].mixed=!1;
}),this["#opacity-slider"].addEventListener("changeend",o=function(){t["#opacity-slider"].removeEventListener("change",s),
t["#opacity-slider"].removeEventListener("changeend",o),t._isChangingOpacitySlider=!1;
})},_onFillRuleButtonClick:function(t){var e=t.target,n=e.pressed,a=e.mixed,s=e.value;
if(0===t.button&&(n!==!0||a!==!1)){body.canvas.undoManager.checkpoint("Fill rule");
var o=body.canvas,l=o.selectedElements,u=o.selectedTextRange;i(u);var c=r("fill-rule",l,u),d=!0,h=!1,f=void 0;
try{for(var v=void 0,m=c[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var b=v.value;
b.style.fillRule=s}}catch(g){h=!0,f=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw f}}}},_update:function(){this._updateOpacitySection(),this._updateFillRuleSection();
},_updateOpacitySection:function(){if(!this._isChangingOpacitySlider){var t=body.canvas,e=t.selectedElements,i=t.selectedTextRange,a=r("fill-opacity",e,i),o=a[0]||null;
if(null===o?this["#opacity-section-heading"].disabled=!0:this["#opacity-section-heading"].disabled=!1,
null===o)this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;else{
this["#opacity-slider"].disabled=!1;var l=n(s(getComputedStyle(o).fillOpacity),2),u=!1,c=!0,d=!1,h=void 0;
try{for(var f=void 0,v=a[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){var m=f.value;
if(m!==o){var b=n(s(getComputedStyle(m).fillOpacity),2);if(b!==l){u=!0;break}}}}catch(g){
d=!0,h=g}finally{try{c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#opacity-slider"].value=l,
this["#opacity-slider"].mixed=u}}},_updateFillRuleSection:function(){var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange,i=r("fill-rule",e,n),a=i[0]||null;
if(null===a?this["#fill-rule-section-heading"].disabled=!0:this["#fill-rule-section-heading"].disabled=!1,
null===a)this["#non-zero-fill-rule-button"].disabled=!0,this["#non-zero-fill-rule-button"].pressed=!1,
this["#non-zero-fill-rule-button"].mixed=!1,this["#even-odd-fill-rule-button"].disabled=!0,
this["#even-odd-fill-rule-button"].pressed=!1,this["#even-odd-fill-rule-button"].mixed=!1;else{
this["#non-zero-fill-rule-button"].disabled=!1,this["#even-odd-fill-rule-button"].disabled=!1;
var s=getComputedStyle(a).fillRule,o=!1,l=!0,u=!1,c=void 0;try{for(var d=void 0,h=i[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value,v=getComputedStyle(f).fillRule;v!==s&&(o=!0)}}catch(m){u=!0,c=m}finally{
try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}"evenodd"===s?(this["#non-zero-fill-rule-button"].pressed=!1,
this["#non-zero-fill-rule-button"].mixed=!1,this["#even-odd-fill-rule-button"].pressed=!0,
this["#even-odd-fill-rule-button"].mixed=o):"nonzero"===s&&(this["#non-zero-fill-rule-button"].pressed=!0,
this["#non-zero-fill-rule-button"].mixed=o,this["#even-odd-fill-rule-button"].pressed=!1,
this["#even-odd-fill-rule-button"].mixed=!1)}},_toggleHuds:function(){"edit-tool"===body.currentTool.id&&body.currentPanel&&"fill-panel"===body.currentPanel.id?(body.canvas.enableHud("linear-gradient-fill-hud"),
body.canvas.enableHud("radial-gradient-fill-hud"),body.canvas.enableHud("pattern-fill-hud")):(body.canvas.disableHud("linear-gradient-fill-hud"),
body.canvas.disableHud("radial-gradient-fill-hud"),body.canvas.disableHud("pattern-fill-hud"));
}},{},t)}(HTMLElement),u=e("bx-fillcontrols",l);return{get default(){return u}}}),
System.registerModule("elements/bx-filterinput",[],function(){"use strict";System.get("elements/bx-contextmenu"),
System.get("elements/bx-menuitem");var t=System.get("classes/shortcut")["default"],e=System.get("classes/undo-manager")["default"],n=System.get("utils/dom").registerElement,r=System.get("utils/time").debounce,i=(Object.entries,
'\n  <style>@import url("stylesheets/bx-filterinput.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" tabindex="0"></input>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),a=function(n){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this.commands={selectAll:{exec:function(){return t["#input"].select();
}},cut:{enabled:function(){return t["#input"].selectionStart!==t["#input"].selectionEnd;
},exec:function(){return t._cutInputValue()}},copy:{enabled:function(){return t["#input"].selectionStart!==t["#input"].selectionEnd;
},exec:function(){return t._copyInputValue()}},paste:{exec:function(){return t._pasteInputValue();
}},undo:{enabled:function(){return t._undoManager.canUndo()},exec:function(){return t._undoManager.undo();
}},redo:{enabled:function(){return t._undoManager.canRedo()},exec:function(){return t._undoManager.redo();
}}};var n=null;this._onInputInput250Db=r(this._onInputInput250Db,250,this),this._undoManager=new e,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var a=!0,s=!1,o=void 0;try{for(var l=void 0,u=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;this["#"+c.id]=c}}catch(d){s=!0,o=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(s)throw o}}var h=!0,f=!1,v=void 0;try{for(var m=void 0,b=this.attributes[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value;this.attributeChangedCallback(g.name)}}catch(p){f=!0,v=p}finally{try{
h||null==b["return"]||b["return"]()}finally{if(f)throw v}}this.addEventListener("contextmenu",function(e){
return t._onContextMenu(e)}),this["#input"].addEventListener("focusin",function(e){
return t._onInputFocus(e)}),this["#input"].addEventListener("blur",function(e){return t._onInputBlur(e);
}),this["#input"].addEventListener("keydown",function(e){return t._onInputKeyDown(e);
}),this["#input"].addEventListener("input",function(e){return t._onInputInput(e)}),
this["#input"].addEventListener("input",function(e){return t._onInputInput250Db(e);
}),this["#input"].addEventListener("mousemove",function(e){return t._onInputMouseMove(e);
}),this["#input"].addEventListener("mouseenter",function(t){return n=body.registerCursor("text",200);
}),this["#input"].addEventListener("mouseleave",function(t){return body.unregisterCursor(n);
}),this["#context-menu"].menuWillShow=function(e){return t._menuWillShow(e)},this["#context-menu"].menuItemWillTrigger=function(e){
return t._menuItemWillTrigger(e)},this["#context-menu"].addEventListener("menuitemtrigger",function(e){
return t._onContextMenuItemTrigger(e)})},attributeChangedCallback:function(t){"value"===t?this._onValueAttributeChange():"placeholder"===t?this._onPlaceholderAttributeChange():"disabled"===t&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(t){
this.setAttribute("value",t)},get placeholder(){return this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"";
},set placeholder(t){""===t?this.removeAttribute("placeholder"):this.setAttribute("placeholder",t);
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){this["#input"].value!==this.value&&(this["#input"].value=this.value);
},_onPlaceholderAttributeChange:function(){this["#input"].placeholder=this.placeholder;
},_onDisabledAttributeChange:function(){this["#input"].tabIndex=this.disabled?-1:0;
},_onInputFocus:function(t){body.bridge.postMessage("toggleTextInputMode",!0),this._cachedValue=this["#input"].value;
},_onInputBlur:function(t){body.bridge.postMessage("toggleTextInputMode",!1),this._undoManager.reset();
},_onInputMouseMove:function(t){this["#input"].matches(":focus")===!1&&t.preventDefault();
},_onInputKeyDown:function(e){var n=t.fromEvent(e);n.matches("Enter")?this.blur():(n.matches("Backspace")||n.matches("ArrowDown")||n.matches("Shift","ArrowDown")||n.matches("ArrowUp")||n.matches("Shift","ArrowUp")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&e.stopPropagation();
},_onInputInput:function(t){this.value=this["#input"].value},_onInputInput250Db:function(t){
var e=this,n=this._cachedValue,r=this["#input"].value;this._cachedValue=this["#input"].value,
this._undoManager.register({label:"Typing",undo:function(){e["#input"].value=e._cachedValue=n,
e["#input"].select()},redo:function(){e["#input"].value=e._cachedValue=r,e["#input"].select();
}})},_onContextMenu:function(t){t.preventDefault(),this["#input"].focus(),this["#context-menu"].open(t.clientX,t.clientY);
},_onContextMenuItemTrigger:function(t){var e=t.detail,n=this.commands[e.commandID];
n&&n.exec()},_menuWillShow:function(t){var e=this;return new Promise(function(n){
var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.items[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(t){this._validateMenuItem(t);
},_validateMenuItem:function(t){var e=this;return new Promise(function(n){var r=t.commandID||null,i=r?e.commands[r]:null;
i&&(t.disabled=i.enabled?!i.enabled():!1),n()})},_copyInputValue:function(){var t=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":t})},_pasteInputValue:function(){
var t=this;body.bridge.postMessage("getClipboardData",null,function(e){if(e["text/plain"]){
var n=t["#input"].selectionStart,r=t["#input"].selectionEnd,i=e["text/plain"],a=t["#input"].value.substring(0,n),s=t["#input"].value.substring(r,t["#input"].value.length);
t["#input"].value=a+i+s,t["#input"].dispatchEvent(new Event("input",{bubbles:!0})),
t["#input"].setSelectionRange(n+i.length,n+i.length)}})},_cutInputValue:function(){
var t=this["#input"].selectionStart,e=this["#input"].selectionEnd,n=this["#input"].value.substring(t,e),r=this["#input"].value.substring(0,t),i=this["#input"].value.substring(e,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].dispatchEvent(new Event("input",{bubbles:!0
})),this["#input"].setSelectionRange(t,t),body.bridge.postMessage("setClipboardData",{
"text/plain":n})}},{},n)}(HTMLElement),s=n("bx-filterinput",a);return{get default(){
return s}}}),System.registerModule("elements/bx-fontfamilybutton",[],function(){"use strict";
var t=System.get("utils/dom"),e=(t.createElement,t.registerElement),n='\n  <style>@import url("stylesheets/bx-fontfamilybutton.css");</style>\n\n  <main>\n    <label id="label"></label>\n\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use xlink:href="images/icons.svg#arrow-right" width="100" height="100"></use>\n    </svg>\n  </main>\n',r=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=n;var t=!0,e=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){e=!0,r=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"label"===t&&this._onLabelAttributeChange()},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(t){this.setAttribute("label",t)},get mixed(){return this.hasAttribute("mixed");
},set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get disabled(){
return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label}},{},t);
}(HTMLElement),i=e("bx-fontfamilybutton",r);return{get default(){return i}}}),System.registerModule("elements/bx-fontfamilypicker",[],function(){
"use strict";System.get("elements/bx-filterinput"),System.get("elements/bx-fontslistitem");
var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("utils/time"),i=r.sleep,a=r.debounce,s=System.get("classes/shortcut")["default"],o=(Object.keys,
'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-fontfamilypicker.css");\n  </style>\n\n  <main>\n    <div id="items">\n      <div id="primary-items"></div>\n      <div id="secondary-items"></div>\n      <div id="placeholder" hidden>No families found.</div>\n    </div>\n\n    <bx-filterinput id="filter-input" placeholder="Filter"></bx-filterinput>\n  </main>\n'),l=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=o;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this.addEventListener("focusin",function(e){
return t._onHostFocusIn(e)}),this.addEventListener("keydown",function(e){return t._onKeyDown(e);
}),this["#items"].addEventListener("mousedown",function(e){return t._onItemsMouseDown(e);
}),this["#items"].addEventListener("dblclick",function(e){return t._onItemsDblClick(e);
}),this["#items"].addEventListener("focusin",function(e){return t._onItemsFocusIn(e);
}),this["#filter-input"].addEventListener("input",function(){return t._onFilterInputInput();
})},attributeChangedCallback:function(t){"value"===t?this._onValueAttributeChange():"enabled"===t&&this.enabled&&this._onEnabled();
},get value(){return this.getAttribute("value")},set value(t){t?this.setAttribute("value",t):this.removeAttribute("value");
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t,e,n,r,i,a,s;return $traceurRuntime.asyncWrap(function(o){
for(;;)switch(o.state){case 0:return void Promise.resolve(this._updatePrimaryItems()).then(o.createCallback(2),o.errback);
case 2:o.state=0===this["#secondary-items"].childElementCount?3:4;break;case 3:return void Promise.resolve(this._updateSecondaryItems()).then(o.createCallback(4),o.errback);
case 4:this._updateThumbnails(),this._updatePlaceholderVisibility(),t=!1,e=!0,n=!1,
r=void 0;try{for(i=void 0,a=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0)s=i.value,
t===!1&&s.value===this.value?(s.highlighted=!0,t=!0):s.highlighted=!1}catch(l){n=!0,
r=l}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}o.state=-2;
break;default:return o.end()}},this)},_onValueAttributeChange:function(){var t=this["#items"].querySelector("bx-fontslistitem[highlighted]");
if(!t||t.value!==this.value){var e=!1,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;e===!1&&o.value===this.value?(o.highlighted=!0,e=!0):o.highlighted=!1;
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}}},_onHostFocusIn:function(t){var e=this["#primary-items"].querySelector("[highlighted]");
e&&i(100).then(function(){return e.focus()})},_onItemsMouseDown:function(t){"bx-fontslistitem"===t.target.localName&&this._onItemMouseDown(t);
},_onItemsDblClick:function(t){"bx-fontslistitem"===t.target.localName&&this._onItemDblClick(t);
},_onItemsFocusIn:function(t){var e=t.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;o.highlighted=o===e}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}},_onItemMouseDown:function(t){var e=t.target;e&&e.value!==this.value&&(this.value=e.value,
this.dispatchEvent(new CustomEvent("change")))},_onItemDblClick:function(t){var e=t.target;
if(e.parentElement===this["#secondary-items"]){var n=e.value.replaceAll(" ","+");body.bridge.postMessage("openExternalURL","https://www.google.com/fonts/specimen/"+n);
}},_onFilterInputInput:function(){var t=this["#filter-input"].value,e=$traceurRuntime.spread(this["#primary-items"].children,this["#secondary-items"].children),n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
o.hidden=o.value.toLowerCase().startsWith(t.toLowerCase())===!1}}catch(l){r=!0,i=l;
}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}this._updatePlaceholderVisibility();
},_onKeyDown:function(t){var e=s.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),
t.stopPropagation(),this._selectPreviousItem()):e.matches("ArrowDown")&&(t.preventDefault(),
t.stopPropagation(),this._selectNextItem())},_updatePrimaryItems:function(){var t=this;
return new Promise(function(n,r){t["#primary-items"].innerHTML="";var i=body.canvas.googleFontsManager.getImportedFamilies(),a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=e("bx-fontslistitem");
d.value=c,d.hidden=d.value.toLowerCase().startsWith(t["#filter-input"].value.toLowerCase())===!1,
t.value!==d.value||t["#items"].querySelector("bx-fontslistitem[highlighted]")||(d.highlighted=!0),
t["#primary-items"].append(d)}}catch(h){s=!0,o=h}finally{try{a||null==u["return"]||u["return"]();
}finally{if(s)throw o}}n()})},_updateSecondaryItems:function(){var t=this;return new Promise(function(n,r){
var i,a;return $traceurRuntime.asyncWrap(function(r){for(;;)switch(r.state){case 0:
return void Promise.resolve(body.canvas.googleFontsManager.getAllFamilies()).then(r.createCallback(3),r.errback);
case 3:i=r.value,r.state=2;break;case 2:t["#secondary-items"].innerHTML="",a=function(r){
for(;r.timeRemaining()>20&&i.length>0;){var s=e("bx-fontslistitem");s.value=i.shift(),
s.hidden=s.value.toLowerCase().startsWith(t["#filter-input"].value.toLowerCase())===!1,
s.highlighted=t.value===s.value,t["#secondary-items"].append(s)}i.length>0?requestIdleCallback(a):n();
},i.length>0?requestIdleCallback(a):n(),r.state=-2;break;default:return r.end()}},this);
})},_updateThumbnails:function(){var t=this,e=this["#primary-items"].children,n=this["#secondary-items"].children,r=$traceurRuntime.spread(e,n),i=a(function(){
var e=t["#items"].scrollTop,n=!0,i=!1,a=void 0;try{for(var s=void 0,o=$traceurRuntime.spread(r).reverse()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;l.offsetTop>=e&&l.offsetTop<=e+t["#items"].clientHeight&&l.hidden===!1&&(r.remove(l),
r.unshift(l))}}catch(u){i=!0,a=u}finally{try{n||null==o["return"]||o["return"]()}finally{
if(i)throw a}}},150),s=function(e){var n;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:i.state=e.timeRemaining()>10&&r.length>0&&t.enabled===!0?5:7;
break;case 5:n=r.shift(),i.state=6;break;case 6:i.state=n.thubmnail?0:1;break;case 1:
return void Promise.resolve(body.canvas.googleFontsManager.getThumbnail(n.value)).then(i.createCallback(3),i.errback);
case 3:n.thumbnail=i.value,i.state=0;break;case 7:o(),i.state=-2;break;default:return i.end();
}},this)},o=function(){r.length>0&&t.enabled===!0?requestIdleCallback(s):(t["#items"].removeEventListener("scroll",i),
t["#filter-input"].removeEventListener("input",i))};this["#items"].addEventListener("scroll",i),
this["#filter-input"].addEventListener("input",i),o()},_updatePlaceholderVisibility:function(){
this["#placeholder"].hidden=null!==this["#items"].querySelector("bx-fontslistitem:not([hidden])");
},_selectPreviousItem:function(){var t=this["#items"].querySelector("[highlighted]"),e=null;
if(t&&"bx-fontslistitem"===t.localName){for(var n=t.previousElementSibling;n;n=n.previousElementSibling)if(n.hidden===!1){
e=n;break}if(null===e&&"secondary-items"===t.parentElement.id)for(var r=this["#primary-items"].lastElementChild;r;r=r.previousElementSibling)if(r.hidden===!1){
e=r;break}}e&&(e.focus(),this.value=e.value,this.dispatchEvent(new CustomEvent("change")));
},_selectNextItem:function(){var t=this["#items"].querySelector("[highlighted]"),e=null;
if(t&&"bx-fontslistitem"===t.localName){for(var n=t.nextElementSibling;n;n=n.nextElementSibling)if(n.hidden===!1){
e=n;break}if(null===e&&"primary-items"===t.parentElement.id)for(var r=this["#secondary-items"].firstElementChild;r;r=r.nextElementSibling)if(r.hidden===!1){
e=r;break}}e&&(e.focus(),this.value=e.value,this.dispatchEvent(new CustomEvent("change")));
}},{},t)}(HTMLElement),u=n("bx-fontfamilypicker",l);return{get default(){return u;
}}}),System.registerModule("elements/bx-fontslistitem",[],function(){"use strict";
var t=System.get("utils/dom"),e=(t.createElement,t.registerElement),n='\n  <style>@import url("stylesheets/bx-fontslistitem.css");</style>\n\n  <main>\n    <div id="label"></div>\n    <img id="thumbnail" hidden></img>\n  </main>\n',r=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=n;var t=!0,e=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){e=!0,r=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"value"===t&&this._onValueAttributeChange()},get value(){return this.getAttribute("value");
},set value(t){t?this.setAttribute("value",t):this.removeAttribute("value")},get highlighted(){
return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src||null},set thumbnail(t){this["#thumbnail"].src=t?t:"",
this._onThumbnailChange()},_onValueAttributeChange:function(){this["#label"].textContent=this.value?this.value:"";
},_onThumbnailChange:function(){this.thumbnail?(this["#label"].hidden=!0,this["#thumbnail"].hidden=!1):(this["#label"].hidden=!1,
this["#thumbnail"].hidden=!0)}},{},t)}(HTMLElement),i=e("bx-fontslistitem",r);return{
get default(){return i}}}),System.registerModule("elements/bx-freehandsegsdrawhud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=t.createSVGPoint,i=System.get("utils/schneider-curves").getSchneiderCurves,a=(System.get("utils/point").getRamerDouglasPeuckerPoints,
System.get("utils/path").reversePath),s=System.get("utils/time").debounce,o=System.get("utils/transform"),l=o.reduceTransform,u=o.getTransformToElement;
System.get("elements/bx-freehandsegsketch");var c=10,d=10,h=4,f=60,v='\n  <style>@import url("stylesheets/bx-freehandsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-freehandsegsketch"></g>\n',m=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=v;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;this.attributeChangedCallback(h.name)}}catch(f){l=!0,u=f}finally{try{
o||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._currentPath=null,body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)}),this["#node-grippies"].addEventListener("mousedown",this._nodeGrippiesMouseDownListener=function(e){
t._onNodeGrippieMouseDown(e)}),this._onSelectedElementsChange()},_onDisabled:function(){
body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this["#node-grippies"].removeEventListener("mousedown",this._nodeGrippiesMouseDownListener),
this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(t){this._updateNodeGrippies()},_onNodeGrippieMouseDown:function(t){
var e=this;body.canvas.undoManager.checkpoint("Draw freehand path segments");var n,r,o=t.target,c=o.ownerPath,v=o.getAttribute("data-position");
this._currentPath=c,"end"===v?this._mode="draw-forward":"start"===v&&(this._mode="draw-backward"),
this["#seg-sketch"].show(c,o),this._updateNodeGrippies();var m=function(){var t=e["#seg-sketch"].points,n=[];
if("draw-forward"===e._mode){if(n=c.getPathData({normalize:!0}),0===t.length)return;
if(1===t.length||2===t.length)n.push({type:"L",values:[t[t.length-1].x,t[t.length-1].y]
});else if(t.length>=3){var r=i(t,h/body.canvas.scale),a=!0,s=!1,o=void 0;try{for(var l=void 0,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var d=l.value;n.push({type:"C",values:[d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y]
})}}catch(f){s=!0,o=f}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o;
}}}}else if("draw-backward"===e._mode){if(t=$traceurRuntime.spread(t).reverse(),0===t.length)return;
if(1===t.length||2===t.length){n.push({type:"M",values:[t[0].x,t[0].y]});for(var v=1;v<t.length;v+=1){
var m=t[v];n.push({type:"L",values:[m.x,m.y]})}}else if(t.length>=3){var b=i(t,h/body.canvas.scale);
n.push({type:"M",values:[b[0][0].x,b[0][0].y]});var g=!0,p=!1,y=void 0;try{for(var _=void 0,x=b[Symbol.iterator]();!(g=(_=x.next()).done);g=!0){
var w=_.value;n.push({type:"C",values:[w[1].x,w[1].y,w[2].x,w[2].y,w[3].x,w[3].y]
})}}catch(S){p=!0,y=S}finally{try{g||null==x["return"]||x["return"]()}finally{if(p)throw y;
}}for(var C=c.getPathData({normalize:!0}),k=1;k<C.length;k+=1){var E=C[k];n.push(E);
}}}c.setPathData(n),e["#seg-sketch"].clear()};window.addEventListener("mousemove",n=s(function(){
e["#seg-sketch"].points.length>=d&&m()},f,this,!1)),window.addEventListener("mouseup",r=function(t){
window.removeEventListener("mouseup",r),window.removeEventListener("mousemove",n),
e["#seg-sketch"].points.length>1&&m();var i=e._shadowRoot.elementFromPoint(t.clientX,t.clientY);
if(i&&e["#node-grippies"].contains(i)){var s=i,o=s.ownerPath;if(o===c){var d={type:"Z",
values:[]},h=c.getPathData();h.push(d),c.setPathData(h)}else{var f=u(o,c);o.setAttribute("transform",f.toString()),
l(o);var v=s.getAttribute("data-position");if("draw-forward"===e._mode){"end"===v&&a(o);
for(var b=c.getPathData({normalize:!0}),g=o.getPathData({normalize:!0}),p=1;p<g.length;p+=1){
var y=g[p];b.push(y)}c.setPathData(b),o.setPathData([]),o.remove()}else if("draw-backward"===e._mode){
"start"===v&&a(o);for(var _=o.getPathData({normalize:!0}),x=c.getPathData({normalize:!0
}),w=1;w<x.length;w+=1){var S=x[w];_.push(S)}c.setPathData(_),o.setPathData([]),o.remove();
}}}e["#seg-sketch"].hide(),"select"===e._mode,e._currentPath=null,e._updateNodeGrippies();
})},_onArtboardMouseDown:function(t){var n=this;body.canvas.undoManager.checkpoint("Draw freehand path segments");
var o=body.canvas.currentContainer||body.canvas.currentArtboard,c=e("svg:path");c.style.stroke="black",
c.style.fill="none",o.append(c);var v=c.getScreenCTM().inverse(),m=t,b=m.clientX,g=m.clientY,p=r(b,g).matrixTransform(v),y=p.x,_=p.y;
c.setAttribute("d","M "+y+" "+_),body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[c]);
var x,w;this._mode="draw-forward",this._currentPath=c,this["#seg-sketch"].show(c),
this._updateNodeGrippies();var S=function(){var t=n["#seg-sketch"].points,e=c.getAttribute("d");
if(0!==t.length){if(1===t.length||2===t.length)e+=" L "+t[t.length-1].x+" "+t[t.length-1].y;else if(t.length>=3){
var r=i(t,h/body.canvas.scale),a=!0,s=!1,o=void 0;try{for(var l=void 0,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var d=l.value;e+=" C "+d[1].x+" "+d[1].y+" "+d[2].x+" "+d[2].y+" "+d[3].x+" "+d[3].y;
}}catch(f){s=!0,o=f}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o;
}}}c.setAttribute("d",e),n["#seg-sketch"].clear()}};window.addEventListener("mousemove",x=s(function(){
n["#seg-sketch"].points.length>=d&&S()},f,this,!1)),window.addEventListener("mouseup",w=function(t){
window.removeEventListener("mouseup",w),window.removeEventListener("mousemove",x);
var e=n._shadowRoot.elementFromPoint(t.clientX,t.clientY);if(n["#seg-sketch"].points.length>0&&S(),
e&&n["#node-grippies"].contains(e)){var r=e;if(r.ownerPath===n._currentPath){var i=n._currentPath.getPathData();
i.push({type:"Z",values:[]}),n._currentPath.setPathData(i)}else{var s=r.getAttribute("data-position"),o=n._currentPath,c=r.ownerPath,d=u(c,o);
c.setAttribute("transform",d.toString()),l(c),"end"===s&&a(c);for(var h=o.getPathData({
normalize:!0}),f=c.getPathData({normalize:!0}),v=1;v<f.length;v+=1){var m=f[v];h.push(m);
}o.setPathData(h),c.setPathData([]),c.remove()}}n["#seg-sketch"].hide(),n._mode="select",
n._currentPath=null,n._updateNodeGrippies()})},_updateNodeGrippies:function(){this["#node-grippies"].innerHTML="";
var t=!0,n=!1,i=void 0;try{for(var a=void 0,s=this._getSelectedPaths()[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){
var o=a.value,l=o.getPathData({normalize:!0}),c=void 0,d=void 0;0===l.length?(c=null,
d=null):1===l.length?(c=l[0],d=null):l.length>1&&(c=l[0],d=l[l.length-1]);var h=u(o,this),f=d&&"Z"===d.type;
if(c&&!f&&(o!==this._currentPath||"draw-backward"!==this._mode)){var v=r(c.values[0],c.values[1]).matrixTransform(h),m=e("svg:ellipse");
m.setAttribute("class","node-grippie"),m.setAttribute("cx",v.x),m.setAttribute("cy",v.y),
m.setAttribute("data-position","start"),m.ownerPath=o,this["#node-grippies"].append(m);
}if(d&&!f&&(o!==this._currentPath||"draw-forward"!==this._mode)){var b=void 0;b="C"===d.type?r(d.values[4],d.values[5]).matrixTransform(h):r(d.values[0],d.values[1]).matrixTransform(h);
var g=e("svg:ellipse");g.setAttribute("class","node-grippie"),g.setAttribute("cx",b.x),
g.setAttribute("cy",b.y),g.setAttribute("data-position","end"),g.ownerPath=o,this["#node-grippies"].append(g);
}}}catch(p){n=!0,i=p}finally{try{t||null==s["return"]||s["return"]()}finally{if(n)throw i;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var t=c/2/body.canvas.scale,e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.setAttribute("rx",t),s.setAttribute("ry",t)}}catch(o){n=!0,r=o}finally{
try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"path"===o.localName&&o.hasAttribute("is")===!1?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedPaths(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),b=n("g","bx-freehandsegsdrawhud",m);return{get default(){
return b}}}),System.registerModule("elements/bx-freehandsegsketch",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=t.createSVGPoint,r=System.get("utils/transform").getTransformToElement,i='\n  <style>@import url("stylesheets/bx-freehandsegsketch.css");</style>\n  <polyline id="outline"></polyline>\n',a=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=i;var t=!0,e=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw n}}this._path=null,this._hasListeners=!1},get points(){return this["#outline"].points;
},set points(t){throw new Error("points property is read-only")},show:function(t){
var e=void 0!==arguments[1]?arguments[1]:null;if(this._path=t,this["#outline"].setAttribute("points",""),
this._path.hasAttribute("transform")?this["#outline"].setAttribute("transform",this._path.getAttribute("transform")):this["#outline"].removeAttribute("transform"),
this.style.visibility="visible",e){var i=r(e,this._path),a=n(e.cx.baseVal.value,e.cy.baseVal.value);
a=a.matrixTransform(i),this["#outline"].points.appendItem(a)}this._hasListeners===!1&&this._addListeners();
},hide:function(){this._path=null,this.style.visibility="hidden",this["#outline"].setAttribute("points",""),
this._hasListeners===!0&&this._removeListeners()},clear:function(){this["#outline"].setAttribute("points","");
},_addListeners:function(){var t=this;this._hasListeners=!0,window.addEventListener("mousemove",this._mouseMoveListener=function(e){
var r=t._path.getScreenCTM().inverse(),i=n(e.clientX,e.clientY),a=i.matrixTransform(r);
t["#outline"].points.appendItem(a)})},_removeListeners:function(){this._hasListeners=!1,
window.removeEventListener("mousemove",this._mouseMoveListener)}},{},t)}(SVGGElement),s=e("g","bx-freehandsegsketch",a);
return{get default(){return s}}}),System.registerModule("elements/bx-freehandtool",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e=function(t){function e(){
$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-freehand-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-freehand-segs-hud");
}},{},t)}(HTMLElement),n=t("bx-freehandtool",e);return{get default(){return n}}}),
System.registerModule("elements/bx-guide",[],function(){"use strict";var t=System.get("utils/dom").registerElement,e=Number.parseFloat,n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){},get offset(){return this.hasAttribute("offset")?e(this.getAttribute("offset")):0;
},set offset(t){this.setAttribute("offset",t)},get orient(){return this.hasAttribute("orient")?this.getAttribute("orient"):"horizontal";
},set orient(t){this.setAttribute("orient",t)}},{},t)}(HTMLElement),r=t("bx-guide",n);
return{get default(){return r}}}),System.registerModule("elements/bx-huerotatefilter",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e=Number.parseFloat,n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._update()},attributeChangedCallback:function(t){"data-angle"===t&&this._onAngleChange();
},get angle(){return this.hasAttribute("data-angle")?e(this.getAttribute("data-angle")):0;
},set angle(t){this.setAttribute("data-angle",t)},_onAngleChange:function(){this._update();
},_update:function(){this.innerHTML='<feColorMatrix type="hueRotate" values="'+this.angle+'"/>';
}},{fromSVGFilter:function(t){var n=void 0!==arguments[1]?arguments[1]:!1,r=path.hasAttribute("data-bx-angle")?e(path.getAttribute("data-bx-angle")):0;
if(path.children[0].getAttribute("values")!==""+r)return n&&(path.removeAttribute("data-bx-is"),
path.removeAttribute("data-bx-angle")),null;var i=createElement("svg:filter","bx-huerotatefilter");
return i}},t)}(SVGFilterElement),r=t("filter","bx-huerotatefilter",n);return{get default(){
return r}}}),System.registerModule("elements/bx-hueslider",[],function(){"use strict";
var t=System.get("utils/dom").registerElement,e=System.get("utils/math").normalize,n=Number.parseInt,r=!1,i='\n  <style>\n    @import url("stylesheets/bx-hueslider.css");\n  </style>\n\n  <main>\n    <canvas id="canvas"></canvas>\n    <div id="marker"></div>\n  </main>\n',a=[[0,[255,0,0]],[.15,[255,255,0]],[.33,[0,255,0]],[.49,[0,255,255]],[.67,[0,0,255]],[.84,[255,0,255]],[1,[255,0,0]]],s=function(t){
function s(){$traceurRuntime.superConstructor(s).apply(this,arguments)}return $traceurRuntime.createClass(s,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("mousedown",function(e){
return t._onMouseDown(e)}),this._drawSpectrum()},attributeChangedCallback:function(t){
"hue"===t&&this._onHueAttributeChange()},get hue(){return this.hasAttribute("hue")?n(this.getAttribute("hue")):360;
},set hue(t){this.setAttribute("hue",t)},_onHueAttributeChange:function(){var t=e(this.hue,0,360,0);
this["#marker"].style.left=t/360*100+"%"},_onMouseDown:function(t){var e=this;this.dispatchEvent(new CustomEvent("markerdragstart"));
var n,r,i,a=this["#canvas"].getBoundingClientRect().left;this._onMarkerDrag(t.clientX-a),
window.addEventListener("mousemove",r=function(t){t.clientX!==n&&(n=t.clientX,e._onMarkerDrag(t.clientX-a));
}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i),e.dispatchEvent(new CustomEvent("markerdragend"));
})},_onMarkerDrag:function(t){var n=e(t/this["#canvas"].clientWidth*360,0,360,0);this.hue!==n&&(this.hue=n,
this.dispatchEvent(new CustomEvent("markerdrag",{detail:this.hue})),r&&console.log("%c     ","background: hsl("+n+", 100%, 50%)","hue = "+n));
},_drawSpectrum:function(){var t=this["#canvas"].width=800,e=this["#canvas"].height=100,n=this["#canvas"].getContext("2d"),r=n.createLinearGradient(0,0,t,0),i=!0,s=!1,o=void 0;
try{for(var l=void 0,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;
r.addColorStop(c[0],"rgb("+c[1][0]+", "+c[1][1]+", "+c[1][2]+")")}}catch(d){s=!0,
o=d}finally{try{i||null==u["return"]||u["return"]()}finally{if(s)throw o}}n.fillStyle=r,
n.fillRect(0,0,t,e)}},{},t)}(HTMLElement),o=t("bx-hueslider",s);return{get default(){
return o}}}),System.registerModule("elements/bx-input",[],function(){"use strict";
System.get("elements/bx-contextmenu"),System.get("elements/bx-menuitem");var t=System.get("classes/shortcut")["default"],e=System.get("classes/undo-manager")["default"],n=System.get("utils/dom").registerElement,r=System.get("utils/time").debounce,i=(Object.entries,
'\n  <style id="skin-style">@import url("stylesheets/bx-input.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" tabindex="0" value=""></input>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),a=function(n){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this.commands={selectAll:{exec:function(){return t["#input"].select();
}},copy:{enabled:function(){return t["#input"].selectionStart!==t["#input"].selectionEnd;
},exec:function(){return t._copyInputValue()}},cut:{enabled:function(){return t["#input"].selectionStart!==t["#input"].selectionEnd;
},exec:function(){return t._cutInputValue()}},paste:{exec:function(){return t._pasteInputValue();
}},undo:{enabled:function(){return t._undoManager.canUndo()},exec:function(){return t._undoManager.undo();
}},redo:{enabled:function(){return t._undoManager.canRedo()},exec:function(){return t._undoManager.redo();
}}},this._textCursor=null,this._undoManager=new e,this._onInputInput250Db=r(this._onInputInput250Db,250,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var n=!0,a=!1,s=void 0;try{for(var o=void 0,l=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){
var u=o.value;this["#"+u.id]=u}}catch(c){a=!0,s=c}finally{try{n||null==l["return"]||l["return"]();
}finally{if(a)throw s}}var d=!0,h=!1,f=void 0;try{for(var v=void 0,m=this.attributes[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){
var b=v.value;this.attributeChangedCallback(b.name)}}catch(g){h=!0,f=g}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw f}}this._updateInputValidity(),
this.addEventListener("mouseenter",function(e){return t._onMouseEnter(e)}),this.addEventListener("mouseleave",function(e){
return t._onMouseLeave(e)}),this.addEventListener("mousemove",function(e){return t._onMouseMove(e);
}),this.addEventListener("mouseup",function(e){return t._onMouseUp(e)}),this.addEventListener("contextmenu",function(e){
return t._onContextMenu(e)}),this["#input"].addEventListener("focusin",function(e){
return t._onInputFocus(e)}),this["#input"].addEventListener("blur",function(e){return t._onInputBlur(e);
}),this["#input"].addEventListener("keydown",function(e){return t._onInputKeyDown(e);
}),this["#input"].addEventListener("input",function(e){return t._onInputInput(e)}),
this["#input"].addEventListener("input",function(e){return t._onInputInput250Db(e);
}),this["#context-menu"].menuWillShow=function(e){return t._menuWillShow(e)},this["#context-menu"].menuItemWillTrigger=function(e){
return t._menuItemWillTrigger(e)},this["#context-menu"].addEventListener("menuitemtrigger",function(e){
return t._onContextMenuItemTrigger(e)})},attributeChangedCallback:function(t){"value"===t?this._onValueAttributeChange():"skin"===t?this._onSkinAttributeChange():"disabled"===t&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(t){
this.setAttribute("value",t)},get mixed(){return this.hasAttribute("mixed")},set mixed(t){
t?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;
},set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)},
get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},validate:function(t){return!0},focus:function(){this["#input"].focus()},selectAll:function(){
this["#input"].select()},_onValueAttributeChange:function(){this["#input"].value=this.value,
this._updateInputValidity()},_onSkinAttributeChange:function(){null===this.skin?this["#skin-style"].innerText='@import url("stylesheets/bx-input.css");':this["#skin-style"].innerText='@import url("stylesheets/bx-input@'+this.skin+'.css");';
},_onDisabledAttributeChange:function(){this.disabled?this["#input"].tabIndex=-1:this["#input"].tabIndex=0;
},_onMouseEnter:function(t){body.isMouseDown?this["#input"].style.pointerEvents="none":(this["#input"].style.pointerEvents=null,
this._textCursor=body.registerCursor("text",200))},_onMouseLeave:function(t){this["#input"].style.pointerEvents=null,
null!==this._textCursor&&(body.unregisterCursor(this._textCursor),this._textCursor=null);
},_onMouseMove:function(t){this["#input"].matches(":focus")===!1&&t.preventDefault();
},_onMouseUp:function(t){this["#input"].style.pointerEvents=null,null===this._textCursor&&(this._textCursor=body.registerCursor("text",200));
},_onInputFocus:function(t){body.bridge.postMessage("toggleTextInputMode",!0),this._cachedValue=this["#input"].value,
this._updateInputValidity()},_onInputBlur:function(t){body.bridge.postMessage("toggleTextInputMode",!1),
this._undoManager.reset(),this["#input"].value!==this.value&&(this.validate(this["#input"].value)===!1?this["#input"].value=this.value:(this.value=this["#input"].value,
this.dispatchEvent(new CustomEvent("change"))))},_onInputKeyDown:function(e){var n=t.fromEvent(e);
n.matches("Enter")?this._confirmInputChange():n.matches("Escape")?this._cancelInputChange():(n.matches("Backspace")||n.matches("ArrowDown")||n.matches("Shift","ArrowDown")||n.matches("ArrowUp")||n.matches("Shift","ArrowUp")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&e.stopPropagation();
},_onInputInput:function(t){this._updateInputValidity()},_onInputInput250Db:function(t){
var e=this,n=this._cachedValue,r=this["#input"].value;this._cachedValue=this["#input"].value,
this._undoManager.register({label:"Typing",undo:function(){e["#input"].value=e._cachedValue=n,
e._updateInputValidity(),e["#input"].select()},redo:function(){e["#input"].value=e._cachedValue=r,
e._updateInputValidity(),e["#input"].select()}})},_onContextMenu:function(t){t.preventDefault(),
this["#input"].focus(),this["#context-menu"].open(t.clientX,t.clientY)},_onContextMenuItemTrigger:function(t){
var e=t.detail,n=this.commands[e.commandID];n&&n.exec()},_menuWillShow:function(t){
var e=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.items[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(t){this._validateMenuItem(t);
},_validateMenuItem:function(t){var e=this;return new Promise(function(n){var r=t.commandID||null,i=r?e.commands[r]:null;
i&&(t.disabled=i.enabled?!i.enabled():!1),n()})},_updateInputValidity:function(){
this.validate(this["#input"].value)?this["#input"].setCustomValidity(""):this["#input"].setCustomValidity("Invalid value");
},_confirmInputChange:function(){this.blur(),this.dispatchEvent(new CustomEvent("confirm"));
},_cancelInputChange:function(){this["#input"].value=this.value,this.blur(),this.dispatchEvent(new CustomEvent("cancel"));
},_copyInputValue:function(){var t=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":t})},_pasteInputValue:function(){
var t=this;body.bridge.postMessage("getClipboardData",null,function(e){if(e["text/plain"]){
var n=t["#input"].selectionStart,r=t["#input"].selectionEnd,i=e["text/plain"],a=t["#input"].value.substring(0,n),s=t["#input"].value.substring(r,t["#input"].value.length);
t["#input"].value=a+i+s,t["#input"].setSelectionRange(n+i.length,n+i.length),t["#input"].dispatchEvent(new Event("input",{
bubbles:!0}))}})},_cutInputValue:function(){var t=this["#input"].selectionStart,e=this["#input"].selectionEnd,n=this["#input"].value.substring(t,e),r=this["#input"].value.substring(0,t),i=this["#input"].value.substring(e,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].setSelectionRange(t,t),this["#input"].dispatchEvent(new Event("input",{
bubbles:!0})),body.bridge.postMessage("setClipboardData",{"text/plain":n})}},{},n);
}(HTMLElement),s=n("bx-input",a);return{get default(){return s}}}),System.registerModule("elements/bx-lineargradienthud",[],function(){
"use strict";var t=System.get("utils/bbox").getUserBBox,e=System.get("utils/dom"),n=e.createElement,r=e.createSVGMatrix,i=e.createSVGPoint,a=e.registerElement,s=System.get("utils/event").isMouseMoveIntentional,o=System.get("utils/gradient").getGradientColorAtOffset,l=System.get("utils/math").normalize,u=System.get("utils/paint"),c=u.getPaintType,d=u.getPaintServer,h=System.get("utils/relationship").queryGraphicsElements,f=System.get("utils/style").queryStylableElements,v=System.get("utils/time").throttle,m=System.get("utils/transform"),b=m.getTransformFromPoints,g=m.getTransformToElement,p=System.get("utils/vector").getAngleBetweenVectors,y=System.get("utils/point"),_=y.getPointAtFraction,x=(y.getPointBetweenTwoPoints,
y.getNearestPointOnLine),w=y.getDistanceBetweenPoints,S=y.snapPointToAngleMultiple,C=System.get("classes/enum")["default"],k=System.get("classes/shortcut")["default"],E=System.get("classes/vector")["default"],A=(Object.keys,
new C("gradient","gradientUser","stop")),T=SVGUnitTypes,L=T.SVG_UNIT_TYPE_USERSPACEONUSE,M=T.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,j=6,R='\n  <style>@import url("stylesheets/bx-lineargradienthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',O=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this.commands={selectAll:{enabled:function(){
return!0},exec:function(){return t._selectAllStops()}},deselectAll:{enabled:function(){
return!0},exec:function(){return t._deselectAllStops()}}},this.tabIndex=-1,this._updateAll200Th=v(this._updateAll,200,this),
this._selectedStops=[],this._draggedGrippie=null,this._draggedSlider=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=R;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("keydown",function(e){
return t._onShadowRootKeyDown(e)}),this._shadowRoot.addEventListener("mousedown",function(e){
return t._onShadowRootMouseDown(e)}),this._shadowRoot.addEventListener("mouseup",function(e){
return t._onShadowRootMouseUp(e)}),this._shadowRoot.addEventListener("dblclick",function(e){
return t._onShadowRootDblClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},get selectedStops(){return $traceurRuntime.spread(this._selectedStops)},_onEnabled:function(){
var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),body.canvas.huds.addEventListener("mousedown",this._hudMouseDownListener=function(e){
t._onHudMouseDown(e)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
t._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
t._onUndoOrRedo()})},_onDisabled:function(){this._selectStops([]),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.huds.removeEventListener("mousedown",this._hudMouseDownListener),body.canvas.undoManager.removeEventListener("undo",this._undoListener),
body.canvas.undoManager.removeEventListener("redo",this._redoListener)},_onSelectedElementsChange:function(){
this._updateAll200Th()},_onSelectedTextRangeChange:function(){this._updateAll200Th();
},_onArtboardMutation:function(t){this._draggedGrippie?this._updatePositions(this._draggedGrippie.parentElement.parentElement):this._draggedSlider?this._updatePositions(this._draggedSlider.parentElement):"style"===t.attributeName&&"stop"===t.target.localName?this._updateGrippiesColor():this._updateAll200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onUndoOrRedo:function(){this._selectStops([]);
},_onArtboardMouseDown:function(t){0===t.button&&this._selectStops([])},_onHudMouseDown:function(t){
0===t.button&&t.target!==this&&this._selectStops([])},_onShadowRootMouseDown:function(t){
var e=this;if(0===t.button){t.target.classList.contains("slider")?this._onSliderMouseDown(t):t.target.classList.contains("stop-grippie")&&this._onStopGrippieMouseDown(t);
var n,r;this._mouseMovedAfterMouseDown=!1,this._mouseDownTimeStamp=t.timeStamp,window.addEventListener("mousemove",n=function(){
e._mouseMovedAfterMouseDown=!0}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mouseup",r),
window.removeEventListener("mousemove",n)})}},_onShadowRootMouseUp:function(t){t.target.classList.contains("stop-grippie")&&this._onStopGrippieMouseUp(t);
},_onShadowRootDblClick:function(t){t.timeStamp-this._mouseDownTimeStamp<100&&t.target.classList.contains("slider")&&this._onSliderDblClick(t);
},_onStopGrippieMouseDown:function(t){var e=t.target,n=e[A.stop],r=n.closest("linearGradient"),i=this._selectedStops.filter(function(t){
return t.closest("linearGradient")===r}),a=function(){var t=0,e=[],n=!0,i=!1,a=void 0;
try{for(var s=void 0,o=r.children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;"stop"===l.localName&&(e[t++]=l)}}catch(u){i=!0,a=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}(),s=a[0],o=a[a.length-1],l=body.modKeys,u=l.alt,c=l.shift;
this._mouseDownSelectedStops=$traceurRuntime.spread(i),c===!1?i.includes(n)===!1&&this._selectStops([n]):c===!0&&i.includes(n)===!1&&(i.push(n),
this._selectStops(i)),n===s&&0===n.offset.baseVal&&u===!1?this._onBoundingStopGrippieOrSliderEdgeMouseDown(t,"start"):n===o&&1===n.offset.baseVal&&u===!1?this._onBoundingStopGrippieOrSliderEdgeMouseDown(t,"end"):this._onDraggableStopGrippieMouseDown(t);
},_onStopGrippieMouseUp:function(t){if(!this._mouseMovedAfterMouseDown){var e=t.target,n=this._mouseDownSelectedStops,r=e[A.stop],i=e.closest(".subhud"),a=i[A.gradientUser],s=body.modKeys.shift,o=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,f=body.canvas.selectedElements[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){
var v=d.value;if("g"!==v.localName&&"a"!==v.localName||!v.contains(a))o.push(v);else{
var m=!0,b=!1,g=void 0;try{for(var p=void 0,y=h($traceurRuntime.spread(v.children))[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var _=p.value;o.unshift(_)}}catch(x){b=!0,g=x}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}}}}catch(w){u=!0,c=w}finally{try{l||null==f["return"]||f["return"]();
}finally{if(u)throw c}}o.remove(a),o.unshift(a),body.canvas.selectedElements=o;for(var S=a.parentElement;S!==body.canvas.currentArtboard;S=S.parentElement)if("g"===S.localName||"a"===S.localName){
body.canvas.currentContainer=S;break}s===!0&&this._mouseDownSelectedStops.includes(r)===!0&&(n.remove(r),
this._selectStops(n))}},_onDraggableStopGrippieMouseDown:function(t){var e,n,r,a,s=this,o=t.target,l=o.closest(".subhud"),u=l.querySelector(".slider"),c=this._getMoveOffsetsForSelectedStops(),d=this.getScreenCTM(),h=d.inverse(),f=i(u.x1.baseVal.value,u.y1.baseVal.value),v=i(u.x2.baseVal.value,u.y2.baseVal.value),m=i(o.cx.baseVal.value,o.cy.baseVal.value),b=m.matrixTransform(d),g=(e=x(f,v,m,!1)[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),p=w(f,g)/w(f,v),y=!1;this._draggedGrippie=o,window.addEventListener("mousemove",r=function(e){
var n,r;y===!1&&(body.canvas.undoManager.checkpoint("Move gradient stop"),y=!0);var a=i(b.x+e.clientX-t.clientX,b.y+e.clientY-t.clientY),o=a.matrixTransform(h),l=(n=x(f,v,o,!1)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),u=w(f,l)/w(f,v),d=u-p,m=!0,g=!1,_=void 0;try{for(var S=void 0,C=s._selectedStops[Symbol.iterator]();!(m=(S=C.next()).done);m=!0){
var k=S.value,E=c.get(k),A=E.minOffset,T=E.maxOffset,L=E.initialOffset;A>L+d?k.setAttribute("offset",A):L+d>T?k.setAttribute("offset",T):k.setAttribute("offset",L+d);
}}catch(M){g=!0,_=M}finally{try{m||null==C["return"]||C["return"]()}finally{if(g)throw _;
}}}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",a),s._draggedGrippie=null})},_onBoundingStopGrippieOrSliderEdgeMouseDown:function(e){
var n,a,o,l,u,c,d,h,f=void 0!==arguments[1]?arguments[1]:"start",v=this,m=$traceurRuntime.spread(this["#subhuds"].children).find(function(t){
return t.contains(e.target)}),g=m[A.gradient],y=m[A.gradientUser],_=t(y),x=y.getScreenCTM(),w=x.inverse(),C=r(g.gradientTransform.baseVal.consolidate().matrix),k=!1,T=!1;
e.target.matches(".stop-grippie")?this._draggedGrippie=e.target:e.target.matches(".slider")&&(this._draggedSlider=e.target);
var j=function(){if(g.gradientUnits.baseVal===L){"start"===f?(o=i(g.x1.baseVal.value,g.y1.baseVal.value),
l=i(g.x2.baseVal.value,g.y2.baseVal.value)):"end"===f&&(o=i(g.x2.baseVal.value,g.y2.baseVal.value),
l=i(g.x1.baseVal.value,g.y1.baseVal.value));var t=new E(l,o).getNormalVector();u=i(l.x+t.x,l.y+t.y);
var e=o.matrixTransform(C),n=l.matrixTransform(C),r=u.matrixTransform(C);c=e.matrixTransform(x),
d=n.matrixTransform(x),h=r.matrixTransform(x)}else if(g.gradientUnits.baseVal===M){
"start"===f?(o=i(g.x1.baseVal.valueInSpecifiedUnits,g.y1.baseVal.valueInSpecifiedUnits),
l=i(g.x2.baseVal.valueInSpecifiedUnits,g.y2.baseVal.valueInSpecifiedUnits)):"end"===f&&(o=i(g.x2.baseVal.valueInSpecifiedUnits,g.y2.baseVal.valueInSpecifiedUnits),
l=i(g.x1.baseVal.valueInSpecifiedUnits,g.y1.baseVal.valueInSpecifiedUnits));var a=new E(l,o).getNormalVector();
u=i(l.x+a.x,l.y+a.y);var s=o.matrixTransform(C),v=l.matrixTransform(C),m=u.matrixTransform(C),b=i(_.x+s.x*_.width,_.y+s.y*_.height),p=i(_.x+v.x*_.width,_.y+v.y*_.height),y=i(_.x+m.x*_.width,_.y+m.y*_.height);
c=b.matrixTransform(x),d=p.matrixTransform(x),h=y.matrixTransform(x)}};window.addEventListener("mousemove",n=function(t){
var n,a;if(k===!1){if(!s(e,t,5))return;k=!0,body.canvas.undoManager.checkpoint("Transform gradient"),
j()}var f,v,m,y,x=body.modKeys.shift,A=i(t.clientX+(c.x-e.clientX),t.clientY+(c.y-e.clientY)),R=i(c.x+t.clientX-e.clientX,c.y+t.clientY-e.clientY),O=i(d);
if(x===!1){var P=p(new E(d,c),new E(d,A)),I=r().rotate(P,d.x,d.y);y=h.matrixTransform(I);
}else if(x===!0){T=!0;var D=(n=S(d,R,22.5)[Symbol.iterator](),(a=n.next()).done?void 0:a.value);
R=D}if(T){var N=new E(O,R).getNormalVector();y=i(O.x+N.x,O.y+N.y)}if(g.gradientUnits.baseVal===L){
var V=R.matrixTransform(w),B=O.matrixTransform(w),U=y.matrixTransform(w);f=V.matrixTransform(C.inverse()),
v=B.matrixTransform(C.inverse()),m=U.matrixTransform(C.inverse())}else if(g.gradientUnits.baseVal===M){
var z=R.matrixTransform(w),G=O.matrixTransform(w),H=y.matrixTransform(w),F=i((z.x-_.x)/_.width,(z.y-_.y)/_.height),q=i((G.x-_.x)/_.width,(G.y-_.y)/_.height),$=i((H.x-_.x)/_.width,(H.y-_.y)/_.height);
f=F.matrixTransform(C.inverse()),v=q.matrixTransform(C.inverse()),m=$.matrixTransform(C.inverse());
}var W=b(o,l,u,f,v,m);g.setAttribute("gradientTransform",C.multiply(W).toString());
}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",a),v._draggedGrippie=null,v._draggedSlider=null;
})},_onSliderMouseDown:function(t){var e=t.target,n=e.closest(".subhud"),r=(n[A.gradientUser],
e.getScreenCTM()),a=i(t.clientX,t.clientY),s=i(e.x1.baseVal.value,e.y1.baseVal.value),o=i(e.x2.baseVal.value,e.y2.baseVal.value),l=s.matrixTransform(r),u=o.matrixTransform(r),c=new E(l,a).length,d=new E(u,a).length;
5>=c?this._onBoundingStopGrippieOrSliderEdgeMouseDown(t,"start"):5>=d?this._onBoundingStopGrippieOrSliderEdgeMouseDown(t,"end"):this._onSliderBodyMouseDown(t);
},_onSliderBodyMouseDown:function(e){var n,a,o,l,u=this,c=e.target,d=c.closest(".subhud"),h=d[A.gradientUser],f=d[A.gradient],v=t(h),m=h.getScreenCTM(),b=m.inverse(),g=r(f.gradientTransform.baseVal.consolidate().matrix),p=!1;
if(this._draggedSlider=c,f.gradientUnits.baseVal===L){var y=i(f.x1.baseVal.value,f.y1.baseVal.value),_=i(f.x2.baseVal.value,f.y2.baseVal.value),x=y.matrixTransform(g),w=_.matrixTransform(g);
o=x.matrixTransform(m),l=w.matrixTransform(m)}else if(f.gradientUnits.baseVal===M){
var S=i(f.x1.baseVal.valueInSpecifiedUnits,f.y1.baseVal.valueInSpecifiedUnits),C=i(f.x2.baseVal.valueInSpecifiedUnits,f.y2.baseVal.valueInSpecifiedUnits),k=S.matrixTransform(g),E=C.matrixTransform(g),T=i(v.x+k.x*v.width,v.y+k.y*v.height),j=i(v.x+E.x*v.width,v.y+E.y*v.height);
o=T.matrixTransform(m),l=j.matrixTransform(m)}window.addEventListener("mousemove",n=function(t){
if(p===!1){if(!s(e,t,5))return;p=!0,body.canvas.undoManager.checkpoint("Transform gradient");
}var n,r;if(f.gradientUnits.baseVal===L){var a=i(o.x+t.clientX-e.clientX,o.y+t.clientY-e.clientY),u=i(l.x+t.clientX-e.clientX,l.y+t.clientY-e.clientY),c=a.matrixTransform(b),d=u.matrixTransform(b);
n=c.matrixTransform(g.inverse()),r=d.matrixTransform(g.inverse())}else if(f.gradientUnits.baseVal===M){
var h=i(o.x+t.clientX-e.clientX,o.y+t.clientY-e.clientY),m=i(l.x+t.clientX-e.clientX,l.y+t.clientY-e.clientY),y=h.matrixTransform(b),_=m.matrixTransform(b),x=i((y.x-v.x)/v.width,(y.y-v.y)/v.height),w=i((_.x-v.x)/v.width,(_.y-v.y)/v.height);
n=x.matrixTransform(g.inverse()),r=w.matrixTransform(g.inverse())}f.setAttribute("x1",n.x),
f.setAttribute("y1",n.y),f.setAttribute("x2",r.x),f.setAttribute("y2",r.y)}),window.addEventListener("mouseup",a=function(){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",a),
u._draggedSlider=null})},_onSliderDblClick:function(t){body.canvas.undoManager.checkpoint("Add Stop");
var e=t.target,r=e.closest(".subhud"),a=r[A.gradient],s=this.getScreenCTM().inverse(),u=function(){
var t=0,e=[],n=!0,r=!1,i=void 0;try{for(var s=void 0,o=a.children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;"stop"===l.localName&&(e[t++]=l)}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return e}(),c=i(e.x1.baseVal.value,e.y1.baseVal.value),d=i(e.x2.baseVal.value,e.y2.baseVal.value),h=i(t.clientX,t.clientY).matrixTransform(s),f=w(c,h),v=w(c,d),m=f/v;
m=l(m,0,1,5);for(var b=null,g=0;g<u.length;g+=1){var p=u[g];if(p.offset.baseVal<m)b=g;else if(p.offset.baseVal>m)break;
}var y=n("svg:stop");y.setAttribute("offset",m),y.style.stopColor=o(a,m).toString("hsl"),
null===b?0===a.childElementCount?a.append(y):a.children[0].before(y):u[b].after(y),
this._selectStops([y])},_onShadowRootKeyDown:function(t){var e=k.fromEvent(t);0!==this._selectedStops.length&&(e.matches("Backspace")?(t.stopPropagation(),
this._deleteSelectedStops()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),
this._selectNextStop()):e.matches("ArrowLeft")?(t.stopPropagation(),this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Left"),
this._moveSelectedStops(1,"left"))):e.matches("ArrowRight")?(t.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Right"),
this._moveSelectedStops(1,"right"))):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),
this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 10 Units Left"),
this._moveSelectedStops(10,"left"))):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 10 Units Right"),
this._moveSelectedStops(10,"right"))))},_updateAll:function(){var t=this,e=f(this.context,body.canvas.selectedElements,body.canvas.selectedTextRange),r=e.filter(function(e){
return"linearGradient"===c(e,t.context)});if(0===r.length)this["#subhuds"].innerHTML="";else{
var i=this._shadowRoot.activeElement,a=[];this["#subhuds"].innerHTML="";var s=!0,o=!1,l=void 0;
try{var u,h,v,m,b=this,g=function(){var t=p.value,e=d(t,b.context);if(a.includes(e))return 0;
a.push(e);var r=function(){var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"stop"===l.localName&&(n[t++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),i=b["#subhud-template"].cloneNode(!0);i.removeAttribute("id"),
i[A.gradient]=e,i[A.gradientUser]=t;var s=i.querySelector(".stop-grippies"),o=document.createDocumentFragment();
u=!0,h=!1,v=void 0;try{for(var l=void 0,c=r[Symbol.iterator]();!(u=(l=c.next()).done);u=!0){
var f=l.value,m=n("svg:circle");m.setAttribute("class","stop-grippie"),m[A.stop]=f,
f.offset.baseVal>.95?o.prepend(m):s.append(m)}}catch(g){h=!0,v=g}finally{try{u||null==c["return"]||c["return"]();
}finally{if(h)throw v}}s.append(o),b["#subhuds"].append(i)};t:for(var p=void 0,y=r[Symbol.iterator]();!(s=(p=y.next()).done);s=!0)switch(m=g()){
case 0:continue t}}catch(_){o=!0,l=_}finally{try{s||null==y["return"]||y["return"]();
}finally{if(o)throw l}}if(i){var x=$traceurRuntime.spread(this["#subhuds"].children).find(function(t){
return t[A.gradient]===i[A.gradient]});x&&x.focus()}this._updatePositions(),this._updateGrippiesSize(),
this._updateGrippiesColor(),this._updateGrippiesSelectedState(),this._updateGrippiesZOrder();
}},_updatePositions:function(){var e=void 0!==arguments[0]?arguments[0]:null,n=!0,a=!1,s=void 0;
try{var o,l,u,c,d,h,f,v=this,m=function(){var n=b.value;if(e&&n!==e)return 0;var a=n[A.gradient],s=n[A.gradientUser],f=function(){
var t=0,e=[],n=!0,r=!1,i=void 0;try{for(var s=void 0,o=a.children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;"stop"===l.localName&&(e[t++]=l)}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return e}(),m=r(a.gradientTransform.baseVal.consolidate().matrix),p=g(s,v),y=n.querySelector(".slider"),x=n.querySelector(".slider-shadow"),w=$traceurRuntime.spread(n.querySelector(".stop-grippies").children);
if(a.gradientUnits.baseVal===L){var S=i(a.x1.baseVal.value,a.y1.baseVal.value),C=i(a.x2.baseVal.value,a.y2.baseVal.value),k=S.matrixTransform(m),E=C.matrixTransform(m),T=k.matrixTransform(p),j=E.matrixTransform(p);
y.setAttribute("x1",T.x),y.setAttribute("y1",T.y),y.setAttribute("x2",j.x),y.setAttribute("y2",j.y),
x.setAttribute("x1",T.x),x.setAttribute("y1",T.y),x.setAttribute("x2",j.x),x.setAttribute("y2",j.y),
o=!0,l=!1,u=void 0;try{for(var R=function(){var t=O.value,e=w.find(function(e){return e[A.stop]===t;
}),n=_(T,j,t.offset.baseVal);e.cx.baseVal.value=n.x,e.cy.baseVal.value=n.y},O=void 0,P=f[Symbol.iterator]();!(o=(O=P.next()).done);o=!0)R();
}catch(I){l=!0,u=I}finally{try{o||null==P["return"]||P["return"]()}finally{if(l)throw u;
}}}else if(a.gradientUnits.baseVal===M){var D=t(s),N=i(a.x1.baseVal.valueInSpecifiedUnits,a.y1.baseVal.valueInSpecifiedUnits),V=i(a.x2.baseVal.valueInSpecifiedUnits,a.y2.baseVal.valueInSpecifiedUnits),B=N.matrixTransform(m),U=V.matrixTransform(m),z=i(D.x+B.x*D.width,D.y+B.y*D.height),G=i(D.x+U.x*D.width,D.y+U.y*D.height),H=z.matrixTransform(p),F=G.matrixTransform(p);
y.setAttribute("x1",H.x),y.setAttribute("y1",H.y),y.setAttribute("x2",F.x),y.setAttribute("y2",F.y),
x.setAttribute("x1",H.x),x.setAttribute("y1",H.y),x.setAttribute("x2",F.x),x.setAttribute("y2",F.y),
c=!0,d=!1,h=void 0;try{for(var q=function(){var t=$.value,e=w.find(function(e){return e[A.stop]===t;
}),n=_(H,F,t.offset.baseVal);e.cx.baseVal.value=n.x,e.cy.baseVal.value=n.y},$=void 0,W=f[Symbol.iterator]();!(c=($=W.next()).done);c=!0)q();
}catch(Y){d=!0,h=Y}finally{try{c||null==W["return"]||W["return"]()}finally{if(d)throw h;
}}}};t:for(var b=void 0,p=this["#subhuds"].children[Symbol.iterator]();!(n=(b=p.next()).done);n=!0)switch(f=m()){
case 0:continue t}}catch(y){a=!0,s=y}finally{try{n||null==p["return"]||p["return"]();
}finally{if(a)throw s}}},_updateGrippiesColor:function(){var t=!0,e=!1,n=void 0;try{
for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;d.style.fill=d[A.stop].style.stopColor}}catch(h){o=!0,l=h}finally{try{
s||null==c["return"]||c["return"]()}finally{if(o)throw l}}}}catch(f){e=!0,n=f}finally{
try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_updateGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.setAttribute("r",j/body.canvas.scale)}}catch(s){e=!0,n=s}finally{
try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_updateGrippiesSelectedState:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;this._selectedStops.includes(d[A.stop])?d.setAttribute("data-selected",""):d.removeAttribute("data-selected");
}}catch(h){o=!0,l=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}}}catch(f){e=!0,n=f}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_updateGrippiesZOrder:function(){var t=this["#subhuds"].querySelectorAll(".stop-grippie"),e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._selectedStops[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h[A.stop]===s&&h.parentElement.append(h)}}catch(f){l=!0,u=f}finally{
try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(v){n=!0,r=v;
}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_selectStops:function(t){
(0!==t.length||0!==this._selectedStops.length)&&(this._selectedStops=$traceurRuntime.spread(t),
this._updateGrippiesSelectedState(),this._updateGrippiesZOrder(),this.dispatchEvent(new CustomEvent("selectedstopschange")));
},_selectAllStops:function(){var t=this._shadowRoot.activeElement,e=t[A.gradient],n=function(){
var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"stop"===l.localName&&(n[t++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._selectedStops[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;l.closest("linearGradient")!==e&&n.push(l)}}catch(u){i=!0,a=u}finally{
try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}this._selectStops(n);
},_deselectAllStops:function(){var t=this._shadowRoot.activeElement,e=t[A.gradient];
this._selectStops(this._selectedStops.filter(function(t){return t.closest("linearGradient")!==e;
}))},_selectNextStop:function(){var t=this._shadowRoot.activeElement,e=t[A.gradient];
if(e){var n=function(){var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"stop"===l.localName&&(n[t++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),r=this._selectedStops.filter(function(t){return t.closest("linearGradient")===e;
}),i=r[r.length-1],a=n[0];n.length>1&&(this._selectStops(this._selectedStops.filter(function(t){
return t.closest("linearGradient")!==e})),i.nextElementSibling?this._selectStops($traceurRuntime.spread([i.nextElementSibling],this._selectedStops)):this._selectStops($traceurRuntime.spread([a],this._selectedStops)));
}},_deleteSelectedStops:function(){var t=this._shadowRoot.activeElement;if(null!==t){
var e=t[A.gradient],n=this._selectedStops.filter(function(t){return t.closest("linearGradient")===e;
});if(n.length>0){body.canvas.undoManager.checkpoint("Delete gradient stop(s)");var r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=n[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]()}finally{
if(i)throw a}}}this._selectStops([])}},_moveSelectedStops:function(){var t=void 0!==arguments[0]?arguments[0]:1,e=void 0!==arguments[1]?arguments[1]:"left",n=this._shadowRoot.activeElement;
if(null!==n){var r=n.querySelector(".slider"),a=n[A.gradient],s=this._selectedStops.filter(function(t){
return t.closest("linearGradient")===a}),o=this._getMoveOffsetsForSelectedStops(),u=this.getScreenCTM(),c=i(r.x1.baseVal.value,r.y1.baseVal.value),d=i(r.x2.baseVal.value,r.y2.baseVal.value),h=c.matrixTransform(u),f=d.matrixTransform(u),v=new E(h,f),m=t/v.length,b=!0,g=!1,p=void 0;
try{for(var y=void 0,_=s[Symbol.iterator]();!(b=(y=_.next()).done);b=!0){var x=y.value,w=o.get(x),S=w.minOffset,C=w.maxOffset;
if("left"===e){var k=l(x.offset.baseVal-m,S,C);x.setAttribute("offset",k)}else if("right"===e){
var T=l(x.offset.baseVal+m,S,C);x.setAttribute("offset",T)}}}catch(L){g=!0,p=L}finally{
try{b||null==_["return"]||_["return"]()}finally{if(g)throw p}}}},_canMoveActiveSelectedStops:function(){
var t=void 0!==arguments[0]?arguments[0]:"left",e=this._shadowRoot.activeElement;if(null!==e){
var n=(e.querySelector(".slider"),e[A.gradient]),r=this._selectedStops.find(function(t){
return t.closest("linearGradient")===n});if(null!==r){var i=this._getMoveOffsetsForSelectedStops(),a=i.get(r),s=a.minOffset,o=a.maxOffset;
return"left"===t?r.offset.baseVal>s:"right"===t?r.offset.baseVal<o:void 0}}},_getPreviousNotSelectedStop:function(t){
for(;t.previousElementSibling;){if(this._selectedStops.includes(t.previousElementSibling)===!1)return t.previousElementSibling;
t=t.previousElementSibling}return null},_getNextNotSelectedStop:function(t){for(;t.nextElementSibling;){
if(this._selectedStops.includes(t.nextElementSibling)===!1)return t.nextElementSibling;
t=t.nextElementSibling}return null},_getMoveOffsetsForSelectedStops:function(){var t=new Map,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=this._selectedStops[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value,l=this._getPreviousNotSelectedStop(o),u=this._getNextNotSelectedStop(o),c={};
l?c.min=o.offset.baseVal-l.offset.baseVal:c.min=o.offset.baseVal,u?c.max=u.offset.baseVal-o.offset.baseVal:c.max=1-o.offset.baseVal,
e.push(c)}}catch(d){r=!0,i=d}finally{try{n||null==s["return"]||s["return"]()}finally{
if(r)throw i}}if(e.length>0){var h=e[0].min,f=e[0].max,v=!0,m=!1,b=void 0;try{for(var g=void 0,p=e[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){
var y=g.value;y.min<h&&(h=y.min),y.max<f&&(f=y.max)}}catch(_){m=!0,b=_}finally{try{
v||null==p["return"]||p["return"]()}finally{if(m)throw b}}var x=!0,w=!1,S=void 0;try{
for(var C=void 0,k=this._selectedStops[Symbol.iterator]();!(x=(C=k.next()).done);x=!0){
var E=C.value;t.set(E,{initialOffset:E.offset.baseVal,minOffset:E.offset.baseVal-h,
maxOffset:E.offset.baseVal+f})}}catch(A){w=!0,S=A}finally{try{x||null==k["return"]||k["return"]();
}finally{if(w)throw S}}}return t}},{},e)}(SVGGElement),P=a("g","bx-lineargradienthud",O);
return{get default(){return P}}}),System.registerModule("elements/bx-maskcontrols",[],function(){
"use strict";System.get("elements/bx-button"),System.get("elements/bx-checkbox"),
System.get("elements/bx-select");var t=System.get("utils/dom"),e=(t.createElement,
t.createSVGMatrix,t.registerElement),n=(System.get("utils/math").round,System.get("utils/paint").getDefFromURL,
System.get("utils/style").queryStylableElements,System.get("utils/time").throttle),r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-maskcontrols.css");\n  </style>\n\n  <section id="clip-section">\n    <h2 id="clip-section-heading">Clipping Mask</h2>\n\n    <div id="clip-buttons" class="hbox">\n      <bx-button\n        id="clip-button"\n        icon="set"\n        iconsize="25"\n        label="Clip">\n      </bx-button>\n\n      <bx-button\n        id="unclip-button"\n        icon="unset"\n        iconsize="25"\n        label="Unclip">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="mask-section">\n    <h2 id="mask-section-heading">Opacity Mask</h2>\n\n    <div id="mask-buttons" class="hbox">\n      <bx-button\n        id="mask-button"\n        icon="set"\n        iconsize="25"\n        label="Mask">\n      </bx-button>\n\n      <bx-button\n        id="unmask-button"\n        icon="unset"\n        iconsize="25"\n        label="Unmask">\n      </bx-button>\n    </div>\n  </section>\n',i=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var e=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#clip-button"].addEventListener("click",function(e){
return t._onClipButtonClick(e)}),this["#unclip-button"].addEventListener("click",function(e){
return t._onUnclipButtonClick(e)}),this["#mask-button"].addEventListener("click",function(e){
return t._onMaskButtonClick(e)}),this["#unmask-button"].addEventListener("click",function(e){
return t._onUnmaskButtonClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(t){this._update200Th()},_onClipButtonClick:function(t){
0===t.button&&body.commands.clip.exec()},_onUnclipButtonClick:function(t){0===t.button&&body.commands.unclip.exec();
},_onMaskButtonClick:function(t){0===t.button&&body.commands.mask.exec()},_onUnmaskButtonClick:function(t){
0===t.button&&body.commands.unmask.exec()},_update:function(){this._updateClipSection(),
this._updateMaskSection()},_updateClipSection:function(){this["#clip-button"].disabled=!body.commands.clip.enabled(),
this["#unclip-button"].disabled=!body.commands.unclip.enabled(),this["#clip-section-heading"].disabled=this["#clip-button"].disabled&&this["#unclip-button"].disabled;
},_updateMaskSection:function(){this["#mask-button"].disabled=!body.commands.mask.enabled(),
this["#unmask-button"].disabled=!body.commands.unmask.enabled(),this["#mask-section-heading"].disabled=this["#mask-button"].disabled&&this["#unmask-button"].disabled;
}},{},t)}(HTMLElement),a=e("bx-maskcontrols",i);return{get default(){return a}}}),
System.registerModule("elements/bx-menu",[],function(){"use strict";System.get("elements/bx-menuitem");
var t=System.get("utils/dom").registerElement,e=System.get("utils/time").sleep,n=75,r=300,i='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-menu.css");\n  </style>\n\n  <main id="main">\n    <content id="content"></content>\n  </main>\n',a=function(t){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this._mouseLocs=[],this._mouseInsideMenuBlock=!1,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}this["#main"].addEventListener("mousemove",function(e){return t._onMouseMove(e);
}),this.addEventListener("mouseover",function(e){return t._onMouseOver(e)}),this.addEventListener("mouseout",function(e){
return t._onMouseOut(e)}),this.addEventListener("click",function(e){return t._onClick(e);
})},menuWillShow:function(){return Promise.resolve()},menuItemWillTrigger:function(t){
return Promise.resolve()},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(t){this.setAttribute("label",t)},get opened(){return this.hasAttribute("opened");
},set opened(t){throw new Error("This property is read-only")},get items(){var t=[],e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;if("content"===s.localName){var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=s.getDistributedNodes()[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;("bx-menuitem"===h.localName||"hr"===h.localName)&&t.push(h)}}catch(f){
l=!0,u=f}finally{try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else("bx-menuitem"===s.localName||"hr"===s.localName)&&t.push(s);
}}catch(v){n=!0,r=v}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}return t},set items(t){throw new Error("This property is read-only")},openBelowElement:function(t){
var e,n,r,i=arguments;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){
case 0:e=void 0!==i[1]?i[1]:0,a.state=4;break;case 4:return void Promise.resolve(this.menuWillShow()).then(a.createCallback(2),a.errback);
case 2:this.setAttribute("opened",""),n=t.getBoundingClientRect(),this.style.height=null,
this.style.top=n.top+n.height+e+"px",this.style.left=n.left+"px",r=this.getBoundingClientRect(),
r.left+r.width>window.innerWidth&&(this.style.left=n.left+n.width-r.width+"px"),r.top+r.height+e+5>window.innerHeight&&(this.style.height=window.innerHeight-(n.top+n.height+e)-10+"px"),
this.dispatchEvent(new CustomEvent("menuopen",{bubbles:!0,detail:this})),a.state=-2;
break;default:return a.end()}},this)},openNextToElement:function(t){var e,n,r,i,a=arguments;
return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:e=void 0!==a[1]?a[1]:0,
s.state=4;break;case 4:return void Promise.resolve(this.menuWillShow()).then(s.createCallback(2),s.errback);
case 2:this.setAttribute("opened",""),n=t.getBoundingClientRect(),this.style.height=null,
this.style.top=n.top+"px",this.style.left=n.left+n.width+e+"px",r=this.getBoundingClientRect(),
r.left+r.width+e>window.innerWidth&&(this.style.left=n.left-r.width-e+"px",r=this.getBoundingClientRect()),
r.top+r.height+5>window.innerHeight&&(i=window.innerHeight-(r.top+r.height)-5,this.style.top=n.top+i+"px",
r=this.getBoundingClientRect(),r.top<0&&(this.style.top="5px",this.style.height=window.innerHeight-10+"px")),
this.dispatchEvent(new CustomEvent("menuopen",{bubbles:!0,detail:this})),s.state=-2;
break;default:return s.end()}},this)},openAtPosition:function(t,e){var n,r;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:return void Promise.resolve(this.menuWillShow()).then(i.createCallback(2),i.errback);
case 2:this.setAttribute("opened",""),this.style.height=null,this.style.left=t+"px",
this.style.top=e+"px",n=this.getBoundingClientRect(),n.left+n.width>window.innerWidth&&(this.style.left=t-n.width+"px",
n=this.getBoundingClientRect()),n.top+n.height+5>window.innerHeight&&(r=window.innerHeight-(n.top+n.height)-5,
this.style.top=e+r+"px",n=this.getBoundingClientRect(),n.top<0&&(this.style.top="5px",
this.style.height=window.innerHeight-10+"px")),this.dispatchEvent(new CustomEvent("menuopen",{
bubbles:!0,detail:this})),i.state=-2;break;default:return i.end()}},this)},close:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.items[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.highlighted&&(a.highlighted=!1)}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this.style.left=null,this.style.top=null,this.removeAttribute("opened"),
this._openedSubmenu&&(this._openedSubmenu.close(),this._openedSubmenu=null),this.dispatchEvent(new CustomEvent("menuclose",{
bubbles:!0,detail:this}))},triggerItem:function(t){var n=this;return new Promise(function(r){
var i,a,s,o,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:return void Promise.resolve(n.menuItemWillTrigger(t)).then(c.createCallback(2),c.errback);
case 2:c.state=t.disabled===!1&&0===t.childElementCount?13:16;break;case 13:c.state=n.opened?7:12;
break;case 7:i=!0,a=!1,s=void 0;try{for(o=void 0,l=n.items[Symbol.iterator]();!(i=(o=l.next()).done);i=!0)u=o.value,
u.highlighted&&(u.highlighted=!1)}catch(d){a=!0,s=d}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}n._willClose=!0,c.state=8;break;case 8:return void Promise.resolve(e(100)).then(c.createCallback(4),c.errback);
case 4:t.highlighted=!0,c.state=10;break;case 10:return void Promise.resolve(e(100)).then(c.createCallback(6),c.errback);
case 6:t.highlighted=!1,n._willClose=!1,n.close(),c.state=12;break;case 12:n.dispatchEvent(new CustomEvent("menuitemtrigger",{
bubbles:!0,detail:t})),r(),c.state=-2;break;case 16:r(),c.state=-2;break;default:
return c.end()}},this)})},highlightItem:function(t){var n,r;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:i.state=this._willClose?1:3;break;case 1:i.returnValue=void 0,
i.state=2;break;case 2:i.state=-2;break;case 3:n=this.items.find(function(t){return t.highlighted===!0;
}),i.state=21;break;case 21:i.state=n?10:7;break;case 10:i.state=n===t?5:8;break;case 5:
i.returnValue=void 0,i.state=6;break;case 6:i.state=-2;break;case 8:n.highlighted=!1,
i.state=7;break;case 7:this._openedSubmenu&&(this._openedSubmenu.close(),this._openedSubmenu=null),
i.state=23;break;case 23:i.state=t&&t.disabled===!1?17:-2;break;case 17:r=t.children[0]&&"bx-menu"===t.children[0].localName?t.children[0]:null,
t.highlighted=!0,i.state=18;break;case 18:i.state=r?12:-2;break;case 12:return void Promise.resolve(e(100)).then(i.createCallback(13),i.errback);
case 13:t.highlighted&&t.highlighted&&(this._openedSubmenu=r,r.openNextToElement(t,0)),
i.state=-2;break;default:return i.end()}},this)},highlightPreviousItem:function(){
var t=void 0!==arguments[0]?arguments[0]:null,e=this.items;if(null===t&&(t=e.find(function(t){
return t.highlighted===!0})),t)for(var n=e.indexOf(t)-1;n>=0;n-=1){var r=e[n];if(r.disabled===!1&&r.hidden===!1&&"bx-menuitem"===r.localName)return this.highlightItem(r),
void r.scrollIntoViewIfNeeded()}for(var i=e.length-1;i>=0;i-=1){var a=e[i];if(a.disabled===!1&&a.hidden===!1&&"bx-menuitem"===a.localName&&a!==t)return this.highlightItem(a),
void a.scrollIntoViewIfNeeded()}},highlightNextItem:function(){var t=void 0!==arguments[0]?arguments[0]:null,e=this.items;
if(null===t&&(t=e.find(function(t){return t.highlighted===!0})),t)for(var n=e.indexOf(t)+1;n<e.length;n+=1){
var r=e[n];if(r.disabled===!1&&r.hidden===!1&&"bx-menuitem"===r.localName)return this.highlightItem(r),
void r.scrollIntoViewIfNeeded()}for(var i=0;i<e.length;i+=1){var a=e[i];if(a.disabled===!1&&a.hidden===!1&&"bx-menuitem"===a.localName&&a!==t)return this.highlightItem(a),
void a.scrollIntoViewIfNeeded()}},_onMouseMove:function(t){this._mouseLocs.push({
x:t.pageX,y:t.pageY}),this._mouseLocs.length>3&&this._mouseLocs.shift()},_onMouseOver:function(t){
t.target===this||t.target.parentElement===this||this.items.includes(t.target)?(this._mouseInsideMenuBlock===!1&&(this._mouseInsideMenuBlock=!0),
"bx-menuitem"===t.target.localName&&this._onMenuItemMouseEnter(t.target)):this._mouseInsideMenuBlock===!0&&(this._mouseInsideMenuBlock=!1,
this._onMenuBlockMouseLeave())},_onMouseOut:function(t){(!t.toElement||t.toElement!==this&&!this.items.includes(t.toElement))&&this._mouseInsideMenuBlock===!0&&(this._mouseInsideMenuBlock=!1,
this._onMenuBlockMouseLeave())},_onClick:function(t){if(0===t.button&&"bx-menuitem"===t.target.localName&&(t.target.parentElement===this||this.items.includes(t.target))){
var e=t.target;this.triggerItem(e)}},_onMenuItemMouseEnter:function(t){this._timeoutID&&clearTimeout(this._timeoutID),
this._highlightItemWithDelay(t)},_onMenuBlockMouseLeave:function(){this._timeoutID&&clearTimeout(this._timeoutID);
var t=this.items.find(function(t){return t.highlighted===!0});if(t){var e=t.children[0];
e&&e.opened!==!1||(t.highlighted=!1)}},_highlightItemWithDelay:function(t){var e=this,n=this._getHighlightDelay();
n?this._timeoutID=setTimeout(function(){e._highlightItemWithDelay(t)},n):this.highlightItem(t);
},_getHighlightDelay:function(){var t="right",e=this._mouseLocs[this._mouseLocs.length-1],i=this._mouseLocs[0];
if(!this._openedSubmenu)return 0;if(!e)return 0;i||(i=e);var a=this.getBoundingClientRect(),s={
x:a.left,y:a.top-n},o={x:a.left+a.width,y:s.y},l={x:a.left,y:a.top+a.height+n},u={
x:a.left+a.width,y:l.y};if(i.x<a.left||i.x>u.x||i.y<a.top||i.y>u.y)return 0;if(this._lastDelayLoc&&e.x==this._lastDelayLoc.x&&e.y==this._lastDelayLoc.y)return 0;
var c=o,d=u;"left"==t?(c=l,d=s):"below"==t?(c=u,d=l):"above"==t&&(c=s,d=o);var h=function(t,e){
return(e.y-t.y)/(e.x-t.x)},f=h(e,c),v=h(e,d),m=h(i,c),b=h(i,d);return m>f&&v>b?(this._lastDelayLoc=e,
r):(this._lastDelayLoc=null,0)}},{},t)}(HTMLElement),s=t("bx-menu",a);return{get default(){
return s}}}),System.registerModule("elements/bx-menuitem",[],function(){"use strict";
var t=System.get("utils/dom").registerElement,e=System.get("classes/shortcut")["default"],n="images/icons.svg#arrow-right",r="images/icons.svg#circle",i="images/icons.svg#check-mark",a='\n  <style>@import url("stylesheets/bx-menuitem.css");</style>\n\n  <main>\n    <div id="state-icons">\n      <svg class="icon" id="selected-state-icon" viewBox="0 0 100 100" hidden>\n        <use xlink:href="'+r+'" width="100" height="100"></use>\n      </svg>\n\n      <svg class="icon" id="toggled-state-icon" viewBox="0 0 100 100" hidden>\n        <use xlink:href="'+i+'" width="100" height="100"></use>\n      </svg>\n    </div>\n\n    <div id="label"></div>\n    <div id="shortcut"></div>\n    <svg id="arrow-icon" viewBox="0 0 100 100"><use xlink:href="'+n+'" width="100" height="100"></use></svg>\n  </main>\n\n  <content select="bx-menu"></content>\n',s=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=a;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"label"===t?this._onLabelAttributeChange():"state"===t?this._onStateAttributeChange():("shortcut"===t||"usershortcut"===t)&&this._onShortcutAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(t){
this.setAttribute("label",t)},get state(){return this.hasAttribute("state")?this.getAttribute("state"):null;
},set state(t){null===t?this.removeAttribute("state"):this.setAttribute("state",t);
},get commandID(){return this.hasAttribute("commandid")?this.getAttribute("commandid"):"";
},set commandID(t){this.setAttribute("commandid",t)},get shortcut(){return this.hasAttribute("shortcut")?e.fromString(this.getAttribute("shortcut")):null;
},set shortcut(t){null===t?this.removeAttribute("shortcut"):this.setAttribute("shortcut",t.toString());
},get userShortcut(){return this.hasAttribute("usershortcut")?e.fromString(this.getAttribute("usershortcut")):null;
},set userShortcut(t){null===t?this.removeAttribute("usershortcut"):this.setAttribute("usershortcut",t.toString());
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onStateAttributeChange:function(){
"selected"===this.state?(this["#selected-state-icon"].removeAttribute("hidden"),this["#toggled-state-icon"].setAttribute("hidden","")):"toggled"===this.state?(this["#selected-state-icon"].setAttribute("hidden",""),
this["#toggled-state-icon"].removeAttribute("hidden")):(this["#selected-state-icon"].setAttribute("hidden",""),
this["#toggled-state-icon"].setAttribute("hidden",""))},_onShortcutAttributeChange:function(){
var t=this.userShortcut||this.shortcut||null;t?this["#shortcut"].textContent=t.toDisplayString():this["#shortcut"].textContent="";
}},{},t)}(HTMLElement),o=t("bx-menuitem",s);return{get default(){return o}}}),System.registerModule("elements/bx-outlineshud",[],function(){
"use strict";var t=System.get("utils/bbox").getUserBBox,e=System.get("utils/dom"),n=e.createElement,r=e.registerElement,i=System.get("utils/path"),a=(i.ellipseToPath,
i.rectToPath),s=System.get("utils/relationship").queryGraphicsElements,o=System.get("utils/time"),l=(o.sleep,
o.throttle),u=System.get("utils/transform").getTransformToElement,c='\n  <style>@import url("stylesheets/bx-outlineshud.css");</style>\n  <g id="outlines"></g>\n',d=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._updateOutlines30Th=l(this._updateOutlines,30,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=c;
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var o=!0,u=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,d=m}finally{try{
o||null==f["return"]||f["return"]()}finally{if(u)throw d}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._updateOutlines(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
t._onArtboardMutation()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._updateOutlines()},_onArtboardMutation:function(){
this._updateOutlines30Th()},_updateOutlines:function(){this["#outlines"].innerHTML="";
var e=!1,r=!0,i=!1,o=void 0;try{for(var l=void 0,c=s(body.canvas.selectedElements)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){
var d=l.value,h=u(d,this),f=null;if("path"===d.localName)f=n("svg:path"),d.hasAttribute("d")&&f.setAttribute("d",d.getAttribute("d"));else if("rect"===d.localName)f=a(d,!1);else{
var v=t(d);f=n("svg:path"),f.setAttribute("d","\n          M "+v.x+" "+v.y+"\n          L "+(v.x+v.width)+" "+v.y+"\n          L "+(v.x+v.width)+" "+(v.y+v.height)+"\n          L "+v.x+" "+(v.y+v.height)+"\n          L "+v.x+" "+v.y+"\n        ");
}body.canvas.selectedElements.includes(d)===!1&&f.setAttribute("data-container",""),
f.setAttribute("class","outline"),f.setAttribute("transform",h.toString()),e===!1&&(e=!0,
f.setAttribute("data-primary","")),this["#outlines"].append(f)}}catch(m){i=!0,o=m;
}finally{try{r||null==c["return"]||c["return"]()}finally{if(i)throw o}}}},{},e)}(SVGGElement),h=r("g","bx-outlineshud",d);
return{get default(){return h}}}),System.registerModule("elements/bx-paintsection",[],function(){
"use strict";System.get("elements/bx-button"),System.get("elements/bx-colorpicker"),
System.get("elements/bx-select");var t=System.get("classes/color")["default"],e=System.get("utils/artwork").getPatternThumbnails,n=System.get("utils/bbox").getUserBBox,r=System.get("utils/color").parseColor,i=System.get("utils/dom"),a=(i.closest,
i.createElement),s=i.registerElement,o=i.parseSVG,l=System.get("utils/paint"),u=l.getPaintType,c=l.getPaintServer,d=l.getDefFromURL,h=l.isMixedPaint,f=System.get("utils/style").queryStylableElements,v=System.get("utils/text").normalizeTextInRangeBeforeEditing,m=System.get("utils/time"),b=m.debounce,g=m.throttle,p=System.get("utils/pattern"),y=p.centerPattern,_=p.getComputedPatternProperties,x=p.getClosestBasePattern,w=p.getParentPattern,S=p.isDerivedPattern,C="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",k='\n  <style>@import url("stylesheets/bx-paintsection.css");</style>\n\n  <main>\n    <header id="section-header">\n      <h2 id="section-heading">Paint</h2>\n    </header>\n\n    <section id="paint-type-subsection">\n      <h3 id="paint-type-heading">Type</h3>\n\n      <div id="paint-type-buttons">\n        <bx-button\n          id="solid-paint-button"\n          value="solid"\n          tooltip="Solid Color"\n          icon="paint-solid"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="linear-gradient-paint-button"\n          value="linear-gradient"\n          tooltip="Linear Gradient"\n          icon="paint-linear-gradient"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="radial-gradient-paint-button"\n          value="radial-gradient"\n          tooltip="Radial Gradient"\n          icon="paint-radial-gradient"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="pattern-paint-button"\n          value="pattern"\n          tooltip="Pattern"\n          icon="paint-pattern"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="none-paint-button"\n          value="none"\n          tooltip="None"\n          icon="paint-none"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="inherit-paint-button"\n          value="inherit"\n          tooltip="Inherit"\n          icon="paint-inherit"\n          iconsize="30"\n          hidden\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="spread-method-subsection">\n      <h3>Spread</h3>\n\n      <div id="spread-method-buttons">\n        <bx-button\n          id="pad-spread-method-button"\n          value="pad"\n          tooltip="Pad spread method"\n          icon="spread-method-pad"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="repeat-spread-method-button"\n          value="repeat"\n          tooltip="Repeat spread method"\n          icon="spread-method-repeat"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="reflect-spread-method-button"\n          value="reflect"\n          tooltip="Reflect spread method"\n          icon="spread-method-reflect"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="color-subsection">\n      <h3>Color</h3>\n      <bx-colorpicker id="color-picker"></bx-colorpicker>\n      <p id="color-picker-hint"></p>\n    </section>\n\n    <section id="pattern-subsection">\n      <h3>Pattern</h3>\n\n      <div class="hbox">\n        <bx-select id="pattern-select" value="pattern-0">\n          <bx-selectitem value="pattern-0" label="#pattern-0"></bx-selectitem>\n          <bx-selectitem value="pattern-1" label="#pattern-1"></bx-selectitem>\n          <bx-selectitem value="pattern-2" label="#pattern-2"></bx-selectitem>\n        </bx-select>\n\n        <bx-button\n          id="edit-pattern-button"\n          tooltip="Edit pattern"\n          icon="forward"\n          iconsize="22"\n          skin="iconic">\n        </bx-button>\n      </div>\n\n      <div id="pattern-select-hint">Add more patterns in <span id="defs-panel-span">Defs Panel</span>.</div>\n    </section>\n  </main>\n',E=function(i){
function s(){$traceurRuntime.superConstructor(s).apply(this,arguments)}return $traceurRuntime.createClass(s,{
createdCallback:function(){var t=this;this._update200Th=g(this._update,200,this),
this._updatePatternThumbnails2000Db=b(this._updatePatternThumbnails,2e3,this),"fill"===this.context?(this._linearGradientHud=body.canvas.linearGradientFillHud,
this._radialGradientHud=body.canvas.radialGradientFillHud):"stroke"===this.context&&(this._linearGradientHud=body.canvas.linearGradientStrokeHud,
this._radialGradientHud=body.canvas.radialGradientStrokeHud),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=k;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this["#paint-type-buttons"].addEventListener("click",function(e){
return t._onPaintTypeButtonsClick(e)}),this["#spread-method-buttons"].addEventListener("click",function(e){
return t._onSpreadMethodButtonsClick(e)}),this["#color-picker"].addEventListener("changestart",function(e){
return t._onColorPickerColorChangeStart(e)}),this["#color-picker-hint"].addEventListener("click",function(e){
return t._onColorPickerHintClick(e)}),this["#pattern-select"].addEventListener("change",function(){
return t._onPatternSelectChange()}),this["#pattern-select-hint"].addEventListener("click",function(e){
return t._onPatternSelectHintClick(e)}),this["#edit-pattern-button"].addEventListener("click",function(e){
return t._onEditPatternButtonClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},set context(t){if("fill"!==t&&"stroke"!==t)throw new Error("Invalid context value");
this.setAttribute("context",t)},_onEnabled:function(){var t=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),body.canvas.addEventListener("currentartboardchange",this._currentArtboardChangeListener=function(){
t._onCurrentArtboardChange()}),this._linearGradientHud.addEventListener("selectedstopschange",this._selectedStopsChangeListener1=function(){
t._onSelectedElementsChange()}),this._radialGradientHud.addEventListener("selectedstopschange",this._selectedStopsChangeListener2=function(){
t._onSelectedElementsChange()}),this._onCurrentArtboardChange(),this._onSelectedElementsChange();
},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("currentartboardchange",this._currentArtboardChangeListener),
this._linearGradientHud.removeEventListener("selectedstopschange",this._selectedStopsChangeListener1),
this._radialGradientHud.removeEventListener("selectedstopschange",this._selectedStopsChangeListener2);
},_onArtboardMutation:function(t){this._update200Th()},_onSelectedElementsChange:function(){
this._update200Th()},_onSelectedTextRangeChange:function(){this._update()},_onCurrentArtboardChange:function(){
var t=body.canvas.currentArtboard.contentType;"symbol"===t?this["#inherit-paint-button"].hidden=!1:this["#inherit-paint-button"].hidden=!0;
},_onPaintTypeButtonsClick:function(t){var e=t.target,n=e.value,r=(e.localName,e.pressed),i=e.mixed;
"bx-button"===t.target.localName&&(r!==!0||i!==!1)&&("solid"===n?this._onSolidPaintButtonClick():"linear-gradient"===n?this._onLinearGradientPaintButtonClick():"radial-gradient"===n?this._onRadialGradientPaintButtonClick():"pattern"===n?this._onPatternPaintButtonClick():"inherit"===n?this._onInheritPaintButtonClick():"none"===n&&this._onNonePaintButtonClick());
},_onSolidPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;v(n);var i,a=f(this.context,e,n),s=a[0]||null,o=u(s,this.context);
if("solid"===o)i=getComputedStyle(s)[this.context];else if("linearGradient"===o||"radialGradient"===o){
var l=c(s,this.context),d=l.children[0],h=d.style.stopColor,m=r(h,"hsla");i=m.toString("hsl");
}else i="#bada55";var b=!0,g=!1,p=void 0;try{for(var y=void 0,_=a[Symbol.iterator]();!(b=(y=_.next()).done);b=!0){
var x=y.value;x.style[this.context]=i}}catch(w){g=!0,p=w}finally{try{b||null==_["return"]||_["return"]();
}finally{if(g)throw p}}},_onLinearGradientPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Change paint type");
var e=body.canvas,i=e.selectedElements,s=e.selectedTextRange;v(s);var l,c=f(this.context,i,s),h=c[0]||null,m=u(h,this.context);
if("solid"===m){var b=getComputedStyle(h)[this.context],g=r(b,"hsla"),p=g.l-20;0>p&&(p=0),
l=a("svg:linearGradient");var y=a("svg:stop");y.offset.baseVal=0,y.style.stopColor=g.toString("hsl"),
1!==g.a&&(y.style.stopOpacity=g.a),l.append(y);var _=a("svg:stop");_.offset.baseVal=1;
var x=new t(g.h,g.s,p,1,"hsla");_.style.stopColor=x.toString("hsl"),l.append(_)}else if("linearGradient"===m){
var w=getComputedStyle(h)[this.context];l=d(body.canvas.masterArtboard,w)}else if("radialGradient"===m){
var S=getComputedStyle(h)[this.context],C=d(body.canvas.masterArtboard,S);l=a("svg:linearGradient"),
l.innerHTML=C.innerHTML}else l=o('\n        <linearGradient>\n          <stop offset="0" style="stop-color: #bada55"></stop>\n          <stop offset="1" style="stop-color: #758d29"></stop>\n        </linearGradient>\n      ');
var k=null,E=!0,A=!1,T=void 0;try{for(var L=void 0,M=c[Symbol.iterator]();!(E=(L=M.next()).done);E=!0){
var j=L.value;if("tspan"===j.localName&&k&&k.closest("text")===j.closest("text"))j.style[this.context]=k.style[this.context];else if("use"===j.localName){
var R=l.cloneNode(!0);R.setAttribute("id",body.canvas.generateUniqueID("gradient")),
R.setAttribute("gradientUnits","objectBoundingBox"),R.setAttribute("x1","0.5"),R.setAttribute("y1","0"),
R.setAttribute("x2","0.5"),R.setAttribute("y2","1"),body.canvas.defs.append(R),j.style[this.context]="url(#"+R.id+")";
}else{var O=n(j),P=l.cloneNode(!0);P.setAttribute("id",body.canvas.generateUniqueID("gradient")),
P.setAttribute("gradientUnits","userSpaceOnUse"),P.setAttribute("x1",O.x+O.width/2),
P.setAttribute("y1",O.y),P.setAttribute("x2",O.x+O.width/2),P.setAttribute("y2",O.y+O.height),
body.canvas.defs.append(P),j.style[this.context]="url(#"+P.id+")"}"tspan"===j.localName&&(k=j);
}}catch(I){A=!0,T=I}finally{try{E||null==M["return"]||M["return"]()}finally{if(A)throw T;
}}},_onRadialGradientPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Change paint type");
var e=body.canvas,i=e.selectedElements,s=e.selectedTextRange;v(s);var l,c=f(this.context,i,s),h=c[0]||null,m=u(h,this.context);
if("solid"===m){var b=getComputedStyle(h)[this.context],g=r(b,"hsla"),p=g.l-20;0>p&&(p=0),
l=a("svg:radialGradient");var y=a("svg:stop");y.offset.baseVal=0,y.style.stopColor=g.toString("hsl"),
1!==g.a&&(y.style.stopOpacity=g.a),l.append(y);var _=a("svg:stop");_.offset.baseVal=1;
var x=new t(g.h,g.s,p,1,"hsla");_.style.stopColor=x.toString("hsl"),l.append(_)}else if("linearGradient"===m){
var w=getComputedStyle(h)[this.context],S=d(body.canvas.masterArtboard,w);l=a("svg:radialGradient"),
l.innerHTML=S.innerHTML}else if("radialGradient"===m){var C=getComputedStyle(h)[this.context];
l=d(body.canvas.masterArtboard,C)}else l=o('\n        <radialGradient>\n          <stop offset="0" style="stop-color: #bada55"></stop>\n          <stop offset="1" style="stop-color: #758d29"></stop>\n        </radialGradient>\n      ');
var k=null,E=!0,A=!1,T=void 0;try{for(var L=void 0,M=c[Symbol.iterator]();!(E=(L=M.next()).done);E=!0){
var j=L.value;if("tspan"===j.localName&&k&&k.closest("text")===j.closest("text"))j.style[this.context]=k.style[this.context];else if("use"===j.localName){
var R=l.cloneNode(!0);R.setAttribute("id",body.canvas.generateUniqueID("gradient")),
R.setAttribute("gradientUnits","objectBoundingBox"),R.setAttribute("cx","0.5"),R.setAttribute("cy","0.5"),
R.setAttribute("r","0.5"),body.canvas.defs.append(R),j.style[this.context]="url(#"+R.id+")";
}else{var O=n(j),P=l.cloneNode(!0);P.setAttribute("id",body.canvas.generateUniqueID("gradient")),
P.setAttribute("gradientUnits","userSpaceOnUse"),P.setAttribute("cx",O.x+O.width/2),
P.setAttribute("cy",O.y+O.height/2),P.setAttribute("r",O.width/2),body.canvas.defs.append(P),
j.style[this.context]="url(#"+P.id+")"}"tspan"===j.localName&&(k=j)}}catch(I){A=!0,
T=I}finally{try{E||null==M["return"]||M["return"]()}finally{if(A)throw T}}},_onPatternPaintButtonClick:function(){
body.canvas.undoManager.checkpoint("Paint type");var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;
v(n);var r=f(this.context,e,n),i=r[0]||null,s=u(i,this.context),l=null,c=$traceurRuntime.spread(r);
if("pattern"===s){var h=getComputedStyle(i)[this.context],m=d(body.canvas.masterArtboard,h);
l=S(m)===!1?m:w(m),c=c.filter(function(t){return t!==i})}if(!l){var b=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
l=b.find(function(t){var e=_(t),n=e.width,r=e.height;return S(t)===!1&&0!==n.valueInSpecifiedUnits&&0!==r.valueInSpecifiedUnits;
})}if(!l){var g=body.canvas.generateUniqueID("pattern");l=o('\n        <pattern id="'+g+'" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n          <path d="M 0 0 L 50 0 L 50 100 L 0 100 Z" style="fill: black;"></path>\n        </pattern>\n      '),
body.canvas.defs.append(l)}var p=!0,x=!1,C=void 0;try{for(var k=void 0,E=c[Symbol.iterator]();!(p=(k=E.next()).done);p=!0){
var A=k.value,T=a("svg:pattern");T.setAttribute("id",body.canvas.generateUniqueID(l.id)),
T.setAttribute("href","#"+l.id),T.setAttribute("patternTransform",""),body.canvas.defs.append(T),
A.style[this.context]="url(#"+T.id+")",y(T,A)}}catch(L){x=!0,C=L}finally{try{p||null==E["return"]||E["return"]();
}finally{if(x)throw C}}},_onInheritPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;v(n);var r=f(this.context,e,n),i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;
u.style[this.context]="inherit"}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}},_onNonePaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;v(n);var r=f(this.context,e,n),i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;
u.style[this.context]="none"}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}},_onSpreadMethodButtonsClick:function(t){var e=t.target,n=e.pressed,r=e.mixed,i=e.value;
if("bx-button"===t.target.localName&&0===t.button&&(n!==!0||r!==!1)){body.canvas.undoManager.checkpoint("Spread Method");
var a=body.canvas,s=a.selectedElements,o=a.selectedTextRange,l=f(this.context,s,o),d=!0,h=!1,v=void 0;
try{for(var m=void 0,b=l[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){var g=m.value,p=u(g,this.context);
if("linearGradient"===p||"radialGradient"===p){var y=c(g,this.context);y.setAttribute("spreadMethod",i);
}}}catch(_){h=!0,v=_}finally{try{d||null==b["return"]||b["return"]()}finally{if(h)throw v;
}}}},_onColorPickerColorChangeStart:function(t){var e=this;body.canvas.undoManager.checkpoint("Change Color");
var n=body.canvas,r=n.selectedElements,i=n.selectedTextRange;v(i);var a,s,o,l=f(this.context,r,i),d=l[0]||null,h=u(d,this.context);
if("solid"===h)o=getComputedStyle(d)[this.context];else if("linearGradient"===h||"radialGradient"===h){
var m=c(d,this.context),b=m.children[0];o=b.style.stopColor}else o="#bada55";var g=!0,p=!1,y=void 0;
try{for(var _=void 0,x=l[Symbol.iterator]();!(g=(_=x.next()).done);g=!0){var w=_.value;
w!==d&&"solid"===h&&(w.style[this.context]=o)}}catch(S){p=!0,y=S}finally{try{g||null==x["return"]||x["return"]();
}finally{if(p)throw y}}this["#color-picker"].addEventListener("change",a=function(){
var t=!0,n=!1,r=void 0;try{for(var i,a,s,o,d,h,f=function(){var t=v.value,n=u(t,e.context);
if("solid"===n)t.style[e.context]=e["#color-picker"].color;else if("linearGradient"===n){
var r=c(t,e.context),l=e._linearGradientHud.selectedStops.filter(function(t){return t.parentElement===r;
});i=!0,a=!1,s=void 0;try{for(var f=void 0,m=l[Symbol.iterator]();!(i=(f=m.next()).done);i=!0){
var b=f.value;b.style.stopColor=e["#color-picker"].color}}catch(g){a=!0,s=g}finally{
try{i||null==m["return"]||m["return"]()}finally{if(a)throw s}}}else if("radialGradient"===n){
var p=c(t,e.context),y=e._radialGradientHud.selectedStops.filter(function(t){return t.parentElement===p;
});o=!0,d=!1,h=void 0;try{for(var _=void 0,x=y[Symbol.iterator]();!(o=(_=x.next()).done);o=!0){
var w=_.value;w.style.stopColor=e["#color-picker"].color}}catch(S){d=!0,h=S}finally{
try{o||null==x["return"]||x["return"]()}finally{if(d)throw h}}}},v=void 0,m=l[Symbol.iterator]();!(t=(v=m.next()).done);t=!0)f();
}catch(b){n=!0,r=b}finally{try{t||null==m["return"]||m["return"]()}finally{if(n)throw r;
}}}),this["#color-picker"].addEventListener("changeend",s=function(){e["#color-picker"].removeEventListener("change",a),
e["#color-picker"].removeEventListener("changeend",s)})},_onColorPickerHintClick:function(t){
0===t.button&&"edit-tool-span"===t.target.id&&body.toggleTool("edit-tool")},_onPatternSelectChange:function(){
body.canvas.undoManager.checkpoint("Pattern");var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;
v(n);var r=f(this.context,e,n),i=this["#pattern-select"].value,s=body.canvas.masterArtboard.querySelector("#"+i),o=!0,l=!1,c=void 0;
try{for(var h=void 0,m=r[Symbol.iterator]();!(o=(h=m.next()).done);o=!0){var b=h.value,g=u(b,this.context);
if("pattern"===g){var p=getComputedStyle(b)[this.context],_=d(body.canvas.masterArtboard,p),w=x(_);
if(w===s)continue}var S=a("svg:pattern");S.setAttribute("id",body.canvas.generateUniqueID(s.id)),
S.setAttribute("href","#"+s.id),S.setAttribute("patternTransform",""),body.canvas.defs.append(S),
b.style[this.context]="url(#"+S.id+")",y(S,b)}}catch(C){l=!0,c=C}finally{try{o||null==m["return"]||m["return"]();
}finally{if(l)throw c}}},_onPatternSelectHintClick:function(t){0===t.button&&"defs-panel-span"===t.target.id&&body.togglePanel("defs-panel");
},_onEditPatternButtonClick:function(t){0===t.button&&body.canvas.editPattern(this["#pattern-select"].value);
},_update:function(){var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;
this._selectedStylableElements=f(this.context,e,n),this._updateHeader(),this._updatePaintTypeSubsection(),
this._updateSpreadMethodSubsection(),this._updateColorSubsection(),this._updatePatternSubsection();
},_updateHeader:function(){var t=this._selectedStylableElements[0]||null;null===t?this["#section-heading"].disabled=!0:this["#section-heading"].disabled=!1;
},_updatePaintTypeSubsection:function(){var t=this._selectedStylableElements,e=t[0]||null;
if(null===e){this["#paint-type-heading"].disabled=!0;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#paint-type-buttons"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;o.disabled=!0,o.pressed=!1,o.mixed=!1}}catch(l){r=!0,i=l}finally{try{
n||null==s["return"]||s["return"]()}finally{if(r)throw i}}}else{var c=u(e,this.context),d=h(t,this.context);
if(this["#paint-type-heading"].disabled=!1,"solid"===c){var f=!0,v=!1,m=void 0;try{
for(var b=void 0,g=this["#paint-type-buttons"].children[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var p=b.value;p.disabled=!1,"solid"===p.value?(p.pressed=!0,p.mixed=d):(p.pressed=!1,
p.mixed=!1)}}catch(y){v=!0,m=y}finally{try{f||null==g["return"]||g["return"]()}finally{
if(v)throw m}}}else if("linearGradient"===c){var _=!0,x=!1,w=void 0;try{for(var S=void 0,C=this["#paint-type-buttons"].children[Symbol.iterator]();!(_=(S=C.next()).done);_=!0){
var k=S.value;k.disabled=!1,"linear-gradient"===k.value?(k.pressed=!0,k.mixed=d):(k.pressed=!1,
k.mixed=!1)}}catch(E){x=!0,w=E}finally{try{_||null==C["return"]||C["return"]()}finally{
if(x)throw w}}}else if("radialGradient"===c){var A=!0,T=!1,L=void 0;try{for(var M=void 0,j=this["#paint-type-buttons"].children[Symbol.iterator]();!(A=(M=j.next()).done);A=!0){
var R=M.value;R.disabled=!1,"radial-gradient"===R.value?(R.pressed=!0,R.mixed=d):(R.pressed=!1,
R.mixed=!1)}}catch(O){T=!0,L=O}finally{try{A||null==j["return"]||j["return"]()}finally{
if(T)throw L}}}else if("pattern"===c){var P=!0,I=!1,D=void 0;try{for(var N=void 0,V=this["#paint-type-buttons"].children[Symbol.iterator]();!(P=(N=V.next()).done);P=!0){
var B=N.value;B.disabled=!1,"pattern"===B.value?(B.pressed=!0,B.mixed=d):(B.pressed=!1,
B.mixed=!1)}}catch(U){I=!0,D=U}finally{try{P||null==V["return"]||V["return"]()}finally{
if(I)throw D}}}else if("inherit"===c){var z=!0,G=!1,H=void 0;try{for(var F=void 0,q=this["#paint-type-buttons"].children[Symbol.iterator]();!(z=(F=q.next()).done);z=!0){
var $=F.value;$.disabled=!1,"inherit"===$.value?($.pressed=!0,$.mixed=d):($.pressed=!1,
$.mixed=!1)}}catch(W){G=!0,H=W}finally{try{z||null==q["return"]||q["return"]()}finally{
if(G)throw H}}}else if("none"===c){var Y=!0,X=!1,Z=void 0;try{for(var K=void 0,J=this["#paint-type-buttons"].children[Symbol.iterator]();!(Y=(K=J.next()).done);Y=!0){
var Q=K.value;Q.disabled=!1,"none"===Q.value?(Q.pressed=!0,Q.mixed=d):(Q.pressed=!1,
Q.mixed=!1)}}catch(tt){X=!0,Z=tt}finally{try{Y||null==J["return"]||J["return"]()}finally{
if(X)throw Z}}}}},_updateSpreadMethodSubsection:function(){var t=this._selectedStylableElements,e=t[0]||null;
if(null===e)this["#spread-method-subsection"].hidden=!0;else{var n=u(e,this.context);
if("linearGradient"===n||"radialGradient"===n){this["#spread-method-subsection"].hidden=!1;
var r=c(e,this.context),i=!1,a=!0,s=!1,o=void 0;try{for(var l=void 0,d=t[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){
var h=l.value,f=c(h,this.context);f&&f.localName.endsWith("Gradient")&&f.spreadMethod.baseVal!==r.spreadMethod.baseVal&&(i=!0);
}}catch(v){s=!0,o=v}finally{try{a||null==d["return"]||d["return"]()}finally{if(s)throw o;
}}r.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].pressed=!0,
this["#repeat-spread-method-button"].mixed=i,this["#pad-spread-method-button"].pressed=!1,
this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].pressed=!1,
this["#reflect-spread-method-button"].mixed=!1):r.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].pressed=!1,
this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].pressed=!0,
this["#pad-spread-method-button"].mixed=i,this["#reflect-spread-method-button"].pressed=!1,
this["#reflect-spread-method-button"].mixed=!1):r.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].pressed=!1,
this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].pressed=!1,
this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].pressed=!0,
this["#reflect-spread-method-button"].mixed=i)}else this["#spread-method-subsection"].hidden=!0;
}},_updateColorSubsection:function(){var t=this._selectedStylableElements,e=t[0]||null;
if(null===e)this["#color-subsection"].hidden=!0;else{var n=u(e,this.context),r=h(t,this.context);
if("solid"===n)this["#color-subsection"].hidden=!1,this["#color-picker"].hidden=!1,
this["#color-picker"].color=getComputedStyle(e)[this.context],this["#color-picker"].mixed=r,
this["#color-picker-hint"].innerHTML="";else if("linearGradient"===n||"radialGradient"===n){
var i=this["_"+n+"Hud"].selectedStops;this["#color-subsection"].hidden=!1,this["#color-picker"].mixed=r,
0===i.length?(this["#color-picker"].hidden=!0,this["#color-picker-hint"].innerHTML='Select stop with <span id="edit-tool-span">Edit Tool</span>.'):(this["#color-picker"].hidden=!1,
this["#color-picker"].color=i[0].style.stopColor,this["#color-picker-hint"].innerHTML="");
}else this["#color-subsection"].hidden=!0}},_updatePatternSubsection:function(){var t=this._selectedStylableElements,e=t[0]||null;
if(null===e||"pattern"!==u(e,this.context))this["#pattern-subsection"].hidden=!0;else{
this["#pattern-subsection"].hidden=!1,this["#pattern-select"].mixed=h(t,this.context);
var n=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
if(n=n.filter(function(t){return S(t)===!1}),this["#pattern-select"].childElementCount===n.length)for(var r=0;r<n.length;r+=1){
var i=n[r],s=this["#pattern-select"].children[r];s.label="#"+i.id,s.value=i.id}else{
this["#pattern-select"].innerHTML="";var o=!0,l=!1,d=void 0;try{for(var f=void 0,v=n[Symbol.iterator]();!(o=(f=v.next()).done);o=!0){
var m=f.value,b=a("bx-selectitem");b.label="#"+m.id,b.value=m.id,b.thumbnail=C,this["#pattern-select"].append(b);
}}catch(g){l=!0,d=g}finally{try{o||null==v["return"]||v["return"]()}finally{if(l)throw d;
}}}var p=c(e,this.context),y=x(p);this["#pattern-select"].value=y.id,this._updatedPatternThumbnailsForFirstTime?this._updatePatternThumbnails2000Db():(this._updatedPatternThumbnailsForFirstTime=!0,
this._updatePatternThumbnails())}},_updatePatternThumbnails:function(){var t=this,n=body.canvas.extractArtwork();
e(n,function(e,n){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t["#pattern-select"].children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;l.value===e&&(l.thumbnail=n)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}})}},{},i)}(HTMLElement),A=s("section","bx-paintsection",E);
return{get default(){return A}}}),System.registerModule("elements/bx-panel",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e=(System.get("utils/math").normalize,
System.get("utils/time")),n=e.getTimeStamp,r=e.sleep,i=Number.parseFloat,a=window.getComputedStyle,s=5,o=7,l=5,u=7,c=!1,d='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-panel.css");\n  </style>\n\n  <div id="container">\n    <header>\n      <h1 id="heading">Panel</h1>\n\n      <svg id="help-icon" viewBox="0 0 100 100" preserveAspectRatio="none" hidden>\n        <use xlink:href="images/icons.svg#help" width="100" height="100"></use>\n      </svg>\n    </header>\n\n    <main>\n      <content></content>\n    </main>\n\n    <div id="resize-grippies">\n      <div class="grippie edge" data-position="top"></div>\n      <div class="grippie edge" data-position="bottom"></div>\n      <div class="grippie edge" data-position="left"></div>\n      <div class="grippie edge" data-position="right"></div>\n      <div class="grippie corner" data-position="top-left"></div>\n      <div class="grippie corner" data-position="top-right"></div>\n      <div class="grippie corner" data-position="bottom-left"></div>\n      <div class="grippie corner" data-position="bottom-right"></div>\n    </div>\n  </div>\n',h=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t,e,r,i,a,s,o,l,u,h,f,v,m;return $traceurRuntime.asyncWrap(function(b){
for(;;)switch(b.state){case 0:t=this,this._createdTimeStamp=n(),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=d,e=!0,r=!1,i=void 0;try{for(a=void 0,
s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0)o=a.value,
this["#"+o.id]=o}catch(g){r=!0,i=g}finally{try{e||null==s["return"]||s["return"]();
}finally{if(r)throw i}}l=!0,u=!1,h=void 0;try{for(f=void 0,v=this.attributes[Symbol.iterator]();!(l=(f=v.next()).done);l=!0)m=f.value,
this.attributeChangedCallback(m.name)}catch(p){u=!0,h=p}finally{try{l||null==v["return"]||v["return"]();
}finally{if(u)throw h}}c&&this.setAttribute("debug",""),this.addEventListener("mouseenter",function(){
return t._defaultCursor=body.registerCursor("default",-100)}),this.addEventListener("mouseleave",function(){
return body.unregisterCursor(t._defaultCursor)}),this["#help-icon"].addEventListener("mousedown",function(e){
return t._onHelpIconMouseDown(e)}),this["#resize-grippies"].addEventListener("mousedown",function(e){
return t._onResizeGrippieMouseDown(e)}),b.state=-2;break;default:return b.end()}},this);
},attributeChangedCallback:function(t){"label"===t?this._onLabelAttributeChange():"help"===t?this._onHelpAttributeChange():"enabled"===t&&this._onEnabledAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get label(){return this.getAttribute("label")},set label(t){t?this.setAttribute("label",t):this.removeAttribute("label");
},get help(){return this.getAttribute("help")},set help(t){t?this.setAttribute("help",t):this.removeAttribute("help");
},get button(){for(var t=this.parentNode;t.parentNode;)t=t.parentNode;return t?t.querySelector('bx-button[href="#'+this.id+'"]'):null;
},_onLabelAttributeChange:function(){this["#heading"].textContent=this.label},_onHelpAttributeChange:function(){
this.help?this["#help-icon"].removeAttribute("hidden"):this["#help-icon"].setAttribute("hidden","");
},_onEnabledAttributeChange:function(){this.enabled?this._onEnabled():this._onDisabled();
},_onEnabled:function(){var t=this,e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.enabled===!1&&(s.enabled=!0)}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}this._updateGeometry(),window.addEventListener("resize",this._windowResizeListener=function(){
return t._onWindowResize()})},_onDisabled:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.enabled===!0&&(a.enabled=!1)}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}window.removeEventListener("resize",this._windowResizeListener);
},_onHelpIconMouseDown:function(){this.help&&body.bridge.postMessage("openExternalURL",this.help);
},_onWindowResize:function(){this._updateGeometry()},_onResizeGrippieMouseDown:function(t){
var e,n,c=this,d=t.target.dataset.position,h=this.button.getBoundingClientRect(),f=this.getBoundingClientRect(),v=a(this),m=f.left,b=f.top,g=f.width,p=f.height,y=m,_=b,x=g,w=p,S="none"===v.minWidth?0:i(v.minWidth),C="none"===v.minHeight?0:i(v.minHeight),k="none"===v.maxWidth?1/0:i(v.maxWidth),E="none"===v.maxHeight?1/0:i(v.maxHeight),A=null;
"top"===d||"bottom"===d?A="ns-resize":"left"===d||"right"===d?A="ew-resize":"top-left"===d?A="nwse-resize":"top-right"===d?A="nesw-resize":"bottom-left"===d?A="nesw-resize":"bottom-right"===d&&(A="nwse-resize");
var T=body.registerCursor(A,900);window.addEventListener("mousemove",e=function(e){
var n=e.clientX-t.clientX,r=e.clientY-t.clientY,i=function(){g=S>x+n?S:x+n>k?k:x+n,
y+g+u>window.innerWidth&&(g=window.innerWidth-y-u),c.style.width=g+"px"},a=function(){
S>x-n?(m=y+(x-S),g=S):x-n>k?(m=y+(x-k),g=k):(m=y+n,g=x-n),l>m&&(m=l,g=y+x-l),c.style.left=m+"px",
c.style.width=g+"px"},h=function(){C>w-r?(b=_+(w-C),p=C):w-r>E?(b=_+(w-E),p=E):(b=_+r,
p=w-r),s>b&&(b=s,p=_+w-s),c.style.top=b+"px",c.style.height=p+"px"},f=function(){
p=C>w+r?C:w+r>E?E:w+r,_+p+o>window.innerHeight&&(p=window.innerHeight-_-o),c.style.height=p+"px";
};"right"===d?i():"left"===d?a():"top"===d?h():"bottom"===d?f():"bottom-right"===d?(f(),
i()):"bottom-left"===d?(f(),a()):"top-left"===d?(h(),a()):"top-right"===d&&(h(),i());
}),window.addEventListener("mouseup",n=function(){window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",n),body.unregisterCursor(T);var t=h.top+p+o-window.innerHeight;
m=h.right+l+g+u<=window.innerWidth?h.right+u:h.left-u-g,0>=t?b=h.top:h.top-t>=s?b=h.top-t:(b=s,
p=window.innerHeight-s-o),c.style.transition="ease 0.3s all",c.style.left=m+"px",
c.style.top=b+"px",c.style.width=g+"px",c.style.height=p+"px",r(300).then(function(){
return c.style.transition=null}),c.id&&(g!==x&&body.setConfig("bx-panel#"+c.id+":customWidth",g),
p!==w&&body.setConfig("bx-panel#"+c.id+":customHeight",p))})},_updateGeometry:function(){
var t,e,i,c,d,h,f,v,m;return $traceurRuntime.asyncWrap(function(b){for(;;)switch(b.state){
case 0:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customWidth")).then(b.createCallback(3),b.errback);
case 3:t=b.value,b.state=2;break;case 2:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customHeight")).then(b.createCallback(6),b.errback);
case 6:e=b.value,b.state=5;break;case 5:b.state=void 0===this._defaultWidth&&void 0===this._defaultHeight?9:11;
break;case 9:b.state=n()-this._createdTimeStamp<100?7:8;break;case 7:return void Promise.resolve(r(100)).then(b.createCallback(8),b.errback);
case 8:i=a(this),this._defaultWidth="auto"===i.width?null:parseInt(i.width),this._defaultHeight="auto"===i.height?null:parseInt(i.height),
b.state=11;break;case 11:c=this.button.getBoundingClientRect(),d=t||this._defaultWidth||235,
h=e||this._defaultHeight||450,f=null,v=null,f=c.right+l+d+u<=window.innerWidth?c.right+l:c.left-u-d,
c.top+h+o>window.innerHeight?(m=c.top+h+o-window.innerHeight,c.top-m<s?(v=s,h=window.innerHeight-s-o):v=c.top-m):v=c.top,
this.style.width=d+"px",this.style.height=h+"px",null!==f&&(this.style.left=f+"px"),
null!==v&&(this.style.top=v+"px"),b.state=-2;break;default:return b.end()}},this);
}},{},t)}(HTMLElement),f=t("bx-panel",h);return{get default(){return f}}}),System.registerModule("elements/bx-pathcontrols",[],function(){
"use strict";System.get("elements/bx-button");var t=System.get("utils/dom"),e=(t.createElement,
t.registerElement),n=System.get("utils/time").throttle,r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-pathcontrols.css");\n  </style>\n\n  <section>\n    <bx-button\n      id="convert-to-path-button"\n      label="Convert to Path">\n    </bx-button>\n\n    <bx-button\n      id="reverse-path-button"\n      label="Reverse">\n    </bx-button>\n  </section>\n\n  <section id="boolean-operations-section">\n    <h2 id="boolean-operations-heading">Boolean Operations</h2>\n\n    <div class="hbox">\n      <bx-button\n        id="union-button"\n        icon="union"\n        iconsize="25"\n        label="Unite">\n      </bx-button>\n\n      <bx-button\n        id="difference-button"\n        icon="difference"\n        iconsize="25"\n        label="Subtract">\n      </bx-button>\n    </div>\n\n    <div class="hbox">\n      <bx-button\n        id="intersection-button"\n        icon="intersection"\n        iconsize="25"\n        label="Intersect">\n      </bx-button>\n\n      <bx-button\n        id="exclusion-button"\n        icon="exclusion"\n        iconsize="25"\n        label="Exclude">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="outline-section">\n    <h2 id="compound-path-heading">Compound Path</h2>\n\n    <div class="hbox">\n      <bx-button\n        id="combine-button"\n        iconsize="25"\n        label="Combine">\n      </bx-button>\n\n      <bx-button\n        id="break-apart-button"\n        iconsize="25"\n        label="Break Apart">\n      </bx-button>\n    </div>\n  </section>\n',i=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var e=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{e||null==o["return"]||o["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#convert-to-path-button"].addEventListener("click",function(e){
return t._onConvertToPathButtonClick(e)}),this["#reverse-path-button"].addEventListener("click",function(e){
return t._onReversePathButtonClick(e)}),this["#union-button"].addEventListener("click",function(e){
return t._onUnionButtonClick(e)}),this["#difference-button"].addEventListener("click",function(e){
return t._onDifferenceButtonClick(e)}),this["#intersection-button"].addEventListener("click",function(e){
return t._onIntersectionButtonClick(e)}),this["#exclusion-button"].addEventListener("click",function(e){
return t._onExclusionButtonClick(e)}),this["#combine-button"].addEventListener("click",function(e){
return t._onCombineButtonClick(e)}),this["#break-apart-button"].addEventListener("click",function(e){
return t._onBreakApartButtonClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onArtboardMutation:function(t){
this._update200Th()},_onConvertToPathButtonClick:function(t){0===t.button&&body.commands.convertToPath.exec();
},_onReversePathButtonClick:function(t){0===t.button&&body.commands.reversePath.exec();
},_onUnionButtonClick:function(t){0===t.button&&body.commands.unite.exec()},_onDifferenceButtonClick:function(t){
0===t.button&&body.commands.subtract.exec()},_onIntersectionButtonClick:function(t){
0===t.button&&body.commands.intersect.exec()},_onExclusionButtonClick:function(t){
0===t.button&&body.commands.exclude.exec()},_onCombineButtonClick:function(t){0===t.button&&body.commands.combine.exec();
},_onBreakApartButtonClick:function(t){0===t.button&&body.commands.breakApart.exec();
},_update:function(){this._updateBoolOpsSection()},_updateBoolOpsSection:function(){
var t,e,n,r,i,a;return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){
case 0:t=this["#convert-to-path-button"],e=body.commands,n=e.convertToPath,r=n.enabled,
i=r.call(n),s.state=5;break;case 5:return void Promise.resolve(i).then(s.createCallback(3),s.errback);
case 3:a=s.value,s.state=2;break;case 2:t.disabled=!a,s.state=7;break;case 7:this["#reverse-path-button"].disabled=!body.commands.reversePath.enabled(),
this["#union-button"].disabled=!body.commands.unite.enabled(),this["#difference-button"].disabled=!body.commands.subtract.enabled(),
this["#intersection-button"].disabled=!body.commands.intersect.enabled(),this["#exclusion-button"].disabled=!body.commands.exclude.enabled(),
this["#boolean-operations-heading"].disabled=this["#union-button"].disabled&&this["#difference-button"].disabled&&this["#intersection-button"].disabled&&this["#exclusion-button"].disabled,
this["#combine-button"].disabled=!body.commands.combine.enabled(),this["#break-apart-button"].disabled=!body.commands.breakApart.enabled(),
this["#compound-path-heading"].disabled=this["#combine-button"].disabled&&this["#break-apart-button"].disabled,
s.state=-2;break;default:return s.end()}},this)}},{},t)}(HTMLElement),a=e("bx-pathcontrols",i);
return{get default(){return a}}}),System.registerModule("elements/bx-pathsedithud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.createSVGPoint,r=t.registerElement,i=System.get("utils/event").isMouseMoveIntentional,a=System.get("utils/math").round,s=System.get("utils/point"),o=s.checkCollinearity,l=s.comparePoints,u=System.get("utils/rect").rectContainsRect,c=System.get("utils/time").throttle,d=System.get("utils/transform").getTransformToElement,h=System.get("utils/path"),f=h.getCubicCurveTParam,v=h.getSubpathsData,m=h.getNearestPointOnPath,b=h.harmonizePathData,g=h.splitCurve,p=(System.get("classes/decomposed-transform")["default"],
System.get("classes/enum")["default"]),y=System.get("classes/shortcut")["default"],_=System.get("classes/vector")["default"],x=Math,w=(x.max,
x.pow),S=Number.parseFloat,C=(Object.keys,5),k=4,E='\n  <style>@import url("stylesheets/bx-pathsedithud.css");</style>\n  <g id="outline-grippies"></g>\n  <g id="control-lines"></g>\n  <g id="node-grippies"></g>\n  <g id="control-grippies"></g>\n',A=new p("path","seg","segIndex","selectedSegsIndexes"),T=function(t){
return t.map(function(t){return{type:t.type,values:$traceurRuntime.spread(t.values)
}})},L=function(t,e){var n=[],r=[],i=!0,a=!1,s=void 0;try{for(var o=void 0,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;"C"===u.type||"L"===u.type?r.push(u):"M"===u.type?(r.length>0&&(n.push(r),
r=[]),r.push(u)):"Z"===u.type&&(r.push(u),n.push(r),r=[])}}catch(c){a=!0,s=c}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw s}}return r.length>0&&n.push(r),
n.find(function(e){return e.includes(t)})||null},M=function(t,n){M.cachedPath||(M.cachedPath=e("svg:path"));
for(var r=M.cachedPath,i=[],a=0;a<t.length;a+=1){var s=t[a];i.push(s),r.setPathData(i);
var o=r.getTotalLength();if(o>=n)return a}return t.length-1},j=function(t,e){var r=void 0!==arguments[2]?arguments[2]:2,i="sharp";
if(t&&e&&"C"===t.type&&"C"===e.type){var s=n(t.values[4],t.values[5]),u=n(e.values[0],e.values[1]),c=n(t.values[2],t.values[3]);
if(l(s,u)===!1&&l(s,c)===!1&&o(u,s,c,r)===!0){var d=new _(s,u),h=new _(s,c),f=a(d.length,2),v=a(h.length,2);
i=f===v?"symmetric-smooth":"smooth"}}return i},R=function(t,e){var r=void 0!==arguments[2]?arguments[2]:!1,i=n(e.values[4],e.values[5]),a=n(t.values[0],t.values[1]),s=n(e.values[2],e.values[3]),o=new _(i,a),l=new _(i,s),u=o.getOppositeVector();
r===!1&&(u.length=l.length),e.values[2]=i.x+u.x,e.values[3]=i.y+u.y},O=function(t,e){
var r=void 0!==arguments[2]?arguments[2]:!1,i=n(t.values[4],t.values[5]),a=n(t.values[2],t.values[3]),s=n(e.values[0],e.values[1]),o=new _(i,a),l=new _(i,s),u=o.getOppositeVector();
r===!1&&(u.length=l.length),e.values[0]=i.x+u.x,e.values[1]=i.y+u.y},P=function(t,e,r){
var i;"M"===t.type||"L"===t.type?i=n(t.values[0],t.values[1]):"C"===t.type&&(i=n(t.values[4],t.values[5]));
var a=n(r.values[4],r.values[5]),s=n(e.values[4],e.values[5]),o=new _(s,i),l=new _(s,a),u=o.length/l.length,c=new _(u*l.x-o.x,u*l.y-o.y).normalize();
e.values[2]=s.x+-c.x*(o.length/3),e.values[3]=s.y+-c.y*(o.length/3),r.values[0]=s.x+c.x*(l.length/3),
r.values[1]=s.y+c.y*(l.length/3)},I=function(t){var e,n,r=null,i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;
if("L"===u.type){var c=u.values,d=(e=c[Symbol.iterator](),(n=e.next()).done?void 0:n.value),h=(n=e.next()).done?void 0:n.value,f="C"===r.type?r.values[4]:r.values[0],v="C"===r.type?r.values[5]:r.values[1];
u.type="C",u.values=[f,v,d,h,d,h]}r=u}}catch(m){a=!0,s=m}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}},D=function(t){var e,n,r=null,i=!0,a=!1,s=void 0;try{for(var o=void 0,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;if("C"===u.type){var c=u.values,d=(e=c[Symbol.iterator](),(n=e.next()).done?void 0:n.value),h=(n=e.next()).done?void 0:n.value,f=(n=e.next()).done?void 0:n.value,v=(n=e.next()).done?void 0:n.value,m=(n=e.next()).done?void 0:n.value,b=(n=e.next()).done?void 0:n.value,g="C"===r.type?r.values[4]:r.values[0],p="C"===r.type?r.values[5]:r.values[1];
d===g&&h===p&&f===m&&v===b&&(u.type="L",u.values=[m,b])}r=u}}catch(y){a=!0,s=y}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw s}}},N=function(t,e){var n=L(t,e);
return"Z"===n[n.length-1].type},V=function(t){function r(){$traceurRuntime.superConstructor(r).apply(this,arguments);
}return $traceurRuntime.createClass(r,{createdCallback:function(){var t=this;this.commands={
selectAll:{enabled:function(){return!0},exec:function(){return t._selectAllSegs();
}}},this.tabIndex=-1,this._installed=!1,this._selectedPaths=[],this._draggedNodeGrippie=null,
this._draggedControlGrippie=null,this._draggedOutlineGrippie=null,this._updateOutlineGrippies1500Th=c(this._updateOutlineGrippies,1500,this),
this._updateNodeGrippies40Th=c(this._updateNodeGrippies,40,this),this._updateControlGrippies40Th=c(this._updateControlGrippies,40,this),
this._updateNodeGrippiesSize40Th=c(this._updateNodeGrippiesSize,40,this),this._updateControlGrippiesSize40Th=c(this._updateControlGrippiesSize,40,this),
this._updateOutlineGrippiesSize1500Th=c(this._updateOutlineGrippiesSize,1500,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=E;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,d=m}finally{try{
l||null==f["return"]||f["return"]()}finally{if(u)throw d}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},rubberBandSelectionCallback:function(t){
var e=body.modKeys.shift,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this["#node-grippies"].children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value,c=l.getBBox();u(t,c)&&n.push(l)}}catch(d){i=!0,a=d}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}var h=!0,f=!1,v=void 0;try{for(var m,b,g,p=function(){var t=y.value,r=n.filter(function(e){
return e[A.path]===t}),i=r.map(function(t){return t[A.segIndex]});if(t[A.selectedSegsIndexes]||(t[A.selectedSegsIndexes]=[]),
e===!1)t[A.selectedSegsIndexes]=i;else{m=!0,b=!1,g=void 0;try{for(var a=void 0,s=i[Symbol.iterator]();!(m=(a=s.next()).done);m=!0){
var o=a.value;t[A.selectedSegsIndexes].includes(o)===!1&&t[A.selectedSegsIndexes].push(o);
}}catch(l){b=!0,g=l}finally{try{m||null==s["return"]||s["return"]()}finally{if(b)throw g;
}}}},y=void 0,_=this._selectedPaths[Symbol.iterator]();!(h=(y=_.next()).done);h=!0)p();
}catch(x){f=!0,v=x}finally{try{h||null==_["return"]||_["return"]()}finally{if(f)throw v;
}}this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),this._updateOutlineGrippies1500Th(),
n.length>0&&this.focus()},get enabled(){return this.hasAttribute("enabled")},set enabled(t){
t?this.setAttribute("enabled",""):this.removeAttribute("enabled")},_install:function(){
var t=this;this._installed=!0,body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
t._onArtboardMutation()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
t._deselectAllSegs()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
t._deselectAllSegs()}),this.addEventListener("keydown",this._keyDownListener=function(e){
t._onKeyDown(e)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(e){
t._onShadowRootMouseDown(e)}),this._shadowRoot.addEventListener("dblclick",this._shadowRootDblClickListener=function(e){
t._onShadowRootDblClick(e)})},_uninstall:function(){this._selectedPaths=[],this._installed=!1,
this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",
this["#control-lines"].innerHTML="",body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener),
this.removeEventListener("keydown",this._keyDownListener),this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener),
this._shadowRoot.removeEventListener("dblclick",this._shadowRootDblClickListener);
},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a[A.selectedSegsIndexes]=[]}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._selectedPaths=this._getSelectedPaths(),0===this._selectedPaths.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateOutlineGrippies1500Th(),this._updateNodeGrippies40Th())},_onArtboardMutation:function(){
this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),this._updateOutlineGrippies1500Th();
},_onZoomChange:function(){this._updateNodeGrippiesSize40Th(),this._updateControlGrippiesSize40Th(),
this._updateOutlineGrippiesSize1500Th()},_onShadowRootMouseDown:function(t){t.preventDefault(),
this.focus(),t.target.classList.contains("node-grippie")?this._onNodeGrippieMouseDown(t):t.target.classList.contains("control-grippie")?this._onControlGrippieMouseDown(t):t.target.classList.contains("outline-grippie")&&this._onOutlineGrippieMouseDown(t);
},_onShadowRootDblClick:function(t){t.target.classList.contains("node-grippie")?this._onNodeGrippieDblClick(t):t.target.classList.contains("control-grippie")?this._onControlGrippieDblClick(t):t.target.classList.contains("outline-grippie")&&this._onOutlineGrippieDblClick(t);
},_onArtboardMouseDown:function(t){var e,n=this;t.preventDefault(),window.addEventListener("mouseup",e=function(r){
window.removeEventListener("mouseup",e),r.clientX===t.clientX&&r.clientY===t.clientY&&n._deselectAllSegs();
})},_onNodeGrippieMouseDown:function(t){var e=this;if(0===t.button){var r=body.modKeys.shift,a=t.target,s=a[A.path],o=a[A.segIndex];
s[A.selectedSegsIndexes]||(s[A.selectedSegsIndexes]=[]);var l,u,c=s[A.selectedSegsIndexes].includes(o),d=!1;
if(c===!1){if(r===!1){s[A.selectedSegsIndexes]=[o];var h=!0,f=!1,v=void 0;try{for(var m=void 0,b=this._selectedPaths[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value;g!==s&&(g[A.selectedSegsIndexes]=[])}}catch(p){f=!0,v=p}finally{try{
h||null==b["return"]||b["return"]()}finally{if(f)throw v}}}else r===!0&&s[A.selectedSegsIndexes].push(o);
this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),d=!0}window.addEventListener("mousemove",l=function(r){
if(i(t,r)){window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",u);
var s=n(r.clientX,r.clientY);e._onNodeGrippieDragStart(t,a,s)}}),window.addEventListener("mouseup",u=function(t){
window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",u),
d===!1&&r===!0&&(s[A.selectedSegsIndexes].remove(o),e._updateNodeGrippies40Th(),e._updateControlGrippies40Th());
})}},_onNodeGrippieDragStart:function(t,e,r){var i=this;body.canvas.undoManager.checkpoint("Edit path");
var a,s,o=new p("initialPathData","pathData","transform");this._draggedNodeGrippie=e;
var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this._selectedPaths[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value,v=b(f.getPathData({normalize:!0})),m=T(v);f[o.transform]=f.getScreenCTM().inverse(),
f[o.pathData]=v,f[o.initialPathData]=m}}catch(g){u=!0,c=g}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}window.addEventListener("mousemove",a=function(t){var e=n(t.clientX,t.clientY),a=!0,s=!1,l=void 0;
try{for(var u=void 0,c=i._selectedPaths[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){
var d=u.value,h=r.matrixTransform(d[o.transform]),f=e.matrixTransform(d[o.transform]),v=f.x-h.x,m=f.y-h.y,b=d[o.pathData],g=d[o.initialPathData],p=d[A.selectedSegsIndexes]||[],y=!0,_=!1,x=void 0;
try{for(var w=void 0,S=p[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var C=w.value,k=b[C],E=b[C+1],T=g[C],M=g[C+1];
if("M"===k.type||"L"===k.type){if(k.values[0]=T.values[0]+v,k.values[1]=T.values[1]+m,
E&&"C"===E.type)E.values[0]=M.values[0]+v,E.values[1]=M.values[1]+m;else if(E&&"Z"===E.type){
var j=L(k,b),R=j[0];R.values[0]=k.values[0],R.values[1]=k.values[1]}}else if("C"===k.type)if(k.values[2]=T.values[2]+v,
k.values[3]=T.values[3]+m,k.values[4]=T.values[4]+v,k.values[5]=T.values[5]+m,E&&"C"===E.type)E.values[0]=M.values[0]+v,
E.values[1]=M.values[1]+m;else if(E&&"Z"===E.type){var O=L(k,b),P=O[0],I=O[1],D=L(T,g);
P.values[0]=k.values[4],P.values[1]=k.values[5],"C"===I.type&&(I.values[0]=D[1].values[0]+v,
I.values[1]=D[1].values[1]+m)}}}catch(N){_=!0,x=N}finally{try{y||null==S["return"]||S["return"]();
}finally{if(_)throw x}}d.setPathData(b)}}catch(V){s=!0,l=V}finally{try{a||null==c["return"]||c["return"]();
}finally{if(s)throw l}}}),window.addEventListener("mouseup",s=function(t){window.removeEventListener("mousemove",a),
window.removeEventListener("mouseup",s),i._draggedNodeGrippie=null,i._updateOutlineGrippies();
})},_onControlGrippieMouseDown:function(t){var e=this;if(0===t.button){var r,a,s=t.target;
window.addEventListener("mousemove",r=function(o){if(i(t,o)){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",a);var l=n(o.clientX,o.clientY);e._onControlGrippieDragStart(t,s,l);
}}),window.addEventListener("mouseup",a=function(t){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",a)})}},_onControlGrippieDragStart:function(t,e,r){
var i=this;body.canvas.undoManager.checkpoint("Move control point");var a=e.getAttribute("data-index"),s=e[A.path],o=e[A.segIndex],l=b(s.getPathData({
normalize:!0}));I(l);var u=l[o],c=l[o-1]||null,d=l[o+1]||null,h=L(u,l),f=N(u,l),v=s.getScreenCTM().inverse(),m=r.matrixTransform(v),g={
type:"C",values:$traceurRuntime.spread(u.values)},p=null,y=null,x=null;p="M"===c.type&&f?h[h.length-2]:c,
d&&("Z"===d.type?y=f?h[1]:null:"C"===d.type&&(y=d)),"1"===a?"M"===p.type||"L"===p.type?x=n(p.values[0],p.values[1]):"C"===p.type&&(x=n(p.values[4],p.values[5])):"2"===a&&(x=n(u.values[4],u.values[5]));
var w,S,C,k="sharp",E=n(m.x,m.y);this._draggedControlGrippie=e;var T=function(){var t=body.modKeys,e=t.ctrl,n=t.shift;
e===!0&&n===!1?k="sharp":e===!1&&n===!0?"1"===a?k=p&&"C"===p.type?"smooth":"sharp":"2"===a&&(k=y&&"C"===y.type?"smooth":"sharp"):e===!0&&n===!0?"1"===a?k=p&&"C"===p.type?"symmetric-smooth":"sharp":"2"===a&&(k=y&&"C"===y.type?"symmetric-smooth":"sharp"):e===!1&&n===!1&&("1"===a?k=j(p,u):"2"===a&&(k=j(u,y)));
},M=function(){var t=E.x-m.x,e=E.y-m.y;if("1"===a){var r=n(g.values[0]+t,g.values[1]+e);
if(u.values[0]=r.x,u.values[1]=r.y,"smooth"===k){var i=n(p.values[2],p.values[3]),o=new _(x,r),c=new _(x,i),d=o.getOppositeVector();
d.length=c.length,p.values[2]=x.x+d.x,p.values[3]=x.y+d.y}else if("symmetric-smooth"===k){
var h=new _(x,r);h=h.negate(),p.values[2]=x.x+h.x,p.values[3]=x.y+h.y}}else if("2"===a){
var f=n(g.values[2]+t,g.values[3]+e);if(u.values[2]=f.x,u.values[3]=f.y,"smooth"===k){
var v=n(y.values[0],y.values[1]),b=new _(x,f),w=new _(x,v),S=b.getOppositeVector();
S.length=w.length,y.values[0]=x.x+S.x,y.values[1]=x.y+S.y}else if("symmetric-smooth"===k){
var C=new _(x,f);C=C.negate(),y.values[0]=x.x+C.x,y.values[1]=x.y+C.y}}s.setPathData(l);
};window.addEventListener("mousemove",w=function(t){var e=n(t.clientX,t.clientY);E=e.matrixTransform(v),
M()}),window.addEventListener("mouseup",S=function(t){window.removeEventListener("mousemove",w),
window.removeEventListener("mouseup",S),body.removeEventListener("modkeyschange",C),
D(l),s.setPathData(l),i._draggedControlGrippie=null}),body.addEventListener("modkeyschange",C=function(){
T(),M()}),T()},_onOutlineGrippieMouseDown:function(t){var e=this;if(0===t.button){
var r,a,s=!1,o=t.target;window.addEventListener("mousemove",r=function(n){i(t,n)&&(window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",a),e._onOutlineGrippieDragStart(n,o),s=!0)}),
window.addEventListener("mouseup",a=function(i){var l,u;if(window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",a),s===!1){var c=o[A.path],d=b(c.getPathData({
normalize:!0})),h=c.getScreenCTM().inverse(),f=n(t.clientX,t.clientY),v=f.matrixTransform(h),g=m(c,v),p=(l=g[Symbol.iterator](),
(u=l.next()).done?void 0:u.value,(u=l.next()).done?void 0:u.value),y=M(d,p),_=y-1,x=d[y],w=d[_],S=L(x,d),C=N(x,d);
C&&"M"===w.type?c[A.selectedSegsIndexes]=[y,S.length-2]:c[A.selectedSegsIndexes]=[y,_],
e._updateNodeGrippies40Th(),e._updateControlGrippies40Th()}})}},_onOutlineGrippieDragStart:function(t,e){
var r,i,a=this;body.canvas.undoManager.checkpoint("Edit path"),this._draggedOutlineGrippie=t.target;
var s,o,l,u=e[A.path],c=b(u.getPathData({normalize:!0})),d=u.getScreenCTM().inverse(),h=n(t.clientX,t.clientY).matrixTransform(d),v=m(u,h),g=(r=v[Symbol.iterator](),
(i=r.next()).done?void 0:i.value),p=(i=r.next()).done?void 0:i.value,y=M(c,p),x=c[y],S=c[y-1],C=c[y+1],k=L(x,c),E=N(x,c),T=new _(h,g),P=n(h.x,h.y),V=null,B=null,U=null,z=null,G=!1,H=!1;
I(c),V="M"===S.type&&E?k[k.length-2]:S,C&&("Z"===C.type?B=E?k[1]:null:"C"===C.type&&(B=C)),
"M"===V.type||"L"===V.type?U=n(V.values[0],V.values[1]):"C"===V.type&&(U=n(V.values[4],V.values[5])),
"M"===x.type||"L"===x.type?z=n(x.values[0],x.values[1]):"C"===x.type&&(z=n(x.values[4],x.values[5]));
var F=function(){var t=body.modKeys,e=t.ctrl,n=t.shift;e===!0&&n===!1?(G=!1,H=!1):e===!1&&n===!0?(G=V&&"C"===V.type?"smooth":!1,
H=B&&"C"===B.type?"smooth":!1):e===!0&&n===!0?(G=V&&"C"===V.type?"symmetric-smooth":!1,
H=B&&"C"===B.type?"symmetric-smooth":!1):e===!1&&n===!1&&(G=j(V,x),H=j(x,B))},q=function(){
var t=n(x.values[0],x.values[1]),e=n(x.values[2],x.values[3]),r=f(g,U,t,e,z),i=1;if(1/6>=r?i=0:.5>=r?i=w((6*r-1)/2,3)/2:5/6>=r&&(i=(1-w((6*(1-r)-1)/2,3))/2+.5),
-1!==r){var a=(1-i)/(3*r*(1-r)*(1-r)),s=i/(3*r*r*(1-r)),o=P.x-g.x,l=P.y-g.y;x.values[0]=x.values[0]+a*o,
x.values[1]=x.values[1]+a*l,x.values[2]=x.values[2]+s*o,x.values[3]=x.values[3]+s*l,
"smooth"===G?R(x,V,!1):"symmetric-smooth"===G&&R(x,V,!0),"smooth"===H?O(x,B,!1):"symmetric-smooth"===H&&O(x,B,!0),
g=P,u.setPathData(c)}};window.addEventListener("mousemove",s=function(t){P=n(t.clientX,t.clientY).matrixTransform(d),
P.x+=T.x,P.y+=T.y,q()}),window.addEventListener("mouseup",o=function(t){body.removeEventListener("modkeyschange",l),
window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",o),
D(c),u.setPathData(c),a._draggedOutlineGrippie=null,a._updateOutlineGrippies()}),
body.addEventListener("modkeyschange",l=function(){F(),q()}),F()},_onNodeGrippieDblClick:function(t){
var e=t.target,n=e[A.path],r=e[A.segIndex],i=b(n.getPathData({normalize:!0})),a=i[r],s=i[r+1]||null,o=i[r-1]||null,l=L(a,i),u=!1;
if(I(i),"M"===a.type){if("C"===s.type){var c=s.values[0]===a.values[0]&&s.values[1]===a.values[1];
c===!1&&(s.values[0]=a.values[0],s.values[1]=a.values[1],u=!0)}}else if("C"===a.type)if(null===s||"M"===s.type){
var d=a.values[2]===a.values[4]&&a.values[3]===a.values[5];d===!1&&(a.values[2]=a.values[4],
a.values[3]=a.values[5],u=!0)}else if("Z"===s.type){var h=l[1];if("C"===h.type){var f=a.values[4]===h.values[0]&&a.values[5]===h.values[1]&&a.values[4]===a.values[2]&&a.values[5]===a.values[3];
f===!1?(h.values[0]=a.values[4],h.values[1]=a.values[5],a.values[2]=a.values[4],a.values[3]=a.values[5]):P(o,a,h),
u=!0}}else if("C"===s.type){var v=s.values[0]===a.values[4]&&s.values[1]===a.values[5]&&a.values[2]===a.values[4]&&a.values[3]===a.values[5];
v===!1?(a.values[2]=a.values[4],a.values[3]=a.values[5],s.values[0]=a.values[4],s.values[1]=a.values[5]):P(o,a,s),
u=!0}u&&(body.canvas.undoManager.checkpoint("Edit path"),D(i),n.setPathData(i))},
_onControlGrippieDblClick:function(t){var e=t.target,n=e.getAttribute("data-index"),r=e[A.path],i=e[A.segIndex],a=b(r.getPathData({
normalize:!0})),s=a[i],o=a[i-1]||null;"1"===n?"C"===o.type?(s.values[0]=o.values[4],
s.values[1]=o.values[5]):("M"===o.type||"L"===o.type)&&(s.values[0]=o.values[0],s.values[1]=o.values[1]):"2"===n&&(s.values[2]=s.values[4],
s.values[3]=s.values[5]),body.canvas.undoManager.checkpoint("Edit path"),D(a),r.setPathData(a);
},_onOutlineGrippieDblClick:function(t){var e,r,i,a,s=t.target[A.path],o=b(s.getPathData({
normalize:!0})),l=s.getScreenCTM().inverse(),u=n(t.clientX,t.clientY).matrixTransform(l),c=m(s,u),d=(e=c[Symbol.iterator](),
(r=e.next()).done?void 0:r.value),h=(r=e.next()).done?void 0:r.value,v=M(o,h),p=o[v];
if("L"===p.type){var y=n(p.values[0],p.values[1]);i={type:"L",values:[d.x,d.y]},a={
type:"L",values:[y.x,y.y]}}else if("C"===p.type){var _,x=o[v-1]||null;"M"===x.type||"L"===x.type?_=n(x.values[0],x.values[1]):"C"===x.type&&(_=n(x.values[4],x.values[5]));
var w=n(p.values[4],p.values[5]),S=n(p.values[0],p.values[1]),C=n(p.values[2],p.values[3]),k=f(d,_,S,C,w),E=g(_,S,C,w,k);
i={type:"C",values:[E[0][1].x,E[0][1].y,E[0][2].x,E[0][2].y,E[0][3].x,E[0][3].y]},
a={type:"C",values:[E[1][1].x,E[1][1].y,E[1][2].x,E[1][2].y,E[1][3].x,E[1][3].y]};
}body.canvas.undoManager.checkpoint("Add path node"),o=$traceurRuntime.spread(o.slice(0,v),[i,a],o.slice(v+1)),
s.setPathData(o),s[A.selectedSegsIndexes]=[v];var T=!0,L=!1,j=void 0;try{for(var R=void 0,O=this._selectedPaths[Symbol.iterator]();!(T=(R=O.next()).done);T=!0){
var P=R.value;P!==s&&(P[A.selectedSegsIndexes]=[])}}catch(I){L=!0,j=I}finally{try{
T||null==O["return"]||O["return"]()}finally{if(L)throw j}}this._updateNodeGrippies(),
this._updateControlGrippies()},_onKeyDown:function(t){if(this["#node-grippies"].querySelector("[data-selected]")){
var e=y.fromEvent(t);e.matches("Backspace")?(t.preventDefault(),t.stopPropagation(),
this._deleteSelectedSegs("smooth")):e.matches("Shift","Backspace")&&(t.preventDefault(),
t.stopPropagation(),this._deleteSelectedSegs("sharp"))}},_updateOutlineGrippies:function(){
if(!(this._draggedOutlineGrippie||this._draggedNodeGrippie||this._draggedControlGrippie)){
var t=document.createDocumentFragment(),n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this._selectedPaths[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value,l=d(o,this),u=e("svg:path");u[A.path]=o,u.setAttribute("class","outline-grippie"),
u.setAttribute("transform",l.toString());var c=o.getPathData();u.setPathData(c),t.append(u);
}}catch(h){r=!0,i=h}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}this["#outline-grippies"].innerHTML="",this["#outline-grippies"].append(t),this._updateOutlineGrippiesSize();
}},_updateNodeGrippies:function(){if(!this._draggedOutlineGrippie&&!this._draggedControlGrippie){
var t=document.createDocumentFragment(),r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._selectedPaths[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)for(var l=s.value,u=b(l.getPathData({
normalize:!0})),c=d(l,this),h=0;h<u.length;h+=1){var f=u[h],v=void 0;if("C"===f.type)v=n(f.values[4],f.values[5]);else if("L"===f.type)v=n(f.values[0],f.values[1]);else{
if("M"!==f.type||N(f,u)!==!1)continue;v=n(f.values[0],f.values[1])}var m=v.matrixTransform(c),g=e("svg:circle");
g.setAttribute("class","node-grippie"),g.setAttribute("cx",m.x),g.setAttribute("cy",m.y),
g.setAttribute("r",C/body.canvas.scale),g[A.path]=l,g[A.segIndex]=h,t.append(g),l[A.selectedSegsIndexes]&&l[A.selectedSegsIndexes].includes(h)&&g.setAttribute("data-selected","");
}}catch(p){i=!0,a=p}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a;
}}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t)}},_updateControlGrippies:function(){
var t=document.createDocumentFragment(),r=document.createDocumentFragment(),i=new p("cachedPathToHudTransform"),a=!0,s=!1,o=void 0;
try{for(var u=void 0,c=this._selectedPaths[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){
var h=u.value,f=b(h.getPathData({normalize:!0})),v=h[A.selectedSegsIndexes]||[],m=!0,g=!1,y=void 0;
try{for(var _=void 0,x=v[Symbol.iterator]();!(m=(_=x.next()).done);m=!0){var w=_.value,S=f[w],C=f[w+1]||null,E=L(S,f)[1],T=f.indexOf(E),M=void 0,j=null,R=null,O=null;
if("M"===S.type||"L"===S.type?M=n(S.values[0],S.values[1]):"C"===S.type&&(M=n(S.values[4],S.values[5])),
j=h[i.cachedPathToHudTransform]?h[i.cachedPathToHudTransform]:h[i.cachedPathToHudTransform]=d(h,this),
"C"===S.type&&(R=n(S.values[2],S.values[3])),C&&("C"===C.type?O=n(C.values[0],C.values[1]):"Z"===C.type&&"C"===E.type&&(O=n(E.values[0],E.values[1]))),
R&&l(M,R)===!1){var P=M.matrixTransform(j),I=R.matrixTransform(j),D=e("svg:circle");
D.setAttribute("class","control-grippie"),D.setAttribute("data-index","2"),D.setAttribute("cx",I.x),
D.setAttribute("cy",I.y),D.setAttribute("r",k/body.canvas.scale),D[A.path]=h,D[A.segIndex]=w;
var N=e("svg:line");N.setAttribute("class","control-line"),N.setAttribute("x1",P.x),
N.setAttribute("y1",P.y),N.setAttribute("x2",I.x),N.setAttribute("y2",I.y),t.append(D),
r.append(N)}if(O&&l(M,O)===!1){var V=M.matrixTransform(j),B=O.matrixTransform(j),U=e("svg:circle");
U.setAttribute("class","control-grippie"),U.setAttribute("data-index","1"),U.setAttribute("cx",B.x),
U.setAttribute("cy",B.y),U.setAttribute("r",k/body.canvas.scale),U[A.path]=h,U[A.segIndex]="Z"===C.type?T:w+1;
var z=e("svg:line");z.setAttribute("class","control-line"),z.setAttribute("x1",V.x),
z.setAttribute("y1",V.y),z.setAttribute("x2",B.x),z.setAttribute("y2",B.y),t.append(U),
r.append(z)}}}catch(G){g=!0,y=G}finally{try{m||null==x["return"]||x["return"]()}finally{
if(g)throw y}}}}catch(H){s=!0,o=H}finally{try{a||null==c["return"]||c["return"]();
}finally{if(s)throw o}}this["#control-grippies"].innerHTML="",this["#control-grippies"].append(t),
this["#control-lines"].innerHTML="",this["#control-lines"].append(r)},_updateNodeGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#node-grippies"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.setAttribute("r",C/body.canvas.scale)}}catch(s){e=!0,n=s}finally{
try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_updateControlGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#control-grippies"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.setAttribute("r",k/body.canvas.scale)}}catch(s){e=!0,n=s}finally{
try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_updateOutlineGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#outline-grippies"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=a[A.path],o=getComputedStyle(s),l=S(o.strokeWidth)*body.canvas.scale;
10>l&&(l=10),a.style.strokeWidth=l}}catch(u){e=!0,n=u}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}},_selectAllSegs:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
for(var a=r.value,s=b(a.getPathData({normalize:!0})),o=[],l=0;l<s.length;l+=1){var u=s[l];
"C"===u.type||"L"===u.type?o.push(l):"M"===u.type&&N(u,s)===!1&&o.push(l)}a[A.selectedSegsIndexes]=o;
}}catch(c){e=!0,n=c}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}this._updateNodeGrippies(),this._updateControlGrippies()},_deselectAllSegs:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a[A.selectedSegsIndexes]=[]}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._updateNodeGrippies40Th(),this._updateControlGrippies40Th();
},_deleteSelectedSegs:function(){var t=void 0!==arguments[0]?arguments[0]:"smooth";
body.canvas.undoManager.checkpoint("Delete segments");var e=!0,n=!1,r=void 0;try{
var i,a,s,o,l,u,c,d,h,f,m,g,p,y=function(){var e=_.value,n=b(e.getPathData({normalize:!0
}));I(n);var r=$traceurRuntime.spread(e[A.selectedSegsIndexes]).sort(function(t,e){
return e-t}),p=r.filter(function(t){return"C"===n[t].type}),y=r.filter(function(t){
return"M"===n[t].type});if(0===r.length)return 0;i=!0,a=!1,s=void 0;try{for(var x=void 0,w=p[Symbol.iterator]();!(i=(x=w.next()).done);i=!0){
var S=x.value,C=n[S],k=n[S+1]||null,E=n[S-1]||null;if(null===k)n.remove(C);else if("M"===k.type)n.remove(C);else if("Z"===k.type){
var T=L(C,n),M=T[0],j=T[1];n.remove(C),"L"===E.type||"M"===E.type?(M.values[0]=E.values[0],
M.values[1]=E.values[1]):"C"===E.type&&(M.values[0]=E.values[4],M.values[1]=E.values[5]),
"C"===j.type&&("smooth"===t?(j.values[0]=C.values[0],j.values[1]=C.values[1]):"sharp"===t&&("L"===E.type||"M"===E.type?(j.values[0]=E.values[0],
j.values[1]=E.values[1]):"C"===E.type&&(j.values[0]=E.values[4],j.values[1]=E.values[5]),
j.values[2]=j.values[4],j.values[3]=j.values[5]))}else"C"===k.type?(n.remove(C),"smooth"===t?(k.values[0]=C.values[0],
k.values[1]=C.values[1]):"sharp"===t&&("M"===E.type||"L"===E.type?(k.values[0]=E.values[0],
k.values[1]=E.values[1]):"C"===E.type&&(k.values[0]=E.values[4],k.values[1]=E.values[5]),
k.values[2]=k.values[4],k.values[3]=k.values[5])):"L"===k.type&&n.remove(C)}}catch(R){
a=!0,s=R}finally{try{i||null==w["return"]||w["return"]()}finally{if(a)throw s}}o=!0,
l=!1,u=void 0;try{for(var O=void 0,P=y[Symbol.iterator]();!(o=(O=P.next()).done);o=!0){
var N=O.value,V=n[N],B=L(V,n);if(B.length>1){var U=B[0],z=B[1];n.remove(z),"L"===z.type?(U.values[0]=z.values[0],
U.values[1]=z.values[1]):"C"===z.type&&(U.values[0]=z.values[4],U.values[1]=z.values[5]);
}}}catch(G){l=!0,u=G}finally{try{o||null==P["return"]||P["return"]()}finally{if(l)throw u;
}}c=!0,d=!1,h=void 0;try{for(var H=void 0,F=v(n)[Symbol.iterator]();!(c=(H=F.next()).done);c=!0){
var q=H.value,$=q.filter(function(t){return"C"===t.type}),W="Z"===q[q.length-1].type,Y=W?2:1;
if($.length<Y){f=!0,m=!1,g=void 0;try{for(var X=void 0,Z=q[Symbol.iterator]();!(f=(X=Z.next()).done);f=!0){
var K=X.value;n.remove(K)}}catch(J){m=!0,g=J}finally{try{f||null==Z["return"]||Z["return"]();
}finally{if(m)throw g}}}}}catch(Q){d=!0,h=Q}finally{try{c||null==F["return"]||F["return"]();
}finally{if(d)throw h}}e[A.selectedSegsIndexes]=[],D(n),e.setPathData(n),e.hasAttribute("d")===!1&&e.remove();
};t:for(var _=void 0,x=this._selectedPaths[Symbol.iterator]();!(e=(_=x.next()).done);e=!0)switch(p=y()){
case 0:continue t}}catch(w){n=!0,r=w}finally{try{e||null==x["return"]||x["return"]();
}finally{if(n)throw r}}},_getSelectedPaths:function(){var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"path"===o.localName&&o.hasAttribute("d")&&!o.hasAttribute("is")?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedPaths(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),B=r("g","bx-pathsedithud",V);return{get default(){
return B}}}),System.registerModule("elements/bx-patternartboard",[],function(){"use strict";
var t=System.get("utils/dom").registerElement,e=System.get("classes/artboard-helpers"),n=e.BXViewBox,r=e.BXPreserveAspectRatio,i=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
get contentType(){return"pattern"},get x(){return new BXLength(this,"x")},get y(){
return new BXLength(this,"y")},get width(){return new BXLength(this,"width")},get height(){
return new BXLength(this,"height")},get viewBox(){return new n(this)},get preserveAspectRatio(){
return new r(this)},get patternUnits(){return"userSpaceOnUse"===this.getAttribute("patternUnits")?1:2;
},set patternUnits(t){this.setAttribute("patternUnits",1===t?"userSpaceOnUse":"objectBoundingBox");
},get patternContentUnits(){return"objectBoundingBox"===this.getAttribute("patternContentUnits")?2:1;
},set patternContentUnits(t){this.setAttribute("patternContentUnits",1===t?"userSpaceOnUse":"objectBoundingBox");
},get href(){return this.hasAttribute("href")?this.getAttribute("href"):""},set href(t){
this.setAttribute("href",t)}},{},t)}(SVGGElement),a=t("g","bx-patternartboard",i);
return{get default(){return a}}}),System.registerModule("elements/bx-patternhud",[],function(){
"use strict";var t=System.get("utils/bbox").getUserBBox,e=System.get("utils/dom"),n=(e.createElement,
e.createSVGMatrix),r=e.createSVGPoint,i=(e.parseHTML,e.registerElement),a=System.get("utils/paint"),s=a.getPaintType,o=a.getPaintServer,l=System.get("utils/pattern").getComputedPatternProperties,u=System.get("utils/style").queryStylableElements,c=System.get("utils/time").throttle,d=System.get("utils/transform"),h=d.getTransformFromPoints,f=d.getTransformToElement,v=System.get("utils/vector").getAngleBetweenVectors,m=System.get("classes/enum")["default"],b=System.get("classes/vector")["default"],g=SVGUnitTypes,p=g.SVG_UNIT_TYPE_USERSPACEONUSE,y=g.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,_=6,x=new m("pattern","patternUser"),w='\n  <style>@import url("stylesheets/bx-patternhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',S=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var t=this;this._draggedGrippie=null,this._draggedOutline=null,
this._update50Th=c(this._update,50,this),this._update200Th=c(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=w;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,d=m}finally{try{
l||null==f["return"]||f["return"]()}finally{if(u)throw d}}this._shadowRoot.addEventListener("mousedown",function(e){
return t._onShadowRootMouseDown(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener)},_onSelectedElementsChange:function(){
this._update200Th()},_onSelectedTextRangeChange:function(){this._update200Th()},_onZoomChange:function(){
this._update50Th()},_onArtboardMutation:function(t){this._draggedGrippie?this._updatePositions(this._draggedGrippie.parentElement):this._draggedOutline?this._updatePositions(this._draggedOutline.parentElement):this._update200Th();
},_onShadowRootMouseDown:function(t){0===t.button&&(t.target.classList.contains("outline")?this._onTileOutlineMouseDown(t):t.target.classList.contains("scale-grippie")?this._onScaleGrippieMouseDown(t):t.target.classList.contains("rotate-grippie")&&this._onRotateGrippieMouseDown(t));
},_onTileOutlineMouseDown:function(e){var n=this,i=e.target,a=i.parentElement,s=a[x.pattern],o=a[x.patternUser],u=o.getScreenCTM(),c=u.inverse(),d=t(o),f=l(s),v=f.x,m=f.y,g=f.width,_=f.height,w=f.patternUnits,S=f.patternTransform;
this._draggedOutline=i;var C,k,E,A,T;if(w===p)E=r(v.value,m.value),A=r(v.value+g.value,m.value),
T=r(v.value+g.value,m.value+_.value);else if(w===y){var L=r(v.valueInSpecifiedUnits,m.valueInSpecifiedUnits),M=r(v.valueInSpecifiedUnits+g.valueInSpecifiedUnits,m.valueInSpecifiedUnits),j=r(v.valueInSpecifiedUnits+g.valueInSpecifiedUnits,m.valueInSpecifiedUnits+_.valueInSpecifiedUnits);
E=r(d.x+L.x*d.width,d.y+L.y*d.height),A=r(d.x+M.x*d.width,d.y+M.y*d.height),T=r(d.x+j.x*d.width,d.y+j.y*d.height);
}var R=E.matrixTransform(S),O=A.matrixTransform(S),P=T.matrixTransform(S),I=R.matrixTransform(u),D=O.matrixTransform(u),N=P.matrixTransform(u);
body.canvas.undoManager.checkpoint("Transform pattern"),window.addEventListener("mousemove",C=function(t){
var n=new b(t.clientX-e.clientX,t.clientY-e.clientY),i=r(I.x+n.x,I.y+n.y),a=r(D.x+n.x,D.y+n.y),o=r(N.x+n.x,N.y+n.y),l=i.matrixTransform(c),u=a.matrixTransform(c),d=o.matrixTransform(c),f=l.matrixTransform(S.inverse()),v=u.matrixTransform(S.inverse()),m=d.matrixTransform(S.inverse()),g=h(E,A,T,f,v,m);
s.setAttribute("patternTransform",S.multiply(g).toString())}),window.addEventListener("mouseup",k=function(t){
window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",k),
n._draggedOutline=null})},_onRotateGrippieMouseDown:function(e){var i=this,a=e.target,s=a.parentElement,o=s[x.pattern],u=s[x.patternUser],c=u.getScreenCTM(),d=c.inverse(),f=t(u),m=l(o),g=m.x,_=m.y,w=m.width,S=m.height,C=m.patternUnits,k=m.patternTransform;
this._draggedGrippie=a;var E,A,T,L,M;if(C===p)T=r(g.value+w.value/2,_.value+S.value/2),
L=r(g.value+w.value,_.value),M=r(g.value+w.value,_.value+S.value);else if(C===y){
var j=r(g.valueInSpecifiedUnits+w.valueInSpecifiedUnits/2,_.valueInSpecifiedUnits+S.valueInSpecifiedUnits/2),R=r(g.valueInSpecifiedUnits+w.valueInSpecifiedUnits,_.valueInSpecifiedUnits),O=r(g.valueInSpecifiedUnits+w.valueInSpecifiedUnits,_.valueInSpecifiedUnits+S.valueInSpecifiedUnits);
T=r(f.x+j.x*f.width,f.y+j.y*f.height),L=r(f.x+R.x*f.width,f.y+R.y*f.height),M=r(f.x+O.x*f.width,f.y+O.y*f.height);
}var P=T.matrixTransform(k),I=L.matrixTransform(k),D=M.matrixTransform(k),N=P.matrixTransform(c),V=I.matrixTransform(c),B=D.matrixTransform(c);
body.canvas.undoManager.checkpoint("Transform pattern"),window.addEventListener("mousemove",E=function(t){
var i=r(t.clientX+(V.x-e.clientX),t.clientY+(V.y-e.clientY)),a=v(new b(N,V),new b(N,i)),s=n().rotate(a,N.x,N.y),l=V.matrixTransform(s),u=B.matrixTransform(s),c=l.matrixTransform(d),f=u.matrixTransform(d),m=c.matrixTransform(k.inverse()),g=f.matrixTransform(k.inverse()),p=h(T,L,M,T,m,g);
o.setAttribute("patternTransform",k.multiply(p).toString())}),window.addEventListener("mouseup",A=function(t){
window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",A),
i._draggedGrippie=null})},_onScaleGrippieMouseDown:function(e){var n=this,i=e.target,a=i.parentElement,s=a[x.pattern],o=a[x.patternUser],u=o.getScreenCTM(),c=u.inverse(),d=t(o),f=l(s),v=f.x,m=f.y,b=f.width,g=f.height,_=f.patternUnits,w=f.patternTransform;
this._draggedGrippie=i;var S,C,k,E,A;if(_===p)k=r(v.value,m.value),E=r(v.value+b.value,m.value),
A=r(v.value+b.value,m.value+g.value);else if(_===y){var T=r(v.valueInSpecifiedUnits,m.valueInSpecifiedUnits),L=r(v.valueInSpecifiedUnits+b.valueInSpecifiedUnits,m.valueInSpecifiedUnits),M=r(v.valueInSpecifiedUnits+b.valueInSpecifiedUnits,m.valueInSpecifiedUnits+g.valueInSpecifiedUnits);
k=r(d.x+T.x*d.width,d.y+T.y*d.height),E=r(d.x+L.x*d.width,d.y+L.y*d.height),A=r(d.x+M.x*d.width,d.y+M.y*d.height);
}var j=A.matrixTransform(w),R=j.matrixTransform(u);body.canvas.undoManager.checkpoint("Transform pattern"),
window.addEventListener("mousemove",S=function(t){var n=r(R.x+t.clientX-e.clientX,R.y+t.clientY-e.clientY),i=n.matrixTransform(c),a=i.matrixTransform(w.inverse()),o=r(a.x,E.y),l=h(k,E,A,k,o,a);
s.setAttribute("patternTransform",w.multiply(l).toString())}),window.addEventListener("mouseup",C=function(t){
window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",C),
n._draggedGrippie=null})},_update:function(){var t=this,e=u(this.context,body.canvas.selectedElements,body.canvas.selectedTextRange),n=e.filter(function(e){
return"pattern"===s(e,t.context)});if(this["#subhuds"].innerHTML="",n.length>0){var r=Symbol(),i=!0,a=!1,c=void 0;
try{for(var d=void 0,h=n[Symbol.iterator]();!(i=(d=h.next()).done);i=!0){var f=d.value,v=o(f,this.context);
if(!v[r]){v[r]=!0;var m=l(v),b=m.width,g=m.height;if(0!==b.valueInSpecifiedUnits&&0!==g.valueInSpecifiedUnits){
var p=this["#subhud-template"].cloneNode(!0);p.removeAttribute("id"),p[x.pattern]=v,
p[x.patternUser]=f,this["#subhuds"].append(p)}}}}catch(y){a=!0,c=y}finally{try{i||null==h["return"]||h["return"]();
}finally{if(a)throw c}}this._updatePositions()}},_updatePositions:function(){var e=void 0!==arguments[0]?arguments[0]:null,n=!0,i=!1,a=void 0;
try{for(var s=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var u=s.value;if(!e||u===e){var c=u[x.patternUser],d=u[x.pattern],h=u.querySelector(".rotate-grippie"),v=u.querySelector(".scale-grippie"),m=u.querySelector(".outline"),b=f(c,this),g=t(c),w=l(d),S=w.x,C=w.y,k=w.width,E=w.height,A=w.patternUnits,T=w.patternTransform,L=void 0,M=void 0,j=void 0,R=void 0;
if(A===p)L=r(S.value,C.value),M=r(S.value+k.value,C.value),j=r(S.value+k.value,C.value+E.value),
R=r(S.value,C.value+E.value);else if(A===y){var O=r(S.valueInSpecifiedUnits,C.valueInSpecifiedUnits),P=r(S.valueInSpecifiedUnits+k.valueInSpecifiedUnits,C.valueInSpecifiedUnits),I=r(S.valueInSpecifiedUnits+k.valueInSpecifiedUnits,C.valueInSpecifiedUnits+E.valueInSpecifiedUnits),D=r(S.valueInSpecifiedUnits,C.valueInSpecifiedUnits+E.valueInSpecifiedUnits);
L=r(g.x+O.x*g.width,g.y+O.y*g.height),M=r(g.x+P.x*g.width,g.y+P.y*g.height),j=r(g.x+I.x*g.width,g.y+I.y*g.height),
R=r(g.x+D.x*g.width,g.y+D.y*g.height)}var N=L.matrixTransform(T),V=M.matrixTransform(T),B=j.matrixTransform(T),U=R.matrixTransform(T),z=N.matrixTransform(b),G=V.matrixTransform(b),H=B.matrixTransform(b),F=U.matrixTransform(b);
m.setAttribute("d","\n        M "+z.x+" "+z.y+"\n        L "+G.x+" "+G.y+"\n        L "+H.x+" "+H.y+"\n        L "+F.x+" "+F.y+"\n        Z\n      ");
var q=_/body.canvas.scale;h.cx.baseVal.value=G.x,h.cy.baseVal.value=G.y,h.r.baseVal.value=q,
v.width.baseVal.value=2*q,v.height.baseVal.value=2*q,v.x.baseVal.value=H.x-v.width.baseVal.value/2,
v.y.baseVal.value=H.y-v.height.baseVal.value/2,v.hudPoint=H}}}catch($){i=!0,a=$}finally{
try{n||null==o["return"]||o["return"]()}finally{if(i)throw a}}}},{},e)}(SVGGElement),C=i("g","bx-patternhud",S);
return{get default(){return C}}}),System.registerModule("elements/bx-patternslist",[],function(){
"use strict";System.get("elements/bx-patternslistitem"),System.get("elements/bx-filterinput");
var t=System.get("utils/artwork"),e=t.getPatternThumbnails,n=t.rasterizeArtwork,r=System.get("utils/bbox").getClientBBox,i=System.get("utils/dom"),a=i.createElement,s=i.createSVGMatrix,o=i.insertAfter,l=i.registerElement,u=System.get("utils/math").round,c=System.get("utils/pattern").isDerivedPattern,d=System.get("utils/rect"),h=d.combineRects,f=d.transformRect,v=System.get("utils/relationship"),m=v.getElementIndex,b=v.sortByDomPosition,g=System.get("utils/time"),p=g.debounce,y=g.sleep,_=System.get("utils/transform").getTransformToElement,x=System.get("classes/shortcut")["default"],w=Number.parseFloat,S=(Object.keys,
'\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-patternslist.css");</style>\n\n  <main>\n    <header>\n      <h2>Patterns</h2>\n\n      <bx-button\n        id="delete-pattern-button"\n        skin="iconic"\n        icon="minus"\n        title="Delete pattern"\n        iconsize="15">\n      </bx-button>\n\n      <bx-button\n        id="create-pattern-button"\n        title="Create new pattern"\n        skin="iconic"\n        icon="plus"\n        iconsize="15">\n      </bx-button>\n    </header>\n\n    <div id="items"></div>\n    <div id="placeholder">No patterns found.</div>\n    <div id="drag-separator"></div>\n    <bx-filterinput id="filter-input" placeholder="Filter patterns"></bx-filterinput>\n  </main>\n'),C=function(t){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var t=this;this._update2000Db=p(this._update,2e3,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=S;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this.addEventListener("keydown",function(e){
return t._onKeyDown(e)}),this["#items"].addEventListener("focusin",function(e){return t._onItemsFocusIn(e);
}),this["#items"].addEventListener("rename",function(e){return t._onItemRename(e);
}),this["#items"].addEventListener("dragstart",function(e){return t._onItemDragStart(e);
}),this["#delete-pattern-button"].addEventListener("click",function(e){return t._onDeletePatternButtonClick(e);
}),this["#create-pattern-button"].addEventListener("click",function(e){return t._onCreatePatternButtonClick(e);
}),this["#filter-input"].addEventListener("input",function(){return t._onFilterInputInput();
})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled===!0?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")?!0:!1},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
"id"===e.detail.attributeName&&"pattern"===e.detail.target.localName?t._update():e.detail.addedNodes[0]&&"pattern"===e.detail.addedNodes[0].localName?t._update():t._update2000Db();
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onDeletePatternButtonClick:function(t){0===t.button&&this._maybeDeleteHighlightedItem();
},_onCreatePatternButtonClick:function(t){if(0===t.button){body.canvas.undoManager.checkpoint("Create pattern");
var e=body.canvas.generateUniqueID("pattern"),i=a("bx-patternslistitem");i.patternID=e,
this["#items"].append(i);var l=!0,c=!1,d=void 0;try{for(var v=void 0,m=this["#items"].children[Symbol.iterator]();!(l=(v=m.next()).done);l=!0){
var g=v.value;g.highlighted=g===i}}catch(p){c=!0,d=p}finally{try{l||null==m["return"]||m["return"]();
}finally{if(c)throw d}}body.canvas.selectedElements.length>0&&n(body.canvas.extractArtworkWithSelectedElements()).then(function(t){
i.thumbnail=t}),y(100).then(function(){return i.focus()});var x=body.canvas.defs.querySelectorAll("pattern"),w=x[x.length-1],S=a("svg:pattern");
if(w?o(S,w):body.canvas.defs.append(S),0===body.canvas.selectedElements.length)S.setAttribute("id",e),
S.setAttribute("viewBox","0 0 100 100"),S.setAttribute("patternUnits","userSpaceOnUse"),
S.setAttribute("width","100"),S.setAttribute("height","100");else{var C=h(function(){
var t=0,e=[],n=!0,i=!1,a=void 0;try{for(var s=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;e[t++]=r(l)}}catch(u){i=!0,a=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}());C=f(C,body.canvas.currentArtboard.getCTM().inverse());
var k=-C.x,E=-C.y,A=u(C.width,4),T=u(C.height,4),L=!0,M=!1,j=void 0;try{for(var R=void 0,O=b(body.canvas.selectedElements)[Symbol.iterator]();!(L=(R=O.next()).done);L=!0){
var P=R.value,I=s();I.translateSelf(k,E),I.multiplySelf(_(P,body.canvas.currentArtboard)),
P.setAttribute("transform",I),S.append(P)}}catch(D){M=!0,j=D}finally{try{L||null==O["return"]||O["return"]();
}finally{if(M)throw j}}S.setAttribute("id",e),S.setAttribute("viewBox","0 0 "+A+" "+T),
S.setAttribute("patternUnits","userSpaceOnUse"),S.setAttribute("width","100"),S.setAttribute("height","100"),
body.canvas.selectedElements=[],body.canvas.selectedTextRange=null,body.canvas.currentContainer=null;
}}},_onItemsFocusIn:function(t){var e=t.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#items"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;o.highlighted=o===e}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}this["#delete-pattern-button"].disabled=!1},_onItemRename:function(t){
body.canvas.undoManager.checkpoint("Rename pattern");var e=t.target,n=t.detail,r=n.oldID,i=n.newID;
e.patternID=i;for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),s=null;s=a.nextNode();){
"pattern"===s.localName&&(s.id===r&&s.setAttribute("id",i),s.href.baseVal==="#"+r&&(s.href.baseVal="#"+i));
var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=["fill","stroke"][Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value,f=s.style.getPropertyValue(h);if(f&&f.startsWith("url(")){var v=f.substring(5,f.length-2);
v===r&&s.style.setProperty(h,"url(#"+i+")")}}}catch(m){l=!0,u=m}finally{try{o||null==d["return"]||d["return"]();
}finally{if(l)throw u}}}},_onItemDragStart:function(t){var e,n,r,i=this,a=t.target,s=($traceurRuntime.spread(this["#items"].children),
w(getComputedStyle(this["#drag-separator"]).height)),o=m(a),l=null;window.addEventListener("dragover",e=function(t){
var e=i._shadowRoot.elementFromPoint(t.clientX,t.clientY);if(e&&"bx-patternslistitem"===e.localName){
var n=e,r=n.getBoundingClientRect();i["#drag-separator"].hidden=!1,i["#drag-separator"].style.width=r.width+"px",
i["#drag-separator"].style.left=r.x+"px",t.clientY<r.y+r.height/2?(i["#drag-separator"].style.top=r.y-s/2+"px",
l=m(n)):(i["#drag-separator"].style.top=r.y+r.height-s/2+"px",l=m(n)+1)}else i["#drag-separator"].hidden=!0,
l=null}),this["#items"].addEventListener("dragend",r=function(t){if(i["#items"].removeEventListener("dragover",e),
i["#items"].removeEventListener("dragleave",n),i["#items"].removeEventListener("dragend",r),
i["#drag-separator"].hidden=!0,null!==l&&o!==l&&o!==l-1){a.style.display="none",i["#items"].insertBefore(a,i["#items"].children[l]),
setTimeout(function(){a.style.display=null,a.focus()},50),body.canvas.undoManager.checkpoint("Reorder patterns");
var s=$traceurRuntime.spread(body.canvas.defs.querySelectorAll("pattern")),u=s.find(function(t){
return t.id===a.patternID});s[l]?s[l].parentElement.insertBefore(u,s[l]):body.canvas.defs.append(u);
}})},_onFilterInputInput:function(){var t=this["#filter-input"].value,e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#items"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.hidden=("#"+s.patternID.toLowerCase()).includes(t.toLowerCase())===!1;
}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updatePlaceholderVisibility()},_onKeyDown:function(t){var e=x.fromEvent(t);
e.matches("Backspace")?null!==this["#items"].querySelector(":focus")&&(t.preventDefault(),
t.stopPropagation(),this._maybeDeleteHighlightedItem()):e.matches("ArrowUp")?(t.preventDefault(),
t.stopPropagation(),this._focusPreviousItem()):e.matches("ArrowDown")&&(t.preventDefault(),
t.stopPropagation(),this._focusNextItem())},_update:function(){var t=this;if(this._updating)return void setTimeout(1e3,function(){
return t._update(callback)});this._updating=!0;var n=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
n=n.filter(function(t){return c(t)===!1});var r=$traceurRuntime.spread(this["#items"].children),i=0;
if(r.length>n.length)for(var s=n.length;s<r.length;s+=1)r[s].remove();else r.length<n.length&&(this["#create-pattern-button"].disabled=!0,
this["#delete-pattern-button"].disabled=!0);var o=function(e){for(var r=$traceurRuntime.spread(t["#items"].children),s=t["#items"].querySelector("[highlighted]"),u=s?s.patternID:null,c=t["#filter-input"].value;e.timeRemaining()>10&&i<n.length;){
var d=n[i],h=r[i];h||(h=a("bx-patternslistitem"),t["#items"].append(h)),h.patternID=d.id,
h.hidden=("#"+h.patternID.toLowerCase()).includes(c.toLowerCase())===!1,h.highlighted=d.id===u,
i+=1}t._updatePlaceholderVisibility(),i<n.length?requestIdleCallback(o):(t._updateButtons(),
l())},l=function(){var n=body.canvas.extractArtwork(),r={},i=!0,a=!1,s=void 0;try{
for(var o=void 0,l=t["#items"].children[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r[u.patternID]=u}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}e(n,function(t,e){r[t]&&(r[t].thumbnail=e)},function(){t._updating=!1;
})};requestIdleCallback(o)},_updateButtons:function(){this["#create-pattern-button"].disabled=!1,
this["#delete-pattern-button"].disabled=null===this["#items"].querySelector("[highlighted]");
},_updatePlaceholderVisibility:function(){this["#placeholder"].hidden=null!==this["#items"].querySelector(":not([hidden])");
},_focusPreviousItem:function(){var t=this._shadowRoot.querySelector(":focus"),e=this._getPreviousVisibleItem(t);
e&&e.focus()},_focusNextItem:function(){var t=this._shadowRoot.querySelector(":focus"),e=this._getNextVisibleItem(t);
e&&e.focus()},_maybeDeleteHighlightedItem:function(){var t=this,e=this["#items"].querySelector("[highlighted]");
if(e){var n=e.patternID,r=function(){body.canvas.undoManager.checkpoint("Delete pattern"),
"pattern"===body.canvas.currentArtboard.contentType&&body.canvas.currentArtboard.id===n&&body.canvas.editPatternEnd(!1);
var r=t._getNextVisibleItem(e),i=t._getPreviousVisibleItem(e);r?r.focus():i?i.focus():t["#delete-pattern-button"].disabled=!0,
e.remove(),t._updatePlaceholderVisibility();var a=body.canvas.artboards.querySelector("#"+n);
a&&a.remove()};r()}},_assertItemsLength:function(t){var e=this["#items"].childElementCount;
if(t>e)for(var n=e;t>n;n+=1){var r=a("bx-patternslistitem");this["#items"].append(r);
}else if(e>t)for(var i=e-1;i>=t;i-=1)this["#items"].children[i].remove()},_getPreviousVisibleItem:function(t){
for(;t.previousElementSibling;){if(t.previousElementSibling.hidden===!1)return t.previousElementSibling;
t=t.previousElementSibling}return null},_getNextVisibleItem:function(t){for(;t.nextElementSibling;){
if(t.nextElementSibling.hidden===!1)return t.nextElementSibling;t=t.nextElementSibling;
}return null}},{},t)}(HTMLElement),k=l("bx-patternslist",C);return{get default(){
return k}}}),System.registerModule("elements/bx-patternslistitem",[],function(){"use strict";
System.get("elements/bx-input");var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("classes/shortcut")["default"],i='\n  <style>@import url("stylesheets/bx-patternslistitem.css");</style>\n\n  <main>\n    <img id="thumbnail"></img>\n    <bx-input id="input" skin="bx-defscontrols"></bx-input>\n  </main>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this.tabIndex=0,this.draggable=!0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this.addEventListener("dragstart",function(e){
return t._onHostDragStart(e)}),this.addEventListener("dragend",function(e){return t._onHostDragEnd(e);
}),this.addEventListener("keydown",function(e){return t._onHostKeyDown(e)}),this._shadowRoot.addEventListener("dblclick",function(e){
return t._onShadowRootDblClick(e)}),this["#input"].addEventListener("focusin",function(e){
return t._onInputFocusIn(e)}),this["#input"].addEventListener("focusout",function(e){
return t._onInputFocusOut(e)}),this["#input"].addEventListener("keydown",function(e){
return t._onInputKeyDown(e)}),this["#input"].addEventListener("change",function(e){
return t._onInputChange(e)}),this["#input"].addEventListener("confirm",function(){
return t.focus()}),this["#input"].addEventListener("cancel",function(){return t.focus();
}),this["#input"].validate=function(e){return t._validateInputValue(e)}},attributeChangedCallback:function(t){
"patternid"===t&&this._onPatternIDAttributeChange()},get patternID(){return this.hasAttribute("patternid")?this.getAttribute("patternid"):null;
},set patternID(t){t?this.setAttribute("patternid",t):this.removeAttribute("patternid");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(t){null===t?this["#thumbnail"].src="":this["#thumbnail"].src=t;
},_onPatternIDAttributeChange:function(){null===this.patternID?this["#input"].value="":this["#input"].value="#"+this.patternID;
},_onShadowRootDblClick:function(t){t.target===this["#thumbnail"]?body.canvas.editPattern(this.patternID):this["#input"].matches(":focus")===!1&&this["#input"].focus();
},_onHostDragStart:function(t){this._dragImage=e("img"),this._dragImage.id="drag-image",
this._dragImage.src=this["#thumbnail"].src,this._dragImage.style.position="fixed",
this._dragImage.style.transform="translate(9999px, 9999px)",this._dragImage.width=38,
this._dragImage.height=38,this._shadowRoot.append(this._dragImage),t.dataTransfer.setData("text","#"+this.patternID),
t.dataTransfer.setData("bx-patternslistitem/patternID",this.patternID),t.dataTransfer.setDragImage(this._dragImage,this._dragImage.width/2,this._dragImage.height/2);
},_onHostDragEnd:function(t){this._dragImage.remove()},_onHostKeyDown:function(t){
var e=r.fromEvent(t);e.matches("Enter")&&(this["#input"].focus(),this["#input"].selectAll());
},_onInputFocusIn:function(){this["#input"].style.pointerEvents="auto",this["#input"].selectAll(),
this.draggable=!1,this.setAttribute("inputmode","")},_onInputFocusOut:function(t){
this["#input"].style.pointerEvents="none",this.draggable=!0,this.removeAttribute("inputmode");
},_onInputKeyDown:function(t){var e=r.fromEvent(t);(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),
this.focus())},_onInputChange:function(){var t=this.patternID,e=this["#input"].value.substring(1);
this.dispatchEvent(new CustomEvent("rename",{bubbles:!0,detail:{oldID:t,newID:e}}));
},_validateInputValue:function(t){var e=/^#[a-z]+[a-z0-9\-_]*$/i.test(t);return e?t==="#"+this.patternID?!0:null===body.canvas.artboards.querySelector(t)?!0:!1:!1;
}},{},t)}(HTMLElement),s=n("bx-patternslistitem",a);return{get default(){return s;
}}}),System.registerModule("elements/bx-preferencesbody",[],function(){"use strict";
var t=System.get("elements/bx-body")["default"];System.get("elements/bx-button"),
System.get("elements/bx-checkbox"),System.get("elements/bx-shortcutseditor");var e=System.get("utils/dom").registerElement,n='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-preferencesbody.css");</style>\n\n  <main id="main">\n    <div id="buttons">\n      <bx-button\n        id="general-button"\n        data-view="general"\n        icon="prefs-general"\n        iconsize="25"\n        skin="bx-preferences"\n        label="General">\n      </bx-button>\n\n      <bx-button\n        id="shortcuts-button"\n        data-view="shortcuts"\n        icon="prefs-shortcuts"\n        iconsize="25"\n        skin="bx-preferences"\n        label="Shortcuts">\n      </bx-button>\n    </div>\n\n    <div id="views">\n      <div data-view="general" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use xlink:href="images/icons.svg#prefs-general" width="100" height="100"></use>\n          </svg>\n          <h1>General</h1>\n        </header>\n\n        <section>\n          <bx-checkbox\n            id="experimental-features-checkbox"\n            label="Enable experimental features">\n          </bx-checkbox>\n        </section>\n      </div>\n\n      <div data-view="shortcuts" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use xlink:href="images/icons.svg#prefs-shortcuts" width="100" height="100"></use>\n          </svg>\n          <h1>Shortcuts</h1>\n        </header>\n\n        <section>\n          <bx-shortcutseditor></bx-shortcutseditor>\n        </section>\n      </div>\n    </div>\n  </main>\n',r=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;$traceurRuntime.superGet(this,e.prototype,"createdCallback").call(this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=n;
var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}this.bridge.postMessage("getBackendName",null,function(e){
"electron"===e&&t["#main"].setAttribute("data-extra-whitespace","")}),this.getConfig("bx-preferences:currentView").then(function(e){
t._toggleView(e||"general")}),this.getConfig("bx-preferences:experimentalFeatures").then(function(e){
e===!0&&t["#experimental-features-checkbox"].setAttribute("checked","")}),this["#buttons"].addEventListener("click",function(e){
t._onButtonsClick(e)}),this["#experimental-features-checkbox"].addEventListener("change",function(){
t._onExperimentalFeaturesCheckboxChange()})},_onButtonsClick:function(t){"bx-button"===t.target.localName&&0===t.button&&this._toggleView(t.target.dataset.view);
},_onExperimentalFeaturesCheckboxChange:function(){this.setConfig("bx-preferences:experimentalFeatures",this["#experimental-features-checkbox"].checked);
},_toggleView:function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#views"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.dataset.view===t?s.hidden=!1:s.hidden=!0}}catch(o){n=!0,r=o}finally{
try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this["#buttons"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;f.dataset.view===t?f.pressed=!0:f.pressed=!1}}catch(v){u=!0,c=v}finally{
try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this.setConfig("bx-preferences:currentView",t);
}},{},t)}(t),i=e("body","bx-preferencesbody",r);return{get default(){return i}}}),
System.registerModule("elements/bx-quadbeziertool",[],function(){"use strict";var t=System.get("utils/dom").registerElement,e=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-quad-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-quad-segs-hud");
}},{},t)}(HTMLElement),n=t("bx-quadbeziertool",e);return{get default(){return n}};
}),System.registerModule("elements/bx-quadsegsdrawhud",[],function(){"use strict";
var t=System.get("classes/enum")["default"],e=System.get("classes/shortcut")["default"],n=System.get("classes/vector")["default"],r=System.get("utils/dom"),i=r.registerElement,a=r.createElement,s=r.createSVGPoint,o=System.get("utils/path").reversePath,l=System.get("utils/transform"),u=l.getTransformToElement,c=l.reduceTransform;
System.get("elements/bx-quadsegsketch");var d=10,h=new t("path"),f='\n  <style>@import url("stylesheets/bx-quadsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-quadsegsketch"></g>\n',v=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=f;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;this.attributeChangedCallback(h.name,null,h.value)}}catch(v){l=!0,u=v;
}finally{try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._mode="select",this._currentPath=null,window.addEventListener("keydown",this._keyDownListener=function(e){
t._onKeyDown(e)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),this["#node-grippies"].addEventListener("mousedown",this._nodeGrippiesMouseDownListener=function(e){
t._onNodeGrippieMouseDown(e)}),this._onSelectedElementsChange()},_onDisabled:function(){
window.removeEventListener("keydown",this._keyDownListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
this["#node-grippies"].removeEventListener("mousedown",this._nodeGrippiesMouseDownListener),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(t){var e=t.detail;if("childList"===e.type){var n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=e.removedNodes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;(o===this._currentPath||o.contains(this._currentPath))&&(this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies())}}catch(l){
r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}}else(e.target===this._currentPath||e.target.contains(this._currentPath))&&this._updateNodeGrippies();
},_onArtboardMouseDown:function(t){var e,r,i=this,a=s(t.clientX,t.clientY),o=0;window.addEventListener("mousemove",e=function(t){
var e=s(t.clientX,t.clientY),r=new n(a,e).length;r>o&&(o=r)}),window.addEventListener("mouseup",r=function(n){
window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",r),
i._onArtboardClick(t,n),4>o&&i._onArtboardDirectClick(t,n)})},_onArtboardClick:function(t){
var e,n;if("draw-forward"===this._mode){var r=this._currentPath.getPathData({normalize:!0
}),i=[];r.length>1&&body.canvas.undoManager.checkpoint("Draw path segment"),(e=i).push.apply(e,$traceurRuntime.spread(r)),
this["#seg-sketch"].curved?i.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):i.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),this._currentPath.setPathData(i)}else if("draw-backward"===this._mode){body.canvas.undoManager.checkpoint("Draw path segment");
var a=this._currentPath.getPathData({normalize:!0}),s=[];s.push({type:"M",values:[this["#seg-sketch"].startPoint.x,this["#seg-sketch"].startPoint.y]
}),this["#seg-sketch"].curved?s.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):s.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),(n=s).push.apply(n,$traceurRuntime.spread(a.slice(1))),this._currentPath.setPathData(s);
}},_onArtboardDirectClick:function(t){var e=t,n=e.clientX,r=e.clientY;if("select"===this._mode){
body.canvas.undoManager.checkpoint("Draw path segment");var i=a("svg:path");i.style.stroke="black",
i.style.fill="none";var o=body.canvas.currentContainer||body.canvas.currentArtboard;
o.append(i);var l=i.getScreenCTM().inverse(),u=s(n,r).matrixTransform(l),c=u.x,d=u.y;
i.setAttribute("d","M "+c+" "+d),body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[i]),
this._mode="draw-forward",this._currentPath=i,this["#seg-sketch"].show(i,"end")}},
_onNodeGrippieMouseDown:function(t){var e,n,r=this,i=t.target;this["#node-grippies"].addEventListener("mouseup",e=function(t){
r["#node-grippies"].removeEventListener("mouseup",e),window.removeEventListener("mouseup",n);
var a=t.target,s=r._onNodeGrippieClick(i,t);i!==a||s||r._onNodeGrippieDirectClick(i,t);
}),window.addEventListener("mouseup",n=function(t){r["#node-grippies"].removeEventListener("mouseup",e),
window.removeEventListener("mouseup",n),r._onNodeGrippieClick(i,t)})},_onNodeGrippieClick:function(t,e){
var n,r,i,a,s;if("select"===this._mode)return!1;if(t[h.path]===this._currentPath){
var l=t.getAttribute("data-position"),d=this._currentPath,f=d.getPathData({normalize:!0
}),v=f[0],m=f[f.length-1];if("draw-forward"===this._mode&&"start"===l){body.canvas.undoManager.checkpoint("Draw path segment");
var b=$traceurRuntime.spread(f);this["#seg-sketch"].curved?b.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,v.values[0],v.values[1]]
}):b.push({type:"L",values:[v.values[0],v.values[1]]}),b.push({type:"Z",values:[]
}),d.setPathData(b),this._updateNodeGrippies()}else if("draw-backward"===this._mode&&"end"===l){
body.canvas.undoManager.checkpoint("Draw path segment");var g=[];g.push({type:"M",
values:["C"===m.type?m.values[4]:m.values[0],"C"===m.type?m.values[5]:m.values[1]]
}),this["#seg-sketch"].curved?g.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,v.values[0],v.values[1]]
}):g.push({type:"L",values:[v.values[0],v.values[1]]}),(n=g).push.apply(n,$traceurRuntime.spread(f.slice(1))),
g.push({type:"Z",values:[]}),d.setPathData(g),this._updateNodeGrippies()}return this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),!0}var p=t.getAttribute("data-position"),y=this._currentPath,_=t[h.path],x=y.getPathData({
normalize:!0});x.length>1&&body.canvas.undoManager.checkpoint("Draw path segment");
var w=u(_,y);if(_.setAttribute("transform",w.toString()),c(_),"draw-forward"===this._mode){
"end"===p&&o(_);var S=[],C=_.getPathData({normalize:!0});(r=S).push.apply(r,$traceurRuntime.spread(x)),
this["#seg-sketch"].curved?S.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,C[0].values[0],C[0].values[1]]
}):S.push({type:"L",values:[C[0].values[0],C[0].values[1]]}),(i=S).push.apply(i,$traceurRuntime.spread(C.slice(1))),
y.setPathData(S),_.setPathData([]),_.remove()}else if("draw-backward"===this._mode){
"start"===p&&o(_);var k=_.getPathData({normalize:!0}),E=[];(a=E).push.apply(a,$traceurRuntime.spread(k)),
this["#seg-sketch"].curved?E.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,x[0].values[0],x[0].values[1]]
}):E.push({type:"L",values:[x[0].values[0],x[0].values[1]]}),(s=E).push.apply(s,$traceurRuntime.spread(x.slice(1))),
y.setPathData(E),_.setPathData([]),_.remove()}return body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==_}),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0},_onNodeGrippieDirectClick:function(t,e){if("select"===this._mode){this._currentPath=t[h.path];
var n=t.getAttribute("data-position");"start"===n?(this._mode="draw-backward",this["#seg-sketch"].show(t[h.path],"start")):(this._mode="draw-forward",
this["#seg-sketch"].show(t[h.path],"end"))}},_onKeyDown:function(t){if("draw-forward"===this._mode||"draw-backward"===this._mode){
var n=e.fromEvent(t);if(n.matches("Enter")||n.matches("Escape"))t.stopPropagation(),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies();else if(n.matches("Shift","Enter")){
t.stopPropagation();var r={type:"Z",values:[]},i=this._currentPath.getPathData();i.push(r),
this._currentPath.setPathData(i),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
this._updateNodeGrippies()}}},_updateNodeGrippies:function(){this["#node-grippies"].innerHTML="";
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._getSelectedPaths()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var o=r.value,l=o.getPathData({normalize:!0}),c=void 0,d=void 0;0===l.length?(c=null,
d=null):1===l.length?(c=l[0],d=null):l.length>1&&(c=l[0],d=l[l.length-1]);var f=u(o,this),v=d&&"Z"===d.type;
if(c&&!v){var m=s(c.values[0],c.values[1]).matrixTransform(f),b=a("svg:ellipse");b.setAttribute("class","node-grippie"),
b.setAttribute("cx",m.x),b.setAttribute("cy",m.y),b.setAttribute("data-position","start"),
b[h.path]=o,this["#node-grippies"].append(b)}if(d&&!v){var g=void 0;"M"===d.type||"L"===d.type?g=s(d.values[0],d.values[1]).matrixTransform(f):"C"===d.type&&(g=s(d.values[4],d.values[5]).matrixTransform(f));
var p=a("svg:ellipse");p.setAttribute("class","node-grippie"),p.setAttribute("cx",g.x),
p.setAttribute("cy",g.y),p.setAttribute("data-position","end"),p[h.path]=o,this["#node-grippies"].append(p);
}}}catch(y){e=!0,n=y}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var t=d/2/body.canvas.scale,e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.setAttribute("rx",t),s.setAttribute("ry",t)}}catch(o){n=!0,r=o}finally{
try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"path"===o.localName&&o.hasAttribute("is")===!1?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedPaths(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),m=i("g","bx-quadsegsdrawhud",v);return{get default(){
return m}}}),System.registerModule("elements/bx-quadsegsketch",[],function(){"use strict";
var t=System.get("utils/dom"),e=t.registerElement,n=t.createSVGPoint,r=System.get("utils/point"),i=r.getPointBetweenTwoPoints,a=r.getNearestPointOnLine,s=r.snapPointToAngleMultiple,o=System.get("utils/transform").getTransformToElement,l=System.get("classes/vector")["default"],u=Object.freeze,c='\n  <style>@import url("stylesheets/bx-quadsegsketch.css");</style>\n  <path id="outline" d="M 0 0 Q 0 0 0 0"></path>\n  <line id="control-line-1"></line>\n  <line id="control-line-2"></line>\n  <circle id="control-point-grippie"></circle>\n',d=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._path=null,this._position="end",this._snap="none",
this._hasListeners=!1,this._clientX=null,this._clientY=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=c;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){e=!0,n=s}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}},get startPoint(){return u(n(this._startPoint))},set startPoint(t){
throw new Error("startPoint property is read-only.")},get endPoint(){return u(n(this._endPoint));
},set endPoint(t){throw new Error("endPoint property is read-only.")},get controlPoint(){
return u(n(this._controlPoint))},set controlPoint(t){throw new Error("controlPoint property is read-only.");
},get curved(){var t=i(this._startPoint,this._endPoint);return this._controlPoint.x!==t.x||this._controlPoint.y!==t.y;
},show:function(t){var e=void 0!==arguments[1]?arguments[1]:"end";this._position=e,
this._path=t,this._snap="none",this.style.visibility="visible",this._hasListeners===!1&&this._addListeners(),
this._updateSegProperties(),this._updateSnapProperty(),this._updatePointProperties(),
this._updateOutlines()},hide:function(){this._path=null,this._clientX=null,this._clientY=null,
this.style.visibility="hidden",this._hasListeners===!0&&this._removeListeners()},
_addListeners:function(){var t=this;this._hasListeners=!0,this._mouseDown=!1,body.addEventListener("modkeyschange",this._modKeysChangeListener=function(){
t._mouseDown===!1&&(t._updateSnapProperty(),t._updatePointProperties(),t._updateOutlines());
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)}),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(e){
var r,i,a,o,l=t._path.getScreenCTM().inverse();if(t._mouseDown=!0,t._mouseDownPoint=n(e.clientX,e.clientY),
t._mouseDownPoint=t._mouseDownPoint.matrixTransform(l),t._mouseDownControlPoint=n(t._controlPoint),
"end"===t._position)if("paraxialPolygon"===t._snap){var u=(r=s(t._startPoint,t._endPoint,45)[Symbol.iterator](),
(i=r.next()).done?void 0:i.value);t._endPoint=u}else t._endPoint=n(t._mouseDownPoint);else if("start"===t._position)if("paraxialPolygon"===t._snap){
var c=(a=s(t._startPoint,t._endPoint,45)[Symbol.iterator](),(o=a.next()).done?void 0:o.value);
t._endPoint=c}else t._endPoint=n(t._firstSeg.values[0],t._firstSeg.values[1])}),window.addEventListener("mousemove",this._mouseMoveListener=function(e){
t._clientX=e.clientX,t._clientY=e.clientY,t._updatePointProperties(),t._updateOutlines();
}),window.addEventListener("mouseup",this._mouseUpListener=function(e){t._mouseDown=!1,
t._updateSnapProperty()})},_removeListeners:function(){this._hasListeners=!1,body.removeEventListener("modkeyschange",this._modKeysChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("mousedown",this._mouseDownListener),window.removeEventListener("mousemove",this._mouseMoveListener),
window.removeEventListener("mouseup",this._mouseUpListener)},_onArtboardMutation:function(t){
var e=t.detail;(e.target===this._path||e.target.contains(this._path))&&this._path.hasAttribute("d")&&(this._updateSegProperties(),
this._updateSnapProperty(),this._updatePointProperties(),this._updateOutlines())},
_updateSegProperties:function(){if("end"===this._position){var t=this._path.getPathData({
normalize:!0}),e=t[t.length-1];this._lastSeg=e;for(var r=t.length-1;r>=0;r-=1){var i=t[r];
if("Z"!==i.type){this._lastNonZSeg=i;break}}"C"===e.type?this._lastSegControlPoint=n(e.values[2],e.values[3]):"M"===e.type||"L"===e.type?this._lastSegControlPoint=n(e.values[0],e.values[1]):this._lastSegControlPoint=null,
"C"===this._lastSeg.type?this._lastSegIsSmooth=e.values[2]!==e.values[4]||e.values[3]!==e.values[5]:this._lastSegIsSmooth=!1;
}else if("start"===this._position){var a=this._path.getPathData({normalize:!0}),s=a[0],o=a[1];
this._firstSeg=s,"C"===o.type?this._secondSegControlPoint=n(o.values[0],o.values[1]):"M"===o.type||"L"===o.type?this._secondSegControlPoint=n(s.values[0],s.values[1]):this._secondSegControlPoint=null,
"C"===o.type?this._secondSegIsSmooth=o.values[0]!==this._firstSeg.values[0]&&o.values[1]!==this._firstSeg.values[1]:this._secondSegIsSmooth=!1;
}},_updatePointProperties:function(){var t,e,r,o,u,c,d,h;if(this._mouseDown===!1){
var f=this._path.getScreenCTM().inverse();if("end"===this._position?("L"===this._lastNonZSeg.type||"M"===this._lastNonZSeg.type?this._startPoint=n(this._lastNonZSeg.values[0],this._lastNonZSeg.values[1]):"C"===this._lastNonZSeg.type&&(this._startPoint=n(this._lastNonZSeg.values[4],this._lastNonZSeg.values[5])),
null===this._clientX?this._endPoint=n(this._startPoint):this._endPoint=n(this._clientX,this._clientY).matrixTransform(f)):"start"===this._position&&(null===this._clientX?this._startPoint=n(this._firstSeg.values[0],this._firstSeg.values[1]):this._startPoint=n(this._clientX,this._clientY).matrixTransform(f),
this._endPoint=n(this._firstSeg.values[0],this._firstSeg.values[1])),"none"===this._snap){
var v,m=new l(this._startPoint,this._endPoint);"end"===this._position?v=new l(this._startPoint,this._lastSegControlPoint):"start"===this._position&&(v=new l(this._endPoint,this._secondSegControlPoint)),
v=v.negate().scale(m.length/2),"end"===this._position?this._controlPoint=n(this._startPoint.x+v.x,this._startPoint.y+v.y):"start"===this._position&&(this._controlPoint=n(this._endPoint.x+v.x,this._endPoint.y+v.y));
}else if("polygon"===this._snap)this._controlPoint=i(this._startPoint,this._endPoint);else if("paraxialPolygon"===this._snap){
if("end"===this._position){var b=(t=s(this._startPoint,this._endPoint,45)[Symbol.iterator](),
(e=t.next()).done?void 0:e.value);this._endPoint=b}else if("start"===this._position){
var g=(r=s(this._endPoint,this._startPoint,45)[Symbol.iterator](),(o=r.next()).done?void 0:o.value);
this._startPoint=g}this._controlPoint=i(this._startPoint,this._endPoint)}}else if(this._mouseDown===!0){
var p=this._path.getScreenCTM().inverse(),y=n(this._clientX,this._clientY);y=y.matrixTransform(p);
var _=new l(this._mouseDownPoint,y);if(this._controlPoint=n(this._mouseDownControlPoint.x-_.x,this._mouseDownControlPoint.y-_.y),
"none"===this._snap)if("end"===this._position){var x=a(this._lastSegControlPoint,this._startPoint,this._controlPoint,!0),w=(u=x[Symbol.iterator](),
(c=u.next()).done?void 0:c.value),S=(c=u.next()).done?void 0:c.value;1>S?this._controlPoint=n(this._startPoint):this._controlPoint=w;
}else if("start"===this._position){var C=a(this._secondSegControlPoint,this._endPoint,this._controlPoint,!0),k=(d=C[Symbol.iterator](),
(h=d.next()).done?void 0:h.value),E=(h=d.next()).done?void 0:h.value;1>E?this._controlPoint=n(this._endPoint):this._controlPoint=k;
}}},_updateSnapProperty:function(){var t=body.modKeys,e=t.ctrl,n=(t.alt,t.shift);e&&!n?this._snap="polygon":e&&n?this._snap="paraxialPolygon":this._snap="none",
"end"===this._position?this._lastSegIsSmooth||"none"!==this._snap||(this._snap="polygon"):"start"===this._position&&(this._secondSegIsSmooth||"none"!==this._snap||(this._snap="polygon"));
},_updateOutlines:function(){var t=o(this._path,this),e=this._startPoint.matrixTransform(t),n=this._endPoint.matrixTransform(t),r=this._controlPoint.matrixTransform(t),i=3/body.canvas.scale,a=[{
type:"M",values:[e.x,e.y]},{type:"Q",values:[r.x,r.y,n.x,n.y]}];this["#outline"].setPathData(a),
this["#control-point-grippie"].cx.baseVal.value=r.x,this["#control-point-grippie"].cy.baseVal.value=r.y,
this["#control-point-grippie"].r.baseVal.value=i,this["#control-line-1"].x1.baseVal.value=e.x,
this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=r.x,
this["#control-line-1"].y2.baseVal.value=r.y,this["#control-line-2"].x1.baseVal.value=n.x,
this["#control-line-2"].y1.baseVal.value=n.y,this["#control-line-2"].x2.baseVal.value=r.x,
this["#control-line-2"].y2.baseVal.value=r.y}},{},t)}(SVGGElement),h=e("g","bx-quadsegsketch",d);
return{get default(){return h}}}),System.registerModule("elements/bx-radialgradienthud",[],function(){
"use strict";var t=System.get("utils/bbox").getUserBBox,e=System.get("utils/dom"),n=e.createElement,r=e.createSVGMatrix,i=e.createSVGPoint,a=e.registerElement,s=System.get("utils/event").isMouseMoveIntentional,o=System.get("utils/gradient").getGradientColorAtOffset,l=System.get("utils/math").normalize,u=(System.get("utils/matrix").compareMatrixes,
System.get("utils/math")),c=(u.sin,u.cos,u.degToRad,u.round,System.get("utils/paint")),d=c.getPaintType,h=c.getPaintServer,f=(System.get("utils/point").comparePoints,
System.get("utils/relationship").queryGraphicsElements),v=System.get("utils/style").queryStylableElements,m=System.get("utils/time").throttle,b=System.get("utils/transform"),g=b.getTransformFromPoints,p=b.getTransformToElement,y=System.get("utils/vector").getAngleBetweenVectors,_=System.get("utils/point"),x=_.getPointAtFraction,w=_.getNearestPointOnLine,S=_.getDistanceBetweenPoints,C=_.snapPointToAngle,k=_.snapPointToAngleMultiple,E=System.get("classes/decomposed-transform")["default"],A=System.get("classes/enum")["default"],T=System.get("classes/shortcut")["default"],L=System.get("classes/vector")["default"],M=(Object.keys,
new A("gradient","gradientUser","stop")),j=SVGUnitTypes,R=j.SVG_UNIT_TYPE_USERSPACEONUSE,O=j.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,P=6,I='\n  <style>@import url("stylesheets/bx-radialgradienthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',D=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this.commands={selectAll:{enabled:function(){
return!0},exec:function(){return t._selectAllStops()}},deselectAll:{enabled:function(){
return!0},exec:function(){return t._deselectAllStops()}}},this.tabIndex=-1,this._selectedStops=[],
this._draggedGrippie=null,this._draggedSlider=null,this._updateAll200Th=m(this._updateAll,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=I;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("keydown",function(e){
return t._onShadowRootKeyDown(e)}),this._shadowRoot.addEventListener("mousedown",function(e){
return t._onShadowRootMouseDown(e)}),this._shadowRoot.addEventListener("mouseup",function(e){
return t._onShadowRootMouseUp(e)}),this._shadowRoot.addEventListener("dblclick",function(e){
return t._onShadowRootDblClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},get selectedStops(){return $traceurRuntime.spread(this._selectedStops)},_onEnabled:function(){
var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(e){
t._onArtboardMouseDown(e)}),body.canvas.huds.addEventListener("mousedown",this._hudsMouseDownListener=function(e){
t._onHudsMouseDown(e)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
t._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
t._onUndoOrRedo()})},_onDisabled:function(){this._selectStops([]),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.huds.removeEventListener("mousedown",this._hudsMouseDownListener),body.canvas.undoManager.removeEventListener("undo",this._undoListener),
body.canvas.undoManager.removeEventListener("redo",this._redoListener)},_onSelectedElementsChange:function(){
this._updateAll200Th()},_onSelectedTextRangeChange:function(){this._updateAll200Th();
},_onArtboardMutation:function(t){this._draggedGrippie?this._updatePositions(this._draggedGrippie.closest(".subhud")):this._draggedSlider?this._updatePositions(this._draggedSlider.parentElement):"style"===t.attributeName&&"stop"===t.target.localName?this._updateGrippiesColor():this._updateAll200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onUndoOrRedo:function(){this._selectStops([]);
},_onArtboardMouseDown:function(t){0===t.button&&t.target!==this&&this._selectStops([]);
},_onHudsMouseDown:function(t){0===t.button&&t.target!==this&&this._selectStops([]);
},_onShadowRootMouseDown:function(t){var e=this;if(0===t.button){t.target.classList.contains("slider")?this._onSliderMouseDown(t):t.target.classList.contains("stop-grippie")?this._onStopGrippieMouseDown(t):t.target.classList.contains("r2-grippie")&&this._onRadiusGrippieOrSliderEdgeMouseDown(t,"r2");
var n,r;this._mouseMovedAfterMouseDown=!1,this._mouseDownTimeStamp=t.timeStamp,window.addEventListener("mousemove",n=function(){
e._mouseMovedAfterMouseDown=!0}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mouseup",r),
window.removeEventListener("mousemove",n)})}},_onShadowRootMouseUp:function(t){t.target.classList.contains("stop-grippie")&&this._onStopGrippieMouseUp(t);
},_onShadowRootDblClick:function(t){t.timeStamp-this._mouseDownTimeStamp<100&&t.target.classList.contains("slider")&&this._onSliderDblClick(t);
},_onStopGrippieMouseDown:function(t){var e=t.target,n=e[M.stop],r=n.closest("radialGradient"),i=this._selectedStops.filter(function(t){
return t.closest("radialGradient")===r}),a=function(){var t=0,e=[],n=!0,i=!1,a=void 0;
try{for(var s=void 0,o=r.children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;"stop"===l.localName&&(e[t++]=l)}}catch(u){i=!0,a=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}(),s=a[0],o=a[a.length-1],l=body.modKeys,u=l.alt,c=l.shift;
this._mouseDownSelectedStops=$traceurRuntime.spread(i),c===!1?i.includes(n)===!1&&this._selectStops([n]):c===!0&&i.includes(n)===!1&&(i.push(n),
this._selectStops([i])),n===s&&0===n.offset.baseVal&&u===!1?this._onCenterGrippieOrSliderBodyMouseDown(t):n===o&&1===n.offset.baseVal&&u===!1?this._onRadiusGrippieOrSliderEdgeMouseDown(t,"r1"):this._onDraggableStopGrippieMouseDown(t);
},_onStopGrippieMouseUp:function(t){if(!this._mouseMovedAfterMouseDown){var e=t.target,n=this._mouseDownSelectedStops,r=e[M.stop],i=e.closest(".subhud"),a=i[M.gradientUser],s=body.modKeys.shift,o=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=body.canvas.selectedElements[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;if("g"!==v.localName&&"a"!==v.localName||!v.contains(a))o.push(v);else{
var m=!0,b=!1,g=void 0;try{for(var p=void 0,y=f($traceurRuntime.spread(v.children))[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var _=p.value;o.unshift(_)}}catch(x){b=!0,g=x}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}}}}catch(w){u=!0,c=w}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}o.remove(a),o.unshift(a),body.canvas.selectedElements=o;for(var S=a.parentElement;S!==body.canvas.currentArtboard;S=S.parentElement)if("g"===S.localName||"a"===S.localName){
body.canvas.currentContainer=S;break}s===!0&&this._mouseDownSelectedStops.includes(r)===!0&&(n.remove(r),
this._selectStops([n]))}},_onDraggableStopGrippieMouseDown:function(t){var e,n,r,a,s=this,o=t.target,l=o.closest(".subhud"),u=l.querySelector(".slider"),c=this._getMoveOffsetsForSelectedStops(),d=this.getScreenCTM(),h=d.inverse(),f=i(u.x1.baseVal.value,u.y1.baseVal.value),v=i(u.x2.baseVal.value,u.y2.baseVal.value),m=i(o.cx.baseVal.value,o.cy.baseVal.value),b=m.matrixTransform(d),g=(e=w(f,v,m,!1)[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),p=S(f,g)/S(f,v),y=!1;this._draggedGrippie=o,window.addEventListener("mousemove",r=function(e){
var n,r;y===!1&&(body.canvas.undoManager.checkpoint("Move gradient stop"),y=!0);var a=i(b.x+e.clientX-t.clientX,b.y+e.clientY-t.clientY),o=a.matrixTransform(h),l=(n=w(f,v,o,!1)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),u=S(f,l)/S(f,v),d=u-p,m=!0,g=!1,_=void 0;try{for(var x=void 0,C=s._selectedStops[Symbol.iterator]();!(m=(x=C.next()).done);m=!0){
var k=x.value,E=c.get(k),A=E.minOffset,T=E.maxOffset,L=E.initialOffset;A>L+d?k.setAttribute("offset",A):L+d>T?k.setAttribute("offset",T):k.setAttribute("offset",L+d);
}}catch(M){g=!0,_=M}finally{try{m||null==C["return"]||C["return"]()}finally{if(g)throw _;
}}}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",a),s._draggedGrippie=null})},_onRadiusGrippieOrSliderEdgeMouseDown:function(e){
var n,a,o,l,u,c,d,h,f=void 0!==arguments[1]?arguments[1]:"r1",v=this,m=$traceurRuntime.spread(this["#subhuds"].children).find(function(t){
return t.contains(e.target)}),b=m[M.gradient],p=m[M.gradientUser],_=t(p),x=p.getScreenCTM(),w=x.inverse(),S=E.fromSVGMatrix(x),A=r(b.gradientTransform.baseVal.consolidate().matrix),T=!1,j=!1;
e.target.matches(".grippie")?this._draggedGrippie=e.target:e.target.matches(".slider")&&(this._draggedSlider=e.target);
var P=function(){if(b.gradientUnits.baseVal===R){o=i(b.cx.baseVal.value,b.cy.baseVal.value),
l=i(b.cx.baseVal.value+b.r.baseVal.value,b.cy.baseVal.value),u=i(b.cx.baseVal.value,b.cy.baseVal.value-b.r.baseVal.value);
var t=o.matrixTransform(A),e=l.matrixTransform(A),n=u.matrixTransform(A);c=t.matrixTransform(x),
d=e.matrixTransform(x),h=n.matrixTransform(x)}else if(b.gradientUnits.baseVal===O){
o=i(b.cx.baseVal.valueInSpecifiedUnits,b.cy.baseVal.valueInSpecifiedUnits),l=i(b.cx.baseVal.valueInSpecifiedUnits+b.r.baseVal.valueInSpecifiedUnits,b.cy.baseVal.valueInSpecifiedUnits),
u=i(b.cx.baseVal.valueInSpecifiedUnits,b.cy.baseVal.valueInSpecifiedUnits-b.r.baseVal.valueInSpecifiedUnits);
var r=o.matrixTransform(A),a=l.matrixTransform(A),s=u.matrixTransform(A),f=i(_.x+r.x*_.width,_.y+r.y*_.height),v=i(_.x+a.x*_.width,_.y+a.y*_.height),m=i(_.x+s.x*_.width,_.y+s.y*_.height);
c=f.matrixTransform(x),d=v.matrixTransform(x),h=m.matrixTransform(x)}};window.addEventListener("mousemove",n=function(t){
var n,a,v,m;if(T===!1){if(!s(e,t,5))return;T=!0,body.canvas.undoManager.checkpoint("Transform gradient"),
P()}var p,x,E=body.modKeys,M=E.ctrl,I=E.shift;"r1"===f?(p=i(t.clientX+(d.x-e.clientX),t.clientY+(d.y-e.clientY)),
x=y(new L(c,d),new L(c,p))):"r2"===f&&(p=i(t.clientX+(h.x-e.clientX),t.clientY+(h.y-e.clientY)),
x=y(new L(c,h),new L(c,p)));var D=r().rotate(x,c.x,c.y),N=c.matrixTransform(D),V=d.matrixTransform(D),B=h.matrixTransform(D),U=new L(N,V),z=new L(N,B),G=new L(N,p);
if("r1"===f){if(U.length=G.length,V.x=N.x+U.x,V.y=N.y+U.y,M){var H=new L(N,h);z.length=G.length,
H.length=G.length,B.x=N.x+z.x,B.y=N.y+z.y,h.x=N.x+H.x,h.y=N.y+H.y}if(I){var F=k(N,V,22.5),q=(n=F[Symbol.iterator](),
(a=n.next()).done?void 0:a.value);(a=n.next()).done?void 0:a.value;V=q,j=!0}if(j){
var $=i(c.x,c.y-100),W=y(new L(c,$),new L(c,V));B=S.scaleX<0&&S.scaleY<0?C(N,B,W+90):C(N,B,W-90);
}}else if("r2"===f){if(z.length=G.length,B.x=N.x+z.x,B.y=N.y+z.y,M){var Y=new L(N,d);
U.length=G.length,Y.length=G.length,V.x=N.x+U.x,V.y=N.y+U.y,d.x=N.x+Y.x,d.y=N.y+Y.y;
}if(I){var X=k(N,B,22.5),Z=(v=X[Symbol.iterator](),(m=v.next()).done?void 0:m.value);
(m=v.next()).done?void 0:m.value;B=Z,j=!0}if(j){var K=i(c.x,c.y-100),J=y(new L(c,K),new L(c,B));
V=S.scaleX<0&&S.scaleY<0?C(N,V,J-90):C(N,V,J+90)}}var Q,tt,et;if(b.gradientUnits.baseVal===R){
var nt=N.matrixTransform(w),rt=V.matrixTransform(w),it=B.matrixTransform(w);Q=nt.matrixTransform(A.inverse()),
tt=rt.matrixTransform(A.inverse()),et=it.matrixTransform(A.inverse())}else if(b.gradientUnits.baseVal===O){
var at=N.matrixTransform(w),st=V.matrixTransform(w),ot=B.matrixTransform(w),lt=i((at.x-_.x)/_.width,(at.y-_.y)/_.height),ut=i((st.x-_.x)/_.width,(st.y-_.y)/_.height),ct=i((ot.x-_.x)/_.width,(ot.y-_.y)/_.height);
Q=lt.matrixTransform(A.inverse()),tt=ut.matrixTransform(A.inverse()),et=ct.matrixTransform(A.inverse());
}var dt=g(o,l,u,Q,tt,et);b.setAttribute("gradientTransform",A.multiply(dt).toString());
}),window.addEventListener("mouseup",a=function(t){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",a),v._draggedGrippie=null,v._draggedSlider=null;
})},_onSliderMouseDown:function(t){var e=t.target,n=e.getScreenCTM(),r=i(t.clientX,t.clientY),a=i(e.x2.baseVal.value,e.y2.baseVal.value),s=a.matrixTransform(n),o=S(s,r);
5>=o?this._onRadiusGrippieOrSliderEdgeMouseDown(t,"r1"):this._onCenterGrippieOrSliderBodyMouseDown(t);
},_onCenterGrippieOrSliderBodyMouseDown:function(e){var n,a,o,l=this,u=e.target.closest(".subhud"),c=u[M.gradientUser],d=u[M.gradient],h=t(c),f=r(d.gradientTransform.baseVal.consolidate().matrix),v=c.getScreenCTM(),m=c.getScreenCTM().inverse(),b=i(e.clientX,e.clientY),g=!1;
if(e.target.matches(".grippie")?this._draggedGrippie=e.target:e.target.matches(".slider")&&(this._draggedSlider=e.target),
d.gradientUnits.baseVal===R){var p=i(d.cx.baseVal.value,d.cy.baseVal.value),y=p.matrixTransform(f);
o=y.matrixTransform(v)}else if(d.gradientUnits.baseVal===O){var _=i(d.cx.baseVal.valueInSpecifiedUnits,d.cy.baseVal.valueInSpecifiedUnits),x=_.matrixTransform(f),w=i(h.x+x.x*h.width,h.y+x.y*h.height);
o=w.matrixTransform(v)}window.addEventListener("mousemove",n=function(t){if(g===!1){
if(!s(e,t,5))return;g=!0,body.canvas.undoManager.checkpoint("Transform gradient");
}var n,r=i(t.clientX,t.clientY),a=new L(b,r);if(d.gradientUnits.baseVal===R){var l=i(o.x+a.x,o.y+a.y),u=l.matrixTransform(m);
n=u.matrixTransform(f.inverse())}else if(d.gradientUnits.baseVal===O){var c=i(o.x+a.x,o.y+a.y),v=c.matrixTransform(m),p=i((v.x-h.x)/h.width,(v.y-h.y)/h.height);
n=p.matrixTransform(f.inverse())}d.setAttribute("cx",n.x),d.setAttribute("cy",n.y);
}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",a),l._draggedGrippie=null,l._draggedSlider=null;
})},_onSliderDblClick:function(t){body.canvas.undoManager.checkpoint("Add Stop");for(var e=t.target,r=e.closest(".subhud"),a=r[M.gradient],s=this.getScreenCTM().inverse(),u=function(){
var t=0,e=[],n=!0,r=!1,i=void 0;try{for(var s=void 0,o=a.children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;"stop"===l.localName&&(e[t++]=l)}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return e}(),c=i(e.x1.baseVal.value,e.y1.baseVal.value),d=i(e.x2.baseVal.value,e.y2.baseVal.value),h=i(t.clientX,t.clientY).matrixTransform(s),f=S(c,h),v=S(c,d),m=l(f/v,0,1,5),b=null,g=0;g<u.length;g+=1){
var p=u[g];if(p.offset.baseVal<m)b=g;else if(p.offset.baseVal>m)break}var y=n("svg:stop");
y.setAttribute("offset",m),y.style.stopColor=o(a,m).toString("hex"),null===b?0===a.childElementCount?a.append(y):a.children[0].before(y):u[b].after(y),
this._selectStops([y])},_onShadowRootKeyDown:function(t){var e=T.fromEvent(t);0!==this._selectedStops.length&&(e.matches("Backspace")?(t.stopPropagation(),
this._deleteSelectedStops()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),
this._selectNextStop()):e.matches("ArrowLeft")?(t.stopPropagation(),this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Left"),
this._moveSelectedStops(1,"left"))):e.matches("ArrowRight")?(t.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Right"),
this._moveSelectedStops(1,"right"))):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),
this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 10 Units Left"),
this._moveSelectedStops(10,"left"))):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 10 Units Right"),
this._moveSelectedStops(10,"right"))))},_updateAll:function(){var t=this,e=v(this.context,body.canvas.selectedElements,body.canvas.selectedTextRange),r=e.filter(function(e){
return"radialGradient"===d(e,t.context)});if(0===r.length)this["#subhuds"].innerHTML="";else{
var i=this._shadowRoot.activeElement,a=[];this["#subhuds"].innerHTML="";var s=!0,o=!1,l=void 0;
try{var u,c,f,m,b=this,g=function(){var t=p.value,e=h(t,b.context);if(a.includes(e))return 0;
a.push(e);var r=function(){var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"stop"===l.localName&&(n[t++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),i=b["#subhud-template"].cloneNode(!0);i.removeAttribute("id"),
i[M.gradient]=e,i[M.gradientUser]=t;var s=i.querySelector(".stop-grippies"),o=document.createDocumentFragment();
u=!0,c=!1,f=void 0;try{for(var l=void 0,d=r[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){
var v=l.value,m=n("svg:circle");m.setAttribute("class","stop-grippie grippie"),m[M.stop]=v,
v.offset.baseVal>.95?o.prepend(m):s.append(m)}}catch(g){c=!0,f=g}finally{try{u||null==d["return"]||d["return"]();
}finally{if(c)throw f}}s.append(o),b["#subhuds"].append(i)};t:for(var p=void 0,y=r[Symbol.iterator]();!(s=(p=y.next()).done);s=!0)switch(m=g()){
case 0:continue t}}catch(_){o=!0,l=_}finally{try{s||null==y["return"]||y["return"]();
}finally{if(o)throw l}}if(i){var x=$traceurRuntime.spread(this["#subhuds"].children).find(function(t){
return t[M.gradient]===i[M.gradient]});x&&x.focus()}this._updatePositions(),this._updateGrippiesSize(),
this._updateGrippiesColor(),this._updateGrippiesSelectedState(),this._updateGrippiesZOrder();
}},_updatePositions:function(){var e=void 0!==arguments[0]?arguments[0]:null,n=!0,a=!1,s=void 0;
try{var o,l,u,c,d,h,f,v=this,m=function(){var n=b.value;if(e&&n!==e)return 0;var a=n[M.gradient],s=n[M.gradientUser],f=function(){
var t=0,e=[],n=!0,r=!1,i=void 0;try{for(var s=void 0,o=a.children[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;"stop"===l.localName&&(e[t++]=l)}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return e}(),m=r(a.gradientTransform.baseVal.consolidate().matrix),g=p(s,v),y=n.querySelector(".slider"),_=n.querySelector(".slider-shadow"),w=$traceurRuntime.spread(n.querySelector(".stop-grippies").children),S=n.querySelector(".r2-grippie"),C=n.querySelector(".r2-outline");
if(a.gradientUnits.baseVal===R){var k=i(a.cx.baseVal.value,a.cy.baseVal.value),E=i(a.cx.baseVal.value+a.r.baseVal.value,a.cy.baseVal.value),A=i(a.cx.baseVal.value,a.cy.baseVal.value-a.r.baseVal.value),T=k.matrixTransform(m),L=E.matrixTransform(m),j=A.matrixTransform(m),P=T.matrixTransform(g),I=L.matrixTransform(g),D=j.matrixTransform(g);
y.setAttribute("x1",P.x),y.setAttribute("y1",P.y),y.setAttribute("x2",I.x),y.setAttribute("y2",I.y),
_.setAttribute("x1",P.x),_.setAttribute("y1",P.y),_.setAttribute("x2",I.x),_.setAttribute("y2",I.y),
C.setAttribute("x1",P.x),C.setAttribute("y1",P.y),C.setAttribute("x2",D.x),C.setAttribute("y2",D.y),
S.setAttribute("cx",D.x),S.setAttribute("cy",D.y),o=!0,l=!1,u=void 0;try{for(var N=function(){
var t=V.value,e=w.find(function(e){return e[M.stop]===t}),n=x(P,I,t.offset.baseVal);
e.cx.baseVal.value=n.x,e.cy.baseVal.value=n.y},V=void 0,B=f[Symbol.iterator]();!(o=(V=B.next()).done);o=!0)N();
}catch(U){l=!0,u=U}finally{try{o||null==B["return"]||B["return"]()}finally{if(l)throw u;
}}}else if(a.gradientUnits.baseVal===O){var z=t(s),G=i(a.cx.baseVal.valueInSpecifiedUnits,a.cy.baseVal.valueInSpecifiedUnits),H=i(a.cx.baseVal.valueInSpecifiedUnits+a.r.baseVal.valueInSpecifiedUnits,a.cy.baseVal.valueInSpecifiedUnits),F=i(a.cx.baseVal.valueInSpecifiedUnits,a.cy.baseVal.valueInSpecifiedUnits-a.r.baseVal.valueInSpecifiedUnits),q=G.matrixTransform(m),$=H.matrixTransform(m),W=F.matrixTransform(m),Y=i(z.x+q.x*z.width,z.y+q.y*z.height),X=i(z.x+$.x*z.width,z.y+$.y*z.height),Z=i(z.x+W.x*z.width,z.y+W.y*z.height),K=Y.matrixTransform(g),J=X.matrixTransform(g),Q=Z.matrixTransform(g);
y.setAttribute("x1",K.x),y.setAttribute("y1",K.y),y.setAttribute("x2",J.x),y.setAttribute("y2",J.y),
_.setAttribute("x1",K.x),_.setAttribute("y1",K.y),_.setAttribute("x2",J.x),_.setAttribute("y2",J.y),
C.setAttribute("x1",K.x),C.setAttribute("y1",K.y),C.setAttribute("x2",Q.x),C.setAttribute("y2",Q.y),
S.setAttribute("cx",Q.x),S.setAttribute("cy",Q.y),c=!0,d=!1,h=void 0;try{for(var tt=function(){
var t=et.value,e=w.find(function(e){return e[M.stop]===t});if(e){var n=x(K,J,t.offset.baseVal);
e.cx.baseVal.value=n.x,e.cy.baseVal.value=n.y}},et=void 0,nt=f[Symbol.iterator]();!(c=(et=nt.next()).done);c=!0)tt();
}catch(rt){d=!0,h=rt}finally{try{c||null==nt["return"]||nt["return"]()}finally{if(d)throw h;
}}}};t:for(var b=void 0,g=this["#subhuds"].children[Symbol.iterator]();!(n=(b=g.next()).done);n=!0)switch(f=m()){
case 0:continue t}}catch(y){a=!0,s=y}finally{try{n||null==g["return"]||g["return"]();
}finally{if(a)throw s}}},_updateGrippiesColor:function(){var t=!0,e=!1,n=void 0;try{
for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;d.style.fill=d[M.stop].style.stopColor}}catch(h){o=!0,l=h}finally{try{
s||null==c["return"]||c["return"]()}finally{if(o)throw l}}}}catch(f){e=!0,n=f}finally{
try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_updateGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll(".grippie")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;a.setAttribute("r",P/body.canvas.scale)}}catch(s){e=!0,n=s}finally{
try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_updateGrippiesSelectedState:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;this._selectedStops.includes(d[M.stop])?d.setAttribute("data-selected",""):d.removeAttribute("data-selected");
}}catch(h){o=!0,l=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}}}catch(f){e=!0,n=f}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n;
}}},_updateGrippiesZOrder:function(){var t=this["#subhuds"].querySelectorAll(".stop-grippie"),e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._selectedStops[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h[M.stop]===s&&h.parentElement.append(h)}}catch(f){l=!0,u=f}finally{
try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(v){n=!0,r=v;
}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_selectStops:function(t){
(0!==t.length||0!==this._selectedStops.length)&&(this._selectedStops=$traceurRuntime.spread(t),
this._updateGrippiesSelectedState(),this._updateGrippiesZOrder(),this.dispatchEvent(new CustomEvent("selectedstopschange")));
},_selectAllStops:function(){var t=this._shadowRoot.activeElement,e=t[M.gradient],n=function(){
var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"stop"===l.localName&&(n[t++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),r=!0,i=!1,a=void 0;try{for(var s=void 0,o=this._selectedStops[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;l.closest("radialGradient")!==e&&n.push(l)}}catch(u){i=!0,a=u}finally{
try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}this._selectStops(n);
},_deselectAllStops:function(){var t=this._shadowRoot.activeElement,e=t[M.gradient];
this._selectStops(this._selectedStops.filter(function(t){return t.closest("radialGradient")!==e;
}))},_selectNextStop:function(){var t=this._shadowRoot.activeElement,e=t[M.gradient],n=function(){
var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"stop"===l.localName&&(n[t++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),r=this._selectedStops.filter(function(t){return t.closest("radialGradient")===e;
}),i=r[r.length-1],a=n[0];n.length>1&&(this._selectStops(this._selectedStops.filter(function(t){
return t.closest("radialGradient")!==e})),i.nextElementSibling?this._selectStops($traceurRuntime.spread([i.nextElementSibling],this._selectedStops)):this._selectStops($traceurRuntime.spread([a],this._selectedStops)));
},_deleteSelectedStops:function(){var t=this._shadowRoot.activeElement;if(null!==t){
var e=t[M.gradient],n=this._selectedStops.filter(function(t){return t.closest("radialGradient")===e;
});if(n.length>0){body.canvas.undoManager.checkpoint("Delete gradient stop(s)");var r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=n[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]()}finally{
if(i)throw a}}}this._selectStops([])}},_moveSelectedStops:function(){var t=void 0!==arguments[0]?arguments[0]:1,e=void 0!==arguments[1]?arguments[1]:"left",n=this._shadowRoot.activeElement;
if(null!==n){var r=n.querySelector(".slider"),a=n[M.gradient],s=this._selectedStops.filter(function(t){
return t.parentElement===a}),o=this._getMoveOffsetsForSelectedStops(),u=this.getScreenCTM(),c=i(r.x1.baseVal.value,r.y1.baseVal.value),d=i(r.x2.baseVal.value,r.y2.baseVal.value),h=c.matrixTransform(u),f=d.matrixTransform(u),v=new L(h,f),m=t/v.length,b=!0,g=!1,p=void 0;
try{for(var y=void 0,_=s[Symbol.iterator]();!(b=(y=_.next()).done);b=!0){var x=y.value,w=o.get(x),S=w.minOffset,C=w.maxOffset;
if("left"===e){var k=l(x.offset.baseVal-m,S,C);x.setAttribute("offset",k)}else if("right"===e){
var E=l(x.offset.baseVal+m,S,C);x.setAttribute("offset",E)}}}catch(A){g=!0,p=A}finally{
try{b||null==_["return"]||_["return"]()}finally{if(g)throw p}}}},_canMoveActiveSelectedStops:function(){
var t=void 0!==arguments[0]?arguments[0]:"left",e=this._shadowRoot.activeElement;if(null!==e){
var n=(e.querySelector(".slider"),e[M.gradient]),r=this._selectedStops.find(function(t){
return t.parentElement===n});if(null!==r){var i=this._getMoveOffsetsForSelectedStops(),a=i.get(r),s=a.minOffset,o=a.maxOffset;
return"left"===t?r.offset.baseVal>s:"right"===t?r.offset.baseVal<o:void 0}}},_getPreviousNotSelectedStop:function(t){
for(;t.previousElementSibling;){if(this._selectedStops.includes(t.previousElementSibling)===!1)return t.previousElementSibling;
t=t.previousElementSibling}return null},_getNextNotSelectedStop:function(t){for(;t.nextElementSibling;){
if(this._selectedStops.includes(t.nextElementSibling)===!1)return t.nextElementSibling;
t=t.nextElementSibling}return null},_getMoveOffsetsForSelectedStops:function(){var t=new Map,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=this._selectedStops[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value,l=this._getPreviousNotSelectedStop(o),u=this._getNextNotSelectedStop(o),c={};
l?c.min=o.offset.baseVal-l.offset.baseVal:c.min=o.offset.baseVal,u?c.max=u.offset.baseVal-o.offset.baseVal:c.max=1-o.offset.baseVal,
e.push(c)}}catch(d){r=!0,i=d}finally{try{n||null==s["return"]||s["return"]()}finally{
if(r)throw i}}if(e.length>0){var h=e[0].min,f=e[0].max,v=!0,m=!1,b=void 0;try{for(var g=void 0,p=e[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){
var y=g.value;y.min<h&&(h=y.min),y.max<f&&(f=y.max)}}catch(_){m=!0,b=_}finally{try{
v||null==p["return"]||p["return"]()}finally{if(m)throw b}}var x=!0,w=!1,S=void 0;try{
for(var C=void 0,k=this._selectedStops[Symbol.iterator]();!(x=(C=k.next()).done);x=!0){
var E=C.value;t.set(E,{initialOffset:E.offset.baseVal,minOffset:E.offset.baseVal-h,
maxOffset:E.offset.baseVal+f})}}catch(A){w=!0,S=A}finally{try{x||null==k["return"]||k["return"]();
}finally{if(w)throw S}}}return t}},{},e)}(SVGGElement),N=a("g","bx-radialgradienthud",D);
return{get default(){return N}}}),System.registerModule("elements/bx-recthud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=(t.createElement,
t.createSVGPoint),r=System.get("utils/math").normalize,i=System.get("utils/time").throttle,a=System.get("utils/transform").getTransformToElement,s=System.get("classes/enum")["default"],o=Math.min,l=new s("rect"),u=6,c=8,d='\n  <style>@import url("stylesheets/bx-recthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',h=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._installed=!1,this._selectedRects=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=i(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=d;var t=!0,e=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw n}}var l=!0,u=!1,c=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,c=m}finally{try{
l||null==f["return"]||f["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var t=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(e){
t._onShadowRootMouseDown(e)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedRects=this._getSelectedRects(),
0===this._selectedRects.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(t){t.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(t){
t.target.classList.contains("grippie")&&this._onGrippieMouseDown(t)},_onGrippieMouseDown:function(t){
var e=this;if(0===t.button){var i,a,s,u=t.target,d=u.parentElement,h=d[l.rect],f=u.getAttribute("data-corner"),v=h.getCTM().inverse(),m={
r1x:h.r1x,r2x:h.r2x,r3x:h.r3x,r4x:h.r4x},b=n(t.clientX,t.clientY).matrixTransform(v),g=n(b.x,b.y),p="normal",y=!1;
u.parentElement.append(u),this._draggedGrippie=u;var _=function(){var t=body.modKeys,e=t.ctrl,n=t.shift;
if(e===!0&&n===!1)p="normal";else if(e===!1&&n===!0)p="symmetric-1234";else if(e===!0&&n===!0)p="symmetric-1234";else{
var r,i;"1"===f&&(r=h.r1x,i=h.r1y),"2"===f&&(r=h.r2x,i=h.r2y),"3"===f&&(r=h.r3x,i=h.r3y),
"4"===f&&(r=h.r4x,i=h.r4y);var a=[];if(h.r1x===r&&h.r1y===i&&a.push("1"),h.r2x===r&&h.r2y===i&&a.push("2"),
h.r3x===r&&h.r3y===i&&a.push("3"),h.r4x===r&&h.r4y===i&&a.push("4"),1===a.length)p="normal";else{
p="symmetric-";var s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;p+=d}}catch(v){o=!0,l=v}finally{try{s||null==c["return"]||c["return"]();
}finally{if(o)throw l}}}}},x=function(){var t=0,e=g.x-b.x;g.y-b.y;"1"===f?t=r(m.r1x+e,0,o(h.width/2,h.height/2),c):"2"===f?t=r(m.r2x-e,0,o(h.width/2,h.height/2),c):"3"===f?t=r(m.r3x-e,0,o(h.width/2,h.height/2),c):"4"===f&&(t=r(m.r4x+e,0,o(h.width/2,h.height/2),c)),
"normal"===p?(h["r"+f+"x"]=t,h["r"+f+"y"]=t):(p.includes("1")&&(h.r1x=t,h.r1y=t),
p.includes("2")&&(h.r2x=t,h.r2y=t),p.includes("3")&&(h.r3x=t,h.r3y=t),p.includes("4")&&(h.r4x=t,
h.r4y=t))};window.addEventListener("mousemove",i=function(t){y||(y=!0,body.canvas.undoManager.checkpoint("Round corners")),
g=n(t.clientX,t.clientY).matrixTransform(v),x()}),window.addEventListener("mouseup",a=function(){
window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",a),
body.removeEventListener("modkeyschange",s),e._draggedGrippie=null}),body.addEventListener("modkeyschange",s=function(){
_(),x()}),_()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this._selectedRects[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[l.rect]=a,
this["#subhuds"].append(s)}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var t=!0,e=!1,r=void 0;try{for(var i=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){
var o=i.value,u=o[l.rect],c=a(u,this),d=u.x,h=u.y,f=(u.r1x,u.width),v=u.height,m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=o.children[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var _=p.value,x=_.getAttribute("data-corner"),w=void 0;"1"===x&&(w=n(d+u.r1x,h)),
"2"===x?w=n(d+f-u.r2x,h):"3"===x?w=n(d+f-u.r3x,h+v):"4"===x&&(w=n(d+u.r4x,h+v));var S=w.matrixTransform(c);
_.setAttribute("cx",S.x),_.setAttribute("cy",S.y)}}catch(C){b=!0,g=C}finally{try{
m||null==y["return"]||y["return"]()}finally{if(b)throw g}}}}catch(k){e=!0,r=k}finally{
try{t||null==s["return"]||s["return"]()}finally{if(e)throw r}}},_updateGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var c=void 0,d=a.children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.setAttribute("r",u/body.canvas.scale)}}catch(f){o=!0,l=f}finally{
try{s||null==d["return"]||d["return"]()}finally{if(o)throw l}}}}catch(v){e=!0,n=v;
}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_getSelectedRects:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"bx-rectpath"===o.getAttribute("is")?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedRects(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),f=e("g","bx-recthud",h);return{get default(){return f;
}}}),System.registerModule("elements/bx-rectpath",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=(System.get("utils/string").collapseWhitespace,
System.get("utils/path").comparePathData),i=Number.parseFloat,a=["data-bx-x","data-bx-y","data-bx-width","data-bx-height","data-bx-r1x","data-bx-r1y","data-bx-r2x","data-bx-r2y","data-bx-r3x","data-bx-r3y","data-bx-r4x","data-bx-r4y"],s=function(t,e,n,r,i,a,s,o,l,u,c,d){
i=i>n/2?n/2:i,s=s>n/2?n/2:s,c=c>n/2?n/2:c,l=l>n/2?n/2:l,a=a>r/2?r/2:a,o=o>r/2?r/2:o,
d=d>r/2?r/2:d,u=u>r/2?r/2:u;var h=[{type:"M",values:[t+i,e]},{type:"L",values:[t+n-s,e]
},{type:"A",values:[s,o,0,0,1,t+n,e+o]},{type:"L",values:[t+n,e+r-u]},{type:"A",values:[l,u,0,0,1,t+n-l,e+r]
},{type:"L",values:[t+c,e+r]},{type:"A",values:[c,d,0,0,1,t,e+r-d]},{type:"L",values:[t,e+a]
},{type:"A",values:[i,a,0,0,1,t+i,e]},{type:"Z"}];return h=h.filter(function(t){return"A"===t.type&&0===t.values[0]&&0===t.values[1]?!1:!0;
})},o=function(t){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){this._update()},
attributeChangedCallback:function(t){t.startsWith("data-bx-")&&this._update()},get x(){
return this.hasAttribute("data-bx-x")?i(this.getAttribute("data-bx-x")):0},set x(t){
0===t?this.removeAttribute("data-bx-x"):this.setAttribute("data-bx-x",t)},get y(){
return this.hasAttribute("data-bx-y")?i(this.getAttribute("data-bx-y")):0},set y(t){
0===t?this.removeAttribute("data-bx-y"):this.setAttribute("data-bx-y",t)},get width(){
return this.hasAttribute("data-bx-width")?i(this.getAttribute("data-bx-width")):0;
},set width(t){0===t?this.removeAttribute("data-bx-width"):this.setAttribute("data-bx-width",t);
},get height(){return this.hasAttribute("data-bx-height")?i(this.getAttribute("data-bx-height")):0;
},set height(t){0===t?this.removeAttribute("data-bx-height"):this.setAttribute("data-bx-height",t);
},get r1x(){return this.hasAttribute("data-bx-r1x")?i(this.getAttribute("data-bx-r1x")):0;
},set r1x(t){0===t?this.removeAttribute("data-bx-r1x"):this.setAttribute("data-bx-r1x",t);
},get r1y(){return this.hasAttribute("data-bx-r1y")?i(this.getAttribute("data-bx-r1y")):0;
},set r1y(t){0===t?this.removeAttribute("data-bx-r1y"):this.setAttribute("data-bx-r1y",t);
},get r2x(){return this.hasAttribute("data-bx-r2x")?i(this.getAttribute("data-bx-r2x")):0;
},set r2x(t){0===t?this.removeAttribute("data-bx-r2x"):this.setAttribute("data-bx-r2x",t);
},get r2y(){return this.hasAttribute("data-bx-r2y")?i(this.getAttribute("data-bx-r2y")):0;
},set r2y(t){0===t?this.removeAttribute("data-bx-r2y"):this.setAttribute("data-bx-r2y",t);
},get r3x(){return this.hasAttribute("data-bx-r3x")?i(this.getAttribute("data-bx-r3x")):0;
},set r3x(t){0===t?this.removeAttribute("data-bx-r3x"):this.setAttribute("data-bx-r3x",t);
},get r3y(){return this.hasAttribute("data-bx-r3y")?i(this.getAttribute("data-bx-r3y")):0;
},set r3y(t){0===t?this.removeAttribute("data-bx-r3y"):this.setAttribute("data-bx-r3y",t);
},get r4x(){return this.hasAttribute("data-bx-r4x")?i(this.getAttribute("data-bx-r4x")):0;
},set r4x(t){0===t?this.removeAttribute("data-bx-r4x"):this.setAttribute("data-bx-r4x",t);
},get r4y(){return this.hasAttribute("data-bx-r4y")?i(this.getAttribute("data-bx-r4y")):0;
},set r4y(t){0===t?this.removeAttribute("data-bx-r4y"):this.setAttribute("data-bx-r4y",t);
},toSVGPath:function(){var t=void 0!==arguments[0]?arguments[0]:!0,n=e("svg:path"),r=!0,i=!1,s=void 0;
try{for(var o=void 0,l=this.attributes[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value,c=u.name,d=u.value;"is"===c?t&&n.setAttribute("data-bx-is",d):a.includes(c)?t&&n.setAttribute(c,d):n.setAttribute(c,d);
}}catch(h){i=!0,s=h}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw s;
}}return n},toSVGRect:function(){var t=this.r1x,n=this.r1y,r=this.r1x===t&&this.r1y===n&&this.r2x===t&&this.r2y===n&&this.r3x===t&&this.r3y===n&&this.r4x===t&&this.r4y===n;
if(r){var i=e("svg:rect"),a=!0,s=!1,o=void 0;try{for(var l=void 0,u=this.attributes[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=c.name,h=c.value;if(d.startsWith("data-bx-"))"data-bx-x"===d?i.setAttribute("x",h):"data-bx-y"===d?i.setAttribute("y",h):"data-bx-width"===d?i.setAttribute("width",h):"data-bx-height"===d?i.setAttribute("height",h):"data-bx-r1x"===d?i.setAttribute("rx",h):"data-bx-r1y"===d&&i.setAttribute("ry",h);else{
if("d"===d)continue;if("is"===d)continue;i.setAttribute(d,h)}}}catch(f){s=!0,o=f}finally{
try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}return i}return null;
},_update:function(){var t=this,e=t.x,n=t.y,r=t.width,i=t.height,a=t.r1x,o=t.r1y,l=t.r2x,u=t.r2y,c=t.r3x,d=t.r3y,h=t.r4x,f=t.r4y,v=s(e,n,r,i,a,o,l,u,c,d,h,f);
this.setPathData(v)}},{fromSVGPath:function(t){var n=t.hasAttribute("data-bx-x")?i(t.getAttribute("data-bx-x")):0,a=t.hasAttribute("data-bx-y")?i(t.getAttribute("data-bx-y")):0,o=t.hasAttribute("data-bx-width")?i(t.getAttribute("data-bx-width")):0,l=t.hasAttribute("data-bx-height")?i(t.getAttribute("data-bx-height")):0,u=t.hasAttribute("data-bx-r1x")?i(t.getAttribute("data-bx-r1x")):0,c=t.hasAttribute("data-bx-r1y")?i(t.getAttribute("data-bx-r1y")):0,d=t.hasAttribute("data-bx-r2x")?i(t.getAttribute("data-bx-r2x")):0,h=t.hasAttribute("data-bx-r2y")?i(t.getAttribute("data-bx-r2y")):0,f=t.hasAttribute("data-bx-r3x")?i(t.getAttribute("data-bx-r3x")):0,v=t.hasAttribute("data-bx-r3y")?i(t.getAttribute("data-bx-r3y")):0,m=t.hasAttribute("data-bx-r4x")?i(t.getAttribute("data-bx-r4x")):0,b=t.hasAttribute("data-bx-r4y")?i(t.getAttribute("data-bx-r4y")):0,g=s(n,a,o,l,u,c,d,h,f,v,m,b);
if(r(g,t.getPathData())){var p=e("svg:path","bx-rectpath"),y=!0,_=!1,x=void 0;try{
for(var w=void 0,S=t.attributes[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var C=w.value,k=C.name,E=C.value;
"d"!==k&&"data-bx-is"!==k&&p.setAttribute(k,E)}}catch(A){_=!0,x=A}finally{try{y||null==S["return"]||S["return"]();
}finally{if(_)throw x}}return p}return null},fromSVGRect:function(t){var n=e("svg:path","bx-rectpath"),r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value,u=l.name,c=l.value;"x"===u?n.setAttribute("data-bx-x",c):"y"===u?n.setAttribute("data-bx-y",c):"width"===u?n.setAttribute("data-bx-width",c):"height"===u?n.setAttribute("data-bx-height",c):"rx"===u?(n.setAttribute("data-bx-r1x",c),
n.setAttribute("data-bx-r2x",c),n.setAttribute("data-bx-r3x",c),n.setAttribute("data-bx-r4x",c)):"ry"===u?(n.setAttribute("data-bx-r1y",c),
n.setAttribute("data-bx-r2y",c),n.setAttribute("data-bx-r3y",c),n.setAttribute("data-bx-r4y",c)):n.setAttribute(u,c);
}}catch(d){i=!0,a=d}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a;
}}return n}},t)}(SVGPathElement),l=n("path","bx-rectpath",o);return{get default(){
return l}}}),System.registerModule("elements/bx-recttool",[],function(){"use strict";
var t=System.get("utils/dom"),e=t.registerElement,n=t.createElement,r=t.createSVGMatrix,i=System.get("utils/event").isMouseMoveIntentional,a=Math,s=(a.abs,
a.min),o=function(t){function e(){$traceurRuntime.superConstructor(e).apply(this,arguments);
}return $traceurRuntime.createClass(e,{createdCallback:function(){var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._rectCursor=body.registerCursor("images/cursor-rect.png",-100,8,7),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(e){
return t._onMouseDown(e)})},_onDisabled:function(){body.unregisterCursor(this._rectCursor),
body.unregisterCursor(this._mouseDownRectCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(t){
var e,n,r=this;window.addEventListener("mousemove",e=function(a){i(t,a)!==!1&&(window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",n),r._onIntentionalDragStart(t))}),window.addEventListener("mouseup",n=function(){
window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n);
})},_onIntentionalDragStart:function(t){var e,i,a,o,l,u,c,d=this,h=body.canvas.currentContainer||body.canvas.currentArtboard,f=n("svg:path","bx-rectpath");
f.style.fill="#d8d8d8",body.canvas.undoManager.checkpoint("Draw Rectangle"),h.append(f),
body.canvas.selectedElements=[f],this._mouseDownRectCursor=body.registerCursor("images/cursor-rect.png",900,8,7);
var v=f.getScreenCTM().inverse(),m=r(f.transform.baseVal.consolidate().matrix);m.multiplySelf(v),
f.setAttribute("transform",m.toString()),window.addEventListener("mousemove",e=function(e){
var n=body.modKeys,r=n.ctrl,i=n.shift;if(i===!1){o=e.clientX-t.clientX,l=e.clientY-t.clientY,
0===o&&(o=1),0===l&&(l=1);var a=!1,d=!1;0>o&&(a=!0,o=-o),0>l&&(d=!0,l=-l),r&&(o=s(o,l),
l=o),u=a?t.clientX-o:t.clientX,c=d?t.clientY-l:t.clientY}else if(i===!0){o=2*(e.clientX-t.clientX),
l=2*(e.clientY-t.clientY),0===o&&(o=1),0===l&&(l=1);var h=!1,v=!1;0>o&&(h=!0,o=-o),
0>l&&(v=!0,l=-l),r&&(o=s(o,l),l=o),u=h?t.clientX-o/2:t.clientX-o/2,c=v?t.clientY-l/2:t.clientY-l/2;
}f.setAttribute("data-bx-width",o),f.setAttribute("data-bx-height",l),f.setAttribute("data-bx-x",u),
f.setAttribute("data-bx-y",c)}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",i),body.removeEventListener("toolchange",a),
body.unregisterCursor(d._mouseDownRectCursor)}),body.addEventListener("toolchange",a=function(t){
window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",i),
body.removeEventListener("toolchange",a),body.unregisterCursor(d._mouseDownRectCursor);
})}},{},t)}(HTMLElement),l=e("bx-recttool",o);return{get default(){return l}}}),System.registerModule("elements/bx-ringhud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=(t.createElement,
t.createSVGPoint),r=System.get("utils/math").normalize,i=System.get("utils/time").throttle,a=System.get("utils/transform").getTransformToElement,s=System.get("classes/enum")["default"],o=Math,l=o.min,u=o.max,c=new s("ring"),d=6,h=8,f='\n  <style>@import url("stylesheets/bx-ringhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',v=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=i(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=f;var t=!0,e=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(e)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,c=m}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var t=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(e){
t._onShadowRootMouseDown(e)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedRings=this._getSelectedRings(),
0===this._selectedRings.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(t){t.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(t){
t.target.classList.contains("grippie")&&this._onGrippieMouseDown(t)},_onGrippieMouseDown:function(t){
var e=this;if(0===t.button){var i,a,s,o=t.target,d=o.parentElement,f=d[c.ring],v=o.getAttribute("data-axis"),m=f.getCTM().inverse(),b={
r1x:f.r1x,r1y:f.r1y,r2x:f.r2x,r2y:f.r2y},g=n(t.clientX,t.clientY).matrixTransform(m),p=n(g.x,g.y),y="normal",_=!1;
o.parentElement.append(o),this._draggedGrippie=o;var x=function(){var t=body.modKeys,e=t.ctrl,n=t.shift;
e===!0&&n===!1?y="normal":e===!1&&n===!0?y="symmetric":e===!0&&n===!0?y="double-symmetric":("r1x"===v&&f.r1x===f.r1y?y="symmetric":"r1y"===v&&f.r1x===f.r1y&&(y="symmetric"),
"r2x"===v&&f.r2x===f.r2y?y="symmetric":"r2y"===v&&f.r2x===f.r2y&&(y="symmetric"));
},w=function(){var t=p.x-g.x,e=p.y-g.y;if("r1x"===v){if("normal"===y){var n=1,i=f.r2x-1,a=r(b.r1x+t,n,i,h);
f.setAttribute("data-bx-r1x",a)}else if("symmetric"===y){var s=1,o=l(f.r2x,f.r2y)-1,c=r(b.r1x+t,s,o,h);
f.setAttribute("data-bx-r1x",c),f.setAttribute("data-bx-r1y",c)}else if("double-symmetric"===y){
var d=1,m=1/0,_=f.r2x-f.r1x,x=r(b.r1x+t,d,m,h),w=x+_;f.setAttribute("data-bx-r1x",x),
f.setAttribute("data-bx-r1y",x),f.setAttribute("data-bx-r2x",w),f.setAttribute("data-bx-r2y",w);
}}else if("r1y"===v){if("normal"===y){var S=1,C=f.r2y-1,k=r(b.r1y+e,S,C,h);f.setAttribute("data-bx-r1y",k);
}else if("symmetric"===y){var E=1,A=l(f.r2x,f.r2y)-1,T=r(b.r1y+e,E,A,h);f.setAttribute("data-bx-r1x",T),
f.setAttribute("data-bx-r1y",T)}else if("double-symmetric"===y){var L=1,M=1/0,j=f.r2y-f.r1y,R=r(b.r1y+e,L,M,h),O=R+j;
f.setAttribute("data-bx-r1x",R),f.setAttribute("data-bx-r1y",R),f.setAttribute("data-bx-r2x",O),
f.setAttribute("data-bx-r2y",O)}}else if("r2x"===v){if("normal"===y){var P=f.r1x+1,I=1/0,D=r(b.r2x+t,P,I,h);
f.setAttribute("data-bx-r2x",D)}else if("symmetric"===y){var N=u(f.r1x,f.r1y)+1,V=1/0,B=r(b.r2x+t,N,V,h);
f.setAttribute("data-bx-r2x",B),f.setAttribute("data-bx-r2y",B)}else if("double-symmetric"===y){
var U=f.r2x-f.r1x,z=U+1,G=1/0,H=r(b.r2x+t,z,G,h),F=H-U;f.setAttribute("data-bx-r1x",F),
f.setAttribute("data-bx-r1y",F),f.setAttribute("data-bx-r2x",H),f.setAttribute("data-bx-r2y",H);
}}else if("r2y"===v)if("normal"===y){var q=f.r1y+1,$=1/0,W=r(b.r2y+e,q,$,h);f.setAttribute("data-bx-r2y",W);
}else if("symmetric"===y){var Y=u(f.r1x,f.r1y)+1,X=1/0,Z=r(b.r2y+e,Y,X,h);f.setAttribute("data-bx-r2x",Z),
f.setAttribute("data-bx-r2y",Z)}else if("double-symmetric"===y){var K=f.r2y-f.r1y,J=K+1,Q=r(b.r2y+e,J,V,h),tt=Q-K;
f.setAttribute("data-bx-r1x",tt),f.setAttribute("data-bx-r1y",tt),f.setAttribute("data-bx-r2x",Q),
f.setAttribute("data-bx-r2y",Q)}};window.addEventListener("mousemove",i=function(t){
_||(body.canvas.undoManager.checkpoint("Ring radius"),_=!0),p=n(t.clientX,t.clientY).matrixTransform(m),
w()}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",i),
window.removeEventListener("mouseup",a),body.removeEventListener("modkeyschange",s),
e._draggedGrippie=null}),body.addEventListener("modkeyschange",s=function(){x(),w();
}),x()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this._selectedRings[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[c.ring]=a,
this["#subhuds"].append(s)}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var t=!0,e=!1,r=void 0;try{for(var i=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){
var o=i.value,l=o[c.ring],u=a(l,this),d=!0,h=!1,f=void 0;try{for(var v=void 0,m=o.children[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){
var b=v.value,g=b.getAttribute("data-axis");if("r1x"===g){var p=n(l.cx+l.r1x,l.cy).matrixTransform(u);
b.setAttribute("cx",p.x),b.setAttribute("cy",p.y)}else if("r1y"===g){var y=n(l.cx,l.cy+l.r1y).matrixTransform(u);
b.setAttribute("cx",y.x),b.setAttribute("cy",y.y)}else if("r2x"===g){var _=n(l.cx+l.r2x,l.cy).matrixTransform(u);
b.setAttribute("cx",_.x),b.setAttribute("cy",_.y)}else if("r2y"===g){var x=n(l.cx,l.cy+l.r2y).matrixTransform(u);
b.setAttribute("cx",x.x),b.setAttribute("cy",x.y)}}}catch(w){h=!0,f=w}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw f}}}}catch(S){e=!0,r=S}finally{
try{t||null==s["return"]||s["return"]()}finally{if(e)throw r}}},_updateGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var h=u.value;h.setAttribute("r",d/body.canvas.scale)}}catch(f){o=!0,l=f}finally{
try{s||null==c["return"]||c["return"]()}finally{if(o)throw l}}}}catch(v){e=!0,n=v;
}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_getSelectedRings:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"bx-ringpath"===o.getAttribute("is")?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedRings(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),m=e("g","bx-ringhud",v);return{get default(){return m;
}}}),System.registerModule("elements/bx-ringpath",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("utils/string").collapseWhitespace,i=Number.parseFloat,a=["data-bx-cx","data-bx-cy","data-bx-r1x","data-bx-r1y","data-bx-r2x","data-bx-r2y"],s=function(t,e,n,i,a,s){
var o="\n    M "+t+" "+e+"\n    m -"+a+" 0\n    a "+a+" "+s+" 0 1 0 "+2*a+" 0\n    a "+a+" "+s+" 0 1 0 -"+2*a+" 0\n    z\n    M "+t+" "+e+"\n    m -"+n+" 0\n    a "+n+" "+i+" 0 0 1 "+2*n+" 0\n    a "+n+" "+i+" 0 0 1 -"+2*n+" 0\n    z";
return r(o)},o=function(t){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){this._update()},
attributeChangedCallback:function(t){t.startsWith("data-bx-")&&this._update()},get cx(){
return this.hasAttribute("data-bx-cx")?i(this.getAttribute("data-bx-cx")):0},set cx(t){
this.setAttribute("data-bx-cx",t)},get cy(){return this.hasAttribute("data-bx-cy")?i(this.getAttribute("data-bx-cy")):0;
},set cy(t){this.setAttribute("data-bx-cy",t)},get r1x(){return this.hasAttribute("data-bx-r1x")?i(this.getAttribute("data-bx-r1x")):0;
},set r1x(t){this.setAttribute("data-bx-r1x",t)},get r1y(){return this.hasAttribute("data-bx-r1y")?i(this.getAttribute("data-bx-r1y")):0;
},set r1y(t){this.setAttribute("data-bx-r1y",t)},get r2x(){return this.hasAttribute("data-bx-r2x")?i(this.getAttribute("data-bx-r2x")):0;
},set r2x(t){this.setAttribute("data-bx-r2x",t)},get r2y(){return this.hasAttribute("data-bx-r2y")?i(this.getAttribute("data-bx-r2y")):0;
},set r2y(t){this.setAttribute("data-bx-r2y",t)},toSVGPath:function(){var t=void 0!==arguments[0]?arguments[0]:!0,n=e("svg:path"),r=!0,i=!1,s=void 0;
try{for(var o=void 0,l=this.attributes[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value,c=u.name,d=u.value;"is"===c?t&&n.setAttribute("data-bx-is",d):a.includes(c)?t&&n.setAttribute(c,d):n.setAttribute(c,d);
}}catch(h){i=!0,s=h}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw s;
}}return n},_update:function(){var t=this,e=t.cx,n=t.cy,r=t.r1x,i=t.r1y,a=t.r2x,o=t.r2y,l=s(e,n,r,i,a,o);
this.setAttribute("d",l)}},{fromSVGPath:function(t){var n=t.hasAttribute("data-bx-cx")?i(t.getAttribute("data-bx-cx")):0,r=t.hasAttribute("data-bx-cy")?i(t.getAttribute("data-bx-cy")):0,a=t.hasAttribute("data-bx-r1x")?i(t.getAttribute("data-bx-r1x")):0,o=t.hasAttribute("data-bx-r1y")?i(t.getAttribute("data-bx-r1y")):0,l=t.hasAttribute("data-bx-r2x")?i(t.getAttribute("data-bx-r2x")):0,u=t.hasAttribute("data-bx-r2y")?i(t.getAttribute("data-bx-r2y")):0,c=s(n,r,a,o,l,u);
if(c!==t.getAttribute("d"))return null;var d=e("svg:path","bx-ringpath"),h=!0,f=!1,v=void 0;
try{for(var m=void 0,b=t.attributes[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value,p=g.name,y=g.value;"d"!==p&&"data-bx-is"!==p&&d.setAttribute(p,y)}}catch(_){
f=!0,v=_}finally{try{h||null==b["return"]||b["return"]()}finally{if(f)throw v}}return d;
}},t)}(SVGPathElement),l=n("path","bx-ringpath",o);return{get default(){return l}
}}),System.registerModule("elements/bx-ringtool",[],function(){"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=t.createElement,r=t.createSVGMatrix,i=System.get("utils/event").isMouseMoveIntentional,a=Math,s=a.abs,o=a.min,l=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;body.canvas.enableHud("outlines-hud"),this._ringCursor=body.registerCursor("images/cursor-ellipse.png",-100,8,7),
body.canvas.addEventListener("mousedown",this._mouseDownListener=function(e){t._onMouseDown(e);
})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.unregisterCursor(this._ringCursor),
body.unregisterCursor(this._mouseDownRingCursor),body.canvas.removeEventListener("mousedown",this._mouseDownListener);
},_onMouseDown:function(t){var e,n,r=this;window.addEventListener("mousemove",e=function(a){
i(t,a)!==!1&&(window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n),
r._onIntentionalDragStart(t))}),window.addEventListener("mouseup",n=function(t){window.removeEventListener("mousemove",e),
body.canvas.removeEventListener("mouseend",n)})},_onIntentionalDragStart:function(t){
var e,i,a,l=this,u=body.canvas.currentContainer||body.canvas.currentArtboard,c=n("svg:path","bx-ringpath");
c.style.fill="#d8d8d8",body.canvas.undoManager.checkpoint("Draw Ring Shape"),u.append(c),
body.canvas.selectedElements=[c],this._mouseDownRingCursor=body.registerCursor("images/cursor-ellipse.png",900,8,7);
var d=c.getScreenCTM().inverse(),h=r(c.transform.baseVal.consolidate().matrix);h.multiplySelf(d),
c.setAttribute("transform",h.toString()),window.addEventListener("mousemove",e=function(e){
var n,r,i,a,l,u,d=body.modKeys,h=d.ctrl,f=d.shift;if(f===!1){i=(e.clientX-t.clientX)/2,
a=(e.clientY-t.clientY)/2;var v=!1,m=!1;0>i&&(v=!0,i=s(i)),0>a&&(m=!0,a=s(a)),h&&(i=o(i,a),
a=i),l=v?t.clientX-i:t.clientX+i,u=m?t.clientY-a:t.clientY+a}else if(f===!0&&(i=e.clientX-t.clientX,
a=e.clientY-t.clientY,0>i?(i=s(i),l=e.clientX+i):l=e.clientX-i,0>a?(a=s(a),u=e.clientY+a):u=e.clientY-a,
h)){var b=o(i,a);i=a=b}n=.6*i,r=.6*a,c.setAttribute("data-bx-cx",l),c.setAttribute("data-bx-cy",u),
c.setAttribute("data-bx-r1x",n),c.setAttribute("data-bx-r1y",r),c.setAttribute("data-bx-r2x",i),
c.setAttribute("data-bx-r2y",a)}),window.addEventListener("mouseup",i=function(){
window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",i),
body.removeEventListener("toolchange",a),body.unregisterCursor(l._mouseDownRingCursor);
}),body.addEventListener("toolchange",a=function(t){window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",i),body.removeEventListener("toolchange",a),
body.unregisterCursor(l._mouseDownRingCursor)})}},{},t)}(HTMLElement),u=e("bx-ringtool",l);
return{get default(){return u}}}),System.registerModule("elements/bx-rubberbandhud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=t.createSVGPoint,r=t.createSVGRect,i=System.get("utils/math").round,a='\n  <style>@import url("stylesheets/bx-rubberbandhud.css");</style>\n  <rect id="rect" x="0" y="0" width="0" height="0"></rect>\n',s=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=a;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}},get enabled(){return this.hasAttribute("enabled")},set enabled(t){
t?this.setAttribute("enabled",""):this.removeAttribute("enabled")},get x(){return i(this["#rect"].x.baseVal.value,3);
},set x(t){this["#rect"].x.baseVal.value=t},get y(){return i(this["#rect"].y.baseVal.value,3);
},set y(t){this["#rect"].y.baseVal.value=t},get width(){return i(this["#rect"].width.baseVal.value,3);
},set width(t){this["#rect"].width.baseVal.value=t},get height(){return i(this["#rect"].height.baseVal.value,3);
},set height(t){this["#rect"].height.baseVal.value=t},grabSelection:function(t,e,i){
var a,s,o=this,l=this.getScreenCTM(),u=l.inverse(),c=n(t,e),d=c.matrixTransform(u);
this["#rect"].style.visibility="visible",this["#rect"].style.vectorEffect="non-scaling-stroke";
var h=body.registerCursor("default",900);window.addEventListener("mousemove",a=function(t){
var e,r,i=n(t.clientX,t.clientY),a=i.matrixTransform(u),s=a.x-d.x,l=a.y-d.y;0>s?(s=-s,
e=d.x-s):e=d.x,0>l?(l=-l,r=d.y-l):r=d.y,o.x=e,o.y=r,o.width=s,o.height=l}),window.addEventListener("mouseup",s=function(t){
window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",s),
body.unregisterCursor(h),o["#rect"].style.visibility="hidden",o["#rect"].style.vectorEffect=null;
var e=r(o.x,o.y,o.width,o.height);i(e),o.x=0,o.y=0,o.width=0,o.height=0})}},{},t);
}(SVGGElement),o=e("g","bx-rubberbandhud",s);return{get default(){return o}}}),System.registerModule("elements/bx-satlightslider",[],function(){
"use strict";var t=System.get("classes/color")["default"],e=System.get("utils/color"),n=e.hslToHsv,r=e.hsvToHsl,i=e.colorToString,a=System.get("utils/dom").registerElement,s=System.get("utils/math").normalize,o=Number.parseFloat,l=!1,u='\n  <style>\n    @import url("stylesheets/bx-satlightslider.css");\n  </style>\n\n  <main>\n    <canvas id="canvas" width="800" height="800"></canvas>\n    <div id="marker"></div>\n  </main>\n',c=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=u;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
l||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("mousedown",function(e){
return t._onMouseDown(e)})},attributeChangedCallback:function(t){"hue"===t?this._onHueAttributeChange():"saturation"===t?this._onSaturationAttributeChange():"lightness"===t&&this._onLightnessAttributeChange();
},get hue(){return this.hasAttribute("hue")?o(this.getAttribute("hue")):0},set hue(t){
this.setAttribute("hue",t)},get saturation(){return this.hasAttribute("saturation")?o(this.getAttribute("saturation")):0;
},set saturation(t){this.setAttribute("saturation",t)},get lightness(){return this.hasAttribute("lightness")?o(this.getAttribute("lightness")):0;
},set lightness(t){this.setAttribute("lightness",t)},_onHueAttributeChange:function(){
this._isDraggingMarker||this._updateCanvas()},_onLightnessAttributeChange:function(){
this._updateMarker()},_onSaturationAttributeChange:function(){this._updateMarker();
},_onMouseDown:function(t){var e,n,r,i,a=this,o=this["#canvas"].getBoundingClientRect(),l=(t.clientX-o.left)/this.clientWidth*100,u=(t.clientY-o.top)/this.clientHeight*100;
this.dispatchEvent(new CustomEvent("markerdragstart")),this._isDraggingMarker=!0,
this._onMarkerDrag(l,u),window.addEventListener("mousemove",r=function(t){(t.clientX!==e||t.clientY!==n)&&(e=t.clientX,
n=t.clientY,l=(t.clientX-o.left)/a.clientWidth*100,u=(t.clientY-o.top)/a.clientHeight*100,
l=s(l,0,100,2),u=s(u,0,100,2),a._onMarkerDrag(l,u))}),window.addEventListener("mouseup",i=function(){
window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",i),
a._isDraggingMarker=!1,a.dispatchEvent(new CustomEvent("markerdragend"))})},_onMarkerDrag:function(t,e){
var n,a;this["#marker"].style.left=t+"%",this["#marker"].style.top=e+"%";var s=r(this.hue,t,100-e),o=(n=s[Symbol.iterator](),
(a=n.next()).done?void 0:a.value),u=(a=n.next()).done?void 0:a.value,c=(a=n.next()).done?void 0:a.value;
if((this.hue!==o||this.saturation!==u||this.lightness!==c)&&(this.hue=o,this.saturation=u,
this.lightness=c,this.dispatchEvent(new CustomEvent("markerdrag")),l)){var d=i({h:o,
s:u,l:c},"hex");console.log("%c     ","background: "+d,'color = "'+d+'"')}},_updateCanvas:function(){
var e=this["#canvas"].width,n=this["#canvas"].height,r=this["#canvas"].getContext("2d");
r.clearRect(0,0,e,n);var i=new t(this.hue,100,50,1,"hsla");r.fillStyle=i.toString("hex"),
r.fillRect(0,0,e,n);var a=r.createLinearGradient(0,0,e,0);a.addColorStop(0,"rgba(255,255,255,1)"),
a.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=a,r.fillRect(0,0,e,n);var s=r.createLinearGradient(0,0,0,n);
s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=s,
r.fillRect(0,0,e,n)},_updateMarker:function(){var t,e,r=n(this.hue,this.saturation,this.lightness),i=(t=r[Symbol.iterator](),
(e=t.next()).done?void 0:e.value,(e=t.next()).done?void 0:e.value),a=(e=t.next()).done?void 0:e.value;
this["#marker"].style.left=i/100*100+"%",this["#marker"].style.top=100-a/100*100+"%";
}},{},e)}(HTMLElement),d=a("bx-satlightslider",c);return{get default(){return d}};
}),System.registerModule("elements/bx-select",[],function(){"use strict";System.get("elements/bx-selectitem");
var t=System.get("utils/dom").registerElement,e=System.get("utils/time").sleep,n=System.get("classes/shortcut")["default"],r=Number.parseFloat,i=(Object.values,
'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-select.css");\n  </style>\n\n  <div id="button">\n    <img id="thumbnail"></img>\n    <div id="label">None</div>\n\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use xlink:href="images/icons.svg#select-arrows" width="100" height="100"></use>\n    </svg>\n  </div>\n\n  <div id="overlay"></div>\n\n  <div id="popup" style="visibility: hidden"">\n    <content></content>\n  </div>\n'),a=function(t){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this.addEventListener("focus",function(e){
return t._onFocus()}),this.addEventListener("blur",function(e){return t._onBlur();
}),this.addEventListener("keydown",function(e){return t._onKeyDown(e)}),this.addEventListener("thumbnailchange",function(e){
return t._onItemThumbnailChange(e)}),this["#overlay"].addEventListener("mousedown",function(e){
return t._onOverlayMouseDown(e)}),this["#button"].addEventListener("click",function(e){
return t._onButtonClick(e)}),this["#popup"].addEventListener("click",function(e){
return t._onPopupElementClick(e)}),this["#popup"].addEventListener("mouseover",function(e){
return t._onPopupMouseOver(e)}),this["#popup"].addEventListener("mouseout",function(e){
return t._onPopupMouseOut(e)}),this["#popup"].addEventListener("mousewheel",function(e){
return t._onPopupMouseWheel(e)}),this["#popup"].addEventListener("scroll",function(e){
return t._onPopupScroll(e)})},attributeChangedCallback:function(t){"value"===t?this._onValueAttributeChange():"disabled"===t&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):null},
set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)},
get mixed(){return this.hasAttribute("mixed")},set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){var t=this,e=$traceurRuntime.spread(this.querySelectorAll("bx-selectitem")),n=null===this.value?null:e.find(function(e){
return e.getAttribute("value")===t.value});if(n){n.setAttribute("checked",""),this["#label"].textContent=n.getAttribute("label"),
n.thumbnail?(this["#thumbnail"].style.display="block",this["#thumbnail"].src=n.thumbnail):this["#thumbnail"].style.display="none";
var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;l!==n&&l.removeAttribute("checked")}}catch(u){i=!0,a=u}finally{try{
r||null==o["return"]||o["return"]()}finally{if(i)throw a}}}else{this["#label"].textContent="None",
this["#thumbnail"].style.display="none";var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=e[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;m.removeAttribute("checked")}}catch(b){d=!0,h=b}finally{try{c||null==v["return"]||v["return"]();
}finally{if(d)throw h}}}},_onDisabledAttributeChange:function(){this.tabIndex=this.disabled?-1:0;
},_onFocus:function(){var t=this,e=this._getItemWithValue(this.value)||this.querySelector("bx-selectitem");
if(!e)return void this.blur();this["#popup"].style.pointerEvents="all",this["#popup"].style.visibility="visible",
this["#popup"].style.height="auto",this["#popup"].style.left="0px",this["#popup"].style.top="0px",
this["#popup"].style.overflow=null,this["#popup"].scrollTop=0,this["#overlay"].style.display="block";
var n=e.getLabelBoundingClientRect(),i=this["#label"].getBoundingClientRect(),a=this["#button"].getBoundingClientRect(),s=i.left-n.left,o=i.top-n.top,l=a.right-s+3;
this["#popup"].style.left=s+"px",this["#popup"].style.top=o+"px",this["#popup"].style.width=l+"px";
var u=this["#popup"].getBoundingClientRect();if(u.top<0){r(this["#popup"].style.top);
this["#popup"].style.height=u.height+u.top-5+"px",this["#popup"].style.top="5px",
this["#popup"].scrollTop=9999}u=this["#popup"].getBoundingClientRect();var c=!1;if(u.bottom+5>window.innerHeight){
c=!0;var d=u.bottom-window.innerHeight;this["#popup"].style.height=u.height-d-5+"px";
}e.disabled===!1&&this._highlightItem(e),window.addEventListener("resize",this._windowResizeListener=function(){
return t.blur()})},_onBlur:function(){this["#overlay"].style.display="none",this["#popup"].style.visibility="hidden",
window.removeEventListener("resize",this._windowResizeListener)},_onKeyDown:function(t){
var e=n.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),this._highlightPreviousItem()):e.matches("ArrowDown")?(t.preventDefault(),
this._highlightNextItem()):e.matches("Control","ArrowUp")?(t.preventDefault(),this._highlightFirstItem()):e.matches("Control","ArrowDown")?(t.preventDefault(),
this._highlightLastItem()):e.matches("Enter")&&(t.preventDefault(),this._selectHighlightedItem());
},_onItemThumbnailChange:function(t){var e=t.target;e.value===this.value&&(e.thumbnail?(this["#thumbnail"].src=e.thumbnail,
this["#thumbnail"].style.display="block"):this["#thumbnail"].style.display="none");
},_onButtonClick:function(t){"visible"===this["#popup"].style.visibility?this.blur():this.focus();
},_onOverlayMouseDown:function(t){t.preventDefault(),this.blur()},_onPopupElementClick:function(t){
"bx-selectitem"==t.target.localName&&0===t.button&&this._onSelectItemClick(t.target);
},_onSelectItemClick:function(t){var n;return $traceurRuntime.asyncWrap(function(r){
for(;;)switch(r.state){case 0:r.state=t.disabled===!1?5:-2;break;case 5:this["#popup"].style.pointerEvents="none",
t.highlighted=!t.highlighted,r.state=6;break;case 6:return void Promise.resolve(e(100)).then(r.createCallback(2),r.errback);
case 2:t.highlighted=!t.highlighted,r.state=8;break;case 8:return void Promise.resolve(e(100)).then(r.createCallback(4),r.errback);
case 4:n=t.value!==this.value,this.value=t.value,this.blur(),(n||this.mixed)&&this.dispatchEvent(new CustomEvent("change")),
r.state=-2;break;default:return r.end()}},this)},_onPopupMouseOver:function(t){"bx-selectitem"===t.target.localName&&this._onSelectItemMouseEnter(t.target);
},_onPopupMouseOut:function(t){t.toElement!==this&&this._highlightItem(null)},_onPopupMouseWheel:function(t){
t.preventDefault(),this._scroll(t.deltaY)},_onPopupScroll:function(t){t.stopImmediatePropagation(),
t.preventDefault()},_onSelectItemMouseEnter:function(t){t.disabled===!1&&this._highlightItem(t);
},_scroll:function(t){var e=this["#popup"],n=e.scrollTop+e.offsetHeight<=e.scrollHeight,i=e.scrollTop>0;
if((!(0>t)||i)&&(!(t>0)||n)){var a=r(e.style.top),s=r(e.style.height);if(t>0)if(a-t>5){
s+t+10>window.innerHeight&&(t=window.innerHeight-s-10),s+t>e.scrollHeight&&(t=e.scrollHeight-s,
e.style.overflow="hidden");var o=s+t,l=a-t;e.style.height=o+"px",e.style.top=l+"px",
e.scrollTop=0}else if(s+t+10>window.innerHeight){var u=window.innerHeight-10,c=u-s;
e.style.top="5px",e.style.height=u+"px",e.scrollTop+=t-c}else e.scrollTop+=t;else if(0>t){
var d=window.innerHeight-s-a;if(d>5)if(window.innerHeight-s+t-10<0){var h=window.innerHeight-10,f=h-s;
e.style.height=h+"px",e.scrollTop+=t+f}else if(s-t>e.scrollHeight)e.style.overflow="hidden",
e.style.height=e.scrollHeight+"px";else{var v=s-t;e.style.height=v+"px"}else e.scrollTop+=t;
}}},_highlightItem:function(t){if(null===t)this._highlightedItem&&(this._highlightedItem.highlighted=!1);else{
this._highlightedItem&&this._highlightedItem!==t&&(this._highlightedItem.highlighted=!1,
this._highlightedItem=null),t.highlighted=!0,this._highlightedItem=t;var e=(t.offsetTop,
this["#popup"].clientHeight,t.clientHeight,t.getBoundingClientRect()),n=this["#popup"].getBoundingClientRect();
if(e.bottom>n.bottom){var r=e.bottom-n.bottom;this._scroll(r)}else if(e.top<n.top){
var i=e.top-n.top;this._scroll(i)}}},_highlightPreviousItem:function(){for(var t=this.querySelectorAll("bx-selectitem:not([disabled])"),e=null,n=0;n<t.length;n+=1){
var r=t[n];if(r.highlighted){e=n;break}}if(0!==e)if(null===e){var i=t[t.length-1];
this._highlightItem(i)}else{var a=t[e-1];this._highlightItem(a)}},_highlightNextItem:function(){
for(var t=this.querySelectorAll("bx-selectitem:not([disabled])"),e=null,n=0;n<t.length;n+=1){
var r=t[n];if(r.highlighted){e=n;break}}if(e!==t.length-1)if(null===e){var i=t[0];
this._highlightItem(i)}else{var a=t[e+1];this._highlightItem(a)}},_highlightFirstItem:function(){
var t=this.querySelector("bx-selectitem:not([disabled])");t&&this._highlightItem(t);
},_highlightLastItem:function(){var t=this.querySelectorAll("bx-selectitem:not([disabled])");
if(t.length>0){var e=t[t.length-1];this._highlightItem(e)}},_selectHighlightedItem:function(){
var t=this.querySelector("bx-selectitem[highlighted]");t&&(this.value=t.value),this.blur(),
this.dispatchEvent(new CustomEvent("change"))},_getItemWithValue:function(t){var e=null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=this.querySelectorAll("bx-selectitem")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(o.value===t){e=o;break}}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return e}},{},t)}(HTMLElement),s=t("bx-select",a);return{get default(){
return s}}}),System.registerModule("elements/bx-selectedtextrangehud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.createSVGMatrix,r=t.closest,i=t.registerElement,a=(System.get("utils/rect").combineRects,
System.get("utils/text").getRangeOffsetRelativeToElement),s=System.get("utils/time").throttle,o=System.get("utils/transform").getTransformToElement,l='\n  <style>@import url("stylesheets/bx-selectedtextrangehud.css");</style>\n  <line id="caret-line"></line>\n  <g id="selection-rects"></g>\n',u=function(t){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){this._update200Th=s(this._update,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=l;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._update200Th()})},_onDisabled:function(){body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedTextRangeChange:function(){this._update()},_update:function(){this._updateCaretLine(),
this._udpateSelectionRects()},_updateCaretLine:function(){var t=body.canvas.selectedTextRange;
if(t){var e=r(t.startContainer,"text"),i=e.getNumberOfChars(),s="backward"===t.direction?"end":"start",l=a(t,e,s);
if(0===l){var u=e.getExtentOfChar(l),c=e.getStartPositionOfChar(l),d=e.getSubStringLength(l,1),h=u.height,f=e.getRotationOfChar(l),v=n();
v.multiplySelf(o(e,this)),v.rotateSelf(f,c.x+d/2,c.y),this["#caret-line"].setAttribute("x1",c.x),
this["#caret-line"].setAttribute("y1",u.y),this["#caret-line"].setAttribute("x2",c.x),
this["#caret-line"].setAttribute("y2",u.y+h),this["#caret-line"].setAttribute("transform",v.toString()),
this["#caret-line"].style.visibility="visible"}else if(l>0&&i>=l){var m=e.getExtentOfChar(l-1),b=e.getEndPositionOfChar(l-1),g=e.getSubStringLength(l-1,1),p=m.height,y=e.getRotationOfChar(l-1),_=n();
_.multiplySelf(o(e,this)),_.rotateSelf(y,b.x-g/2,b.y),this["#caret-line"].setAttribute("x1",b.x),
this["#caret-line"].setAttribute("y1",m.y),this["#caret-line"].setAttribute("x2",b.x),
this["#caret-line"].setAttribute("y2",m.y+p),this["#caret-line"].setAttribute("transform",_.toString()),
this["#caret-line"].style.visibility="visible"}else l>i&&(this["#caret-line"].style.visibility="hidden");
}else this["#caret-line"].style.visibility="hidden"},_udpateSelectionRects:function(){
var t=body.canvas.selectedTextRange;if(this["#selection-rects"].innerHTML="",t&&t.collapsed===!1)for(var i=r(t.startContainer,"text"),s=a(t,i,"start"),l=a(t,i,"end"),u=i.getNumberOfChars(),c=s;l>c&&u>c;c+=1){
var d=i.getExtentOfChar(c),h=i.getStartPositionOfChar(c),f=(i.getEndPositionOfChar(c),
i.getSubStringLength(c,1)),v=d.height,m=i.getRotationOfChar(c),b=n();b.multiplySelf(o(i,this)),
b.rotateSelf(m,h.x+f/2,h.y);var g=e("svg:rect");g.setAttribute("x",h.x),g.setAttribute("y",d.y),
g.setAttribute("width",f),g.setAttribute("height",v),g.setAttribute("transform",b.toString()),
this["#selection-rects"].append(g)}}},{},t)}(SVGGElement),c=i("g","bx-selectedtextrangehud",u);
return{get default(){return c}}}),System.registerModule("elements/bx-selectitem",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e='\n  <style>@import url("stylesheets/bx-selectitem.css");</style>\n\n  <main>\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use id="icon-use" width="100" height="100"></use>\n    </svg>\n\n    <img id="thumbnail"></img>\n    <div id="label"></div>\n  </main>\n',n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=e;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"label"===t?this._onLabelAttributeChange():"checked"===t&&this._onCheckedAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(t){
this.setAttribute("value",t)},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(t){this.setAttribute("label",t)},get checked(){return this.hasAttribute("checked");
},set checked(t){t===!0?this.setAttribute("checked",""):this.removeAttribute("checked");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(t){null===t?this["#thumbnail"].removeAttribute("src"):this["#thumbnail"].setAttribute("src",t),
this.dispatchEvent(new CustomEvent("thumbnailchange",{bubbles:!0}))},getLabelBoundingClientRect:function(){
return this["#label"].getBoundingClientRect()},_onLabelAttributeChange:function(){
this["#label"].textContent=this.label},_onCheckedAttributeChange:function(){this["#icon-use"].href.baseVal=this.checked?"images/icons.svg#check-mark":"";
}},{},t)}(HTMLElement),r=t("bx-selectitem",n);return{get default(){return r}}}),System.registerModule("elements/bx-shortcutseditor",[],function(){
"use strict";System.get("elements/bx-shortcutseditorrow");var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("classes/shortcut")["default"],i=function(t){
return"string"==typeof t},a='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-shortcutseditor.css");</style>\n\n  <main>\n    <header>\n      <div>Command</div>\n      <div>Shortcut</div>\n    </header>\n\n    <div id="rows"></div>\n  </main>\n',s=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t,e,n,r,i,s,o;return $traceurRuntime.asyncWrap(function(l){
for(;;)switch(l.state){case 0:t=this,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a,e=!0,n=!1,r=void 0;try{for(i=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=s.next()).done);e=!0)o=i.value,
this["#"+o.id]=o}catch(u){n=!0,r=u}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}this.addEventListener("keydown",function(e){return t._onKeyDown(e);
}),this["#rows"].addEventListener("change",function(e){return t._onRowChange(e)}),
this["#rows"].addEventListener("focusin",function(e){return t._onRowFocusIn(e)}),
body.bridge.postMessage("getShortcutsEditorModel",null,function(e){return t._onModelReady(e);
}),l.state=-2;break;default:return l.end()}},this)},attachedCallback:function(){var t=this;
body.addEventListener("configchange",this._configChangeListener=function(e){return t._onConfigChange(e);
})},detachedCallback:function(){body.removeEventListener("configchange",this._configChangeListener);
},_onConfigChange:function(t){var e=t.detail,n=e.key,a=e.value;if("bx-shortcutseditor:userShortcuts"===n){
var s=a,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=this["#rows"].children[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value,f=s[h.commandID];h.userShortcut=i(f)?r.fromString(f):null}}catch(v){
l=!0,u=v}finally{try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._markConflictingRows();
}},_onModelReady:function(t){var n,a,s,o,l,u,c,d,h,f,v,m;return $traceurRuntime.asyncWrap(function(b){
for(;;)switch(b.state){case 0:h=body.getConfig,f=h.call(body,"bx-shortcutseditor:userShortcuts"),
b.state=5;break;case 5:return void Promise.resolve(f).then(b.createCallback(3),b.errback);
case 3:v=b.value,b.state=2;break;case 2:m=v?v:{},n=m,b.state=7;break;case 7:a=!0,
s=!1,o=void 0;try{for(l=void 0,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)c=l.value,
d=e("bx-shortcutseditorrow"),d.commandID=c.id,d.label=c.label,d.defaultShortcut=i(c.shortcut)?r.fromString(c.shortcut):null,
d.userShortcut=i(n[c.id])?r.fromString(n[c.id]):null,this["#rows"].append(d)}catch(g){
s=!0,o=g}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}this._markConflictingRows(),
b.state=-2;break;default:return b.end()}},this)},_onRowChange:function(t){var e,n,r,i,a,s,o,l;
return $traceurRuntime.asyncWrap(function(u){for(;;)switch(u.state){case 0:t.stopPropagation(),
e=t.target,n=e.commandID,r=e.userShortcut,u.state=9;break;case 9:a=body.getConfig,
s=a.call(body,"bx-shortcutseditor:userShortcuts"),u.state=5;break;case 5:return void Promise.resolve(s).then(u.createCallback(3),u.errback);
case 3:o=u.value,u.state=2;break;case 2:l=o?o:{},i=l,u.state=7;break;case 7:null===r?delete i[n]:i[n]=r.toString(),
body.setConfig("bx-shortcutseditor:userShortcuts",i),u.state=-2;break;default:return u.end();
}},this)},_onRowFocusIn:function(t){var e=t.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#rows"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;o.highlighted=o===e}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}},_onKeyDown:function(t){t.preventDefault();var e=r.fromEvent(t);
if(e.matches("ArrowUp")){var n=this._shadowRoot.querySelector(":focus");n.previousElementSibling&&n.previousElementSibling.focus();
}else if(e.matches("ArrowDown")){var i=this._shadowRoot.querySelector(":focus");i.nextElementSibling&&i.nextElementSibling.focus();
}},_markConflictingRows:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#rows"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!1;if(a.shortcut&&a.shortcut.isVoid()===!1){var o=!0,l=!1,u=void 0;
try{for(var c=void 0,d=this["#rows"].children[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;if(h!==a&&h.shortcut&&null!==h.shortcut.base&&a.shortcut.compare(h.shortcut)===!0){
s=!0;break}}}catch(f){l=!0,u=f}finally{try{o||null==d["return"]||d["return"]()}finally{
if(l)throw u}}}a.conflicting=s}}catch(v){e=!0,n=v}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}}},{},t)}(HTMLElement),o=n("bx-shortcutseditor",s);return{
get default(){return o}}}),System.registerModule("elements/bx-shortcutseditorrow",[],function(){
"use strict";var t=System.get("utils/dom"),e=(t.createElement,t.registerElement),n=System.get("classes/shortcut")["default"],r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"],i='\n  <style>@import url("stylesheets/bx-shortcutseditorrow.css");</style>\n\n  <main>\n    <div id="label"></div>\n    <div id="shortcut-preview"></div>\n\n    <div id="buttons">\n      <bx-button\n        id="clear-button"\n        icon="clear-shortcut"\n        iconsize="12"\n        title="Clear"\n        skin="bx-shortcutseditorrow">\n      </bx-button>\n\n      <bx-button\n        id="reset-button"\n        icon="reset-shortcut"\n        iconsize="12"\n        title="Reset to default shortcut"\n        skin="bx-shortcutseditorrow">\n      </bx-button>\n    </div>\n  </main>\n',a=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this.tabIndex=0,this._userShortcut=null,this._defaultShortcut=null,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this._shadowRoot.addEventListener("click",function(e){
return t._onClick(e)}),this.addEventListener("keydown",function(e){return t._onKeyDown(e);
}),this.addEventListener("blur",function(){return t._onBlur()}),body.bridge.postMessage("getBackendName",null,function(e){
return t._backendName=e})},attributeChangedCallback:function(t){"commandid"===t?this._update():"label"===t?this._updateLabel():"editable"===t&&this._update();
},get commandID(){return this.hasAttribute("commandid")?this.getAttribute("commandid"):null;
},set commandID(t){t?this.setAttribute("commandid",t):this.removeAttribute("commandid");
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(t){
this.setAttribute("label",t)},get editable(){return this.hasAttribute("editable");
},set editable(t){t?this.setAttribute("editable",""):this.removeAttribute("editable");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get conflicting(){return this.hasAttribute("conflicting")},set conflicting(t){t?this.setAttribute("conflicting",""):this.removeAttribute("conflicting");
},get userShortcut(){return this._userShortcut},set userShortcut(t){this._userShortcut=t,
this._updateShortcutPreview(),this._updateButtons()},get defaultShortcut(){return this._defaultShortcut;
},set defaultShortcut(t){this._defaultShortcut=t,this._updateShortcutPreview(),this._updateButtons();
},get shortcut(){return this._userShortcut||this._defaultShortcut||null},set shortcut(t){
throw new Error("shortcut property is read-only")},_update:function(){this._updateLabel(),
this._updateShortcutPreview(),this._updateButtons()},_updateLabel:function(){this["#label"].textContent=this.label;
},_updateShortcutPreview:function(){this.editable===!0?this["#shortcut-preview"].textContent="Press new shortcut":this.editable===!1&&(this.userShortcut?(this["#shortcut-preview"].textContent=this.userShortcut.toDisplayString(),
this["#shortcut-preview"].classList.add("user-shortcut")):(this["#shortcut-preview"].textContent=this.defaultShortcut?this.defaultShortcut.toDisplayString():"",
this["#shortcut-preview"].classList.remove("user-shortcut")))},_updateButtons:function(){
this.userShortcut?this["#reset-button"].hidden=!1:this["#reset-button"].hidden=!0,
null===this.shortcut||this.shortcut.isVoid()?this["#clear-button"].hidden=!0:this["#clear-button"].hidden=!1;
},_onKeyDown:function(t){var e=n.fromEvent(t);if(this.editable)if(t.preventDefault(),
t.stopPropagation(),e.matches("Backspace")||e.matches("Escape")||e.matches("Enter"))this.editable=!1;else{
if(e.meta&&"electron"===this._backendName)return;e.base&&r.includes(e.toString())===!1&&(this.userShortcut&&e.matches(this.userShortcut)?this.editable=!1:this.defaultShortcut&&e.matches(this.defaultShortcut)?(this.userShortcut=null,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.editable=!1):(this.userShortcut=e,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.editable=!1))}else e.matches("Enter")?this.editable=!0:e.matches("Backspace")&&(this.userShortcut?(this.userShortcut=null,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):this.defaultShortcut&&(this.userShortcut=new n,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))},_onClick:function(t){
0===t.button&&(t.target===this["#clear-button"]?this._onClearButtonClick(t):t.target===this["#reset-button"]?this._onResetButtonClick(t):2===t.detail&&(this.editable=!0));
},_onClearButtonClick:function(t){this.userShortcut=new n,this.dispatchEvent(new CustomEvent("change",{
bubbles:!0}))},_onResetButtonClick:function(t){this.userShortcut=null,this.dispatchEvent(new CustomEvent("change",{
bubbles:!0}))},_onBlur:function(){this.editable=!1}},{},t)}(HTMLElement),s=e("bx-shortcutseditorrow",a);
return{get default(){return s}}}),System.registerModule("elements/bx-slider",[],function(){
"use strict";System.get("elements/bx-contextmenu"),System.get("elements/bx-menuitem");
var t=System.get("classes/shortcut")["default"],e=System.get("classes/undo-manager")["default"],n=System.get("utils/dom").registerElement,r=System.get("utils/math"),i=r.normalize,a=r.round,s=r.countDecimalPlaces,o=System.get("utils/time").debounce,l=System.get("utils/type"),u=l.isNumeric,c=l.isNumber,d=Math.pow,h=Number,f=h.isFinite,v=h.parseFloat,m=(Object.entries,
'\n  <style id="skin-style">@import url("stylesheets/bx-slider.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" value="0" tabindex="0"></input>\n    <div id="bar"></div>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),b=function(n){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var t=this;this.commands={selectAll:{exec:function(){return t["#input"].select();
}},copy:{enabled:function(){return t["#input"].selectionStart!==t["#input"].selectionEnd;
},exec:function(){return t._copyInputValue()}},cut:{enabled:function(){return t["#input"].selectionStart!==t["#input"].selectionEnd;
},exec:function(){return t._cutInputValue()}},paste:{exec:function(){return t._pasteInputValue();
}},undo:{enabled:function(){return t._undoManager.canUndo()},exec:function(){return t._undoManager.undo();
}},redo:{enabled:function(){return t._undoManager.canRedo()},exec:function(){return t._undoManager.redo();
}}},this._undoManager=new e,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=m;var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(b){c=!0,d=b}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this.addEventListener("mousedown",function(e){
return t._onMouseDown(e)}),this.addEventListener("contextmenu",function(e){return t._onContextMenu(e);
}),this["#input"].addEventListener("focus",function(e){return t._onInputFocus(e)}),
this["#input"].addEventListener("keydown",function(e){return t._onInputKeyDown(e);
}),this["#context-menu"].addEventListener("menuitemtrigger",function(e){return t._onContextMenuItemTrigger(e);
}),this["#context-menu"].menuWillShow=function(e){return t._menuWillShow(e)},this["#context-menu"].menuItemWillTrigger=function(e){
return t._menuItemWillTrigger(e)}},attributeChangedCallback:function(t){"value"===t?this._onValueAttributeChange():"skin"===t?this._onSkinAttributeChange():"disabled"===t?this._onDisabledAttributeChange():"before"===t?this._onBeforeAttributeChange():"after"===t&&this._onAfterAttributeChange();
},get value(){return this.hasAttribute("value")?v(this.getAttribute("value")):this.min!==-(1/0)?this.min:0;
},set value(t){this.setAttribute("value",t)},get min(){return this.hasAttribute("min")?v(this.getAttribute("min")):-(1/0);
},set min(t){c(t)?this.setAttribute("min",t):this.removeAttribute("min")},get max(){
return this.hasAttribute("max")?v(this.getAttribute("max")):1/0},set max(t){c(t)?this.setAttribute("max",t):this.removeAttribute("max");
},get before(){return this.hasAttribute("before")?this.getAttribute("before"):""},
set before(t){null===t?this.removeAttribute("before"):this.setAttribute("before",t);
},get after(){return this.hasAttribute("after")?this.getAttribute("after"):""},set after(t){
null===t?this.removeAttribute("after"):this.setAttribute("after",t)},get mixed(){
return this.hasAttribute("mixed")},set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get precision(){return this.hasAttribute("precision")?v(this.getAttribute("precision")):2;
},set precision(t){this.setAttribute("precision",t)},get step(){return this.hasAttribute("step")?v(this.getAttribute("step")):a(d(.1,this.precision),this.precision);
},set step(t){this.setAttribute("step",step)},get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;
},set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)},
get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},validate:function(t){return u(t)},_onValueAttributeChange:function(){var t=this["#input"].matches(":focus");
this["#input"].value=t?this.value:this._serializeValue(this.value),this._updateBar(),
this._updateInputValidity()},_onSkinAttributeChange:function(){var t=this.skin?"bx-slider@"+this.skin+".css":"bx-slider.css";
this["#skin-style"].innerText='@import url("stylesheets/'+t+'"'},_onDisabledAttributeChange:function(){
this["#input"].tabIndex=this.disabled?-1:0},_onBeforeAttributeChange:function(){var t=this["#input"].matches(":focus");
t===!1&&(this["#input"].value=this._serializeValue(this.value))},_onAfterAttributeChange:function(){
var t=this["#input"].matches(":focus");t===!1&&(this["#input"].value=this._serializeValue(this.value));
},_onMouseDown:function(t){var e=this;if(0!==t.button)t.preventDefault();else if(this["#input"].matches(":focus")===!1){
t.preventDefault();var n,r,a,s=1,o=this.value,l=(this["#bar"].clientWidth,this.value),u=null,c=null,d=!1;
a=f(this.min)&&f(this.max)?(this.max-this.min)/this.clientWidth:this.step,u=body.registerCursor("col-resize",100),
window.addEventListener("mousemove",n=function(n){if(n.clientX!==c){c=n.clientX;var r=n.clientX-t.clientX;
if(d===!1){if(r>=-s&&s>=r)return;d=!0,e.dispatchEvent(new CustomEvent("changestart"));
}-s>r?r+=s:r>s&&(r-=s);var l=o+r*a;l=i(l,e.min,e.max,e.precision),e.value=l,e.dispatchEvent(new CustomEvent("change"));
}}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),body.unregisterCursor(u),d===!0?(d=!1,e.dispatchEvent(new CustomEvent("changeend",{
detail:e.value!==l}))):(e["#input"].focus(),e["#input"].select())})}},_onInputFocus:function(t){
var e,n,r,a=this,s=this.value,l=this.value;body.bridge.postMessage("toggleTextInputMode",!0),
this["#input"].value=this.value,this._hideBar(),this._updateInputValidity(),this.dispatchEvent(new CustomEvent("changestart")),
this["#input"].addEventListener("input",e=function(){a._updateInputValidity()}),this["#input"].addEventListener("input",n=o(function(){
var t=l,e=a["#input"].value;l=a["#input"].value,a._undoManager.register({label:"Typing",
undo:function(){a["#input"].value=l=t,a._updateInputValidity(),a["#input"].select();
},redo:function(){a["#input"].value=l=e,a._updateInputValidity(),a["#input"].select();
}})},250,this)),this.addEventListener("blur",r=function(t){a["#input"].removeEventListener("input",e),
a["#input"].removeEventListener("input",n),a.removeEventListener("blur",r),body.bridge.postMessage("toggleTextInputMode",!1),
a._undoManager.reset();var o=v(a["#input"].value);o=i(o,a.min,a.max,9);var l=a.validate(v(a["#input"].value))===!0,u=o!==s;
(l&&u===!0||u===!1&&a.mixed===!0)&&(a.value=o,a.dispatchEvent(new CustomEvent("change"))),
a["#input"].value=a._serializeValue(a.value),a.dispatchEvent(new CustomEvent("changeend",{
detail:u})),a._showBar()})},_onInputKeyDown:function(e){var n=t.fromEvent(e);n.matches("Enter")?(this._confirmInputChange(),
e.preventDefault(),e.stopPropagation()):n.matches("Escape")?(this._cancelInputChange(),
e.preventDefault(),e.stopPropagation()):n.matches("ArrowUp")?(this._changeInputValueByStep(this.step),
e.preventDefault(),e.stopPropagation()):n.matches("ArrowDown")?(this._changeInputValueByStep(-this.step),
e.preventDefault(),e.stopPropagation()):n.matches("Shift","ArrowUp")?(this._changeInputValueByStep(10*this.step),
e.preventDefault(),e.stopPropagation()):n.matches("Shift","ArrowDown")?(this._changeInputValueByStep(10*-this.step),
e.preventDefault(),e.stopPropagation()):(n.matches("Backspace")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&e.stopPropagation();
},_onContextMenu:function(t){t.preventDefault(),this["#input"].focus(),this["#input"].select(),
this["#context-menu"].open(t.clientX,t.clientY)},_onContextMenuItemTrigger:function(t){
var e=t.detail,n=this.commands[e.commandID];n&&n.exec()},_menuWillShow:function(t){
var e=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.items[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(t){this._validateMenuItem(t);
},_validateMenuItem:function(t){var e=this;return new Promise(function(n){var r=t.commandID||null,i=r?e.commands[r]:null;
i&&(t.disabled=i.enabled?!i.enabled():!1),n()})},_serializeValue:function(t){var e;
return e=s(t)<this.precision?t.toFixed(this.precision):t.toString(),e=this.before+e+this.after;
},_changeInputValueByStep:function(t){if(u(this["#input"].value)){var e=v(this["#input"].value)+t;
e=i(e,this.min,this.max,this.precision),this["#input"].value=e.toFixed(this.precision),
this["#input"].select(),this["#input"].dispatchEvent(new Event("input",{bubbles:!0
}))}},_updateInputValidity:function(){v(this["#input"].value)?this["#input"].setCustomValidity(""):this["#input"].setCustomValidity("Invalid value");
},_confirmInputChange:function(){this.blur()},_cancelInputChange:function(){this["#input"].value=this.value,
this.blur()},_showBar:function(){this["#bar"].style.visibility=null,this._updateBar();
},_hideBar:function(){this["#bar"].style.visibility="hidden"},_updateBar:function(){
if(f(this.min)&&f(this.max)){var t=this.value/this.max*100;this["#bar"].style.width=t+"%";
}},_copyInputValue:function(){var t=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":t})},_pasteInputValue:function(){
var t=this;body.bridge.postMessage("getClipboardData",null,function(e){if(e["text/plain"]){
var n=t["#input"].selectionStart,r=t["#input"].selectionEnd,i=e["text/plain"],a=t["#input"].value.substring(0,n),s=t["#input"].value.substring(r,t["#input"].value.length);
t["#input"].value=a+i+s,t["#input"].setSelectionRange(n+i.length,n+i.length),t["#input"].dispatchEvent(new Event("input",{
bubbles:!0}))}})},_cutInputValue:function(){var t=this["#input"].selectionStart,e=this["#input"].selectionEnd,n=this["#input"].value.substring(t,e),r=this["#input"].value.substring(0,t),i=this["#input"].value.substring(e,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].setSelectionRange(t,t),this["#input"].dispatchEvent(new Event("input",{
bubbles:!0})),body.bridge.postMessage("setClipboardData",{"text/plain":n})}},{},n);
}(HTMLElement),g=n("bx-slider",b);return{get default(){return g}}}),System.registerModule("elements/bx-starhud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.registerElement,n=t.createSVGMatrix,r=t.createSVGPoint,i=System.get("utils/math").round,a=System.get("utils/time").throttle,s=System.get("utils/transform").getTransformToElement,o=System.get("utils/vector"),l=o.getAngleBetweenVectors,u=o.subtractVectors,c=System.get("classes/enum")["default"],d=System.get("classes/vector")["default"],h=(Math.abs,
new c("star")),f=6,v='\n  <style>@import url("stylesheets/bx-starhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie r1-grippie"></circle>\n      <circle class="grippie r2-grippie"></circle>\n      <circle class="grippie arms-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',m=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=a(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=v;var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var s=r.value;this["#"+s.id]=s}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var t=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(e){
t._onShadowRootMouseDown(e)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedStars=this._getSelectedStars(),
0===this._selectedStars.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(t){t.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(t){
t.target.matches(".r1-grippie")?this._onR1GrippieMouseDown(t):t.target.matches(".r2-grippie")?this._onR2GrippieMouseDown(t):t.target.matches(".arms-grippie")&&this._onArmsGrippieMouseDown(t);
},_onR1GrippieMouseDown:function(t){var e=this;if(0===t.button){var n,i,a,s=t.target,o=s.parentElement,c=o[h.star],f=c.getCTM().inverse(),v=c.shift,m=r(t.clientX,t.clientY).matrixTransform(f),b=r(c.cx,c.cy),g=c.getPathData(),p=r(g[1].values[0],g[1].values[1]),y=new d(b,m),_=r(m.x,m.y),x="normal",w=!1;
s.parentElement.append(s),this._draggedGrippie=s;var S=function(){var t=body.modKeys,e=t.ctrl,n=t.shift;
x=e===!0&&n===!1?"shifted":e===!1&&n===!0?"normal":e===!0&&n===!0?"normal":0!==c.shift?"shifted":"normal";
},C=function(){var t=new d(b,_),e=new d(p,m),n=l(y,t)+v,r=u(t,e).length;body.modKeys.shift&&(n=0),
r>c.r2&&(r=c.r2),"normal"===x?c.setAttribute("data-bx-shift",0):"shifted"===x&&c.setAttribute("data-bx-shift",n),
c.setAttribute("data-bx-r1",r)};window.addEventListener("mousemove",n=function(t){
w||(w=!0,body.canvas.undoManager.checkpoint("Inner star radius")),_=r(t.clientX,t.clientY).matrixTransform(f),
C()}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",i),body.removeEventListener("modkeyschange",a),
e._draggedGrippie=null}),body.addEventListener("modkeyschange",a=function(){S(),C();
}),S()}},_onR2GrippieMouseDown:function(t){var e=this;if(0===t.button){var i,a,s,o=t.target,c=o.parentElement,f=c[h.star],v=f.getCTM().inverse(),m=n(f.transform.baseVal.consolidate().matrix),b=r(t.clientX,t.clientY).matrixTransform(v),g=r(f.cx,f.cy),p=new d(g,b),y=f.getPathData(),_=r(y[0].values[0],y[0].values[1]),x=!1;
o.parentElement.append(o),this._draggedGrippie=o,window.addEventListener("mousemove",i=function(t){
x||(x=!0,body.canvas.undoManager.checkpoint("Outer star radius"));var e=r(t.clientX,t.clientY).matrixTransform(v),n=new d(g,e),i=new d(_,b),a=u(n,i).length,s=l(p,n),o=m.rotate(s,g.x,g.y);
a<f.r1&&(a=f.r1),f.setAttribute("transform",o.toString()),f.setAttribute("data-bx-r2",a);
}),window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",i),
window.removeEventListener("mouseup",a),body.removeEventListener("modkeyschange",s),
e._draggedGrippie=null})}},_onArmsGrippieMouseDown:function(t){var e=this;if(0===t.button){
var n,r,a=t.target,s=a.parentElement,o=s[h.star],l=o.arms,u=!1;a.parentElement.append(a),
this._draggedGrippie=a,window.addEventListener("mousemove",n=function(e){var n=i((e.clientX-t.clientX)/10,0),r=l+n;
3>r&&(r=3),u===!1&&r!==l&&(body.canvas.undoManager.checkpoint("Change number of star arms"),
u=!0),o.arms=r}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),e._draggedGrippie=null})}},_updateSubhuds:function(){
this["#subhuds"].innerHTML="";var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this._selectedStars[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[h.star]=a,
this["#subhuds"].append(s)}}catch(o){e=!0,n=o}finally{try{t||null==i["return"]||i["return"]();
}finally{if(e)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var t=!0,e=!1,n=void 0;try{for(var i=void 0,a=this["#subhuds"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,l=o[h.star],u=l.getPathData(),c=s(l,this),d=!0,f=!1,v=void 0;try{for(var m=void 0,b=o.children[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){
var g=m.value;if(g.matches(".r1-grippie")){var p=r(u[1].values[0],u[1].values[1]).matrixTransform(c);
g.setAttribute("cx",p.x),g.setAttribute("cy",p.y)}else if(g.matches(".r2-grippie")){
var y=r(u[0].values[0],u[0].values[1]).matrixTransform(c);g.setAttribute("cx",y.x),
g.setAttribute("cy",y.y)}else if(g.matches(".arms-grippie")){var _=r(l.cx,l.cy).matrixTransform(c);
g.setAttribute("cx",_.x),g.setAttribute("cy",_.y)}}}catch(x){f=!0,v=x}finally{try{
d||null==b["return"]||b["return"]()}finally{if(f)throw v}}}}catch(w){e=!0,n=w}finally{
try{t||null==a["return"]||a["return"]()}finally{if(e)throw n}}},_updateGrippiesSize:function(){
var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value,s=!0,o=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;d.setAttribute("r",f/body.canvas.scale)}}catch(h){o=!0,l=h}finally{
try{s||null==c["return"]||c["return"]()}finally{if(o)throw l}}}}catch(v){e=!0,n=v;
}finally{try{t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},_getSelectedStars:function(){
var t=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,e=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
"bx-starpath"===o.getAttribute("is")?e.push(o):("g"===o.localName||"a"===o.localName)&&(e=$traceurRuntime.spread(e,this._getSelectedStars(o.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e}},{},t)}(SVGGElement),b=e("g","bx-starhud",m);return{get default(){return b;
}}}),System.registerModule("elements/bx-starpath",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("utils/math"),i=r.round,a=r.degToRad,s=(System.get("utils/string").collapseWhitespace,
Math),o=s.sin,l=s.cos,u=s.PI,c=Number.parseFloat,d=["data-bx-cx","data-bx-cy","data-bx-r1","data-bx-r2","data-bx-arms","data-bx-shift"],h=function(t,e,n,r,s,c){
for(var d="",h=0;s>=h;h+=1){var f=2*u*(h/s)-u/2,v=r*l(f)+t,m=r*o(f)+e;v=i(v,8),m=i(m,8),
d+=0===h?"M "+v+" "+m:" L "+v+" "+m,f=2*u*(h/s)+u/s-u/2+a(c),v=n*l(f)+t,m=n*o(f)+e,
v=i(v,8),m=i(m,8),d+=" L "+v+" "+m}return d},f=function(t){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){this._update()},
attributeChangedCallback:function(t){t.startsWith("data-bx-")&&this._update()},get cx(){
return this.hasAttribute("data-bx-cx")?c(this.getAttribute("data-bx-cx")):0},set cx(t){
this.setAttribute("data-bx-cx",t)},get cy(){return this.hasAttribute("data-bx-cy")?c(this.getAttribute("data-bx-cy")):0;
},set cy(t){this.setAttribute("data-bx-cy",t)},get r1(){return this.hasAttribute("data-bx-r1")?c(this.getAttribute("data-bx-r1")):0;
},set r1(t){this.setAttribute("data-bx-r1",t)},get r2(){return this.hasAttribute("data-bx-r2")?c(this.getAttribute("data-bx-r2")):0;
},set r2(t){this.setAttribute("data-bx-r2",t)},get arms(){return this.hasAttribute("data-bx-arms")?c(this.getAttribute("data-bx-arms")):5;
},set arms(t){this.setAttribute("data-bx-arms",t)},get shift(){return this.hasAttribute("data-bx-shift")?c(this.getAttribute("data-bx-shift")):0;
},set shift(t){this.setAttribute("data-bx-shift",t)},toSVGPath:function(){var t=void 0!==arguments[0]?arguments[0]:!0,n=e("svg:path"),r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=this.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value,u=l.name,c=l.value;"is"===u?t&&n.setAttribute("data-bx-is",c):d.includes(u)?t&&n.setAttribute(u,c):n.setAttribute(u,c);
}}catch(h){i=!0,a=h}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a;
}}return n},_update:function(){var t=this,e=t.cx,n=t.cy,r=t.r1,i=t.r2,a=t.arms,s=t.shift,o=h(e,n,r,i,a,s);
this.setAttribute("d",o)}},{fromSVGPath:function(t){var n=t.hasAttribute("data-bx-cx")?c(t.getAttribute("data-bx-cx")):0,r=t.hasAttribute("data-bx-cy")?c(t.getAttribute("data-bx-cy")):0,i=t.hasAttribute("data-bx-r1")?c(t.getAttribute("data-bx-r1")):0,a=t.hasAttribute("data-bx-r2")?c(t.getAttribute("data-bx-r2")):0,s=t.hasAttribute("data-bx-arms")?c(t.getAttribute("data-bx-arms")):5,o=t.hasAttribute("data-bx-shift")?c(t.getAttribute("data-bx-shift")):0,l=h(n,r,i,a,s,o);
if(l!==t.getAttribute("d"))return null;var u=e("svg:path","bx-starpath"),d=!0,f=!1,v=void 0;
try{for(var m=void 0,b=t.attributes[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){
var g=m.value,p=g.name,y=g.value;"d"!==p&&"data-bx-is"!==p&&u.setAttribute(p,y)}}catch(_){
f=!0,v=_}finally{try{d||null==b["return"]||b["return"]()}finally{if(f)throw v}}return u;
}},t)}(SVGPathElement),v=n("path","bx-starpath",f);return{get default(){return v}
}}),System.registerModule("elements/bx-startool",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createSVGPoint,n=t.registerElement,r=t.createElement,i=(t.createSVGMatrix,
System.get("utils/event").isMouseMoveIntentional),a=System.get("utils/vector").getAngleBetweenVectors,s=System.get("classes/vector")["default"],o=Math,l=(o.abs,
o.min,function(t){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._starCursor=body.registerCursor("images/cursor-star.png",-100,8,7),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(e){
return t._onMouseDown(e)})},_onDisabled:function(){body.unregisterCursor(this._starCursor),
body.unregisterCursor(this._mouseDownStarCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(t){
var e,n,r=this;window.addEventListener("mousemove",e=function(a){i(t,a)!==!1&&(window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",n),r._onIntentionalDragStart(t))}),window.addEventListener("mouseup",n=function(t){
window.removeEventListener("mousemove",e),body.canvas.removeEventListener("mouseend",n);
})},_onIntentionalDragStart:function(t){var n=this;body.canvas.undoManager.checkpoint("Draw Star Shape"),
this._mouseDownStarCursor=body.registerCursor("images/cursor-star.png",900,8,7);var i,o,l,u=body.canvas.currentContainer||body.canvas.currentArtboard,c=r("svg:path","bx-starpath");
c.style.fill="#d8d8d8",u.append(c);var d=c.getScreenCTM().inverse(),h=c.transform.baseVal.consolidate().matrix.multiply(d);
c.setAttribute("transform",h.toString());var f=e(t.clientX,t.clientY),v=e(t.clientX,t.clientY),m=new s(v,e(f.x,f.y-100));
c.setAttribute("data-bx-cx",v.x),c.setAttribute("data-bx-cy",v.y),body.canvas.selectedElements=[c],
window.addEventListener("mousemove",i=function(t){var n=body.modKeys.shift,r=e(t.clientX,t.clientY),i=new s(v,r),o=n?0:a(m,i),l=h.rotate(o,v.x,v.y);
c.setAttribute("transform",l.toString()),c.setAttribute("data-bx-r1",2*i.length/5),
c.setAttribute("data-bx-r2",i.length)}),window.addEventListener("mouseup",o=function(){
window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o),
body.removeEventListener("toolchange",l),body.unregisterCursor(n._mouseDownStarCursor);
}),body.addEventListener("toolchange",l=function(t){window.removeEventListener("mousemove",i),
window.removeEventListener("mouseup",o),body.removeEventListener("toolchange",l),
body.unregisterCursor(n._mouseDownStarCursor)})}},{},t)}(HTMLElement)),u=n("bx-startool",l);
return{get default(){return u}}}),System.registerModule("elements/bx-strokecontrols",[],function(){
"use strict";System.get("elements/bx-button"),System.get("elements/bx-checkbox"),
System.get("elements/bx-paintsection"),System.get("elements/bx-slider");var t=System.get("utils/dom"),e=(t.closest,
t.registerElement),n=System.get("utils/math").round,r=System.get("utils/style").queryStylableElements,i=System.get("utils/text").normalizeTextInRangeBeforeEditing,a=System.get("utils/time").throttle,s=System.get("utils/transform").getTransformToElement,o=System.get("classes/decomposed-transform")["default"],l=Number.parseFloat,u='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-strokecontrols.css");\n  </style>\n\n  <section id="paint-section" is="bx-paintsection" context="stroke"></section>\n\n  <section id="opacity-section">\n    <h2 id="opacity-section-heading">Opacity</h2>\n\n    <bx-slider\n      id="opacity-slider"\n      title="Stroke Opacity"\n      value="1"\n      min="0"\n      max="1"\n      precision="2">\n    </bx-slider>\n  </section>\n\n  <section id="width-section">\n    <h2 id="width-section-heading">Width</h2>\n\n    <bx-slider\n      id="width-slider"\n      title="Stroke width"\n      value="1"\n      min="0"\n      precision="0">\n    </bx-slider>\n\n    <bx-checkbox\n      id="non-scaling-stroke-checkbox"\n      label="Non-scaling stroke">\n    </bx-checkbox>\n  </section>\n\n  <section id="line-cap-section">\n    <h2 id="line-cap-section-heading">Line Cap</h2>\n\n    <div id="line-cap-buttons" class="buttons">\n      <bx-button\n        id="butt-line-cap-button"\n        value="butt"\n        icon="cap-butt"\n        iconsize="30"\n        title="Butt cap"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="round-line-cap-button"\n        value="round"\n        icon="cap-round"\n        iconsize="30"\n        title="Round cap"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="square-line-cap-button"\n        value="square"\n        icon="cap-square"\n        iconsize="30"\n        title="Square cap"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="line-join-section">\n    <h2 id="line-join-section-heading">Line Join</h2>\n\n    <div id="line-join-buttons" class="buttons">\n      <bx-button\n        id="miter-line-join-button"\n        value="miter"\n        icon="join-miter"\n        iconsize="30"\n        title="Miter Join"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="round-line-join-button"\n        value="round"\n        icon="join-round"\n        iconsize="30"\n        title="Round Join"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="bevel-line-join-button"\n        value="bevel"\n        icon="join-bevel"\n        iconsize="30"\n        title="Bevel Join"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </section>\n',c=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._update200Th=a(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=u;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=this.attributes[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==v["return"]||v["return"]()}finally{if(d)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return t._onOpacitySliderChangeStart()}),this["#width-slider"].addEventListener("changestart",function(){
return t._onWidthSliderChangeStart()}),this["#non-scaling-stroke-checkbox"].addEventListener("change",function(){
return t._onNonScalingStrokeCheckboxChange()}),this["#line-cap-buttons"].addEventListener("click",function(e){
return t._onLineCapButtonsClick(e)}),this["#line-join-buttons"].addEventListener("click",function(e){
return t._onLineJoinButtonsClick(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this["#paint-section"].enabled=!0,this._toggleHuds(),
this._update(),body.addEventListener("toolchange",this._toolChangeListener=function(){
t._toggleHuds()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)})},_onDisabled:function(){this["#paint-section"].enabled=!1,
this._toggleHuds(),body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(t){this._update200Th()},_onOpacitySliderChangeStart:function(){
var t=this;body.canvas.undoManager.checkpoint("Stroke opacity");var e=body.canvas,n=e.selectedElements,a=e.selectedTextRange;
i(a);var s,o,l=r("stroke-opacity",n,a);l[0]||null;this._isChangingOpacitySlider=!0,
this["#opacity-slider"].addEventListener("change",s=function(){var e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=l[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;
s.style.strokeOpacity=t["#opacity-slider"].value}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}t["#opacity-slider"].mixed=!1}),this["#opacity-slider"].addEventListener("changeend",o=function(){
t["#opacity-slider"].removeEventListener("change",s),t["#opacity-slider"].removeEventListener("changeend",o),
t._isChangingOpacitySlider=!1})},_onWidthSliderChangeStart:function(){var t=this;body.canvas.undoManager.checkpoint("Stroke width");
var e=body.canvas,n=e.selectedElements,a=e.selectedTextRange;i(a);var l,u,c=r("stroke-width",n,a);
this._isChangingWidthSlider=!0,this["#width-slider"].addEventListener("change",l=function(){
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=c[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var l=i.value,u=s(l,body.canvas.masterArtboard),d=o.fromSVGMatrix(u),h=d.scaleX,f=d.scaleY,v=(h+f)/2,m=t["#width-slider"].value/v;
l.style.strokeWidth=m+""}}catch(b){n=!0,r=b}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}t["#width-slider"].mixed=!1}),this["#width-slider"].addEventListener("changeend",u=function(){
t["#width-slider"].removeEventListener("change",l),t["#width-slider"].removeEventListener("changeend",u),
t._isChangingWidthSlider=!1})},_onNonScalingStrokeCheckboxChange:function(){body.canvas.undoManager.checkpoint("Non-scaling stroke");
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;i(n);var a=r("vector-effect",e,n),s=!0,o=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;
this["#non-scaling-stroke-checkbox"].checked?d.style.vectorEffect="non-scaling-stroke":d.style.vectorEffect=null;
}}catch(h){o=!0,l=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}},_onLineCapButtonsClick:function(t){if("bx-button"===t.target.localName&&0===t.button){
var e=t.target,n=e.pressed,a=e.mixed,s=e.value;if(n!==!0||a!==!1){body.canvas.undoManager.checkpoint("Line cap");
var o=body.canvas,l=o.selectedElements,u=o.selectedTextRange;i(u);var c=r("stroke-linecap",l,u),d=!0,h=!1,f=void 0;
try{for(var v=void 0,m=c[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var b=v.value;
b.style.strokeLinecap=s}}catch(g){h=!0,f=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw f}}}}},_onLineJoinButtonsClick:function(t){if("bx-button"===t.target.localName&&0===t.button){
var e=t.target,n=e.pressed,a=e.mixed,s=e.value;if(n!==!0||a!==!1){body.canvas.undoManager.checkpoint("Line join");
var o=body.canvas,l=o.selectedElements,u=o.selectedTextRange;i(u);var c=r("stroke-linejoin",l,u),d=!0,h=!1,f=void 0;
try{for(var v=void 0,m=c[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var b=v.value;
b.style.strokeLinejoin=s}}catch(g){h=!0,f=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw f}}}}},_update:function(){this._updateOpacitySection(),this._updateWidthSection(),
this._updateLineCapSection(),this._updateLineJoinSection()},_updateOpacitySection:function(){
if(!this._isChangingOpacitySlider){var t=body.canvas,e=t.selectedElements,i=t.selectedTextRange,a=r("stroke-opacity",e,i),s=a[0]||null;
if(null===s?this["#opacity-section-heading"].disabled=!0:this["#opacity-section-heading"].disabled=!1,
null===s)this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;else{
this["#opacity-slider"].disabled=!1;var o=l(getComputedStyle(s).strokeOpacity);o=n(o,2);
var u=!1,c=!0,d=!1,h=void 0;try{for(var f=void 0,v=a[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;if(m!==s){var b=n(l(getComputedStyle(m).strokeOpacity),2);b!==o&&(u=!0);
}}}catch(g){d=!0,h=g}finally{try{c||null==v["return"]||v["return"]()}finally{if(d)throw h;
}}this["#opacity-slider"].value=o,this["#opacity-slider"].mixed=u}}},_updateWidthSection:function(){
if(!this._isChangingWidthSlider){var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange,i=r("stroke-width",e,n),a=i[0]||null;
if(null===a?this["#width-section-heading"].disabled=!0:this["#width-section-heading"].disabled=!1,
null===a)this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1;else{
var s=this._getComputedStrokeWidth(a),o=!1,l=!0,u=!1,c=void 0;try{for(var d=void 0,h=i[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;if(f!==a){var v=this._getComputedStrokeWidth(f);if(v!==s){o=!0;break;
}}}}catch(m){u=!0,c=m}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}this["#width-slider"].value=s,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=o;
}if(null===a)this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].checked=!1,
this["#non-scaling-stroke-checkbox"].mixed=!1;else{var b=getComputedStyle(a).vectorEffect,g=!1,p=!0,y=!1,_=void 0;
try{for(var x=void 0,w=i[Symbol.iterator]();!(p=(x=w.next()).done);p=!0){var S=x.value;
if(S!==a){var C=getComputedStyle(S).vectorEffect;if(C!==b){g=!0;break}}}}catch(k){
y=!0,_=k}finally{try{p||null==w["return"]||w["return"]()}finally{if(y)throw _}}this["#non-scaling-stroke-checkbox"].disabled=!1,
this["#non-scaling-stroke-checkbox"].checked="non-scaling-stroke"===b,this["#non-scaling-stroke-checkbox"].mixed=g;
}}},_updateLineCapSection:function(){var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange,i=r("stroke-linecap",e,n),a=i[0]||null;
null===a?this["#line-cap-section-heading"].disabled=!0:this["#line-cap-section-heading"].disabled=!1;
var s=[this["#butt-line-cap-button"],this["#round-line-cap-button"],this["#square-line-cap-button"]];
if(null===a){var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=s[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h.disabled=!0,h.pressed=!1,h.mixed=!1}}catch(f){l=!0,u=f}finally{try{
o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else{var v=!0,m=!1,b=void 0;
try{for(var g=void 0,p=s[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){var y=g.value;
y.disabled=!1}}catch(_){m=!0,b=_}finally{try{v||null==p["return"]||p["return"]()}finally{
if(m)throw b}}var x=getComputedStyle(a).strokeLinecap,w=!1,S=!0,C=!1,k=void 0;try{
for(var E=void 0,A=i[Symbol.iterator]();!(S=(E=A.next()).done);S=!0){var T=E.value;
if(T!==a){var L=getComputedStyle(T).strokeLinecap;if(L!==x){w=!0;break}}}}catch(M){
C=!0,k=M}finally{try{S||null==A["return"]||A["return"]()}finally{if(C)throw k}}var j=!0,R=!1,O=void 0;
try{for(var P=void 0,I=s[Symbol.iterator]();!(j=(P=I.next()).done);j=!0){var D=P.value;
D.value===x?(D.pressed=!0,D.mixed=w):(D.pressed=!1,D.mixed=!1)}}catch(N){R=!0,O=N;
}finally{try{j||null==I["return"]||I["return"]()}finally{if(R)throw O}}}},_updateLineJoinSection:function(){
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange,i=r("stroke-linejoin",e,n),a=i[0]||null;
null===a?this["#line-join-section-heading"].disabled=!0:this["#line-join-section-heading"].disabled=!1;
var s=[this["#miter-line-join-button"],this["#round-line-join-button"],this["#bevel-line-join-button"]];
if(null===a){var o=!0,l=!1,u=void 0;try{for(var c=void 0,d=s[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h.disabled=!0,h.pressed=!1,h.mixed=!1}}catch(f){l=!0,u=f}finally{try{
o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else{var v=!0,m=!1,b=void 0;
try{for(var g=void 0,p=s[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){var y=g.value;
y.disabled=!1}}catch(_){m=!0,b=_}finally{try{v||null==p["return"]||p["return"]()}finally{
if(m)throw b}}var x=getComputedStyle(a).strokeLinejoin,w=!1,S=!0,C=!1,k=void 0;try{
for(var E=void 0,A=i[Symbol.iterator]();!(S=(E=A.next()).done);S=!0){var T=E.value;
if(T!==a){var L=getComputedStyle(T).strokeLinejoin;if(L!==x){w=!0;break}}}}catch(M){
C=!0,k=M}finally{try{S||null==A["return"]||A["return"]()}finally{if(C)throw k}}var j=!0,R=!1,O=void 0;
try{for(var P=void 0,I=s[Symbol.iterator]();!(j=(P=I.next()).done);j=!0){var D=P.value;
D.value===x?(D.pressed=!0,D.mixed=w):(D.pressed=!1,D.mixed=!1)}}catch(N){R=!0,O=N;
}finally{try{j||null==I["return"]||I["return"]()}finally{if(R)throw O}}}},_toggleHuds:function(){
"edit-tool"===body.currentTool.id&&body.currentPanel&&"stroke-panel"===body.currentPanel.id?(body.canvas.enableHud("linear-gradient-stroke-hud"),
body.canvas.enableHud("radial-gradient-stroke-hud"),body.canvas.enableHud("pattern-stroke-hud")):(body.canvas.disableHud("linear-gradient-stroke-hud"),
body.canvas.disableHud("radial-gradient-stroke-hud"),body.canvas.disableHud("pattern-stroke-hud"));
},_getComputedStrokeWidth:function(t){var e=s(t,body.canvas.masterArtboard),r=o.fromSVGMatrix(e),i=r.scaleX,a=r.scaleY,u=(i+a)/2,c=u*l(getComputedStyle(t).strokeWidth);
return c=n(c,3)}},{},t)}(HTMLElement),d=e("bx-strokecontrols",c);return{get default(){
return d}}}),System.registerModule("elements/bx-svgartboard",[],function(){"use strict";
var t=System.get("utils/dom").registerElement,e=System.get("classes/artboard-helpers"),n=e.BXViewBox,r=e.BXPreserveAspectRatio,i=e.BXLength,a=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
get contentType(){return"svg"},get x(){return new i(this,"x")},get y(){return new i(this,"y");
},get width(){return new i(this,"width")},get height(){return new i(this,"height");
},get viewBox(){return new n(this)},get preserveAspectRatio(){return new r(this)}
},{},t)}(SVGGElement),s=t("g","bx-svgartboard",a);return{get default(){return s}};
}),System.registerModule("elements/bx-switch",[],function(){"use strict";var t=System.get("utils/dom").registerElement,e='\n  <style>\n    @import url("stylesheets/bx-switch.css");\n  </style>\n\n  <main>\n    <div id="track"></div>\n\n    <svg id="thumb" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">\n      <ellipse cx="50" cy="50" rx="50" ry="50"></ellipse>\n    </svg>\n  </main>\n',n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=e;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},attachedCallback:function(){var t=this;this.parentElement.addEventListener("click",this._parentMouseDownListener=function(e){
t._onParentElementClick(e)})},detachedCallback:function(){this.parentElement.removeEventListener("click",this._parentMouseDownListener);
},get toggled(){return this.hasAttribute("toggled")?!0:!1},set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");
},get mixed(){return this.hasAttribute("mixed")?!0:!1},set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onParentElementClick:function(t){if(!this.disabled){var e=[{left:"0px"},{left:this.clientWidth-this["#thumb"].clientWidth+"px"
}];this["#thumb"].animate(this.toggled?e.reverse():e,{duration:100,iterations:1,delay:0
}),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("change"))}}},{},t);
}(HTMLElement),r=t("bx-switch",n);return{get default(){return r}}}),System.registerModule("elements/bx-symbolartboard",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e=System.get("classes/artboard-helpers"),n=e.BXViewBox,r=e.BXPreserveAspectRatio,i=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
get contentType(){return"symbol"},get viewBox(){return new n(this)},get preserveAspectRatio(){
return new r(this)}},{},t)}(SVGGElement),a=t("g","bx-symbolartboard",i);return{get default(){
return a}}}),System.registerModule("elements/bx-symbolslist",[],function(){"use strict";
System.get("elements/bx-symbolslistitem"),System.get("elements/bx-filterinput");var t=System.get("utils/artwork"),e=t.getSymbolThumbnails,n=t.rasterizeArtwork,r=System.get("utils/bbox").getClientBBox,i=System.get("utils/dom"),a=i.createElement,s=i.createSVGMatrix,o=i.insertAfter,l=i.registerElement,u=System.get("utils/math").round,c=System.get("utils/rect"),d=c.combineRects,h=c.transformRect,f=System.get("utils/relationship"),v=f.getElementIndex,m=f.sortByDomPosition,b=System.get("utils/time"),g=b.debounce,p=b.sleep,y=System.get("utils/transform").getTransformToElement,_=System.get("classes/shortcut")["default"],x=Number.parseFloat,w=(Object.keys,
'\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-symbolslist.css");</style>\n\n  <main>\n    <header>\n      <h2>Symbols</h2>\n\n      <bx-button\n        id="delete-symbol-button"\n        skin="iconic"\n        icon="minus"\n        title="Delete symbol"\n        iconsize="15">\n      </bx-button>\n\n      <bx-button\n        id="create-symbol-button"\n        title="Create new symbol"\n        skin="iconic"\n        icon="plus"\n        iconsize="15">\n      </bx-button>\n    </header>\n\n    <div id="items"></div>\n    <div id="placeholder">No symbols found.</div>\n    <div id="drag-separator"></div>\n    <bx-filterinput id="filter-input" placeholder="Filter symbols"></bx-filterinput>\n  </main>\n'),S=function(t){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var t=this;this._update2000Db=g(this._update,2e3,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=w;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this.addEventListener("keydown",function(e){
return t._onKeyDown(e)}),this["#items"].addEventListener("focusin",function(e){return t._onItemsFocusIn(e);
}),this["#items"].addEventListener("rename",function(e){return t._onItemRename(e);
}),this["#items"].addEventListener("dragstart",function(e){return t._onItemDragStart(e);
}),this["#delete-symbol-button"].addEventListener("click",function(e){return t._onDeleteSymbolButtonClick(e);
}),this["#create-symbol-button"].addEventListener("click",function(e){return t._onCreateSymbolButtonClick(e);
}),this["#filter-input"].addEventListener("input",function(){return t._onFilterInputInput();
})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled===!0?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")?!0:!1},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._update(),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
"id"===e.detail.attributeName&&"symbol"===e.detail.target.localName?t._update():e.detail.addedNodes[0]&&"symbol"===e.detail.addedNodes[0].localName?t._update():t._update2000Db();
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onDeleteSymbolButtonClick:function(t){0===t.button&&this._maybeDeleteHighlightedItem();
},_onCreateSymbolButtonClick:function(t){if(0===t.button){body.canvas.undoManager.checkpoint("Create symbol");
var e=body.canvas.generateUniqueID("symbol"),i=a("bx-symbolslistitem");i.symbolID=e,
this["#items"].append(i);var l=!0,c=!1,f=void 0;try{for(var v=void 0,b=this["#items"].children[Symbol.iterator]();!(l=(v=b.next()).done);l=!0){
var g=v.value;g.highlighted=g===i}}catch(_){c=!0,f=_}finally{try{l||null==b["return"]||b["return"]();
}finally{if(c)throw f}}body.canvas.selectedElements.length>0&&n(body.canvas.extractArtworkWithSelectedElements()).then(function(t){
i.thumbnail=t}),p(100).then(function(){return i.focus()});var x=body.canvas.defs.querySelectorAll("symbol"),w=x[x.length-1],S=a("svg:symbol");
if(w?o(S,w):body.canvas.defs.append(S),0===body.canvas.selectedElements.length)S.setAttribute("id",e),
S.setAttribute("viewBox","0 0 100 100");else{var C=d(function(){var t=0,e=[],n=!0,i=!1,a=void 0;
try{for(var s=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){
var l=s.value;e[t++]=r(l)}}catch(u){i=!0,a=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}());C=h(C,body.canvas.currentArtboard.getCTM().inverse());
var k=-C.x,E=-C.y,A=u(C.width,4),T=u(C.height,4),L=!0,M=!1,j=void 0;try{for(var R=void 0,O=m(body.canvas.selectedElements)[Symbol.iterator]();!(L=(R=O.next()).done);L=!0){
var P=R.value,I=s();I.translateSelf(k,E),I.multiplySelf(y(P,body.canvas.currentArtboard)),
P.setAttribute("transform",I),S.append(P)}}catch(D){M=!0,j=D}finally{try{L||null==O["return"]||O["return"]();
}finally{if(M)throw j}}S.setAttribute("id",e),S.setAttribute("viewBox","0 0 "+A+" "+T),
body.canvas.selectedElements=[],body.canvas.selectedTextRange=null,body.canvas.currentContainer=null;
}}},_onItemsFocusIn:function(t){var e=t.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#items"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;o.highlighted=o===e}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}this["#delete-symbol-button"].disabled=!1},_onItemRename:function(t){
body.canvas.undoManager.checkpoint("Rename symbol");var e=t.target,n=t.detail,r=n.oldID,i=n.newID;
e.symbolID=i;for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),s=null;s=a.nextNode();)"symbol"===s.localName&&s.id===r?s.setAttribute("id",i):"g"===s.localName&&"symbol"===s.contentType?s.setAttribute("id",i):"use"===s.localName&&s.href.baseVal==="#"+r&&s.setAttribute("href","#"+i);
},_onItemDragStart:function(t){var e,n,r,i=this,a=t.target,s=($traceurRuntime.spread(this["#items"].children),
x(getComputedStyle(this["#drag-separator"]).height)),o=v(a),l=null;window.addEventListener("dragover",e=function(t){
var e=i._shadowRoot.elementFromPoint(t.clientX,t.clientY);if(e&&"bx-symbolslistitem"===e.localName){
var n=e,r=n.getBoundingClientRect();i["#drag-separator"].hidden=!1,i["#drag-separator"].style.width=r.width+"px",
i["#drag-separator"].style.left=r.x+"px",t.clientY<r.y+r.height/2?(i["#drag-separator"].style.top=r.y-s/2+"px",
l=v(n)):(i["#drag-separator"].style.top=r.y+r.height-s/2+"px",l=v(n)+1)}else i["#drag-separator"].hidden=!0,
l=null}),this["#items"].addEventListener("dragend",r=function(t){if(i["#items"].removeEventListener("dragover",e),
i["#items"].removeEventListener("dragleave",n),i["#items"].removeEventListener("dragend",r),
i["#drag-separator"].hidden=!0,null!==l&&o!==l&&o!==l-1){a.style.display="none",i["#items"].insertBefore(a,i["#items"].children[l]),
p(50).then(function(){a.style.display=null,a.focus()}),body.canvas.undoManager.checkpoint("Reorder symbols");
var s=$traceurRuntime.spread(body.canvas.defs.querySelectorAll("symbol")),u=s.find(function(t){
return t.id===a.symbolID});s[l]?s[l].parentElement.insertBefore(u,s[l]):body.canvas.defs.append(u);
}})},_onFilterInputInput:function(){var t=this["#filter-input"].value,e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#items"].children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;s.hidden=("#"+s.symbolID.toLowerCase()).includes(t.toLowerCase())===!1;
}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updatePlaceholderVisibility()},_onKeyDown:function(t){var e=_.fromEvent(t);
e.matches("Backspace")?null!==this["#items"].querySelector(":focus")&&(t.preventDefault(),
t.stopPropagation(),this._maybeDeleteHighlightedItem()):e.matches("ArrowUp")?(t.preventDefault(),
t.stopPropagation(),this._focusPreviousItem()):e.matches("ArrowDown")&&(t.preventDefault(),
t.stopPropagation(),this._focusNextItem())},_update:function(){var t=this;if(this._updating)return void p(1e3).then(function(){
return t._update()});this._updating=!0;var n=body.canvas.masterArtboard.querySelectorAll("symbol"),r=$traceurRuntime.spread(this["#items"].children),i=0;
if(r.length>n.length)for(var s=n.length;s<r.length;s+=1)r[s].remove();else r.length<n.length&&(this["#create-symbol-button"].disabled=!0,
this["#delete-symbol-button"].disabled=!0);var o=function(e){for(var r=$traceurRuntime.spread(t["#items"].children),s=t["#items"].querySelector("[highlighted]"),u=s?s.symbolID:null,c=t["#filter-input"].value;e.timeRemaining()>10&&i<n.length;){
var d=n[i],h=r[i];h||(h=a("bx-symbolslistitem"),t["#items"].append(h)),h.symbolID=d.id,
h.hidden=("#"+h.symbolID.toLowerCase()).includes(c.toLowerCase())===!1,h.highlighted=d.id===u,
i+=1}t._updatePlaceholderVisibility(),i<n.length?requestIdleCallback(o):(t._updateButtons(),
l())},l=function(){var n=body.canvas.extractArtwork(),r={},i=!0,a=!1,s=void 0;try{
for(var o=void 0,l=t["#items"].children[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r[u.symbolID]=u}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}e(n,function(t,e){r[t]&&(r[t].thumbnail=e)},function(){t._updating=!1;
})};requestIdleCallback(o)},_updateButtons:function(){this["#create-symbol-button"].disabled=!1,
this["#delete-symbol-button"].disabled=null===this["#items"].querySelector("[highlighted]");
},_updatePlaceholderVisibility:function(){this["#placeholder"].hidden=null!==this["#items"].querySelector(":not([hidden])");
},_focusPreviousItem:function(){var t=this._shadowRoot.querySelector(":focus"),e=this._getPreviousVisibleItem(t);
e&&e.focus()},_focusNextItem:function(){var t=this._shadowRoot.querySelector(":focus"),e=this._getNextVisibleItem(t);
e&&e.focus()},_maybeDeleteHighlightedItem:function(){var t=this,e=this["#items"].querySelector("[highlighted]");
if(e){var n=e.symbolID,r=$traceurRuntime.spread(body.canvas.artboards.querySelectorAll("use")).filter(function(t){
return t.href.baseVal==="#"+n}),i=function(){body.canvas.undoManager.checkpoint("Delete symbol"),
"symbol"===body.canvas.currentArtboard.contentType&&body.canvas.currentArtboard.id===n&&body.canvas.editSymbolEnd(!1);
var r=t._getNextVisibleItem(e),i=t._getPreviousVisibleItem(e);r?r.focus():i?i.focus():t["#delete-symbol-button"].disabled=!0,
e.remove(),t._updatePlaceholderVisibility();for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),s=null,o=[];s=a.nextNode();)"symbol"===s.localName&&s.id===n?(s.remove(),
o.push(s)):"use"===s.localName&&s.href.baseVal==="#"+n&&(s.remove(),o.push(s));body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return!o.includes(t)})};if(0===r.length)i();else{var a={message:"Delete the sybmol with "+r.length+" instance(s)?",
buttons:["Cancel","Delete"]};body.bridge.postMessage("showMessageBox",a,function(t){
1===t&&i()})}}},_assertItemsLength:function(t){var e=this["#items"].childElementCount;
if(t>e)for(var n=e;t>n;n+=1){var r=a("bx-symbolslistitem");this["#items"].append(r);
}else if(e>t)for(var i=e-1;i>=t;i-=1)this["#items"].children[i].remove()},_getPreviousVisibleItem:function(t){
for(;t.previousElementSibling;){if(t.previousElementSibling.hidden===!1)return t.previousElementSibling;
t=t.previousElementSibling}return null},_getNextVisibleItem:function(t){for(;t.nextElementSibling;){
if(t.nextElementSibling.hidden===!1)return t.nextElementSibling;t=t.nextElementSibling;
}return null}},{},t)}(HTMLElement),C=l("bx-symbolslist",S);return{get default(){return C;
}}}),System.registerModule("elements/bx-symbolslistitem",[],function(){"use strict";
System.get("elements/bx-input");var t=System.get("utils/dom"),e=t.createElement,n=t.registerElement,r=System.get("classes/shortcut")["default"],i='\n  <style>@import url("stylesheets/bx-symbolslistitem.css");</style>\n\n  <main>\n    <img id="thumbnail"></img>\n    <bx-input id="input" skin="bx-defscontrols"></bx-input>\n  </main>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var t=this;this.tabIndex=0,this.draggable=!0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var e=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){
var o=a.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this.addEventListener("dragstart",function(e){
return t._onHostDragStart(e)}),this.addEventListener("dragend",function(e){return t._onHostDragEnd(e);
}),this.addEventListener("keydown",function(e){return t._onHostKeyDown(e)}),this._shadowRoot.addEventListener("dblclick",function(e){
return t._onShadowRootDblClick(e)}),this["#input"].addEventListener("focusin",function(e){
return t._onInputFocusIn(e)}),this["#input"].addEventListener("focusout",function(e){
return t._onInputFocusOut(e)}),this["#input"].addEventListener("keydown",function(e){
return t._onInputKeyDown(e)}),this["#input"].addEventListener("change",function(e){
return t._onInputChange(e)}),this["#input"].addEventListener("confirm",function(){
return t.focus()}),this["#input"].addEventListener("cancel",function(){return t.focus();
}),this["#input"].validate=function(e){return t._validateInputValue(e)}},attributeChangedCallback:function(t){
"symbolid"===t&&this._onSymbolIDAttributeChange()},get symbolID(){return this.hasAttribute("symbolid")?this.getAttribute("symbolid"):null;
},set symbolID(t){t?this.setAttribute("symbolid",t):this.removeAttribute("symbolid");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(t){t?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(t){null===t?this["#thumbnail"].src="":this["#thumbnail"].src=t;
},_onSymbolIDAttributeChange:function(){null===this.symbolID?this["#input"].value="":this["#input"].value="#"+this.symbolID;
},_onShadowRootDblClick:function(t){t.target===this["#thumbnail"]?body.canvas.editSymbol(this.symbolID):this["#input"].matches(":focus")===!1&&this["#input"].focus();
},_onHostDragStart:function(t){this._dragImage=e("img"),this._dragImage.id="drag-image",
this._dragImage.src=this["#thumbnail"].src,this._dragImage.style.position="fixed",
this._dragImage.style.transform="translate(9999px, 9999px)",this._dragImage.width=38,
this._dragImage.height=38,this._shadowRoot.append(this._dragImage),t.dataTransfer.setData("text","#"+this.symbolID),
t.dataTransfer.setData("bx-symbolslistitem/symbolID",this.symbolID),t.dataTransfer.setDragImage(this._dragImage,this._dragImage.width/2,this._dragImage.height/2);
},_onHostDragEnd:function(t){this._dragImage.remove()},_onHostKeyDown:function(t){
var e=r.fromEvent(t);e.matches("Enter")&&(this["#input"].focus(),this["#input"].selectAll());
},_onInputFocusIn:function(){this["#input"].style.pointerEvents="auto",this["#input"].selectAll(),
this.draggable=!1,this.setAttribute("inputmode","")},_onInputFocusOut:function(t){
this["#input"].style.pointerEvents="none",this.draggable=!0,this.removeAttribute("inputmode");
},_onInputKeyDown:function(t){var e=r.fromEvent(t);(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),
this.focus())},_onInputChange:function(){var t=this.symbolID,e=this["#input"].value.substring(1);
this.dispatchEvent(new CustomEvent("rename",{bubbles:!0,detail:{oldID:t,newID:e}}));
},_validateInputValue:function(t){var e=/^#[a-z]+[a-z0-9\-_]*$/i.test(t);return e?t==="#"+this.symbolID?!0:null===body.canvas.artboards.querySelector(t)?!0:!1:!1;
}},{},t)}(HTMLElement),s=n("bx-symbolslistitem",a);return{get default(){return s}
}}),System.registerModule("elements/bx-texttool",[],function(){"use strict";var t=System.get("utils/dom"),e=t.parseSVG,n=t.registerElement,r=(t.createElement,
t.createSVGPoint),i=function(t){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var t=!0,e=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("click",this._clickListener=function(e){
return t._onClick(e)})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("click",this._clickListener)},_onClick:function(t){
var n,i,a,s,o,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:body.canvas.undoManager.checkpoint("Text"),body.canvas.googleFontsManager.importFamily("Roboto"),
n=body.canvas.currentContainer||body.canvas.currentArtboard,i=n.getScreenCTM().inverse(),
a=r(t.clientX,t.clientY),s=a.matrixTransform(i),o='<tspan style="font-size: 16; font-family: Roboto;">Enter your text here</tspan>',
l='<text x="'+s.x+'" y="'+s.y+'" style="white-space: pre;">'+o+"</text>",u=e(l),n.append(u),
body.canvas.selectedElements=[u],body.toggleTool("edit-tool"),c.state=-2;break;default:
return c.end()}},this)}},{},t)}(HTMLElement),a=n("bx-texttool",i);return{get default(){
return a}}}),System.registerModule("elements/bx-transformhud",[],function(){"use strict";
var t=System.get("utils/bbox"),e=t.getUserBBox,n=t.getClientBBox,r=System.get("utils/dom"),i=r.registerElement,a=r.createSVGPoint,s=r.createSVGMatrix,o=(r.parseSVG,
System.get("utils/rect")),l=o.transformRect,u=o.combineRects,c=System.get("utils/time"),d=c.sleep,h=c.throttle,f=System.get("utils/transform"),v=f.getTransformOriginPoint,m=f.getTransformToElement,b=f.reduceTransform,g=f.skew,p=System.get("utils/vector").getAngleBetweenVectors,y=System.get("classes/decomposed-transform")["default"],_=System.get("classes/enum")["default"],x=System.get("classes/vector")["default"],w=Math,S=w.abs,C=w.min,k=w.max,E=Number.parseFloat,A=12,T=12,L=12,M=10,j=new _("initialStrokeWidth","initialVectorEffect","initialTransforms","initialUserBBox"),R='\n  <style>@import url("stylesheets/bx-transformhud.css");</style>\n\n  <g id="grippies">\n    <g id="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g id="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g id="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg id="origin-grippie" viewBox="0 0 50 50" visibility="hidden">\n      <use xlink:href="images/icons.svg#cross" x="0" y="0" width="50" height="50"></use>\n      <rect x="0" y="0" width="50" height="50" style="opacity: 0;"/>\n    </svg>\n  </g>\n',O=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var t=this;this._scaleGrippiesByPosition={},this._skewGrippiesByPosition={},
this._rotateGrippiesByPosition={},this._scaleStroke=!1,this._scaleRadii=!1,this._preserveAspectRatio=!1,
this._updateGrippies25Th=h(this._updateGrippies,25,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=R;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,f=this["#scale-grippies"].children[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){
var v=d.value;this._scaleGrippiesByPosition[v.getAttribute("data-position")]=v}}catch(m){
u=!0,c=m}finally{try{l||null==f["return"]||f["return"]()}finally{if(u)throw c}}var b=!0,g=!1,p=void 0;
try{for(var y=void 0,_=this["#rotate-grippies"].children[Symbol.iterator]();!(b=(y=_.next()).done);b=!0){
var x=y.value;this._rotateGrippiesByPosition[x.getAttribute("data-position")]=x}}catch(w){
g=!0,p=w}finally{try{b||null==_["return"]||_["return"]()}finally{if(g)throw p}}var S=!0,C=!1,k=void 0;
try{for(var E=void 0,A=this["#skew-grippies"].children[Symbol.iterator]();!(S=(E=A.next()).done);S=!0){
var T=E.value;this._skewGrippiesByPosition[T.getAttribute("data-position")]=T}}catch(L){
C=!0,k=L}finally{try{S||null==A["return"]||A["return"]()}finally{if(C)throw k}}this._shadowRoot.addEventListener("mousedown",function(e){
t._onMouseDown(e)}),body.getConfig("bx-transformtoolcontrols:scaleStroke").then(function(e){
null!==e&&(t._scaleStroke=e)}),body.getConfig("bx-transformtoolcontrols:scaleRadii").then(function(e){
null!==e&&(t._scaleRadii=e)}),body.getConfig("bx-transformtoolcontrols:preserveAspectRatio").then(function(e){
null!==e&&(t._preserveAspectRatio=e)});var M=!0,j=!1,O=void 0;try{for(var P=void 0,I=this.attributes[Symbol.iterator]();!(M=(P=I.next()).done);M=!0){
var D=P.value;this.attributeChangedCallback(D.name)}}catch(N){j=!0,O=N}finally{try{
M||null==I["return"]||I["return"]()}finally{if(j)throw O}}},attributeChangedCallback:function(t){
"enabled"===t?this.enabled?this._onEnabled():this._onDisabled():"mode"===t&&this._onModeAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get mode(){return this.hasAttribute("mode")?this.getAttribute("mode"):"scale"},
set mode(t){this.setAttribute("mode",t)},_onEnabled:function(){var t=this;this._onSelectedElementsChange(),
this._onZoomChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
t._onZoomChange()}),body.addEventListener("configchange",this._configChangeListener=function(e){
t._onConfigChange(e)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.removeEventListener("configchange",this._configChangeListener);
},_onModeAttributeChange:function(){"scale"===this.mode?(this["#scale-grippies"].style.visibility="visible",
this["#rotate-grippies"].style.visibility="hidden",this["#skew-grippies"].style.visibility="hidden",
this["#origin-grippie"].style.visibility="hidden"):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.visibility="hidden",
this["#rotate-grippies"].style.visibility="visible",this["#skew-grippies"].style.visibility="visible",
this["#origin-grippie"].style.visibility="visible"),this._updateGrippies()},_onConfigChange:function(t){
var e=t.detail,n=e.key,r=e.value;"bx-transformtoolcontrols:scaleStroke"===n?this._scaleStroke=r||!1:"bx-transformtoolcontrols:scaleRadii"===n?this._scaleRadii=r||!1:"bx-transformtoolcontrols:preserveAspectRatio"===n&&(this._preserveAspectRatio=r||!1);
},_onSelectedElementsChange:function(){0===body.canvas.selectedElements.length?this["#grippies"].style.display="none":this["#grippies"].style.display="block",
this._updateGrippies()},_onArtboardMutation:function(t){this._updateGrippies25Th();
},_onZoomChange:function(){this._updateGrippies25Th()},_onMouseDown:function(t){var e=t.target.parentElement;
e===this["#scale-grippies"]?this._onScaleGrippieMouseDown(t):e===this["#rotate-grippies"]?this._onRotateGrippieMouseDown(t):e===this["#skew-grippies"]?this._onSkewGrippieMouseDown(t):e===this["#origin-grippie"]&&this._onOriginGrippieMouseDown(t);
},_onScaleGrippieMouseDown:function(t){var r,i,o=this,l=$traceurRuntime.spread(body.canvas.selectedElements),c=t.target.getAttribute("data-position");
body.canvas.undoManager.checkpoint("Scale Transform");var d=!0,h=!1,f=void 0;try{
for(var v=void 0,m=l[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var g=v.value;
if(this._scaleStroke===!1){var p=g.getScreenCTM(),_=y.fromSVGMatrix(p),x=_.scaleX,w=_.scaleY,S="left"===c||"right"===c?x:w,C=getComputedStyle(g);
g[j.initialStrokeWidth]=g.style.strokeWidth,g[j.initialVectorEffect]=g.style.vectorEffect;
var k=S*E(C.strokeWidth);g.style.strokeWidth=k,g.style.vectorEffect="non-scaling-stroke";
}}}catch(A){h=!0,f=A}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw f;
}}if(1===l.length){var T=l[0],L=e(T),M=T.getScreenCTM(),R=M.inverse(),O=s(T.transform.baseVal.consolidate().matrix),P=a(t.clientX,t.clientY);
P=P.matrixTransform(R),window.addEventListener("mousemove",r=function(t){var e=a(t.clientX,t.clientY);
e=e.matrixTransform(R);var n=e.x-P.x,r=e.y-P.y,i=o._scaleParams(n,r,L,c),l=i.centerX,u=i.centerY,d=i.scaleX,h=i.scaleY,f=-l*(d-1),v=-u*(h-1),m=s(O);
m.translateSelf(f,v),m.scaleNonUniformSelf(d,h),T.setAttribute("transform",m.toString());
})}else if(l.length>1){var I=function(){var t=0,e=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e[t++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}(),D=u(I),N=!0,V=!1,B=void 0;try{for(var U=void 0,z=l[Symbol.iterator]();!(N=(U=z.next()).done);N=!0){
var G=U.value,H=G.getScreenCTM(),F=H.inverse(),q=s(G.transform.baseVal.consolidate().matrix);
G[j.initialTransforms]={clientToUserTransform:H,userToClientTransform:F,userTransform:q
}}}catch($){V=!0,B=$}finally{try{N||null==z["return"]||z["return"]()}finally{if(V)throw B;
}}window.addEventListener("mousemove",r=function(e){var n=!0,r=!1,i=void 0;try{for(var a=void 0,u=l[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){
var d=a.value,h=e.clientX-t.clientX,f=e.clientY-t.clientY,v=d[j.initialTransforms],m=v.clientToUserTransform,b=v.userToClientTransform,g=v.userTransform,p=o._scaleParams(h,f,D,c),y=p.centerX,_=p.centerY,x=p.scaleX,w=p.scaleY,S=-y*(x-1),C=-_*(w-1),k=s(g);
k.multiplySelf(b),k.translateSelf(S,C),k.scaleNonUniformSelf(x,w),k.multiplySelf(m),
d.setAttribute("transform",k.toString())}}catch(E){r=!0,i=E}finally{try{n||null==u["return"]||u["return"]();
}finally{if(r)throw i}}})}window.addEventListener("mouseup",i=function(t){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i);var e=!0,n=!1,a=void 0;try{for(var s=void 0,u=l[Symbol.iterator]();!(e=(s=u.next()).done);e=!0){
var c=s.value;o._scaleStroke===!1&&(c.style.strokeWidth=c[j.initialStrokeWidth],c.style.vectorEffect=c[j.initialVectorEffect]),
b(c,o._scaleStroke,o._scaleRadii)}}catch(d){n=!0,a=d}finally{try{e||null==u["return"]||u["return"]();
}finally{if(n)throw a}}})},_onRotateGrippieMouseDown:function(t){var e,n,r=$traceurRuntime.spread(body.canvas.selectedElements),i=v.apply(void 0,$traceurRuntime.spread(r)),o=a(t.clientX,t.clientY);
body.canvas.undoManager.checkpoint("Rotate Transform");var l=!0,u=!1,c=void 0;try{
for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value,m=s(f.transform.baseVal.consolidate().matrix),g=f.getScreenCTM(),y=g.inverse();
f[j.initialTransforms]={clientToUserTransform:g,userToClientTransform:y,userTransform:m
}}}catch(_){u=!0,c=_}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}window.addEventListener("mousemove",e=function(t){var e=!0,n=!1,l=void 0;try{for(var u=void 0,c=r[Symbol.iterator]();!(e=(u=c.next()).done);e=!0){
var d=u.value,h=d[j.initialTransforms],f=h.clientToUserTransform,v=h.userToClientTransform,m=h.userTransform,b=a(t.clientX,t.clientY),g=new x(i,o),y=new x(i,b),_=p(g,y),w=s(m);
w.multiplySelf(v),w.rotateSelf(_,i.x,i.y),w.multiplySelf(f),d.setAttribute("transform",w.toString());
}}catch(S){n=!0,l=S}finally{try{e||null==c["return"]||c["return"]()}finally{if(n)throw l;
}}}),window.addEventListener("mouseup",n=function(t){window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",n);var i=!0,a=!1,s=void 0;try{for(var o=void 0,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;b(u,!0,!0)}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}})},_onSkewGrippieMouseDown:function(t){var e,n,r,i=$traceurRuntime.spread(body.canvas.selectedElements),o=t.target.getAttribute("data-position");
r="top"===o||"bottom"===o?"horizontal":"vertical",body.canvas.undoManager.checkpoint("Skew Transform");
var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=i[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;f[j.initialStrokeWidth]=f.style.strokeWidth,f[j.initialVectorEffect]=f.style.vectorEffect;
var m=f.getScreenCTM(),_=y.fromSVGMatrix(m),w=_.scaleX,S=_.scaleY,C=(w+S)/2,k=getComputedStyle(f),A=C*E(k.strokeWidth);
f.style.strokeWidth=A,f.style.vectorEffect="non-scaling-stroke"}}catch(T){u=!0,c=T;
}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}if(1===i.length){
var L=i[0],M=L.getScreenCTM(),R=M.inverse(),O=s(L.transform.baseVal.consolidate().matrix),P=a(t.clientX,t.clientY);
P=P.matrixTransform(R);var I=v.apply(void 0,$traceurRuntime.spread(i));I=I.matrixTransform(R),
window.addEventListener("mousemove",e=function(t){var e=body.modKeys,n=(e.ctrl,e.alt,
e.shift,a(t.clientX,t.clientY));n=n.matrixTransform(R);var i=new x(I,P),o=new x(I,n),l=p(i,o),u=s(O);
u="horizontal"===r?g(u,-l,0,I.x,I.y):g(u,0,l,I.x,I.y),L.setAttribute("transform",u.toString());
})}else if(i.length>1){var D=a(t.clientX,t.clientY),N=v.apply(void 0,$traceurRuntime.spread(i)),V=!0,B=!1,U=void 0;
try{for(var z=void 0,G=i[Symbol.iterator]();!(V=(z=G.next()).done);V=!0){var H=z.value,F=H.getScreenCTM(),q=F.inverse(),$=s(H.transform.baseVal.consolidate().matrix);
H[j.initialTransforms]={clientToUserTransform:F,userToClientTransform:q,userTransform:$
}}}catch(W){B=!0,U=W}finally{try{V||null==G["return"]||G["return"]()}finally{if(B)throw U;
}}window.addEventListener("mousemove",e=function(t){var e=!0,n=!1,o=void 0;try{for(var l=void 0,u=i[Symbol.iterator]();!(e=(l=u.next()).done);e=!0){
var c=l.value,d=c[j.initialTransforms],h=d.clientToUserTransform,f=d.userToClientTransform,v=d.userTransform,m=a(t.clientX,t.clientY),b=new x(N,D),y=new x(N,m),_=p(b,y),w=s(v);
w.multiplySelf(f),w="horizontal"===r?g(w,-_,0,N.x,N.y):g(w,0,_,N.x,N.y),w.multiplySelf(h),
c.setAttribute("transform",w.toString())}}catch(S){n=!0,o=S}finally{try{e||null==u["return"]||u["return"]();
}finally{if(n)throw o}}})}window.addEventListener("mouseup",n=function(t){window.removeEventListener("mousemove",e),
window.removeEventListener("mouseup",n);var r=!0,a=!1,s=void 0;try{for(var o=void 0,l=i[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;u.style.strokeWidth=u[j.initialStrokeWidth],u.style.vectorEffect=u[j.initialVectorEffect];
}}catch(c){a=!0,s=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}b(f,!0,!0)})},_onOriginGrippieMouseDown:function(t){var n,r,i=$traceurRuntime.spread(body.canvas.selectedElements),s=!0,o=!1,l=void 0;
try{for(var u=void 0,c=i[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value,h=d.getScreenCTM().inverse(),f=e(d);
d[j.initialTransforms]={clientToUserTransform:h},d[j.initialUserBBox]=f}}catch(v){
o=!0,l=v}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l}}body.canvas.undoManager.checkpoint("Transform Origin"),
window.addEventListener("mousemove",n=function(e){var n=!0,r=!1,s=void 0;try{for(var o=void 0,l=i[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){
var u=o.value,c=u[j.initialTransforms].clientToUserTransform,d=u[j.initialUserBBox],h=a(t.clientX,t.clientY);
h=h.matrixTransform(c);var f=a(e.clientX,e.clientY);f=f.matrixTransform(c);var v=f.x-(d.x+d.width/2),m=f.y-(d.y+d.height/2);
u.setAttribute("data-transform-origin",v+" "+m)}}catch(b){r=!0,s=b}finally{try{n||null==l["return"]||l["return"]();
}finally{if(r)throw s}}}),window.addEventListener("mouseup",r=function(t){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r)})},_updateGrippies:function(){"scale"===this.mode?this._updateScaleGrippies():"rotate-and-skew"===this.mode&&(this._updateRotateGrippies(),
this._updateSkewGrippies(),this._updateOriginGrippie())},_updateRotateGrippies:function(){
var t=T/body.canvas.scale,r=(3/body.canvas.scale,this._rotateGrippiesByPosition),i=!0,s=!1,o=void 0;
try{for(var c=void 0,d=this["#rotate-grippies"].children[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){
var h=c.value;h.width.baseVal.value=t,h.height.baseVal.value=t}}catch(f){s=!0,o=f;
}finally{try{i||null==d["return"]||d["return"]()}finally{if(s)throw o}}if(1===body.canvas.selectedElements.length){
var v,b=body.canvas.selectedElements[0],g=m(b,this),p=e(b);v=a(p.x,p.y),v=v.matrixTransform(g),
r["top-left"].x.baseVal.value=v.x-t/2,r["top-left"].y.baseVal.value=v.y-t/2,v=a(p.x+p.width,p.y),
v=v.matrixTransform(g),r["top-right"].x.baseVal.value=v.x-t/2,r["top-right"].y.baseVal.value=v.y-t/2,
v=a(p.x,p.y+p.height),v=v.matrixTransform(g),r["bottom-left"].x.baseVal.value=v.x-t/2,
r["bottom-left"].y.baseVal.value=v.y-t/2,v=a(p.x+p.width,p.y+p.height),v=v.matrixTransform(g),
r["bottom-right"].x.baseVal.value=v.x-t/2,r["bottom-right"].y.baseVal.value=v.y-t/2;
}else if(body.canvas.selectedElements.length>1){var y=this.getScreenCTM().inverse(),_=u(function(){
var t=0,e=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e[t++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}());_=l(_,y),r["top-left"].x.baseVal.value=_.x-t/2,
r["top-left"].y.baseVal.value=_.y-t/2,r["top-right"].x.baseVal.value=_.x+_.width-t/2,
r["top-right"].y.baseVal.value=_.y-t/2,r["bottom-left"].x.baseVal.value=_.x-t/2,r["bottom-left"].y.baseVal.value=_.y+_.height-t/2,
r["bottom-right"].x.baseVal.value=_.x+_.width-t/2,r["bottom-right"].y.baseVal.value=_.y+_.height-t/2;
}},_updateSkewGrippies:function(){var t=L/body.canvas.scale,r=(3/body.canvas.scale,
this._skewGrippiesByPosition),i=!0,s=!1,o=void 0;try{for(var c=void 0,d=this["#skew-grippies"].children[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){
var h=c.value;h.width.baseVal.value=t,h.height.baseVal.value=t}}catch(f){s=!0,o=f;
}finally{try{i||null==d["return"]||d["return"]()}finally{if(s)throw o}}if(1===body.canvas.selectedElements.length){
var v,b=body.canvas.selectedElements[0],g=m(b,this),p=e(b);v=a(p.x+p.width/2,p.y),
v=v.matrixTransform(g),r.top.x.baseVal.value=v.x-t/2,r.top.y.baseVal.value=v.y-t/2,
v=a(p.x+p.width/2,p.y+p.height),v=v.matrixTransform(g),r.bottom.x.baseVal.value=v.x-t/2,
r.bottom.y.baseVal.value=v.y-t/2,v=a(p.x,p.y+p.height/2),v=v.matrixTransform(g),r.left.x.baseVal.value=v.x-t/2,
r.left.y.baseVal.value=v.y-t/2,v=a(p.x+p.width,p.y+p.height/2),v=v.matrixTransform(g),
r.right.x.baseVal.value=v.x-t/2,r.right.y.baseVal.value=v.y-t/2}else if(body.canvas.selectedElements.length>1){
var y=this.getScreenCTM().inverse(),_=u(function(){var t=0,e=[],r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e[t++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}());_=l(_,y),r.top.x.baseVal.value=_.x+_.width/2-t/2,
r.top.y.baseVal.value=_.y-t/2,r.bottom.x.baseVal.value=_.x+_.width/2-t/2,r.bottom.y.baseVal.value=_.y+_.height-t/2,
r.left.x.baseVal.value=_.x-t/2,r.left.y.baseVal.value=_.y+_.height/2-t/2,r.right.x.baseVal.value=_.x+_.width-t/2,
r.right.y.baseVal.value=_.y+_.height/2-t/2}},_updateScaleGrippies:function(){var t=A/body.canvas.scale,r=(3/body.canvas.scale,
this._scaleGrippiesByPosition),i=!0,s=!1,o=void 0;try{for(var c=void 0,d=this["#scale-grippies"].children[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){
var h=c.value;h.width.baseVal.value=t,h.height.baseVal.value=t}}catch(f){s=!0,o=f;
}finally{try{i||null==d["return"]||d["return"]()}finally{if(s)throw o}}if(1===body.canvas.selectedElements.length){
var v,b=body.canvas.selectedElements[0],g=m(b,this),p=e(b);v=a(p.x+p.width/2,p.y),
v=v.matrixTransform(g),r.top.x.baseVal.value=v.x-t/2,r.top.y.baseVal.value=v.y-t/2,
v=a(p.x+p.width/2,p.y+p.height),v=v.matrixTransform(g),r.bottom.x.baseVal.value=v.x-t/2,
r.bottom.y.baseVal.value=v.y-t/2,v=a(p.x,p.y+p.height/2),v=v.matrixTransform(g),r.left.x.baseVal.value=v.x-t/2,
r.left.y.baseVal.value=v.y-t/2,v=a(p.x+p.width,p.y+p.height/2),v=v.matrixTransform(g),
r.right.x.baseVal.value=v.x-t/2,r.right.y.baseVal.value=v.y-t/2,v=a(p.x,p.y),v=v.matrixTransform(g),
r["top-left"].x.baseVal.value=v.x-t/2,r["top-left"].y.baseVal.value=v.y-t/2,v=a(p.x+p.width,p.y),
v=v.matrixTransform(g),r["top-right"].x.baseVal.value=v.x-t/2,r["top-right"].y.baseVal.value=v.y-t/2,
v=a(p.x,p.y+p.height),v=v.matrixTransform(g),r["bottom-left"].x.baseVal.value=v.x-t/2,
r["bottom-left"].y.baseVal.value=v.y-t/2,v=a(p.x+p.width,p.y+p.height),v=v.matrixTransform(g),
r["bottom-right"].x.baseVal.value=v.x-t/2,r["bottom-right"].y.baseVal.value=v.y-t/2;
}else if(body.canvas.selectedElements.length>1){var y=this.getScreenCTM().inverse(),_=u(function(){
var t=0,e=[],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e[t++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e}());_=l(_,y),r.top.x.baseVal.value=_.x+_.width/2-t/2,
r.top.y.baseVal.value=_.y-t/2,r.bottom.x.baseVal.value=_.x+_.width/2-t/2,r.bottom.y.baseVal.value=_.y+_.height-t/2,
r.left.x.baseVal.value=_.x-t/2,r.left.y.baseVal.value=_.y+_.height/2-t/2,r.right.x.baseVal.value=_.x+_.width-t/2,
r.right.y.baseVal.value=_.y+_.height/2-t/2,r["top-left"].x.baseVal.value=_.x-t/2,
r["top-left"].y.baseVal.value=_.y-t/2,r["top-right"].x.baseVal.value=_.x+_.width-t/2,
r["top-right"].y.baseVal.value=_.y-t/2,r["bottom-left"].x.baseVal.value=_.x-t/2,r["bottom-left"].y.baseVal.value=_.y+_.height-t/2,
r["bottom-right"].x.baseVal.value=_.x+_.width-t/2,r["bottom-right"].y.baseVal.value=_.y+_.height-t/2;
}},_updateOriginGrippie:function(){if(body.canvas.selectedElements.length>=1){var t=M/body.canvas.scale,e=body.canvas.currentArtboard.getScreenCTM().inverse(),n=v.apply(void 0,$traceurRuntime.spread(body.canvas.selectedElements));
n=n.matrixTransform(e),this["#origin-grippie"].setAttribute("width",t),this["#origin-grippie"].setAttribute("height",t),
this["#origin-grippie"].setAttribute("x",n.x-t/2),this["#origin-grippie"].setAttribute("y",n.y-t/2);
}},blink:function(){return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){
case 0:this["#grippies"].style.display="none",t.state=4;break;case 4:return void Promise.resolve(d(200)).then(t.createCallback(2),t.errback);
case 2:body.canvas.selectedElements.length>0&&(this["#grippies"].style.display="block"),
t.state=-2;break;default:return t.end()}},this)},_scaleParams:function(t,e,n,r){var i,a,s,o,l=body.modKeys,u=l.ctrl,c=(l.alt,
l.shift);return"top"===r?u||c?u&&!c?(i=n.x+n.width/2,a=n.y+n.height,o=(n.height-e)/n.height,
s=o):!u&&c?(i=n.x+n.width/2,a=n.y+n.height/2,s=1,o=(n.height-n.height/2-e)/(n.height-n.height/2)):u&&c&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.height-n.height/2-e)/(n.height-n.height/2),s=o):(i=n.x+n.width/2,
a=n.y+n.height,s=1,o=(n.height-e)/n.height):"bottom"===r?u||c?u&&!c?(i=n.x+n.width/2,
a=n.y,o=(n.height+e)/n.height,s=o):!u&&c?(i=n.x+n.width/2,a=n.y+n.height/2,s=1,o=(n.height-n.height/2+e)/(n.height-n.height/2)):u&&c&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.height-n.height/2+e)/(n.height-n.height/2),s=o):(i=n.x+n.width/2,
a=n.y,s=1,o=(n.height+e)/n.height):"left"===r?u||c?u&&!c?(i=n.x+n.width,a=n.y+n.height/2,
s=(n.width-t)/n.width,o=s):!u&&c?(i=n.x+n.width/2,a=n.y+n.height/2,s=(n.width-n.width/2-t)/(n.width-n.width/2),
o=1):u&&c&&(i=n.x+n.width/2,a=n.y+n.height/2,s=(n.width-n.width/2-t)/(n.width-n.width/2),
o=s):(i=n.x+n.width,a=n.y+n.height/2,s=(n.width-t)/n.width,o=1):"right"===r&&(u||c?u&&!c?(i=n.x,
a=n.y+n.height/2,s=(n.width+t)/n.width,o=s):!u&&c?(i=n.x+n.width/2,a=n.y+n.height/2,
s=(n.width-n.width/2+t)/(n.width-n.width/2),o=1):u&&c&&(i=n.x+n.width/2,a=n.y+n.height/2,
s=o=(n.width-n.width/2+t)/(n.width-n.width/2)):(i=n.x,a=n.y+n.height/2,s=(n.width+t)/n.width,
o=1)),"top-left"===r?u||c?u&&!c?(i=n.x+n.width,a=n.y+n.height,s=(n.width-t)/n.width,
o=(n.height-e)/n.height,s=o=C(s,o)):!u&&c?(i=n.x+n.width/2,a=n.y+n.height/2,s=(n.width-n.width/2-t)/(n.width-n.width/2),
o=(n.height-n.height/2-e)/(n.height-n.height/2)):u&&c&&(i=n.x+n.width/2,a=n.y+n.height/2,
s=(n.width-n.width/2-t)/(n.width-n.width/2),o=(n.height-n.height/2-e)/(n.height-n.height/2),
s>=0&&o>=0?s=o=C(s,o):0>=s&&0>=o?s=o=k(s,o):S(s)>=S(o)?s=-o:o=-s):(i=n.x+n.width,
a=n.y+n.height,s=(n.width-t)/n.width,o=(n.height-e)/n.height):"top-right"===r?u||c?u&&!c?(i=n.x,
a=n.y+n.height,s=(n.width+t)/n.width,o=(n.height-e)/n.height,s=o=C(s,o)):!u&&c?(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.width-n.width/2+t)/(n.width-n.width/2),o=(n.height-n.height/2-e)/(n.height-n.height/2)):u&&c&&(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.width-n.width/2+t)/(n.width-n.width/2),o=(n.height-n.height/2-e)/(n.height-n.height/2),
s>=0&&o>=0?s=o=C(s,o):0>=s&&0>=o?s=o=k(s,o):S(s)>=S(o)?s=-o:o=-s):(i=n.x,a=n.y+n.height,
s=(n.width+t)/n.width,o=(n.height-e)/n.height):"bottom-left"===r?u||c?u&&!c?(i=n.x+n.width,
a=n.y,s=(n.width-t)/n.width,o=(n.height+e)/n.height,s=o=C(s,o)):!u&&c?(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.width-n.width/2-t)/(n.width-n.width/2),o=(n.height-n.height/2+e)/(n.height-n.height/2)):u&&c&&(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.width-n.width/2-t)/(n.width-n.width/2),o=(n.height-n.height/2+e)/(n.height-n.height/2),
s>=0&&o>=0?s=o=C(s,o):0>=s&&0>=o?s=o=k(s,o):S(s)>=S(o)?s=-o:o=-s):(i=n.x+n.width,
a=n.y,s=(n.width-t)/n.width,o=(n.height+e)/n.height):"bottom-right"===r&&(u||c?u&&!c?(i=n.x,
a=n.y,s=(n.width+t)/n.width,o=(n.height+e)/n.height,s=o=C(s,o)):!u&&c?(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.width-n.width/2+t)/(n.width-n.width/2),o=(n.height-n.height/2+e)/(n.height-n.height/2)):u&&c&&(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.width-n.width/2+t)/(n.width-n.width/2),o=(n.height-n.height/2+e)/(n.height-n.height/2),
s>=0&&o>=0?s=o=C(s,o):0>=s&&0>=o?s=o=k(s,o):S(s)>=S(o)?s=-o:o=-s):(i=n.x,a=n.y,s=(n.width+t)/n.width,
o=(n.height+e)/n.height)),{centerX:i,centerY:a,scaleX:s,scaleY:o}}},{},t)}(SVGGElement),P=i("g","bx-transformhud",O);
return{get default(){return P}}}),System.registerModule("elements/bx-transformtool",[],function(){
"use strict";var t=System.get("utils/bbox").getClientBBox,e=System.get("utils/dom"),n=e.isTransformableElement,r=(e.createSVGRect,
e.createSVGMatrix),i=e.registerElement,a=System.get("utils/event").isMouseMoveIntentional,s=System.get("utils/rect"),o=s.rectContainsRect,l=s.transformRect,u=System.get("utils/relationship"),c=u.getCommonContainer,d=u.getContainers,h=System.get("utils/constants").GRAPHICS_ELEMENTS,f=System.get("classes/enum")["default"],v=System.get("classes/vector")["default"],m=Math.abs,b=new f("initialTransforms"),g=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var t=!0,e=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(s){e=!0,n=s}finally{try{
t||null==i["return"]||i["return"]()}finally{if(e)throw n}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("transform-hud"),
body.canvas.enableHud("rubber-band-hud"),body.canvas.artboards.addEventListener("mousedown",this._mouseDownListener=function(e){
t._onArtboardMouseDown(e)}),body.canvas.artboards.addEventListener("contextmenu",this._contextMenuListener=function(e){
t._onArtboardContextMenu(e)})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),
body.canvas.disableHud("transform-hud"),body.canvas.disableHud("rubber-band-hud"),
body.canvas.artboards.removeEventListener("mousedown",this._mouseDownListener),body.canvas.artboards.removeEventListener("contextmenu",this._contextMenuListener);
},_onArtboardContextMenu:function(t){var e=body.canvas.getHitArtboardElements(t.clientX,t.clientY);
if(e.length>0){var n=e[e.length-1],r=d(n,body.canvas.currentArtboard),i=body.canvas.selectedElements.includes(n),a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
body.canvas.selectedElements.includes(c)&&(i=!0)}}catch(h){s=!0,o=h}finally{try{a||null==u["return"]||u["return"]();
}finally{if(s)throw o}}i===!1&&this._onArtboardClickSelectableElementHit(n)}else this._onArtboardClickBackgroundHit(t);
},_onArtboardMouseDown:function(t){var e=this;if(0===t.button){var n,r,i=t.target;
this._intentionalDragStarted=!1,window.addEventListener("mousemove",n=function(r){
if(a(t,r)!==!1){window.removeEventListener("mousemove",n),e._intentionalDragStarted=!0;
var i=new v(r.clientX-t.clientX,r.clientY-t.clientY),s=m(i.x)>m(i.y)?"horizontal":"vertical";
e._onIntentionalDragStart(t,r,s)}}),window.addEventListener("mouseup",r=function(a){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
t.clientX===a.clientX&&t.clientY===a.clientY&&e._onArtboardClick(i,a)})}},_onArtboardClick:function(t,e){
if(0===e.button&&!body.canvas.huds.contains(t)&&!this._intentionalDragStarted){var r=body.canvas["#transform-hud"],i=body.canvas.getHitArtboardElements(e.clientX,e.clientY);
if(i.length>0){var a=i[i.length-1];if(e.detail%2===1)n(a)&&this._onArtboardClickSelectableElementHit(a);else if(e.detail%2===0){
var s=this._getContainerForHitElement(a);if(s)body.canvas.currentContainer=s,body.canvas.selectedElements=[];else if("use"===a.localName){
var o=body.canvas.artboards.querySelector(a.href.baseVal);if(o&&"symbol"===o.localName){
var l=o;body.canvas.editSymbol(l.id)}else r.mode="scale",body.toggleTool("edit-tool");
}else"text"===a.localName?(r.mode="scale",body.toggleTool("edit-tool")):(r.mode="scale",
body.toggleTool("edit-tool"))}}else this._onArtboardClickBackgroundHit(e)}},_onIntentionalDragStart:function(t,e,n){
if(!body.canvas.huds.contains(t.target)){var r=body.canvas.getHitArtboardElements(e.clientX,e.clientY);
r.length>0?this._onArtboardElementDragStart(e,r[r.length-1],n):this._onEmptySpaceDragStart(t);
}},_onArtboardClickSelectableElementHit:function(t){var e=body.modKeys,n=e.ctrl,r=(e.alt,
e.shift),i=d(t,body.canvas.currentArtboard),a=body.canvas.selectedElements.includes(t),s=!0,o=!1,l=void 0;
try{for(var u=void 0,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var f=u.value;
body.canvas.selectedElements.includes(f)&&(a=!0)}}catch(v){o=!0,l=v}finally{try{s||null==h["return"]||h["return"]();
}finally{if(o)throw l}}if(n||r){if(!n&&r)if(0===i.length)body.canvas.currentContainer=null,
body.canvas.selectedElements.includes(t)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==t}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[t]);else if(body.canvas.currentContainer&&body.canvas.currentContainer.contains(t)){
for(;t.parentNode!==body.canvas.currentContainer;)t=t.parentNode;body.canvas.selectedElements.includes(t)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==t}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[t]);
}else{for(var m=c(t,body.canvas.currentContainer);t.parentNode!==m&&t.parentNode!==body.canvas.currentArtboard;)t=t.parentNode;
body.canvas.currentContainer=m,body.canvas.selectedElements.includes(t)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==t}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[t]);
}else if(n&&!r){for(var b=null,g=t.parentElement;g!==body.canvas.currentArtboard;g=g.parentElement)if("g"===g.localName||"a"===g.localName){
b=g;break}body.canvas.selectedElements=[t],body.canvas.currentContainer=b}else if(n&&r)if(body.canvas.selectedElements.includes(t)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==t}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[t]),
0===body.canvas.selectedElements.length)body.canvas.currentContainer=null;else for(var p=body.canvas.selectedElements[0].parentElement;p!==body.canvas.currentArtboard;p=p.parentElement)if("g"===p.localName||"a"===p.localName){
body.canvas.currentContainer=p;break}}else if(a)"scale"===body.canvas.transformHud.mode?body.canvas.transformHud.mode="rotate-and-skew":body.canvas.transformHud.mode="scale";else if(body.canvas.transformHud.mode="scale",
0===i.length)body.canvas.currentContainer=null,body.canvas.selectedElements=[t];else{
var y=body.canvas.currentContainer;if(y&&y.contains(t)){for(;t.parentNode!==y;)t=t.parentNode;
body.canvas.selectedElements=[t]}else{for(var _=c(t,y);t.parentNode!==_&&t.parentNode!==body.canvas.currentArtboard;)t=t.parentNode;
body.canvas.currentContainer=_,body.canvas.selectedElements=[t]}}},_onArtboardElementDragStart:function(t,e,n){
var i,a,s=d(e,body.canvas.currentArtboard),o=!1;body.canvas.undoManager.checkpoint("Transform"),
body.canvas.selectedElements.includes(e)&&(o=!0);var l=!0,u=!1,h=void 0;try{for(var f=void 0,v=s[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){
var m=f.value;body.canvas.selectedElements.includes(m)&&(o=!0)}}catch(g){u=!0,h=g;
}finally{try{l||null==v["return"]||v["return"]()}finally{if(u)throw h}}if(!o)if(0===s.length)body.canvas.currentContainer=null,
body.canvas.selectedElements=[e];else{for(var p=c(e,body.canvas.currentArtboard);e.parentNode!==p&&e.parentNode!==body.canvas.currentArtboard;)e=e.parentNode;
body.canvas.currentContainer=p,body.canvas.selectedElements=[e]}var y=body.registerCursor("move",300),_=!0,x=!1,w=void 0;
try{for(var S=void 0,C=body.canvas.selectedElements[Symbol.iterator]();!(_=(S=C.next()).done);_=!0){
var k=S.value,E=k.getScreenCTM(),A=E.inverse(),T=r(k.transform.baseVal.consolidate().matrix),L=T.multiplySelf(A);
k[b.initialTransforms]={clientToUserTransform:E,initialClientTransform:L}}}catch(M){
x=!0,w=M}finally{try{_||null==C["return"]||C["return"]()}finally{if(x)throw w}}window.addEventListener("mousemove",i=function(e){
var i=e.clientX-t.clientX,a=e.clientY-t.clientY;body.modKeys.shift&&("vertical"===n?i=0:"horizontal"===n&&(a=0));
var s=!0,o=!1,l=void 0;try{for(var u=void 0,c=body.canvas.selectedElements[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value,h=d[b.initialTransforms],f=h.clientToUserTransform,v=h.initialClientTransform,m=r(v);
m.translateSelf(i,a),m.multiplySelf(f),d.setAttribute("transform",m.toString())}}catch(g){
o=!0,l=g}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l}}}),
window.addEventListener("mouseup",a=function(){window.removeEventListener("mousemove",i),
window.removeEventListener("mouseup",a),body.unregisterCursor(y)})},_onArtboardClickBackgroundHit:function(t){
if(0===t.button){var e=body.modKeys,n=e.ctrl,r=e.shift;n||r||(2===t.detail&&(body.canvas.currentContainer=null),
body.canvas.selectedElements=[])}},_onEmptySpaceDragStart:function(e){var n=e,r=n.clientX,i=n.clientY;
body.canvas.rubberBandHud.grabSelection(r,i,function(e){var n=[],r=body.canvas.currentContainer||body.canvas.currentArtboard,i=body.canvas.currentArtboard.getScreenCTM().inverse(),a=!0,s=!1,u=void 0;
try{for(var c=void 0,d=r.children[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){
var f=c.value;if(h.includes(f.localName)||"g"===f.localName){var v=t(f);v=l(v,i);var m=0===v.width&&0===v.height;
!m&&o(e,v)&&n.push(f)}}}catch(b){s=!0,u=b}finally{try{a||null==d["return"]||d["return"]();
}finally{if(s)throw u}}body.canvas.selectedElements=$traceurRuntime.spread(n)})},
_getContainerForHitElement:function(t){for(var e=[],n=t.parentElement;n!==body.canvas.currentArtboard&&n!==body.canvas.currentContainer;n=n.parentElement)("g"===n.localName||"a"===n.localName)&&e.push(n);
var r=e.length>0?e[e.length-1]:null;return r}},{},e)}(HTMLElement),p=i("bx-transformtool",g);
return{get default(){return p}}}),System.registerModule("elements/bx-typographycontrols",[],function(){
"use strict";System.get("elements/bx-button"),System.get("elements/bx-fontfamilybutton"),
System.get("elements/bx-fontfamilypicker"),System.get("elements/bx-select"),System.get("elements/bx-selectitem"),
System.get("elements/bx-slider");var t=System.get("utils/bbox").getUserBBox,e=(System.get("utils/constants").TEXT_CONTENT_ELEMENTS,
System.get("utils/dom")),n=(e.closest,e.createElement),r=e.createSVGMatrix,i=e.createSVGPoint,a=e.registerElement,s=System.get("utils/font"),o=s.formatFontWeightForDisplay,l=s.matchFontWeight,u=s.normalizeFontWeight,c=System.get("utils/math").round,d=System.get("utils/style").queryStylableElements,h=System.get("utils/time").throttle,f=System.get("utils/transform").getTransformToElement,v=System.get("utils/text"),m=(v.isValidFontFamilyValue,
v.getTspansIntersectedByRange,v.normalizeTextInRangeBeforeEditing),b=v.normalizeTextInRangeAfterEditing,g=System.get("classes/decomposed-transform")["default"],p=Number.parseFloat,y='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-typographycontrols.css");\n  </style>\n\n  <div id="master-view">\n    <section id="font-section">\n      <h2 id="font-heading">Font</h2>\n\n      <div id="font-family-div">\n        <h3 id="font-family-heading">Family</h3>\n        <bx-fontfamilybutton id="font-family-button" label="Arial"></bx-fontfamilybutton>\n      </div>\n\n      <div id="font-face-div">\n        <h3 id="font-face-heading">Face</h3>\n\n        <div class="hbox">\n          <bx-select id="font-weight-select" value="400">\n            <bx-selectitem value="400" label="Normal"></bx-selectitem>\n          </bx-select>\n\n          <bx-button\n            id="italic-font-style-button"\n            value="italic"\n            tooltip="Italic"\n            icon="italic"\n            iconsize="28"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="small-caps-font-variant-button"\n            value="small-caps"\n            tooltip="Small Caps"\n            icon="small-caps"\n            iconsize="28"\n            skin="iconic">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="font-size-div">\n        <h3 id="font-size-heading">Size</h3>\n\n        <bx-slider\n          id="font-size-slider"\n          title=""\n          value="0"\n          min="1"\n          precision="0">\n        </bx-slider>\n      </div>\n    </section>\n\n    <section id="transform-section">\n      <h2 id="transform-heading">Transform</h2>\n\n      <div class="hbox">\n        <div id="transform-buttons">\n          <bx-button\n            id="capitalize-button"\n            value="capitalize"\n            tooltip="Capitalize"\n            icon="capitalize"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="uppercase-button"\n            value="uppercase"\n            tooltip="Uppercase"\n            icon="uppercase"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="lowercase-button"\n            value="lowercase"\n            tooltip="Lowercase"\n            icon="lowercase"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n        </div>\n\n        <bx-button\n          id="text-on-path-button"\n          value="text-on-path"\n          tooltip="Text on Path"\n          icon="text-on-path"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="decoration-section">\n      <h2 id="decoration-heading">Decoration</h2>\n\n      <div id="decoration-buttons">\n        <bx-button\n          id="underline-button"\n          value="underline"\n          tooltip="Underline"\n          icon="underline"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="line-through-button"\n          value="line-through"\n          tooltip="Line-through"\n          icon="line-through"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="overline-button"\n          value="overline"\n          tooltip="Overline"\n          icon="overline"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="spacing-section">\n      <h2 id="spacing-heading">Spacing</h2>\n\n      <div id="letter-spacing-div">\n        <h3 id="letter-spacing-heading">Letter</h2>\n\n        <bx-slider\n          id="letter-spacing-slider"\n          title=""\n          value="0"\n          step="0.1"\n          precision="2">\n        </bx-slider>\n      </div>\n\n      <div id="word-spacing-div">\n        <h3 id="word-spacing-heading">Word</h2>\n\n        <bx-slider\n          id="word-spacing-slider"\n          title=""\n          value="0"\n          step="0.1"\n          precision="2">\n        </bx-slider>\n      </div>\n    </section>\n  </div>\n\n  <div id="font-family-view" hidden>\n    <nav id="navbar">\n      <bx-button\n        id="back-button"\n        icon="back"\n        iconsize="20"\n        skin="iconic"\n        label="<">\n      </bx-button>\n\n      <h1>Select font family</h1>\n    </nav>\n\n    <section id="font-family-picker-section">\n      <bx-fontfamilypicker id="font-family-picker"></bx-fontfamilypicker>\n    </section>\n  </div>\n',_=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var t=this;this._update60Th=h(this._update,60,this),this._update300Th=h(this._update,300,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=y;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,f=this.attributes[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,c=m}finally{try{
l||null==f["return"]||f["return"]()}finally{if(u)throw c}}this["#font-family-button"].addEventListener("click",function(e){
return t._onFontFamilyButtonClick(e)}),this["#font-weight-select"].addEventListener("change",function(e){
return t._onFontWeightSelectChange()}),this["#italic-font-style-button"].addEventListener("click",function(e){
return t._onItalicFontStyleButtonClick(e)}),this["#small-caps-font-variant-button"].addEventListener("click",function(e){
t._onSmallCapsFontVariantButtonClick(e)}),this["#font-size-slider"].addEventListener("changestart",function(){
return t._onFontSizeSliderChangeStart()}),this["#capitalize-button"].addEventListener("click",function(e){
return t._onTextTransformButtonClick(e)}),this["#uppercase-button"].addEventListener("click",function(e){
return t._onTextTransformButtonClick(e)}),this["#lowercase-button"].addEventListener("click",function(e){
return t._onTextTransformButtonClick(e)}),this["#text-on-path-button"].addEventListener("click",function(e){
return t._onTextOnPathButtonClick(e)}),this["#underline-button"].addEventListener("click",function(e){
return t._onTextDecorationButtonClick(e)}),this["#line-through-button"].addEventListener("click",function(e){
return t._onTextDecorationButtonClick(e)}),this["#overline-button"].addEventListener("click",function(e){
return t._onTextDecorationButtonClick(e)}),this["#letter-spacing-slider"].addEventListener("changestart",function(){
return t._onLetterSpacingSliderChangeStart()}),this["#word-spacing-slider"].addEventListener("changestart",function(){
return t._onWordSpacingSliderChangeStart()}),this["#back-button"].addEventListener("click",function(e){
return t._onBackButtonClick(e)}),this["#font-family-picker"].addEventListener("change",function(){
return t._onFontFamilyPickerValueChange()})},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
t._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
t._onSelectedTextRangeChange()}),this._update()},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
this._hideFontFamilyPickerView()},_onSelectedElementsChange:function(){this["#font-family-view"].hidden||this._hideFontFamilyPickerView(),
this._update60Th()},_onSelectedTextRangeChange:function(){this._update300Th()},_onArtboardMutation:function(t){
this._update300Th()},_onFontFamilyButtonClick:function(t){this._showFontFamilyPickerView();
},_onFontWeightSelectChange:function(){body.canvas.undoManager.checkpoint("Font weight");
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;m(n);var r=d("font-weight",e,n),i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;
u.style.fontWeight=this["#font-weight-select"].value}}catch(c){a=!0,s=c}finally{try{
i||null==l["return"]||l["return"]()}finally{if(a)throw s}}b(n)},_onItalicFontStyleButtonClick:function(t){
if(0===t.button){body.canvas.undoManager.checkpoint("Font style");var e=body.canvas,n=e.selectedElements,r=e.selectedTextRange;
m(r);var i=d("font-style",n,r),a=!0,s=!1,o=void 0;try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;c.style.fontStyle=t.target.pressed&&!t.target.mixed?"normal":"italic";
}}catch(h){s=!0,o=h}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o;
}}}},_onSmallCapsFontVariantButtonClick:function(t){if(0===t.button){body.canvas.undoManager.checkpoint("Font variant");
var e=body.canvas,n=e.selectedElements,r=e.selectedTextRange;m(r);var i=d("font-variant",n,r),a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
c.style.fontVariant=t.target.pressed&&!t.target.mixed?"normal":"small-caps"}}catch(h){
s=!0,o=h}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}}},
_onTextTransformButtonClick:function(t){if(0===t.button){body.canvas.undoManager.checkpoint("Text transform");
var e=body.canvas,n=e.selectedElements,r=e.selectedTextRange;m(r);var i=d("text-transform",n,r),a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
c.style.textTransform=t.target.pressed&&!t.target.mixed?"none":t.target.value}}catch(h){
s=!0,o=h}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}b(r);
}},_onTextDecorationButtonClick:function(){if(0===event.button){body.canvas.undoManager.checkpoint("Text decoration");
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;m(n);var r=d("text-decoration",e,n),i=event.target,a=i.pressed,s=i.mixed,o=!0,l=!1,u=void 0;
try{for(var c=void 0,h=r[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var f=c.value,v=f.style.textDecoration.includes("underline"),g=f.style.textDecoration.includes("line-through"),p=f.style.textDecoration.includes("overline");
"underline"===event.target.value?v=!a||a&&s:"line-through"===event.target.value?g=!a||a&&s:"overline"===event.target.value&&(p=!a||a&&s);
var y="";v&&(y+="underline "),g&&(y+="line-through "),p&&(y+="overline "),""===y?f.style.textDecoration=null:f.style.textDecoration=y.trim();
}}catch(_){l=!0,u=_}finally{try{o||null==h["return"]||h["return"]()}finally{if(l)throw u;
}}b(n)}},_onFontSizeSliderChangeStart:function(){var t=this;body.canvas.undoManager.checkpoint("Font size");
var e=body.canvas,n=e.selectedElements,r=e.selectedTextRange;m(r);var i,a,s=d("font-size",n,r);
this._isChangingFontSizeSlider=!0,this["#font-size-slider"].addEventListener("change",i=function(){
t["#font-size-slider"].mixed=!1;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=s[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=f(o,body.canvas.currentArtboard).inverse(),u=g.fromSVGMatrix(l).scaleY,c=t["#font-size-slider"].value*u;
o.style.fontSize=c}}catch(d){n=!0,r=d}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}),this["#font-size-slider"].addEventListener("changeend",a=function(){
t["#font-size-slider"].removeEventListener("change",i),t["#font-size-slider"].removeEventListener("changeend",a),
b(r),t._isChangingFontSizeSlider=!1})},_onLetterSpacingSliderChangeStart:function(){
var t=this;body.canvas.undoManager.checkpoint("Letter spacing");var e=body.canvas,n=e.selectedElements,r=e.selectedTextRange;
m(r);var i,a,s=d("letter-spacing",n,r);this._isChangingLetterSpacingSlider=!0,this["#letter-spacing-slider"].addEventListener("change",i=function(){
t["#letter-spacing-slider"].mixed=!1;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=s[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=f(o,body.canvas.currentArtboard).inverse(),u=g.fromSVGMatrix(l).scaleX,c=t["#letter-spacing-slider"].value*u;
o.style.letterSpacing=c}}catch(d){n=!0,r=d}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}),this["#letter-spacing-slider"].addEventListener("changeend",a=function(){
t["#letter-spacing-slider"].removeEventListener("change",i),t["#letter-spacing-slider"].removeEventListener("changeend",a),
b(r),t._isChangingLetterSpacingSlider=!1})},_onWordSpacingSliderChangeStart:function(){
var t=this;body.canvas.undoManager.checkpoint("Word spacing");var e=body.canvas,n=e.selectedElements,r=e.selectedTextRange;
m(r);var i,a,s=d("word-spacing",n,r);this._isChangingWordSpacingSlider=!0,this["#word-spacing-slider"].addEventListener("change",i=function(){
t["#word-spacing-slider"].mixed=!1;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=s[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=f(o,body.canvas.currentArtboard).inverse(),u=g.fromSVGMatrix(l).scaleX,c=t["#word-spacing-slider"].value*u;
o.style.wordSpacing=c}}catch(d){n=!0,r=d}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}),this["#word-spacing-slider"].addEventListener("changeend",a=function(){
t["#word-spacing-slider"].removeEventListener("change",i),t["#word-spacing-slider"].removeEventListener("changeend",a),
b(r),t._isChangingWordSpacingSlider=!1})},_onTextOnPathButtonClick:function(e){body.canvas.undoManager.checkpoint("Put text on path");
var a=$traceurRuntime.spread(body.canvas.selectedElements).filter(function(t){return"text"===t.localName;
}),s=!0,o=!1,l=void 0;try{for(var u=void 0,d=a[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){
var h=u.value,f=$traceurRuntime.spread(h.children).find(function(t){return"textPath"===t.localName;
});if(f){var v=t(h),m=body.canvas.artboards.querySelector(f.href.baseVal);m.remove(),
h.innerHTML=f.innerHTML,h.setAttribute("x",v.x),h.setAttribute("y",v.y+v.height/2);
}else{var b=t(h),y=r(h.transform.baseVal.consolidate().matrix),_=p(getComputedStyle(h).fontSize),x=g.fromSVGMatrix(y).scaleY,w=c(_*x,2);
h.style.fontSize=w;var S=i(b.x,b.y+b.height).matrixTransform(y),C=i(b.x+b.width/2,b.y).matrixTransform(y),k=i(b.x+b.width,b.y+b.height).matrixTransform(y),E="M "+S.x+" "+S.y+" Q "+C.x+" "+C.y+" "+k.x+" "+k.y,A=n("svg:path");
A.setAttribute("id",body.canvas.generateUniqueID("path")),A.setAttribute("d",E),A.setAttribute("style","fill: none; stroke: red; stroke-width: 2;"),
h.parentElement.append(A),h.removeAttribute("x"),h.removeAttribute("y"),h.removeAttribute("transform");
var T=n("svg:textPath");T.href.baseVal="#"+A.id,T.innerHTML=h.innerHTML,h.innerHTML="",
h.append(T)}}}catch(L){o=!0,l=L}finally{try{s||null==d["return"]||d["return"]()}finally{
if(o)throw l}}},_onFontFamilyPickerValueChange:function(){var t,e,n,r,i,a,s,o,l,u,c;
return $traceurRuntime.asyncWrap(function(h){for(;;)switch(h.state){case 0:t=this["#font-family-picker"].value,
h.state=9;break;case 9:h.state=t?3:-2;break;case 3:e=body.canvas,n=e.selectedElements,
r=e.selectedTextRange,body.canvas.undoManager.checkpoint("Font family"),h.state=4;
break;case 4:return void Promise.resolve(body.canvas.googleFontsManager.importFamily(t)).then(h.createCallback(2),h.errback);
case 2:m(r),i=d("font-family",n,r),a=!0,s=!1,o=void 0;try{for(l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)c=l.value,
c.style.fontFamily="'"+t+"'"}catch(f){s=!0,o=f}finally{try{a||null==u["return"]||u["return"]();
}finally{if(s)throw o}}b(r),body.canvas.googleFontsManager.deportUnsusedFamilies(),
h.state=-2;break;default:return h.end()}},this)},_onBackButtonClick:function(t){0===t.button&&this._hideFontFamilyPickerView();
},_showFontFamilyPickerView:function(){this["#font-family-view"].hidden=!1,this["#font-family-picker"].enabled=!0,
this["#master-view"].hidden=!0},_hideFontFamilyPickerView:function(){this["#font-family-view"].hidden=!0,
this["#font-family-picker"].enabled=!1,this["#master-view"].hidden=!1},_update:function(){
var t=body.canvas,e=t.selectedElements,n=t.selectedTextRange;this._selectedTextContentElements=d("font-family",e,n),
this._updateFontSection(),this._updateTransformSection(),this._updateDecorationSection(),
this._updateSpacingSection()},_updateFontSection:function(){var t,e;if(!this._isChangingFontSizeSlider){
var r=this._selectedTextContentElements,i=(t=r[Symbol.iterator](),(e=t.next()).done?void 0:e.value),a=$traceurRuntime.iteratorToArray(t);
if(i){var s=getComputedStyle(i),d=s.fontFamily.split(",")[0].replaceAll("'",""),h=p(s.fontSize),v=u(s.fontWeight),m=body.canvas.googleFontsManager.getImportedWeights(d);
0===m.length&&(m=["100","200","300","400","500","600","700","800","900"]);var b=l(v,m),y=f(i.closest("text"),body.canvas.currentArtboard),_=g.fromSVGMatrix(y).scaleY,x=c(h*_,2),w=!1,S=!1,C=!1,k=!1,E=!1,A=!0,T=!1,L=void 0;
try{for(var M=void 0,j=a[Symbol.iterator]();!(A=(M=j.next()).done);A=!0){var R=M.value,O=getComputedStyle(R),P=O.fontFamily.split(",")[0].replaceAll("'",""),I=p(O.fontSize),D=u(O.fontWeight),N=body.canvas.googleFontsManager.getImportedWeights(P);
0===N.length&&(N=["100","200","300","400","500","600","700","800","900"]);var V=l(D,N);
P!==d&&(w=!0),V!==b&&(S=!0),O.fontStyle!==s.fontStyle&&(C=!0),O.fontVariant!==s.fontVariant&&(k=!0),
I!==h&&(E=!0)}}catch(B){T=!0,L=B}finally{try{A||null==j["return"]||j["return"]()}finally{
if(T)throw L}}this["#font-weight-select"].innerHTML="";var U=!0,z=!1,G=void 0;try{
for(var H=void 0,F=m[Symbol.iterator]();!(U=(H=F.next()).done);U=!0){var q=H.value,$=n("bx-selectitem");
$.value=q,$.label=o(q),this["#font-weight-select"].append($)}}catch(W){z=!0,G=W}finally{
try{U||null==F["return"]||F["return"]()}finally{if(z)throw G}}this["#font-heading"].disabled=!1,
this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,
this["#font-family-button"].label=d,this["#font-family-button"].mixed=w,this["#font-face-heading"].disabled=!1,
this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=b,this["#font-weight-select"].mixed=S,
this["#italic-font-style-button"].disabled=!1,this["#italic-font-style-button"].mixed=C,
this["#italic-font-style-button"].pressed="italic"===s.fontStyle,this["#small-caps-font-variant-button"].disabled=!1,
this["#small-caps-font-variant-button"].mixed=k,this["#small-caps-font-variant-button"].pressed="small-caps"===s.fontVariant,
this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=x,
this["#font-size-slider"].mixed=E}else this["#font-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,
this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-face-heading"].disabled=!0,
this["#font-weight-select"].disabled=!0,this["#font-weight-select"].mixed=!1,this["#italic-font-style-button"].disabled=!0,
this["#italic-font-style-button"].mixed=!1,this["#italic-font-style-button"].pressed=!1,
this["#small-caps-font-variant-button"].disabled=!0,this["#small-caps-font-variant-button"].mixed=!1,
this["#small-caps-font-variant-button"].pressed=!1,this["#font-size-heading"].disabled=!0,
this["#font-size-slider"].value=0,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,
this._hideFontFamilyPickerView()}},_updateTransformSection:function(){var t,e,n=this._selectedTextContentElements,r=(t=n[Symbol.iterator](),
(e=t.next()).done?void 0:e.value),i=$traceurRuntime.iteratorToArray(t);if(r){var a=getComputedStyle(r),s=!1,o=!0,l=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,f=getComputedStyle(h);
f.textTransform!==a.textTransform&&(s=!0)}}catch(v){l=!0,u=v}finally{try{o||null==d["return"]||d["return"]();
}finally{if(l)throw u}}this["#transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,
this["#capitalize-button"].mixed=s,this["#capitalize-button"].pressed="capitalize"===a.textTransform,
this["#uppercase-button"].disabled=!1,this["#uppercase-button"].pressed="uppercase"===a.textTransform,
this["#uppercase-button"].mixed=s,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].pressed="lowercase"===a.textTransform,
this["#lowercase-button"].mixed=s}else this["#transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,
this["#capitalize-button"].mixed=!1,this["#capitalize-button"].pressed=!1,this["#uppercase-button"].disabled=!0,
this["#uppercase-button"].mixed=!1,this["#uppercase-button"].pressed=!1,this["#lowercase-button"].disabled=!0,
this["#lowercase-button"].mixed=!1,this["#lowercase-button"].pressed=!1;var m=$traceurRuntime.spread(body.canvas.selectedElements).filter(function(t){
return"text"===t.localName});if(0===m.length)this["#text-on-path-button"].pressed=!1,
this["#text-on-path-button"].disabled=!0;else{var b=!1,g=null!==m[0].querySelector("textPath"),p=!0,y=!1,_=void 0;
try{for(var x=void 0,w=m[Symbol.iterator]();!(p=(x=w.next()).done);p=!0){var S=x.value,C=null!==S.querySelector("textPath");
if(C!==g){b=!0;break}}}catch(k){y=!0,_=k}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw _}}this["#text-on-path-button"].pressed=g,this["#text-on-path-button"].disabled=!1,
this["#text-on-path-button"].mixed=b}},_updateDecorationSection:function(){var t,e,n=body.canvas,r=n.selectedElements,i=n.selectedTextRange,a=d("text-decoration",r,i),s=a,o=(t=s[Symbol.iterator](),
(e=t.next()).done?void 0:e.value),l=$traceurRuntime.iteratorToArray(t);if(o){var u=o.style.textDecoration,c=!1,h=!1,f=!1,v=!0,m=!1,b=void 0;
try{for(var g=void 0,p=l[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){var y=(g.value,
o.style.textDecoration);u!==y&&(u.includes("underline")!==y.includes("underline")&&(c=!0),
u.includes("line-through")!==y.includes("line-through")&&(h=!0),u.includes("overline")!==y.includes("overline")&&(f=!0));
}}catch(_){m=!0,b=_}finally{try{v||null==p["return"]||p["return"]()}finally{if(m)throw b;
}}this["#decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=c,
this["#underline-button"].pressed=u.includes("underline"),this["#line-through-button"].disabled=!1,
this["#line-through-button"].mixed=h,this["#line-through-button"].pressed=u.includes("line-through"),
this["#overline-button"].disabled=!1,this["#overline-button"].mixed=f,this["#overline-button"].pressed=u.includes("overline");
}else this["#decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,
this["#underline-button"].mixed=!1,this["#underline-button"].pressed=!1,this["#line-through-button"].disabled=!0,
this["#line-through-button"].mixed=!1,this["#line-through-button"].pressed=!1,this["#overline-button"].disabled=!0,
this["#overline-button"].mixed=!1,this["#overline-button"].pressed=!1},_updateSpacingSection:function(){
var t,e;if(!this._isChangingLetterSpacingSlider&&!this._isChangingWordSpacingSlider){
var n=this._selectedTextContentElements,r=(t=n[Symbol.iterator](),(e=t.next()).done?void 0:e.value),i=$traceurRuntime.iteratorToArray(t);
if(r){var a=getComputedStyle(r),s=a.letterSpacing;s="normal"===s?0:p(s);var o=a.wordSpacing;
o="normal"===o?0:p(o);var l=!1,u=!1,d=!0,h=!1,f=void 0;try{for(var v=void 0,m=i[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){
var b=v.value,g=getComputedStyle(b),y=g.letterSpacing;y="normal"===y?0:p(y);var _=g.wordSpacing;
_="normal"===_?0:p(_),y!==s&&(l=!0),_!==o&&(u=!0)}}catch(x){h=!0,f=x}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw f}}this["#spacing-heading"].disabled=!1,
this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=c(s,2),
this["#letter-spacing-slider"].mixed=l,this["#letter-spacing-slider"].disabled=!1,
this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=c(o,2),
this["#word-spacing-slider"].mixed=u,this["#word-spacing-slider"].disabled=!1}else this["#spacing-heading"].disabled=!0,
this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,
this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,
this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,
this["#word-spacing-slider"].disabled=!0}}},{},e)}(HTMLElement),x=a("bx-typographycontrols",_);
return{get default(){return x}}}),System.registerModule("elements/bx-viewboxedithud",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.createSVGMatrix,n=t.createSVGPoint,r=t.registerElement,i=System.get("utils/event").isMouseMoveIntentional,a=System.get("utils/math").round,s=Math.abs,o='\n  <style>@import url("stylesheets/bx-viewboxedithud.css");</style>\n\n  <path id="outer-area"></path>\n  <rect id="inner-area" width="0" height="0" x="0" y="0"></rect>\n\n  <g id="resize-grippies" opacity="0">\n    <line class="resize-grippie side-resize-grippie" data-position="left"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="right"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="top"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="bottom"></line>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="top-left">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="top-right">\n      <rect width="30" height="30"></rect>\n      <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="bottom-left">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="bottom-right">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n    </g>\n  </g>\n',l=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=o;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#inner-area"].addEventListener("mousedown",function(e){
return t._onInnerAreaMouseDown(e)}),this["#resize-grippies"].addEventListener("mousedown",function(e){
return t._onResizeGrippiesMouseDown(e)})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(e){
t._onZoomChange()}),this["#resize-grippies"].style.opacity="1",this._update()},_onDisabled:function(){
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener)},_onArtboardMutation:function(t){
(t.target===body.canvas||t.target.parentElement===body.canvas)&&this._update()},_onZoomChange:function(){
this._update()},_onInnerAreaMouseDown:function(t){var e,n,r=this;window.addEventListener("mousemove",n=function(a){
i(t,a,7)!==!1&&(window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e),
r._onInnerAreaDragStart(t))}),window.addEventListener("mouseup",e=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",e)})},_onInnerAreaDragStart:function(t){body.canvas.undoManager.checkpoint("View box");
var e,r,i=body.registerCursor("-webkit-grabbing",900),s=body.canvas.currentArtboard.viewBox.x,o=body.canvas.currentArtboard.viewBox.y,l=body.canvas.currentArtboard.getScreenCTM().inverse(),u=body.canvas.zoom<500?0:2,c=n(t.clientX,t.clientY);
c=c.matrixTransform(l),window.addEventListener("mousemove",r=function(t){var e=n(t.clientX,t.clientY);
e=e.matrixTransform(l);var r={x:e.x-c.x,y:e.y-c.y},i=s+r.x,d=o+r.y;null!==i&&(body.canvas.currentArtboard.viewBox.x=a(i,u)),
null!==d&&(body.canvas.currentArtboard.viewBox.y=a(d,u))}),window.addEventListener("mouseup",e=function(){
window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",e),
body.unregisterCursor(i)})},_onResizeGrippiesMouseDown:function(t){body.canvas.undoManager.checkpoint("View box");
var e=t.target.closest(".resize-grippie"),r=e.getAttribute("data-position"),i=body.canvas.currentArtboard.getScreenCTM().inverse(),o=body.canvas.currentArtboard.viewBox.x,l=body.canvas.currentArtboard.viewBox.y,u=body.canvas.currentArtboard.viewBox.width,c=body.canvas.currentArtboard.viewBox.height,d=body.canvas.zoom<500?0:2,h=n(t.clientX,t.clientY);
h=h.matrixTransform(i);var f,v,m;"left"===r||"right"===r?m="ew-resize":"top"===r||"bottom"===r?m="ns-resize":"top-left"===r?m="nwse-resize":"top-right"===r?m="nesw-resize":"bottom-left"===r?m="nesw-resize":"bottom-right"===r&&(m="nwse-resize");
var b=body.registerCursor(m,999);window.addEventListener("mousemove",f=function(t){
var e=n(t.clientX,t.clientY);e=e.matrixTransform(i);var f={x:e.x-h.x,y:e.y-h.y},v=null,m=null,b=null,g=null;
"left"===r?(b=u-f.x,v=o+f.x,0>b&&(b=s(b),v=o+u)):"right"===r?(b=u+f.x,0>b&&(b=s(b),
v=o-b)):"top"===r?(g=c-f.y,m=l+f.y,0>g&&(g=s(g),m=l+c)):"bottom"===r?(g=c+f.y,0>g&&(g=s(g),
m=l-g)):"top-left"===r?(b=u-f.x,g=c-f.y,v=o+f.x,m=l+f.y,0>b&&(b=s(b),v=o+u),0>g&&(g=s(g),
m=l+c)):"top-right"===r?(b=u+f.x,g=c-f.y,m=l+f.y,0>b&&(b=s(b),v=o-b),0>g&&(g=s(g),
m=l+c)):"bottom-left"===r?(b=u-f.x,g=c+f.y,v=o+f.x,0>b&&(b=s(b),v=o+u),0>g&&(g=s(g),
m=l-g)):"bottom-right"===r&&(b=u+f.x,g=c+f.y,0>b&&(b=s(b),v=o-b),0>g&&(g=s(g),m=l-g)),
null!==v&&(body.canvas.currentArtboard.viewBox.x=a(v,d)),null!==m&&(body.canvas.currentArtboard.viewBox.y=a(m,d)),
null!==b&&(body.canvas.currentArtboard.viewBox.width=a(b,d)),null!==g&&(body.canvas.currentArtboard.viewBox.height=a(g,d));
}),window.addEventListener("mouseup",v=function(){window.removeEventListener("mousemove",f),
window.removeEventListener("mouseup",v),body.unregisterCursor(b)})},_update:function(){
if(body.canvas.currentArtboard.hasAttribute("viewBox")===!1)this.style.visibility="hidden";else{
this.style.visibility="visible";var t=body.canvas.currentArtboard.viewBox,n=t.x,r=t.y,i=t.width,a=t.height;
this["#inner-area"].setAttribute("x",n),this["#inner-area"].setAttribute("y",r),this["#inner-area"].setAttribute("width",i),
this["#inner-area"].setAttribute("height",a);var s=1e6,o="\n        M "+-s+", "+-s+"\n        L "+2*s+", "+-s+"\n        L "+2*s+", "+2*s+"\n        L "+-s+", "+2*s+"\n        Z\n        M "+n+", "+r+"\n        L "+n+", "+(r+a)+"\n        L "+(n+i)+", "+(r+a)+"\n        L "+(n+i)+", "+r+"\n        Z\n      ";
this["#outer-area"].setAttribute("d",o);var l=(10/body.canvas.scale,!0),u=!1,c=void 0;
try{for(var d=void 0,h=this["#resize-grippies"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value,v=f.getAttribute("data-position");if("left"===v)f.x1.baseVal.value=n,
f.y1.baseVal.value=r,f.x2.baseVal.value=n,f.y2.baseVal.value=r+a;else if("right"===v)f.x1.baseVal.value=n+i,
f.y1.baseVal.value=r,f.x2.baseVal.value=n+i,f.y2.baseVal.value=r+a;else if("top"===v)f.x1.baseVal.value=n,
f.y1.baseVal.value=r,f.x2.baseVal.value=n+i,f.y2.baseVal.value=r;else if("bottom"===v)f.x1.baseVal.value=n,
f.y1.baseVal.value=r+a,f.x2.baseVal.value=n+i,f.y2.baseVal.value=r+a;else if("top-left"===v){
var m=e();m.scaleSelf(1/body.canvas.scale,n,r),m.translateSelf(n-15,r-15),f.setAttribute("transform",m.toString());
}else if("top-right"===v){var b=e();b.scaleSelf(1/body.canvas.scale,n+i,r),b.translateSelf(n+i-15,r-15),
f.setAttribute("transform",b.toString())}else if("bottom-left"===v){var g=e();g.scaleSelf(1/body.canvas.scale,n,r+a),
g.translateSelf(n-15,r+a-15),f.setAttribute("transform",g.toString())}else if("bottom-right"===v){
var p=e();p.scaleSelf(1/body.canvas.scale,n+i,r+a),p.translateSelf(n+i-15,r+a-15),
f.setAttribute("transform",p.toString())}}}catch(y){u=!0,c=y}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}}}},{},t)}(SVGGElement),u=r("g","bx-viewboxedithud",l);return{
get default(){return u}}}),System.registerModule("elements/bx-viewboxhud",[],function(){
"use strict";var t=System.get("utils/dom").registerElement,e='\n  <style>@import url("stylesheets/bx-viewboxhud.css");</style>\n  <rect id="outline" width="0" height="0" x="0" y="0"></rect>\n  <path id="overlay"></path>\n',n=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=e;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(o){n=!0,r=o}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(v){u=!0,c=v}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(t){
"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e)})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onArtboardMutation:function(t){(t.target===body.canvas||t.target.parentElement===body.canvas)&&this._update();
},_update:function(){body.canvas.currentArtboard.hasAttribute("viewBox")?(this["#outline"].setAttribute("width",body.canvas.currentArtboard.viewBox.width),
this["#outline"].setAttribute("height",body.canvas.currentArtboard.viewBox.height),
this["#outline"].setAttribute("x",body.canvas.currentArtboard.viewBox.x),this["#outline"].setAttribute("y",body.canvas.currentArtboard.viewBox.y)):(this["#outline"].setAttribute("width",0),
this["#outline"].setAttribute("height",0),this["#outline"].setAttribute("x",-99999),
this["#outline"].setAttribute("y",-99999))}},{},t)}(SVGGElement),r=t("g","bx-viewboxhud",n);
return{get default(){return r}}}),System.registerModule("elements/bx-viewcontrols",[],function(){
"use strict";System.get("elements/bx-alignmentselect"),System.get("elements/bx-checkbox"),
System.get("elements/bx-select"),System.get("elements/bx-slider"),System.get("elements/bx-switch"),
System.get("elements/bx-input");var t=System.get("utils/dom"),e=t.registerElement,n=t.unitTypeToString,r=System.get("utils/math").round,i={
1:"none",2:"xMinYMin",3:"xMidYMin",4:"xMaxYMin",5:"xMinYMid",6:"xMidYMid",7:"xMaxYMid",
8:"xMinYMax",9:"xMidYMax",10:"xMaxYMax"},a='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-viewcontrols.css");\n  </style>\n\n  <main>\n    <section id="view-box-section">\n      <div class="row-div">\n        <h2>View box</h2>\n        <bx-switch id="view-box-switch"></bx-switch>\n      </div>\n\n      <div class="row-div">\n        <div id="view-box-x-div">\n          <h3 id="view-box-x-heading">X</h3>\n\n          <bx-slider\n            id="view-box-x-slider"\n            title="View box X"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-y-div">\n          <h3 id="view-box-y-heading">Y</h3>\n\n          <bx-slider\n            id="view-box-y-slider"\n            title="View box Y"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-width-div">\n          <h3 id="view-box-width-heading"></h3>\n\n          <bx-slider\n            id="view-box-width-slider"\n            title="View box Width"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-height-div">\n          <h3 id="view-box-height-heading"></h3>\n\n          <bx-slider\n            id="view-box-height-slider"\n            title="View box Height"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n      </div>\n    </section>\n\n    <section id="aspect-ratio-section">\n      <div class="row-div">\n        <h2 id="preserve-aspect-ratio-heading">Preserve aspect ratio</h2>\n        <bx-switch id="preserve-aspect-ratio-switch"></bx-switch>\n      </div>\n\n      <h3 id="align-heading">Align</h3>\n      <div class="row-div">\n        <bx-alignmentselect id="align-select"></bx-alignmentselect>\n        <bx-checkbox label="Slice" id="slice-checkbox"></bx-checkbox>\n      </div>\n    </section>\n\n    <section id="viewport-section">\n      <h2>Viewport</h2>\n\n      <div id="viewport-width-div">\n        <div class="row-div">\n          <h3>Width</h2>\n          <bx-switch id="viewport-width-switch"></bx-switch>\n        </div>\n\n        <div class="row-div">\n          <bx-slider\n            id="viewport-width-slider"\n            title="Viewport Width"\n            value="0"\n            min="0"\n            precision="0">\n          </bx-slider>\n\n          <bx-select id="viewport-width-unit-select" value="px">\n            <bx-selectitem value="px"  label="px"></bx-selectitem>\n            <bx-selectitem value="cm"  label="cm"></bx-selectitem>\n            <bx-selectitem value="mm"  label="mm"></bx-selectitem>\n            <bx-selectitem value="in"  label="in"></bx-selectitem>\n            <bx-selectitem value="pt"  label="pt"></bx-selectitem>\n            <bx-selectitem value="pc"  label="pc"></bx-selectitem>\n            <bx-selectitem value="ems" label="ems"></bx-selectitem>\n            <bx-selectitem value="exs" label="exs"></bx-selectitem>\n            <bx-selectitem value="%"   label="%"></bx-selectitem>\n            <bx-selectitem value=""    label=" "></bx-selectitem>\n          </bx-select>\n        </div>\n      </div>\n\n      <div id="viewport-height-div">\n        <div class="row-div">\n          <h3>Height</h2>\n          <bx-switch id="viewport-height-switch"></bx-switch>\n        </div>\n\n        <div class="row-div">\n          <bx-slider\n            id="viewport-height-slider"\n            title="Viewport Height"\n            value="0"\n            min="0"\n            precision="0">\n          </bx-slider>\n\n          <bx-select id="viewport-height-unit-select" value="px">\n            <bx-selectitem value="px"  label="px"></bx-selectitem>\n            <bx-selectitem value="cm"  label="cm"></bx-selectitem>\n            <bx-selectitem value="mm"  label="mm"></bx-selectitem>\n            <bx-selectitem value="in"  label="in"></bx-selectitem>\n            <bx-selectitem value="pt"  label="pt"></bx-selectitem>\n            <bx-selectitem value="pc"  label="pc"></bx-selectitem>\n            <bx-selectitem value="ems" label="ems"></bx-selectitem>\n            <bx-selectitem value="exs" label="exs"></bx-selectitem>\n            <bx-selectitem value="%"   label="%"></bx-selectitem>\n            <bx-selectitem value=""    label=" "></bx-selectitem>\n          </bx-select>\n        </div>\n      </div>\n    </section>\n  </main>\n',s=function(t){
function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{
createdCallback:function(){var t=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a;var e=!0,n=!1,r=void 0;try{for(var i=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,f=this.attributes[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;this.attributeChangedCallback(v.name)}}catch(m){c=!0,d=m}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#view-box-switch"].addEventListener("change",function(){
return t._onViewBoxSwitchChange()}),this["#view-box-x-slider"].addEventListener("changestart",function(){
return t._onViewBoxXSliderChangeStart()}),this["#view-box-y-slider"].addEventListener("changestart",function(){
return t._onViewBoxYSliderChangeStart()}),this["#view-box-width-slider"].addEventListener("changestart",function(){
return t._onViewBoxWidthSliderChangeStart()}),this["#view-box-height-slider"].addEventListener("changestart",function(){
return t._onViewBoxHeightSliderChangeStart()}),this["#viewport-width-switch"].addEventListener("change",function(){
return t._onViewportWidthSwitchChange()}),this["#viewport-width-slider"].addEventListener("changestart",function(){
return t._onViewportWidthSliderChangeStart()}),this["#viewport-width-unit-select"].addEventListener("change",function(){
return t._onViewportWidthUnitSelectChange()}),this["#viewport-height-switch"].addEventListener("change",function(){
return t._onViewportHeightSwitchChange()}),this["#viewport-height-slider"].addEventListener("changestart",function(){
return t._onViewportHeightSliderChangeStart()}),this["#viewport-height-unit-select"].addEventListener("change",function(){
return t._onViewportHeightUnitSelectChange()}),this["#preserve-aspect-ratio-switch"].addEventListener("change",function(){
return t._onPreserveAspectRatioSwitchChange()}),this["#slice-checkbox"].addEventListener("change",function(){
return t._onSliceCheckboxChange()}),this["#align-select"].addEventListener("change",function(){
return t._onAlignSelectChange()})},attributeChangedCallback:function(t){"enabled"===t&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var t=this;this._isChangingSlider=!1,this._update(),this._toggleViewboxHud(),
body.addEventListener("toolchange",this._toolChangeListener=function(){t._toggleViewboxHud();
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(e){
t._onArtboardMutation(e.detail)})},_onDisabled:function(){body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.disableHud("viewbox-edit-hud")},_onArtboardMutation:function(t){this._isChangingSlider||(t.target===body.canvas.artboards||t.target.parentNode===body.canvas.artboards)&&this._update();
},_onViewBoxSwitchChange:function(){body.canvas.undoManager.checkpoint("View box"),
this["#view-box-switch"].toggled===!0?this._lastViewBox?body.canvas.currentArtboard.setAttribute("viewBox",this._lastViewBox):body.canvas.currentArtboard.setAttribute("viewBox","0 0 500 500"):(this._lastViewBox=body.canvas.currentArtboard.getAttribute("viewBox"),
body.canvas.currentArtboard.removeAttribute("viewBox"))},_onViewBoxXSliderChangeStart:function(t){
var e,n,r=this,i=this["#view-box-x-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",e=function(){body.canvas.currentArtboard.viewBox.x=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",e),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxYSliderChangeStart:function(t){
var e,n,r=this,i=this["#view-box-y-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",e=function(){body.canvas.currentArtboard.viewBox.y=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",e),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxWidthSliderChangeStart:function(t){
var e,n,r=this,i=this["#view-box-width-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",e=function(){body.canvas.currentArtboard.viewBox.width=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",e),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxHeightSliderChangeStart:function(t){
var e,n,r=this,i=this["#view-box-height-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",e=function(){body.canvas.currentArtboard.viewBox.height=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",e),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewportWidthSwitchChange:function(){
body.canvas.undoManager.checkpoint("Viewport width"),this["#viewport-width-switch"].toggled===!0?this._lastViewportWidth?body.canvas.currentArtboard.setAttribute("width",this._lastViewportWidth):body.canvas.currentArtboard.setAttribute("width","500px"):(this._lastViewportWidth=body.canvas.currentArtboard.getAttribute("width"),
body.canvas.currentArtboard.removeAttribute("width"))},_onViewportWidthSliderChangeStart:function(){
var t,e,n=this,r=this["#viewport-width-slider"],i=this["#viewport-width-unit-select"];
body.canvas.undoManager.checkpoint("Viewport width"),this._isChangingSlider=!0,r.addEventListener("change",t=function(){
body.canvas.currentArtboard.setAttribute("width",r.value+i.value)}),r.addEventListener("changeend",e=function(){
r.removeEventListener("change",t),r.removeEventListener("changeend",e),n._isChangingSlider=!1;
})},_onViewportWidthUnitSelectChange:function(){var t=this["#viewport-width-slider"],e=this["#viewport-width-unit-select"];
body.canvas.undoManager.checkpoint("Viewport width unit"),body.canvas.currentArtboard.setAttribute("width",t.value+e.value);
},_onViewportHeightSwitchChange:function(){body.canvas.undoManager.checkpoint("Viewport height"),
this["#viewport-height-switch"].toggled===!0?this._lastViewportHeight?body.canvas.currentArtboard.setAttribute("height",this._lastViewportHeight):body.canvas.currentArtboard.setAttribute("height","500px"):(this._lastViewportHeight=body.canvas.currentArtboard.getAttribute("height"),
body.canvas.currentArtboard.removeAttribute("height"))},_onViewportHeightSliderChangeStart:function(){
var t,e,n=this,r=this["#viewport-height-slider"],i=this["#viewport-height-unit-select"];
body.canvas.undoManager.checkpoint("Viewport height"),this._isChangingSlider=!0,r.addEventListener("change",t=function(){
body.canvas.currentArtboard.setAttribute("height",r.value+i.value)}),r.addEventListener("changeend",e=function(){
r.removeEventListener("change",t),r.removeEventListener("changeend",e),n._isChangingSlider=!1;
})},_onViewportHeightUnitSelectChange:function(){var t=this["#viewport-height-slider"],e=this["#viewport-height-unit-select"];
body.canvas.undoManager.checkpoint("Viewport height unit"),body.canvas.currentArtboard.setAttribute("height",t.value+e.value);
},_onPreserveAspectRatioSwitchChange:function(){body.canvas.undoManager.checkpoint("Preserve aspect ratio"),
this["#preserve-aspect-ratio-switch"].toggled?this._lastAspectRatio?body.canvas.currentArtboard.setAttribute("preserveAspectRatio",this._lastAspectRatio):body.canvas.currentArtboard.removeAttribute("preserveAspectRatio"):(this._lastAspectRatio=body.canvas.currentArtboard.getAttribute("preserveAspectRatio"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio","none"))},_onSliceCheckboxChange:function(){
if(body.canvas.undoManager.checkpoint("Slice"),"xMidYMid"===this["#align-select"].value&&this["#slice-checkbox"].checked===!1)body.canvas.currentArtboard.removeAttribute("preserveAspectRatio");else{
var t=this["#align-select"].value;"none"!==t&&this["#slice-checkbox"].checked&&(t+=" slice"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio",t)}},_onAlignSelectChange:function(){
if(body.canvas.undoManager.checkpoint("Align"),"xMidYMid"===this["#align-select"].value&&this["#slice-checkbox"].checked===!1)body.canvas.currentArtboard.removeAttribute("preserveAspectRatio");else{
var t=this["#align-select"].value;"none"!==t&&this["#slice-checkbox"].checked&&(t+=" slice"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio",t)}},_update:function(){
this._updateViewBoxSection(),this._updateViewportSection(),this._updateAspectRatioSection();
},_updateViewBoxSection:function(){body.canvas.currentArtboard.hasAttribute("viewBox")?(this["#view-box-switch"].toggled=!0,
this["#view-box-x-slider"].value=r(body.canvas.currentArtboard.viewBox.x,4),this["#view-box-x-slider"].disabled=!1,
this["#view-box-x-heading"].disabled=!1,this["#view-box-y-slider"].value=r(body.canvas.currentArtboard.viewBox.y,4),
this["#view-box-y-slider"].disabled=!1,this["#view-box-y-heading"].disabled=!1,this["#view-box-width-slider"].value=r(body.canvas.currentArtboard.viewBox.width,4),
this["#view-box-width-slider"].disabled=!1,this["#view-box-width-heading"].disabled=!1,
this["#view-box-height-slider"].value=r(body.canvas.currentArtboard.viewBox.height,4),
this["#view-box-height-slider"].disabled=!1,this["#view-box-height-heading"].disabled=!1):(this["#view-box-switch"].toggled=!1,
this["#view-box-x-slider"].value=0,this["#view-box-x-slider"].disabled=!0,this["#view-box-x-heading"].disabled=!0,
this["#view-box-y-slider"].value=0,this["#view-box-y-slider"].disabled=!0,this["#view-box-y-heading"].disabled=!0,
this["#view-box-width-slider"].value=0,this["#view-box-width-slider"].disabled=!0,
this["#view-box-width-heading"].disabled=!0,this["#view-box-height-slider"].value=0,
this["#view-box-height-slider"].disabled=!0,this["#view-box-height-heading"].disabled=!0);
},_updateViewportSection:function(){body.canvas.currentArtboard!==body.canvas.masterArtboard?this["#viewport-section"].hidden=!0:(this["#viewport-section"].hidden=!1,
body.canvas.currentArtboard.hasAttribute("width")===!1?(this["#viewport-width-slider"].disabled=!0,
this["#viewport-width-slider"].value=0,this["#viewport-width-switch"].toggled=!1,
this["#viewport-width-unit-select"].disabled=!0,this["#viewport-width-unit-select"].value="px"):(this["#viewport-width-slider"].disabled=!1,
this["#viewport-width-slider"].value=body.canvas.currentArtboard.width.valueInSpecifiedUnits,
this["#viewport-width-switch"].toggled=!0,this["#viewport-width-unit-select"].disabled=!1,
this["#viewport-width-unit-select"].value=n(body.canvas.currentArtboard.width.unitType)),
body.canvas.currentArtboard.hasAttribute("height")===!1?(this["#viewport-height-slider"].disabled=!0,
this["#viewport-height-slider"].value=0,this["#viewport-height-switch"].toggled=!1,
this["#viewport-height-unit-select"].disabled=!0,this["#viewport-height-unit-select"].value="px"):(this["#viewport-height-slider"].disabled=!1,
this["#viewport-height-slider"].value=body.canvas.currentArtboard.height.valueInSpecifiedUnits,
this["#viewport-height-switch"].toggled=!0,this["#viewport-height-unit-select"].disabled=!1,
this["#viewport-height-unit-select"].value=n(body.canvas.currentArtboard.height.unitType)));
},_updateAspectRatioSection:function(){body.canvas.currentArtboard.hasAttribute("viewBox")===!1?(this["#preserve-aspect-ratio-heading"].disabled=!0,
this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,
this["#slice-checkbox"].checked=!1,this["#slice-checkbox"].disabled=!0,this["#align-heading"].disabled=!0,
this["#align-select"].value=null,this["#align-select"].disabled=!0):"none"===i[body.canvas.currentArtboard.preserveAspectRatio.align]?(this["#preserve-aspect-ratio-heading"].disabled=!1,
this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,
this["#align-heading"].disabled=!0,this["#align-select"].value=null,this["#align-select"].disabled=!0,
this["#slice-checkbox"].checked=!1,this["#slice-checkbox"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,
this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,
this["#align-heading"].disabled=!1,this["#align-select"].value=i[body.canvas.currentArtboard.preserveAspectRatio.align],
this["#align-select"].disabled=!1,this["#slice-checkbox"].checked=2===body.canvas.currentArtboard.preserveAspectRatio.meetOrSlice,
this["#slice-checkbox"].disabled=!1)},_toggleViewboxHud:function(){"transform-tool"===body.currentTool.id||"edit-tool"===body.currentTool.id?body.canvas.enableHud("viewbox-edit-hud"):body.canvas.disableHud("viewbox-edit-hud");
}},{},t)}(HTMLElement),o=e("bx-viewcontrols",s);return{get default(){return o}}}),
System.registerModule("libs/opentype",[],function(){"use strict";!function(t){if("object"===("undefined"==typeof exports?"undefined":$traceurRuntime["typeof"](exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{
var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,
e.opentype=t()}}(function(){return function t(e,n,r){function i(s,o){if(!n[s]){if(!e[s]){
var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);
var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={
exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r);
}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);
return i}({1:[function(t,e,n){function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288);
}function i(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,
this.destLen=0,this.ltree=new r,this.dtree=new r}function a(t,e,n,r){var i,a;for(i=0;n>i;++i)t[i]=0;
for(i=0;30-n>i;++i)t[i+n]=i/n|0;for(a=r,i=0;30>i;++i)e[i]=a,a+=1<<t[i]}function s(t,e){
var n;for(n=0;7>n;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,
n=0;24>n;++n)t.trans[n]=256+n;for(n=0;144>n;++n)t.trans[24+n]=n;for(n=0;8>n;++n)t.trans[168+n]=280+n;
for(n=0;112>n;++n)t.trans[176+n]=144+n;for(n=0;5>n;++n)e.table[n]=0;for(e.table[5]=32,
n=0;32>n;++n)e.trans[n]=n}function o(t,e,n,r){var i,a;for(i=0;16>i;++i)t.table[i]=0;
for(i=0;r>i;++i)t.table[e[n+i]]++;for(t.table[0]=0,a=0,i=0;16>i;++i)E[i]=a,a+=t.table[i];
for(i=0;r>i;++i)e[n+i]&&(t.trans[E[e[n+i]]++]=i)}function l(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],
t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function u(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,
t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function c(t,e){
for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,a=t.tag;
do r=2*r+(1&a),a>>>=1,++i,n+=e.table[i],r-=e.table[i];while(r>=0);return t.tag=a,
t.bitcount-=i,e.trans[n+r]}function d(t,e,n){var r,i,a,s,l,d;for(r=u(t,5,257),i=u(t,5,1),
a=u(t,4,4),s=0;19>s;++s)k[s]=0;for(s=0;a>s;++s){var h=u(t,3,0);k[S[s]]=h}for(o(C,k,0,19),
l=0;r+i>l;){var f=c(t,C);switch(f){case 16:var v=k[l-1];for(d=u(t,2,3);d;--d)k[l++]=v;
break;case 17:for(d=u(t,3,3);d;--d)k[l++]=0;break;case 18:for(d=u(t,7,11);d;--d)k[l++]=0;
break;default:k[l++]=f}}o(e,k,0,r),o(n,k,r,i)}function h(t,e,n){for(;;){var r=c(t,e);
if(256===r)return m;if(256>r)t.dest[t.destLen++]=r;else{var i=void 0,a=void 0,s=void 0,o=void 0;
for(r-=257,i=u(t,y[r],_[r]),a=c(t,n),s=t.destLen-u(t,x[a],w[a]),o=s;s+i>o;++o)t.dest[t.destLen++]=t.dest[o];
}}}function f(t){for(var e,n,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(e=t.source[t.sourceIndex+1],
e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],
e!==(65535&~n))return b;for(t.sourceIndex+=4,r=e;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];
return t.bitcount=0,m}function v(t,e){var n,r,a=new i(t,e);do{switch(n=l(a),btype=u(a,2,0),
btype){case 0:r=f(a);break;case 1:r=h(a,g,p);break;case 2:d(a,a.ltree,a.dtree),r=h(a,a.ltree,a.dtree);
break;default:r=b}if(r!==m)throw new Error("Data error")}while(!n);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest;
}var m=0,b=-3,g=new r,p=new r,y=new Uint8Array(30),_=new Uint16Array(30),x=new Uint8Array(30),w=new Uint16Array(30),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new r,k=new Uint8Array(320),E=new Uint16Array(16);
s(g,p),a(y,_,4,3),a(x,w,2,1),y[28]=0,_[28]=258,e.exports=v},{}],2:[function(t,e,n){
n.argument=function(t,e){if(!t)throw new Error(e)},n.assert=n.argument},{}],3:[function(t,e,n){
function r(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}n.line=r;
},{}],4:[function(t,e,n){function r(t){this.font=t}function i(t){this.cmap=t}function a(t,e){
this.encoding=t,this.charset=e}function s(t){var e;switch(t.version){case 1:this.names=n.standardNames.slice();
break;case 2:for(this.names=new Array(t.numberOfGlyphs),e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<n.standardNames.length?this.names[e]=n.standardNames[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-n.standardNames.length];
break;case 2.5:for(this.names=new Array(t.numberOfGlyphs),e=0;e<t.numberOfGlyphs;e++)this.names[e]=n.standardNames[e+t.glyphNameIndex[e]];
break;case 3:this.names=[]}}function o(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){
var a=r[i],s=n[a];e=t.glyphs.get(s),e.addUnicode(parseInt(a))}for(i=0;i<t.glyphs.length;i+=1)e=t.glyphs.get(i),
t.cffEncoding?e.name=t.cffEncoding.charset[i]:e.name=t.glyphNames.glyphIndexToName(i);
}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],d=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];
r.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),n=this.font.glyphs;
if(!n)return null;for(var r=0;r<n.length;r+=1)for(var i=n.get(r),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===e)return r;
},i.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.charCodeAt(0)]||0;
},a.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),n=this.encoding[e];
return this.charset.indexOf(n)},s.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t);
},s.prototype.glyphIndexToName=function(t){return this.names[t]},n.cffStandardStrings=l,
n.cffStandardEncoding=u,n.cffExpertEncoding=c,n.standardNames=d,n.DefaultEncoding=r,
n.CmapEncoding=i,n.CffEncoding=a,n.GlyphNames=s,n.addGlyphNames=o},{}],5:[function(t,e,n){
function r(t){t=t||{},t.empty||(l.checkArgument(t.familyName,"When creating a new Font object, familyName is required."),
l.checkArgument(t.styleName,"When creating a new Font object, styleName is required."),
l.checkArgument(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),
l.checkArgument(t.ascender,"When creating a new Font object, ascender is required."),
l.checkArgument(t.descender,"When creating a new Font object, descender is required."),
l.checkArgument(t.descender<0,"Descender should be negative (e.g. -512)."),this.names={
fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName
},postScriptName:{en:t.postScriptName||t.familyName+t.styleName},designer:{en:t.designer||" "
},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{
en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "
},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{
en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,
this.ascender=t.ascender,this.descender=t.descender),this.supported=!0,this.glyphs=new o.GlyphSet(this,t.glyphs||[]),
this.encoding=new s.DefaultEncoding(this),this.tables={}}var i=t("./path"),a=t("./tables/sfnt"),s=t("./encoding"),o=t("./glyphset"),l=t("./util");
r.prototype.hasChar=function(t){return null!==this.encoding.charToGlyphIndex(t)},
r.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t);
},r.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);
return n||(n=this.glyphs.get(0)),n},r.prototype.stringToGlyphs=function(t){for(var e=[],n=0;n<t.length;n+=1){
var r=t[n];e.push(this.charToGlyph(r))}return e},r.prototype.nameToGlyphIndex=function(t){
return this.glyphNames.nameToGlyphIndex(t)},r.prototype.nameToGlyph=function(t){var e=this.nametoGlyphIndex(t),n=this.glyphs.get(e);
return n||(n=this.glyphs.get(0)),n},r.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):"";
},r.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.getGposKerningValue;
return n?n(t,e):this.kerningPairs[t+","+e]||0},r.prototype.forEachGlyph=function(t,e,n,r,i,a){
e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=i||{};for(var s=void 0===i.kerning?!0:i.kerning,o=1/this.unitsPerEm*r,l=this.stringToGlyphs(t),u=0;u<l.length;u+=1){
var c=l[u];if(a(c,e,n,r,i),c.advanceWidth&&(e+=c.advanceWidth*o),s&&u<l.length-1){
var d=this.getKerningValue(c,l[u+1]);e+=d*o}}},r.prototype.getPath=function(t,e,n,r,a){
var s=new i.Path;return this.forEachGlyph(t,e,n,r,a,function(t,e,n,r){var i=t.getPath(e,n,r);
s.extend(i)}),s},r.prototype.getPaths=function(t,e,n,r,i){var a=[];return this.forEachGlyph(t,e,n,r,i,function(t,e,n,r){
var i=t.getPath(e,n,r);a.push(i)}),a},r.prototype.draw=function(t,e,n,r,i,a){this.getPath(e,n,r,i,a).draw(t);
},r.prototype.drawPoints=function(t,e,n,r,i,a){this.forEachGlyph(e,n,r,i,a,function(e,n,r,i){
e.drawPoints(t,n,r,i)})},r.prototype.drawMetrics=function(t,e,n,r,i,a){this.forEachGlyph(e,n,r,i,a,function(e,n,r,i){
e.drawMetrics(t,n,r,i)})},r.prototype.getEnglishName=function(t){var e=this.names[t];
return e?e.en:void 0},r.prototype.validate=function(){function t(t,e){t||n.push(e);
}function e(e){var n=r.getEnglishName(e);t(n&&n.trim().length>0,"No English "+e+" specified.");
}var n=[],r=this;e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),
e("version"),t(this.unitsPerEm>0,"No unitsPerEm specified.")},r.prototype.toTables=function(){
return a.fontToTable(this)},r.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),
this.toArrayBuffer()},r.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];
return n},r.prototype.download=function(){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily"),r=e.replace(/\s/g,"")+"-"+n+".otf",i=this.toArrayBuffer();
if(l.isBrowser())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,
window.requestFileSystem(window.TEMPORARY,i.byteLength,function(t){t.root.getFile(r,{
create:!0},function(t){t.createWriter(function(e){var n=new DataView(i),r=new Blob([n],{
type:"font/opentype"});e.write(r),e.addEventListener("writeend",function(){location.href=t.toURL();
},!1)})})},function(t){throw t});else{var a=t("fs"),s=l.arrayBufferToNodeBuffer(i);
a.writeFileSync(r,s)}},n.Font=r},{"./encoding":4,"./glyphset":7,"./path":10,"./tables/sfnt":27,
"./util":29,fs:void 0}],6:[function(t,e,n){function r(t,e){var n=e||{commands:[]};
return{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(t){
n=t}}}function i(t){this.bindConstructorValues(t)}var a=t("./check"),s=t("./draw"),o=t("./path");
i.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,
this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||void 0!==t.unicode?[t.unicode]:[],
t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),
t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",r(this,t.path));
},i.prototype.addUnicode=function(t){0===this.unicodes.length&&(this.unicode=t),this.unicodes.push(t);
},i.prototype.getPath=function(t,e,n){t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:72;
for(var r=1/this.path.unitsPerEm*n,i=new o.Path,a=this.path.commands,s=0;s<a.length;s+=1){
var l=a[s];"M"===l.type?i.moveTo(t+l.x*r,e+-l.y*r):"L"===l.type?i.lineTo(t+l.x*r,e+-l.y*r):"Q"===l.type?i.quadraticCurveTo(t+l.x1*r,e+-l.y1*r,t+l.x*r,e+-l.y*r):"C"===l.type?i.curveTo(t+l.x1*r,e+-l.y1*r,t+l.x2*r,e+-l.y2*r,t+l.x*r,e+-l.y*r):"Z"===l.type&&i.closePath();
}return i},i.prototype.getContours=function(){if(void 0===this.points)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){
var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return a.argument(0===e.length,"There are still points left in the current contour."),
t},i.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){
var i=t[r];"Z"!==i.type&&(e.push(i.x),n.push(i.y)),("Q"===i.type||"C"===i.type)&&(e.push(i.x1),
n.push(i.y1)),"C"===i.type&&(e.push(i.x2),n.push(i.y2))}var a={xMin:Math.min.apply(null,e),
yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),
leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),
isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),
a},i.prototype.draw=function(t,e,n,r){this.getPath(e,n,r).draw(t)},i.prototype.drawPoints=function(t,e,n,r){
function i(e,n,r,i){var a=2*Math.PI;t.beginPath();for(var s=0;s<e.length;s+=1)t.moveTo(n+e[s].x*i,r+e[s].y*i),
t.arc(n+e[s].x*i,r+e[s].y*i,2,0,a,!1);t.closePath(),t.fill()}e=void 0!==e?e:0,n=void 0!==n?n:0,
r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,s=[],o=[],l=this.path,u=0;u<l.commands.length;u+=1){
var c=l.commands[u];void 0!==c.x&&s.push({x:c.x,y:-c.y}),void 0!==c.x1&&o.push({x:c.x1,
y:-c.y1}),void 0!==c.x2&&o.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",i(s,e,n,a),t.fillStyle="red",
i(o,e,n,a)},i.prototype.drawMetrics=function(t,e,n,r){var i;e=void 0!==e?e:0,n=void 0!==n?n:0,
r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",
s.line(t,e,-1e4,e,1e4),s.line(t,-1e4,n,1e4,n);var a=this.xMin||0,o=this.yMin||0,l=this.xMax||0,u=this.yMax||0,c=this.advanceWidth||0;
t.strokeStyle="blue",s.line(t,e+a*i,-1e4,e+a*i,1e4),s.line(t,e+l*i,-1e4,e+l*i,1e4),
s.line(t,-1e4,n+-o*i,1e4,n+-o*i),s.line(t,-1e4,n+-u*i,1e4,n+-u*i),t.strokeStyle="green",
s.line(t,e+c*i,-1e4,e+c*i,1e4)},n.Glyph=i},{"./check":2,"./draw":3,"./path":10}],
7:[function(t,e,n){function r(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++)this.glyphs[n]=e[n];
this.length=e&&e.length||0}function i(t,e){return new o.Glyph({index:e,font:t})}function a(t,e,n,r,i,a){
return function(){var s=new o.Glyph({index:e,font:t});return s.path=function(){n(s,r,i);
var e=a(t.glyphs,s);return e.unitsPerEm=t.unitsPerEm,e},s}}function s(t,e,n,r){return function(){
var i=new o.Glyph({index:e,font:t});return i.path=function(){var e=n(t,i,r);return e.unitsPerEm=t.unitsPerEm,
e},i}}var o=t("./glyph");r.prototype.get=function(t){return"function"==typeof this.glyphs[t]&&(this.glyphs[t]=this.glyphs[t]()),
this.glyphs[t]},r.prototype.push=function(t,e){this.glyphs[t]=e,this.length++},n.GlyphSet=r,
n.glyphLoader=i,n.ttfGlyphLoader=a,n.cffGlyphLoader=s},{"./glyph":6}],8:[function(t,e,n){
function r(e,n){var r=t("fs");r.readFile(e,function(t,e){return t?n(t.message):void n(null,g.nodeBufferToArrayBuffer(e));
})}function i(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",
n.onload=function(){return 200!==n.status?e("Font could not be loaded: "+n.statusText):e(null,n.response);
},n.send()}function a(t,e){for(var n=[],r=12,i=0;e>i;i+=1){var a=m.getTag(t,r),s=m.getULong(t,r+8);
n.push({tag:a,offset:s,compression:!1}),r+=16}return n}function s(t,e){for(var n=[],r=44,i=0;e>i;i+=1){
var a=m.getTag(t,r),s=m.getULong(t,r+4),o=m.getULong(t,r+8),l=m.getULong(t,r+12),u=void 0;
u=l>o?"WOFF":!1,n.push({tag:a,offset:s,compression:u,compressedLength:o,originalLength:l
}),r+=20}return n}function o(t,e){if("WOFF"===e.compression){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.originalLength);
if(d(n,r),r.byteLength!==e.originalLength)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");
var i=new DataView(r.buffer,0);return{data:i,offset:0}}return{data:t,offset:e.offset
}}function l(t){var e,n,r,i=new f.Font({empty:!0}),l=new DataView(t,0),u=[],c=m.getTag(l,0);
if(c===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype",r=m.getUShort(l,4),
u=a(l,r);else if("OTTO"===c)i.outlinesFormat="cff",r=m.getUShort(l,4),u=a(l,r);else{
if("wOFF"!==c)throw new Error("Unsupported OpenType signature "+c);var d=m.getTag(l,4);
if(d===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype";else{if("OTTO"!==d)throw new Error("Unsupported OpenType flavor "+c);
i.outlinesFormat="cff"}r=m.getUShort(l,12),u=s(l,r)}for(var v,b,g,O,P,I,D,N,V=0;r>V;V+=1){
var B=u[V],U=void 0;switch(B.tag){case"cmap":U=o(l,B),i.tables.cmap=p.parse(U.data,U.offset),
i.encoding=new h.CmapEncoding(i.tables.cmap);break;case"fvar":b=B;break;case"head":
U=o(l,B),i.tables.head=S.parse(U.data,U.offset),i.unitsPerEm=i.tables.head.unitsPerEm,
e=i.tables.head.indexToLocFormat;break;case"hhea":U=o(l,B),i.tables.hhea=C.parse(U.data,U.offset),
i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;
break;case"hmtx":P=B;break;case"ltag":U=o(l,B),n=A.parse(U.data,U.offset);break;case"maxp":
U=o(l,B),i.tables.maxp=L.parse(U.data,U.offset),i.numGlyphs=i.tables.maxp.numGlyphs;
break;case"name":N=B;break;case"OS/2":U=o(l,B),i.tables.os2=j.parse(U.data,U.offset);
break;case"post":U=o(l,B),i.tables.post=R.parse(U.data,U.offset),i.glyphNames=new h.GlyphNames(i.tables.post);
break;case"glyf":g=B;break;case"loca":D=B;break;case"CFF ":v=B;break;case"kern":I=B;
break;case"GPOS":O=B}}var z=o(l,N);if(i.tables.name=M.parse(z.data,z.offset,n),i.names=i.tables.name,
g&&D){var G=0===e,H=o(l,D),F=T.parse(H.data,H.offset,i.numGlyphs,G),q=o(l,g);i.glyphs=x.parse(q.data,q.offset,F,i);
}else{if(!v)throw new Error("Font doesn't contain TrueType or CFF outlines.");var $=o(l,v);
y.parse($.data,$.offset,i)}var W=o(l,P);if(k.parse(W.data,W.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs),
h.addGlyphNames(i),I){var Y=o(l,I);i.kerningPairs=E.parse(Y.data,Y.offset)}else i.kerningPairs={};
if(O){var X=o(l,O);w.parse(X.data,X.offset,i)}if(b){var Z=o(l,b);i.tables.fvar=_.parse(Z.data,Z.offset,i.names);
}return i}function u(t,e){var n="undefined"==typeof window,a=n?r:i;a(t,function(t,n){
if(t)return e(t);var r=l(n);return e(null,r)})}function c(e){var n=t("fs"),r=n.readFileSync(e);
return l(g.nodeBufferToArrayBuffer(r))}var d=t("tiny-inflate"),h=t("./encoding"),f=t("./font"),v=t("./glyph"),m=t("./parse"),b=t("./path"),g=t("./util"),p=t("./tables/cmap"),y=t("./tables/cff"),_=t("./tables/fvar"),x=t("./tables/glyf"),w=t("./tables/gpos"),S=t("./tables/head"),C=t("./tables/hhea"),k=t("./tables/hmtx"),E=t("./tables/kern"),A=t("./tables/ltag"),T=t("./tables/loca"),L=t("./tables/maxp"),M=t("./tables/name"),j=t("./tables/os2"),R=t("./tables/post");
n._parse=m,n.Font=f.Font,n.Glyph=v.Glyph,n.Path=b.Path,n.parse=l,n.load=u,n.loadSync=c;
},{"./encoding":4,"./font":5,"./glyph":6,"./parse":9,"./path":10,"./tables/cff":12,
"./tables/cmap":13,"./tables/fvar":14,"./tables/glyf":15,"./tables/gpos":16,"./tables/head":17,
"./tables/hhea":18,"./tables/hmtx":19,"./tables/kern":20,"./tables/loca":21,"./tables/ltag":22,
"./tables/maxp":23,"./tables/name":24,"./tables/os2":25,"./tables/post":26,"./util":29,
fs:void 0,"tiny-inflate":1}],9:[function(t,e,n){function r(t,e){this.data=t,this.offset=e,
this.relativeOffset=0}n.getByte=function(t,e){return t.getUint8(e)},n.getCard8=n.getByte,
n.getUShort=function(t,e){return t.getUint16(e,!1)},n.getCard16=n.getUShort,n.getShort=function(t,e){
return t.getInt16(e,!1)},n.getULong=function(t,e){return t.getUint32(e,!1)},n.getFixed=function(t,e){
var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535},n.getTag=function(t,e){
for(var n="",r=e;e+4>r;r+=1)n+=String.fromCharCode(t.getInt8(r));return n},n.getOffset=function(t,e,n){
for(var r=0,i=0;n>i;i+=1)r<<=8,r+=t.getUint8(e+i);return r},n.getBytes=function(t,e,n){
for(var r=[],i=e;n>i;i+=1)r.push(t.getUint8(i));return r},n.bytesToString=function(t){
for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e};var i={"byte":1,
uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};r.prototype.parseByte=function(){
var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,
t},r.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);
return this.relativeOffset+=1,t},r.prototype.parseCard8=r.prototype.parseByte,r.prototype.parseUShort=function(){
var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,
t},r.prototype.parseCard16=r.prototype.parseUShort,r.prototype.parseSID=r.prototype.parseUShort,
r.prototype.parseOffset16=r.prototype.parseUShort,r.prototype.parseShort=function(){
var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,
t},r.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;
return this.relativeOffset+=2,t},r.prototype.parseULong=function(){var t=n.getULong(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,t},r.prototype.parseFixed=function(){var t=n.getFixed(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,t},r.prototype.parseOffset16List=r.prototype.parseUShortList=function(t){
for(var e=new Array(t),r=this.data,i=this.offset+this.relativeOffset,a=0;t>a;a++)e[a]=n.getUShort(r,i),
i+=2;return this.relativeOffset+=2*t,e},r.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";
this.relativeOffset+=t;for(var i=0;t>i;i++)r+=String.fromCharCode(e.getUint8(n+i));
return r},r.prototype.parseTag=function(){return this.parseString(4)},r.prototype.parseLongDateTime=function(){
var t=n.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,
t},r.prototype.parseFixed=function(){var t=n.getULong(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,t/65536},r.prototype.parseVersion=function(){var t=n.getUShort(this.data,this.offset+this.relativeOffset),e=n.getUShort(this.data,this.offset+this.relativeOffset+2);
return this.relativeOffset+=4,t+e/4096/10},r.prototype.skip=function(t,e){void 0===e&&(e=1),
this.relativeOffset+=i[t]*e},n.Parser=r},{}],10:[function(t,e,n){function r(){this.commands=[],
this.fill="black",this.stroke=null,this.strokeWidth=1}r.prototype.moveTo=function(t,e){
this.commands.push({type:"M",x:t,y:e})},r.prototype.lineTo=function(t,e){this.commands.push({
type:"L",x:t,y:e})},r.prototype.curveTo=r.prototype.bezierCurveTo=function(t,e,n,r,i,a){
this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:a})},r.prototype.quadTo=r.prototype.quadraticCurveTo=function(t,e,n,r){
this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})},r.prototype.close=r.prototype.closePath=function(){
this.commands.push({type:"Z"})},r.prototype.extend=function(t){t.commands&&(t=t.commands),
Array.prototype.push.apply(this.commands,t)},r.prototype.draw=function(t){t.beginPath();
for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];"M"===n.type?t.moveTo(n.x,n.y):"L"===n.type?t.lineTo(n.x,n.y):"C"===n.type?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&t.closePath();
}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,
t.lineWidth=this.strokeWidth,t.stroke())},r.prototype.toPathData=function(t){function e(e){
return Math.round(e)===e?""+Math.round(e):e.toFixed(t)}function n(){for(var t="",n=0;n<arguments.length;n+=1){
var r=arguments[n];r>=0&&n>0&&(t+=" "),t+=e(r)}return t}t=void 0!==t?t:2;for(var r="",i=0;i<this.commands.length;i+=1){
var a=this.commands[i];"M"===a.type?r+="M"+n(a.x,a.y):"L"===a.type?r+="L"+n(a.x,a.y):"C"===a.type?r+="C"+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?r+="Q"+n(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(r+="Z");
}return r},r.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),
e+='"',this.fill&"black"!==this.fill&&(e+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),
this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),
e+="/>"},n.Path=r},{}],11:[function(t,e,n){function r(t,e,n){var r;for(r=0;r<e.length;r+=1){
var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n){var a=Object.keys(n);
for(r=0;r<a.length;r+=1){var s=a[r],o=n[s];void 0!==this[s]&&(this[s]=o)}}}var i=t("./check"),a=t("./types").encode,s=t("./types").sizeOf;
r.prototype.sizeOf=function(){for(var t=0,e=0;e<this.fields.length;e+=1){var n=this.fields[e],r=this[n.name];
if(void 0===r&&(r=n.value),"function"==typeof r.sizeOf)t+=r.sizeOf();else{var a=s[n.type];
i.assert("function"==typeof a,"Could not find sizeOf function for field"+n.name),
t+=a(r)}}return t},r.prototype.encode=function(){return a.TABLE(this)},n.Table=r},{
"./check":2,"./types":28}],12:[function(t,e,n){function r(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){
if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!r(t[n],e[n]))return!1;
return!0}return!1}function i(t,e,n){var r,i,a,s=[],o=[],l=P.getCard16(t,e);if(0!==l){
var u=P.getByte(t,e+2);i=e+(l+1)*u+2;var c=e+3;for(r=0;l+1>r;r+=1)s.push(P.getOffset(t,c,u)),
c+=u;a=i+s[l]}else a=e+2;for(r=0;r<s.length-1;r+=1){var d=P.getBytes(t,i+s[r],i+s[r+1]);
n&&(d=n(d)),o.push(d)}return{objects:o,startOffset:e,endOffset:a}}function a(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){
var i=t.parseByte(),a=i>>4,s=15&i;if(a===n)break;if(e+=r[a],s===n)break;e+=r[s]}return parseFloat(e);
}function s(t,e){var n,r,i,s;if(28===e)return n=t.parseByte(),r=t.parseByte(),n<<8|r;
if(29===e)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),s=t.parseByte(),
n<<24|r<<16|i<<8|s;if(30===e)return a(t);if(e>=32&&246>=e)return e-139;if(e>=247&&250>=e)return n=t.parseByte(),
256*(e-247)+n+108;if(e>=251&&254>=e)return n=t.parseByte(),256*-(e-251)-n-108;throw new Error("Invalid b0 "+e);
}function o(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],a=void 0;
if(a=1===i.length?i[0]:i,e.hasOwnProperty(r))throw new Error("Object "+e+" already has key "+r);
e[r]=a}return e}function l(t,e,n){e=void 0!==e?e:0;var r=new P.Parser(t,e),i=[],a=[];
for(n=void 0!==n?n:t.length;r.relativeOffset<n;){var l=r.parseByte();21>=l?(12===l&&(l=1200+r.parseByte()),
i.push([l,a]),a=[]):a.push(s(r,l))}return o(i)}function u(t,e){return e=390>=e?R.cffStandardStrings[e]:t[e-391];
}function c(t,e,n){for(var r={},i=0;i<e.length;i+=1){var a=e[i],s=t[a.op];void 0===s&&(s=void 0!==a.value?a.value:null),
"SID"===a.type&&(s=u(n,s)),r[a.name]=s}return r}function d(t,e){var n={};return n.formatMajor=P.getCard8(t,e),
n.formatMinor=P.getCard8(t,e+1),n.size=P.getCard8(t,e+2),n.offsetSize=P.getCard8(t,e+3),
n.startOffset=e,n.endOffset=e+4,n}function h(t,e){var n=l(t,0,t.byteLength);return c(n,N,e);
}function f(t,e,n,r){var i=l(t,e,n);return c(i,V,r)}function v(t,e,n,r){var i,a,s,o=new P.Parser(t,e);
n-=1;var l=[".notdef"],c=o.parseCard8();if(0===c)for(i=0;n>i;i+=1)a=o.parseSID(),
l.push(u(r,a));else if(1===c)for(;l.length<=n;)for(a=o.parseSID(),s=o.parseCard8(),
i=0;s>=i;i+=1)l.push(u(r,a)),a+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);
for(;l.length<=n;)for(a=o.parseSID(),s=o.parseCard16(),i=0;s>=i;i+=1)l.push(u(r,a)),
a+=1}return l}function m(t,e,n){var r,i,a={},s=new P.Parser(t,e),o=s.parseCard8();
if(0===o){var l=s.parseCard8();for(r=0;l>r;r+=1)i=s.parseCard8(),a[i]=r}else{if(1!==o)throw new Error("Unknown encoding format "+o);
var u=s.parseCard8();for(i=1,r=0;u>r;r+=1)for(var c=s.parseCard8(),d=s.parseCard8(),h=c;c+d>=h;h+=1)a[h]=i,
i+=1}return new R.CffEncoding(a,n)}function b(t,e,n){function r(t,e){m&&c.closePath(),
c.moveTo(t,e),m=!0}function i(){var e;e=d.length%2!==0,e&&!f&&(v=d.shift()+t.nominalWidthX),
h+=d.length>>1,d.length=0,f=!0}function a(n){for(var p,y,_,x,w,S,C,k,E,A,T,L,M=0;M<n.length;){
var j=n[M];switch(M+=1,j){case 1:i();break;case 3:i();break;case 4:d.length>1&&!f&&(v=d.shift()+t.nominalWidthX,
f=!0),g+=d.pop(),r(b,g);break;case 5:for(;d.length>0;)b+=d.shift(),g+=d.shift(),c.lineTo(b,g);
break;case 6:for(;d.length>0&&(b+=d.shift(),c.lineTo(b,g),0!==d.length);)g+=d.shift(),
c.lineTo(b,g);break;case 7:for(;d.length>0&&(g+=d.shift(),c.lineTo(b,g),0!==d.length);)b+=d.shift(),
c.lineTo(b,g);break;case 8:for(;d.length>0;)s=b+d.shift(),o=g+d.shift(),l=s+d.shift(),
u=o+d.shift(),b=l+d.shift(),g=u+d.shift(),c.curveTo(s,o,l,u,b,g);break;case 10:w=d.pop()+t.subrsBias,
S=t.subrs[w],S&&a(S);break;case 11:return;case 12:switch(j=n[M],M+=1,j){case 35:s=b+d.shift(),
o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),C=l+d.shift(),k=u+d.shift(),E=C+d.shift(),
A=k+d.shift(),T=E+d.shift(),L=A+d.shift(),b=T+d.shift(),g=L+d.shift(),d.shift(),c.curveTo(s,o,l,u,C,k),
c.curveTo(E,A,T,L,b,g);break;case 34:s=b+d.shift(),o=g,l=s+d.shift(),u=o+d.shift(),
C=l+d.shift(),k=u,E=C+d.shift(),A=u,T=E+d.shift(),L=g,b=T+d.shift(),c.curveTo(s,o,l,u,C,k),
c.curveTo(E,A,T,L,b,g);break;case 36:s=b+d.shift(),o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),
C=l+d.shift(),k=u,E=C+d.shift(),A=u,T=E+d.shift(),L=A+d.shift(),b=T+d.shift(),c.curveTo(s,o,l,u,C,k),
c.curveTo(E,A,T,L,b,g);break;case 37:s=b+d.shift(),o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),
C=l+d.shift(),k=u+d.shift(),E=C+d.shift(),A=k+d.shift(),T=E+d.shift(),L=A+d.shift(),
Math.abs(T-b)>Math.abs(L-g)?b=T+d.shift():g=L+d.shift(),c.curveTo(s,o,l,u,C,k),c.curveTo(E,A,T,L,b,g);
break;default:console.log("Glyph "+e.index+": unknown operator 1200"+j),d.length=0;
}break;case 14:d.length>0&&!f&&(v=d.shift()+t.nominalWidthX,f=!0),m&&(c.closePath(),
m=!1);break;case 18:i();break;case 19:case 20:i(),M+=h+7>>3;break;case 21:d.length>2&&!f&&(v=d.shift()+t.nominalWidthX,
f=!0),g+=d.pop(),b+=d.pop(),r(b,g);break;case 22:d.length>1&&!f&&(v=d.shift()+t.nominalWidthX,
f=!0),b+=d.pop(),r(b,g);break;case 23:i();break;case 24:for(;d.length>2;)s=b+d.shift(),
o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),b=l+d.shift(),g=u+d.shift(),c.curveTo(s,o,l,u,b,g);
b+=d.shift(),g+=d.shift(),c.lineTo(b,g);break;case 25:for(;d.length>6;)b+=d.shift(),
g+=d.shift(),c.lineTo(b,g);s=b+d.shift(),o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),
b=l+d.shift(),g=u+d.shift(),c.curveTo(s,o,l,u,b,g);break;case 26:for(d.length%2&&(b+=d.shift());d.length>0;)s=b,
o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),b=l,g=u+d.shift(),c.curveTo(s,o,l,u,b,g);
break;case 27:for(d.length%2&&(g+=d.shift());d.length>0;)s=b+d.shift(),o=g,l=s+d.shift(),
u=o+d.shift(),b=l+d.shift(),g=u,c.curveTo(s,o,l,u,b,g);break;case 28:p=n[M],y=n[M+1],
d.push((p<<24|y<<16)>>16),M+=2;break;case 29:w=d.pop()+t.gsubrsBias,S=t.gsubrs[w],
S&&a(S);break;case 30:for(;d.length>0&&(s=b,o=g+d.shift(),l=s+d.shift(),u=o+d.shift(),
b=l+d.shift(),g=u+(1===d.length?d.shift():0),c.curveTo(s,o,l,u,b,g),0!==d.length);)s=b+d.shift(),
o=g,l=s+d.shift(),u=o+d.shift(),g=u+d.shift(),b=l+(1===d.length?d.shift():0),c.curveTo(s,o,l,u,b,g);
break;case 31:for(;d.length>0&&(s=b+d.shift(),o=g,l=s+d.shift(),u=o+d.shift(),g=u+d.shift(),
b=l+(1===d.length?d.shift():0),c.curveTo(s,o,l,u,b,g),0!==d.length);)s=b,o=g+d.shift(),
l=s+d.shift(),u=o+d.shift(),b=l+d.shift(),g=u+(1===d.length?d.shift():0),c.curveTo(s,o,l,u,b,g);
break;default:32>j?console.log("Glyph "+e.index+": unknown operator "+j):247>j?d.push(j-139):251>j?(p=n[M],
M+=1,d.push(256*(j-247)+p+108)):255>j?(p=n[M],M+=1,d.push(256*-(j-251)-p-108)):(p=n[M],
y=n[M+1],_=n[M+2],x=n[M+3],M+=4,d.push((p<<24|y<<16|_<<8|x)/65536))}}}var s,o,l,u,c=new I.Path,d=[],h=0,f=!1,v=t.defaultWidthX,m=!1,b=0,g=0;
return a(n),e.advanceWidth=v,c}function g(t){var e;return e=t.length<1240?107:t.length<33900?1131:32768;
}function p(t,e,n){n.tables.cff={};var r=d(t,e),a=i(t,r.endOffset,P.bytesToString),s=i(t,a.endOffset),o=i(t,s.endOffset,P.bytesToString),l=i(t,o.endOffset);
n.gsubrs=l.objects,n.gsubrsBias=g(n.gsubrs);var u=new DataView(new Uint8Array(s.objects[0]).buffer),c=h(u,o.objects);
n.tables.cff.topDict=c;var p=e+c["private"][1],y=f(t,p,c["private"][0],o.objects);
if(n.defaultWidthX=y.defaultWidthX,n.nominalWidthX=y.nominalWidthX,0!==y.subrs){var _=p+y.subrs,x=i(t,_);
n.subrs=x.objects,n.subrsBias=g(n.subrs)}else n.subrs=[],n.subrsBias=0;var w=i(t,e+c.charStrings);
n.nGlyphs=w.objects.length;var S=v(t,e+c.charset,n.nGlyphs,o.objects);0===c.encoding?n.cffEncoding=new R.CffEncoding(R.cffStandardEncoding,S):1===c.encoding?n.cffEncoding=new R.CffEncoding(R.cffExpertEncoding,S):n.cffEncoding=m(t,e+c.encoding,S),
n.encoding=n.encoding||n.cffEncoding,n.glyphs=new O.GlyphSet(n);for(var C=0;C<n.nGlyphs;C+=1){
var k=w.objects[C];n.glyphs.push(C,O.cffGlyphLoader(n,C,b,k))}}function y(t,e){var n,r=R.cffStandardStrings.indexOf(t);
return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+R.cffStandardStrings.length:(n=R.cffStandardStrings.length+e.length,
e.push(t)),n}function _(){return new D.Table("Header",[{name:"major",type:"Card8",
value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4
},{name:"major",type:"Card8",value:1}])}function x(t){var e=new D.Table("Name INDEX",[{
name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({
name:"name_"+n,type:"NAME",value:t[n]});return e}function w(t,e,n){for(var i={},a=0;a<t.length;a+=1){
var s=t[a],o=e[s.name];void 0===o||r(o,s.value)||("SID"===s.type&&(o=y(o,n)),i[s.op]={
name:s.name,type:s.type,value:o})}return i}function S(t,e){var n=new D.Table("Top DICT",[{
name:"dict",type:"DICT",value:{}}]);return n.dict=w(N,t,e),n}function C(t){var e=new D.Table("Top DICT INDEX",[{
name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",
value:t}],e}function k(t){var e=new D.Table("String INDEX",[{name:"strings",type:"INDEX",
value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,
type:"STRING",value:t[n]});return e}function E(){return new D.Table("Global Subr INDEX",[{
name:"subrs",type:"INDEX",value:[]}])}function A(t,e){for(var n=new D.Table("Charsets",[{
name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],a=y(i,e);n.fields.push({
name:"glyph_"+r,type:"SID",value:a})}return n}function T(t){var e=[],n=t.path;e.push({
name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,a=0;a<n.commands.length;a+=1){
var s=void 0,o=void 0,l=n.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",
x:l.x,y:l.y,x1:u*r+c*l.x1,y1:u*i+c*l.y1,x2:u*l.x+c*l.x1,y2:u*l.y+c*l.y1}}if("M"===l.type)s=Math.round(l.x-r),
o=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",
value:o}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)s=Math.round(l.x-r),
o=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",
value:o}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){
var d=Math.round(l.x1-r),h=Math.round(l.y1-i),f=Math.round(l.x2-l.x1),v=Math.round(l.y2-l.y1);
s=Math.round(l.x-l.x2),o=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d
}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:f
}),e.push({name:"dy2",type:"NUMBER",value:v}),e.push({name:"dx",type:"NUMBER",value:s
}),e.push({name:"dy",type:"NUMBER",value:o}),e.push({name:"rrcurveto",type:"OP",value:8
}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14
}),e}function L(t){for(var e=new D.Table("CharStrings INDEX",[{name:"charStrings",
type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=T(r);e.charStrings.push({
name:r.name,type:"CHARSTRING",value:i})}return e}function M(t,e){var n=new D.Table("Private DICT",[{
name:"dict",type:"DICT",value:{}}]);return n.dict=w(V,t,e),n}function j(t,e){for(var n,r=new D.Table("CFF ",[{
name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",
type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"
},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDict",
type:"TABLE"}]),i=1/e.unitsPerEm,a={version:e.version,fullName:e.fullName,familyName:e.familyName,
weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,
encoding:0,charStrings:999,"private":[0,999]},s={},o=[],l=1;l<t.length;l+=1)n=t.get(l),
o.push(n.name);var u=[];r.header=_(),r.nameIndex=x([e.postScriptName]);var c=S(a,u);
r.topDictIndex=C(c),r.globalSubrIndex=E(),r.charsets=A(o,u),r.charStringsIndex=L(t),
r.privateDict=M(s,u),r.stringIndex=k(u);var d=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();
return a.charset=d,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a["private"][1]=a.charStrings+r.charStringsIndex.sizeOf(),
c=S(a,u),r.topDictIndex=C(c),r}var R=t("../encoding"),O=t("../glyphset"),P=t("../parse"),I=t("../path"),D=t("../table"),N=[{
name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",
op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"
},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0
},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,
type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50
},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,
type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],
value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",
op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",
op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",
op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",
op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]
}],V=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",
value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];n.parse=p,n.make=j},{
"../encoding":4,"../glyphset":7,"../parse":9,"../path":10,"../table":11}],13:[function(t,e,n){
function r(t,e){var n,r={};r.version=l.getUShort(t,e),o.argument(0===r.version,"cmap table version should be 0."),
r.numTables=l.getUShort(t,e+2);var i=-1;for(n=0;n<r.numTables;n+=1){var a=l.getUShort(t,e+4+8*n),s=l.getUShort(t,e+4+8*n+2);
if(3===a&&(1===s||0===s)){i=l.getULong(t,e+4+8*n+4);break}}if(-1===i)return null;var u=new l.Parser(t,e+i);
r.format=u.parseUShort(),o.argument(4===r.format,"Only format 4 cmap tables are supported."),
r.length=u.parseUShort(),r.language=u.parseUShort();var c;r.segCount=c=u.parseUShort()>>1,
u.skip("uShort",3),r.glyphIndexMap={};var d=new l.Parser(t,e+i+14),h=new l.Parser(t,e+i+16+2*c),f=new l.Parser(t,e+i+16+4*c),v=new l.Parser(t,e+i+16+6*c),m=e+i+16+8*c;
for(n=0;c-1>n;n+=1)for(var b=void 0,g=d.parseUShort(),p=h.parseUShort(),y=f.parseShort(),_=v.parseUShort(),x=p;g>=x;x+=1)0!==_?(m=v.offset+v.relativeOffset-2,
m+=_,m+=2*(x-p),b=l.getUShort(t,m),0!==b&&(b=b+y&65535)):b=x+y&65535,r.glyphIndexMap[x]=b;
return r}function i(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0});
}function a(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function s(t){
var e,n=new u.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",
type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",
type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",
value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0
},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0
},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0
}]);for(n.segments=[],e=0;e<t.length;e+=1){for(var r=t.get(e),s=0;s<r.unicodes.length;s+=1)i(n,r.unicodes[s],e);
n.segments=n.segments.sort(function(t,e){return t.start-e.start})}a(n);var o;o=n.segments.length,
n.segCountX2=2*o,n.searchRange=2*Math.pow(2,Math.floor(Math.log(o)/Math.log(2))),
n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange;
var l=[],c=[],d=[],h=[],f=[];for(e=0;o>e;e+=1){var v=n.segments[e];l=l.concat({name:"end_"+e,
type:"USHORT",value:v.end}),c=c.concat({name:"start_"+e,type:"USHORT",value:v.start
}),d=d.concat({name:"idDelta_"+e,type:"SHORT",value:v.delta}),h=h.concat({name:"idRangeOffset_"+e,
type:"USHORT",value:v.offset}),void 0!==v.glyphId&&(f=f.concat({name:"glyph_"+e,type:"USHORT",
value:v.glyphId}))}return n.fields=n.fields.concat(l),n.fields.push({name:"reservedPad",
type:"USHORT",value:0}),n.fields=n.fields.concat(c),n.fields=n.fields.concat(d),n.fields=n.fields.concat(h),
n.fields=n.fields.concat(f),n.length=14+2*l.length+2+2*c.length+2*d.length+2*h.length+2*f.length,
n}var o=t("../check"),l=t("../parse"),u=t("../table");n.parse=r,n.make=s},{"../check":2,
"../parse":9,"../table":11}],14:[function(t,e,n){function r(t,e){var n=JSON.stringify(t),r=256;
for(var i in e){var a=parseInt(i);if(a&&!(256>a)){if(JSON.stringify(e[i])===n)return a;
a>=r&&(r=a+1)}}return e[r]=t,r}function i(t,e){var n=r(t.name,e);return new h.Table("fvarAxis",[{
name:"tag",type:"TAG",value:t.tag},{name:"minValue",type:"FIXED",value:t.minValue<<16
},{name:"defaultValue",type:"FIXED",value:t.defaultValue<<16},{name:"maxValue",type:"FIXED",
value:t.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",
value:n}])}function a(t,e,n){var r={},i=new d.Parser(t,e);return r.tag=i.parseTag(),
r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),
i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function s(t,e,n){for(var i=r(t.name,n),a=[{
name:"nameID",type:"USHORT",value:i},{name:"flags",type:"USHORT",value:0}],s=0;s<e.length;++s){
var o=e[s].tag;a.push({name:"axis "+o,type:"FIXED",value:t.coordinates[o]<<16})}return new h.Table("fvarInstance",a);
}function o(t,e,n,r){var i={},a=new d.Parser(t,e);i.name=r[a.parseUShort()]||{},a.skip("uShort",1),
i.coordinates={};for(var s=0;s<n.length;++s)i.coordinates[n[s].tag]=a.parseFixed();
return i}function l(t,e){var n=new h.Table("fvar",[{name:"version",type:"ULONG",value:65536
},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",
value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",
value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",
type:"USHORT",value:4+4*t.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields.push({
name:"axis "+r,type:"TABLE",value:i(t.axes[r],e)});for(var a=0;a<t.instances.length;a++)n.fields.push({
name:"instance "+a,type:"TABLE",value:s(t.instances[a],t.axes,e)});return n}function u(t,e,n){
var r=new d.Parser(t,e),i=r.parseULong();c.argument(65536===i,"Unsupported fvar table version.");
var s=r.parseOffset16();r.skip("uShort",1);for(var l=r.parseUShort(),u=r.parseUShort(),h=r.parseUShort(),f=r.parseUShort(),v=[],m=0;l>m;m++)v.push(a(t,e+s+m*u,n));
for(var b=[],g=e+s+l*u,p=0;h>p;p++)b.push(o(t,g+p*f,v,n));return{axes:v,instances:b
}}var c=t("../check"),d=t("../parse"),h=t("../table");n.make=l,n.parse=u},{"../check":2,
"../parse":9,"../table":11}],15:[function(t,e,n){function r(t,e,n,r,i){var a;return(e&r)>0?(a=t.parseByte(),
0===(e&i)&&(a=-a),a=n+a):a=(e&i)>0?n:n+t.parseShort(),a}function i(t,e,n){var i=new h.Parser(e,n);
t.numberOfContours=i.parseShort(),t.xMin=i.parseShort(),t.yMin=i.parseShort(),t.xMax=i.parseShort(),
t.yMax=i.parseShort();var a,s;if(t.numberOfContours>0){var o,l=t.endPointIndices=[];
for(o=0;o<t.numberOfContours;o+=1)l.push(i.parseUShort());for(t.instructionLength=i.parseUShort(),
t.instructions=[],o=0;o<t.instructionLength;o+=1)t.instructions.push(i.parseByte());
var u=l[l.length-1]+1;for(a=[],o=0;u>o;o+=1)if(s=i.parseByte(),a.push(s),(8&s)>0)for(var d=i.parseByte(),f=0;d>f;f+=1)a.push(s),
o+=1;if(c.argument(a.length===u,"Bad flags."),l.length>0){var v,m=[];if(u>0){for(o=0;u>o;o+=1)s=a[o],
v={},v.onCurve=!!(1&s),v.lastPointOfContour=l.indexOf(o)>=0,m.push(v);var b=0;for(o=0;u>o;o+=1)s=a[o],
v=m[o],v.x=r(i,s,b,2,16),b=v.x;var g=0;for(o=0;u>o;o+=1)s=a[o],v=m[o],v.y=r(i,s,g,4,32),
g=v.y}t.points=m}else t.points=[]}else if(0===t.numberOfContours)t.points=[];else{
t.isComposite=!0,t.points=[],t.components=[];for(var p=!0;p;){a=i.parseUShort();var y={
glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&a)>0?(y.dx=i.parseShort(),
y.dy=i.parseShort()):(y.dx=i.parseChar(),y.dy=i.parseChar()),(8&a)>0?y.xScale=y.yScale=i.parseF2Dot14():(64&a)>0?(y.xScale=i.parseF2Dot14(),
y.yScale=i.parseF2Dot14()):(128&a)>0&&(y.xScale=i.parseF2Dot14(),y.scale01=i.parseF2Dot14(),
y.scale10=i.parseF2Dot14(),y.yScale=i.parseF2Dot14()),t.components.push(y),p=!!(32&a);
}}}function a(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],a={x:e.xScale*i.x+e.scale01*i.y+e.dx,
y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour
};n.push(a)}return n}function s(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];
n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return c.argument(0===n.length,"There are still points left in the current contour."),
e}function o(t){var e=new f.Path;if(!t)return e;for(var n=s(t),r=0;r<n.length;r+=1){
var i=n[r],a=i[0],o=i[i.length-1],l=void 0,u=void 0;a.onCurve?(l=null,u=!0):(a=o.onCurve?o:{
x:(a.x+o.x)/2,y:(a.y+o.y)/2},l=a,u=!1),e.moveTo(a.x,a.y);for(var c=u?1:0;c<i.length;c+=1){
var d=i[c],h=0===c?a:i[c-1];if(h.onCurve&&d.onCurve)e.lineTo(d.x,d.y);else if(h.onCurve&&!d.onCurve)l=d;else if(h.onCurve||d.onCurve){
if(h.onCurve||!d.onCurve)throw new Error("Invalid state.");e.quadraticCurveTo(l.x,l.y,d.x,d.y),
l=null}else{var v={x:(h.x+d.x)/2,y:(h.y+d.y)/2};e.quadraticCurveTo(h.x,h.y,v.x,v.y),
l=d}}a!==o&&(l?e.quadraticCurveTo(l.x,l.y,a.x,a.y):e.lineTo(a.x,a.y))}return e.closePath(),
e}function l(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);
if(i.getPath(),i.points){var s=a(i.points,r);e.points=e.points.concat(s)}}return o(e.points);
}function u(t,e,n,r){var a,s=new d.GlyphSet(r);for(a=0;a<n.length-1;a+=1){var o=n[a],u=n[a+1];
o!==u?s.push(a,d.ttfGlyphLoader(r,a,i,t,e+o,l)):s.push(a,d.glyphLoader(r,a))}return s;
}var c=t("../check"),d=t("../glyphset"),h=t("../parse"),f=t("../path");n.parse=u},{
"../check":2,"../glyphset":7,"../parse":9,"../path":10}],16:[function(t,e,n){function r(t,e){
for(var n=new c.Parser(t,e),r=n.parseUShort(),i=[],a=0;r>a;a++)i[n.parseTag()]={offset:n.parseUShort()
};return i}function i(t,e){var n=new c.Parser(t,e),r=n.parseUShort(),i=n.parseUShort();
if(1===r)return n.parseUShortList(i);if(2===r){for(var a=[];i--;)for(var s=n.parseUShort(),o=n.parseUShort(),l=n.parseUShort(),u=s;o>=u;u++)a[l++]=u;
return a}}function a(t,e){var n=new c.Parser(t,e),r=n.parseUShort();if(1===r){var i=n.parseUShort(),a=n.parseUShort(),s=n.parseUShortList(a);
return function(t){return s[t-i]||0}}if(2===r){for(var o=n.parseUShort(),l=[],u=[],d=[],h=0;o>h;h++)l[h]=n.parseUShort(),
u[h]=n.parseUShort(),d[h]=n.parseUShort();return function(t){for(var e=0,n=l.length-1;n>e;){
var r=e+n+1>>1;t<l[r]?n=r-1:e=r}return l[e]<=t&&t<=u[e]?d[e]||0:0}}}function s(t,e){
var n,r,s=new c.Parser(t,e),o=s.parseUShort(),l=s.parseUShort(),u=i(t,e+l),d=s.parseUShort(),h=s.parseUShort();
if(4===d&&0===h){var f={};if(1===o){for(var v=s.parseUShort(),m=[],b=s.parseOffset16List(v),g=0;v>g;g++){
var p=b[g],y=f[p];if(!y){y={},s.relativeOffset=p;for(var _=s.parseUShort();_--;){
var x=s.parseUShort();d&&(n=s.parseShort()),h&&(r=s.parseShort()),y[x]=n}}m[u[g]]=y;
}return function(t,e){var n=m[t];return n?n[e]:void 0}}if(2===o){for(var w=s.parseUShort(),S=s.parseUShort(),C=s.parseUShort(),k=s.parseUShort(),E=a(t,e+w),A=a(t,e+S),T=[],L=0;C>L;L++)for(var M=T[L]=[],j=0;k>j;j++)d&&(n=s.parseShort()),
h&&(r=s.parseShort()),M[j]=n;var R={};for(L=0;L<u.length;L++)R[u[L]]=1;return function(t,e){
if(R[t]){var n=E(t),r=A(e),i=T[n];return i?i[r]:void 0}}}}}function o(t,e){var n=new c.Parser(t,e),r=n.parseUShort(),i=n.parseUShort(),a=16&i,o=n.parseUShort(),l=n.parseOffset16List(o),u={
lookupType:r,lookupFlag:i,markFilteringSet:a?n.parseUShort():-1};if(2===r){for(var d=[],h=0;o>h;h++)d.push(s(t,e+l[h]));
u.getKerningValue=function(t,e){for(var n=d.length;n--;){var r=d[n](t,e);if(void 0!==r)return r;
}return 0}}return u}function l(t,e,n){var i=new c.Parser(t,e),a=i.parseFixed();u.argument(1===a,"Unsupported GPOS table version."),
r(t,e+i.parseUShort()),r(t,e+i.parseUShort());var s=i.parseUShort();i.relativeOffset=s;
for(var l=i.parseUShort(),d=i.parseOffset16List(l),h=e+s,f=0;l>f;f++){var v=o(t,h+d[f]);
2!==v.lookupType||n.getGposKerningValue||(n.getGposKerningValue=v.getKerningValue);
}}var u=t("../check"),c=t("../parse");n.parse=l},{"../check":2,"../parse":9}],17:[function(t,e,n){
function r(t,e){var n={},r=new s.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,
n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),a.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),
n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),
n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),
n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),
n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),
n}function i(t){return new o.Table("head",[{name:"version",type:"FIXED",value:65536
},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",
value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",
value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",
value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",
value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",
type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",
type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",
type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var a=t("../check"),s=t("../parse"),o=t("../table");
n.parse=r,n.make=i},{"../check":2,"../parse":9,"../table":11}],18:[function(t,e,n){
function r(t,e){var n={},r=new a.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),
n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),
n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),
n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),
r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),
n}function i(t){return new s.Table("hhea",[{name:"version",type:"FIXED",value:65536
},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{
name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0
},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",
value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",
value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",
value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0
},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{
name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",
value:0}],t)}var a=t("../parse"),s=t("../table");n.parse=r,n.make=i},{"../parse":9,
"../table":11}],19:[function(t,e,n){function r(t,e,n,r,i){for(var s,o,l=new a.Parser(t,e),u=0;r>u;u+=1){
n>u&&(s=l.parseUShort(),o=l.parseShort());var c=i.get(u);c.advanceWidth=s,c.leftSideBearing=o;
}}function i(t){for(var e=new s.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,a=r.leftSideBearing||0;
e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,
type:"SHORT",value:a})}return e}var a=t("../parse"),s=t("../table");n.parse=r,n.make=i;
},{"../parse":9,"../table":11}],20:[function(t,e,n){function r(t,e){var n={},r=new a.Parser(t,e),s=r.parseUShort();
i.argument(0===s,"Unsupported kern table version."),r.skip("uShort",1);var o=r.parseUShort();
i.argument(0===o,"Unsupported kern sub-table version."),r.skip("uShort",2);var l=r.parseUShort();
r.skip("uShort",3);for(var u=0;l>u;u+=1){var c=r.parseUShort(),d=r.parseUShort(),h=r.parseShort();
n[c+","+d]=h}return n}var i=t("../check"),a=t("../parse");n.parse=r},{"../check":2,
"../parse":9}],21:[function(t,e,n){function r(t,e,n,r){for(var a=new i.Parser(t,e),s=r?a.parseUShort:a.parseULong,o=[],l=0;n+1>l;l+=1){
var u=s.call(a);r&&(u*=2),o.push(u)}return o}var i=t("../parse");n.parse=r},{"../parse":9
}],22:[function(t,e,n){function r(t){for(var e=new o.Table("ltag",[{name:"version",
type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",
value:t.length}]),n="",r=12+4*t.length,i=0;i<t.length;++i){var a=n.indexOf(t[i]);0>a&&(a=n.length,
n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),e.fields.push({
name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",
type:"CHARARRAY",value:n}),e}function i(t,e){var n=new s.Parser(t,e),r=n.parseULong();
a.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],l=0;i>l;l++){
for(var u="",c=e+n.parseUShort(),d=n.parseUShort(),h=c;c+d>h;++h)u+=String.fromCharCode(t.getInt8(h));
o.push(u)}return o}var a=t("../check"),s=t("../parse"),o=t("../table");n.make=r,n.parse=i;
},{"../check":2,"../parse":9,"../table":11}],23:[function(t,e,n){function r(t,e){
var n={},r=new a.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),
1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),
n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),
n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),
n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),
n.maxComponentDepth=r.parseUShort()),n}function i(t){return new s.Table("maxp",[{
name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}]);
}var a=t("../parse"),s=t("../table");n.parse=r,n.make=i},{"../parse":9,"../table":11
}],24:[function(t,e,n){function r(t,e,n){switch(t){case 0:if(65535===e)return"und";
if(n)return n[e];break;case 1:return g[e];case 3:return y[e]}}function i(t,e,n){switch(t){
case 0:return _;case 1:return w[n]||x[e];case 3:if(1===e||10===e)return _}}function a(t,e,n){
for(var a={},s=new v.Parser(t,e),o=s.parseUShort(),l=s.parseUShort(),u=s.offset+s.parseUShort(),c=0;l>c;c++){
var d=s.parseUShort(),f=s.parseUShort(),m=s.parseUShort(),g=s.parseUShort(),p=b[g]||g,y=s.parseUShort(),x=s.parseUShort(),w=r(d,m,n),S=i(d,f,m);
if(void 0!==S&&void 0!==w){var C=void 0;if(C=S===_?h.UTF16(t,u+x,y):h.MACSTRING(t,u+x,y,S)){
var k=a[p];void 0===k&&(k=a[p]={}),k[w]=C}}}var E=0;return 1===o&&(E=s.parseUShort()),
a}function s(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function o(t,e,n,r,i,a){
return new m.Table("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",
type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",
value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a
}])}function l(t,e){var n=t.length,r=e.length-n+1;t:for(var i=0;r>i;i++)for(;r>i;i++){
for(var a=0;n>a;a++)if(e[i+a]!==t[a])continue t;return i}return-1}function u(t,e){
var n=l(t,e);if(0>n){n=e.length;for(var r=0,i=t.length;i>r;++r)e.push(t[r])}return n;
}function c(t,e){var n,r=[],a={},l=s(b);for(var c in t){var d=l[c];void 0===d&&(d=c),
n=parseInt(d),a[n]=t[c],r.push(n)}for(var h=s(g),v=s(y),_=[],x=[],w=0;w<r.length;w++){
n=r[w];var S=a[n];for(var C in S){var k=S[C],E=1,A=h[C],T=p[A],L=i(E,T,A),M=f.MACSTRING(k,L);
void 0===M&&(E=0,A=e.indexOf(C),0>A&&(A=e.length,e.push(C)),T=4,M=f.UTF16(k));var j=u(M,x);
_.push(o(E,T,A,n,M.length,j));var R=v[C];if(void 0!==R){var O=f.UTF16(k),P=u(O,x);
_.push(o(3,1,R,n,O.length,P))}}}_.sort(function(t,e){return t.platformID-e.platformID||t.encodingID-e.encodingID||t.languageID-e.languageID||t.nameID-e.nameID;
});for(var I=new m.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",
type:"USHORT",value:_.length},{name:"stringOffset",type:"USHORT",value:6+12*_.length
}]),D=0;D<_.length;D++)I.fields.push({name:"record_"+D,type:"TABLE",value:_[D]});return I.fields.push({
name:"strings",type:"LITERAL",value:x}),I}var d=t("../types"),h=d.decode,f=d.encode,v=t("../parse"),m=t("../table"),b=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],g={
0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",
12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",
22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",
33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",
43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",
52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",
62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",
73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",
84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",
94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",
137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",
146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},p={0:0,1:0,2:0,3:0,
4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,
22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,
37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,
53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,
69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,
83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,
131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,
145:0,146:0,147:0,148:6,149:0,150:0,151:0},y={1078:"af",1052:"sq",1156:"gsw",1118:"am",
5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",
4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",
14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",
1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",
1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",
1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",
3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",
8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",
11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",
1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",
1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",
1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",
1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",
1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",
1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",
2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",
1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",
1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",
1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",
8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",
2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",
13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",
4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",
10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",
2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",
1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",
2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"
},_="utf-16",x={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",
6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",
12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",
17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",
22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",
27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"
},w={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",
26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",
38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};n.parse=a,
n.make=c},{"../parse":9,"../table":11,"../types":28}],25:[function(t,e,n){function r(t){
for(var e=0;e<l.length;e+=1){var n=l[e];if(t>=n.begin&&t<n.end)return e}return-1}
function i(t,e){var n={},r=new s.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),
n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),
n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),
n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),
n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),
n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;10>i;i++)n.panose[i]=r.parseByte();
return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),
n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),
n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),
n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),
n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),
n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),
n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),
n}function a(t){return new o.Table("OS/2",[{name:"version",type:"USHORT",value:3},{
name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0
},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0
},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",
value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",
type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",
type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",
type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",
type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",
type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",
value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0
},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0
},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{
name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0
},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",
value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",
value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",
type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",
type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",
type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",
type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",
type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",
value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",
value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var s=t("../parse"),o=t("../table"),l=[{
begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,
end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,
end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,
end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,
end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,
end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,
end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,
end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,
end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,
end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,
end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,
end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,
end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591
},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,
end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871
},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,
end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055
},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,
end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,
end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,
end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,
end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{
begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,
end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039
},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,
end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{
begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,
end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687
},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,
end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103
},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,
end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999
},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];n.unicodeRanges=l,
n.getUnicodeRange=r,n.parse=i,n.make=a},{"../parse":9,"../table":11}],26:[function(t,e,n){
function r(t,e){var n,r={},i=new s.Parser(t,e);switch(r.version=i.parseVersion(),
r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),
r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),
r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=a.standardNames.slice();
break;case 2:for(r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs),
n=0;n<r.numberOfGlyphs;n++)r.glyphNameIndex[n]=i.parseUShort();for(r.names=[],n=0;n<r.numberOfGlyphs;n++)if(r.glyphNameIndex[n]>=a.standardNames.length){
var o=i.parseChar();r.names.push(i.parseString(o))}break;case 2.5:for(r.numberOfGlyphs=i.parseUShort(),
r.offset=new Array(r.numberOfGlyphs),n=0;n<r.numberOfGlyphs;n++)r.offset[n]=i.parseChar();
}return r}function i(){return new o.Table("post",[{name:"version",type:"FIXED",value:196608
},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",
value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",
value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",
value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",
value:0}])}var a=t("../encoding"),s=t("../parse"),o=t("../table");n.parse=r,n.make=i;
},{"../encoding":4,"../parse":9,"../table":11}],27:[function(t,e,n){function r(t){
return Math.log(t)/Math.log(2)|0}function i(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];
return e%=Math.pow(2,32)}function a(t,e,n,r){return new d.Table("Table Record",[{
name:"tag",type:"TAG",value:void 0!==t?t:""},{name:"checkSum",type:"ULONG",value:void 0!==e?e:0
},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0
}])}function s(t){var e=new d.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"
},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0
},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0
}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,r(e.numTables));e.searchRange=16*n,
e.entrySelector=r(n),e.rangeShift=16*e.numTables-e.searchRange;for(var s=[],o=[],l=e.sizeOf()+a().sizeOf()*e.numTables;l%4!==0;)l+=1,
o.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<t.length;u+=1){var h=t[u];
c.argument(4===h.tableName.length,"Table name"+h.tableName+" is invalid.");var f=h.sizeOf(),v=a(h.tableName,i(h.encode()),l,f);
for(s.push({name:v.tag+" Table Record",type:"TABLE",value:v}),o.push({name:h.tableName+" table",
type:"TABLE",value:h}),l+=f,c.argument(!isNaN(l),"Something went wrong calculating the offset.");l%4!==0;)l+=1,
o.push({name:"padding",type:"BYTE",value:0})}return s.sort(function(t,e){return t.value.tag>e.value.tag?1:-1;
}),e.fields=e.fields.concat(s),e.fields=e.fields.concat(o),e}function o(t,e,n){for(var r=0;r<e.length;r+=1){
var i=t.charToGlyphIndex(e[r]);if(i>0){var a=t.glyphs.get(i);return a.getMetrics();
}}return n}function l(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length;
}function u(t){for(var e,n=[],r=[],a=[],u=[],c=[],d=[],w=[],S=0,C=0,k=0,E=0,A=0,T=0;T<t.glyphs.length;T+=1){
var L=t.glyphs.get(T),M=0|L.unicode;(e>M||null===e)&&(e=M),M>S&&(S=M);var j=_.getUnicodeRange(M);
if(32>j)C|=1<<j;else if(64>j)k|=1<<j-32;else if(96>j)E|=1<<j-64;else{if(!(123>j))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");
A|=1<<j-96}if(".notdef"!==L.name){var R=L.getMetrics();n.push(R.xMin),r.push(R.yMin),
a.push(R.xMax),u.push(R.yMax),d.push(R.leftSideBearing),w.push(R.rightSideBearing),
c.push(L.advanceWidth)}}var O={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),
xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,c),
advanceWidthAvg:l(c),minLeftSideBearing:Math.min.apply(null,d),maxLeftSideBearing:Math.max.apply(null,d),
minRightSideBearing:Math.min.apply(null,w)};O.ascender=t.ascender,O.descender=t.descender;
var P=v.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:O.xMin,yMin:O.yMin,xMax:O.xMax,
yMax:O.yMax,lowestRecPPEM:3}),I=m.make({ascender:O.ascender,descender:O.descender,
advanceWidthMax:O.advanceWidthMax,minLeftSideBearing:O.minLeftSideBearing,minRightSideBearing:O.minRightSideBearing,
xMaxExtent:O.maxLeftSideBearing+(O.xMax-O.xMin),numberOfHMetrics:t.glyphs.length}),D=p.make(t.glyphs.length),N=_.make({
xAvgCharWidth:Math.round(O.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:e,
usLastCharIndex:S,ulUnicodeRange1:C,ulUnicodeRange2:k,ulUnicodeRange3:E,ulUnicodeRange4:A,
fsSelection:64,sTypoAscender:O.ascender,sTypoDescender:O.descender,sTypoLineGap:0,
usWinAscent:O.yMax,usWinDescent:Math.abs(O.yMin),ulCodePageRange1:1,sxHeight:o(t,"xyvw",{
yMax:Math.round(O.ascender/2)}).yMax,sCapHeight:o(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",O).yMax,
usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0}),V=b.make(t.glyphs),B=h.make(t.glyphs),U=t.getEnglishName("fontFamily"),z=t.getEnglishName("fontSubfamily"),G=U+" "+z,H=t.getEnglishName("postScriptName");
H||(H=U.replace(/\s/g,"")+"-"+z);var F={};for(var q in t.names)F[q]=t.names[q];F.uniqueID||(F.uniqueID={
en:t.getEnglishName("manufacturer")+":"+G}),F.postScriptName||(F.postScriptName={
en:H}),F.preferredFamily||(F.preferredFamily=t.names.fontFamily),F.preferredSubfamily||(F.preferredSubfamily=t.names.fontSubfamily);
var $=[],W=y.make(F,$),Y=$.length>0?g.make($):void 0,X=x.make(),Z=f.make(t.glyphs,{
version:t.getEnglishName("version"),fullName:G,familyName:U,weightName:z,postScriptName:H,
unitsPerEm:t.unitsPerEm,fontBBox:[0,O.yMin,O.ascender,O.advanceWidthMax]}),K=[P,I,D,N,W,B,X,Z,V];
Y&&K.push(Y);var J=s(K),Q=J.encode(),tt=i(Q),et=J.fields,nt=!1;for(T=0;T<et.length;T+=1)if("head table"===et[T].name){
et[T].value.checkSumAdjustment=2981146554-tt,nt=!0;break}if(!nt)throw new Error("Could not find head table with checkSum to adjust.");
return J}var c=t("../check"),d=t("../table"),h=t("./cmap"),f=t("./cff"),v=t("./head"),m=t("./hhea"),b=t("./hmtx"),g=t("./ltag"),p=t("./maxp"),y=t("./name"),_=t("./os2"),x=t("./post");
n.computeCheckSum=i,n.make=s,n.fontToTable=u},{"../check":2,"../table":11,"./cff":12,
"./cmap":13,"./head":17,"./hhea":18,"./hmtx":19,"./ltag":22,"./maxp":23,"./name":24,
"./os2":25,"./post":26}],28:[function(t,e,n){function r(t){return function(){return t;
}}var i=t("./check"),a=32768,s=2147483648,o={},l={},u={};l.BYTE=function(t){return i.argument(t>=0&&255>=t,"Byte value should be between 0 and 255."),
[t]},u.BYTE=r(1),l.CHAR=function(t){return[t.charCodeAt(0)]},u.CHAR=r(1),l.CHARARRAY=function(t){
for(var e=[],n=0;n<t.length;n+=1)e.push(t.charCodeAt(n));return e},u.CHARARRAY=function(t){
return t.length},l.USHORT=function(t){return[t>>8&255,255&t]},u.USHORT=r(2),l.SHORT=function(t){
return t>=a&&(t=-(2*a-t)),[t>>8&255,255&t]},u.SHORT=r(2),l.UINT24=function(t){return[t>>16&255,t>>8&255,255&t];
},u.UINT24=r(3),l.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},u.ULONG=r(4),
l.LONG=function(t){return t>=s&&(t=-(2*s-t)),[t>>24&255,t>>16&255,t>>8&255,255&t];
},u.LONG=r(4),l.FIXED=l.ULONG,u.FIXED=u.ULONG,l.FWORD=l.SHORT,u.FWORD=u.SHORT,l.UFWORD=l.USHORT,
u.UFWORD=u.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},u.LONGDATETIME=r(8),
l.TAG=function(t){return i.argument(4===t.length,"Tag should be exactly 4 ASCII characters."),
[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]},u.TAG=r(4),l.Card8=l.BYTE,
u.Card8=u.BYTE,l.Card16=l.USHORT,u.Card16=u.USHORT,l.OffSize=l.BYTE,u.OffSize=u.BYTE,
l.SID=l.USHORT,u.SID=u.USHORT,l.NUMBER=function(t){return t>=-107&&107>=t?[t+139]:t>=108&&1131>=t?(t-=108,
[(t>>8)+247,255&t]):t>=-1131&&-108>=t?(t=-t-108,[(t>>8)+251,255&t]):t>=-32768&&32767>=t?l.NUMBER16(t):l.NUMBER32(t);
},u.NUMBER=function(t){return l.NUMBER(t).length},l.NUMBER16=function(t){return[28,t>>8&255,255&t];
},u.NUMBER16=r(3),l.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,255&t];
},u.NUMBER32=r(5),l.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);
if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString();
}var i,a,s="";for(i=0,a=e.length;a>i;i+=1){var o=e[i];s+="e"===o?"-"===e[++i]?"c":"b":"."===o?"a":"-"===o?"e":o;
}s+=1&s.length?"f":"ff";var l=[30];for(i=0,a=s.length;a>i;i+=2)l.push(parseInt(s.substr(i,2),16));
return l},u.REAL=function(t){return l.REAL(t).length},l.NAME=l.CHARARRAY,u.NAME=u.CHARARRAY,
l.STRING=l.CHARARRAY,u.STRING=u.CHARARRAY,o.UTF16=function(t,e,n){for(var r=[],i=n/2,a=0;i>a;a++,
e+=2)r[a]=t.getUint16(e);return String.fromCharCode.apply(null,r)},l.UTF16=function(t){
for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e.push(r>>8&255),e.push(255&r);
}return e},u.UTF16=function(t){return 2*t.length};var c={"x-mac-croatian":" ",
"x-mac-cyrillic":" ",
"x-mac-gaelic":" ",
"x-mac-greek":" ",
"x-mac-icelandic":" ",
"x-mac-inuit":" ",
"x-mac-ce":" ",
macintosh:" ",
"x-mac-romanian":" ",
"x-mac-turkish":" "
};o.MACSTRING=function(t,e,n,r){var i=c[r];if(void 0!==i){for(var a="",s=0;n>s;s++){
var o=t.getUint8(e+s);a+=127>=o?String.fromCharCode(o):i[127&o]}return a}};var d,h="function"==typeof WeakMap&&new WeakMap,f=function(t){
if(!d){d={};for(var e in c)d[e]=new String(e)}var n=d[t];if(void 0!==n){if(h){var r=h.get(n);
if(void 0!==r)return r}var i=c[t];if(void 0!==i){for(var a={},s=0;s<i.length;s++)a[i.charCodeAt(s)]=s+128;
return h&&h.set(n,a),a}}};l.MACSTRING=function(t,e){var n=f(e);if(void 0!==n){for(var r=[],i=0;i<t.length;i++){
var a=t.charCodeAt(i);if(a>=128&&(a=n[a],void 0===a))return;r.push(a)}return r}},
u.MACSTRING=function(t,e){var n=l.MACSTRING(t,e);return void 0!==n?n.length:0},l.INDEX=function(t){
var e,n=1,r=[n],i=[],a=0;for(e=0;e<t.length;e+=1){var s=l.OBJECT(t[e]);Array.prototype.push.apply(i,s),
a+=s.length,n+=s.length,r.push(n)}if(0===i.length)return[0,0];var o=[],u=1+Math.floor(Math.log(a)/Math.log(2))/8|0,c=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][u];
for(e=0;e<r.length;e+=1){var d=c(r[e]);Array.prototype.push.apply(o,d)}return Array.prototype.concat(l.Card16(t.length),l.OffSize(u),o,i);
},u.INDEX=function(t){return l.INDEX(t).length},l.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;r>i;i+=1){
var a=parseInt(n[i],0),s=t[a];e=e.concat(l.OPERAND(s.value,s.type)),e=e.concat(l.OPERATOR(a));
}return e},u.DICT=function(t){return l.DICT(t).length},l.OPERATOR=function(t){return 1200>t?[t]:[12,t-1200];
},l.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)i.argument(t.length===e.length,"Not enough arguments given for type"+e),
n=n.concat(l.OPERAND(t[r],e[r]));else if("SID"===e)n=n.concat(l.NUMBER(t));else if("offset"===e)n=n.concat(l.NUMBER32(t));else if("number"===e)n=n.concat(l.NUMBER(t));else{
if("real"!==e)throw new Error("Unknown operand type "+e);n=n.concat(l.REAL(t))}return n;
},l.OP=l.BYTE,u.OP=u.BYTE;var v="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(t){
if(v){var e=v.get(t);if(void 0!==e)return e}for(var n=[],r=t.length,i=0;r>i;i+=1){
var a=t[i];n=n.concat(l[a.type](a.value))}return v&&v.set(t,n),n},u.CHARSTRING=function(t){
return l.CHARSTRING(t).length},l.OBJECT=function(t){var e=l[t.type];return i.argument(void 0!==e,"No encoding function for type "+t.type),
e(t.value)},u.OBJECT=function(t){var e=u[t.type];return i.argument(void 0!==e,"No sizeOf function for type "+t.type),
e(t.value)},l.TABLE=function(t){for(var e=[],n=t.fields.length,r=0;n>r;r+=1){var a=t.fields[r],s=l[a.type];
i.argument(void 0!==s,"No encoding function for field type "+a.type);var o=t[a.name];
void 0===o&&(o=a.value);var u=s(o);e=e.concat(u)}return e},u.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;n>r;r+=1){
var a=t.fields[r],s=u[a.type];i.argument(void 0!==s,"No sizeOf function for field type "+a.type);
var o=t[a.name];void 0===o&&(o=a.value),e+=s(o)}return e},l.LITERAL=function(t){return t;
},u.LITERAL=function(t){return t.length},n.decode=o,n.encode=l,n.sizeOf=u},{"./check":2
}],29:[function(t,e,n){n.isBrowser=function(){return"undefined"!=typeof window},n.isNode=function(){
return"undefined"==typeof window},n.nodeBufferToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;++r)n[r]=t[r];
return e},n.arrayBufferToNodeBuffer=function(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];
return e},n.checkArgument=function(t,e){if(!t)throw e}},{}]},{},[8])(8)});var t=window.opentype;
return{get default(){return t}}}),System.registerModule("libs/pako",[],function(){
"use strict";!function(t){if("object"==("undefined"==typeof exports?"undefined":$traceurRuntime["typeof"](exports)))module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{
var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),
e.pako=t()}}(function(){return function t(e,n,r){function i(s,o){if(!n[s]){if(!e[s]){
var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);
throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){
var n=e[s][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);
return i}({1:[function(t,e,n){var r=t("./lib/zlib/utils").assign,i=t("./lib/deflate"),a=t("./lib/inflate"),s=t("./lib/zlib/constants"),o={};
r(o,i,a,s),e.exports=o},{"./lib/deflate":2,"./lib/inflate":3,"./lib/zlib/constants":5,
"./lib/zlib/utils":13}],2:[function(t,e,n){function r(t,e){var n=new g(e);if(n.push(t,!0),
n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}
function a(t,e){return e=e||{},e.gzip=!0,r(t,e)}var s=t("./zlib/deflate.js"),o=t("./zlib/utils"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=0,d=4,h=0,f=1,v=-1,m=0,b=8,g=function(t){
this.options=o.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,
strategy:m},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),
this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);
if(n!==h)throw new Error(l[n])};g.prototype.push=function(t,e){var n,r,i=this.strm,a=this.options.chunkSize;
if(this.ended)return!1;r=e===~~e?e:e===!0?d:c,i.next_in=t,i.next_in_index=0,i.avail_in=i.next_in.length,
i.next_out=new o.Buf8(a);do{if(i.avail_out=this.options.chunkSize,i.next_out_index=0,
n=s.deflate(i,r),n!==f&&n!==h)return this.onEnd(n),this.ended=!0,!1;i.next_out_index&&(this.onData(o.shrinkBuf(i.next_out,i.next_out_index)),
(i.avail_in>0||0===i.avail_out)&&(i.next_out=new o.Buf8(this.options.chunkSize)));
}while(i.avail_in>0||0===i.avail_out);return r===d?(n=s.deflateEnd(this.strm),this.onEnd(n),
this.ended=!0,n===h):!0},g.prototype.onData=function(t){this.chunks.push(t)},g.prototype.onEnd=function(t){
t===h&&(this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg;
},n.Deflate=g,n.deflate=r,n.deflateRaw=i,n.gzip=a},{"./zlib/deflate.js":7,"./zlib/messages":11,
"./zlib/utils":13,"./zlib/zstream":14}],3:[function(t,e,n){function r(t,e){var n=new c(e);
if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},
e.raw=!0,r(t,e)}var a=t("./zlib/inflate.js"),s=t("./zlib/utils"),o=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=function(t){
this.options=s.assign({chunkSize:16384,windowBits:0},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,
0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),
e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,
this.msg="",this.ended=!1,this.chunks=[],this.strm=new u;var n=a.inflateInit2(this.strm,e.windowBits);
if(n!==o.Z_OK)throw new Error(l[n])};c.prototype.push=function(t,e){var n,r,i=this.strm,l=this.options.chunkSize;
if(this.ended)return!1;r=o.Z_NO_FLUSH,i.next_in=t,i.next_in_index=0,i.avail_in=i.next_in.length,
i.next_out=new s.Buf8(l);do{if(i.avail_out=this.options.chunkSize,i.next_out_index=0,
n=a.inflate(i,r),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,
!1;i.next_out_index&&(this.onData(s.shrinkBuf(i.next_out,i.next_out_index)),(i.avail_in>0||0===i.avail_out)&&(i.next_out=new s.Buf8(this.options.chunkSize)));
}while(i.avail_in>0||0===i.avail_out);return r=e===~~e?e:e===!0?o.Z_FINISH:o.Z_NO_FLUSH,
r===o.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):!0;
},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){
t===o.Z_OK&&(this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,
this.msg=this.strm.msg},n.Inflate=c,n.inflate=r,n.inflateRaw=i},{"./zlib/constants":5,
"./zlib/inflate.js":9,"./zlib/messages":11,"./zlib/utils":13,"./zlib/zstream":14}],
4:[function(t,e,n){function r(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,s=0;0!==n;){
s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0;
}e.exports=r},{}],5:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,
Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,
Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,
Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,
Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],
6:[function(t,e,n){function r(){for(var t,e=[],n=0;256>n;n++){t=n;for(var r=0;8>r;r++)t=1&t?3988292384^t>>>1:t>>>1;
e[n]=t}return e}function i(t,e,n,r){var i=a,s=r+n;t=-1^t;for(var o=r;s>o;o++)t=t>>>8^i[255&(t^e[o])];
return-1^t}var a=r();e.exports=i},{}],7:[function(t,e,n){function r(t,e){return t.msg=j[e],
e}function i(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e;)t[e]=0;
}function s(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(A.arraySet(t.next_out,e.pending_buf,e.pending_out,n,t.next_out_index),
t.next_out_index+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0));
}function o(t,e){T._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),
t.block_start=t.strstart,s(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function u(t,e){
t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){
var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,A.arraySet(e,t.next_in,t.next_in_index,i,n),
1===t.state.wrap?t.adler=L(t.adler,e,i,n):2===t.state.wrap&&(t.adler=M(t.adler,e,i,n)),
t.next_in_index+=i,t.total_in+=i,i)}function d(t,e){var n,r,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+ot,f=u[a+s-1],v=u[a+s];
t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do if(n=e,u[n+s]===v&&u[n+s-1]===f&&u[n]===u[a]&&u[++n]===u[a+1]){
a+=2,n++;do;while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&h>a);
if(r=ot-(h-a),a=h-ot,r>s){if(t.match_start=e,s=r,r>=o)break;f=u[a+s-1],v=u[a+s]}}while((e=d[e&c])>l&&0!==--i);
return s<=t.lookahead?s:t.lookahead}function h(t){var e,n,r,i,a,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,
t.strstart>=s+(s-lt)){A.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,
t.block_start-=s,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--n);
n=s,e=n;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--n);i+=s}if(0===t.strm.avail_in)break;
if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(a=t.strstart-t.insert,
t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+st-1])&t.hash_mask,
t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<st)););
}while(t.lookahead<lt&&0!==t.strm.avail_in)}function f(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){
if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===R)return gt;if(0===t.lookahead)break;
}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,
t.strstart=r,o(t,!1),0===t.strm.avail_out))return gt;if(t.strstart-t.block_start>=t.w_size-lt&&(o(t,!1),
0===t.strm.avail_out))return gt}return t.insert=0,e===I?(o(t,!0),0===t.strm.avail_out?yt:_t):t.strstart>t.block_start&&(o(t,!1),
0===t.strm.avail_out)?gt:gt}function v(t,e){for(var n,r;;){if(t.lookahead<lt){if(h(t),
t.lookahead<lt&&e===R)return gt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,
n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=d(t,n)),
t.match_length>=st)if(r=T._tr_tally(t,t.strstart-t.match_start,t.match_length-st),
t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;
do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,
n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);
t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],
t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=T._tr_tally(t,0,t.window[t.strstart]),
t.lookahead--,t.strstart++;if(r&&(o(t,!1),0===t.strm.avail_out))return gt}return t.insert=t.strstart<st-1?t.strstart:st-1,
e===I?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?gt:pt;
}function m(t,e){for(var n,r,i;;){if(t.lookahead<lt){if(h(t),t.lookahead<lt&&e===R)return gt;
if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,
n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,
t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=d(t,n),
t.match_length<=5&&(t.strategy===H||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),
t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=T._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),
t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,
n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);
if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(o(t,!1),0===t.strm.avail_out))return gt;
}else if(t.match_available){if(r=T._tr_tally(t,0,t.window[t.strstart-1]),r&&o(t,!1),
t.strstart++,t.lookahead--,0===t.strm.avail_out)return gt}else t.match_available=1,
t.strstart++,t.lookahead--}return t.match_available&&(r=T._tr_tally(t,0,t.window[t.strstart-1]),
t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===I?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),
0===t.strm.avail_out)?gt:pt}function b(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=ot){
if(h(t),t.lookahead<=ot&&e===R)return gt;if(0===t.lookahead)break}if(t.match_length=0,
t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){
a=t.strstart+ot;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&a>i);
t.match_length=ot-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}
if(t.match_length>=st?(n=T._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,
t.strstart+=t.match_length,t.match_length=0):(n=T._tr_tally(t,0,t.window[t.strstart]),
t.lookahead--,t.strstart++),n&&(o(t,!1),0===t.strm.avail_out))return gt}return t.insert=0,
e===I?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?gt:pt;
}function g(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===R)return gt;
break}if(t.match_length=0,n=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,
n&&(o(t,!1),0===t.strm.avail_out))return gt}return t.insert=0,e===I?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),
0===t.strm.avail_out)?gt:pt}function p(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=E[t.level].max_lazy,
t.good_match=E[t.level].good_length,t.nice_match=E[t.level].nice_length,t.max_chain_length=E[t.level].max_chain,
t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,
t.match_available=0,t.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,
this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,
this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,
this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,
this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,
this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,
this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,
this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*it),this.dyn_dtree=new A.Buf16(2*(2*nt+1)),
this.bl_tree=new A.Buf16(2*(2*rt+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),
this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(at+1),
this.heap=new A.Buf16(2*et+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*et+1),
a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,
this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0,this.high_water=0;
}function _(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,
e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ct:mt,t.adler=2===e.wrap?0:1,
e.last_flush=R,T._tr_init(e),N):r(t,B)}function x(t){var e=_(t);return e===N&&p(t.state),
e}function w(t,e,n,i,a,s){if(!t)return r(t,B);var o=1;if(e===G&&(e=6),0>i?(o=0,i=-i):i>15&&(o=2,
i-=16),1>a||a>Z||n!==X||8>i||i>15||0>e||e>9||0>s||s>$)return r(t,B);8===i&&(i=9);var l=new y;
return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,
l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,
l.hash_shift=~~((l.hash_bits+st-1)/st),l.window=new A.Buf8(2*l.w_size),l.head=new A.Buf16(l.hash_size),
l.prev=new A.Buf16(l.w_size),l.high_water=0,l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,
l.pending_buf=new A.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,
l.level=e,l.strategy=s,l.method=n,x(t)}function S(t,e){return w(t,e,X,K,J,W)}function C(t,e){
var n,o;if(!t||!t.state||e>D||0>e)return r(t,B);if(o=t.state,!t.next_out||!t.next_in&&0!==t.avail_in||o.status===bt&&e!==I)return r(t,0===t.avail_out?z:B);
if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===ct)if(2===o.wrap){if(t.adler=0,
l(o,31),l(o,139),l(o,8),o.gzhead)throw new Error("Custom GZIP headers not supported");
l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=F||o.level<2?4:0),
l(o,xt),o.status=mt}else{var c=X+(o.w_bits-8<<4)<<8,d=-1;d=o.strategy>=F||o.level<2?0:o.level<6?1:6===o.level?2:3,
c|=d<<6,0!==o.strstart&&(c|=ut),c+=31-c%31,o.status=mt,u(o,c),0!==o.strstart&&(u(o,t.adler>>>16),
u(o,65535&t.adler)),t.adler=1}if(0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,
N}else if(0===t.avail_in&&i(e)<=i(n)&&e!==I)return r(t,z);if(o.status===bt&&0!==t.avail_in)return r(t,z);
if(0!==t.avail_in||0!==o.lookahead||e!==R&&o.status!==bt){var h=o.strategy===F?g(o,e):o.strategy===q?b(o,e):E[o.level].func(o,e);
if((h===yt||h===_t)&&(o.status=bt),h===gt||h===yt)return 0===t.avail_out&&(o.last_flush=-1),
N;if(h===pt&&(e===O?T._tr_align(o):e!==D&&(T._tr_stored_block(o,0,0,!1),e===P&&(a(o.head),
0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,
N}return e!==I?N:o.wrap<=0?V:(2===o.wrap?(l(o,255&t.adler),l(o,t.adler>>8&255),l(o,t.adler>>16&255),
l(o,t.adler>>24&255),l(o,255&t.total_in),l(o,t.total_in>>8&255),l(o,t.total_in>>16&255),
l(o,t.total_in>>24&255)):(u(o,t.adler>>>16),u(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),
0!==o.pending?N:V)}function k(t){var e=t.state.status;return e!==ct&&e!==dt&&e!==ht&&e!==ft&&e!==vt&&e!==mt&&e!==bt?r(t,B):(t.state=null,
e===mt?r(t,U):N)}var E,A=t("./utils"),T=t("./trees"),L=t("./adler32"),M=t("./crc32"),j=t("./messages"),R=0,O=1,P=3,I=4,D=5,N=0,V=1,B=-2,U=-3,z=-5,G=-1,H=1,F=2,q=3,$=4,W=0,Y=2,X=8,Z=9,K=15,J=8,Q=29,tt=256,et=tt+1+Q,nt=30,rt=19,it=2*et+1,at=15,st=3,ot=258,lt=ot+st+1,ut=32,ct=42,dt=69,ht=73,ft=91,vt=103,mt=113,bt=666,gt=1,pt=2,yt=3,_t=4,xt=3,wt=function(t,e,n,r,i){
this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i;
};E=[new wt(0,0,0,0,f),new wt(4,4,8,4,v),new wt(4,5,16,8,v),new wt(4,6,32,32,v),new wt(4,4,16,16,m),new wt(8,16,32,32,m),new wt(8,16,128,128,m),new wt(8,32,128,256,m),new wt(32,128,258,1024,m),new wt(32,258,258,4096,m)],
n.deflateInit=S,n.deflateInit2=w,n.deflateReset=x,n.deflate=C,n.deflateEnd=k,n.deflateInfo="pako deflate (from Nodeca project)";
},{"./adler32":4,"./crc32":6,"./messages":11,"./trees":12,"./utils":13}],8:[function(t,e,n){
var r=30,i=12;e.exports=function(t,e){var n,a,s,o,l,u,c,d,h,f,v,m,b,g,p,y,_,x,w,S,C,k,E,A,T;
n=t.state,a=t.next_in_index,A=t.next_in,s=a+(t.avail_in-5),o=t.next_out_index,T=t.next_out,
l=o-(e-t.avail_out),u=o+(t.avail_out-257),c=n.dmax,d=n.wsize,h=n.whave,f=n.wnext,
v=n.window,m=n.hold,b=n.bits,g=n.lencode,p=n.distcode,y=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;
t:do{15>b&&(m+=A[a++]<<b,b+=8,m+=A[a++]<<b,b+=8),x=g[m&y];e:for(;;){if(w=x>>>24,m>>>=w,
b-=w,w=x>>>16&255,0===w)T[o++]=65535&x;else{if(!(16&w)){if(0===(64&w)){x=g[(65535&x)+(m&(1<<w)-1)];
continue e}if(32&w){n.mode=i;break t}t.msg="invalid literal/length code",n.mode=r;
break t}S=65535&x,w&=15,w&&(w>b&&(m+=A[a++]<<b,b+=8),S+=m&(1<<w)-1,m>>>=w,b-=w),15>b&&(m+=A[a++]<<b,
b+=8,m+=A[a++]<<b,b+=8),x=p[m&_];n:for(;;){if(w=x>>>24,m>>>=w,b-=w,w=x>>>16&255,!(16&w)){
if(0===(64&w)){x=p[(65535&x)+(m&(1<<w)-1)];continue n}t.msg="invalid distance code",
n.mode=r;break t}if(C=65535&x,w&=15,w>b&&(m+=A[a++]<<b,b+=8,w>b&&(m+=A[a++]<<b,b+=8)),
C+=m&(1<<w)-1,C>c){t.msg="invalid distance too far back",n.mode=r;break t}if(m>>>=w,
b-=w,w=o-l,C>w){if(w=C-w,w>h&&n.sane){t.msg="invalid distance too far back",n.mode=r;
break t}if(k=0,E=v,0===f){if(k+=d-w,S>w){S-=w;do T[o++]=v[k++];while(--w);k=o-C,E=T;
}}else if(w>f){if(k+=d+f-w,w-=f,S>w){S-=w;do T[o++]=v[k++];while(--w);if(k=0,S>f){
w=f,S-=w;do T[o++]=v[k++];while(--w);k=o-C,E=T}}}else if(k+=f-w,S>w){S-=w;do T[o++]=v[k++];while(--w);
k=o-C,E=T}for(;S>2;)T[o++]=E[k++],T[o++]=E[k++],T[o++]=E[k++],S-=3;S&&(T[o++]=E[k++],
S>1&&(T[o++]=E[k++]))}else{k=o-C;do T[o++]=T[k++],T[o++]=T[k++],T[o++]=T[k++],S-=3;while(S>2);
S&&(T[o++]=T[k++],S>1&&(T[o++]=T[k++]))}break}}break}}while(s>a&&u>o);S=b>>3,a-=S,
b-=S<<3,m&=(1<<b)-1,t.next_in_index=a,t.next_out_index=o,t.avail_in=s>a?5+(s-a):5-(a-s),
t.avail_out=u>o?257+(u-o):257-(o-u),n.hold=m,n.bits=b}},{}],9:[function(t,e,n){function r(t){
return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,
this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,
this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,
this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,
this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,
this.have=0,this.next=null,this.next_index=0,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),
this.codes=new p.Buf32(gt),this.sane=0,this.back=0,this.was=0}function a(t,e,n,r,i,a,s,o){
this.type=t,this.lens=e,this.lens_index=n,this.codes=r,this.table=i,this.table_index=a,
this.bits=s,this.work=o}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,
e.wrap&&(t.adler=1&e.wrap),e.mode=N,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,
e.hold=0,e.bits=0,e.lencode=new p.Buf32(gt),e.distcode=new p.Buf32(gt),e.sane=1,e.back=-1,
L):R}function o(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,
s(t)):R}function l(t,e){var n,r;return t&&t.state?(r=t.state,0>e?(n=0,e=-e):(n=(e>>4)+1,
48>e&&(e&=15)),e&&(8>e||e>15)?R:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,
r.wbits=e,o(t))):R}function u(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,
n=l(t,e),n!==L&&(t.state=null),n):R}function c(t){return u(t,yt)}function d(t,e,n){
var r;return t&&t.state?(r=t.state,0>e?(r.hold=0,r.bits=0,L):e>16||r.bits+e>32?R:(n&=(1<<e)-1,
r.hold+=n<<r.bits,r.bits+=e,L)):R}function h(t){if(_t){var e,n;for(b=new p.Buf32(512),
g=new p.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;
for(;288>e;)t.lens[e++]=8;for(n=9,w(new a(C,t.lens,0,288,b,0,n,t.work)),e=0;32>e;)t.lens[e++]=5;
n=5,w(new a(k,t.lens,0,32,g,0,n,t.work)),_t=!1}t.lencode=b,t.lenbits=9,t.distcode=g,
t.distbits=5}function f(t,e,n,r){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,
a.wnext=0,a.whave=0,a.window=new p.Buf8(a.wsize)),r>=a.wsize?(p.arraySet(a.window,e,n-a.wsize,a.wsize,0),
a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),p.arraySet(a.window,e,n-r,i,a.wnext),
r-=i,r?(p.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),
a.whave<a.wsize&&(a.whave+=i))),0}function v(t,e){var n,i,s,o,l,u,c,d,v,m,b,g,mt,bt,gt,pt,yt,_t,xt,wt,St,Ct,kt,Et,At=0,Tt=new p.Buf8(4),Lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
n=t.state,n.mode===Y&&(n.mode=X),l=t.next_out_index,s=t.next_out,c=t.avail_out,o=t.next_in_index,
i=t.next_in,u=t.avail_in,d=n.hold,v=n.bits,m=u,b=c,Ct=L;t:for(;;)switch(n.mode){case N:
if(0===n.wrap){n.mode=X;break}for(;16>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}
if(2&n.wrap&&35615===d){n.check=0,Tt[0]=255&d,Tt[1]=d>>>8&255,n.check=_(n.check,Tt,2,0),
d=0,v=0,n.mode=V;break}if(n.flags=0,n.head&&(n.head.done=-1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){
t.msg="incorrect header check",n.mode=ht;break}if((15&d)!==D){t.msg="unknown compression method",
n.mode=ht;break}if(d>>>=4,v-=4,St=(15&d)+8,0===n.wbits)n.wbits=St;else if(St>n.wbits){
t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<St,t.adler=n.check=1,n.mode=512&d?$:Y,
d=0,v=0;break;case V:for(;16>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if(n.flags=d,
(255&n.flags)!==D){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){
t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Tt[0]=255&d,
Tt[1]=d>>>8&255,n.check=_(n.check,Tt,2,0)),d=0,v=0,n.mode=B;case B:for(;32>v;){if(0===u)break t;
u--,d+=i[o++]<<v,v+=8}n.head&&(n.head.time=d),512&n.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,
Tt[2]=d>>>16&255,Tt[3]=d>>>24&255,n.check=_(n.check,Tt,4,0)),d=0,v=0,n.mode=U;case U:
for(;16>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),
512&n.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,n.check=_(n.check,Tt,2,0)),d=0,v=0,n.mode=z;
case z:if(1024&n.flags){for(;16>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}n.length=d,
n.head&&(n.head.extra_len=d),512&n.flags&&(Tt[0]=255&d,Tt[1]=d>>>8&255,n.check=_(n.check,Tt,2,0)),
d=0,v=0}else n.head&&(n.head.extra=null);n.mode=G;case G:if(1024&n.flags){if(g=n.length,
g>u&&(g=u),g){if(n.head&&n.head.extra)throw St=n.head.extra_len-n.length,"Review & implement right";
512&n.flags&&(n.check=_(n.check,i,g,o)),u-=g,o+=g,n.length-=g}if(n.length)break t;
}n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===u)break t;g=0;do St=i[o+g++],
n.head&&n.head.name&&n.length<n.head.name_max&&(n.head.name[n.length++]=St);while(St&&u>g);
if(512&n.flags&&(n.check=_(n.check,i,g,o)),u-=g,o+=g,St)break t}else n.head&&(n.head.name=null);
n.length=0,n.mode=F;case F:if(4096&n.flags){if(0===u)break t;g=0;do St=i[o+g++],n.head&&n.head.comment&&n.length<n.head.comm_max&&(n.head.comment[n.length++]=St);while(St&&u>g);
if(512&n.flags&&(n.check=_(n.check,i,g,o)),u-=g,o+=g,St)break t}else n.head&&(n.head.comment=null);
n.mode=q;case q:if(512&n.flags){for(;16>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8;
}if(d!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}d=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,
n.head.done=1),t.adler=n.check=0,n.mode=Y;break;case $:for(;32>v;){if(0===u)break t;
u--,d+=i[o++]<<v,v+=8}t.adler=n.check=r(d),d=0,v=0,n.mode=W;case W:if(0===n.havedict)return t.next_out_index=l,
t.avail_out=c,t.next_in_index=o,t.avail_in=u,n.hold=d,n.bits=v,j;t.adler=n.check=1,
n.mode=Y;case Y:if(e===A||e===T)break t;case X:if(n.last){d>>>=7&v,v-=7&v,n.mode=ut;
break}for(;3>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}switch(n.last=1&d,d>>>=1,
v-=1,3&d){case 0:n.mode=Z;break;case 1:if(h(n),n.mode=nt,e===T){d>>>=2,v-=2;break t;
}break;case 2:n.mode=Q;break;case 3:t.msg="invalid block type",n.mode=ht}d>>>=2,v-=2;
break;case Z:for(d>>>=7&v,v-=7&v;32>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if((65535&d)!==(d>>>16^65535)){
t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&d,d=0,v=0,
n.mode=K,e===T)break t;case K:n.mode=J;case J:if(g=n.length){if(g>u&&(g=u),g>c&&(g=c),
0===g)break t;p.arraySet(s,i,o,g,l),u-=g,o+=g,c-=g,l+=g,n.length-=g;break}n.mode=Y;
break;case Q:for(;14>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if(n.nlen=(31&d)+257,
d>>>=5,v-=5,n.ndist=(31&d)+1,d>>>=5,v-=5,n.ncode=(15&d)+4,d>>>=4,v-=4,n.nlen>286||n.ndist>30){
t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=tt;case tt:
for(;n.have<n.ncode;){for(;3>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}n.lens[Lt[n.have++]]=7&d,
d>>>=3,v-=3}for(;n.have<19;)n.lens[Lt[n.have++]]=0;if(p.arraySet(n.lencode,n.codes,0,n.codes.length,0),
n.lenbits=7,kt=new a(S,n.lens,0,19,n.lencode,0,n.lenbits,n.work),Ct=w(kt),n.lenbits=kt.bits,
Ct){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){
for(;At=n.lencode[d&(1<<n.lenbits)-1],gt=At>>>24,pt=At>>>16&255,yt=65535&At,!(v>=gt);){
if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if(16>yt)d>>>=gt,v-=gt,n.lens[n.have++]=yt;else{
if(16===yt){for(Et=gt+2;Et>v;){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if(d>>>=gt,
v-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}St=n.lens[n.have-1],
g=3+(3&d),d>>>=2,v-=2}else if(17===yt){for(Et=gt+3;Et>v;){if(0===u)break t;u--,d+=i[o++]<<v,
v+=8}d>>>=gt,v-=gt,St=0,g=3+(7&d),d>>>=3,v-=3}else{for(Et=gt+7;Et>v;){if(0===u)break t;
u--,d+=i[o++]<<v,v+=8}d>>>=gt,v-=gt,St=0,g=11+(127&d),d>>>=7,v-=7}if(n.have+g>n.nlen+n.ndist){
t.msg="invalid bit length repeat",n.mode=ht;break}for(;g--;)n.lens[n.have++]=St}}
if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",
n.mode=ht;break}if(p.arraySet(n.lencode,n.codes,0,n.codes.length,0),n.lenbits=9,kt=new a(C,n.lens,0,n.nlen,n.lencode,0,n.lenbits,n.work),
Ct=w(kt),n.lenbits=kt.bits,Ct){t.msg="invalid literal/lengths set",n.mode=ht;break;
}if(n.distbits=6,p.arraySet(n.distcode,n.codes,0,n.codes.length,0),kt=new a(k,n.lens,n.nlen,n.ndist,n.distcode,0,n.distbits,n.work),
Ct=w(kt),n.distbits=kt.bits,Ct){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=nt,
e===T)break t;case nt:n.mode=rt;case rt:if(u>=6&&c>=258){t.next_out_index=l,t.avail_out=c,
t.next_in_index=o,t.avail_in=u,n.hold=d,n.bits=v,x(t,b),l=t.next_out_index,s=t.next_out,
c=t.avail_out,o=t.next_in_index,i=t.next_in,u=t.avail_in,d=n.hold,v=n.bits,n.mode===Y&&(n.back=-1);
break}for(n.back=0;At=n.lencode[d&(1<<n.lenbits)-1],gt=At>>>24,pt=At>>>16&255,yt=65535&At,
!(v>=gt);){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if(pt&&0===(240&pt)){for(_t=gt,
xt=pt,wt=yt;At=n.lencode[wt+((d&(1<<_t+xt)-1)>>_t)],gt=At>>>24,pt=At>>>16&255,yt=65535&At,
!(v>=_t+gt);){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}d>>>=_t,v-=_t,n.back+=_t}if(d>>>=gt,
v-=gt,n.back+=gt,n.length=yt,0===pt){n.mode=lt;break}if(32&pt){n.back=-1,n.mode=Y;
break}if(64&pt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&pt,
n.mode=it;case it:if(n.extra){for(Et=n.extra;Et>v;){if(0===u)break t;u--,d+=i[o++]<<v,
v+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,
n.mode=at;case at:for(;At=n.distcode[d&(1<<n.distbits)-1],gt=At>>>24,pt=At>>>16&255,
yt=65535&At,!(v>=gt);){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}if(0===(240&pt)){for(_t=gt,
xt=pt,wt=yt;At=n.distcode[wt+((d&(1<<_t+xt)-1)>>_t)],gt=At>>>24,pt=At>>>16&255,yt=65535&At,
!(v>=_t+gt);){if(0===u)break t;u--,d+=i[o++]<<v,v+=8}d>>>=_t,v-=_t,n.back+=_t}if(d>>>=gt,
v-=gt,n.back+=gt,64&pt){t.msg="invalid distance code",n.mode=ht;break}n.offset=yt,
n.extra=15&pt,n.mode=st;case st:if(n.extra){for(Et=n.extra;Et>v;){if(0===u)break t;
u--,d+=i[o++]<<v,v+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,v-=n.extra,n.back+=n.extra;
}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=ot;
case ot:if(0===c)break t;if(g=b-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){
t.msg="invalid distance too far back",n.mode=ht;break}g>n.wnext?(g-=n.wnext,mt=n.wsize-g):mt=n.wnext-g,
g>n.length&&(g=n.length),bt=n.window}else bt=s,mt=l-n.offset,g=n.length;g>c&&(g=c),
c-=g,n.length-=g;do s[l++]=bt[mt++];while(--g);0===n.length&&(n.mode=rt);break;case lt:
if(0===c)break t;s[l++]=n.length,c--,n.mode=rt;break;case ut:if(n.wrap){for(;32>v;){
if(0===u)break t;u--,d|=i[o++]<<v,v+=8}if(b-=c,t.total_out+=b,n.total+=b,b&&(t.adler=n.check=n.flags?_(n.check,s,b,l-b):y(n.check,s,b,l-b)),
b=c,(n.flags?d:r(d))!==n.check){t.msg="incorrect data check",n.mode=ht;break}d=0,
v=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;32>v;){if(0===u)break t;u--,d+=i[o++]<<v,
v+=8}if(d!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}
d=0,v=0}n.mode=dt;case dt:Ct=M;break t;case ht:Ct=O;break t;case ft:return P;case vt:
default:return R}return t.next_out_index=l,t.avail_out=c,t.next_in_index=o,t.avail_in=u,
n.hold=d,n.bits=v,(n.wsize||b!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==E))&&f(t,t.next_out,t.next_out_index,b-t.avail_out)?(n.mode=ft,
P):(m-=t.avail_in,b-=t.avail_out,t.total_in+=m,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?_(n.check,s,b,t.next_out_index-b):y(n.check,s,b,t.next_out_index-b)),
t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===nt||n.mode===K?256:0),
(0===m&&0===b||e===E)&&Ct===L&&(Ct=I),Ct)}function m(t){var e=t.state;return e.window&&(e.window=null),
t.state=null,L}var b,g,p=t("./utils"),y=t("./adler32"),_=t("./crc32"),x=t("./inffast"),w=t("./inftrees"),S=0,C=1,k=2,E=4,A=5,T=6,L=0,M=1,j=2,R=-2,O=-3,P=-4,I=-5,D=8,N=1,V=2,B=3,U=4,z=5,G=6,H=7,F=8,q=9,$=10,W=11,Y=12,X=13,Z=14,K=15,J=16,Q=17,tt=18,et=19,nt=20,rt=21,it=22,at=23,st=24,ot=25,lt=26,ut=27,ct=28,dt=29,ht=30,ft=31,vt=32,mt=852,bt=592,gt=mt+bt,pt=15,yt=pt,_t=!0;
n.inflateReset=o,n.inflateReset2=l,n.inflateResetKeep=s,n.inflateInit=c,n.inflateInit2=u,
n.inflatePrime=d,n.inflate=v,n.inflateEnd=m,n.inflateInfo="pako inflate (from Nodeca project)";
},{"./adler32":4,"./crc32":6,"./inffast":8,"./inftrees":10,"./utils":13}],10:[function(t,e,n){
var r=t("./utils"),i=15,a=852,s=592,o=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];
e.exports=function(t){var e,n,v,m,b,g,p,y,_,x=t.type,w=t.lens,S=t.codes,C=t.table,k=t.bits,E=t.work,A=0,T=0,L=0,M=0,j=0,R=0,O=0,P=0,I=0,D=0,N=null,V=0,B=new r.Buf16(i+1),U=new r.Buf16(i+1),z=null,G=0;
for(A=0;i>=A;A++)B[A]=0;for(T=0;S>T;T++)B[w[t.lens_index+T]]++;for(j=k,M=i;M>=1&&0===B[M];M--);
if(j>M&&(j=M),0===M)return C[t.table_index++]=20971520,C[t.table_index++]=20971520,
t.bits=1,0;for(L=1;M>L&&0===B[L];L++);for(L>j&&(j=L),P=1,A=1;i>=A;A++)if(P<<=1,P-=B[A],
0>P)return-1;if(P>0&&(x===o||1!==M))return-1;for(U[1]=0,A=1;i>A;A++)U[A+1]=U[A]+B[A];
for(T=0;S>T;T++)0!==w[t.lens_index+T]&&(E[U[w[t.lens_index+T]]++]=T);switch(x){case o:
N=z=E,g=19;break;case l:N=c,V-=257,z=d,G-=257,g=256;break;default:N=h,z=f,g=-1}if(D=0,
T=0,A=L,b=t.table_index,R=j,O=0,v=-1,I=1<<j,m=I-1,x===l&&I>a||x===u&&I>s)return 1;
for(var H=0;;){H++,p=A-O,E[T]<g?(y=0,_=E[T]):E[T]>g?(y=z[G+E[T]],_=N[V+E[T]]):(y=96,
_=0),e=1<<A-O,n=1<<R,L=n;do n-=e,C[b+(D>>O)+n]=p<<24|y<<16|_|0;while(0!==n);for(e=1<<A-1;D&e;)e>>=1;
if(0!==e?(D&=e-1,D+=e):D=0,T++,0===--B[A]){if(A===M)break;A=w[t.lens_index+E[T]]}
if(A>j&&(D&m)!==v){for(0===O&&(O=j),b+=L,R=A-O,P=1<<R;M>R+O&&(P-=B[R+O],!(0>=P));)R++,
P<<=1;if(I+=1<<R,x===l&&I>a||x===u&&I>s)return 1;v=D&m,C[v]=j<<24|R<<16|b-t.table_index;
}}return 0!==D&&(C[b+D]=A-O<<24|64<<16|0),t.table_index+=I,t.bits=j,0}},{"./utils":13
}],11:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error",
"-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error",
"-6":"incompatible version"}},{}],12:[function(t,e,n){function r(t){for(var e=t.length;--e;)t[e]=0;
}function i(t){return 256>t?st[t]:st[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,
t.pending_buf[t.pending++]=e>>>8&255}function s(t,e,n){t.bi_valid>W-n?(t.bi_buf|=e<<t.bi_valid&65535,
a(t,t.bi_buf),t.bi_buf=e>>W-t.bi_valid,t.bi_valid+=n-W):(t.bi_buf|=e<<t.bi_valid&65535,
t.bi_valid+=n)}function o(t,e,n){s(t,n[2*e],n[2*e+1])}function l(t,e){var n=0;do n|=1&t,
t>>>=1,n<<=1;while(--e>0);return n>>>1}function u(t){16===t.bi_valid?(a(t,t.bi_buf),
t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,
t.bi_buf>>=8,t.bi_valid-=8)}function c(t,e){var n,r,i,a,s,o,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,v=e.stat_desc.max_length,m=0;
for(a=0;$>=a;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;q>n;n++)r=t.heap[n],
a=l[2*l[2*r+1]+1]+1,a>v&&(a=v,m++),l[2*r+1]=a,r>u||(t.bl_count[a]++,s=0,r>=f&&(s=h[r-f]),
o=l[2*r],t.opt_len+=o*(a+s),d&&(t.static_len+=o*(c[2*r+1]+s)));if(0!==m){do{for(a=v-1;0===t.bl_count[a];)a--;
t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[v]--,m-=2}while(m>0);for(a=v;0!==a;a--)for(r=t.bl_count[a];0!==r;)i=t.heap[--n],
i>u||(l[2*i+1]!==a&&(t.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}function d(t,e,n){
var r,i,a=new Array($+1),s=0;for(r=1;$>=r;r++)a[r]=s=s+n[r-1]<<1;for(i=0;e>=i;i++){
var o=t[2*i+1];0!==o&&(t[2*i]=l(a[o]++,o))}}function h(){var t,e,n,r,i,a=new Array($+1);
for(n=0,r=0;U-1>r;r++)for(lt[r]=n,t=0;t<1<<Q[r];t++)ot[n++]=r;for(ot[n-1]=r,i=0,r=0;16>r;r++)for(ut[r]=i,
t=0;t<1<<tt[r];t++)st[i++]=r;for(i>>=7;H>r;r++)for(ut[r]=i<<7,t=0;t<1<<tt[r]-7;t++)st[256+i++]=r;
for(e=0;$>=e;e++)a[e]=0;for(t=0;143>=t;)it[2*t+1]=8,t++,a[8]++;for(;255>=t;)it[2*t+1]=9,
t++,a[9]++;for(;279>=t;)it[2*t+1]=7,t++,a[7]++;for(;287>=t;)it[2*t+1]=8,t++,a[8]++;
for(d(it,G+1,a),t=0;H>t;t++)at[2*t+1]=5,at[2*t]=l(t,5);ct=new ft(it,Q,z+1,G,$),dt=new ft(at,tt,0,H,$),
ht=new ft(new Array(0),et,0,F,Y)}function f(t){var e;for(e=0;G>e;e++)t.dyn_ltree[2*e]=0;
for(e=0;H>e;e++)t.dyn_dtree[2*e]=0;for(e=0;F>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*X]=1,
t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),
t.bi_buf=0,t.bi_valid=0}function m(t,e,n,r){v(t),r&&(a(t,n),a(t,~n)),M.arraySet(t.pending_buf,t.window,e,n,t.pending),
t.pending+=n}function b(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n];
}function g(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&b(e,t.heap[i+1],t.heap[i],t.depth)&&i++,
!b(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function p(t,e,n){
var r,a,l,u,c=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],
a=t.pending_buf[t.l_buf+c],c++,0===r?o(t,a,e):(l=ot[a],o(t,l+z+1,e),u=Q[l],0!==u&&(a-=lt[l],
s(t,a,u)),r--,l=i(r),o(t,l,n),u=tt[l],0!==u&&(r-=ut[l],s(t,r,u)));while(c<t.last_lit);
o(t,X,e)}function y(t,e){var n,r,i,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;
for(t.heap_len=0,t.heap_max=q,n=0;l>n;n++)0!==a[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):a[2*n+1]=0;
for(;t.heap_len<2;)i=t.heap[++t.heap_len]=2>u?++u:0,a[2*i]=1,t.depth[i]=0,t.opt_len--,
o&&(t.static_len-=s[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)g(t,a,n);i=l;
do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,
t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,
a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,g(t,a,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],
c(t,e),d(a,u,t.bl_count)}function _(t,e,n){var r,i,a=-1,s=e[1],o=0,l=7,u=4;for(0===s&&(l=138,
u=3),e[2*(n+1)+1]=65535,r=0;n>=r;r++)i=s,s=e[2*(r+1)+1],++o<l&&i===s||(u>o?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,
t.bl_tree[2*Z]++):10>=o?t.bl_tree[2*K]++:t.bl_tree[2*J]++,o=0,a=i,0===s?(l=138,u=3):i===s?(l=6,
u=3):(l=7,u=4))}function x(t,e,n){var r,i,a=-1,l=e[1],u=0,c=7,d=4;for(0===l&&(c=138,
d=3),r=0;n>=r;r++)if(i=l,l=e[2*(r+1)+1],!(++u<c&&i===l)){if(d>u){do o(t,i,t.bl_tree);while(0!==--u);
}else 0!==i?(i!==a&&(o(t,i,t.bl_tree),u--),o(t,Z,t.bl_tree),s(t,u-3,2)):10>=u?(o(t,K,t.bl_tree),
s(t,u-3,3)):(o(t,J,t.bl_tree),s(t,u-11,7));u=0,a=i,0===l?(c=138,d=3):i===l?(c=6,d=3):(c=7,
d=4)}}function w(t){var e;for(_(t,t.dyn_ltree,t.l_desc.max_code),_(t,t.dyn_dtree,t.d_desc.max_code),
y(t,t.bl_desc),e=F-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,
e}function S(t,e,n,r){var i;for(s(t,e-257,5),s(t,n-1,5),s(t,r-4,4),i=0;r>i;i++)s(t,t.bl_tree[2*nt[i]+1],3);
x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,n-1)}function C(t){var e,n=4093624447;for(e=0;31>=e;e++,
n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return O;
for(e=32;z>e;e++)if(0!==t.dyn_ltree[2*e])return O;return R}function k(t){mt||(h(),
mt=!0),t.l_desc=new vt(t.dyn_ltree,ct),t.d_desc=new vt(t.dyn_dtree,dt),t.bl_desc=new vt(t.bl_tree,ht),
t.bi_buf=0,t.bi_valid=0,f(t)}function E(t,e,n,r){s(t,(I<<1)+(r?1:0),3),m(t,e,n,!0);
}function A(t){s(t,D<<1,3),o(t,X,it),u(t)}function T(t,e,n,r){var i,a,o=0;t.level>0?(t.strm.data_type===P&&(t.strm.data_type=C(t)),
y(t,t.l_desc),y(t,t.d_desc),o=w(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,i>=a&&(i=a)):i=a=n+5,
i>=n+4&&-1!==e?E(t,e,n,r):t.strategy===j||a===i?(s(t,(D<<1)+(r?1:0),3),p(t,it,at)):(s(t,(N<<1)+(r?1:0),3),
S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),p(t,t.dyn_ltree,t.dyn_dtree)),f(t),
r&&v(t)}function L(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,
t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,
e--,t.dyn_ltree[2*(ot[n]+z+1)]++,t.dyn_dtree[2*i(e)]++),t.last_lit===t.lit_bufsize-1;
}var M=t("./utils"),j=4,R=0,O=1,P=2,I=0,D=1,N=2,V=3,B=258,U=29,z=256,G=z+1+U,H=30,F=19,q=2*G+1,$=15,W=16,Y=7,X=256,Z=16,K=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=512,it=new Array(2*(G+2));
r(it);var at=new Array(2*H);r(at);var st=new Array(rt);r(st);var ot=new Array(B-V+1);
r(ot);var lt=new Array(U);r(lt);var ut=new Array(H);r(ut);var ct,dt,ht,ft=function(t,e,n,r,i){
this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,
this.has_stree=t&&t.length},vt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e;
},mt=!1;n._tr_init=k,n._tr_stored_block=E,n._tr_flush_block=T,n._tr_tally=L,n._tr_align=A;
},{"./utils":13}],13:[function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;
n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){
var n=e.shift();if(n){if("object"!==$traceurRuntime["typeof"](n))throw new TypeError(n+"must be non-object");
for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){
return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){
if(e.subarray)return void t.set(e.subarray(n,n+r),i);for(var a=0;r>a;a++)t[i+a]=e[n+a];
},flattenChunks:function(t){var e,n,r,i,a,s;for(r=0,e=0,n=t.length;n>e;e++)r+=t[e].length;
for(s=new Uint8Array(r),i=0,e=0,n=t.length;n>e;e++)a=t[e],s.set(a,i),i+=a.length;return s;
}},a={arraySet:function(t,e,n,r,i){for(var a=0;r>a;a++)t[i+a]=e[n+a]},flattenChunks:function(t){
return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,
n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a));
},n.setTyped(r)},{}],14:[function(t,e,n){function r(){this.next_in=null,this.next_in_index=0,
this.avail_in=0,this.total_in=0,this.next_out=null,this.next_out_index=0,this.avail_out=0,
this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r;
},{}]},{},[1])(1)});var t=window.pako;return{get default(){return t}}}),System.registerModule("libs/paper",[],function(){
"use strict";var t=new function(e){var n=new function(){function t(t,e,r,i,s){function o(a,o){
o=o||(o=u(e,a))&&(o.get?o:o.value),"string"==typeof o&&"#"===o[0]&&(o=t[o.substring(1)]||o);
var c,h="function"==typeof o,f=o,v=s||h&&!o.base?o&&o.get?a in t:t[a]:null;s&&v||(h&&v&&(o.base=v),
h&&i!==!1&&(c=a.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),
f&&!h&&f.get&&"function"==typeof f.get&&n.isPlainObject(f)||(f={value:f,writable:!0
}),(u(t,a)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=r),d(t,a,f));
}var l={};if(e){for(var c in e)e.hasOwnProperty(c)&&!a.test(c)&&o(c);for(var c in l){
var h=l[c],f=t["set"+h],v=t["get"+h]||f&&t["is"+h];!v||i!==!0&&0!==v.length||o(c,{
get:v,set:f})}}return t}function r(t,e,n){return t&&("length"in t&&!t.getLength&&"number"==typeof t.length?s:o).call(t,e,n=n||t),
n}function i(t,e,n){for(var r in e)!e.hasOwnProperty(r)||n&&n[r]||(t[r]=e[r]);return t;
}var a=/^(statics|enumerable|beans|preserve)$/,s=[].forEach||function(t,e){for(var n=0,r=this.length;r>n;n++)t.call(e,this[n],n,this);
},o=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this);
},l=Object.create||function(t){return{__proto__:t}},u=Object.getOwnPropertyDescriptor||function(t,e){
var n=t.__lookupGetter__&&t.__lookupGetter__(e);return n?{get:n,set:t.__lookupSetter__(e),
enumerable:!0,configurable:!0}:t.hasOwnProperty(e)?{value:t[e],enumerable:!0,configurable:!0,
writable:!0}:null},c=Object.defineProperty||function(t,e,n){return(n.get||n.set)&&t.__defineGetter__?(n.get&&t.__defineGetter__(e,n.get),
n.set&&t.__defineSetter__(e,n.set)):t[e]=n.value,t},d=function(t,e,n){return delete t[e],
c(t,e,n)};return t(function(){for(var t=0,e=arguments.length;e>t;t++)i(this,arguments[t]);
},{inject:function(e){if(e){var n=e.statics===!0?e:e.statics,r=e.beans,i=e.preserve;
n!==e&&t(this.prototype,e,e.enumerable,r,i),t(this,n,!0,r,i)}for(var a=1,s=arguments.length;s>a;a++)this.inject(arguments[a]);
return this},extend:function(){for(var e,n,r=this,i=0,a=arguments.length;a>i&&!(e=arguments[i].initialize);i++);
return e=e||function(){r.apply(this,arguments)},n=e.prototype=l(this.prototype),d(n,"constructor",{
value:e,writable:!0,configurable:!0}),t(e,this,!0),arguments.length&&this.inject.apply(e,arguments),
e.base=r,e}},!0).inject({inject:function(){for(var e=0,n=arguments.length;n>e;e++){
var r=arguments[e];r&&t(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){
var t=l(this);return t.inject.apply(t,arguments)},each:function(t,e){return r(this,t,e);
},set:function(t){return i(this,t)},clone:function(){return new this.constructor(this);
},statics:{each:r,create:l,define:d,describe:u,set:i,clone:function(t){return i(new t.constructor,t);
},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===n||"Object"===e.name);
},pick:function(t,n){return t!==e?t:n}}})};"undefined"!=typeof module&&(module.exports=n),
n.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+n.each(this,function(t,e){
if(!/^_/.test(e)){var n="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t);
this.push(e+": "+("number"===n?s.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }";
},getClassName:function(){return this._class||""},exportJSON:function(t){return n.exportJSON(this,t);
},toJSON:function(){return n.serialize(this)},_set:function(t,r,i){if(t&&(i||n.isPlainObject(t))){
for(var a=Object.keys(t._filtering||t),s=0,o=a.length;o>s;s++){var l=a[s];if(!r||!r[l]){
var u=t[l];u!==e&&(this[l]=u)}}return!0}},statics:{exports:{enumerable:!0},extend:function nt(){
var t=nt.base.apply(this,arguments),e=t.prototype._class;return e&&!n.exports[e]&&(n.exports[e]=t),
t},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);
if(t&&e&&"object"===("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))&&"object"===("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))){
if(Array.isArray(t)&&Array.isArray(e)){var r=t.length;if(r!==e.length)return!1;for(;r--;)if(!n.equals(t[r],e[r]))return!1;
}else{var i=Object.keys(t),r=i.length;if(r!==Object.keys(e).length)return!1;for(;r--;){
var a=i[r];if(!e.hasOwnProperty(a)||!n.equals(t[a],e[a]))return!1}}return!0}return!1;
},read:function(t,r,i,a){if(this===n){var s=this.peek(t,r);return t.__index++,s}var o=this.prototype,l=o._readIndex,u=r||l&&t.__index||0;
a||(a=t.length-u);var c=t[u];return c instanceof this||i&&i.readNull&&null==c&&1>=a?(l&&(t.__index=u+1),
c&&i&&i.clone?c.clone():c):(c=n.create(this.prototype),l&&(c.__read=!0),c=c.initialize.apply(c,u>0||a<t.length?Array.prototype.slice.call(t,u,u+a):t)||c,
l&&(t.__index=u+c.__read,c.__read=e),c)},peek:function(t,e){return t[t.__index=e||t.__index||0];
},remain:function(t){return t.length-(t.__index||0)},readAll:function(t,e,n){for(var r,i=[],a=e||0,s=t.length;s>a;a++)i.push(Array.isArray(r=t[a])?this.read(r,0,n):this.read(t,a,n,1));
return i},readNamed:function(t,r,i,a,s){var o=this.getNamed(t,r),l=o!==e;if(l){var u=t._filtered;
u||(u=t._filtered=n.create(t[0]),u._filtering=t[0]),u[r]=e}return this.read(l?[o]:t,i,a,s);
},getNamed:function(t,r){var i=t[0];return t._hasObject===e&&(t._hasObject=1===t.length&&n.isPlainObject(i)),
t._hasObject?r?i[r]:t._filtered||i:void 0},hasNamed:function(t,e){return!!this.getNamed(t,e);
},isPlainValue:function(t,e){return this.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t;
},serialize:function(t,e,r,i){e=e||{};var a,o=!i;if(o&&(e.formatter=new s(e.precision),
i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,r=this.references[n];
if(!r){this.length++;var i=e.call(t),a=t._class;a&&i[0]!==a&&i.unshift(a),this.definitions[n]=i,
r=this.references[n]=[n]}return r}}),t&&t._serialize){a=t._serialize(e,i);var l=t._class;
!l||r||a._compact||a[0]===l||a.unshift(l)}else if(Array.isArray(t)){a=[];for(var u=0,c=t.length;c>u;u++)a[u]=n.serialize(t[u],e,r,i);
r&&(a._compact=!0)}else if(n.isPlainObject(t)){a={};for(var d=Object.keys(t),u=0,c=d.length;c>u;u++){
var h=d[u];a[h]=n.serialize(t[h],e,r,i)}}else a="number"==typeof t?e.formatter.number(t,e.precision):t;
return o&&i.length>0?[["dictionary",i.definitions],a]:a},deserialize:function(t,e,r,i){
var a=t,s=!r;if(r=r||{},Array.isArray(t)){var o=t[0],l="dictionary"===o;if(1==t.length&&/^#/.test(o))return r.dictionary[o];
o=n.exports[o],a=[],i&&(r.dictionary=a);for(var u=o?1:0,c=t.length;c>u;u++)a.push(n.deserialize(t[u],e,r,l));
if(o){var d=a;e?a=e(o,d):(a=n.create(o.prototype),o.apply(a,d))}}else if(n.isPlainObject(t)){
a={},i&&(r.dictionary=a);for(var h in t)a[h]=n.deserialize(t[h],e,r)}return s&&t&&t.length&&"dictionary"===t[0][0]?a[1]:a;
},exportJSON:function(t,e){var r=n.serialize(t,e);return e&&e.asString===!1?r:JSON.stringify(r);
},importJSON:function(t,e){return n.deserialize("string"==typeof t?JSON.parse(t):t,function(t,r){
var i=e&&e.constructor===t,a=i?e:n.create(t.prototype),s=i?a._initialize||a._set:t;
if(1===r.length&&a instanceof y&&(i||!(a instanceof x))){var o=r[0];n.isPlainObject(o)&&(o.insert=!1);
}return s.apply(a,r),i&&(e=null),a})},splice:function(t,n,r,i){var a=n&&n.length,s=r===e;
r=s?t.length:r,r>t.length&&(r=t.length);for(var o=0;a>o;o++)n[o]._index=r+o;if(s)return t.push.apply(t,n),
[];var l=[r,i];n&&l.push.apply(l,n);for(var u=t.splice.apply(t,l),o=0,c=u.length;c>o;o++)u[o]._index=e;
for(var o=r+a,c=t.length;c>o;o++)t[o]._index=o;return u},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){
return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){
return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();
}}});var r={on:function(t,e){if("string"!=typeof t)n.each(t,function(t,e){this.on(e,t);
},this);else{var r=this._eventTypes,i=r&&r[t],a=this._callbacks=this._callbacks||{};
a=a[t]=a[t]||[],-1===a.indexOf(e)&&(a.push(e),i&&i.install&&1===a.length&&i.install.call(this,t));
}return this},off:function(t,e){if("string"!=typeof t)return void n.each(t,function(t,e){
this.off(e,t)},this);var r,i=this._eventTypes,a=i&&i[t],s=this._callbacks&&this._callbacks[t];
return s&&(!e||-1!==(r=s.indexOf(e))&&1===s.length?(a&&a.uninstall&&a.uninstall.call(this,t),
delete this._callbacks[t]):-1!==r&&s.splice(r,1)),this},once:function(t,e){return this.on(t,function(){
e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];
if(!n)return!1;var r=[].slice.call(arguments,1);n=n.slice();for(var i=0,a=n.length;a>i;i++)if(n[i].apply(this,r)===!1){
e&&e.stop&&e.stop();break}return!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t]);
},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._callbacks,n=t?"install":"uninstall";
for(var r in e)if(e[r].length>0){var i=this._eventTypes,a=i&&i[r],s=a&&a[n];s&&s.call(this,r);
}},statics:{inject:function rt(t){var e=t._events;if(e){var r={};n.each(e,function(e,i){
var a="string"==typeof e,s=a?e:i,o=n.capitalize(s),l=s.substring(2).toLowerCase();
r[l]=a?{}:e,s="_"+s,t["get"+o]=function(){return this[s]},t["set"+o]=function(t){
var e=this[s];e&&this.off(l,e),t&&this.on(l,t),this[s]=t}}),t._eventTypes=r}return rt.base.apply(this,arguments);
}}},i=n.extend({_class:"PaperScope",initialize:function it(){t=this,this.settings=new n({
applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],
this.palettes=[],this._id=it._id++,it._scopes[this._id]=this;var e=it.prototype;if(!this.support){
var r=J.getContext(1,1);e.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:Q.nativeModes
},J.release(r)}if(!this.browser){var i=navigator.userAgent.toLowerCase(),a=(/(win)/.exec(i)||/(mac)/.exec(i)||/(linux)/.exec(i)||[])[0],s=e.browser={
platform:a};a&&(s[a]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(t,e,n,r,i){
if(!s.chrome){var a="opera"===e?r:n;"trident"===e&&(a=i,e="msie"),s.version=a,s.versionNumber=parseFloat(a),
s.name=e,s[e]=!0}}),s.chrome&&delete s.webkit,s.atom&&delete s.chrome}},version:"0.9.25",
getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this;
},execute:function(e,n,r){t.PaperScript.execute(e,this,n,r),H.updateFocus()},install:function(t){
var e=this;n.each(["project","view","tool"],function(r){n.define(t,r,{configurable:!0,
get:function(){return e[r]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(t[r]=this[r]);
},setup:function(e){return t=this,this.project=new g(e),this},activate:function(){
t=this},clear:function(){for(var t=this.projects,e=this.tools,n=this.palettes,r=t.length-1;r>=0;r--)t[r].remove();
for(var r=e.length-1;r>=0;r--)e[r].remove();for(var r=n.length-1;r>=0;r--)n[r].remove();
},remove:function(){this.clear(),delete i._scopes[this._id]},statics:new function(){
function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n);
}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),
hasAttribute:t("has")}}}),a=n.extend(r,{initialize:function(e){this._scope=t,this._index=this._scope[this._list].push(this)-1,
(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;
var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,
this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this;
},remove:function(){return null==this._index?!1:(n.splice(this._scope[this._list],null,this._index,1),
this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,
!0)},getView:function(){return this._scope.getView()}}),s=n.extend({initialize:function(t){
this.precision=n.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){
return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){
return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y);
},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},
rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});s.instance=new s;
var o=new function(){function t(t,e,n){return e>t?e:t>n?n:t}var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],n=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,i=Math.sqrt,a=Math.pow,s=1e-12,l=1.12e-16;
return{TOLERANCE:1e-6,EPSILON:s,MACHINE_EPSILON:l,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:2e-7,
WINDING_EPSILON:2e-7,TRIGONOMETRIC_EPSILON:1e-7,CLIPPING_EPSILON:1e-7,KAPPA:4*(i(2)-1)/3,
isZero:function(t){return t>=-s&&s>=t},clamp:t,integrate:function(t,r,i,a){for(var s=e[a-2],o=n[a-2],l=.5*(i-r),u=l+r,c=0,d=a+1>>1,h=1&a?o[c++]*t(u):0;d>c;){
var f=l*s[c];h+=o[c++]*(t(u+f)+t(u-f))}return l*h},findRoot:function(t,e,n,i,a,s,o){
for(var l=0;s>l;l++){var u=t(n),c=u/e(n),d=n-c;if(r(c)<o)return d;u>0?(a=n,n=i>=d?.5*(i+a):d):(i=n,
n=d>=a?.5*(i+a):d)}return n},solveQuadratic:function(e,n,o,u,c,d){var h,f,v=0,m=c-s,b=d+s,g=1/0,p=n;
if(n/=-2,f=n*n-e*o,0!==f&&r(f)<l){var y=a(r(e*n*o),1/3);if(1e-8>y){var _=a(10,r(Math.floor(Math.log(y)*Math.LOG10E)));
isFinite(_)||(_=0),e*=_,n*=_,o*=_,f=n*n-e*o}}if(r(e)<s){if(r(p)<s)return r(o)<s?-1:0;
h=-o/p}else if(f>=-l){var x=0>f?0:i(f),w=n+(0>n?-x:x);0===w?(h=o/e,g=-h):(h=w/e,g=o/w);
}return isFinite(h)&&(null==c||h>m&&b>h)&&(u[v++]=null==c?h:t(h,c,d)),g!==h&&isFinite(g)&&(null==c||g>m&&b>g)&&(u[v++]=null==c?g:t(g,c,d)),
v},solveCubic:function(e,n,u,c,d,h,f){var v,m,b,g=0;if(r(e)<s)e=n,m=u,b=c,v=1/0;else if(r(c)<s)m=n,
b=u,v=0;else{var p,y,_,x,w,S,C,k=1+l;if(v=-(n/e)/3,C=e*v,m=C+n,b=m*v+u,_=(C+m)*v+b,
y=b*v+c,x=y/e,w=a(r(x),1/3),S=0>x?-1:1,x=-_/e,w=x>0?1.3247179572*Math.max(w,i(x)):w,
p=v-S*w,p!==v){do v=p,C=e*v,m=C+n,b=m*v+u,_=(C+m)*v+b,y=b*v+c,p=0===_?v:v-y/_/k;while(S*p>S*v);
r(e)*v*v>r(c/v)&&(b=-c/v,m=(b-u)/v)}}var g=o.solveQuadratic(e,m,b,d,h,f);return isFinite(v)&&(0===g||v!==d[g-1])&&(null==h||v>h-s&&f+s>v)&&(d[g++]=null==h?v:t(v,h,f)),
g}}},l={_id:1,_pools:{},get:function(t){if(t){var e=t._class,n=this._pools[e];return n||(n=this._pools[e]={
_id:1}),n._id++}return this._id++}},u=n.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){
var n="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t);if("number"===n){
var r="number"==typeof e;this.x=t,this.y=r?e:t,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===t?(this.x=this.y=0,
this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.x=t[0],this.y=t.length>1?t[1]:t[0]):null!=t.x?(this.x=t.x,
this.y=t.y):null!=t.width?(this.x=t.width,this.y=t.height):null!=t.angle?(this.x=t.length,
this.y=0,this.setAngle(t.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1));
},set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1;
},clone:function(){return new u(this.x,this.y)},toString:function(){var t=s.instance;
return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){
var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){
return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){
var e=this._angle||0;this.set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();
o.isZero(n)&&this.getAngle(),this.set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI;
},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",
setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=u.read(arguments),e=this.getLength()*t.getLength();
if(o.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(-1>n?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);
},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();
this.set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3;
}},{beans:!1,getDirectedAngle:function(){var t=u.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI;
},getDistance:function(){var t=u.read(arguments),e=t.x-this.x,r=t.y-this.y,i=e*e+r*r,a=n.read(arguments);
return a?i:Math.sqrt(i)},normalize:function(t){t===e&&(t=1);var n=this.getLength(),r=0!==n?t/n:0,i=new u(this.x*r,this.y*r);
return r>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();
t=t*Math.PI/180;var n=e?this.subtract(e):this,r=Math.sin(t),i=Math.cos(t);return n=new u(n.x*i-n.y*r,n.x*r+n.y*i),
e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){
var t=u.read(arguments);return new u(this.x+t.x,this.y+t.y)},subtract:function(){
var t=u.read(arguments);return new u(this.x-t.x,this.y-t.y)},multiply:function(){
var t=u.read(arguments);return new u(this.x*t.x,this.y*t.y)},divide:function(){var t=u.read(arguments);
return new u(this.x/t.x,this.y/t.y)},modulo:function(){var t=u.read(arguments);return new u(this.x%t.x,this.y%t.y);
},negate:function(){return new u(-this.x,-this.y)},isInside:function(){return f.read(arguments).contains(this);
},isClose:function(){var t=u.read(arguments),e=n.read(arguments);return this.getDistance(t)<e;
},isCollinear:function(){var t=u.read(arguments);return u.isCollinear(this.x,this.y,t.x,t.y);
},isColinear:"#isCollinear",isOrthogonal:function(){var t=u.read(arguments);return u.isOrthogonal(this.x,this.y,t.x,t.y);
},isZero:function(){return o.isZero(this.x)&&o.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y);
},dot:function(){var t=u.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){
var t=u.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=u.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);
return new u(t.x*e,t.y*e)},statics:{min:function(){var t=u.read(arguments),e=u.read(arguments);
return new u(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=u.read(arguments),e=u.read(arguments);
return new u(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new u(Math.random(),Math.random());
},isCollinear:function(t,e,n,r){return Math.abs(t*r-e*n)<=1e-7*Math.sqrt((t*t+e*e)*(n*n+r*r));
},isOrthogonal:function(t,e,n,r){return Math.abs(t*n+e*r)<=1e-7*Math.sqrt((t*t+e*e)*(n*n+r*r));
}}},n.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){
return new u(e(this.x),e(this.y))}},{})),c=u.extend({initialize:function(t,e,n,r){
this._x=t,this._y=e,this._owner=n,this._setter=r},set:function(t,e,n){return this._x=t,
this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x;
},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y;
},setY:function(t){this._y=t,this._owner[this._setter](this)}}),d=n.extend({_class:"Size",
_readIndex:!0,initialize:function(t,e){var n="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t);
if("number"===n){var r="number"==typeof e;this.width=t,this.height=r?e:t,this.__read&&(this.__read=r?2:1);
}else"undefined"===n||null===t?(this.width=this.height=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.width=t[0],
this.height=t.length>1?t[1]:t[0]):null!=t.width?(this.width=t.width,this.height=t.height):null!=t.x?(this.width=t.x,
this.height=t.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1));
},set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1;
},clone:function(){return new d(this.width,this.height)},toString:function(){var t=s.instance;
return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){
var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){
var t=d.read(arguments);return new d(this.width+t.width,this.height+t.height)},subtract:function(){
var t=d.read(arguments);return new d(this.width-t.width,this.height-t.height)},multiply:function(){
var t=d.read(arguments);return new d(this.width*t.width,this.height*t.height)},divide:function(){
var t=d.read(arguments);return new d(this.width/t.width,this.height/t.height)},modulo:function(){
var t=d.read(arguments);return new d(this.width%t.width,this.height%t.height)},negate:function(){
return new d(-this.width,-this.height)},isZero:function(){return o.isZero(this.width)&&o.isZero(this.height);
},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){
return new d(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){
return new d(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){
return new d(Math.random(),Math.random())}}},n.each(["round","ceil","floor","abs"],function(t){
var e=Math[t];this[t]=function(){return new d(e(this.width),e(this.height))}},{})),h=d.extend({
initialize:function(t,e,n,r){this._width=t,this._height=e,this._owner=n,this._setter=r;
},set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),
this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,
this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){
this._height=t,this._owner[this._setter](this)}}),f=n.extend({_class:"Rectangle",
_readIndex:!0,beans:!0,initialize:function(t,r,i,a){var s="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t),o=0;
if("number"===s?(this.x=t,this.y=r,this.width=i,this.height=a,o=4):"undefined"===s||null===t?(this.x=this.y=this.width=this.height=0,
o=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this.x=t[0],this.y=t[1],
this.width=t[2],this.height=t[3],o=1):t.x!==e||t.width!==e?(this.x=t.x||0,this.y=t.y||0,
this.width=t.width||0,this.height=t.height||0,o=1):t.from===e&&t.to===e&&(this.x=this.y=this.width=this.height=0,
this._set(t),o=1)),!o){var l=u.readNamed(arguments,"from"),c=n.peek(arguments);if(this.x=l.x,
this.y=l.y,c&&c.x!==e||n.hasNamed(arguments,"to")){var h=u.readNamed(arguments,"to");
this.width=h.x-l.x,this.height=h.y-l.y,this.width<0&&(this.x=h.x,this.width=-this.width),
this.height<0&&(this.y=h.y,this.height=-this.height)}else{var f=d.read(arguments);
this.width=f.width,this.height=f.height}o=arguments.__index}this.__read&&(this.__read=o);
},set:function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},
clone:function(){return new f(this.x,this.y,this.width,this.height)},equals:function(t){
var e=n.isPlainValue(t)?f.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1;
},toString:function(){var t=s.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }";
},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)];
},getPoint:function(t){var e=t?u:c;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){
var t=u.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?d:h;return new e(this.width,this.height,this,"setSize");
},setSize:function(){var t=d.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),
this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,
this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){
this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y;
},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){
return this.x+this.width},setRight:function(t){this._fixX!==e&&1!==this._fixX&&(this._fixW=0),
this._fixW?this.x=t-this.width:this.width=t-this.x,this._fixX=1},getBottom:function(){
return this.y+this.height},setBottom:function(t){this._fixY!==e&&1!==this._fixY&&(this._fixH=0),
this._fixH?this.y=t-this.height:this.height=t-this.y,this._fixY=1},getCenterX:function(){
return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5;
},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,
this._fixY=.5},getCenter:function(t){var e=t?u:c;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter");
},setCenter:function(){var t=u.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),
this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height;
},contains:function(t){return t&&t.width!==e||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(f.read(arguments)):this._containsPoint(u.read(arguments));
},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height;
},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height;
},intersects:function(){var t=f.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height;
},touches:function(){var t=f.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height;
},intersect:function(){var t=f.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),i=Math.min(this.y+this.height,t.y+t.height);
return new f(e,n,r-e,i-n)},unite:function(){var t=f.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),i=Math.max(this.y+this.height,t.y+t.height);
return new f(e,n,r-e,i-n)},include:function(){var t=u.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),i=Math.max(this.y+this.height,t.y);
return new f(e,n,r-e,i-n)},expand:function(){var t=d.read(arguments),e=t.width,n=t.height;
return new f(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,n){
return this.expand(this.width*t-this.width,this.height*(n===e?t:n)-this.height)}},n.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){
var n=t.join(""),r=/^[RL]/.test(n);e>=4&&(t[1]+=r?"Y":"X");var i=t[r?0:1],a=t[r?1:0],s="get"+i,o="get"+a,l="set"+i,d="set"+a,h="get"+n,f="set"+n;
this[h]=function(t){var e=t?u:c;return new e(this[s](),this[o](),this,f)},this[f]=function(){
var t=u.read(arguments);this[l](t.x),this[d](t.y)}},{beans:!0})),v=f.extend({initialize:function(t,e,n,r,i,a){
this.set(t,e,n,r,!0),this._owner=i,this._setter=a},set:function(t,e,n,r,i){return this._x=t,
this._y=e,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){
var t=f.prototype;return n.each(["x","y","width","height"],function(t){var e=n.capitalize(t),r="_"+t;
this["get"+e]=function(){return this[r]},this["set"+e]=function(t){this[r]=t,this._dontNotify||this._owner[this._setter](this);
}},n.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){
var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,
this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected;
},setSelected:function(t){var e=this._owner;e.setSelected&&(e._boundsSelected=t,e.setSelected(t||e._selectedSegmentState>0));
}}))}),m=n.extend({_class:"Matrix",initialize:function at(t){var e=arguments.length,n=!0;
if(6===e?this.set.apply(this,arguments):1===e?t instanceof at?this.set(t._a,t._c,t._b,t._d,t._tx,t._ty):Array.isArray(t)?this.set.apply(this,t):n=!1:0===e?this.reset():n=!1,
!n)throw new Error("Unsupported matrix parameters")},set:function(t,e,n,r,i,a,s){
return this._a=t,this._c=e,this._b=n,this._d=r,this._tx=i,this._ty=a,s||this._changed(),
this},_serialize:function(t){return n.serialize(this.getValues(),t)},_changed:function(){
var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){
return new m(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(t){
return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty||!1;
},toString:function(){var t=s.instance;return"[["+[t.number(this._a),t.number(this._b),t.number(this._tx)].join(", ")+"], ["+[t.number(this._c),t.number(this._d),t.number(this._ty)].join(", ")+"]]";
},reset:function(t){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,
t||this._changed(),this},apply:function(t,e){var r=this._owner;return r?(r.transform(null,!0,n.pick(t,!0),e),
this.isIdentity()):!1},translate:function(){var t=u.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._b,
this._ty+=e*this._c+n*this._d,this._changed(),this},scale:function(){var t=u.read(arguments),e=u.read(arguments,0,{
readNull:!0});return e&&this.translate(e),this._a*=t.x,this._c*=t.x,this._b*=t.y,
this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){
t*=Math.PI/180;var e=u.read(arguments,1),n=e.x,r=e.y,i=Math.cos(t),a=Math.sin(t),s=n-n*i+r*a,o=r-n*a-r*i,l=this._a,c=this._b,d=this._c,h=this._d;
return this._a=i*l+a*c,this._b=-a*l+i*c,this._c=i*d+a*h,this._d=-a*d+i*h,this._tx+=s*l+o*c,
this._ty+=s*d+o*h,this._changed(),this},shear:function(){var t=u.read(arguments),e=u.read(arguments,0,{
readNull:!0});e&&this.translate(e);var n=this._a,r=this._c;return this._a+=t.y*this._b,
this._c+=t.y*this._d,this._b+=t.x*n,this._d+=t.x*r,e&&this.translate(e.negate()),
this._changed(),this},skew:function(){var t=u.read(arguments),e=u.read(arguments,0,{
readNull:!0}),n=Math.PI/180,r=new u(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(r,e);
},concatenate:function(t){var e=this._a,n=this._b,r=this._c,i=this._d,a=t._a,s=t._b,o=t._c,l=t._d,u=t._tx,c=t._ty;
return this._a=a*e+o*n,this._b=s*e+l*n,this._c=a*r+o*i,this._d=s*r+l*i,this._tx+=u*e+c*n,
this._ty+=u*r+c*i,this._changed(),this},preConcatenate:function(t){var e=this._a,n=this._b,r=this._c,i=this._d,a=this._tx,s=this._ty,o=t._a,l=t._b,u=t._c,c=t._d,d=t._tx,h=t._ty;
return this._a=o*e+l*r,this._b=o*n+l*i,this._c=u*e+c*r,this._d=u*n+c*i,this._tx=o*a+l*s+d,
this._ty=u*a+c*s+h,this._changed(),this},chain:function(t){var e=this._a,n=this._b,r=this._c,i=this._d,a=this._tx,s=this._ty,o=t._a,l=t._b,u=t._c,c=t._d,d=t._tx,h=t._ty;
return new m(o*e+u*n,o*r+u*i,l*e+c*n,l*r+c*i,a+d*e+h*n,s+d*r+h*i)},isIdentity:function(){
return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty;
},orNullIfIdentity:function(){return this.isIdentity()?null:this},isInvertible:function(){
return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant();
},transform:function(t,e,n){return arguments.length<3?this._transformPoint(u.read(arguments)):this._transformCoordinates(t,e,n);
},_transformPoint:function(t,e,n){var r=t.x,i=t.y;return e||(e=new u),e.set(r*this._a+i*this._b+this._tx,r*this._c+i*this._d+this._ty,n);
},_transformCoordinates:function(t,e,n){for(var r=0,i=0,a=2*n;a>r;){var s=t[r++],o=t[r++];
e[i++]=s*this._a+o*this._b+this._tx,e[i++]=s*this._c+o*this._d+this._ty}return e},
_transformCorners:function(t){var e=t.x,n=t.y,r=e+t.width,i=n+t.height,a=[e,n,r,n,r,i,e,i];
return this._transformCoordinates(a,a,4)},_transformBounds:function(t,e,n){for(var r=this._transformCorners(t),i=r.slice(0,2),a=i.slice(),s=2;8>s;s++){
var o=r[s],l=1&s;o<i[l]?i[l]=o:o>a[l]&&(a[l]=o)}return e||(e=new f),e.set(i[0],i[1],a[0]-i[0],a[1]-i[1],n);
},inverseTransform:function(){return this._inverseTransform(u.read(arguments))},_getDeterminant:function(){
var t=this._a*this._d-this._b*this._c;return isFinite(t)&&!o.isZero(t)&&isFinite(this._tx)&&isFinite(this._ty)?t:null;
},_inverseTransform:function(t,e,n){var r=this._getDeterminant();if(!r)return null;
var i=t.x-this._tx,a=t.y-this._ty;return e||(e=new u),e.set((i*this._d-a*this._b)/r,(a*this._a-i*this._c)/r,n);
},decompose:function(){var t=this._a,e=this._b,n=this._c,r=this._d;if(o.isZero(t*r-e*n))return null;
var i=Math.sqrt(t*t+e*e);t/=i,e/=i;var a=t*n+e*r;n-=t*a,r-=e*a;var s=Math.sqrt(n*n+r*r);
return n/=s,r/=s,a/=s,e*n>t*r&&(t=-t,e=-e,a=-a,i=-i),{scaling:new u(i,s),rotation:180*-Math.atan2(e,t)/Math.PI,
shearing:a}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty];
},getTranslation:function(){return new u(this._tx,this._ty)},getScaling:function(){
return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation;
},inverted:function(){var t=this._getDeterminant();return t&&new m(this._d/t,-this._c/t,-this._b/t,this._a/t,(this._b*this._ty-this._d*this._tx)/t,(this._c*this._tx-this._a*this._ty)/t);
},shiftless:function(){return new m(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(t){
this.isIdentity()||t.transform(this._a,this._c,this._b,this._d,this._tx,this._ty);
}},n.each(["a","c","b","d","tx","ty"],function(t){var e=n.capitalize(t),r="_"+t;this["get"+e]=function(){
return this[r]},this["set"+e]=function(t){this[r]=t,this._changed()}},{})),b=n.extend({
_class:"Line",initialize:function(t,e,n,r,i){var a=!1;arguments.length>=4?(this._px=t,
this._py=e,this._vx=n,this._vy=r,a=i):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,
a=n),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new u(this._px,this._py);
},getVector:function(){return new u(this._vx,this._vy)},getLength:function(){return this.getVector().getLength();
},intersect:function(t,e){return b.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e);
},getSide:function(t,e){return b.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e);
},getDistance:function(t){return Math.abs(b.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0));
},isCollinear:function(t){return u.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){
return u.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,r,i,a,s,l,c,d){
c||(n-=t,r-=e,s-=i,l-=a);var h=n*l-r*s;if(!o.isZero(h)){var f=t-i,v=e-a,m=(s*v-l*f)/h,b=(n*v-r*f)/h,g=1e-12,p=-g,y=1+g;
if(d||m>p&&y>m&&b>p&&y>b)return d||(m=0>=m?0:m>=1?1:m),new u(t+m*n,e+m*r)}},getSide:function(t,e,n,r,i,a,s,o){
s||(n-=t,r-=e);var l=i-t,u=a-e,c=l*r-u*n;return 0!==c||o||(c=(l*n+l*n)/(n*n+r*r),
c>=0&&1>=c&&(c=0)),0>c?-1:c>0?1:0},getSignedDistance:function(t,e,n,r,i,a,s){return s||(n-=t,
r-=e),0===n?r>0?i-t:t-i:0===r?0>n?a-e:e-a:((i-t)*r-(a-e)*n)/Math.sqrt(n*n+r*r)}}}),g=a.extend({
_class:"Project",_list:"projects",_reference:"project",initialize:function(t){a.call(this,!0),
this._children=[],this._namedChildren={},this._activeLayer=null,this.symbols=[],this._currentStyle=new U(null,null,this),
this._view=H.create(this,t||J.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,
this._updateVersion=0},_serialize:function(t,e){return n.serialize(this._children,t,!0,e);
},_changed:function(t,e){1&t&&(this._needsUpdate=!0);var n=this._changes;if(n&&e){
var r=this._changesById,i=e._id,a=r[i];a?a.flags|=t:n.push(r[i]={item:e,flags:t});
}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove();this.symbols=[];
},isEmpty:function(){return 0===this._children.length},remove:function st(){return st.base.call(this)?(this._view&&this._view.remove(),
!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle;
},setCurrentStyle:function(t){this._currentStyle.initialize(t)},getIndex:function(){
return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){
return this._children},getActiveLayer:function(){return this._activeLayer||new x({
project:this})},getSelectedItems:function(){var t=this._selectedItems,e=[];for(var n in t){
var r=t[n];r.isInserted()?e.push(r):(this._selectedItemCount--,delete t[n])}return e;
},_updateSelection:function(t){var e=t._id,n=this._selectedItems;t._selected?n[e]!==t&&(this._selectedItemCount++,
n[e]=t):n[e]===t&&(this._selectedItemCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;n>e;e++)t[e].setFullySelected(!0);
},deselectAll:function(){var t=this._selectedItems;for(var e in t)t[e].setFullySelected(!1);
},hitTest:function(){for(var t=u.read(arguments),e=k.getOptions(n.read(arguments)),r=this._children,i=r.length-1;i>=0;i--){
var a=r[i]._hitTest(t,e);if(a)return a}return null},addLayer:function(t){return this.insertLayer(e,t);
},insertLayer:function(t,e){return e instanceof x?(e._remove(!1,!0),n.splice(this._children,[e],t,0),
e._setProject(this,!0),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)):e=null,
e},_insertItem:function(t,n,r,i){return n=this.insertLayer(t,n)||(this._activeLayer||this._insertItem(e,new x(y.NO_INSERT),!0,!0)).insertChild(t,n,r),
i&&n.activate&&n.activate(),n},getItems:function(t){return y._getItems(this,t)},getItem:function(t){
return y._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();
var e=this._activeLayer;return n.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){
var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var r in n){
var i=n[r];for(var a in e){var s=e[a];s&&s!=n&&delete s[i._id]}i.remove()}e[t]=null;
}}},draw:function(t,e,r){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,a=new n({
offset:new u(0,0),pixelRatio:r,viewMatrix:e.isIdentity()?null:e,matrices:[new m],
updateMatrix:!0}),s=0,o=i.length;o>s;s++)i[s].draw(t,a);if(t.restore(),this._selectedItemCount>0){
t.save(),t.strokeWidth=1;var l=this._selectedItems,c=this._scope.settings.handleSize,d=this._updateVersion;
for(var h in l)l[h]._drawSelection(t,e,c,l,d);t.restore()}}}),p=n.extend({_class:"Symbol",
initialize:function(e,n){this._id=l.get(),this.project=t.project,this.project.symbols.push(this),
e&&this.setDefinition(e,n)},_serialize:function(t,e){return e.add(this,function(){
return n.serialize([this._class,this._definition],t,!1,e)})},_changed:function(t){
8&t&&y._clearBoundsCache(this),1&t&&this.project._changed(t)},getDefinition:function(){
return this._definition},setDefinition:function(t,e){t._parentSymbol&&(t=t.clone()),
this._definition&&(this._definition._parentSymbol=null),this._definition=t,t.remove(),
t.setSelected(!1),e||t.setPosition(new u),t._parentSymbol=this,this._changed(9)},
place:function(t){return new C(this,t)},clone:function(){return new p(this._definition.clone(!1));
},equals:function(t){return t===this||t&&this.definition.equals(t.definition)||!1;
}}),y=n.extend(r,{statics:{extend:function ot(t){return t._serializeFields&&(t._serializeFields=new n(this.prototype._serializeFields,t._serializeFields)),
ot.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,
_canApplyMatrix:!0,_canScaleStroke:!1,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{
name:null,applyMatrix:null,matrix:new m,pivot:null,locked:!1,visible:!0,blendMode:"normal",
opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(r,i){
var a=r&&n.isPlainObject(r),s=a&&r.internal===!0,o=this._matrix=new m,u=a&&r.project||t.project;
return this._id=s?null:l.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&t.settings.applyMatrix,
i&&o.translate(i),o._owner=this,this._style=new U(u._currentStyle,this,u),s||a&&r.insert===!1?this._setProject(u):(a&&r.parent||u)._insertItem(e,this,!0,!0),
a&&r!==y.NO_INSERT&&this._set(r,{internal:!0,insert:!0,project:!0,parent:!0},!0),
a},_events:n.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(t){
this[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){
this.getView()._countItemEvent(t,-1)}}},{onFrame:{install:function(){this.getView()._animateItem(this,!0);
},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{}}),_serialize:function(t,e){
function r(r){for(var s in r){var o=a[s];n.equals(o,"leading"===s?1.2*r.fontSize:r[s])||(i[s]=n.serialize(o,t,"data"!==s,e));
}}var i={},a=this;return r(this._serializeFields),this instanceof _||r(this._style._defaults),
[this._class,i]},_changed:function(t){var n=this._parentSymbol,r=this._parent||n,i=this._project;
8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=e),r&&40&t&&y._clearBoundsCache(r),
2&t&&y._clearBoundsCache(this),i&&i._changed(t,this),n&&n._changed(t)},set:function(t){
return t&&this._set(t),this},getId:function(){return this._id},getName:function(){
return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");
var n=this._getOwner();if(t&&n){var r=n._children,i=n._namedChildren;(i[t]=i[t]||[]).push(this),
t in r||(r[t]=this)}this._name=t||e,this._changed(128)},getStyle:function(){return this._style;
},setStyle:function(t){this.getStyle().set(t)}},n.each(["locked","visible","blendMode","opacity","guide"],function(t){
var e=n.capitalize(t),t="_"+t;this["get"+e]=function(){return this[t]},this["set"+e]=function(e){
e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,_locked:!1,
_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;n>e;e++)if(t[e].isSelected())return!0;
return this._selected},setSelected:function(t,e){if(!e&&this._selectChildren)for(var n=this._children,r=0,i=n.length;i>r;r++)n[r].setSelected(t);
if((t=!!t)^this._selected){this._selected=t;var a=this._project;a&&(a._updateSelection(this),
this._changed(129))}},_selected:!1,isFullySelected:function(){var t=this._children;
if(t&&this._selected){for(var e=0,n=t.length;n>e;e++)if(!t[e].isFullySelected())return!1;
return!0}return this._selected},setFullySelected:function(t){var e=this._children;
if(e)for(var n=0,r=e.length;r>n;n++)e[n].setFullySelected(t);this.setSelected(t,!0);
},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,
t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024));
},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},
setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?u:c;
if(!e){var r=this._pivot;e=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0);
}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(u.read(arguments).subtract(this.getPosition(!0)));
},getPivot:function(t){var e=this._pivot;if(e){var n=t?u:c;e=new n(e.x,e.y,this,"setPivot");
}return e},setPivot:function(){this._pivot=u.read(arguments,0,{clone:!0,readNull:!0
}),this._position=e},_pivot:null},n.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalHandleBounds","internalRoughBounds"],function(t){
var e="get"+n.capitalize(t),r=t.match(/^internal(.*)$/),i=r?"get"+r[1]:null;this[e]=function(n){
var r=this._boundsGetter,a=!i&&("string"==typeof r?r:r&&r[e])||e,s=this._getCachedBounds(a,n,this,i);
return"bounds"===t?new v(s.x,s.y,s.width,s.height,this,"setBounds"):s}},{beans:!0,
_getBounds:function(t,e,n){var r=this._children;if(!r||0===r.length)return new f;y._updateBoundsCache(this,n);
for(var i=1/0,a=-i,s=i,o=a,l=0,u=r.length;u>l;l++){var c=r[l];if(c._visible&&!c.isEmpty()){
var d=c._getCachedBounds(t,e&&e.chain(c._matrix),n);i=Math.min(d.x,i),s=Math.min(d.y,s),
a=Math.max(d.x+d.width,a),o=Math.max(d.y+d.height,o)}}return isFinite(i)?new f(i,s,a-i,o-s):new f;
},setBounds:function(){var t=f.read(arguments),e=this.getBounds(),n=new m,r=t.getCenter();
n.translate(r),(t.width!=e.width||t.height!=e.height)&&n.scale(0!==e.width?t.width/e.width:1,0!==e.height?t.height/e.height:1),
r=e.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getCachedBounds:function(t,e,n,r){
e=e&&e.orNullIfIdentity();var i=r?null:this._matrix.orNullIfIdentity(),a=(!e||e.equals(i))&&t;
if(y._updateBoundsCache(this._parent||this._parentSymbol,n),a&&this._bounds&&this._bounds[a])return this._bounds[a].clone();
var s=this._getBounds(r||t,e||i,n);if(a){this._bounds||(this._bounds={});var o=this._bounds[a]=s.clone();
o._internal=!!r}return s},statics:{_updateBoundsCache:function(t,e){if(t){var n=e._id,r=t._boundsCache=t._boundsCache||{
ids:{},list:[]};r.ids[n]||(r.list.push(e),r.ids[n]=e)}},_clearBoundsCache:function(t){
var n=t._boundsCache;if(n){t._bounds=t._position=t._boundsCache=e;for(var r=0,i=n.list,a=i.length;a>r;r++){
var s=i[r];s!==t&&(s._bounds=s._position=e,s._boundsCache&&y._clearBoundsCache(s));
}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose();
},getRotation:function(){var t=this._decomposed||this._decompose();return t&&t.rotation;
},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;
this.rotate(t-e),n.rotation=t,this._decomposed=n}},getScaling:function(t){var e=this._decomposed||this._decompose(),n=e&&e.scaling,r=t?u:c;
return n&&new r(n.x,n.y,this,"setScaling")},setScaling:function(){var t=this.getScaling();
if(t){var e=u.read(arguments,0,{clone:!0}),n=this._decomposed;this.scale(e.x/t.x,e.y/t.y),
n.scaling=e,this._decomposed=n}},getMatrix:function(){return this._matrix},setMatrix:function(){
var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;
if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();
var r=this._parent;r&&e.preConcatenate(r.getGlobalMatrix(!0)),e._updateVersion=n}
return t?e:e.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){
(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",
setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project;
},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),
this._project=t;for(var n=this._children,r=0,i=n&&n.length;i>r;r++)n[r]._setProject(t);
e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function lt(t){
lt.base.call(this,t);for(var e=this._children,n=0,r=e&&e.length;r>n;n++)e[n]._installEvents(t);
},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof x)return t;return null;
},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this);
},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t,e){
this.removeChildren(),this.addChildren(t,e)},getFirstChild:function(){return this._children&&this._children[0]||null;
},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null;
},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null;
},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null;
},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1;
},_equals:function(t){return n.equals(this._children,t._children)},clone:function(t){
var n=new this.constructor(y.NO_INSERT),r=this._children;r&&n.copyAttributes(this),
n.copyContent(this),r||n.copyAttributes(this),(t===e||t)&&n.insertAbove(this);var i=this._name,a=this._parent;
if(i&&a){for(var r=a._children,s=i,o=1;r[i];)i=s+" "+o++;i!==s&&n.setName(i)}return n;
},copyContent:function(t){for(var e=t._children,n=0,r=e&&e.length;r>n;n++)this.addChild(e[n].clone(!1),!0);
},copyAttributes:function(t,e){this.setStyle(t._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=r.length;a>i;i++){
var s=r[i];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.initialize(t._matrix),
this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelected(t._selected);
var o=t._data,l=t._name;this._data=o?n.clone(o):null,l&&this.setName(l)},rasterize:function(t,r){
var i=this.getStrokeBounds(),a=(t||this.getView().getResolution())/72,s=i.getTopLeft().floor(),o=i.getBottomRight().ceil(),l=new d(o.subtract(s)),u=new S(y.NO_INSERT);
if(!l.isZero()){var c=J.getCanvas(l.multiply(a)),h=c.getContext("2d"),f=(new m).scale(a).translate(s.negate());
h.save(),f.applyToContext(h),this.draw(h,new n({matrices:[f]})),h.restore(),u.setCanvas(c);
}return u.transform((new m).translate(s.add(l.divide(2))).scale(1/a)),(r===e||r)&&u.insertAbove(this),
u},contains:function(){return!!this._contains(this._matrix._inverseTransform(u.read(arguments)));
},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;
return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return f.read(arguments).contains(this.getBounds());
},_asPathItem:function(){return new j.Rectangle({rectangle:this.getInternalBounds(),
matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof y?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1;
},hitTest:function(){return this._hitTest(u.read(arguments),k.getOptions(n.read(arguments)));
},_hitTest:function(t,e){function r(e,r){var i=f["get"+r]();return t.subtract(i).divide(l).length<=1?new k(e,h,{
name:n.hyphenate(r),point:i}):void 0}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;
var i=this._matrix,a=e._totalMatrix,s=this.getView(),o=e._totalMatrix=a?a.chain(i):this.getGlobalMatrix().preConcatenate(s._matrix),l=e._tolerancePadding=new d(j._getPenPadding(1,o.inverted())).multiply(Math.max(e.tolerance,1e-6));
if(t=i._inverseTransform(t),!t||!this._children&&!this.getInternalRoughBounds().expand(l.multiply(2))._containsPoint(t))return null;
var u,c=!(e.guides&&!this._guide||e.selected&&!this._selected||e.type&&e.type!==n.hyphenate(this._class)||e["class"]&&!(this instanceof e["class"])),h=this;
if(c&&(e.center||e.bounds)&&this._parent){var f=this.getInternalBounds();if(e.center&&(u=r("center","Center")),
!u&&e.bounds)for(var v=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],m=0;8>m&&!u;m++)u=r("bounds",v[m]);
}var b=!u&&this._children;if(b)for(var g=this._getChildHitTestOptions(e),m=b.length-1;m>=0&&!u;m--)u=b[m]._hitTest(t,g);
return!u&&c&&(u=this._hitTestSelf(t,e)),u&&u.point&&(u.point=i.transform(u.point)),
e._totalMatrix=a,u},_getChildHitTestOptions:function(t){return t},_hitTestSelf:function(t,e){
return e.fill&&this.hasFill()&&this._contains(t)?new k("fill",this):void 0},matches:function(t,e){
function r(t,e){for(var i in t)if(t.hasOwnProperty(i)){var a=t[i],s=e[i];if(n.isPlainObject(a)&&n.isPlainObject(s)){
if(!r(a,s))return!1}else if(!n.equals(a,s))return!1}return!0}var i="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t);
if("object"===i){for(var a in t)if(t.hasOwnProperty(a)&&!this.matches(a,t[a]))return!1;
return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+n.capitalize(t)]():"type"===t?n.hyphenate(this._class):this[t];
if("class"===t){if("function"==typeof e)return this instanceof e;s=this._class}return e instanceof RegExp?e.test(s):"function"==typeof e?!!e(s):n.isPlainObject(e)?r(e,s):n.equals(s,e);
},getItems:function(t){return y._getItems(this,t,this._matrix)},getItem:function(t){
return y._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function ut(t,e,r,i,a){
if(!i){var s="object"===("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))&&e,o=s&&s.overlapping,l=s&&s.inside,u=o||l,c=u&&f.read([u]);
i={items:[],recursive:s&&s.recursive!==!1,inside:!!l,overlapping:!!o,rect:c,path:o&&new j.Rectangle({
rectangle:c,insert:!1})},s&&(e=n.set({},e,{recursive:!0,inside:!0,overlapping:!0}));
}var d=t._children,h=i.items,c=i.rect;r=c&&(r||new m);for(var v=0,b=d&&d.length;b>v;v++){
var g=d[v],p=r&&r.chain(g._matrix),y=!0;if(c){var u=g.getBounds(p);if(!c.intersects(u))continue;
c.contains(u)||i.overlapping&&(u.contains(c)||i.path.intersects(g,p))||(y=!1)}if(y&&g.matches(e)&&(h.push(g),
a))break;if(i.recursive!==!1&&ut(g,e,p,i,a),a&&h.length>0)break}return h}}},{importJSON:function(t){
var e=n.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t,n){
return this.insertChild(e,t,n)},insertChild:function(t,e,n){var r=e?this.insertChildren(t,[e],n):null;
return r&&r[0]},addChildren:function(t,e){return this.insertChildren(this._children.length,t,e);
},insertChildren:function(t,e,r,i){var a=this._children;if(a&&e&&e.length>0){e=Array.prototype.slice.apply(e);
for(var s=e.length-1;s>=0;s--){var o=e[s];if(!i||o instanceof i){var l=o._parent===this&&o._index<t;
o._remove(!1,!0)&&l&&t--}else e.splice(s,1)}n.splice(a,e,t,0);for(var u=this._project,c=u&&u._changes,s=0,d=e.length;d>s;s++){
var o=e[s];o._parent=this,o._setProject(this._project,!0),o._name&&o.setName(o._name),
c&&this._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",
insertAbove:function(t,e){var n=t&&t._getOwner();return n?n._insertItem(t._index+1,this,e):null;
},insertBelow:function(t,e){var n=t&&t._getOwner();return n?n._insertItem(t._index,this,e):null;
},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null;
},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(e,this):null;
},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",
moveBelow:"#insertBelow",copyTo:function(t){return t._insertItem(e,this.clone(!1));
},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);
return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n.copyAttributes(this),
n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,r=this._name,i=n[r],a=i?i.indexOf(this):-1;
-1!==a&&(e[r]==this&&delete e[r],i.splice(a,1),i.length?e[r]=i[0]:delete n[r])}},
_remove:function(t,e){var r=this._getOwner(),i=this._project,a=this._index;return r&&null!=a?(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),
this._name&&this._removeNamed(),n.splice(r._children,null,a,1),this._installEvents(!1),
t&&i._changes&&this._changed(5),e&&r._changed(11,this),this._parent=null,!0):!1},
remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);
return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;
t=t||0,e=n.pick(e,this._children.length);for(var r=n.splice(this._children,null,t,e-t),i=r.length-1;i>=0;i--)r[i]._remove(!0,!1);
return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){
if(this._children){this._children.reverse();for(var t=0,e=this._children.length;e>t;t++)this._children[t]._index=t;
this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length;
},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent;
}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){
return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow();
},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);
return e}for(var n=e(this),r=e(t),i=0,a=Math.min(n.length,r.length);a>i;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;
return 0},hasChildren:function(){return this._children&&this._children.length>0},
isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){
return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){
return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){
for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1;
},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){
for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;
e=e._parent}return!1}},n.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;
this[t]=function(){var r=(e?n:u).read(arguments),i=u.read(arguments,0,{readNull:!0
});return this.transform((new m)[t](r,i||this.getPosition(!0)))}},{translate:function(){
var t=new m;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,r){
t&&t.isIdentity()&&(t=null);var i=this._matrix,a=(e||this._applyMatrix)&&(!i.isIdentity()||t||e&&n&&this._children);
if(!t&&!a)return this;if(t&&i.preConcatenate(t),a=a&&this._transformContent(i,n,r)){
var s=this._pivot,o=this._style,l=o.getFillColor(!0),u=o.getStrokeColor(!0);s&&i._transformPoint(s,s,!0),
l&&l.transform(i),u&&u.transform(i),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0);
}var c=this._bounds,d=this._position;this._changed(9);var h=c&&t&&t.decompose();if(h&&!h.shearing&&h.rotation%90===0){
for(var f in c){var v=c[f];(a||!v._internal)&&t._transformBounds(v,v)}var m=this._boundsGetter,v=c[m&&m.getBounds||m||"getBounds"];
v&&(this._position=v.getCenter(!0)),this._bounds=c}else t&&d&&(this._position=t._transformPoint(d,d));
return this},_transformContent:function(t,e,n){var r=this._children;if(r){for(var i=0,a=r.length;a>i;i++)r[i].transform(t,!0,e,n);
return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(u.read(arguments));
},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(u.read(arguments));
},parentToLocal:function(){return this._matrix._inverseTransform(u.read(arguments));
},localToParent:function(){return this._matrix._transformPoint(u.read(arguments));
},fitBounds:function(t,e){t=f.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=t.height/t.width,a=(e?r>i:i>r)?t.width/n.width:t.height/n.height,s=new f(new u,new d(n.width*a,n.height*a));
s.setCenter(t.getCenter()),this.setBounds(s)}}),{_setStyles:function(e){var n=this._style,r=n.getFillColor(),i=n.getStrokeColor(),a=n.getShadowColor();
if(r&&(e.fillStyle=r.toCanvasStyle(e)),i){var s=n.getStrokeWidth();if(s>0){e.strokeStyle=i.toCanvasStyle(e),
e.lineWidth=s;var o=n.getStrokeJoin(),l=n.getStrokeCap(),u=n.getMiterLimit();if(o&&(e.lineJoin=o),
l&&(e.lineCap=l),u&&(e.miterLimit=u),t.support.nativeDash){var c=n.getDashArray(),d=n.getDashOffset();
c&&c.length&&("setLineDash"in e?(e.setLineDash(c),e.lineDashOffset=d):(e.mozDash=c,
e.mozDashOffset=d))}}}if(a){var h=n.getShadowBlur();if(h>0){e.shadowColor=a.toCanvasStyle(e),
e.shadowBlur=h;var f=this.getShadowOffset();e.shadowOffsetX=f.x,e.shadowOffsetY=f.y;
}}},draw:function(t,e,n){function r(t){return s?s.chain(t):t}var i=this._updateVersion=this._project._updateVersion;
if(this._visible&&0!==this._opacity){var a=e.matrices,s=e.viewMatrix,o=this._matrix,l=a[a.length-1].chain(o);
if(l.isInvertible()){a.push(l),e.updateMatrix&&(l._updateVersion=i,this._globalMatrix=l);
var u,c,d,h=this._blendMode,f=this._opacity,v="normal"===h,m=Q.nativeModes[h],b=v&&1===f||e.dontStart||e.clip||(m||v&&1>f)&&this._canComposite(),g=e.pixelRatio||1;
if(!b){var p=this.getStrokeBounds(r(l));if(!p.width||!p.height)return;d=e.offset,
c=e.offset=p.getTopLeft().floor(),u=t,t=J.getContext(p.getSize().ceil().add(1).multiply(g)),
1!==g&&t.scale(g,g)}t.save();var y=n?n.chain(o):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r(l),_=!b&&e.clipItem,x=!y||_;
if(b?(t.globalAlpha=f,m&&(t.globalCompositeOperation=h)):x&&t.translate(-c.x,-c.y),
x&&(b?o:r(l)).applyToContext(t),_&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(g,0,0,g,0,0);
var w=e.offset;w&&t.translate(-w.x,-w.y)}this._draw(t,e,y),t.restore(),a.pop(),e.clip&&!e.dontFinish&&t.clip(),
b||(Q.process(h,t,u,f,c.subtract(d).multiply(g)),J.release(t),e.offset=d)}}},_isUpdated:function(t){
var e=this._parent;if(e instanceof R)return e._isUpdated(t);var n=this._updateVersion===t;
return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,r,i){
if((this._drawSelected||this._boundsSelected)&&this._isUpdated(i)){var a,s=this.getSelectedColor(!0)||(a=this.getLayer())&&a.getSelectedColor(!0),o=e.chain(this.getGlobalMatrix(!0));
if(t.strokeStyle=t.fillStyle=s?s.toCanvasStyle(t):"#009dec",this._drawSelected&&this._drawSelected(t,o,r),
this._boundsSelected){var l=n/2,u=o._transformCorners(this.getInternalBounds());t.beginPath();
for(var c=0;8>c;c++)t[0===c?"moveTo":"lineTo"](u[c],u[++c]);t.closePath(),t.stroke();
for(var c=0;8>c;c++)t.fillRect(u[c]-l,u[++c]-l,n,n)}}},_canComposite:function(){return!1;
}},n.each(["down","drag","up","move"],function(t){this["removeOn"+n.capitalize(t)]=function(){
var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){
var n="mouse"+e,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this;
}return this}})),_=y.extend({_class:"Group",_selectChildren:!0,_serializeFields:{
children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments);
},_changed:function ct(t){ct.base.call(this,t),1026&t&&(this._clipItem=e)},_getClipItem:function(){
var t=this._clipItem;if(t===e){t=null;for(var n=this._children,r=0,i=n.length;i>r;r++)if(n[r]._clipMask){
t=n[r];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem();
},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_draw:function(t,e){
var n=e.clip,r=!n&&this._getClipItem(),i=!0;if(e=e.extend({clipItem:r,clip:!1}),n?(t.beginPath(),
e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0})),i)for(var a=this._children,s=0,o=a.length;o>s;s++){
var l=a[s];l!==r&&l.draw(t,e)}}}),x=_.extend({_class:"Layer",initialize:function(){
_.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project;
},isInserted:function dt(){return this._parent?dt.base.call(this):null!=this._index;
},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){return null;
}}),w=y.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,
_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){
this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&n.equals(this._radius,t._radius);
},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius);
},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",
setShape:"#setType",getSize:function(){var t=this._size;return new h(t.width,t.height,this,"setSize");
},setSize:function(){var t=d.read(arguments);if(this._size){if(!this._size.equals(t)){
var e=this._type,n=t.width,r=t.height;if("rectangle"===e){var i=d.min(this._radius,t.divide(2));
this._radius.set(i.width,i.height)}else"circle"===e?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===e&&this._radius.set(n/2,r/2);
this._size.set(n,r),this._changed(9)}}else this._size=t.clone()},getRadius:function(){
var t=this._radius;return"circle"===this._type?t:new h(t.width,t.height,this,"setRadius");
},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;
var n=2*t;this._radius=t,this._size.set(n,n)}else if(t=d.read(arguments),this._radius){
if(this._radius.equals(t))return;if(this._radius.set(t.width,t.height),"rectangle"===e){
var n=d.max(this._size,t.multiply(2));this._size.set(n.width,n.height)}else"ellipse"===e&&this._size.set(2*t.width,2*t.height);
}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(r){
var i=new(j[n.capitalize(this._type)])({center:new u,size:this._size,radius:this._radius,
insert:!1});return i.copyAttributes(this),t.settings.applyMatrix&&i.setApplyMatrix(!0),
(r===e||r)&&i.insertAbove(this),i},toShape:"#clone",_draw:function(t,e,n){var r=this._style,i=r.hasFill(),a=r.hasStroke(),s=e.dontFinish||e.clip,o=!n;
if(i||a||s){var l=this._type,u=this._radius,c="circle"===l;if(e.dontStart||t.beginPath(),
o&&c)t.arc(0,0,u,0,2*Math.PI,!0);else{var d=c?u:u.width,h=c?u:u.height,f=this._size,v=f.width,m=f.height;
if(o&&"rectangle"===l&&0===d&&0===h)t.rect(-v/2,-m/2,v,m);else{var b=v/2,g=m/2,p=.44771525016920644,y=d*p,_=h*p,x=[-b,-g+h,-b,-g+_,-b+y,-g,-b+d,-g,b-d,-g,b-y,-g,b,-g+_,b,-g+h,b,g-h,b,g-_,b-y,g,b-d,g,-b+d,g,-b+y,g,-b,g-_,-b,g-h];
n&&n.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),
b!==d&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),g!==h&&t.lineTo(x[16],x[17]),
t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),b!==d&&t.lineTo(x[24],x[25]),
t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}s||!i&&!a||(this._setStyles(t),
i&&(t.fill(r.getFillRule()),t.shadowBlur=0),a&&t.stroke())},_canComposite:function(){
return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new f(this._size).setCenter(0,0),r="getStrokeBounds"===t&&this.hasStroke()&&this.getStrokeWidth(),i=r&&this.getStrokeScaling();
return r&&i&&(n=n.expand(r)),e&&(n=e._transformBounds(n)),r&&!i&&(n=n.expand(r)),
n}},new function(){function t(t,e,n){var r=t._radius;if(!r.isZero())for(var i=t._size.divide(2),a=0;4>a;a++){
var s=new u(1&a?1:-1,a>1?1:-1),o=s.multiply(i),l=o.subtract(s.multiply(r)),c=new f(o,l);
if((n?c.expand(n):c).contains(e))return l}}function e(t,e){var n=t.getAngleInRadians(),r=2*e.width,i=2*e.height,a=r*Math.sin(n),s=i*Math.cos(n);
return r*i/(2*Math.sqrt(a*a+s*s))}return{_contains:function n(e){if("rectangle"===this._type){
var r=t(this,e);return r?e.subtract(r).divide(this._radius).getLength()<=1:n.base.call(this,e);
}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,i){var a=!1;
if(this.hasStroke()){var s=this._type,o=this._radius,l=this.getStrokeWidth()+2*i.tolerance;
if("rectangle"===s){var u=t(this,n,l);if(u){var c=n.subtract(u);a=2*Math.abs(c.getLength()-e(c,o))<=l;
}else{var d=new f(this._size).setCenter(0,0),h=d.expand(l),v=d.expand(-l);a=h._containsPoint(n)&&!v._containsPoint(n);
}}else"ellipse"===s&&(o=e(n,o)),a=2*Math.abs(n.getLength()-o)<=l}return a?new k("stroke",this):r.base.apply(this,arguments);
}}},{statics:new function(){function t(t,e,r,i,a){var s=new w(n.getNamed(a));return s._type=t,
s._size=r,s._radius=i,s.translate(e)}return{Circle:function(){var e=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"radius");
return t("circle",e,new d(2*r),r,arguments)},Rectangle:function(){var e=f.readNamed(arguments,"rectangle"),n=d.min(d.readNamed(arguments,"radius"),e.getSize(!0).divide(2));
return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){
var e=w._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments);
},_readEllipse:function(t){var e,r;if(n.hasNamed(t,"radius"))e=u.readNamed(t,"center"),
r=d.readNamed(t,"radius");else{var i=f.readNamed(t,"rectangle");e=i.getCenter(!0),
r=i.getSize(!0).divide(2)}return{center:e,radius:r}}}}}),S=y.extend({_class:"Raster",
_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{
crossOrigin:null,source:null},initialize:function(t,n){this._initialize(t,n!==e&&u.read(arguments,1))||("string"==typeof t?this.setSource(t):this.setImage(t)),
this._size||(this._size=new d,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource();
},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this.setImage(e);else if(n){
var r=J.getCanvas(t._size);r.getContext("2d").drawImage(n,0,0),this.setImage(r)}this._crossOrigin=t._crossOrigin;
},getSize:function(){var t=this._size;return new h(t?t.width:0,t?t.height:0,this,"setSize");
},setSize:function(){var t=d.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){
var e=this.getElement();this.setImage(J.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height);
}else this._canvas&&J.release(this._canvas),this._size=t.clone()},getWidth:function(){
return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight());
},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){
this.setSize(this.getWidth(),t)},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height;
},getResolution:function(){var t=this._matrix,e=new u(0,0).transform(t),n=new u(1,0).transform(t).subtract(e),r=new u(0,1).transform(t).subtract(e);
return new d(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){
return this._image},setImage:function(t){this._canvas&&J.release(this._canvas),t&&t.getContext?(this._image=null,
this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=t&&t.complete),
this._size=new d(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,
this._changed(521)},getCanvas:function(){if(!this._canvas){var t=J.getContext(this._size);
try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){J.release(t);
}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),
t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t;
},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(e){
function n(){var e=i.getView();e&&(t=e._scope,i.setImage(r),i.emit("load"),e.update());
}var r,i=this,a=this._crossOrigin;r=document.getElementById(e)||new Image,a&&(r.crossOrigin=a),
r.naturalWidth&&r.naturalHeight?setTimeout(n,0):(G.add(r,{load:n}),r.src||(r.src=e)),
this.setImage(r)},getCrossOrigin:function(){return this._image&&this._image.crossOrigin||this._crossOrigin||"";
},setCrossOrigin:function(t){this._crossOrigin=t,this._image&&(this._image.crossOrigin=t);
},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,
getSubCanvas:function(){var t=f.read(arguments),e=J.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),
e.canvas},getSubRaster:function(){var t=f.read(arguments),e=new S(y.NO_INSERT);return e.setImage(this.getSubCanvas(t)),
e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.preConcatenate(this._matrix),
e.insertAbove(this),e},toDataURL:function(){var t=this._image&&this._image.src;if(/^data:/.test(t))return t;
var e=this.getCanvas();return e?e.toDataURL.apply(e,arguments):null},drawImage:function(t){
var e=u.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){
var e,r;t?t instanceof M?(r=t,e=t.getBounds()):t.width?e=new f(t):t.x&&(e=new f(t.x-.5,t.y-.5,1,1)):e=this.getBounds();
var i=32,a=Math.min(e.width,i),s=Math.min(e.height,i),o=S._sampleContext;o?o.clearRect(0,0,i+1,i+1):o=S._sampleContext=J.getContext(new d(i)),
o.save();var l=(new m).scale(a/e.width,s/e.height).translate(-e.x,-e.y);l.applyToContext(o),
r&&r.draw(o,new n({clip:!0,matrices:[l]})),this._matrix.applyToContext(o);var u=this.getElement(),c=this._size;
u&&o.drawImage(u,-c.width/2,-c.height/2),o.restore();for(var h=o.getImageData(.5,.5,Math.ceil(a),Math.ceil(s)).data,v=[0,0,0],b=0,g=0,p=h.length;p>g;g+=4){
var y=h[g+3];b+=y,y/=255,v[0]+=h[g]*y,v[1]+=h[g+1]*y,v[2]+=h[g+2]*y}for(var g=0;3>g;g++)v[g]/=b;
return b?N.read(v):null},getPixel:function(){var t=u.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;
return new N("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=u.read(arguments),e=N.read(arguments),n=e._convert("rgb"),r=e._alpha,i=this.getContext(!0),a=i.createImageData(1,1),s=a.data;
s[0]=255*n[0],s[1]=255*n[1],s[2]=255*n[2],s[3]=null!=r?255*r:255,i.putImageData(a,t.x,t.y);
},createImageData:function(){var t=d.read(arguments);return this.getContext().createImageData(t.width,t.height);
},getImageData:function(){var t=f.read(arguments);return t.isEmpty()&&(t=new f(this._size)),
this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){
var e=u.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){
var n=new f(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(t){
if(this._contains(t)){var e=this;return new k("pixel",e,{offset:t.add(e._size.divide(2)).round(),
color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();
e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2));
},_canComposite:function(){return!0}}),C=y.extend({_class:"PlacedSymbol",_applyMatrix:!1,
_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,
_serializeFields:{symbol:null},initialize:function(t,n){this._initialize(t,n!==e&&u.read(arguments,1))||this.setSymbol(t instanceof p?t:new p(t));
},_equals:function(t){return this._symbol===t._symbol},copyContent:function(t){this.setSymbol(t._symbol);
},getSymbol:function(){return this._symbol},setSymbol:function(t){this._symbol=t,
this._changed(9)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(t,e,n){
var r=this.symbol._definition;return r._getCachedBounds(t,e&&e.chain(r._matrix),n);
},_hitTestSelf:function(t,e){var n=this._symbol._definition._hitTest(t,e);return n&&(n.item=this),
n},_draw:function(t,e){this.symbol._definition.draw(t,e)}}),k=n.extend({_class:"HitResult",
initialize:function(t,e,n){this.type=t,this.item=e,n&&(n.enumerable=!0,this.inject(n));
},statics:{getOptions:function(e){return new n({type:null,tolerance:t.settings.hitTolerance,
fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1
},e)}}}),E=n.extend({_class:"Segment",beans:!0,initialize:function(t,n,r,i,a,s){var o,l,u,c=arguments.length;
0===c||(1===c?t&&"point"in t?(o=t.point,l=t.handleIn,u=t.handleOut):o=t:2===c&&"number"==typeof t?o=arguments:3>=c?(o=t,
l=n,u=r):(o=t!==e?[t,n]:null,l=r!==e?[r,i]:null,u=a!==e?[a,s]:null)),new A(o,this,"_point"),
new A(l,this,"_handleIn"),new A(u,this,"_handleOut")},_serialize:function(t){return n.serialize(this.hasHandles()?[this._point,this._handleIn,this._handleOut]:this._point,t,!0);
},_changed:function(t){var e=this._path;if(e){var n,r=e._curves,i=this._index;r&&(t&&t!==this._point&&t!==this._handleIn||!(n=i>0?r[i-1]:e._closed?r[r.length-1]:null)||n._changed(),
t&&t!==this._point&&t!==this._handleOut||!(n=r[i])||n._changed()),e._changed(25)}
},getPoint:function(){return this._point},setPoint:function(){var t=u.read(arguments);
this._point.set(t.x,t.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){
var t=u.read(arguments);this._handleIn.set(t.x,t.y)},getHandleOut:function(){return this._handleOut;
},setHandleOut:function(){var t=u.read(arguments);this._handleOut.set(t.x,t.y)},hasHandles:function(){
return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){
this._handleIn.set(0,0),this._handleOut.set(0,0)},_selectionState:0,isSelected:function(t){
var e=this._selectionState;return t?t===this._point?!!(4&e):t===this._handleIn?!!(1&e):t===this._handleOut?!!(2&e):!1:!!(7&e);
},setSelected:function(t,e){var n=this._path,t=!!t,r=this._selectionState,i=r,a=e?e===this._point?4:e===this._handleIn?1:e===this._handleOut?2:0:7;
t?r|=a:r&=~a,this._selectionState=r,n&&r!==i&&(n._updateSelection(this,i,r),n._changed(129));
},getIndex:function(){return this._index!==e?this._index:null},getPath:function(){
return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,
t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new L(t,this===t._segment1?0:1):null;
},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null;
},smooth:function(t,n,r){var i=t||{},a=i.type,s=i.factor,o=this.getPrevious(),l=this.getNext(),c=(o||this)._point,d=this._point,h=(l||this)._point,f=c.getDistance(d),v=d.getDistance(h);
if(a&&"catmull-rom"!==a){if("geometric"!==a)throw new Error("Smoothing method '"+a+"' not supported.");
if(o&&l){var m=c.subtract(h),b=s===e?.4:s,g=b*f/(f+v);n||this.setHandleIn(m.multiply(g)),
r||this.setHandleOut(m.multiply(g-b))}}else{var p=s===e?.5:s,y=Math.pow(f,p),_=y*y,x=Math.pow(v,p),w=x*x;
if(!n&&o){var S=2*w+3*x*y+_,C=3*x*(x+y);this.setHandleIn(0!==C?new u((w*c._x+S*d._x-_*h._x)/C-d._x,(w*c._y+S*d._y-_*h._y)/C-d._y):new u);
}if(!r&&l){var S=2*_+3*y*x+w,C=3*y*(y+x);this.setHandleOut(0!==C?new u((_*h._x+S*d._x-w*c._x)/C-d._x,(_*h._y+S*d._y-w*c._y)/C-d._y):new u);
}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null;
},isFirst:function(){return 0===this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1;
},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t._x,r=t._y;t.set(e._x,e._y),
e.set(n,r)},reversed:function(){return new E(this._point,this._handleOut,this._handleIn);
},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},
clone:function(){return new E(this._point,this._handleIn,this._handleOut)},equals:function(t){
return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1;
},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),
this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }";
},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed();
},_transformCoordinates:function(t,e,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,a=n&&this._handleOut.isZero()?null:this._handleOut,s=r._x,o=r._y,l=2;
return e[0]=s,e[1]=o,i&&(e[l++]=i._x+s,e[l++]=i._y+o),a&&(e[l++]=a._x+s,e[l++]=a._y+o),
t&&(t._transformCoordinates(e,e,l/2),s=e[0],o=e[1],n?(r._x=s,r._y=o,l=2,i&&(i._x=e[l++]-s,
i._y=e[l++]-o),a&&(a._x=e[l++]-s,a._y=e[l++]-o)):(i||(e[l++]=s,e[l++]=o),a||(e[l++]=s,
e[l++]=o))),e}}),A=u.extend({initialize:function(t,n,r){var i,a,s;if(t)if((i=t[0])!==e)a=t[1];else{
var o=t;(i=o.x)===e&&(o=u.read(arguments),i=o.x),a=o.y,s=o.selected}else i=a=0;this._x=i,
this._y=a,this._owner=n,n[r]=this,s&&this.setSelected(!0)},set:function(t,e){return this._x=t,
this._y=e,this._owner._changed(this),this},_serialize:function(t){var e=t.formatter,n=e.number(this._x),r=e.number(this._y);
return this.isSelected()?{x:n,y:r,selected:!0}:[n,r]},getX:function(){return this._x;
},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y;
},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){return o.isZero(this._x)&&o.isZero(this._y);
},setSelected:function(t){this._owner.setSelected(t,this)},isSelected:function(){
return this._owner.isSelected(this)}}),T=n.extend({_class:"Curve",initialize:function(t,e,n,r,i,a,s,o){
var l,u,c,d,h,f,v=arguments.length;3===v?(this._path=t,l=e,u=n):0===v?(l=new E,u=new E):1===v?"segment1"in t?(l=new E(t.segment1),
u=new E(t.segment2)):"point1"in t?(c=t.point1,h=t.handle1,f=t.handle2,d=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],
d=[t[6],t[7]],h=[t[2]-t[0],t[3]-t[1]],f=[t[4]-t[6],t[5]-t[7]]):2===v?(l=new E(t),
u=new E(e)):4===v?(c=t,h=e,f=n,d=r):8===v&&(c=[t,e],d=[s,o],h=[n-t,r-e],f=[i-s,a-o]),
this._segment1=l||new E(c,null,h),this._segment2=u||new E(d,f,null)},_serialize:function(t){
return n.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0);
},_changed:function(){this._length=this._bounds=e},clone:function(){return new T(this._segment1,this._segment2);
},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),
this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),
"{ "+t.join(", ")+" }"},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;
t=e.remove(),t&&this._segment1._handleOut.set(n.x,n.y)}return t},getPoint1:function(){
return this._segment1._point},setPoint1:function(){var t=u.read(arguments);this._segment1._point.set(t.x,t.y);
},getPoint2:function(){return this._segment2._point},setPoint2:function(){var t=u.read(arguments);
this._segment2._point.set(t.x,t.y)},getHandle1:function(){return this._segment1._handleOut;
},setHandle1:function(){var t=u.read(arguments);this._segment1._handleOut.set(t.x,t.y);
},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var t=u.read(arguments);
this._segment2._handleIn.set(t.x,t.y)},getSegment1:function(){return this._segment1;
},getSegment2:function(){return this._segment2},getPath:function(){return this._path;
},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;
return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){
var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null;
},isFirst:function(){return 0===this._segment1._index},isLast:function(){var t=this._path;
return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected();
},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),
this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){
return T.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;8>n;n+=2)e.push(new u(t[n],t[n+1]));
return e},getLength:function(){return null==this._length&&(this._length=T.getLength(this.getValues(),0,1)),
this._length},getArea:function(){return T.getArea(this.getValues())},getLine:function(){
return new b(this._segment1._point,this._segment2._point)},getPart:function(t,e){
return new T(T.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return T.getLength(this.getValues(),t,e);
},getIntersections:function(t){return T._getIntersections(this.getValues(),t&&t!==this?t.getValues():null,this,t,[],{});
},_getParameter:function(t,n){return n?t:t&&t.curve===this?t.parameter:t===e&&n===e?.5:this.getParameterAt(t,0);
},divide:function(t,e,n){var r=this._getParameter(t,e),i=4e-7,a=1-i,s=null;if(r>=i&&a>=r){
var o=T.subdivide(this.getValues(),r),l=o[0],c=o[1],d=n||this.hasHandles(),h=this._segment1,f=this._segment2,v=this._path;
d&&(h._handleOut.set(l[2]-l[0],l[3]-l[1]),f._handleIn.set(c[4]-c[6],c[5]-c[7]));var m=l[6],b=l[7],g=new E(new u(m,b),d&&new u(l[4]-m,l[5]-b),d&&new u(c[2]-m,c[3]-b));
v?(v.insert(h._index+1,g),s=this.getNext()):(this._segment2=g,s=new T(g,f))}return s;
},split:function(t,e){return this._path?this._path.split(this._segment1._index,this._getParameter(t,e)):null;
},reversed:function(){return new T(this._segment2.reversed(),this._segment1.reversed());
},clearHandles:function(){this._segment1._handleOut.set(0,0),this._segment2._handleIn.set(0,0);
},statics:{getValues:function(t,e,n){var r=t._point,i=t._handleOut,a=e._handleIn,s=e._point,o=[r._x,r._y,r._x+i._x,r._y+i._y,s._x+a._x,s._y+a._y,s._x,s._y];
return n&&n._transformCoordinates(o,o,4),o},subdivide:function(t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7];
n===e&&(n=.5);var d=1-n,h=d*r+n*a,f=d*i+n*s,v=d*a+n*o,m=d*s+n*l,b=d*o+n*u,g=d*l+n*c,p=d*h+n*v,y=d*f+n*m,_=d*v+n*b,x=d*m+n*g,w=d*p+n*_,S=d*y+n*x;
return[[r,i,h,f,p,y,w,S],[w,S,_,x,b,g,u,c]]},solveCubic:function(t,e,n,r,i,a){var s=t[e],l=t[e+2],u=t[e+4],c=t[e+6],d=3*(l-s),h=3*(u-l)-d,f=c-s-d-h;
return o.solveCubic(f,h,d,s-n,r,i,a)},getParameterOf:function(t,e){var n=new u(t[0],t[1]),r=new u(t[6],t[7]),i=1e-12,a=e.isClose(n,i)?0:e.isClose(r,i)?1:null;
if(null!==a)return a;for(var s=[e.x,e.y],o=[],l=2e-7,c=0;2>c;c++)for(var d=T.solveCubic(t,c,s[c],o,0,1),h=0;d>h;h++)if(a=o[h],
e.isClose(T.getPoint(t,a),l))return a;return e.isClose(n,l)?0:e.isClose(r,l)?1:null;
},getNearestParameter:function(t,e){function n(n){if(n>=0&&1>=n){var r=e.getDistance(T.getPoint(t,n),!0);
if(f>r)return f=r,v=n,!0}}if(T.isStraight(t)){var r=t[0],i=t[1],a=t[6],s=t[7],o=a-r,l=s-i,c=o*o+l*l;
if(0===c)return 0;var d=((e.x-r)*o+(e.y-i)*l)/c;return 1e-12>d?0:d>.999999999999?1:T.getParameterOf(t,new u(r+d*o,i+d*l));
}for(var h=100,f=1/0,v=0,m=0;h>=m;m++)n(m/h);for(var b=1/(2*h);b>4e-7;)n(v-b)||n(v+b)||(b/=2);
return v},getPart:function(t,e,n){var r=e>n;if(r){var i=e;e=n,n=i}return e>0&&(t=T.subdivide(t,e)[1]),
1>n&&(t=T.subdivide(t,(n-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t;
},isFlatEnough:function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=3*i-2*n-l,d=3*a-2*r-u,h=3*s-2*l-n,f=3*o-2*u-r;
return Math.max(c*c,h*h)+Math.max(d*d,f*f)<10*e*e},getArea:function(t){var e=t[0],n=t[1],r=t[6],i=t[7],a=(t[2]+e)/2,s=(t[3]+n)/2,o=(t[4]+t[6])/2,l=(t[5]+t[7])/2;
return 6*((e-a)*(s+n)+(a-o)*(l+s)+(o-r)*(i+l))/10},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),r=[0,0],i=0;2>i;i++)T._addBounds(t[i],t[i+2],t[i+4],t[i+6],i,0,e,n,r);
return new f(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,r,i,a,s,l,u){
function c(t,e){var n=t-e,r=t+e;n<s[i]&&(s[i]=n),r>l[i]&&(l[i]=r)}var d=3*(e-n)-t+r,h=2*(t+n)-4*e,f=e-t,v=o.solveQuadratic(d,h,f,u),m=4e-7,b=1-m;
c(r,0);for(var g=0;v>g;g++){var p=u[g],y=1-p;p>m&&b>p&&c(y*y*y*t+3*y*y*p*e+3*y*p*p*n+p*p*p*r,a);
}}}},n.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(t){
this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];if(!e){var n=this._path;
e=this._bounds[t]=j[t]([this._segment1,this._segment2],!1,n&&n.getStyle())}return e.clone();
}},{}),n.each({isStraight:function(t,e,n){if(e.isZero()&&n.isZero())return!0;if(t.isZero())return!1;
if(e.isCollinear(t)&&n.isCollinear(t)){var r=t.dot(t),i=t.dot(e)/r,a=t.dot(n)/r;return i>=0&&1>=i&&0>=a&&a>=-1;
}return!1},isLinear:function(t,e,n){var r=t.divide(3);return e.equals(r)&&n.negate().equals(r);
}},function(t,e){this[e]=function(){var e=this._segment1,n=this._segment2;return t(n._point.subtract(e._point),e._handleOut,n._handleIn);
},this.statics[e]=function(e){var n=e[0],r=e[1],i=e[6],a=e[7];return t(new u(i-n,a-r),new u(e[2]-n,e[3]-r),new u(e[4]-i,e[5]-a));
}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero();
},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine());
},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).y)<1e-7;
},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).x)<1e-7;
}}),{beans:!1,getParameterAt:function(t,e){return T.getParameterAt(this.getValues(),t,e);
},getParameterOf:function(){return T.getParameterOf(this.getValues(),u.read(arguments));
},getLocationAt:function(t,e){var n=e?t:this.getParameterAt(t);return null!=n&&n>=0&&1>=n?new L(this,n):null;
},getLocationOf:function(){return this.getLocationAt(this.getParameterOf(u.read(arguments)),!0);
},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null;
},getNearestLocation:function(){var t=u.read(arguments),e=this.getValues(),n=T.getNearestParameter(e,t),r=T.getPoint(e,n);
return new L(this,n,r,null,t.getDistance(r))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint();
}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];
return n.each(t,function(t){this[t+"At"]=function(e,n){var r=this.getValues();return T[t](r,n?e:T.getParameterAt(r,e,0));
}},{statics:{evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],o=t[6],l=t[7],u=9*(r-a)+3*(o-e),c=6*(e+a)-12*r,d=3*(r-e),h=9*(i-s)+3*(l-n),f=6*(n+s)-12*i,v=3*(i-n);
return function(t){var e=(u*t+c)*t+d,n=(h*t+f)*t+v;return Math.sqrt(e*e+n*n)}}function n(t,e){
return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function r(t,e,n,r){if(null==e||0>e||e>1)return null;
var i,a,s=t[0],l=t[1],c=t[2],d=t[3],h=t[4],f=t[5],v=t[6],m=t[7],b=4e-7,g=1-b,p=o.isZero;
if(p(c-s)&&p(d-l)&&(c=s,d=l),p(h-v)&&p(f-m)&&(h=v,f=m),0===n&&(b>e||e>g)){var y=b>e;
i=y?s:v,a=y?l:m}else{var _=3*(c-s),x=3*(h-c)-_,w=v-s-_-x,S=3*(d-l),C=3*(f-d)-S,k=m-l-S-C;
if(0===n)i=((w*e+x)*e+_)*e+s,a=((k*e+C)*e+S)*e+l;else{if(b>e?(i=_,a=S):e>g?(i=3*(v-h),
a=3*(m-f)):(i=(3*w*e+2*x)*e+_,a=(3*k*e+2*C)*e+S),r){0===i&&0===a&&(b>e||e>g)&&(i=h-c,
a=f-d);var E=Math.sqrt(i*i+a*a);E&&(i/=E,a/=E)}if(3===n){var A=6*w*e+2*x,T=6*k*e+2*C,L=Math.pow(i*i+a*a,1.5);
i=0!==L?(i*T-a*A)/L:0,a=0}}}return 2===n?new u(a,-i):new u(i,a)}return{statics:{getLength:function(r,i,a){
if(i===e&&(i=0),a===e&&(a=1),0===i&&1===a&&T.isStraight(r)){var s=r[6]-r[0],l=r[7]-r[1];
return Math.sqrt(s*s+l*l)}var u=t(r);return o.integrate(u,i,a,n(i,a))},getParameterAt:function(r,i,a){
function s(t){return m+=o.integrate(h,a,t,n(a,t)),a=t,m-i}if(a===e&&(a=0>i?1:0),0===i)return a;
var l=Math.abs,u=i>0,c=u?a:0,d=u?1:a,h=t(r),f=o.integrate(h,c,d,n(c,d));if(l(i-f)<1e-12)return u?d:c;
if(l(i)>f)return null;var v=i/f,m=0;return o.findRoot(s,h,a+v,c,d,32,1e-12)},getPoint:function(t,e){
return r(t,e,0,!1)},getTangent:function(t,e){return r(t,e,1,!0)},getWeightedTangent:function(t,e){
return r(t,e,1,!1)},getNormal:function(t,e){return r(t,e,2,!0)},getWeightedNormal:function(t,e){
return r(t,e,2,!1)},getCurvature:function(t,e){return r(t,e,3,!1).x}}}},new function(){
function t(t,e,n,r,i,a,s,o,l,u,c){var d=!c&&e.excludeStart,h=!c&&e.excludeEnd,f=4e-7,v=1-f;
if(null==i&&(i=T.getParameterOf(n,a)),null!==i&&i>=(d?f:0)&&(h?v:1)>=i&&(null==l&&(l=T.getParameterOf(s,u)),
null!==l&&l>=(h?f:0)&&(d?v:1)>=l)){var m=e.renormalize;if(m){var b=m(i,l);i=b[0],
l=b[1]}var g=new L(r,i,a||T.getPoint(n,i),c),p=new L(o,l,u||T.getPoint(s,l),c),y=g.getPath()===p.getPath()&&g.getIndex()>p.getIndex(),_=y?p:g,x=e.include;
g._intersection=p,p._intersection=g,(!x||x(_))&&L.insert(t,_,!0)}}function e(i,a,s,o,l,u,c,d,h,f,v,m){
if(!(++m>=26)){var g,p,y=a[0],_=a[1],x=a[6],w=a[7],S=b.getSignedDistance,C=S(y,_,x,w,a[2],a[3]),k=S(y,_,x,w,a[4],a[5]),E=C*k>0?.75:4/9,A=E*Math.min(0,C,k),L=E*Math.max(0,C,k),M=S(y,_,x,w,i[0],i[1]),j=S(y,_,x,w,i[2],i[3]),R=S(y,_,x,w,i[4],i[5]),O=S(y,_,x,w,i[6],i[7]),P=n(M,j,R,O),I=P[0],D=P[1];
if((0!==C||0!==k||0!==M||0!==j||0!==R||0!==O)&&null!=(g=r(I,D,A,L))&&null!=(p=r(I.reverse(),D.reverse(),A,L))){
var N=c+(d-c)*g,V=c+(d-c)*p;if(Math.max(f-h,V-N)<1e-7){var B=(N+V)/2,U=(h+f)/2;i=s.getValues(),
a=o.getValues(),t(l,u,v?a:i,v?o:s,v?U:B,null,v?i:a,v?s:o,v?B:U,null)}else if(i=T.getPart(i,g,p),
p-g>.8)if(V-N>f-h){var z=T.subdivide(i,.5),B=(N+V)/2;e(a,z[0],o,s,l,u,h,f,N,B,!v,m),
e(a,z[1],o,s,l,u,h,f,B,V,!v,m)}else{var z=T.subdivide(a,.5),U=(h+f)/2;e(z[0],i,o,s,l,u,h,U,N,V,!v,m),
e(z[1],i,o,s,l,u,U,f,N,V,!v,m)}else e(a,i,o,s,l,u,h,f,N,V,!v,m)}}}function n(t,e,n,r){
var i,a=[0,t],s=[1/3,e],o=[2/3,n],l=[1,r],u=e-(2*t+r)/3,c=n-(t+2*r)/3;if(0>u*c)i=[[a,s,l],[a,o,l]];else{
var d=u/c;i=[d>=2?[a,s,l]:.5>=d?[a,o,l]:[a,s,o,l],[a,l]]}return 0>(u||c)?i.reverse():i;
}function r(t,e,n,r){return t[0][1]<n?i(t,!0,n):e[0][1]>r?i(e,!1,r):t[0][0]}function i(t,e,n){
for(var r=t[0][0],i=t[0][1],a=1,s=t.length;s>a;a++){var o=t[a][0],l=t[a][1];if(e?l>=n:n>=l)return l===n?o:r+(n-i)*(o-r)/(l-i);
r=o,i=l}return null}function a(e,n,r,i,a,s){for(var l=T.isStraight(e),u=l?n:e,c=l?e:n,d=c[0],h=c[1],f=c[6],v=c[7],m=f-d,b=v-h,g=Math.atan2(-b,m),p=Math.sin(g),y=Math.cos(g),_=[],x=0;8>x;x+=2){
var w=u[x]-d,S=u[x+1]-h;_.push(w*y-S*p,w*p+S*y)}for(var C=[],k=T.solveCubic(_,1,0,C,0,1),x=0;k>x;x++){
var E=C[x],A=T.getPoint(u,E),L=T.getParameterOf(c,A);if(null!==L){var M=T.getPoint(c,L),j=l?L:E,R=l?E:L;
(!s.excludeEnd||R>o.CURVETIME_EPSILON)&&t(a,s,e,r,j,l?M:A,n,i,R,l?A:M)}}}function s(e,n,r,i,a,s){
var o=b.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);o&&t(a,s,e,r,null,o,n,i,null,o);
}return{statics:{_getIntersections:function(n,r,i,o,l,c){if(!r)return T._getSelfIntersection(n,i,l,c);
var d=2e-7,h=n[0],f=n[1],v=n[6],m=n[7],b=r[0],g=r[1],p=r[6],y=r[7],_=(3*n[2]+h)/4,x=(3*n[3]+f)/4,w=(3*n[4]+v)/4,S=(3*n[5]+m)/4,C=(3*r[2]+b)/4,k=(3*r[3]+g)/4,E=(3*r[4]+p)/4,A=(3*r[5]+y)/4,L=Math.min,M=Math.max;
if(!(M(h,_,w,v)+d>L(b,C,E,p)&&L(h,_,w,v)-d<M(b,C,E,p)&&M(f,x,S,m)+d>L(g,k,A,y)&&L(f,x,S,m)-d<M(g,k,A,y)))return l;
var j=T.getOverlaps(n,r);if(j){for(var R=0;2>R;R++){var O=j[R];t(l,c,n,i,O[0],null,r,o,O[1],null,!0);
}return l}var P=T.isStraight(n),I=T.isStraight(r),D=P&&I,N=l.length;if((D?s:P||I?a:e)(n,r,i,o,l,c,0,1,0,1,0,0),
D&&l.length>N)return l;var V=new u(h,f),B=new u(v,m),U=new u(b,g),z=new u(p,y);return V.isClose(U,d)&&t(l,c,n,i,0,V,r,o,0,U),
!c.excludeStart&&V.isClose(z,d)&&t(l,c,n,i,0,V,r,o,1,z),!c.excludeEnd&&B.isClose(U,d)&&t(l,c,n,i,1,B,r,o,0,U),
B.isClose(z,d)&&t(l,c,n,i,1,B,r,o,1,z),l},_getSelfIntersection:function(t,e,n,r){
var i=t[0],a=t[1],s=t[2],l=t[3],c=t[4],d=t[5],h=t[6],f=t[7],v=new b(i,a,h,f,!1),m=v.getSide(new u(s,l),!0),g=v.getSide(new u(c,d),!0);
if(m===g){var p=(i-c)*(l-f)+(s-h)*(d-a);if(p*m>0)return n}var y=h-3*c+3*s-i,_=c-2*s+i,x=s-i,w=f-3*d+3*l-a,S=d-2*l+a,C=l-a,k=w*x-y*C,E=w*_-y*S,A=S*x-_*C;
if(0>k*k-4*E*A){var L,M=[],j=o.solveCubic(y*y+w*w,3*(y*_+w*S),2*(_*_+S*S)+y*x+w*C,_*x+S*C,M,0,1);
if(j>0){for(var R=0,O=0;j>R;R++){var P=Math.abs(e.getCurvatureAt(M[R],!0));P>O&&(O=P,
L=M[R])}var I=T.subdivide(t,L);r.excludeEnd=!0,r.renormalize=function(t,e){return[t*L,e*(1-L)+L];
},T._getIntersections(I[0],I[1],e,e,n,r)}}return n},getOverlaps:function(t,e){function n(t){
var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var r=Math.abs,i=4e-7,a=2e-7,s=T.isStraight(t),o=T.isStraight(e),l=s&&o,c=n(t)<n(e),d=c?e:t,h=c?t:e,f=new b(d[0],d[1],d[6],d[7]);
if(f.getDistance(new u(h[0],h[1]))<a&&f.getDistance(new u(h[6],h[7]))<a)!l&&f.getDistance(new u(d[2],d[3]))<a&&f.getDistance(new u(d[4],d[5]))<a&&f.getDistance(new u(h[2],h[3]))<a&&f.getDistance(new u(h[4],h[5]))<a&&(s=o=l=!0);else if(l)return null;
if(s^o)return null;for(var v=[t,e],m=[],g=0,p=0;2>g&&m.length<2;g+=0===p?0:1,p=1^p){
var y=T.getParameterOf(v[1^g],new u(v[g][0===p?0:6],v[g][0===p?1:7]));if(null!=y){
var _=0===g?[p,y]:[y,p];(0===m.length||r(_[0]-m[0][0])>i&&r(_[1]-m[0][1])>i)&&m.push(_);
}if(1===g&&0===m.length)break}if(2!==m.length)m=null;else if(!l){var x=T.getPart(t,m[0][0],m[1][0]),w=T.getPart(e,m[0][1],m[1][1]);
(r(w[2]-x[2])>a||r(w[3]-x[3])>a||r(w[4]-x[4])>a||r(w[5]-x[5])>a)&&(m=null)}return m;
}}}}),L=n.extend({_class:"CurveLocation",beans:!0,initialize:function ht(t,e,n,r,i){
if(e>.9999996){var a=t.getNext();a&&(e=0,t=a)}this._id=l.get(ht),this._setCurve(t),
this._parameter=e,this._point=n||t.getPointAt(e,!0),this._overlap=r,this._distance=i,
this._intersection=this._next=this._prev=null},_setCurve:function(t){var e=t._path;
this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,
this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),
this._segment=t,this._parameter=t===this._segment1?0:1,this._point=t._point.clone();
},getSegment:function(){var t=this.getCurve(),e=this._segment;if(!e){var n=this.getParameter();
0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),
this._segment=e}return e},getCurve:function(){function t(t){var e=t&&t.getCurve();
return e&&null!=(n._parameter=e.getParameterOf(n._point))?(n._setCurve(e),n._segment=t,
e):void 0}var e=this._path,n=this;return e&&e._version!==this._version&&(this._parameter=this._curve=this._offset=null),
this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious());
},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){
var t=this.getCurve();return t&&t.getIndex()},getParameter:function(){var t=this.getCurve(),e=this._parameter;
return t&&null==e?this._parameter=t.getParameterOf(this._point):e},getPoint:function(){
return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();
if(e&&null!=n)for(var r=e.getCurves(),i=0;n>i;i++)t+=r[i].getLength();this._offset=t+=this.getCurveOffset();
}return t},getCurveOffset:function(){var t=this.getCurve(),e=this.getParameter();return null!=e&&t&&t.getPartLength(0,e);
},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance;
},divide:function(){var t=this.getCurve(),e=null;return t&&(e=t.divide(this.getParameter(),!0),
e&&this._setSegment(e._segment1)),e},split:function(){var t=this.getCurve();return t?t.split(this.getParameter(),!0):null;
},equals:function(t,e){var n=this===t,r=2e-7;if(!n&&t instanceof L&&this.getPath()===t.getPath()&&this.getPoint().isClose(t.getPoint(),r)){
var i=this.getCurve(),a=t.getCurve(),s=Math.abs,o=s((i.isLast()&&a.isFirst()?-1:i.getIndex())+this.getParameter()-((a.isLast()&&i.isFirst()?-1:a.getIndex())+t.getParameter()));
n=(4e-7>o||(o=s(this.getOffset()-t.getOffset()))<r||s(this.getPath().getLength()-o)<r)&&(e||!this._intersection&&!t._intersection||this._intersection&&this._intersection.equals(t._intersection,!0));
}return n},toString:function(){var t=[],e=this.getPoint(),n=s.instance;e&&t.push("point: "+e);
var r=this.getIndex();null!=r&&t.push("index: "+r);var i=this.getParameter();return null!=i&&t.push("parameter: "+n.number(i)),
null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }";
},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){
var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()));
}return!1},isCrossing:function(){function t(t,e,n){return n>e?t>e&&n>t:t>e&&180>=t||t>=-180&&n>t;
}var e=this._intersection;if(!e)return!1;var n=this.getParameter(),r=e.getParameter(),i=4e-7,a=1-i,s=n>i&&a>n,o=r>i&&a>r;
if(s&&o)return!this.isTouching();var l=this.getCurve(),u=i>=n?l.getPrevious():l,c=e.getCurve(),d=i>=r?c.getPrevious():c;
if(n>=a&&(l=l.getNext()),r>=a&&(c=c.getNext()),!(u&&l&&d&&c))return!1;if(s||o){var h=s?l:c;
if(h.isStraight()){var f=h.getLine(),v=s?d:u,m=s?c:l,b=v.isStraight(),g=m.isStraight();
if(b||g)return b&&f.intersect(v.getLine())||g&&f.intersect(m.getLine())}}var p=l.getTangentAt(s?n:i,!0),y=(s?p:u.getTangentAt(a,!0)).negate(),_=c.getTangentAt(o?r:i,!0),x=(o?_:d.getTangentAt(a,!0)).negate(),w=y.getAngle(),S=p.getAngle(),C=x.getAngle(),k=_.getAngle();
return!!(s?t(w,C,k)^t(S,C,k)&&t(w,k,C)^t(S,k,C):t(C,w,S)^t(k,w,S)&&t(C,S,w)^t(k,S,w));
},hasOverlap:function(){return!!this._overlap}},n.each(T.evaluateMethods,function(t){
var e=t+"At";this[t]=function(){var t=this.getParameter(),n=this.getCurve();return null!=t&&n&&n[e](t,!0);
}},{preserve:!0}),new function(){function t(t,e,n){function r(n,r){for(var a=n+r;a>=-1&&i>=a;a+=r){
var s=t[(a%i+i)%i];if(!e.getPoint().isClose(s.getPoint(),2e-7))break;if(e.equals(s))return s;
}return null}for(var i=t.length,a=0,s=i-1;s>=a;){var o=a+s>>>1,l=t[o],u=void 0;if(n&&(u=e.equals(l)?l:r(o,-1)||r(o,1)))return e._overlap&&(u._overlap=u._intersection._overlap=!0),
u;var c=e.getPath(),d=l.getPath(),h=c===d?e.getIndex()+e.getParameter()-(l.getIndex()+l.getParameter()):c._id-d._id;
0>h?s=o-1:a=o+1}return t.splice(a,0,e),e}return{statics:{insert:t,expand:function(e){
for(var n=e.slice(),r=e.length-1;r>=0;r--)t(n,e[r]._intersection,!1);return n}}}}),M=y.extend({
_class:"PathItem",_canScaleStroke:!0,initialize:function(){},getIntersections:function(t,e,n,r){
var i=this===t||!t,a=this._matrix.orNullIfIdentity(),s=i?a:(n||t._matrix).orNullIfIdentity();
if(!i&&!this.getBounds(a).touches(t.getBounds(s)))return[];for(var o,t,l=this.getCurves(),u=i?l:t.getCurves(),c=l.length,d=i?c:u.length,h=[],f=[],v=0;d>v;v++)h[v]=u[v].getValues(s);
for(var v=0;c>v;v++){var m=l[v],b=i?h[v]:m.getValues(a),g=m.getPath();g!==t&&(t=g,
o=[],f.push(o)),i&&T._getSelfIntersection(b,m,o,{include:e,excludeStart:1===c&&m.getPoint1().equals(m.getPoint2())
});for(var p=i?v+1:0;d>p;p++){if(r&&o.length)return o;var y=u[p];T._getIntersections(b,h[p],m,y,o,{
include:e,excludeStart:i&&m.getPrevious()===y,excludeEnd:i&&m.getNext()===y})}}o=[];
for(var v=0,_=f.length;_>v;v++)o.push.apply(o,f[v]);return o},getCrossings:function(t){
return this.getIntersections(t,function(t){return t._overlap||t.isCrossing()})},_asPathItem:function(){
return this},setPathData:function(t){function e(t,e){var n=+r[t];return o&&(n+=l[e]),
n}function n(t){return new u(e(t,"x"),e(t+1,"y"))}var r,i,a,s=t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,l=new u,c=new u;
this.clear();for(var h=0,f=s&&s.length;f>h;h++){var v=s[h],m=v[0],b=m.toLowerCase();
r=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=r&&r.length;switch(o=m===b,
"z"!==i||/[mz]/.test(b)||this.moveTo(l=c),b){case"m":case"l":for(var p="m"===b,y=0;g>y;y+=2)this[0===y&&p?"moveTo":"lineTo"](l=n(y));
a=l,p&&(c=l);break;case"h":case"v":for(var _="h"===b?"x":"y",y=0;g>y;y++)l[_]=e(y,_),
this.lineTo(l);a=l;break;case"c":for(var y=0;g>y;y+=6)this.cubicCurveTo(n(y),a=n(y+2),l=n(y+4));
break;case"s":for(var y=0;g>y;y+=4)this.cubicCurveTo(/[cs]/.test(i)?l.multiply(2).subtract(a):l,a=n(y),l=n(y+2)),
i=b;break;case"q":for(var y=0;g>y;y+=4)this.quadraticCurveTo(a=n(y),l=n(y+2));break;
case"t":for(var y=0;g>y;y+=2)this.quadraticCurveTo(a=/[qt]/.test(i)?l.multiply(2).subtract(a):l,l=n(y)),
i=b;break;case"a":for(var y=0;g>y;y+=7)this.arcTo(l=n(y+5),new d(+r[y],+r[y+1]),+r[y+2],+r[y+4],+r[y+3]);
break;case"z":this.closePath(!0)}i=b}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke());
},_contains:function(t){var e=t.isInside(this.getInternalHandleBounds())&&this._getWinding(t);
return!!("evenodd"===this.getFillRule()?1&e:e)}}),j=M.extend({_class:"Path",_serializeFields:{
segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;
var n=Array.isArray(t)?"object"===$traceurRuntime["typeof"](t[0])?t:arguments:!t||t.size!==e||t.x===e&&t.point===e?null:arguments;
n&&n.length>0?this.setSegments(n):(this._curves=e,this._selectedSegmentState=0,n||"string"!=typeof t||(this.setPathData(t),
t=null)),this._initialize(!n&&t)},_equals:function(t){return this._closed===t._closed&&n.equals(this._segments,t._segments);
},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed;var n=t._clockwise;
n!==e&&(this._clockwise=n)},_changed:function ft(t){if(ft.base.call(this,t),8&t){
if(this._length=this._area=this._clockwise=this._monoCurves=e,16&t)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;r>n;n++)this._curves[n]._changed();
}else 32&t&&(this._bounds=e)},getStyle:function(){var t=this._parent;return(t instanceof R?t:this)._style;
},getSegments:function(){return this._segments},setSegments:function(t){var n=this.isFullySelected();
this._segments.length=0,this._selectedSegmentState=0,this._curves=e,t&&t.length>0&&this._add(E.readAll(t)),
n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0];
},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){
var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);
for(var r=0;n>r;r++)t[r]=new T(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){
return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1];
},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){
if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new T(this,this._segments[e-1],this._segments[0]));
}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){e._transformCoordinates(t,m,!1),
r=m[0],i=m[1],b?(g.push("M"+v.pair(r,i)),b=!1):(l=m[2],u=m[3],l===r&&u===i&&c===a&&d===o?n||g.push("l"+v.pair(r-a,i-o)):g.push("c"+v.pair(c-a,d-o)+" "+v.pair(l-a,u-o)+" "+v.pair(r-a,i-o))),
a=r,o=i,c=m[4],d=m[5]}var r,i,a,o,l,u,c,d,h=this._segments,f=h.length,v=new s(e),m=new Array(6),b=!0,g=[];
if(0===f)return"";for(var p=0;f>p;p++)n(h[p]);return this._closed&&f>0&&(n(h[0],!0),
g.push("z")),g.join("")}},{isEmpty:function(){return 0===this._segments.length},_transformContent:function(t){
for(var e=this._segments,n=new Array(6),r=0,i=e.length;i>r;r++)e[r]._transformCoordinates(t,n,!0);
return!0},_add:function(t,e){for(var n=this._segments,r=this._curves,i=t.length,a=null==e,e=a?n.length:e,s=0;i>s;s++){
var o=t[s];o._path&&(o=t[s]=o.clone()),o._path=this,o._index=e+s,o._selectionState&&this._updateSelection(o,0,o._selectionState);
}if(a)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var s=e+i,l=n.length;l>s;s++)n[s]._index=s;
}if(r){var u=this._countCurves(),c=e>0&&e+i-1===u?e-1:e,d=c,h=Math.min(c+i,u);t._curves&&(r.splice.apply(r,[c,0].concat(t._curves)),
d+=t._curves.length);for(var s=d;h>s;s++)r.splice(s,0,new T(this,null,null));this._adjustCurves(c,h);
}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,r=this._segments,i=this._curves,a=t;e>a;a++)n=i[a],
n._path=this,n._segment1=r[a],n._segment2=r[a+1]||r[0],n._changed();(n=i[this._closed&&0===t?r.length-1:t-1])&&(n._segment2=r[t]||r[0],
n._changed()),(n=i[e])&&(n._segment1=r[e],n._changed())},_countCurves:function(){
var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(E.readAll(arguments)):this._add([E.read(arguments)])[0];
},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(E.readAll(arguments,1),t):this._add([E.read(arguments,1)],t)[0];
},addSegment:function(){return this._add([E.read(arguments)])[0]},insertSegment:function(t){
return this._add([E.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(E.readAll(t));
},insertSegments:function(t,e){return this._add(E.readAll(e),t)},removeSegment:function(t){
return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,r){t=t||0,
e=n.pick(e,this._segments.length);var i=this._segments,a=this._curves,s=i.length,o=i.splice(t,e-t),l=o.length;
if(!l)return o;for(var u=0;l>u;u++){var c=o[u];c._selectionState&&this._updateSelection(c,c._selectionState,0),
c._index=c._path=null}for(var u=t,d=i.length;d>u;u++)i[u]._index=u;if(a){for(var h=t>0&&e===s+(this._closed?1:0)?t-1:t,a=a.splice(h,l),u=a.length-1;u>=0;u--)a[u]._path=null;
r&&(o._curves=a.slice(1)),this._adjustCurves(h,h)}return this._changed(25),o},clear:"#removeSegments",
hasHandles:function(){for(var t=this._segments,e=0,n=t.length;n>e;e++)if(t[e].hasHandles())return!0;
return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;n>e;e++)t[e].clearHandles();
},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,r=t.length;r>n;n++)e+=t[n].getLength();
this._length=e}return this._length},getArea:function(){if(null==this._area){for(var t=this._segments,e=t.length,n=e-1,r=0,i=0,a=this._closed?e:n;a>i;i++)r+=T.getArea(T.getValues(t[i],t[n>i?i+1:0]));
this._area=r}return this._area},isClockwise:function(){return this._clockwise!==e?this._clockwise:this.getArea()>=0;
},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse(),this._clockwise=t;
},isFullySelected:function(){var t=this._segments.length;return this._selected&&t>0&&this._selectedSegmentState===7*t;
},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelected:function vt(t){
t||this._selectSegments(!1),vt.base.call(this,t)},_selectSegments:function(t){var e=this._segments.length;
this._selectedSegmentState=t?7*e:0;for(var n=0;e>n;n++)this._segments[n]._selectionState=t?7:0;
},_updateSelection:function(t,e,n){t._selectionState=n;var r=this._selectedSegmentState+=n-e;
r>0&&this.setSelected(!0)},flatten:function(t){for(var e=new O(this,64,.1),n=0,r=e.length/Math.ceil(e.length/t),i=e.length+(this._closed?-r:r)/2,a=[];i>=n;)a.push(new E(e.getPointAt(n))),
n+=r;this.setSegments(a)},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,r=n?2e-7:0,i=e.length-1;i>=0;i--){
var a=e[i];!a.hasHandles()&&(a.getLength()<r||n&&a.isCollinear(a.getNext()))&&a.remove();
}return this},simplify:function(t){if(this._segments.length>2){var e=new P(this,t||2.5);
this.setSegments(e.fit())}},split:function(t,e){if(null===e)return null;if(1===arguments.length){
var n=t;if("number"==typeof n&&(n=this.getLocationAt(n)),!n)return null;t=n.index,
e=n.parameter}var r=4e-7,i=1-r;e>=i&&(t++,e--);var a=this.getCurves();if(t>=0&&t<a.length){
e>=r&&a[t++].divide(e,!0);var s,o=this.removeSegments(t,this._segments.length,!0);
return this._closed?(this.setClosed(!1),s=this):(s=new j(y.NO_INSERT),s.insertAbove(this,!0),
s.copyAttributes(this)),s._add(o,0),this.addSegment(o[0]),s}return null},reverse:function(){
this._segments.reverse();for(var t=0,n=this._segments.length;n>t;t++){var r=this._segments[t],i=r._handleIn;
r._handleIn=r._handleOut,r._handleOut=i,r._index=t}this._curves=null,this._clockwise!==e&&(this._clockwise=!this._clockwise),
this._changed(9)},join:function(t){if(t){var e=t._segments,n=this.getLastSegment(),r=t.getLastSegment();
if(!r)return this;n&&n._point.equals(r._point)&&t.reverse();var i=t.getFirstSegment();
if(n&&n._point.equals(i._point))n.setHandleOut(i._handleOut),this._add(e.slice(1));else{
var a=this.getFirstSegment();a&&a._point.equals(i._point)&&t.reverse(),r=t.getLastSegment(),
a&&a._point.equals(r._point)?(a.setHandleIn(r._handleIn),this._add(e.slice(0,e.length-1),0)):this._add(e.slice());
}t._closed&&this._add([e[0]]),t.remove()}var s=this.getFirstSegment(),o=this.getLastSegment();
return s!==o&&s._point.equals(o._point)&&(s.setHandleIn(o._handleIn),o.remove(),this.setClosed(!0)),
this},toShape:function(t){function n(t,e){var n=h[t],r=n.getNext(),i=h[e],a=i.getNext();
return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&a._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(a._point.subtract(i._point));
}function r(t){var e=h[t],n=e.getPrevious(),r=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&r._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(r._point.subtract(e._point));
}function i(t){var e=h[t],n=e.getNext(),r=e._handleOut,i=n._handleIn,a=.5522847498307936;
if(r.isOrthogonal(i)){var s=e._point,l=n._point,u=new b(s,r,!0).intersect(new b(l,i,!0),!0);
return u&&o.isZero(r.getLength()/u.subtract(s).getLength()-a)&&o.isZero(i.getLength()/u.subtract(l).getLength()-a);
}return!1}function a(t,e){return h[t]._point.getDistance(h[e]._point)}if(!this._closed)return null;
var s,l,u,c,h=this._segments;if(!this.hasHandles()&&4===h.length&&n(0,2)&&n(1,3)&&r(1)?(s=w.Rectangle,
l=new d(a(0,3),a(0,1)),c=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&i(0)&&i(2)&&i(4)&&i(6)&&n(1,5)&&n(3,7)?(s=w.Rectangle,
l=new d(a(1,6),a(0,3)),u=l.subtract(new d(a(0,7),a(1,2))).divide(2),c=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&i(0)&&i(1)&&i(2)&&i(3)&&(o.isZero(a(0,2)-a(1,3))?(s=w.Circle,
u=a(0,2)/2):(s=w.Ellipse,u=new d(a(2,0)/2,a(3,1)/2)),c=h[1]._point),s){var f=this.getPosition(!0),v=new s({
center:f,size:l,radius:u,insert:!1});return v.copyAttributes(this,!0),v._matrix.preConcatenate(this._matrix),
v.rotate(c.subtract(f).getAngle()+90),(t===e||t)&&v.insertAbove(this),v}return null;
},toPath:"#clone",_hitTestSelf:function(t,e){function n(e,n){return t.subtract(e).divide(n).length<=1;
}function r(t,r,i){if(!e.selected||r.isSelected()){var a=t._point;if(r!==a&&(r=r.add(a)),
n(r,_))return new k(i,v,{segment:t,point:r})}}function i(t,n){return(n||e.segments)&&r(t,t._point,"segment")||!n&&e.handles&&(r(t,t._handleIn,"handle-in")||r(t,t._handleOut,"handle-out"));
}function a(t){d.add(t)}function s(e){if(("round"!==o||"round"!==l)&&(d=new j({internal:!0,
closed:!0}),p||e._index>0&&e._index<g-1?"round"!==o&&(e._handleIn.isZero()||e._handleOut.isZero())&&j._addBevelJoin(e,o,C,c,a,!0):"round"!==l&&j._addSquareCap(e,l,C,a,!0),
!d.isEmpty())){var r;return d.contains(t)||(r=d.getNearestLocation(t))&&n(r.getPoint(),y);
}return n(e._point,_)}var o,l,c,d,h,f,v=this,m=this.getStyle(),b=this._segments,g=b.length,p=this._closed,y=e._tolerancePadding,_=y,x=e.stroke&&m.hasStroke(),w=e.fill&&m.hasFill(),S=e.curves,C=x?m.getStrokeWidth()/2:w&&e.tolerance>0||S?0:null;
if(null!==C&&(C>0?(o=m.getStrokeJoin(),l=m.getStrokeCap(),c=C*m.getMiterLimit(),_=y.add(new u(C,C))):o=l="round"),
!e.ends||e.segments||p){if(e.segments||e.handles)for(var E=0;g>E;E++)if(f=i(b[E]))return f;
}else if(f=i(b[0],!0)||i(b[g-1],!0))return f;if(null!==C){if(h=this.getNearestLocation(t)){
var A=h.getParameter();0===A||1===A&&g>1?s(h.getSegment())||(h=null):n(h.getPoint(),_)||(h=null);
}if(!h&&"miter"===o&&g>1)for(var E=0;g>E;E++){var T=b[E];if(t.getDistance(T._point)<=c&&s(T)){
h=T.getLocation();break}}}return!h&&w&&this._contains(t)||h&&!x&&!S?new k("fill",this):h?new k(x?"stroke":"curve",this,{
location:h,point:h.getPoint()}):null}},n.each(T.evaluateMethods,function(t){this[t+"At"]=function(e,n){
var r=this.getLocationAt(e,n);return r&&r[t]()}},{beans:!1,getLocationOf:function(){
for(var t=u.read(arguments),e=this.getCurves(),n=0,r=e.length;r>n;n++){var i=e[n].getLocationOf(t);
if(i)return i}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);
return t?t.getOffset():null},getLocationAt:function(t,e){var n=this.getCurves(),r=0;
if(e){var i=~~t,a=n[i];return a?a.getLocationAt(t-i,!0):null}for(var s=0,o=n.length;o>s;s++){
var l=r,a=n[s];if(r+=a.getLength(),r>t)return a.getLocationAt(t-l)}return n.length>0&&t<=this.getLength()?new L(n[n.length-1],1):null;
},getNearestLocation:function(){for(var t=u.read(arguments),e=this.getCurves(),n=1/0,r=null,i=0,a=e.length;a>i;i++){
var s=e[i].getNearestLocation(t);s._distance<n&&(n=s._distance,r=s)}return r},getNearestPoint:function(){
return this.getNearestLocation.apply(this,arguments).getPoint()},smooth:function(t){
function n(t,e){var n=t&&t.index;if(null!=n){var i=t.path;if(i&&i!==r)throw new Error(t._class+" "+n+" of "+i+" is not part of "+r);
e&&t instanceof T&&n++}else n="number"==typeof t?t:e;return Math.min(0>n&&l?n%o:0>n?n+o:n,o-1);
}var r=this,i=t||{},a=i.type||"asymmetric",s=this._segments,o=s.length,l=this._closed,u=l&&i.from===e&&i.to===e,c=n(i.from,0),d=n(i.to,o-1);
if(c>d)if(l)c-=o;else{var h=c;c=d,d=h}if(/^(?:asymmetric|continuous)$/.test(a)){var f="asymmetric"===a,v=Math.min,m=d-c+1,b=m-1,g=u?v(m,4):1,p=g,y=g,_=[];
if(l||(p=v(1,c),y=v(1,o-d-1)),b+=p+y,1>=b)return;for(var x=0,w=c-p;b>=x;x++,w++)_[x]=s[(0>w?w+o:w)%o]._point;
for(var S=_[0]._x+2*_[1]._x,C=_[0]._y+2*_[1]._y,k=2,E=b-1,A=[S],L=[C],M=[k],j=[],R=[],x=1;b>x;x++){
var O=E>x,P=O?1:f?1:2,I=O?4:f?2:7,D=O?4:f?3:8,N=O?2:f?0:1,V=P/k;k=M[x]=I-V,S=A[x]=D*_[x]._x+N*_[x+1]._x-V*S,
C=L[x]=D*_[x]._y+N*_[x+1]._y-V*C}j[E]=A[E]/M[E],R[E]=L[E]/M[E];for(var x=b-2;x>=0;x--)j[x]=(A[x]-j[x+1])/M[x],
R[x]=(L[x]-R[x+1])/M[x];j[b]=(3*_[b]._x-j[E])/2,R[b]=(3*_[b]._y-R[E])/2;for(var x=p,B=b-y,w=c;B>=x;x++,
w++){var U=s[0>w?w+o:w],z=U._point,G=j[x]-z._x,H=R[x]-z._y;(u||B>x)&&U.setHandleOut(G,H),
(u||x>p)&&U.setHandleIn(-G,-H)}}else for(var x=c;d>=x;x++)s[0>x?x+o:x].smooth(i,!u&&x===c,!u&&x===d);
}}),new function(){function e(t,e,n,r){function i(e){var n=s[e],r=s[e+1];(d!=n||h!=r)&&(t.beginPath(),
t.moveTo(d,h),t.lineTo(n,r),t.stroke(),t.beginPath(),t.arc(n,r,a,0,2*Math.PI,!0),
t.fill())}for(var a=r/2,s=new Array(6),o=0,l=e.length;l>o;o++){var u=e[o];u._transformCoordinates(n,s,!1);
var c=u._selectionState,d=s[0],h=s[1];if(1&c&&i(2),2&c&&i(4),t.fillRect(d-a,h-a,r,r),
!(4&c)){var f=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(d-a+1,h-a+1,r-2,r-2),t.fillStyle=f;
}}}function n(t,e,n){function r(e){if(n)e._transformCoordinates(n,v,!1),i=v[0],a=v[1];else{
var r=e._point;i=r._x,a=r._y}if(m)t.moveTo(i,a),m=!1;else{if(n)l=v[2],u=v[3];else{
var h=e._handleIn;l=i+h._x,u=a+h._y}l===i&&u===a&&c===s&&d===o?t.lineTo(i,a):t.bezierCurveTo(c,d,l,u,i,a);
}if(s=i,o=a,n)c=v[4],d=v[5];else{var h=e._handleOut;c=s+h._x,d=o+h._y}}for(var i,a,s,o,l,u,c,d,h=e._segments,f=h.length,v=new Array(6),m=!0,b=0;f>b;b++)r(h[b]);
e._closed&&f>0&&r(h[0])}return{_draw:function(e,r,i){function a(t){return d[(t%h+h)%h];
}var s=r.dontStart,o=r.dontFinish||r.clip,l=this.getStyle(),u=l.hasFill(),c=l.hasStroke(),d=l.getDashArray(),h=!t.support.nativeDash&&c&&d&&d.length;
if(s||e.beginPath(),(u||c&&!h||o)&&(n(e,this,i),this._closed&&e.closePath()),!o&&(u||c)&&(this._setStyles(e),
u&&(e.fill(l.getFillRule()),e.shadowBlur=0),c)){if(h){s||e.beginPath();var f,v=new O(this,32,.25,i),m=v.length,b=-l.getDashOffset(),g=0;
for(b%=m;b>0;)b-=a(g--)+a(g--);for(;m>b;)f=b+a(g++),(b>0||f>0)&&v.drawPart(e,Math.max(b,0),Math.max(f,0)),
b=f+a(g++)}e.stroke()}},_drawSelected:function(r,i){r.beginPath(),n(r,this,i),r.stroke(),
e(r,this._segments,i,t.settings.handleSize)}}},new function(){function t(t){var e=t._segments;
if(0===e.length)throw new Error("Use a moveTo() command first");return e[e.length-1];
}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),
t.length||this._add([new E(u.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.");
},lineTo:function(){this._add([new E(u.read(arguments))])},cubicCurveTo:function(){
var e=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=t(this);i.setHandleOut(e.subtract(i._point)),
this._add([new E(r,n.subtract(r))])},quadraticCurveTo:function(){var e=u.read(arguments),n=u.read(arguments),r=t(this)._point;
this.cubicCurveTo(e.add(r.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n);
},curveTo:function(){var e=u.read(arguments),r=u.read(arguments),i=n.pick(n.read(arguments),.5),a=1-i,s=t(this)._point,o=e.subtract(s.multiply(a*a)).subtract(r.multiply(i*i)).divide(2*i*a);
if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);
this.quadraticCurveTo(o,r)},arcTo:function(){var e,r,i,a,s,o=t(this),l=o._point,c=u.read(arguments),h=n.peek(arguments),f=n.pick(h,!0);
if("boolean"==typeof f)var v=l.add(c).divide(2),e=v.add(v.subtract(l).rotate(f?-90:90));else if(n.remain(arguments)<=2)e=c,
c=u.read(arguments);else{var g=d.read(arguments);if(g.isZero())return this.lineTo(c);
var p=n.read(arguments),f=!!n.read(arguments),y=!!n.read(arguments),v=l.add(c).divide(2),_=l.subtract(v).rotate(-p),x=_.x,w=_.y,S=Math.abs,C=S(g.width),k=S(g.height),A=C*C,T=k*k,L=x*x,M=w*w,j=Math.sqrt(L/A+M/T);
if(j>1&&(C*=j,k*=j,A=C*C,T=k*k),j=(A*T-A*M-T*L)/(A*M+T*L),S(j)<1e-12&&(j=0),0>j)throw new Error("Cannot create an arc with the given arguments");
r=new u(C*w/k,-k*x/C).multiply((y===f?-1:1)*Math.sqrt(j)).rotate(p).add(v),s=(new m).translate(r).rotate(p).scale(C,k),
a=s._inverseTransform(l),i=a.getDirectedAngle(s._inverseTransform(c)),!f&&i>0?i-=360:f&&0>i&&(i+=360);
}if(e){var R=new b(l.add(e).divide(2),e.subtract(l).rotate(90),!0),O=new b(e.add(c).divide(2),c.subtract(e).rotate(90),!0),P=new b(l,c),I=P.getSide(e);
if(r=R.intersect(O,!0),!r){if(!I)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments");
}a=l.subtract(r),i=a.getDirectedAngle(c.subtract(r));var D=P.getSide(r);0===D?i=I*Math.abs(i):I===D&&(i+=0>i?360:-360);
}for(var N=Math.abs(i),V=N>=360?4:Math.ceil(N/90),B=i/V,U=B*Math.PI/360,z=4/3*Math.sin(U)/(1+Math.cos(U)),G=[],H=0;V>=H;H++){
var _=c,F=null;if(V>H&&(F=a.rotate(90).multiply(z),s?(_=s._transformPoint(a),F=s._transformPoint(a.add(F)).subtract(_)):_=r.add(a)),
0===H)o.setHandleOut(F);else{var q=a.rotate(-90).multiply(z);s&&(q=s._transformPoint(a.add(q)).subtract(_)),
G.push(new E(_,q,F))}a=a.rotate(B)}this._add(G)},lineBy:function(){var e=u.read(arguments),n=t(this)._point;
this.lineTo(n.add(e))},curveBy:function(){var e=u.read(arguments),r=u.read(arguments),i=n.read(arguments),a=t(this)._point;
this.curveTo(a.add(e),a.add(r),i)},cubicCurveBy:function(){var e=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=t(this)._point;
this.cubicCurveTo(i.add(e),i.add(n),i.add(r))},quadraticCurveBy:function(){var e=u.read(arguments),n=u.read(arguments),r=t(this)._point;
this.quadraticCurveTo(r.add(e),r.add(n))},arcBy:function(){var e=t(this)._point,r=e.add(u.read(arguments)),i=n.pick(n.peek(arguments),!0);
"boolean"==typeof i?this.arcTo(r,i):this.arcTo(r,e.add(u.read(arguments)))},closePath:function(t){
this.setClosed(!0),t&&this.join()}}},{_getBounds:function(t,e){return j[t](this._segments,this._closed,this.getStyle(),e);
},statics:{getBounds:function(t,e,n,r,i){function a(t){t._transformCoordinates(r,o,!1);
for(var e=0;2>e;e++)T._addBounds(l[e],l[e+4],o[e+2],o[e],e,i?i[e]:0,u,c,d);var n=l;
l=o,o=n}var s=t[0];if(!s)return new f;for(var o=new Array(6),l=s._transformCoordinates(r,new Array(6),!1),u=l.slice(0,2),c=u.slice(),d=new Array(2),h=1,v=t.length;v>h;h++)a(t[h]);
return e&&a(s),new f(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(t,e,n,r){
function i(t){h=h.include(r?r._transformPoint(t,t):t)}function a(t){h=h.unite(g.setCenter(r?r._transformPoint(t._point):t._point));
}function s(t,e){var n=t._handleIn,r=t._handleOut;"round"===e||!n.isZero()&&!r.isZero()&&n.isCollinear(r)?a(t):j._addBevelJoin(t,e,u,b,i);
}function o(t,e){"round"===e?a(t):j._addSquareCap(t,e,u,i)}if(!n.hasStroke())return j.getBounds(t,e,n,r);
for(var l=t.length-(e?0:1),u=n.getStrokeWidth()/2,c=j._getPenPadding(u,r),h=j.getBounds(t,e,n,r,c),v=n.getStrokeJoin(),m=n.getStrokeCap(),b=u*n.getMiterLimit(),g=new f(new d(c).multiply(2)),p=1;l>p;p++)s(t[p],v);
return e?s(t[0],v):l>0&&(o(t[0],m),o(t[t.length-1],m)),h},_getPenPadding:function(t,e){
if(!e)return[t,t];var n=e.shiftless(),r=n.transform(new u(t,0)),i=n.transform(new u(0,t)),a=r.getAngleInRadians(),s=r.getLength(),o=i.getLength(),l=Math.sin(a),c=Math.cos(a),d=Math.tan(a),h=Math.atan2(o*d,s),f=Math.atan2(o,d*s);
return[Math.abs(s*Math.cos(h)*c+o*Math.sin(h)*l),Math.abs(o*Math.sin(f)*c+s*Math.cos(f)*l)];
},_addBevelJoin:function(t,e,n,r,i,a){var s=t.getCurve(),o=s.getPrevious(),l=s.getPointAt(0,!0),c=o.getNormalAt(1,!0),d=s.getNormalAt(0,!0),h=c.getDirectedAngle(d)<0?-n:n;
if(c.setLength(h),d.setLength(h),a&&(i(l),i(l.add(c))),"miter"===e){var f=new b(l.add(c),new u(-c.y,c.x),!0).intersect(new b(l.add(d),new u(-d.y,d.x),!0),!0);
if(f&&l.getDistance(f)<=r&&(i(f),!a))return}a||i(l.add(c)),i(l.add(d))},_addSquareCap:function(t,e,n,r,i){
var a=t._point,s=t.getLocation(),o=s.getNormal().multiply(n);i&&(r(a.subtract(o)),
r(a.add(o))),"square"===e&&(a=a.add(o.rotate(0===s.getParameter()?-90:90))),r(a.add(o)),
r(a.subtract(o))},getHandleBounds:function(t,e,n,r,i,a){for(var s=new Array(6),o=1/0,l=-o,u=o,c=l,d=0,h=t.length;h>d;d++){
var v=t[d];v._transformCoordinates(r,s,!1);for(var m=0;6>m;m+=2){var b=0===m?a:i,g=b?b[0]:0,p=b?b[1]:0,y=s[m],_=s[m+1],x=y-g,w=y+g,S=_-p,C=_+p;
o>x&&(o=x),w>l&&(l=w),u>S&&(u=S),C>c&&(c=C)}}return new f(o,u,l-o,c-u)},getRoughBounds:function(t,e,n,r){
var i=n.hasStroke()?n.getStrokeWidth()/2:0,a=i;return i>0&&("miter"===n.getStrokeJoin()&&(a=i*n.getMiterLimit()),
"square"===n.getStrokeCap()&&(a=Math.max(a,i*Math.sqrt(2)))),j.getHandleBounds(t,e,n,r,j._getPenPadding(i,r),j._getPenPadding(a,r));
}}});j.inject({statics:new function(){function t(t,e,r){var i=n.getNamed(r),a=new j(i&&i.insert===!1&&y.NO_INSERT);
return a._add(t),a._closed=e,a.set(i)}function e(e,n,r){for(var a=new Array(4),s=0;4>s;s++){
var o=i[s];a[s]=new E(o._point.multiply(n).add(e),o._handleIn.multiply(n),o._handleOut.multiply(n));
}return t(a,!0,r)}var r=.5522847498307936,i=[new E([-1,0],[0,r],[0,-r]),new E([0,-1],[-r,0],[r,0]),new E([1,0],[0,-r],[0,r]),new E([0,1],[r,0],[-r,0])];
return{Line:function(){return t([new E(u.readNamed(arguments,"from")),new E(u.readNamed(arguments,"to"))],!1,arguments);
},Circle:function(){var t=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"radius");
return e(t,new d(r),arguments)},Rectangle:function(){var e,n=f.readNamed(arguments,"rectangle"),i=d.readNamed(arguments,"radius",0,{
readNull:!0}),a=n.getBottomLeft(!0),s=n.getTopLeft(!0),o=n.getTopRight(!0),l=n.getBottomRight(!0);
if(!i||i.isZero())e=[new E(a),new E(s),new E(o),new E(l)];else{i=d.min(i,n.getSize(!0).divide(2));
var u=i.width,c=i.height,h=u*r,v=c*r;e=[new E(a.add(u,0),null,[-h,0]),new E(a.subtract(0,c),[0,v]),new E(s.add(0,c),null,[0,-v]),new E(s.add(u,0),[-h,0],null),new E(o.subtract(u,0),null,[h,0]),new E(o.add(0,c),[0,-v],null),new E(l.subtract(0,c),null,[0,v]),new E(l.subtract(u,0),[h,0])];
}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=w._readEllipse(arguments);
return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=u.readNamed(arguments,"from"),e=u.readNamed(arguments,"through"),r=u.readNamed(arguments,"to"),i=n.getNamed(arguments),a=new j(i&&i.insert===!1&&y.NO_INSERT);
return a.moveTo(t),a.arcTo(e,r),a.set(i)},RegularPolygon:function(){for(var e=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"sides"),i=n.readNamed(arguments,"radius"),a=360/r,s=r%3===0,o=new u(0,s?-i:i),l=s?-1:.5,c=new Array(r),d=0;r>d;d++)c[d]=new E(e.add(o.rotate((d+l)*a)));
return t(c,!0,arguments)},Star:function(){for(var e=u.readNamed(arguments,"center"),r=2*n.readNamed(arguments,"points"),i=n.readNamed(arguments,"radius1"),a=n.readNamed(arguments,"radius2"),s=360/r,o=new u(0,-1),l=new Array(r),c=0;r>c;c++)l[c]=new E(e.add(o.rotate(s*c).multiply(c%2?a:i)));
return t(l,!0,arguments)}}}});var R=M.extend({_class:"CompoundPath",_serializeFields:{
children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments));
},insertChildren:function mt(t,n,r){for(var i=n.length-1;i>=0;i--){var a=n[i];a instanceof R&&(n.splice.apply(n,[i,1].concat(a.removeChildren())),
a.remove())}n=mt.base.call(this,t,n,r,j);for(var i=0,s=!r&&n&&n.length;s>i;i++){var a=n[i];
a._clockwise===e&&a.setClockwise(0===a._index)}return n},reverse:function(){for(var t=this._children,e=0,n=t.length;n>e;e++)t[e].reverse();
},reduce:function bt(t){for(var e=this._children,n=e.length-1;n>=0;n--){var r=e[n].reduce(t);
r.isEmpty()&&r.remove()}if(0===e.length){var r=new j(y.NO_INSERT);return r.copyAttributes(this),
r.insertAbove(this),this.remove(),r}return bt.base.call(this)},smooth:function(t){
for(var e=this._children,n=0,r=e.length;r>n;n++)e[n].smooth(t)},isClockwise:function(){
var t=this.getFirstChild();return t&&t.isClockwise()},setClockwise:function(t){this.isClockwise()!==!!t&&this.reverse();
},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment();
},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment();
},getCurves:function(){for(var t=this._children,e=[],n=0,r=t.length;r>n;n++)e.push.apply(e,t[n].getCurves());
return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve();
},getLastCurve:function(){var t=this.getLastChild();return t&&t.getFirstCurve()},
getArea:function(){for(var t=this._children,e=0,n=0,r=t.length;r>n;n++)e+=t[n].getArea();
return e}},{beans:!0,getPathData:function(t,e){for(var n=this._children,r=[],i=0,a=n.length;a>i;i++){
var s=n[i],o=s._matrix;r.push(s.getPathData(t&&!o.isIdentity()?t.chain(o):t,e))}return r.join(" ");
}},{_getChildHitTestOptions:function(t){return t["class"]===j||"path"===t.type?t:new n(t,{
fill:!1})},_draw:function(t,e,n){var r=this._children;if(0!==r.length){e=e.extend({
dontStart:!0,dontFinish:!0}),t.beginPath();for(var i=0,a=r.length;a>i;i++)r[i].draw(t,e,n);
if(!e.clip){this._setStyles(t);var s=this._style;s.hasFill()&&(t.fill(s.getFillRule()),
t.shadowBlur=0),s.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var r=this._children,i=0,a=r.length;a>i;i++){
var s=r[i],o=s._matrix;n[s._id]||s._drawSelected(t,o.isIdentity()?e:e.chain(o))}}
},new function(){function t(t,e){var n=t._children;if(e&&0===n.length)throw new Error("Use a moveTo() command first");
return n[n.length-1]}var e={moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new j(y.NO_INSERT);
n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),r=u.read(arguments);
this.moveTo(n?r.add(n._point):r)},closePath:function(e){t(this,!0).closePath(e)}};
return n.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(n){
e[n]=function(){var e=t(this,!0);e[n].apply(e,arguments)}}),e});M.inject(new function(){
function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings():n;
}function e(t,e,n){return t.insertAbove(n&&e.isSibling(n)&&e.getIndex()<n.getIndex()?n:e),
t.copyAttributes(e,!0),t}function r(t,e,n){var r=new t(y.NO_INSERT);return r.addChildren(e,!0),
n&&(r=r.reduce({simplify:!0})),r}function i(n,i,s){function o(t){for(var e=0,n=t.length;n>e;e++){
var r=t[e];b.push.apply(b,r._segments),g.push.apply(g,r._getMonoCurves())}}var u=f[s];
if(u[s]=!0,!n._children&&!n._closed)return a(n,i,u);var c=t(n,!0),v=i&&n!==i&&t(i,!0);
v&&(u.subtract||u.exclude)^v.isClockwise()!==c.isClockwise()&&v.reverse();var m=l(L.expand(c.getCrossings(v))),b=[],g=[],p=!0,_=!0;
o(c._children||[c]),v&&o(v._children||[v]);for(var x=0,w=m.length;w>x;x++)d(m[x]._segment,c,v,g,u);
for(var x=0,w=b.length;w>x;x++){var S=b[x],C=S._intersection;null==S._winding&&d(S,c,v,g,u),
C&&C._overlap||(p=!1,u[S._winding]&&(_=!1))}return e(p?(u.unite||u.intersect)&&n.getArea()?n.clone(!1):new j(y.NO_INSERT):r(R,h(b,u,_),!p),n,i);
}function a(n,i,a){function s(t){return l.contains(t.getPointAt(t.getLength()/2))^c?(d.unshift(t),
!0):void 0}if(!i||!i._children&&!i._closed||!a.subtract&&!a.intersect)return null;
for(var o=t(n,!1),l=t(i,!1),u=o.getCrossings(l),c=a.subtract,d=[],h=u.length-1;h>=0;h--){
var f=u[h].split();f&&(s(f)&&f.getFirstSegment().setHandleIn(0,0),o.getLastSegment().setHandleOut(0,0));
}return s(o),e(r(_,d),n,i)}function s(t,e){for(var n=t;n;){if(n===e)return;n=n._prev;
}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._prev;)e=e._prev;t._next=e,
e._prev=t}}function l(t,e){for(var n,r,i=e&&[],a=4e-7,o=1-a,l=!1,u=[],c=t.length-1;c>=0;c--){
var d=t[c];if(e){if(!e(d))continue;i.unshift(d)}var h=d._curve,f=d._parameter,v=f,m=void 0;
if(h!==n?l=!h.hasHandles():r>0&&(f/=r),a>f)m=h._segment1;else if(f>o)m=h._segment2;else{
var b=h.divide(f,!0,!0);l&&u.push(h,b),m=b._segment1}d._setSegment(m);var g=m._intersection,p=d._intersection;
if(g){s(g,p);for(var y=g;y;)s(y._intersection,g),y=y._next}else m._intersection=p;
n=h,r=v}for(var c=0,_=u.length;_>c;c++)u[c].clearHandles();return i||t}function c(t,e,n){
var r=2e-7,i=t.x,a=t.y,s=0,o=0,l=e.length,d=[],h=Math.abs;if(n){for(var f=-(1/0),v=1/0,m=a-r,b=a+r,g=0;l>g;g++)for(var p=e[g].values,y=T.solveCubic(p,0,i,d,0,1),_=y-1;_>=0;_--){
var x=T.getPoint(p,d[_]).y;m>x&&x>f?f=x:x>b&&v>x&&(v=x)}f=(f+a)/2,v=(v+a)/2,f>-(1/0)&&(s=c(new u(i,f),e)),
1/0>v&&(o=c(new u(i,v),e))}else for(var w,S=i-r,C=i+r,k=0;l>k;){w=k;var E=e[w],A=E.last,L=A.winding,M=A.values[6];
k=w+E.length;for(var g=w;k>g;g++){var E=e[g],j=E.winding,p=E.values,R=p[1],O=p[7];
if(j&&(a>=R&&O>=a||a>=O&&R>=a)){var P=a===R?p[0]:a===O?p[6]:1===T.solveCubic(p,1,a,d,0,1)?T.getPoint(p,d[0]).x:null;
if(null!=P){var I=j===-L;(a!==R||I||0>(P-i)*(M-i))&&(S>P?s+=j:P>C?o+=j:a===R&&I&&(++s,
++o))}L=j,M=p[6]}}}return Math.max(h(s),h(o))}function d(t,e,n,r,i){var a=[],s=t,o=0,l=0;
do{var u=t.getCurve(),d=u.getLength();a.push({segment:t,curve:u,length:d}),o+=d,t=t.getNext();
}while(t&&!t._intersection&&t!==s);for(var h=0;3>h;h++)for(var d=o*(h+1)/4,f=0,v=a.length;v>f;f++){
var m=a[f],b=m.length;if(b>=d){var u=m.curve,g=u._path,p=g._parent,y=u.getParameterAt(d),_=u.getPointAt(y,!0),x=Math.abs(u.getTangentAt(y,!0).y)<1e-7;
p instanceof R&&(g=p),i.subtract&&n&&(g===e&&n._getWinding(_,x)||g===n&&!e._getWinding(_,x))||(l+=c(_,r,x));
break}d-=b}for(var w=Math.round(l/3),f=a.length-1;f>=0;f--)a[f].segment._winding=w;
}function h(t,e,n){function r(t){return!(t._visited||e&&!e[t._winding])}function i(t){
return t===s||t===l}function a(t,n){if(!t._next)return t;for(;t;){var a=t._segment,s=a.getNext(),o=s._intersection;
if(i(a)||i(s)||!a._visited&&!s._visited&&(!e||(!n||r(a))&&(!(n&&o&&o._overlap)&&r(s)||!n&&o&&r(o._segment))))return t;
t=t._next}return null}for(var s,l,u=[],c=0,d=t.length;d>c;c++){var h=null,f=!1,v=t[c],m=v._intersection,b=void 0;
if(!(!r(v)||!n&&m&&v._winding&&m._overlap)){for(s=l=null;;){b=h&&v._handleIn,m=m&&(a(m,!0)||a(m,!1))||m;
var g=m&&m._segment;if(i(v)?f=!0:g&&(i(g)?(f=!0,v=g):r(g)&&(e&&e.intersect&&m._overlap&&(v._visited=!0),
v=g)),f||v._visited){v._visited=!0;break}if(n&&!r(v))break;h||(h=new j(y.NO_INSERT),
s=v,l=g),h.add(new E(v._point,b,v._handleOut)),v._visited=!0,v=v.getNext(),m=v._intersection;
}if(f)h.firstSegment.setHandleIn(b),h.setClosed(!0);else if(h){var p=h.getLength();
p>=2e-7&&console.error("Boolean operation resulted in open path","segments =",h._segments.length,"length =",p),
h=null}h&&(h._segments.length>8||!o.isZero(h.getArea()))&&(u.push(h),h=null)}}return u;
}var f={unite:{0:!0,1:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0}};return{
_getWinding:function(t,e){return c(t,this._getMonoCurves(),e)},unite:function(t){
return i(this,t,"unite")},intersect:function(t){return i(this,t,"intersect")},subtract:function(t){
return i(this,t,"subtract")},exclude:function(t){return i(this,t,"exclude")},divide:function(t){
return e(r(_,[this.subtract(t),this.intersect(t)],!0),this,t)},resolveCrossings:function(){
function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,r=e||[this],i=!1,a=!1,s=this.getIntersections(null,function(t){
return t._overlap&&(i=!0)||t.isCrossing()&&(a=!0)});if(s=L.expand(s),i)for(var o=l(s,function(t){
return t._overlap}),u=o.length-1;u>=0;u--){var c=o[u]._segment,d=c.getPrevious(),f=c.getNext();
if(c._path&&t(d)&&t(f)){c.remove(),d._handleOut.set(0,0),f._handleIn.set(0,0);var v=d.getCurve();
v.isStraight()&&0===v.getLength()&&d.remove()}}a&&(l(s,i&&function(t){var e=t.getCurve(),n=t._intersection._curve,r=t._segment;
return e&&n&&e._path&&n._path?!0:void(r&&(r._intersection=null))}),r=h(n.each(r,function(t){
this.push.apply(this,t._segments)},[])));var m,b=r.length;if(b>1){r=r.slice().sort(function(t,e){
return e.getBounds().getArea()-t.getBounds().getArea()});for(var g=r[0],p=[g],_={},x="nonzero"===this.getFillRule(),w=x&&n.each(r,function(t){
this.push(t.isClockwise()?1:-1)},[]),u=1;b>u;u++){for(var S=r[u],C=S.getInteriorPoint(),k=!1,E=null,A=!1,T=u-1;T>=0&&!E;T--)if(r[T].contains(C)){
if(x&&!k&&(w[u]+=w[T],w[u]&&w[T])){A=_[u]=!0;break}k=!0,E=!_[T]&&r[T]}A||(S.setClockwise(E?!E.isClockwise():g.isClockwise()),
p.push(S))}r=p,b=p.length}return b>1&&e?(r!==e&&this.setChildren(r,!0),m=this):1!==b||e||(r[0]!==this&&this.setSegments(r[0].removeSegments()),
m=this),m||(m=new R(y.NO_INSERT),m.addChildren(r,!0),m=m.reduce(),m.copyAttributes(this),
this.replaceWith(m)),m}}}),j.inject({_getMonoCurves:function(){function t(t){var e=t[1],i=t[7],a=Math.abs((e-i)/(t[0]-t[6]))<2e-7?0:e>i?-1:1,s={
values:t,winding:a};r.push(s),a&&(n=s)}function e(e){if(0!==T.getLength(e)){var n=e[1],r=e[3],i=e[5],a=e[7];
if(T.isStraight(e)||n>=r==r>=i&&r>=i==i>=a)t(e);else{var s=3*(r-i)-n+a,l=2*(n+i)-4*r,u=r-n,c=4e-7,d=1-c,h=[],f=o.solveQuadratic(s,l,u,h,c,d);
if(0===f)t(e);else{h.sort();var v=h[0],m=T.subdivide(e,v);t(m[0]),f>1&&(v=(h[1]-v)/(1-v),
m=T.subdivide(m[1],v),t(m[0])),t(m[1])}}}}var n,r=this._monoCurves;if(!r){r=this._monoCurves=[];
for(var i=this.getCurves(),a=this._segments,s=0,l=i.length;l>s;s++)e(i[s].getValues());
if(!this._closed&&a.length>1){var u=a[a.length-1]._point,c=a[0]._point,d=u._x,h=u._y,f=c._x,v=c._y;
e([d,h,d,h,f,v,f,v])}if(r.length>0){var m=r[0];m.length=r.length,m.last=n}}return r;
},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){
for(var n=this._getMonoCurves(),r=[],i=e.y,a=[],s=0,o=n.length;o>s;s++){var l=n[s].values;
if(1===n[s].winding&&i>=l[1]&&i<=l[7]||i>=l[7]&&i<=l[1])for(var u=T.solveCubic(l,1,i,r,0,1),c=u-1;c>=0;c--)a.push(T.getPoint(l,r[c]).x);
if(a.length>1)break}e.x=(a[0]+a[1])/2}return e}}),R.inject({_getMonoCurves:function(){
for(var t=this._children,e=[],n=0,r=t.length;r>n;n++)e.push.apply(e,t[n]._getMonoCurves());
return e}});var O=n.extend({_class:"PathIterator",initialize:function(t,e,n,r){function i(t,e){
var n=T.getValues(t,e,r);o.push(n),a(n,t._index,0,1)}function a(t,e,r,i){if(i-r>c&&!T.isFlatEnough(t,n||.25)){
var s=T.subdivide(t,.5),o=(r+i)/2;a(s[0],e,r,o),a(s[1],e,o,i)}else{var d=t[6]-t[0],h=t[7]-t[1],f=Math.sqrt(d*d+h*h);
f>1e-6&&(u+=f,l.push({offset:u,value:i,index:e}))}}for(var s,o=[],l=[],u=0,c=1/(e||32),d=t._segments,h=d[0],f=1,v=d.length;v>f;f++)s=d[f],
i(h,s),h=s;t._closed&&i(s,d[0]),this.curves=o,this.parts=l,this.length=u,this.index=0;
},getParameterAt:function(t){for(var e,n=this.index;e=n,!(0===n||this.parts[--n].offset<t););
for(var r=this.parts.length;r>e;e++){var i=this.parts[e];if(i.offset>=t){this.index=e;
var a=this.parts[e-1],s=a&&a.index==i.index?a.value:0,o=a?a.offset:0;return{value:s+(i.value-s)*(t-o)/(i.offset-o),
index:i.index}}}var i=this.parts[this.parts.length-1];return{value:1,index:i.index
}},drawPart:function(t,e,n){e=this.getParameterAt(e),n=this.getParameterAt(n);for(var r=e.index;r<=n.index;r++){
var i=T.getPart(this.curves[r],r==e.index?e.value:0,r==n.index?n.value:1);r==e.index&&t.moveTo(i[0],i[1]),
t.bezierCurveTo.apply(t,i.slice(2))}}},n.each(T.evaluateMethods,function(t){this[t+"At"]=function(e,n){
var r=this.getParameterAt(e);return T[t](this.curves[r.index],r.value,n)}},{})),P=n.extend({
initialize:function(t,e){for(var n,r=this.points=[],i=t._segments,a=0,s=i.length;s>a;a++){
var o=i[a].point.clone();n&&n.equals(o)||(r.push(o),n=o)}t._closed&&(this.closed=!0,
r.unshift(r[r.length-1]),r.push(r[1])),this.error=e},fit:function(){var t=this.points,e=t.length,n=this.segments=e>0?[new E(t[0])]:[];
return e>1&&this.fitCubic(0,e-1,t[1].subtract(t[0]).normalize(),t[e-2].subtract(t[e-1]).normalize()),
this.closed&&(n.shift(),n.pop()),n},fitCubic:function(t,e,n,r){if(e-t==1){var i=this.points[t],a=this.points[e],s=i.getDistance(a)/3;
return void this.addCurve([i,i.add(n.normalize(s)),a.add(r.normalize(s)),a])}for(var o,l=this.chordLengthParameterize(t,e),u=Math.max(this.error,this.error*this.error),c=!0,d=0;4>=d;d++){
var h=this.generateBezier(t,e,l,n,r),f=this.findMaxError(t,e,h,l);if(f.error<this.error&&c)return void this.addCurve(h);
if(o=f.index,f.error>=u)break;c=this.reparameterize(t,e,l,h),u=f.error}var v=this.points[o-1].subtract(this.points[o]),m=this.points[o].subtract(this.points[o+1]),b=v.add(m).divide(2).normalize();
this.fitCubic(t,o,n,b),this.fitCubic(o,e,b.negate(),r)},addCurve:function(t){var e=this.segments[this.segments.length-1];
e.setHandleOut(t[1].subtract(t[0])),this.segments.push(new E(t[3],t[2].subtract(t[3])));
},generateBezier:function(t,e,n,r,i){for(var a=1e-12,s=this.points[t],o=this.points[e],l=[[0,0],[0,0]],u=[0,0],c=0,d=e-t+1;d>c;c++){
var h=n[c],f=1-h,v=3*h*f,m=f*f*f,b=v*f,g=v*h,p=h*h*h,y=r.normalize(b),_=i.normalize(g),x=this.points[t+c].subtract(s.multiply(m+b)).subtract(o.multiply(g+p));
l[0][0]+=y.dot(y),l[0][1]+=y.dot(_),l[1][0]=l[0][1],l[1][1]+=_.dot(_),u[0]+=y.dot(x),
u[1]+=_.dot(x)}var w,S,C=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(Math.abs(C)>a){var k=l[0][0]*u[1]-l[1][0]*u[0],E=u[0]*l[1][1]-u[1]*l[0][1];
w=E/C,S=k/C}else{var A=l[0][0]+l[0][1],T=l[1][0]+l[1][1];w=S=Math.abs(A)>a?u[0]/A:Math.abs(T)>a?u[1]/T:0;
}var L,M,j=o.getDistance(s),R=a*j;if(R>w||R>S)w=S=j/3;else{var O=o.subtract(s);L=r.normalize(w),
M=i.normalize(S),L.dot(O)-M.dot(O)>j*j&&(w=S=j/3,L=M=null)}return[s,s.add(L||r.normalize(w)),o.add(M||i.normalize(S)),o];
},reparameterize:function(t,e,n,r){for(var i=t;e>=i;i++)n[i-t]=this.findRoot(r,this.points[i],n[i-t]);
for(var i=1,a=n.length;a>i;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(t,e,n){
for(var r=[],i=[],a=0;2>=a;a++)r[a]=t[a+1].subtract(t[a]).multiply(3);for(var a=0;1>=a;a++)i[a]=r[a+1].subtract(r[a]).multiply(2);
var s=this.evaluate(3,t,n),o=this.evaluate(2,r,n),l=this.evaluate(1,i,n),u=s.subtract(e),c=o.dot(o)+u.dot(l);
return Math.abs(c)<1e-6?n:n-u.dot(o)/c},evaluate:function(t,e,n){for(var r=e.slice(),i=1;t>=i;i++)for(var a=0;t-i>=a;a++)r[a]=r[a].multiply(1-n).add(r[a+1].multiply(n));
return r[0]},chordLengthParameterize:function(t,e){for(var n=[0],r=t+1;e>=r;r++)n[r-t]=n[r-t-1]+this.points[r].getDistance(this.points[r-1]);
for(var r=1,i=e-t;i>=r;r++)n[r]/=n[i];return n},findMaxError:function(t,e,n,r){for(var i=Math.floor((e-t+1)/2),a=0,s=t+1;e>s;s++){
var o=this.evaluate(3,n,r[s-t]),l=o.subtract(this.points[s]),u=l.x*l.x+l.y*l.y;u>=a&&(a=u,
i=s)}return{error:a,index:i}}}),I=y.extend({_class:"TextItem",_boundsSelected:!0,
_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",
initialize:function(t){this._content="",this._lines=[];var r=t&&n.isPlainObject(t)&&t.x===e&&t.y===e;
this._initialize(r&&t,!r&&u.read(arguments))},_equals:function(t){return this._content===t._content;
},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content;
},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),
this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",
setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"
}),D=I.extend({_class:"PointText",initialize:function(){I.apply(this,arguments)},
getPoint:function(){var t=this._matrix.getTranslation();return new c(t.x,t.y,this,"setPoint");
},setPoint:function(){var t=u.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()));
},_draw:function(t){if(this._content){this._setStyles(t);var e=this._lines,n=this._style,r=n.hasFill(),i=n.hasStroke(),a=n.getLeading(),s=t.shadowBlur;
t.font=n.getFontStyle(),t.textAlign=n.getJustification();for(var o=0,l=e.length;l>o;o++){
t.shadowBlur=s;var u=e[o];r&&(t.fillText(u,0,0),t.shadowBlur=0),i&&t.strokeText(u,0,0),
t.translate(0,a)}}},_getBounds:function(t,e){var n=this._style,r=this._lines,i=r.length,a=n.getJustification(),s=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),r),l=0;
"left"!==a&&(l-=o/("center"===a?2:1));var u=new f(l,i?-.75*s:0,o,i*s);return e?e._transformBounds(u,u):u;
}}),N=n.extend(new function(){function t(t){var n,r=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);
if(r){n=[0,0,0];for(var i=0;3>i;i++){var s=r[i+1];n[i]=parseInt(1==s.length?s+s:s,16)/255;
}}else if(r=t.match(/^rgba?\((.*)\)$/)){n=r[1].split(",");for(var i=0,o=n.length;o>i;i++){
var s=+n[i];n[i]=3>i?s/255:s}}else{var l=a[t];if(!l){e||(e=J.getContext(1,1),e.globalCompositeOperation="copy"),
e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var u=e.getImageData(0,0,1,1).data;
l=a[t]=[u[0]/255,u[1]/255,u[2]/255]}n=l.slice()}return n}var e,r={gray:["gray"],rgb:["red","green","blue"],
hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]
},i={},a={},o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(t,e,n){
var r=Math.max(t,e,n),i=Math.min(t,e,n),a=r-i,s=0===a?0:60*(r==t?(e-n)/a+(n>e?6:0):r==e?(n-t)/a+2:(t-e)/a+4);
return[s,0===r?0:a/r,r]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var r=Math.floor(t),i=t-r,r=o[r],a=[n,n*(1-e),n*(1-e*i),n*(1-e*(1-i))];
return[a[r[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),a=r-i,s=0===a,o=s?0:60*(r==t?(e-n)/a+(n>e?6:0):r==e?(n-t)/a+2:(t-e)/a+4),l=(r+i)/2,u=s?0:.5>l?a/(r+i):a/(2-r-i);
return[o,u,l]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var r=[t+1/3,t,t-1/3],i=.5>n?n*(1+e):n+e-n*e,a=2*n-i,s=[],o=0;3>o;o++){
var l=r[o];0>l&&(l+=1),l>1&&(l-=1),s[o]=1>6*l?a+6*(i-a)*l:1>2*l?i:2>3*l?a+(i-a)*(2/3-l)*6:a;
}return s},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){
return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t];
},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return n.each(r,function(t,e){
i[e]=[],n.each(t,function(t,a){var s=n.capitalize(t),o=/^(hue|saturation)$/.test(t),l=i[e][a]="gradient"===t?function(t){
var e=this._components[0];return t=V.read(Array.isArray(t)?t:arguments,0,{readNull:!0
}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){
return u.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t;
};this["get"+s]=function(){return this._type===e||o&&/^hs[bl]$/.test(this._type)?this._components[a]:this._convert(e)[a];
},this["set"+s]=function(t){this._type===e||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),
this._properties=r[e],this._type=e),this._components[a]=l.call(this,t),this._changed();
}},this)},{_class:"Color",_readIndex:!0,initialize:function d(e){var n,a,s,o,u=Array.prototype.slice,c=arguments,h=0;
Array.isArray(e)&&(c=e,e=c[0]);var f=null!=e&&("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e));
if("string"===f&&e in r&&(n=e,e=c[1],Array.isArray(e)?(a=e,s=c[2]):(this.__read&&(h=1),
c=u.call(c,1),f="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))),
!a){if(o="number"===f?c:"object"===f&&null!=e.length?e:null){n||(n=o.length>=3?"rgb":"gray");
var v=r[n].length;s=o[v],this.__read&&(h+=o===arguments?v+(null!=s?1:0):1),o.length>v&&(o=u.call(o,0,v));
}else if("string"===f)n="rgb",a=t(e),4===a.length&&(s=a[3],a.length--);else if("object"===f)if(e.constructor===d){
if(n=e._type,a=e._components.slice(),s=e._alpha,"gradient"===n)for(var m=1,b=a.length;b>m;m++){
var g=a[m];g&&(a[m]=g.clone())}}else if(e.constructor===V)n="gradient",o=c;else{n="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";
var p=r[n],y=i[n];this._components=a=[];for(var m=0,b=p.length;b>m;m++){var _=e[p[m]];
null==_&&0===m&&"gradient"===n&&"stops"in e&&(_={stops:e.stops,radial:e.radial}),
_=y[m].call(this,_),null!=_&&(a[m]=_)}s=e.alpha}this.__read&&n&&(h=1)}if(this._type=n||"rgb",
this._id=l.get(d),!a){this._components=a=[];for(var y=i[this._type],m=0,b=y.length;b>m;m++){
var _=y[m].call(this,o&&o[m]);null!=_&&(a[m]=_)}}this._components=a,this._properties=r[this._type],
this._alpha=s,this.__read&&(this.__read=h)},_serialize:function(t,e){var r=this.getComponents();
return n.serialize(/^(gray|rgb)$/.test(this._type)?r:[this._type].concat(r),t,!0,e);
},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65);
},_convert:function(t){var e;return this._type===t?this._components.slice():(e=c[this._type+"-"+t])?e.apply(this,this._components):c["rgb-"+t].apply(this,c[this._type+"-rgb"].apply(this,this._components));
},convert:function(t){return new N(t,this._convert(t),this._alpha)},getType:function(){
return this._type},setType:function(t){this._components=this._convert(t),this._properties=r[t],
this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),
t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){
this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){
return null!=this._alpha},equals:function(t){var e=n.isPlainValue(t,!0)?N.read(arguments):t;
return e===this||e&&this._class===e._class&&this._type===e._type&&this._alpha===e._alpha&&n.equals(this._components,e._components)||!1;
},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,r=s.instance,i=0,a=t.length;a>i;i++){
var o=this._components[i];null!=o&&e.push(t[i]+": "+(n?o:r.number(o)))}return null!=this._alpha&&e.push("alpha: "+r.number(this._alpha)),
"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(0>t?0:t>1?1:t));
}var n=this._convert("rgb"),r=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],
1>r&&n.push(0>r?0:r),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")";
},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();
var e,n=this._components,r=n[0],i=r._stops,a=n[1],s=n[2];if(r._radial){var o=s.getDistance(a),l=n[3];
if(l){var u=l.subtract(a);u.getLength()>o&&(l=a.add(u.normalize(o-.1)))}var c=l||a;
e=t.createRadialGradient(c.x,c.y,0,a.x,a.y,o)}else e=t.createLinearGradient(a.x,a.y,s.x,s.y);
for(var d=0,h=i.length;h>d;d++){var f=i[d];e.addColorStop(f._rampPoint,f._color.toCanvasStyle());
}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,r=e.length;r>n;n++){
var i=e[n];t._transformPoint(i,i,!0)}this._changed()}},statics:{_types:r,random:function(){
var t=Math.random;return new N(t(),t(),t())}}})},new function(){var t={add:function(t,e){
return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},
divide:function(t,e){return t/e}};return n.each(t,function(t,e){this[e]=function(e){
e=N.read(arguments);for(var n=this._type,r=this._components,i=e._convert(n),a=0,s=r.length;s>a;a++)i[a]=t(r[a],i[a]);
return new N(n,i,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),V=n.extend({
_class:"Gradient",initialize:function(t,e){this._id=l.get(),t&&this._set(t)&&(t=e=null),
this._stops||this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1);
},_serialize:function(t,e){return e.add(this,function(){return n.serialize([this._stops,this._radial],t,!0,e);
})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;e>t;t++)this._owners[t]._changed();
},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){
var n=this._owners?this._owners.indexOf(t):-1;-1!=n&&(this._owners.splice(n,1),0===this._owners.length&&(this._owners=e));
},clone:function(){for(var t=[],e=0,n=this._stops.length;n>e;e++)t[e]=this._stops[e].clone();
return new V(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){
if(this.stops)for(var n=0,r=this._stops.length;r>n;n++)this._stops[n]._owner=e;if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");
this._stops=B.readAll(t,0,{clone:!0});for(var n=0,r=this._stops.length;r>n;n++){var i=this._stops[n];
i._owner=this,i._defaultRamp&&i.setRampPoint(n/(r-1))}this._changed()},getRadial:function(){
return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){
if(t===this)return!0;if(t&&this._class===t._class&&this._stops.length===t._stops.length){
for(var e=0,n=this._stops.length;n>e;e++)if(!this._stops[e].equals(t._stops[e]))return!1;
return!0}return!1}}),B=n.extend({_class:"GradientStop",initialize:function(t,n){if(t){
var r,i;n===e&&Array.isArray(t)?(r=t[0],i=t[1]):t.color?(r=t.color,i=t.rampPoint):(r=t,
i=n),this.setColor(r),this.setRampPoint(i)}},clone:function(){return new B(this._color.clone(),this._rampPoint);
},_serialize:function(t,e){return n.serialize([this._color,this._rampPoint],t,!0,e);
},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){
return this._rampPoint},setRampPoint:function(t){this._defaultRamp=null==t,this._rampPoint=t||0,
this._changed()},getColor:function(){return this._color},setColor:function(t){this._color=N.read(arguments),
this._color===t&&(this._color=t.clone()),this._color._owner=this,this._changed()},
equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._rampPoint==t._rampPoint||!1;
}}),U=n.extend(new function(){var t={fillColor:e,fillRule:"nonzero",strokeColor:e,
strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,
dashOffset:0,dashArray:[],shadowColor:e,shadowBlur:0,shadowOffset:new u,selectedColor:e,
fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,
justification:"left"},r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,
miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9
},i={beans:!0},a={_defaults:t,_textDefaults:new n(t,{fillColor:new N}),beans:!0};return n.each(t,function(t,s){
var o=/Color$/.test(s),l="shadowOffset"===s,c=n.capitalize(s),d=r[s],h="set"+c,f="get"+c;
a[h]=function(t){var n=this._owner,r=n&&n._children;if(r&&r.length>0&&!(n instanceof R))for(var i=0,a=r.length;a>i;i++)r[i]._style[h](t);else{
var l=this._values[s];l!==t&&(o&&(l&&(l._owner=e),t&&t.constructor===N&&(t._owner&&(t=t.clone()),
t._owner=n)),this._values[s]=t,n&&n._changed(d||65))}},a[f]=function(t){var r,i=this._owner,a=i&&i._children;
if(!a||0===a.length||t||i instanceof R){var r=this._values[s];if(r===e)r=this._defaults[s],
r&&r.clone&&(r=r.clone());else{var c=o?N:l?u:null;!c||r&&r.constructor===c||(this._values[s]=r=c.read([r],0,{
readNull:!0,clone:!0}),r&&o&&(r._owner=i))}return r}for(var d=0,h=a.length;h>d;d++){
var v=a[d]._style[f]();if(0===d)r=v;else if(!n.equals(r,v))return e}return r},i[f]=function(t){
return this._style[f](t)},i[h]=function(t){this._style[h](t)}}),n.each({Font:"FontFamily",
WindingRule:"FillRule"},function(t,e){var n="get"+e,r="set"+e;a[n]=i[n]="#get"+t,
a[r]=i[r]="#set"+t}),y.inject(i),a},{_class:"Style",initialize:function(e,n,r){this._values={},
this._owner=n,this._project=n&&n._project||r||t.project,n instanceof I&&(this._defaults=this._textDefaults),
e&&this.set(e)},set:function(t){var e=t instanceof U,n=e?t._values:t;if(n)for(var r in n)if(r in this._defaults){
var i=n[r];this[r]=i&&e&&i.clone?i.clone():i}},equals:function(t){return t===this||t&&this._class===t._class&&n.equals(this._values,t._values)||!1;
},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0;
},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){
return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily();
},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function gt(){var t=gt.base.call(this),e=this.getFontSize();
return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),z=new function(){
function t(t,e,n,r){for(var i=["","webkit","moz","Moz","ms","o"],a=e[0].toUpperCase()+e.substring(1),s=0;6>s;s++){
var o=i[s],l=o?o+a:e;if(l in t){if(!n)return t[l];t[l]=r;break}}}return{getStyles:function(t){
var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"");
},getBounds:function(t,e){var n,r=t.ownerDocument,i=r.body,a=r.documentElement;try{
n=t.getBoundingClientRect()}catch(s){n={left:0,top:0,width:0,height:0}}var o=n.left-(a.clientLeft||i.clientLeft||0),l=n.top-(a.clientTop||i.clientTop||0);
if(!e){var u=r.defaultView;o+=u.pageXOffset||a.scrollLeft||i.scrollLeft,l+=u.pageYOffset||a.scrollTop||i.scrollTop;
}return new f(o,l,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,r=e.documentElement;
return new f(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(t,e){
return z.getBounds(t,e).getPoint()},getSize:function(t){return z.getBounds(t,!0).getSize();
},isInvisible:function(t){return z.getSize(t).equals(new d(0,0))},isInView:function(t){
return!z.isInvisible(t)&&z.getViewportBounds(t).intersects(z.getBounds(t,!0))},isInserted:function(t){
return document.body.contains(t)},getPrefixed:function(e,n){return t(e,n)},setPrefixed:function(e,n,r){
if("object"===("undefined"==typeof n?"undefined":$traceurRuntime["typeof"](n)))for(var i in n)t(e,i,!0,n[i]);else t(e,n,!0,r);
}}},G={add:function(t,e){for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),a=0,s=i.length;s>a;a++)t.addEventListener(i[a],r,!1);
},remove:function(t,e){for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),a=0,s=i.length;s>a;a++)t.removeEventListener(i[a],r,!1);
},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;
return new u(e.pageX||e.clientX+document.documentElement.scrollLeft,e.pageY||e.clientY+document.documentElement.scrollTop);
},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){
return t.relatedTarget||t.toElement},getOffset:function(t,e){return G.getPoint(t).subtract(z.getOffset(e||G.getTarget(t)));
}};G.requestAnimationFrame=new function(){function t(){for(var e=a.length-1;e>=0;e--){
var o=a[e],l=o[0],u=o[1];(!u||("true"==i.getAttribute(u,"keepalive")||s)&&z.isInView(u))&&(a.splice(e,1),
l())}n&&(a.length?n(t):r=!1)}var e,n=z.getPrefixed(window,"requestAnimationFrame"),r=!1,a=[],s=!0;
return G.add(window,{focus:function(){s=!0},blur:function(){s=!1}}),function(i,s){
a.push([i,s]),n?r||(n(t),r=!0):e||(e=setInterval(t,1e3/60))}};var H=n.extend(r,{_class:"View",
initialize:function pt(t,e){function n(t){return e[t]||parseInt(e.getAttribute(t),10);
}function r(){var t=z.getSize(e);return t.isNaN()||t.isZero()?new d(n("width"),n("height")):t;
}this._project=t,this._scope=t._scope,this._element=e;var a;this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),
this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+pt._id++),
G.add(e,this._viewEvents);var s="none";if(z.setPrefixed(e.style,{userDrag:s,userSelect:s,
touchCallout:s,contentZooming:s,tapHighlightColor:"rgba(0,0,0,0)"}),i.hasAttribute(e,"resize")){
var o=this;G.add(window,this._windowEvents={resize:function(){o.setViewSize(r())}
})}if(this._setViewSize(a=r()),i.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){
this._stats=new Stats;var l=this._stats.domElement,u=l.style,c=z.getOffset(e);u.position="absolute",
u.left=c.x+"px",u.top=c.y+"px",document.body.appendChild(l)}pt._views.push(this),
pt._viewsById[this._id]=this,this._viewSize=a,(this._matrix=new m)._owner=this,this._zoom=1,
pt._focused||(pt._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={};
},remove:function(){if(!this._project)return!1;H._focused===this&&(H._focused=null),
H._views.splice(H._views.indexOf(this),1),delete H._viewsById[this._id];var t=this._project;
return t._view===this&&(t._view=null),G.remove(this._element,this._viewEvents),G.remove(window,this._windowEvents),
this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},
!0},_events:n.each(["onResize","onMouseDown","onMouseUp","onMouseMove","onMouseDrag","onMouseEnter","onMouseLeave"],function(t){
this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause();
}}}),_animate:!1,_time:0,_count:0,_requestFrame:function(){var t=this;G.requestAnimationFrame(function(){
t._requested=!1,t._animate&&(t._requestFrame(),t._handleFrame())},this._element),
this._requested=!0},_handleFrame:function(){t=this._scope;var e=Date.now()/1e3,r=this._before?e-this._before:0;
this._before=e,this._handlingFrame=!0,this.emit("frame",new n({delta:r,time:this._time+=r,
count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update();
},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0
},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],
0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){
for(var e in this._frameItems){var r=this._frameItems[e];r.item.emit("frame",new n(t,{
time:r.time+=t.delta,count:r.count++}))}},_update:function(){this._project._needsUpdate=!0,
this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(){
this._project._changed(2049),this._bounds=null},getElement:function(){return this._element;
},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio;
},getViewSize:function(){var t=this._viewSize;return new h(t.width,t.height,this,"setViewSize");
},setViewSize:function(){var t=d.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._viewSize.set(t.width,t.height),
this._setViewSize(t),this.emit("resize",{size:t,delta:e}),this._changed(),this.update());
},_setViewSize:function(t){var e=this._element;e.width=t.width,e.height=t.height},
getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new f(new u,this._viewSize))),
this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){
return this.getBounds().getCenter()},setCenter:function(){var t=u.read(arguments);
this.translate(this.getCenter().subtract(t))},getZoom:function(){return this._zoom;
},setZoom:function(t){this.transform((new m).scale(t/this._zoom,this.getCenter())),
this._zoom=t},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;
t.initialize.apply(t,arguments)},isVisible:function(){return z.isInView(this._element);
},isInserted:function(){return z.isInserted(this._element)}},n.each(["rotate","scale","shear","skew"],function(t){
var e="rotate"===t;this[t]=function(){var r=(e?n:u).read(arguments),i=u.read(arguments,0,{
readNull:!0});return this.transform((new m)[t](r,i||this.getCenter(!0)))}},{translate:function(){
var t=new m;return this.transform(t.translate.apply(t,arguments))},transform:function(t){
this._matrix.concatenate(t)},scrollBy:function(){this.translate(u.read(arguments).negate());
}}),{play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){
this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(u.read(arguments));
},viewToProject:function(){return this._matrix._inverseTransform(u.read(arguments));
},getEventPoint:function(t){return this.viewToProject(G.getOffset(t,this._element));
}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return"string"==typeof e&&(e=document.getElementById(e)),
new F(t,e)}}},new function(){function n(t){var e=G.getTarget(t);return e.getAttribute&&H._viewsById[e.getAttribute("id")];
}function r(){var t=H._focused;if(!t||!t.isVisible())for(var e=0,n=H._views.length;n>e;e++)if((t=H._views[e]).isVisible()){
H._focused=l=t;break}}function i(t,e,n){t._handleEvent("mousemove",e,n)}function a(t,e,n,r,i,a){
function s(t,e){if(t.responds(e)){if(o||(o=new Y(e,n,r,l,i?r.subtract(i):null)),t.emit(e,o)&&(E=!0,
o.stopped))return!0}else{var a=A[e];if(a)return s(t,a)}}for(var o,l=t;t&&t!==a;){
if(s(t,e))return!0;t=t._parent}return!1}function s(t,e,n,r,i,s){return E=!1,x&&a(x,n,r,i,s)||e&&e!==x&&!e.isDescendant(x)&&a(e,A[n]||n,r,i,s,x)||a(t,n,r,i,s);
}var o,l,u,c,d,h=!1,f=!1,v=window.navigator;v.pointerEnabled||v.msPointerEnabled?(u="pointerdown MSPointerDown",
c="pointermove MSPointerMove",d="pointerup pointercancel MSPointerUp MSPointerCancel"):(u="touchstart",
c="touchmove",d="touchend touchcancel","ontouchstart"in window&&v.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(u+=" mousedown",
c+=" mousemove",d+=" mouseup"));var m={},b={mouseout:function(t){var e=H._focused,n=G.getRelatedTarget(t);
if(e&&(!n||"HTML"===n.nodeName)){var r=G.getOffset(t,e._element),a=r.x,s=Math.abs,o=s(a),l=1<<25,u=o-l;
r.x=s(u)<o?u*(0>a?-1:1):a,i(e,t,e.viewToProject(r))}},scroll:r};m[u]=function(t){
var e=H._focused=n(t);h=!0,e._handleEvent("mousedown",t)},b[c]=function(t){var e=H._focused;
if(!f){var a=n(t);a?e!==a&&(e&&i(e,t),o||(o=e),e=H._focused=l=a):l&&l===e&&(o&&!o.isInserted()&&(o=null),
e=H._focused=o,o=null,r())}e&&i(e,t)},b[u]=function(){f=!0},b[d]=function(t){var e=H._focused;
e&&h&&e._handleEvent("mouseup",t),f=h=!1},G.add(document,b),G.add(window,{load:r});
var g,p,y,_,x,w,S,C,k,E=!1,A={doubleclick:"click",mousedrag:"mousemove"},T={mousedown:{
mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,
doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},L=!1;
return{_viewEvents:m,_handleEvent:function(n,r,i){function o(t){return d._itemEvents[t]||d.responds(t)||c&&c.responds(t);
}var l=this._itemEvents[n],u=t.project,c=this._scope.tool,d=this;"mousemove"===n&&h&&(n="mousedrag"),
u&&u.removeOn(n),i||(i=this.getEventPoint(r));var f=this.getBounds().contains(i),v=f&&l&&this._project.hitTest(i,{
tolerance:0,fill:!0,stroke:!0}),m=v&&v.item||e,b=!1,A=!1,T={};T[n.substr(5)]=!0;var M=T.move||T.drag,j=M&&n||"mousemove";
j&&(m!==_&&(_&&a(_,"mouseleave",r,i),m&&a(m,"mouseenter",r,i)),_=m,M&&L^f&&(a(this,f?"mouseenter":"mouseleave",r,i),
k=f?this:null,b=!0),(f||T.drag&&!p.equals(i))&&(A=s(this,m,j,r,i,p),b=!0),L=f),!M&&(b=T.down&&f||T.up&&g)&&(A=s(this,m,n,r,i,g),
T.down?(m&&(C=m===w&&Date.now()-S<300,y=w=m,x=!A&&m),g=p=i):T.up&&(!A&&m&&m===y&&(S=Date.now(),
a(m,C?"doubleclick":"click",r,i,g),C=!1),y=x=null),L=!1),p=i,b&&c&&(E=c._handleEvent(n,r,i,T)||E),
(E&&(!M||o("mousedrag"))||T.down&&o("mouseup"))&&r.preventDefault(),this.update();
},_countItemEvent:function(t,e){var n=this._itemEvents;for(var r in T)n[r]=(n[r]||0)+(T[r][t]||0)*e;
},statics:{updateFocus:r}}}),F=H.extend({_class:"CanvasView",initialize:function(t,e){
if(!(e instanceof HTMLCanvasElement)){var n=d.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));
e=J.getCanvas(n)}if(this._context=e.getContext("2d"),this._pixelRatio=1,!/^off|false$/.test(i.getAttribute(e,"hidpi"))){
var r=window.devicePixelRatio||1,a=z.getPrefixed(this._context,"backingStorePixelRatio")||1;
this._pixelRatio=r/a}H.call(this,t,e)},_setViewSize:function(t){var e=this._element,n=this._pixelRatio,r=t.width,a=t.height;
if(e.width=r*n,e.height=a*n,1!==n){if(!i.hasAttribute(e,"resize")){var s=e.style;s.width=r+"px",
s.height=a+"px"}this._context.scale(n,n)}},getPixelSize:function(e){var n,r=t.browser;
if(r&&r.firefox){var i=this._element.parentNode,a=document.createElement("div");a.style.fontSize=e,
i.appendChild(a),n=parseFloat(z.getStyles(a).fontSize),i.removeChild(a)}else{var s=this._context,o=s.font;
s.font=e+" serif",n=parseFloat(s.font),s.font=o}return n},getTextWidth:function(t,e){
var n=this._context,r=n.font,i=0;n.font=t;for(var a=0,s=e.length;s>a;a++)i=Math.max(i,n.measureText(e[a]).width);
return n.font=r,i},update:function(t){var e=this._project;if(!e||!t&&!e._needsUpdate)return!1;
var n=this._context,r=this._viewSize;return n.clearRect(0,0,r.width+1,r.height+1),
e.draw(n,this._matrix,this._pixelRatio),e._needsUpdate=!1,!0}}),q=n.extend({_class:"Event",
initialize:function(t){this.event=t},prevented:!1,stopped:!1,preventDefault:function(){
this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,
this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault();
},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return W.modifiers;
}}),$=q.extend({_class:"KeyEvent",initialize:function(t,e,n,r){q.call(this,r),this.type=t?"keydown":"keyup",
this.key=e,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }";
}}),W=new function(){function e(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,
s[e]||(e.length>1?n.hyphenate(e):e.toLowerCase())}function r(e,a,s,o){var d,h=e?"keydown":"keyup",f=H._focused,v=f&&f.isVisible()&&f._scope,m=v&&v.tool;
if(l[a]=e,e?u[a]=s:delete u[a],a.length>1&&(d=n.camelize(a))in c){c[d]=e;var b=t.browser;
if("meta"===d&&b&&b.mac)if(e)i={};else{for(var g in i)g in u&&r(!1,g,i[g],o);i=null;
}}else e&&i&&(i[a]=s);m&&m.responds(h)&&(t=v,m.emit(h,new $(e,a,s,o)),f&&f.update());
}var i,a,s={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",
Del:"delete",Win:"meta",Esc:"escape"},o={tab:"	",space:" ",enter:"\r"},l={},u={},c=new n({
shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){
return this.alt}},command:{get:function(){var e=t.browser;return e&&e.mac?this.meta:this.control;
}}});return G.add(document,{keydown:function(n){var i=e(n),s=t.browser;i.length>1||s&&s.chrome&&(n.altKey||s.mac&&n.metaKey||!s.mac&&n.ctrlKey)?r(!0,i,o[i]||(i.length>1?"":i),n):a=i;
},keypress:function(t){if(a){var n=e(t),i=t.charCode,s=i>=32?String.fromCharCode(i):n.length>1?"":n;
n!==a&&(n=s.toLowerCase()),r(!0,n,s,t),a=null}},keyup:function(t){var n=e(t);n in u&&r(!1,n,u[n],t);
}}),G.add(window,{blur:function(t){for(var e in u)r(!1,e,u[e],t)}}),{modifiers:c,
isDown:function(t){return!!l[t]}}},Y=q.extend({_class:"MouseEvent",initialize:function(t,e,n,r,i){
q.call(this,e),this.type=t,this.point=n,this.target=r,this.delta=i},toString:function(){
return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }";
}}),X=q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,
this.type=e,this.event=n},_choosePoint:function(t,e){return t?t:e?e.clone():null},
getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){
this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint);
},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint);
},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint;
},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta;
},setDelta:function(t){this._delta=t},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count;
},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t;
},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());
if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;
this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){
return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }";
}}),Z=a.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],
initialize:function(t){a.call(this),this._firstMove=!0,this._count=0,this._downCount=-1,
this._set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){
this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t);
},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){
this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t);
},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null;
},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleEvent:function(e,n,r,i){
function a(t,e,n){var a=h._point,s=r;if(t)h._count=0;else{if(s.equals(a))return!1;
if(null!=e||null!=n){var u=s.subtract(a),c=u.getLength();if((e||0)>c)return!1;n&&(s=a.add(u.normalize(Math.min(c,n))));
}h._count++}return l&&(h._point=s,h._lastPoint=o||i.drag?t&&o?s:a:h._downPoint||s),
i.down&&(h._downPoint=s,h._downCount++),!0}function s(t){l&&(d=h.emit(e,new X(h,e,n))||d,
h._firstMove=t)}t=this._scope;var o=i.move||i.drag&&!this.responds(e);o&&(e="mousemove");
var l=this.responds(e),u=this.minDistance,c=this.maxDistance,d=!1,h=this;if(i.down)a(l),
s(!1);else if(i.up)a(!1,null,c),s(!0);else if(l)for(;a(this._firstMove,u,c);)s(!1);
return d}}),K={request:function(t,n,r,i){i=i===e?!0:i;var a=window.ActiveXObject||XMLHttpRequest,s=new a("Microsoft.XMLHTTP");
return s.open(t.toUpperCase(),n,i),"overrideMimeType"in s&&s.overrideMimeType("text/plain"),
s.onreadystatechange=function(){if(4===s.readyState){var t=s.status;if(0!==t&&200!==t)throw new Error("Could not load "+n+" (Error "+t+")");
r.call(s,s.responseText)}},s.send(null)}},J={canvases:[],getCanvas:function(t,e){
var n,r=!0;"object"===("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))&&(e=t.height,
t=t.width),n=this.canvases.length?this.canvases.pop():document.createElement("canvas");
var i=n.getContext("2d");return n.width===t&&n.height===e?r&&i.clearRect(0,0,t+1,e+1):(n.width=t,
n.height=e),i.save(),n},getContext:function(t,e){return this.getCanvas(t,e).getContext("2d");
},release:function(t){var e=t.canvas?t.canvas:t;e.getContext("2d").restore(),this.canvases.push(e);
}},Q=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,r,i){
var a=i-t(e,n,r);f=e+a,v=n+a,m=r+a;var i=t(f,v,m),s=b(f,v,m),o=g(f,v,m);if(0>s){var l=i-s;
f=i+(f-i)*i/l,v=i+(v-i)*i/l,m=i+(m-i)*i/l}if(o>255){var u=255-i,c=o-i;f=i+(f-i)*u/c,
v=i+(v-i)*u/c,m=i+(m-i)*u/c}}function r(t,e,n){return g(t,e,n)-b(t,e,n)}function i(t,e,n,r){
var i,a=[t,e,n],s=g(t,e,n),o=b(t,e,n);o=o===t?0:o===e?1:2,s=s===t?0:s===e?1:2,i=0===b(o,s)?1===g(o,s)?2:1:0,
a[s]>a[o]?(a[i]=(a[i]-a[o])*r/(a[s]-a[o]),a[s]=r):a[i]=a[s]=0,a[o]=0,f=a[0],v=a[1],
m=a[2]}var a,s,o,l,u,c,d,h,f,v,m,b=Math.min,g=Math.max,p=Math.abs,y={multiply:function(){
f=u*a/255,v=c*s/255,m=d*o/255},screen:function(){f=u+a-u*a/255,v=c+s-c*s/255,m=d+o-d*o/255;
},overlay:function(){f=128>u?2*u*a/255:255-2*(255-u)*(255-a)/255,v=128>c?2*c*s/255:255-2*(255-c)*(255-s)/255,
m=128>d?2*d*o/255:255-2*(255-d)*(255-o)/255},"soft-light":function(){var t=a*u/255;
f=t+u*(255-(255-u)*(255-a)/255-t)/255,t=s*c/255,v=t+c*(255-(255-c)*(255-s)/255-t)/255,
t=o*d/255,m=t+d*(255-(255-d)*(255-o)/255-t)/255},"hard-light":function(){f=128>a?2*a*u/255:255-2*(255-a)*(255-u)/255,
v=128>s?2*s*c/255:255-2*(255-s)*(255-c)/255,m=128>o?2*o*d/255:255-2*(255-o)*(255-d)/255;
},"color-dodge":function(){f=0===u?0:255===a?255:b(255,255*u/(255-a)),v=0===c?0:255===s?255:b(255,255*c/(255-s)),
m=0===d?0:255===o?255:b(255,255*d/(255-o))},"color-burn":function(){f=255===u?255:0===a?0:g(0,255-255*(255-u)/a),
v=255===c?255:0===s?0:g(0,255-255*(255-c)/s),m=255===d?255:0===o?0:g(0,255-255*(255-d)/o);
},darken:function(){f=a>u?u:a,v=s>c?c:s,m=o>d?d:o},lighten:function(){f=u>a?u:a,v=c>s?c:s,
m=d>o?d:o},difference:function(){f=u-a,0>f&&(f=-f),v=c-s,0>v&&(v=-v),m=d-o,0>m&&(m=-m);
},exclusion:function(){f=u+a*(255-u-u)/255,v=c+s*(255-c-c)/255,m=d+o*(255-d-d)/255;
},hue:function(){i(a,s,o,r(u,c,d)),e(f,v,m,t(u,c,d))},saturation:function(){i(u,c,d,r(a,s,o)),
e(f,v,m,t(u,c,d))},luminosity:function(){e(u,c,d,t(a,s,o))},color:function(){e(a,s,o,t(u,c,d));
},add:function(){f=b(u+a,255),v=b(c+s,255),m=b(d+o,255)},subtract:function(){f=g(u-a,0),
v=g(c-s,0),m=g(d-o,0)},average:function(){f=(u+a)/2,v=(c+s)/2,m=(d+o)/2},negation:function(){
f=255-p(255-a-u),v=255-p(255-s-c),m=255-p(255-o-d)}},_=this.nativeModes=n.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){
this[t]=!0},{}),x=J.getContext(1,1);n.each(y,function(t,e){var n="darken"===e,r=!1;
x.save();try{x.fillStyle=n?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=e,
x.globalCompositeOperation===e&&(x.fillStyle=n?"#a00":"#300",x.fillRect(0,0,1,1),
r=x.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(i){}x.restore(),_[e]=r}),J.release(x),
this.process=function(t,e,n,r,i){var b=e.canvas,g="normal"===t;if(g||_[t])n.save(),
n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,g||(n.globalCompositeOperation=t),n.drawImage(b,i.x,i.y),
n.restore();else{var p=y[t];if(!p)return;for(var x=n.getImageData(i.x,i.y,b.width,b.height),w=x.data,S=e.getImageData(0,0,b.width,b.height).data,C=0,k=w.length;k>C;C+=4){
a=S[C],u=w[C],s=S[C+1],c=w[C+1],o=S[C+2],d=w[C+2],l=S[C+3],h=w[C+3],p();var E=l*r/255,A=1-E;
w[C]=E*f+A*u,w[C+1]=E*v+A*c,w[C+2]=E*m+A*d,w[C+3]=l*r+A*h}n.putImageData(x,i.x,i.y);
}}},tt=n.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],
strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],
strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"
},function(t,e){return!e&&(t instanceof M||t instanceof w||t instanceof I)}],miterLimit:["stroke-miterlimit","number"],
dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],
fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],
justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],
opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){
var r=n.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,
fromSVG:i&&n.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+r,set:"set"+r
}},{}),et={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"
};return new function(){function t(t,e){for(var n in e){var r=e[n],i=et[n];"number"==typeof r&&(r=w.number(r)),
i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}return t}function e(e,n){return t(document.createElementNS("http://www.w3.org/2000/svg",e),n);
}function r(t,e,r){var i=new n,a=t.getTranslation();if(e){t=t.shiftless();var s=t._inverseTransform(a);
i[r?"cx":"x"]=s.x,i[r?"cy":"y"]=s.y,a=null}if(!t.isIdentity()){var l=t.decompose();
if(l&&!l.shearing){var u=[],c=l.rotation,d=l.scaling;a&&!a.isZero()&&u.push("translate("+w.point(a)+")"),
o.isZero(d.x-1)&&o.isZero(d.y-1)||u.push("scale("+w.point(d)+")"),c&&u.push("rotate("+w.number(c)+")"),
i.transform=u.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i;
}function i(n,i){for(var a=r(n._matrix),s=n._children,o=e("g",a),l=0,u=s.length;u>l;l++){
var c=s[l],d=_(c,i);if(d)if(c.isClipMask()){var h=e("clipPath");h.appendChild(d),
b(c,h,"clip"),t(o,{"clip-path":"url(#"+h.id+")"})}else o.appendChild(d)}return o}
function a(t,n){var i=r(t._matrix,!0),a=t.getSize(),s=t.getImage();return i.x-=a.width/2,
i.y-=a.height/2,i.width=a.width,i.height=a.height,i.href=n.embedImages===!1&&s&&s.src||t.toDataURL(),
e("image",i)}function l(t,n){var i=n.matchShapes;if(i){var a=t.toShape(!1);if(a)return u(a,n);
}var s,o=t._segments,l=r(t._matrix);if(0===o.length)return null;if(i&&!t.hasHandles())if(o.length>=3){
s=t._closed?"polygon":"polyline";for(var c=[],d=0,h=o.length;h>d;d++)c.push(w.point(o[d]._point));
l.points=c.join(" ")}else{s="line";var f=o[0]._point,v=o[o.length-1]._point;l.set({
x1:f.x,y1:f.y,x2:v.x,y2:v.y})}else s="path",l.d=t.getPathData(null,n.precision);return e(s,l);
}function u(t){var n=t._type,i=t._radius,a=r(t._matrix,!0,"rectangle"!==n);if("rectangle"===n){
n="rect";var s=t._size,o=s.width,l=s.height;a.x-=o/2,a.y-=l/2,a.width=o,a.height=l,
i.isZero()&&(i=null)}return i&&("circle"===n?a.r=i:(a.rx=i.width,a.ry=i.height)),
e(n,a)}function c(t,n){var i=r(t._matrix),a=t.getPathData(null,n.precision);return a&&(i.d=a),
e("path",i)}function d(t,n){var i=r(t._matrix,!0),a=t.getSymbol(),s=m(a,"symbol"),o=a.getDefinition(),l=o.getBounds();
return s||(s=e("symbol",{viewBox:w.rectangle(l)}),s.appendChild(_(o,n)),b(a,s,"symbol")),
i.href="#"+s.id,i.x+=l.x,i.y+=l.y,i.width=w.number(l.width),i.height=w.number(l.height),
i.overflow="visible",e("use",i)}function h(t){var n=m(t,"color");if(!n){var r,i=t.getGradient(),a=i._radial,s=t.getOrigin().transform(),o=t.getDestination().transform();
if(a){r={cx:s.x,cy:s.y,r:s.getDistance(o)};var l=t.getHighlight();l&&(l=l.transform(),
r.fx=l.x,r.fy=l.y)}else r={x1:s.x,y1:s.y,x2:o.x,y2:o.y};r.gradientUnits="userSpaceOnUse",
n=e((a?"radial":"linear")+"Gradient",r);for(var u=i._stops,c=0,d=u.length;d>c;c++){
var h=u[c],f=h._color,v=f.getAlpha();r={offset:h._rampPoint,"stop-color":f.toCSS(!0)
},1>v&&(r["stop-opacity"]=v),n.appendChild(e("stop",r))}b(t,n,"color")}return"url(#"+n.id+")";
}function f(t){var n=e("text",r(t._matrix,!0));return n.textContent=t._content,n}
function v(e,r,i){var a={},s=!i&&e.getParent(),o=[];return null!=e._name&&(a.id=e._name),
n.each(tt,function(t){var r=t.get,i=t.type,l=e[r]();if(t.exportFilter?t.exportFilter(e,l):!s||!n.equals(s[r](),l)){
if("color"===i&&null!=l){var u=l.getAlpha();1>u&&(a[t.attribute+"-opacity"]=u)}"style"===i?o.push(t.attribute+": "+l):a[t.attribute]=null==l?"none":"number"===i?w.number(l):"color"===i?l.gradient?h(l,e):l.toCSS(!0):"array"===i?l.join(","):"lookup"===i?t.toSVG[l]:l;
}}),o.length&&(a.style=o.join(";")),1===a.opacity&&delete a.opacity,e._visible||(a.visibility="hidden"),
t(r,a)}function m(t,e){return S||(S={ids:{},svgs:{}}),t&&S.svgs[e+"-"+t._id]}function b(t,e,n){
S||m();var r=S.ids[n]=(S.ids[n]||0)+1;e.id=n+"-"+r,S.svgs[n+"-"+t._id]=e}function p(t,n){
var r=t,i=null;if(S){r="svg"===t.nodeName.toLowerCase()&&t;for(var a in S.svgs)i||(r||(r=e("svg"),
r.appendChild(t)),i=r.insertBefore(e("defs"),r.firstChild)),i.appendChild(S.svgs[a]);
S=null}return n.asString?(new XMLSerializer).serializeToString(r):r}function _(t,e,n){
var r=C[t._class],i=r&&r(t,e);if(i){var a=e.onExport;a&&(i=a(t,i,e)||i);var s=JSON.stringify(t._data);
s&&"{}"!==s&&"null"!==s&&i.setAttribute("data-paper-data",s)}return i&&v(t,i,n)}function x(t){
return t||(t={}),w=new s(t.precision),t}var w,S,C={Group:i,Layer:i,Raster:a,Path:l,
Shape:u,CompoundPath:c,PlacedSymbol:d,PointText:f};y.inject({exportSVG:function(t){
return t=x(t),p(_(this,t,!0),t)}}),g.inject({exportSVG:function(t){t=x(t);var n=this._children,i=this.getView(),a=i.getViewSize(),s=e("svg",{
x:0,y:0,width:a.width,height:a.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg",
"xmlns:xlink":"http://www.w3.org/1999/xlink"}),o=s,l=i._matrix;l.isIdentity()||(o=s.appendChild(e("g",r(l))));
for(var u=0,c=n.length;c>u;u++)o.appendChild(_(n[u],t,!0));return p(s,t)}})},new function(){
function r(t,e,n,r){var i=et[e],a=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===a&&(a=null),
null==a?r?null:n?"":0:n?a:parseFloat(a)}function i(t,e,n,i){return e=r(t,e,!1,i),
n=r(t,n,!1,i),!i||null!=e&&null!=n?new u(e,n):null}function a(t,e,n,i){return e=r(t,e,!1,i),
n=r(t,n,!1,i),!i||null!=e&&null!=n?new d(e,n):null}function s(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?k(t)||t:"lookup"===e?n[t]:t;
}function o(t,e,n,r){var i=t.childNodes,a="clippath"===e,s=new _,o=s._project,l=o._currentStyle,u=[];
if(a||(s=C(s,t,r),o._currentStyle=s._style.clone()),r)for(var c=t.querySelectorAll("defs"),d=0,h=c.length;h>d;d++)E(c[d],n,!1);
for(var d=0,h=i.length;h>d;d++){var f=i[d],v=void 0;1!==f.nodeType||"defs"===f.nodeName.toLowerCase()||!(v=E(f,n,!1))||v instanceof p||u.push(v);
}return s.addChildren(u),a&&(s=C(s.reduce(),t,r)),o._currentStyle=l,(a||"defs"===e)&&(s.remove(),
s=null),s}function l(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,a=n.length;a>i;i+=2)r.push(new u(parseFloat(n[i]),parseFloat(n[i+1])));
var s=new j(r);return"polygon"===e&&s.closePath(),s}function c(t){var e=t.getAttribute("d"),n={
pathData:e};return(e.match(/m/gi)||[]).length>1||/z\S+/i.test(e)?new R(n):new j(n);
}function h(t,e){var n,a=(r(t,"href",!0)||"").substring(1),s="radialgradient"===e;
if(a)n=L[a].getGradient();else{for(var o=t.childNodes,l=[],u=0,c=o.length;c>u;u++){
var d=o[u];1===d.nodeType&&l.push(C(new B,d))}n=new V(l,s)}var h,f,v;return s?(h=i(t,"cx","cy"),
f=h.add(r(t,"r"),0),v=i(t,"fx","fy",!0)):(h=i(t,"x1","y1"),f=i(t,"x2","y2")),C(new N(n,h,f,v),t),
null}function v(t,e,n,r){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),a=new m,s=0,o=i.length;o>s;s++){
var l=i[s];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],d=u[1].split(/[\s,]+/g),h=0,f=d.length;f>h;h++)d[h]=parseFloat(d[h]);
switch(c){case"matrix":a.concatenate(new m(d[0],d[1],d[2],d[3],d[4],d[5]));break;case"rotate":
a.rotate(d[0],d[1],d[2]);break;case"translate":a.translate(d[0],d[1]);break;case"scale":
a.scale(d);break;case"skewX":a.skew(d[0],0);break;case"skewY":a.skew(0,d[0])}}t.transform(a);
}function b(t,e,n){var r=t["fill-opacity"===n?"getFillColor":"getStrokeColor"]();r&&r.setAlpha(parseFloat(e));
}function x(t,r,i){var a=t.attributes[r],s=a&&a.value;if(!s){var o=n.camelize(r);s=t.style[o],
s||i.node[o]===i.parent[o]||(s=i.node[o])}return s?"none"===s?null:s:e}function C(t,r,i){
var a={node:z.getStyles(r)||{},parent:!i&&z.getStyles(r.parentNode)||{}};return n.each(T,function(i,s){
var o=x(r,s,a);o!==e&&(t=n.pick(i(t,o,s,r,a),t))}),t}function k(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/);
return e&&L[e[1]]}function E(e,r,i){function a(e){t=o;var n=E(e,r,i),a=r.onLoad,s=o.project&&o.getView();
a&&a.call(this,n),s.update()}if(!e)return null;r?"function"==typeof r&&(r={onLoad:r
}):r={};var s=e,o=t;if(i)if("string"!=typeof e||/^.*</.test(e)){if("undefined"!=typeof File&&e instanceof File){
var l=new FileReader;return l.onload=function(){a(l.result)},l.readAsText(e)}}else{
if(s=document.getElementById(e),!s)return K.request("get",e,a);e=null}if("string"==typeof e&&(s=(new DOMParser).parseFromString(e,"image/svg+xml")),
!s.nodeName)throw new Error("Unsupported SVG source: "+e);var u,c=s.nodeName.toLowerCase(),d=A[c],h=s.getAttribute&&s.getAttribute("data-paper-data"),f=o.settings,v=f.applyMatrix;
if(f.applyMatrix=!1,u=d&&d(s,c,r,i)||null,f.applyMatrix=v,u){"#document"===c||u instanceof _||(u=C(u,s,i));
var m=r.onImport;m&&(u=m(s,u,r)||u),r.expandShapes&&u instanceof w&&(u.remove(),u=u.toPath()),
h&&(u._data=JSON.parse(h))}return i&&(L={},u&&n.pick(r.applyMatrix,v)&&u.matrix.apply(!0,!0)),
u}var A={"#document":function(t,e,n,r){for(var i=t.childNodes,a=0,s=i.length;s>a;a++){
var o=i[a];if(1===o.nodeType){var l=o.nextSibling;document.body.appendChild(o);var u=E(o,n,r);
return l?t.insertBefore(o,l):t.appendChild(o),u}}},g:o,svg:o,clippath:o,polygon:l,
polyline:l,path:c,lineargradient:h,radialgradient:h,image:function(t){var e=new S(r(t,"href",!0));
return e.on("load",function(){var e=a(t,"width","height");this.setSize(e);var n=this._matrix._transformPoint(i(t,"x","y").add(e.divide(2)));
this.translate(n)}),e},symbol:function(t,e,n,r){return new p(o(t,e,n,r),!0)},defs:o,
use:function(t){var e=(r(t,"href",!0)||"").substring(1),n=L[e],a=i(t,"x","y");return n?n instanceof p?n.place(a):n.clone().translate(a):null;
},circle:function(t){return new w.Circle(i(t,"cx","cy"),r(t,"r"))},ellipse:function(t){
return new w.Ellipse({center:i(t,"cx","cy"),radius:a(t,"rx","ry")})},rect:function(t){
var e=i(t,"x","y"),n=a(t,"width","height"),r=a(t,"rx","ry");return new w.Rectangle(new f(e,n),r);
},line:function(t){return new j.Line(i(t,"x1","y1"),i(t,"x2","y2"))},text:function(t){
var e=new D(i(t,"x","y").add(i(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),
e}},T=n.set(n.each(tt,function(t){this[t.attribute]=function(e,n){if(e[t.set](s(n,t.type,t.fromSVG)),
"color"===t.type&&e instanceof w){var r=e[t.get]();r&&r.transform((new m).translate(e.getPosition(!0).negate()));
}}},{}),{id:function(t,e){L[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){
var n=k(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof _))return new _(n,t);
t.insertChild(0,n)}},gradientTransform:v,transform:v,"fill-opacity":b,"stroke-opacity":b,
visibility:function(t,e){t.setVisible("visible"===e)},display:function(t,e){t.setVisible(null!==e);
},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){
t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){var n=e.match(/(.*)%$/);
t.setRampPoint(n?n[1]/100:parseFloat(e))},viewBox:function(t,e,n,r,i){var o=new f(s(e,"array")),l=a(r,"width","height",!0);
if(t instanceof _){var u=l?o.getSize().divide(l):1,c=(new m).translate(o.getPoint()).scale(u);
t.transform(c.inverted())}else if(t instanceof p){l&&o.setSize(l);var d="visible"!=x(r,"overflow",i),h=t._definition;
d&&!o.contains(h.getBounds())&&(d=new w.Rectangle(o).transform(h._matrix),d.setClipMask(!0),
h.addChild(d))}}}),L={};y.inject({importSVG:function(t,e){return this.addChild(E(t,e,!0));
}}),g.inject({importSVG:function(t,e){return this.activate(),E(t,e,!0)}})},n.exports.PaperScript=function(){
function e(t,e,n){var r=b[e];if(t&&t[r]){var i=t[r](n);return"!="===e?!i:i}switch(e){
case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":
return t%n;case"==":return t==n;case"!=":return t!=n}}function r(t,e){var n=g[t];if(n&&e&&e[n])return e[n]();
switch(t){case"+":return+e;case"-":return-e}}function a(t,e){return m.acorn.parse(t,e);
}function s(e,n,r){function i(t){for(var e=0,n=c.length;n>e;e++){var r=c[e];if(r[0]>=t)break;
t+=r[1]}return t}function s(t){return e.substring(i(t.range[0]),i(t.range[1]))}function o(t,n){
return e.substring(i(t.range[1]),i(n.range[0]))}function l(t,n){for(var r=i(t.range[0]),a=i(t.range[1]),s=0,o=c.length-1;o>=0;o--)if(r>c[o][0]){
s=o+1;break}c.splice(s,0,[r,n.length-a+r]),e=e.substring(0,r)+n+e.substring(a)}function u(t,e){
if(t){for(var n in t)if("range"!==n&&"loc"!==n){var r=t[n];if(Array.isArray(r))for(var i=0,a=r.length;a>i;i++)u(r[i],t);else r&&"object"===("undefined"==typeof r?"undefined":$traceurRuntime["typeof"](r))&&u(r,t);
}switch(t.type){case"UnaryExpression":if(t.operator in g&&"Literal"!==t.argument.type){
var c=s(t.argument);l(t,'$__("'+t.operator+'", '+c+")")}break;case"BinaryExpression":
if(t.operator in b&&"Literal"!==t.left.type){var d=s(t.left),h=s(t.right),f=o(t.left,t.right),v=t.operator;
l(t,"__$__("+d+","+f.replace(new RegExp("\\"+v),'"'+v+'"')+", "+h+")")}break;case"UpdateExpression":
case"AssignmentExpression":var m=e&&e.type;if(!("ForStatement"===m||"BinaryExpression"===m&&/^[=!<>]/.test(e.operator)||"MemberExpression"===m&&e.computed))if("UpdateExpression"===t.type){
var c=s(t.argument),p="__$__("+c+', "'+t.operator[0]+'", 1)',y=c+" = "+p;t.prefix||"AssignmentExpression"!==m&&"VariableDeclarator"!==m||(s(e.left||e.id)===c&&(y=p),
y=c+"; "+y),l(t,y)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var d=s(t.left),h=s(t.right);
l(t,d+" = __$__("+d+', "'+t.operator[0]+'", '+h+")")}}}}if(!e)return"";r=r||{},n=n||"";
var c=[],d=null,h=t.browser,f=h.versionNumber,v=/\r\n|\n|\r/gm,m=0;if(h.chrome&&f>=30||h.webkit&&f>=537.76||h.firefox&&f>=23){
if(0===window.location.href.indexOf(n)){var p=document.getElementsByTagName("html")[0].innerHTML;
m=p.substr(0,p.indexOf(e)+1).match(v).length+1}var y=["AAAA"];y.length=(e.match(v)||[]).length+1+m,
d={version:3,file:n,names:[],mappings:y.join(";AACA"),sourceRoot:"",sources:[n]};var _=r.source||!n&&e;
_&&(d.sourcesContent=[_])}return u(a(e,{ranges:!0})),d&&(e=new Array(m+1).join("\n")+e+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+"\n//# sourceURL="+(n||"paperscript")),
e}function o(i,a,o,l){function c(t,e){for(var n in t)!e&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(i)||(b.push(n),
g.push(t[n]))}t=a;var d,h=a.getView(),f=/\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(i)?new Z:null,v=f?f._events:[],m=["onFrame","onResize"].concat(v),b=[],g=[];
i=s(i,o,l),c({__$__:e,$__:r,paper:a,view:h,tool:f},!0),c(a),m=n.each(m,function(t){
new RegExp("\\s+"+t+"\\b").test(i)&&(b.push(t),this.push(t+": "+t))},[]).join(", "),
m&&(i+="\nreturn { "+m+" };");var p=t.browser;if(p.chrome||p.firefox){var y=document.createElement("script"),_=document.head||document.getElementsByTagName("head")[0];
p.firefox&&(i="\n"+i),y.appendChild(document.createTextNode("paper._execute = function("+b+") {"+i+"\n}")),
_.appendChild(y),d=t._execute,delete t._execute,_.removeChild(y)}else d=Function(b,i);
var x=d.apply(a,g)||{};n.each(v,function(t){var e=x[t];e&&(f[t]=e)}),h&&(x.onResize&&h.setOnResize(x.onResize),
h.emit("resize",{size:h.size,delta:new u}),x.onFrame&&h.setOnFrame(x.onFrame),h.update());
}function l(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==i.getAttribute(t,"ignore")){
var e=i.getAttribute(t,"canvas"),n=document.getElementById(e),r=t.src||t.getAttribute("data-src"),a=i.hasAttribute(t,"async"),s="data-paper-scope";
if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var l=i.get(n.getAttribute(s))||(new i).setup(n);
return n.setAttribute(s,l._id),r?K.request("get",r,function(t){o(t,l,r)},a):o(t.innerHTML,l,t.baseURI),
t.setAttribute("data-paper-ignore","true"),l}}function c(){n.each(document.getElementsByTagName("script"),l);
}function h(t){return t?l(t):c()}var f,v,m=this;!function(t,e){return"object"==("undefined"==typeof f?"undefined":$traceurRuntime["typeof"](f))&&"object"==("undefined"==typeof module?"undefined":$traceurRuntime["typeof"](module))?e(f):"function"==typeof v&&v.amd?v(["exports"],e):void e(t.acorn||(t.acorn={}));
}(this,function(t){function e(t){dt=t||{};for(var e in mt)Object.prototype.hasOwnProperty.call(dt,e)||(dt[e]=mt[e]);
vt=dt.sourceFile||null}function n(t,e){var n=bt(ht,t);e+=" ("+n.line+":"+n.column+")";
var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=gt,r}function r(t){function e(t){
if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";
for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;";
}t=t.split(" ");var n="",r=[];t:for(var i=0;i<t.length;++i){for(var a=0;a<r.length;++a)if(r[a][0].length==t[i].length){
r[a].push(t[i]);continue t}r.push([t[i]])}if(r.length>3){r.sort(function(t,e){return e.length-t.length;
}),n+="switch(str.length){";for(var i=0;i<r.length;++i){var s=r[i];n+="case "+s[0].length+":",
e(s)}n+="}"}else e(t);return new Function("str",n)}function i(){this.line=kt,this.column=gt-Et;
}function a(){kt=1,gt=Et=0,Ct=!0,u()}function s(t,e){yt=gt,dt.locations&&(xt=new i),
wt=t,u(),St=e,Ct=t.beforeExpr}function o(){var t=dt.onComment&&dt.locations&&new i,e=gt,r=ht.indexOf("*/",gt+=2);
if(-1===r&&n(gt-2,"Unterminated comment"),gt=r+2,dt.locations){Ze.lastIndex=e;for(var a=void 0;(a=Ze.exec(ht))&&a.index<gt;)++kt,
Et=a.index+a[0].length}dt.onComment&&dt.onComment(!0,ht.slice(e+2,r),e,gt,t,dt.locations&&new i);
}function l(){for(var t=gt,e=dt.onComment&&dt.locations&&new i,n=ht.charCodeAt(gt+=2);ft>gt&&10!==n&&13!==n&&8232!==n&&8233!==n;)++gt,
n=ht.charCodeAt(gt);dt.onComment&&dt.onComment(!1,ht.slice(t+2,gt),t,gt,e,dt.locations&&new i);
}function u(){for(;ft>gt;){var t=ht.charCodeAt(gt);if(32===t)++gt;else if(13===t){
++gt;var e=ht.charCodeAt(gt);10===e&&++gt,dt.locations&&(++kt,Et=gt)}else if(10===t||8232===t||8233===t)++gt,
dt.locations&&(++kt,Et=gt);else if(t>8&&14>t)++gt;else if(47===t){var e=ht.charCodeAt(gt+1);
if(42===e)o();else{if(47!==e)break;l()}}else if(160===t)++gt;else{if(!(t>=5760&&Fe.test(String.fromCharCode(t))))break;
++gt}}}function c(){var t=ht.charCodeAt(gt+1);return t>=48&&57>=t?C(!0):(++gt,s(_e));
}function d(){var t=ht.charCodeAt(gt+1);return Ct?(++gt,x()):61===t?_(Ce,2):_(we,1);
}function h(){var t=ht.charCodeAt(gt+1);return 61===t?_(Ce,2):_(De,1)}function f(t){
var e=ht.charCodeAt(gt+1);return e===t?_(124===t?Ae:Te,2):61===e?_(Ce,2):_(124===t?Le:je,1);
}function v(){var t=ht.charCodeAt(gt+1);return 61===t?_(Ce,2):_(Me,1)}function m(t){
var e=ht.charCodeAt(gt+1);return e===t?45==e&&62==ht.charCodeAt(gt+2)&&Xe.test(ht.slice(Tt,gt))?(gt+=3,
l(),u(),y()):_(ke,2):61===e?_(Ce,2):_(Ie,1)}function b(t){var e=ht.charCodeAt(gt+1),n=1;
return e===t?(n=62===t&&62===ht.charCodeAt(gt+2)?3:2,61===ht.charCodeAt(gt+n)?_(Ce,n+1):_(Pe,n)):33==e&&60==t&&45==ht.charCodeAt(gt+2)&&45==ht.charCodeAt(gt+3)?(gt+=4,
l(),u(),y()):(61===e&&(n=61===ht.charCodeAt(gt+2)?3:2),_(Oe,n))}function g(t){var e=ht.charCodeAt(gt+1);
return 61===e?_(Re,61===ht.charCodeAt(gt+2)?3:2):_(61===t?Se:Ee,1)}function p(t){
switch(t){case 46:return c();case 40:return++gt,s(me);case 41:return++gt,s(be);case 59:
return++gt,s(pe);case 44:return++gt,s(ge);case 91:return++gt,s(de);case 93:return++gt,
s(he);case 123:return++gt,s(fe);case 125:return++gt,s(ve);case 58:return++gt,s(ye);
case 63:return++gt,s(xe);case 48:var e=ht.charCodeAt(gt+1);if(120===e||88===e)return S();
case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return C(!1);
case 34:case 39:return k(t);case 47:return d(t);case 37:case 42:return h();case 124:
case 38:return f(t);case 94:return v();case 43:case 45:return m(t);case 60:case 62:
return b(t);case 61:case 33:return g(t);case 126:return _(Ee,1)}return!1}function y(t){
if(t?gt=pt+1:pt=gt,dt.locations&&(_t=new i),t)return x();if(gt>=ft)return s(Vt);var e=ht.charCodeAt(gt);
if(Ke(e)||92===e)return T();var r=p(e);if(r===!1){var a=String.fromCharCode(e);if("\\"===a||We.test(a))return T();
n(gt,"Unexpected character '"+a+"'")}return r}function _(t,e){var n=ht.slice(gt,gt+e);
gt+=e,s(t,n)}function x(){for(var t=void 0,e=void 0,r="",i=gt;;){gt>=ft&&n(i,"Unterminated regular expression");
var a=ht.charAt(gt);if(Xe.test(a)&&n(i,"Unterminated regular expression"),t)t=!1;else{
if("["===a)e=!0;else if("]"===a&&e)e=!1;else if("/"===a&&!e)break;t="\\"===a}++gt;
}var r=ht.slice(i,gt);++gt;var o=A();o&&!/^[gmsiy]*$/.test(o)&&n(i,"Invalid regexp flag");
try{var l=new RegExp(r,o)}catch(u){u instanceof SyntaxError&&n(i,u.message),n(u)}
return s(It,l)}function w(t,e){for(var n=gt,r=0,i=0,a=null==e?1/0:e;a>i;++i){var s=void 0,o=ht.charCodeAt(gt);
if(s=o>=97?o-97+10:o>=65?o-65+10:o>=48&&57>=o?o-48:1/0,s>=t)break;++gt,r=r*t+s}return gt===n||null!=e&&gt-n!==e?null:r;
}function S(){gt+=2;var t=w(16);return null==t&&n(pt+2,"Expected hexadecimal number"),
Ke(ht.charCodeAt(gt))&&n(gt,"Identifier directly after number"),s(Pt,t)}function C(t){
var e=gt,r=!1,i=48===ht.charCodeAt(gt);t||null!==w(10)||n(e,"Invalid number"),46===ht.charCodeAt(gt)&&(++gt,
w(10),r=!0);var a=ht.charCodeAt(gt);(69===a||101===a)&&(a=ht.charCodeAt(++gt),(43===a||45===a)&&++gt,
null===w(10)&&n(e,"Invalid number"),r=!0),Ke(ht.charCodeAt(gt))&&n(gt,"Identifier directly after number");
var o,l=ht.slice(e,gt);return r?o=parseFloat(l):i&&1!==l.length?/[89]/.test(l)||Rt?n(e,"Invalid number"):o=parseInt(l,8):o=parseInt(l,10),
s(Pt,o)}function k(t){gt++;for(var e="";;){gt>=ft&&n(pt,"Unterminated string constant");
var r=ht.charCodeAt(gt);if(r===t)return++gt,s(Dt,e);if(92===r){r=ht.charCodeAt(++gt);
var i=/^[0-7]+/.exec(ht.slice(gt,gt+3));for(i&&(i=i[0]);i&&parseInt(i,8)>255;)i=i.slice(0,-1);
if("0"===i&&(i=null),++gt,i)Rt&&n(gt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(i,8)),
gt+=i.length-1;else switch(r){case 110:e+="\n";break;case 114:e+="\r";break;case 120:
e+=String.fromCharCode(E(2));break;case 117:e+=String.fromCharCode(E(4));break;case 85:
e+=String.fromCharCode(E(8));break;case 116:e+="	";break;case 98:e+="\b";break;case 118:
e+="\x0B";break;case 102:e+="\f";break;case 48:e+="\x00";break;case 13:10===ht.charCodeAt(gt)&&++gt;
case 10:dt.locations&&(Et=gt,++kt);break;default:e+=String.fromCharCode(r)}}else(13===r||10===r||8232===r||8233===r)&&n(pt,"Unterminated string constant"),
e+=String.fromCharCode(r),++gt}}function E(t){var e=w(16,t);return null===e&&n(pt,"Bad character escape sequence"),
e}function A(){Ve=!1;for(var t=void 0,e=!0,r=gt;;){var i=ht.charCodeAt(gt);if(Je(i))Ve&&(t+=ht.charAt(gt)),
++gt;else{if(92!==i)break;Ve||(t=ht.slice(r,gt)),Ve=!0,117!=ht.charCodeAt(++gt)&&n(gt,"Expecting Unicode escape sequence \\uXXXX"),
++gt;var a=E(4),s=String.fromCharCode(a);s||n(gt-1,"Invalid Unicode escape"),(e?Ke(a):Je(a))||n(gt-4,"Invalid Unicode escape"),
t+=s}e=!1}return Ve?t:ht.slice(r,gt)}function T(){var t=A(),e=Nt;return!Ve&&He(t)&&(e=ce[t]),
s(e,t)}function L(){At=pt,Tt=yt,Lt=xt,y()}function M(t){if(Rt=t,gt=pt,dt.locations)for(;Et>gt;)Et=ht.lastIndexOf("\n",Et-2)+1,
--kt;u(),y()}function j(){this.type=null,this.start=pt,this.end=null}function R(){
this.start=_t,this.end=null,null!==vt&&(this.source=vt)}function O(){var t=new j;return dt.locations&&(t.loc=new R),
dt.directSourceFile&&(t.sourceFile=dt.directSourceFile),dt.ranges&&(t.range=[pt,0]),
t}function P(t){var e=new j;return e.start=t.start,dt.locations&&(e.loc=new R,e.loc.start=t.loc.start),
dt.ranges&&(e.range=[t.range[0],0]),e}function I(t,e){return t.type=e,t.end=Tt,dt.locations&&(t.loc.end=Lt),
dt.ranges&&(t.range[1]=Tt),t}function D(t){return dt.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value;
}function N(t){return wt===t?(L(),!0):void 0}function V(){return!dt.strictSemicolons&&(wt===Vt||wt===ve||Xe.test(ht.slice(Tt,pt)));
}function B(){N(pe)||V()||z()}function U(t){wt===t?L():z()}function z(){n(pt,"Unexpected token");
}function G(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&n(t.start,"Assigning to rvalue"),
Rt&&"Identifier"===t.type&&Ge(t.name)&&n(t.start,"Assigning to "+t.name+" in strict mode");
}function H(t){At=Tt=gt,dt.locations&&(Lt=new i),Mt=Rt=null,jt=[],y();var e=t||O(),n=!0;
for(t||(e.body=[]);wt!==Vt;){var r=F();e.body.push(r),n&&D(r)&&M(!0),n=!1}return I(e,"Program");
}function F(){(wt===we||wt===Ce&&"/="==St)&&y(!0);var t=wt,e=O();switch(t){case Bt:
case Gt:L();var r=t===Bt;N(pe)||V()?e.label=null:wt!==Nt?z():(e.label=ct(),B());for(var i=0;i<jt.length;++i){
var a=jt[i];if(null==e.label||a.name===e.label.name){if(null!=a.kind&&(r||"loop"===a.kind))break;
if(e.label&&r)break}}return i===jt.length&&n(e.start,"Unsyntactic "+t.keyword),I(e,r?"BreakStatement":"ContinueStatement");
case Ht:return L(),B(),I(e,"DebuggerStatement");case qt:return L(),jt.push(Qe),e.body=F(),
jt.pop(),U(ne),e.test=q(),B(),I(e,"DoWhileStatement");case Yt:if(L(),jt.push(Qe),
U(me),wt===pe)return W(e,null);if(wt===ee){var s=O();return L(),X(s,!0),I(s,"VariableDeclaration"),
1===s.declarations.length&&N(ue)?Y(e,s):W(e,s)}var s=Z(!1,!0);return N(ue)?(G(s),
Y(e,s)):W(e,s);case Xt:return L(),lt(e,!0);case Zt:return L(),e.test=q(),e.consequent=F(),
e.alternate=N($t)?F():null,I(e,"IfStatement");case Kt:return Mt||dt.allowReturnOutsideFunction||n(pt,"'return' outside of function"),
L(),N(pe)||V()?e.argument=null:(e.argument=Z(),B()),I(e,"ReturnStatement");case Jt:
L(),e.discriminant=q(),e.cases=[],U(fe),jt.push(tn);for(var o=void 0,l=void 0;wt!=ve;)if(wt===Ut||wt===Ft){
var u=wt===Ut;o&&I(o,"SwitchCase"),e.cases.push(o=O()),o.consequent=[],L(),u?o.test=Z():(l&&n(At,"Multiple default clauses"),
l=!0,o.test=null),U(ye)}else o||z(),o.consequent.push(F());return o&&I(o,"SwitchCase"),
L(),jt.pop(),I(e,"SwitchStatement");case Qt:return L(),Xe.test(ht.slice(Tt,pt))&&n(Tt,"Illegal newline after throw"),
e.argument=Z(),B(),I(e,"ThrowStatement");case te:if(L(),e.block=$(),e.handler=null,
wt===zt){var c=O();L(),U(me),c.param=ct(),Rt&&Ge(c.param.name)&&n(c.param.start,"Binding "+c.param.name+" in strict mode"),
U(be),c.guard=null,c.body=$(),e.handler=I(c,"CatchClause")}return e.guardedHandlers=Ot,
e.finalizer=N(Wt)?$():null,e.handler||e.finalizer||n(e.start,"Missing catch or finally clause"),
I(e,"TryStatement");case ee:return L(),X(e),B(),I(e,"VariableDeclaration");case ne:
return L(),e.test=q(),jt.push(Qe),e.body=F(),jt.pop(),I(e,"WhileStatement");case re:
return Rt&&n(pt,"'with' in strict mode"),L(),e.object=q(),e.body=F(),I(e,"WithStatement");
case fe:return $();case pe:return L(),I(e,"EmptyStatement");default:var d=St,h=Z();
if(t===Nt&&"Identifier"===h.type&&N(ye)){for(var i=0;i<jt.length;++i)jt[i].name===d&&n(h.start,"Label '"+d+"' is already declared");
var f=wt.isLoop?"loop":wt===Jt?"switch":null;return jt.push({name:d,kind:f}),e.body=F(),
jt.pop(),e.label=h,I(e,"LabeledStatement")}return e.expression=h,B(),I(e,"ExpressionStatement");
}}function q(){U(me);var t=Z();return U(be),t}function $(t){var e,n=O(),r=!0,i=!1;
for(n.body=[],U(fe);!N(ve);){var a=F();n.body.push(a),r&&t&&D(a)&&(e=i,M(i=!0)),r=!1;
}return i&&!e&&M(!1),I(n,"BlockStatement")}function W(t,e){return t.init=e,U(pe),
t.test=wt===pe?null:Z(),U(pe),t.update=wt===be?null:Z(),U(be),t.body=F(),jt.pop(),
I(t,"ForStatement")}function Y(t,e){return t.left=e,t.right=Z(),U(be),t.body=F(),
jt.pop(),I(t,"ForInStatement")}function X(t,e){for(t.declarations=[],t.kind="var";;){
var r=O();if(r.id=ct(),Rt&&Ge(r.id.name)&&n(r.id.start,"Binding "+r.id.name+" in strict mode"),
r.init=N(Se)?Z(!0,e):null,t.declarations.push(I(r,"VariableDeclarator")),!N(ge))break;
}return t}function Z(t,e){var n=K(e);if(!t&&wt===ge){var r=P(n);for(r.expressions=[n];N(ge);)r.expressions.push(K(e));
return I(r,"SequenceExpression")}return n}function K(t){var e=J(t);if(wt.isAssign){
var n=P(e);return n.operator=St,n.left=e,L(),n.right=K(t),G(e),I(n,"AssignmentExpression");
}return e}function J(t){var e=Q(t);if(N(xe)){var n=P(e);return n.test=e,n.consequent=Z(!0),
U(ye),n.alternate=Z(!0,t),I(n,"ConditionalExpression")}return e}function Q(t){return tt(et(),-1,t);
}function tt(t,e,n){var r=wt.binop;if(null!=r&&(!n||wt!==ue)&&r>e){var i=P(t);i.left=t,
i.operator=St;var a=wt;L(),i.right=tt(et(),r,n);var s=I(i,a===Ae||a===Te?"LogicalExpression":"BinaryExpression");
return tt(s,e,n)}return t}function et(){if(wt.prefix){var t=O(),e=wt.isUpdate;return t.operator=St,
t.prefix=!0,Ct=!0,L(),t.argument=et(),e?G(t.argument):Rt&&"delete"===t.operator&&"Identifier"===t.argument.type&&n(t.start,"Deleting local variable in strict mode"),
I(t,e?"UpdateExpression":"UnaryExpression")}for(var r=nt();wt.postfix&&!V();){var t=P(r);
t.operator=St,t.prefix=!1,t.argument=r,G(r),L(),r=I(t,"UpdateExpression")}return r;
}function nt(){return rt(it())}function rt(t,e){if(N(_e)){var n=P(t);return n.object=t,
n.property=ct(!0),n.computed=!1,rt(I(n,"MemberExpression"),e)}if(N(de)){var n=P(t);
return n.object=t,n.property=Z(),n.computed=!0,U(he),rt(I(n,"MemberExpression"),e);
}if(!e&&N(me)){var n=P(t);return n.callee=t,n.arguments=ut(be,!1),rt(I(n,"CallExpression"),e);
}return t}function it(){switch(wt){case ae:var t=O();return L(),I(t,"ThisExpression");
case Nt:return ct();case Pt:case Dt:case It:var t=O();return t.value=St,t.raw=ht.slice(pt,yt),
L(),I(t,"Literal");case se:case oe:case le:var t=O();return t.value=wt.atomValue,
t.raw=wt.keyword,L(),I(t,"Literal");case me:var e=_t,n=pt;L();var r=Z();return r.start=n,
r.end=yt,dt.locations&&(r.loc.start=e,r.loc.end=xt),dt.ranges&&(r.range=[n,yt]),U(be),
r;case de:var t=O();return L(),t.elements=ut(he,!0,!0),I(t,"ArrayExpression");case fe:
return st();case Xt:var t=O();return L(),lt(t,!1);case ie:return at();default:z();
}}function at(){var t=O();return L(),t.callee=rt(it(),!0),N(me)?t.arguments=ut(be,!1):t.arguments=Ot,
I(t,"NewExpression")}function st(){var t=O(),e=!0,r=!1;for(t.properties=[],L();!N(ve);){
if(e)e=!1;else if(U(ge),dt.allowTrailingCommas&&N(ve))break;var i=void 0,a={key:ot()
},s=!1;if(N(ye)?(a.value=Z(!0),i=a.kind="init"):dt.ecmaVersion>=5&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)?(s=r=!0,
i=a.kind=a.key.name,a.key=ot(),wt!==me&&z(),a.value=lt(O(),!1)):z(),"Identifier"===a.key.type&&(Rt||r))for(var o=0;o<t.properties.length;++o){
var l=t.properties[o];if(l.key.name===a.key.name){var u=i==l.kind||s&&"init"===l.kind||"init"===i&&("get"===l.kind||"set"===l.kind);
u&&!Rt&&"init"===i&&"init"===l.kind&&(u=!1),u&&n(a.key.start,"Redefinition of property");
}}t.properties.push(a)}return I(t,"ObjectExpression")}function ot(){return wt===Pt||wt===Dt?it():ct(!0);
}function lt(t,e){wt===Nt?t.id=ct():e?z():t.id=null,t.params=[];var r=!0;for(U(me);!N(be);)r?r=!1:U(ge),
t.params.push(ct());var i=Mt,a=jt;if(Mt=!0,jt=[],t.body=$(!0),Mt=i,jt=a,Rt||t.body.body.length&&D(t.body.body[0]))for(var s=t.id?-1:0;s<t.params.length;++s){
var o=0>s?t.id:t.params[s];if((ze(o.name)||Ge(o.name))&&n(o.start,"Defining '"+o.name+"' in strict mode"),
s>=0)for(var l=0;s>l;++l)o.name===t.params[l].name&&n(o.start,"Argument name clash in strict mode");
}return I(t,e?"FunctionDeclaration":"FunctionExpression")}function ut(t,e,n){for(var r=[],i=!0;!N(t);){
if(i)i=!1;else if(U(ge),e&&dt.allowTrailingCommas&&N(t))break;n&&wt===ge?r.push(null):r.push(Z(!0));
}return r}function ct(t){var e=O();return t&&"everywhere"==dt.forbidReserved&&(t=!1),
wt===Nt?(!t&&(dt.forbidReserved&&(3===dt.ecmaVersion?Be:Ue)(St)||Rt&&ze(St))&&-1==ht.slice(pt,yt).indexOf("\\")&&n(pt,"The keyword '"+St+"' is reserved"),
e.name=St):t&&wt.keyword?e.name=wt.keyword:z(),Ct=!1,L(),I(e,"Identifier")}t.version="0.5.0";
var dt,ht,ft,vt;t.parse=function(t,n){return ht=String(t),ft=ht.length,e(n),a(),H(dt.program);
};var mt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,
forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,
program:null,sourceFile:null,directSourceFile:null},bt=t.getLineInfo=function(t,e){
for(var n=1,r=0;;){Ze.lastIndex=r;var i=Ze.exec(t);if(!(i&&i.index<e))break;++n,r=i.index+i[0].length;
}return{line:n,column:e-r}};t.tokenize=function(t,n){function r(t){return Tt=yt,y(t),
i.start=pt,i.end=yt,i.startLoc=_t,i.endLoc=xt,i.type=wt,i.value=St,i}ht=String(t),
ft=ht.length,e(n),a();var i={};return r.jumpTo=function(t,e){if(gt=t,dt.locations){
kt=1,Et=Ze.lastIndex=0;for(var n=void 0;(n=Ze.exec(ht))&&n.index<t;)++kt,Et=n.index+n[0].length;
}Ct=e,u()},r};var gt,pt,yt,_t,xt,wt,St,Ct,kt,Et,At,Tt,Lt,Mt,jt,Rt,Ot=[],Pt={type:"num"
},It={type:"regexp"},Dt={type:"string"},Nt={type:"name"},Vt={type:"eof"},Bt={keyword:"break"
},Ut={keyword:"case",beforeExpr:!0},zt={keyword:"catch"},Gt={keyword:"continue"},Ht={
keyword:"debugger"},Ft={keyword:"default"},qt={keyword:"do",isLoop:!0},$t={keyword:"else",
beforeExpr:!0},Wt={keyword:"finally"},Yt={keyword:"for",isLoop:!0},Xt={keyword:"function"
},Zt={keyword:"if"},Kt={keyword:"return",beforeExpr:!0},Jt={keyword:"switch"},Qt={
keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ne={keyword:"while",
isLoop:!0},re={keyword:"with"},ie={keyword:"new",beforeExpr:!0},ae={keyword:"this"
},se={keyword:"null",atomValue:null},oe={keyword:"true",atomValue:!0},le={keyword:"false",
atomValue:!1},ue={keyword:"in",binop:7,beforeExpr:!0},ce={"break":Bt,"case":Ut,"catch":zt,
"continue":Gt,"debugger":Ht,"default":Ft,"do":qt,"else":$t,"finally":Wt,"for":Yt,
"function":Xt,"if":Zt,"return":Kt,"switch":Jt,"throw":Qt,"try":te,"var":ee,"while":ne,
"with":re,"null":se,"true":oe,"false":le,"new":ie,"in":ue,"instanceof":{keyword:"instanceof",
binop:7,beforeExpr:!0},"this":ae,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0
},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,
beforeExpr:!0}},de={type:"[",beforeExpr:!0},he={type:"]"},fe={type:"{",beforeExpr:!0
},ve={type:"}"},me={type:"(",beforeExpr:!0},be={type:")"},ge={type:",",beforeExpr:!0
},pe={type:";",beforeExpr:!0},ye={type:":",beforeExpr:!0},_e={type:"."},xe={type:"?",
beforeExpr:!0},we={binop:10,beforeExpr:!0},Se={isAssign:!0,beforeExpr:!0},Ce={isAssign:!0,
beforeExpr:!0},ke={postfix:!0,prefix:!0,isUpdate:!0},Ee={prefix:!0,beforeExpr:!0},Ae={
binop:1,beforeExpr:!0},Te={binop:2,beforeExpr:!0},Le={binop:3,beforeExpr:!0},Me={
binop:4,beforeExpr:!0},je={binop:5,beforeExpr:!0},Re={binop:6,beforeExpr:!0},Oe={
binop:7,beforeExpr:!0},Pe={binop:8,beforeExpr:!0},Ie={binop:9,prefix:!0,beforeExpr:!0
},De={binop:10,beforeExpr:!0};t.tokTypes={bracketL:de,bracketR:he,braceL:fe,braceR:ve,
parenL:me,parenR:be,comma:ge,semi:pe,colon:ye,dot:_e,question:xe,slash:we,eq:Se,name:Nt,
eof:Vt,num:Pt,regexp:It,string:Dt};for(var Ne in ce)t.tokTypes["_"+Ne]=ce[Ne];var Ve,Be=r("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ue=r("class enum extends super const export import"),ze=r("implements interface let package private protected public static yield"),Ge=r("eval arguments"),He=r("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Fe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,qe="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",$e="------------------------------------------------------------------------------------------------------------------------------------------",We=new RegExp("["+qe+"]"),Ye=new RegExp("["+qe+$e+"]"),Xe=/[\n\r\u2028\u2029]/,Ze=/\r\n|[\n\r\u2028\u2029]/g,Ke=t.isIdentifierStart=function(t){
return 65>t?36===t:91>t?!0:97>t?95===t:123>t?!0:t>=170&&We.test(String.fromCharCode(t));
},Je=t.isIdentifierChar=function(t){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:t>=170&&Ye.test(String.fromCharCode(t));
},Qe={kind:"loop"},tn={kind:"switch"}});var b={"+":"__add","-":"__subtract","*":"__multiply",
"/":"__divide","%":"__modulo","==":"equals","!=":"equals"},g={"-":"__negate","+":null
},p=n.each(["add","subtract","multiply","divide","modulo","negate"],function(t){this["__"+t]="#"+t;
},{});return u.inject(p),d.inject(p),N.inject(p),"complete"===document.readyState?setTimeout(c):G.add(window,{
load:c}),{compile:s,execute:o,load:h,parse:a}}.call(this),t=new(i.inject(n.exports,{
enumerable:!0,Base:n,Numerical:o,Key:W})),"function"==typeof define&&define.amd?define("paper",t):"object"===("undefined"==typeof module?"undefined":$traceurRuntime["typeof"](module))&&module&&(module.exports=t),
t};t.setup(document.createElement("canvas"));var e=t;return{get default(){return e;
}}}),System.registerModule("utils/array",[],function(){"use strict";var t=function(t,e){
var n=void 0!==arguments[2]?arguments[2]:!1;if(t.length!==e.length)return!1;if(n)for(var r in t){
var i=t[r];if(i!==e[r])return!1}else{for(var a=0;a<t.length;a+=1)if(!e.includes(t[a]))return!1;
for(var a=0;a<e.length;a+=1)if(!t.includes(e[a]))return!1}return!0},e=function(t){
return $traceurRuntime.spread(new Set(t))},n=function(t,e){if(0===t.length)return!1;
for(var n=0;n<t.length;n+=1)if(t[n]!==e)return!1;return!0};return{get compareArrays(){
return t},get removeDuplicates(){return e},get includesOnly(){return n}}}),System.registerModule("utils/artwork",[],function(){
"use strict";var t=System.get("elements/bx-rectpath")["default"],e=System.get("elements/bx-ringpath")["default"],n=System.get("elements/bx-starpath")["default"],r=System.get("libs/pako")["default"],i=System.get("utils/array").removeDuplicates,a=System.get("utils/font"),s=a.isGoogleFontsImportRule,o=a.parseGoogleFontsImportRule,l=System.get("utils/gradient"),u=l.normalizeLinearGradient,c=l.normalizeRadialGradient,d=System.get("utils/path"),h=d.circleToEllipse,f=d.lineToPath,v=d.polylineToPath,m=d.polygonToPath,b=System.get("utils/pattern"),g=b.getComputedPatternProperties,p=b.isDerivedPattern,y=System.get("utils/string").collapseWhitespace,_=System.get("utils/style").reflectStyleElementCSSOM,x=System.get("utils/text").normalizeText,w=System.get("utils/dom"),S=w.createElement,C=(w.createSVGLength,
w.createSVGRect,w.insertAfter,w.normalizeWhitespace),k=w.connectElementToDocument,E=System.get("utils/constants"),A=E.PROPERTIES,T=E.DEPRACATED_SVG_ELEMENTS,L=E.XMLNS_NAMESPACE,M=E.XLINK_NAMESPACE,j=E.SVG_NAMESPACE,R=E.BX_NAMESPACE,O=System.get("classes/google-fonts-manager")["default"],P=Number.parseFloat,I=(Object.keys,
SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),D=SVGLength,N=(D.SVG_LENGTHTYPE_NUMBER,
D.SVG_LENGTHTYPE_PERCENTAGE),V=function(t){var e=void 0!==arguments[1]?arguments[1]:"xml";
t=t.cloneNode(!0),Y(t,e);var n;if("xml"===e){var r=new XMLSerializer,i='<?xml version="1.0" encoding="utf-8"?>\n';
n=i+r.serializeToString(t)}else if("html"===e){var a="<!doctype html>\n";n=a+t.outerHTML,
n=n.replaceAll(' xmlns:xlink="http://www.w3.org/1999/xlink"',"")}return n=n.replaceAll("url(&quot;","url("),
n=n.replaceAll("&quot;)",")")},B=function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html");
return null!==n.querySelector("svg")},U=function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.querySelector("svg")||null;
return r&&(W(r),r=document.importNode(r,!0)),r},z=function(t){var e=void 0!==arguments[1]?arguments[1]:"png",n=void 0!==arguments[2]?arguments[2]:1,r=void 0!==arguments[3]?arguments[3]:!0;
return new Promise(function(i){var a,s,o,l,u,c,d,h,f,v,m,b,g,p,y,_;return $traceurRuntime.asyncWrap(function(x){
for(;;)switch(x.state){case 0:a=k(t),s=new O(t),o=s.getUsedImportedFamilies(),l=!0,
u=!1,c=void 0,x.state=22;break;case 22:x.pushTry(8,9),x.state=11;break;case 11:d=void 0,
h=t.querySelectorAll("text")[Symbol.iterator](),x.state=7;break;case 7:x.state=(l=(d=h.next()).done)?5:3;
break;case 2:l=!0,x.state=7;break;case 3:f=d.value,x.state=4;break;case 4:return void Promise.resolve(s.replaceTextWithPaths(f)).then(x.createCallback(2),x.errback);
case 5:x.popTry(),x.state=9,x.finallyFallThrough=13;break;case 8:x.popTry(),x.maybeUncatchable(),
_=x.storedException,x.state=14;break;case 14:u=!0,c=_,x.state=9,x.finallyFallThrough=13;
break;case 9:x.popTry(),x.state=20;break;case 20:try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}x.state=18;break;case 13:a(),v=V(t,"xml"),m=S("canvas"),b=m.getContext("2d"),
g=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),p=URL.createObjectURL(g),y=new Image,
y.src=p,y.addEventListener("load",function(){m.width=y.naturalWidth,m.height=y.naturalHeight,
"jpg"===e?(b.fillStyle="white",b.fillRect(0,0,y.naturalWidth,y.naturalHeight)):"png"===e&&r===!1&&(b.fillStyle="white",
b.fillRect(0,0,y.naturalWidth,y.naturalHeight)),b.drawImage(y,0,0);var t=null;"png"===e?t=m.toDataURL("image/png",n):"jpg"===e&&(t=m.toDataURL("image/jpeg",n)),
i(t),URL.revokeObjectURL(p)}),x.state=-2;break;case 18:x.state=x.finallyFallThrough;
break;default:return x.end()}},this)})},G=function(t){try{for(var e=r.inflate(t),n="",i=0,a=e.length;a>i;i+=1){
var s=String.fromCharCode(e[i]);n+=s}return n}catch(o){return null}},H=function(t,e){
for(var n=[],r=[],i=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),a=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),s=null;s=a.nextNode();)s.id&&r.push(s.id);
for(;s=i.nextNode();)s.id&&n.push(s.id);var o=n.filter(function(t){return r.includes(t);
}),l=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=o[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var v=h.value,m=t.querySelector("#"+v),b=void 0;
b="linearGradient"===m.localName||"radialGradient"===m.localName?"gradient":"clipPath"===m.localName?"path":m.localName;
for(var g=void 0,p=1;;){var y=b+"-"+p;if(!t.querySelector("#"+y)&&!e.querySelector("#"+y)){
g=y;break}p+=1}for(var _=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),x=null;x=_.nextNode();){
x.id===v&&(x.id=g),x.href&&x.href.baseVal==="#"+v&&(x.href.baseVal="#"+g);var w=!0,S=!1,C=void 0;
try{for(var k=void 0,E=l[Symbol.iterator]();!(w=(k=E.next()).done);w=!0){var A=k.value,T=x.style.getPropertyValue(A);
if(T&&T.startsWith("url(")){var L=T.substring(5,T.length-2);L===v&&x.style.setProperty(A,"url(#"+g+")");
}}}catch(M){S=!0,C=M}finally{try{w||null==E["return"]||E["return"]()}finally{if(S)throw C;
}}}}}catch(j){c=!0,d=j}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw d;
}}},F=function(t){var e={1:"",2:"%",3:"ems",4:"exs",5:"px",6:"cm",7:"mm",8:"in",9:"pt",
10:"pc"},n={width:null,height:null,widthUnit:"",heightUnit:""};if(t.style.width){
n.width=P(t.style.width);var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=["%","ems","exs","px","cm","mm","in","pt","pc"][Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;t.style.width.endsWith(l)&&(n.widthUnit=l)}}catch(u){i=!0,a=u}finally{
try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}}else t.hasAttribute("width")&&(n.width=t.width.baseVal.valueInSpecifiedUnits,
n.widthUnit=e[t.width.baseVal.unitType]);if(t.style.height){n.height=P(t.style.height);
var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=["%","ems","exs","px","cm","mm","in","pt","pc"][Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;t.style.height.endsWith(m)&&(n.heightUnit=m)}}catch(b){d=!0,h=b}finally{
try{c||null==v["return"]||v["return"]()}finally{if(d)throw h}}}else t.hasAttribute("height")&&(n.height=t.height.baseVal.valueInSpecifiedUnits,
n.heightUnit=e[t.height.baseVal.unitType]);return n},q=function(t,e,n){t=t.cloneNode(!0),
t.setAttribute("width","1000000px"),t.setAttribute("height","100px"),t.setAttribute("viewBox","0 0 1000000 100");
var r=S("svg:g");r.style.opacity="0";var i=!0,a=!1,s=void 0;try{for(var o=void 0,l=t.children[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r.append(u)}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}t.append(r);var d=$traceurRuntime.spread(t.querySelectorAll("symbol")),h={},f=1e5,v=!0,m=!1,b=void 0;
try{for(var g=void 0,p=d[Symbol.iterator]();!(v=(g=p.next()).done);v=!0){var y=g.value,_=S("svg:use");
_.setAttribute("width","100"),_.setAttribute("height","100"),_.setAttribute("x",f),
_.href.baseVal="#"+y.id,t.append(_),h[y.id]=f,f+=200}}catch(x){m=!0,b=x}finally{try{
v||null==p["return"]||p["return"]()}finally{if(m)throw b}}var w=V(t,"xml"),C=S("canvas"),k=C.getContext("2d"),E=new Blob([w],{
type:"image/svg+xml;charset=utf-8"}),A=URL.createObjectURL(E),T=new Image,L=function(t){
for(var r=0===d.length;t.timeRemaining()>20&&r===!1;){var i=d.pop(),a=h[i.id];r=0===d.length,
k.clearRect(0,0,100,100),k.drawImage(T,-a,0),e(i.id,C.toDataURL("image/png"),r)}r===!1?requestIdleCallback(L):(URL.revokeObjectURL(A),
n&&n())};T.addEventListener("load",function(){C.width=100,C.height=100,requestIdleCallback(L);
}),T.src=A},$=function(t,e,n){t=t.cloneNode(!0),t.setAttribute("width","1000000px"),
t.setAttribute("height","100px"),t.setAttribute("viewBox","0 0 1000000 100");var r=S("svg:g");
r.style.opacity="0";var i=!0,a=!1,s=void 0;try{for(var o=void 0,l=t.children[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r.append(u)}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}t.append(r);var d={},h=1e5,f=$traceurRuntime.spread(t.querySelectorAll("pattern"));
f=f.filter(function(t){return p(t)===!1});var v=!0,m=!1,b=void 0;try{for(var g=void 0,y=f[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){
var _=g.value;_.removeAttribute("patternTransform");var x=S("svg:rect");x.setAttribute("width","100"),
x.setAttribute("height","100"),x.setAttribute("x",h),x.setAttribute("fill",'url("#'+_.id+'")'),
t.append(x),d[_.id]=h,h+=200}}catch(w){m=!0,b=w}finally{try{v||null==y["return"]||y["return"]();
}finally{if(m)throw b}}var C=V(t,"xml"),k=S("canvas"),E=k.getContext("2d"),A=new Blob([C],{
type:"image/svg+xml;charset=utf-8"}),T=URL.createObjectURL(A),L=new Image,M=function(t){
for(var r=0===f.length;t.timeRemaining()>20&&r===!1;){var i=f.pop(),a=d[i.id];r=0===f.length,
E.clearRect(0,0,100,100),E.drawImage(L,-a,0),e(i.id,k.toDataURL("image/png"),r)}r===!1?requestIdleCallback(M):(URL.revokeObjectURL(T),
n&&n())};L.addEventListener("load",function(){k.width=100,k.height=100,requestIdleCallback(M);
}),L.src=T},W=function(r){for(var i,a=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT);i=a.nextNode();)if(i.nodeName.includes(":"))if(i.nodeName.startsWith("bx:")){
var s=i.nodeName.split(":")[1],o=document.createElement("bx-"+s),l=!0,d=!1,b=void 0;
try{for(var g=void 0,p=$traceurRuntime.spread(i.attributes)[Symbol.iterator]();!(l=(g=p.next()).done);l=!0){
var y=g.value;o.setAttribute(y.name,y.value)}}catch(_){d=!0,b=_}finally{try{l||null==p["return"]||p["return"]();
}finally{if(d)throw b}}var w=!0,S=!1,C=void 0;try{for(var k=void 0,E=$traceurRuntime.spread(i.childNodes)[Symbol.iterator]();!(w=(k=E.next()).done);w=!0){
var L=k.value;o.append(L)}}catch(M){S=!0,C=M}finally{try{w||null==E["return"]||E["return"]();
}finally{if(S)throw C}}i.replace(o)}else i.remove();else{var j=!0,R=!1,O=void 0;try{
for(var P=void 0,I=$traceurRuntime.spread(i.attributes)[Symbol.iterator]();!(j=(P=I.next()).done);j=!0){
var D=P.value,N=D.name,V=D.value;if(N.includes(":")){if("xlink:href"===N)continue;
if(N.startsWith("bx:")){var B=N.split(":")[1];i.setAttribute("data-bx-"+B,V),i.removeAttribute(N);
}else i.removeAttribute(N)}}}catch(U){R=!0,O=U}finally{try{j||null==I["return"]||I["return"]();
}finally{if(R)throw O}}}for(a=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT);i=a.nextNode();)if("#comment"!==i.nodeName)if(T.includes(i.nodeName))i.remove();else if("script"!==i.nodeName&&"foreignObject"!==i.nodeName&&"title"!==i.nodeName&&"metadata"!==i.nodeName&&"switch"!==i.nodeName){
if("path"===i.nodeName)if(i.hasAttribute("data-bx-is")){var z=i.getAttribute("data-bx-is"),G=null;
if("bx-rectpath"===z?G=t.fromSVGPath(i):"bx-ringpath"===z?G=e.fromSVGPath(i):"bx-starpath"===z&&(G=n.fromSVGPath(i)),
G){i.replace(G);continue}var H=!0,F=!1,q=void 0;try{for(var $=void 0,W=$traceurRuntime.spread(i.attributes)[Symbol.iterator]();!(H=($=W.next()).done);H=!0){
var Y=$.value,Q=Y.name;Y.value;Q.startsWith("data-bx-")&&i.removeAttribute(Q)}}catch(tt){
F=!0,q=tt}finally{try{H||null==W["return"]||W["return"]()}finally{if(F)throw q}}}else i.hasAttribute("is");else{
if("circle"===i.nodeName){i.replace(h(i));continue}if("rect"===i.nodeName){i.replace(t.fromSVGRect(i));
continue}if("line"===i.nodeName){i.replace(f(i));continue}if("polyline"===i.nodeName){
i.replace(v(i));continue}if("polygon"===i.nodeName){i.replace(m(i));continue}if("linearGradient"===i.nodeName)u(i);else if("radialGradient"===i.nodeName)c(i);else if("text"===i.nodeName)x(i);else if("symbol"===i.nodeName){
if(i.hasAttribute("id")===!1){for(var et=0;null!==r.querySelector("#symbol-"+et);)et+=1;
i.setAttribute("id","symbol-"+et)}}else if("pattern"===i.nodeName&&i.hasAttribute("id")===!1){
for(var nt=0;null!==r.querySelector("#pattern-"+nt);)nt+=1;i.setAttribute("id","pattern-"+nt);
}}var rt=!0,it=!1,at=void 0;try{for(var st=void 0,ot=$traceurRuntime.spread(i.attributes)[Symbol.iterator]();!(rt=(st=ot.next()).done);rt=!0){
var lt=st.value;if("requiredFeatures"===lt.name||"requiredExtensions"===lt.name||"externalResourcesRequired"===lt.name||"systemLanguage"===lt.name)i.removeAttribute(lt.name);else if(lt.name.startsWith("on"))i.removeAttribute(lt.name);else if(A.includes(lt.name)){
var ut=lt.name;""===i.style.getPropertyValue(ut)&&i.style.setProperty(ut,i.getAttribute(ut)),
i.removeAttribute(lt.name)}}}catch(ct){it=!0,at=ct}finally{try{rt||null==ot["return"]||ot["return"]();
}finally{if(it)throw at}}}else i.remove();else i.remove();Z(r),X(r),K(r),J(r)},Y=function(t){
for(var e,n=void 0!==arguments[1]?arguments[1]:"xml",r=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);e=r.nextNode();)if("path"===e.localName){
if(e.hasAttribute("is")){var i=e.getAttribute("is");if("bx-rectpath"===i){var a=e.toSVGRect();
if(a)e.replace(a);else{var s=e.toSVGPath();e.replace(s)}}else if("bx-ringpath"===i||"bx-starpath"===i){
var o=e.toSVGPath();e.replace(o)}else e.remove()}}else"ellipse"===e.localName||"style"===e.localName&&""===y(e.textContent)&&e.remove();
if(C(t),"xml"===n){for(var l,u=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),c=!1,d=!1;l=u.nextNode();)if(l.localName.startsWith("bx-")){
d=!0;var h=document.createElementNS(R,"bx:"+l.localName.substring(3)),f=!0,v=!1,m=void 0;
try{for(var b=void 0,g=$traceurRuntime.spread(l.attributes)[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var p=b.value;h.setAttribute(p.name,p.value)}}catch(_){v=!0,m=_}finally{try{f||null==g["return"]||g["return"]();
}finally{if(v)throw m}}var x=!0,w=!1,S=void 0;try{for(var k=void 0,E=$traceurRuntime.spread(l.childNodes)[Symbol.iterator]();!(x=(k=E.next()).done);x=!0){
var A=k.value;h.append(A)}}catch(T){w=!0,S=T}finally{try{x||null==E["return"]||E["return"]();
}finally{if(w)throw S}}l.replace(h)}else{var O=!0,P=!1,I=void 0;try{for(var D=void 0,N=$traceurRuntime.spread(l.attributes)[Symbol.iterator]();!(O=(D=N.next()).done);O=!0){
var V=D.value;if("xlink:href"===V.name)c=!0;else if(V.name.startsWith("data-bx-")){
var B=V.name.substring(8);l.setAttributeNS(R,"bx:"+B,V.value),l.removeAttribute(V.name),
d=!0}}}catch(U){P=!0,I=U}finally{try{O||null==N["return"]||N["return"]()}finally{
if(P)throw I}}}t.setAttributeNS(L,"xmlns",j),c&&t.setAttributeNS(L,"xmlns:xlink",M),
d&&t.setAttributeNS(L,"xmlns:bx",R)}},X=function(t){var e,n,r,a=null,l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=t.querySelectorAll("style")[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
for(var v=h.value,m=[],b=0,g=v.sheet.rules.length;g>b;b+=1){var p=v.sheet.rules[b];
if(s(p)){var y=!0,x=!1,w=void 0;try{for(var C=function(){var t=k.value,i=(n=t[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),a=(r=n.next()).done?void 0:r.value,s=l.find(function(t){
return t.family===i});s?(e=s.faces).push.apply(e,$traceurRuntime.spread(a)):l.push({
family:i,faces:a})},k=void 0,E=o(p)[Symbol.iterator]();!(y=(k=E.next()).done);y=!0)C();
}catch(A){x=!0,w=A}finally{try{y||null==E["return"]||E["return"]()}finally{if(x)throw w;
}}m.push(b)}}if(m.length>0){var T=!0,L=!1,M=void 0;try{for(var j=void 0,R=m.reverse()[Symbol.iterator]();!(T=(j=R.next()).done);T=!0){
var O=j.value;v.sheet.deleteRule(O)}}catch(P){L=!0,M=P}finally{try{T||null==R["return"]||R["return"]();
}finally{if(L)throw M}}_(v),0===v.sheet.rules.length&&(null===a?a=v:v.remove())}}
}catch(I){c=!0,d=I}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw d;
}}if(l.length>0){if(null===a){a=S("svg:style");var D=t.querySelector("defs");D.insertBefore(a,D.querySelector("style"));
}var N="@import url(https://fonts.googleapis.com/css?family=";l.sort(function(t,e){
return t.family>e.family});var V=!0,B=!1,U=void 0;try{for(var z=void 0,G=l[Symbol.iterator]();!(V=(z=G.next()).done);V=!0){
var H=z.value,F=H,q=F.family,$=F.faces;$=i($),$.sort(),H!==l[0]&&(N+="|"),N+=q.replaceAll(" ","+")+":"+$.join(",");
}}catch(W){B=!0,U=W}finally{try{V||null==G["return"]||G["return"]()}finally{if(B)throw U;
}}N+=");",a.textContent=N,a.id="bx-google-fonts"}},Z=function(t){var e,n=t.querySelectorAll("defs");
if(0===n.length)e=S("svg:defs"),t.prepend(e);else if(1===n.length)e=n[0],e.parentElement!==t&&t.prepend(e);else if(n.length>1){
e=S("svg:defs");var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=n[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value,u=!0,c=!1,d=void 0;try{for(var h=void 0,f=$traceurRuntime.spread(l.children)[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;e.append(v)}}catch(m){c=!0,d=m}finally{try{u||null==f["return"]||f["return"]();
}finally{if(c)throw d}}l.remove()}}catch(b){i=!0,a=b}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}t.prepend(e)}var g=!0,p=!1,y=void 0;try{for(var _=void 0,x=t.querySelectorAll("symbol")[Symbol.iterator]();!(g=(_=x.next()).done);g=!0){
var w=_.value;e.contains(w)===!1&&e.append(w)}}catch(C){p=!0,y=C}finally{try{g||null==x["return"]||x["return"]();
}finally{if(p)throw y}}var k=!0,E=!1,A=void 0;try{for(var T=void 0,L=t.querySelectorAll("style")[Symbol.iterator]();!(k=(T=L.next()).done);k=!0){
var M=T.value;e.contains(M)===!1&&e.append(M)}}catch(j){E=!0,A=j}finally{try{k||null==L["return"]||L["return"]();
}finally{if(E)throw A}}},K=function(t){},J=function(t){var e,n,r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t.querySelectorAll("pattern")[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value,u=g(l).patternUnits;u===I&&(l.hasAttribute("x")&&l.x.baseVal.unitType===N&&l.setAttribute("x",l.x.baseVal.valueInSpecifiedUnits/100),
l.hasAttribute("y")&&l.y.baseVal.unitType===N&&l.setAttribute("y",l.y.baseVal.valueInSpecifiedUnits/100),
l.hasAttribute("width")&&l.width.baseVal.unitType===N&&l.setAttribute("width",l.width.baseVal.valueInSpecifiedUnits/100),
l.hasAttribute("height")&&l.height.baseVal.unitType===N&&l.setAttribute("height",l.height.baseVal.valueInSpecifiedUnits/100));
}}catch(c){i=!0,a=c}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a;
}}for(var d=$traceurRuntime.spread(t.querySelectorAll("pattern")),h=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),f=null,v=Symbol();f=h.nextNode();){
var m=!0,b=!1,p=void 0;try{for(var y=function(){var t=_.value,e=f.style[t];if(e&&e.startsWith("url(")){
var n=e.substring(6,e.length-2),r=d.find(function(t){return t.id===n});r&&(r[v]||(r[v]=[]),
r[v].push([f,t]))}},_=void 0,x=["fill","stroke"][Symbol.iterator]();!(m=(_=x.next()).done);m=!0)y();
}catch(w){b=!0,p=w}finally{try{m||null==x["return"]||x["return"]()}finally{if(b)throw p;
}}}var C=!0,k=!1,E=void 0;try{for(var A=void 0,T=d[Symbol.iterator]();!(C=(A=T.next()).done);C=!0){
var L=A.value,M=L[v]||[],j=t.querySelector("defs");if(M.length>1){M.shift();var R=!0,O=!1,P=void 0;
try{for(var D=void 0,V=M[Symbol.iterator]();!(R=(D=V.next()).done);R=!0){for(var B=D.value,U=(e=B[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),z=(n=e.next()).done?void 0:n.value,G=0,H=void 0;;){
G+=1;var F=L.id+"-"+G;if(null===t.querySelector("#"+F)){H=F;break}}var q=S("svg:pattern");
q.setAttribute("id",H),q.setAttribute("href","#"+L.getAttribute("id")),L.hasAttribute("patternTransform")?q.setAttribute("patternTransform",L.getAttribute("patternTransform")):q.setAttribute("patternTransform",""),
j.append(q),U.style[z]='url("#'+H+'")'}}catch($){O=!0,P=$}finally{try{R||null==V["return"]||V["return"]();
}finally{if(O)throw P}}}}}catch(W){k=!0,E=W}finally{try{C||null==T["return"]||T["return"]();
}finally{if(k)throw E}}};return{get serializeArtwork(){return V},get isArtworkString(){
return B},get deserializeArtwork(){return U},get rasterizeArtwork(){return z},get uncompressArtwork(){
return G},get resolveConflictingIDs(){return H},get getComputedViewport(){return F;
},get getSymbolThumbnails(){return q},get getPatternThumbnails(){return $}}}),System.registerModule("utils/bbox",[],function(){
"use strict";var t=System.get("utils/dom"),e=t.closest,n=t.createSVGRect,r=System.get("utils/rect").combineRects,i=System.get("utils/text").getRangeOffsetRelativeToElement,a={
fill:!0,stroke:!0,marker:!0,clipped:!0},s=function(t){var s,o=void 0!==arguments[1]?arguments[1]:a;
if("tspan"===t.localName){var l=document.createRange();if(l.selectNodeContents(t),
l.collapsed===!1){for(var u=e(l.startContainer,"text"),c=i(l,u,"start"),d=i(l,u,"end"),h=[],f=c;d>f;f+=1){
var v=u.getExtentOfChar(f);h.push(v)}s=r(h)}else s=n(0,0,0,0)}else if("use"===t.localName){
var m=t.getBBox(),b=m.x,g=m.y,p=m.width,y=m.height;s=n(t.hasAttribute("x")?t.x.baseVal.value:b,t.hasAttribute("y")?t.y.baseVal.value:g,t.hasAttribute("width")?t.width.baseVal.value:p,t.hasAttribute("height")?t.height.baseVal.value:y);
}else s=t.getBBox(o);return s},o=function(t){var e=t.getBoundingClientRect();return n(e.left,e.top,e.width,e.height);
};return{get getUserBBox(){return s},get getClientBBox(){return o}}}),System.registerModule("utils/color",[],function(){
"use strict";var t=System.get("classes/string-scanner")["default"],e=System.get("utils/constants"),n=e.NAMED_COLORS,r=e.MATERIAL_COLORS,i=System.get("utils/math"),a=i.normalize,s=i.round,o=System.get("utils/random").getRandomNumber,l=System.get("utils/type").isNumber,u=Math,c=u.min,d=u.max,h=u.floor,f=Number,v=f.parseFloat,m=f.parseInt,b=function(){
var t=o(0,r.length-1,0);return r[t]},g=function(){return"#"+Math.floor(16777215*Math.random()).toString(16);
},p=function(t){var e=void 0!==arguments[1]?arguments[1]:"rgba",n=System.get("classes/color")["default"];
if("rgba"===e){var r=T(t,"rgba"),i=r.r,a=r.g,s=r.b,o=r.a;return new n(i,a,s,o,"rgba");
}var l=T(t,"hsla"),u=l.h,c=l.s,d=l.l,h=l.a;return new n(u,c,d,h,"hsla")},y=function(t){
try{T(t)}catch(e){return!1}return!0},_=function(t){if(t=t.toLowerCase(),"#"!==t[0])return!1;
if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
if(!e.includes(o))return!1}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return!0},x=function(t,e,n){t/=360,e/=100,n/=100;var r=t,i=(2-e)*n,a=e*n;
return 1>=i?0===i?a=0:a/=i:2===i?a=0:a/=2-i,i/=2,r=360*r,a=100*d(0,c(1,a)),i=100*d(0,c(1,i)),
[r,a,i]},w=function(t,e,n){t/=360,e/=100,n=n/100*2,e*=1>=n?n:2-n;var r,i,a=t;return r=n+e===0?0:2*e/(n+e),
i=(n+e)/2,a=360*a,r=100*d(0,c(1,r)),i=100*d(0,c(1,i)),[a,r,i]},S=function(t,e,n){
t/=360,e/=100,n/=100;var r,i,s;if(0===e)r=i=s=n;else{var o,l,u=function(t,e,n){return 0>n&&(n+=1),
n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t};o=.5>n?n*(1+e):n+e-n*e,
l=2*n-o,r=u(l,o,t+1/3),i=u(l,o,t),s=u(l,o,t-1/3)}return r=a(255*r,0,255,0),i=a(255*i,0,255,0),
s=a(255*s,0,255,0),[r,i,s]},C=function(t,e,n){t/=255,e/=255,n/=255;var r,i,s,o=d(t,e,n),l=c(t,e,n);
if(r=i=s=(o+l)/2,o===l)r=i=0;else{var u=o-l;if(i=s>.5?u/(2-o-l):u/(o+l),o===t){var h;
h=n>e?6:0,r=(e-n)/u+h}else o===e?r=(n-t)/u+2:o===n&&(r=(t-e)/u+4)}return r=a(r/6*360,0,360,0),
i=a(100*i,0,100,1),s=a(100*s,0,100,1),[r,i,s]},k=function(t,e,n){t/=360,e/=100,n/=100;
var r=h(6*t),i=6*t-r,a=n*(1-e),s=n*(1-i*e),o=n*(1-(1-i)*e),l=0,u=0,c=0;return r%6===0?(l=n,
u=o,c=a):r%6===1?(l=s,u=n,c=a):r%6===2?(l=a,u=n,c=o):r%6===3?(l=a,u=s,c=n):r%6===4?(l=o,
u=a,c=n):r%6===5&&(l=n,u=a,c=s),l=255*l,u=255*u,c=255*c,[l,u,c]},E=function(t,e,n){
t/=255,e/=255,n/=255;var r=d(t,e,n),i=c(t,e,n),a=0,s=0,o=r,l=r-i;return s=0===r?0:l/r,
r===i?a=0:(r===t?a=(e-n)/l+(n>e?6:0):r===e?a=(n-t)/l+2:r===n&&(a=(t-e)/l+4),a/=6),
a=360*a,s=100*s,o=100*o,[a,s,o]},A=function(t,e){var n=T(t),r=L(n,e);return r},T=function(t){
var e,r,i,s,o,u=void 0!==arguments[1]?arguments[1]:"auto",c=M(t);if(7===c.length&&"rgb("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"NUM"===c[3].type&&","===c[4].text&&"NUM"===c[5].type&&")"===c[6].text)o={
r:v(c[1].text),g:v(c[3].text),b:v(c[5].text),a:1};else if(7===c.length&&"rgb("===c[0].text&&"PERCENTAGE"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&")"===c[6].text)o={
r:v(c[1].text)/100*255,g:v(c[3].text)/100*255,b:v(c[5].text)/100*255,a:1};else if(9===c.length&&"rgba("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"NUM"===c[3].type&&","===c[4].text&&"NUM"===c[5].type&&","===c[6].text&&"NUM"===c[7].type&&")"===c[8].text)o={
r:v(c[1].text),g:v(c[3].text),b:v(c[5].text),a:v(c[7].text)};else if(9===c.length&&"rgb("===c[0].text&&"PERCENTAGE"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&","===c[6].text&&"NUM"===c[7].type&&")"===c[8].text)o={
r:v(c[1].text)/100*255,g:v(c[3].text)/100*255,b:v(c[5].text)/100*255,a:v(c[7].text)
};else if(7===c.length&&"hsl("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&")"===c[6].text)o={
h:v(c[1].text),s:v(c[3].text),l:v(c[5].text),a:1};else if(9===c.length&&"hsla("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&","===c[6].text&&"NUM"===c[7].type&&")"===c[8].text)o={
h:v(c[1].text),s:v(c[3].text),l:v(c[5].text),a:v(c[7].text)};else if("HEX"===c[0].type&&void 0===c[1]){
var d,h,f,b=c[0].text.substring(1);3===b.length?(d=b[0]+b[0],h=b[1]+b[1],f=b[2]+b[2]):(d=b[0]+b[1],
h=b[2]+b[3],f=b[4]+b[5]),o={r:m(d,16),g:m(h,16),b:m(f,16),a:1}}else n[t]&&(o={r:n[t][0],
g:n[t][1],b:n[t][2],a:1});if(!o)throw o=null,new Error('Invalid color string: "'+t+'"');
if(l(o.r)?(o.r=a(o.r,0,255,0),o.g=a(o.g,0,255,0),o.b=a(o.b,0,255,0),o.a=a(o.a,0,1,2)):l(o.h)&&(o.h=a(o.h,0,360,0),
o.s=a(o.s,0,100,1),o.l=a(o.l,0,100,1),o.a=a(o.a,0,1,2)),"rgba"===u&&l(o.h)){var g=S(o.h,o.s,o.l),p=(e=g[Symbol.iterator](),
(r=e.next()).done?void 0:r.value),y=(r=e.next()).done?void 0:r.value,_=(r=e.next()).done?void 0:r.value,x=o.a;
o={r:p,g:y,b:_,a:x}}else if("hsla"===u&&l(o.r)){var w=C(o.r,o.g,o.b),k=(i=w[Symbol.iterator](),
(s=i.next()).done?void 0:s.value),E=(s=i.next()).done?void 0:s.value,A=(s=i.next()).done?void 0:s.value,T=o.a;
o={h:k,s:E,l:A,a:T}}return o},L=function(t){var e,n,r,i,o,u,c=void 0!==arguments[1]?arguments[1]:"rgba",d=null;
if(["rgb","rgba","rgb%","rgba%","hex"].includes(c)){var h,f,v,m;if(l(t.r)?(h=t.r,
f=t.g,v=t.b,m=t.a):(e=S(t.h,t.s,t.l),n=e[Symbol.iterator](),h=(r=n.next()).done?void 0:r.value,
f=(r=n.next()).done?void 0:r.value,v=(r=n.next()).done?void 0:r.value,e,m=t.a),("rgb%"===c||"rgba%"===c)&&(h=s(h/255*100,1),
f=s(f/255*100,1),v=s(v/255*100,1)),h=a(h,0,255,0),f=a(f,0,255,0),v=a(v,0,255,0),m=a(m,0,1,2),
"rgb"===c)d="rgb("+h+", "+f+", "+v+")";else if("rgba"===c)d="rgba("+h+", "+f+", "+v+", "+m+")";else if("rgb%"===c)d="rgb("+h+"%, "+f+"%, "+v+"%)";else if("rgba%"===c)d="rgb("+h+"%, "+f+"%, "+v+"%, "+m+")";else if("hex"===c){
var b=h.toString(16),g=f.toString(16),p=v.toString(16);1===b.length&&(b="0"+b),1===g.length&&(g="0"+g),
1===p.length&&(p="0"+p),d="#"+b+g+p}}else if("hsl"===c||"hsla"===c){var y,_,x,w;l(t.h)?(y=t.h,
_=t.s,x=t.l,w=t.a):(i=C(t.r,t.g,t.b),o=i[Symbol.iterator](),y=(u=o.next()).done?void 0:u.value,
_=(u=o.next()).done?void 0:u.value,x=(u=o.next()).done?void 0:u.value,i,w=t.a),y=a(y,0,360,0),
_=a(_,0,100,1),x=a(x,0,100,1),w=a(w,0,1,2),"hsl"===c?d="hsl("+y+", "+_+"%, "+x+"%)":"hsla"===c&&(d="hsla("+y+", "+_+"%, "+x+"%, "+w+")");
}return d},M=function(e){for(var n=[],r=new t(e.toLowerCase()),i=function(){var t=r.read();
!function(){if("r"===t||"h"===t){var e=t;if(t+r.peek(3)==="rgb("?e+=r.read(3):t+r.peek(4)==="rgba("?e+=r.read(4):t+r.peek(3)==="hsl("?e+=r.read(3):t+r.peek(4)==="hsla("&&(e+=r.read(4)),
e!==t)return void n.push({type:"FUNCTION",text:e})}if("#"===t){if(_(t+r.peek(6))){
var i=t+r.read(6);return void n.push({type:"HEX",text:i})}if(_(t+r.peek(3)))return e=t+r.read(3),
void n.push({type:"HEX",text:e})}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){
for(var a=t;;){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(r.peek()))break;
a+=r.read()}return void("%"===r.peek()?(a+=r.read(),n.push({type:"PERCENTAGE",text:a
})):n.push({type:"NUM",text:a}))}/\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||n.push({
type:"CHAR",text:t})}()};null!==r.peek();)i();return n};return{get getRandomMaterialColor(){
return b},get getRandomHexColorString(){return g},get parseColor(){return p},get isValidColorString(){
return y},get isHexColorString(){return _},get hsvToHsl(){return x},get hslToHsv(){
return w},get hslToRgb(){return S},get rgbToHsl(){return C},get hsvToRgb(){return k;
},get rgbToHsv(){return E},get formatColorString(){return A},get stringToColor(){
return T},get colorToString(){return L}}}),System.registerModule("utils/constants",[],function(){
"use strict";var t="http://www.w3.org/2000/svg",e="http://www.w3.org/1999/xlink",n="http://www.w3.org/1999/xhtml",r="http://www.w3.org/1998/Math/MathML",i="http://www.w3.org/2000/xmlns/",a="http://www.boxy-svg.com/bx",s="AIzaSyBZd8UahlnRn53EWC7snRmOAuuktqBaP6k",o=["path","circle","ellipse","line","rect","polygon","polyline","image","text","solidColor","linearGradient","radialGradient","pattern","mesh","meshRow","meshPatch","hatch","hatchPath","stop","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","title","desc","metadata","svg","defs","g","a","symbol","marker","switch","use","view","tspan","textPath","clipPath","mask","script","style","foreignObject"],l=["font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","altGlyph","altGlyphDef","altGlyphItem","glyph","glyphRef","missing-glyph","hkern","vkern","set","animate","animateColor","animateMotion","animateTransform","mpath","cursor","tref","color-profile"],u=["solidColor","linearGradient","radialGradient","mesh","pattern","hatch"],c=["a","defs","g","marker","mask","pattern","svg","switch","symbol"],d=["circle","ellipse","image","line","path","polygon","polyline","rect","text","use"],h=["a","g","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","foreignObject"],f=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],v=["circle","ellipse","line","path","polygon","polyline","rect"],m=["text","textPath","tspan"],b=["alignment-baseline","baseline-shift","clip-path","clip-rule","clip","color-interpolation-filters","color-interpolation","color-profile","color-rendering","color","cursor","direction","display","dominant-baseline","enable-background","fill-opacity","fill-rule","fill","filter","flood-color","flood-opacity","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","text-rendering","unicode-bidi","vector-effect","visibility","word-spacing","writing-mode"],g=["direction","dominant-baseline","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","kerning","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],p=["glyph-orientation-horizontal","glyph-orientation-vertical"],y={
aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],
azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],
blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],
cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],
cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],
darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],
darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],
darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],
darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],
darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],
deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],
firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],
gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],
gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],
khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],
lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],
lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],
lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],
lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],
linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],
mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],
mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],
moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],
olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],
orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],
palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],
pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],
salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],
sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],
slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],
steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],
turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],
whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_=["#f44336","#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000","#e91e63","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162","#9c27b0","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff","#673ab7","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea","#3f51b5","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe","#2196f3","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff","#03a9f4","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea","#00bcd4","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4","#009688","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5","#4caf50","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853","#8bc34a","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17","#cddc39","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00","#ffeb3b","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00"," #ffd600","#ffc107","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107"," #ffb300","#ffa000"," #ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00","#ff9800","#fff3e0"," #ffe0b2","#ffcc80"," #ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180"," #ffab40"," #ff9100"," #ff6d00","#ff5722","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722"," #f4511e"," #e64a19"," #d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00","#795548","#efebe9"," #d7ccc8"," #bcaaa4"," #a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723","#9e9e9e"," #fafafa"," #f5f5f5"," #eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242"," #212121"," #607d8b"," #eceff1"," #cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64"," #37474f"," #263238"," #000000"," #ffffff"],x={
100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],
300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],
500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],
700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],
900:["900","800","700","600","500","400","300","200","100"]};return{get SVG_NAMESPACE(){
return t},get XLINK_NAMESPACE(){return e},get XHTML_NAMESPACE(){return n},get MATHML_NAMESPACE(){
return r},get XMLNS_NAMESPACE(){return i},get BX_NAMESPACE(){return a},get GOOGLE_FONTS_API_KEY(){
return s},get SVG_ELEMENTS(){return o},get DEPRACATED_SVG_ELEMENTS(){return l},get PAINT_SERVER_ELEMENTS(){
return u},get CONTAINER_ELEMENTS(){return c},get GRAPHICS_ELEMENTS(){return d},get TRANSFORMABLE_ELEMENTS(){
return h},get FILTER_ELEMENTS(){return f},get SHAPE_ELEMENTS(){return v},get TEXT_CONTENT_ELEMENTS(){
return m},get PROPERTIES(){return b},get TEXT_PROPERTIES(){return g},get DEPRACATED_PROPERTIES(){
return p},get NAMED_COLORS(){return y},get MATERIAL_COLORS(){return _},get FONT_WEIGHTS_BY_MATCHING_ORDER(){
return x}}}),System.registerModule("utils/dom",[],function(){"use strict";var t=System.get("utils/type").isNumber,e=System.get("utils/constants"),n=e.TRANSFORMABLE_ELEMENTS,r=e.CONTAINER_ELEMENTS,i=e.GRAPHICS_ELEMENTS,a=e.SVG_NAMESPACE,s=document.createElementNS(a,"svg"),o=function(t){
var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.append(n.firstChild);
return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null},l=function(t){
var e=document.createDocumentFragment(),n=document.createElementNS(a,"svg");for(n.innerHTML=t;n.firstChild;)e.append(n.firstChild);
return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null},u=function(t,e){
var n=void 0!==arguments[2]?arguments[2]:null;if(null===n){var r=e;return document.registerElement(t,r);
}var i=e,a=n;return document.registerElement(i,{"extends":t,prototype:a.prototype
})},c=function(t){var e,n,r,i,s=void 0!==arguments[1]?arguments[1]:null,o=t.split(":"),l=null;
if(1===o.length){var u=(e=o[Symbol.iterator](),(n=e.next()).done?void 0:n.value);l=document.createElement(u,s);
}else if(2===o.length){var c=o,d=(r=c[Symbol.iterator](),(i=r.next()).done?void 0:i.value),h=(i=r.next()).done?void 0:i.value;
"svg"===d&&(l=document.createElementNS(a,h,s))}return l},d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];
var n=s.createSVGPoint(),r=t.length;return 0===r?(n.x=0,n.y=0):1===r?(n.x=t[0].x,
n.y=t[0].y):(n.x=t[0],n.y=t[1]),n},h=function(){var t=void 0!==arguments[0]?arguments[0]:0,e=s.createSVGLength();
return e.valueAsString=t,e},f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];
var n=s.createSVGRect(),r=t.length;return 0===r?(n.x=0,n.y=0,n.width=0,n.height=0):1===r?(n.x=t[0].x,
n.y=t[0].y,n.width=t[0].width,n.height=t[0].height):(n.x=t[0],n.y=t[1],n.width=t[2],
n.height=t[3]),n},v=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];
var r=s.createSVGMatrix(),i=e.length;if(0===i)r.a=1,r.b=0,r.c=0,r.d=1,r.e=0,r.f=0;else if(1===i){
var a=e[0];t(a.a)?(r.a=a.a,r.b=a.b,r.c=a.c,r.d=a.d,r.e=a.e,r.f=a.f):a instanceof Array&&(r.a=a[0],
r.b=a[1],r.c=a[2],r.d=a[3],r.e=a[4],r.f=a[5])}else{if(6!==i)throw new Error("Invalid number of arguments");
var o=e;r.a=o[0],r.b=o[1],r.c=o[2],r.d=o[3],r.e=o[4],r.f=o[5]}return r},m=function(){
var t,e=void 0!==arguments[0]?arguments[0]:null;return t=e?s.createSVGTransformFromMatrix(e):s.createSVGTransform();
},b=function(t){for(var e,n=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null),r={
text:!0,textPath:!0,tspan:!0};e=n.nextNode();)r[e.parentElement.localName]||w(e.textContent)&&e.remove();
},g=function(t){var e=void 0!==arguments[1]?arguments[1]:2;b(t);for(var n="",r={text:!0,
textPath:!0,tspan:!0},i=0;e>i;i+=1)n+=" ";var a=function(t){var e=void 0!==arguments[1]?arguments[1]:2;
if(!r[t.localName]){var i=!0,s=!1,o=void 0;try{for(var l=void 0,u=t.children[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=t.firstChild===c,h=t.lastChild===c;if(d===!0){var f=document.createTextNode("\n");
c.parentNode.insertBefore(f,c)}for(var v="",m=0;e>m;m+=1)v+=n;var b=document.createTextNode(v);
if(t.insertBefore(b,c),h===!0){var g=document.createTextNode("\n");t.appendChild(g);
for(var p="",y=0;e-1>y;y+=1)p+=n;var _=document.createTextNode(p);t.appendChild(_);
}else{var x=document.createTextNode("\n");t.insertBefore(x,c.nextSibling)}c.childElementCount>0&&a(c,e+1);
}}catch(w){s=!0,o=w}finally{try{i||null==u["return"]||u["return"]()}finally{if(s)throw o;
}}}};a(t,1)},p=function(t){for(var e=t;e;e=e.parentNode||e.host)if(e===document)return!0;
return!1},y=function(t){return n.includes(t.localName)?!0:!1},_=function(t){return i.includes(t.localName)?!0:!1;
},x=function(t){return r.includes(t.localName)?!0:!1},w=function(t){return!/[^\t\n\r ]/.test(t);
},S=function(t,e){return document.elementFromPoint(t,e)},C=function(t,e){for(;t;){
if(t.localName===e)return t;t=t.parentElement}},k=function(t){for(var e=t;e;e=e.parentNode)if(e instanceof ShadowRoot||e===window.document)return e;
},E=function(t){if(p(t))return function(){};for(var e=null,n=t;n;n=n.parentNode||n.host)e=n;
var r="\n      position: fixed;\n      top: -200px;\n      left: -200px;\n      width: 100px;\n      height: 100px;\n      opacity: 0;\n      display: block;\n    ",i=c("div");
i.setAttribute("style",r),i.createShadowRoot(),i.shadowRoot.append(e),document.body.append(i);
var a=function(){e.remove(),i.remove()};return a},A=function(t,e){var n=void 0!==arguments[2]?arguments[2]:[],r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value,u=l.name,c=l.value;n.includes(u)===!1&&e.setAttribute(u,c)}}catch(d){
i=!0,a=d}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}var h=!0,f=!1,v=void 0;
try{for(var m=void 0,b=e.attributes[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value.name;t.hasAttribute(g)===!1&&n.includes(g)===!1&&e.removeAttribute(g);
}}catch(p){f=!0,v=p}finally{try{h||null==b["return"]||b["return"]()}finally{if(f)throw v;
}}},T=function(t,e){e.parentElement.insertBefore(t,e.nextSibling)},L=function(t){
switch(t){case 0:return"";case 1:return"";case 2:return"%";case 3:return"ems";case 4:
return"exs";case 5:return"px";case 6:return"cm";case 7:return"mm";case 8:return"in";
case 9:return"pt";case 10:return"pc";default:return""}};return{get parseHTML(){return o;
},get parseSVG(){return l},get registerElement(){return u},get createElement(){return c;
},get createSVGPoint(){return d},get createSVGLength(){return h},get createSVGRect(){
return f},get createSVGMatrix(){return v},get createSVGTransform(){return m},get stripWhitespace(){
return b},get normalizeWhitespace(){return g},get isElementConnectedToDocument(){
return p},get isTransformableElement(){return y},get isGraphicsElement(){return _;
},get isContainer(){return x},get isDOMWhiteSpace(){return w},get getElementFromPoint(){
return S},get closest(){return C},get getClosestShadowRoot(){return k},get connectElementToDocument(){
return E},get mirrorAttributes(){return A},get insertAfter(){return T},get unitTypeToString(){
return L}}}),System.registerModule("utils/event",[],function(){"use strict";var t=Math,e=t.sqrt,n=t.pow,r=function(t,r){
var i=void 0!==arguments[2]?arguments[2]:3,a=e(n(r.clientX-t.clientX,2)+n(r.clientY-t.clientY,2));
return i>a&&r.timeStamp-t.timeStamp<50?!1:!0};return{get isMouseMoveIntentional(){
return r}}}),System.registerModule("utils/font",[],function(){"use strict";var t=System.get("utils/constants").FONT_WEIGHTS_BY_MATCHING_ORDER,e=System.get("utils/dom"),n=e.createSVGMatrix,r=e.createSVGPoint,i=System.get("libs/opentype")["default"],a=Math,s=a.tan,o=a.PI,l=function(t){
switch(t){case"normal":return"400";case"bold":return"700";default:return t}},u=function(t){
var e=l(t);switch(e){case"100":return"Thin";case"200":return"Extra-Light";case"300":
return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";
case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:
return"Normal"}},c=function(e,n){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t[e][Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;if(n.includes(l))return l}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}},d=function(t){switch(t){case"regular":return"400";case"bold":
return"700";case"italic":return"400italic";case"bolditalic":return"700italic";case"r":
return"400";case"b":return"700";case"i":return"400italic";default:return t}},h=function(e){
var n=void 0!==arguments[1]?arguments[1]:"400",r=void 0!==arguments[2]?arguments[2]:"normal",i=function(t,e){
var n=t.filter(function(t){return"normal"===e?t.endsWith("italic")===!1:"italic"===e||"oblique"===e?t.endsWith("italic")===!0:void 0;
});return 0===n.length&&(n=$traceurRuntime.spread(t)),n},a=function(e,n){var r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t[n][Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=e[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var v=h.value;
if(v.substring(0,3)===l)return v}}catch(m){c=!0,d=m}finally{try{u||null==f["return"]||f["return"]();
}finally{if(c)throw d}}}}catch(b){i=!0,a=b}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return e[0]},s=i(e,r),o=a(s,n);return o},f=function(t){if(t.type===CSSRule.IMPORT_RULE&&t.href){
var e=new URL(t.href);if("fonts.googleapis.com"===e.host)return!0}return!1},v=function(t){
var e,n,r=new URL(t.href),i=r.search.split("?family=")[1].split("&")[0],a=i.split("|"),s=[],o=!0,l=!1,u=void 0;
try{for(var c=void 0,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var f=c.value,v=f.split(":"),m=(e=v[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),b=(n=e.next()).done?void 0:n.value,g=m.replaceAll("+"," "),p=void 0;
p=b?b.split(",").map(function(t){return d(t)}).sort():["400"],s.push([g,p])}}catch(y){
l=!0,u=y}finally{try{o||null==h["return"]||h["return"]()}finally{if(l)throw u}}return s;
},m=function(t){return new Promise(function(e){i.load(t,function(t,n){return e(t?null:n);
})})},b=function(t){var e;if("M"===t.type||"L"===t.type){var n=t,r=n.type,i=n.x,a=n.y;
e={type:r,x:i,y:a}}else if("Q"===t.type){var s=t,o=s.type,l=s.x1,u=s.y1,c=s.x,d=s.y;
e={type:o,x1:l,y1:u,x:c,y:d}}else if("C"===t.type){var h=t,f=h.type,v=h.x1,m=h.y1,b=h.x2,g=h.y2,p=h.x,y=h.y;
e={type:f,x1:v,y1:m,x2:b,y2:g,x:p,y:y}}else"Z"===t.type&&(e={type:"Z"});return e},g=function(t,e){
var a=o*e/180,l=n({a:1,b:0,c:s(a),d:1,e:0,f:0}),u=[],c=!0,d=!1,h=void 0;try{for(var f=void 0,v=t.commands[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value;if("M"===m.type){var b=r(m.x,m.y).matrixTransform(l);u.push({type:"M",
x:b.x,y:b.y})}else if("L"===m.type){var g=r(m.x,m.y).matrixTransform(l);u.push({type:"L",
x:g.x,y:g.y})}else if("Q"===m.type){var p=r(m.x1,m.y1).matrixTransform(l),y=r(m.x,m.y).matrixTransform(l);
u.push({type:"Q",x1:p.x,y1:p.y,x:y.x,y:y.y})}else if("C"===m.type){var _=(r(m.x1,m.y1).matrixTransform(l),
r(m.x2,m.y2).matrixTransform(l),r(m.x,m.y).matrixTransform(l));u.push({type:"C",x1:controlPoint1.x,
y1:controlPoint1.y,x2:controlPoint2.x,y2:controlPoint2.y,x:_.x,y:_.y})}else"Z"===m.type&&u.push({
type:"Z"})}}catch(x){d=!0,h=x}finally{try{c||null==v["return"]||v["return"]()}finally{
if(d)throw h}}var w=new i.Path;return w.commands=u,w.fill=t.fill,w.stroke=t.stroke,
w.strokeWidth=t.strokeWidth,w},p=function(t,e,n,r){var a=[],s=!0,o=!1,l=void 0;try{
for(var u=void 0,c=t.commands[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;
a.push(b(d))}}catch(h){o=!0,l=h}finally{try{s||null==c["return"]||c["return"]()}finally{
if(o)throw l}}a.push({type:"M",x:0,y:r}),a.push({type:"L",x:e,y:r}),a.push({type:"L",
x:e,y:r-n}),a.push({type:"L",x:0,y:r-n}),a.push({type:"Z"});var f=new i.Path;return f.commands=a,
f.fill=t.fill,f.stroke=t.stroke,f.strokeWidth=t.strokeWidth,f},y=function(t,e){for(var n=new i.Path,r=0;r<t.commands.length;r+=1){
var a=t.commands[r];"M"===a.type?n.moveTo(a.x*e,-a.y*e):"L"===a.type?n.lineTo(a.x*e,-a.y*e):"Q"===a.type?n.quadraticCurveTo(a.x1*e,-a.y1*e,a.x*e,-a.y*e):"C"===a.type?n.curveTo(a.x1*e,-a.y1*e,a.x2*e,-a.y2*e,a.x*e,-a.y*e):"Z"===a.type&&n.closePath();
}return n},_=function(t,e,n,r,i,a){var s=t.path;if(i&&(s=g(s,14)),r){var o=e.ascender/20;
r.includes("underline")&&(s=p(s,t.advanceWidth,o,e.descender/3)),r.includes("overline")&&(s=p(s,t.advanceWidth,o,e.ascender-o)),
r.includes("line-through")&&(s=p(s,t.advanceWidth,o,(e.ascender+e.descender)/2))}
return s=y(s,1/e.unitsPerEm*n)};return{get normalizeFontWeight(){return l},get formatFontWeightForDisplay(){
return u},get matchFontWeight(){return c},get normalizeGoogleFontFace(){return d},
get matchGoogleFontFace(){return h},get isGoogleFontsImportRule(){return f},get parseGoogleFontsImportRule(){
return v},get getOpenTypeFont(){return m},get getOpenTypeGlyphPath(){return _}}}),
System.registerModule("utils/gradient",[],function(){"use strict";var t=System.get("utils/bbox").getUserBBox,e=System.get("utils/color").parseColor,n=System.get("utils/dom"),r=n.createElement,i=n.createSVGMatrix,a=n.createSVGPoint,s=System.get("utils/math"),o=(s.round,
s.normalize),l=SVGLength.SVG_LENGTHTYPE_PERCENTAGE,u=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,c=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod","style"],d=["r","cx","cx","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod","style"],h=function(t){
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=t.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;"stop"!==s.localName&&t.removeChild(s)}}catch(d){n=!0,r=d}finally{try{
e||null==a["return"]||a["return"]()}finally{if(n)throw r}}if(""!==t.href.baseVal){
if(g(t)===!1){var h=p(t),f=!0,v=!1,m=void 0;try{for(var b=void 0,_=h[Symbol.iterator]();!(f=(b=_.next()).done);f=!0){
var x=b.value;t.append(x.cloneNode())}}catch(w){v=!0,m=w}finally{try{f||null==_["return"]||_["return"]();
}finally{if(v)throw m}}}var S=!0,C=!1,k=void 0;try{for(var E=void 0,A=c[Symbol.iterator]();!(S=(E=A.next()).done);S=!0){
var T=E.value;if(t.hasAttribute(T)===!1){var L=y(t,T);null!==L&&t.setAttribute(T,L);
}}}catch(M){C=!0,k=M}finally{try{S||null==A["return"]||A["return"]()}finally{if(C)throw k;
}}t.removeAttribute("href")}var j=0,R=!0,O=!1,P=void 0;try{for(var I=void 0,D=t.children[Symbol.iterator]();!(R=(I=D.next()).done);R=!0){
var N=I.value,V=N.offset.baseVal;j>V&&(V=j),V=o(V,0,1,4),j=V,N.setAttribute("offset",V);
}}catch(B){O=!0,P=B}finally{try{R||null==D["return"]||D["return"]()}finally{if(O)throw P;
}}t.gradientUnits.baseVal===u&&(t.x1.baseVal.unitType===l&&t.setAttribute("x1",t.x1.baseVal.valueInSpecifiedUnits/100),
t.y1.baseVal.unitType===l&&t.setAttribute("y1",t.y1.baseVal.valueInSpecifiedUnits/100),
t.x2.baseVal.unitType===l&&t.setAttribute("x2",t.x2.baseVal.valueInSpecifiedUnits/100),
t.y2.baseVal.unitType===l&&t.setAttribute("y2",t.y2.baseVal.valueInSpecifiedUnits/100));
},f=function(t){if(""!==t.href.baseVal){if(g(t)===!1){var e=p(t),n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;
t.append(c.cloneNode())}}catch(h){r=!0,i=h}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}}var f=!0,v=!1,m=void 0;try{for(var b=void 0,_=d[Symbol.iterator]();!(f=(b=_.next()).done);f=!0){
var x=b.value;if(t.hasAttribute(x)===!1){var w=y(t,x);null!==w&&t.setAttribute(x,w);
}}}catch(S){v=!0,m=S}finally{try{f||null==_["return"]||_["return"]()}finally{if(v)throw m;
}}t.removeAttribute("href")}var C=0,k=function(){var e=0,n=[],r=!0,i=!1,a=void 0;try{
for(var s=void 0,o=t.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n}(),E=!0,A=!1,T=void 0;try{for(var L=void 0,M=k[Symbol.iterator]();!(E=(L=M.next()).done);E=!0){
var j=L.value,R=j.offset.baseVal;C>R&&(R=C),R=o(R,0,1,4),C=R,j.setAttribute("offset",R);
}}catch(O){A=!0,T=O}finally{try{E||null==M["return"]||M["return"]()}finally{if(A)throw T;
}}t.removeAttribute("fx"),t.removeAttribute("fy"),t.removeAttribute("fr"),t.gradientUnits.baseVal===u&&(t.r.baseVal.unitType===l&&t.setAttribute("r",t.r.baseVal.valueInSpecifiedUnits/100),
t.cx.baseVal.unitType===l&&t.setAttribute("cx",t.cx.baseVal.valueInSpecifiedUnits/100),
t.cy.baseVal.unitType===l&&t.setAttribute("cy",t.cy.baseVal.valueInSpecifiedUnits/100));
},v=function(e,n){if(e.gradientUnits.baseVal===u){var r=i(e.gradientTransform.baseVal.consolidate().matrix),s=n.getScreenCTM(),o=n.getScreenCTM().inverse(),l=t(n),c=a(e.cx.baseVal.valueInSpecifiedUnits,e.cy.baseVal.valueInSpecifiedUnits),d=a(e.cx.baseVal.valueInSpecifiedUnits+e.r.baseVal.valueInSpecifiedUnits,e.cy.baseVal.valueInSpecifiedUnits),h=a(e.cx.baseVal.valueInSpecifiedUnits,e.cy.baseVal.valueInSpecifiedUnits-e.r.baseVal.valueInSpecifiedUnits),f=c.matrixTransform(r),v=d.matrixTransform(r),m=h.matrixTransform(r),b=a(l.x+f.x*l.width,l.y+f.y*l.height),g=a(l.x+v.x*l.width,l.y+v.y*l.height),p=a(l.x+m.x*l.width,l.y+m.y*l.height),y=b.matrixTransform(s),_=g.matrixTransform(s),x=p.matrixTransform(s);
c=a(0,0),d=a(100,0),h=a(0,-100);var w=System.get("utils/transform").getTransformFromPoints,S=w(c,d,h,y,_,x),C=i();
C.multiplySelf(o),C.multiplySelf(S),e.setAttribute("gradientUnits","userSpaceOnUse"),
e.setAttribute("gradientTransform",C),e.setAttribute("cx","0"),e.setAttribute("cy","0"),
e.setAttribute("r","100")}},m=function(t,n){var i,a,s=r("canvas");s.width=i=100,s.height=a=10;
var o=s.getContext("2d");o.clearRect(0,0,i,a);var l=o.createLinearGradient(0,0,i,0),u=!0,c=!1,d=void 0;
try{for(var h=void 0,f=t.children[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){
var v=h.value;"stop"===v.localName&&l.addColorStop(v.offset.baseVal,v.style.stopColor);
}}catch(m){c=!0,d=m}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw d;
}}o.fillStyle=l,o.fillRect(0,0,i,a);var b=o.getImageData(n*i,0,1,1).data,g="rgb("+b[0]+", "+b[1]+", "+b[2]+")",p=e(g,"hsla");
return p},b=function(t){if(0===t.length)return!1;if(1===t.length)return!0;var e=t[0].childElementCount,n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
if(o!=t[0]&&o.childElementCount!==e)return!1}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}for(var u=0;e>u;u+=1){var c=t[0].children[u],d=!0,h=!1,f=void 0;
try{for(var v=void 0,m=t[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var b=v.value;
if(b!==t[0]){if(b.children[u].offset.baseVal!==c.offset.baseVal)return!1;if(b.children[u].style.stopColor!==c.style.stopColor)return!1;
}}}catch(g){h=!0,f=g}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw f;
}}}return!0},g=function(t){var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=t.children[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var s=i.value;if("stop"===s.localName)return!0}}catch(o){n=!0,r=o}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return!1},p=function(t){var e=[],n=function(r){var i=t.ownerSVGElement.querySelector(r.href.baseVal);
if(i){var a=!0,s=!1,o=void 0;try{for(var l=void 0,u=i.children[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;"stop"===c.localName&&e.push(c)}}catch(d){s=!0,o=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(s)throw o}}0===e.length&&i.href.baseVal&&n(i)}};return n(t),e},y=function(t,e){
var n=null;if(t.hasAttribute(e))n=t.getAttribute(e);else if(""!==t.href.baseVal){
var r=t.ownerSVGElement.querySelector(t.href.baseVal);r&&(n=y(r,e))}return n};return{
get normalizeLinearGradient(){return h},get normalizeRadialGradient(){return f},get convertRadialGradientToUserSpace(){
return v},get getGradientColorAtOffset(){return m},get compareGradients(){return b;
}}}),System.registerModule("utils/image",[],function(){"use strict";var t=function(t){
return new Promise(function(e){var n=new Image;n.onload=function(){e({width:n.naturalWidth,
height:n.naturalHeight})},n.src=t})};return{get extractImageSize(){return t}}}),System.registerModule("utils/json",[],function(){
"use strict";var t=function(t){var e=null;try{e=JSON.stringify(t)}catch(n){return console.error("Failed to generate JSON string",n),
e}return e},e=function(t){var e=void 0!==arguments[1]?arguments[1]:!0,r=void 0!==arguments[2]?arguments[2]:!1;
r&&(t=n(t));var i=null;try{i=JSON.parse(t)}catch(a){return void(e&&console.error("Failed to parse JSON string",t,a));
}return i},n=function(t){for(var e="",n="",r=0,i=t.length,a=null,s=null,o=null;i>r;)if(n=t.charAt(r),
"/"===n)nextChar=t.charAt(r+=1),"/"===nextChar?(a=t.indexOf("\n",r),-1===a&&(a=t.indexOf("\r",r)),
r=a>-1?a:i):"*"===nextChar?(s=t.indexOf("*/",r),s>-1?r=s+=2:console.error("Unclosed block comment")):(msg="JSON.stripComments(): Unexpected char "+n+" at position "+r,
console.error(msg));else if('"'===n){for(o=r;i>r;)if(r+=1,n=t.charAt(r),"\\"===n)r+=1;else if('"'===n)break;
'"'===t.charAt(r)?e+=t.slice(o,r+=1):console.error("Unclosed string")}else e+=n,r+=1;
return e};return{get toJSON(){return t},get fromJSON(){return e}}}),System.registerModule("utils/math",[],function(){
"use strict";var t=Math,e=t.max,n=t.pow,r=t.PI,i=function(t,e,n){var r=void 0!==arguments[3]?arguments[3]:99;
return t=a(t,r),e>t?t=e:t>n&&(t=n),t},a=function(t){var e=void 0!==arguments[1]?arguments[1]:0,r=n(10,e),i=Math.round(t*r)/r;
return i},s=function(t){var e=t*(180/r);return e},o=function(t){var e=r*t/180;return e;
},l=function(t){return 0>t?-1:t>0?1:0},u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];
for(var n=0,r=0;r<t.length;r+=1)n+=t[r];return n/t.length},c=function(t){var n,r=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
return n=r?e(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0};return{get normalize(){return i;
},get round(){return a},get radToDeg(){return s},get degToRad(){return o},get signum(){
return l},get average(){return u},get countDecimalPlaces(){return c}}}),System.registerModule("utils/matrix",[],function(){
"use strict";var t=System.get("utils/dom").createSVGMatrix,e=System.get("utils/math").round,n=function(t,e){
return t.a===e.a&&t.b===e.b&&t.c===e.c&&t.d===e.d&&t.e===e.e&&t.f===e.f},r=function(n,r){
var i=t(n);return i.a=e(i.a,r),i.b=e(i.b,r),i.c=e(i.c,r),i.d=e(i.d,r),i.e=e(i.e,r),
i.f=e(i.f,r),i};return{get compareMatrixes(){return n},get roundMatrix(){return r;
}}}),System.registerModule("utils/network",[],function(){"use strict";var t=function(t){
return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.send(),
r.addEventListener("load",function(t){r.status>=200&&r.status<300?e(r.response):n({
status:t.status,statusText:t.statusText})}),r.addEventListener("error",function(t){
n({status:t.status,statusText:t.statusText})})})};return{get httpRequest(){return t;
}}}),System.registerModule("utils/object",[],function(){"use strict";var t=function(t){
return JSON.parse(JSON.stringify(t))};return{get cloneObject(){return t}}}),System.registerModule("utils/paint",[],function(){
"use strict";var t=System.get("utils/array").includesOnly,e=System.get("utils/color").isValidColorString,n=System.get("utils/constants").PAINT_SERVER_ELEMENTS,r=System.get("utils/gradient").compareGradients,i=System.get("utils/pattern").comparePatterns,a=function(t){
var n=void 0!==arguments[1]?arguments[1]:"fill",r="none";if("inherit"===t.style[n])r="inherit";else{
var i=getComputedStyle(t).getPropertyValue(n);if(e(i))r="solid";else if(i&&i.startsWith("url(")){
var a=i.substring(5,i.length-2),s=t.ownerSVGElement.querySelector(a),o=s?s.localName:null;
("linearGradient"===o||"radialGradient"===o||"pattern"===o)&&(r=o)}}return r},s=function(t){
var e=void 0!==arguments[1]?arguments[1]:"fill",r=null,i=getComputedStyle(t)[e];if(i&&i.toLowerCase().startsWith("url(")&&i.endsWith(")")){
var a=i.substring(5,i.length-2),s=t.ownerSVGElement.querySelector(a);s&&n.includes(s.localName)&&(r=s);
}return r},o=function(t){var e=void 0!==arguments[1]?arguments[1]:"fill",n=null,r=!0,i=!1,s=void 0;
try{for(var o=void 0,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value,c=a(u,e);
if(u!==t[0]&&n!==c)return!1;n=c}}catch(d){i=!0,s=d}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw s}}return null===n?!1:!0},l=function(e){var n=void 0!==arguments[1]?arguments[1]:"fill",a=[],o=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=e[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value,v=getComputedStyle(f).getPropertyValue(n),m=s(f);
a.push(v),o.push(m)}}catch(b){u=!0,c=b}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(a.legth<=1)return!1;if(t(a,a[0]))return!1;var g=o.filter(function(t){
return t&&"linearGradient"===t.localName}),p=o.filter(function(t){return t&&"radialGradient"===t.localName;
}),y=o.filter(function(t){return t&&"pattern"===t.localName});return g.length===e.length&&r(g)?!1:p.length===e.length&&r(p)?!1:y.length===e.length&&i(y)?!1:!0;
},u=function(e){var n=void 0!==arguments[1]?arguments[1]:"fill",r=[],i=!0,a=!1,s=void 0;
try{for(var o=void 0,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value,c=getComputedStyle(u).getPropertyValue(n);
r.push(c)}}catch(d){a=!0,s=d}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw s}}return 0===r.legth?!0:t(r,r[0])?!0:!1},c=function(t,e){if(e&&e.startsWith('url("#')&&e.endsWith('")')){
var n=e.substring(5,e.length-2),r=t.querySelector(n);if(r)return r}return null};return{
get getPaintType(){return a},get getPaintServer(){return s},get isSamePaintType(){
return o},get isMixedPaint(){return l},get isSamePaint(){return u},get getDefFromURL(){
return c}}}),System.registerModule("utils/path",[],function(){"use strict";var t=System.get("utils/constants").SVG_NAMESPACE,e=System.get("utils/dom"),n=e.createElement,r=e.createSVGPoint,i=(System.get("utils/math").degToRad,
System.get("utils/string").collapseWhitespace),a=System.get("libs/paper")["default"],s=Math,o=s.abs,l=(s.sin,
s.asin,s.cos),u=s.acos,c=(s.tan,s.pow),d=s.sqrt,h=s.PI,f=document.createElementNS(t,"path"),v=function(t){
var e=void 0!==arguments[1]?arguments[1]:!0,r=n("svg:path");if(e){var a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=t.attributes[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;["x","y","width","height","rx","ry"].includes(c.name)||r.setAttribute(c.name,c.value);
}}catch(d){s=!0,o=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o;
}}}var h,f=t.x.baseVal.value,v=t.y.baseVal.value,m=t.rx.baseVal.value,b=t.ry.baseVal.value,g=t.width.baseVal.value,p=t.height.baseVal.value;
return m>g/2&&(m=g/2),b>p/2&&(b=p/2),h=0===m&&0===b?"\n      M "+f+" "+v+"\n      L "+(f+g)+" "+v+"\n      L "+(f+g)+" "+(v+p)+"\n      L "+f+" "+(v+p)+"\n      L "+f+" "+v+"\n    ":"\n      M "+(f+m)+" "+v+"\n      L "+(f+g-m)+" "+v+"\n      A "+m+" "+b+" 0 0 1 "+(f+g)+" "+(v+b)+"\n      L "+(f+g)+" "+(v+p-b)+"\n      A "+m+" "+b+" 0 0 1 "+(f+g-m)+" "+(v+p)+"\n      L "+(f+m)+" "+(v+p)+"\n      A "+m+" "+b+" 0 0 1 "+f+" "+(v+p-b)+"\n      L "+f+" "+(v+b)+"\n      A "+m+" "+b+" 0 0 1 "+(f+m)+" "+v+"\n    ",
r.setAttribute("d",i(h)),r},m=function(t){var e=_(t),n=b(e);return n},b=function(t){
var e=n("svg:path"),r=!0,a=!1,s=void 0;try{for(var o=void 0,l=t.attributes[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;["cx","cy","rx","ry"].includes(u.name)||e.setAttribute(u.name,u.value);
}}catch(c){a=!0,s=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}var d=t.cx.baseVal.value,h=t.cy.baseVal.value,f=t.rx.baseVal.value,v=t.ry.baseVal.value,m="\n    M "+d+" "+(h-v)+"\n    A "+f+" "+v+" 0 0 0 "+d+" "+(h+v)+"\n    A "+f+" "+v+" 0 0 0 "+d+" "+(h-v)+"\n  ";
return e.setAttribute("d",i(m)),e},g=function(t){var e=n("svg:path"),r=!0,a=!1,s=void 0;
try{for(var o=void 0,l=t.attributes[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;["x1","y1","x2","y2"].includes(u.name)||e.setAttribute(u.name,u.value);
}}catch(c){a=!0,s=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(a)throw s;
}}var d=t.x1.baseVal.value,h=t.y1.baseVal.value,f=t.x2.baseVal.value,v=t.y2.baseVal.value,m="\n    M "+d+" "+h+"\n    L "+f+" "+v+"\n  ";
return e.setAttribute("d",i(m)),e},p=function(t){var e=n("svg:path"),r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"points"!==l.name&&e.setAttribute(l.name,l.value)}}catch(u){i=!0,a=u;
}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}for(var c="",d=0;d<t.points.numberOfItems;d+=1){
var h=t.points.getItem(d),f=h.x,v=h.y;c+=0===d?"M "+f+" "+v:" L "+f+" "+v}return e.setAttribute("d",c),
e},y=function(t){var e=n("svg:path"),r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;"points"!==l.name&&e.setAttribute(l.name,l.value)}}catch(u){i=!0,a=u;
}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a}}for(var c="",d=0;d<t.points.numberOfItems;d+=1){
var h=t.points.getItem(d),f=h.x,v=h.y;c+=0===d?"M "+f+" "+v:" L "+f+" "+v}return c+=" Z",
e.setAttribute("d",c),e},_=function(t){var e=n("svg:ellipse"),r=!0,i=!1,a=void 0;try{
for(var s=void 0,o=t.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
"r"===l.name?(e.setAttribute("rx",l.value),e.setAttribute("ry",l.value)):e.setAttribute(l.name,l.value);
}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]()}finally{if(i)throw a;
}}return e},x=function(t){if(!t.find(function(t){return"C"===t.type||"L"===t.type;
}))return[];var e=[],n=null,r=0,i=0,a=0,s=0,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;"M"===h.type?("M"===n&&e.pop(),e.push(h),r=h.values[0],i=h.values[1],
a=h.values[0],s=h.values[1]):"L"===h.type?("Z"===n&&e.push({type:"M",values:[a,s]
}),e.push(h),r=h.values[0],i=h.values[1]):"C"===h.type?("Z"===n&&e.push({type:"M",
values:[a,s]}),e.push(h),r=h.values[4],i=h.values[5]):"Z"===h.type&&((r!==a||i!==s)&&e.push({
type:"L",values:[a,s]}),e.push(h),r=a,i=s),n=h.type}}catch(f){l=!0,u=f}finally{try{
o||null==d["return"]||d["return"]()}finally{if(l)throw u}}return e},w=function(t,e,n,r,i){
var a=function(t){return o(t)<1e-11?0:t>0?1:-1},s=function(t,e,n,r){var i=(n-t)*(n-t),a=(r-e)*(r-e);
return d(i+a)},f=function(t,e,n,r,i){var a=-t+3*e-3*n+r,s=3*t-6*e+3*n,o=-3*t+3*e,l=-i+t,u=[3,-1];
v(u,s/a,o/a,l/a);var c=[],d=!0,h=!1,f=void 0;try{for(var m=void 0,b=u[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){
var g=m.value;g>=0&&1>=g&&c.push(g)}}catch(p){h=!0,f=p}finally{try{d||null==b["return"]||b["return"]();
}finally{if(h)throw f}}return c},v=function(t,e,n,r){var i=(c(e,2)-3*n)/9,s=(2*c(e,3)-9*e*n+27*r)/54;
if(c(s,2)<c(i,3)){var f=u(s/d(c(i,3)))/3;return t.splice(0,0,-2*d(i)*l(f)-e/3),t.splice(1,0,-2*d(i)*l(f+4*h/3)-e/3),
t.splice(2,0,-2*d(i)*l(f-4*h/3)-e/3),3}var v=-a(s)*c(o(s)+d(c(s,2)-c(i,3)),1/3),m=0==a(v)?0:i/v;
return t.splice(0,0,v+m-e/3),t.splice(1,0,-.5*(v+m)-e/3),t.splice(2,0,.5*d(3)*o(v-m)),
t[2]+1===1?2:1},m=$traceurRuntime.spread(f(e.x,n.x,r.x,i.x,t.x),f(e.y,n.y,r.y,i.y,t.y));
if(0===m.length)return-1;var b=-1,g=3,p=!0,y=!1,_=void 0;try{for(var x=void 0,w=m[Symbol.iterator]();!(p=(x=w.next()).done);p=!0){
var S=x.value,C=c(1-S,3)*e.x+3*c(1-S,2)*S*n.x+3*(1-S)*c(S,2)*r.x+c(S,3)*i.x,k=c(1-S,3)*e.y+3*c(1-S,2)*S*n.y+3*(1-S)*c(S,2)*r.y+c(S,3)*i.y,E=s(t.x,t.y,C,k);
g>E&&(b=S,g=E)}}catch(A){y=!0,_=A}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw _}}return b},S=function(t,e,n,i,a){var s=(e.x-t.x)*a+t.x,o=(e.y-t.y)*a+t.y,l=(n.x-e.x)*a+e.x,u=(n.y-e.y)*a+e.y,c=(i.x-n.x)*a+n.x,d=(i.y-n.y)*a+n.y,h=(l-s)*a+s,f=(u-o)*a+o,v=(c-l)*a+l,m=(d-u)*a+u,b=(v-h)*a+h,g=(m-f)*a+f,p=[r(t.x,t.y),r(s,o),r(h,f),r(b,g)],y=[r(b,g),r(v,m),r(c,d),r(i.x,i.y)];
return[p,y]},C=function(t,e){for(var n=t.getTotalLength(),r=t.getPathData(),i=n/r.length*.125,a=null,s=null,o=1/0,l=function(t){
return c(t.x-e.x,2)+c(t.y-e.y,2)},u=0;n>=u;u+=i){var d=t.getPointAtLength(u),h=l(d);
o>h&&(a=d,s=u,o=h)}for(i*=.5;i>.5;){var f=s-i,v=t.getPointAtLength(f),m=l(v);if(f>=0&&o>m)a=v,
s=f,o=m;else{var b=s+i,g=t.getPointAtLength(b),p=l(g);n>=b&&o>p?(a=g,s=b,o=p):i*=.5;
}}return[a,s,o]},k=function(t){var e,n,r,i,a=x(t.getPathData({normalize:!0})),s=E(a),o=!0,l=!1,u=void 0;
try{for(var c=void 0,d=s[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){for(var h=c.value,f=h[0],v=[],m=null,b=1;b<h.length;b+=1){
var g=h[b];"Z"===g.type?m=g:v.push(g)}var p=f.values[0],y=f.values[1];"C"===v[v.length-1].type?(f.values[0]=v[v.length-1].values[4],
f.values[1]=v[v.length-1].values[5]):(f.values[0]=v[v.length-1].values[0],f.values[1]=v[v.length-1].values[1]);
var _=!0,w=!1,S=void 0;try{for(var C=void 0,k=v[Symbol.iterator]();!(_=(C=k.next()).done);_=!0){
var A=C.value;if("L"===A.type){var T=A.values,L=(e=T[Symbol.iterator](),(n=e.next()).done?void 0:n.value),M=(n=e.next()).done?void 0:n.value;
A.values=[p,y],p=L,y=M}else if("C"===A.type){var j=A.values,R=(r=j[Symbol.iterator](),
(i=r.next()).done?void 0:i.value),O=(i=r.next()).done?void 0:i.value,P=(i=r.next()).done?void 0:i.value,I=(i=r.next()).done?void 0:i.value,D=(i=r.next()).done?void 0:i.value,N=(i=r.next()).done?void 0:i.value;
A.values=[P,I,R,O,p,y],p=D,y=N}}}catch(V){w=!0,S=V}finally{try{_||null==k["return"]||k["return"]();
}finally{if(w)throw S}}v.reverse(),h.length=0,h.push(f);var B=!0,U=!1,z=void 0;try{
for(var G=void 0,H=v[Symbol.iterator]();!(B=(G=H.next()).done);B=!0){var F=G.value;
h.push(F)}}catch(q){U=!0,z=q}finally{try{B||null==H["return"]||H["return"]()}finally{
if(U)throw z}}m&&h.push(m)}}catch($){l=!0,u=$}finally{try{o||null==d["return"]||d["return"]();
}finally{if(l)throw u}}s.reverse(),a=[];var W=!0,Y=!1,X=void 0;try{for(var Z=void 0,K=s[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){
var J=Z.value,Q=!0,tt=!1,et=void 0;try{for(var nt=void 0,rt=J[Symbol.iterator]();!(Q=(nt=rt.next()).done);Q=!0){
var it=nt.value;a.push(it)}}catch(at){tt=!0,et=at}finally{try{Q||null==rt["return"]||rt["return"]();
}finally{if(tt)throw et}}}}catch(st){Y=!0,X=st}finally{try{W||null==K["return"]||K["return"]();
}finally{if(Y)throw X}}t.setPathData(a)},E=function(t){var e=[],n=[],r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
"C"===l.type||"L"===l.type?n.push(l):"M"===l.type?(n.length>0&&(e.push(n),n=[]),n.push(l)):"Z"===l.type&&(n.push(l),
e.push(n),n=[])}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return n.length>0&&e.push(n),e},A=function(t){return f.setAttribute("d",t),
f.getPathData()},T=function(t){return f.setPathData(t),f.getPathData({normalize:!0
})},L=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1){
if(t[n].type!==e[n].type){if("z"===t[n].type.toLowerCase()&&"z"===e[n].type.toLowerCase())continue;
return!1}var r=t[n].values?t[n].values:[],i=e[n].values?e[n].values:[];if(r.length!==i.length)return!1;
for(var a=0;a<r.length;a+=1)if(r[a]!==i[a])return!1}return!0},M=function(t){var e,n=(t.match(/M/g)||[]).length>1;
if(n){e=new a.CompoundPath(t);var r=!0,i=!1,s=void 0;try{for(var o=void 0,l=e.children[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;u.closed||u.closePath()}}catch(c){i=!0,s=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw s}}}else e=new a.Path(t),e.closed||e.closePath();return e};return{
get rectToPath(){return v},get circleToPath(){return m},get ellipseToPath(){return b;
},get lineToPath(){return g},get polylineToPath(){return p},get polygonToPath(){return y;
},get circleToEllipse(){return _},get harmonizePathData(){return x},get getCubicCurveTParam(){
return w},get splitCurve(){return S},get getNearestPointOnPath(){return C},get reversePath(){
return k},get getSubpathsData(){return E},get parsePathData(){return A},get normalizePathData(){
return T},get comparePathData(){return L},get getPaperPath(){return M}}}),System.registerModule("utils/pattern",[],function(){
"use strict";var t=System.get("utils/bbox").getUserBBox,e=System.get("utils/dom"),n=e.createSVGLength,r=e.createSVGMatrix,i=e.createSVGPoint,a=e.createSVGRect,s=SVGUnitTypes,o=s.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,l=s.SVG_UNIT_TYPE_USERSPACEONUSE,u=function(t){
var e=null;if(t.hasAttribute("href")){var n=t.getAttribute("href"),r=t.ownerSVGElement.querySelector(n);
r&&"pattern"===r.localName&&r!==t&&(e=r)}return e},c=function(t){for(var e=null,n=t;n;){
if(f(n)===!1)return n;n=u(n)}return e},d=function(t){for(var e=t,n=null;e;){if(e.childElementCount>0){
n=e;break}e=u(e)}return n},h=function(t){for(var e=[],i=t,s={viewBox:null};i;){e.push(i);
var o=i.getAttribute("href"),l=o?i.ownerSVGElement.querySelector(o):null;if(!l||"pattern"!==l.localName||e.includes(l)!==!1)break;
i=l}var u=e[e.length-1],c=!0,d=!1,h=void 0;try{for(var f=void 0,v=["x","y","width","height"][Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value,b=!0,g=!1,p=void 0;try{for(var y=void 0,_=e[Symbol.iterator]();!(b=(y=_.next()).done);b=!0){
var x=y.value;if(x.hasAttribute(m)||x===u){s[m]=n(x[m].baseVal.valueAsString);break;
}}}catch(w){g=!0,p=w}finally{try{b||null==_["return"]||_["return"]()}finally{if(g)throw p;
}}}}catch(S){d=!0,h=S}finally{try{c||null==v["return"]||v["return"]()}finally{if(d)throw h;
}}var C=!0,k=!1,E=void 0;try{for(var A=void 0,T=["patternUnits","patternContentUnits"][Symbol.iterator]();!(C=(A=T.next()).done);C=!0){
var L=A.value,M=!0,j=!1,R=void 0;try{for(var O=void 0,P=e[Symbol.iterator]();!(M=(O=P.next()).done);M=!0){
var I=O.value;if(I.hasAttribute(L)||I===u){s[L]=I[L].baseVal;break}}}catch(D){j=!0,
R=D}finally{try{M||null==P["return"]||P["return"]()}finally{if(j)throw R}}}}catch(N){
k=!0,E=N}finally{try{C||null==T["return"]||T["return"]()}finally{if(k)throw E}}var V=!0,B=!1,U=void 0;
try{for(var z=void 0,G=e[Symbol.iterator]();!(V=(z=G.next()).done);V=!0){var H=z.value;
if(H.hasAttribute("patternTransform")||H===u){s.patternTransform=r(H.patternTransform.baseVal.consolidate().matrix);
break}}}catch(F){B=!0,U=F}finally{try{V||null==G["return"]||G["return"]()}finally{
if(B)throw U}}var q=!0,$=!1,W=void 0;try{for(var Y=void 0,X=e[Symbol.iterator]();!(q=(Y=X.next()).done);q=!0){
var Z=Y.value;if(Z.hasAttribute("viewBox")||Z===u){s.viewBox=a(Z.viewBox.baseVal);
break}}}catch(K){$=!0,W=K}finally{try{q||null==X["return"]||X["return"]()}finally{
if($)throw W}}var J=!0,Q=!1,tt=void 0;try{for(var et=void 0,nt=e[Symbol.iterator]();!(J=(et=nt.next()).done);J=!0){
var rt=et.value;if(rt.hasAttribute("preserveAspectRatio")||rt===u){s.preserveAspectRatio={
align:rt.preserveAspectRatio.baseVal.align,meetOrSlice:rt.preserveAspectRatio.baseVal.meetOrSlice
};break}}}catch(it){Q=!0,tt=it}finally{try{J||null==nt["return"]||nt["return"]()}finally{
if(Q)throw tt}}return s},f=function(t){if(t.hasAttribute("href")===!1)return!1;if(t.childElementCount>0)return!1;
var e=["x","y","width","height","patternUnits","patternContentUnits","viewBox","preserveAspectRatio"],n=!0,r=!1,i=void 0;
try{for(var a=void 0,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value;if(t.hasAttribute("name"))return!1;
}}catch(o){r=!0,i=o}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return!0},v=function(t){var e=t[0],n=c(e);if(null===n)return!1;var r=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;
if(l!==e&&c(l)!==n)return!1}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}return!0},m=function(e,n){var r,a,s,u,c,d,f=System.get("utils/transform").getTransformFromPoints,v=h(e),m=v.x,b=v.y,g=v.width,p=v.height,y=v.patternUnits,_=t(n);
if(y===l)r=i(m.value,b.value),a=i(m.value+g.value,b.value),s=i(m.value+g.value,b.value+p.value),
u=i(_.x+_.width/2-g.value/2,_.y+_.height/2-p.value/2),c=i(_.x+_.width/2+g.value/2,_.y+_.height/2-p.value/2),
d=i(_.x+_.width/2+g.value/2,_.y+_.height/2+p.value/2);else if(y===o){var x=i(m.valueInSpecifiedUnits,b.valueInSpecifiedUnits),w=i(m.valueInSpecifiedUnits+g.valueInSpecifiedUnits,b.valueInSpecifiedUnits),S=i(m.valueInSpecifiedUnits+g.valueInSpecifiedUnits,b.valueInSpecifiedUnits+p.valueInSpecifiedUnits);
r=i(_.x+x.x*_.width,_.y+x.y*_.height),a=i(_.x+w.x*_.width,_.y+w.y*_.height),s=i(_.x+S.x*_.width,_.y+S.y*_.height),
u=i(_.x+_.width/2-_.width*g.valueInSpecifiedUnits/2,_.y+_.height/2-_.height*p.valueInSpecifiedUnits/2),
c=i(_.x+_.width/2+_.width*g.valueInSpecifiedUnits/2,_.y+_.height/2-_.height*p.valueInSpecifiedUnits/2),
d=i(_.x+_.width/2+_.width*g.valueInSpecifiedUnits/2,_.y+_.height/2+_.height*p.valueInSpecifiedUnits/2);
}var C=f(r,a,s,u,c,d);e.setAttribute("patternTransform",C.toString())};return{get getParentPattern(){
return u},get getClosestBasePattern(){return c},get getClosestPatternWithChildren(){
return d},get getComputedPatternProperties(){return h},get isDerivedPattern(){return f;
},get comparePatterns(){return v},get centerPattern(){return m}}}),System.registerModule("utils/point",[],function(){
"use strict";var t=System.get("classes/vector")["default"],e=System.get("utils/math"),n=e.radToDeg,r=e.degToRad,i=e.round,a=System.get("utils/dom").createSVGPoint,s=System.get("utils/vector"),o=s.sumVectors,l=s.vectorsDotProduct,u=s.getAngleBetweenVectors,c=Math,d=c.sin,h=c.cos,f=c.acos,v=c.abs,m=c.sqrt,b=c.pow,g=Number.isNaN,p=function(t,e){
var n=void 0!==arguments[2]?arguments[2]:null;return null!==n?i(t.x,n)===i(e.x,n)&&i(t.y,n)===i(e.y,n):t.x===e.x&&t.y===e.y;
},y=function(e,r,i){var a=void 0!==arguments[3]?arguments[3]:0;if(0===a){var s=(e.x*(r.y-i.y)+r.x*(i.y-e.y)+i.x*(e.y-r.y))/2;
return 0===s}var o=new t(e,r),u=new t(r,i),c=l(o,u),d=f(c/(o.length*u.length));if(g(d))return!0;
var h=n(d);return a>h},_=function(t,e){var n=e.x-t.x;n*=n;var r=e.y-t.y;r*=r;var i=m(n+r);
return i},x=function(t,e){var n=(t.x+e.x)/2,r=(t.y+e.y)/2;return a(n,r)},w=function(e,n,r){
var i,s=void 0!==arguments[3]?arguments[3]:!0,u=a(0,0),c=a(e.x,e.y),d=a(n.x,n.y),h=r,f=new t(u,c),v=new t(c,d),m=new t(c,h),b=l(m,v),g=l(v,v);
i=0!==g?b/g:0,s===!1&&(0>i?i=0:i>1&&(i=1));var p=o(f,v.multiply(i)),y=a(p.x,p.y);return[y,i];
},S=function(t,e){var n=void 0!==arguments[2]?arguments[2]:.5,r=e.x-t.x,i=e.y-t.y,s=a(t.x+n*r,t.y+n*i);
return s},C=function(e,n){for(var i=void 0!==arguments[2]?arguments[2]:22.5,s=new t(e,a(e.x,e.y-1e3)),o=new t(e,n),l=u(s,o),c=[],f=0;360>=f;f+=i)c.push(f);
var m=1/0,b=!0,g=!1,p=void 0;try{for(var y=void 0,x=c[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){
var w=y.value,S=w-l;v(S)<v(m)&&(m=S)}}catch(C){g=!0,p=C}finally{try{b||null==x["return"]||x["return"]();
}finally{if(g)throw p}}l+=m,360===l&&(l=0);var k=r(l-90),E=_(e,n),A=new t(h(k),d(k));
A.length=E;var T=a(e.x+A.x,e.y+A.y);return[T,l]},k=function(e,n){var i=void 0!==arguments[2]?arguments[2]:90,s=new t(e,a(e.x,e.y-1e3)),o=new t(e,n),l=u(s,o),c=i-l;
l+=c,360===l&&(l=0);var f=r(l-90),v=_(e,n),m=new t(h(f),d(f));m.length=v;var b=a(e.x+m.x,e.y+m.y);
return b},E=function(t,e,n){var r=(n.y-e.y)/(n.x-e.x),i=e.y-r*e.x,a=v(r*t.x-t.y+i)/m(b(r,2)+1);
return a},A=function(t){var e=void 0!==arguments[1]?arguments[1]:1,n=0,r=0;if(t.length-1>2)for(var i=2;i<t.length;i+=1){
var a=E(t[i],t[1],t[t.length-1]);a>r&&(n=i,r=a)}var s;if(r>e){var o=A(t.slice(1,n),e),l=A(t.slice(n),e);
s=o.concat(l)}else s=t;return s};return{get comparePoints(){return p},get checkCollinearity(){
return y},get getDistanceBetweenPoints(){return _},get getPointBetweenTwoPoints(){
return x},get getNearestPointOnLine(){return w},get getPointAtFraction(){return S;
},get snapPointToAngleMultiple(){return C},get snapPointToAngle(){return k},get getPerpendicularDistance(){
return E},get getRamerDouglasPeuckerPoints(){return A}}}),System.registerModule("utils/random",[],function(){
"use strict";var t=System.get("utils/math").round,e=Math.floor,n=function(){var e=void 0!==arguments[0]?arguments[0]:0,n=void 0!==arguments[1]?arguments[1]:100,r=void 0!==arguments[2]?arguments[2]:0,i=e+Math.random()*(n-e);
return t(i,r)},r=function(){for(var t=void 0!==arguments[0]?arguments[0]:10,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz!@#$%^&*()_+-={}[]:<>,.",n="",r=0;t>r;r+=1){
var i=Math.floor(Math.random()*e.length);n+=e.substring(i,i+1)}return n},i=function(t){
for(var r=t.length;--r;){var i=n(0,1,5),a=e(i*(r+1)),s=t[a];t[a]=t[r],t[r]=s}return t;
};return{get getRandomNumber(){return n},get getRandomString(){return r},get shuffle(){
return i}}}),System.registerModule("utils/rect",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createSVGPoint,n=t.createSVGRect,r=Math.max,i=function(t,r){
var i=e(t.left,t.top),a=e(t.right,t.bottom);i=i.matrixTransform(r),a=a.matrixTransform(r);
var s=n({x:i.x,y:i.y,width:a.x-i.x,height:a.y-i.y});return s},a=function(t){var e=[],n=!0,i=!1,a=void 0;
try{for(var s=void 0,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value,u=l.width*l.height;
e.push(u)}}catch(c){i=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{
if(i)throw a}}var d=r.apply(void 0,$traceurRuntime.spread(e)),h=e.indexOf(d),f=t[h];
return f},s=function(t){if(0===t.length)return n(0,0,0,0);if(1===t.length){var r=t[0];
return n(r.x,r.y,r.width,r.height)}var i=[],a=[],s=!0,o=!1,l=void 0;try{for(var u=void 0,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){
var d=u.value;i.push(e(d.x,d.y)),a.push(e(d.x+d.width,d.y+d.height))}}catch(h){o=!0,
l=h}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw l}}var f=e(i[0]),v=e(a[0]),m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=i[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){var _=p.value;
_.x<f.x&&(f.x=_.x),_.y<f.y&&(f.y=_.y)}}catch(x){b=!0,g=x}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}var w=!0,S=!1,C=void 0;try{for(var k=void 0,E=a[Symbol.iterator]();!(w=(k=E.next()).done);w=!0){
var A=k.value;A.x>v.x&&(v.x=A.x),A.y>v.y&&(v.y=A.y)}}catch(T){S=!0,C=T}finally{try{
w||null==E["return"]||E["return"]()}finally{if(S)throw C}}var L=n(f.x,f.y,v.x-f.x,v.y-f.y);
return L},o=function(t,e){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height?!0:!1;
},l=function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height?!0:!1;
},u=function(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;
};return{get transformRect(){return i},get getBiggestRect(){return a},get combineRects(){
return s},get rectContainsRect(){return o},get rectContainsPoint(){return l},get rectIntersectsRect(){
return u}}}),System.registerModule("utils/relationship",[],function(){"use strict";
var t=System.get("utils/constants"),e=t.CONTAINER_ELEMENTS,n=t.GRAPHICS_ELEMENTS,r=Number.parseInt,i=function(t){
var e=[],r=!0,a=!1,s=void 0;try{for(var o=void 0,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var u=o.value;if("g"===u.localName||"a"===u.localName){var c=$traceurRuntime.spread(u.children);
e=$traceurRuntime.spread(e,i(c))}else n.includes(u.localName)&&e.push(u)}}catch(d){
a=!0,s=d}finally{try{r||null==l["return"]||l["return"]()}finally{if(a)throw s}}return e;
},a=function(t){var e=[],n=["path","text","rect","circle","ellipse","line","polyline","polygon","use"],r=!0,i=!1,s=void 0;
try{for(var o=void 0,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value,c=u.localName;
n.includes(c)?e.push(u):("g"===c||"a"===c)&&(e=$traceurRuntime.spread(e,a(u.children)));
}}catch(d){i=!0,s=d}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw s;
}}return e},s=function(t){for(var e=[],n=0;n<t.parentElement.childElementCount;n+=1)t.parentElement.children[n]!==t&&e.push(t.parentElement.children[n]);
return e},o=function(t,n){var r=l(t,n);if(r)for(;!e.includes(r.localName);)r=r.parentNode;
return r},l=function(t,e){for(;t=t.parentNode;)if(t.contains&&t.contains(e))return t;
return null},u=function(t){var n=void 0!==arguments[1]?arguments[1]:document.documentElement,r=[];
if(t!==n)for(;t.parentElement&&t.parentElement!==n;)t=t.parentElement,e.includes(t.localName)&&r.unshift(t);
return r},c=function(t){var e=[],n=function(t){var r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;e.push(l),l.childElementCount>0&&n(l)}}catch(u){i=!0,a=u}finally{try{
r||null==o["return"]||o["return"]()}finally{if(i)throw a}}};return n(t),e},d=function(t){
for(var e in t.parentElement.children){var n=t.parentElement.children[e];if(n===t)return r(e);
}},h=function(t){var e=[],n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;e.push(o)}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return e.sort(function(t,e){return 3-(6&t.compareDocumentPosition(e));
}),e},f=function(t){var e=[];t=h(t);var n=!0,r=!1,i=void 0;try{for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var o=a.value;if(o===t[0])e.push([o]);else{var l=!1,u=!0,c=!1,d=void 0;try{for(var f=void 0,v=e[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){
var m=f.value;o.parentElement===m[0].parentElement&&(m.push(o),l=!0)}}catch(b){c=!0,
d=b}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}l===!1&&e.push([o]);
}}}catch(g){r=!0,i=g}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}return e},v=function(t){var e=void 0!==arguments[1]?arguments[1]:1;if("max"===e)for(;t.previousElementSibling;)t.parentNode.insertBefore(t,t.previousElementSibling);else for(var n=0;e>n;n+=1)t.previousElementSibling&&t.parentNode.insertBefore(t,t.previousElementSibling);
},m=function(t){var e=void 0!==arguments[1]?arguments[1]:1;if("max"===e)for(;t.nextElementSibling;)t.parentNode.insertBefore(t.nextElementSibling,t);else for(var n=0;e>n;n+=1)t.nextElementSibling&&t.parentNode.insertBefore(t.nextElementSibling,t);
},b=function(t){var e=System.get("utils/bbox").getClientBBox,n=(System.get("utils/rect").transformRect,
t.ownerSVGElement.getScreenCTM().inverse(),e(t)),r=t.ownerSVGElement.getIntersectionList(n,t.ownerSVGElement);
return r=Array.from(r),r.remove(t),r},g=function(t){var e=[],n=!0,r=!1,i=void 0;try{
for(var a=void 0,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;
e.push(o)}}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{
if(r)throw i}}for(;e.length>1;){var u=e[0].compareDocumentPosition(e[1]);4===u||20===u?e.remove(e[0]):e.remove(e[1]);
}return e[0]},p=function(t,e){var n=System.get("utils/bbox").getClientBBox,r=System.get("utils/rect"),i=(r.transformRect,
r.rectIntersectsRect);if(!t.transform||!e.transform)return!1;var a=(t.getScreenCTM().inverse(),
n(t)),s=(e.getScreenCTM().inverse(),n(e));return i(a,s)},y=function(t){var e=[],n=[],r=!0,i=!1,a=void 0;
try{for(var s=function(){var r=o.value,i=[],a=function(e){var r=!0,s=!1,o=void 0;try{
for(var l=void 0,u=t[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value,d=!i.includes(c)&&!n.includes(c);
c!==e&&d&&p(c,e)&&(i.push(c),n.push(c),a(c))}}catch(h){s=!0,o=h}finally{try{r||null==u["return"]||u["return"]();
}finally{if(s)throw o}}};a(r),i.length>0&&e.push(h(i))},o=void 0,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)s();
}catch(u){i=!0,a=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw a;
}}var c=!0,d=!1,f=void 0;try{for(var v=void 0,m=t[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){
var b=v.value;n.includes(b)||e.push([b])}}catch(g){d=!0,f=g}finally{try{c||null==m["return"]||m["return"]();
}finally{if(d)throw f}}return e};return{get queryGraphicsElements(){return i},get queryClippingElements(){
return a},get getSiblings(){return s},get getCommonContainer(){return o},get getCommonAncestor(){
return l},get getContainers(){return u},get getDescendants(){return c},get getElementIndex(){
return d},get sortByDomPosition(){return h},get sortBySiblingElements(){return f},
get moveElementUp(){return v},get moveElementDown(){return m},get getIntersectingElements(){
return b},get getTopStackedElement(){return g},get isElementIntersectingElement(){
return p},get sortByIntersectingElements(){return y}}}),System.registerModule("utils/schneider-curves",[],function(){
"use strict";var t=System.get("classes/vector")["default"],e=System.get("utils/dom").createSVGPoint,n=System.get("utils/point").getDistanceBetweenPoints,r=System.get("utils/vector"),i=r.subtractVectors,a=r.sumVectors,s=r.vectorsDotProduct,o=Math,l=o.abs,u=o.floor,c=o.max,d=function(e,n){
var r=i(new t(e[1]),new t(e[0])),a=i(new t(e[e.length-3]),new t(e[e.length-2]));r=r.normalize(),
a=a.normalize();var s=h(e,0,e.length-1,r,a,n);return s},h=function(r,s,o,l,u,d){var b,g;
if(o-s===1){var y=r[s],_=r[o],x=n(y,_)/3,w=new t(y),S=new t(_),C=a(w,l.scale(x)),k=a(S,u.scale(x)),E=[y,e(C),e(k),_];
return[E]}for(var A,T=v(r,s,o),L=c(d,d*d),M=0;4>=M;M+=1){var j=f(r,s,o,T,l,u),R=p(r,s,o,j,T),O=(b=R[Symbol.iterator](),
(g=b.next()).done?void 0:g.value),P=(g=b.next()).done?void 0:g.value;if(d>O)return[j];
if(A=P,O>=L)break;m(r,s,o,T,j),L=O}var I=i(new t(r[A-1]),new t(r[A])),D=i(new t(r[A]),new t(r[A+1])),N=a(I,D).multiply(.5).normalize(),V=h(r,s,A,l,N,d),B=h(r,A,o,N.multiply(-1),u,d),U=V.concat(B);
return U},f=function(r,o,u,c,d,h){for(var f=r[o],v=r[u],m=new t(f),b=new t(v),g=[[0,0],[0,0]],p=[0,0],y=u-o+1,_=0;y>_;_+=1){
var x=c[_],w=1-x,S=3*x*w,C=w*w*w,k=S*w,E=S*x,A=x*x*x,T=d.scale(k),L=h.scale(E);g[0][0]+=s(T,T),
g[0][1]+=s(T,L),g[1][0]=g[0][1],g[1][1]+=s(L,L);var M=i(new t(r[o+_]),m.multiply(C+k));
M=i(M,b.multiply(E+A)),p[0]+=s(T,M),p[1]+=s(L,M)}var j,R,O=g[0][0]*g[1][1]-g[1][0]*g[0][1],P=1e-6;
if(l(O)>P){var I=g[0][0]*p[1]-g[1][0]*p[0],D=p[0]*g[1][1]-p[1]*g[0][1];j=D/O,R=I/O;
}else{var N=g[0][0]+g[0][1],V=g[1][0]+g[1][1];j=R=l(N)>P?p[0]/N:l(V)>P?p[1]/V:0}var B=n(v,f);
P*=B,(P>j||P>R)&&(j=R=B/3);var U=a(m,d.scale(j)),z=a(b,h.scale(R)),G=[f,e(U),e(z),v];
return G},v=function(t,e,r){for(var i=[0],a=e+1;r>=a;a+=1)i[a-e]=i[a-e-1]+n(t[a],t[a-1]);
for(var s=1,o=r-e;o>=s;s+=1)i[s]/=i[r-e];return i},m=function(t,e,n,r,i){for(var a=[],s=e;n>=s;s+=1)a[s-e]=b(i,t[s],r[s-e]);
return a},b=function(e,n,r){for(var a=[],o=[],u=0;2>=u;u+=1){var c=i(new t(e[u+1]),new t(e[u]));
a[u]=c.multiply(3)}for(var d=0;1>=d;d++){var h=i(a[d+1],a[d]);o[d]=h.multiply(2)}
var f=g(3,e,r),v=g(2,a,r),m=g(1,o,r),b=i(f,new t(n)),p=s(v,v)+s(b,m);return l(p)<1e-6?r:r-s(b,v)/p;
},g=function(e,n,r){for(var i=function(){var e=0,r=[],i=!0,a=!1,s=void 0;try{for(var o=void 0,l=n[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r[e++]=new t(u)}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}return r}(),s=1;e>=s;s+=1)for(var o=0;e-s>=o;o+=1)i[o]=a(i[o].multiply(1-r),i[o+1].multiply(r));
return i[0]},p=function(e,n,r,a,s){for(var o=u((r-n+1)/2),l=0,c=n+1;r>c;c++){var d=i(g(3,a,s[c-n]),new t(e[c])),h=d.length;
h>=l&&(l=h,o=c)}return[l,o]};return{get getSchneiderCurves(){return d}}}),System.registerModule("utils/string",[],function(){
"use strict";var t=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},e=function(t){
return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")});
},n=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();
})},r=function(t){return t===t.toLowerCase()},i=function(t){return t.replace(/\s+/g," ").trim();
},a=function(t){return t.sort(function(t,e){return t.id.localeCompare(e.id)})};return{
get capitalize(){return t},get toCamelCase(){return e},get toDashCase(){return n},
get isLowerCase(){return r},get collapseWhitespace(){return i},get sortAlphabetically(){
return a}}}),System.registerModule("utils/style",[],function(){"use strict";var t=System.get("utils/constants"),e=t.CONTAINER_ELEMENTS,n=t.SHAPE_ELEMENTS,r=t.GRAPHICS_ELEMENTS,i=t.TEXT_CONTENT_ELEMENTS,a=System.get("utils/dom"),s=(a.createElement,
a.isElementConnectedToDocument,System.get("utils/text").getTspansIntersectedByRange),o=function(t){
var e="",n=t.sheet.rules[0],r=!0,i=!1,a=void 0;try{for(var s=void 0,o=t.sheet.rules[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){
var l=s.value;l!==n&&(e+="\n"),e+=l.cssText}}catch(u){i=!0,a=u}finally{try{r||null==o["return"]||o["return"]();
}finally{if(i)throw a}}t.textContent=e},l=function(t,a){var o=void 0!==arguments[2]?arguments[2]:null,u=[];
if("fill"===t||"fill-opacity"===t||"fill-rule"===t||"stroke"===t||"stroke-dasharray"===t||"stroke-dashoffset"===t||"stroke-linecap"===t||"stroke-linejoin"===t||"stroke-miterlimit"===t||"stroke-opacity"===t||"stroke-width"===t||"vector-effect"===t){
var c=!0,d=!1,h=void 0;try{for(var f=void 0,v=a[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){
var m=f.value,b=m.localName;if("text"===b)if(o&&o.intersectsNode(m)){var g=s(o);if(g.length>0){
var p="backward"===o.direction?g[g.length-1]:g[0],y=g.remove(p);u=$traceurRuntime.spread(u,[p],y);
}}else u=$traceurRuntime.spread(u,l(t,m.children,o));else"textPath"===b?u=$traceurRuntime.spread(u,l(t,m.children,o)):n.includes(b)||i.includes(b)?u.push(m):"g"===b||"a"===b?u=$traceurRuntime.spread(u,l(t,m.children,o)):"use"===b&&("fill"===t||"stroke"===t)&&u.push(m);
}}catch(_){d=!0,h=_}finally{try{c||null==v["return"]||v["return"]()}finally{if(d)throw h;
}}}else if("text-decoration"===t){var x=!0,w=!1,S=void 0;try{for(var C=void 0,k=a[Symbol.iterator]();!(x=(C=k.next()).done);x=!0){
var E=C.value,A=E.localName;"tspan"===A?u.push(E):("text"===A||"textPath"===A)&&(u=$traceurRuntime.spread(u,l(t,E.children,o)));
}}catch(T){w=!0,S=T}finally{try{x||null==k["return"]||k["return"]()}finally{if(w)throw S;
}}}else if("buffered-rendering"===t||"clip-path"===t||"filter"===t||"mask"===t||"opacity"===t||"mix-blend-mode"===t||"isolation"===t){
var L=!0,M=!1,j=void 0;try{for(var R=void 0,O=a[Symbol.iterator]();!(L=(R=O.next()).done);L=!0){
var P=R.value,I=P.localName;(r.includes(I)||e.includes(I))&&u.push(P)}}catch(D){M=!0,
j=D}finally{try{L||null==O["return"]||O["return"]()}finally{if(M)throw j}}}else if("direction"===t||"font"===t||"font-family"===t||"font-size"===t||"font-size-adjust"===t||"font-stretch"===t||"font-style"===t||"font-variant"===t||"font-weight"===t||"glyph-orientation-horizontal"===t||"glyph-orientation-vertical"===t||"letter-spacing"===t||"text-anchor"===t||"text-transform"===t||"word-spacing"===t||"white-space"===t){
var N=!0,V=!1,B=void 0;try{for(var U=void 0,z=a[Symbol.iterator]();!(N=(U=z.next()).done);N=!0){
var G=U.value,H=G.localName;if("text"===H)if(o&&o.intersectsNode(G)){var F=s(o);if(F.length>0){
var q="backward"===o.direction?F[F.length-1]:F[0],$=F.remove(q);u=$traceurRuntime.spread(u,[q],$);
}}else u=$traceurRuntime.spread(u,l(t,G.children,o));else i.includes(H)?u.push(G):("g"===H||"a"===H)&&(u=$traceurRuntime.spread(u,l(t,G.children,o)));
}}catch(W){V=!0,B=W}finally{try{N||null==z["return"]||z["return"]()}finally{if(V)throw B;
}}}return u};return{get reflectStyleElementCSSOM(){return o},get queryStylableElements(){
return l}}}),System.registerModule("utils/text",[],function(){"use strict";var t=System.get("utils/dom"),e=t.createElement,n=t.closest,r=(System.get("utils/json").fromJSON,
Object.keys),i=function(t){var n=t.getElementsByTagName("textPath")[0];n&&(t.innerHTML="",
t.append(n)),t.style.whiteSpace="pre",t.normalize();var i=t.querySelectorAll("tref"),a=!0,s=!1,o=void 0;
try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=c.getAttribute("href")||c.getAttribute("xlink:href"),h=d?t.ownerSVGElement.querySelector(d):null;
if(h){var f=e("tspan");f.textContent=h.textContent,c.replace(h)}else c.remove()}}catch(v){
s=!0,o=v}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw o}}for(var m=[],b=n?n:t,g=document.createTreeWalker(b,NodeFilter.SHOW_TEXT,null),p=function(t,e){
var n=r(t),i=r(e);if(n.length!==i.length)return!1;var a=!0,s=!1,o=void 0;try{for(var l=void 0,u=n[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;if(t[c]!==e[c])return!1}}catch(d){s=!0,o=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(s)throw o}}return!0};g.nextNode();){for(var y=g.currentNode,_={},x=y.parentNode;x!==t;x=x.parentNode){
var w=!0,S=!1,C=void 0;try{for(var k=void 0,E=x.style[Symbol.iterator]();!(w=(k=E.next()).done);w=!0){
var A=k.value;void 0===_[A]&&(_[A]=x.style[A])}}catch(T){S=!0,C=T}finally{try{w||null==E["return"]||E["return"]();
}finally{if(S)throw C}}}var L=m[m.length-1];if(L&&p(L.style,_))L.textContent+=y.textContent;else{
var M={textContent:y.textContent,style:_};m.push(M)}}var j=document.createDocumentFragment(),R=!0,O=!1,P=void 0;
try{for(var I=void 0,D=m[Symbol.iterator]();!(R=(I=D.next()).done);R=!0){var N=I.value,V=e("svg:tspan");
V.textContent=N.textContent;var B=!0,U=!1,z=void 0;try{for(var G=void 0,H=r(N.style)[Symbol.iterator]();!(B=(G=H.next()).done);B=!0){
var F=G.value;V.style[F]=N.style[F]}}catch(q){U=!0,z=q}finally{try{B||null==H["return"]||H["return"]();
}finally{if(U)throw z}}j.appendChild(V)}}catch($){O=!0,P=$}finally{try{R||null==D["return"]||D["return"]();
}finally{if(O)throw P}}b.innerHTML="",b.append(j)},a=function(t){if(t&&!t.collapsed){
var e=n(t.startContainer,"text");if(t){var r=o(t,e,"start"),i=o(t,e,"end"),a=e.getElementsByTagName("textPath")[0],s=a?a:e,l=function(t){
var e=0,n=null,r=null,i=!0,a=!1,o=void 0;try{for(var l=void 0,u=s.children[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=0,h=!0,f=!1,v=void 0;try{for(var m=void 0,b=c.textContent[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
m.value;e===t&&(n=c,r=d),e+=1,d+=1}}catch(g){f=!0,v=g}finally{try{h||null==b["return"]||b["return"]();
}finally{if(f)throw v}}}}catch(p){a=!0,o=p}finally{try{i||null==u["return"]||u["return"]();
}finally{if(a)throw o}}if(n){var y=n.textContent,_=y.slice(0,r),x=y.slice(r,y.length);
if(_.length>0&&x.length>0){var w=document.createDocumentFragment(),S=n.cloneNode(!1);
S.textContent=_,w.appendChild(S);var C=n.cloneNode(!1);C.textContent=x,w.appendChild(C),
n.replace(w)}}};l(r),l(i);var u=0,c=null,d=null,h=!0,f=!1,v=void 0;try{for(var m=void 0,b=s.children[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value,p=!0,y=!1,_=void 0;try{for(var x=void 0,w=g.textContent[Symbol.iterator]();!(p=(x=w.next()).done);p=!0){
x.value;u===r&&(c=g),u===i-1&&(d=g),u+=1}}catch(S){y=!0,_=S}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw _}}}}catch(C){f=!0,v=C}finally{try{h||null==b["return"]||b["return"]();
}finally{if(f)throw v}}t.setStart(c.childNodes[0],0),t.setEnd(d.childNodes[0],d.childNodes[0].length);
}}},s=function(t){if(t&&!t.collapsed){n(t.startContainer,"text")}},o=function(t,e){
var n=void 0!==arguments[2]?arguments[2]:"start";t=t.cloneRange(),"start"===n?t.collapse(!0):"end"===n&&t.collapse(!1);
for(var r=0,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,function(e){var n=new Range;
return n.selectNode(e),n.compareBoundaryPoints(Range.END_TO_END,t)<1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT;
});i.nextNode();)r+=i.currentNode.length;return 3===t.startContainer.nodeType&&(r+=t.startOffset),
r},l=function(t){var e=0,n=0;return t.x.baseVal.numberOfItems>0&&(e=t.x.baseVal.getItem(0).value),
t.y.baseVal.numberOfItems>0&&(n=t.y.baseVal.getItem(0).value),{x:e,y:n}},u=function(t){
var e=[];if(t.commonAncestorContainer.nodeType===Document.TEXT_NODE){for(var n=t.commonAncestorContainer;n=n.parentElement;)if("tspan"===n.localName){
e.push(n);break}}else for(var r,i=document.createTreeWalker(t.commonAncestorContainer,NodeFilter.SHOW_ELEMENT,null);r=i.nextNode();)t.intersectsNode(r)&&"tspan"===r.localName&&e.push(r);
return e},c=function(t){var n=e("div");return n.style.fontFamily=t,""!==n.style.fontFamily;
};return{get normalizeText(){return i},get normalizeTextInRangeBeforeEditing(){return a;
},get normalizeTextInRangeAfterEditing(){return s},get getRangeOffsetRelativeToElement(){
return o},get getTextOffset(){return l},get getTspansIntersectedByRange(){return u;
},get isValidFontFamilyValue(){return c}}}),System.registerModule("utils/time",[],function(){
"use strict";var t=arguments,e=(System.get("utils/type").isNumber,function(t){var e=void 0!==arguments[1]?arguments[1]:500,n=arguments[2],r=null,i=null,a=null,s=0,o=function(){
s=new Date,i=null,a=t.apply(n,r)},l=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];
var c=new Date,d=e-(c-s);return r=l,0>=d?(clearTimeout(i),i=null,s=c,a=t.apply(n,r)):i||(i=setTimeout(o,d)),
a};return l}),n=function(e,n,r){var i=void 0!==arguments[3]?arguments[3]:!1,a=null,s=null,o=function(){
var o=t,l=function(){a=null,i||(s=e.apply(r,o))},u=i&&!a;return clearTimeout(a),a=setTimeout(l,n),
u&&(s=e.apply(r,o)),s};return o},r=function(t){return new Promise(function(e,n){setTimeout(function(){
return e()},t)})},i=function(t){return new Promise(function(e,n){var r=function(n){
n.timeRemaining()>=t?e():requestIdleCallback(r)};requestIdleCallback(r)})},a=function(t){
requestAnimationFrame(t)},s=function(t){return t/1e3/60/60/24},o=function(){return Date.now();
},l=function(){var t=new Date,e=t.getFullYear(),n=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),s=("0"+t.getSeconds()).slice(-2),o=e+"-"+n+"-"+r+"T"+i+":"+a+":"+s;
return o};return{get throttle(){return e},get debounce(){return n},get sleep(){return r;
},get sleepUntilIdle(){return i},get nextTick(){return a},get milisecondsToDays(){
return s},get getTimeStamp(){return o},get getISOTimestamp(){return l}}}),System.registerModule("utils/transform",[],function(){
"use strict";var t=System.get("utils/bbox"),e=t.getUserBBox,n=t.getClientBBox,r=System.get("utils/dom"),i=(r.createElement,
r.createSVGMatrix),a=r.createSVGPoint,s=(r.createSVGLength,r.createSVGRect,System.get("utils/math")),o=s.degToRad,l=(s.radToDeg,
s.round),u=System.get("utils/matrix").roundMatrix,c=System.get("utils/path").normalizePathData,d=System.get("utils/paint").getPaintServer,h=System.get("utils/pattern").getComputedPatternProperties,f=System.get("utils/rect"),v=(f.transformRect,
f.combineRects),m=System.get("classes/decomposed-transform")["default"],b=System.get("classes/enum")["default"],g=System.get("classes/vector")["default"],p=Math,y=p.abs,_=(p.sqrt,
p.pow,p.tan),x=(p.atan2,p.min),w=Number.parseFloat,S=SVGUnitTypes,C=S.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,k=S.SVG_UNIT_TYPE_USERSPACEONUSE,E=new b("initialStartClientPoint","initialEndClientPoint","initialNormalClientPoint","initialCenterClientPoint","initialR1ClientPoint","initialR2ClientPoint","initialP1ClientPoint","initialP2ClientPoint","initialP3ClientPoint"),A=function(t){
var e=void 0!==arguments[1]?arguments[1]:!1,n=void 0!==arguments[2]?arguments[2]:!0,r=void 0!==arguments[3]?arguments[3]:!0,i=t.localName;
if("ellipse"===i)j(t,e,r);else if("image"===i)P(t);else if("text"===i)I(t,e,r);else if("path"===i)if(t.hasAttribute("is")){
var a=t.getAttribute("is");"bx-rectpath"===a?M(t,e,n,r):"bx-starpath"===a||"bx-ringpath"===a||O(t,e,r);
}else O(t,e,r);t.transform&&t.transform.baseVal.consolidate().matrix.isIdentity()&&t.removeAttribute("transform");
},T=function(t){var n=[d(t,"fill"),d(t,"stroke")],r=n.filter(function(t){return t&&t.localName.endsWith("Gradient");
}),i=n.filter(function(t){return t&&"pattern"===t.localName}),s=t.getScreenCTM(),o=!0,l=!1,u=void 0;
try{for(var c=void 0,f=r[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var v=c.value,m=v.gradientTransform.baseVal.consolidate().matrix;
if(v.gradientUnits.baseVal===k)if("linearGradient"===v.localName){var b=a(v.x1.baseVal.value,v.y1.baseVal.value),p=a(v.x2.baseVal.value,v.y2.baseVal.value),y=new g(b,p).getNormalVector(),_=y.transformPoint(b),x=b.matrixTransform(m),w=p.matrixTransform(m),S=_.matrixTransform(m);
v[E.initialStartClientPoint]=x.matrixTransform(s),v[E.initialEndClientPoint]=w.matrixTransform(s),
v[E.initialNormalClientPoint]=S.matrixTransform(s)}else if("radialGradient"===v.localName){
var A=a(v.cx.baseVal.value,v.cy.baseVal.value),T=a(v.cx.baseVal.value+v.r.baseVal.value,v.cy.baseVal.value),L=a(v.cx.baseVal.value,v.cy.baseVal.value-v.r.baseVal.value),M=A.matrixTransform(m),j=T.matrixTransform(m),R=L.matrixTransform(m);
v[E.initialCenterClientPoint]=M.matrixTransform(s),v[E.initialR1ClientPoint]=j.matrixTransform(s),
v[E.initialR2ClientPoint]=R.matrixTransform(s)}}}catch(O){l=!0,u=O}finally{try{o||null==f["return"]||f["return"]();
}finally{if(l)throw u}}var P=!0,I=!1,D=void 0;try{for(var N=void 0,V=i[Symbol.iterator]();!(P=(N=V.next()).done);P=!0){
var B=N.value,U=h(B),z=U.x,G=U.y,H=U.width,F=U.height,q=(U.viewBox,U.patternUnits),$=U.patternTransform;
if(q===k){var W=a(z.value,G.value),Y=a(z.value+H.value,G.value),X=a(z.value+H.value,G.value+F.value),Z=W.matrixTransform($),K=Y.matrixTransform($),J=X.matrixTransform($);
B[E.initialP1ClientPoint]=Z.matrixTransform(s),B[E.initialP2ClientPoint]=K.matrixTransform(s),
B[E.initialP3ClientPoint]=J.matrixTransform(s)}else if(q===C){var Q=t.getScreenCTM(),tt=e(t),et=a(z.valueInSpecifiedUnits,G.valueInSpecifiedUnits),nt=a(z.valueInSpecifiedUnits+H.valueInSpecifiedUnits,G.valueInSpecifiedUnits),rt=a(z.valueInSpecifiedUnits+H.valueInSpecifiedUnits,G.valueInSpecifiedUnits+F.valueInSpecifiedUnits),it=a(tt.x+et.x*tt.width,tt.y+et.y*tt.height),at=a(tt.x+nt.x*tt.width,tt.y+nt.y*tt.height),st=a(tt.x+rt.x*tt.width,tt.y+rt.y*tt.height),ot=it.matrixTransform($),lt=at.matrixTransform($),ut=st.matrixTransform($),ct=ot.matrixTransform(Q),dt=lt.matrixTransform(Q),ht=ut.matrixTransform(Q);
B[E.initialP1ClientPoint]=ct,B[E.initialP2ClientPoint]=dt,B[E.initialP3ClientPoint]=ht;
}}}catch(ft){I=!0,D=ft}finally{try{P||null==V["return"]||V["return"]()}finally{if(I)throw D;
}}},L=function(t){var n=[d(t,"fill"),d(t,"stroke")],r=n.filter(function(t){return t&&t.localName.endsWith("Gradient");
}),i=n.filter(function(t){return t&&"pattern"===t.localName}),s=t.getScreenCTM().inverse(),o=!0,l=!1,u=void 0;
try{for(var c=void 0,f=r[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var v=c.value;
if(v.gradientUnits.baseVal===k){var m=void 0;if("linearGradient"===v.localName){var b=a(v.x1.baseVal.value,v.y1.baseVal.value),p=a(v.x2.baseVal.value,v.y2.baseVal.value),y=new g(b,p).getNormalVector().transformPoint(b);
m=N(b,p,y,v[E.initialStartClientPoint].matrixTransform(s),v[E.initialEndClientPoint].matrixTransform(s),v[E.initialNormalClientPoint].matrixTransform(s));
}else if("radialGradient"===v.localName){var _=a(v.cx.baseVal.value,v.cy.baseVal.value),x=a(v.cx.baseVal.value+v.r.baseVal.value,v.cy.baseVal.value),w=a(v.cx.baseVal.value,v.cy.baseVal.value-v.r.baseVal.value);
m=N(_,x,w,v[E.initialCenterClientPoint].matrixTransform(s),v[E.initialR1ClientPoint].matrixTransform(s),v[E.initialR2ClientPoint].matrixTransform(s));
}v.setAttribute("gradientTransform",m.toString())}}}catch(S){l=!0,u=S}finally{try{
o||null==f["return"]||f["return"]()}finally{if(l)throw u}}var A=!0,T=!1,L=void 0;try{
for(var M=void 0,j=i[Symbol.iterator]();!(A=(M=j.next()).done);A=!0){var R=M.value,O=h(R),P=O.x,I=O.y,D=O.width,V=O.height,B=O.patternUnits,U=O.patternTransform;
if(B===k){var z=a(P.value,I.value),G=a(P.value+D.value,I.value),H=a(P.value+D.value,I.value+V.value),F=N(z,G,H,R[E.initialP1ClientPoint].matrixTransform(s),R[E.initialP2ClientPoint].matrixTransform(s),R[E.initialP3ClientPoint].matrixTransform(s));
R.setAttribute("patternTransform",F.toString())}else if(B===C){var q=e(t),$=a(P.valueInSpecifiedUnits,I.valueInSpecifiedUnits),W=a(P.valueInSpecifiedUnits+D.valueInSpecifiedUnits,I.valueInSpecifiedUnits),Y=a(P.valueInSpecifiedUnits+D.valueInSpecifiedUnits,I.valueInSpecifiedUnits+V.valueInSpecifiedUnits),X=a(q.x+$.x*q.width,q.y+$.y*q.height),Z=a(q.x+W.x*q.width,q.y+W.y*q.height),K=a(q.x+Y.x*q.width,q.y+Y.y*q.height),J=R[E.initialP1ClientPoint].matrixTransform(s),Q=R[E.initialP2ClientPoint].matrixTransform(s),tt=R[E.initialP3ClientPoint].matrixTransform(s),et=J.matrixTransform(U.inverse()),nt=Q.matrixTransform(U.inverse()),rt=tt.matrixTransform(U.inverse()),it=N(X,Z,K,et,nt,rt);
R.setAttribute("patternTransform",U.multiply(it).toString())}}}catch(at){T=!0,L=at;
}finally{try{A||null==j["return"]||j["return"]()}finally{if(T)throw L}}},M=function(t,e,n){
if(t.hasAttribute("transform")!==!1){var r=t.transform.baseVal.consolidate().matrix,i=m.fromSVGMatrix(r),s=i.scaleX,o=i.scaleY;
T(t);var l=a(t.x,t.y).matrixTransform(r),c=a(t.x+t.width,t.y).matrixTransform(r),d=a(t.x,t.y+t.height).matrixTransform(r),h=t.x*s,f=t.y*o,v=t.width*y(s),b=t.height*y(o),g=a(h,f),p=a(h+v,f),_=a(h,f+b),S=N(g,p,_,l,c,d);
if(S=u(S,6),1===y(S.a)&&0===S.b&&0===S.c&&1===y(S.d)&&(0!==S.e||0!==S.f)&&(h=1===S.a?h+S.e:h-S.e,
f=1===S.d?f+S.f:f-S.f,S.e=0,S.f=0),t.setAttribute("transform",S.toString()),t.setAttribute("data-bx-x",h),
t.setAttribute("data-bx-y",f),t.setAttribute("data-bx-width",v),t.setAttribute("data-bx-height",b),
n===!0&&(t.setAttribute("data-bx-r1x",t.r1x*y(s)),t.setAttribute("data-bx-r1y",t.r1y*y(o)),
t.setAttribute("data-bx-r2x",t.r2x*y(s)),t.setAttribute("data-bx-r2y",t.r2y*y(o)),
t.setAttribute("data-bx-r3x",t.r3x*y(s)),t.setAttribute("data-bx-r3y",t.r3y*y(o)),
t.setAttribute("data-bx-r4x",t.r4x*y(s)),t.setAttribute("data-bx-r4y",t.r4y*y(o))),
e===!0){var C=getComputedStyle(t).strokeWidth;C=w(C),t.style.strokeWidth=x(C*s,C*o);
}L(t)}},j=function(t,e){if(t.hasAttribute("transform")!==!1){var n=8,r=t.transform.baseVal.consolidate().matrix,i=m.fromSVGMatrix(r),s=i.scaleX,o=i.scaleY;
T(t);var c=t.cx.baseVal.value,d=t.cy.baseVal.value,h=t.rx.baseVal.value,f=t.ry.baseVal.value,v=a(c,d).matrixTransform(r),b=a(c+h,d).matrixTransform(r),p=a(c,d-f).matrixTransform(r);
c*=s,d*=o,h*=s,f*=o;var _=a(c,d),S=a(c+h,d),C=a(c,d-f),k=N(_,S,C,v,b,p);if(k=u(k,5),
1===y(k.a)&&0===k.b&&0===k.c&&1===y(k.d)&&(_=_.matrixTransform(k),S=S.matrixTransform(k),
C=C.matrixTransform(k),k.e=0,k.f=0),h=new g(_,S).length,f=new g(_,C).length,t.setAttribute("transform",k.toString()),
t.setAttribute("cx",l(_.x,n)),t.setAttribute("cy",l(_.y,n)),t.setAttribute("rx",l(h,n)),
t.setAttribute("ry",l(f,n)),e===!0){var E=getComputedStyle(t).strokeWidth;E=w(E),
t.style.strokeWidth=x(E*s,E*o)}L(t)}},R=function(t,e){var n=c(t),r=!0,i=!1,s=void 0;
try{for(var o=void 0,l=n[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value;
if("M"===u.type||"L"===u.type){var d=a(u.values[0],u.values[1]).matrixTransform(e);
u.values=[d.x,d.y]}else if("C"===u.type){var h=a(u.values[0],u.values[1]).matrixTransform(e),f=a(u.values[2],u.values[3]).matrixTransform(e),v=a(u.values[4],u.values[5]).matrixTransform(e);
u.values=[h.x,h.y,f.x,f.y,v.x,v.y]}}}catch(m){i=!0,s=m}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw s}}return n},O=function(t,e,n){if(t.hasAttribute("transform")){
T(t);var r=i(t.transform.baseVal.consolidate().matrix),a=t.getPathData(),s=R(a,r);
t.setPathData(s),t.removeAttribute("transform"),L(t)}},P=function(t){if(t.hasAttribute("transform")){
var e=m.fromSVGMatrix(t.transform.baseVal.consolidate().matrix);(1!==e.scaleX||1!==e.scaleY)&&(t.setAttribute("preserveAspectRatio","none"),
t.setAttribute("x",t.x.baseVal.value*e.scaleX),t.setAttribute("y",t.y.baseVal.value*e.scaleY),
t.setAttribute("width",t.width.baseVal.value*e.scaleX),t.setAttribute("height",t.height.baseVal.value*e.scaleY),
e.scaleX=1,e.scaleY=1),0===e.rotateZ&&0===e.skewXY&&(t.setAttribute("x",t.x.baseVal.value+e.translateX),
t.setAttribute("y",t.y.baseVal.value+e.translateY),e.translateX=0,e.translateY=0),
t.setAttribute("transform",e.toSVGMatrix().toString())}},I=function(t,e,n){if(t.hasAttribute("transform")){
var r=new Map,i=!0,a=!1,s=void 0;try{for(var o=void 0,u=t.children[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){
var c=o.value;r.set(c,c.getBBox())}}catch(d){a=!0,s=d}finally{try{i||null==u["return"]||u["return"]();
}finally{if(a)throw s}}var h=m.fromSVGMatrix(t.transform.baseVal.consolidate().matrix),f=new m;
if(h.scaleX===h.scaleY){var v=!0,b=!1,g=void 0;try{for(var p=void 0,y=t.children[Symbol.iterator]();!(v=(p=y.next()).done);v=!0){
var _=p.value,S=getComputedStyle(_).fontSize;S=w(S),S=l(S*h.scaleY,1),_.style.fontSize=S;
var C=getComputedStyle(_).wordSpacing;C=w(C),C=l(C*h.scaleY,2),_.style.wordSpacing=C;
var k=getComputedStyle(_).letterSpacing;k=w(k),k=l(k*h.scaleY,2),_.style.letterSpacing=k;
}}catch(E){b=!0,g=E}finally{try{v||null==y["return"]||y["return"]()}finally{if(b)throw g;
}}for(var A="",T="",L=0;L<t.x.baseVal.numberOfItems;L+=1)A+=t.x.baseVal.getItem(L).value*h.scaleX,
L!==t.x.baseVal.numberOfItems-1&&(A+=" ");for(var M=0;M<t.y.baseVal.numberOfItems;M+=1)T+=t.y.baseVal.getItem(M).value*h.scaleY,
M!==t.y.baseVal.numberOfItems-1&&(T+=" ");if(t.setAttribute("x",A),t.setAttribute("y",T),
e===!0){var j=getComputedStyle(t).strokeWidth;j=w(j),t.style.strokeWidth=x(j*h.scaleX,j*h.scaleY);
}f.scaleX=h.scaleX,f.scaleY=h.scaleY,h.scaleX=1,h.scaleY=1}if(1===h.scaleX&&1===h.scaleY&&0===h.rotateZ&&0===h.skewXY){
var R="",O="";if(t.x.baseVal.numberOfItems>0)for(var P=0;P<t.x.baseVal.numberOfItems;P+=1)R+=t.x.baseVal.getItem(P).value+h.translateX,
P!==t.x.baseVal.numberOfItems-1&&(R+=" ");else R=h.translateX;if(t.y.baseVal.numberOfItems>0)for(var I=0;I<t.y.baseVal.numberOfItems;I+=1)O+=t.y.baseVal.getItem(I).value+h.translateY,
I!==t.y.baseVal.numberOfItems-1&&(O+=" ");else O=h.translateY;t.setAttribute("x",R),
t.setAttribute("y",O),f.translateX=h.translateX,f.translateY=h.translateY,h.translateX=0,
h.translateY=0}t.setAttribute("transform",h.toSVGMatrix().toString());var D=!0,N=!1,V=void 0;
try{for(var B=void 0,U=t.children[Symbol.iterator]();!(D=(B=U.next()).done);D=!0){
B.value}}catch(z){N=!0,V=z}finally{try{D||null==U["return"]||U["return"]()}finally{
if(N)throw V}}}},D=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];
var i,s=[],o=!0,l=!1,u=void 0;try{for(var c=void 0,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value,f=e(h),m=h.getScreenCTM(),b=0,g=0;if(h.hasAttribute("data-transform-origin")){
var p=h.getAttribute("data-transform-origin").split(" ");b=w(p[0]),g=w(p[1])}var y=f.x+f.width/2+b,_=f.y+f.height/2+g;
i=a(y,_),i=i.matrixTransform(m),s.push(i)}}catch(x){l=!0,u=x}finally{try{o||null==d["return"]||d["return"]();
}finally{if(l)throw u}}if(1===t.length)i=s[0];else{var S=!0,C=!0,k=!1,E=void 0;try{
for(var A=void 0,T=s[Symbol.iterator]();!(C=(A=T.next()).done);C=!0){var L=A.value;
if(L.x<s[0].x-3||L.x>s[0].x+3||L.y<s[0].y-3||L.y>s[0].y+3){S=!1;break}}}catch(M){
k=!0,E=M}finally{try{C||null==T["return"]||T["return"]()}finally{if(k)throw E}}if(S)i=s[0];else{
var j=function(){var e=0,r=[],i=!0,a=!1,s=void 0;try{for(var o=void 0,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){
var u=o.value;r[e++]=n(u)}}catch(c){a=!0,s=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw s}}return r}(),R=v(j);i=a(R.x+R.width/2,R.y+R.height/2)}}return i;
},N=function(t,e,n,r,a,s){var o=function(t){return t[0][0]*(t[1][1]*t[2][2]-t[1][2]*t[2][1])-t[0][1]*(t[1][0]*t[2][2]-t[1][2]*t[2][0])+t[0][2]*(t[1][0]*t[2][1]-t[1][1]*t[2][0]);
},l=o([[t.x,t.y,1],[e.x,e.y,1],[n.x,n.y,1]]),u=o([[r.x,t.y,1],[a.x,e.y,1],[s.x,n.y,1]]),c=o([[r.y,t.y,1],[a.y,e.y,1],[s.y,n.y,1]]),d=o([[t.x,r.x,1],[e.x,a.x,1],[n.x,s.x,1]]),h=o([[t.x,r.y,1],[e.x,a.y,1],[n.x,s.y,1]]),f=o([[t.x,t.y,r.x],[e.x,e.y,a.x],[n.x,n.y,s.x]]),v=o([[t.x,t.y,r.y],[e.x,e.y,a.y],[n.x,n.y,s.y]]);
return i(u/l,c/l,d/l,h/l,f/l,v/l)},V=function(t,e){return e.getScreenCTM().inverse().multiply(t.getScreenCTM());
},B=function(t,e,n){var r=i(t);return r.e=r.e+e*r.a+n*r.c,r.f=r.f+e*r.b+n*r.d,r},U=function(t,e,n){
var r=void 0!==arguments[3]?arguments[3]:0,a=void 0!==arguments[4]?arguments[4]:0,s=i(t),l=o(e),u=o(n),c=i();
return c=z(c,_(l),_(u)),s=B(s,r,a),s.multiplySelf(c),s=B(s,-r,-a)},z=function(t,e,n){
var r=i(t),a=r.a,s=r.b;return r.a+=n*r.c,r.b+=n*r.d,r.c+=e*a,r.d+=e*s,r};return{get reduceTransform(){
return A},get transformPathData(){return R},get reducePathTransform(){return O},get getTransformOriginPoint(){
return D},get getTransformFromPoints(){return N},get getTransformToElement(){return V;
},get skew(){return U},get shear(){return z}}}),System.registerModule("utils/type",[],function(){
"use strict";var t=Number,e=t.isFinite,n=t.isNaN,r=t.parseFloat,i=function(t){return n(t)?!1:"number"==typeof t?!0:!1;
},a=function(t){return t===!!t},s=function(t){var i=r(t);return n(i)===!1&&e(i)};return{
get isNumber(){return i},get isBoolean(){return a},get isNumeric(){return s}}}),System.registerModule("utils/vector",[],function(){
"use strict";var t=System.get("utils/math").radToDeg,e=System.get("classes/vector")["default"],n=Math,r=n.abs,i=n.atan2,a=function(e,n){
var a=i(n.y,n.x)-i(e.y,e.x),s=t(a);return 0>s&&(s=360-r(s)),s},s=function(t,e){return t.x*e.x+t.y*e.y;
},o=function(t,n){return new e(t.x-n.x,t.y-n.y)},l=function(t,n){return new e(t.x+n.x,t.y+n.y);
},u=function(t,e){return t.x===e.x&&t.y===e.y?!0:!1};return{get getAngleBetweenVectors(){
return a},get vectorsDotProduct(){return s},get subtractVectors(){return o},get sumVectors(){
return l},get compareVectors(){return u}}});