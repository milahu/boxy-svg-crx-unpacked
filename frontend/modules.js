$traceurRuntime.registerModule("classes/bridge",[],function(){"use strict";var e=function(){
function e(){var e=this;this._counter=0,this._requestCallbacks={},this._responseCallbacks={},
this._postMessageCache=[],this._masterWindow=null,this._masterOrigin=null,window.addEventListener("message",function(t){
return e._onMessage(t)})}return $traceurRuntime.createClass(e,{postMessage:function(e){
var t=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null,r=this,i=function(){
var i=r._counter++,a="request",o={channel:a,id:i,name:e,arg:t};n&&(r._responseCallbacks[o.id]=n),
r._masterWindow.postMessage(o,r._masterOrigin)};this._masterWindow&&this._masterOrigin?i():this._postMessageCache.push(i);
},addMessageListener:function(e,t){this._requestCallbacks[e]||(this._requestCallbacks[e]=[]),
this._requestCallbacks[e].push(t)},removeMessageListener:function(e,t){this._requestCallbacks[e]&&(this._requestCallbacks[e]=this._requestCallbacks[e].filter(function(e){
return e!==t}))},_onMessage:function(e){var t=this,n=e.data,r=n.channel,i=n.id,a=n.name,o=n.arg;
if(null===this._masterWindow){this._masterWindow=e.source,this._masterOrigin=e.origin;
var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this._postMessageCache[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h()}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}this._postMessageCache=[]}"request"===r?this._requestCallbacks[a]&&this._requestCallbacks[a].forEach(function(e){
e(o,function(e){var n={channel:"response",id:i,name:a,arg:e};t._masterWindow.postMessage(n,t._masterOrigin);
})}):"response"===r&&this._responseCallbacks[i]&&(this._responseCallbacks[i](o),delete this._responseCallbacks[i]);
}},{})}(),t=function(){function e(){var e=this;this._counter=0,this._requestCallbacks={},
this._responseCallbacks={},ipcRenderer.on("request",function(t,n){return e._onRequestMessage(n);
}),ipcRenderer.on("response",function(t,n){return e._onResponseMessage(n)})}return $traceurRuntime.createClass(e,{
postMessage:function(e){var t=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null,r=this._counter++,i={
name:e,arg:t,id:r};n&&(this._responseCallbacks[i.id]=n),ipcRenderer.isWebview?ipcRenderer.sendToHost("request",i):ipcRenderer.send("request",i);
},addMessageListener:function(e,t){this._requestCallbacks[e]||(this._requestCallbacks[e]=[]),
this._requestCallbacks[e].push(t)},removeMessageListener:function(e,t){this._requestCallbacks[e]&&(this._requestCallbacks[e]=this._requestCallbacks[e].filter(function(e){
return e!==t}))},_onRequestMessage:function(e){var t=e,n=t.name,r=t.arg,i=t.id,a=this._requestCallbacks[n];
a&&a.forEach(function(e){e(r,function(e){var t={id:i,name:n,arg:e};ipcRenderer.isWebview?ipcRenderer.sendToHost("response",t):ipcRenderer.send("response",t);
})})},_onResponseMessage:function(e){this._responseCallbacks[e.id]&&(this._responseCallbacks[e.id](e.arg),
delete this._responseCallbacks[e.id])}},{})}(),n=window.ipcRenderer?t:e;return{get default(){
return n}}}),$traceurRuntime.registerModule("classes/color",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","classes/color")),t=e.stringToColor,n=e.colorToString,r=e.rgbToHsl,i=e.hslToRgb,a=function(){
function e(){var e=void 0!==arguments[0]?arguments[0]:0,t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:0,r=void 0!==arguments[3]?arguments[3]:1,i=void 0!==arguments[4]?arguments[4]:"rgba";
"rgba"===i?(this.r=e,this.g=t,this.b=n):"hsla"===i&&(this.h=e,this.s=t,this.l=n),
this.a=r,this.space=i}return $traceurRuntime.createClass(e,{setSpace:function(e){
var t,n,a,o;if("rgba"===e&&"hsla"===this.space){var s=i(this.h,this.s,this.l),l=(t=s[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),u=(n=t.next()).done?void 0:n.value,c=(n=t.next()).done?void 0:n.value;
this.r=l,this.g=u,this.b=c,delete this.h,delete this.s,delete this.l,this.space="rgba";
}else if("hsla"===e&&"rgba"===this.space){var d=r(this.r,this.g,this.b),h=(a=d[Symbol.iterator](),
(o=a.next()).done?void 0:o.value),v=(o=a.next()).done?void 0:o.value,f=(o=a.next()).done?void 0:o.value;
this.h=h,this.s=v,this.l=f,delete this.r,delete this.g,delete this.b,this.space="hsla";
}},clone:function(){return"rgba"===this.space?new e(this.r,this.g,this.b,this.a,"rgba"):"hsla"===this.space?new e(this.h,this.s,this.l,this.a,"hsla"):void 0;
},log:function(){var e=this.toString();console.log("%c     ","background: "+e,e)},
toString:function(){var e=void 0!==arguments[0]?arguments[0]:"rgba";return n(this,e);
}},{fromString:function(n){var r=void 0!==arguments[1]?arguments[1]:"rgba";if("rgba"===r){
var i=t(n,"rgba"),a=i.r,o=i.g,s=i.b,l=i.a;return new e(a,o,s,l,"rgba")}var u=t(n,"hsla"),c=u.h,d=u.s,h=u.l,v=u.a;
return new e(c,d,h,v,"hsla")}})}();return{get default(){return a}}}),$traceurRuntime.registerModule("classes/decomposed-transform",[],function(){
"use strict";var e=Math,t=e.abs,n=e.sqrt,r=e.asin,i=e.sin,a=e.cos,o=(e.tan,e.atan2),s=1e-8,l=function(){
function e(){var e=void 0!==arguments[0]?arguments[0]:"eulerAngles";this._translateX=0,
this._translateY=0,this._translateZ=0,this._scaleX=1,this._scaleY=1,this._scaleZ=1,
this._perspectiveX=0,this._perspectiveY=0,this._perspectiveZ=0,this._perspectiveW=1,
this._skewXY=0,this._skewXZ=0,this._skewYZ=0,this._rotation=e,"eulerAngles"===e?(this._rotateX=0,
this._rotateY=0,this._rotateZ=0):"quaternions"===e&&(this._quaternionX=0,this._quaternionY=0,
this._quaternionZ=0,this._quaternionW=0)}return $traceurRuntime.createClass(e,{toSVGMatrix:function(){
var e=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];if(e[0][3]=this.perspectiveX,e[1][3]=this.perspectiveY,
e[2][3]=this.perspectiveZ,e[3][3]=this.perspectiveW,_(e,this.translateX,this.translateY,this.translateZ),
"eulerAngles"===this.rotation){var t=a(this.rotateX),n=i(this.rotateX),r=a(this.rotateY),o=i(this.rotateY),s=a(this.rotateZ),l=i(this.rotateZ),u=r*s,c=r*l,d=o*s,h=o*l,v=[[u-h*n,c+d*n,-t*o,0],[-t*l,t*s,n,0],[d+c*n,h-u*n,t*r,0],[0,0,0,1]];
e=w(e,v)}else if("quaternions"===this.rotation){var f=this.quaternionX*this.quaternionX,m=this.quaternionX*this.quaternionY,b=this.quaternionX*this.quaternionZ,g=this.quaternionX*this.quaternionW,p=this.quaternionY*this.quaternionY,y=this.quaternionY*this.quaternionZ,x=this.quaternionY*this.quaternionW,S=this.quaternionZ*this.quaternionZ,C=this.quaternionZ*this.quaternionW,R=[[1-2*(p+S),2*(m-C),2*(b+x),0],[2*(m+C),1-2*(f+S),2*(y-g),0],[2*(b-x),2*(y+g),1-2*(f+p),0],[0,0,0,1]];
e=w(e,R)}if(this.skewYZ){var k=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];k[2][1]=this.skewYZ,
e=w(e,k)}if(this.skewXZ){var E=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];E[2][1]=0,
E[2][0]=this.skewXZ,e=w(e,E)}if(this.skewXY){var A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];
A[2][0]=0,A[1][0]=this.skewXY,e=w(e,A)}return M(e,this.scaleX,this.scaleY,this.scaleZ),
new SVGMatrix([e[0][0],e[0][1],e[1][0],e[1][1],e[3][0],e[3][1]])},clone:function(){
var t=new e(this._rotation);return t.translateX=this._translateX,t.translateY=this._translateY,
t.translateZ=this._translateZ,t.scaleX=this._scaleX,t.scaleY=this._scaleY,t.scaleZ=this._scaleZ,
t.perspectiveX=this._perspectiveX,t.perspectiveY=this._perspectiveY,t.perspectiveZ=this._perspectiveZ,
t.perspectiveW=this._perspectiveW,t.skewXY=this._skewXY,t.skewXZ=this._skewXZ,t.skewYZ=this._skewYZ,
"eulerAngles"===this._rotation?(t.rotateX=this._rotateX,t.rotateY=this._rotateY,t.rotateZ=this._rotateZ):"quaternions"===this._rotation&&(t.quaternionX=this._quaternionX,
t.quaternionY=this._quaternionY,t.quaternionZ=this._quaternionZ,t.quaternionW=this._quaternionW),
t},get translateX(){return this._translateX},set translateX(e){this._translateX=e;
},get translateY(){return this._translateY},set translateY(e){this._translateY=e},
get translateZ(){return this._translateZ},set translateZ(e){this._translateZ=e},get scaleX(){
return this._scaleX},set scaleX(e){this._scaleX=e},get scaleY(){return this._scaleY;
},set scaleY(e){this._scaleY=e},get scaleZ(){return this._scaleZ},set scaleZ(e){this._scaleZ=e;
},get perspectiveX(){return this._perspectiveX},set perspectiveX(e){this._perspectiveX=e;
},get perspectiveY(){return this._perspectiveY},set perspectiveY(e){this._perspectiveY=e;
},get perspectiveZ(){return this._perspectiveZ},set perspectiveZ(e){this._perspectiveZ=e;
},get perspectiveW(){return this._perspectiveW},set perspectiveW(e){this._perspectiveW=e;
},get skewXY(){return this._skewXY},set skewXY(e){this._skewXY=e},get skewXZ(){return this._skewXZ;
},set skewXZ(e){this._skewXZ=e},get skewYZ(){return this._skewYZ},set skewYZ(e){this._skewYZ=e;
},get rotation(){return this._rotation},set rotation(e){throw new Error('"rotation" property is read-only.');
},get rotateX(){if("eulerAngles"===this._rotation)return this._rotateX;throw new Error('Can\'t get "rotateX" propery - decomposed transform does not use Euler angles.');
},set rotateX(e){if("eulerAngles"!==this._rotation)throw new Error('Can\'t set "rotateX" propery - decomposed transform does not use Euler angles.');
this._rotateX=e},get rotateY(){if("eulerAngles"===this._rotation)return this._rotateY;
throw new Error('Can\'t get "rotateY" propery - decomposed transform does not use Euler angles.');
},set rotateY(e){if("eulerAngles"!==this._rotation)throw new Error('Can\'t set "rotateY" propery - decomposed transform does not use Euler angles.');
this._rotateY=e},get rotateZ(){if("eulerAngles"===this._rotation)return this._rotateZ;
throw new Error('Can\'t get "rotateZ" propery - decomposed transform does not use Euler angles.');
},set rotateZ(e){if("eulerAngles"!==this._rotation)throw new Error('Can\'t set "rotateZ" propery - decomposed transform does not use Euler angles.');
this._rotateZ=e},get quaternionX(){if("quaternions"===this._rotation)return this._quaternionX;
throw new Error('Can\'t get "quaternionX" propery - decomposed transform does not use quaternions.');
},set quaternionX(e){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionX" propery - decomposed transform does not use quaternions.');
this._quaternionX=e},get quaternionY(){if("quaternions"===this._rotation)return this._quaternionY;
throw new Error('Can\'t get "quaternionY" propery - decomposed transform does not use quaternions.');
},set quaternionY(e){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionY" propery - decomposed transform does not use quaternions.');
this._quaternionY=e},get quaternionZ(){if("quaternions"===this._rotation)return this._quaternionZ;
throw new Error('Can\'t get "quaternionZ" propery - decomposed transform does not use quaternions.');
},set quaternionZ(e){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionZ" propery - decomposed transform does not use quaternions.');
this._quaternionX=e},get quaternionW(){if("quaternions"===this._rotation)return this._quaternionW;
throw new Error('Can\'t get "quaternionW" propery - decomposed transform does not use quaternions.');
},set quaternionW(e){if("quaternions"!==this._rotation)throw new Error('Can\'t set "quaternionW" propery - decomposed transform does not use quaternions.');
this._quaternionW=e}},{fromSVGMatrix:function(t){var i=void 0!==arguments[1]?arguments[1]:"eulerAngles",s=new e(i),l=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];
if(0==l[3][3])return!1;for(var u=0;4>u;u++)for(var c=0;4>c;c++)l[u][c]/=l[3][3];for(var h=[],_=0;4>_;_++){
h[_]=[];for(var w=0;4>w;w++)h[_][w]=l[_][w]}for(var S=0;3>S;S++)h[S][3]=0;if(h[3][3]=1,
0==d(h))return!1;if(0!=l[0][3]||0!=l[1][3]||0!=l[2][3]){var M=[0,0,0,0];M[0]=l[0][3],
M[1]=l[1][3],M[2]=l[2][3],M[3]=l[3][3];var C=v(h),R=f(C),k=m(M,R);s.perspectiveX=k[0],
s.perspectiveY=k[1],s.perspectiveZ=k[2],s.perspectiveW=k[3],l[0][3]=l[1][3]=l[2][3]=0,
l[3][3]=1}else s.perspectiveX=s.perspectiveY=s.perspectiveZ=0,s.perspectiveW=1;s.translateX=l[3][0],
l[3][0]=0,s.translateY=l[3][1],l[3][1]=0,s.translateZ=l[3][2],l[3][2]=0;for(var E=[[],[],[]],A=[0,0,0],P=0;3>P;P++)E[P][0]=l[P][0],
E[P][1]=l[P][1],E[P][2]=l[P][2];if(s.scaleX=b(E[0]),g(E[0],1),s.skewXY=p(E[0],E[1]),
y(E[1],E[0],E[1],1,-s.skewXY),s.scaleY=b(E[1]),g(E[1],1),s.skewXY/=s.scaleY,s.skewXZ=p(E[0],E[2]),
y(E[2],E[0],E[2],1,-s.skewXZ),s.skewYZ=p(E[1],E[2]),y(E[2],E[1],E[2],1,-s.skewYZ),
s.scaleZ=b(E[2]),g(E[2],1),s.skewXZ/=s.scaleZ,s.skewYZ/=s.scaleZ,x(E[1],E[2],A),p(E[0],A)<0){
s.scaleX*=-1,s.scaleY*=-1,s.scaleZ*=-1;for(var T=0;3>T;T++)E[T][0]*=-1,E[T][1]*=-1,
E[T][2]*=-1}if("eulerAngles"===i)s.rotateY=r(-E[0][2]),0!==a(s.rotateY)?(s.rotateX=o(E[1][2],E[2][2]),
s.rotateZ=o(E[0][1],E[0][0])):(s.rotateX=o(-E[2][0],E[1][1]),s.rotateZ=0);else if("quaternions"===i){
var L,$,j,N,O,V;$=E[0][0]+E[1][1]+E[2][2]+1,$>1e-4?(L=.5/n($),V=.25/L,j=(E[2][1]-E[1][2])*L,
N=(E[0][2]-E[2][0])*L,O=(E[1][0]-E[0][1])*L):E[0][0]>E[1][1]&&E[0][0]>E[2][2]?(L=2*n(1+E[0][0]-E[1][1]-E[2][2]),
j=.25*L,N=(E[0][1]+E[1][0])/L,O=(E[0][2]+E[2][0])/L,V=(E[2][1]-E[1][2])/L):E[1][1]>E[2][2]?(L=2*n(1+E[1][1]-E[0][0]-E[2][2]),
j=(E[0][1]+E[1][0])/L,N=.25*L,O=(E[1][2]+E[2][1])/L,V=(E[0][2]-E[2][0])/L):(L=2*n(1+E[2][2]-E[0][0]-E[1][1]),
j=(E[0][2]+E[2][0])/L,N=(E[1][2]+E[2][1])/L,O=.25*L,V=(E[1][0]-E[0][1])/L),s.quaternionX=j,
s.quaternionY=N,s.quaternionZ=O,s.quaternionW=V}return s}})}(),u=function(e,t,n,r){
return e*r-t*n},c=function(e,t,n,r,i,a,o,s,l){return e*u(i,a,s,l)-r*u(t,n,s,l)+o*u(t,n,i,a);
},d=function(e){var t=e[0][0],n=e[0][1],r=e[0][2],i=e[0][3],a=e[1][0],o=e[1][1],s=e[1][2],l=e[1][3],u=e[2][0],d=e[2][1],h=e[2][2],v=e[2][3],f=e[3][0],m=e[3][1],b=e[3][2],g=e[3][3];
return t*c(o,d,m,s,h,b,l,v,g)-n*c(a,u,f,s,h,b,l,v,g)+r*c(a,u,f,o,d,m,l,v,g)-i*c(a,u,f,o,d,m,s,h,b);
},h=function(e){var t=[[],[],[],[]],n=e[0][0],r=e[0][1],i=e[0][2],a=e[0][3],o=e[1][0],s=e[1][1],l=e[1][2],u=e[1][3],d=e[2][0],h=e[2][1],v=e[2][2],f=e[2][3],m=e[3][0],b=e[3][1],g=e[3][2],p=e[3][3];
t[0][0]=c(s,h,b,l,v,g,u,f,p),t[1][0]=-c(o,d,m,l,v,g,u,f,p),t[2][0]=c(o,d,m,s,h,b,u,f,p),
t[3][0]=-c(o,d,m,s,h,b,l,v,g),t[0][1]=-c(r,h,b,i,v,g,a,f,p),t[1][1]=c(n,d,m,i,v,g,a,f,p),
t[2][1]=-c(n,d,m,r,h,b,a,f,p),t[3][1]=c(n,d,m,r,h,b,i,v,g),t[0][2]=c(r,s,b,i,l,g,a,u,p),
t[1][2]=-c(n,o,m,i,l,g,a,u,p),t[2][2]=c(n,o,m,r,s,b,a,u,p),t[3][2]=-c(n,o,m,r,s,b,i,l,g),
t[0][3]=-c(r,s,h,i,l,v,a,u,f),t[1][3]=c(n,o,d,i,l,v,a,u,f),t[2][3]=-c(n,o,d,r,s,h,a,u,f),
t[3][3]=c(n,o,d,r,s,h,i,l,v)},v=function(e){var n=h(e),r=d(e);if(t(r)<s)return!1;for(var i=0;4>i;i++)for(var a=0;4>a;a++)n[i][a]=n[i][a]/r;
return n},f=function(e){for(var t=[[],[],[],[]],n=0;4>n;n++)for(var r=0;4>r;r++)t[n][r]=e[r][n];
return t},m=function(e,t){var n=[];return n[0]=e[0]*t[0][0]+e[1]*t[1][0]+e[2]*t[2][0]+e[3]*t[3][0],
n[1]=e[0]*t[0][1]+e[1]*t[1][1]+e[2]*t[2][1]+e[3]*t[3][1],n[2]=e[0]*t[0][2]+e[1]*t[1][2]+e[2]*t[2][2]+e[3]*t[3][2],
n[3]=e[0]*t[0][3]+e[1]*t[1][3]+e[2]*t[2][3]+e[3]*t[3][3],n},b=function(e){return n(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);
},g=function(e,t){var n=b(e);if(0!=n){var r=t/n;e[0]*=r,e[1]*=r,e[2]*=r}},p=function(e,t){
return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},y=function(e,t,n,r,i){n[0]=r*e[0]+i*t[0],n[1]=r*e[1]+i*t[1],
n[2]=r*e[2]+i*t[2]},x=function(e,t,n){n[0]=e[1]*t[2]-e[2]*t[1],n[1]=e[2]*t[0]-e[0]*t[2],
n[2]=e[0]*t[1]-e[1]*t[0]},_=function(e,t,n,r){e[3][0]+=t*e[0][0]+n*e[1][0]+r*e[2][0],
e[3][1]+=t*e[0][1]+n*e[1][1]+r*e[2][1],e[3][2]+=t*e[0][2]+n*e[1][2]+r*e[2][2],e[3][3]+=t*e[0][3]+n*e[1][3]+r*e[2][3];
},w=function(e,t){var n=[[],[],[],[]];return n[0][0]=t[0][0]*e[0][0]+t[0][1]*e[1][0]+t[0][2]*e[2][0]+t[0][3]*e[3][0],
n[0][1]=t[0][0]*e[0][1]+t[0][1]*e[1][1]+t[0][2]*e[2][1]+t[0][3]*e[3][1],n[0][2]=t[0][0]*e[0][2]+t[0][1]*e[1][2]+t[0][2]*e[2][2]+t[0][3]*e[3][2],
n[0][3]=t[0][0]*e[0][3]+t[0][1]*e[1][3]+t[0][2]*e[2][3]+t[0][3]*e[3][3],n[1][0]=t[1][0]*e[0][0]+t[1][1]*e[1][0]+t[1][2]*e[2][0]+t[1][3]*e[3][0],
n[1][1]=t[1][0]*e[0][1]+t[1][1]*e[1][1]+t[1][2]*e[2][1]+t[1][3]*e[3][1],n[1][2]=t[1][0]*e[0][2]+t[1][1]*e[1][2]+t[1][2]*e[2][2]+t[1][3]*e[3][2],
n[1][3]=t[1][0]*e[0][3]+t[1][1]*e[1][3]+t[1][2]*e[2][3]+t[1][3]*e[3][3],n[2][0]=t[2][0]*e[0][0]+t[2][1]*e[1][0]+t[2][2]*e[2][0]+t[2][3]*e[3][0],
n[2][1]=t[2][0]*e[0][1]+t[2][1]*e[1][1]+t[2][2]*e[2][1]+t[2][3]*e[3][1],n[2][2]=t[2][0]*e[0][2]+t[2][1]*e[1][2]+t[2][2]*e[2][2]+t[2][3]*e[3][2],
n[2][3]=t[2][0]*e[0][3]+t[2][1]*e[1][3]+t[2][2]*e[2][3]+t[2][3]*e[3][3],n[3][0]=t[3][0]*e[0][0]+t[3][1]*e[1][0]+t[3][2]*e[2][0]+t[3][3]*e[3][0],
n[3][1]=t[3][0]*e[0][1]+t[3][1]*e[1][1]+t[3][2]*e[2][1]+t[3][3]*e[3][1],n[3][2]=t[3][0]*e[0][2]+t[3][1]*e[1][2]+t[3][2]*e[2][2]+t[3][3]*e[3][2],
n[3][3]=t[3][0]*e[0][3]+t[3][1]*e[1][3]+t[3][2]*e[2][3]+t[3][3]*e[3][3],n},S=function(e,t,n){
e[0][0]*=t,e[0][1]*=t,e[0][2]*=t,e[0][3]*=t,e[1][0]*=n,e[1][1]*=n,e[1][2]*=n,e[1][3]*=n;
},M=function(e,t,n,r){S(e,t,n),e[2][0]*=r,e[2][1]*=r,e[2][2]*=r,e[2][3]*=r};return{
get default(){return l}}}),$traceurRuntime.registerModule("classes/dom-undo-manager",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./event-emitter","classes/dom-undo-manager"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/type","classes/dom-undo-manager")).isBoolean,n={
childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0
},r=function(e){function r(e){var t;$traceurRuntime.superConstructor(r).call(this),
this._rootElement=e,this._groups=[],this._position=0,this._disabled=!1,this._observer=new MutationObserver((t=this,
function(e){var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t._onDOMTransaction(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}})),this._onDisabledChange()}return $traceurRuntime.createClass(r,{
get disabled(){return this._disabled},set disabled(e){t(e)&&e!==this._disabled&&(this._disabled=e,
this._onDisabledChange())},get undoLabel(){var e="Undo";if(this.canUndo()){var t;t=this._groups[this._position-1].transactions.length>0?this._groups[this._position-1]:this._groups[this._position-2],
e="Undo: "+t.label}return e},get redoLabel(){var e="Redo";if(this.canRedo()){var t=this._groups[this._position];
e="Redo: "+t.label}return e},clear:function(){this._groups=[],0!==this._position&&(this._position=0,
this.dispatchEvent(new CustomEvent("positionchange",{detail:"reset"})))},checkpoint:function(e){
this._observer.takeRecords(),this._position<this._groups.length&&(this._groups=this._groups.slice(0,this._position));
var t={label:e,transactions:[]};this._groups.push(t),this._position+=1,this.dispatchEvent(new CustomEvent("positionchange",{
detail:"increment"}))},undo:function(){if(this.canUndo()){this._discardCurrentGroupIfEmpty(),
this.disabled=!0,this._position-=1;var e=this._groups[this._position].transactions;
e=$traceurRuntime.spread(e).reverse();var t=new Set,n=new Set,r=new Set,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if("childList"===u.type){var c=document.createDocumentFragment(),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=u.addedNodes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value;u.target.removeChild(b),n.add(b),t["delete"](b)}}catch(g){h=!0,v=g}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}var p=!0,y=!1,x=void 0;
try{for(var _=void 0,w=u.removedNodes[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){
var S=_.value;c.append(S),t.add(S),n["delete"](S)}}catch(M){y=!0,x=M}finally{try{
p||null==w["return"]||w["return"]()}finally{if(y)throw x}}u.nextSibling?u.target.insertBefore(c,u.nextSibling):u.previousSibling?u.target.insertBefore(c,u.previousSibling.nextSibling):u.target.append(c);
}else"attributes"===u.type?(null===u.oldValue?"gradientUnits"===u.attributeName?u.target.setAttribute("gradientUnits","objectBoundingBox"):"patternUnits"===u.attributeName?u.target.setAttribute("patternUnits","objectBoundingBox"):"patternContentUnits"===u.attributeName?u.target.setAttribute("patternContentUnits","userSpaceOnUse"):u.target.removeAttribute(u.attributeName):u.target.setAttribute(u.attributeName,u.oldValue),
r.add(u.target)):"characterData"===u.type&&(u.target.data=u.oldValue,r.add(u.target));
}}catch(C){a=!0,o=C}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{addedNodes:t,
removedNodes:n,modifiedNodes:r}})),this.dispatchEvent(new CustomEvent("positionchange",{
detail:"decrement"}))}else console.info("Can't undo")},redo:function(){if(this.canRedo()){
this.disabled=!0;var e=this._groups[this._position].transactions;this._position+=1;
var t=new Set,n=new Set,r=new Set,i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if("childList"===u.type){var c=document.createDocumentFragment(),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=u.removedNodes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value;u.target.removeChild(b),n.add(b),t["delete"](b)}}catch(g){h=!0,v=g}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}var p=!0,y=!1,x=void 0;
try{for(var _=void 0,w=u.addedNodes[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){
var S=_.value;c.append(S),t.add(S),n["delete"](S)}}catch(M){y=!0,x=M}finally{try{
p||null==w["return"]||w["return"]()}finally{if(y)throw x}}u.nextSibling?u.target.insertBefore(c,u.nextSibling):u.previousSibling?u.target.insertBefore(c,u.previousSibling.nextSibling):u.target.append(c);
}else"attributes"===u.type?(null===u.newValue?u.target.removeAttribute(u.attributeName):u.target.setAttribute(u.attributeName,u.newValue),
r.add(u.target)):"characterData"===u.type&&(u.target.data=u.newValue,r.add(u.target));
}}catch(C){a=!0,o=C}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{addedNodes:t,
removedNodes:n,modifiedNodes:r}})),this.dispatchEvent(new CustomEvent("positionchange",{
detail:"increment"}))}else console.info("Can't redo")},canUndo:function(){return 0===this._position||this.disabled?!1:1!==this._position||!this._isCurrentGroupEmpty();
},canRedo:function(){return this._position!==this._groups.length&&!this.disabled},
_onDisabledChange:function(){this.disabled===!0?(this._observer.takeRecords(),this._observer.disconnect()):this.disabled===!1&&this._observer.observe(this._rootElement,n);
},_onDOMTransaction:function(e){if(0!==this._groups.length){var t=this._groups[this._groups.length-1].transactions;
if("attributes"===e.type){var n=e.attributeName,r=t.find(function(t){return"attributes"===t.type&&t.attributeName===n&&t.target===e.target;
});r?r.newValue=r.target.getAttribute(n):(r={type:"attributes",target:e.target,attributeName:n,
oldValue:e.oldValue,newValue:e.target.getAttribute(n)},t.push(r))}else if("characterData"===e.type){
var i=t.find(function(t){return"characterData"===t.type&&t.target===e.target});if(i)i.newValue=i.target.data;else{
var a={type:"characterData",target:e.target,oldValue:e.oldValue,newValue:e.target.data
};t.push(a)}}else if("childList"===e.type){var o={type:"childList",target:e.target,
addedNodes:$traceurRuntime.spread(e.addedNodes),removedNodes:$traceurRuntime.spread(e.removedNodes),
nextSibling:e.nextSibling,previousSibling:e.previousSibling};t.push(o)}}},_isCurrentGroupEmpty:function(){
return 0===this._groups[this._position-1].transactions.length},_discardCurrentGroupIfEmpty:function(){
this._position>0&&0===this._groups[this._position-1].transactions.length&&(this._groups.remove(this._groups[this._position]),
this._position-=1,this.dispatchEvent(new CustomEvent("positionchange",{detail:"decrement"
})))}},{},e)}(e);return{get default(){return r}}}),$traceurRuntime.registerModule("classes/enum",[],function(){
"use strict";var e=Object,t=e.defineProperty,n=e.freeze,r=function(){function e(){
for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=!0,a=!1,o=void 0;try{
for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=Symbol(u);
t(this,u,{enumerable:!0,configurable:!1,value:c}),t(this,c,{enumerable:!1,configurable:!1,
value:u})}}catch(d){a=!0,o=d}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}n(this)}return $traceurRuntime.createClass(e,{},{})}();return{get default(){
return r}}}),$traceurRuntime.registerModule("classes/event-emitter",[],function(){
"use strict";var e=function(){function e(){}return $traceurRuntime.createClass(e,{
addEventListener:function(e,t){this._events||(this._events={});var n=this._events[e];
n||(this._events[e]=n=[]),n.push(t),n.length>300&&console.warn("Potential EventEmitter memory leak: "+n.length+" listeners "+('subscribed to event "'+e+'"'));
},removeEventListener:function(e,t){if(this._events&&this._events[e]){for(var n=[],r=0;r<this._events[e].length;r+=1)this._events[e][r]!==t&&n.push(this._events[e][r]);
this._events[e]=n}},dispatchEvent:function(e){if(this._events){var t=this._events[e.type];
if(t){for(var n=null,r=t.length-1;r>=0;r-=1){var i=t[r],a=void 0;try{a=i.call(window,e);
}catch(o){null===n&&(n=o)}if(a===!1)break}if(n)throw n}}}},{})}();return{get default(){
return e}}}),$traceurRuntime.registerModule("classes/google-fonts-manager",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","classes/google-fonts-manager")),t=e.GOOGLE_FONTS_API_KEY,n=e.TEXT_PROPERTIES,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","classes/google-fonts-manager")),i=r.createElement,a=r.isConnectedElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","classes/google-fonts-manager")).deserializePathData,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","classes/google-fonts-manager")),l=s.getTimeStamp,u=s.milisecondsToDays,c=s.sleepUntilIdle,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","classes/google-fonts-manager")).reduceTransform,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","classes/google-fonts-manager")),v=h.getOpenTypeFont,f=h.getOpenTypeGlyphPath,m=(h.matchFontWeight,
h.matchGoogleFontFace),b=h.normalizeFontWeight,g=h.parseGoogleFontsURL,p=h.normalizeGoogleFontFace,y=Number.parseFloat,x=Object,_=x.entries,w=x.keys,S=(x.freeze,
window.getComputedStyle),M="https://www.googleapis.com/webfonts/v1/webfonts",C="\n  Google Fonts Manager can't be created with root element that is disconnected from the document tree because it\n  relies on window.getComputeStyle() and SVGStyleElement.sheet.rules APIs.\n",R=function(){
function e(e){if(a(e)===!1)throw new Error(C);this._rootElement=e,this._registry=null,
this._renderingCanvas=null}return $traceurRuntime.createClass(e,{getAllFamilies:function(){
var e=void 0!==arguments[0]?arguments[0]:"alphabetical",t=this;return new Promise(function(n){
var r,i;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){case 0:
return void Promise.resolve(t._getRegistry()).then(a.createCallback(3),a.errback);
case 3:r=a.value,a.state=2;break;case 2:r?"alphabetical"===e?(i=r.items.map(function(e){
return e.family}),n(i)):"popularity"!==e&&"trending"!==e&&"date"!==e||n(r.sortedFamilies[e]):n(null),
a.state=-2;break;default:return a.end()}},this)})},getImportedFamilies:function(){
var e,t,n=this._rootElement.querySelector("style#bx-google-fonts"),r=n?n.sheet.rules[0]:void 0,i=new Set;
if(r){var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=g(r.href)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=(e=l.value[Symbol.iterator](),(t=e.next()).done?void 0:t.value);i.add(c)}}catch(d){
o=!0,s=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}}return $traceurRuntime.spread(i);
},getUsedImportedFamilies:function(){var e=new Set,t=this.getImportedFamilies(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._rootElement.querySelectorAll("tspan")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=S(s).fontFamily.replaceAll("'","").replaceAll('"',"");e.add(l)}}catch(u){
r=!0,i=u}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}return e=$traceurRuntime.spread(e).filter(function(e){
return t.includes(e)})},getImportedWeights:function(e){var t,n,r=this._rootElement.querySelector("style#bx-google-fonts"),i=r?r.sheet.rules[0]:void 0,a=new Set;
if(i){var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=g(i.href)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=(t=d[Symbol.iterator](),(n=t.next()).done?void 0:n.value),v=(n=t.next()).done?void 0:n.value;
if(h===e){var f=!0,m=!1,b=void 0;try{for(var p=void 0,y=v[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){
var x=p.value,_=x.endsWith("italic")?x.substring(0,3):x;a.add(_)}}catch(w){m=!0,b=w;
}finally{try{f||null==y["return"]||y["return"]()}finally{if(m)throw b}}}}}catch(S){
s=!0,l=S}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}return $traceurRuntime.spread(a);
},getThumbnail:function(e){var t=this;return new Promise(function(n){var r,i,a,o;return $traceurRuntime.asyncWrap(function(s){
for(;;)switch(s.state){case 0:return void Promise.resolve(t._dbGetThumbnailEntry(e)).then(s.createCallback(3),s.errback);
case 3:r=s.value,s.state=2;break;case 2:i=l(),s.state=19;break;case 19:s.state=r?11:12;
break;case 11:s.state=u(i-r.timeStamp)<90?9:4;break;case 9:n(r.thumbnail),s.state=-2;
break;case 4:return void Promise.resolve(t._createThumbnail(e)).then(s.createCallback(6),s.errback);
case 6:a=s.value,s.state=5;break;case 5:a?(t._dbSetThumbnailEntry(e,{thumbnail:a,
timeStamp:i}),n(a)):n(r.thumbnail),s.state=-2;break;case 12:return void Promise.resolve(t._createThumbnail(e)).then(s.createCallback(14),s.errback);
case 14:o=s.value,s.state=13;break;case 13:o?(t._dbSetThumbnailEntry(e,{thumbnail:o,
timeStamp:i}),n(o)):n(null),s.state=-2;break;default:return s.end()}},this)})},_createThumbnail:function(e){
var t=this;return new Promise(function(n){var r,a,o,s,l,u;return $traceurRuntime.asyncWrap(function(d){
for(;;)switch(d.state){case 0:return void Promise.resolve(t._getRegistry()).then(d.createCallback(3),d.errback);
case 3:r=d.value,d.state=2;break;case 2:d.state=r?15:17;break;case 15:a=r.items.find(function(t){
return t.family===e}),d.state=16;break;case 16:d.state=a?8:12;break;case 8:o=a.urls[400]||a.urls[w(a.urls)[0]],
o=o.replace("http://","https://"),s=new FontFace("BX "+e,"url("+o+")",{}),d.state=9;
break;case 9:return void Promise.resolve(s.load()).then(d.createCallback(5),d.errback);
case 5:return void Promise.resolve(c(20)).then(d.createCallback(7),d.errback);case 7:
document.fonts.add(s),null===t._renderingCanvas&&(t._renderingCanvas=i("canvas"),
t._renderingCanvas.width=300,t._renderingCanvas.height=40),l=t._renderingCanvas.getContext("2d"),
l.clearRect(0,0,300,40),l.font='30px "BX '+e+'"',l.fillStyle="white",l.fillText(e,5,30),
document.fonts["delete"](s),u=t._renderingCanvas.toDataURL("image/png"),n(u),d.state=-2;
break;case 12:n(null),d.state=-2;break;case 17:n(null),d.state=-2;break;default:return d.end();
}},this)})},_getRegistry:function(){var e=this;return new Promise(function(t){var n,r,i,a;
return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:o.state=e._registry?20:1;
break;case 20:t(e._registry),o.state=-2;break;case 1:return void Promise.resolve(e._dbGetRegistry()).then(o.createCallback(3),o.errback);
case 3:n=o.value,o.state=2;break;case 2:r=l(),o.state=19;break;case 19:o.state=n?11:12;
break;case 11:o.state=u(r-n.timeStamp)<30?9:4;break;case 9:t(n),o.state=-2;break;case 4:
return void Promise.resolve(e._createRegistry()).then(o.createCallback(6),o.errback);
case 6:i=o.value,o.state=5;break;case 5:i?(e._dbSetRegistry(i),t(i)):t(n),o.state=-2;
break;case 12:return void Promise.resolve(e._createRegistry()).then(o.createCallback(14),o.errback);
case 14:a=o.value,o.state=13;break;case 13:a?(e._dbSetRegistry(a),t(a)):t(null),o.state=-2;
break;default:return o.end()}},this)})},_createRegistry:function(){return new Promise(function(e){
var n,r,i,a,o,s,u,c,d,h,v,f,m,b,g,y,x,w,S,C,R,k,E,A,P,T,L,$,j;return $traceurRuntime.asyncWrap(function(N){
for(;;)switch(N.state){case 0:return void Promise.resolve(fetch(M+"?key="+t+"&sort=alpha")).then(N.createCallback(3),N.errback);
case 3:i=N.value,N.state=2;break;case 2:return void Promise.resolve(i.json()).then(N.createCallback(6),N.errback);
case 6:i=N.value,N.state=5;break;case 5:a={timeStamp:l(),items:[],sortedFamilies:{}
},o=!0,s=!1,u=void 0;try{for(c=void 0,d=i.items[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
h=c.value,v=[],f={},m=!0,b=!1,g=void 0;try{for(y=void 0,x=_(h.files)[Symbol.iterator]();!(m=(y=x.next()).done);m=!0)w=y.value,
n=w[Symbol.iterator](),S=(r=n.next()).done?void 0:r.value,C=(r=n.next()).done?void 0:r.value,
S=p(S),v.push(S),f[S]=C}catch(O){b=!0,g=O}finally{try{m||null==x["return"]||x["return"]();
}finally{if(b)throw g}}R={family:h.family,category:h.category,subsets:h.subsets,faces:v,
urls:f},a.items.push(R)}}catch(V){s=!0,u=V}finally{try{o||null==d["return"]||d["return"]();
}finally{if(s)throw u}}k=!0,E=!1,A=void 0,N.state=34;break;case 34:N.pushTry(20,21),
N.state=23;break;case 23:P=void 0,T=["popularity","trending","date"][Symbol.iterator](),
N.state=19;break;case 19:N.state=(k=(P=T.next()).done)?17:15;break;case 14:k=!0,N.state=19;
break;case 15:L=P.value,N.state=16;break;case 16:return void Promise.resolve(fetch(M+"?key="+t+"&sort="+L)).then(N.createCallback(9),N.errback);
case 9:$=N.value,N.state=8;break;case 8:return void Promise.resolve($.json()).then(N.createCallback(12),N.errback);
case 12:$=N.value,N.state=11;break;case 11:a.sortedFamilies[L]=$.items.map(function(e){
return e.family}),N.state=14;break;case 17:N.popTry(),N.state=21,N.finallyFallThrough=25;
break;case 20:N.popTry(),N.maybeUncatchable(),j=N.storedException,N.state=26;break;
case 26:E=!0,A=j,N.state=21,N.finallyFallThrough=25;break;case 21:N.popTry(),N.state=32;
break;case 32:try{k||null==T["return"]||T["return"]()}finally{if(E)throw A}N.state=30;
break;case 25:e(a),N.state=-2;break;case 30:N.state=N.finallyFallThrough;break;default:
return N.end()}},this)})},importFamily:function(e){var t=this;return new Promise(function(n){
var r,a,o,s,l,u,c,d,h,v,f,m,b,p,y,x,_,w,S,M;return $traceurRuntime.asyncWrap(function(C){
for(;;)switch(C.state){case 0:return void Promise.resolve(t._getRegistry()).then(C.createCallback(3),C.errback);
case 3:o=C.value,C.state=2;break;case 2:C.state=o?12:14;break;case 12:s=o.items.find(function(t){
return t.family===e}),C.state=13;break;case 13:C.state=s?4:9;break;case 4:return void Promise.resolve(t._loadFamily(e)).then(C.createCallback(6),C.errback);
case 6:l=C.value,C.state=5;break;case 5:if(l){if(u=[],c=t._rootElement.querySelector("style#bx-google-fonts")){
if(d=c.sheet.rules[0]){h=!0,v=!1,f=void 0;try{for(m=void 0,b=g(d.href)[Symbol.iterator]();!(h=(m=b.next()).done);h=!0)p=m.value,
r=p[Symbol.iterator](),y=(a=r.next()).done?void 0:a.value,x=(a=r.next()).done?void 0:a.value,
y!==e&&u.push({family:y,faces:x})}catch(R){v=!0,f=R}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}}}else _=i("svg:style"),_.id="bx-google-fonts",w=t._rootElement.querySelector("defs"),
w||(w=i("svg:defs"),t._rootElement.append(w)),w.append(_);u.push({family:s.family,
faces:s.faces}),u.sort(function(e,t){return e.family>t.family}),S=u.map(function(e){
var t=e,n=t.family,r=t.faces;return n.replaceAll(" ","+")+":"+r.join(",")}),M="@import url(https://fonts.googleapis.com/css?family="+S.join("|")+");",
c=t._rootElement.querySelector("style#bx-google-fonts"),c.textContent=M,n(!0)}else n(!1);
C.state=-2;break;case 9:n(!1),C.state=-2;break;case 14:n(!1),C.state=-2;break;default:
return C.end()}},this)})},deportFamily:function(e){var t,n,r=this._rootElement.querySelector("style#bx-google-fonts"),i=r?r.sheet.rules[0]:null;
if(i){var a=[],o=!0,s=!1,l=void 0;try{for(var u=void 0,c=g(i.href)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=(t=d[Symbol.iterator](),(n=t.next()).done?void 0:n.value),v=(n=t.next()).done?void 0:n.value;
h!==e&&a.push([h,v])}}catch(f){s=!0,l=f}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}var m=a.map(function(e){var t,n,r=e,i=(t=r[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),a=(n=t.next()).done?void 0:n.value;return i.replaceAll(" ","+")+":"+a.join(",");
});if(m.length>0){var b="@import url(https://fonts.googleapis.com/css?family="+m.join("|")+");";
r.textContent=b}else r.remove()}},deportUnsusedFamilies:function(){var e=this.getImportedFamilies(),t=this.getUsedImportedFamilies(),n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
t.includes(l)===!1&&n.push(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=n[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.deportFamily(m)}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}},loadImportedFamilies:function(){var e=this;return new Promise(function(t){
var n,r,i,a,o,s,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:n=e.getImportedFamilies(),r=!0,i=!1,a=void 0,c.state=22;break;case 22:c.pushTry(8,9),
c.state=11;break;case 11:o=void 0,s=e.getImportedFamilies()[Symbol.iterator](),c.state=7;
break;case 7:c.state=(r=(o=s.next()).done)?5:3;break;case 2:r=!0,c.state=7;break;case 3:
l=o.value,c.state=4;break;case 4:return void Promise.resolve(e._loadFamily(l)).then(c.createCallback(2),c.errback);
case 5:c.popTry(),c.state=9,c.finallyFallThrough=13;break;case 8:c.popTry(),c.maybeUncatchable(),
u=c.storedException,c.state=14;break;case 14:i=!0,a=u,c.state=9,c.finallyFallThrough=13;
break;case 9:c.popTry(),c.state=20;break;case 20:try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}c.state=18;break;case 13:t(),c.state=-2;break;case 18:c.state=c.finallyFallThrough;
break;default:return c.end()}},this)})},_loadFamily:function(e){var t=this;return new Promise(function(n){
var r,i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:
return void Promise.resolve(t._getRegistry()).then(o.createCallback(3),o.errback);
case 3:r=o.value,o.state=2;break;case 2:o.state=r?13:15;break;case 13:i=r.items.find(function(t){
return t.family===e}),o.state=14;break;case 14:o.state=i?6:10;break;case 6:a=i.faces.map(function(t){
return new Promise(function(n){var r,a,o,s;return $traceurRuntime.asyncWrap(function(l){
for(;;)switch(l.state){case 0:r=t.substring(0,3),a=t.includes("italic")?"italic":"normal",
o=i.urls[t],o=o.replace("http://","https://"),s=new FontFace(e,"url("+o+")",{style:a,
weight:r}),l.state=4;break;case 4:return void Promise.resolve(s.load()).then(l.createCallback(2),l.errback);
case 2:document.fonts.add(s),n(),l.state=-2;break;default:return l.end()}},this)});
}),o.state=7;break;case 7:return void Promise.resolve(Promise.all(a)).then(o.createCallback(5),o.errback);
case 5:n(!0),o.state=-2;break;case 10:n(!1),o.state=-2;break;case 15:n(!1),o.state=-2;
break;default:return o.end()}},this)})},replaceTextWithPaths:function(e){var t=void 0!==arguments[1]?arguments[1]:3,r=void 0!==arguments[2]?arguments[2]:6,a=this;
return new Promise(function(o){var s,l,u,c,h,v,f,m,g,p,x,_,w,M,C,R,k,E,A,P,T,L,$,j,N,O,V,z,D,G,I,B,U,H,F,q,W,Y,X,Z,K,J,Q,ee,te,ne,re,ie,ae,oe,se;
return $traceurRuntime.asyncWrap(function(le){for(;;)switch(le.state){case 0:u=SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),
c=document.createDocumentFragment(),h=e.firstElementChild&&"textPath"===e.firstElementChild.localName?$traceurRuntime.spread(e.firstElementChild.children):$traceurRuntime.spread(e.children),
v=!0,f=!1,m=void 0,le.state=34;break;case 34:le.pushTry(20,21),le.state=23;break;case 23:
g=void 0,p=h[Symbol.iterator](),le.state=19;break;case 19:le.state=(v=(g=p.next()).done)?17:15;
break;case 9:v=!0,le.state=19;break;case 15:x=g.value,le.state=16;break;case 16:_=x.textContent.split(""),
w=S(x),M=w.fontFamily.replaceAll("'","").replaceAll('"',""),C=y(w.fontSize),R=b(w.fontWeight),
k=w.fontStyle,E=w.textDecoration,le.state=12;break;case 12:return void Promise.resolve(a._getGlyphs(_,M,C,R,k,E)).then(le.createCallback(3),le.errback);
case 3:A=le.value,le.state=2;break;case 2:P=[],le.state=14;break;case 14:le.state=A?8:6;
break;case 8:for(T=0;T<A.length;T+=1)L=A[T],L.length>0&&($=x.getStartPositionOfChar(T),
j=x.getRotationOfChar(T),N=new SVGMatrix,N.translateSelf($.x,$.y),N.rotateSelf(j),
O=i("svg:path"),O.setPathData(L),O.setAttribute("transform",N.toString()),d(O,{geometryPrecision:t,
transformPrecision:r}),P.push(O));if(P.length>0){V=P,s=V[Symbol.iterator](),z=(l=s.next()).done?void 0:l.value,
D=$traceurRuntime.iteratorToArray(s),G=z.getAttribute("d"),I=!0,B=!1,U=void 0;try{
for(H=void 0,F=D[Symbol.iterator]();!(I=(H=F.next()).done);I=!0)q=H.value,G+=q.getAttribute("d");
}catch(ue){B=!0,U=ue}finally{try{I||null==F["return"]||F["return"]()}finally{if(B)throw U;
}}W=i("svg:path"),W.setAttribute("d",G),W.setAttribute("transform",u.toString()),
Y=!0,X=!1,Z=void 0;try{for(K=void 0,J=e.style[Symbol.iterator]();!(Y=(K=J.next()).done);Y=!0)Q=K.value,
n.includes(Q)===!1&&W.style.setProperty(Q,e.style.getPropertyValue(Q))}catch(ce){
X=!0,Z=ce}finally{try{Y||null==J["return"]||J["return"]()}finally{if(X)throw Z}}ee=!0,
te=!1,ne=void 0;try{for(re=void 0,ie=x.style[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0)ae=re.value,
n.includes(ae)===!1&&W.style.setProperty(ae,x.style.getPropertyValue(ae))}catch(de){
te=!0,ne=de}finally{try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne;
}}c.append(W)}le.state=9;break;case 6:c=null,le.state=17;break;case 17:le.popTry(),
le.state=21,le.finallyFallThrough=25;break;case 20:le.popTry(),le.maybeUncatchable(),
se=le.storedException,le.state=26;break;case 26:f=!0,m=se,le.state=21,le.finallyFallThrough=25;
break;case 21:le.popTry(),le.state=32;break;case 32:try{v||null==p["return"]||p["return"]();
}finally{if(f)throw m}le.state=30;break;case 25:c?(oe=$traceurRuntime.spread(c.children),
e.replace(c),o(oe)):o(null),le.state=-2;break;case 30:le.state=le.finallyFallThrough;
break;default:return le.end()}},this)})},canReplaceTextWithPaths:function(e){var t=this;
return new Promise(function(n){var r,i,a,o,s,l,u,c,d,h;return $traceurRuntime.asyncWrap(function(v){
for(;;)switch(v.state){case 0:return void Promise.resolve(t._getRegistry()).then(v.createCallback(3),v.errback);
case 3:r=v.value,v.state=2;break;case 2:v.state=r?31:35;break;case 31:i=!0,a=!0,o=!1,
s=void 0,v.state=32;break;case 32:v.pushTry(18,19),v.state=21;break;case 21:l=function(){
var e=c.value,t=S(e).fontFamily.replaceAll("'","").replaceAll('"',""),n=r.items.find(function(e){
return e.family===t});return n?void 0:(i=!1,0)},v.state=17;break;case 17:c=void 0,
d=e.children[Symbol.iterator](),v.state=15;break;case 15:v.state=(a=(c=d.next()).done)?6:11;
break;case 5:a=!0,v.state=15;break;case 11:u=l(),v.state=12;break;case 12:switch(u){
default:v.state=5;break;case 0:v.state=6}break;case 6:v.popTry(),v.state=19,v.finallyFallThrough=23;
break;case 18:v.popTry(),v.maybeUncatchable(),h=v.storedException,v.state=24;break;
case 24:o=!0,s=h,v.state=19,v.finallyFallThrough=23;break;case 19:v.popTry(),v.state=30;
break;case 30:try{a||null==d["return"]||d["return"]()}finally{if(o)throw s}v.state=28;
break;case 23:n(i),v.state=-2;break;case 35:n(!1),v.state=-2;break;case 28:v.state=v.finallyFallThrough;
break;default:return v.end()}},this)})},_getGlyphs:function(e,t,n,r,i,a){var s=this;
return new Promise(function(l){var u,c,d,h,b,g,p,y,x,_,w,S,M,C,R,k,E;return $traceurRuntime.asyncWrap(function(A){
for(;;)switch(A.state){case 0:return void Promise.resolve(s._getRegistry()).then(A.createCallback(3),A.errback);
case 3:u=A.value,A.state=2;break;case 2:A.state=u?14:16;break;case 14:c=u.items.find(function(e){
return e.family===t}),A.state=15;break;case 15:A.state=c?7:11;break;case 7:d=m(c.faces,r,i),
h=c.urls[d].replace("http://","https://"),A.state=8;break;case 8:return void Promise.resolve(v(h)).then(A.createCallback(6),A.errback);
case 6:b=A.value,A.state=5;break;case 5:if(null===b)l(null);else{g=[],p=("italic"===i||"oblique"===i)&&!d.includes("italic"),
y=!0,x=!1,_=void 0;try{for(w=void 0,S=e[Symbol.iterator]();!(y=(w=S.next()).done);y=!0)M=w.value,
C=b.charToGlyph(M),R=f(C,b,n,a,p),k=R.toPathData(),E=o(k),g.push(E)}catch(P){x=!0,
_=P}finally{try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}l(g)}A.state=-2;
break;case 11:l(null),A.state=-2;break;case 16:l(null),A.state=-2;break;default:return A.end();
}},this)})},_dbOpen:function(){return new Promise(function(e,t){var n=indexedDB.open("google-fonts-manager",1);
n.addEventListener("upgradeneeded",function(e){var t=e.target.result;e.oldVersion<1&&(t.createObjectStore("registry",{
autoIncrement:!0}),t.createObjectStore("thumbnails",{autoIncrement:!0}))}),n.addEventListener("success",function(t){
return e(t.target.result)}),n.addEventListener("error",function(e){return t("Failed to open IndexedDB database");
})})},_dbPromiseOpen:function(){var e=this;return new Promise(function(t){e._database?t():e._dbOpen().then(function(n){
e._database=n,t()})})},_dbGetRegistry:function(){var e=this;return new Promise(function(t,n){
var r,i;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){case 0:
return void Promise.resolve(e._dbPromiseOpen()).then(a.createCallback(2),a.errback);
case 2:r=e._database.transaction(["registry"],"readonly").objectStore("registry"),
i=r.get("registry"),i.onsuccess=function(e){return t(e.target.result)},i.onerror=function(e){
return n("Failed to get registry from IndexedDB")},a.state=-2;break;default:return a.end();
}},this)})},_dbSetRegistry:function(e){var t=this;return new Promise(function(n,r){
var i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:
return void Promise.resolve(t._dbPromiseOpen()).then(o.createCallback(2),o.errback);
case 2:i=t._database.transaction(["registry"],"readwrite").objectStore("registry"),
a=i.put(e,"registry"),a.addEventListener("success",function(e){return n()}),a.addEventListener("error",function(e){
return r("Failed to store registry in IndexedDB database")}),o.state=-2;break;default:
return o.end()}},this)})},_dbGetThumbnailEntry:function(e){var t=this;return new Promise(function(n,r){
var i,a,o;return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:
return void Promise.resolve(t._dbPromiseOpen()).then(s.createCallback(2),s.errback);
case 2:i=t._database.transaction(["thumbnails"],"readonly"),a=i.objectStore("thumbnails"),
o=a.get(e),o.addEventListener("success",function(e){return n(e.target.result)}),o.addEventListener("error",function(e){
return r("Failed to get thumbnail")}),s.state=-2;break;default:return s.end()}},this);
})},_dbSetThumbnailEntry:function(e,t){var n=this;return new Promise(function(r,i){
var a,o,s;return $traceurRuntime.asyncWrap(function(l){for(;;)switch(l.state){case 0:
return void Promise.resolve(n._dbPromiseOpen()).then(l.createCallback(2),l.errback);
case 2:a=n._database.transaction(["thumbnails"],"readwrite"),o=a.objectStore("thumbnails"),
s=o.put(t,e),s.addEventListener("success",function(e){return r()}),s.addEventListener("error",function(e){
return i("Failed to store thumbnail in IndexedDB database")}),l.state=-2;break;default:
return l.end()}},this)})}},{})}();return{get default(){return R}}}),$traceurRuntime.registerModule("classes/shortcut",[],function(){
"use strict";var e=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),t=function(){
function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.ctrl=!1,
this.alt=!1,this.meta=!1,this.shift=!1,this.base=null;var n=!0,r=!1,i=void 0;try{
for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"Control"===s?this.ctrl=!0:"Alt"===s?this.alt=!0:"Meta"===s?this.meta=!0:"Shift"===s?this.shift=!0:this.base=s;
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}return $traceurRuntime.createClass(t,{matches:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];
var n=!1,r=!1,i=!1,a=!1,o=null,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;"Control"===h?n=!0:"Alt"===h?r=!0:"Meta"===h?i=!0:"Shift"===h?a=!0:o=h;
}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u;
}}return n===this.ctrl&&r===this.alt&&i===this.meta&&a===this.shift&&o===this.base;
},includes:function(e){return"Control"===e?this.ctrl:"Alt"===e?this.alt:"Meta"===e?this.meta:"Shift"===e?this.shift:this.base===e;
},compare:function(e){return this.ctrl===e.ctrl&&this.alt===e.alt&&this.meta===e.meta&&this.shift===e.shift&&this.base===e.base;
},isVoid:function(){return this.ctrl===!1&&this.alt===!1&&this.meta===!1&&this.shift===!1&&null===this.base;
},toDisplayString:function(){var t="";if(e){this.meta&&(t+="^"),this.alt&&(t+="⌥"),
this.shift&&(t+="⇧"),this.ctrl&&(t+="⌘");var n={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",
ArrowRight:"→",Backspace:"⌦"};null!==this.base&&(t+=n[this.base]||this.base)}else{
var r=[];this.ctrl&&r.push("Ctrl"),this.alt&&r.push("Alt"),this.meta&&r.push("Meta"),
this.shift&&r.push("Shift");var i={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",
ArrowRight:"Right"};null!==this.base&&r.push(i[this.base]||this.base),t=r.join("+");
}return t},toAccelerator:function(){var e=[];return this.ctrl&&e.push("CmdOrCtrl"),
this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta,null!==this.base&&("ArrowUp"===this.base?e.push("Up"):"ArrowDown"===this.base?e.push("Down"):"ArrowLeft"===this.base?e.push("Left"):"ArrowRight"===this.base?e.push("Right"):e.push(this.base)),
e.join("+")},toJSON:function(){return this.toString()},toString:function(){var e=[];
return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.meta&&e.push("Meta"),
this.shift&&e.push("Shift"),null!==this.base&&e.push(this.base),e.join("+")}},{fromEvent:function(n){
var r=new t;r.ctrl=e?n.metaKey:n.ctrlKey,r.alt=n.altKey,r.meta=e?n.ctrlKey:n.metaKey,
r.shift=n.shiftKey;var i=n.key;return" "===i&&(i="Space"),i&&"Control"!==i&&"Alt"!==i&&"Shift"!==i&&"Meta"!==i?1===i.length?r.base=i.toUpperCase():r.base=i:r.base=null,
r},fromAccelerator:function(e){var n=e.split("+"),r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;"CmdOrCtrl"===u||"CommandOrControl"===u?r.push("Control"):"Up"===u?r.push("ArrowUp"):"Down"===u?r.push("ArrowDown"):"Left"===u?r.push("ArrowLeft"):"Right"===u?r.push("ArrowRight"):""!==u&&r.push(u);
}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}var d=new(Function.prototype.bind.apply(t,$traceurRuntime.spread([null],r)));return d;
},fromString:function(e){return new(Function.prototype.bind.apply(t,$traceurRuntime.spread([null],e.split("+").filter(function(e){
return""!==e}))))}})}();return{get default(){return t}}}),$traceurRuntime.registerModule("classes/string-scanner",[],function(){
"use strict";var e=function(){function e(e){this.text=e,this.counter=0,this.storedPosition=0;
}return $traceurRuntime.createClass(e,{read:function(){for(var e=void 0!==arguments[0]?arguments[0]:1,t="",n=this.counter,r=0;e>r;r+=1){
var i=this.text[n+r];if(void 0===i)break;t+=i,this.counter+=1}return""===t?null:t;
},peek:function(){for(var e=void 0!==arguments[0]?arguments[0]:1,t="",n=0;e>n;n+=1){
var r=this.text[this.counter+n];if(void 0===r)break;t+=r}return""===t?null:t},storePosition:function(){
this.storedPosition=this.counter},restorePosition:function(){this.counter=this.storedPosition;
}},{})}();return{get default(){return e}}}),$traceurRuntime.registerModule("classes/undo-manager",[],function(){
"use strict";var e={label:"Sample label",icon:"stub",undo:function(){},redo:function(){}
},t=function(){function t(){this._entries=[],this._position=0}return $traceurRuntime.createClass(t,{
get undoLabel(){if(this.canUndo()){var e=this._entries[this._position-1];if(e[0]&&e[0].label)return"Undo: "+e[0].label;
}return"Undo"},get redoLabel(){if(this.canRedo()){var e=this._entries[this._position];
if(e[0]&&e[0].label)return"Redo: "+e[0].label}return"Redo"},register:function(t){
t.__proto__=e,this._position<this._entries.length&&(this._entries=this._entries.slice(0,this._position));
var n=[];this._entries.push(n),this._position+=1,n.push(t)},undo:function(){if(this.canUndo()){
var e=this._entries[this._position-1],t=$traceurRuntime.spread(e).reverse(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
s.undo()}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{
if(r)throw i}}this._position-=1}},redo:function(){if(this.canRedo()){var e=this._entries[this._position],t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;
o.redo()}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{
if(n)throw r}}this._position+=1}},reset:function(){this._entries=[],this._position=0;
},canUndo:function(){return 0!==this._position},canRedo:function(){return this._position!==this._entries.length;
}},{})}();return{get default(){return t}}}),$traceurRuntime.registerModule("classes/vector",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/type","classes/vector")).isNumber,t=Math.sqrt,n="Invalid argument passed to Vector contstructor",r=function(){
function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(0===t.length)this.x=0,
this.y=0;else if(1===t.length){if(!e(t[0].x)||!e(t[0].y))throw new Error(n);this.x=t[0].x,
this.y=t[0].y}else{if(2!==t.length)throw new Error(n);if(e(t[0])&&e(t[1]))this.x=t[0],
this.y=t[1];else{if(!(t[0]instanceof SVGPoint&&t[1]instanceof SVGPoint))throw new Error(n);
var i=t[0],a=t[1];this.x=a.x-i.x,this.y=a.y-i.y}}}return $traceurRuntime.createClass(r,{
get length(){return t(this.x*this.x+this.y*this.y)},set length(e){0!==this.length&&(e/=this.length,
this.x=this.x*e,this.y=this.y*e)},getNormalVector:function(){return new r(-this.y,this.x);
},getOppositeVector:function(){return new r(-this.x,-this.y)},negate:function(){var e=this.multiply(-1);
return e},multiply:function(e){return new r(this.x*e,this.y*e)},multiplySelf:function(e){
return this.x=this.x*e,this.y=this.y*e,this},divide:function(e){return new r(this.x/e,this.y/e);
},divideSelf:function(e){return this.x=this.x/e,this.y=this.y/e,this},normalize:function(){
return 0===this.length?new r(this):new r(this.x/this.length,this.y/this.length)},
scale:function(e){return 0===this.length?new r(this):(e/=this.length,new r(this.x*e,this.y*e));
},transformPoint:function(e){return new SVGPoint(e.x+this.x,e.y+this.y)},toString:function(){
return"("+this.x+", "+this.y+")"}},{})}();return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-aboutbody",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-body","elements/bx-aboutbody"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-aboutbody")).registerElement,n='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-aboutbody.css");</style>\n\n  <main>\n    <div id="titlebar" hidden></div>\n    <img id="logo" src="images/logo.svg"></img>\n\n    <div id="headings">\n      <h1 id="app-name">Boxy SVG</h1>\n      <h2 id="version"></h2>\n    </div>\n\n    <div id="scroll">\n      <h3>Frameworks</h3>\n      <ul id="frameworks">\n        <li><a href="http://electron.atom.io/">Electron</a></li>\n        <li><a href="https://nodejs.org/">Node.js</a></li>\n      </ul>\n\n      <h3>Libraries</h3>\n      <ul id="libraries">\n        <li><a href="http://opentype.js.org/">Opentype.js</a></li>\n        <li><a href="ttp://nodeca.github.io/pako/">Pako</a></li>\n        <li><a href="http://paperjs.org/">Paper.js</a></li>\n        <li><a href="https://github.com/google/traceur-compiler">Traceur</a></li>\n      </ul>\n\n      <h3>Snippets</h3>\n      <dl>\n        <dt><a href="https://github.com/DmitryBaranovskiy">Dmitry Baranovskiy</a></dt>\n        <dd><a href="http://raphaeljs.com/">Arc to cubic curve conversion</a></dd>\n\n        <dt><a href="http://bost.ocks.org/mike/">Mike Bostock</a></dt>\n        <dd><a href="https://gist.github.com/mbostock/8027637">Closest point on path</a></dd>\n\n        <dt><a href="http://xn--dahlstrm-t4a.net/">Erik Dahlström</a></dt>\n        <dd><a href="http://xn--dahlstrm-t4a.net/svg/path/donut-shop.html">Ring shape</a></dd>\n\n        <dt><a href="http://ariya.blogspot.com/">Ariya Hidayat</a></dt>\n        <dd>HSV↔HSL conversion</dd>\n\n        <dt><a href="http://mjijackson.com/">Michael Jackson</a></dt>\n        <dd><a href="https://goo.gl/H72pO3">HSV↔RGB↔HSL conversion</a></dd>\n\n        <dt><a href="http://tmotooka.hatenablog.jp/">Tadahisa Motooka</a></dt>\n        <dd><a href="https://github.com/motooka/SVGPathNormalizer">Path normalization</a></dd>\n\n        <dt><a href="https://github.com/kennethormandy">Kenneth Ormandy</a></dt>\n        <dd><a href="https://github.com/kennethormandy/normalize-opentype.css">OpenType normalization</a></dd>\n\n        <dt><a href="https://github.com/progers">Philip Rogers</a></dt>\n        <dd><a href="https://github.com/progers/pathseg">Path parser</a></dd>\n\n        <dt><a href="http://svg-whiz.com/">Doug Schepers</a></dt>\n        <dd><a href="http://svg-whiz.com/experiments.html">Star and n-gon primitives</a></dd>\n\n        <dt>Philip J. Schneider</dt>\n        <dd>Bezier curve fitting</dd>\n\n        <dt><a href="https://github.com/johan">Johan Sundström</a></dt>\n        <dd>Path normalization</dd>\n      </dl>\n    </div>\n\n    <h2 id="copyright">© '+(new Date).getFullYear()+' <a href="http://foksa.name/">Jarosław Foksa</a></h2>\n  </main>\n',r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;$traceurRuntime.superGet(this,t.prototype,"createdCallback").call(this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=n;
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}this.bridge.postMessage("getAppName",null,function(t){return e["#app-name"].textContent=t;
}),this.bridge.postMessage("getAppVersion",null,function(t){return e["#version"].textContent="Version "+t;
}),this.bridge.postMessage("getBackendName",null,function(t){return e["#titlebar"].hidden="electron"!==t;
}),this._shadowRoot.addEventListener("click",function(t){return e._onShadowRootClick(t);
})},_onShadowRootClick:function(e){"a"===e.target.localName&&e.target.href&&(e.preventDefault(),
this.bridge.postMessage("openExternalURL",e.target.href))}},{},e)}(e),i=t("body","bx-aboutbody",r);
return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-alignmentselect",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-alignmentselect")).registerElement,t='\n  <style>\n    @import url("stylesheets/bx-alignmentselect.css");\n  </style>\n\n  <main>\n    <svg viewBox="10 10 280 280">\n      <rect id="outline" x="50" y="50" width="200" height="200"></rect>\n\n      <g id="buttons">\n        <g class="button" data-value="xMinYMin" transform="translate(0, 0)">\n          <title>Blah</title>\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMin" transform="translate(100, 0)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMin" transform="translate(200, 0)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMinYMid" transform="translate(0, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMid" transform="translate(100, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMid" transform="translate(200, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMinYMax" transform="translate(0, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMax" transform="translate(100, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMax" transform="translate(200, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n      </g>\n    </svg>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=t;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#buttons"].addEventListener("click",function(t){
return e._onButtonsClick(t)})},attributeChangedCallback:function(e){"value"===e&&this._onValueAttributeChange();
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},get value(){return this.getAttribute("value")},set value(e){null===e?this.removeAttribute("value"):this.setAttribute("value",e);
},_onValueAttributeChange:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#buttons"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.getAttribute("data-value")===this.value?a.setAttribute("pressed",""):a.removeAttribute("pressed");
}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_onButtonsClick:function(e){var t=e.target.closest(".button");this.value=t.getAttribute("data-value"),
this.dispatchEvent(new CustomEvent("change"))}},{},e)}(HTMLElement),r=e("bx-alignmentselect",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-alphaslider",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-alphaslider")).parseColor,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-alphaslider")).registerElement,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-alphaslider")).normalize,r=Number.parseFloat,i=!1,a='\n  <style>@import url("stylesheets/bx-alphaslider.css");</style>\n\n  <main>\n    <canvas id="canvas"></canvas>\n    <div id="marker"></div>\n  </main>\n',o=function(t){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a;var t=!0,n=!1,r=void 0;try{for(var i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("mousedown",function(t){
return e._onMouseDown(t)})},attributeChangedCallback:function(e){"alpha"===e?this._onAlphaAttributeChange():"color"===e&&this._onColorAttributeChange();
},get alpha(){return this.hasAttribute("alpha")?r(this.getAttribute("alpha")):1},
set alpha(e){this.setAttribute("alpha",e)},get color(){return this.hasAttribute("color")?this.getAttribute("color"):"#ffffff";
},set color(e){this.setAttribute("color",e)},get disabled(){return this.hasAttribute("disabled");
},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onAlphaAttributeChange:function(){var e=n(this.alpha,0,1,2);this["#marker"].style.left=100*e+"%";
},_onColorAttributeChange:function(){var t=this["#canvas"].width=800,n=this["#canvas"].height=100,r=this["#canvas"].getContext("2d");
if(r.clearRect(0,0,t,n),null!==this.color){var i=e(this.color),a=i.clone();a.a=0;var o=i.clone();
o.a=1;var s=r.createLinearGradient(0,0,t,0);s.addColorStop(0,a.toString()),s.addColorStop(1,o.toString()),
r.fillStyle=s,r.fillRect(0,0,t,n)}},_onMouseDown:function(e){var t=this;this.dispatchEvent(new CustomEvent("markerdragstart"));
var n,r,i,a=this["#canvas"].getBoundingClientRect().left;this._onMarkerDrag(e.clientX-a),
window.addEventListener("mousemove",n=function(e){e.clientX!==i&&(i=e.clientX,t._onMarkerDrag(e.clientX-a));
}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),t.dispatchEvent(new CustomEvent("markerdragend"));
})},_onMarkerDrag:function(t){var r=n(t/this["#canvas"].clientWidth,0,1,2);if(this.alpha!==r&&(this.alpha=r,
this.dispatchEvent(new CustomEvent("markerdrag",{detail:this.alpha})),i)){var a=e(this.color);
a.a=r,console.log("%c     ","background: "+a,"alpha = "+r)}}},{},t)}(HTMLElement),s=t("bx-alphaslider",o);
return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-arrangementcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-arrangementcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-arrangementcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-arrangementcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-arrangementcontrols")).getClientBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-arrangementcontrols")).getBiggestRect,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-arrangementcontrols")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-arrangementcontrols")),i=r.combineRects,a=r.transformRect,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-arrangementcontrols")).throttle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-arrangementcontrols")).reduceTransform,l=Math.min,u='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-arrangementcontrols.css");\n  </style>\n\n  <section id="align">\n    <h2 id="align-section-header">Align</h2>\n\n    <bx-select id="align-to-select" value="first-selected">\n      <bx-selectitem value="first-selected" label="To first selected"></bx-selectitem>\n      <bx-selectitem value="last-selected" label="To last selected"></bx-selectitem>\n      <bx-selectitem value="biggest-selected" label="To biggest selected"></bx-selectitem>\n      <bx-selectitem value="view-box" label="To view box"></bx-selectitem>\n    </bx-select>\n\n    <bx-checkbox\n      id="align-individually-checkbox"\n      label="Align each element individually">\n    </bx-checkbox>\n\n    <div id="align-buttons">\n      <div id="align-inside-buttons">\n        <div class="column">\n          <bx-button\n            id="move-left-button"\n            tooltip="Align Left"\n            icon="move-left"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-left">\n          </bx-button>\n        </div>\n\n        <div class="column">\n          <bx-button\n            id="move-top-button"\n            tooltip="Align Top"\n            icon="move-top"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-top">\n          </bx-button>\n\n          <bx-button\n            id="move-bottom-button"\n            tooltip="Align Bottom"\n            icon="move-bottom"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-bottom">\n          </bx-button>\n        </div>\n\n        <div class="column">\n          <bx-button\n            id="move-right-button"\n            tooltip="Align Right"\n            icon="move-right"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-right">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="center-buttons">\n        <bx-button\n          id="center-button"\n          tooltip="Center"\n          icon="center"\n          iconsize="32"\n          skin="iconic"\n          data-action="center">\n        </bx-button>\n\n        <bx-button\n          id="center-horizontally-button"\n          tooltip="Center Horizontally"\n          icon="center-horizontally"\n          iconsize="32"\n          skin="iconic"\n          data-action="center-horizontally">\n        </bx-button>\n\n        <bx-button\n          id="center-vertically-button"\n          tooltip="Center Vertically"\n          icon="center-vertically"\n          iconsize="32"\n          skin="iconic"\n          data-action="center-vertically">\n        </bx-button>\n      </div>\n\n      <div id="stretch-buttons">\n        <bx-button\n          id="stretch-button"\n          tooltip="Stretch"\n          icon="stretch"\n          iconsize="32"\n          skin="iconic"\n          data-action="stretch"\n          data-shift-action="fit">\n        </bx-button>\n\n        <bx-button\n          id="stretch-horizontally-button"\n          tooltip="Stretch horizontally (align left and right)"\n          icon="stretch-horizontally"\n          iconsize="32"\n          skin="iconic"\n          data-action="stretch-horizontally"\n          data-shift-action="fit-horizontally">\n        </bx-button>\n\n        <bx-button\n          id="stretch-vertically-button"\n          tooltip="Stretch vertically (align left and right)"\n          icon="stretch-vertically"\n          iconsize="32"\n          skin="iconic"\n          data-action="stretch-vertically"\n          data-shift-action="fit-vertically">\n        </bx-button>\n      </div>\n    </div>\n  </section>\n\n  <section id="transform-section">\n    <h2 id="transform-section-header">Transform</h2>\n\n    <div id="transform-section-buttons" class="buttons-row">\n      <bx-button\n        id="rotate-counterclockwise-button"\n        icon="rotate-counterclockwise"\n        iconsize="30"\n        title="Rotate element(s) counter-clockwise by 90°"\n        skin="iconic"\n        label="Rotate by -90°">\n      </bx-button>\n\n      <bx-button\n        id="rotate-clockwise-button"\n        icon="rotate-clockwise"\n        iconsize="30"\n        title="Rotate element(s) clockwise by 90°"\n        skin="iconic"\n        label="Rotate by +90°">\n      </bx-button>\n\n      <bx-button\n        id="flip-x-button"\n        icon="flip-x"\n        iconsize="30"\n        title="Flip X"\n        skin="iconic"\n        label="Flip X">\n      </bx-button>\n\n      <bx-button\n        id="flip-y-button"\n        icon="flip-y"\n        iconsize="30"\n        title="Flip Y"\n        skin="iconic"\n        label="Flip Y">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="order-section">\n    <h2 id="order-section-header">Z-order</h2>\n\n    <div id="order-section-buttons" class="buttons-row">\n      <bx-button\n        id="raise-button"\n        icon="raise"\n        iconsize="30"\n        title="Raise Selection"\n        skin="iconic"\n        label="Raise">\n      </bx-button>\n\n      <bx-button\n        id="lower-button"\n        icon="lower"\n        iconsize="30"\n        title="Lower Selection"\n        skin="iconic"\n        label="Lower">\n      </bx-button>\n\n      <bx-button\n        id="raise-to-front-button"\n        icon="raise-to-front"\n        iconsize="30"\n        title="Raise Selection to Front"\n        skin="iconic"\n        label="Raise to Front">\n      </bx-button>\n\n      <bx-button\n        id="lower-to-back-button"\n        icon="lower-to-bottom"\n        iconsize="30"\n        title="Lower Selection to Bottom"\n        skin="iconic"\n        label="Lower to Bottom">\n      </bx-button>\n    </div>\n  </section>\n',c=function(n){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._updateWidgets250Th=o(this._updateWidgets,250,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=u;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#align-buttons"].addEventListener("click",function(t){
return e._onAlignButtonsClick(t)}),this["#align-to-select"].addEventListener("change",function(){
return e._onAlignToSelectChange()}),this["#align-individually-checkbox"].addEventListener("change",function(){
return e._onAlignIndividuallyCheckboxChange()}),this["#lower-button"].addEventListener("click",function(t){
return e._onLowerButtonClick(t)}),this["#raise-button"].addEventListener("click",function(t){
return e._onRaiseButtonClick(t)}),this["#lower-to-back-button"].addEventListener("click",function(t){
return e._onLowerToBackButtonClick(t)}),this["#raise-to-front-button"].addEventListener("click",function(t){
return e._onRaiseToFrontButtonClick(t)}),this["#rotate-counterclockwise-button"].addEventListener("click",function(){
return e._onRotateByMinus90DegButtonClick()}),this["#rotate-clockwise-button"].addEventListener("click",function(){
return e._onRotateByPlus90DegButtonClick()}),this["#flip-x-button"].addEventListener("click",function(t){
return e._onFlipXButtonClick(t)}),this["#flip-y-button"].addEventListener("click",function(t){
return e._onFlipYButtonClick(t)}),body.getConfig("bx-arrangementcontrols:relativeTo").then(function(t){
null!==t&&(e["#align-to-select"].value=t)}),body.getConfig("bx-arrangmentControls:alignIndividually").then(function(t){
t!==!0&&t!==!1||(e["#align-individually-checkbox"].checked=t)})},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._updateWidgets(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._updateWidgets250Th()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
e._updateWidgets250Th()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onAlignToSelectChange:function(){this._updateAlignSection(),body.setConfig("bx-arrangementcontrols:relativeTo",this["#align-to-select"].value);
},_onAlignIndividuallyCheckboxChange:function(){body.setConfig("bx-arrangmentControls:alignIndividually",this["#align-individually-checkbox"].checked);
},_onAlignButtonsClick:function(e){"bx-button"===e.target.localName&&this._onAlignButtonClick(e.target);
},_onAlignButtonClick:function(n){body.canvas.undoManager.checkpoint("Align");var r=this["#align-to-select"].value,i=this["#align-individually-checkbox"].checked,o=n.getAttribute("data-action");
if(body.modKeys.shift&&n.hasAttribute("data-shift-action")&&(o=n.getAttribute("data-shift-action")),
"view-box"===r){var s=body.canvas.currentArtboard.getScreenCTM(),l=SVGRect.fromRect(body.canvas.currentArtboard.viewBox),u=a(l,s);
this._alignElementsToBBox(body.canvas.selectedElements,u,o,i)}else if("first-selected"===r){
var c=body.canvas.selectedElements[0],d=body.canvas.selectedElements.slice(1),h=e(c);
this._alignElementsToBBox(d,h,o,i)}else if("last-selected"===r){var v=body.canvas.selectedElements[body.canvas.selectedElements.length-1],f=body.canvas.selectedElements.slice(0,body.canvas.selectedElements.length-1),m=e(v);
this._alignElementsToBBox(f,m,o,i)}else if("biggest-selected"===r){var b=$traceurRuntime.spread(body.canvas.selectedElements),g=b.map(function(t){
return e(t)}),p=t(g),y=b[g.indexOf(p)],x=b.filter(function(e){return e!==y}),_=e(y);
this._alignElementsToBBox(x,_,o,i)}},_alignElementsToBBox:function(t,n,r){var a=void 0!==arguments[3]?arguments[3]:!0;
if(a===!0){var o=!0,u=!1,c=void 0;try{for(var d=void 0,h=t[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){
var v=d.value,f=SVGMatrix.fromMatrix(v.transform.baseVal.consolidate().matrix),m=v.getScreenCTM(),b=m.inverse(),g=e(v),p=0,y=0,x=1,_=1,w=0,S=0;
if("move-left"===r)p=n.x-g.x;else if("move-right"===r)p=n.x+n.width-(g.x+g.width);else if("move-top"===r)y=n.y-g.y;else if("move-bottom"===r)y=n.y+n.height-(g.y+g.height);else if("center"===r)p=n.x-g.x+n.width/2-g.width/2,
y=n.y-g.y+n.height/2-g.height/2;else if("center-horizontally"===r)p=n.x-g.x+n.width/2-g.width/2;else if("center-vertically"===r)y=n.y-g.y+n.height/2-g.height/2;else if("stretch"===r)x=n.width/g.width,
_=n.height/g.height,p=n.x-g.x*x,y=n.y-g.y*_;else if("stretch-horizontally"===r)x=n.width/g.width,
p=n.x-g.x*x;else if("stretch-vertically"===r)_=n.height/g.height,y=n.y-g.y*_;else if("fit"===r){
var M=l(n.width/g.width,n.height/g.height);x=M,_=M,p=n.x-g.x+n.width/2-g.width/2,
y=n.y-g.y+n.height/2-g.height/2,w=g.x+g.width/2,S=g.y+g.height/2}else"fit-horizontally"===r?(x=n.width/g.width,
_=x,p=n.x-g.x,w=g.x,S=g.y):"fit-vertically"===r&&(_=n.height/g.height,x=_,y=n.y-g.y,
w=g.x,S=g.y);var C=f.multiply(b);C.translateSelf(p,y),C.scaleNonUniformSelf(x,_,w,S),
C.multiplySelf(m),v.setAttribute("transform",C.toString()),s(v,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision})}}catch(R){u=!0,c=R}finally{try{
o||null==h["return"]||h["return"]()}finally{if(u)throw c}}}else if(a===!1){var k=function(){
var n=0,r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[n++]=e(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return r}(),E=i(k),A=0,P=0,T=1,L=1,$=0,j=0;if("move-left"===r)A=n.x-E.x;else if("move-right"===r)A=n.x+n.width-(E.x+E.width);else if("move-top"===r)P=n.y-E.y;else if("move-bottom"===r)P=n.y+n.height-(E.y+E.height);else if("center"===r)A=n.x-E.x+n.width/2-E.width/2,
P=n.y-E.y+n.height/2-E.height/2;else if("center-horizontally"===r)A=n.x-E.x+n.width/2-E.width/2;else if("center-vertically"===r)P=n.y-E.y+n.height/2-E.height/2;else if("stretch"===r)T=n.width/E.width,
L=n.height/E.height,A=n.x-E.x*T,P=n.y-E.y*L;else if("stretch-horizontally"===r)T=n.width/E.width,
A=n.x-E.x*T;else if("stretch-vertically"===r)L=n.height/E.height,P=n.y-E.y*L;else if("fit"===r){
var N=l(n.width/E.width,n.height/E.height);T=N,L=N,A=n.x-E.x+n.width/2-E.width/2,
P=n.y-E.y+n.height/2-E.height/2,$=E.x+E.width/2,j=E.y+E.height/2}else"fit-horizontally"===r?(T=n.width/E.width,
L=T,A=n.x-E.x,$=E.x,j=E.y):"fit-vertically"===r&&(L=n.height/E.height,T=L,P=n.y-E.y,
$=E.x,j=E.y);var O=!0,V=!1,z=void 0;try{for(var D=void 0,G=t[Symbol.iterator]();!(O=(D=G.next()).done);O=!0){
var I=D.value,B=SVGMatrix.fromMatrix(I.transform.baseVal.consolidate().matrix),U=I.getScreenCTM(),H=U.inverse(),F=B.multiply(H);
F.translateSelf(A,P),F.scaleNonUniformSelf(T,L,$,j),F.multiplySelf(U),I.setAttribute("transform",F.toString()),
s(I,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(q){V=!0,z=q}finally{try{O||null==G["return"]||G["return"]()}finally{if(V)throw z;
}}}},_onRaiseButtonClick:function(){0===event.button&&body.commands.raise.exec()},
_onLowerButtonClick:function(){0===event.button&&body.commands.lower.exec()},_onRaiseToFrontButtonClick:function(){
0===event.button&&body.commands.raiseToFront.exec()},_onLowerToBackButtonClick:function(){
0===event.button&&body.commands.lowerToBack.exec()},_onRotateByMinus90DegButtonClick:function(){
0===event.button&&body.commands.rotateCounterclockwise.exec()},_onRotateByPlus90DegButtonClick:function(){
0===event.button&&body.commands.rotateClockwise.exec()},_onFlipXButtonClick:function(e){
0===e.button&&body.commands.flipX.exec()},_onFlipYButtonClick:function(e){0===e.button&&body.commands.flipY.exec();
},_updateWidgets:function(){this._updateAlignSection(),this._updateOrderSection(),
this._updateTransformSection()},_updateAlignSection:function(){if(0===body.canvas.selectedElements.length)this["#align-section-header"].disabled=!0,
this["#align-to-select"].disabled=!0,this["#align-individually-checkbox"].disabled=!0,
this._disableAlignButtons();else if(1===body.canvas.selectedElements.length){this["#align-section-header"].disabled=!1,
this["#align-to-select"].disabled=!1,this["#align-individually-checkbox"].disabled=!1;
var e=this["#align-to-select"].value;"view-box"===e?this._enableAlignButtons():this._disableAlignButtons();
}else this["#align-section-header"].disabled=!1,this["#align-to-select"].disabled=!1,
this["#align-individually-checkbox"].disabled=!1,this._enableAlignButtons()},_updateOrderSection:function(){
this["#raise-button"].disabled=!body.commands.raise.enabled(),this["#lower-button"].disabled=!body.commands.lower.enabled(),
this["#raise-to-front-button"].disabled=!body.commands.raiseToFront.enabled(),this["#lower-to-back-button"].disabled=!body.commands.lowerToBack.enabled(),
this["#order-section-header"].disabled=this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#raise-to-front-button"].disabled&&this["#lower-to-back-button"].disabled;
},_updateTransformSection:function(){this["#rotate-counterclockwise-button"].disabled=!body.commands.rotateCounterclockwise.enabled(),
this["#rotate-clockwise-button"].disabled=!body.commands.rotateClockwise.enabled(),
this["#flip-x-button"].disabled=!body.commands.flipX.enabled(),this["#flip-y-button"].disabled=!body.commands.flipY.enabled(),
this["#transform-section-header"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-x-button"].disabled&&this["#flip-y-button"].disabled;
},_enableAlignButtons:function(){this["#move-left-button"].disabled=!1,this["#move-right-button"].disabled=!1,
this["#move-top-button"].disabled=!1,this["#move-bottom-button"].disabled=!1,this["#center-button"].disabled=!1,
this["#center-horizontally-button"].disabled=!1,this["#center-vertically-button"].disabled=!1,
this["#stretch-button"].disabled=!1,this["#stretch-horizontally-button"].disabled=!1,
this["#stretch-vertically-button"].disabled=!1},_disableAlignButtons:function(){this["#move-left-button"].disabled=!0,
this["#move-right-button"].disabled=!0,this["#move-top-button"].disabled=!0,this["#move-bottom-button"].disabled=!0,
this["#center-button"].disabled=!0,this["#center-horizontally-button"].disabled=!0,
this["#center-vertically-button"].disabled=!0,this["#stretch-button"].disabled=!0,
this["#stretch-horizontally-button"].disabled=!0,this["#stretch-vertically-button"].disabled=!0;
}},{},n)}(HTMLElement),d=n("bx-arrangementcontrols",c);return{get default(){return d;
}}}),$traceurRuntime.registerModule("elements/bx-backgroundartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-backgroundartboard")).registerElement,t='\n  <polygon\n    fill="rgba(255, 255, 255, 0)"\n    points="-1000000,-1000000 2000000,0 2000000,20000000, 0,2000000"/>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
get contentType(){return"background"},createdCallback:function(){this._shadowRoot=this.createShadowRoot(),
this._shadowRoot.innerHTML=t}},{},e)}(SVGGElement),r=e("g","bx-backgroundartboard",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-body",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/bridge","elements/bx-body"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-body"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-body")),r=n.createElement,i=n.registerElement,a=Object,o=(a.entries,
a.observe,navigator.platform,function(n){function i(){$traceurRuntime.superConstructor(i).apply(this,arguments);
}return $traceurRuntime.createClass(i,{createdCallback:function(){var t=this;this.bridge=new e,
this.tabIndex=-1,this.commands={},this.mouseClientX=0,this.mouseClientY=0,this.isMouseDown=!1,
this._cursors=[],this._modKeys={ctrl:!1,alt:!1,meta:!1,shift:!1},this.bridge.postMessage("getBackendName",null,function(e){
return t._backendName=e}),this.bridge.addMessageListener("execCommand",function(e){
return t.execCommand(e)}),this.bridge.addMessageListener("validateCommand",function(e,n){
return t.validateCommand(e).then(n)}),this.bridge.addMessageListener("event:configchange",function(e){
t.dispatchEvent(new CustomEvent("configchange",{detail:e}))})},attachedCallback:function(){
var e=this;window.addEventListener("keydown",this._keyDownListener=function(t){return e._onKeyDown(t);
}),window.addEventListener("keyup",this._keyUpListener=function(t){return e._onKeyUp(t);
}),window.addEventListener("blur",this._blurListener=function(t){return e._onBlur(t);
}),window.addEventListener("mousedown",this._mouseDownListener=function(t){return e.isMouseDown=!0;
}),window.addEventListener("mouseup",this._mouseUpListener=function(t){return e.isMouseDown=!1;
}),window.addEventListener("mousemove",this._mouseMoveListener=function(t){e.mouseClientX=t.clientX,
e.mouseClientY=t.clientY}),window.addEventListener("drop",this._dropListener=function(t){
e.mouseClientX=t.clientX,e.mouseClientY=t.clientY}),window.addEventListener("dragend",this._dragEndListener=function(t){
e.isMouseDown=!1}),"electron"===this.bridge.name&&window.addEventListener("beforeunload",this._beforeUnloadListener=function(){
e._cursorStyle.innerHTML=""}),this.focus()},detachedCallback:function(){window.removeEventListener("keydown",this._keyDownListener),
window.removeEventListener("keyup",this._keyUpListener),window.removeEventListener("blur",this._blurListener),
window.removeEventListener("drop",this._dropListener),window.removeEventListener("mousedown",this._mouseDownListener),
window.removeEventListener("mousemove",this._mouseMoveListener),window.removeEventListener("mouseup",this._mouseUpListener),
window.removeEventListener("dragend",this._dragEndListener),"electron"===this.bridge.name&&window.removeEventListener("beforeunload",this._beforeUnloadListener);
},get modKeys(){var e=this._modKeys,t=e.ctrl,n=e.alt,r=e.meta,i=e.shift;return{ctrl:t,
alt:n,meta:r,shift:i}},getConfig:function(e){var t=this;return new Promise(function(n){
t.bridge.postMessage("getConfig",e,function(e){n(e)})})},setConfig:function(e,t){
var n=this;return new Promise(function(r){n.bridge.postMessage("setConfig",{key:e,
value:t},function(){r()})})},registerCursor:function(e){var t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:0,r=void 0!==arguments[3]?arguments[3]:0;
e.includes("/")&&(e="url("+e+") "+n+" "+r+", auto");var i={name:e,weight:t};return this._cursors.push(i),
this._updateCursorStyle(),i},unregisterCursor:function(e){this._cursors=this._cursors.filter(function(t){
return t!==e}),this._updateCursorStyle()},execCommand:function(e){for(var t=document.activeElement;t._shadowRoot&&t._shadowRoot.activeElement;)t=t._shadowRoot.activeElement;
for(var n=t;n;n=n.parentNode||n.host)if(n.commands&&n.commands[e]){var r=n.commands[e];
if(r){r.enabled&&!r.enabled()||r.exec();break}}},validateCommand:function(e){return new Promise(function(t,n){
for(var r=document.activeElement;r._shadowRoot&&r._shadowRoot.activeElement;)r=r._shadowRoot.activeElement;
for(var i=r;i;i=i.parentNode||i.host)if(i.commands&&i.commands[e]){var a=i.commands[e];
if(a)if(void 0!==a.enabled){var o=a.enabled();t(o)}else t(!0)}return!0})},_onKeyDown:function(e){
var n=t.fromEvent(e);n.ctrl===this._modKeys.ctrl&&n.alt===this._modKeys.alt&&n.meta===this._modKeys.meta&&n.shift===this._modKeys.shift||(this._modKeys={
ctrl:n.ctrl,alt:n.alt,meta:n.meta,shift:n.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),
"chrome"===this._backendName&&(n.matches("Control","Z")||n.matches("Control","Shift","Z")||n.matches("Control","X")||n.matches("Control","C")||n.matches("Control","V")||n.matches("Control","A"))&&e.preventDefault();
},_onKeyUp:function(e){var n=t.fromEvent(e),r=n.ctrl,i=n.alt,a=n.meta,o=n.shift;r===this._modKeys.ctrl&&i===this._modKeys.alt&&a===this._modKeys.meta&&o===this._modKeys.shift||(this._modKeys={
ctrl:r,alt:i,meta:a,shift:o},this.dispatchEvent(new CustomEvent("modkeyschange")));
},_onBlur:function(e){var t=this._modKeys,n=t.ctrl,r=t.alt,i=t.meta,a=t.shift;(n||r||i||a)&&(this._modKeys={
ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));
},_updateCursorStyle:function(){var e=$traceurRuntime.spread(this._cursors);if(e.sort(function(e,t){
return e.weight>t.weight?1:e.weight<t.weight?-1:0}),this._cursorStyle||(this._cursorStyle=r("style"),
this._cursorStyle.id="cursor-style",this.prepend(this._cursorStyle)),e.length>0){
var t=e[e.length-1].name;this._cursorStyle.innerHTML="* {cursor: "+t+"!important}";
}else this._cursorStyle.innerHTML=""}},{},n)}(HTMLBodyElement)),s=i("bx-body",o);return{
get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-breadcrumb",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-breadcrumbitem","elements/bx-breadcrumb"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-breadcrumb")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-breadcrumb")).debounce,i='\n  <style>@import url("stylesheets/bx-breadcrumb.css");</style>\n  <main id="main"></main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){n=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw a}}this._update80Db=r(this._update,80,this),this["#main"].addEventListener("click",function(t){
return e._onItemClick(t)})},attachedCallback:function(){var e=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._update80Db()}),body.canvas.addEventListener("currentcontainerchange",this._currentContainerChangeListener=function(){
e._update80Db()})},detachedCallback:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("currentcontainerchange",this._currentContainerChangeListener);
},_onItemClick:function(e){var t=e.target,n=t.ref;n===body.canvas.currentArtboard?(body.canvas.selectedElements=[],
body.canvas.currentContainer=null):n===body.canvas.masterArtboard?("symbol"===body.canvas.currentArtboard.contentType?body.canvas.editSymbolEnd():"pattern"===body.canvas.currentArtboard.contentType&&body.canvas.editPatternEnd(),
body.canvas.selectedElements=[],body.canvas.currentContainer=null):(body.canvas.selectedElements=[n],
body.canvas.currentContainer=n.parentElement===body.canvas.currentArtboard?null:n.parentElement);
},_update:function(){var e=this,n=[body.canvas.masterArtboard];if(body.canvas.currentArtboard!==body.canvas.masterArtboard&&n.push(body.canvas.currentArtboard),
body.canvas.currentContainer){for(var r=[],i=body.canvas.currentContainer;i!==body.canvas.currentArtboard;i=i.parentElement)r.unshift(i);
n=$traceurRuntime.spread(n,r)}for(body.canvas.selectedElements.length>0&&n.push(body.canvas.selectedElements[0]);this["#main"].childElementCount>n.length;)this["#main"].lastElementChild.remove();
for(;this["#main"].childElementCount<n.length;)this["#main"].append(t("bx-breadcrumbitem"));
n.forEach(function(t,n){var r=e["#main"].children[n];r.ref=t});var a=null;body.canvas.selectedElements.length>0?a=body.canvas.selectedElements[0]:body.canvas.currentContainer||(a=body.canvas.currentArtboard);
var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=this["#main"].children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.highlighted=d.ref===a}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}}},{},e)}(HTMLElement),o=n("bx-breadcrumb",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-breadcrumbitem",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-breadcrumbitem")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/string","elements/bx-breadcrumbitem")).capitalize,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-breadcrumbitem")).getShapeData,r='\n  <style>@import url("stylesheets/bx-breadcrumbitem.css");</style>\n\n  <main>\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use id="use" width="100" height="100"></use>\n    </svg>\n\n    <div id="label"></div>\n  </main>\n',i=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){this._ref=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=r;var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}},get ref(){return this._ref},set ref(e){e!==this._ref&&(this._ref=e,
this._onRefChange())},get mixed(){return this.hasAttribute("mixed")},set mixed(e){
e?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get highlighted(){
return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},_onRefChange:function(){var e=this._ref;if(e)if("a"===e.localName)this["#label"].textContent="Anchor",
this["#use"].setAttribute("href","images/icons.svg#object-anchor");else if("ellipse"===e.localName)this["#label"].textContent="Ellipse",
this["#use"].setAttribute("href","images/icons.svg#object-ellipse");else if("text"===e.localName)this["#label"].textContent="Text",
this["#use"].setAttribute("href","images/icons.svg#object-text");else if("image"===e.localName)this["#label"].textContent="Image",
this["#use"].setAttribute("href","images/icons.svg#object-image");else if("foreignObject"===e.localName)this["#label"].textContent="Foreign Object",
this["#use"].setAttribute("href","images/icons.svg#object-image");else if("svg"===e.localName)this["#label"].textContent="SVG",
this["#use"].setAttribute("href","images/icons.svg#object-svg");else if("g"===e.localName){
var r=e.getAttribute("is");"bx-svgartboard"===r?(this["#label"].textContent="SVG",
this["#use"].setAttribute("href","images/icons.svg#object-svg")):"bx-symbolartboard"===r?(this["#label"].textContent="Symbol",
this["#use"].setAttribute("href","images/icons.svg#object-symbol")):"bx-patternartboard"===r?(this["#label"].textContent="Pattern",
this["#use"].setAttribute("href","images/icons.svg#object-pattern")):(this["#label"].textContent="Group",
this["#use"].setAttribute("href","images/icons.svg#object-group"))}else if("path"===e.localName){
var i=n(e),a=i?i.type:null;"triangle"===a?(this["#label"].textContent="Triangle",
this["#use"].setAttribute("href","images/icons.svg#object-triangle")):"rect"===a?(this["#label"].textContent="Rectangle",
this["#use"].setAttribute("href","images/icons.svg#object-rect")):"n-gon"===a?(this["#label"].textContent="N-gon",
this["#use"].setAttribute("href","images/icons.svg#object-ngon")):"star"===a?(this["#label"].textContent="Star",
this["#use"].setAttribute("href","images/icons.svg#object-star")):"ring"===a?(this["#label"].textContent="Ring",
this["#use"].setAttribute("href","images/icons.svg#object-ring")):(this["#label"].textContent="Path",
this["#use"].setAttribute("href","images/icons.svg#object-path"))}else if("use"===e.localName){
var o=body.canvas.artboards.querySelector(e.href.baseVal);this["#use"].setAttribute("href","images/icons.svg#object-symbol"),
o&&"symbol"===o.localName?this["#label"].textContent="Symbol Use":this["#label"].textContent="Use";
}else this["#label"].textContent=t(e.localName)}},{},e)}(HTMLElement),a=e("bx-breadcrumbitem",i);
return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-button",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-button")),t=e.createElement,n=e.registerElement,r=Number.parseInt,i='\n  <style id="skin-stylesheet"></style>\n\n  <main>\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100" style="width: 20px; height: 20px;">\n      <use id="icon-use" x="0" y="0" width="100%" height="100%"></use>\n    </svg>\n\n    <label id="label"></label>\n  </main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=i;var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._updateSkin()},attributeChangedCallback:function(e){
"label"===e?this._onLabelAttributeChange():"icon"===e?this._onIconAttributeChange():"iconsize"===e?this._onIconSizeAttributeChange():"skin"===e?this._onSkinAttributeChange():"hidden"===e&&this._onHiddenAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get value(){return this.getAttribute("value")},set value(e){
null===e?this.removeAttribute("value"):this.setAttribute("value",e)},get icon(){return this.getAttribute("icon");
},set icon(e){null===e?this.removeAttribute("icon"):this.setAttribute("icon",e)},
get iconSize(){return this.hasAttribute("iconsize")?r(this.getAttribute("iconsize")):20;
},set iconSize(e){this.setAttribute("iconsize",e)},get skin(){return this.getAttribute("skin");
},set skin(e){e?this.setAttribute("skin",e):this.removeAttribute("skin")},get href(){
return this.hasAttribute("href")?this.getAttribute("href"):""},set href(e){this.setAttribute("href",e);
},get althref(){return this.hasAttribute("althref")?this.getAttribute("althref"):"";
},set althref(e){this.setAttribute("althref",e)},get pressed(){return this.hasAttribute("pressed");
},set pressed(e){e===!0?this.setAttribute("pressed",""):this.removeAttribute("pressed");
},get mixed(){return this.hasAttribute("mixed")},set mixed(e){e===!0?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e===!0?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onIconAttributeChange:function(){
this["#icon-use"].remove(),this["#icon-use"]=t("svg:use"),this["#icon"].append(this["#icon-use"]),
this.icon&&this["#icon-use"].setAttribute("href","images/icons.svg#"+this.icon)},
_onIconSizeAttributeChange:function(){this["#icon"].style.width=this.iconSize+"px",
this["#icon"].style.height=this.iconSize+"px"},_onSkinAttributeChange:function(){
this._updateSkin()},_onHiddenAttributeChange:function(){this.dispatchEvent(new CustomEvent("hiddenchange",{
detail:this,bubbles:!0}))},_updateSkin:function(){this.skin?this["#skin-stylesheet"].innerText='@import url("stylesheets/bx-button@'+this.skin+'.css");':this["#skin-stylesheet"].innerText='@import url("stylesheets/bx-button.css");';
}},{},e)}(HTMLElement),o=n("bx-button",a);return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-canvas",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-svgartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-symbolartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-backgroundartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-viewboxhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-viewboxedithud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-outlineshud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-trianglehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-recthud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ellipsehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ngonhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-starhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ringhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-pathsedithud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectedtextrangehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-lineargradienthud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-radialgradienthud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-transformhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-rubberbandhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-cubicsegsdrawhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-quadsegsdrawhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-freehandsegsdrawhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-guide","elements/bx-canvas"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/dom-undo-manager","elements/bx-canvas"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/google-fonts-manager","elements/bx-canvas"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-compression","elements/bx-canvas")).uncompressArtwork,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-import","elements/bx-canvas")).importArtwork,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-general","elements/bx-canvas")).prepareArtworkForInsertion,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-canvas")).getClientBBox,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","elements/bx-canvas")),s=o.SVG_NAMESPACE,l=o.XLINK_NAMESPACE,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-canvas")),c=u.createElement,d=u.registerElement,h=u.sortByDomPosition,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-canvas")),f=v.isTransformableElement,m=v.mirrorAttributes,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","elements/bx-canvas")).parseGoogleFontsURL,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-canvas")).normalize,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/image","elements/bx-canvas")).extractImageSize,y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-canvas")).parseSVG,x=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-canvas")).roundMatrix,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-canvas")).closest),_=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-canvas")),w=_.transformRect,S=_.combineRects,M=_.rectIntersectsRect,C=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-canvas")).getTransformToElement,R=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-canvas")).reduceTransform,k=Math.min,E=Object,A=E.defineProperty,P=E.freeze,T=.39,L=1e4,$=20,j=window.screen.width,N=window.screen.height,O={
childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1
},V=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],z='\n  <style>@import url("stylesheets/bx-canvas.css");</style>\n\n  <main id="main">\n    <svg id="svg">\n      <g id="artboards">\n        <g is="bx-backgroundartboard"></g>\n      </g>\n\n      <g id="huds">\n        <g id="viewbox-hud" is="bx-viewboxhud"></g>\n        <g id="outlines-hud" is="bx-outlineshud"></g>\n        <g id="transform-hud" is="bx-transformhud"></g>\n        <g id="triangle-hud" is="bx-trianglehud"></g>\n        <g id="rect-hud" is="bx-recthud"></g>\n        <g id="ellipse-hud" is="bx-ellipsehud"></g>\n        <g id="n-gon-hud" is="bx-ngonhud"></g>\n        <g id="star-hud" is="bx-starhud"></g>\n        <g id="ring-hud" is="bx-ringhud"></g>\n        <g id="paths-edit-hud" is="bx-pathsedithud"></g>\n        <g id="selected-text-range-hud" is="bx-selectedtextrangehud"></g>\n        <g id="linear-gradient-fill-hud" is="bx-lineargradienthud" context="fill"></g>\n        <g id="linear-gradient-stroke-hud" is="bx-lineargradienthud" context="stroke"></g>\n        <g id="radial-gradient-fill-hud" is="bx-radialgradienthud" context="fill"></g>\n        <g id="radial-gradient-stroke-hud" is="bx-radialgradienthud" context="stroke"></g>\n        <g id="pattern-fill-hud" is="bx-patternhud" context="fill"></g>\n        <g id="pattern-stroke-hud" is="bx-patternhud" context="stroke"></g>\n        <g id="rubber-band-hud" is="bx-rubberbandhud" enabled></g>\n        <g id="draw-cubic-segs-hud" is="bx-cubicsegsdrawhud"></g>\n        <g id="draw-quad-segs-hud" is="bx-quadsegsdrawhud"></g>\n        <g id="draw-freehand-segs-hud" is="bx-freehandsegsdrawhud"></g>\n        <g id="viewbox-edit-hud" is="bx-viewboxedithud"></g>\n      </g>\n\n      <filter id="grippie-drop-shadow" width="100" height="100">\n        <feGaussianBlur id="grippie-fe-blur" in="SourceAlpha" result="blur-out" stdDeviation="1"/>\n        <feOffset id="grippie-fe-offset" in="blur-out" result="the-shadow" dx="1" dy="1"/>\n        <feBlend in="SourceGraphic" in2="the-shadow" mode="normal"/>\n      </filter>\n    </svg>\n  </main>\n',D=function(o){
function u(){$traceurRuntime.superConstructor(u).apply(this,arguments)}return $traceurRuntime.createClass(u,{
createdCallback:function(){var n=this;this._selectedElements=[],this._selectedTextRange=null,
this._currentContainer=null,this._scrollX=0,this._scrollY=0,this._zoom=100,this._geometryPrecision=3,
this._transformPrecision=6,this._textInputMode=!1,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=z;var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=this,f=function(){var e=m.value;
A(v,e.id.toCamelCase(),{get:function(){return e}})},m=void 0,b=this["#huds"].children[Symbol.iterator]();!(c=(m=b.next()).done);c=!0)f();
}catch(g){d=!0,h=g}finally{try{c||null==b["return"]||b["return"]()}finally{if(d)throw h;
}}this["#svg"].setAttribute("width",j+"px"),this["#svg"].setAttribute("height",N+"px"),
this["#svg"].pauseAnimations(),this._undoManager=new e(this["#artboards"]),this._googleFontsManager=new t(this["#artboards"]);
var p=new MutationObserver(function(e){return n._onArtboardMutation(e)});p.observe(this["#artboards"],O),
this._shadowRoot.addEventListener("click",function(e){return n._onClick(e)}),this._shadowRoot.addEventListener("mousedown",function(e){
return n._onMouseDown(e)}),this._shadowRoot.addEventListener("wheel",function(e){
return n._onMouseWheel(e)}),this._shadowRoot.addEventListener("dragover",function(e){
return n._onDragOver(e)}),this._shadowRoot.addEventListener("drop",function(e){return n._onDrop(e);
}),this._undoManager.addEventListener("undo",function(e){return n._onUndoManagerUndoOrRedo(e);
}),this._undoManager.addEventListener("redo",function(e){return n._onUndoManagerUndoOrRedo(e);
}),this._undoManager.addEventListener("positionchange",function(e){return n._onUndoManagerPositionChange(e);
}),this["#main"].addEventListener("scroll",function(e){return n._onScroll(e)}),body.getConfig("bx-preferences:geometryPrecision").then(function(e){
null!==e&&(n._geometryPrecision=e)}),body.getConfig("bx-preferences:transformPrecision").then(function(e){
null!==e&&(n._transformPrecision=e)}),body.getConfig("bx-preferences:canvasBackgroundColor").then(function(e){
n["#main"].style.background=e}),body.addEventListener("configchange",this._configChangeListener=function(e){
var t=e.detail,r=t.key,i=t.value;"bx-preferences:geometryPrecision"===r?n._geometryPrecision=i:"bx-preferences:transformPrecision"===r?n._transformPrecision=i:"bx-preferences:canvasBackgroundColor"===r&&(n["#main"].style.background=i);
}),this.enableHud("viewbox-hud")},get selectedElements(){return P($traceurRuntime.spread(this._selectedElements));
},set selectedElements(e){this._selectedElements=e,this.dispatchEvent(new CustomEvent("selectedelementschange"));
},get selectedTextRange(){return this._selectedTextRange?this._selectedTextRange:null;
},set selectedTextRange(e){this._selectedTextRange=e?e:null,this.dispatchEvent(new CustomEvent("selectedtextrangechange"));
},get currentContainer(){return this._currentContainer},set currentContainer(e){this._currentContainer=e,
this.dispatchEvent(new CustomEvent("currentcontainerchange"))},get artboards(){return this["#artboards"];
},get masterArtboard(){return this.artboards.querySelector('g[is="bx-svgartboard"]');
},get currentArtboard(){return this["#artboards"].lastElementChild},get defs(){return this.masterArtboard.querySelector("defs");
},get huds(){return this["#huds"]},get zoom(){return this._zoom},get scale(){return this._zoom/100;
},get geometryPrecision(){return this._geometryPrecision},get transformPrecision(){
return this._transformPrecision},get textInputMode(){return this._textInputMode},
set textInputMode(e){e!==this._textInputMode&&(this._textInputMode=e,this._onTextInputModeChange());
},get undoManager(){return this._undoManager},get googleFontsManager(){return this._googleFontsManager;
},enableHud:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#huds"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.id===e&&(o.enabled=!0)}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},disableHud:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#huds"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.id===e&&(o.enabled=!1)}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},editPattern:function(e){var t=this.masterArtboard.querySelector("pattern#"+e);
if(null!==t&&this.currentArtboard.id!==e){this.undoManager.checkpoint("Edit Pattern"),
"pattern"===this.currentArtboard.contentType?this.editPatternEnd(!1):"symbol"===this.currentArtboard.contentType&&this.editSymbolEnd(!1);
var n=c("svg:g","bx-patternartboard");m(t,n,["is"]),n.innerHTML=t.innerHTML,this["#artboards"].append(n),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
}},editPatternEnd:function(){var e=void 0!==arguments[0]?arguments[0]:!0;if("pattern"===this.currentArtboard.contentType){
e&&this.undoManager.checkpoint("Edit Pattern");var t=this.currentArtboard,n=this.masterArtboard.querySelector("pattern#"+t.id);
m(t,n,["is"]),t.remove(),n.innerHTML=t.innerHTML,this.selectedElements=[],this.selectedTextRange=null,
this.currentContainer=null}},editSymbol:function(e){var t=this.masterArtboard.querySelector("symbol#"+e);
if(null!==t&&this.currentArtboard.id!==t.id){this.undoManager.checkpoint("Edit Symbol"),
"pattern"===this.currentArtboard.contentType?this.editPatternEnd(!1):"symbol"===this.currentArtboard.contentType&&this.editSymbolEnd(!1);
var n=c("svg:g","bx-symbolartboard");m(t,n,["is"]),n.innerHTML=t.innerHTML,this["#artboards"].append(n),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
}},editSymbolEnd:function(){var e=void 0!==arguments[0]?arguments[0]:!0;if("symbol"===this.currentArtboard.contentType){
e&&this.undoManager.checkpoint("Edit Symbol");var t=this.currentArtboard,n=this.masterArtboard.querySelector("symbol#"+t.id);
m(t,n,["is"]),t.remove(),n.innerHTML=t.innerHTML,this.selectedElements=[],this.selectedTextRange=null,
this.currentContainer=null}},loadArtwork:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=$traceurRuntime.spread(this.artboards.children)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;"bx-backgroundartboard"!==o.getAttribute("is")&&o.remove()}}catch(s){
n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=c("svg:g","bx-svgartboard");
for(m(e,l,["is","xmlns"]);e.firstChild;)l.append(e.firstChild);this.artboards.append(l),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),
this.googleFontsManager.loadImportedFamilies(),this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll(),
this.dispatchEvent(new CustomEvent("artworkload"))},extractArtwork:function(){var e=c("svg:svg"),t=this.masterArtboard,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=["id","class","style","x","y","width","height","viewBox","preserveAspectRatio"][Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t.hasAttribute(s)&&e.setAttribute(s,t.getAttribute(s))}}catch(l){r=!0,
i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}var u=!0,d=!1,h=void 0;
try{for(var v=void 0,f=t.childNodes[Symbol.iterator]();!(u=(v=f.next()).done);u=!0){
var b=v.value;e.append(b.cloneNode(!0))}}catch(g){d=!0,h=g}finally{try{u||null==f["return"]||f["return"]();
}finally{if(d)throw h}}if("pattern"===this.currentArtboard.contentType){var p=this.currentArtboard,y=e.querySelector("#"+p.id);
m(p,y,["is"]),y.innerHTML=p.innerHTML}else if("symbol"===this.currentArtboard.contentType){
var x=this.currentArtboard,_=e.querySelector("symbol#"+x.id);m(x,_,["is"]),_.innerHTML=x.innerHTML;
}return e},extractArtworkWithSelectedElements:function(){var e=this,t=this._extractArtworkWithElements(this.selectedElements),n=function(){
var t=0,n=[],r=!0,i=!1,o=void 0;try{for(var s=void 0,l=e.selectedElements[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;n[t++]=a(u)}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}return n}(),r=S(n);r=w(r,this.currentArtboard.getCTM().inverse());
var i=!0,o=!1,s=void 0;try{for(var l=void 0,u=["x","y","width","height"][Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value;t.viewBox.baseVal[c]=r[c]}}catch(d){o=!0,s=d}finally{try{i||null==u["return"]||u["return"]();
}finally{if(o)throw s}}return t.setAttribute("width",r.width),t.setAttribute("height",r.height),
t},extractArtworkWithViewBoxElements:function(){var e=[],t=SVGRect.fromRect(this.currentArtboard.viewBox),n=this.currentArtboard.getCTM().inverse(),r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=this.currentArtboard.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;if(f(u)){var c=a(u);c=w(c,n),M(t,c)&&e.push(u)}}}catch(d){i=!0,o=d}finally{
try{r||null==l["return"]||l["return"]()}finally{if(i)throw o}}var h=this._extractArtworkWithElements(e),v=!0,m=!1,b=void 0;
try{for(var g=void 0,p=["x","y","width","height"][Symbol.iterator]();!(v=(g=p.next()).done);v=!0){
var y=g.value;h.viewBox.baseVal[y]=t[y]}}catch(x){m=!0,b=x}finally{try{v||null==p["return"]||p["return"]();
}finally{if(m)throw b}}return h.setAttribute("width",t.width),h.setAttribute("height",t.height),
h},_extractArtworkWithElements:function(e){e=h(e);var t=this._getIdsReferencedByElementsAndTheirDescendants(e),n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=this.currentArtboard.querySelector("#"+l);
u||this.currentArtboard===this.masterArtboard||(u=this.masterArtboard.querySelector("#"+l)),
u&&n.push(u)}}catch(d){i=!0,a=d}finally{try{r||null==s["return"]||s["return"]()}finally{
if(i)throw a}}n=n.filter(function(t){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;if(l.contains(t)||l===t)return!1}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=n[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;if(m.contains(t)&&m!==t)return!1}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}return!0});var v=c("svg:svg"),f=c("svg:defs"),m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=n[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){var x=p.value;
x.closest("defs")?f.append(x.cloneNode(!0)):v.append(x.cloneNode(!0))}}catch(_){b=!0,
g=_}finally{try{m||null==y["return"]||y["return"]()}finally{if(b)throw g}}var w=!0,S=!1,M=void 0;
try{for(var R=void 0,k=this.defs.querySelectorAll("style")[Symbol.iterator]();!(w=(R=k.next()).done);w=!0){
var E=R.value;f.append(E.cloneNode(!0))}}catch(A){S=!0,M=A}finally{try{w||null==k["return"]||k["return"]();
}finally{if(S)throw M}}f.childElementCount>0&&v.append(f);var P=!0,T=!1,L=void 0;try{
for(var $=void 0,j=e[Symbol.iterator]();!(P=($=j.next()).done);P=!0){var N=$.value,O=C(N,this.currentArtboard),V=N.cloneNode(!0);
V.setAttribute("transform",O),v.append(V)}}catch(z){T=!0,L=z}finally{try{P||null==j["return"]||j["return"]();
}finally{if(T)throw L}}return v},insertArtwork:function(e){var t,n,r=void 0!==arguments[1]?arguments[1]:"canvasCenter",o=this.currentContainer||this.currentArtboard,s=[],l=this.extractArtwork();
i(e,l);var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=$traceurRuntime.spread(e.children)[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var m=h.value;if("defs"===m.localName){var g=!0,p=!1,y=void 0;try{for(var x=void 0,_=$traceurRuntime.spread(m.children)[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){
var w=x.value;if("bx-google-fonts"===w.id){var M=w.textContent,k=M.substring(M.lastIndexOf("(")+1,M.lastIndexOf(")")),E=!0,A=!1,P=void 0;
try{for(var T=void 0,L=b(k)[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){var $=(t=T.value[Symbol.iterator](),
(n=t.next()).done?void 0:n.value);this._googleFontsManager.importFamily($)}}catch(j){
A=!0,P=j}finally{try{E||null==L["return"]||L["return"]()}finally{if(A)throw P}}}else{
if("desc"===w.localName)continue;if("title"===w.localName)continue;this.defs.append(w);
}}}catch(N){p=!0,y=N}finally{try{g||null==_["return"]||_["return"]()}finally{if(p)throw y;
}}}else if(f(m)){var O=C(o,this.currentArtboard),V=SVGMatrix.fromMatrix(m.transform.baseVal.consolidate().matrix),z=new SVGMatrix;
z.multiplySelf(O.inverse()),z.multiplySelf(V),z.isIdentity()?m.removeAttribute("transform"):m.setAttribute("transform",z.toString()),
o.append(m),f(m)&&s.push(m)}else o.append(m)}}catch(D){c=!0,d=D}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}if("original"!==r){var G;G="canvasCenter"===r?new SVGPoint(this.clientLeft+this.clientWidth/2,this.clientTop+this.clientHeight/2):new SVGPoint(body.mouseClientX,body.mouseClientY);
var I=function(){var e=0,t=[],n=!0,r=!1,i=void 0;try{for(var o=void 0,l=s[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){
var u=o.value;t[e++]=a(u)}}catch(c){r=!0,i=c}finally{try{n||null==l["return"]||l["return"]();
}finally{if(r)throw i}}return t}();I=I.filter(function(e){return e.width>0||e.height>0;
});var B=S(I),U=G.x-(B.x+B.width/2),H=G.y-(B.y+B.height/2),F=!0,q=!1,W=void 0;try{
for(var Y=void 0,X=s[Symbol.iterator]();!(F=(Y=X.next()).done);F=!0){var Z=Y.value,K=Z.getScreenCTM(),J=K.inverse(),Q=SVGMatrix.fromMatrix(Z.transform.baseVal.consolidate().matrix);
Q.multiplySelf(J),Q.translateSelf(U,H),Q.multiplySelf(K),Z.setAttribute("transform",Q.toString()),
R(Z,{geometryPrecision:this.geometryPrecision,transformPrecision:this.transformPrecision
})}}catch(ee){q=!0,W=ee}finally{try{F||null==X["return"]||X["return"]()}finally{if(q)throw W;
}}}this.selectedElements=s},insertBitmap:function(e){var t,n,r,i,a,o,s,l,u,d,h,v,f;
return $traceurRuntime.asyncWrap(function(m){for(;;)switch(m.state){case 0:d=p(e),
m.state=5;break;case 5:return void Promise.resolve(d).then(m.createCallback(3),m.errback);
case 3:h=m.value,m.state=2;break;case 2:t=h,v=t.width,n=v,f=t.height,r=f,m.state=7;
break;case 7:i=c("svg:image"),i.setAttribute("href",e),i.setAttribute("width",n),
i.setAttribute("height",r),a=this.currentContainer||this.currentArtboard,o=a.getScreenCTM().inverse(),
s=new SVGPoint(body.mouseClientX,body.mouseClientY),l=s.matrixTransform(o),a.append(i),
u=i.getBBox(),i.setAttribute("x",l.x-u.width/2),i.setAttribute("y",l.y-u.height/2),
this.selectedElements=[i],m.state=-2;break;default:return m.end()}},this)},removeUnusedDefs:function(){
for(var e=document.createNodeIterator(this.artboards,NodeFilter.SHOW_ELEMENT),t=null,n=new Set,r=new Set,i=new Set,a=new Set;t=e.nextNode();){
var o=t.style,s=o.fill,l=o.stroke,u=o.filter,c=o.mask,d=o.clipPath;if(s&&s.startsWith("url(")){
var h=s.substring(6,s.length-2);n.add(h)}if(l&&l.startsWith("url(")){var v=l.substring(6,l.length-2);
n.add(v)}if(u&&u.startsWith("url(")){var f=u.substring(6,u.length-2);r.add(f)}if(d&&d.startsWith("url(")){
var m=d.substring(6,c.length-2);i.add(m)}if(c&&c.startsWith("url(")){var b=c.substring(6,c.length-2);
a.add(b)}}var g=!0,p=!1,y=void 0;try{for(var x=void 0,_=this.artboards.querySelectorAll("linearGradient, radialGradient")[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){
var w=x.value;n.has(w.id)===!1&&w.remove()}}catch(S){p=!0,y=S}finally{try{g||null==_["return"]||_["return"]();
}finally{if(p)throw y}}var M=!0,C=!1,R=void 0;try{for(var k=void 0,E=this.artboards.querySelectorAll("pattern[href]")[Symbol.iterator]();!(M=(k=E.next()).done);M=!0){
var A=k.value;n.has(A.id)===!1&&A.remove()}}catch(P){C=!0,R=P}finally{try{M||null==E["return"]||E["return"]();
}finally{if(C)throw R}}var T=!0,L=!1,$=void 0;try{for(var j=void 0,N=this.artboards.querySelectorAll("filter")[Symbol.iterator]();!(T=(j=N.next()).done);T=!0){
var O=j.value;r.has(O.id)===!1&&O.remove()}}catch(V){L=!0,$=V}finally{try{T||null==N["return"]||N["return"]();
}finally{if(L)throw $}}var z=!0,D=!1,G=void 0;try{for(var I=void 0,B=this.artboards.querySelectorAll("clipPath, clippath")[Symbol.iterator]();!(z=(I=B.next()).done);z=!0){
var U=I.value;i.has(U.id)===!1&&U.remove()}}catch(H){D=!0,G=H}finally{try{z||null==B["return"]||B["return"]();
}finally{if(D)throw G}}var F=!0,q=!1,W=void 0;try{for(var Y=void 0,X=this.artboards.querySelectorAll("mask")[Symbol.iterator]();!(F=(Y=X.next()).done);F=!0){
var Z=Y.value;a.has(Z.id)===!1&&Z.remove()}}catch(K){q=!0,W=K}finally{try{F||null==X["return"]||X["return"]();
}finally{if(q)throw W}}this._googleFontsManager.deportUnsusedFamilies()},zoomBy:function(){
var e=void 0!==arguments[0]?arguments[0]:.3,t=this["#svg"].getScreenCTM(),n=t.inverse(),r=new SVGPoint(this.matches(":hover")?body.mouseClientX:this.clientWidth/2,this.matches(":hover")?body.mouseClientY:this.clientHeight/2),i=r.matrixTransform(n);
this._zoom=g(this._zoom+this._zoom*e,T,L,3),this._scrollX=i.x-r.x/this.scale,this._scrollY=i.y-r.y/this.scale,
this["#svg"].viewBox.baseVal.width=j/this.scale,this["#svg"].viewBox.baseVal.height=N/this.scale,
this["#svg"].viewBox.baseVal.x=this._scrollX,this["#svg"].viewBox.baseVal.y=this._scrollY,
this._updateDropShadow(),this.dispatchEvent(new CustomEvent("zoomchange"))},zoomToFitAll:function(){
var e=this.currentArtboard.getBBox();this._zoomToArea(e.x,e.y,e.width,e.height,30);
},zoomToCurrentArtboardViewBox:function(){this._zoomToArea(this.currentArtboard.viewBox.x,this.currentArtboard.viewBox.y,this.currentArtboard.viewBox.width,this.currentArtboard.viewBox.height,30);
},zoomToCurrentArtboardViewBoxWidth:function(){this._zoomToArea(this.currentArtboard.viewBox.x,this.currentArtboard.viewBox.y+this.currentArtboard.viewBox.height/2,this.currentArtboard.viewBox.width,0,30);
},zoomToCurrentArtboardViewBoxHeight:function(){this._zoomToArea(this.currentArtboard.viewBox.x+this.currentArtboard.viewBox.width/2,this.currentArtboard.viewBox.y,0,this.currentArtboard.viewBox.height,30);
},_zoomToArea:function(e,t,n,r){var i=void 0!==arguments[4]?arguments[4]:0,a={width:window.innerWidth,
height:window.innerHeight},o=100*k(a.width/n,a.height/r);i=100*i/o,o=100*k(a.width/(n+i),a.height/(r+i)),
o=g(o,T,L,3),this._zoom=o;var s=a.width/this.scale,l=a.height/this.scale,u=e-(s-n)/2,c=t-(l-r)/2;
this._scrollX=u,this._scrollY=c,this["#svg"].viewBox.baseVal.width=j/this.scale,this["#svg"].viewBox.baseVal.height=N/this.scale,
this["#svg"].viewBox.baseVal.x=this._scrollX,this["#svg"].viewBox.baseVal.y=this._scrollY,
this._updateDropShadow(),this.dispatchEvent(new CustomEvent("zoomchange"))},resetZoom:function(){
var e=(100-this._zoom)/this._zoom;this.zoomBy(e)},selectAll:function(){if(this.textInputMode&&this.selectedTextRange){
var e=x(this.selectedTextRange.startContainer,"text"),t=new Range;t.selectNodeContents(e),
this.selectedTextRange=t}else{var n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this.currentArtboard.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;f(l)&&n.push(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}this.selectedElements=$traceurRuntime.spread(n)}},grabColor:function(){
var e=this;return new Promise(function(t){var n=e["#svg"].cloneNode(!0),r=y('\n        <rect\n          x="'+e.currentArtboard.viewBox.x+'"\n          y="'+e.currentArtboard.viewBox.y+'"\n          width="'+e.currentArtboard.viewBox.width+'"\n          height="'+e.currentArtboard.viewBox.height+'"\n          style="fill: none; stroke: #646464; stroke-width: 1; vector-effect: non-scaling-stroke;">\n        </rect>\n      ');
n.appendChild(r),n.setAttribute("xmlns",s),n.setAttribute("xmlns:xlink",l),n.style.background=e["#main"].style.background;
var i=new Blob([n.outerHTML],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(i),o=new Image;
o.src=a,o.addEventListener("load",function(){var n=document.createElement("canvas"),r=e["#svg"].getBoundingClientRect();
n.width=r.width,n.height=r.height,n.setAttribute("style","\n          position: absolute;\n          top: "+r.top+"px;\n          left: "+r.left+"px;\n          background: white;\n        ");
var i=n.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,1e3,1e3),i.drawImage(o,0,0),
e.after(n);var s,l,u,c;n.addEventListener("mouseenter",s=function(e){c=body.registerCursor("crosshair",0);
}),n.addEventListener("mouseleave",l=function(e){body.unregisterCursor(c)}),n.addEventListener("click",u=function(o){
n.removeEventListener("click",u),n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",l),
body.unregisterCursor(c),n.remove();var d=o.clientX-r.x,h=o.clientY-r.y,v=e["#svg"].clientWidth,f=e["#svg"].clientHeight,m=i.getImageData(d,h,v,f),b=m.data[0],p=m.data[1],y=m.data[2],x=g(m.data[3]/255,0,1,2),_="rgba("+b+", "+p+", "+y+", "+x+")";
URL.revokeObjectURL(a),t(_)})})})},getHitArtboardElements:function(e,t){var n,r,i=[],a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=V[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=(n=c[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),v=(r=n.next()).done?void 0:r.value,f=this.shadowRoot.elementFromPoint(e+d,t+v);
if(f){if("tspan"===f.localName||"textPath"===f.localName)f=x(f,"text");else if("a"===f.localName){
var m=x(f,"text");m&&(f=m)}!i.includes(f)&&this.currentArtboard.contains(f)&&i.push(f);
}}}catch(b){o=!0,s=b}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}return h(i)},generateUniqueID:function(e){for(var t=void 0!==arguments[1]?arguments[1]:null,n=0;;){
n+=1;var r=e+"-"+n;if(!this["#artboards"].querySelector("#"+r)){if(!t)return r;if(!t.querySelector("#"+r))return r;
}}},_onTextInputModeChange:function(){this._textInputMode===!0?(this["#main"].setAttribute("contenteditable",""),
this["#main"].focus(),body.bridge.postMessage("toggleTextInputMode",!0)):(this._textInputMode=!1,
this["#main"].removeAttribute("contenteditable"),body.bridge.postMessage("toggleTextInputMode",!1));
},_onArtboardMutation:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this.dispatchEvent(new CustomEvent("artboardmutation",{detail:o})),
"childList"===o.type&&o.target===this["#artboards"]&&this._onCurrentArtboardChange();
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}},_onCurrentArtboardChange:function(){this.dispatchEvent(new CustomEvent("currentartboardchange")),
this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
},_onMouseDown:function(e){1===e.button&&this._onMiddleMouseButtonDown(e)},_onMiddleMouseButtonDown:function(e){
var t,n,r=this,i=e.clientX,a=e.clientY;window.addEventListener("mousemove",t=function(e){
var t=e.clientX-i,n=e.clientY-a;i=e.clientX,a=e.clientY,r._scrollX=r._scrollX-t/r.scale,
r._scrollY=r._scrollY-n/r.scale,r["#svg"].viewBox.baseVal.width=j/r.scale,r["#svg"].viewBox.baseVal.height=N/r.scale,
r["#svg"].viewBox.baseVal.x=r._scrollX,r["#svg"].viewBox.baseVal.y=r._scrollY}),window.addEventListener("mouseup",n=function(){
window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n);
})},_onMouseWheel:function(e){var t=g(e.wheelDeltaX,-$,$,1),n=g(e.wheelDeltaY,-$,$,1);
if(!e.metaKey&&!e.ctrlKey||e.altKey||e.shiftKey)this._scrollX=this._scrollX-t/this.scale,
this._scrollY=this._scrollY-n/this.scale,this["#svg"].viewBox.baseVal.width=j/this.scale,
this["#svg"].viewBox.baseVal.height=N/this.scale,this["#svg"].viewBox.baseVal.x=this._scrollX,
this["#svg"].viewBox.baseVal.y=this._scrollY;else{var r=body.modKeys.ctrl?100:500,i=n/r;
this.zoomBy(i)}e.preventDefault()},_onScroll:function(e){this["#main"].scrollTop=0,
this["#main"].scrollLeft=0,this["#main"].scrollIntoView()},_onClick:function(e){e.target.closest("a")&&e.preventDefault();
},_onUndoManagerUndoOrRedo:function(e){var t=this,n=e.detail,r=n.addedNodes,i=n.removedNodes,a=n.modifiedNodes,o=new Set(this.selectedElements),s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;
o.add(h)}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{
if(l)throw u}}var m=!0,b=!1,g=void 0;try{for(var p=void 0,y=a[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var x=p.value;o.add(x)}}catch(_){b=!0,g=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}var w=!0,S=!1,M=void 0;try{for(var C=void 0,R=i[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var k=C.value;o["delete"](k)}}catch(E){S=!0,M=E}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw M}}o=$traceurRuntime.spread(o).filter(function(e){return f(e)&&t.currentArtboard.contains(e)&&null===e.closest("defs")&&t.currentArtboard!==e;
}),this.currentContainer=null,this.selectedElements=o},_onUndoManagerPositionChange:function(e){
body.bridge.postMessage("setChangeCounter",e.detail)},_onDragOver:function(e){e.preventDefault();
},_onDrop:function(e){var t=this;e.preventDefault();var i=e.dataTransfer.files,o=e.dataTransfer.getData("bx-symbolslistitem/symbolID");
if(i.length>0){var s=!0,l=!1,u=void 0;try{for(var d=void 0,h=i[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value,f=v.name.substring(v.name.lastIndexOf(".")+1).toLowerCase();if("image/svg+xml"===v.type||"text/html"===v.type)if("svgz"===f){
var m=new FileReader;m.readAsArrayBuffer(v),m.addEventListener("load",function(e){
var i=new Uint8Array(e.target.result),a=n(i);if(a){var o=r(a,t.geometryPrecision);
o&&(t.undoManager.checkpoint("Paste"),t.insertArtwork(o))}})}else{var b=new FileReader;
b.readAsText(v,"UTF-8"),b.addEventListener("load",function(e){var n=r(e.target.result,t.geometryPrecision);
n&&(t.undoManager.checkpoint("Paste"),t.insertArtwork(n))})}else if(["image/png","image/jpeg","image/webp","image/gif"].includes(v.type)){
var g=new FileReader;g.readAsDataURL(v),g.addEventListener("load",function(e){var n=e.target.result;
n&&(t.undoManager.checkpoint("Paste"),t.insertBitmap(n))})}}}catch(p){l=!0,u=p}finally{
try{s||null==h["return"]||h["return"]()}finally{if(l)throw u}}}else if(o){if("symbol"===this.currentArtboard.contentType&&this.currentArtboard.id===o)return void e.preventDefault();
this.undoManager.checkpoint("Create symbol reference");var y=this.currentContainer||this.currentArtboard,x=this.masterArtboard.querySelector("#"+o),_=c("svg:use");
_.setAttribute("href","#"+o),x.hasAttribute("viewBox")&&(_.setAttribute("width",x.viewBox.baseVal.width),
_.setAttribute("height",x.viewBox.baseVal.height)),y.append(_);var w=_.getScreenCTM().inverse(),S=SVGMatrix.fromMatrix(_.transform.baseVal.consolidate().matrix);
S.multiplySelf(w),_.setAttribute("transform",S.toString());var M=a(_);_.setAttribute("x",e.clientX-M.width/2),
_.setAttribute("y",e.clientY-M.height/2),this.selectedElements=[_]}},_updateDropShadow:function(){
this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,
this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;
},_getIdsReferencedByElementsAndTheirDescendants:function(e){e=h(e);var t=new Set,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=!0,u=!1,c=void 0;
try{for(var d=void 0,v=this._getIdsReferencedByElementAndItsDescendants(s)[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){
var f=d.value;t.add(f)}}catch(m){u=!0,c=m}finally{try{l||null==v["return"]||v["return"]();
}finally{if(u)throw c}}}}catch(b){r=!0,i=b}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return $traceurRuntime.spread(t)},_getIdsReferencedByElementAndItsDescendants:function(e){
var t=this,n=new Set,r=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],i=function(e){
for(var a=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o=null;o=a.nextNode();){
var s=getComputedStyle(o),l=!0,u=!1,c=void 0;try{for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value,f=s.getPropertyValue(v);if(f&&f.startsWith('url("#')){var m=f.substring(6,f.length-2);
if(n.has(m)===!1){n.add(m);var b=t.currentArtboard.querySelector("#"+m);b||t.currentArtboard===t.masterArtboard||(b=t.masterArtboard.querySelector("#"+m)),
b&&i(b)}else n.add(m)}}}catch(g){u=!0,c=g}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(o.href&&"#"===o.href.baseVal[0]){var p=o.href.baseVal.substring(1,o.href.baseVal.length);
if(n.has(p)===!1){n.add(p);var y=t.currentArtboard.querySelector("#"+p);y||t.currentArtboard===t.masterArtboard||(y=t.masterArtboard.querySelector("#"+p)),
y&&i(y)}else n.add(p)}}};return i(e),$traceurRuntime.spread(n)}},{},o)}(HTMLElement),G=d("bx-canvas",D);
return{get MIN_ZOOM(){return T},get MAX_ZOOM(){return L},get default(){return G}};
}),$traceurRuntime.registerModule("elements/bx-checkbox",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-checkbox")),t=e.createElement,n=e.registerElement,r="images/icons.svg#checkbox-on",i="images/icons.svg#checkbox-off",a='\n  <style>@import url("stylesheets/bx-checkbox.css");</style>\n\n  <main>\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100">\n      <use id="icon-use" x="0" y="0" width="100%" height="100%"></use>\n    </svg>\n\n    <label id="label"></label>\n  </main>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=a;var t=!0,n=!1,r=void 0;try{for(var i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this._updateIcon(),this.addEventListener("click",function(t){
return e._onClick(t)}),this.addEventListener("keydown",function(t){return e._onKeyDown(t);
})},attributeChangedCallback:function(e){"label"===e?this._onLabelAttributeChange():"checked"===e&&this._onCheckedAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get checked(){return this.hasAttribute("checked")},
set checked(e){e?this.setAttribute("checked",""):this.removeAttribute("checked")},
get mixed(){return this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onCheckedAttributeChange:function(){
this._updateIcon()},_onClick:function(e){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change"));
},_onKeyDown:function(e){13===e.keyCode&&(this.checked=!this.checked)},_updateIcon:function(){
this["#icon-use"].remove(),this["#icon-use"]=t("svg:use"),this["#icon"].append(this["#icon-use"]),
this.checked?this["#icon-use"].setAttribute("href",r):this["#icon-use"].setAttribute("href",i);
}},{},e)}(HTMLElement),s=n("bx-checkbox",o);return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-colorpicker",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-alphaslider","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-hueslider","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-satlightslider","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-colorpicker"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/color","elements/bx-colorpicker"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-colorpicker")),n=t.isValidColorString,r=t.parseColor,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-colorpicker")).registerElement,a="hex",o='\n  <style>\n    @import url("stylesheets/bx-colorpicker.css");\n  </style>\n\n  <main>\n    <bx-hueslider id="hue-slider"></bx-hueslider>\n    <bx-satlightslider id="satlight-slider"></bx-satlightslider>\n    <bx-alphaslider id="alpha-slider"></bx-alphaslider>\n\n    <div>\n      <bx-input id="color-input" title="Color"></bx-input>\n\n      <bx-button\n        id="grab-color-button"\n        title="Grab color"\n        icon="grab-color"\n        iconsize="25"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </main>\n',s=function(t){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this._isDraggingSlider=!1,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=o;var t=!0,r=!1,i=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){
var l=a.value;this["#"+l.id]=l}}catch(u){r=!0,i=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(r)throw i}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this.hasAttribute("value")||this.attributeChangedCallback("value"),
this["#hue-slider"].addEventListener("markerdragstart",function(){return e._onHueSliderDragStart();
}),this["#satlight-slider"].addEventListener("markerdragstart",function(){return e._onSatlightSliderDragStart();
}),this["#alpha-slider"].addEventListener("markerdragstart",function(){return e._onAlphaSliderDragStart();
}),this["#grab-color-button"].addEventListener("click",function(t){return e._onGrabColorButtonClick(t);
}),this["#color-input"].addEventListener("change",function(){return e._onColorInputChange(event);
}),this["#color-input"].validate=function(e){return n(e)}},attributeChangedCallback:function(e){
"value"===e&&this._onValueAttributeChange()},get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";
},set value(e){this.setAttribute("value",e)},get mixed(){this["#color-input"].mixed;
},set mixed(e){this["#color-input"].mixed=e},get hidegrabber(){return this.hasAttribute("disablegrabber");
},set hidegrabber(e){e?this.setAttribute("hidegrabber",""):this.removeAttribute("hidegrabber");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){if(this._isDraggingSlider===!1){var e=r(this.value,"hsla");
this["#hue-slider"].hue=e.h,this["#satlight-slider"].hue=e.h,this["#satlight-slider"].saturation=e.s,
this["#satlight-slider"].lightness=e.l,this["#alpha-slider"].color=this.value,this["#alpha-slider"].alpha=e.a,
this["#color-input"].value=e.toString(a)}},_onHueSliderDragStart:function(){var e=this;
this._isDraggingSlider=!0;var t,n,i=r(this.value,"hsla");this.dispatchEvent(new CustomEvent("changestart")),
this["#hue-slider"].addEventListener("markerdrag",t=function(t){i.h=e["#hue-slider"].hue,
e.value=i.toString("rgba"),e["#satlight-slider"].hue=e["#hue-slider"].hue,e["#alpha-slider"].color=e.value,
e["#color-input"].value=i.toString(a),e.dispatchEvent(new CustomEvent("change"))}),
this["#hue-slider"].addEventListener("markerdragend",n=function(){e["#hue-slider"].removeEventListener("markerdrag",t),
e["#hue-slider"].removeEventListener("markerdragend",n),e._isDraggingSlider=!1,e.dispatchEvent(new CustomEvent("changeend"));
})},_onSatlightSliderDragStart:function(){var t=this;this._isDraggingSlider=!0;var n,r,i=new e(this["#hue-slider"].hue,50,50,this["#alpha-slider"].alpha,"hsla");
this.dispatchEvent(new CustomEvent("changestart")),this["#satlight-slider"].addEventListener("markerdrag",n=function(){
i.s=t["#satlight-slider"].saturation,i.l=t["#satlight-slider"].lightness,t.value=i.toString("rgba"),
t["#alpha-slider"].color=t.value,t["#color-input"].value=i.toString(a),t.dispatchEvent(new CustomEvent("change"));
}),this["#satlight-slider"].addEventListener("markerdragend",r=function(){t["#satlight-slider"].removeEventListener("markerdrag",n),
t["#satlight-slider"].removeEventListener("markerdragend",r),t._isDraggingSlider=!1,
t.dispatchEvent(new CustomEvent("changeend"))})},_onAlphaSliderDragStart:function(){
var e=this;this._isDraggingSlider=!0;var t,n,i=r(this.value,"hsla");this.dispatchEvent(new CustomEvent("changestart")),
this["#alpha-slider"].addEventListener("markerdrag",t=function(t){i.a=t.detail,e.value=i.toString("rgba"),
e["#color-input"].value=i.toString(a),e.dispatchEvent(new CustomEvent("change"))}),
this["#alpha-slider"].addEventListener("markerdragend",n=function(){e["#alpha-slider"].removeEventListener("markerdrag",t),
e["#alpha-slider"].removeEventListener("markerdragend",n),e._isDraggingSlider=!1,
e.dispatchEvent(new CustomEvent("changeend"))})},_onColorInputChange:function(){this.dispatchEvent(new CustomEvent("changestart")),
this.value=this["#color-input"].value,this.dispatchEvent(new CustomEvent("change")),
this.dispatchEvent(new CustomEvent("changeend"))},_onGrabColorButtonClick:function(){
var e;return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){case 0:
this["#grab-color-button"].pressed=!0,t.state=5;break;case 5:return void Promise.resolve(body.canvas.grabColor()).then(t.createCallback(3),t.errback);
case 3:e=t.value,t.state=2;break;case 2:this["#grab-color-button"].pressed=!1,this.dispatchEvent(new CustomEvent("changestart")),
this.value=e,this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend")),
t.state=-2;break;default:return t.end()}},this)}},{},t)}(HTMLElement),l=i("bx-colorpicker",s);
return{get default(){return l}}}),$traceurRuntime.registerModule("elements/bx-colorselect",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-colorpicker","elements/bx-colorselect"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-colorselect")).registerElement,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-colorselect")).sleep,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-colorselect"))["default"],
Number.parseFloat,Object.values,'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-colorselect.css");\n  </style>\n\n  <div id="button">\n    <div id="preview">\n      <div id="preview-inner">\n      </div>\n    </div>\n  </div>\n\n  <div id="overlay"></div>\n\n  <div id="popup" style="visibility: hidden"">\n    <bx-colorpicker id="color-picker" color="#ffffff" hidegrabber></bx-colorpicker>\n  </div>\n'),n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=t;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#button"].addEventListener("mousedown",function(t){
return e._onButtonMousedown(t)}),this["#overlay"].addEventListener("mousedown",function(t){
return e._onOverlayMouseDown(t)}),this["#color-picker"].addEventListener("change",function(t){
return e._onColorPickerChange(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"opened"===e?this._onOpenedAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";
},set value(e){this.setAttribute("value",e)},get opened(){return this.hasAttribute("opened");
},set opened(e){e?this.setAttribute("opened",""):this.removeAttribute("opened")},
get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){this["#preview-inner"].style.background=this.value,
this["#color-picker"].value!==this.value&&(this["#color-picker"].value=this.value);
},_onDisabledAttributeChange:function(){this.tabIndex=this.disabled?-1:0},_onOpenedAttributeChange:function(){
this.opened?this._onOpened():this._onClosed()},_onOpened:function(){var e=this;window.addEventListener("blur",this._blurListener=function(){
return e.opened=!1}),window.addEventListener("resize",this._resizeListener=function(){
return e.opened=!1}),this["#overlay"].style.display="block",this["#popup"].style.visibility="visible",
this["#popup"].style.pointerEvents="all";var t=this["#button"].getBoundingClientRect();
this["#popup"].style.top=t.y+t.height+5+"px",this["#popup"].style.left=t.x-1+"px";
},_onClosed:function(){window.removeEventListener("blur",this._blurListener),window.removeEventListener("resize",this._resizeListener),
this["#overlay"].style.display="none",this["#popup"].style.visibility="hidden"},_onOverlayMouseDown:function(e){
this.opened=!1},_onButtonMousedown:function(e){0===e.button&&(this.opened=!0)},_onColorPickerChange:function(){
this.value=this["#color-picker"].value,this.dispatchEvent(new CustomEvent("change"));
}},{},e)}(HTMLElement),r=e("bx-colorselect",n);return{get default(){return r}}}),
$traceurRuntime.registerModule("elements/bx-compositingcontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-compositingcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-compositingcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-compositingcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-compositingcontrols")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-compositingcontrols")).round,r=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-compositingcontrols")).getDefFromURL,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-compositingcontrols")).queryStylableElements),i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-compositingcontrols")).throttle,a=Number.parseFloat,o='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-compositingcontrols.css");\n  </style>\n\n  <section id="opacity-section">\n    <h2 id="opacity-section-heading">Opacity</h2>\n\n    <bx-slider\n      id="opacity-slider"\n      title="Opacity"\n      value="1"\n      min="0"\n      max="1"\n      precision="2">\n    </bx-slider>\n  </section>\n\n  <section id="blend-mode-section">\n    <h2 id="blend-mode-section-heading">Blend Mode</h2>\n\n    <bx-select id="blend-mode-select" value="normal">\n      <bx-selectitem value="normal" label="Normal"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="darken" label="Darken"></bx-selectitem>\n      <bx-selectitem value="multiply" label="Multiply"></bx-selectitem>\n      <bx-selectitem value="color-burn" label="Color Burn"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="lighten" label="Lighten"></bx-selectitem>\n      <bx-selectitem value="screen" label="Screen"></bx-selectitem>\n      <bx-selectitem value="color-dodge" label="Color Dodge"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="overlay" label="Overlay"></bx-selectitem>\n      <bx-selectitem value="soft-light" label="Soft Light"></bx-selectitem>\n      <bx-selectitem value="hard-light" label="Hard Light"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="difference" label="Difference"></bx-selectitem>\n      <bx-selectitem value="exclusion" label="Exclusion"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="hue" label="Hue"></bx-selectitem>\n      <bx-selectitem value="saturation" label="Saturation"></bx-selectitem>\n      <bx-selectitem value="color" label="Color"></bx-selectitem>\n      <bx-selectitem value="luminosity" label="Luminosity"></bx-selectitem>\n    </bx-select>\n\n    <bx-checkbox label="Isolate" id="isolate-checkbox"></bx-checkbox>\n  </section>\n',s=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=i(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=o;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){
var l=a.value;this["#"+l.id]=l}}catch(u){n=!0,r=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return e._onOpacitySliderChangeStart()}),this["#blend-mode-select"].addEventListener("change",function(){
return e._onBlendModeSelectChange()}),this["#isolate-checkbox"].addEventListener("change",function(){
return e._onIsolateCheckboxChange()})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onOpacitySliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Opacity");var t,n,i=body.canvas.selectedElements,a=r("opacity",i);
a[0]||null;this._isChangingOpacitySlider=!0,this["#opacity-slider"].addEventListener("change",t=function(){
var t=!0,n=!1,r=void 0;try{for(var i=void 0,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;s.style.opacity=e["#opacity-slider"].value}}catch(l){n=!0,r=l}finally{
try{t||null==o["return"]||o["return"]()}finally{if(n)throw r}}e["#opacity-slider"].mixed=!1;
}),this["#opacity-slider"].addEventListener("changeend",n=function(){e["#opacity-slider"].removeEventListener("change",t),
e["#opacity-slider"].removeEventListener("changeend",n),e._isChangingOpacitySlider=!1;
})},_onBlendModeSelectChange:function(){body.canvas.undoManager.checkpoint("Blend mode");
var e=r("mix-blend-mode",body.canvas.selectedElements),t=!0,n=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;s.style.mixBlendMode=this["#blend-mode-select"].value}}catch(l){n=!0,
i=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(n)throw i}}},_onIsolateCheckboxChange:function(){
body.canvas.undoManager.checkpoint("Isolate");var e=r("isolation",body.canvas.selectedElements),t=!0,n=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;
this["#isolate-checkbox"].checked?s.style.isolation="isolate":s.style.isolation="auto";
}}catch(l){n=!0,i=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(n)throw i;
}}},_update:function(){this._updateOpacitySection(),this._updateBlendModeSection();
},_updateOpacitySection:function(){if(!this._isChangingOpacitySlider){var e=r("opacity",body.canvas.selectedElements),t=e[0]||null;
if(null===t)this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;else{
this["#opacity-slider"].disabled=!1;var i=n(a(getComputedStyle(t).opacity),2),o=!1,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;
if(h!==t){var v=n(a(getComputedStyle(h).opacity),2);v!==i&&(o=!0)}}}catch(f){l=!0,
u=f}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this["#opacity-slider"].value=i,
this["#opacity-slider"].mixed=o}this["#opacity-section-heading"].disabled=this["#opacity-slider"].disabled;
}},_updateBlendModeSection:function(){var e=r("mix-blend-mode",body.canvas.selectedElements),t=e[0]||null;
if(null===t)this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,
this["#blend-mode-select"].mixed=!1;else{var n=!1,i=getComputedStyle(t).mixBlendMode,a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
if(c!==t){var d=getComputedStyle(c).mixBlendMode;if(d!==i){n=!0;break}}}}catch(h){
o=!0,s=h}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}this["#blend-mode-select"].value=getComputedStyle(t).mixBlendMode,
this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=n}if(null===t)this["#isolate-checkbox"].disabled=!0,
this["#isolate-checkbox"].checked=!1,this["#isolate-checkbox"].mixed=!1;else{var v=getComputedStyle(t).isolation,f=!1,m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=e[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){var x=p.value;
if(x!==t){var _=getComputedStyle(x).isolation;if(_!==v){f=!0;break}}}}catch(w){b=!0,
g=w}finally{try{m||null==y["return"]||y["return"]()}finally{if(b)throw g}}this["#isolate-checkbox"].disabled=!1,
this["#isolate-checkbox"].checked="isolate"===v,this["#isolate-checkbox"].mixed=f;
}this["#blend-mode-section-heading"].disabled=this["#blend-mode-select"].disabled&&this["#isolate-checkbox"].disabled;
}},{},e)}(HTMLElement),l=t("bx-compositingcontrols",s);return{get default(){return l;
}}}),$traceurRuntime.registerModule("elements/bx-contextmenu",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-contextmenu")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-contextmenu")).closestShadowRoot,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-contextmenu"))["default"];
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menu","elements/bx-contextmenu"));
var r='\n  <style>@import url("stylesheets/bx-contextmenu.css");</style>\n  <div id="overlay" hidden></div>\n\n  <bx-menu id="root-menu">\n    <content></content>\n  </bx-menu>\n',i=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=r;var t=!0,n=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,i=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw i}}this.addEventListener("menuitemtrigger",function(t){return e._close();
}),this["#overlay"].addEventListener("mousedown",function(t){return e._onOverlayMouseDown(t);
}),this["#root-menu"].addEventListener("mousedown",function(t){return e._onRootMenuMouseDown(t);
}),$traceurRuntime.spread([this["#root-menu"]],this.querySelectorAll("bx-menu")).forEach(function(t){
t.menuWillShow=function(){return e.menuWillShow(t)},t.menuItemWillTrigger=function(t){
return e.menuItemWillTrigger(t)}})},menuWillShow:function(e){return Promise.resolve();
},menuItemWillTrigger:function(e){return Promise.resolve()},open:function(e,t){var n=this;
this["#root-menu"].openAtPosition(e,t),this["#overlay"].hidden=!1,window.addEventListener("keydown",this._keyDownListener=function(e){
return n._onKeyDown(e)},!0),window.addEventListener("resize",this._resizeListener=function(){
return n._close()}),window.addEventListener("blur",this._blurListener=function(){
return n._close()})},_close:function(){this["#root-menu"].close(),this["#overlay"].hidden=!0,
window.removeEventListener("keydown",this._keyDownListener,!0),window.removeEventListener("resize",this._resizeListener),
window.removeEventListener("blur",this._blurListener),this.blur()},_onOverlayMouseDown:function(e){
event.preventDefault(),this._close()},_onRootMenuMouseDown:function(e){e.preventDefault();
},_onKeyDown:function(e){var r=n.fromEvent(e);if(r.matches("ArrowUp")||r.matches("ArrowDown")){
var i=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),a=i.length>0?i[i.length-1]:null,o=this["#root-menu"],s=this.querySelectorAll("bx-menu[opened]"),l=$traceurRuntime.spread([o],s);
if(e.stopPropagation(),e.preventDefault(),a){var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=l[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;f.items.includes(a)&&(r.matches("ArrowUp")?f.highlightPreviousItem():f.highlightNextItem());
}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}}else{var b=l.length>0?l[l.length-1]:null;b&&(r.matches("ArrowUp")?b.highlightPreviousItem():b.highlightNextItem());
}}else if(r.matches("ArrowLeft")){var g=this.querySelectorAll("bx-menu[opened]");if(e.stopPropagation(),
e.preventDefault(),g.length>0){var p=g[g.length-1];p.items.find(function(e){return e.highlighted;
})&&p.highlightItem(null)}}else if(r.matches("ArrowRight")){var y=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),x=y.length>0?y[y.length-1]:null,_=x?x.querySelector("bx-menu"):null;
if(e.stopPropagation(),e.preventDefault(),_){var w=_.getBoundingClientRect(),S=x.getBoundingClientRect(),M=w.x+w.width/2,C=S.y+S.height/2,R=t(this).elementFromPoint(M,C);
R.disabled?_.highlightNextItem(R):_.highlightItem(R)}}else if(r.matches("Enter")){
var k=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),E=k.length>0?k[k.length-1]:null;
if(e.stopPropagation(),e.preventDefault(),E){if(!E.querySelector("bx-menu")){var A=this["#root-menu"],P=this.querySelectorAll("bx-menu[opened]"),T=$traceurRuntime.spread([A],P),L=!0,$=!1,j=void 0;
try{for(var N=void 0,O=T[Symbol.iterator]();!(L=(N=O.next()).done);L=!0){var V=N.value;
if(V.items.includes(E)){V.triggerItem(E);break}}}catch(z){$=!0,j=z}finally{try{L||null==O["return"]||O["return"]();
}finally{if($)throw j}}}}else this._close()}else null!==r.base&&this._close()}},{},e);
}(HTMLElement),a=e("bx-contextmenu",i);return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-cubicbeziertool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-cubicbeziertool")).registerElement,t=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-cubic-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-cubic-segs-hud");
}},{},e)}(HTMLElement),n=e("bx-cubicbeziertool",t);return{get default(){return n}
}}),$traceurRuntime.registerModule("elements/bx-cubicsegsdrawhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-cubicsegsdrawhud"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-cubicsegsdrawhud"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-cubicsegsdrawhud"))["default"],r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-cubicsegsdrawhud")),i=r.createElement,a=r.registerElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-cubicsegsdrawhud")).round,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-cubicsegsdrawhud")).reversePath,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-cubicsegsdrawhud")).getTransformToElement,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-cubicsegsdrawhud")).reduceTransform;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-cubicsegsketch","elements/bx-cubicsegsdrawhud"));
var c=10,d=new e("path"),h='\n  <style>@import url("stylesheets/bx-cubicsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-cubicsegsketch"></g>\n',v=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=h;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var v=c.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._mode="select",this._currentPath=null,window.addEventListener("keydown",this._keyDownListener=function(t){
e._onKeyDown(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.artboards.addEventListener("mousedown",this._canvasMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),this["#node-grippies"].addEventListener("mousedown",this._nodeGrippiesMouseDownListener=function(t){
e._onNodeGrippieMouseDown(t)}),this._onSelectedElementsChange()},_onDisabled:function(){
window.removeEventListener("keydown",this._keyDownListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.artboards.removeEventListener("mousedown",this._canvasMouseDownListener),
this["#node-grippies"].removeEventListener("mousedown",this._nodeGrippiesMouseDownListener),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(e){var t=e.detail;if("childList"===t.type){var n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t.removedNodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;(s===this._currentPath||s.contains(this._currentPath))&&(this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies())}}catch(l){
r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}}else(t.target===this._currentPath||t.target.contains(this._currentPath))&&this._updateNodeGrippies();
},_onArtboardMouseDown:function(e){var t,r,i=this,a=new SVGPoint(e.clientX,e.clientY),o=0;
window.addEventListener("mousemove",t=function(e){var t=new SVGPoint(e.clientX,e.clientY),r=new n(a,t).length;
r>o&&(o=r)}),window.addEventListener("mouseup",r=function(n){window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",r),i._onArtboardClick(e,n),4>o&&i._onArtboardDirectClick(e,n);
})},_onArtboardClick:function(e){var t;if("draw-forward"===this._mode){var n=this._currentPath.getPathData({
normalize:!0}),r=$traceurRuntime.spread(n),i=body.canvas.geometryPrecision;r.length>1&&body.canvas.undoManager.checkpoint("Draw path segment"),
this["#seg-sketch"].curved?r.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):r.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
});var a=!0,s=!1,l=void 0;try{for(var u=void 0,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){
var d=u.value;d.values=d.values.map(function(e){return o(e,i)})}}catch(h){s=!0,l=h;
}finally{try{a||null==c["return"]||c["return"]()}finally{if(s)throw l}}this._currentPath.setPathData(r);
}else if("draw-backward"===this._mode){body.canvas.undoManager.checkpoint("Draw path segment");
var v=body.canvas.geometryPrecision,f=this._currentPath.getPathData({normalize:!0
}),m=[];m.push({type:"M",values:[this["#seg-sketch"].startPoint.x,this["#seg-sketch"].startPoint.y]
}),this["#seg-sketch"].curved?m.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):m.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),(t=m).push.apply(t,$traceurRuntime.spread(f.slice(1)));var b=!0,g=!1,p=void 0;try{
for(var y=void 0,x=m[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){var _=y.value;
_.values=_.values.map(function(e){return o(e,v)})}}catch(w){g=!0,p=w}finally{try{
b||null==x["return"]||x["return"]()}finally{if(g)throw p}}this._currentPath.setPathData(m);
}},_onArtboardDirectClick:function(e){var t=e,n=t.clientX,r=t.clientY;if("select"===this._mode){
body.canvas.undoManager.checkpoint("Draw path segment");var a=i("svg:path");a.style.stroke="black",
a.style.fill="none";var s=body.canvas.currentContainer||body.canvas.currentArtboard;
s.append(a);var l=a.getScreenCTM().inverse(),u=new SVGPoint(n,r).matrixTransform(l),c=u.x,d=u.y,h=body.canvas.geometryPrecision,v=[{
type:"M",values:[c,d]}],f=!0,m=!1,b=void 0;try{for(var g=void 0,p=v[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){
var y=g.value;y.values=y.values.map(function(e){return o(e,h)})}}catch(x){m=!0,b=x;
}finally{try{f||null==p["return"]||p["return"]()}finally{if(m)throw b}}a.setPathData(v),
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[a]),
this._mode="draw-forward",this._currentPath=a,this["#seg-sketch"].show(a,"end")}},
_onNodeGrippieMouseDown:function(e){var t,n,r=this,i=e.target;this["#node-grippies"].addEventListener("mouseup",t=function(e){
r["#node-grippies"].removeEventListener("mouseup",t),window.removeEventListener("mouseup",n);
var a=e.target,o=r._onNodeGrippieClick(i,e);i!==a||o||r._onNodeGrippieDirectClick(i,e);
}),window.addEventListener("mouseup",n=function(e){r["#node-grippies"].removeEventListener("mouseup",t),
window.removeEventListener("mouseup",n),r._onNodeGrippieClick(i,e)})},_onNodeGrippieClick:function(e,t){
var n,r,i,a;if("select"===this._mode)return!1;if(e[d.path]===this._currentPath){var c=e.getAttribute("data-position"),h=this._currentPath,v=h.getPathData({
normalize:!0}),f=v[0],m=v[v.length-1],b=body.canvas.geometryPrecision;if("draw-forward"===this._mode&&"start"===c){
body.canvas.undoManager.checkpoint("Draw path segment");var g=$traceurRuntime.spread(v);
this["#seg-sketch"].curved?g.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,f.values[0],f.values[1]]
}):g.push({type:"L",values:[f.values[0],f.values[1]]}),g.push({type:"Z",values:[]
});var p=!0,y=!1,x=void 0;try{for(var _=void 0,w=g[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){
var S=_.value;S.values=S.values.map(function(e){return o(e,b)})}}catch(M){y=!0,x=M;
}finally{try{p||null==w["return"]||w["return"]()}finally{if(y)throw x}}h.setPathData(g),
this._updateNodeGrippies()}else if("draw-backward"===this._mode&&"end"===c){body.canvas.undoManager.checkpoint("Draw path segment");
var C=[];C.push({type:"M",values:["C"===m.type?m.values[4]:m.values[0],"C"===m.type?m.values[5]:m.values[1]]
}),this["#seg-sketch"].curved?C.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,f.values[0],f.values[1]]
}):C.push({type:"L",values:[f.values[0],f.values[1]]}),(n=C).push.apply(n,$traceurRuntime.spread(v.slice(1))),
C.push({type:"Z",values:[]});var R=!0,k=!1,E=void 0;try{for(var A=void 0,P=C[Symbol.iterator]();!(R=(A=P.next()).done);R=!0){
var T=A.value;T.values=T.values.map(function(e){return o(e,b)})}}catch(L){k=!0,E=L;
}finally{try{R||null==P["return"]||P["return"]()}finally{if(k)throw E}}h.setPathData(C),
this._updateNodeGrippies()}return this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0}var $=e.getAttribute("data-position"),j=this._currentPath,N=e[d.path],O=j.getPathData({
normalize:!0}),V=body.canvas,z=V.geometryPrecision,D=V.transformPrecision;O.length>1&&body.canvas.undoManager.checkpoint("Draw path segment");
var G=l(N,j);if(N.setAttribute("transform",G.toString()),u(N,{geometryPrecision:z,
transformPrecision:D}),"draw-forward"===this._mode){"end"===$&&s(N);var I=$traceurRuntime.spread(O),B=N.getPathData({
normalize:!0}),U=B[0];this["#seg-sketch"].curved?I.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,U.values[0],U.values[1]]
}):I.push({type:"L",values:[U.values[0],U.values[1]]}),(r=I).push.apply(r,$traceurRuntime.spread(B.slice(1)));
var H=!0,F=!1,q=void 0;try{for(var W=void 0,Y=I[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0){
var X=W.value;X.values=X.values.map(function(e){return o(e,z)})}}catch(Z){F=!0,q=Z;
}finally{try{H||null==Y["return"]||Y["return"]()}finally{if(F)throw q}}j.setPathData(I),
N.setPathData([]),N.remove()}else if("draw-backward"===this._mode){"start"===$&&s(N);
var K=[],J=N.getPathData({normalize:!0}),Q=O[0];(i=K).push.apply(i,$traceurRuntime.spread(J)),
this["#seg-sketch"].curved?K.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,Q.values[0],Q.values[1]]
}):K.push({type:"L",values:[Q.values[0],Q.values[1]]}),(a=K).push.apply(a,$traceurRuntime.spread(O.slice(1)));
var ee=!0,te=!1,ne=void 0;try{for(var re=void 0,ie=K[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){
var ae=re.value;ae.values=ae.values.map(function(e){return o(e,z)})}}catch(oe){te=!0,
ne=oe}finally{try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne}}
j.setPathData(K),N.setPathData([]),N.remove()}return body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==N}),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0},_onNodeGrippieDirectClick:function(e,t){if("select"===this._mode){this._currentPath=e[d.path];
var n=e.getAttribute("data-position");"start"===n?(this._mode="draw-backward",this["#seg-sketch"].show(e[d.path],"start")):(this._mode="draw-forward",
this["#seg-sketch"].show(e[d.path],"end"))}},_onKeyDown:function(e){if("draw-forward"===this._mode||"draw-backward"===this._mode){
var n=t.fromEvent(e);if(n.matches("Enter")||n.matches("Escape"))e.stopPropagation(),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies();else if(n.matches("Shift","Enter")){
e.stopPropagation();var r=(this._currentPath.getAttribute("d"),{type:"Z",values:[]
}),i=this._currentPath.getPathData();i.push(r),this._currentPath.setPathData(i),this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies()}}},_updateNodeGrippies:function(){
this["#node-grippies"].innerHTML="";var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._getSelectedPaths()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value,s=o.getPathData({normalize:!0}),u=s.length,c=void 0,h=void 0;0===u?(c=null,
h=null):1===u?(c=s[0],h=null):u>1&&(c=s[0],h=s[u-1]);var v=l(o,this),f=h&&"Z"===h.type;
if(c&&!f){var m=new SVGPoint(c.values[0],c.values[1]).matrixTransform(v),b=i("svg:ellipse");
b.setAttribute("class","node-grippie"),b.setAttribute("cx",m.x),b.setAttribute("cy",m.y),
b.setAttribute("data-position","start"),b[d.path]=o,this["#node-grippies"].append(b);
}if(h&&!f){var g=void 0;"M"===h.type||"L"===h.type?g=new SVGPoint(h.values[0],h.values[1]).matrixTransform(v):"C"===h.type&&(g=new SVGPoint(h.values[4],h.values[5]).matrixTransform(v));
var p=i("svg:ellipse");p.setAttribute("class","node-grippie"),p.setAttribute("cx",g.x),
p.setAttribute("cy",g.y),p.setAttribute("data-position","end"),p[d.path]=o,this["#node-grippies"].append(p);
}}}catch(y){t=!0,n=y}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=c/2/body.canvas.scale,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.setAttribute("rx",e),o.setAttribute("ry",e)}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("data-bx-shape")===!1?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),f=a("g","bx-cubicsegsdrawhud",v);return{get default(){
return f}}}),$traceurRuntime.registerModule("elements/bx-cubicsegsketch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-cubicsegsketch")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-cubicsegsketch")),n=t.comparePoints,r=t.snapPointToAngleMultiple,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-cubicsegsketch")).getTransformToElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-cubicsegsketch"))["default"],o=(Object.freeze,
'\n  <style>@import url("stylesheets/bx-cubicsegsketch.css");</style>\n\n  <path id="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line id="control-line-1"></line>\n  <line id="control-line-2"></line>\n\n  <circle id="control-point-1-grippie"></circle>\n  <circle id="control-point-2-grippie"></circle>\n'),s=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=o;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._path=null,this._position="end",this._snap="none",this._hasListeners=!1,
this._clientX=null,this._clientY=null},get startPoint(){return this._startPoint},
get endPoint(){return this._endPoint},get controlPoint1(){return this._controlPoint1;
},get controlPoint2(){return this._controlPoint2},get curved(){return n(this.startPoint,this.controlPoint1)===!1||n(this.endPoint,this.controlPoint2)===!1;
},show:function(e){var t=void 0!==arguments[1]?arguments[1]:"end";this._position=t,
this._path=e,this._snap="none",this.style.visibility="visible",this._hasListeners===!1&&this._addListeners(),
this._updateSegProperties(),this._updateSnapProperty(),this._updatePointProperties(),
this._updateOutlines()},hide:function(){this._path=null,this._clientX=null,this._clientY=null,
this.style.visibility="hidden",this._hasListeners===!0&&this._removeListeners()},
_addListeners:function(){var e=this;this._hasListeners=!0,this._mouseDown=!1,body.addEventListener("modkeyschange",this._modKeysChangeListener=function(){
e._mouseDown===!1&&(e._updateSnapProperty(),e._updatePointProperties(),e._updateOutlines());
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
var n,i,a,o,s=e._path.getScreenCTM().inverse();if(e._mouseDown=!0,e._mouseDownPoint=new SVGPoint(t.clientX,t.clientY),
e._mouseDownPoint=e._mouseDownPoint.matrixTransform(s),e._mouseDownControlPoint1=SVGPoint.fromPoint(e._controlPoint1),
e._mouseDownControlPoint2=SVGPoint.fromPoint(e._controlPoint2),"end"===e._position)if("paraxialPolygon"===e._snap){
var l=(n=r(e._startPoint,e._endPoint,45)[Symbol.iterator](),(i=n.next()).done?void 0:i.value);
e._endPoint=l}else e._endPoint=SVGPoint.fromPoint(e._mouseDownPoint);else if("start"===e._position)if("paraxialPolygon"===e._snap){
var u=(a=r(e._startPoint,e._endPoint,45)[Symbol.iterator](),(o=a.next()).done?void 0:o.value);
e._endPoint=u}else e._endPoint=new SVGPoint(e._firstSeg.values[0],e._firstSeg.values[1]);
}),window.addEventListener("mousemove",this._mouseMoveListener=function(t){e._clientX=t.clientX,
e._clientY=t.clientY,e._updatePointProperties(),e._updateOutlines()}),window.addEventListener("mouseup",this._mouseUpListener=function(t){
e._mouseDown=!1,e._updateSnapProperty()})},_removeListeners:function(){this._hasListeners=!1,
body.removeEventListener("modkeyschange",this._modKeysChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("mousedown",this._mouseDownListener),window.removeEventListener("mousemove",this._mouseMoveListener),
window.removeEventListener("mouseup",this._mouseUpListener)},_onArtboardMutation:function(e){
var t=e.detail;(t.target===this._path||t.target.contains(this._path))&&this._path.hasAttribute("d")&&(this._updateSegProperties(),
this._updateSnapProperty(),this._updatePointProperties(),this._updateOutlines())},
_updateSegProperties:function(){if("end"===this._position){var e=this._path.getPathData({
normalize:!0}),t=e[e.length-1];this._lastSeg=t;for(var n=e.length-1;n>=0;n-=1){var r=e[n];
if("Z"!==r.type){this._lastNonZSeg=r;break}}"C"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[2],t.values[3]):"M"===t.type||"L"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[0],t.values[1]):this._lastSegControlPoint=null,
"C"===t.type?this._lastSegIsSmooth=t.values[2]!==t.values[4]||t.values[3]!==t.values[5]:this._lastSegIsSmooth=!1;
}else if("start"===this._position){var i=this._path.getPathData({normalize:!0}),a=i[0],o=i[1];
this._firstSeg=a,"C"===o.type?this._secondSegControlPoint=new SVGPoint(o.values[0],o.values[1]):"M"===o.type||"L"===o.type?this._secondSegControlPoint=new SVGPoint(a.values[0],a.values[1]):this._secondSegControlPoint=null,
"C"===o.type?this._secondSegIsSmooth=o.values[0]!==a.values[0]&&o.values[1]!==a.values[1]:this._secondSegIsSmooth=!1;
}},_updatePointProperties:function(){var e,t,n,i;if(this._mouseDown===!1){var o=this._path.getScreenCTM().inverse();
if("end"===this._position?("L"===this._lastNonZSeg.type||"M"===this._lastNonZSeg.type?this._startPoint=new SVGPoint(this._lastNonZSeg.values[0],this._lastNonZSeg.values[1]):"C"===this._lastNonZSeg.type&&(this._startPoint=new SVGPoint(this._lastNonZSeg.values[4],this._lastNonZSeg.values[5])),
null===this._clientX?this._endPoint=SVGPoint.fromPoint(this._startPoint):this._endPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(o)):"start"===this._position&&(null===this._clientX?this._startPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1]):this._startPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(o),
this._endPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1])),"none"===this._snap){
var s;new a(this._startPoint,this._endPoint);"end"===this._position?s=new a(this._startPoint,this._lastSegControlPoint):"start"===this._position&&(s=new a(this._endPoint,this._secondSegControlPoint)),
s=s.negate(),"end"===this._position?(this._controlPoint1=new SVGPoint(this._startPoint.x+s.x,this._startPoint.y+s.y),
this._controlPoint2=SVGPoint.fromPoint(this._endPoint)):"start"===this._position&&(this._controlPoint2=new SVGPoint(this._endPoint.x+s.x,this._endPoint.y+s.y),
this._controlPoint1=SVGPoint.fromPoint(this._startPoint))}else if("polygon"===this._snap)this._controlPoint1=SVGPoint.fromPoint(this._startPoint),
this._controlPoint2=SVGPoint.fromPoint(this._endPoint);else if("paraxialPolygon"===this._snap){
if("end"===this._position){var l=(e=r(this._startPoint,this._endPoint,45)[Symbol.iterator](),
(t=e.next()).done?void 0:t.value);this._endPoint=l}else if("start"===this._position){
var u=(n=r(this._endPoint,this._startPoint,45)[Symbol.iterator](),(i=n.next()).done?void 0:i.value);
this._startPoint=u}this._controlPoint1=SVGPoint.fromPoint(this._startPoint),this._controlPoint2=SVGPoint.fromPoint(this._endPoint);
}}else if(this._mouseDown===!0){var c=this._path.getScreenCTM().inverse(),d=new SVGPoint(this._clientX,this._clientY);
d=d.matrixTransform(c);var h=new a(this._mouseDownPoint,d).negate();"end"===this._position?this._controlPoint2=new SVGPoint(this._mouseDownControlPoint2.x+h.x,this._mouseDownControlPoint2.y+h.y):"start"===this._position&&(this._controlPoint1=new SVGPoint(this._mouseDownControlPoint1.x+h.x,this._mouseDownControlPoint1.y+h.y));
}},_updateSnapProperty:function(){var e=body.modKeys,t=e.ctrl,n=(e.alt,e.shift);t&&!n?this._snap="polygon":t&&n?this._snap="paraxialPolygon":this._snap="none",
"end"===this._position?this._lastSegIsSmooth||"none"!==this._snap||(this._snap="polygon"):"start"===this._position&&(this._secondSegIsSmooth||"none"!==this._snap||(this._snap="polygon"));
},_updateOutlines:function(){var e=i(this._path,this),t=this._startPoint.matrixTransform(e),n=this._endPoint.matrixTransform(e),r=this._controlPoint1.matrixTransform(e),a=this._controlPoint2.matrixTransform(e),o=3/body.canvas.scale,s=[{
type:"M",values:[t.x,t.y]},{type:"C",values:[r.x,r.y,a.x,a.y,n.x,n.y]}];this["#outline"].setPathData(s),
this["#control-point-1-grippie"].cx.baseVal.value=r.x,this["#control-point-1-grippie"].cy.baseVal.value=r.y,
this["#control-point-1-grippie"].r.baseVal.value=o,this["#control-point-2-grippie"].cx.baseVal.value=a.x,
this["#control-point-2-grippie"].cy.baseVal.value=a.y,this["#control-point-2-grippie"].r.baseVal.value=o,
this["#control-line-1"].x1.baseVal.value=t.x,this["#control-line-1"].y1.baseVal.value=t.y,
this["#control-line-1"].x2.baseVal.value=r.x,this["#control-line-1"].y2.baseVal.value=r.y,
this["#control-line-2"].x1.baseVal.value=n.x,this["#control-line-2"].y1.baseVal.value=n.y,
this["#control-line-2"].x2.baseVal.value=a.x,this["#control-line-2"].y2.baseVal.value=a.y;
}},{},e)}(SVGGElement),l=e("g","bx-cubicsegsketch",s);return{get default(){return l;
}}}),$traceurRuntime.registerModule("elements/bx-defscontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-defscontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternslist","elements/bx-defscontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-symbolslist","elements/bx-defscontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-defscontrols")).registerElement,t='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-defscontrols.css");\n  </style>\n\n  <main>\n    <div id="buttons">\n      <bx-button\n        id="symbols-button"\n        class="button"\n        href="#symbols-list"\n        tooltip="Symbols"\n        icon="symbols-button"\n        iconsize="30"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="patterns-button"\n        class="button"\n        href="#patterns-list"\n        tooltip="Patterns"\n        icon="paint-pattern"\n        iconsize="30"\n        skin="iconic">\n      </bx-button>\n    </div>\n\n    <div id="lists">\n      <bx-symbolslist id="symbols-list" class="list"></bx-symbolslist>\n      <bx-patternslist id="patterns-list" class="list"></bx-patternslist>\n    </div>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=t;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#buttons"].addEventListener("click",function(t){
return e._onButtonsClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e;return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){
case 0:return void Promise.resolve(body.getConfig("bx-defscontrols:currentListID")).then(t.createCallback(3),t.errback);
case 3:e=t.value,t.state=2;break;case 2:this._toggleList(e||"symbols-list"),t.state=-2;
break;default:return t.end()}},this)},_onDisabled:function(){this._toggleList(null);
},_onButtonsClick:function(e){"bx-button"===e.target.localName&&0===e.button&&this._onButtonClick(e.target);
},_onButtonClick:function(e){e.pressed===!1&&this._toggleList(e.href.substring(1));
},_toggleList:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#buttons"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;null!==e&&o.href==="#"+e?o.pressed=!0:o.pressed=!1}}catch(s){n=!0,r=s;
}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this["#lists"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;null!==e&&v.id===e?(v.enabled=!0,v.hidden=!1):(v.enabled=!1,v.hidden=!0);
}}catch(f){u=!0,c=f}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}null!==e&&body.setConfig("bx-defscontrols:currentListID",e)}},{},e)}(HTMLElement),r=e("bx-defscontrols",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-dock",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-dock")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-dock")),n=t.sleep,r=t.throttle,i='\n  <style>@import url("stylesheets/bx-dock.css");</style>\n\n  <main>\n    <div id="up-grippie" class="grippie">\n      <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n        <use href="images/icons.svg#arrow-up" width="100" height="100"></use>\n      </svg>\n    </div>\n\n    <div id="buttons">\n      <content></content>\n    </div>\n\n    <div id="down-grippie" class="grippie">\n      <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n        <use href="images/icons.svg#arrow-down" width="100" height="100"></use>\n      </svg>\n    </div>\n  </main>\n',a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i,this._pressedButton=null,this._updateGrippiesVisibility250Th=r(this._updateGrippiesVisibility,250,this);
var t=!0,n=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){n=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw a}}window.addEventListener("resize",function(){return e._updateGrippiesVisibility250Th();
}),this["#buttons"].addEventListener("scroll",function(){return e._updateGrippiesVisibility();
}),this["#buttons"].addEventListener("hiddenchange",function(){return e._updateGrippiesVisibility();
})},attachedCallback:function(){var e;return $traceurRuntime.asyncWrap(function(t){
for(;;)switch(t.state){case 0:e=this,this.addEventListener("mouseenter",this._mouseEnterListener=function(){
e._defaultCursor=body.registerCursor("default",200)}),this.addEventListener("mouseleave",this._mouseLeaveListener=function(){
body.unregisterCursor(e._defaultCursor)}),t.state=6;break;case 6:return void Promise.resolve(n(100)).then(t.createCallback(2),t.errback);
case 2:this._updateGrippiesVisibility(),t.state=8;break;case 8:return void Promise.resolve(n(1e3)).then(t.createCallback(4),t.errback);
case 4:this._updateGrippiesVisibility(),t.state=-2;break;default:return t.end()}},this);
},detachedCallback:function(){this.removeEventListener("mouseenter",this._mouseEnterListener),
this.removeEventListener("mouseleave",this._mouseLeaveListener)},_updateGrippiesVisibility:function(){
0===this["#buttons"].scrollTop?this["#up-grippie"].setAttribute("disabled",""):this["#up-grippie"].removeAttribute("disabled"),
this["#buttons"].scrollTop>=this["#buttons"].scrollHeight-this["#buttons"].offsetHeight?this["#down-grippie"].setAttribute("disabled",""):this["#down-grippie"].removeAttribute("disabled");
}},{},e)}(HTMLElement),o=e("bx-dock",a);return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-domtree",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-domtreeelementnode","elements/bx-domtree")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-domtreetextnode","elements/bx-domtree"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-domtree")),t=e.createElement,n=e.registerElement,r=e.isTransformableElement,i='\n  @import url("stylesheets/scrollbars.css");\n\n  :host {\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n\n  main {\n    overflow-y: scroll;\n    overflow-x: hidden;\n    height: 100%;\n    position: relative;\n  }\n\n  #tree bx-domtreetextnode:not([ready]),\n  #tree bx-domtreeelementnode:not([ready]) {\n    display: none;\n  }\n',a="\n  <style>"+i+'</style>\n\n  <main>\n    <div id="tree"></div>\n  </main>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a,this._collapseOthers=!0;var t=!0,n=!1,r=void 0;try{
for(var i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this._shadowRoot.addEventListener("mousedown",function(t){
return e._onShadowRootMouseDown(t)})},attributeChangedCallback:function(e){"enabled"===e&&this._onEnabledAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabledAttributeChange:function(){this.enabled?this._onEnabled():this._onDisabled();
},_onEnabled:function(){var e=this;this._updateTree(),this._onSelectedElementsChange(),
body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onArtboardMutation:function(e){for(var t=e.detail,n=document.createTreeWalker(this["#tree"],NodeFilter.SHOW_ELEMENT,null);n.nextNode();){
var r=n.currentNode;r.ref===t.target&&r.refMutationCallback(t)}},_onSelectedElementsChange:function(){
var e=this,t=body.canvas.selectedElements[0]||null;if(0===body.canvas.selectedElements.length&&null===body.canvas.currentContainer)this._collapseOthers===!0&&"bx-domtreeelementnode"===this["#tree"].firstElementChild.localName&&this["#tree"].firstElementChild.collapse(),
this["#tree"].firstElementChild.highlighted=!0;else{if(0===body.canvas.selectedElements.length&&body.canvas.currentContainer);else{
var n=function(r){if(r.ref===t);else if(r.ref.contains(t)){r.expand();var i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r.children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;n(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}}else e._collapseOthers===!0&&"bx-domtreeelementnode"===r.localName&&r.collapse();
},r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#tree"].children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;n(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this["#tree"].querySelectorAll("bx-domtreeelementnode")[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;m.ref===t?(m.highlighted=!0,m.scrollIntoViewIfNeeded()):m.highlighted=!1;
}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}}this._collapseOthers=!0},_onShadowRootMouseDown:function(e){if("bx-domtreeelementnode"===e.target.localName){
var t=!0,n=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("bx-domtreeelementnode")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;s===e.target?(s.highlighted=!0,s.ref.parentElement===body.canvas.artboards?(this._collapseOthers=!1,
body.canvas.currentContainer=null,body.canvas.selectedElements=[]):r(s.ref)&&(this._collapseOthers=!1,
body.canvas.selectedElements=[s.ref])):s.highlighted=!1}}catch(l){n=!0,i=l}finally{
try{t||null==o["return"]||o["return"]()}finally{if(n)throw i}}}},_updateTree:function(){
this["#tree"].innerHTML="";var e=[],n=body.canvas.selectedElements[0]||body.canvas.currentContainer||null;
if(null===n)e=[body.canvas.currentArtboard];else for(var r=n;r!==body.canvas.artboards;r=r.parentElement)e=$traceurRuntime.spread([r],e);
var i=e.shift(),a=t("bx-domtreeelementnode");a.ref=i,this["#tree"].append(a);for(var o=a;e.length>0;){
var s=e.shift();o.expand();var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=o.children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;v.ref===s&&(o=v)}}catch(f){u=!0,c=f}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}}}},{},e)}(HTMLElement),s=n("bx-domtree",o);return{get default(){
return s}}}),$traceurRuntime.registerModule("elements/bx-domtreeelementnode",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-domtreetextnode","elements/bx-domtreeelementnode"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-domtreeelementnode")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-domtreeelementnode")).sleep,i='\n  @import url("stylesheets/scrollbars.css");\n\n  :host {\n    display: block;\n    margin-left: 18px;\n  }\n\n  main {\n    line-height: 1.5;\n    font-family: Menlo, monospace;\n    position: relative;\n    vertical-align: middle;\n    word-break: break-all;\n  }\n\n  #background {\n    position: absolute;\n    width: 99999px;\n    height: 18px;\n    left: -500px;\n    pointer-events: none;\n  }\n  :host([highlighted]) #background {\n    background: #1668F7;\n  }\n\n  #icon {\n    fill: white;\n    vertical-align: middle;\n    padding: 4px;\n    position: absolute;\n    top: 0px;\n    left: -19px;\n  }\n\n  #markup {\n    position: relative;\n  }\n\n  #markup .attribute {\n    display: inline;\n    transition: background 0.25s;\n    margin-left: 7px;\n  }\n  #markup .attribute[highlighted] {\n    background: rgba(0, 0, 0, 0.5);\n  }\n\n  #markup .attribute-name {\n    color: yellow;\n  }\n  #markup .attribute-value {\n    opacity: 0.7;\n  }\n  #markup #child-nodes {\n    display: inline;\n  }\n',a="\n  <style>"+i+'</style>\n\n  <main id="main">\n    <div id="background"></div>\n\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px">\n      <path d="M 0 0 L 100 50 L 0 100 Z" style="fill: white; stroke: none;"></path>\n    </svg>\n\n    <div id="markup">\n      <span id="start-tag">&lt<span id="start-tag-name">svg</span><span id="attributes"></span>&gt</span>\n      <span id="child-nodes"><content></content></span>\n      <span id="end-tag">&lt/<span id="end-tag-name">svg</span>&gt</span>\n    </div>\n  </main>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a,this._ref=null,this._expanded=!1;var t=!0,n=!1,r=void 0;
try{for(var i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=$traceurRuntime.spread(this["#markup"].childNodes)[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;"#text"===f.nodeName&&f.remove()}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}var b=!0,g=!1,p=void 0;try{for(var y=void 0,x=this.attributes[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){
var _=y.value;this.attributeChangedCallback(_.name)}}catch(w){g=!0,p=w}finally{try{
b||null==x["return"]||x["return"]()}finally{if(g)throw p}}this["#icon"].addEventListener("mousedown",function(t){
return e._onIconMouseDown(t)})},attachedCallback:function(){this._updateBackgroundHeight();
},refMutationCallback:function(e){if("attributes"===e.type){var t=e.attributeName;
this._onRefAttributeChange(t)}else if("childList"===e.type){var n=e,r=n.addedNodes,i=n.removedNodes;
this._onRefChildListChange($traceurRuntime.spread(r),$traceurRuntime.spread(i))}},
expand:function(){if(this._isExpandable()&&this._expanded===!1){this._expanded=!0,
this._updateArrowIcon();var e=document.createDocumentFragment(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._ref.childNodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=void 0;s.nodeType===document.ELEMENT_NODE?l=t("bx-domtreeelementnode"):s.nodeType===document.TEXT_NODE&&(l=t("bx-domtreetextnode")),
l&&(l.ref=s,l.highlighted=body.canvas.selectedElements.includes(l.ref),e.append(l));
}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}this.append(e)}},collapse:function(){this.innerHTML="",this._expanded=!1,this._updateArrowIcon();
},_isExpandable:function(){if(this._ref){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._ref.childNodes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if(a.nodeType===document.ELEMENT_NODE||a.nodeType===document.TEXT_NODE)return!0;
}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}}return!1},get ref(){return this._ref},set ref(e){this._ref=e,this._onRefChange();
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},_updateArrowIcon:function(){this["#icon"].style.visibility=0===this.ref.childNodes.length?"hidden":"visible",
this["#icon"].style.transform=this._expanded===!0?"rotate(90deg)":"rotate(0deg)"},
_updateTagName:function(){var e=this.ref.localName;if(this.ref.hasAttribute("is")){
var t=this.ref.getAttribute("is");t.startsWith("bx-")&&t.endsWith("artboard")&&(e=t.substring(3,t.indexOf("artboard")));
}this["#start-tag-name"].textContent=e,this["#end-tag-name"].textContent=e},_updateAttributes:function(){
var e="",t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._ref.attributes[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=o.name,l=o.value;"is"!==s&&(e+='<span class="attribute" data-name="'+s+'">',
e+='<span class="attribute-name">'+s+'</span>="<span class="attribute-value">'+l+'</span>"',
e+="</span>")}}catch(u){n=!0,r=u}finally{try{t||null==a["return"]||a["return"]()}finally{
if(n)throw r}}this["#attributes"].innerHTML=e},_updateAttribute:function(e){var n=void 0!==arguments[1]?arguments[1]:!0,i=this._ref.getAttribute(e);
if(null===i){var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=this["#attributes"].children[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;if(c.dataset.name===e){c.remove();break}}}catch(d){o=!0,s=d}finally{
try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}}else{var h=null,v=!0,f=!1,m=void 0;
try{for(var b=void 0,g=this["#attributes"].children[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){
var p=b.value;if(p.dataset.name===e){h=p;break}}}catch(y){f=!0,m=y}finally{try{v||null==g["return"]||g["return"]();
}finally{if(f)throw m}}null===h&&(h=t("div"),h.setAttribute("class","attribute"),
h.setAttribute("data-name",e),h.innerHTML='<span class="attribute-name">'+e+'</span><span class="attribute-separator">=</span><span class="attribute-value-opening-quote">"</span><span class="attribute-value"></span><span class="attribute-value-closing-quote">"</span>',
this["#attributes"].append(h)),h.querySelector(".attribute-value").textContent=i,
n&&(h.setAttribute("highlighted",""),r(500).then(function(){return h.removeAttribute("highlighted","");
}))}},_updateBackgroundHeight:function(){this._expanded?this["#background"].style.height=this["#start-tag"].getBoundingClientRect().height+4+"px":this["#background"].style.height=this["#markup"].getBoundingClientRect().height+"px";
},_updateChildTreeNodes:function(){},_onRefChange:function(){return $traceurRuntime.asyncWrap(function(e){
for(;;)switch(e.state){case 0:this._updateTagName(),this._updateAttributes(),this._updateArrowIcon(),
e.state=4;break;case 4:return void Promise.resolve(r(50)).then(e.createCallback(2),e.errback);
case 2:this.setAttribute("ready",""),this._updateBackgroundHeight(),e.state=-2;break;
default:return e.end()}},this)},_onRefAttributeChange:function(e){this._updateAttribute(e),
this._updateBackgroundHeight()},_onRefChildListChange:function(e,n){if(this._expanded){
var r=[],i=!0,a=!1,o=void 0;try{for(var s=this,l=function(){var e=u.value,n=$traceurRuntime.spread(s.children).find(function(t){
return t.ref===e});n?r.push(n):"#text"===e.nodeName||(n=t("bx-domtreeelementnode"),
n.ref=e,r.push(n))},u=void 0,c=this.ref.childNodes[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)l();
}catch(d){a=!0,o=d}finally{try{i||null==c["return"]||c["return"]()}finally{if(a)throw o;
}}var h=!0,v=!1,f=void 0;try{for(var m=void 0,b=$traceurRuntime.spread(this.children)[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value;r.includes(g)===!1&&g.remove()}}catch(p){v=!0,f=p}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}var y=!0,x=!1,_=void 0;try{for(var w=void 0,S=r[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var M=w.value;this.append(M)}}catch(C){x=!0,_=C}finally{try{y||null==S["return"]||S["return"]();
}finally{if(x)throw _}}}},_onIconMouseDown:function(e){0===e.button&&(this._expanded?this.collapse(!0):this.expand(!0),
e.stopPropagation())}},{},e)}(HTMLElement),s=n("bx-domtreeelementnode",o);return{
get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-domtreetextnode",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-domtreetextnode")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-domtreetextnode")).sleep,r='\n  @import url("stylesheets/scrollbars.css");\n\n  :host {\n    display: block;\n    margin-left: 18px;\n  }\n\n  main {\n    line-height: 1.5;\n    font-family: Menlo, monospace;\n    position: relative;\n    vertical-align: middle;\n    word-break: break-all;\n  }\n\n  #background {\n    position: absolute;\n    width: 99999px;\n    height: 18px;\n    left: -500px;\n    pointer-events: none;\n  }\n  :host([highlighted]) #background {\n    background: #1668F7;\n  }\n\n  #text-content {\n    color: white;\n    opacity: 0.7;\n  }\n  #text-content[highlighted] {\n    background: rgba(0, 0, 0, 0.5);\n  }\n',i="\n  <style>"+r+'</style>\n\n  <main id="main">\n    <div id="background"></div>\n    <div id="text-content"></div>\n  </main>\n',a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=i,this._ref=null;var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attachedCallback:function(){
this._updateBackgroundHeight()},refMutationCallback:function(e){"characterData"===e.type&&this._updateTextContent();
},get ref(){return this._ref},set ref(e){this._ref=e,this._onRefChange()},get highlighted(){
return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},_updateBackgroundHeight:function(){this["#background"].style.height=this.getBoundingClientRect().height+4+"px";
},_updateTextContent:function(){this["#text-content"].textContent=this.ref.textContent;
},_onRefChange:function(){return $traceurRuntime.asyncWrap(function(e){for(;;)switch(e.state){
case 0:this._updateTextContent(),e.state=4;break;case 4:return void Promise.resolve(n(50)).then(e.createCallback(2),e.errback);
case 2:this.setAttribute("ready",""),this._updateBackgroundHeight(),e.state=-2;break;
default:return e.end()}},this)}},{},e)}(HTMLElement),o=t("bx-domtreetextnode",a);return{
get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-editorbody",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-body","elements/bx-editorbody"))["default"];
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-canvas","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-dock","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-panel","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-breadcrumb","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-inspector","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fillcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-strokecontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-compositingcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-maskcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-typographycontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-viewcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-arrangementcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-defscontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-pathcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-exportcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-geometrycontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-transformtoolcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-transformtool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-edittool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-quadbeziertool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-cubicbeziertool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-freehandtool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-texttool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-triangletool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-rectangletool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ellipsetool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ngontool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-startool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ringtool","elements/bx-editorbody"));
var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-editorbody")).rasterizeArtwork,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-general","elements/bx-editorbody")).isArtworkString,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-export","elements/bx-editorbody")).exportArtwork,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-import","elements/bx-editorbody")).importArtwork,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-editorbody")).getClientBBox,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-editorbody")).parseSVG,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-editorbody")).round,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-editorbody")),u=l.getDefFromURL,c=l.getPaintServer,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","elements/bx-editorbody")).getParentPattern,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-conversion","elements/bx-editorbody")).ellipseToPath,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-editorbody")),f=v.getPathDataBySubpath,m=v.reversePath,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-editorbody")).closest,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-boolops","elements/bx-editorbody")),p=g.unite,y=g.subtract,x=g.intersect,_=g.exclude,w=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-editorbody")).combineRects,S=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/string","elements/bx-editorbody")),M=S.capitalize,C=S.toDashCase,R=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-editorbody")).queryStylableElements,k=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-editorbody")).normalizeTextInRangeBeforeEditing,E=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-editorbody")).sleep,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-editorbody"))),A=E.getComputedTransformOriginClientPoint,P=E.getTransformToElement,T=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-editorbody")).reduceTransform,L=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-editorbody")),$=L.createElement,j=L.registerElement,N=L.getElementIndex,O=L.queryClippingElements,V=(L.queryGraphicsElements,
L.sortByDomPosition),z=L.sortBySiblingElements,D=L.sortByIntersectingElements,G=L.isElementIntersectingElement,I=L.isTransformableElement,B=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-editorbody"))["default"],U='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>',H="http://sarasoueidan.com/blog/svg-coordinate-systems/",F='\n  <style>@import url("stylesheets/bx-editorbody.css");</style>\n\n  <main>\n    <bx-canvas id="canvas"></bx-canvas>\n    <bx-breadcrumb id="breadcrumb"></bx-breadcrumb>\n\n    <bx-dock id="primary-dock">\n      <bx-button\n        title="Transform Tool"\n        icon="transform-tool"\n        skin="bx-dock"\n        href="#transform-tool-panel"\n        althref="#transform-tool">\n      </bx-button>\n\n      <bx-button\n        title="Edit Tool"\n        icon="edit-tool"\n        skin="bx-dock"\n        althref="#edit-tool">\n      </bx-button>\n\n      <bx-button\n        title="Quad Bezier Tool"\n        icon="quad-bezier-tool"\n        skin="bx-dock"\n        althref="#quad-bezier-tool">\n      </bx-button>\n\n      <bx-button\n        title="Cubic Bezier Tool"\n        icon="cubic-bezier-tool"\n        skin="bx-dock"\n        althref="#cubic-bezier-tool">\n      </bx-button>\n\n      <bx-button id="freehand"\n        title="Freehand Tool"\n        icon="freehand-tool"\n        skin="bx-dock"\n        althref="#freehand-tool">\n      </bx-button>\n\n      <bx-button\n        title="Text Tool"\n        icon="text-tool"\n        skin="bx-dock"\n        althref="#text-tool">\n      </bx-button>\n\n      <bx-button\n        title="Triangle Tool"\n        icon="triangle-tool"\n        skin="bx-dock"\n        althref="#triangle-tool">\n      </bx-button>\n\n      <bx-button\n        title="Rectangle Tool"\n        icon="rectangle-tool"\n        skin="bx-dock"\n        althref="#rectangle-tool">\n      </bx-button>\n\n      <bx-button\n        title="N-gon Tool"\n        icon="n-gon-tool"\n        skin="bx-dock"\n        althref="#n-gon-tool">\n      </bx-button>\n\n      <bx-button\n        title="Star Tool"\n        icon="star-tool"\n        skin="bx-dock"\n        althref="#star-tool">\n      </bx-button>\n\n      <bx-button\n        title="Ellipse Tool"\n        icon="ellipse-tool"\n        skin="bx-dock"\n        althref="#ellipse-tool">\n      </bx-button>\n\n      <bx-button\n        title="Ring Tool"\n        icon="ring-tool"\n        skin="bx-dock"\n        althref="#ring-tool">\n      </bx-button>\n    </bx-dock>\n\n    <bx-dock id="secondary-dock">\n      <bx-button\n        title="Fill Panel"\n        icon="fill-panel"\n        iconsize="23"\n        skin="bx-dock"\n        href="#fill-panel">\n      </bx-button>\n\n      <bx-button\n        title="Stroke Panel"\n        icon="stroke-panel"\n        skin="bx-dock"\n        href="#stroke-panel">\n      </bx-button>\n\n      <bx-button\n        title="Compositing Panel"\n        icon="compositing-panel"\n        skin="bx-dock"\n        href="#compositing-panel">\n      </bx-button>\n\n      <bx-button\n        title="View Panel"\n        icon="view-panel"\n        skin="bx-dock"\n        href="#view-panel">\n      </bx-button>\n\n      <bx-button\n        title="Arrangement Panel"\n        icon="arrangement-panel"\n        skin="bx-dock"\n        href="#arrangement-panel">\n      </bx-button>\n\n      <bx-button\n        title="Typography Panel"\n        icon="typography-panel"\n        iconsize="22"\n        skin="bx-dock"\n        href="#typography-panel">\n      </bx-button>\n\n      <bx-button\n        title="Defs Panel"\n        icon="defs-panel"\n        skin="bx-dock"\n        href="#defs-panel">\n      </bx-button>\n\n      <bx-button\n        title="Mask Panel"\n        icon="mask-panel"\n        skin="bx-dock"\n        href="#mask-panel">\n      </bx-button>\n\n      <bx-button\n        title="Geometry Panel"\n        icon="geometry-panel"\n        skin="bx-dock"\n        href="#geometry-panel">\n      </bx-button>\n\n      <bx-button\n        title="Path Panel"\n        icon="path-panel"\n        skin="bx-dock"\n        href="#path-panel">\n      </bx-button>\n\n      <bx-button\n        title="Export Panel"\n        icon="export-panel"\n        skin="bx-dock"\n        href="#export-panel">\n      </bx-button>\n    </bx-dock>\n\n    <div id="tools">\n      <bx-transformtool id="transform-tool"></bx-transformtool>\n      <bx-edittool id="edit-tool"></bx-edittool>\n      <bx-quadbeziertool id="quad-bezier-tool"></bx-quadbeziertool>\n      <bx-cubicbeziertool id="cubic-bezier-tool"></bx-cubicbeziertool>\n      <bx-freehandtool id="freehand-tool"></bx-freehandtool>\n      <bx-texttool id="text-tool"></bx-texttool>\n      <bx-triangletool id="triangle-tool"></bx-triangletool>\n      <bx-rectangletool id="rectangle-tool"></bx-rectangletool>\n      <bx-ellipsetool id="ellipse-tool"></bx-ellipsetool>\n      <bx-ngontool id="n-gon-tool"></bx-ringtool>\n      <bx-startool id="star-tool"></bx-startool>\n      <bx-ringtool id="ring-tool"></bx-ringtool>\n    </div>\n\n    <bx-inspector id="inspector"></bx-inspector>\n\n    <div id="primary-panels">\n      <bx-panel id="transform-tool-panel" label="Tool Options">\n        <bx-transformtoolcontrols></bx-transformtoolcontrols>\n      </bx-panel>\n    </div>\n\n    <div id="secondary-panels">\n      <bx-panel id="fill-panel" label="Fill">\n        <bx-fillcontrols></bx-fillcontrols>\n      </bx-panel>\n\n      <bx-panel id="stroke-panel" label="Stroke">\n        <bx-strokecontrols></bx-strokecontrols>\n      </bx-panel>\n\n      <bx-panel id="compositing-panel" label="Compositing">\n        <bx-compositingcontrols></bx-compositingcontrols>\n      </bx-panel>\n\n      <bx-panel id="typography-panel" label="Typography">\n        <bx-typographycontrols></bx-typographycontrols>\n      </bx-panel>\n\n      <bx-panel id="view-panel" height="497" label="View" help="'+H+'">\n        <bx-viewcontrols></bx-viewcontrols>\n      </bx-panel>\n\n      <bx-panel id="arrangement-panel" label="Arrangement">\n        <bx-arrangementcontrols></bx-arrangementcontrols>\n      </bx-panel>\n\n      <bx-panel id="defs-panel" label="Defs">\n        <bx-defscontrols></bx-defscontrols>\n      </bx-panel>\n\n      <bx-panel id="mask-panel" label="Mask">\n        <bx-maskcontrols></bx-maskcontrols>\n      </bx-panel>\n\n      <bx-panel id="geometry-panel" label="Geometry">\n        <bx-geometrycontrols></bx-geometrycontrols>\n      </bx-panel>\n\n      <bx-panel id="path-panel" label="Path">\n        <bx-pathcontrols></bx-pathcontrols>\n      </bx-panel>\n\n      <bx-panel id="export-panel" label="Export">\n        <bx-exportcontrols></bx-exportcontrols>\n      </bx-panel>\n    </div>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n      <bx-menuitem commandid="duplicate" label="Duplicate"></bx-menuitem>\n      <bx-menuitem commandid="delete" label="Delete"></bx-menuitem>\n      <hr/>\n      <bx-menuitem commandid="raise" label="Raise"></bx-menuitem>\n      <bx-menuitem commandid="lower" label="Lower"></bx-menuitem>\n      <hr/>\n      <bx-menuitem commandid="group" label="Group"></bx-menuitem>\n      <bx-menuitem commandid="ungroup" label="Ungroup"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n',q=function(e){
function l(){$traceurRuntime.superConstructor(l).apply(this,arguments)}return $traceurRuntime.createClass(l,{
createdCallback:function(){var e,t,n,a,o,s,u;return $traceurRuntime.asyncWrap(function(c){
for(;;)switch(c.state){case 0:e=this,$traceurRuntime.superGet(this,l.prototype,"createdCallback").call(this),
this.commands={transformTool:{exec:function(){return e.toggleTool("transform-tool");
}},editTool:{exec:function(){return e.toggleTool("edit-tool")}},quadBezierTool:{exec:function(){
return e.toggleTool("quad-bezier-tool")}},cubicBezierTool:{exec:function(){return e.toggleTool("cubic-bezier-tool");
}},freehandTool:{exec:function(){return e.toggleTool("freehand-tool")}},textTool:{
exec:function(){return e.toggleTool("text-tool")}},triangleTool:{exec:function(){
return e.toggleTool("triangle-tool")}},rectangleTool:{exec:function(){return e.toggleTool("rectangle-tool");
}},ellipseTool:{exec:function(){return e.toggleTool("ellipse-tool")}},nGonTool:{exec:function(){
return e.toggleTool("n-gon-tool")}},starTool:{exec:function(){return e.toggleTool("star-tool");
}},ringTool:{exec:function(){return e.toggleTool("ring-tool")}},fillPanel:{exec:function(){
return e.toggleSecondaryPanel("fill-panel")}},strokePanel:{exec:function(){return e.toggleSecondaryPanel("stroke-panel");
}},compositingPanel:{exec:function(){return e.toggleSecondaryPanel("compositing-panel");
}},maskPanel:{exec:function(){return e.toggleSecondaryPanel("mask-panel")}},geometryPanel:{
exec:function(){return e.toggleSecondaryPanel("geometry-panel")}},typographyPanel:{
exec:function(){return e.toggleSecondaryPanel("typography-panel")}},pathPanel:{exec:function(){
return e.toggleSecondaryPanel("path-panel")}},exportPanel:{exec:function(){return e.toggleSecondaryPanel("export-panel");
}},viewPanel:{exec:function(){return e.toggleSecondaryPanel("view-panel")}},arrangementPanel:{
exec:function(){return e.toggleSecondaryPanel("arrangement-panel")}},defsPanel:{exec:function(){
return e.toggleSecondaryPanel("defs-panel")}},zoomIn:{exec:function(){return e.canvas.zoomBy(.3);
}},zoomOut:{exec:function(){return e.canvas.zoomBy(-.3)}},resetZoom:{enabled:function(){
return 100!==e.canvas.zoom},exec:function(){return e.canvas.resetZoom()}},zoomToFitAll:{
exec:function(){return e.canvas.zoomToFitAll()}},zoomToViewBox:{enabled:function(){
return e.canvas.currentArtboard.hasAttribute("viewBox")},exec:function(){return e.canvas.zoomToCurrentArtboardViewBox();
}},zoomToViewBoxWidth:{enabled:function(){return e.canvas.currentArtboard.hasAttribute("viewBox");
},exec:function(){return e.canvas.zoomToCurrentArtboardViewBoxWidth()}},zoomToViewBoxHeight:{
enabled:function(){return e.canvas.currentArtboard.hasAttribute("viewBox")},exec:function(){
return e.canvas.zoomToCurrentArtboardViewBoxHeight()}},undo:{enabled:function(){return e.canvas.undoManager.canUndo()&&e.isMouseDown===!1;
},exec:function(){return e.canvas.undoManager.undo()}},redo:{enabled:function(){return e.canvas.undoManager.canRedo()&&e.isMouseDown===!1;
},exec:function(){return e.canvas.undoManager.redo()}},group:{enabled:function(){
return e._canGroup()},exec:function(){return e._group()}},ungroup:{enabled:function(){
return e._canUngroup()},exec:function(){return e._ungroup()}},convertToPath:{enabled:function(){
return e._canConvertToPath()},exec:function(){return e._convertToPath()}},reversePath:{
enabled:function(){return e._canReversePath()},exec:function(){return e._reversePath();
}},unite:{enabled:function(){return e._canPerformBooleanOperation()},exec:function(){
return e._performBooleanOperation("unite")}},subtract:{enabled:function(){return e._canPerformBooleanOperation();
},exec:function(){return e._performBooleanOperation("subtract")}},intersect:{enabled:function(){
return e._canPerformBooleanOperation()},exec:function(){return e._performBooleanOperation("intersect");
}},exclude:{enabled:function(){return e._canPerformBooleanOperation()},exec:function(){
return e._performBooleanOperation("exclude")}},combine:{enabled:function(){return e._canCombine();
},exec:function(){return e._combine()}},breakApart:{enabled:function(){return e._canBreakApart();
},exec:function(){return e._breakApart()}},raise:{enabled:function(){return e._canRaise();
},exec:function(){return e._raise()}},raiseToFront:{enabled:function(){return e._canRaise();
},exec:function(){return e._raiseToFront()}},lower:{enabled:function(){return e._canLower();
},exec:function(){return e._lower()}},lowerToBack:{enabled:function(){return e._canLower();
},exec:function(){return e._lowerToBack()}},clip:{enabled:function(){return e._canClip();
},exec:function(){return e._clip()}},unclip:{enabled:function(){return e._canUnclip();
},exec:function(){return e._unclip()}},mask:{enabled:function(){return e._canMask();
},exec:function(){return e._mask()}},unmask:{enabled:function(){return e._canUnmask();
},exec:function(){return e._unmask()}},rotateClockwise:{enabled:function(){return e._canRotate();
},exec:function(){return e._rotate(90)}},rotateCounterclockwise:{enabled:function(){
return e._canRotate()},exec:function(){return e._rotate(-90)}},flipX:{enabled:function(){
return e._canFlip()},exec:function(){return e._flip("x")}},flipY:{enabled:function(){
return e._canFlip()},exec:function(){return e._flip("y")}},moveOneUnitLeft:{enabled:function(){
return e._canMove()},exec:function(){return e._move(1,"left")}},moveOneUnitRight:{
enabled:function(){return e._canMove()},exec:function(){return e._move(1,"right");
}},moveOneUnitUp:{enabled:function(){return e._canMove()},exec:function(){return e._move(1,"up");
}},moveOneUnitDown:{enabled:function(){return e._canMove()},exec:function(){return e._move(1,"down");
}},moveTenUnitsLeft:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"left");
}},moveTenUnitsRight:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"right");
}},moveTenUnitsUp:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"up");
}},moveTenUnitsDown:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"down");
}},selectAll:{exec:function(){return e.canvas.selectAll()}},deselectAll:{enabled:function(){
return e.canvas.selectedElements.length>0},exec:function(){return e.canvas.selectedElements=[];
}},copy:{enabled:function(){return e.canvas.selectedElements.length>0},exec:function(){
return e._copy()}},cut:{enabled:function(){return e.canvas.selectedElements.length>0;
},exec:function(){return e._cut()}},paste:{exec:function(){return e._paste()}},duplicate:{
enabled:function(){return e.canvas.selectedElements.length>0},exec:function(){return e._duplicate();
}},"delete":{enabled:function(){return e.canvas.selectedElements.length>0},exec:function(){
return e._delete()}},grabPaintColor:{enabled:function(){return e.canvas.selectedElements.length>0;
},exec:function(){return e._grabPaintColor()}},inspector:{enabled:function(){return!0;
},exec:function(){return e["#inspector"].enabled=!e["#inspector"].enabled}},previousTool:{
enabled:function(){return null!==e._previousToolID},exec:function(){return e.toggleTool(e._previousToolID);
}}},this._previousToolID=null,this._isGrabbingPaintColor=!1,this._assignedShortcuts=[],
this.innerHTML=F,t=!0,n=!1,a=void 0;try{for(o=void 0,s=this.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0)u=o.value,
this["#"+u.id]=u}catch(d){n=!0,a=d}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw a}}this.addEventListener("contextmenu",function(t){return e._onContextMenu(t);
}),this["#primary-dock"].addEventListener("click",function(t){return e._onPrimaryDockClick(t);
}),this["#secondary-dock"].addEventListener("click",function(t){return e._onSecondaryDockClick(t);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)},this["#context-menu"].addEventListener("menuitemtrigger",function(t){
return e.execCommand(t.detail.commandID)}),this.bridge.addMessageListener("getArtwork",function(t,n){
var i,a,o;return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:
e.canvas.removeUnusedDefs(),i=e.canvas.extractArtwork(),s.state=5;break;case 5:return void Promise.resolve(e.getConfig("bx-preferences:indentation")).then(s.createCallback(3),s.errback);
case 3:a=s.value,s.state=2;break;case 2:a=null===a?2:a,o=r(i,t,a),n(o),s.state=-2;
break;default:return s.end()}},this)}),this.bridge.addMessageListener("getArtworkFromSelectedElements",function(t,n){
var r=e._getArtworkFromSelectedElements(t);n(r)}),this.bridge.addMessageListener("setArtwork",function(t){
var n=i(t,e.canvas.geometryPrecision);e.canvas.loadArtwork(n)}),this.bridge.addMessageListener("event:assignedshortcutschange",function(t){
e._assignedShortcuts=t}),this.bridge.addMessageListener("init",function(t,n){var r=t,a=r.artwork,o=r.restrictedFeatures,s=r.hamburgerAppMenu,l=r.assignedShortcuts,u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=e["#primary-dock"].children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;o.includes(f.althref.substring(1))&&f.remove()}}catch(m){c=!0,d=m}finally{
try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}var b=!0,g=!1,p=void 0;
try{for(var y=void 0,x=e["#secondary-dock"].children[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){
var _=y.value;o.includes(_.href.substring(1))&&_.remove()}}catch(w){g=!0,p=w}finally{
try{b||null==x["return"]||x["return"]()}finally{if(g)throw p}}var S=!0,M=!1,R=void 0;
try{for(var k=void 0,E=e["#context-menu"].children[Symbol.iterator]();!(S=(k=E.next()).done);S=!0){
var A=k.value;A.commandID&&o.includes(C(A.commandID))&&A.remove()}}catch(P){M=!0,
R=P}finally{try{S||null==E["return"]||E["return"]()}finally{if(M)throw R}}s&&e["#primary-dock"].setAttribute("data-extra-whitespace",""),
l&&(e._assignedShortcuts=l),o.includes("chromeDevTools")&&e.addEventListener("contextmenu",function(e){
return e.preventDefault()}),e.canvas.loadArtwork(i(a,e.canvas.geometryPrecision)),
n()}),this.toggleTool("transform-tool"),c.state=-2;break;default:return c.end()}},this);
},get canvas(){return this.querySelector("#canvas")},get currentTool(){var e=null,t=this["#primary-dock"].querySelector("bx-button[pressed]");
if(t){var n=t.althref.slice(1);e=this["#tools"].querySelector("#"+n)}return e},get currentSecondaryPanel(){
var e=null,t=this["#secondary-dock"].querySelector("bx-button[pressed]");if(t){var n=t.href.slice(1);
e=this["#secondary-panels"].querySelector("#"+n)}return e},toggleTool:function(e){
var t=this["#tools"].querySelector("#"+e);if(t){var n=this["#primary-dock"].querySelector('bx-button[althref="#'+e+'"]');
if(n.pressed===!1){var r=this["#primary-dock"].querySelector("bx-button[pressed]");
if(r){r.pressed=!1,this._previousToolID=r.althref.substring(1);var i=r.althref.slice(1),a=this["#tools"].querySelector("#"+i);
a&&(a.enabled=!1,this.togglePrimaryPanel(null))}n.pressed=!0,t.enabled=!0,this.dispatchEvent(new CustomEvent("toolchange",{
detail:e})),this.bridge.postMessage("event:toolchange",e.toCamelCase())}}},togglePrimaryPanel:function(e){
if(null===e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#primary-panels"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.enabled===!0&&(o.enabled=!1,this.bridge.postMessage("event:primarypanelchange",null));
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}}else{var l=this["#primary-panels"].querySelector("#"+e);if(l){this["#primary-dock"].querySelector('bx-button[href="#'+e+'"]');
if(l.enabled)l.enabled=!1;else{var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this["#primary-panels"].children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;f.id===e?f.enabled=!0:f.enabled=!1}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}}this.bridge.postMessage("event:primarypanelchange",e.toCamelCase());
}}},toggleSecondaryPanel:function(e){var t=this["#secondary-panels"].querySelector("#"+e);
if(t){var n=this["#secondary-dock"].querySelector('bx-button[href="#'+e+'"]');if(n.pressed)n.pressed=!1,
t.enabled=!1,this.bridge.postMessage("event:secondarypanelchange",null);else{var r=this["#secondary-dock"].querySelector("bx-button[pressed]");
if(r){r.pressed=!1;var i=r.href.slice(1),a=this["#secondary-panels"].querySelector("#"+i);
a&&(a.enabled=!1)}n.pressed=!0,t.enabled=!0,this.bridge.postMessage("event:secondarypanelchange",e.toCamelCase());
}}},rasterizeArtwork:function(e){var n=void 0!==arguments[1]?arguments[1]:"png",i=void 0!==arguments[2]?arguments[2]:1,a=void 0!==arguments[3]?arguments[3]:"#ffffff",o=this;
return new Promise(function(s){o.bridge.postMessage("canRasterizeArtwork",null,function(l){
var u,c;return $traceurRuntime.asyncWrap(function(d){for(;;)switch(d.state){case 0:
d.state=l?6:1;break;case 6:u={artwork:r(e,"xml"),format:n,compression:i,backgroundColor:a
},o.bridge.postMessage("rasterizeArtwork",u,function(e){return s(e)}),d.state=-2;break;
case 1:return void Promise.resolve(t(e,n,i,a)).then(d.createCallback(3),d.errback);
case 3:c=d.value,d.state=2;break;case 2:s(c),d.state=-2;break;default:return d.end();
}},this)})})},_onKeyDown:function(e){$traceurRuntime.superGet(this,l.prototype,"_onKeyDown").call(this,e);
var t=B.fromEvent(e);this.canvas.selectedElements.length>0&&(t.matches("Backspace")?this._delete():t.matches("ArrowDown")?this._move(1,"down"):t.matches("ArrowUp")?this._move(1,"up"):t.matches("ArrowLeft")?this._move(1,"left"):t.matches("ArrowRight")?this._move(1,"right"):t.matches("Shift","ArrowDown")?this._move(10,"down"):t.matches("Shift","ArrowUp")?this._move(10,"up"):t.matches("Shift","ArrowLeft")?this._move(10,"left"):t.matches("Shift","ArrowRight")&&this._move(10,"right"));
var n=t.toString();this._assignedShortcuts.includes(n)&&e.preventDefault(),this.bridge.postMessage("event:shortcutpress",n);
},_onPrimaryDockClick:function(e){e.target!==this["#primary-dock"]&&this._onPrimaryDockButtonClick(e);
},_onSecondaryDockClick:function(e){e.target!==this["#secondary-dock"]&&this._onSecondaryDockButtonClick(e);
},_onPrimaryDockButtonClick:function(e){var t=e.target,n=t.althref.slice(1);if(n===this.currentTool.id){
var r=t.href.slice(1);r&&this.togglePrimaryPanel(r)}else this.toggleTool(n)},_onSecondaryDockButtonClick:function(e){
var t=e.target,n=t.href.slice(1);this.toggleSecondaryPanel(n)},_onContextMenu:function(e){
this.canvas.contains(e.target)&&(e.preventDefault(),this["#context-menu"].open(e.clientX,e.clientY));
},_menuWillShow:function(e){var t=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_getArtworkFromSelectedElements:function(e){
if(0===this.canvas.selectedElements.length)return U;this.canvas.removeUnusedDefs();
var t=this.canvas.extractArtworkWithSelectedElements(),n=r(t,e);return n},_copy:function(){
var e,t,n,i,a,o,s,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:e=this.canvas,t=e.selectedElements,n=e.selectedTextRange,c.state=13;break;case 13:
c.state=n&&n.collapsed===!1?9:8;break;case 9:i={"text/plain":n.toString()},this.bridge.postMessage("setClipboardData",i),
c.state=-2;break;case 8:c.state=t.length>0?4:-2;break;case 4:this.canvas.removeUnusedDefs(),
a=this.canvas.extractArtworkWithSelectedElements(),c.state=5;break;case 5:return void Promise.resolve(this.getConfig("bx-preferences:indentation")).then(c.createCallback(3),c.errback);
case 3:o=c.value,c.state=2;break;case 2:o=null===o?2:o,s=r(a,"html",o),l=r(a,"xml",o),
u={"text/plain":s,"text/html":s,"image/svg+xml":l},this.bridge.postMessage("setClipboardData",u),
c.state=-2;break;default:return c.end()}},this)},_paste:function(){var e=this,t=this.canvas.matches(":hover")?"pointer":"canvasCenter";
this.bridge.postMessage("getClipboardData",null,function(r){r["text/html"]&&n(r["text/html"])?e._pasteSVG(r["text/html"],t):r["image/png"]?e._pastePNG(r["image/png"],t):r["text/plain"]&&e._pasteText(r["text/plain"],t);
})},_pasteSVG:function(e,t){this.canvas.undoManager.checkpoint("Paste");var n=i(e,this.canvas.geometryPrecision);
this.canvas.insertArtwork(n,t)},_pastePNG:function(e){this.canvas.undoManager.checkpoint("Paste"),
this.canvas.insertBitmap(e)},_pasteText:function(e){this.canvas.undoManager.checkpoint("Paste");
var t=this.canvas.selectedTextRange;if(t){var n=b(t.startContainer,"tspan"),r=n.parentElement,i=null,a=null,l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=r.children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if(f.contains(t.startContainer)&&(i=f),f.contains(t.endContainer)){
a=f;break}i&&f!==i&&l.push(f)}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}if(i===a){var g=i,p=t.startOffset,y=g.textContent.substring(0,t.startOffset),x=g.textContent.substring(t.endOffset);
g.textContent=y+e+x;var _=new Range;_.setStart(g.firstChild,p+e.length),_.setEnd(g.firstChild,p+e.length),
this.canvas.selectedTextRange=_}else{var w=t.startOffset,S=i.textContent.substring(0,t.startOffset),M=a.textContent.substring(t.endOffset);
i.textContent=S+e,a.textContent=M;var C=!0,R=!1,k=void 0;try{for(var E=void 0,A=l[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){
var L=E.value;L.textContent=""}}catch($){R=!0,k=$}finally{try{C||null==A["return"]||A["return"]();
}finally{if(R)throw k}}var j=!0,N=!1,O=void 0;try{for(var V=void 0,z=$traceurRuntime.spread(r.children)[Symbol.iterator]();!(j=(V=z.next()).done);j=!0){
var D=V.value;""===D.textContent&&D.remove()}}catch(G){N=!0,O=G}finally{try{j||null==z["return"]||z["return"]();
}finally{if(N)throw O}}var I=new Range;I.setStart(i.firstChild,w+e.length),I.setEnd(i.firstChild,w+e.length),
this.canvas.selectedTextRange=I}}else{var B=this.canvas.currentContainer||this.canvas.currentArtboard,U=B.getScreenCTM().inverse(),H=new SVGPoint(this.mouseClientX,this.mouseClientY),F=H.matrixTransform(U),q=P(B,this.canvas.currentArtboard).inverse(),W=o('<text style="font-size: 30; white-space: pre;"><tspan>'+e+"</tspan></text>");
W.setAttribute("transform",q.toString()),W.setAttribute("x",s(F.x,this.canvas.geometryPrecision)),
W.setAttribute("y",s(F.y,this.canvas.geometryPrecision)),B.append(W),T(W,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision}),this.canvas.selectedElements=[W],
this.canvas.currentContainer=B===this.canvas.currentArtboard?null:B}},_duplicate:function(){
this.canvas.undoManager.checkpoint("Duplicate"),this.canvas.removeUnusedDefs();var e=this.canvas.extractArtworkWithSelectedElements();
this.canvas.insertArtwork(e,"original"),this.canvas.transformHud.blink()},_cut:function(){
this.canvas.undoManager.checkpoint("Cut"),this._copy();var e=V(this.canvas.selectedElements);
e.reverse(),this.canvas.selectedElements=[];var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.remove()}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_delete:function(){if(this.canvas.selectedElements.length>0){
this.canvas.undoManager.checkpoint("Delete");var e=V(this.canvas.selectedElements);
e.reverse(),this.canvas.selectedElements=[];var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.remove()}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}},_grabPaintColor:function(){var e,t,n,r,i,a,o,s,l,u,c,d;return $traceurRuntime.asyncWrap(function(h){
for(;;)switch(h.state){case 0:h.state=this._isGrabbingPaintColor===!1?4:-2;break;case 4:
this.canvas.undoManager.checkpoint("Paint color"),this._isGrabbingPaintColor=!0,h.state=5;
break;case 5:return void Promise.resolve(this.canvas.grabColor()).then(h.createCallback(3),h.errback);
case 3:e=h.value,h.state=2;break;case 2:t=this.modKeys.shift?"stroke":"fill",n=this.canvas,
r=n.selectedElements,i=n.selectedTextRange,k(i),a=R(t,r,i),o=!0,s=!1,l=void 0;try{
for(u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)d=u.value,d.style[t]=e;
}catch(v){s=!0,l=v}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}this._isGrabbingPaintColor=!1,h.state=-2;break;default:return h.end()}},this)},
_clip:function(){this.canvas.undoManager.checkpoint("Clip");var e=this.canvas.selectedElements[0],t=O(this.canvas.selectedElements.slice(1)),n=this.canvas.generateUniqueID("clip"),r=$("svg:clipPath");
r.id=n,this.canvas.defs.append(r);var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=P(u,e);u.setAttribute("transform",c.toString()),T(u,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision}),r.appendChild(u)}}catch(d){a=!0,
o=d}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}this.canvas.selectedElements=this.canvas.selectedElements.filter(function(e){
return t.includes(e)===!1}),e.style.clipPath="url(#"+n+")"},_canClip:function(){var e=!1,t=this.canvas.selectedElements[0]||null,n=this.canvas.selectedElements.slice(1),r=O(n),i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if(G(u,t)){e=!0;break}}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return null!==t&&e!==!1},_unclip:function(){this.canvas.undoManager.checkpoint("Unclip");
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if("none"!==getComputedStyle(a).clipPath){var o=a,s=u(this.canvas.masterArtboard,a.style.clipPath);
if(s){var l=$traceurRuntime.spread(s.children),c=!0,d=!1,h=void 0;try{for(var v=void 0,f=l[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value,b=P(m,this.canvas.currentArtboard),g=o.transform.baseVal.consolidate().matrix.multiply(b);
m.setAttribute("transform",g.toString()),this.canvas.currentArtboard.appendChild(m),
T(m,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}a.style.clipPath=null}}}}catch(y){t=!0,n=y}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}},_canUnclip:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=getComputedStyle(o).clipPath;if("none"!==s){var l=u(this.canvas.masterArtboard,s);
if(l){e=!0;break}}}}catch(c){n=!0,r=c}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return e},_mask:function(){this.canvas.undoManager.checkpoint("Mask");
var e=this.canvas.selectedElements[0],t=this.canvas.selectedElements.slice(1),n=this.canvas.generateUniqueID("mask"),r=$("svg:mask");
r.id=n,this.canvas.defs.append(r);var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=P(u,e);u.setAttribute("transform",c.toString()),T(u,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision}),r.appendChild(u)}}catch(d){a=!0,
o=d}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}this.canvas.selectedElements=this.canvas.selectedElements.filter(function(e){
return t.includes(e)===!1}),e.style.mask="url(#"+n+")"},_canMask:function(){var e=!1,t=this.canvas.selectedElements[0]||null,n=this.canvas.selectedElements.slice(1),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
if(G(l,t)){e=!0;break}}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return null!==t&&e!==!1},_unmask:function(){this.canvas.undoManager.checkpoint("Unmask");
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if("none"!==getComputedStyle(a).mask){var o=a,s=u(this.canvas.masterArtboard,a.style.mask);
if(s){var l=$traceurRuntime.spread(s.children),c=!0,d=!1,h=void 0;try{for(var v=void 0,f=l[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value,b=P(m,this.canvas.currentArtboard),g=o.transform.baseVal.consolidate().matrix.multiply(b);
m.setAttribute("transform",g.toString()),this.canvas.currentArtboard.appendChild(m),
T(m,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}a.style.mask=null}}}}catch(y){t=!0,n=y}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}},_canUnmask:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=getComputedStyle(o).mask;if("none"!==s){var l=u(this.canvas.masterArtboard,s);
if(l){e=!0;break}}}}catch(c){n=!0,r=c}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return e},_move:function(){var e=void 0!==arguments[0]?arguments[0]:1,t=void 0!==arguments[1]?arguments[1]:"left";
this.canvas.undoManager.checkpoint("Move");var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this.canvas.selectedElements[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=SVGMatrix.fromMatrix(s.transform.baseVal.consolidate().matrix),u=P(s,this.canvas.currentArtboard),c=u.inverse(),d=new SVGMatrix;
"left"===t?d.translateSelf(-e,0):"right"===t?d.translateSelf(e,0):"up"===t?d.translateSelf(0,-e):"down"===t&&d.translateSelf(0,e);
var h=SVGMatrix.fromMatrix(l);h.multiplySelf(c),h.multiplySelf(d),h.multiplySelf(u),
s.setAttribute("transform",h.toString()),T(s,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision})}}catch(v){r=!0,i=v}finally{try{
n||null==o["return"]||o["return"]()}finally{if(r)throw i}}},_canMove:function(){return this.canvas.selectedElements.length>0;
},_flip:function(){var e=void 0!==arguments[0]?arguments[0]:"x";this.canvas.undoManager.checkpoint("Flip");
var t=$traceurRuntime.spread(this.canvas.selectedElements),n=function(){var e=0,n=[],r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;
n[e++]=a(u)}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]()}finally{
if(i)throw o}}return n}(),r=w(n),i=!0,o=!1,s=void 0;try{for(var l=void 0,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=SVGMatrix.fromMatrix(c.transform.baseVal.consolidate().matrix),h=c.getScreenCTM(),v=h.inverse(),f=void 0;
if("x"===e){var m=2*(r.x+r.width/2);f=new SVGMatrix([-1,0,0,1,m,0])}else if("y"===e){
var b=2*(r.y+r.height/2);f=new SVGMatrix([1,0,0,-1,0,b])}var g=SVGMatrix.fromMatrix(d);
g.multiplySelf(v),g.multiplySelf(f),g.multiplySelf(h),c.setAttribute("transform",g.toString()),
T(c,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(p){o=!0,s=p}finally{try{i||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}},_canFlip:function(){return this.canvas.selectedElements.length>0},_raise:function(){
this.canvas.undoManager.checkpoint("Raise");var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.selectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(G(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.find(function(t){return N(t)>N(e[e.length-1]);
});if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e.reverse()[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.after(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=D(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(b){t=!0,n=b}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_raiseToFront:function(){this.canvas.undoManager.checkpoint("Raise to Front");
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.selectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(G(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t[t.length-1];if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e.reverse()[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.after(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=D(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(b){t=!0,n=b}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_canRaise:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.selectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=function(){var e=d.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(G(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.find(function(t){return N(t)>N(e[e.length-1]);
});return n?{v:!0}:void 0},c=void 0,d=void 0,h=D(a)[Symbol.iterator]();!(o=(d=h.next()).done);o=!0)if(c=u(),
"object"===("undefined"==typeof c?"undefined":$traceurRuntime["typeof"](c)))return c.v;
}catch(v){s=!0,l=v}finally{try{o||null==h["return"]||h["return"]()}finally{if(s)throw l;
}}}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}return!1},_lower:function(){this.canvas.undoManager.checkpoint("Lower");var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=z(this.canvas.selectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(G(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.reverse().find(function(t){return N(t)<N(e[0]);
});if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.before(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=D(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(b){t=!0,n=b}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_lowerToBack:function(){this.canvas.undoManager.checkpoint("Lower to Back");var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=z(this.canvas.selectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(G(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t[0];if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.before(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=D(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(b){t=!0,n=b}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_canLower:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.selectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=function(){var e=d.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(G(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.reverse().find(function(t){return N(t)<N(e[0]);
});return n?{v:!0}:void 0},c=void 0,d=void 0,h=D(a)[Symbol.iterator]();!(o=(d=h.next()).done);o=!0)if(c=u(),
"object"===("undefined"==typeof c?"undefined":$traceurRuntime["typeof"](c)))return c.v;
}catch(v){s=!0,l=v}finally{try{o||null==h["return"]||h["return"]()}finally{if(s)throw l;
}}}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}return!1},_rotate:function(){var e=void 0!==arguments[0]?arguments[0]:90;this.canvas.undoManager.checkpoint("Rotate");
var t=$traceurRuntime.spread(this.canvas.selectedElements),n=A(t),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=SVGMatrix.fromMatrix(l.transform.baseVal.consolidate().matrix),c=l.getScreenCTM(),d=c.inverse(),h=SVGMatrix.fromMatrix(u);
h.multiplySelf(d),h.rotateSelf(e,n.x,n.y),h.multiplySelf(c),l.setAttribute("transform",h.toString()),
T(l,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(v){i=!0,a=v}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}},_canRotate:function(){return this.canvas.selectedElements.length>0},_group:function(){
this.canvas.undoManager.checkpoint("Group");var e=$traceurRuntime.spread(this.canvas.selectedElements),t=$("svg:g");
e[0].after(t),e=V(e);var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=P(s,t);s.setAttribute("transform",l.toString()),t.append(s),T(s,{
geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}this.canvas.selectedElements=[t]},_canGroup:function(){return this.canvas.selectedElements.length>0;
},_ungroup:function(){this.canvas.undoManager.checkpoint("Ungroup");var e=$traceurRuntime.spread(this.canvas.selectedElements),t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if("g"===s.localName){var l=s,u=!0,c=!1,d=void 0;try{for(var h=void 0,v=$traceurRuntime.spread(l.children)[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if(I(f)){var m=P(f,l.parentElement);f.setAttribute("transform",m.toString()),
T(s,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
}),t.push(f)}var b=!0,g=!1,p=void 0;try{for(var y=void 0,x=l.style[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){
var _=y.value;""===f.style[_]&&(f.style[_]=l.style[_])}}catch(w){g=!0,p=w}finally{
try{b||null==x["return"]||x["return"]()}finally{if(g)throw p}}l.before(f)}}catch(S){
c=!0,d=S}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}l.remove();
}else I(s)&&t.push(s)}}catch(M){r=!0,i=M}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this.canvas.selectedElements=$traceurRuntime.spread(t)},_canUngroup:function(){
return this.canvas.selectedElements.length>0},_convertToPath:function(){var e,t,n,r,i,a,o,s,l,u,c;
return $traceurRuntime.asyncWrap(function(d){for(;;)switch(d.state){case 0:d.state=this._canConvertToPath()===!1?1:3;
break;case 1:d.returnValue=void 0,d.state=2;break;case 2:d.state=-2;break;case 3:
this.canvas.undoManager.checkpoint("Convert to path"),body.canvas.selectedTextRange=null,
e=[],t=!0,n=!1,r=void 0,d.state=44;break;case 44:d.pushTry(30,31),d.state=33;break;
case 33:i=void 0,a=this.canvas.selectedElements[Symbol.iterator](),d.state=29;break;
case 29:d.state=(t=(i=a.next()).done)?27:25;break;case 23:t=!0,d.state=29;break;case 25:
o=i.value,d.state=26;break;case 26:d.state="ellipse"===o.localName?22:21;break;case 22:
s=h(o),o.replace(s),e.push(s),d.state=23;break;case 21:d.state="path"===o.localName?19:18;
break;case 19:o.hasAttribute("data-bx-shape")&&o.removeAttribute("data-bx-shape"),
e.push(o),d.state=23;break;case 18:d.state="text"===o.localName?5:16;break;case 5:
return void Promise.resolve(this.canvas.googleFontsManager.canReplaceTextWithPaths(o)).then(d.createCallback(7),d.errback);
case 7:l=d.value,d.state=6;break;case 6:d.state=l?8:13;break;case 8:return void Promise.resolve(this.canvas.googleFontsManager.replaceTextWithPaths(o,this.canvas.geometryPrecision,this.canvas.transformPrecision)).then(d.createCallback(10),d.errback);
case 10:u=d.value,d.state=9;break;case 9:e=$traceurRuntime.spread(e,u),d.state=23;
break;case 13:e.push(o),d.state=23;break;case 16:e.push(o),d.state=23;break;case 27:
d.popTry(),d.state=31,d.finallyFallThrough=35;break;case 30:d.popTry(),d.maybeUncatchable(),
c=d.storedException,d.state=36;break;case 36:n=!0,r=c,d.state=31,d.finallyFallThrough=35;
break;case 31:d.popTry(),d.state=42;break;case 42:try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}d.state=40;break;case 35:body.canvas.selectedElements=e,d.state=-2;
break;case 40:d.state=d.finallyFallThrough;break;default:return d.end()}},this)},
_canConvertToPath:function(){var e=this;return new Promise(function(t){var n,r,i,a,o,s,l,u;
return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){case 0:n=!1,r=!0,
i=!1,a=void 0,c.state=38;break;case 38:c.pushTry(24,25),c.state=27;break;case 27:
o=void 0,s=e.canvas.selectedElements[Symbol.iterator](),c.state=23;break;case 23:
c.state=(r=(o=s.next()).done)?21:19;break;case 17:r=!0,c.state=23;break;case 19:l=o.value,
c.state=20;break;case 20:c.state="ellipse"===l.localName?16:15;break;case 16:n=!0,
c.state=17;break;case 15:c.state="path"===l.localName?7:14;break;case 7:c.state=l.hasAttribute("data-bx-shape")?5:3;
break;case 5:n=!0,c.state=17;break;case 3:n=!1,c.state=21;break;case 14:c.state="text"===l.localName?8:17;
break;case 8:return void Promise.resolve(e.canvas.googleFontsManager.canReplaceTextWithPaths(l)).then(c.createCallback(10),c.errback);
case 10:n=c.value,c.state=9;break;case 9:c.state=n===!1?21:17;break;case 21:c.popTry(),
c.state=25,c.finallyFallThrough=29;break;case 24:c.popTry(),c.maybeUncatchable(),
u=c.storedException,c.state=30;break;case 30:i=!0,a=u,c.state=25,c.finallyFallThrough=29;
break;case 25:c.popTry(),c.state=36;break;case 36:try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}c.state=34;break;case 29:t(n),c.state=-2;break;case 34:c.state=c.finallyFallThrough;
break;default:return c.end()}},this)})},_reversePath:function(){if(this._canReversePath()!==!1){
this.canvas.undoManager.checkpoint("Reverse path");var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;"path"===a.localName&&a.hasAttribute("data-bx-shape")===!1&&m(a)}}catch(o){
t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}}},
_canReversePath:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if("path"===a.localName&&a.hasAttribute("data-bx-shape")===!1)return!0;
}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}return!1},_performBooleanOperation:function(){var e,t,n,r,i=void 0!==arguments[0]?arguments[0]:"unite";
if(this._canPerformBooleanOperation()!==!1){this.canvas.undoManager.checkpoint(M(i));
var a=this.canvas.selectedElements,o=(e=a[Symbol.iterator](),(t=e.next()).done?void 0:t.value),s=$traceurRuntime.iteratorToArray(e),l=this.canvas,u=l.geometryPrecision,c=l.transformPrecision,d=[],v=!0,f=!1,m=void 0;
try{for(var b=void 0,g=this.canvas.selectedElements[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){
var w=b.value,S=void 0;"path"===w.localName?(S=w.cloneNode(),S.hasAttribute("data-bx-shape")&&S.removeAttribute("data-bx-shape")):"ellipse"===w.localName&&(S=h(w));
var C=P(w,o.parentElement).toString();S.setAttribute("transform",C),S.setPathData(S.getPathData({
normalize:!0})),T(S,{geometryPrecision:u,transformPrecision:c,preservePathRotation:!1
}),d.push(S)}}catch(R){f=!0,m=R}finally{try{v||null==g["return"]||g["return"]()}finally{
if(f)throw m}}var k=d,E=(n=k[Symbol.iterator](),(r=n.next()).done?void 0:r.value),A=$traceurRuntime.iteratorToArray(n),L=!0,$=!1,j=void 0;
try{for(var N=void 0,O=A[Symbol.iterator]();!(L=(N=O.next()).done);L=!0){var V=N.value,z=E.getPathData(),D=V.getPathData(),G=[];
"unite"===i?G=p(z,D,u):"subtract"===i?G=y(z,D,u):"intersect"===i?G=x(z,D,u):"exclude"===i&&(G=_(z,D,u)),
E.setPathData(G)}}catch(I){$=!0,j=I}finally{try{L||null==O["return"]||O["return"]();
}finally{if($)throw j}}E.hasAttribute("d")?o.replace(E):o.remove();var B=!0,U=!1,H=void 0;
try{for(var F=void 0,q=s[Symbol.iterator]();!(B=(F=q.next()).done);B=!0){var W=F.value;
W.remove()}}catch(Y){U=!0,H=Y}finally{try{B||null==q["return"]||q["return"]()}finally{
if(U)throw H}}E.hasAttribute("d")?this.canvas.selectedElements=[E]:this.canvas.selectedElements=[];
}},_canPerformBooleanOperation:function(){if(this.canvas.selectedElements.length<2)return!1;
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if(["path","ellipse"].includes(a.localName)===!1)return!1}}catch(o){
t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}return!0;
},_combine:function(){var e,t,n,r;if(this._canCombine()!==!1){this.canvas.undoManager.checkpoint("Combine");
var i=this.canvas.selectedElements,a=(e=i[Symbol.iterator](),(t=e.next()).done?void 0:t.value),o=$traceurRuntime.iteratorToArray(e),s=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,v=this.canvas.selectedElements[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){
var f=d.value,m=void 0;"path"===f.localName?(m=f.cloneNode(),m.removeAttribute("data-bx-shape")):"ellipse"===f.localName&&(m=h(f));
var b=P(f,a.parentElement).toString();m.setAttribute("transform",b),m.setPathData(m.getPathData({
normalize:!0})),T(m,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision,
preservePathRotation:!1}),s.push(m)}}catch(g){u=!0,c=g}finally{try{l||null==v["return"]||v["return"]();
}finally{if(u)throw c}}var p=s,y=(n=p[Symbol.iterator](),(r=n.next()).done?void 0:r.value),x=$traceurRuntime.iteratorToArray(n),_=y.getPathData(),w=!0,S=!1,M=void 0;
try{for(var C=void 0,R=x[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){var k=C.value,E=k.getPathData();
_=$traceurRuntime.spread(_,E)}}catch(A){S=!0,M=A}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw M}}y.setPathData(_),a.replace(y);var L=!0,$=!1,j=void 0;try{for(var N=void 0,O=o[Symbol.iterator]();!(L=(N=O.next()).done);L=!0){
var V=N.value;V.remove()}}catch(z){$=!0,j=z}finally{try{L||null==O["return"]||O["return"]();
}finally{if($)throw j}}this.canvas.selectedElements=[y]}},_canCombine:function(){
if(this.canvas.selectedElements.length<2)return!1;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if(["path","ellipse"].includes(a.localName)===!1)return!1}}catch(o){
t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}return!0;
},_breakApart:function(){var e,t,n,r;if(this._canBreakApart()!==!1){this.canvas.undoManager.checkpoint("Break Apart");
var i=this.canvas.selectedElements,a=(e=i[Symbol.iterator](),(t=e.next()).done?void 0:t.value,
$traceurRuntime.iteratorToArray(e),[]),o=!0,s=!1,l=void 0;try{for(var u=void 0,h=this.canvas.selectedElements[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){
var v=u.value;if("path"===v.localName){var m=f(v.getPathData(!0));if(m.length>1){
var b=m,g=(n=b[Symbol.iterator](),(r=n.next()).done?void 0:r.value),p=$traceurRuntime.iteratorToArray(n),y=v;
y.setPathData(g),a.push(y);var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=p[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value,R=y.cloneNode();R.setPathData(C),y.after(R),a.push(R);var k=!0,E=!1,A=void 0;
try{for(var P=void 0,T=["fill","stroke"][Symbol.iterator]();!(k=(P=T.next()).done);k=!0){
var L=P.value,j=c(R,L);if(j)if("linearGradient"===j.localName||"radialGradient"===j.localName){
var N=j,O=N.cloneNode(!0);O.id=this.canvas.generateUniqueID("gradient"),N.after(O),
R.style[L]='url("#'+O.id+'")'}else if("pattern"===j.localName){var V=j;if(V.hasAttribute("href")){
var z=d(V),D=V.cloneNode();D.id=this.canvas.generateUniqueID(z.id),V.after(D),R.style[L]='url("#'+D.id+'")';
}else{var G=$("svg:pattern");G.id=this.canvas.generateUniqueID(V.id),G.setAttribute("href","#"+V.id),
V.after(G),R.style[L]='url("#'+G.id+'")'}}}}catch(I){E=!0,A=I}finally{try{k||null==T["return"]||T["return"]();
}finally{if(E)throw A}}}}catch(B){_=!0,w=B}finally{try{x||null==M["return"]||M["return"]();
}finally{if(_)throw w}}}else a.push(v)}else a.push(v)}}catch(U){s=!0,l=U}finally{
try{o||null==h["return"]||h["return"]()}finally{if(s)throw l}}body.canvas.selectedElements=a;
}},_canBreakApart:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if("path"===a.localName&&a.hasAttribute("data-bx-shape")===!1){var o=f(a.getPathData(!0));
if(o.length>1)return!0}}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}return!1}},{},e)}(e),W=j("body","bx-editorbody",q);return{
get default(){return W}}}),$traceurRuntime.registerModule("elements/bx-edittool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-edittool")).getClientBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-edittool")),n=(t.isTransformableElement,
t.registerElement),r=t.queryGraphicsElements,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-edittool")).isMouseMoveIntentional,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-edittool")).closest,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-edittool")),s=o.rectContainsRect,l=o.transformRect,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-edittool")).getRangeOffsetRelativeToElement,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-edittool")).debounce,d=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-edittool"))["default"],
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-edittool"))["default"]),h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","elements/bx-edittool")).GRAPHICS_ELEMENTS,v=Node.DOCUMENT_POSITION_PRECEDING,f=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._onKeyPress300Db=c(this._onKeyPress300Db,300,this,!0),
this._onBackspaceKeyDown600Db=c(this._onBackspaceKeyDown600Db,600,this,!0);var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_enableTextInputMode:function(){var e=this;body.canvas.textInputMode=!0,document.addEventListener("selectionchange",this._selectionChangeListener=function(){
e._onSystemSelectionChange()}),document.addEventListener("mousedown",this._documentMouseDownListener=function(t){
e._onDocumentMouseDown(t)}),document.addEventListener("keydown",this._keydownListener=function(t){
e._onKeyDown(t)}),document.addEventListener("keypress",this._keypressListener=function(t){
e._onKeyPress300Db(t),e._onKeyPress(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._onUndoOrRedo()})},_disableTextInputMode:function(){body.canvas.textInputMode=!1,
document.removeEventListener("selectionchange",this._selectionChangeListener),document.removeEventListener("mousedown",this._documentMouseDownListener),
document.removeEventListener("keydown",this._keydownListener),document.removeEventListener("keypress",this._keypressListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener);
},_onEnabled:function(){var e=this;if(body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("triangle-hud"),
body.canvas.enableHud("rect-hud"),body.canvas.enableHud("ellipse-hud"),body.canvas.enableHud("n-gon-hud"),
body.canvas.enableHud("star-hud"),body.canvas.enableHud("ring-hud"),body.canvas.enableHud("paths-edit-hud"),
body.canvas.enableHud("rubber-band-hud"),body.canvas.enableHud("selected-text-range-hud"),
body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),1===body.canvas.selectedElements.length&&"text"===body.canvas.selectedElements[0].localName){
var t=body.canvas.selectedElements[0];this._enableTextInputMode();var n=new Range;
n.selectNodeContents(t),body.canvas.selectedTextRange=n,this._setSystemSelectionToCanvasSelectedTextRange();
}},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("triangle-hud"),
body.canvas.disableHud("rect-hud"),body.canvas.disableHud("ellipse-hud"),body.canvas.disableHud("n-gon-hud"),
body.canvas.disableHud("star-hud"),body.canvas.disableHud("ring-hud"),body.canvas.disableHud("paths-edit-hud"),
body.canvas.disableHud("rubber-band-hud"),body.canvas.disableHud("selected-text-range-hud"),
body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.selectedTextRange=null,this._disableTextInputMode()},_onSelectedElementsChange:function(){
if(body.canvas.selectedTextRange){var e=a(body.canvas.selectedTextRange.startContainer,"text"),t=body.canvas.selectedElements.find(function(t){
return t===e||t.contains(e)});t||(body.canvas.selectedTextRange=null)}},_onSystemSelectionChange:function(){
var e=body.canvas._shadowRoot.getSelection();if("None"!==e.type){var t=r(body.canvas.selectedElements),n=t.length>0?t[0]:null,i=e.getRangeAt(0).cloneRange(),a=n&&"text"===n.localName?n:null;
a&&a.contains(i.startContainer)&&a!==i.startContainer&&a.contains(i.endContainer)&&a!==i.endContainer&&(i.direction=this._getSelectionDirection(e),
body.canvas.selectedTextRange=i)}},_onUndoOrRedo:function(){body.canvas.selectedTextRange=null,
this._setSystemSelectionToCanvasSelectedTextRange()},_onKeyDown:function(e){var t=d.fromEvent(e);
t.ctrl||t.alt||t.meta||e.stopImmediatePropagation(),body.isMouseDown?(e.preventDefault(),
e.stopImmediatePropagation()):t.includes("ArrowUp")||t.includes("ArrowDown")?(e.preventDefault(),
e.stopImmediatePropagation()):t.includes("ArrowLeft")||t.includes("ArrowRight")?this._setSystemSelectionToCanvasSelectedTextRange():t.matches("Control","A")?(e.preventDefault(),
e.stopImmediatePropagation(),this._selectAll()):t.matches("Enter")?(e.preventDefault(),
e.stopImmediatePropagation()):t.includes("Backspace")&&(e.preventDefault(),e.stopImmediatePropagation(),
this._onBackspaceKeyDown600Db(e),this._onBackspaceKeyDown(e))},_onBackspaceKeyDown:function(e){
this._setSystemSelectionToCanvasSelectedTextRange();var t=body.canvas.selectedTextRange,n=a(t.startContainer,"text"),r=u(t,n,"start");
t.collapsed===!0&&0===r||(document.execCommand("delete"),0===n.textContent.length&&(n.remove(),
body.canvas.selectedTextRange=null,this._disableTextInputMode()))},_onBackspaceKeyDown600Db:function(e){
body.canvas.undoManager.checkpoint("Delete text")},_onKeyPress:function(e){var t=a(body.canvas.selectedTextRange.startContainer,"text"),n=a(body.canvas.selectedTextRange.startContainer,"textPath"),r=n||t,i=body.canvas.selectedTextRange;
if(i.collapsed===!1&&i.toString()===r.textContent){var o=r.children[0],s=String.fromCharCode(e.keyCode);
for(o.innerHTML=s;r.childElementCount>1;)r.lastChild.remove();e.preventDefault(),
i.selectNodeContents(o),i.collapse(),this._setSystemSelectionToCanvasSelectedTextRange();
}},_onKeyPress300Db:function(e){body.canvas.undoManager.checkpoint("Text")},_onDocumentMouseDown:function(e){
e.target!==body.canvas&&this._disableTextInputMode()},_onArtboardMouseDown:function(e){
var t=this;if(0===e.button){var n=body.canvas.getHitArtboardElements(e.clientX,e.clientY),r=n.length>0?n[n.length-1]:null,a=r&&"text"===r.localName?r:null;
if(a?this._onMouseDownTextElementHit(r,e):r?this._onMouseDownNonTextElementHit(r,e):this._onMouseDownEmptySpaceHit(),
null===a){var o,s;window.addEventListener("mousemove",o=function(n){i(e,n)&&(window.removeEventListener("mousemove",o),
t._onArtboardIntentionalDragStart(e,n))}),window.addEventListener("mouseup",s=function(n){
window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",s),
e.clientX===n.clientX&&e.clientY===n.clientY&&t._onArtboardClick(n)})}}},_onMouseDownTextElementHit:function(e,t){
var n=body.modKeys.shift;if(n===!1)body.canvas.selectedElements=[e],this._updateCurrentContainer(),
body.canvas.textInputMode||this._enableTextInputMode(e);else if(n===!0){var r=body.canvas.selectedElements.find(function(t){
return t.contains(e)});r?(body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==r}),body.canvas.selectedTextRange=null):body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]),
this._updateCurrentContainer(),body.canvas.textInputMode||this._enableTextInputMode(e);
}t.detail>=3&&(t.preventDefault(),this._selectAll())},_onMouseDownNonTextElementHit:function(){
this._disableTextInputMode(),null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null);
},_onMouseDownEmptySpaceHit:function(){this._disableTextInputMode(),null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null);
},_onArtboardIntentionalDragStart:function(e){var t,n,r,i,a;return $traceurRuntime.asyncWrap(function(o){
for(;;)switch(o.state){case 0:t=e,n=t.clientX,r=t.clientY,o.state=5;break;case 5:
return void Promise.resolve(body.canvas.rubberBandHud.grabSelection(n,r)).then(o.createCallback(3),o.errback);
case 3:i=o.value,o.state=2;break;case 2:a=this._getSelectedPaths(),a.length>0?body.canvas.pathsEditHud.rubberBandSelectionCallback(i):(null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null),
body.canvas.selectedElements=this._getElementsInBBox(i),this._updateCurrentContainer()),
o.state=-2;break;default:return o.end()}},this)},_onArtboardClick:function(e){var t=body.modKeys.shift,n=body.canvas.getHitArtboardElements(e.clientX,e.clientY),r=n.length>0?n[n.length-1]:null;
if(r){if(t===!1)body.canvas.selectedElements=[r],null!==body.canvas.selectedTextRange&&(body.canvas.selectedTextRange=null),
this._updateCurrentContainer();else if(t===!0){var i=body.canvas.selectedElements.find(function(e){
return e.contains(r)});i?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==i}):body.canvas.selectedElements.includes(r)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==r}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[r]),
this._updateCurrentContainer()}}else body.canvas.selectedElements=[],this._updateCurrentContainer();
},_selectAll:function(){if(null!==body.canvas.selectedTextRange){var e=a(body.canvas.selectedTextRange.startContainer,"text"),t=a(body.canvas.selectedTextRange.startContainer,"textPath"),n=t||e,r=n.firstElementChild,i=n.lastElementChild,o=r.firstElementChild?r.firstElementChild.firstChild:r.firstChild,s=i.lastElementChild?i.lastElementChild.lastChild:i.lastChild,l=new Range;
l.setStart(o,0),l.setEnd(s,s.textContent.length),body.canvas.selectedTextRange=l,
this._setSystemSelectionToCanvasSelectedTextRange()}},_getSelectionDirection:function(e){
var t=e.anchorNode.compareDocumentPosition(e.focusNode);return!t&&e.anchorOffset>e.focusOffset||t===v?"backward":"forward";
},_getSelectedPaths:function(){var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("d")&&!s.hasAttribute("data-bx-shape")?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t},_getElementsInBBox:function(t){var n=[],r=body.canvas.currentArtboard.getScreenCTM().inverse(),i=function(a){
var o=!0,u=!1,c=void 0;try{for(var d=void 0,v=a.children[Symbol.iterator]();!(o=(d=v.next()).done);o=!0){
var f=d.value;if(h.includes(f.localName)){var m=e(f);m=l(m,r);var b=0===m.width&&0===m.height;
!b&&s(t,m)&&n.push(f)}else"g"!==f.localName&&"a"!==f.localName||i(f)}}catch(g){u=!0,
c=g}finally{try{o||null==v["return"]||v["return"]()}finally{if(u)throw c}}};return i(body.canvas.currentArtboard),
n},_setSystemSelectionToCanvasSelectedTextRange:function(){var e=document.getSelection(),t=body.canvas.selectedTextRange;
null===t?e.removeAllRanges():(e.removeAllRanges(),e.addRange(t))},_updateCurrentContainer:function(){
var e=body.canvas.selectedElements.length>0?body.canvas.selectedElements[0]:null,t=null;
if(e){var n=e.closest("g, a");n!==body.canvas.currentArtboard&&(t=n)}body.canvas.currentContainer=t;
}},{},t)}(HTMLElement),m=n("bx-edittool",f);return{get default(){return m}}}),$traceurRuntime.registerModule("elements/bx-ellipsehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ellipsehud")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ellipsehud")).normalize,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-ellipsehud")).throttle,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ellipsehud")).getTransformToElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-ellipsehud"))["default"],o=new a("ellipse"),s=6,l='\n  <style>@import url("stylesheets/bx-ellipsehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',u=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedEllipses=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=r(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=l;var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedEllipses=this._getSelectedEllipses(),
0===this._selectedEllipses.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(e){
e.target.classList.contains("grippie")&&this._onGrippieMouseDown(e)},_onGrippieMouseDown:function(e){
var t=this;if(0===e.button){var r,i,a,s=e.target,l=s.parentElement,u=l[o.ellipse],c=s.getAttribute("data-axis"),d=u.getCTM().inverse(),h={
rx:u.rx.baseVal.value,ry:u.ry.baseVal.value},v=new SVGPoint(e.clientX,e.clientY).matrixTransform(d),f=body.canvas.geometryPrecision,m=new SVGPoint(v.x,v.y),b="normal",g=!1;
s.parentElement.append(s),this._draggedGrippie=s;var p=function(){var e=body.modKeys,t=e.ctrl,n=e.shift;
t===!0&&n===!1?b="normal":t===!1&&n===!0?b="symmetric":t===!0&&n===!0?b="symmetric":u.rx.baseVal.value===u.ry.baseVal.value&&(b="symmetric");
},y=function(){var e=m.x-v.x,t=m.y-v.y;if("rx"===c){if("normal"===b){var r=n(h.rx+e,0,1/0,f);
u.setAttribute("rx",r)}else if("symmetric"===b){var i=n(h.rx+e,0,1/0,f);u.setAttribute("rx",i),
u.setAttribute("ry",i)}}else if("ry"===c)if("normal"===b){var a=n(h.ry+t,0,1/0,f);
u.setAttribute("ry",a)}else if("symmetric"===b){var o=n(h.ry+t,0,1/0,f);u.setAttribute("rx",o),
u.setAttribute("ry",o)}};window.addEventListener("mousemove",r=function(e){g||(g=!0,
body.canvas.undoManager.checkpoint("Ellipse radius")),m=new SVGPoint(e.clientX,e.clientY).matrixTransform(d),
y()}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i),body.removeEventListener("modkeyschange",a),
t._draggedGrippie=null}),body.addEventListener("modkeyschange",a=function(){p(),y();
}),p()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this._selectedEllipses[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[o.ellipse]=a,
this["#subhuds"].append(s)}}catch(l){t=!0,n=l}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this["#subhuds"].children[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var s=r.value,l=s[o.ellipse],u=i(l,this),c=!0,d=!1,h=void 0;try{for(var v=void 0,f=s.children[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value,b=m.getAttribute("data-axis");if("rx"===b){var g=new SVGPoint(l.cx.baseVal.value+l.rx.baseVal.value,l.cy.baseVal.value).matrixTransform(u);
m.setAttribute("cx",g.x),m.setAttribute("cy",g.y)}else if("ry"===b){var p=new SVGPoint(l.cx.baseVal.value,l.cy.baseVal.value+l.ry.baseVal.value).matrixTransform(u);
m.setAttribute("cx",p.x),m.setAttribute("cy",p.y)}}}catch(y){d=!0,h=y}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}}}catch(x){t=!0,n=x}finally{
try{e||null==a["return"]||a["return"]()}finally{if(t)throw n}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=a.children[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h.setAttribute("r",s/body.canvas.scale)}}catch(v){l=!0,u=v}finally{
try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){t=!0,n=f;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedEllipses:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"ellipse"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedEllipses(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),c=t("g","bx-ellipsehud",u);return{get default(){
return c}}}),$traceurRuntime.registerModule("elements/bx-ellipsetool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ellipsetool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-ellipsetool")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ellipsetool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ellipsetool")).round,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-ellipsetool")).reduceTransform,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ellipsetool"))["default"],c=Math,d=c.abs,h=c.min,v=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._ellipseCursor=body.registerCursor("images/cursor-ellipse.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
return e._onMouseDown(t)})},_onDisabled:function(){body.unregisterCursor(this._ellipseCursor),
body.unregisterCursor(this._mouseDownEllipseCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(e){
var t,n,i=this;window.addEventListener("mousemove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),i._onIntentionalDragStart(e))}),window.addEventListener("mouseup",n=function(e){
window.removeEventListener("mousemove",t),body.canvas.removeEventListener("mouseend",n);
})},_onIntentionalDragStart:function(e){var n,r,i,c=this,v=body.canvas.currentContainer||body.canvas.currentArtboard,f=body.modKeys.ctrl?"polar":"planar",m=0,b=0,g=0,p=0;
body.canvas.undoManager.checkpoint("Draw Ellipse");var y=t("svg:ellipse");y.style.fill="#d8d8d8",
v.append(y),body.canvas.selectedElements=[y],this._mouseDownEllipseCursor=body.registerCursor("images/cursor-ellipse.svg",900,8,8);
var x=y.getScreenCTM().inverse(),_=y.transform.baseVal.consolidate().matrix.multiply(x);
y.setAttribute("transform",_.toString()),window.addEventListener("mousemove",n=function(t){
if("planar"===f){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=d(n),s=d(r);
if(body.modKeys.shift){var l=h(i,s);i=l,s=l}var c=0>n?e.clientX-i:e.clientX,v=0>r?e.clientY-s:e.clientY;
m=c+i/2,b=v+s/2,g=i/2,p=s/2}else if("polar"===f){var x=new SVGPoint(e.clientX,e.clientY),w=new SVGPoint(x.x,x.y-100),S=new SVGPoint(t.clientX,t.clientY),M=new u(x,S),C=a(x,w,S);
m=x.x,b=x.y,g=M.length,p=M.length,body.modKeys.shift&&(C=o(C,45));var R=(new SVGMatrix).rotate(C,x.x,x.y);
y.setAttribute("transform",_.multiply(R).toString())}y.setAttribute("cx",m),y.setAttribute("cy",b),
y.setAttribute("rx",g),y.setAttribute("ry",p)}),window.addEventListener("mouseup",r=function(){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
body.removeEventListener("toolchange",i),body.unregisterCursor(c._mouseDownEllipseCursor);
var e=body.canvas,t=e.geometryPrecision,a=e.transformPrecision;y.setAttribute("cx",s(m,t)),
y.setAttribute("cy",s(b,t)),y.setAttribute("rx",s(g,t)),y.setAttribute("ry",s(p,t)),
l(y,{geometryPrecision:t,transformPrecision:a})}),body.addEventListener("toolchange",i=function(){
return r()})}},{},e)}(HTMLElement),f=n("bx-ellipsetool",v);return{get default(){return f;
}}}),$traceurRuntime.registerModule("elements/bx-exportcontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectitem","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-exportcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-exportcontrols")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-exportcontrols")).throttle,r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-exportcontrols.css");\n  </style>\n\n  <section id="export-bitmap-section">\n    <div id="format-div">\n      <h3>Format</h3>\n\n      <bx-select id="format-select" value="png">\n        <bx-selectitem value="png" label="PNG"></bx-selectitem>\n        <bx-selectitem value="jpg" label="JPEG"></bx-selectitem>\n      </bx-select>\n    </div>\n\n    <div id="area-div">\n      <h3>Scope</h3>\n\n      <bx-select id="area-select" value="viewBox">\n        <bx-selectitem value="selected" label="Selection"></bx-selectitem>\n        <bx-selectitem value="viewBox" label="View box"></bx-selectitem>\n      </bx-select>\n    </div>\n\n    <div id="compression-div">\n      <h3>Compression</h3>\n\n      <bx-slider\n        id="compression-slider"\n        title="Compression"\n        min="0"\n        max="1"\n        value="0.82"\n        precision="2">\n      </bx-slider>\n    </div>\n\n    <bx-checkbox label="Transparent background" id="transparent-checkbox" checked></bx-checkbox>\n\n    <bx-button id="export-button" label="Export"></bx-button>\n  </section>\n',i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var t=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#area-select"].addEventListener("change",function(){
return e._update200Th()}),this["#format-select"].addEventListener("change",function(){
return e._onFormatSelectChange()}),this["#export-button"].addEventListener("click",function(t){
return e._onExportButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onArtboardMutation:function(e){
this._update200Th()},_onFormatSelectChange:function(){var e=this["#format-select"].value;
"png"===e?(this["#compression-div"].hidden=!1,this["#transparent-checkbox"].hidden=!1):"jpg"===e&&(this["#compression-div"].hidden=!1,
this["#transparent-checkbox"].hidden=!0)},_onExportButtonClick:function(e){var t,n,r,i,a,o,s,l,u,c,d,h,v,f;
return $traceurRuntime.asyncWrap(function(e){for(;;)switch(e.state){case 0:t=this["#format-select"].value,
n=this["#area-select"].value,e.state=25;break;case 25:d=body.getConfig,h=d.call(body,"bx-preferences:canvasBackgroundColor"),
e.state=5;break;case 5:return void Promise.resolve(h).then(e.createCallback(3),e.errback);
case 3:v=e.value,e.state=2;break;case 2:f=v?v:"#ffffff",r=f,e.state=7;break;case 7:
i="viewBox"===n?body.canvas.extractArtworkWithViewBoxElements():body.canvas.extractArtworkWithSelectedElements(),
e.state=27;break;case 27:e.state="png"===t?11:22;break;case 11:a=this["#compression-slider"].value,
o=this["#transparent-checkbox"].checked,s=o?"rgba(0, 0, 0, 0)":r,e.state=12;break;
case 12:return void Promise.resolve(body.rasterizeArtwork(i,"png",a,s)).then(e.createCallback(10),e.errback);
case 10:l=e.value,e.state=9;break;case 9:body.bridge.postMessage("exportFile",{format:"png",
data:l}),e.state=-2;break;case 22:e.state="jpg"===t?18:-2;break;case 18:u=this["#compression-slider"].value,
e.state=19;break;case 19:return void Promise.resolve(body.rasterizeArtwork(i,"jpg",u,r)).then(e.createCallback(17),e.errback);
case 17:c=e.value,e.state=16;break;case 16:body.bridge.postMessage("exportFile",{
format:"jpg",data:c}),e.state=-2;break;default:return e.end()}},this)},_update:function(){
"selected"===this["#area-select"].value&&0===body.canvas.selectedElements.length?this["#export-button"].disabled=!0:this["#export-button"].disabled=!1;
}},{},e)}(HTMLElement),a=t("bx-exportcontrols",i);return{get default(){return a}};
}),$traceurRuntime.registerModule("elements/bx-fillcontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-fillcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-fillcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-paintsection","elements/bx-fillcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fillcontrols")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-fillcontrols")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-fillcontrols")).queryStylableElements,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-fillcontrols")).normalizeTextInRangeBeforeEditing,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-fillcontrols")).throttle,a=Number.parseFloat,o='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-fillcontrols.css");\n  </style>\n\n  <main>\n    <section id="paint-section" is="bx-paintsection" context="fill"></section>\n\n    <section id="opacity-section">\n      <h2 id="opacity-section-heading">Opacity</h2>\n\n      <bx-slider\n        id="opacity-slider"\n        title="Fill Opacity"\n        value="1"\n        min="0"\n        max="1"\n        precision="2">\n      </bx-slider>\n    </section>\n\n    <section id="fill-rule-section">\n      <h2 id="fill-rule-section-heading">Fill Rule</h2>\n\n      <div id="fill-rule-buttons">\n        <bx-button\n          id="non-zero-fill-rule-button"\n          value="nonzero"\n          icon="fill-rule-non-zero"\n          iconsize="28"\n          title="Non-zero"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="even-odd-fill-rule-button"\n          value="evenodd"\n          icon="fill-rule-even-odd"\n          iconsize="28"\n          title="Even-odd"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n  </main>\n',s=function(e){
function s(){$traceurRuntime.superConstructor(s).apply(this,arguments)}return $traceurRuntime.createClass(s,{
createdCallback:function(){var e=this;this._update200Th=i(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=o;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){
var l=a.value;this["#"+l.id]=l}}catch(u){n=!0,r=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return e._onOpacitySliderChangeStart()}),this["#non-zero-fill-rule-button"].addEventListener("click",function(){
return e._onFillRuleButtonClick(event)}),this["#even-odd-fill-rule-button"].addEventListener("click",function(){
return e._onFillRuleButtonClick(event)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this["#paint-section"].enabled=!0,this._toggleHuds(),
this._onSelectedElementsChange(),body.addEventListener("toolchange",this._toolChangeListener=function(){
e._toggleHuds()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)})},_onDisabled:function(){this["#paint-section"].enabled=!1,
this._toggleHuds(),body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onOpacitySliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Fill opacity");var t=body.canvas,i=t.selectedElements,a=t.selectedTextRange;
r(a);var o,s,l=n("fill-opacity",i,a);this._isChangingOpacitySlider=!0,this["#opacity-slider"].addEventListener("change",o=function(){
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=l[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.style.fillOpacity=e["#opacity-slider"].value}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}e["#opacity-slider"].mixed=!1;
}),this["#opacity-slider"].addEventListener("changeend",s=function(){e["#opacity-slider"].removeEventListener("change",o),
e["#opacity-slider"].removeEventListener("changeend",s),e._isChangingOpacitySlider=!1;
})},_onFillRuleButtonClick:function(e){var t=e.target,i=t.pressed,a=t.mixed,o=t.value;
if(0===e.button&&(i!==!0||a!==!1)){body.canvas.undoManager.checkpoint("Fill rule");
var s=body.canvas,l=s.selectedElements,u=s.selectedTextRange;r(u);var c=n("fill-rule",l,u),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var b=f.value;
b.style.fillRule=o}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}}},_update:function(){this._updateOpacitySection(),this._updateFillRuleSection();
},_updateOpacitySection:function(){if(!this._isChangingOpacitySlider){var e=body.canvas,r=e.selectedElements,i=e.selectedTextRange,o=n("fill-opacity",r,i),s=o[0]||null;
if(null===s?this["#opacity-section-heading"].disabled=!0:this["#opacity-section-heading"].disabled=!1,
null===s)this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;else{
this["#opacity-slider"].disabled=!1;var l=t(a(getComputedStyle(s).fillOpacity),2),u=!1,c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
if(m!==s){var b=t(a(getComputedStyle(m).fillOpacity),2);if(b!==l){u=!0;break}}}}catch(g){
d=!0,h=g}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#opacity-slider"].value=l,
this["#opacity-slider"].mixed=u}}},_updateFillRuleSection:function(){var e=body.canvas,t=e.selectedElements,r=e.selectedTextRange,i=n("fill-rule",t,r),a=i[0]||null;
if(null===a?this["#fill-rule-section-heading"].disabled=!0:this["#fill-rule-section-heading"].disabled=!1,
null===a)this["#non-zero-fill-rule-button"].disabled=!0,this["#non-zero-fill-rule-button"].pressed=!1,
this["#non-zero-fill-rule-button"].mixed=!1,this["#even-odd-fill-rule-button"].disabled=!0,
this["#even-odd-fill-rule-button"].pressed=!1,this["#even-odd-fill-rule-button"].mixed=!1;else{
this["#non-zero-fill-rule-button"].disabled=!1,this["#even-odd-fill-rule-button"].disabled=!1;
var o=getComputedStyle(a).fillRule,s=!1,l=!0,u=!1,c=void 0;try{for(var d=void 0,h=i[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value,f=getComputedStyle(v).fillRule;f!==o&&(s=!0)}}catch(m){u=!0,c=m}finally{
try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}"evenodd"===o?(this["#non-zero-fill-rule-button"].pressed=!1,
this["#non-zero-fill-rule-button"].mixed=!1,this["#even-odd-fill-rule-button"].pressed=!0,
this["#even-odd-fill-rule-button"].mixed=s):"nonzero"===o&&(this["#non-zero-fill-rule-button"].pressed=!0,
this["#non-zero-fill-rule-button"].mixed=s,this["#even-odd-fill-rule-button"].pressed=!1,
this["#even-odd-fill-rule-button"].mixed=!1)}},_toggleHuds:function(){"edit-tool"===body.currentTool.id&&body.currentSecondaryPanel&&"fill-panel"===body.currentSecondaryPanel.id?(body.canvas.enableHud("linear-gradient-fill-hud"),
body.canvas.enableHud("radial-gradient-fill-hud"),body.canvas.enableHud("pattern-fill-hud")):(body.canvas.disableHud("linear-gradient-fill-hud"),
body.canvas.disableHud("radial-gradient-fill-hud"),body.canvas.disableHud("pattern-fill-hud"));
}},{},e)}(HTMLElement),l=e("bx-fillcontrols",s);return{get default(){return l}}}),
$traceurRuntime.registerModule("elements/bx-filterinput",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-filterinput")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-filterinput"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-filterinput"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/undo-manager","elements/bx-filterinput"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-filterinput")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-filterinput")).debounce,i=(Object.entries,
'\n  <style>@import url("stylesheets/bx-filterinput.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" tabindex="0"></input>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),a=function(n){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this.commands={selectAll:{exec:function(){return e["#input"].select();
}},cut:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._cutInputValue()}},copy:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._copyInputValue()}},paste:{exec:function(){return e._pasteInputValue();
}},undo:{enabled:function(){return e._undoManager.canUndo()},exec:function(){return e._undoManager.undo();
}},redo:{enabled:function(){return e._undoManager.canRedo()},exec:function(){return e._undoManager.redo();
}}};var n=null;this._onInputInput250Db=r(this._onInputInput250Db,250,this),this._undoManager=new t,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;this["#"+c.id]=c}}catch(d){o=!0,s=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}var h=!0,v=!1,f=void 0;try{for(var m=void 0,b=this.attributes[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value;this.attributeChangedCallback(g.name)}}catch(p){v=!0,f=p}finally{try{
h||null==b["return"]||b["return"]()}finally{if(v)throw f}}this.addEventListener("contextmenu",function(t){
return e._onContextMenu(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocus(t)}),this["#input"].addEventListener("blur",function(t){return e._onInputBlur(t);
}),this["#input"].addEventListener("keydown",function(t){return e._onInputKeyDown(t);
}),this["#input"].addEventListener("input",function(t){return e._onInputInput(t)}),
this["#input"].addEventListener("input",function(t){return e._onInputInput250Db(t);
}),this["#input"].addEventListener("mousemove",function(t){return e._onInputMouseMove(t);
}),this["#input"].addEventListener("mouseenter",function(e){return n=body.registerCursor("text",200);
}),this["#input"].addEventListener("mouseleave",function(e){return body.unregisterCursor(n);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)},this["#context-menu"].addEventListener("menuitemtrigger",function(t){
return e._onContextMenuItemTrigger(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"placeholder"===e?this._onPlaceholderAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(e){
this.setAttribute("value",e)},get placeholder(){return this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"";
},set placeholder(e){""===e?this.removeAttribute("placeholder"):this.setAttribute("placeholder",e);
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){this["#input"].value!==this.value&&(this["#input"].value=this.value);
},_onPlaceholderAttributeChange:function(){this["#input"].placeholder=this.placeholder;
},_onDisabledAttributeChange:function(){this["#input"].tabIndex=this.disabled?-1:0;
},_onInputFocus:function(e){body.bridge.postMessage("toggleTextInputMode",!0),this._cachedValue=this["#input"].value;
},_onInputBlur:function(e){body.bridge.postMessage("toggleTextInputMode",!1),this._undoManager.reset();
},_onInputMouseMove:function(e){this["#input"].matches(":focus")===!1&&e.preventDefault();
},_onInputKeyDown:function(t){var n=e.fromEvent(t);n.matches("Enter")?this.blur():(n.matches("Backspace")||n.matches("ArrowDown")||n.matches("Shift","ArrowDown")||n.matches("ArrowUp")||n.matches("Shift","ArrowUp")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&t.stopPropagation();
},_onInputInput:function(e){this.value=this["#input"].value},_onInputInput250Db:function(e){
var t=this,n=this._cachedValue,r=this["#input"].value;this._cachedValue=this["#input"].value,
this._undoManager.register({label:"Typing",undo:function(){t["#input"].value=t._cachedValue=n,
t["#input"].select()},redo:function(){t["#input"].value=t._cachedValue=r,t["#input"].select();
}})},_onContextMenu:function(e){e.preventDefault(),this["#input"].focus(),this["#context-menu"].open(e.clientX,e.clientY);
},_onContextMenuItemTrigger:function(e){var t=e.detail,n=this.commands[t.commandID];
n&&n.exec()},_menuWillShow:function(e){var t=this;return new Promise(function(n){
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_copyInputValue:function(){var e=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":e})},_pasteInputValue:function(){
var e=this;body.bridge.postMessage("getClipboardData",null,function(t){if(t["text/plain"]){
var n=e["#input"].selectionStart,r=e["#input"].selectionEnd,i=t["text/plain"],a=e["#input"].value.substring(0,n),o=e["#input"].value.substring(r,e["#input"].value.length);
e["#input"].value=a+i+o,e["#input"].dispatchEvent(new Event("input",{bubbles:!0})),
e["#input"].setSelectionRange(n+i.length,n+i.length)}})},_cutInputValue:function(){
var e=this["#input"].selectionStart,t=this["#input"].selectionEnd,n=this["#input"].value.substring(e,t),r=this["#input"].value.substring(0,e),i=this["#input"].value.substring(t,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].dispatchEvent(new Event("input",{bubbles:!0
})),this["#input"].setSelectionRange(e,e),body.bridge.postMessage("setClipboardData",{
"text/plain":n})}},{},n)}(HTMLElement),o=n("bx-filterinput",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-fontfamilybutton",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fontfamilybutton")),t=(e.createElement,
e.registerElement),n='\n  <style>@import url("stylesheets/bx-fontfamilybutton.css");</style>\n\n  <main>\n    <label id="label"></label>\n\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use href="images/icons.svg#arrow-right" width="100" height="100"></use>\n    </svg>\n  </main>\n',r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=n;var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"label"===e&&this._onLabelAttributeChange()},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(e){this.setAttribute("label",e)},get mixed(){return this.hasAttribute("mixed");
},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get disabled(){
return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label}},{},e);
}(HTMLElement),i=t("bx-fontfamilybutton",r);return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-fontfamilypicker",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-filterinput","elements/bx-fontfamilypicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fontslistitem","elements/bx-fontfamilypicker"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fontfamilypicker")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-fontfamilypicker")),i=r.sleep,a=r.debounce,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-fontfamilypicker"))["default"],s=(Object.keys,
'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-fontfamilypicker.css");\n  </style>\n\n  <main>\n    <div id="items">\n      <div id="primary-items"></div>\n      <div id="secondary-items"></div>\n      <div id="placeholder" hidden>No families found.</div>\n    </div>\n\n    <bx-filterinput id="filter-input" placeholder="Filter"></bx-filterinput>\n  </main>\n'),l=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("focusin",function(t){
return e._onHostFocusIn(t)}),this.addEventListener("keydown",function(t){return e._onKeyDown(t);
}),this["#items"].addEventListener("mousedown",function(t){return e._onItemsMouseDown(t);
}),this["#items"].addEventListener("dblclick",function(t){return e._onItemsDblClick(t);
}),this["#items"].addEventListener("focusin",function(t){return e._onItemsFocusIn(t);
}),this["#filter-input"].addEventListener("input",function(){return e._onFilterInputInput();
})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"enabled"===e&&this.enabled&&this._onEnabled();
},get value(){return this.getAttribute("value")},set value(e){e?this.setAttribute("value",e):this.removeAttribute("value");
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e,t,n,r,i,a,o;return $traceurRuntime.asyncWrap(function(s){
for(;;)switch(s.state){case 0:return void Promise.resolve(this._updatePrimaryItems()).then(s.createCallback(2),s.errback);
case 2:s.state=0===this["#secondary-items"].childElementCount?3:4;break;case 3:return void Promise.resolve(this._updateSecondaryItems()).then(s.createCallback(4),s.errback);
case 4:this._updateThumbnails(),this._updatePlaceholderVisibility(),e=!1,t=!0,n=!1,
r=void 0;try{for(i=void 0,a=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)o=i.value,
e===!1&&o.value===this.value?(o.highlighted=!0,e=!0):o.highlighted=!1}catch(l){n=!0,
r=l}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}s.state=-2;
break;default:return s.end()}},this)},_onValueAttributeChange:function(){var e=this["#items"].querySelector("bx-fontslistitem[highlighted]");
if(!e||e.value!==this.value){var t=!1,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t===!1&&s.value===this.value?(s.highlighted=!0,t=!0):s.highlighted=!1;
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}},_onHostFocusIn:function(e){var t=this["#primary-items"].querySelector("[highlighted]");
t&&i(100).then(function(){return t.focus()})},_onItemsMouseDown:function(e){"bx-fontslistitem"===e.target.localName&&this._onItemMouseDown(e);
},_onItemsDblClick:function(e){"bx-fontslistitem"===e.target.localName&&this._onItemDblClick(e);
},_onItemsFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}},_onItemMouseDown:function(e){var t=e.target;t&&t.value!==this.value&&(this.value=t.value,
this.dispatchEvent(new CustomEvent("change")))},_onItemDblClick:function(e){var t=e.target;
if(t.parentElement===this["#secondary-items"]){var n=t.value.replaceAll(" ","+");body.bridge.postMessage("openExternalURL","https://www.google.com/fonts/specimen/"+n);
}},_onFilterInputInput:function(){var e=this["#filter-input"].value,t=$traceurRuntime.spread(this["#primary-items"].children,this["#secondary-items"].children),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
s.hidden=s.value.toLowerCase().startsWith(e.toLowerCase())===!1}}catch(l){r=!0,i=l;
}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}this._updatePlaceholderVisibility();
},_onKeyDown:function(e){var t=o.fromEvent(e);t.matches("ArrowUp")?(e.preventDefault(),
e.stopPropagation(),this._selectPreviousItem()):t.matches("ArrowDown")&&(e.preventDefault(),
e.stopPropagation(),this._selectNextItem())},_updatePrimaryItems:function(){var e=this;
return new Promise(function(n,r){e["#primary-items"].innerHTML="";var i=body.canvas.googleFontsManager.getImportedFamilies(),a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=t("bx-fontslistitem");
d.value=c,d.hidden=d.value.toLowerCase().startsWith(e["#filter-input"].value.toLowerCase())===!1,
e.value!==d.value||e["#items"].querySelector("bx-fontslistitem[highlighted]")||(d.highlighted=!0),
e["#primary-items"].append(d)}}catch(h){o=!0,s=h}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}n()})},_updateSecondaryItems:function(){var e=this;return new Promise(function(n,r){
var i,a;return $traceurRuntime.asyncWrap(function(r){for(;;)switch(r.state){case 0:
return void Promise.resolve(body.canvas.googleFontsManager.getAllFamilies()).then(r.createCallback(3),r.errback);
case 3:i=r.value,r.state=2;break;case 2:e["#secondary-items"].innerHTML="",a=function(r){
for(;r.timeRemaining()>20&&i.length>0;){var o=t("bx-fontslistitem");o.value=i.shift(),
o.hidden=o.value.toLowerCase().startsWith(e["#filter-input"].value.toLowerCase())===!1,
o.highlighted=e.value===o.value,e["#secondary-items"].append(o)}i.length>0?requestIdleCallback(a):n();
},i.length>0?requestIdleCallback(a):n(),r.state=-2;break;default:return r.end()}},this);
})},_updateThumbnails:function(){var e=this,t=this["#primary-items"].children,n=this["#secondary-items"].children,r=$traceurRuntime.spread(t,n),i=a(function(){
var t=e["#items"].scrollTop,n=!0,i=!1,a=void 0;try{for(var o=void 0,s=$traceurRuntime.spread(r).reverse()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;l.offsetTop>=t&&l.offsetTop<=t+e["#items"].clientHeight&&l.hidden===!1&&(r.remove(l),
r.unshift(l))}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]()}finally{
if(i)throw a}}},150),o=function(t){var n;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:i.state=t.timeRemaining()>10&&r.length>0&&e.enabled===!0?5:7;
break;case 5:n=r.shift(),i.state=6;break;case 6:i.state=n.thubmnail?0:1;break;case 1:
return void Promise.resolve(body.canvas.googleFontsManager.getThumbnail(n.value)).then(i.createCallback(3),i.errback);
case 3:n.thumbnail=i.value,i.state=0;break;case 7:s(),i.state=-2;break;default:return i.end();
}},this)},s=function(){r.length>0&&e.enabled===!0?requestIdleCallback(o):(e["#items"].removeEventListener("scroll",i),
e["#filter-input"].removeEventListener("input",i))};this["#items"].addEventListener("scroll",i),
this["#filter-input"].addEventListener("input",i),s()},_updatePlaceholderVisibility:function(){
this["#placeholder"].hidden=null!==this["#items"].querySelector("bx-fontslistitem:not([hidden])");
},_selectPreviousItem:function(){var e=this["#items"].querySelector("[highlighted]"),t=null;
if(e&&"bx-fontslistitem"===e.localName){for(var n=e.previousElementSibling;n;n=n.previousElementSibling)if(n.hidden===!1){
t=n;break}if(null===t&&"secondary-items"===e.parentElement.id)for(var r=this["#primary-items"].lastElementChild;r;r=r.previousElementSibling)if(r.hidden===!1){
t=r;break}}t&&(t.focus(),this.value=t.value,this.dispatchEvent(new CustomEvent("change")));
},_selectNextItem:function(){var e=this["#items"].querySelector("[highlighted]"),t=null;
if(e&&"bx-fontslistitem"===e.localName){for(var n=e.nextElementSibling;n;n=n.nextElementSibling)if(n.hidden===!1){
t=n;break}if(null===t&&"primary-items"===e.parentElement.id)for(var r=this["#secondary-items"].firstElementChild;r;r=r.nextElementSibling)if(r.hidden===!1){
t=r;break}}t&&(t.focus(),this.value=t.value,this.dispatchEvent(new CustomEvent("change")));
}},{},e)}(HTMLElement),u=n("bx-fontfamilypicker",l);return{get default(){return u;
}}}),$traceurRuntime.registerModule("elements/bx-fontslistitem",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fontslistitem")),t=(e.createElement,
e.registerElement),n='\n  <style>@import url("stylesheets/bx-fontslistitem.css");</style>\n\n  <main>\n    <div id="label"></div>\n    <img id="thumbnail" hidden></img>\n  </main>\n',r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=n;var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"value"===e&&this._onValueAttributeChange()},get value(){return this.getAttribute("value");
},set value(e){e?this.setAttribute("value",e):this.removeAttribute("value")},get highlighted(){
return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src||null},set thumbnail(e){this["#thumbnail"].src=e?e:"",
this._onThumbnailChange()},_onValueAttributeChange:function(){this["#label"].textContent=this.value?this.value:"";
},_onThumbnailChange:function(){this.thumbnail?(this["#label"].hidden=!0,this["#thumbnail"].hidden=!1):(this["#label"].hidden=!1,
this["#thumbnail"].hidden=!0)}},{},e)}(HTMLElement),i=t("bx-fontslistitem",r);return{
get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-freehandsegsdrawhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-freehandsegsdrawhud")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/curves-schneider","elements/bx-freehandsegsdrawhud")).getSchneiderCurves,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-freehandsegsdrawhud")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-freehandsegsdrawhud")).reversePath,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-freehandsegsdrawhud")).debounce,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-freehandsegsdrawhud")).getTransformToElement,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-freehandsegsdrawhud")).reduceTransform;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-freehandsegsketch","elements/bx-freehandsegsdrawhud"));
var u=10,c=10,d=4,h=60,v='\n  <style>@import url("stylesheets/bx-freehandsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-freehandsegsketch"></g>\n',f=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=v;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;this.attributeChangedCallback(h.name)}}catch(f){l=!0,u=f}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._currentPath=null,body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),this["#node-grippies"].addEventListener("mousedown",this._nodeGrippiesMouseDownListener=function(t){
e._onNodeGrippieMouseDown(t)}),this._onSelectedElementsChange()},_onDisabled:function(){
body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this["#node-grippies"].removeEventListener("mousedown",this._nodeGrippiesMouseDownListener),
this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(e){this._updateNodeGrippies()},_onNodeGrippieMouseDown:function(e){
var t=this;body.canvas.undoManager.checkpoint("Draw freehand path segments");var n,u,v=e.target,f=v.ownerPath,m=f.getPathData(),b=v.getAttribute("data-position");
this._currentPath=f,this._mode="end"===b?"draw-forward":"draw-backward",this["#seg-sketch"].show(f,v),
this._updateNodeGrippies();var g=function(){var e=t["#seg-sketch"].points;if("draw-forward"===t._mode){
if(0===e.length)return;if(1===e.length||2===e.length)m.push({type:"L",values:[e[e.length-1].x,e[e.length-1].y]
});else if(e.length>=3){var n=r(e,d/body.canvas.scale),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;m.push({type:"C",values:[u[1].x,u[1].y,u[2].x,u[2].y,u[3].x,u[3].y]
})}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}}}else if("draw-backward"===t._mode){e=$traceurRuntime.spread(e).reverse();var h=[];
if(0===e.length)return;if(1===e.length)h.push({type:"M",values:[e[0].x,e[0].y]});else if(2===e.length)h.push({
type:"M",values:[e[0].x,e[0].y]}),h.push({type:"L",values:[e[1].x,e[1].y]});else if(e.length>=3){
var v=r(e,d/body.canvas.scale);h.push({type:"M",values:[v[0][0].x,v[0][0].y]});var b=!0,g=!1,p=void 0;
try{for(var y=void 0,x=v[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){var _=y.value;
h.push({type:"C",values:[_[1].x,_[1].y,_[2].x,_[2].y,_[3].x,_[3].y]})}}catch(w){g=!0,
p=w}finally{try{b||null==x["return"]||x["return"]()}finally{if(g)throw p}}}m=$traceurRuntime.spread(h,m.slice(1));
}f.setPathData(m),t["#seg-sketch"].clear()};window.addEventListener("mousemove",n=o(function(){
t["#seg-sketch"].points.length>=c&&g()},h,this,!1)),window.addEventListener("mouseup",u=function(e){
window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",n),
t["#seg-sketch"].points.length>1&&g();var r=t._shadowRoot.elementFromPoint(e.clientX,e.clientY);
if(r&&t["#node-grippies"].contains(r)){var o=r,c=o.ownerPath;if(c===f){var d={type:"Z",
values:[]};m.push(d)}else{var h=s(c,f);c.setAttribute("transform",h.toString()),l(c,{
geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preservePathRotation:!1});var v=o.getAttribute("data-position");if("draw-forward"===t._mode){
"end"===v&&a(c);for(var b=c.getPathData({normalize:!0}),p=1;p<b.length;p+=1){var y=b[p];
m.push(y)}c.setPathData([]),c.remove()}else if("draw-backward"===t._mode){"start"===v&&a(c);
var x=c.getPathData({normalize:!0});m=$traceurRuntime.spread(x,m),c.setPathData([]),
c.remove()}}}var _=!0,w=!1,S=void 0;try{for(var M=void 0,C=m[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;R.values=R.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(k){w=!0,S=k}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}f.setPathData(m),t["#seg-sketch"].hide(),"select"===t._mode,t._currentPath=null,
t._updateNodeGrippies()})},_onArtboardMouseDown:function(e){var n=this;body.canvas.undoManager.checkpoint("Draw freehand path segments");
var u=body.canvas.currentContainer||body.canvas.currentArtboard,v=t("svg:path");v.style.stroke="black",
v.style.fill="none",u.append(v);var f,m,b=v.getScreenCTM().inverse(),g=e,p=g.clientX,y=g.clientY,x=new SVGPoint(p,y).matrixTransform(b),_=x.x,w=x.y,S=(body.canvas.geometryPrecision,
[{type:"M",values:[_,w]}]);v.setPathData(S),body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[v]),
this._mode="draw-forward",this._currentPath=v,this["#seg-sketch"].show(v),this._updateNodeGrippies();
var M=function(){var e=n["#seg-sketch"].points;v.getAttribute("d");if(0!==e.length){
if(1===e.length||2===e.length)S.push({type:"L",values:[e[e.length-1].x,e[e.length-1].y]
});else if(e.length>=3){var t=r(e,d/body.canvas.scale),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;S.push({type:"C",values:[u[1].x,u[1].y,u[2].x,u[2].y,u[3].x,u[3].y]
})}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}}v.setPathData(S),n["#seg-sketch"].clear()}};window.addEventListener("mousemove",f=o(function(){
n["#seg-sketch"].points.length>=c&&M()},h,this,!1)),window.addEventListener("mouseup",m=function(e){
window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",f);
var t=n._shadowRoot.elementFromPoint(e.clientX,e.clientY);if(n["#seg-sketch"].points.length>0&&M(),
t&&n["#node-grippies"].contains(t)){var r=t;if(r.ownerPath===v)S.push({type:"Z",values:[]
}),v.setPathData(S);else{var o=r.getAttribute("data-position"),u=r.ownerPath,c=s(u,v);
u.setAttribute("transform",c.toString()),l(u,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preservePathRotation:!1}),"end"===o&&a(u);
for(var d=u.getPathData({normalize:!0}),h=1;h<d.length;h+=1){var b=d[h];S.push(b);
}u.setPathData([]),u.remove()}}var g=!0,p=!1,y=void 0;try{for(var x=void 0,_=S[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){
var w=x.value;w.values=w.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(C){p=!0,y=C}finally{try{g||null==_["return"]||_["return"]()}finally{if(p)throw y;
}}v.setPathData(S),n["#seg-sketch"].hide(),n._mode="select",n._currentPath=null,n._updateNodeGrippies();
})},_updateNodeGrippies:function(){this["#node-grippies"].innerHTML="";var e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._getSelectedPaths()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=o.getPathData({normalize:!0}),u=void 0,c=void 0;0===l.length?(u=null,
c=null):1===l.length?(u=l[0],c=null):l.length>1&&(u=l[0],c=l[l.length-1]);var d=s(o,this),h=c&&"Z"===c.type;
if(u&&!h&&(o!==this._currentPath||"draw-backward"!==this._mode)){var v=new SVGPoint(u.values[0],u.values[1]).matrixTransform(d),f=t("svg:ellipse");
f.setAttribute("class","node-grippie"),f.setAttribute("cx",v.x),f.setAttribute("cy",v.y),
f.setAttribute("data-position","start"),f.ownerPath=o,this["#node-grippies"].append(f);
}if(c&&!h&&(o!==this._currentPath||"draw-forward"!==this._mode)){var m=void 0;m="C"===c.type?new SVGPoint(c.values[4],c.values[5]).matrixTransform(d):new SVGPoint(c.values[0],c.values[1]).matrixTransform(d);
var b=t("svg:ellipse");b.setAttribute("class","node-grippie"),b.setAttribute("cx",m.x),
b.setAttribute("cy",m.y),b.setAttribute("data-position","end"),b.ownerPath=o,this["#node-grippies"].append(b);
}}}catch(g){n=!0,r=g}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=u/2/body.canvas.scale,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.setAttribute("rx",e),o.setAttribute("ry",e)}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("data-bx-shape")===!1?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),m=n("g","bx-freehandsegsdrawhud",f);return{get default(){
return m}}}),$traceurRuntime.registerModule("elements/bx-freehandsegsketch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-freehandsegsketch")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-freehandsegsketch")).getTransformToElement,n='\n  <style>@import url("stylesheets/bx-freehandsegsketch.css");</style>\n  <polyline id="outline"></polyline>\n',r=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=n;var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw r}}this._path=null,this._hasListeners=!1},get points(){return this["#outline"].points;
},show:function(e){var n=void 0!==arguments[1]?arguments[1]:null;if(this._path=e,
this["#outline"].setAttribute("points",""),this._path.hasAttribute("transform")?this["#outline"].setAttribute("transform",this._path.getAttribute("transform")):this["#outline"].removeAttribute("transform"),
this.style.visibility="visible",n){var r=t(n,this._path),i=new SVGPoint(n.cx.baseVal.value,n.cy.baseVal.value);
i=i.matrixTransform(r),this["#outline"].points.appendItem(i)}this._hasListeners===!1&&this._addListeners();
},hide:function(){this._path=null,this.style.visibility="hidden",this["#outline"].setAttribute("points",""),
this._hasListeners===!0&&this._removeListeners()},clear:function(){this["#outline"].setAttribute("points","");
},_addListeners:function(){var e=this;this._hasListeners=!0,window.addEventListener("mousemove",this._mouseMoveListener=function(t){
var n=e._path.getScreenCTM().inverse(),r=new SVGPoint(t.clientX,t.clientY),i=r.matrixTransform(n);
e["#outline"].points.appendItem(i)})},_removeListeners:function(){this._hasListeners=!1,
window.removeEventListener("mousemove",this._mouseMoveListener)}},{},e)}(SVGGElement),i=e("g","bx-freehandsegsketch",r);
return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-freehandtool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-freehandtool")).registerElement,t=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-freehand-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-freehand-segs-hud");
}},{},e)}(HTMLElement),n=e("bx-freehandtool",t);return{get default(){return n}}}),
$traceurRuntime.registerModule("elements/bx-geometrycontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-geometrycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-geometrycontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-geometrycontrols")),t=e.getUserBBox,n=(e.getClientBBox,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-geometrycontrols"))),r=(n.createElement,
n.registerElement),i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-geometrycontrols")),a=i.getDistanceBetweenPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-geometrycontrols")).round,l=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-geometrycontrols")).getDefFromURL,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-geometrycontrols"))),u=l.transformRect,c=l.combineRects,d=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-geometrycontrols")).queryStylableElements,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-geometrycontrols")).throttle),h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-geometrycontrols")).reduceTransform,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-geometrycontrols")),f=v.getElementRotationAngle,m=v.getTransformOriginBBoxPoint,b=(v.getTransformOriginUserPoint,
v.getComputedTransformOriginClientPoint),g=v.getTransformToElement,p=v.setTransformOriginBBoxPoint,y=v.bboxPointToUserPoint,x=v.userPointToBBoxPoint,_=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-geometrycontrols"))["default"],
Math.min),w='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-geometrycontrols.css");\n  </style>\n\n  <section id="object-section">\n    <h2 id="object-section-heading">Object</h2>\n\n    <div id="object-position-div" class="hbox">\n      <div id="object-x-div">\n        <h3 id="object-x-heading">X</h3>\n        <bx-slider id="object-x-slider" value="0" precision="0"></bx-slider>\n      </div>\n\n      <div id="object-y-div">\n        <h3 id="object-y-heading">Y</h3>\n        <bx-slider id="object-y-slider" value="0" precision="0"></bx-slider>\n      </div>\n    </div>\n\n    <div id="object-size-div" class="hbox">\n      <div id="object-width-div">\n        <h3 id="object-width-heading">Width</h3>\n        <bx-slider id="object-width-slider" min="1" value="0" precision="0"></bx-slider>\n      </div>\n\n      <div id="object-height-div">\n        <h3 id="object-height-heading">Height</h3>\n        <bx-slider id="object-height-slider" min="1" value="0" precision="0"></bx-slider>\n      </div>\n    </div>\n\n    <div id="object-rotation-div">\n      <h3 id="object-rotation-heading">Rotation</h2>\n      <bx-slider id="object-rotation-slider" value="0" min="-180" max="180" precision="0" after="°"></bx-slider>\n    </div>\n\n    <div id="object-origin-div" class="hbox">\n      <div id="object-origin-x-div">\n        <h3 id="object-origin-x-heading">Origin X</h3>\n        <bx-slider id="object-origin-x-slider" value = "0" precision="0"></bx-slider>\n      </div>\n\n      <div id="object-origin-y-div">\n        <h3 id="object-origin-y-heading">Origin Y</h3>\n        <bx-slider id="object-origin-y-slider" value = "0" precision="0"></bx-slider>\n      </div>\n    </div>\n  </section>\n',S=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._update100Th=d(this._update,100,this),
this._isChangingObjectXSlider=!1,this._isChangingObjectYSlider=!1,this._isChangingObjectWidthSlider=!1,
this._isChangingObjectHeightSlider=!1,this._isChangingObjectRotationSlider=!1,this._isChangingObjectOriginXSlider=!1,
this._isChangingObjectOriginYSlider=!1,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=w;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(u)throw c}}this["#object-width-slider"].addEventListener("changestart",function(){
e._onObjectWidthSliderChangeStart()}),this["#object-height-slider"].addEventListener("changestart",function(){
e._onObjectHeightSliderChangeStart()}),this["#object-x-slider"].addEventListener("changestart",function(){
e._onObjectXSliderChangeStart()}),this["#object-y-slider"].addEventListener("changestart",function(){
e._onObjectYSliderChangeStart()}),this["#object-rotation-slider"].addEventListener("changestart",function(){
e._onObjectRotationSliderChangeStart()}),this["#object-origin-x-slider"].addEventListener("changestart",function(){
e._onObjectOriginXSliderChangeStart()}),this["#object-origin-y-slider"].addEventListener("changestart",function(){
e._onObjectOriginYSliderChangeStart()})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update100Th()},_onArtboardMutation:function(e){
this._update100Th()},_onObjectXSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("X");
var n,r,i=body.canvas.selectedElements,a=Symbol(),o=[],s=!1;this._isChangingObjectXSlider=!0;
var l=!0,d=!1,v=void 0;try{for(var f=void 0,m=i[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){
var b=f.value,p=g(b,body.canvas.currentArtboard),y=p.inverse(),x=SVGMatrix.fromMatrix(b.transform.baseVal.consolidate().matrix);
b[a]={userTransform:x,userToArtboardTransform:p,artboardToUserTransform:y};var _=t(b);
o.push(u(_,p))}}catch(w){d=!0,v=w}finally{try{l||null==m["return"]||m["return"]();
}finally{if(d)throw v}}var S=c(o).x;this["#object-x-slider"].addEventListener("change",n=function(){
var t=e["#object-x-slider"].value-S,n=0;s=!0;var r=!0,o=!1,l=void 0;try{for(var u=void 0,c=i[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){
var d=u.value,h=d[a],v=h.userTransform,f=h.userToArtboardTransform,m=h.artboardToUserTransform,b=SVGMatrix.fromMatrix(v);
b.multiplySelf(m),b.translateSelf(t,n),b.multiplySelf(f),d.setAttribute("transform",b.toString());
}}catch(g){o=!0,l=g}finally{try{r||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}}),this["#object-x-slider"].addEventListener("changeend",r=function(){if(e["#object-x-slider"].removeEventListener("change",n),
e["#object-x-slider"].removeEventListener("changeend",r),e._isChangingObjectXSlider=!1,
s){var t=!0,a=!1,o=void 0;try{for(var l=void 0,u=i[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){
var c=l.value;h(c,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(d){a=!0,o=d}finally{try{t||null==u["return"]||u["return"]()}finally{if(a)throw o;
}}}})},_onObjectYSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Y");
var n,r,i=body.canvas.selectedElements,a=Symbol(),o=[],s=!1;this._isChangingObjectYSlider=!0;
var l=!0,d=!1,v=void 0;try{for(var f=void 0,m=i[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){
var b=f.value,p=g(b,body.canvas.currentArtboard),y=p.inverse(),x=SVGMatrix.fromMatrix(b.transform.baseVal.consolidate().matrix);
b[a]={userTransform:x,userToArtboardTransform:p,artboardToUserTransform:y};var _=t(b);
o.push(u(_,p))}}catch(w){d=!0,v=w}finally{try{l||null==m["return"]||m["return"]();
}finally{if(d)throw v}}var S=c(o).y;this["#object-y-slider"].addEventListener("change",n=function(){
var t=0,n=e["#object-y-slider"].value-S;s=!0;var r=!0,o=!1,l=void 0;try{for(var u=void 0,c=i[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){
var d=u.value,h=d[a],v=h.userTransform,f=h.userToArtboardTransform,m=h.artboardToUserTransform,b=SVGMatrix.fromMatrix(v);
b.multiplySelf(m),b.translateSelf(t,n),b.multiplySelf(f),d.setAttribute("transform",b.toString());
}}catch(g){o=!0,l=g}finally{try{r||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}}),this["#object-y-slider"].addEventListener("changeend",r=function(){if(e["#object-y-slider"].removeEventListener("change",n),
e["#object-y-slider"].removeEventListener("changeend",r),e._isChangingObjectYSlider=!1,
s){var t=!0,a=!1,o=void 0;try{for(var l=void 0,u=i[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){
var c=l.value;h(c,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(d){a=!0,o=d}finally{try{t||null==u["return"]||u["return"]()}finally{if(a)throw o;
}}}})},_onObjectWidthSliderChangeStart:function(){var e=this,n=body.canvas.selectedElements;
if(1===n.length){body.canvas.undoManager.checkpoint("Width"),this._isChangingObjectWidthSlider=!0;
var r,i,o=n[0],s=t(o),l=g(o,body.canvas.currentArtboard),d=SVGMatrix.fromMatrix(o.transform.baseVal.consolidate().matrix),v=!1,f=a(new SVGPoint(s.x,s.y).matrixTransform(l),new SVGPoint(s.x+s.width,s.y).matrixTransform(l));
this["#object-width-slider"].addEventListener("change",r=function(){v=!0;var t=e["#object-width-slider"].value,n=t/f,r=1,i=-s.x*(n-1),a=0,l=SVGMatrix.fromMatrix(d);
l.translateSelf(i,a),l.scaleNonUniformSelf(n,r),o.setAttribute("transform",l.toString());
}),this["#object-width-slider"].addEventListener("changeend",i=function(){e["#object-width-slider"].removeEventListener("change",r),
e["#object-width-slider"].removeEventListener("changeend",i),e._isChangingObjectWidthSlider=!1,
v&&h(o,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})})}else if(n.length>1){body.canvas.undoManager.checkpoint("Width"),this._isChangingObjectWidthSlider=!0;
var m,b,p=[],y=Symbol(),x=!1,_=!0,w=!1,S=void 0;try{for(var M=void 0,C=n[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value,k=SVGMatrix.fromMatrix(R.transform.baseVal.consolidate().matrix),E=g(R,body.canvas.currentArtboard),A=E.inverse();
R[y]={userTransform:k,userToArtboardTransform:E,artboardToUserTransform:A};var P=u(t(R),E);
p.push(P)}}catch(T){w=!0,S=T}finally{try{_||null==C["return"]||C["return"]()}finally{
if(w)throw S}}var L=c(p),$=L.width;this["#object-width-slider"].addEventListener("change",m=function(){
var t=e["#object-width-slider"].value;x=!0;var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l[y],c=u.userTransform,d=u.userToArtboardTransform,h=u.artboardToUserTransform,v=t/$,f=1,m=-L.x*(v-1),b=0,g=SVGMatrix.fromMatrix(c);
g.multiplySelf(h),g.translateSelf(m,b),g.scaleNonUniformSelf(v,f),g.multiplySelf(d),
l.setAttribute("transform",g.toString())}}catch(p){i=!0,a=p}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}),this["#object-width-slider"].addEventListener("changeend",b=function(){
if(e["#object-width-slider"].removeEventListener("change",m),e["#object-width-slider"].removeEventListener("changeend",b),
e._isChangingObjectWidthSlider=!1,x){var t=!0,r=!1,i=void 0;try{for(var a=void 0,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;h(s,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(l){r=!0,i=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}})}},_onObjectHeightSliderChangeStart:function(){var e=this,n=body.canvas.selectedElements;
if(1===n.length){body.canvas.undoManager.checkpoint("Height"),this._isChangingObjectHeightSlider=!0;
var r,i,o=n[0],s=t(o),l=g(o,body.canvas.currentArtboard),d=SVGMatrix.fromMatrix(o.transform.baseVal.consolidate().matrix),v=!1,f=a(new SVGPoint(s.x,s.y).matrixTransform(l),new SVGPoint(s.x,s.y+s.height).matrixTransform(l));
this["#object-height-slider"].addEventListener("change",r=function(){v=!0;var t=e["#object-height-slider"].value,n=1,r=t/f,i=0,a=-s.y*(r-1),l=SVGMatrix.fromMatrix(d);
l.translateSelf(i,a),l.scaleNonUniformSelf(n,r),o.setAttribute("transform",l.toString());
}),this["#object-height-slider"].addEventListener("changeend",i=function(){e["#object-height-slider"].removeEventListener("change",r),
e["#object-height-slider"].removeEventListener("changeend",i),e._isChangingObjectHeightSlider=!1,
v&&h(o,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})})}else if(n.length>1){body.canvas.undoManager.checkpoint("Height"),this._isChangingObjectHeightSlider=!0;
var m,b,p=[],y=Symbol(),x=!1,_=!0,w=!1,S=void 0;try{for(var M=void 0,C=n[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value,k=SVGMatrix.fromMatrix(R.transform.baseVal.consolidate().matrix),E=g(R,body.canvas.currentArtboard),A=E.inverse();
R[y]={userTransform:k,userToArtboardTransform:E,artboardToUserTransform:A};var P=u(t(R),E);
p.push(P)}}catch(T){w=!0,S=T}finally{try{_||null==C["return"]||C["return"]()}finally{
if(w)throw S}}var L=c(p),$=L.height;this["#object-height-slider"].addEventListener("change",m=function(){
x=!0;var t=e["#object-height-slider"].value,r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l[y],c=u.userTransform,d=u.userToArtboardTransform,h=u.artboardToUserTransform,v=1,f=t/$,m=0,b=-L.y*(f-1),g=SVGMatrix.fromMatrix(c);
g.multiplySelf(h),g.translateSelf(m,b),g.scaleNonUniformSelf(v,f),g.multiplySelf(d),
l.setAttribute("transform",g.toString())}}catch(p){i=!0,a=p}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}),this["#object-height-slider"].addEventListener("changeend",b=function(){
if(e["#object-height-slider"].removeEventListener("change",m),e["#object-height-slider"].removeEventListener("changeend",b),
e._isChangingObjectHeightSlider=!1,x){var t=!0,r=!1,i=void 0;try{for(var a=void 0,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;h(s,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(l){r=!0,i=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}})}},_onObjectRotationSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Rotation"),
this._isChangingObjectRotationSlider=!0;var t,n,r=body.canvas.selectedElements,i=this["#object-rotation-slider"].value,a=b(r),s=Symbol(),l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value,f=SVGMatrix.fromMatrix(v.transform.baseVal.consolidate().matrix),m=v.getScreenCTM(),g=m.inverse();
v[s]={clientToUserTransform:m,userToClientTransform:g,userTransform:f}}}catch(p){
u=!0,c=p}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this["#object-rotation-slider"].addEventListener("change",t=function(){
body.modKeys.shift&&(e["#object-rotation-slider"].value=o(e["#object-rotation-slider"].value,15));
var t=e["#object-rotation-slider"].value,n=t-i,l=!0,u=!1,c=void 0;try{for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value,f=v[s],m=f.clientToUserTransform,b=f.userToClientTransform,g=f.userTransform,p=SVGMatrix.fromMatrix(g);
p.multiplySelf(b),p.rotateSelf(n,a.x,a.y),p.multiplySelf(m),v.setAttribute("transform",p.toString());
}}catch(y){u=!0,c=y}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}}),this["#object-rotation-slider"].addEventListener("changeend",n=function(){e["#object-rotation-slider"].removeEventListener("change",t),
e["#object-rotation-slider"].removeEventListener("changeend",n),e._isChangingObjectRotationSlider=!1;
})},_onObjectOriginXSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Origin X"),
this._isChangingObjectOriginXSlider=!0;var n,r,i=Symbol(),a=Symbol(),o=body.canvas.selectedElements,s=body.canvas.currentArtboard.getCTM().inverse(),l=b(o),u=l.matrixTransform(s),c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m[i]=g(m,body.canvas.currentArtboard).inverse(),m[a]=t(m)}}catch(y){d=!0,h=y}finally{
try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#object-origin-x-slider"].addEventListener("change",n=function(){
var t=new SVGPoint(e["#object-origin-x-slider"].value,u.y),n=!0,r=!1,s=void 0;try{
for(var l=void 0,c=o[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var d=l.value,h=t.matrixTransform(d[i]),v=x(h,d[a]);
p(d,v)}}catch(f){r=!0,s=f}finally{try{n||null==c["return"]||c["return"]()}finally{
if(r)throw s}}}),this["#object-origin-x-slider"].addEventListener("changeend",r=function(){
e["#object-origin-x-slider"].removeEventListener("change",n),e["#object-origin-x-slider"].removeEventListener("changeend",r),
e._isChangingObjectOriginXSlider=!1})},_onObjectOriginYSliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Origin Y"),this._isChangingObjectOriginYSlider=!0;
var n,r,i=Symbol(),a=Symbol(),o=body.canvas.selectedElements,s=body.canvas.currentArtboard.getCTM().inverse(),l=b(o),u=l.matrixTransform(s),c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m[i]=g(m,body.canvas.currentArtboard).inverse(),m[a]=t(m)}}catch(y){d=!0,h=y}finally{
try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#object-origin-y-slider"].addEventListener("change",n=function(){
var t=new SVGPoint(u.x,e["#object-origin-y-slider"].value),n=!0,r=!1,s=void 0;try{
for(var l=void 0,c=o[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var d=l.value,h=t.matrixTransform(d[i]),v=x(h,d[a]);
p(d,v)}}catch(f){r=!0,s=f}finally{try{n||null==c["return"]||c["return"]()}finally{
if(r)throw s}}}),this["#object-origin-y-slider"].addEventListener("changeend",r=function(){
e["#object-origin-y-slider"].removeEventListener("change",n),e["#object-origin-y-slider"].removeEventListener("changeend",r),
e._isChangingObjectOriginYSlider=!1})},_update:function(){this._updateObjectSection();
},_updateObjectSection:function(){var e=body.canvas.selectedElements;if(0===e.length)this["#object-section-heading"].disabled=!0,
this["#object-x-heading"].disabled=!0,this["#object-x-slider"].disabled=!0,this["#object-x-slider"].value=0,
this["#object-y-heading"].disabled=!0,this["#object-y-slider"].disabled=!0,this["#object-y-slider"].value=0,
this["#object-width-heading"].disabled=!0,this["#object-width-slider"].disabled=!0,
this["#object-width-slider"].value=0,this["#object-height-heading"].disabled=!0,this["#object-height-slider"].disabled=!0,
this["#object-height-slider"].value=0,this["#object-rotation-heading"].disabled=!0,
this["#object-rotation-slider"].disabled=!0,this["#object-rotation-slider"].value=0,
this["#object-origin-x-heading"].disabled=!0,this["#object-origin-x-slider"].disabled=!0,
this["#object-origin-x-slider"].value=0,this["#object-origin-y-heading"].disabled=!0,
this["#object-origin-y-slider"].disabled=!0,this["#object-origin-y-slider"].value=0;else if(1===e.length){
var n=e[0],r=g(n,body.canvas.currentArtboard),i=t(n),o=[new SVGPoint(i.x,i.y).matrixTransform(r),new SVGPoint(i.x+i.width,i.y).matrixTransform(r),new SVGPoint(i.x+i.width,i.y+i.height).matrixTransform(r),new SVGPoint(i.x,i.y+i.height).matrixTransform(r)],l=a(o[0],o[1]),d=a(o[1],o[2]),h=o.map(function(e){
return e.x}),v=o.map(function(e){return e.y}),p=_.apply(void 0,$traceurRuntime.spread(h)),x=_.apply(void 0,$traceurRuntime.spread(v)),w=f(n),S=m(n),M=y(S,i),C=M.matrixTransform(r),R=C.x,k=C.y;
this["#object-section-heading"].disabled=!1,this._isChangingObjectXSlider===!1&&(this["#object-x-heading"].disabled=!1,
this["#object-x-slider"].disabled=!1,this["#object-x-slider"].value=s(p,2)),this._isChangingObjectYSlider===!1&&(this["#object-y-heading"].disabled=!1,
this["#object-y-slider"].disabled=!1,this["#object-y-slider"].value=s(x,2)),this._isChangingObjectWidthSlider===!1&&(this["#object-width-heading"].disabled=!1,
this["#object-width-slider"].disabled=!1,this["#object-width-slider"].value=s(l,2)),
this._isChangingObjectHeightSlider===!1&&(this["#object-height-heading"].disabled=!1,
this["#object-height-slider"].disabled=!1,this["#object-height-slider"].value=s(d,2)),
this._isChangingObjectRotationSlider===!1&&(this["#object-rotation-heading"].disabled=!1,
this["#object-rotation-slider"].disabled=!1,this["#object-rotation-slider"].value=s(w,2)),
this._isChangingObjectOriginXSlider===!1&&(this["#object-origin-x-heading"].disabled=!1,
this["#object-origin-x-slider"].disabled=!1,this["#object-origin-x-slider"].value=s(R,2)),
this._isChangingObjectOriginYSlider===!1&&(this["#object-origin-y-heading"].disabled=!1,
this["#object-origin-y-slider"].disabled=!1,this["#object-origin-y-slider"].value=s(k,2));
}else if(e.length>1){var E=e.map(function(e){var n=g(e,body.canvas.currentArtboard),r=t(e),i=u(r,n);
return i}),A=c(E),P=body.canvas.currentArtboard.getCTM().inverse(),T=b(e,!1),L=T.matrixTransform(P),$=L.x,j=L.y;
this["#object-section-heading"].disabled=!1,this._isChangingObjectXSlider===!1&&(this["#object-x-heading"].disabled=!1,
this["#object-x-slider"].disabled=!1,this["#object-x-slider"].value=s(A.x,2)),this._isChangingObjectYSlider===!1&&(this["#object-y-heading"].disabled=!1,
this["#object-y-slider"].disabled=!1,this["#object-y-slider"].value=s(A.y,2)),this._isChangingObjectWidthSlider===!1&&(this["#object-width-heading"].disabled=!1,
this["#object-width-slider"].disabled=!1,this["#object-width-slider"].value=s(A.width,2)),
this._isChangingObjectHeightSlider===!1&&(this["#object-height-heading"].disabled=!1,
this["#object-height-slider"].disabled=!1,this["#object-height-slider"].value=s(A.height,2)),
this._isChangingObjectRotationSlider===!1&&(this["#object-rotation-heading"].disabled=!1,
this["#object-rotation-slider"].disabled=!1,this["#object-rotation-slider"].value=0),
this._isChangingObjectOriginXSlider===!1&&(this["#object-origin-x-heading"].disabled=!1,
this["#object-origin-x-slider"].disabled=!1,this["#object-origin-x-slider"].value=s($,2)),
this._isChangingObjectOriginYSlider===!1&&(this["#object-origin-y-heading"].disabled=!1,
this["#object-origin-y-slider"].disabled=!1,this["#object-origin-y-slider"].value=s(j,2));
}}},{},e)}(HTMLElement),M=r("bx-geometrycontrols",S);return{get default(){return M;
}}}),$traceurRuntime.registerModule("elements/bx-guide",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-guide")).registerElement,t=Number.parseFloat,n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
get x(){return this.hasAttribute("x")?t(this.getAttribute("x")):0},set x(e){this.setAttribute("x",e);
},get y(){return this.hasAttribute("y")?t(this.getAttribute("y")):0},set y(e){this.setAttribute("y",e);
},get angle(){return this.hasAttribute("angle")?t(this.getAttribute("angle")):0},
set angle(e){this.setAttribute("angle",e)}},{},e)}(SVGGElement),r=e("g","bx-guide",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-huerotatefilter",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-huerotatefilter")),t=e.createElement,n=e.registerElement,r=Number.parseFloat,i=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._update()},attributeChangedCallback:function(e){"data-angle"===e&&this._onAngleChange();
},get angle(){return this.hasAttribute("data-angle")?r(this.getAttribute("data-angle")):0;
},set angle(e){this.setAttribute("data-angle",e)},_onAngleChange:function(){this._update();
},_update:function(){this.innerHTML='<feColorMatrix type="hueRotate" values="'+this.angle+'"/>';
}},{fromSVGFilter:function(e){var n=void 0!==arguments[1]?arguments[1]:!1,i=path.hasAttribute("data-bx-angle")?r(path.getAttribute("data-bx-angle")):0;
if(path.children[0].getAttribute("values")!==""+i)return n&&(path.removeAttribute("data-bx-is"),
path.removeAttribute("data-bx-angle")),null;var a=t("svg:filter","bx-huerotatefilter");
return a}},e)}(SVGFilterElement),a=n("filter","bx-huerotatefilter",i);return{get default(){
return a}}}),$traceurRuntime.registerModule("elements/bx-hueslider",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-hueslider")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-hueslider")).normalize,n=Number.parseInt,r=!1,i='\n  <style>\n    @import url("stylesheets/bx-hueslider.css");\n  </style>\n\n  <main>\n    <canvas id="canvas"></canvas>\n    <div id="marker"></div>\n  </main>\n',a=[[0,[255,0,0]],[.15,[255,255,0]],[.33,[0,255,0]],[.49,[0,255,255]],[.67,[0,0,255]],[.84,[255,0,255]],[1,[255,0,0]]],o=function(e){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("mousedown",function(t){
return e._onMouseDown(t)}),this._drawSpectrum()},attributeChangedCallback:function(e){
"hue"===e&&this._onHueAttributeChange()},get hue(){return this.hasAttribute("hue")?n(this.getAttribute("hue")):360;
},set hue(e){this.setAttribute("hue",e)},_onHueAttributeChange:function(){var e=t(this.hue,0,360,0);
this["#marker"].style.left=e/360*100+"%"},_onMouseDown:function(e){var t=this;this.dispatchEvent(new CustomEvent("markerdragstart"));
var n,r,i,a=this["#canvas"].getBoundingClientRect().left;this._onMarkerDrag(e.clientX-a),
window.addEventListener("mousemove",r=function(e){e.clientX!==n&&(n=e.clientX,t._onMarkerDrag(e.clientX-a));
}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i),t.dispatchEvent(new CustomEvent("markerdragend"));
})},_onMarkerDrag:function(e){var n=t(e/this["#canvas"].clientWidth*360,0,360,0);this.hue!==n&&(this.hue=n,
this.dispatchEvent(new CustomEvent("markerdrag",{detail:this.hue})),r&&console.log("%c     ","background: hsl("+n+", 100%, 50%)","hue = "+n));
},_drawSpectrum:function(){var e=this["#canvas"].width=800,t=this["#canvas"].height=100,n=this["#canvas"].getContext("2d"),r=n.createLinearGradient(0,0,e,0),i=!0,o=!1,s=void 0;
try{for(var l=void 0,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;
r.addColorStop(c[0],"rgb("+c[1][0]+", "+c[1][1]+", "+c[1][2]+")")}}catch(d){o=!0,
s=d}finally{try{i||null==u["return"]||u["return"]()}finally{if(o)throw s}}n.fillStyle=r,
n.fillRect(0,0,e,t)}},{},e)}(HTMLElement),s=e("bx-hueslider",o);return{get default(){
return s}}}),$traceurRuntime.registerModule("elements/bx-input",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-input")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-input"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-input"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/undo-manager","elements/bx-input"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-input")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-input")).debounce,i=(Object.entries,
'\n  <style id="skin-style">@import url("stylesheets/bx-input.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" tabindex="0" value=""></input>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),a=function(n){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this.commands={selectAll:{exec:function(){return e["#input"].select();
}},copy:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._copyInputValue()}},cut:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._cutInputValue()}},paste:{exec:function(){return e._pasteInputValue();
}},undo:{enabled:function(){return e._undoManager.canUndo()},exec:function(){return e._undoManager.undo();
}},redo:{enabled:function(){return e._undoManager.canRedo()},exec:function(){return e._undoManager.redo();
}}},this._textCursor=null,this._undoManager=new t,this._onInputInput250Db=r(this._onInputInput250Db,250,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var n=!0,a=!1,o=void 0;try{for(var s=void 0,l=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){
var u=s.value;this["#"+u.id]=u}}catch(c){a=!0,o=c}finally{try{n||null==l["return"]||l["return"]();
}finally{if(a)throw o}}var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=this.attributes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value;this.attributeChangedCallback(b.name)}}catch(g){h=!0,v=g}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw v}}this._updateInputValidity(),
this.addEventListener("mouseenter",function(t){return e._onMouseEnter(t)}),this.addEventListener("mouseleave",function(t){
return e._onMouseLeave(t)}),this.addEventListener("mousemove",function(t){return e._onMouseMove(t);
}),this.addEventListener("mouseup",function(t){return e._onMouseUp(t)}),this.addEventListener("contextmenu",function(t){
return e._onContextMenu(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocus(t)}),this["#input"].addEventListener("blur",function(t){return e._onInputBlur(t);
}),this["#input"].addEventListener("keydown",function(t){return e._onInputKeyDown(t);
}),this["#input"].addEventListener("input",function(t){return e._onInputInput(t)}),
this["#input"].addEventListener("input",function(t){return e._onInputInput250Db(t);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)},this["#context-menu"].addEventListener("menuitemtrigger",function(t){
return e._onContextMenuItemTrigger(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"skin"===e?this._onSkinAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(e){
this.setAttribute("value",e)},get mixed(){return this.hasAttribute("mixed")},set mixed(e){
e?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;
},set skin(e){null===e?this.removeAttribute("skin"):this.setAttribute("skin",e)},
get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},validate:function(e){return!0},focus:function(){this["#input"].focus()},selectAll:function(){
this["#input"].select()},_onValueAttributeChange:function(){this["#input"].value=this.value,
this._updateInputValidity()},_onSkinAttributeChange:function(){null===this.skin?this["#skin-style"].innerText='@import url("stylesheets/bx-input.css");':this["#skin-style"].innerText='@import url("stylesheets/bx-input@'+this.skin+'.css");';
},_onDisabledAttributeChange:function(){this.disabled?this["#input"].tabIndex=-1:this["#input"].tabIndex=0;
},_onMouseEnter:function(e){body.isMouseDown?this["#input"].style.pointerEvents="none":(this["#input"].style.pointerEvents=null,
this._textCursor=body.registerCursor("text",200))},_onMouseLeave:function(e){this["#input"].style.pointerEvents=null,
null!==this._textCursor&&(body.unregisterCursor(this._textCursor),this._textCursor=null);
},_onMouseMove:function(e){this["#input"].matches(":focus")===!1&&e.preventDefault();
},_onMouseUp:function(e){this["#input"].style.pointerEvents=null,null===this._textCursor&&(this._textCursor=body.registerCursor("text",200));
},_onInputFocus:function(e){body.bridge.postMessage("toggleTextInputMode",!0),this._cachedValue=this["#input"].value,
this._updateInputValidity()},_onInputBlur:function(e){body.bridge.postMessage("toggleTextInputMode",!1),
this._undoManager.reset(),this["#input"].value!==this.value&&(this.validate(this["#input"].value)===!1?this["#input"].value=this.value:(this.value=this["#input"].value,
this.dispatchEvent(new CustomEvent("change"))))},_onInputKeyDown:function(t){var n=e.fromEvent(t);
n.matches("Enter")?this._confirmInputChange():n.matches("Escape")?this._cancelInputChange():(n.matches("Backspace")||n.matches("ArrowDown")||n.matches("Shift","ArrowDown")||n.matches("ArrowUp")||n.matches("Shift","ArrowUp")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&t.stopPropagation();
},_onInputInput:function(e){this._updateInputValidity()},_onInputInput250Db:function(e){
var t=this,n=this._cachedValue,r=this["#input"].value;this._cachedValue=this["#input"].value,
this._undoManager.register({label:"Typing",undo:function(){t["#input"].value=t._cachedValue=n,
t._updateInputValidity(),t["#input"].select()},redo:function(){t["#input"].value=t._cachedValue=r,
t._updateInputValidity(),t["#input"].select()}})},_onContextMenu:function(e){e.preventDefault(),
this["#input"].focus(),this["#context-menu"].open(e.clientX,e.clientY)},_onContextMenuItemTrigger:function(e){
var t=e.detail,n=this.commands[t.commandID];n&&n.exec()},_menuWillShow:function(e){
var t=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_updateInputValidity:function(){
this.validate(this["#input"].value)?this["#input"].setCustomValidity(""):this["#input"].setCustomValidity("Invalid value");
},_confirmInputChange:function(){this.blur(),this.dispatchEvent(new CustomEvent("confirm"));
},_cancelInputChange:function(){this["#input"].value=this.value,this.blur(),this.dispatchEvent(new CustomEvent("cancel"));
},_copyInputValue:function(){var e=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":e})},_pasteInputValue:function(){
var e=this;body.bridge.postMessage("getClipboardData",null,function(t){if(t["text/plain"]){
var n=e["#input"].selectionStart,r=e["#input"].selectionEnd,i=t["text/plain"],a=e["#input"].value.substring(0,n),o=e["#input"].value.substring(r,e["#input"].value.length);
e["#input"].value=a+i+o,e["#input"].setSelectionRange(n+i.length,n+i.length),e["#input"].dispatchEvent(new Event("input",{
bubbles:!0}))}})},_cutInputValue:function(){var e=this["#input"].selectionStart,t=this["#input"].selectionEnd,n=this["#input"].value.substring(e,t),r=this["#input"].value.substring(0,e),i=this["#input"].value.substring(t,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].setSelectionRange(e,e),this["#input"].dispatchEvent(new Event("input",{
bubbles:!0})),body.bridge.postMessage("setClipboardData",{"text/plain":n})}},{},n);
}(HTMLElement),o=n("bx-input",a);return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-inspector",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-inspector")).registerElement,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-inspector")).normalize,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-inspector")));
t.getTimeStamp,t.sleep;$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-domtree","elements/bx-inspector"));
var n=(Number.parseFloat,window.getComputedStyle,'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-inspector.css");\n  </style>\n\n  <main>\n    <bx-domtree id="dom-tree"></bx-domtree>\n  </main>\n'),r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e,t,r,i,a,o,s,l,u,c,d,h,v;return $traceurRuntime.asyncWrap(function(f){
for(;;)switch(f.state){case 0:e=this,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=n,t=!0,r=!1,i=void 0;try{for(a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)s=a.value,
this["#"+s.id]=s}catch(m){r=!0,i=m}finally{try{t||null==o["return"]||o["return"]();
}finally{if(r)throw i}}l=!0,u=!1,c=void 0;try{for(d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)v=d.value,
this.attributeChangedCallback(v.name)}catch(b){u=!0,c=b}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}this.addEventListener("mouseenter",function(){return e._defaultCursor=body.registerCursor("default",-100);
}),this.addEventListener("mouseleave",function(){return body.unregisterCursor(e._defaultCursor);
}),f.state=5;break;case 5:return void Promise.resolve(body.getConfig("bx-inspector#"+this.id+":customHeight")).then(f.createCallback(3),f.errback);
case 3:this._customHeight=f.value,f.state=2;break;case 2:this._updateGeometry(),f.state=-2;
break;default:return f.end()}},this)},attributeChangedCallback:function(e){"enabled"===e&&this._onEnabledAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabledAttributeChange:function(){this.enabled?this._onEnabled():this._onDisabled();
},_onEnabled:function(){var e;return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){
case 0:e=this,t.state=5;break;case 5:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customHeight")).then(t.createCallback(3),t.errback);
case 3:this._customHeight=t.value,t.state=2;break;case 2:this._updateGeometry(),window.addEventListener("resize",this._windowResizeListener=function(){
return e._updateGeometry()}),this["#dom-tree"].enabled=!0,t.state=-2;break;default:
return t.end()}},this)},_onDisabled:function(){window.removeEventListener("resize",this._windowResizeListener),
this["#dom-tree"].enabled=!1},_updateGeometry:function(){return $traceurRuntime.asyncWrap(function(e){
for(;;)switch(e.state){case 0:this.style.height="300px",e.state=-2;break;default:
return e.end()}},this)}},{},e)}(HTMLElement),i=e("bx-inspector",r);return{get default(){
return i}}}),$traceurRuntime.registerModule("elements/bx-lineargradienthud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-lineargradienthud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-lineargradienthud")),n=t.createElement,r=t.registerElement,i=t.queryGraphicsElements,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-lineargradienthud")).isMouseMoveIntentional,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/gradient","elements/bx-lineargradienthud")).getGradientColorAtOffset,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-lineargradienthud")),l=s.normalize,u=s.round,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-lineargradienthud")).roundMatrix,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-lineargradienthud")),h=d.getPaintType,v=d.getPaintServer,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-lineargradienthud")).queryStylableElements,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-lineargradienthud")).throttle,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-lineargradienthud")),g=b.getPointAtFraction,p=(b.getPointBetweenTwoPoints,
b.getNearestPointOnLine),y=b.getDistanceBetweenPoints,x=b.getRotationAngleFromPoints,_=b.snapPointToAngleMultiple,w=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-lineargradienthud")),S=w.getTransformFromPoints,M=w.getTransformToElement,C=w.bboxPointToUserPoint,R=w.userPointToBBoxPoint,k=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-lineargradienthud"))["default"],E=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-lineargradienthud"))["default"],A=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-lineargradienthud"))["default"],P=(Object.keys,
new k("gradient","gradientUser","stop")),T=SVGUnitTypes,L=T.SVG_UNIT_TYPE_USERSPACEONUSE,$=T.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,j=6,N='\n  <style>@import url("stylesheets/bx-lineargradienthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',O=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={selectAll:{enabled:function(){
return!0},exec:function(){return e._selectAllStops()}},deselectAll:{enabled:function(){
return!0},exec:function(){return e._deselectAllStops()}}},this.tabIndex=-1,this._updateAll200Th=m(this._updateAll,200,this),
this._selectedStops=[],this._draggedGrippie=null,this._draggedSlider=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=N;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("keydown",function(t){
return e._onShadowRootKeyDown(t)}),this._shadowRoot.addEventListener("mousedown",function(t){
return e._onShadowRootMouseDown(t)}),this._shadowRoot.addEventListener("mouseup",function(t){
return e._onShadowRootMouseUp(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},get selectedStops(){return $traceurRuntime.spread(this._selectedStops)},_onEnabled:function(){
var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),body.canvas.huds.addEventListener("mousedown",this._hudMouseDownListener=function(t){
e._onHudMouseDown(t)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._onUndoOrRedo()})},_onDisabled:function(){this._selectStops([]),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.huds.removeEventListener("mousedown",this._hudMouseDownListener),body.canvas.undoManager.removeEventListener("undo",this._undoListener),
body.canvas.undoManager.removeEventListener("redo",this._redoListener)},_onSelectedElementsChange:function(){
this._updateAll200Th()},_onSelectedTextRangeChange:function(){this._updateAll200Th();
},_onArtboardMutation:function(e){this._draggedGrippie?this._updatePositions(this._draggedGrippie.parentElement.parentElement):this._draggedSlider?this._updatePositions(this._draggedSlider.parentElement):"style"===e.attributeName&&"stop"===e.target.localName?this._updateGrippiesColor():this._updateAll200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onUndoOrRedo:function(){this._selectStops([]);
},_onArtboardMouseDown:function(e){0===e.button&&this._selectStops([])},_onHudMouseDown:function(e){
0===e.button&&e.target!==this&&this._selectStops([])},_onShadowRootMouseDown:function(e){
var t=this;if(0===e.button){e.target.classList.contains("slider")?this._onSliderMouseDown(e):e.target.classList.contains("stop-grippie")&&this._onStopGrippieMouseDown(e);
var n,r;this._mouseMovedAfterMouseDown=!1,this._mouseDownTimeStamp=e.timeStamp,window.addEventListener("mousemove",n=function(){
t._mouseMovedAfterMouseDown=!0}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mouseup",r),
window.removeEventListener("mousemove",n)})}},_onShadowRootMouseUp:function(e){e.target.classList.contains("stop-grippie")&&this._onStopGrippieMouseUp(e);
},_onShadowRootDblClick:function(e){e.timeStamp-this._mouseDownTimeStamp<100&&e.target.classList.contains("slider")&&this._onSliderDblClick(e);
},_onStopGrippieMouseDown:function(e){var t=e.target,n=t[P.stop],r=n.closest("linearGradient"),i=this._selectedStops.filter(function(e){
return e.closest("linearGradient")===r}),a=function(){var e=0,t=[],n=!0,i=!1,a=void 0;
try{for(var o=void 0,s=r.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;"stop"===l.localName&&(t[e++]=l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}(),o=a[0],s=a[a.length-1],l=body.modKeys,u=l.alt,c=l.shift;
this._mouseDownSelectedStops=$traceurRuntime.spread(i),c===!1?i.includes(n)===!1&&this._selectStops([n]):c===!0&&i.includes(n)===!1&&(i.push(n),
this._selectStops(i)),n===o&&0===n.offset.baseVal&&u===!1?this._onBoundingStopGrippieOrSliderEdgeMouseDown(e,"start"):n===s&&1===n.offset.baseVal&&u===!1?this._onBoundingStopGrippieOrSliderEdgeMouseDown(e,"end"):this._onDraggableStopGrippieMouseDown(e);
},_onStopGrippieMouseUp:function(e){if(!this._mouseMovedAfterMouseDown){var t=e.target,n=this._mouseDownSelectedStops,r=t[P.stop],a=t.closest(".subhud"),o=a[P.gradientUser],s=body.modKeys.shift,l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=body.canvas.selectedElements[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if("g"!==f.localName&&"a"!==f.localName||!f.contains(o))l.push(f);else{
var m=!0,b=!1,g=void 0;try{for(var p=void 0,y=i($traceurRuntime.spread(f.children))[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var x=p.value;l.unshift(x)}}catch(_){b=!0,g=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}}}}catch(w){c=!0,d=w}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}l.remove(o),l.unshift(o),body.canvas.selectedElements=l;for(var S=o.parentElement;S!==body.canvas.currentArtboard;S=S.parentElement)if("g"===S.localName||"a"===S.localName){
body.canvas.currentContainer=S;break}s===!0&&this._mouseDownSelectedStops.includes(r)===!0&&(n.remove(r),
this._selectStops(n))}},_onDraggableStopGrippieMouseDown:function(e){var t,n,r,i,a=this,o=e.target,s=o.closest(".subhud"),l=s.querySelector(".slider"),c=body.canvas.geometryPrecision,d=this._getMoveOffsetsForSelectedStops(),h=this.getScreenCTM(),v=h.inverse(),f=new SVGPoint(l.x1.baseVal.value,l.y1.baseVal.value),m=new SVGPoint(l.x2.baseVal.value,l.y2.baseVal.value),b=new SVGPoint(o.cx.baseVal.value,o.cy.baseVal.value),g=b.matrixTransform(h),x=(t=p(f,m,b,!1)[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),_=y(f,x)/y(f,m),w=!1;this._draggedGrippie=o,window.addEventListener("mousemove",r=function(t){
var n,r;w===!1&&(body.canvas.undoManager.checkpoint("Move gradient stop"),w=!0);var i=new SVGPoint(g.x+t.clientX-e.clientX,g.y+t.clientY-e.clientY),o=i.matrixTransform(v),s=(n=p(f,m,o,!1)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),l=y(f,s)/y(f,m),u=l-_,h=!0,b=!1,x=void 0;try{for(var S=void 0,M=a._selectedStops[Symbol.iterator]();!(h=(S=M.next()).done);h=!0){
var C=S.value,R=d.get(C),k=R.minOffset,E=R.maxOffset,A=R.initialOffset;k>A+u?C.setAttribute("offset",k,c):A+u>E?C.setAttribute("offset",E,c):C.setAttribute("offset",A+u,c);
}}catch(P){b=!0,x=P}finally{try{h||null==M["return"]||M["return"]()}finally{if(b)throw x;
}}}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i);var e=!0,t=!1,n=void 0;try{for(var o=void 0,s=a._selectedStops[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){
var l=o.value;l.setAttribute("offset",u(l.offset.baseVal,body.canvas.geometryPrecision));
}}catch(c){t=!0,n=c}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw n;
}}a._draggedGrippie=null})},_onBoundingStopGrippieOrSliderEdgeMouseDown:function(t){
var n,r,i,o,s,l,u,d,h=void 0!==arguments[1]?arguments[1]:"start",v=this,f=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e.contains(t.target)}),m=f[P.gradient],b=f[P.gradientUser],g=e(b),p=b.getScreenCTM(),y=p.inverse(),w=SVGMatrix.fromMatrix(m.gradientTransform.baseVal.consolidate().matrix),M=!1,k=!1;
t.target.matches(".stop-grippie")?this._draggedGrippie=t.target:t.target.matches(".slider")&&(this._draggedSlider=t.target);
var E=function(){if(m.gradientUnits.baseVal===L){"start"===h?(i=new SVGPoint(m.x1.baseVal.value,m.y1.baseVal.value),
o=new SVGPoint(m.x2.baseVal.value,m.y2.baseVal.value)):"end"===h&&(i=new SVGPoint(m.x2.baseVal.value,m.y2.baseVal.value),
o=new SVGPoint(m.x1.baseVal.value,m.y1.baseVal.value));var e=new A(o,i).getNormalVector();
s=new SVGPoint(o.x+e.x,o.y+e.y);var t=i.matrixTransform(w),n=o.matrixTransform(w),r=s.matrixTransform(w);
l=t.matrixTransform(p),u=n.matrixTransform(p),d=r.matrixTransform(p)}else if(m.gradientUnits.baseVal===$){
"start"===h?(i=new SVGPoint(m.x1.baseVal.valueInSpecifiedUnits,m.y1.baseVal.valueInSpecifiedUnits),
o=new SVGPoint(m.x2.baseVal.valueInSpecifiedUnits,m.y2.baseVal.valueInSpecifiedUnits)):"end"===h&&(i=new SVGPoint(m.x2.baseVal.valueInSpecifiedUnits,m.y2.baseVal.valueInSpecifiedUnits),
o=new SVGPoint(m.x1.baseVal.valueInSpecifiedUnits,m.y1.baseVal.valueInSpecifiedUnits));
var a=new A(o,i).getNormalVector();s=new SVGPoint(o.x+a.x,o.y+a.y);var c=i.matrixTransform(w),v=o.matrixTransform(w),f=s.matrixTransform(w),b=C(c,g),y=C(v,g),x=C(f,g);
l=b.matrixTransform(p),u=y.matrixTransform(p),d=x.matrixTransform(p)}};window.addEventListener("mousemove",n=function(e){
var n,r;if(M===!1){if(!a(t,e,5))return;M=!0,body.canvas.undoManager.checkpoint("Transform gradient"),
E()}var h,v,f,b,p=body.modKeys.shift,C=new SVGPoint(e.clientX+(l.x-t.clientX),e.clientY+(l.y-t.clientY)),P=new SVGPoint(l.x+e.clientX-t.clientX,l.y+e.clientY-t.clientY),T=SVGPoint.fromPoint(u);
if(p===!1){var j=x(u,l,C),N=(new SVGMatrix).rotate(j,u.x,u.y);b=d.matrixTransform(N);
}else if(p===!0){k=!0;var O=(n=_(u,P,22.5)[Symbol.iterator](),(r=n.next()).done?void 0:r.value);
P=O}if(k){var V=new A(T,P).getNormalVector();b=new SVGPoint(T.x+V.x,T.y+V.y)}if(m.gradientUnits.baseVal===L){
var z=P.matrixTransform(y),D=T.matrixTransform(y),G=b.matrixTransform(y);h=z.matrixTransform(w.inverse()),
v=D.matrixTransform(w.inverse()),f=G.matrixTransform(w.inverse())}else if(m.gradientUnits.baseVal===$){
var I=P.matrixTransform(y),B=T.matrixTransform(y),U=b.matrixTransform(y),H=R(I,g),F=R(B,g),q=R(U,g);
h=H.matrixTransform(w.inverse()),v=F.matrixTransform(w.inverse()),f=q.matrixTransform(w.inverse());
}var W=S(i,o,s,h,v,f),Y=c(w.multiply(W),body.canvas.transformPrecision);m.setAttribute("gradientTransform",Y.toString());
}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),v._draggedGrippie=null,v._draggedSlider=null;
})},_onSliderMouseDown:function(e){var t=e.target,n=t.closest(".subhud"),r=(n[P.gradientUser],
t.getScreenCTM()),i=new SVGPoint(e.clientX,e.clientY),a=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),o=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),s=a.matrixTransform(r),l=o.matrixTransform(r),u=new A(s,i).length,c=new A(l,i).length;
5>=u?this._onBoundingStopGrippieOrSliderEdgeMouseDown(e,"start"):5>=c?this._onBoundingStopGrippieOrSliderEdgeMouseDown(e,"end"):this._onSliderBodyMouseDown(e);
},_onSliderBodyMouseDown:function(t){var n,r,i,o,s=this,l=t.target,c=l.closest(".subhud"),d=c[P.gradientUser],h=c[P.gradient],v=e(d),f=d.getScreenCTM(),m=f.inverse(),b=SVGMatrix.fromMatrix(h.gradientTransform.baseVal.consolidate().matrix),g=body.canvas.geometryPrecision,p=!1;
if(this._draggedSlider=l,h.gradientUnits.baseVal===L){var y=new SVGPoint(h.x1.baseVal.value,h.y1.baseVal.value),x=new SVGPoint(h.x2.baseVal.value,h.y2.baseVal.value),_=y.matrixTransform(b),w=x.matrixTransform(b);
i=_.matrixTransform(f),o=w.matrixTransform(f)}else if(h.gradientUnits.baseVal===$){
var S=new SVGPoint(h.x1.baseVal.valueInSpecifiedUnits,h.y1.baseVal.valueInSpecifiedUnits),M=new SVGPoint(h.x2.baseVal.valueInSpecifiedUnits,h.y2.baseVal.valueInSpecifiedUnits),k=S.matrixTransform(b),E=M.matrixTransform(b),A=C(k,v),T=C(E,v);
i=A.matrixTransform(f),o=T.matrixTransform(f)}window.addEventListener("mousemove",n=function(e){
if(p===!1){if(!a(t,e,5))return;p=!0,body.canvas.undoManager.checkpoint("Transform gradient");
}var n,r;if(h.gradientUnits.baseVal===L){var s=new SVGPoint(i.x+e.clientX-t.clientX,i.y+e.clientY-t.clientY),l=new SVGPoint(o.x+e.clientX-t.clientX,o.y+e.clientY-t.clientY),c=s.matrixTransform(m),d=l.matrixTransform(m);
n=c.matrixTransform(b.inverse()),r=d.matrixTransform(b.inverse())}else if(h.gradientUnits.baseVal===$){
var f=new SVGPoint(i.x+e.clientX-t.clientX,i.y+e.clientY-t.clientY),y=new SVGPoint(o.x+e.clientX-t.clientX,o.y+e.clientY-t.clientY),x=f.matrixTransform(m),_=y.matrixTransform(m),w=R(x,v),S=R(_,v);
n=w.matrixTransform(b.inverse()),r=S.matrixTransform(b.inverse())}h.setAttribute("x1",u(n.x,g)),
h.setAttribute("y1",u(n.y,g)),h.setAttribute("x2",u(r.x,g)),h.setAttribute("y2",u(r.y,g));
}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),s._draggedSlider=null})},_onSliderDblClick:function(e){
body.canvas.undoManager.checkpoint("Add Stop");var t=e.target,r=t.closest(".subhud"),i=r[P.gradient],a=this.getScreenCTM().inverse(),s=function(){
var e=0,t=[],n=!0,r=!1,a=void 0;try{for(var o=void 0,s=i.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;"stop"===l.localName&&(t[e++]=l)}}catch(u){r=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw a}}return t}(),c=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),d=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),h=new SVGPoint(e.clientX,e.clientY).matrixTransform(a),v=y(c,h),f=y(c,d),m=v/f;
m=l(m,0,1,5);for(var b=null,g=0;g<s.length;g+=1){var p=s[g];if(p.offset.baseVal<m)b=g;else if(p.offset.baseVal>m)break;
}var x=n("svg:stop");x.setAttribute("offset",u(m,body.canvas.geometryPrecision)),
x.style.stopColor=o(i,m).toString("hsl"),null===b?0===i.childElementCount?i.append(x):i.children[0].before(x):s[b].after(x),
this._selectStops([x])},_onShadowRootKeyDown:function(e){var t=E.fromEvent(e);0!==this._selectedStops.length&&(t.matches("Backspace")?(e.stopPropagation(),
this._deleteSelectedStops()):t.matches("Tab")?(e.stopPropagation(),e.preventDefault(),
this._selectNextStop()):t.matches("ArrowLeft")?(e.stopPropagation(),this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Left"),
this._moveSelectedStops(1,"left"))):t.matches("ArrowRight")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Right"),
this._moveSelectedStops(1,"right"))):t.matches("Shift","ArrowLeft")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 10 Units Left"),
this._moveSelectedStops(10,"left"))):t.matches("Shift","ArrowRight")&&(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 10 Units Right"),
this._moveSelectedStops(10,"right"))))},_updateAll:function(){var e=this,t=f(this.context,body.canvas.selectedElements,body.canvas.selectedTextRange),r=t.filter(function(t){
return"linearGradient"===h(t,e.context)});if(0===r.length)this["#subhuds"].innerHTML="";else{
var i=this._shadowRoot.activeElement,a=[];this["#subhuds"].innerHTML="";var o=!0,s=!1,l=void 0;
try{var u,c,d,m,b=this,g=function(){var e=p.value,t=v(e,b.context);if(a.includes(t))return 0;
a.push(t);var r=function(){var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n}(),i=b["#subhud-template"].cloneNode(!0);i.removeAttribute("id"),
i[P.gradient]=t,i[P.gradientUser]=e;var o=i.querySelector(".stop-grippies"),s=document.createDocumentFragment();
u=!0,c=!1,d=void 0;try{for(var l=void 0,h=r[Symbol.iterator]();!(u=(l=h.next()).done);u=!0){
var f=l.value,m=n("svg:circle");m.setAttribute("class","stop-grippie"),m[P.stop]=f,
f.offset.baseVal>.95?s.prepend(m):o.append(m)}}catch(g){c=!0,d=g}finally{try{u||null==h["return"]||h["return"]();
}finally{if(c)throw d}}o.append(s),b["#subhuds"].append(i)};e:for(var p=void 0,y=r[Symbol.iterator]();!(o=(p=y.next()).done);o=!0)switch(m=g()){
case 0:continue e}}catch(x){s=!0,l=x}finally{try{o||null==y["return"]||y["return"]();
}finally{if(s)throw l}}if(i){var _=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e[P.gradient]===i[P.gradient]});_&&_.focus()}this._updatePositions(),this._updateGrippiesSize(),
this._updateGrippiesColor(),this._updateGrippiesSelectedState(),this._updateGrippiesZOrder();
}},_updatePositions:function(){var t=void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,i=void 0;
try{var a,o,s,l,u,c,d,h=this,v=function(){var n=f.value;if(t&&n!==t)return 0;var r=n[P.gradient],i=n[P.gradientUser],d=function(){
var e=0,t=[],n=!0,i=!1,a=void 0;try{for(var o=void 0,s=r.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;"stop"===l.localName&&(t[e++]=l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}(),v=SVGMatrix.fromMatrix(r.gradientTransform.baseVal.consolidate().matrix),m=M(i,h),b=n.querySelector(".slider"),p=n.querySelector(".slider-shadow"),y=$traceurRuntime.spread(n.querySelector(".stop-grippies").children);
if(r.gradientUnits.baseVal===L){var x=new SVGPoint(r.x1.baseVal.value,r.y1.baseVal.value),_=new SVGPoint(r.x2.baseVal.value,r.y2.baseVal.value),w=x.matrixTransform(v),S=_.matrixTransform(v),C=w.matrixTransform(m),R=S.matrixTransform(m);
b.setAttribute("x1",C.x),b.setAttribute("y1",C.y),b.setAttribute("x2",R.x),b.setAttribute("y2",R.y),
p.setAttribute("x1",C.x),p.setAttribute("y1",C.y),p.setAttribute("x2",R.x),p.setAttribute("y2",R.y),
a=!0,o=!1,s=void 0;try{for(var k=function(){var e=E.value,t=y.find(function(t){return t[P.stop]===e;
}),n=g(C,R,e.offset.baseVal);t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y},E=void 0,A=d[Symbol.iterator]();!(a=(E=A.next()).done);a=!0)k();
}catch(T){o=!0,s=T}finally{try{a||null==A["return"]||A["return"]()}finally{if(o)throw s;
}}}else if(r.gradientUnits.baseVal===$){var j=e(i),N=new SVGPoint(r.x1.baseVal.valueInSpecifiedUnits,r.y1.baseVal.valueInSpecifiedUnits),O=new SVGPoint(r.x2.baseVal.valueInSpecifiedUnits,r.y2.baseVal.valueInSpecifiedUnits),V=N.matrixTransform(v),z=O.matrixTransform(v),D=new SVGPoint(j.x+V.x*j.width,j.y+V.y*j.height),G=new SVGPoint(j.x+z.x*j.width,j.y+z.y*j.height),I=D.matrixTransform(m),B=G.matrixTransform(m);
b.setAttribute("x1",I.x),b.setAttribute("y1",I.y),b.setAttribute("x2",B.x),b.setAttribute("y2",B.y),
p.setAttribute("x1",I.x),p.setAttribute("y1",I.y),p.setAttribute("x2",B.x),p.setAttribute("y2",B.y),
l=!0,u=!1,c=void 0;try{for(var U=function(){var e=H.value,t=y.find(function(t){return t[P.stop]===e;
}),n=g(I,B,e.offset.baseVal);t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y},H=void 0,F=d[Symbol.iterator]();!(l=(H=F.next()).done);l=!0)U();
}catch(q){u=!0,c=q}finally{try{l||null==F["return"]||F["return"]()}finally{if(u)throw c;
}}}};e:for(var f=void 0,m=this["#subhuds"].children[Symbol.iterator]();!(n=(f=m.next()).done);n=!0)switch(d=v()){
case 0:continue e}}catch(b){r=!0,i=b}finally{try{n||null==m["return"]||m["return"]();
}finally{if(r)throw i}}},_updateGrippiesColor:function(){var e=!0,t=!1,n=void 0;try{
for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.style.fill=d[P.stop].style.stopColor}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",j/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateGrippiesSelectedState:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;this._selectedStops.includes(d[P.stop])?d.setAttribute("data-selected",""):d.removeAttribute("data-selected");
}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}}}catch(v){t=!0,n=v}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_updateGrippiesZOrder:function(){var e=this["#subhuds"].querySelectorAll(".stop-grippie"),t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._selectedStops[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h[P.stop]===o&&h.parentElement.append(h)}}catch(v){l=!0,u=v}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){n=!0,r=f;
}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_selectStops:function(e){
0===e.length&&0===this._selectedStops.length||(this._selectedStops=$traceurRuntime.spread(e),
this._updateGrippiesSelectedState(),this._updateGrippiesZOrder(),this.dispatchEvent(new CustomEvent("selectedstopschange")));
},_selectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[P.gradient],n=function(){
var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n}(),r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._selectedStops[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.closest("linearGradient")!==t&&n.push(l)}}catch(u){i=!0,a=u}finally{
try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}this._selectStops(n);
},_deselectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[P.gradient];
this._selectStops(this._selectedStops.filter(function(e){return e.closest("linearGradient")!==t;
}))},_selectNextStop:function(){var e=this._shadowRoot.activeElement,t=e[P.gradient];
if(t){var n=function(){var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n}(),r=this._selectedStops.filter(function(e){return e.closest("linearGradient")===t;
}),i=r[r.length-1],a=n[0];n.length>1&&(this._selectStops(this._selectedStops.filter(function(e){
return e.closest("linearGradient")!==t})),i.nextElementSibling?this._selectStops($traceurRuntime.spread([i.nextElementSibling],this._selectedStops)):this._selectStops($traceurRuntime.spread([a],this._selectedStops)));
}},_deleteSelectedStops:function(){var e=this._shadowRoot.activeElement;if(null!==e){
var t=e[P.gradient],n=this._selectedStops.filter(function(e){return e.closest("linearGradient")===t;
});if(n.length>0){body.canvas.undoManager.checkpoint("Delete gradient stop(s)");var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{
if(i)throw a}}}this._selectStops([])}},_moveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:1,t=void 0!==arguments[1]?arguments[1]:"left",n=this._shadowRoot.activeElement;
if(null!==n){var r=n.querySelector(".slider"),i=n[P.gradient],a=this._selectedStops.filter(function(e){
return e.closest("linearGradient")===i}),o=this._getMoveOffsetsForSelectedStops(),s=this.getScreenCTM(),u=new SVGPoint(r.x1.baseVal.value,r.y1.baseVal.value),c=new SVGPoint(r.x2.baseVal.value,r.y2.baseVal.value),d=u.matrixTransform(s),h=c.matrixTransform(s),v=new A(d,h),f=e/v.length,m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=a[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){var x=p.value,_=o.get(x),w=_.minOffset,S=_.maxOffset;
if("left"===t){var M=l(x.offset.baseVal-f,w,S,body.canvas.geometryPrecision);x.setAttribute("offset",M);
}else if("right"===t){var C=l(x.offset.baseVal+f,w,S,body.canvas.geometryPrecision);
x.setAttribute("offset",C)}}}catch(R){b=!0,g=R}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}}},_canMoveActiveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:"left",t=this._shadowRoot.activeElement;
if(null!==t){var n=(t.querySelector(".slider"),t[P.gradient]),r=this._selectedStops.find(function(e){
return e.closest("linearGradient")===n});if(null!==r){var i=this._getMoveOffsetsForSelectedStops(),a=i.get(r),o=a.minOffset,s=a.maxOffset;
return"left"===e?r.offset.baseVal>o:"right"===e?r.offset.baseVal<s:void 0}}},_getPreviousNotSelectedStop:function(e){
for(;e.previousElementSibling;){if(this._selectedStops.includes(e.previousElementSibling)===!1)return e.previousElementSibling;
e=e.previousElementSibling}return null},_getNextNotSelectedStop:function(e){for(;e.nextElementSibling;){
if(this._selectedStops.includes(e.nextElementSibling)===!1)return e.nextElementSibling;
e=e.nextElementSibling}return null},_getMoveOffsetsForSelectedStops:function(){var e=new Map,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._selectedStops[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=this._getPreviousNotSelectedStop(s),u=this._getNextNotSelectedStop(s),c={};
l?c.min=s.offset.baseVal-l.offset.baseVal:c.min=s.offset.baseVal,u?c.max=u.offset.baseVal-s.offset.baseVal:c.max=1-s.offset.baseVal,
t.push(c)}}catch(d){r=!0,i=d}finally{try{n||null==o["return"]||o["return"]()}finally{
if(r)throw i}}if(t.length>0){var h=t[0].min,v=t[0].max,f=!0,m=!1,b=void 0;try{for(var g=void 0,p=t[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){
var y=g.value;y.min<h&&(h=y.min),y.max<v&&(v=y.max)}}catch(x){m=!0,b=x}finally{try{
f||null==p["return"]||p["return"]()}finally{if(m)throw b}}var _=!0,w=!1,S=void 0;try{
for(var M=void 0,C=this._selectedStops[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;e.set(R,{initialOffset:R.offset.baseVal,minOffset:R.offset.baseVal-h,
maxOffset:R.offset.baseVal+v})}}catch(k){w=!0,S=k}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}}return e}},{},t)}(SVGGElement),V=r("g","bx-lineargradienthud",O);
return{get default(){return V}}}),$traceurRuntime.registerModule("elements/bx-maskcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-maskcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-maskcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-maskcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-maskcontrols")),t=(e.createElement,
e.registerElement),n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-maskcontrols")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-maskcontrols")).getDefFromURL,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-maskcontrols")).queryStylableElements,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-maskcontrols")).throttle),r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-maskcontrols.css");\n  </style>\n\n  <section id="clip-section">\n    <h2 id="clip-section-heading">Clipping Mask</h2>\n\n    <div id="clip-buttons" class="hbox">\n      <bx-button\n        id="clip-button"\n        icon="set"\n        iconsize="25"\n        label="Clip">\n      </bx-button>\n\n      <bx-button\n        id="unclip-button"\n        icon="unset"\n        iconsize="25"\n        label="Unclip">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="mask-section">\n    <h2 id="mask-section-heading">Opacity Mask</h2>\n\n    <div id="mask-buttons" class="hbox">\n      <bx-button\n        id="mask-button"\n        icon="set"\n        iconsize="25"\n        label="Mask">\n      </bx-button>\n\n      <bx-button\n        id="unmask-button"\n        icon="unset"\n        iconsize="25"\n        label="Unmask">\n      </bx-button>\n    </div>\n  </section>\n',i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var t=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#clip-button"].addEventListener("click",function(t){
return e._onClipButtonClick(t)}),this["#unclip-button"].addEventListener("click",function(t){
return e._onUnclipButtonClick(t)}),this["#mask-button"].addEventListener("click",function(t){
return e._onMaskButtonClick(t)}),this["#unmask-button"].addEventListener("click",function(t){
return e._onUnmaskButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onClipButtonClick:function(e){
0===e.button&&body.commands.clip.exec()},_onUnclipButtonClick:function(e){0===e.button&&body.commands.unclip.exec();
},_onMaskButtonClick:function(e){0===e.button&&body.commands.mask.exec()},_onUnmaskButtonClick:function(e){
0===e.button&&body.commands.unmask.exec()},_update:function(){this._updateClipSection(),
this._updateMaskSection()},_updateClipSection:function(){this["#clip-button"].disabled=!body.commands.clip.enabled(),
this["#unclip-button"].disabled=!body.commands.unclip.enabled(),this["#clip-section-heading"].disabled=this["#clip-button"].disabled&&this["#unclip-button"].disabled;
},_updateMaskSection:function(){this["#mask-button"].disabled=!body.commands.mask.enabled(),
this["#unmask-button"].disabled=!body.commands.unmask.enabled(),this["#mask-section-heading"].disabled=this["#mask-button"].disabled&&this["#unmask-button"].disabled;
}},{},e)}(HTMLElement),a=t("bx-maskcontrols",i);return{get default(){return a}}}),
$traceurRuntime.registerModule("elements/bx-menu",[],function(){"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-menu"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-menu")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-menu")).sleep,n=75,r=300,i='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-menu.css");\n  </style>\n\n  <main id="main">\n    <content id="content"></content>\n  </main>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._mouseLocs=[],this._mouseInsideMenuBlock=!1,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}this["#main"].addEventListener("mousemove",function(t){return e._onMouseMove(t);
}),this.addEventListener("mouseover",function(t){return e._onMouseOver(t)}),this.addEventListener("mouseout",function(t){
return e._onMouseOut(t)}),this.addEventListener("click",function(t){return e._onClick(t);
})},menuWillShow:function(){return Promise.resolve()},menuItemWillTrigger:function(e){
return Promise.resolve()},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(e){this.setAttribute("label",e)},get opened(){return this.hasAttribute("opened");
},get items(){var e=[],t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if("content"===o.localName){var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=o.getDistributedNodes()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;"bx-menuitem"!==h.localName&&"hr"!==h.localName||e.push(h)}}catch(v){
l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else"bx-menuitem"!==o.localName&&"hr"!==o.localName||e.push(o);
}}catch(f){n=!0,r=f}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}return e},openBelowElement:function(e){var t,n,r,i=arguments;return $traceurRuntime.asyncWrap(function(a){
for(;;)switch(a.state){case 0:t=void 0!==i[1]?i[1]:0,a.state=4;break;case 4:return void Promise.resolve(this.menuWillShow()).then(a.createCallback(2),a.errback);
case 2:this.setAttribute("opened",""),n=e.getBoundingClientRect(),this.style.height=null,
this.style.top=n.top+n.height+t+"px",this.style.left=n.left+"px",r=this.getBoundingClientRect(),
r.left+r.width>window.innerWidth&&(this.style.left=n.left+n.width-r.width+"px"),r.top+r.height+t+5>window.innerHeight&&(this.style.height=window.innerHeight-(n.top+n.height+t)-10+"px"),
this.dispatchEvent(new CustomEvent("menuopen",{bubbles:!0,detail:this})),a.state=-2;
break;default:return a.end()}},this)},openNextToElement:function(e){var t,n,r,i,a=arguments;
return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:t=void 0!==a[1]?a[1]:0,
o.state=4;break;case 4:return void Promise.resolve(this.menuWillShow()).then(o.createCallback(2),o.errback);
case 2:this.setAttribute("opened",""),n=e.getBoundingClientRect(),this.style.height=null,
this.style.top=n.top+"px",this.style.left=n.left+n.width+t+"px",r=this.getBoundingClientRect(),
r.left+r.width+t>window.innerWidth&&(this.style.left=n.left-r.width-t+"px",r=this.getBoundingClientRect()),
r.top+r.height+5>window.innerHeight&&(i=window.innerHeight-(r.top+r.height)-5,this.style.top=n.top+i+"px",
r=this.getBoundingClientRect(),r.top<0&&(this.style.top="5px",this.style.height=window.innerHeight-10+"px")),
this.dispatchEvent(new CustomEvent("menuopen",{bubbles:!0,detail:this})),o.state=-2;
break;default:return o.end()}},this)},openAtPosition:function(e,t){var n,r;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:return void Promise.resolve(this.menuWillShow()).then(i.createCallback(2),i.errback);
case 2:this.setAttribute("opened",""),this.style.height=null,this.style.left=e+"px",
this.style.top=t+"px",n=this.getBoundingClientRect(),n.left+n.width>window.innerWidth&&(this.style.left=e-n.width+"px",
n=this.getBoundingClientRect()),n.top+n.height+5>window.innerHeight&&(r=window.innerHeight-(n.top+n.height)-5,
this.style.top=t+r+"px",n=this.getBoundingClientRect(),n.top<0&&(this.style.top="5px",
this.style.height=window.innerHeight-10+"px")),this.dispatchEvent(new CustomEvent("menuopen",{
bubbles:!0,detail:this})),i.state=-2;break;default:return i.end()}},this)},close:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.items[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.highlighted&&(a.highlighted=!1)}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this.style.left=null,this.style.top=null,this.removeAttribute("opened"),
this._openedSubmenu&&(this._openedSubmenu.close(),this._openedSubmenu=null),this.dispatchEvent(new CustomEvent("menuclose",{
bubbles:!0,detail:this}))},triggerItem:function(e){var n=this;return new Promise(function(r){
var i,a,o,s,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:return void Promise.resolve(n.menuItemWillTrigger(e)).then(c.createCallback(2),c.errback);
case 2:c.state=e.disabled===!1&&0===e.childElementCount?13:16;break;case 13:c.state=n.opened?7:12;
break;case 7:i=!0,a=!1,o=void 0;try{for(s=void 0,l=n.items[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)u=s.value,
u.highlighted&&(u.highlighted=!1)}catch(d){a=!0,o=d}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}n._willClose=!0,c.state=8;break;case 8:return void Promise.resolve(t(100)).then(c.createCallback(4),c.errback);
case 4:e.highlighted=!0,c.state=10;break;case 10:return void Promise.resolve(t(100)).then(c.createCallback(6),c.errback);
case 6:e.highlighted=!1,n._willClose=!1,n.close(),c.state=12;break;case 12:n.dispatchEvent(new CustomEvent("menuitemtrigger",{
bubbles:!0,detail:e})),r(),c.state=-2;break;case 16:r(),c.state=-2;break;default:
return c.end()}},this)})},highlightItem:function(e){var n,r;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:i.state=this._willClose?1:3;break;case 1:i.returnValue=void 0,
i.state=2;break;case 2:i.state=-2;break;case 3:n=this.items.find(function(e){return e.highlighted===!0;
}),i.state=21;break;case 21:i.state=n?10:7;break;case 10:i.state=n===e?5:8;break;case 5:
i.returnValue=void 0,i.state=6;break;case 6:i.state=-2;break;case 8:n.highlighted=!1,
i.state=7;break;case 7:this._openedSubmenu&&(this._openedSubmenu.close(),this._openedSubmenu=null),
i.state=23;break;case 23:i.state=e&&e.disabled===!1?17:-2;break;case 17:r=e.children[0]&&"bx-menu"===e.children[0].localName?e.children[0]:null,
e.highlighted=!0,i.state=18;break;case 18:i.state=r?12:-2;break;case 12:return void Promise.resolve(t(100)).then(i.createCallback(13),i.errback);
case 13:e.highlighted&&e.highlighted&&(this._openedSubmenu=r,r.openNextToElement(e,0)),
i.state=-2;break;default:return i.end()}},this)},highlightPreviousItem:function(){
var e=void 0!==arguments[0]?arguments[0]:null,t=this.items;if(null===e&&(e=t.find(function(e){
return e.highlighted===!0})),e)for(var n=t.indexOf(e)-1;n>=0;n-=1){var r=t[n];if(r.disabled===!1&&r.hidden===!1&&"bx-menuitem"===r.localName)return this.highlightItem(r),
void r.scrollIntoViewIfNeeded()}for(var i=t.length-1;i>=0;i-=1){var a=t[i];if(a.disabled===!1&&a.hidden===!1&&"bx-menuitem"===a.localName&&a!==e)return this.highlightItem(a),
void a.scrollIntoViewIfNeeded()}},highlightNextItem:function(){var e=void 0!==arguments[0]?arguments[0]:null,t=this.items;
if(null===e&&(e=t.find(function(e){return e.highlighted===!0})),e)for(var n=t.indexOf(e)+1;n<t.length;n+=1){
var r=t[n];if(r.disabled===!1&&r.hidden===!1&&"bx-menuitem"===r.localName)return this.highlightItem(r),
void r.scrollIntoViewIfNeeded()}for(var i=0;i<t.length;i+=1){var a=t[i];if(a.disabled===!1&&a.hidden===!1&&"bx-menuitem"===a.localName&&a!==e)return this.highlightItem(a),
void a.scrollIntoViewIfNeeded()}},_onMouseMove:function(e){this._mouseLocs.push({
x:e.pageX,y:e.pageY}),this._mouseLocs.length>3&&this._mouseLocs.shift()},_onMouseOver:function(e){
e.target===this||e.target.parentElement===this||this.items.includes(e.target)?(this._mouseInsideMenuBlock===!1&&(this._mouseInsideMenuBlock=!0),
"bx-menuitem"===e.target.localName&&this._onMenuItemMouseEnter(e.target)):this._mouseInsideMenuBlock===!0&&(this._mouseInsideMenuBlock=!1,
this._onMenuBlockMouseLeave())},_onMouseOut:function(e){e.toElement&&(e.toElement===this||this.items.includes(e.toElement))||this._mouseInsideMenuBlock===!0&&(this._mouseInsideMenuBlock=!1,
this._onMenuBlockMouseLeave())},_onClick:function(e){if(0===e.button&&"bx-menuitem"===e.target.localName&&(e.target.parentElement===this||this.items.includes(e.target))){
var t=e.target;this.triggerItem(t)}},_onMenuItemMouseEnter:function(e){this._timeoutID&&clearTimeout(this._timeoutID),
this._highlightItemWithDelay(e)},_onMenuBlockMouseLeave:function(){this._timeoutID&&clearTimeout(this._timeoutID);
var e=this.items.find(function(e){return e.highlighted===!0});if(e){var t=e.children[0];
t&&t.opened!==!1||(e.highlighted=!1)}},_highlightItemWithDelay:function(e){var t=this,n=this._getHighlightDelay();
n?this._timeoutID=setTimeout(function(){t._highlightItemWithDelay(e)},n):this.highlightItem(e);
},_getHighlightDelay:function(){var e="right",t=this._mouseLocs[this._mouseLocs.length-1],i=this._mouseLocs[0];
if(!this._openedSubmenu)return 0;if(!t)return 0;i||(i=t);var a=this.getBoundingClientRect(),o={
x:a.left,y:a.top-n},s={x:a.left+a.width,y:o.y},l={x:a.left,y:a.top+a.height+n},u={
x:a.left+a.width,y:l.y};if(i.x<a.left||i.x>u.x||i.y<a.top||i.y>u.y)return 0;if(this._lastDelayLoc&&t.x==this._lastDelayLoc.x&&t.y==this._lastDelayLoc.y)return 0;
var c=s,d=u;"left"==e?(c=l,d=o):"below"==e?(c=u,d=l):"above"==e&&(c=o,d=s);var h=function(e,t){
return(t.y-e.y)/(t.x-e.x)},v=h(t,c),f=h(t,d),m=h(i,c),b=h(i,d);return m>v&&f>b?(this._lastDelayLoc=t,
r):(this._lastDelayLoc=null,0)}},{},e)}(HTMLElement),o=e("bx-menu",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-menuitem",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-menuitem")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-menuitem"))["default"],n="images/icons.svg#arrow-right",r="images/icons.svg#circle",i="images/icons.svg#check-mark",a='\n  <style>@import url("stylesheets/bx-menuitem.css");</style>\n\n  <main>\n    <div id="state-icons">\n      <svg class="icon" id="selected-state-icon" viewBox="0 0 100 100" hidden>\n        <use href="'+r+'" width="100" height="100"></use>\n      </svg>\n\n      <svg class="icon" id="toggled-state-icon" viewBox="0 0 100 100" hidden>\n        <use href="'+i+'" width="100" height="100"></use>\n      </svg>\n    </div>\n\n    <div id="label"></div>\n    <div id="shortcut"></div>\n    <svg id="arrow-icon" viewBox="0 0 100 100"><use href="'+n+'" width="100" height="100"></use></svg>\n  </main>\n\n  <content select="bx-menu"></content>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=a;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"label"===e?this._onLabelAttributeChange():"state"===e?this._onStateAttributeChange():"shortcut"!==e&&"usershortcut"!==e||this._onShortcutAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get state(){return this.hasAttribute("state")?this.getAttribute("state"):null;
},set state(e){null===e?this.removeAttribute("state"):this.setAttribute("state",e);
},get commandID(){return this.hasAttribute("commandid")?this.getAttribute("commandid"):"";
},set commandID(e){this.setAttribute("commandid",e)},get shortcut(){return this.hasAttribute("shortcut")?t.fromString(this.getAttribute("shortcut")):null;
},set shortcut(e){null===e?this.removeAttribute("shortcut"):this.setAttribute("shortcut",e.toString());
},get userShortcut(){return this.hasAttribute("usershortcut")?t.fromString(this.getAttribute("usershortcut")):null;
},set userShortcut(e){null===e?this.removeAttribute("usershortcut"):this.setAttribute("usershortcut",e.toString());
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onStateAttributeChange:function(){
"selected"===this.state?(this["#selected-state-icon"].removeAttribute("hidden"),this["#toggled-state-icon"].setAttribute("hidden","")):"toggled"===this.state?(this["#selected-state-icon"].setAttribute("hidden",""),
this["#toggled-state-icon"].removeAttribute("hidden")):(this["#selected-state-icon"].setAttribute("hidden",""),
this["#toggled-state-icon"].setAttribute("hidden",""))},_onShortcutAttributeChange:function(){
var e=this.userShortcut||this.shortcut||null;e?this["#shortcut"].textContent=e.toDisplayString():this["#shortcut"].textContent="";
}},{},e)}(HTMLElement),s=e("bx-menuitem",o);return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-ngonhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ngonhud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ngonhud")),n=t.getNearestPointOnLine,r=t.getPointAtFraction,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ngonhud")),a=i.round,o=i.normalize,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ngonhud")),l=s.getShapeData,u=s.setShapeData,c=s.getNGonShapeVertexPoint,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-ngonhud")).throttle,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ngonhud")).getTransformToElement,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-ngonhud"))["default"],f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ngonhud"))["default"],m=Math,b=(m.sin,
m.cos,m.PI,new v("path")),g=6,p='\n  <style>@import url("stylesheets/bx-ngonhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',y=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=d(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=p;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,h=this.attributes[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){
var v=c.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedNGons=this._getSelectedNGons(),
0===this._selectedNGons.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(e){
e.target.matches(".arms-grippie")?this._onArmsGrippieMouseDown(e):e.target.matches(".corner-grippie")&&this._onCornerGrippieMouseDown(e);
},_onArmsGrippieMouseDown:function(e){var t,n,r=this;if(0===e.button){var i,o,s=e.target,c=s.parentElement,d=c[b.path],h=l(d).values,v=(t=h[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),f=(n=t.next()).done?void 0:n.value,m=(n=t.next()).done?void 0:n.value,g=(n=t.next()).done?void 0:n.value,p=(n=t.next()).done?void 0:n.value,y=(n=t.next()).done?void 0:n.value,x=p,_=!1;
s.parentElement.append(s),this._draggedGrippie=s,window.addEventListener("mousemove",i=function(t){
var n=a((t.clientX-e.clientX)/10,0);p=x+n,5>p&&(p=5),_===!1&&p!==x&&(body.canvas.undoManager.checkpoint("Change number of n-gon arms"),
_=!0),u(d,{type:"n-gon",values:[v,f,m,g,p,y]},body.canvas.geometryPrecision)}),window.addEventListener("mouseup",o=function(){
window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o),
r._draggedGrippie=null})}},_onCornerGrippieMouseDown:function(e){var t,r,i=this;if(0===e.button){
var a,s,d=e.target,h=d.parentElement,v=h[b.path],m=(SVGMatrix.fromMatrix(v.transform.baseVal.consolidate().matrix),
v.getCTM().inverse()),g=l(v).values,p=(t=g[Symbol.iterator](),(r=t.next()).done?void 0:r.value),y=(r=t.next()).done?void 0:r.value,x=(r=t.next()).done?void 0:r.value,_=(r=t.next()).done?void 0:r.value,w=(r=t.next()).done?void 0:r.value,S=((r=t.next()).done?void 0:r.value,
new SVGPoint(e.clientX,e.clientY)),M=S.matrixTransform(m),C=new SVGPoint(M.x,M.y),R=c(0,p,y,x,_,w),k=c(1,p,y,x,_,w),E=!1;
d.parentElement.append(d),this._draggedGrippie=d,window.addEventListener("mousemove",a=function(e){
var t,r;E===!1&&(E=!0,body.canvas.undoManager.checkpoint("N-gon radius"));var i=new SVGPoint(e.clientX,e.clientY);
C=i.matrixTransform(m);var a=(t=n(R,k,C,!1)[Symbol.iterator](),(r=t.next()).done?void 0:r.value),s=new f(R,a),l=new f(R,k),c=s.length/l.length,d=o(c,0,.5,2);
u(v,{type:"n-gon",values:[p,y,x,_,w,d]},body.canvas.geometryPrecision)}),window.addEventListener("mouseup",s=function(){
window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",s),
i._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedNGons[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[b.path]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var u=o.value,d=u[b.path],v=h(d,this),f=l(d).values,m=(e=f[Symbol.iterator](),(t=e.next()).done?void 0:t.value),g=(t=e.next()).done?void 0:t.value,p=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=(t=e.next()).done?void 0:t.value,w=!0,S=!1,M=void 0;
try{for(var C=void 0,R=u.children[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var k=C.value;if(k.matches(".arms-grippie")){var E=new SVGPoint(m,g).matrixTransform(v);
k.setAttribute("cx",E.x),k.setAttribute("cy",E.y)}else if(k.matches(".corner-grippie")){
var A=c(0,m,g,p,y,x).matrixTransform(v),P=c(1,m,g,p,y,x).matrixTransform(v),T=r(A,P,_);
k.setAttribute("cx",T.x),k.setAttribute("cy",T.y)}}}catch(L){S=!0,M=L}finally{try{
w||null==R["return"]||R["return"]()}finally{if(S)throw M}}}}catch($){i=!0,a=$}finally{
try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",g/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedNGons:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("n-gon")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedNGons(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),x=e("g","bx-ngonhud",y);return{get default(){return x;
}}}),$traceurRuntime.registerModule("elements/bx-ngontool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ngontool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-ngontool")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ngontool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ngontool")),l=s.normalize,u=(s.round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ngontool"))),c=u.setShapeData,d=u.getNGonShapeVertexPoint,h=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ngontool")).getTransformFromPoints,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-ngontool")).reduceTransform),v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-ngontool"))["default"],f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ngontool"))["default"],m=Math,b=m.abs,g=m.min,p=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._nGonCursor=body.registerCursor("images/cursor-n-gon.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
return e._onMouseDown(t)})},_onDisabled:function(){body.unregisterCursor(this._nGonCursor),
body.unregisterCursor(this._mouseDownNGonCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(e){
var t,n,i=this;window.addEventListener("mousemove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),i._onIntentionalDragStart(e))}),window.addEventListener("mouseup",n=function(e){
window.removeEventListener("mousemove",t),body.canvas.removeEventListener("mouseend",n);
})},_onIntentionalDragStart:function(e){var n,r,i,s,u=this,m=body.canvas.currentContainer||body.canvas.currentArtboard,p=body.modKeys.ctrl?"polar":"planar",y=body.canvas,x=y.geometryPrecision,_=y.transformPrecision,w=0,S=0,M=0,C=0,R=5,k=0;
body.canvas.undoManager.checkpoint("Draw n-gon shape"),this._mouseDownNGonCursor=body.registerCursor("images/cursor-n-gon.svg",900,8,8);
var E=t("svg:path");E.style.fill="#d8d8d8",c(E,{type:"n-gon",values:[w,S,M,C,R,k]
}),m.append(E),body.canvas.selectedElements=[E];var A=E.getScreenCTM().inverse(),P=E.transform.baseVal.consolidate().matrix.multiply(A);
E.setAttribute("transform",P.toString()),window.addEventListener("mousemove",n=function(t){
if("planar"===p){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=b(n),s=b(r);
if(body.modKeys.shift){var l=g(i,s);i=l,s=l}var u=0>n?e.clientX-i:e.clientX,h=0>r?e.clientY-s:e.clientY;
M=i/2,C=s/2,w=u+M,S=h+C}else if("polar"===p){var v=new SVGPoint(e.clientX,e.clientY),m=d(2,w,S,M,C,R),y=new SVGPoint(t.clientX,t.clientY),_=new f(v,y),A=a(v,m,y);
w=v.x,S=v.y,M=_.length,C=_.length,body.modKeys.shift&&(A=o(A,180/R));var T=(new SVGMatrix).rotate(A,v.x,v.y);
E.setAttribute("transform",P.multiply(T).toString())}c(E,{type:"n-gon",values:[w,S,M,C,R,k]
},x)}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),body.removeEventListener("keydown",i),body.removeEventListener("toolchange",s),
body.unregisterCursor(u._mouseDownNGonCursor),h(E,{geometryPrecision:x,transformPrecision:_
})}),body.addEventListener("toolchange",s=function(){return r()}),body.addEventListener("keydown",i=function(e){
var t=v.fromEvent(event);t.matches("ArrowUp")?(event.preventDefault(),event.stopPropagation(),
R+=1,c(E,{type:"n-gon",values:[w,S,M,C,R,k]},x)):t.matches("ArrowDown")?(event.preventDefault(),
event.stopPropagation(),R>5&&(R-=1,c(E,{type:"n-gon",values:[w,S,M,C,R,k]},x))):t.matches("ArrowLeft")?(event.preventDefault(),
event.stopPropagation(),k>0&&(k=l(k-.04,0,.5,2),c(E,{type:"n-gon",values:[w,S,M,C,R,k]
},x))):t.matches("ArrowRight")&&(event.preventDefault(),event.stopPropagation(),.5>k&&(k=l(k+.04,0,.5,2),
c(E,{type:"n-gon",values:[w,S,M,C,R,k]},x)))})}},{},e)}(HTMLElement),y=n("bx-ngontool",p);
return{get default(){return y}}}),$traceurRuntime.registerModule("elements/bx-outlineshud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-outlineshud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-outlineshud")),n=t.createElement,r=t.registerElement,i=t.queryGraphicsElements,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-conversion","elements/bx-outlineshud")),o=a.ellipseToPath,s=a.rectToPath,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-outlineshud")),u=(l.sleep,
l.throttle),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-outlineshud")).getTransformToElement,d='\n  <style>@import url("stylesheets/bx-outlineshud.css");</style>\n  <g id="outlines"></g>\n',h=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._updateOutlines30Th=u(this._updateOutlines,30,this),
this._updateOutlines200Th=u(this._updateOutlines,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=d;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,c=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){l=!0,c=m}finally{try{
s||null==v["return"]||v["return"]()}finally{if(l)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._updateOutlines(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._updateOutlines()},_onArtboardMutation:function(){
body.isMouseDown?this._updateOutlines30Th():this._updateOutlines200Th()},_updateOutlines:function(){
var t=document.createDocumentFragment(),r=!1,a=[],l=!0,u=!1,d=void 0;try{for(var h=void 0,v=i(body.canvas.selectedElements)[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value,m={};if("path"===f.localName)m.d=f.getAttribute("d");else if("rect"===f.localName)m.d=s(f,"plain").getAttribute("d");else if("ellipse"===f.localName)m.d=o(f,"plain").getAttribute("d");else if("text"===f.localName&&"edit-tool"===body.currentTool.id&&f.firstElementChild&&"textPath"===f.firstElementChild.localName){
var b=f.firstElementChild.getAttribute("href");if(b){var g=body.canvas.artboards.querySelector(b);
if(g){var p=c(f,this),y=g.transform.baseVal.consolidate().matrix;m.d=g.getAttribute("d"),
m.transform=p.multiply(y).toString()}}}if(void 0===m.d){var x=e(f);m.d="\n          M "+x.x+" "+x.y+"\n          L "+(x.x+x.width)+" "+x.y+"\n          L "+(x.x+x.width)+" "+(x.y+x.height)+"\n          L "+x.x+" "+(x.y+x.height)+"\n          L "+x.x+" "+x.y+"\n        ";
}void 0===m.transform&&(m.transform=c(f,this).toString()),body.canvas.selectedElements.includes(f)===!1&&(m.isContainer=!0),
r===!1&&(r=!0,m.isPrimary=!0),a.push(m)}}catch(_){u=!0,d=_}finally{try{l||null==v["return"]||v["return"]();
}finally{if(u)throw d}}for(;this["#outlines"].children.length>a.length;)this["#outlines"].lastElementChild.remove();
for(var w=0;w<a.length;w+=1){var S=a[w],M=void 0;this["#outlines"].children[w]?M=this["#outlines"].children[w]:(M=n("svg:path"),
t.append(M)),M.setAttribute("d",S.d?S.d:""),M.setAttribute("class","outline"),M.setAttribute("transform",S.transform.toString()),
S.isContainer?M.setAttribute("data-container",""):M.removeAttribute("data-container");
}this["#outlines"].append(t)}},{},t)}(SVGGElement),v=r("g","bx-outlineshud",h);return{
get default(){return v}}}),$traceurRuntime.registerModule("elements/bx-paintsection",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-paintsection")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-colorpicker","elements/bx-paintsection")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-paintsection"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/color","elements/bx-paintsection"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-paintsection")).getPatternThumbnails,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-paintsection")).getUserBBox,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-paintsection")).parseColor,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-paintsection")),a=i.createElement,o=i.registerElement,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-paintsection")).parseSVG,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-paintsection")).round,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-paintsection")),c=u.getPaintType,d=u.getPaintServer,h=u.getDefFromURL,v=u.isMixedPaint,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","elements/bx-paintsection")),m=f.centerPattern,b=f.getParentPattern,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-paintsection")).queryStylableElements,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-paintsection")).normalizeTextInRangeBeforeEditing,y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-paintsection")),x=y.debounce,_=y.throttle,w="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",S='\n  <style>@import url("stylesheets/bx-paintsection.css");</style>\n\n  <main>\n    <header id="section-header">\n      <h2 id="section-heading">Paint</h2>\n    </header>\n\n    <section id="paint-type-subsection">\n      <h3 id="paint-type-heading">Type</h3>\n\n      <div id="paint-type-buttons">\n        <bx-button\n          id="solid-paint-button"\n          value="solid"\n          tooltip="Solid Color"\n          icon="paint-solid"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="linear-gradient-paint-button"\n          value="linear-gradient"\n          tooltip="Linear Gradient"\n          icon="paint-linear-gradient"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="radial-gradient-paint-button"\n          value="radial-gradient"\n          tooltip="Radial Gradient"\n          icon="paint-radial-gradient"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="pattern-paint-button"\n          value="pattern"\n          tooltip="Pattern"\n          icon="paint-pattern"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="none-paint-button"\n          value="none"\n          tooltip="None"\n          icon="paint-none"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="inherit-paint-button"\n          value="inherit"\n          tooltip="Inherit"\n          icon="paint-inherit"\n          iconsize="30"\n          hidden\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="spread-method-subsection">\n      <h3>Spread</h3>\n\n      <div id="spread-method-buttons">\n        <bx-button\n          id="pad-spread-method-button"\n          value="pad"\n          tooltip="Pad spread method"\n          icon="spread-method-pad"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="repeat-spread-method-button"\n          value="repeat"\n          tooltip="Repeat spread method"\n          icon="spread-method-repeat"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="reflect-spread-method-button"\n          value="reflect"\n          tooltip="Reflect spread method"\n          icon="spread-method-reflect"\n          iconsize="30"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="color-subsection">\n      <h3>Color</h3>\n      <bx-colorpicker id="color-picker"></bx-colorpicker>\n      <p id="color-picker-hint"></p>\n    </section>\n\n    <section id="pattern-subsection">\n      <h3>Pattern</h3>\n\n      <div class="hbox">\n        <bx-select id="pattern-select" value="pattern-0">\n          <bx-selectitem value="pattern-0" label="#pattern-0"></bx-selectitem>\n          <bx-selectitem value="pattern-1" label="#pattern-1"></bx-selectitem>\n          <bx-selectitem value="pattern-2" label="#pattern-2"></bx-selectitem>\n        </bx-select>\n\n        <bx-button\n          id="edit-pattern-button"\n          tooltip="Edit pattern"\n          icon="forward"\n          iconsize="22"\n          skin="iconic">\n        </bx-button>\n      </div>\n\n      <div id="pattern-select-hint">Add more patterns in <span id="defs-panel-span">Defs Panel</span>.</div>\n    </section>\n  </main>\n',M=function(i){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e=this;this._update200Th=_(this._update,200,this),
this._updatePatternThumbnails2000Db=x(this._updatePatternThumbnails,2e3,this),"fill"===this.context?(this._linearGradientHud=body.canvas.linearGradientFillHud,
this._radialGradientHud=body.canvas.radialGradientFillHud):"stroke"===this.context&&(this._linearGradientHud=body.canvas.linearGradientStrokeHud,
this._radialGradientHud=body.canvas.radialGradientStrokeHud),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=S;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this["#paint-type-buttons"].addEventListener("click",function(t){
return e._onPaintTypeButtonsClick(t)}),this["#spread-method-buttons"].addEventListener("click",function(t){
return e._onSpreadMethodButtonsClick(t)}),this["#color-picker"].addEventListener("changestart",function(t){
return e._onColorPickerColorChangeStart(t)}),this["#color-picker-hint"].addEventListener("click",function(t){
return e._onColorPickerHintClick(t)}),this["#pattern-select"].addEventListener("change",function(){
return e._onPatternSelectChange()}),this["#pattern-select-hint"].addEventListener("click",function(t){
return e._onPatternSelectHintClick(t)}),this["#edit-pattern-button"].addEventListener("click",function(t){
return e._onEditPatternButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},set context(e){"fill"!==e&&"stroke"!==e||this.setAttribute("context",e)},_onEnabled:function(){
var e=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("currentartboardchange",this._currentArtboardChangeListener=function(){
e._onCurrentArtboardChange()}),this._linearGradientHud.addEventListener("selectedstopschange",this._selectedStopsChangeListener1=function(){
e._onSelectedElementsChange()}),this._radialGradientHud.addEventListener("selectedstopschange",this._selectedStopsChangeListener2=function(){
e._onSelectedElementsChange()}),this._onCurrentArtboardChange(),this._onSelectedElementsChange();
},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("currentartboardchange",this._currentArtboardChangeListener),
this._linearGradientHud.removeEventListener("selectedstopschange",this._selectedStopsChangeListener1),
this._radialGradientHud.removeEventListener("selectedstopschange",this._selectedStopsChangeListener2);
},_onArtboardMutation:function(e){this._update200Th()},_onSelectedElementsChange:function(){
this._update200Th()},_onSelectedTextRangeChange:function(){this._update()},_onCurrentArtboardChange:function(){
var e=body.canvas.currentArtboard.contentType;"symbol"===e?this["#inherit-paint-button"].hidden=!1:this["#inherit-paint-button"].hidden=!0;
},_onPaintTypeButtonsClick:function(e){var t=e.target,n=t.value,r=(t.localName,t.pressed),i=t.mixed;
"bx-button"===e.target.localName&&(r===!0&&i===!1||("solid"===n?this._onSolidPaintButtonClick():"linear-gradient"===n?this._onLinearGradientPaintButtonClick():"radial-gradient"===n?this._onRadialGradientPaintButtonClick():"pattern"===n?this._onPatternPaintButtonClick():"inherit"===n?this._onInheritPaintButtonClick():"none"===n&&this._onNonePaintButtonClick()));
},_onSolidPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;p(n);var i,a=g(this.context,t,n),o=a[0]||null,s=c(o,this.context);
if("solid"===s)i=getComputedStyle(o)[this.context];else if("linearGradient"===s||"radialGradient"===s){
var l=d(o,this.context),u=l.children[0],h=u.style.stopColor||"#000",v=r(h,"hsla");
i=v.toString("hsl")}else i="#bada55";var f=!0,m=!1,b=void 0;try{for(var y=void 0,x=a[Symbol.iterator]();!(f=(y=x.next()).done);f=!0){
var _=y.value;_.style[this.context]=i}}catch(w){m=!0,b=w}finally{try{f||null==x["return"]||x["return"]();
}finally{if(m)throw b}}},_onLinearGradientPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Change paint type");
var t=body.canvas,i=t.selectedElements,o=t.selectedTextRange;p(o);var u,d=g(this.context,i,o),v=d[0]||null,f=c(v,this.context);
if("solid"===f){var m=getComputedStyle(v)[this.context],b=r(m,"hsla"),y=b.l-20;0>y&&(y=0),
u=a("svg:linearGradient");var x=a("svg:stop");x.offset.baseVal=0,x.style.stopColor=b.toString("hsl"),
1!==b.a&&(x.style.stopOpacity=b.a),u.append(x);var _=a("svg:stop");_.offset.baseVal=1;
var w=new e(b.h,b.s,y,1,"hsla");_.style.stopColor=w.toString("hsl"),u.append(_)}else if("linearGradient"===f){
var S=getComputedStyle(v)[this.context];u=h(body.canvas.masterArtboard,S)}else if("radialGradient"===f){
var M=getComputedStyle(v)[this.context],C=h(body.canvas.masterArtboard,M);u=a("svg:linearGradient"),
u.innerHTML=C.innerHTML}else u=s('\n        <linearGradient>\n          <stop offset="0" style="stop-color: #bada55"></stop>\n          <stop offset="1" style="stop-color: #758d29"></stop>\n        </linearGradient>\n      ');
var R=null,k=!0,E=!1,A=void 0;try{for(var P=void 0,T=d[Symbol.iterator]();!(k=(P=T.next()).done);k=!0){
var L=P.value;if("tspan"===L.localName&&R&&R.closest("text")===L.closest("text"))L.style[this.context]=R.style[this.context];else if("use"===L.localName){
var $=u.cloneNode(!0);$.setAttribute("id",body.canvas.generateUniqueID("gradient")),
$.setAttribute("gradientUnits","objectBoundingBox"),$.setAttribute("x1","0.5"),$.setAttribute("y1","0"),
$.setAttribute("x2","0.5"),$.setAttribute("y2","1"),body.canvas.defs.append($),L.style[this.context]="url(#"+$.id+")";
}else{var j=n(L),N=l(j.x+j.width/2,body.canvas.geometryPrecision),O=l(j.y,body.canvas.geometryPrecision),V=l(j.x+j.width/2,body.canvas.geometryPrecision),z=l(j.y+j.height,body.canvas.geometryPrecision),D=u.cloneNode(!0);
D.setAttribute("id",body.canvas.generateUniqueID("gradient")),D.setAttribute("gradientUnits","userSpaceOnUse"),
D.setAttribute("x1",N),D.setAttribute("y1",O),D.setAttribute("x2",V),D.setAttribute("y2",z),
body.canvas.defs.append(D),L.style[this.context]="url(#"+D.id+")"}"tspan"===L.localName&&(R=L);
}}catch(G){E=!0,A=G}finally{try{k||null==T["return"]||T["return"]()}finally{if(E)throw A;
}}},_onRadialGradientPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Change paint type");
var t=body.canvas,i=t.selectedElements,o=t.selectedTextRange;p(o);var u,d=g(this.context,i,o),v=d[0]||null,f=c(v,this.context);
if("solid"===f){var m=getComputedStyle(v)[this.context],b=r(m,"hsla"),y=b.l-20;0>y&&(y=0),
u=a("svg:radialGradient");var x=a("svg:stop");x.offset.baseVal=0,x.style.stopColor=b.toString("hsl"),
1!==b.a&&(x.style.stopOpacity=b.a),u.append(x);var _=a("svg:stop");_.offset.baseVal=1;
var w=new e(b.h,b.s,y,1,"hsla");_.style.stopColor=w.toString("hsl"),u.append(_)}else if("linearGradient"===f){
var S=getComputedStyle(v)[this.context],M=h(body.canvas.masterArtboard,S);u=a("svg:radialGradient"),
u.innerHTML=M.innerHTML}else if("radialGradient"===f){var C=getComputedStyle(v)[this.context];
u=h(body.canvas.masterArtboard,C)}else u=s('\n        <radialGradient>\n          <stop offset="0" style="stop-color: #bada55"></stop>\n          <stop offset="1" style="stop-color: #758d29"></stop>\n        </radialGradient>\n      ');
var R=null,k=!0,E=!1,A=void 0;try{for(var P=void 0,T=d[Symbol.iterator]();!(k=(P=T.next()).done);k=!0){
var L=P.value;if("tspan"===L.localName&&R&&R.closest("text")===L.closest("text"))L.style[this.context]=R.style[this.context];else if("use"===L.localName){
var $=u.cloneNode(!0);$.setAttribute("id",body.canvas.generateUniqueID("gradient")),
$.setAttribute("gradientUnits","objectBoundingBox"),$.setAttribute("cx","0.5"),$.setAttribute("cy","0.5"),
$.setAttribute("r","0.5"),body.canvas.defs.append($),L.style[this.context]="url(#"+$.id+")";
}else{var j=n(L),N=l(j.x+j.width/2,body.canvas.geometryPrecision),O=l(j.y+j.height/2,body.canvas.geometryPrecision),V=l(j.width/2,body.canvas.geometryPrecision),z=u.cloneNode(!0);
z.setAttribute("id",body.canvas.generateUniqueID("gradient")),z.setAttribute("gradientUnits","userSpaceOnUse"),
z.setAttribute("cx",N),z.setAttribute("cy",O),z.setAttribute("r",V),body.canvas.defs.append(z),
L.style[this.context]="url(#"+z.id+")"}"tspan"===L.localName&&(R=L)}}catch(D){E=!0,
A=D}finally{try{k||null==T["return"]||T["return"]()}finally{if(E)throw A}}},_onPatternPaintButtonClick:function(){
body.canvas.undoManager.checkpoint("Paint type");var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;
p(n);var r=g(this.context,t,n),i=r[0]||null,o=c(i,this.context),l=null,u=$traceurRuntime.spread(r);
if("pattern"===o){var d=getComputedStyle(i)[this.context],v=h(body.canvas.masterArtboard,d);
l=v.hasAttribute("href")===!1?v:b(v),u=u.filter(function(e){return e!==i})}if(!l){
var f=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
l=f.find(function(e){return e.hasAttribute("href")===!1})}if(!l){var y=body.canvas.generateUniqueID("pattern");
l=s('\n        <pattern id="'+y+'" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n          <path d="M 0 0 L 50 0 L 50 100 L 0 100 Z" style="fill: black;"></path>\n        </pattern>\n      '),
body.canvas.defs.append(l)}var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=u[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value,R=a("svg:pattern");R.setAttribute("id",body.canvas.generateUniqueID(l.id)),
R.setAttribute("href","#"+l.id),R.setAttribute("patternTransform",""),body.canvas.defs.append(R),
C.style[this.context]="url(#"+R.id+")",m(R,C,body.canvas.transformPrecision)}}catch(k){
_=!0,w=k}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w}}},
_onInheritPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;p(n);var r=g(this.context,t,n),i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
u.style[this.context]="inherit"}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}},_onNonePaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;p(n);var r=g(this.context,t,n),i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
u.style[this.context]="none"}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}},_onSpreadMethodButtonsClick:function(e){var t=e.target,n=t.pressed,r=t.mixed,i=t.value;
if("bx-button"===e.target.localName&&0===e.button&&(n!==!0||r!==!1)){body.canvas.undoManager.checkpoint("Spread Method");
var a=body.canvas,o=a.selectedElements,s=a.selectedTextRange,l=g(this.context,o,s),u=!0,h=!1,v=void 0;
try{for(var f=void 0,m=l[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var b=f.value,p=c(b,this.context);
if("linearGradient"===p||"radialGradient"===p){var y=d(b,this.context);y.setAttribute("spreadMethod",i);
}}}catch(x){h=!0,v=x}finally{try{u||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}}},_onColorPickerColorChangeStart:function(e){var t=this;body.canvas.undoManager.checkpoint("Change Color");
var n=body.canvas,r=n.selectedElements,i=n.selectedTextRange;p(i);var a,o,s,l=g(this.context,r,i),u=l[0]||null,h=c(u,this.context);
if("solid"===h)s=getComputedStyle(u)[this.context];else if("linearGradient"===h||"radialGradient"===h){
var v=d(u,this.context),f=v.children[0];s=f.style.stopColor||"#000"}else s="#bada55";
var m=!0,b=!1,y=void 0;try{for(var x=void 0,_=l[Symbol.iterator]();!(m=(x=_.next()).done);m=!0){
var w=x.value;w!==u&&"solid"===h&&(w.style[this.context]=s)}}catch(S){b=!0,y=S}finally{
try{m||null==_["return"]||_["return"]()}finally{if(b)throw y}}this["#color-picker"].addEventListener("change",a=function(){
var e=!0,n=!1,r=void 0;try{for(var i,a,o,s,u,h,v=function(){var e=f.value,n=c(e,t.context);
if("solid"===n)e.style[t.context]=t["#color-picker"].value;else if("linearGradient"===n){
var r=d(e,t.context),l=t._linearGradientHud.selectedStops.filter(function(e){return e.parentElement===r;
});i=!0,a=!1,o=void 0;try{for(var v=void 0,m=l[Symbol.iterator]();!(i=(v=m.next()).done);i=!0){
var b=v.value;b.style.stopColor=t["#color-picker"].value}}catch(g){a=!0,o=g}finally{
try{i||null==m["return"]||m["return"]()}finally{if(a)throw o}}}else if("radialGradient"===n){
var p=d(e,t.context),y=t._radialGradientHud.selectedStops.filter(function(e){return e.parentElement===p;
});s=!0,u=!1,h=void 0;try{for(var x=void 0,_=y[Symbol.iterator]();!(s=(x=_.next()).done);s=!0){
var w=x.value;w.style.stopColor=t["#color-picker"].value}}catch(S){u=!0,h=S}finally{
try{s||null==_["return"]||_["return"]()}finally{if(u)throw h}}}},f=void 0,m=l[Symbol.iterator]();!(e=(f=m.next()).done);e=!0)v();
}catch(b){n=!0,r=b}finally{try{e||null==m["return"]||m["return"]()}finally{if(n)throw r;
}}}),this["#color-picker"].addEventListener("changeend",o=function(){t["#color-picker"].removeEventListener("change",a),
t["#color-picker"].removeEventListener("changeend",o)})},_onColorPickerHintClick:function(e){
0===e.button&&"edit-tool-span"===e.target.id&&body.toggleTool("edit-tool")},_onPatternSelectChange:function(){
body.canvas.undoManager.checkpoint("Pattern");var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;
p(n);var r=g(this.context,t,n),i=this["#pattern-select"].value,o=body.canvas.masterArtboard.querySelector("#"+i),s=!0,l=!1,u=void 0;
try{for(var d=void 0,v=r[Symbol.iterator]();!(s=(d=v.next()).done);s=!0){var f=d.value,y=c(f,this.context);
if("pattern"===y){var x=getComputedStyle(f)[this.context],_=h(body.canvas.masterArtboard,x),w=_.hasAttribute("href")?b(_):_;
if(w===o)continue}var S=a("svg:pattern");S.setAttribute("id",body.canvas.generateUniqueID(o.id)),
S.setAttribute("href","#"+o.id),S.setAttribute("patternTransform",""),body.canvas.defs.append(S),
f.style[this.context]="url(#"+S.id+")",m(S,f,body.canvas.transformPrecision)}}catch(M){
l=!0,u=M}finally{try{s||null==v["return"]||v["return"]()}finally{if(l)throw u}}},
_onPatternSelectHintClick:function(e){0===e.button&&"defs-panel-span"===e.target.id&&body.toggleSecondaryPanel("defs-panel");
},_onEditPatternButtonClick:function(e){0===e.button&&body.canvas.editPattern(this["#pattern-select"].value);
},_update:function(){var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;
this._selectedStylableElements=g(this.context,t,n),this._updateHeader(),this._updatePaintTypeSubsection(),
this._updateSpreadMethodSubsection(),this._updateColorSubsection(),this._updatePatternSubsection();
},_updateHeader:function(){var e=this._selectedStylableElements[0]||null;null===e?this["#section-heading"].disabled=!0:this["#section-heading"].disabled=!1;
},_updatePaintTypeSubsection:function(){var e=this._selectedStylableElements,t=e[0]||null;
if(null===t){this["#paint-type-heading"].disabled=!0;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#paint-type-buttons"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.disabled=!0,s.pressed=!1,s.mixed=!1}}catch(l){r=!0,i=l}finally{try{
n||null==o["return"]||o["return"]()}finally{if(r)throw i}}}else{var u=c(t,this.context),d=v(e,this.context);
if(this["#paint-type-heading"].disabled=!1,"solid"===u){var h=!0,f=!1,m=void 0;try{
for(var b=void 0,g=this["#paint-type-buttons"].children[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){
var p=b.value;p.disabled=!1,"solid"===p.value?(p.pressed=!0,p.mixed=d):(p.pressed=!1,
p.mixed=!1)}}catch(y){f=!0,m=y}finally{try{h||null==g["return"]||g["return"]()}finally{
if(f)throw m}}}else if("linearGradient"===u){var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=this["#paint-type-buttons"].children[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value;C.disabled=!1,"linear-gradient"===C.value?(C.pressed=!0,C.mixed=d):(C.pressed=!1,
C.mixed=!1)}}catch(R){_=!0,w=R}finally{try{x||null==M["return"]||M["return"]()}finally{
if(_)throw w}}}else if("radialGradient"===u){var k=!0,E=!1,A=void 0;try{for(var P=void 0,T=this["#paint-type-buttons"].children[Symbol.iterator]();!(k=(P=T.next()).done);k=!0){
var L=P.value;L.disabled=!1,"radial-gradient"===L.value?(L.pressed=!0,L.mixed=d):(L.pressed=!1,
L.mixed=!1)}}catch($){E=!0,A=$}finally{try{k||null==T["return"]||T["return"]()}finally{
if(E)throw A}}}else if("pattern"===u){var j=!0,N=!1,O=void 0;try{for(var V=void 0,z=this["#paint-type-buttons"].children[Symbol.iterator]();!(j=(V=z.next()).done);j=!0){
var D=V.value;D.disabled=!1,"pattern"===D.value?(D.pressed=!0,D.mixed=d):(D.pressed=!1,
D.mixed=!1)}}catch(G){N=!0,O=G}finally{try{j||null==z["return"]||z["return"]()}finally{
if(N)throw O}}}else if("inherit"===u){var I=!0,B=!1,U=void 0;try{for(var H=void 0,F=this["#paint-type-buttons"].children[Symbol.iterator]();!(I=(H=F.next()).done);I=!0){
var q=H.value;q.disabled=!1,"inherit"===q.value?(q.pressed=!0,q.mixed=d):(q.pressed=!1,
q.mixed=!1)}}catch(W){B=!0,U=W}finally{try{I||null==F["return"]||F["return"]()}finally{
if(B)throw U}}}else if("none"===u){var Y=!0,X=!1,Z=void 0;try{for(var K=void 0,J=this["#paint-type-buttons"].children[Symbol.iterator]();!(Y=(K=J.next()).done);Y=!0){
var Q=K.value;Q.disabled=!1,"none"===Q.value?(Q.pressed=!0,Q.mixed=d):(Q.pressed=!1,
Q.mixed=!1)}}catch(ee){X=!0,Z=ee}finally{try{Y||null==J["return"]||J["return"]()}finally{
if(X)throw Z}}}}},_updateSpreadMethodSubsection:function(){var e=this._selectedStylableElements,t=e[0]||null;
if(null===t)this["#spread-method-subsection"].hidden=!0;else{var n=c(t,this.context);
if("linearGradient"===n||"radialGradient"===n){this["#spread-method-subsection"].hidden=!1;
var r=d(t,this.context),i=!1,a=!0,o=!1,s=void 0;try{for(var l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var h=l.value,v=d(h,this.context);v&&v.localName.endsWith("Gradient")&&v.spreadMethod.baseVal!==r.spreadMethod.baseVal&&(i=!0);
}}catch(f){o=!0,s=f}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}r.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].pressed=!0,
this["#repeat-spread-method-button"].mixed=i,this["#pad-spread-method-button"].pressed=!1,
this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].pressed=!1,
this["#reflect-spread-method-button"].mixed=!1):r.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].pressed=!1,
this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].pressed=!0,
this["#pad-spread-method-button"].mixed=i,this["#reflect-spread-method-button"].pressed=!1,
this["#reflect-spread-method-button"].mixed=!1):r.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].pressed=!1,
this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].pressed=!1,
this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].pressed=!0,
this["#reflect-spread-method-button"].mixed=i)}else this["#spread-method-subsection"].hidden=!0;
}},_updateColorSubsection:function(){var e=this._selectedStylableElements,t=e[0]||null;
if(null===t)this["#color-subsection"].hidden=!0;else{var n=c(t,this.context),r=v(e,this.context);
if("solid"===n)this["#color-subsection"].hidden=!1,this["#color-picker"].hidden=!1,
this["#color-picker"].value=getComputedStyle(t)[this.context],this["#color-picker"].mixed=r,
this["#color-picker-hint"].innerHTML="";else if("linearGradient"===n||"radialGradient"===n){
var i=this["_"+n+"Hud"].selectedStops;this["#color-subsection"].hidden=!1,this["#color-picker"].mixed=r,
0===i.length?(this["#color-picker"].hidden=!0,this["#color-picker-hint"].innerHTML='Select stop with <span id="edit-tool-span">Edit Tool</span>.'):(this["#color-picker"].hidden=!1,
this["#color-picker"].value=i[0].style.stopColor||"#000",this["#color-picker-hint"].innerHTML="");
}else this["#color-subsection"].hidden=!0}},_updatePatternSubsection:function(){var e=this._selectedStylableElements,t=e[0]||null;
if(null===t||"pattern"!==c(t,this.context))this["#pattern-subsection"].hidden=!0;else{
this["#pattern-subsection"].hidden=!1,this["#pattern-select"].mixed=v(e,this.context);
var n=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
if(n=n.filter(function(e){return e.hasAttribute("href")===!1}),this["#pattern-select"].childElementCount===n.length)for(var r=0;r<n.length;r+=1){
var i=n[r],o=this["#pattern-select"].children[r];o.label="#"+i.id,o.value=i.id}else{
this["#pattern-select"].innerHTML="";var s=!0,l=!1,u=void 0;try{for(var h=void 0,f=n[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){
var m=h.value,g=a("bx-selectitem");g.label="#"+m.id,g.value=m.id,g.thumbnail=w,this["#pattern-select"].append(g);
}}catch(p){l=!0,u=p}finally{try{s||null==f["return"]||f["return"]()}finally{if(l)throw u;
}}}var y=d(t,this.context),x=y.hasAttribute("href")?b(y):y;this["#pattern-select"].value=x.id,
this._updatedPatternThumbnailsForFirstTime?this._updatePatternThumbnails2000Db():(this._updatedPatternThumbnailsForFirstTime=!0,
this._updatePatternThumbnails())}},_updatePatternThumbnails:function(){var e=this,n=body.canvas.extractArtwork();
t(n,function(t,n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e["#pattern-select"].children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.value===t&&(l.thumbnail=n)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}})}},{},i)}(HTMLElement),C=o("section","bx-paintsection",M);
return{get default(){return C}}}),$traceurRuntime.registerModule("elements/bx-panel",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-panel")).registerElement,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-panel")).normalize,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-panel"))),n=t.getTimeStamp,r=t.sleep,i=Number.parseFloat,a=window.getComputedStyle,o=5,s=7,l=5,u=7,c=!1,d='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-panel.css");\n  </style>\n\n  <div id="container">\n    <header>\n      <h1 id="heading">Panel</h1>\n\n      <svg id="help-icon" viewBox="0 0 100 100" preserveAspectRatio="none" hidden>\n        <use href="images/icons.svg#help" width="100" height="100"></use>\n      </svg>\n    </header>\n\n    <main>\n      <content></content>\n    </main>\n\n    <div id="resize-grippies">\n      <div class="grippie edge" data-position="top"></div>\n      <div class="grippie edge" data-position="bottom"></div>\n      <div class="grippie edge" data-position="left"></div>\n      <div class="grippie edge" data-position="right"></div>\n      <div class="grippie corner" data-position="top-left"></div>\n      <div class="grippie corner" data-position="top-right"></div>\n      <div class="grippie corner" data-position="bottom-left"></div>\n      <div class="grippie corner" data-position="bottom-right"></div>\n    </div>\n  </div>\n',h=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e,t,r,i,a,o,s,l,u,h,v,f,m;return $traceurRuntime.asyncWrap(function(b){
for(;;)switch(b.state){case 0:e=this,this._createdTimeStamp=n(),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=d,t=!0,r=!1,i=void 0;try{for(a=void 0,
o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)s=a.value,
this["#"+s.id]=s}catch(g){r=!0,i=g}finally{try{t||null==o["return"]||o["return"]();
}finally{if(r)throw i}}l=!0,u=!1,h=void 0;try{for(v=void 0,f=this.attributes[Symbol.iterator]();!(l=(v=f.next()).done);l=!0)m=v.value,
this.attributeChangedCallback(m.name)}catch(p){u=!0,h=p}finally{try{l||null==f["return"]||f["return"]();
}finally{if(u)throw h}}c&&this.setAttribute("debug",""),this.addEventListener("mouseenter",function(){
return e._defaultCursor=body.registerCursor("default",-100)}),this.addEventListener("mouseleave",function(){
return body.unregisterCursor(e._defaultCursor)}),this["#help-icon"].addEventListener("mousedown",function(t){
return e._onHelpIconMouseDown(t)}),this["#resize-grippies"].addEventListener("mousedown",function(t){
return e._onResizeGrippieMouseDown(t)}),b.state=8;break;case 8:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customWidth")).then(b.createCallback(3),b.errback);
case 3:this._customWidth=b.value,b.state=2;break;case 2:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customHeight")).then(b.createCallback(6),b.errback);
case 6:this._customHeight=b.value,b.state=5;break;case 5:this._updateGeometry(),b.state=-2;
break;default:return b.end()}},this)},attributeChangedCallback:function(e){"label"===e?this._onLabelAttributeChange():"help"===e?this._onHelpAttributeChange():"enabled"===e&&this._onEnabledAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get label(){return this.getAttribute("label")},set label(e){e?this.setAttribute("label",e):this.removeAttribute("label");
},get help(){return this.getAttribute("help")},set help(e){e?this.setAttribute("help",e):this.removeAttribute("help");
},get button(){for(var e=this.parentNode;e.parentNode;)e=e.parentNode;return e?e.querySelector('bx-button[href="#'+this.id+'"]'):null;
},_onEnabledAttributeChange:function(){this.enabled?this._onEnabled():this._onDisabled();
},_onLabelAttributeChange:function(){this["#heading"].textContent=this.label},_onHelpAttributeChange:function(){
this.help?this["#help-icon"].removeAttribute("hidden"):this["#help-icon"].setAttribute("hidden","");
},_onEnabled:function(){var e,t,n,r,i,a,o;return $traceurRuntime.asyncWrap(function(s){
for(;;)switch(s.state){case 0:e=this,t=!0,n=!1,r=void 0;try{for(i=void 0,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)o=i.value,
o.enabled===!1&&(o.enabled=!0)}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}s.state=8;break;case 8:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customWidth")).then(s.createCallback(3),s.errback);
case 3:this._customWidth=s.value,s.state=2;break;case 2:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customHeight")).then(s.createCallback(6),s.errback);
case 6:this._customHeight=s.value,s.state=5;break;case 5:this._updateGeometry(),window.addEventListener("resize",this._windowResizeListener=function(){
return e._onWindowResize()}),s.state=-2;break;default:return s.end()}},this)},_onDisabled:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.enabled===!0&&(a.enabled=!1)}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}window.removeEventListener("resize",this._windowResizeListener);
},_onHelpIconMouseDown:function(){this.help&&body.bridge.postMessage("openExternalURL",this.help);
},_onWindowResize:function(){this._updateGeometry()},_onResizeGrippieMouseDown:function(e){
var t,n,c=this,d=e.target.dataset.position,h=this.button.getBoundingClientRect(),v=this.getBoundingClientRect(),f=a(this),m=v.left,b=v.top,g=v.width,p=v.height,y=m,x=b,_=g,w=p,S="none"===f.minWidth?0:i(f.minWidth),M="none"===f.minHeight?0:i(f.minHeight),C="none"===f.maxWidth?1/0:i(f.maxWidth),R="none"===f.maxHeight?1/0:i(f.maxHeight),k=null;
"top"===d||"bottom"===d?k="ns-resize":"left"===d||"right"===d?k="ew-resize":"top-left"===d?k="nwse-resize":"top-right"===d?k="nesw-resize":"bottom-left"===d?k="nesw-resize":"bottom-right"===d&&(k="nwse-resize");
var E=body.registerCursor(k,900);window.addEventListener("mousemove",t=function(t){
var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=function(){g=S>_+n?S:_+n>C?C:_+n,
y+g+u>window.innerWidth&&(g=window.innerWidth-y-u),c.style.width=g+"px"},a=function(){
S>_-n?(m=y+(_-S),g=S):_-n>C?(m=y+(_-C),g=C):(m=y+n,g=_-n),l>m&&(m=l,g=y+_-l),c.style.left=m+"px",
c.style.width=g+"px"},h=function(){M>w-r?(b=x+(w-M),p=M):w-r>R?(b=x+(w-R),p=R):(b=x+r,
p=w-r),o>b&&(b=o,p=x+w-o),c.style.top=b+"px",c.style.height=p+"px"},v=function(){
p=M>w+r?M:w+r>R?R:w+r,x+p+s>window.innerHeight&&(p=window.innerHeight-x-s),c.style.height=p+"px";
};"right"===d?i():"left"===d?a():"top"===d?h():"bottom"===d?v():"bottom-right"===d?(v(),
i()):"bottom-left"===d?(v(),a()):"top-left"===d?(h(),a()):"top-right"===d&&(h(),i());
}),window.addEventListener("mouseup",n=function(){window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),body.unregisterCursor(E);var e=h.top+p+s-window.innerHeight;
m=h.right+l+g+u<=window.innerWidth?h.right+u:h.left-u-g,0>=e?b=h.top:h.top-e>=o?b=h.top-e:(b=o,
p=window.innerHeight-o-s),c.style.transition="ease 0.3s all",c.style.left=m+"px",
c.style.top=b+"px",c.style.width=g+"px",c.style.height=p+"px",r(300).then(function(){
return c.style.transition=null}),c.id&&(g!==_&&body.setConfig("bx-panel#"+c.id+":customWidth",g),
p!==w&&body.setConfig("bx-panel#"+c.id+":customHeight",p))})},_updateGeometry:function(){
var e,t,i,c,d,h,v;return $traceurRuntime.asyncWrap(function(f){for(;;)switch(f.state){
case 0:f.state=null===this.button?1:3;break;case 1:f.returnValue=void 0,f.state=2;
break;case 2:f.state=-2;break;case 3:f.state=void 0===this._defaultWidth&&void 0===this._defaultHeight?7:9;
break;case 7:f.state=n()-this._createdTimeStamp<100?5:6;break;case 5:return void Promise.resolve(r(100)).then(f.createCallback(6),f.errback);
case 6:e=a(this),this._defaultWidth="auto"===e.width?null:parseInt(e.width),this._defaultHeight="auto"===e.height?null:parseInt(e.height),
f.state=9;break;case 9:t=this.button.getBoundingClientRect(),i=this._customWidth||this._defaultWidth||235,
c=this._customHeight||this._defaultHeight||450,d=null,h=null,d=t.right+l+i+u<=window.innerWidth?t.right+l:t.left-u-i,
t.top+c+s>window.innerHeight?(v=t.top+c+s-window.innerHeight,t.top-v<o?(h=o,c=window.innerHeight-o-s):h=t.top-v):h=t.top,
this.style.width=i+"px",this.style.height=c+"px",null!==d&&(this.style.left=d+"px"),
null!==h&&(this.style.top=h+"px"),f.state=-2;break;default:return f.end()}},this);
}},{},e)}(HTMLElement),v=e("bx-panel",h);return{get default(){return v}}}),$traceurRuntime.registerModule("elements/bx-pathcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-pathcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-pathcontrols")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-pathcontrols")).throttle,r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-pathcontrols.css");\n  </style>\n\n  <section>\n    <bx-button\n      id="convert-to-path-button"\n      label="Convert to Path">\n    </bx-button>\n\n    <bx-button\n      id="reverse-path-button"\n      label="Reverse">\n    </bx-button>\n  </section>\n\n  <section id="boolean-operations-section">\n    <h2 id="boolean-operations-heading">Boolean Operations</h2>\n\n    <div class="hbox">\n      <bx-button\n        id="union-button"\n        icon="union"\n        iconsize="25"\n        label="Unite">\n      </bx-button>\n\n      <bx-button\n        id="difference-button"\n        icon="difference"\n        iconsize="25"\n        label="Subtract">\n      </bx-button>\n    </div>\n\n    <div class="hbox">\n      <bx-button\n        id="intersection-button"\n        icon="intersection"\n        iconsize="25"\n        label="Intersect">\n      </bx-button>\n\n      <bx-button\n        id="exclusion-button"\n        icon="exclusion"\n        iconsize="25"\n        label="Exclude">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="outline-section">\n    <h2 id="compound-path-heading">Compound Path</h2>\n\n    <div class="hbox">\n      <bx-button\n        id="combine-button"\n        iconsize="25"\n        label="Combine">\n      </bx-button>\n\n      <bx-button\n        id="break-apart-button"\n        iconsize="25"\n        label="Break Apart">\n      </bx-button>\n    </div>\n  </section>\n',i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var t=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#convert-to-path-button"].addEventListener("click",function(t){
return e._onConvertToPathButtonClick(t)}),this["#reverse-path-button"].addEventListener("click",function(t){
return e._onReversePathButtonClick(t)}),this["#union-button"].addEventListener("click",function(t){
return e._onUnionButtonClick(t)}),this["#difference-button"].addEventListener("click",function(t){
return e._onDifferenceButtonClick(t)}),this["#intersection-button"].addEventListener("click",function(t){
return e._onIntersectionButtonClick(t)}),this["#exclusion-button"].addEventListener("click",function(t){
return e._onExclusionButtonClick(t)}),this["#combine-button"].addEventListener("click",function(t){
return e._onCombineButtonClick(t)}),this["#break-apart-button"].addEventListener("click",function(t){
return e._onBreakApartButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onArtboardMutation:function(e){
this._update200Th()},_onConvertToPathButtonClick:function(e){0===e.button&&body.commands.convertToPath.exec();
},_onReversePathButtonClick:function(e){0===e.button&&body.commands.reversePath.exec();
},_onUnionButtonClick:function(e){0===e.button&&body.commands.unite.exec()},_onDifferenceButtonClick:function(e){
0===e.button&&body.commands.subtract.exec()},_onIntersectionButtonClick:function(e){
0===e.button&&body.commands.intersect.exec()},_onExclusionButtonClick:function(e){
0===e.button&&body.commands.exclude.exec()},_onCombineButtonClick:function(e){0===e.button&&body.commands.combine.exec();
},_onBreakApartButtonClick:function(e){0===e.button&&body.commands.breakApart.exec();
},_update:function(){this._updateBoolOpsSection()},_updateBoolOpsSection:function(){
var e,t,n,r,i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){
case 0:e=this["#convert-to-path-button"],t=body.commands,n=t.convertToPath,r=n.enabled,
i=r.call(n),o.state=5;break;case 5:return void Promise.resolve(i).then(o.createCallback(3),o.errback);
case 3:a=o.value,o.state=2;break;case 2:e.disabled=!a,o.state=7;break;case 7:this["#reverse-path-button"].disabled=!body.commands.reversePath.enabled(),
this["#union-button"].disabled=!body.commands.unite.enabled(),this["#difference-button"].disabled=!body.commands.subtract.enabled(),
this["#intersection-button"].disabled=!body.commands.intersect.enabled(),this["#exclusion-button"].disabled=!body.commands.exclude.enabled(),
this["#boolean-operations-heading"].disabled=this["#union-button"].disabled&&this["#difference-button"].disabled&&this["#intersection-button"].disabled&&this["#exclusion-button"].disabled,
this["#combine-button"].disabled=!body.commands.combine.enabled(),this["#break-apart-button"].disabled=!body.commands.breakApart.enabled(),
this["#compound-path-heading"].disabled=this["#combine-button"].disabled&&this["#break-apart-button"].disabled,
o.state=-2;break;default:return o.end()}},this)}},{},e)}(HTMLElement),a=t("bx-pathcontrols",i);
return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-pathsedithud",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-pathsedithud"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-pathsedithud")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-pathsedithud")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-pathsedithud")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-pathsedithud")),o=a.getPathDataBySubpath,s=a.getNearestPointOnPath,l=a.harmonizePathData,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/curves-general","elements/bx-pathsedithud")),c=u.getCubicCurveTParam,d=u.splitCurve,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-pathsedithud")),v=h.checkCollinearity,f=h.comparePoints,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-pathsedithud")).rectContainsRect,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-pathsedithud")).throttle,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-pathsedithud")).getTransformToElement,p=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/decomposed-transform","elements/bx-pathsedithud"))["default"],
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-pathsedithud"))["default"]),y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-pathsedithud"))["default"],x=Math,_=(x.max,
x.pow),w=Number.parseFloat,S=(Object.keys,5),M=4,C='\n  <style>@import url("stylesheets/bx-pathsedithud.css");</style>\n  <g id="outline-grippies"></g>\n  <g id="control-lines"></g>\n  <g id="node-grippies"></g>\n  <g id="control-grippies"></g>\n',R=Symbol(),k=Symbol(),E=Symbol(),A=Symbol(),P=function(e){
return e.map(function(e){return{type:e.type,values:$traceurRuntime.spread(e.values)
}})},T=function(e,t){var n=[],r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;"C"===u.type||"L"===u.type?r.push(u):"M"===u.type?(r.length>0&&(n.push(r),
r=[]),r.push(u)):"Z"===u.type&&(r.push(u),n.push(r),r=[])}}catch(c){a=!0,o=c}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}return r.length>0&&n.push(r),
n.find(function(t){return t.includes(e)})||null},L=function(e,n){L.cachedPath||(L.cachedPath=t("svg:path"));
for(var r=L.cachedPath,i=[],a=0;a<e.length;a+=1){var o=e[a];i.push(o),r.setPathData(i);
var s=r.getTotalLength();if(s>=n)return a}return e.length-1},$=function(e,t){var n=void 0!==arguments[2]?arguments[2]:2,r="sharp";
if(e&&t&&"C"===e.type&&"C"===t.type){var a=new SVGPoint(e.values[4],e.values[5]),o=new SVGPoint(t.values[0],t.values[1]),s=new SVGPoint(e.values[2],e.values[3]);
if(f(a,o)===!1&&f(a,s)===!1&&v(o,a,s,n)===!0){var l=new y(a,o),u=new y(a,s),c=i(l.length,2),d=i(u.length,2);
r=c===d?"symmetric-smooth":"smooth"}}return r},j=function(e,t){var n=void 0!==arguments[2]?arguments[2]:!1,r=new SVGPoint(t.values[4],t.values[5]),i=new SVGPoint(e.values[0],e.values[1]),a=new SVGPoint(t.values[2],t.values[3]),o=new y(r,i),s=new y(r,a),l=o.getOppositeVector();
n===!1&&(l.length=s.length),t.values[2]=r.x+l.x,t.values[3]=r.y+l.y},N=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:!1,r=new SVGPoint(e.values[4],e.values[5]),i=new SVGPoint(e.values[2],e.values[3]),a=new SVGPoint(t.values[0],t.values[1]),o=new y(r,i),s=new y(r,a),l=o.getOppositeVector();
n===!1&&(l.length=s.length),t.values[0]=r.x+l.x,t.values[1]=r.y+l.y},O=function(e,t,n){
var r;"M"===e.type||"L"===e.type?r=new SVGPoint(e.values[0],e.values[1]):"C"===e.type&&(r=new SVGPoint(e.values[4],e.values[5]));
var i=new SVGPoint(n.values[4],n.values[5]),a=new SVGPoint(t.values[4],t.values[5]),o=new y(a,r),s=new y(a,i),l=o.length/s.length,u=new y(l*s.x-o.x,l*s.y-o.y).normalize();
t.values[2]=a.x+-u.x*(o.length/3),t.values[3]=a.y+-u.y*(o.length/3),n.values[0]=a.x+u.x*(s.length/3),
n.values[1]=a.y+u.y*(s.length/3)},V=function(e){var t,n,r=null,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if("L"===u.type){var c=u.values,d=(t=c[Symbol.iterator](),(n=t.next()).done?void 0:n.value),h=(n=t.next()).done?void 0:n.value,v="C"===r.type?r.values[4]:r.values[0],f="C"===r.type?r.values[5]:r.values[1];
u.type="C",u.values=[v,f,d,h,d,h]}r=u}}catch(m){a=!0,o=m}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}},z=function(e){var t,n,r=null,i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if("C"===u.type){var c=u.values,d=(t=c[Symbol.iterator](),(n=t.next()).done?void 0:n.value),h=(n=t.next()).done?void 0:n.value,v=(n=t.next()).done?void 0:n.value,f=(n=t.next()).done?void 0:n.value,m=(n=t.next()).done?void 0:n.value,b=(n=t.next()).done?void 0:n.value,g="C"===r.type?r.values[4]:r.values[0],p="C"===r.type?r.values[5]:r.values[1];
d===g&&h===p&&v===m&&f===b&&(u.type="L",u.values=[m,b])}r=u}}catch(y){a=!0,o=y}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}},D=function(e,t){var n=T(e,t);
return"Z"===n[n.length-1].type},G=function(e){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var e=this;this.commands={
selectAll:{enabled:function(){return!0},exec:function(){return e._selectAllSegs();
}}},this.tabIndex=-1,this._installed=!1,this._selectedPaths=[],this._draggedNodeGrippie=null,
this._draggedControlGrippie=null,this._draggedOutlineGrippie=null,this._updateOutlineGrippies1500Th=b(this._updateOutlineGrippies,1500,this),
this._updateNodeGrippies40Th=b(this._updateNodeGrippies,40,this),this._updateControlGrippies40Th=b(this._updateControlGrippies,40,this),
this._updateNodeGrippiesSize40Th=b(this._updateNodeGrippiesSize,40,this),this._updateControlGrippiesSize40Th=b(this._updateControlGrippiesSize,40,this),
this._updateOutlineGrippiesSize1500Th=b(this._updateOutlineGrippiesSize,1500,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=C;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},rubberBandSelectionCallback:function(e){
var t=body.modKeys.shift,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#node-grippies"].children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l.getBBox();m(e,u)&&n.push(l)}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var d=!0,h=!1,v=void 0;try{for(var f,b,g,p=function(){var e=y.value,r=n.filter(function(t){
return t[R]===e}),i=r.map(function(e){return e[E]});if(e[A]||(e[A]=[]),t===!1)e[A]=i;else{
f=!0,b=!1,g=void 0;try{for(var a=void 0,o=i[Symbol.iterator]();!(f=(a=o.next()).done);f=!0){
var s=a.value;e[A].includes(s)===!1&&e[A].push(s)}}catch(l){b=!0,g=l}finally{try{
f||null==o["return"]||o["return"]()}finally{if(b)throw g}}}},y=void 0,x=this._selectedPaths[Symbol.iterator]();!(d=(y=x.next()).done);d=!0)p();
}catch(_){h=!0,v=_}finally{try{d||null==x["return"]||x["return"]()}finally{if(h)throw v;
}}this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),this._updateOutlineGrippies1500Th(),
n.length>0&&this.focus()},get enabled(){return this.hasAttribute("enabled")},set enabled(e){
e?this.setAttribute("enabled",""):this.removeAttribute("enabled")},_install:function(){
var e=this;this._installed=!0,body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
e._onArtboardMutation()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._deselectAllSegs()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._deselectAllSegs()}),this.addEventListener("keydown",this._keyDownListener=function(t){
e._onKeyDown(t)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)}),this._shadowRoot.addEventListener("dblclick",this._shadowRootDblClickListener=function(t){
e._onShadowRootDblClick(t)})},_uninstall:function(){this._selectedPaths=[],this._installed=!1,
this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",
this["#control-lines"].innerHTML="",body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener),
this.removeEventListener("keydown",this._keyDownListener),this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener),
this._shadowRoot.removeEventListener("dblclick",this._shadowRootDblClickListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a[A]=[]}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._selectedPaths=this._getSelectedPaths(),0===this._selectedPaths.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateOutlineGrippies1500Th(),this._updateNodeGrippies40Th())},_onArtboardMutation:function(){
this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),this._updateOutlineGrippies1500Th();
},_onZoomChange:function(){this._updateNodeGrippiesSize40Th(),this._updateControlGrippiesSize40Th(),
this._updateOutlineGrippiesSize1500Th()},_onShadowRootMouseDown:function(e){e.preventDefault(),
this.focus(),e.target.classList.contains("node-grippie")?this._onNodeGrippieMouseDown(e):e.target.classList.contains("control-grippie")?this._onControlGrippieMouseDown(e):e.target.classList.contains("outline-grippie")&&this._onOutlineGrippieMouseDown(e);
},_onShadowRootDblClick:function(e){e.target.classList.contains("node-grippie")?this._onNodeGrippieDblClick(e):e.target.classList.contains("control-grippie")?this._onControlGrippieDblClick(e):e.target.classList.contains("outline-grippie")&&this._onOutlineGrippieDblClick(e);
},_onArtboardMouseDown:function(e){var t,n=this;window.addEventListener("mouseup",t=function(r){
window.removeEventListener("mouseup",t),r.clientX===e.clientX&&r.clientY===e.clientY&&n._deselectAllSegs();
})},_onNodeGrippieMouseDown:function(e){var t=this;if(0===e.button){var n=body.modKeys.shift,i=e.target,a=i[R],o=i[E];
a[A]||(a[A]=[]);var s,l,u=a[A].includes(o),c=!1;if(u===!1){if(n===!1){a[A]=[o];var d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=this._selectedPaths[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value;b!==a&&(b[A]=[])}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}}else n===!0&&a[A].push(o);this._updateNodeGrippies40Th(),
this._updateControlGrippies40Th(),c=!0}window.addEventListener("mousemove",s=function(n){
if(r(e,n)){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l);
var a=new SVGPoint(n.clientX,n.clientY);t._onNodeGrippieDragStart(e,i,a)}}),window.addEventListener("mouseup",l=function(e){
window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l),
c===!1&&n===!0&&(a[A].remove(o),t._updateNodeGrippies40Th(),t._updateControlGrippies40Th());
})}},_onNodeGrippieDragStart:function(e,t,n){var r=this;body.canvas.undoManager.checkpoint("Edit path");
var a,o,s=Symbol(),u=Symbol(),c=Symbol();this._draggedNodeGrippie=t;var d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=this._selectedPaths[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value,g=l(b.getPathData({normalize:!0})),p=P(g),y=b[k],x=void 0;if(y){var _=b.transform.baseVal.consolidate().matrix,w=y.getScreenCTM();
x=w.multiply(_).inverse()}else x=b.getScreenCTM().inverse();b[c]=x,b[u]=g,b[s]=p}
}catch(S){h=!0,v=S}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}window.addEventListener("mousemove",a=function(e){var t=new SVGPoint(e.clientX,e.clientY),i=!0,a=!1,o=void 0;
try{for(var l=void 0,d=r._selectedPaths[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){
var h=l.value,v=n.matrixTransform(h[c]),f=t.matrixTransform(h[c]),m=f.x-v.x,b=f.y-v.y,g=h[u],p=h[s],y=h[A]||[],x=!0,_=!1,w=void 0;
try{for(var S=void 0,M=y[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){var C=S.value,R=g[C],k=g[C+1],E=p[C],P=p[C+1];
if("M"===R.type||"L"===R.type){if(R.values[0]=E.values[0]+m,R.values[1]=E.values[1]+b,
k&&"C"===k.type)k.values[0]=P.values[0]+m,k.values[1]=P.values[1]+b;else if(k&&"Z"===k.type){
var L=T(R,g),$=L[0];$.values[0]=R.values[0],$.values[1]=R.values[1]}}else if("C"===R.type)if(R.values[2]=E.values[2]+m,
R.values[3]=E.values[3]+b,R.values[4]=E.values[4]+m,R.values[5]=E.values[5]+b,k&&"C"===k.type)k.values[0]=P.values[0]+m,
k.values[1]=P.values[1]+b;else if(k&&"Z"===k.type){var j=T(R,g),N=j[0],O=j[1],V=T(E,p);
N.values[0]=R.values[4],N.values[1]=R.values[5],"C"===O.type&&(O.values[0]=V[1].values[0]+m,
O.values[1]=V[1].values[1]+b)}}}catch(z){_=!0,w=z}finally{try{x||null==M["return"]||M["return"]();
}finally{if(_)throw w}}h.setPathData(g)}}catch(D){a=!0,o=D}finally{try{i||null==d["return"]||d["return"]();
}finally{if(a)throw o}}}),window.addEventListener("mouseup",o=function(e){window.removeEventListener("mousemove",a),
window.removeEventListener("mouseup",o);var t=!0,n=!1,s=void 0;try{for(var l=void 0,c=r._selectedPaths[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){
var d=l.value,h=d[u],v=!0,f=!1,m=void 0;try{for(var b=void 0,g=h[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){
var p=b.value;p.values=p.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(y){f=!0,m=y}finally{try{v||null==g["return"]||g["return"]()}finally{if(f)throw m;
}}d.setPathData(h)}}catch(x){n=!0,s=x}finally{try{t||null==c["return"]||c["return"]();
}finally{if(n)throw s}}r._draggedNodeGrippie=null,r._updateOutlineGrippies()})},_onControlGrippieMouseDown:function(e){
var t=this;if(0===e.button){var n,i,a=e.target;window.addEventListener("mousemove",n=function(o){
if(r(e,o)){window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",i);
var s=new SVGPoint(o.clientX,o.clientY);t._onControlGrippieDragStart(e,a,s)}}),window.addEventListener("mouseup",i=function(e){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",i);
})}},_onControlGrippieDragStart:function(e,t,n){var r=this;body.canvas.undoManager.checkpoint("Move control point");
var a,o=t.getAttribute("data-index"),s=t[R],u=s[k];if(u){var c=s.transform.baseVal.consolidate().matrix,d=u.getScreenCTM();
a=d.multiply(c).inverse()}else a=s.getScreenCTM().inverse();var h=t[E],v=l(s.getPathData({
normalize:!0}));V(v);var f=v[h],m=v[h-1]||null,b=v[h+1]||null,g=T(f,v),p=D(f,v),x=n.matrixTransform(a),_={
type:"C",values:$traceurRuntime.spread(f.values)},w=null,S=null,M=null;w="M"===m.type&&p?g[g.length-2]:m,
b&&("Z"===b.type?S=p?g[1]:null:"C"===b.type&&(S=b)),"1"===o?"M"===w.type||"L"===w.type?M=new SVGPoint(w.values[0],w.values[1]):"C"===w.type&&(M=new SVGPoint(w.values[4],w.values[5])):"2"===o&&(M=new SVGPoint(f.values[4],f.values[5]));
var C,A,P,L="sharp",j=new SVGPoint(x.x,x.y);this._draggedControlGrippie=t;var N=function(){
var e=body.modKeys,t=e.ctrl,n=e.shift;t===!0&&n===!1?L="sharp":t===!1&&n===!0?"1"===o?L=w&&"C"===w.type?"smooth":"sharp":"2"===o&&(L=S&&"C"===S.type?"smooth":"sharp"):t===!0&&n===!0?"1"===o?L=w&&"C"===w.type?"symmetric-smooth":"sharp":"2"===o&&(L=S&&"C"===S.type?"symmetric-smooth":"sharp"):t===!1&&n===!1&&("1"===o?L=$(w,f):"2"===o&&(L=$(f,S)));
},O=function(){var e=j.x-x.x,t=j.y-x.y;if("1"===o){var n=new SVGPoint(_.values[0]+e,_.values[1]+t);
if(f.values[0]=n.x,f.values[1]=n.y,"smooth"===L){var r=new SVGPoint(w.values[2],w.values[3]),i=new y(M,n),a=new y(M,r),l=i.getOppositeVector();
l.length=a.length,w.values[2]=M.x+l.x,w.values[3]=M.y+l.y}else if("symmetric-smooth"===L){
var u=new y(M,n);u=u.negate(),w.values[2]=M.x+u.x,w.values[3]=M.y+u.y}}else if("2"===o){
var c=new SVGPoint(_.values[2]+e,_.values[3]+t);if(f.values[2]=c.x,f.values[3]=c.y,
"smooth"===L){var d=new SVGPoint(S.values[0],S.values[1]),h=new y(M,c),m=new y(M,d),b=h.getOppositeVector();
b.length=m.length,S.values[0]=M.x+b.x,S.values[1]=M.y+b.y}else if("symmetric-smooth"===L){
var g=new y(M,c);g=g.negate(),S.values[0]=M.x+g.x,S.values[1]=M.y+g.y}}s.setPathData(v);
};window.addEventListener("mousemove",C=function(e){var t=new SVGPoint(e.clientX,e.clientY);
j=t.matrixTransform(a),O()}),window.addEventListener("mouseup",A=function(e){window.removeEventListener("mousemove",C),
window.removeEventListener("mouseup",A),body.removeEventListener("modkeyschange",P),
z(v);var t=!0,n=!1,a=void 0;try{for(var o=void 0,l=v[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){
var u=o.value;u.values=u.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(c){n=!0,a=c}finally{try{t||null==l["return"]||l["return"]()}finally{if(n)throw a;
}}s.setPathData(v),r._draggedControlGrippie=null}),body.addEventListener("modkeyschange",P=function(){
N(),O()}),N()},_onOutlineGrippieMouseDown:function(e){var t=this;if(0===e.button){
var n,i,a=!1,o=e.target;window.addEventListener("mousemove",n=function(s){r(e,s)&&(window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",i),t._onOutlineGrippieDragStart(s,o),a=!0)}),
window.addEventListener("mouseup",i=function(r){var u,c;if(window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",i),a===!1){var d,h=o[R],v=h[k];if(v){var f=h.transform.baseVal.consolidate().matrix,m=v.getScreenCTM();
d=m.multiply(f).inverse()}else d=h.getScreenCTM().inverse();var b=l(h.getPathData({
normalize:!0})),g=new SVGPoint(e.clientX,e.clientY),p=g.matrixTransform(d),y=s(h,p),x=(u=y[Symbol.iterator](),
(c=u.next()).done?void 0:c.value,(c=u.next()).done?void 0:c.value),_=L(b,x),w=_-1,S=b[_],M=b[w],C=T(S,b),E=D(S,b);
E&&"M"===M.type?h[A]=[_,C.length-2]:h[A]=[_,w],t._updateNodeGrippies40Th(),t._updateControlGrippies40Th();
}})}},_onOutlineGrippieDragStart:function(e,t){var n,r,a=this;body.canvas.undoManager.checkpoint("Edit path"),
this._draggedOutlineGrippie=e.target;var o,u=t[R],d=u[k];if(d){var h=u.transform.baseVal.consolidate().matrix,v=d.getScreenCTM();
o=v.multiply(h).inverse()}else o=u.getScreenCTM().inverse();var f,m,b,g=l(u.getPathData({
normalize:!0})),p=new SVGPoint(e.clientX,e.clientY).matrixTransform(o),x=s(u,p),w=(n=x[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),S=(r=n.next()).done?void 0:r.value,M=L(g,S),C=g[M],E=g[M-1],A=g[M+1],P=T(C,g),O=D(C,g),G=new y(p,w),I=new SVGPoint(p.x,p.y),B=null,U=null,H=null,F=null,q=!1,W=!1;
V(g),B="M"===E.type&&O?P[P.length-2]:E,A&&("Z"===A.type?U=O?P[1]:null:"C"===A.type&&(U=A)),
"M"===B.type||"L"===B.type?H=new SVGPoint(B.values[0],B.values[1]):"C"===B.type&&(H=new SVGPoint(B.values[4],B.values[5])),
"M"===C.type||"L"===C.type?F=new SVGPoint(C.values[0],C.values[1]):"C"===C.type&&(F=new SVGPoint(C.values[4],C.values[5]));
var Y=function(){var e=body.modKeys,t=e.ctrl,n=e.shift;t===!0&&n===!1?(q=!1,W=!1):t===!1&&n===!0?(q=B&&"C"===B.type?"smooth":!1,
W=U&&"C"===U.type?"smooth":!1):t===!0&&n===!0?(q=B&&"C"===B.type?"symmetric-smooth":!1,
W=U&&"C"===U.type?"symmetric-smooth":!1):t===!1&&n===!1&&(q=$(B,C),W=$(C,U))},X=function(){
var e=new SVGPoint(C.values[0],C.values[1]),t=new SVGPoint(C.values[2],C.values[3]),n=c(w,H,e,t,F),r=1;
if(1/6>=n?r=0:.5>=n?r=_((6*n-1)/2,3)/2:5/6>=n&&(r=(1-_((6*(1-n)-1)/2,3))/2+.5),-1!==n){
var i=(1-r)/(3*n*(1-n)*(1-n)),a=r/(3*n*n*(1-n)),o=I.x-w.x,s=I.y-w.y;C.values[0]=C.values[0]+i*o,
C.values[1]=C.values[1]+i*s,C.values[2]=C.values[2]+a*o,C.values[3]=C.values[3]+a*s,
"smooth"===q?j(C,B,!1):"symmetric-smooth"===q&&j(C,B,!0),"smooth"===W?N(C,U,!1):"symmetric-smooth"===W&&N(C,U,!0),
w=I,u.setPathData(g)}};window.addEventListener("mousemove",f=function(e){I=new SVGPoint(e.clientX,e.clientY).matrixTransform(o),
I.x+=G.x,I.y+=G.y,X()}),window.addEventListener("mouseup",m=function(e){body.removeEventListener("modkeyschange",b),
window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m),
z(g);var t=!0,n=!1,r=void 0;try{for(var o=void 0,s=g[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;l.values=l.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(c){n=!0,r=c}finally{try{t||null==s["return"]||s["return"]()}finally{if(n)throw r;
}}u.setPathData(g),a._draggedOutlineGrippie=null,a._updateOutlineGrippies()}),body.addEventListener("modkeyschange",b=function(){
Y(),X()}),Y()},_onNodeGrippieDblClick:function(e){var t=e.target,n=t[R],r=t[E],a=l(n.getPathData({
normalize:!0})),o=a[r],s=a[r+1]||null,u=a[r-1]||null,c=T(o,a),d=!1;if(V(a),"M"===o.type){
if("C"===s.type){var h=s.values[0]===o.values[0]&&s.values[1]===o.values[1];h===!1&&(s.values[0]=o.values[0],
s.values[1]=o.values[1],d=!0)}}else if("C"===o.type)if(null===s||"M"===s.type){var v=o.values[2]===o.values[4]&&o.values[3]===o.values[5];
v===!1&&(o.values[2]=o.values[4],o.values[3]=o.values[5],d=!0)}else if("Z"===s.type){
var f=c[1];if("C"===f.type){var m=o.values[4]===f.values[0]&&o.values[5]===f.values[1]&&o.values[4]===o.values[2]&&o.values[5]===o.values[3];
m===!1?(f.values[0]=o.values[4],f.values[1]=o.values[5],o.values[2]=o.values[4],o.values[3]=o.values[5]):O(u,o,f),
d=!0}}else if("C"===s.type){var b=s.values[0]===o.values[4]&&s.values[1]===o.values[5]&&o.values[2]===o.values[4]&&o.values[3]===o.values[5];
b===!1?(o.values[2]=o.values[4],o.values[3]=o.values[5],s.values[0]=o.values[4],s.values[1]=o.values[5]):O(u,o,s),
d=!0}if(d){body.canvas.undoManager.checkpoint("Edit path"),z(a);var g=!0,p=!1,y=void 0;
try{for(var x=void 0,_=a[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){var w=x.value;
w.values=w.values.map(function(e){return i(e,body.canvas.geometryPrecision)})}}catch(S){
p=!0,y=S}finally{try{g||null==_["return"]||_["return"]()}finally{if(p)throw y}}n.setPathData(a);
}},_onControlGrippieDblClick:function(e){var t=e.target,n=t.getAttribute("data-index"),r=t[R],a=t[E],o=l(r.getPathData({
normalize:!0})),s=o[a],u=o[a-1]||null;"1"===n?"C"===u.type?(s.values[0]=u.values[4],
s.values[1]=u.values[5]):"M"!==u.type&&"L"!==u.type||(s.values[0]=u.values[0],s.values[1]=u.values[1]):"2"===n&&(s.values[2]=s.values[4],
s.values[3]=s.values[5]),body.canvas.undoManager.checkpoint("Edit path"),z(o);var c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m.values=m.values.map(function(e){return i(e,body.canvas.geometryPrecision)})}}catch(b){
d=!0,h=b}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}r.setPathData(o);
},_onOutlineGrippieDblClick:function(e){var t,n,r,a=e.target[R],o=a[k];if(o){var u=a.transform.baseVal.consolidate().matrix,h=o.getScreenCTM();
r=h.multiply(u).inverse()}else r=a.getScreenCTM().inverse();var v,f,m=l(a.getPathData({
normalize:!0})),b=new SVGPoint(e.clientX,e.clientY).matrixTransform(r),g=s(a,b),p=(t=g[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),y=(n=t.next()).done?void 0:n.value,x=L(m,y),_=m[x];
if("L"===_.type){var w=new SVGPoint(_.values[0],_.values[1]);v={type:"L",values:[p.x,p.y]
},f={type:"L",values:[w.x,w.y]}}else if("C"===_.type){var S,M=m[x-1]||null;"M"===M.type||"L"===M.type?S=new SVGPoint(M.values[0],M.values[1]):"C"===M.type&&(S=new SVGPoint(M.values[4],M.values[5]));
var C=new SVGPoint(_.values[4],_.values[5]),E=new SVGPoint(_.values[0],_.values[1]),P=new SVGPoint(_.values[2],_.values[3]),T=c(p,S,E,P,C),$=d(S,E,P,C,T);
v={type:"C",values:[$[0][1].x,$[0][1].y,$[0][2].x,$[0][2].y,$[0][3].x,$[0][3].y]},
f={type:"C",values:[$[1][1].x,$[1][1].y,$[1][2].x,$[1][2].y,$[1][3].x,$[1][3].y]};
}body.canvas.undoManager.checkpoint("Add path node"),m=$traceurRuntime.spread(m.slice(0,x),[v,f],m.slice(x+1));
var j=!0,N=!1,O=void 0;try{for(var V=void 0,z=m[Symbol.iterator]();!(j=(V=z.next()).done);j=!0){
var D=V.value;D.values=D.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(G){N=!0,O=G}finally{try{j||null==z["return"]||z["return"]()}finally{if(N)throw O;
}}a.setPathData(m),a[A]=[x];var I=!0,B=!1,U=void 0;try{for(var H=void 0,F=this._selectedPaths[Symbol.iterator]();!(I=(H=F.next()).done);I=!0){
var q=H.value;q!==a&&(q[A]=[])}}catch(W){B=!0,U=W}finally{try{I||null==F["return"]||F["return"]();
}finally{if(B)throw U}}this._updateNodeGrippies(),this._updateControlGrippies()},
_onKeyDown:function(e){if(this["#node-grippies"].querySelector("[data-selected]")){
var t=p.fromEvent(e);t.matches("Backspace")?(e.preventDefault(),e.stopPropagation(),
this._deleteSelectedSegs("smooth")):t.matches("Shift","Backspace")&&(e.preventDefault(),
e.stopPropagation(),this._deleteSelectedSegs("sharp"))}},_updateOutlineGrippies:function(){
if(!(this._draggedOutlineGrippie||this._draggedNodeGrippie||this._draggedControlGrippie)){
var e=document.createDocumentFragment(),n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._selectedPaths[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=void 0;if(s[k]){var u=g(s[k],this),c=s.transform.baseVal.consolidate().matrix;
l=u.multiply(c)}else l=g(s,this);var d=s.getPathData(),h=t("svg:path");h[R]=s,h.setAttribute("class","outline-grippie"),
h.setAttribute("transform",l.toString()),h.setPathData(d),e.append(h)}}catch(v){r=!0,
i=v}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}this["#outline-grippies"].innerHTML="",
this["#outline-grippies"].append(e),this._updateOutlineGrippiesSize()}},_updateNodeGrippies:function(){
if(!this._draggedOutlineGrippie&&!this._draggedControlGrippie){var e=document.createDocumentFragment(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._selectedPaths[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,u=void 0;if(s[k]){var c=g(s[k],this),d=s.transform.baseVal.consolidate().matrix;
u=c.multiply(d)}else u=g(s,this);for(var h=l(s.getPathData({normalize:!0})),v=[],f=0;f<h.length;f+=1){
var m=h[f],b=void 0;if("C"===m.type)b=new SVGPoint(m.values[4],m.values[5]);else if("L"===m.type)b=new SVGPoint(m.values[0],m.values[1]);else{
if("M"!==m.type||D(m,h)!==!1)continue;b=new SVGPoint(m.values[0],m.values[1])}var p=b.matrixTransform(u),y=t("svg:circle");
y.setAttribute("class","node-grippie"),y.setAttribute("cx",p.x),y.setAttribute("cy",p.y),
y.setAttribute("r",S/body.canvas.scale),y[R]=s,y[E]=f,s[A]&&s[A].includes(f)&&y.setAttribute("data-selected",""),
v.push(y)}var x=!0,_=!1,w=void 0;try{for(var M=void 0,C=v[Symbol.iterator]();!(x=(M=C.next()).done);x=!0){
var P=M.value;e.append(P)}}catch(T){_=!0,w=T}finally{try{x||null==C["return"]||C["return"]();
}finally{if(_)throw w}}}}catch(L){r=!0,i=L}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(e);
}},_updateControlGrippies:function(){var e=document.createDocumentFragment(),n=document.createDocumentFragment(),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=this._selectedPaths[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var u=o.value,c=l(u.getPathData({normalize:!0})),d=u[A]||[],h=void 0;if(u[k]){var v=g(u[k],this),m=u.transform.baseVal.consolidate().matrix;
h=v.multiply(m)}else h=g(u,this);var b=!0,p=!1,y=void 0;try{for(var x=void 0,_=d[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value,S=c[w],C=c[w+1]||null,P=T(S,c)[1],L=c.indexOf(P),$=void 0,j=null,N=null;
if("M"===S.type||"L"===S.type?$=new SVGPoint(S.values[0],S.values[1]):"C"===S.type&&($=new SVGPoint(S.values[4],S.values[5])),
"C"===S.type&&(j=new SVGPoint(S.values[2],S.values[3])),C&&("C"===C.type?N=new SVGPoint(C.values[0],C.values[1]):"Z"===C.type&&"C"===P.type&&(N=new SVGPoint(P.values[0],P.values[1]))),
j&&f($,j)===!1){var O=$.matrixTransform(h),V=j.matrixTransform(h),z=t("svg:circle");
z.setAttribute("class","control-grippie"),z.setAttribute("data-index","2"),z.setAttribute("cx",V.x),
z.setAttribute("cy",V.y),z.setAttribute("r",M/body.canvas.scale),z[R]=u,z[E]=w;var D=t("svg:line");
D.setAttribute("class","control-line"),D.setAttribute("x1",O.x),D.setAttribute("y1",O.y),
D.setAttribute("x2",V.x),D.setAttribute("y2",V.y),e.append(z),n.append(D)}if(N&&f($,N)===!1){
var G=$.matrixTransform(h),I=N.matrixTransform(h),B=t("svg:circle");B.setAttribute("class","control-grippie"),
B.setAttribute("data-index","1"),B.setAttribute("cx",I.x),B.setAttribute("cy",I.y),
B.setAttribute("r",M/body.canvas.scale),B[R]=u,B[E]="Z"===C.type?L:w+1;var U=t("svg:line");
U.setAttribute("class","control-line"),U.setAttribute("x1",G.x),U.setAttribute("y1",G.y),
U.setAttribute("x2",I.x),U.setAttribute("y2",I.y),e.append(B),n.append(U)}}}catch(H){
p=!0,y=H}finally{try{b||null==_["return"]||_["return"]()}finally{if(p)throw y}}}}catch(F){
i=!0,a=F}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}this["#control-grippies"].innerHTML="",
this["#control-grippies"].append(e),this["#control-lines"].innerHTML="",this["#control-lines"].append(n);
},_updateNodeGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#node-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",S/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateControlGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#control-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",M/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateOutlineGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#outline-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=a[R],s=getComputedStyle(o),l=w(s.strokeWidth)*body.canvas.scale;10>l&&(l=10),
a.style.strokeWidth=l}}catch(u){t=!0,n=u}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}},_selectAllSegs:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
for(var a=r.value,o=l(a.getPathData({normalize:!0})),s=[],u=0;u<o.length;u+=1){var c=o[u];
"C"===c.type||"L"===c.type?s.push(u):"M"===c.type&&D(c,o)===!1&&s.push(u)}a[A]=s}
}catch(d){t=!0,n=d}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}this._updateNodeGrippies(),this._updateControlGrippies()},_deselectAllSegs:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a[A]=[]}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateNodeGrippies40Th(),this._updateControlGrippies40Th();
},_deleteSelectedSegs:function(){var e=void 0!==arguments[0]?arguments[0]:"smooth";
body.canvas.undoManager.checkpoint("Delete segments");var t=!0,n=!1,r=void 0;try{
var a,s,u,c,d,h,v,f,m,b,g,p,y,x,_,w,S=function(){var t=M.value,n=l(t.getPathData({
normalize:!0}));V(n);var r=$traceurRuntime.spread(t[A]).sort(function(e,t){return t-e;
}),w=r.filter(function(e){return"C"===n[e].type}),S=r.filter(function(e){return"M"===n[e].type;
});if(0===r.length)return 0;a=!0,s=!1,u=void 0;try{for(var C=void 0,R=w[Symbol.iterator]();!(a=(C=R.next()).done);a=!0){
var k=C.value,E=n[k],P=n[k+1]||null,L=n[k-1]||null;if(null===P)n.remove(E);else if("M"===P.type)n.remove(E);else if("Z"===P.type){
var $=T(E,n),j=$[0],N=$[1];n.remove(E),"L"===L.type||"M"===L.type?(j.values[0]=L.values[0],
j.values[1]=L.values[1]):"C"===L.type&&(j.values[0]=L.values[4],j.values[1]=L.values[5]),
"C"===N.type&&("smooth"===e?(N.values[0]=E.values[0],N.values[1]=E.values[1]):"sharp"===e&&("L"===L.type||"M"===L.type?(N.values[0]=L.values[0],
N.values[1]=L.values[1]):"C"===L.type&&(N.values[0]=L.values[4],N.values[1]=L.values[5]),
N.values[2]=N.values[4],N.values[3]=N.values[5]))}else"C"===P.type?(n.remove(E),"smooth"===e?(P.values[0]=E.values[0],
P.values[1]=E.values[1]):"sharp"===e&&("M"===L.type||"L"===L.type?(P.values[0]=L.values[0],
P.values[1]=L.values[1]):"C"===L.type&&(P.values[0]=L.values[4],P.values[1]=L.values[5]),
P.values[2]=P.values[4],P.values[3]=P.values[5])):"L"===P.type&&n.remove(E)}}catch(O){
s=!0,u=O}finally{try{a||null==R["return"]||R["return"]()}finally{if(s)throw u}}c=!0,
d=!1,h=void 0;try{for(var D=void 0,G=S[Symbol.iterator]();!(c=(D=G.next()).done);c=!0){
var I=D.value,B=n[I],U=T(B,n);if(U.length>1){var H=U[0],F=U[1];n.remove(F),"L"===F.type?(H.values[0]=F.values[0],
H.values[1]=F.values[1]):"C"===F.type&&(H.values[0]=F.values[4],H.values[1]=F.values[5]);
}}}catch(q){d=!0,h=q}finally{try{c||null==G["return"]||G["return"]()}finally{if(d)throw h;
}}v=!0,f=!1,m=void 0;try{for(var W=void 0,Y=o(n)[Symbol.iterator]();!(v=(W=Y.next()).done);v=!0){
var X=W.value,Z=X.filter(function(e){return"C"===e.type}),K="Z"===X[X.length-1].type,J=K?2:1;
if(Z.length<J){b=!0,g=!1,p=void 0;try{for(var Q=void 0,ee=X[Symbol.iterator]();!(b=(Q=ee.next()).done);b=!0){
var te=Q.value;n.remove(te)}}catch(ne){g=!0,p=ne}finally{try{b||null==ee["return"]||ee["return"]();
}finally{if(g)throw p}}}}}catch(re){f=!0,m=re}finally{try{v||null==Y["return"]||Y["return"]();
}finally{if(f)throw m}}t[A]=[],z(n),y=!0,x=!1,_=void 0;try{for(var ie=void 0,ae=n[Symbol.iterator]();!(y=(ie=ae.next()).done);y=!0){
var oe=ie.value;oe.values=oe.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(se){x=!0,_=se}finally{try{y||null==ae["return"]||ae["return"]()}finally{
if(x)throw _}}t.setPathData(n),t.hasAttribute("d")===!1&&t.remove()};e:for(var M=void 0,C=this._selectedPaths[Symbol.iterator]();!(t=(M=C.next()).done);t=!0)switch(w=S()){
case 0:continue e}}catch(R){n=!0,r=R}finally{try{t||null==C["return"]||C["return"]();
}finally{if(n)throw r}}},_getSelectedPaths:function(){var e=[],t=[],n=function(r){
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if("path"===u.localName)u.hasAttribute("d")&&!u.hasAttribute("data-bx-shape")&&(u[k]=null,
e.push(u));else if("text"===u.localName){var c=u;if(c.firstElementChild&&"textPath"===c.firstElementChild.localName){
var d=c.firstElementChild,h=d.getAttribute("href");if(h){var v=body.canvas.artboards.querySelector(h);
v&&v.hasAttribute("d")&&!v.hasAttribute("data-bx-shape")&&(v[k]=c,t.push(v))}}}else"g"!==u.localName&&"a"!==u.localName||n(u.children);
}}catch(f){a=!0,o=f}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}};return n(body.canvas.selectedElements),e=e.filter(function(e){return t.includes(e)===!1;
}),$traceurRuntime.spread(e,t)}},{},e)}(SVGGElement),I=n("g","bx-pathsedithud",G);
return{get default(){return I}}}),$traceurRuntime.registerModule("elements/bx-patternartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternartboard")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/reflect","elements/bx-patternartboard")),n=t.createReflectedSVGLength,r=t.createReflectedSVGRect,i=t.createReflectedSVGPreserveAspectRatio,a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._x=n(this,"x"),this._y=n(this,"y"),this._width=n(this,"width"),
this._height=n(this,"height"),this._viewBox=r(this,"viewBox"),this._preserveAspectRatio=i(this,"preserveAspectRatio");
},get contentType(){return"pattern"},get x(){return this._x},get y(){return this._y;
},get width(){return this._width},get height(){return this._height},get viewBox(){
return this._viewBox},get preserveAspectRatio(){return this._preserveAspectRatio},
get patternUnits(){return"userSpaceOnUse"===this.getAttribute("patternUnits")?1:2;
},set patternUnits(e){this.setAttribute("patternUnits",1===e?"userSpaceOnUse":"objectBoundingBox");
},get patternContentUnits(){return"objectBoundingBox"===this.getAttribute("patternContentUnits")?2:1;
},set patternContentUnits(e){this.setAttribute("patternContentUnits",1===e?"userSpaceOnUse":"objectBoundingBox");
},get href(){return this.hasAttribute("href")?this.getAttribute("href"):""},set href(e){
this.setAttribute("href",e)}},{},e)}(SVGGElement),o=e("g","bx-patternartboard",a);
return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-patternhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-patternhud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternhud")),n=(t.createElement,
t.registerElement),r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-patternhud")),i=r.getRotationAngleFromPoints,a=r.snapRotationAngle,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-patternhud")).roundMatrix,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-patternhud")),l=s.getPaintType,u=s.getPaintServer,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","elements/bx-patternhud")).getParentPattern,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-patternhud")).queryStylableElements,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-patternhud")).throttle,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-patternhud")),f=v.getTransformFromPoints,m=v.getTransformToElement,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-patternhud"))["default"],g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-patternhud"))["default"],p=SVGUnitTypes,y=p.SVG_UNIT_TYPE_USERSPACEONUSE,x=p.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,_=6,w=new b("pattern","patternUser"),S='\n  <style>@import url("stylesheets/bx-patternhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',M=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._draggedGrippie=null,this._draggedOutline=null,
this._update50Th=h(this._update,50,this),this._update200Th=h(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=S;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,v=this.attributes[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("mousedown",function(t){
return e._onShadowRootMouseDown(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener)},_onSelectedElementsChange:function(){
this._update200Th()},_onSelectedTextRangeChange:function(){this._update200Th()},_onZoomChange:function(){
this._update50Th()},_onArtboardMutation:function(e){this._draggedGrippie?this._updatePositions(this._draggedGrippie.parentElement):this._draggedOutline?this._updatePositions(this._draggedOutline.parentElement):this._update200Th();
},_onShadowRootMouseDown:function(e){0===e.button&&(e.target.classList.contains("outline")?this._onTileOutlineMouseDown(e):e.target.classList.contains("scale-grippie")?this._onScaleGrippieMouseDown(e):e.target.classList.contains("rotate-grippie")&&this._onRotateGrippieMouseDown(e));
},_onTileOutlineMouseDown:function(t){var n=this,r=t.target,i=r.parentElement,a=i[w.pattern],s=i[w.patternUser],l=s.getScreenCTM(),u=l.inverse(),d=e(s),h=a.hasAttribute("href")?c(a):a,v=SVGMatrix.fromMatrix(a.patternTransform.baseVal.consolidate().matrix);
this._draggedOutline=r;var m,b,p,_,S;if(h.patternUnits.baseVal===y)p=new SVGPoint(h.x.baseVal.value,h.y.baseVal.value),
_=new SVGPoint(h.x.baseVal.value+h.width.baseVal.value,h.y.baseVal.value),S=new SVGPoint(h.x.baseVal.value+h.width.baseVal.value,h.y.baseVal.value+h.height.baseVal.value);else if(h.patternUnits.baseVal===x){
var M=new SVGPoint(h.x.baseVal.valueInSpecifiedUnits,h.y.baseVal.valueInSpecifiedUnits),C=new SVGPoint(h.x.baseVal.valueInSpecifiedUnits+h.width.baseVal.valueInSpecifiedUnits,h.y.baseVal.valueInSpecifiedUnits),R=new SVGPoint(h.x.baseVal.valueInSpecifiedUnits+h.width.baseVal.valueInSpecifiedUnits,h.y.baseVal.valueInSpecifiedUnits+h.height.baseVal.valueInSpecifiedUnits);
p=new SVGPoint(d.x+M.x*d.width,d.y+M.y*d.height),_=new SVGPoint(d.x+C.x*d.width,d.y+C.y*d.height),
S=new SVGPoint(d.x+R.x*d.width,d.y+R.y*d.height)}var k=p.matrixTransform(v),E=_.matrixTransform(v),A=S.matrixTransform(v),P=k.matrixTransform(l),T=E.matrixTransform(l),L=A.matrixTransform(l);
body.canvas.undoManager.checkpoint("Transform pattern"),window.addEventListener("mousemove",m=function(e){
var n=new g(e.clientX-t.clientX,e.clientY-t.clientY),r=new SVGPoint(P.x+n.x,P.y+n.y),i=new SVGPoint(T.x+n.x,T.y+n.y),s=new SVGPoint(L.x+n.x,L.y+n.y),l=r.matrixTransform(u),c=i.matrixTransform(u),d=s.matrixTransform(u),h=l.matrixTransform(v.inverse()),m=c.matrixTransform(v.inverse()),b=d.matrixTransform(v.inverse()),y=f(p,_,S,h,m,b),x=v.multiply(y);
x=o(x,body.canvas.transformPrecision),a.setAttribute("patternTransform",x.toString());
}),window.addEventListener("mouseup",b=function(e){window.removeEventListener("mousemove",m),
window.removeEventListener("mouseup",b),n._draggedOutline=null})},_onRotateGrippieMouseDown:function(t){
var n=this,r=t.target,s=r.parentElement,l=s[w.pattern],u=s[w.patternUser],d=u.getScreenCTM(),h=d.inverse(),v=e(u),m=l.hasAttribute("href")?c(l):l,b=SVGMatrix.fromMatrix(l.patternTransform.baseVal.consolidate().matrix);
this._draggedGrippie=r;var g,p,_,S,M;if(m.patternUnits.baseVal===y)_=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value/2,m.y.baseVal.value+m.height.baseVal.value/2),
S=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value),M=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value+m.height.baseVal.value);else if(m.patternUnits.baseVal===x){
var C=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits/2,m.y.baseVal.valueInSpecifiedUnits+m.height.baseVal.valueInSpecifiedUnits/2),R=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),k=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits+m.height.baseVal.valueInSpecifiedUnits);
_=new SVGPoint(v.x+C.x*v.width,v.y+C.y*v.height),S=new SVGPoint(v.x+R.x*v.width,v.y+R.y*v.height),
M=new SVGPoint(v.x+k.x*v.width,v.y+k.y*v.height)}var E=_.matrixTransform(b),A=S.matrixTransform(b),P=M.matrixTransform(b),T=E.matrixTransform(d),L=A.matrixTransform(d),$=P.matrixTransform(d);
body.canvas.undoManager.checkpoint("Transform pattern"),window.addEventListener("mousemove",g=function(e){
var n=new SVGPoint(e.clientX+(L.x-t.clientX),e.clientY+(L.y-t.clientY)),r=i(T,L,n);
body.modKeys.shift&&(r=a(r,45));var s=(new SVGMatrix).rotate(r,T.x,T.y),u=L.matrixTransform(s),c=$.matrixTransform(s),d=u.matrixTransform(h),v=c.matrixTransform(h),m=d.matrixTransform(b.inverse()),g=v.matrixTransform(b.inverse()),p=f(_,S,M,_,m,g),y=b.multiply(p);
y=o(y,body.canvas.transformPrecision),l.setAttribute("patternTransform",y.toString());
}),window.addEventListener("mouseup",p=function(e){window.removeEventListener("mousemove",g),
window.removeEventListener("mouseup",p),n._draggedGrippie=null})},_onScaleGrippieMouseDown:function(t){
var n=this,r=t.target,i=r.parentElement,a=i[w.pattern],s=i[w.patternUser],l=s.getScreenCTM(),u=l.inverse(),d=e(s),h=a.hasAttribute("href")?c(a):a,v=SVGMatrix.fromMatrix(a.patternTransform.baseVal.consolidate().matrix);
this._draggedGrippie=r;var m,b,g,p,_;if(h.patternUnits.baseVal===y)g=new SVGPoint(h.x.baseVal.value,h.y.baseVal.value),
p=new SVGPoint(h.x.baseVal.value+h.width.baseVal.value,h.y.baseVal.value),_=new SVGPoint(h.x.baseVal.value+h.width.baseVal.value,h.y.baseVal.value+h.height.baseVal.value);else if(h.patternUnits.baseVal===x){
var S=new SVGPoint(h.x.baseVal.valueInSpecifiedUnits,h.y.baseVal.valueInSpecifiedUnits),M=new SVGPoint(h.x.baseVal.valueInSpecifiedUnits+h.width.baseVal.valueInSpecifiedUnits,h.y.baseVal.valueInSpecifiedUnits),C=new SVGPoint(h.x.baseVal.valueInSpecifiedUnits+h.width.baseVal.valueInSpecifiedUnits,h.y.baseVal.valueInSpecifiedUnits+h.height.baseVal.valueInSpecifiedUnits);
g=new SVGPoint(d.x+S.x*d.width,d.y+S.y*d.height),p=new SVGPoint(d.x+M.x*d.width,d.y+M.y*d.height),
_=new SVGPoint(d.x+C.x*d.width,d.y+C.y*d.height)}var R=_.matrixTransform(v),k=R.matrixTransform(l);
body.canvas.undoManager.checkpoint("Transform pattern"),window.addEventListener("mousemove",m=function(e){
var n=new SVGPoint(k.x+e.clientX-t.clientX,k.y+e.clientY-t.clientY),r=n.matrixTransform(u),i=r.matrixTransform(v.inverse()),s=new SVGPoint(i.x,p.y),l=f(g,p,_,g,s,i),c=v.multiply(l);
c=o(c,body.canvas.transformPrecision),a.setAttribute("patternTransform",c.toString());
}),window.addEventListener("mouseup",b=function(e){window.removeEventListener("mousemove",m),
window.removeEventListener("mouseup",b),n._draggedGrippie=null})},_update:function(){
var e=this,t=d(this.context,body.canvas.selectedElements,body.canvas.selectedTextRange),n=t.filter(function(t){
return"pattern"===l(t,e.context)});if(this["#subhuds"].innerHTML="",n.length>0){var r=Symbol(),i=!0,a=!1,o=void 0;
try{for(var s=void 0,h=n[Symbol.iterator]();!(i=(s=h.next()).done);i=!0){var v=s.value,f=u(v,this.context),m=f.hasAttribute("href")?c(f):f;
if(!f[r]&&(f[r]=!0,0!==m.width.baseVal.valueInSpecifiedUnits&&0!==m.height.baseVal.valueInSpecifiedUnits)){
var b=this["#subhud-template"].cloneNode(!0);b.removeAttribute("id"),b[w.pattern]=f,
b[w.patternUser]=v,this["#subhuds"].append(b)}}}catch(g){a=!0,o=g}finally{try{i||null==h["return"]||h["return"]();
}finally{if(a)throw o}}this._updatePositions()}},_updatePositions:function(){var t=void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(!t||s===t){var l=s[w.patternUser],u=s[w.pattern],d=s.querySelector(".rotate-grippie"),h=s.querySelector(".scale-grippie"),v=s.querySelector(".outline"),f=m(l,this),b=e(l),g=u.hasAttribute("href")?c(u):u,p=SVGMatrix.fromMatrix(u.patternTransform.baseVal.consolidate().matrix),S=void 0,M=void 0,C=void 0,R=void 0;
if(g.patternUnits.baseVal===y)S=new SVGPoint(g.x.baseVal.value,g.y.baseVal.value),
M=new SVGPoint(g.x.baseVal.value+g.width.baseVal.value,g.y.baseVal.value),C=new SVGPoint(g.x.baseVal.value+g.width.baseVal.value,g.y.baseVal.value+g.height.baseVal.value),
R=new SVGPoint(g.x.baseVal.value,g.y.baseVal.value+g.height.baseVal.value);else if(g.patternUnits.baseVal===x){
var k=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits,g.y.baseVal.valueInSpecifiedUnits),E=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits+g.width.baseVal.valueInSpecifiedUnits,g.y.baseVal.valueInSpecifiedUnits),A=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits+g.width.baseVal.valueInSpecifiedUnits,g.y.baseVal.valueInSpecifiedUnits+g.height.baseVal.valueInSpecifiedUnits),P=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits,g.y.baseVal.valueInSpecifiedUnits+g.height.baseVal.valueInSpecifiedUnits);
S=new SVGPoint(b.x+k.x*b.width,b.y+k.y*b.height),M=new SVGPoint(b.x+E.x*b.width,b.y+E.y*b.height),
C=new SVGPoint(b.x+A.x*b.width,b.y+A.y*b.height),R=new SVGPoint(b.x+P.x*b.width,b.y+P.y*b.height);
}var T=S.matrixTransform(p),L=M.matrixTransform(p),$=C.matrixTransform(p),j=R.matrixTransform(p),N=T.matrixTransform(f),O=L.matrixTransform(f),V=$.matrixTransform(f),z=j.matrixTransform(f);
v.setAttribute("d","\n        M "+N.x+" "+N.y+"\n        L "+O.x+" "+O.y+"\n        L "+V.x+" "+V.y+"\n        L "+z.x+" "+z.y+"\n        Z\n      ");
var D=_/body.canvas.scale;d.cx.baseVal.value=O.x,d.cy.baseVal.value=O.y,d.r.baseVal.value=D,
h.width.baseVal.value=2*D,h.height.baseVal.value=2*D,h.x.baseVal.value=V.x-h.width.baseVal.value/2,
h.y.baseVal.value=V.y-h.height.baseVal.value/2,h.hudPoint=V}}}catch(G){r=!0,i=G}finally{
try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}}},{},t)}(SVGGElement),C=n("g","bx-patternhud",M);
return{get default(){return C}}}),$traceurRuntime.registerModule("elements/bx-patternslist",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternslistitem","elements/bx-patternslist")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-filterinput","elements/bx-patternslist"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-patternslist")),t=e.getPatternThumbnails,n=e.rasterizeArtwork,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-patternslist")).getClientBBox,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-patternslist")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-patternslist")),o=a.combineRects,s=a.transformRect,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-patternslist")),u=l.debounce,c=l.sleep,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-patternslist")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternslist")),v=h.createElement,f=h.registerElement,m=h.insertElementAfter,b=h.getElementIndex,g=h.sortByDomPosition,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-patternslist"))["default"],y=Number.parseFloat,x=(Object.keys,
'\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-patternslist.css");</style>\n\n  <main>\n    <header>\n      <h2>Patterns</h2>\n\n      <bx-button\n        id="delete-pattern-button"\n        skin="iconic"\n        icon="minus"\n        title="Delete pattern"\n        iconsize="15">\n      </bx-button>\n\n      <bx-button\n        id="create-pattern-button"\n        title="Create new pattern"\n        skin="iconic"\n        icon="plus"\n        iconsize="15">\n      </bx-button>\n    </header>\n\n    <div id="items"></div>\n    <div id="placeholder">No patterns found.</div>\n    <div id="drag-separator"></div>\n    <bx-filterinput id="filter-input" placeholder="Filter patterns"></bx-filterinput>\n  </main>\n'),_=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._update2000Db=u(this._update,2e3,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=x;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("keydown",function(t){
return e._onKeyDown(t)}),this["#items"].addEventListener("focusin",function(t){return e._onItemsFocusIn(t);
}),this["#items"].addEventListener("rename",function(t){return e._onItemRename(t);
}),this["#items"].addEventListener("dragstart",function(t){return e._onItemDragStart(t);
}),this["#delete-pattern-button"].addEventListener("click",function(t){return e._onDeletePatternButtonClick(t);
}),this["#create-pattern-button"].addEventListener("click",function(t){return e._onCreatePatternButtonClick(t);
}),this["#filter-input"].addEventListener("input",function(){return e._onFilterInputInput();
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled===!0?this._onEnabled():this._onDisabled());
},get enabled(){return!!this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
"id"===t.detail.attributeName&&"pattern"===t.detail.target.localName?e._update():t.detail.addedNodes[0]&&"pattern"===t.detail.addedNodes[0].localName?e._update():e._update2000Db();
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onDeletePatternButtonClick:function(e){0===e.button&&this._maybeDeleteHighlightedItem();
},_onCreatePatternButtonClick:function(e){if(0===e.button){body.canvas.undoManager.checkpoint("Create pattern");
var t=body.canvas.generateUniqueID("pattern"),a=v("bx-patternslistitem");a.patternID=t,
this["#items"].append(a);var l=!0,u=!1,h=void 0;try{for(var f=void 0,b=this["#items"].children[Symbol.iterator]();!(l=(f=b.next()).done);l=!0){
var p=f.value;p.highlighted=p===a}}catch(y){u=!0,h=y}finally{try{l||null==b["return"]||b["return"]();
}finally{if(u)throw h}}body.canvas.selectedElements.length>0&&n(body.canvas.extractArtworkWithSelectedElements()).then(function(e){
a.thumbnail=e}),c(100).then(function(){return a.focus()});var x=body.canvas.defs.querySelectorAll("pattern"),_=x[x.length-1],w=v("svg:pattern");
if(_?m(w,_):body.canvas.defs.append(w),0===body.canvas.selectedElements.length)w.setAttribute("id",t),
w.setAttribute("viewBox","0 0 100 100"),w.setAttribute("patternUnits","userSpaceOnUse"),
w.setAttribute("width","100"),w.setAttribute("height","100");else{var S=o(function(){
var e=0,t=[],n=!0,i=!1,a=void 0;try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t[e++]=r(l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());S=s(S,body.canvas.currentArtboard.getCTM().inverse());
var M=-S.x,C=-S.y,R=i(S.width,4),k=i(S.height,4),E=!0,A=!1,P=void 0;try{for(var T=void 0,L=g(body.canvas.selectedElements)[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var $=T.value,j=new SVGMatrix;j.translateSelf(M,C),j.multiplySelf(d($,body.canvas.currentArtboard)),
$.setAttribute("transform",j),w.append($)}}catch(N){A=!0,P=N}finally{try{E||null==L["return"]||L["return"]();
}finally{if(A)throw P}}w.setAttribute("id",t),w.setAttribute("viewBox","0 0 "+R+" "+k),
w.setAttribute("patternUnits","userSpaceOnUse"),w.setAttribute("width","100"),w.setAttribute("height","100"),
body.canvas.selectedElements=[],body.canvas.selectedTextRange=null,body.canvas.currentContainer=null;
}}},_onItemsFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this["#delete-pattern-button"].disabled=!1},_onItemRename:function(e){
body.canvas.undoManager.checkpoint("Rename pattern");var t=e.target,n=e.detail,r=n.oldID,i=n.newID;
t.patternID=i;for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),o=null;o=a.nextNode();){
"pattern"===o.localName&&(o.id===r&&o.setAttribute("id",i),o.href.baseVal==="#"+r&&o.setAttribute("href","#"+i));
var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=["fill","stroke"][Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=o.style.getPropertyValue(h);if(v&&v.startsWith("url(")){var f=v.substring(6,v.length-2);
f===r&&o.style.setProperty(h,"url(#"+i+")")}}}catch(m){l=!0,u=m}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}}},_onItemDragStart:function(e){var t,n,r,i=this,a=e.target,o=($traceurRuntime.spread(this["#items"].children),
y(getComputedStyle(this["#drag-separator"]).height)),s=b(a),l=null;window.addEventListener("dragover",t=function(e){
var t=i._shadowRoot.elementFromPoint(e.clientX,e.clientY);if(t&&"bx-patternslistitem"===t.localName){
var n=t,r=n.getBoundingClientRect();i["#drag-separator"].hidden=!1,i["#drag-separator"].style.width=r.width+"px",
i["#drag-separator"].style.left=r.x+"px",e.clientY<r.y+r.height/2?(i["#drag-separator"].style.top=r.y-o/2+"px",
l=b(n)):(i["#drag-separator"].style.top=r.y+r.height-o/2+"px",l=b(n)+1)}else i["#drag-separator"].hidden=!0,
l=null}),this["#items"].addEventListener("dragend",r=function(e){if(i["#items"].removeEventListener("dragover",t),
i["#items"].removeEventListener("dragleave",n),i["#items"].removeEventListener("dragend",r),
i["#drag-separator"].hidden=!0,null!==l&&s!==l&&s!==l-1){a.style.display="none",i["#items"].insertBefore(a,i["#items"].children[l]),
setTimeout(function(){a.style.display=null,a.focus()},50),body.canvas.undoManager.checkpoint("Reorder patterns");
var o=$traceurRuntime.spread(body.canvas.defs.querySelectorAll("pattern")),u=o.find(function(e){
return e.id===a.patternID});o[l]?o[l].parentElement.insertBefore(u,o[l]):body.canvas.defs.append(u);
}})},_onFilterInputInput:function(){var e=this["#filter-input"].value,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#items"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.hidden=("#"+o.patternID.toLowerCase()).includes(e.toLowerCase())===!1;
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updatePlaceholderVisibility()},_onKeyDown:function(e){var t=p.fromEvent(e);
t.matches("Backspace")?null!==this["#items"].querySelector(":focus")&&(e.preventDefault(),
e.stopPropagation(),this._maybeDeleteHighlightedItem()):t.matches("ArrowUp")?(e.preventDefault(),
e.stopPropagation(),this._focusPreviousItem()):t.matches("ArrowDown")&&(e.preventDefault(),
e.stopPropagation(),this._focusNextItem())},_update:function(){var e=this;if(this._updating)return void setTimeout(1e3,function(){
return e._update(callback)});this._updating=!0;var n=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
n=n.filter(function(e){return e.hasAttribute("href")===!1});var r=$traceurRuntime.spread(this["#items"].children),i=0;
if(r.length>n.length)for(var a=n.length;a<r.length;a+=1)r[a].remove();else r.length<n.length&&(this["#create-pattern-button"].disabled=!0,
this["#delete-pattern-button"].disabled=!0);var o=function(t){for(var r=$traceurRuntime.spread(e["#items"].children),a=e["#items"].querySelector("[highlighted]"),l=a?a.patternID:null,u=e["#filter-input"].value;t.timeRemaining()>10&&i<n.length;){
var c=n[i],d=r[i];d||(d=v("bx-patternslistitem"),e["#items"].append(d)),d.patternID=c.id,
d.hidden=("#"+d.patternID.toLowerCase()).includes(u.toLowerCase())===!1,d.highlighted=c.id===l,
i+=1}e._updatePlaceholderVisibility(),i<n.length?requestIdleCallback(o):(e._updateButtons(),
s())},s=function(){var n=body.canvas.extractArtwork(),r={},i=!0,a=!1,o=void 0;try{
for(var s=void 0,l=e["#items"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[u.patternID]=u}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}t(n,function(e,t){r[e]&&(r[e].thumbnail=t)},function(){e._updating=!1;
})};requestIdleCallback(o)},_updateButtons:function(){this["#create-pattern-button"].disabled=!1,
this["#delete-pattern-button"].disabled=null===this["#items"].querySelector("[highlighted]");
},_updatePlaceholderVisibility:function(){this["#placeholder"].hidden=null!==this["#items"].querySelector(":not([hidden])");
},_focusPreviousItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getPreviousVisibleItem(e);
t&&t.focus()},_focusNextItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getNextVisibleItem(e);
t&&t.focus()},_maybeDeleteHighlightedItem:function(){var e=this,t=this["#items"].querySelector("[highlighted]");
if(t){var n=t.patternID,r=function(){body.canvas.undoManager.checkpoint("Delete pattern"),
"pattern"===body.canvas.currentArtboard.contentType&&body.canvas.currentArtboard.id===n&&body.canvas.editPatternEnd(!1);
var r=e._getNextVisibleItem(t),i=e._getPreviousVisibleItem(t);r?r.focus():i?i.focus():e["#delete-pattern-button"].disabled=!0,
t.remove(),e._updatePlaceholderVisibility();var a=body.canvas.artboards.querySelector("#"+n);
a&&a.remove()};r()}},_assertItemsLength:function(e){var t=this["#items"].childElementCount;
if(e>t)for(var n=t;e>n;n+=1){var r=v("bx-patternslistitem");this["#items"].append(r);
}else if(t>e)for(var i=t-1;i>=e;i-=1)this["#items"].children[i].remove()},_getPreviousVisibleItem:function(e){
for(;e.previousElementSibling;){if(e.previousElementSibling.hidden===!1)return e.previousElementSibling;
e=e.previousElementSibling}return null},_getNextVisibleItem:function(e){for(;e.nextElementSibling;){
if(e.nextElementSibling.hidden===!1)return e.nextElementSibling;e=e.nextElementSibling;
}return null}},{},e)}(HTMLElement),w=f("bx-patternslist",_);return{get default(){
return w}}}),$traceurRuntime.registerModule("elements/bx-patternslistitem",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-patternslistitem"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternslistitem")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-patternslistitem"))["default"],i='\n  <style>@import url("stylesheets/bx-patternslistitem.css");</style>\n\n  <main>\n    <img id="thumbnail"></img>\n    <bx-input id="input" skin="bx-defscontrols"></bx-input>\n  </main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this.draggable=!0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("dragstart",function(t){
return e._onHostDragStart(t)}),this.addEventListener("dragend",function(t){return e._onHostDragEnd(t);
}),this.addEventListener("keydown",function(t){return e._onHostKeyDown(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocusIn(t)}),this["#input"].addEventListener("focusout",function(t){
return e._onInputFocusOut(t)}),this["#input"].addEventListener("keydown",function(t){
return e._onInputKeyDown(t)}),this["#input"].addEventListener("change",function(t){
return e._onInputChange(t)}),this["#input"].addEventListener("confirm",function(){
return e.focus()}),this["#input"].addEventListener("cancel",function(){return e.focus();
}),this["#input"].validate=function(t){return e._validateInputValue(t)}},attributeChangedCallback:function(e){
"patternid"===e&&this._onPatternIDAttributeChange()},get patternID(){return this.hasAttribute("patternid")?this.getAttribute("patternid"):null;
},set patternID(e){e?this.setAttribute("patternid",e):this.removeAttribute("patternid");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(e){null===e?this["#thumbnail"].src="":this["#thumbnail"].src=e;
},_onPatternIDAttributeChange:function(){null===this.patternID?this["#input"].value="":this["#input"].value="#"+this.patternID;
},_onShadowRootDblClick:function(e){e.target===this["#thumbnail"]?body.canvas.editPattern(this.patternID):this["#input"].matches(":focus")===!1&&this["#input"].focus();
},_onHostDragStart:function(e){this._dragImage=t("img"),this._dragImage.id="drag-image",
this._dragImage.src=this["#thumbnail"].src,this._dragImage.style.position="fixed",
this._dragImage.style.transform="translate(9999px, 9999px)",this._dragImage.width=38,
this._dragImage.height=38,this._shadowRoot.append(this._dragImage),e.dataTransfer.setData("text","#"+this.patternID),
e.dataTransfer.setData("bx-patternslistitem/patternID",this.patternID),e.dataTransfer.setDragImage(this._dragImage,this._dragImage.width/2,this._dragImage.height/2);
},_onHostDragEnd:function(e){this._dragImage.remove()},_onHostKeyDown:function(e){
var t=r.fromEvent(e);t.matches("Enter")&&(this["#input"].focus(),this["#input"].selectAll());
},_onInputFocusIn:function(){this["#input"].style.pointerEvents="auto",this["#input"].selectAll(),
this.draggable=!1,this.setAttribute("inputmode","")},_onInputFocusOut:function(e){
this["#input"].style.pointerEvents="none",this.draggable=!0,this.removeAttribute("inputmode");
},_onInputKeyDown:function(e){var t=r.fromEvent(e);(t.matches("Enter")||t.matches("Escape"))&&(e.stopPropagation(),
this.focus())},_onInputChange:function(){var e=this.patternID,t=this["#input"].value.substring(1);
this.dispatchEvent(new CustomEvent("rename",{bubbles:!0,detail:{oldID:e,newID:t}}));
},_validateInputValue:function(e){var t=/^#[a-z]+[a-z0-9\-_]*$/i.test(e);return t?e==="#"+this.patternID?!0:null===body.canvas.artboards.querySelector(e):!1;
}},{},e)}(HTMLElement),o=n("bx-patternslistitem",a);return{get default(){return o;
}}}),$traceurRuntime.registerModule("elements/bx-preferencesbody",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-preferencesbody"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-body","elements/bx-preferencesbody"))["default"];
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-shortcutseditor","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-colorselect","elements/bx-preferencesbody"));
var n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-preferencesbody")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-preferencesbody")).round,i='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-preferencesbody.css");</style>\n\n  <main id="main">\n    <div id="buttons">\n      <bx-button\n        id="general-button"\n        data-view="general"\n        icon="prefs-general"\n        iconsize="25"\n        skin="bx-preferences"\n        label="General">\n      </bx-button>\n\n      <bx-button\n        id="ui-button"\n        data-view="ui"\n        icon="prefs-ui"\n        iconsize="25"\n        skin="bx-preferences"\n        label="UI">\n      </bx-button>\n\n      <bx-button\n        id="markup-button"\n        data-view="markup"\n        icon="prefs-markup"\n        iconsize="25"\n        skin="bx-preferences"\n        label="Markup">\n      </bx-button>\n\n      <bx-button\n        id="shortcuts-button"\n        data-view="shortcuts"\n        icon="prefs-shortcuts"\n        iconsize="25"\n        skin="bx-preferences"\n        label="Shortcuts">\n      </bx-button>\n    </div>\n\n    <div id="views">\n      <div data-view="general" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-general" width="100" height="100"></use>\n          </svg>\n          <h1>General</h1>\n        </header>\n\n        <section>\n          <bx-checkbox\n            id="experimental-features-checkbox"\n            label="Enable experimental features">\n          </bx-checkbox>\n        </section>\n      </div>\n\n      <div data-view="ui" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-ui" width="100" height="100"></use>\n          </svg>\n          <h1>UI</h1>\n        </header>\n\n        <section>\n          <div class="item">\n            <label>Canvas background color</label>\n            <bx-colorselect id="canvas-background-color-select" value="#ffffff"></bx-colorselect>\n          </div>\n\n          <div class="item">\n            <label>View box outline color</label>\n            <bx-colorselect id="view-box-outline-color-select" value="rgba(0, 0, 0, 0.5)"></bx-colorselect>\n          </div>\n        </section>\n      </div>\n\n      <div data-view="markup" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-markup" width="100" height="100"></use>\n          </svg>\n          <h1>Markup</h1>\n        </header>\n\n        <section id="geometry-precision-section">\n          <label>Geometry precision</label>\n          <bx-slider id="geometry-precision-slider" value="3" min="0" max="6" precision="0" step="1"></bx-slider>\n        </section>\n\n        <section id="transform-precision-section">\n          <label>Transform precision</label>\n          <bx-slider id="transform-precision-slider" value="6" min="5" max="12" precision="0" step="1"></bx-slider>\n        </section>\n\n        <section id="indentation-section">\n          <label>Indentation</label>\n          <bx-slider id="indentation-slider" value="2" min="0" max="10" precision="0" step="1" after=" space(s)"></bx-slider>\n        </section>\n      </div>\n\n      <div data-view="shortcuts" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-shortcuts" width="100" height="100"></use>\n          </svg>\n          <h1>Shortcuts</h1>\n        </header>\n\n        <section>\n          <bx-shortcutseditor></bx-shortcutseditor>\n        </section>\n      </div>\n    </div>\n  </main>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;$traceurRuntime.superGet(this,n.prototype,"createdCallback").call(this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var t=!0,r=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){r=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(r)throw a}}this.bridge.postMessage("getBackendName",null,function(t){
"electron"===t&&e["#main"].setAttribute("data-extra-whitespace","")}),this.getConfig("bx-preferences:currentView").then(function(t){
e._toggleView(t||"general")}),this.getConfig("bx-preferences:experimentalFeatures").then(function(t){
t===!0&&e["#experimental-features-checkbox"].setAttribute("checked","")}),this.getConfig("bx-preferences:geometryPrecision").then(function(t){
null!==t&&(e["#geometry-precision-slider"].value=t)}),this.getConfig("bx-preferences:transformPrecision").then(function(t){
null!==t&&(e["#transform-precision-slider"].value=t)}),this.getConfig("bx-preferences:indentation").then(function(t){
null!==t&&(e["#indentation-slider"].value=t)}),this.getConfig("bx-preferences:canvasBackgroundColor").then(function(t){
e["#canvas-background-color-select"].value=null===t?"#ffffff":t}),this.getConfig("bx-preferences:viewBoxOutlineColor").then(function(t){
e["#view-box-outline-color-select"].value=null===t?"rgba(0, 0, 0, 0.5)":t}),this["#canvas-background-color-select"].addEventListener("changeend",function(){
e.setConfig("bx-preferences:canvasBackgroundColor",e["#canvas-background-color-select"].value);
}),this["#view-box-outline-color-select"].addEventListener("changeend",function(){
e.setConfig("bx-preferences:viewBoxOutlineColor",e["#view-box-outline-color-select"].value);
}),this["#buttons"].addEventListener("click",function(t){e._onButtonsClick(t)}),this["#experimental-features-checkbox"].addEventListener("change",function(){
e._onExperimentalFeaturesCheckboxChange()}),this["#geometry-precision-slider"].addEventListener("change",function(){
e._onGeometryPrecisionSliderChange()}),this["#transform-precision-slider"].addEventListener("change",function(){
e._onTransformPrecisionSliderChange()}),this["#indentation-slider"].addEventListener("change",function(){
e._onIndentationSliderChange()})},_onKeyDown:function(t){if($traceurRuntime.superGet(this,n.prototype,"_onKeyDown").call(this,t),
"chrome"===this._backendName){var r=e.fromEvent(t);r.matches("Control","C")?this.execCommand("copy"):r.matches("Control","V")?this.execCommand("paste"):r.matches("Control","X")?this.execCommand("cut"):r.matches("Control","A")?this.execCommand("selectAll"):r.matches("Control","Z")?this.execCommand("undo"):r.matches("Control","Shift","Z")&&this.execCommand("redo");
}},_onButtonsClick:function(e){"bx-button"===e.target.localName&&0===e.button&&this._toggleView(e.target.dataset.view);
},_onExperimentalFeaturesCheckboxChange:function(){this.setConfig("bx-preferences:experimentalFeatures",this["#experimental-features-checkbox"].checked);
},_onGeometryPrecisionSliderChange:function(){var e=this["#geometry-precision-slider"].value;
e%1!==0&&(e=r(e,0),this["#geometry-precision-slider"].value=e),this.setConfig("bx-preferences:geometryPrecision",e);
},_onTransformPrecisionSliderChange:function(){var e=this["#transform-precision-slider"].value;
e%1!==0&&(e=r(e,0),this["#transform-precision-slider"].value=e),this.setConfig("bx-preferences:transformPrecision",e);
},_onIndentationSliderChange:function(){var e=this["#indentation-slider"].value;e%1!==0&&(e=r(e,0),
this["#indentation-slider"].value=e),this.setConfig("bx-preferences:indentation",e);
},_toggleView:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#views"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.dataset.view===e?o.hidden=!1:o.hidden=!0}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this["#buttons"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;v.dataset.view===e?v.pressed=!0:v.pressed=!1}}catch(f){u=!0,c=f}finally{
try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this.setConfig("bx-preferences:currentView",e);
}},{},t)}(t),o=n("body","bx-preferencesbody",a);return{get default(){return o}}}),
$traceurRuntime.registerModule("elements/bx-quadbeziertool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-quadbeziertool")).registerElement,t=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-quad-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-quad-segs-hud");
}},{},e)}(HTMLElement),n=e("bx-quadbeziertool",t);return{get default(){return n}};
}),$traceurRuntime.registerModule("elements/bx-quadsegsdrawhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-quadsegsdrawhud"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-quadsegsdrawhud"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-quadsegsdrawhud"))["default"],r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-quadsegsdrawhud")),i=r.createElement,a=r.registerElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-quadsegsdrawhud")).round,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-quadsegsdrawhud")).reversePath,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-quadsegsdrawhud")).getTransformToElement,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-quadsegsdrawhud")).reduceTransform;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-quadsegsketch","elements/bx-quadsegsdrawhud"));
var c=10,d=new e("path"),h='\n  <style>@import url("stylesheets/bx-quadsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-quadsegsketch"></g>\n',v=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=h;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var v=c.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._mode="select",this._currentPath=null,window.addEventListener("keydown",this._keyDownListener=function(t){
e._onKeyDown(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),this["#node-grippies"].addEventListener("mousedown",this._nodeGrippiesMouseDownListener=function(t){
e._onNodeGrippieMouseDown(t)}),this._onSelectedElementsChange()},_onDisabled:function(){
window.removeEventListener("keydown",this._keyDownListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
this["#node-grippies"].removeEventListener("mousedown",this._nodeGrippiesMouseDownListener),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(e){var t=e.detail;if("childList"===t.type){var n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t.removedNodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;(s===this._currentPath||s.contains(this._currentPath))&&(this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies())}}catch(l){
r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}}else(t.target===this._currentPath||t.target.contains(this._currentPath))&&this._updateNodeGrippies();
},_onArtboardMouseDown:function(e){var t,r,i=this,a=new SVGPoint(e.clientX,e.clientY),o=0;
window.addEventListener("mousemove",t=function(e){var t=new SVGPoint(e.clientX,e.clientY),r=new n(a,t).length;
r>o&&(o=r)}),window.addEventListener("mouseup",r=function(n){window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",r),i._onArtboardClick(e,n),4>o&&i._onArtboardDirectClick(e,n);
})},_onArtboardClick:function(e){var t,n;if("draw-forward"===this._mode){var r=this._currentPath.getPathData({
normalize:!0}),i=[],a=body.canvas.geometryPrecision;r.length>1&&body.canvas.undoManager.checkpoint("Draw path segment"),
(t=i).push.apply(t,$traceurRuntime.spread(r)),this["#seg-sketch"].curved?i.push({
type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):i.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
});var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.values=h.values.map(function(e){return o(e,a)})}}catch(v){l=!0,u=v;
}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._currentPath.setPathData(i);
}else if("draw-backward"===this._mode){body.canvas.undoManager.checkpoint("Draw path segment");
var f=this._currentPath.getPathData({normalize:!0}),m=[],b=body.canvas.geometryPrecision;
m.push({type:"M",values:[this["#seg-sketch"].startPoint.x,this["#seg-sketch"].startPoint.y]
}),this["#seg-sketch"].curved?m.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):m.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),(n=m).push.apply(n,$traceurRuntime.spread(f.slice(1)));var g=!0,p=!1,y=void 0;try{
for(var x=void 0,_=m[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){var w=x.value;
w.values=w.values.map(function(e){return o(e,b)})}}catch(S){p=!0,y=S}finally{try{
g||null==_["return"]||_["return"]()}finally{if(p)throw y}}this._currentPath.setPathData(m);
}},_onArtboardDirectClick:function(e){var t=e,n=t.clientX,r=t.clientY;if("select"===this._mode){
body.canvas.undoManager.checkpoint("Draw path segment");var a=i("svg:path");a.style.stroke="black",
a.style.fill="none";var s=body.canvas.currentContainer||body.canvas.currentArtboard;
s.append(a);var l=a.getScreenCTM().inverse(),u=body.canvas.geometryPrecision,c=new SVGPoint(n,r).matrixTransform(l),d=c.x,h=c.y,v=[{
type:"M",values:[d,h]}],f=!0,m=!1,b=void 0;try{for(var g=void 0,p=v[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){
var y=g.value;y.values=y.values.map(function(e){return o(e,u)})}}catch(x){m=!0,b=x;
}finally{try{f||null==p["return"]||p["return"]()}finally{if(m)throw b}}a.setPathData(v),
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[a]),
this._mode="draw-forward",this._currentPath=a,this["#seg-sketch"].show(a,"end")}},
_onNodeGrippieMouseDown:function(e){var t,n,r=this,i=e.target;this["#node-grippies"].addEventListener("mouseup",t=function(e){
r["#node-grippies"].removeEventListener("mouseup",t),window.removeEventListener("mouseup",n);
var a=e.target,o=r._onNodeGrippieClick(i,e);i!==a||o||r._onNodeGrippieDirectClick(i,e);
}),window.addEventListener("mouseup",n=function(e){r["#node-grippies"].removeEventListener("mouseup",t),
window.removeEventListener("mouseup",n),r._onNodeGrippieClick(i,e)})},_onNodeGrippieClick:function(e,t){
var n,r,i,a,c;if("select"===this._mode)return!1;if(e[d.path]===this._currentPath){
var h=e.getAttribute("data-position"),v=this._currentPath,f=v.getPathData({normalize:!0
}),m=f[0],b=f[f.length-1],g=body.canvas.geometryPrecision;if("draw-forward"===this._mode&&"start"===h){
body.canvas.undoManager.checkpoint("Draw path segment");var p=$traceurRuntime.spread(f);
this["#seg-sketch"].curved?p.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,m.values[0],m.values[1]]
}):p.push({type:"L",values:[m.values[0],m.values[1]]}),p.push({type:"Z",values:[]
});var y=!0,x=!1,_=void 0;try{for(var w=void 0,S=p[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var M=w.value;M.values=M.values.map(function(e){return o(e,g)})}}catch(C){x=!0,_=C;
}finally{try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}v.setPathData(p),
this._updateNodeGrippies()}else if("draw-backward"===this._mode&&"end"===h){body.canvas.undoManager.checkpoint("Draw path segment");
var R=[];R.push({type:"M",values:["C"===b.type?b.values[4]:b.values[0],"C"===b.type?b.values[5]:b.values[1]]
}),this["#seg-sketch"].curved?R.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,m.values[0],m.values[1]]
}):R.push({type:"L",values:[m.values[0],m.values[1]]}),(n=R).push.apply(n,$traceurRuntime.spread(f.slice(1))),
R.push({type:"Z",values:[]});var k=!0,E=!1,A=void 0;try{for(var P=void 0,T=R[Symbol.iterator]();!(k=(P=T.next()).done);k=!0){
var L=P.value;L.values=L.values.map(function(e){return o(e,g)})}}catch($){E=!0,A=$;
}finally{try{k||null==T["return"]||T["return"]()}finally{if(E)throw A}}v.setPathData(R),
this._updateNodeGrippies()}return this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0}var j=e.getAttribute("data-position"),N=this._currentPath,O=e[d.path],V=N.getPathData({
normalize:!0});V.length>1&&body.canvas.undoManager.checkpoint("Draw path segment");
var z=l(O,N);if(O.setAttribute("transform",z.toString()),u(O,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preservePathRotation:!1}),"draw-forward"===this._mode){
"end"===j&&s(O);var D=[],G=O.getPathData({normalize:!0});(r=D).push.apply(r,$traceurRuntime.spread(V)),
this["#seg-sketch"].curved?D.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,G[0].values[0],G[0].values[1]]
}):D.push({type:"L",values:[G[0].values[0],G[0].values[1]]}),(i=D).push.apply(i,$traceurRuntime.spread(G.slice(1)));
var I=!0,B=!1,U=void 0;try{for(var H=void 0,F=D[Symbol.iterator]();!(I=(H=F.next()).done);I=!0){
var q=H.value;q.values=q.values.map(function(e){return o(e,g)})}}catch(W){B=!0,U=W;
}finally{try{I||null==F["return"]||F["return"]()}finally{if(B)throw U}}N.setPathData(D),
O.setPathData([]),O.remove()}else if("draw-backward"===this._mode){"start"===j&&s(O);
var Y=O.getPathData({normalize:!0}),X=[];(a=X).push.apply(a,$traceurRuntime.spread(Y)),
this["#seg-sketch"].curved?X.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,V[0].values[0],V[0].values[1]]
}):X.push({type:"L",values:[V[0].values[0],V[0].values[1]]}),(c=X).push.apply(c,$traceurRuntime.spread(V.slice(1)));
var Z=!0,K=!1,J=void 0;try{for(var Q=void 0,ee=X[Symbol.iterator]();!(Z=(Q=ee.next()).done);Z=!0){
var te=Q.value;te.values=te.values.map(function(e){return o(e,g)})}}catch(ne){K=!0,
J=ne}finally{try{Z||null==ee["return"]||ee["return"]()}finally{if(K)throw J}}N.setPathData(X),
O.setPathData([]),O.remove()}return body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==O}),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0},_onNodeGrippieDirectClick:function(e,t){if("select"===this._mode){this._currentPath=e[d.path];
var n=e.getAttribute("data-position");"start"===n?(this._mode="draw-backward",this["#seg-sketch"].show(e[d.path],"start")):(this._mode="draw-forward",
this["#seg-sketch"].show(e[d.path],"end"))}},_onKeyDown:function(e){if("draw-forward"===this._mode||"draw-backward"===this._mode){
var n=t.fromEvent(e);if(n.matches("Enter")||n.matches("Escape"))e.stopPropagation(),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies();else if(n.matches("Shift","Enter")){
e.stopPropagation();var r={type:"Z",values:[]},i=this._currentPath.getPathData();i.push(r),
this._currentPath.setPathData(i),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
this._updateNodeGrippies()}}},_updateNodeGrippies:function(){this["#node-grippies"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._getSelectedPaths()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value,s=o.getPathData({normalize:!0}),u=void 0,c=void 0;0===s.length?(u=null,
c=null):1===s.length?(u=s[0],c=null):s.length>1&&(u=s[0],c=s[s.length-1]);var h=l(o,this),v=c&&"Z"===c.type;
if(u&&!v){var f=new SVGPoint(u.values[0],u.values[1]).matrixTransform(h),m=i("svg:ellipse");
m.setAttribute("class","node-grippie"),m.setAttribute("cx",f.x),m.setAttribute("cy",f.y),
m.setAttribute("data-position","start"),m[d.path]=o,this["#node-grippies"].append(m);
}if(c&&!v){var b=void 0;"M"===c.type||"L"===c.type?b=new SVGPoint(c.values[0],c.values[1]).matrixTransform(h):"C"===c.type&&(b=new SVGPoint(c.values[4],c.values[5]).matrixTransform(h));
var g=i("svg:ellipse");g.setAttribute("class","node-grippie"),g.setAttribute("cx",b.x),
g.setAttribute("cy",b.y),g.setAttribute("data-position","end"),g[d.path]=o,this["#node-grippies"].append(g);
}}}catch(p){t=!0,n=p}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=c/2/body.canvas.scale,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.setAttribute("rx",e),o.setAttribute("ry",e)}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("data-bx-shape")===!1?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),f=a("g","bx-quadsegsdrawhud",v);return{get default(){
return f}}}),$traceurRuntime.registerModule("elements/bx-quadsegsketch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-quadsegsketch")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-quadsegsketch")),n=t.getPointBetweenTwoPoints,r=t.getNearestPointOnLine,i=t.snapPointToAngleMultiple,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-quadsegsketch")).getTransformToElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-quadsegsketch"))["default"],s=(Object.freeze,
'\n  <style>@import url("stylesheets/bx-quadsegsketch.css");</style>\n  <path id="outline" d="M 0 0 Q 0 0 0 0"></path>\n  <line id="control-line-1"></line>\n  <line id="control-line-2"></line>\n  <circle id="control-point-grippie"></circle>\n'),l=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._path=null,this._position="end",this._snap="none",
this._hasListeners=!1,this._clientX=null,this._clientY=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}},get startPoint(){return this._startPoint},get endPoint(){
return this._endPoint},get controlPoint(){return this._controlPoint},get curved(){
var e=n(this._startPoint,this._endPoint);return this._controlPoint.x!==e.x||this._controlPoint.y!==e.y;
},show:function(e){var t=void 0!==arguments[1]?arguments[1]:"end";this._position=t,
this._path=e,this._snap="none",this.style.visibility="visible",this._hasListeners===!1&&this._addListeners(),
this._updateSegProperties(),this._updateSnapProperty(),this._updatePointProperties(),
this._updateOutlines()},hide:function(){this._path=null,this._clientX=null,this._clientY=null,
this.style.visibility="hidden",this._hasListeners===!0&&this._removeListeners()},
_addListeners:function(){var e=this;this._hasListeners=!0,this._mouseDown=!1,body.addEventListener("modkeyschange",this._modKeysChangeListener=function(){
e._mouseDown===!1&&(e._updateSnapProperty(),e._updatePointProperties(),e._updateOutlines());
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
var n,r,a,o,s=e._path.getScreenCTM().inverse();if(e._mouseDown=!0,e._mouseDownPoint=new SVGPoint(t.clientX,t.clientY),
e._mouseDownPoint=e._mouseDownPoint.matrixTransform(s),e._mouseDownControlPoint=SVGPoint.fromPoint(e._controlPoint),
"end"===e._position)if("paraxialPolygon"===e._snap){var l=(n=i(e._startPoint,e._endPoint,45)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value);e._endPoint=l}else e._endPoint=SVGPoint.fromPoint(e._mouseDownPoint);else if("start"===e._position)if("paraxialPolygon"===e._snap){
var u=(a=i(e._startPoint,e._endPoint,45)[Symbol.iterator](),(o=a.next()).done?void 0:o.value);
e._endPoint=u}else e._endPoint=new SVGPoint(e._firstSeg.values[0],e._firstSeg.values[1]);
}),window.addEventListener("mousemove",this._mouseMoveListener=function(t){e._clientX=t.clientX,
e._clientY=t.clientY,e._updatePointProperties(),e._updateOutlines()}),window.addEventListener("mouseup",this._mouseUpListener=function(t){
e._mouseDown=!1,e._updateSnapProperty()})},_removeListeners:function(){this._hasListeners=!1,
body.removeEventListener("modkeyschange",this._modKeysChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("mousedown",this._mouseDownListener),window.removeEventListener("mousemove",this._mouseMoveListener),
window.removeEventListener("mouseup",this._mouseUpListener)},_onArtboardMutation:function(e){
var t=e.detail;(t.target===this._path||t.target.contains(this._path))&&this._path.hasAttribute("d")&&(this._updateSegProperties(),
this._updateSnapProperty(),this._updatePointProperties(),this._updateOutlines())},
_updateSegProperties:function(){if("end"===this._position){var e=this._path.getPathData({
normalize:!0}),t=e[e.length-1];this._lastSeg=t;for(var n=e.length-1;n>=0;n-=1){var r=e[n];
if("Z"!==r.type){this._lastNonZSeg=r;break}}"C"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[2],t.values[3]):"M"===t.type||"L"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[0],t.values[1]):this._lastSegControlPoint=null,
"C"===this._lastSeg.type?this._lastSegIsSmooth=t.values[2]!==t.values[4]||t.values[3]!==t.values[5]:this._lastSegIsSmooth=!1;
}else if("start"===this._position){var i=this._path.getPathData({normalize:!0}),a=i[0],o=i[1];
this._firstSeg=a,"C"===o.type?this._secondSegControlPoint=new SVGPoint(o.values[0],o.values[1]):"M"===o.type||"L"===o.type?this._secondSegControlPoint=new SVGPoint(a.values[0],a.values[1]):this._secondSegControlPoint=null,
"C"===o.type?this._secondSegIsSmooth=o.values[0]!==this._firstSeg.values[0]&&o.values[1]!==this._firstSeg.values[1]:this._secondSegIsSmooth=!1;
}},_updatePointProperties:function(){var e,t,a,s,l,u,c,d;if(this._mouseDown===!1){
var h=this._path.getScreenCTM().inverse();if("end"===this._position?("L"===this._lastNonZSeg.type||"M"===this._lastNonZSeg.type?this._startPoint=new SVGPoint(this._lastNonZSeg.values[0],this._lastNonZSeg.values[1]):"C"===this._lastNonZSeg.type&&(this._startPoint=new SVGPoint(this._lastNonZSeg.values[4],this._lastNonZSeg.values[5])),
null===this._clientX?this._endPoint=SVGPoint.fromPoint(this._startPoint):this._endPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(h)):"start"===this._position&&(null===this._clientX?this._startPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1]):this._startPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(h),
this._endPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1])),"none"===this._snap){
var v,f=new o(this._startPoint,this._endPoint);"end"===this._position?v=new o(this._startPoint,this._lastSegControlPoint):"start"===this._position&&(v=new o(this._endPoint,this._secondSegControlPoint)),
v=v.negate().scale(f.length/2),"end"===this._position?this._controlPoint=new SVGPoint(this._startPoint.x+v.x,this._startPoint.y+v.y):"start"===this._position&&(this._controlPoint=new SVGPoint(this._endPoint.x+v.x,this._endPoint.y+v.y));
}else if("polygon"===this._snap)this._controlPoint=n(this._startPoint,this._endPoint);else if("paraxialPolygon"===this._snap){
if("end"===this._position){var m=(e=i(this._startPoint,this._endPoint,45)[Symbol.iterator](),
(t=e.next()).done?void 0:t.value);this._endPoint=m}else if("start"===this._position){
var b=(a=i(this._endPoint,this._startPoint,45)[Symbol.iterator](),(s=a.next()).done?void 0:s.value);
this._startPoint=b}this._controlPoint=n(this._startPoint,this._endPoint)}}else if(this._mouseDown===!0){
var g=this._path.getScreenCTM().inverse(),p=new SVGPoint(this._clientX,this._clientY);
p=p.matrixTransform(g);var y=new o(this._mouseDownPoint,p);if(this._controlPoint=new SVGPoint(this._mouseDownControlPoint.x-y.x,this._mouseDownControlPoint.y-y.y),
"none"===this._snap)if("end"===this._position){var x=r(this._lastSegControlPoint,this._startPoint,this._controlPoint,!0),_=(l=x[Symbol.iterator](),
(u=l.next()).done?void 0:u.value),w=(u=l.next()).done?void 0:u.value;1>w?this._controlPoint=SVGPoint.fromPoint(this._startPoint):this._controlPoint=_;
}else if("start"===this._position){var S=r(this._secondSegControlPoint,this._endPoint,this._controlPoint,!0),M=(c=S[Symbol.iterator](),
(d=c.next()).done?void 0:d.value),C=(d=c.next()).done?void 0:d.value;1>C?this._controlPoint=SVGPoint.fromPoint(this._endPoint):this._controlPoint=M;
}}},_updateSnapProperty:function(){var e=body.modKeys,t=e.ctrl,n=(e.alt,e.shift);t&&!n?this._snap="polygon":t&&n?this._snap="paraxialPolygon":this._snap="none",
"end"===this._position?this._lastSegIsSmooth||"none"!==this._snap||(this._snap="polygon"):"start"===this._position&&(this._secondSegIsSmooth||"none"!==this._snap||(this._snap="polygon"));
},_updateOutlines:function(){var e=a(this._path,this),t=this._startPoint.matrixTransform(e),n=this._endPoint.matrixTransform(e),r=this._controlPoint.matrixTransform(e),i=3/body.canvas.scale,o=[{
type:"M",values:[t.x,t.y]},{type:"Q",values:[r.x,r.y,n.x,n.y]}];this["#outline"].setPathData(o),
this["#control-point-grippie"].cx.baseVal.value=r.x,this["#control-point-grippie"].cy.baseVal.value=r.y,
this["#control-point-grippie"].r.baseVal.value=i,this["#control-line-1"].x1.baseVal.value=t.x,
this["#control-line-1"].y1.baseVal.value=t.y,this["#control-line-1"].x2.baseVal.value=r.x,
this["#control-line-1"].y2.baseVal.value=r.y,this["#control-line-2"].x1.baseVal.value=n.x,
this["#control-line-2"].y1.baseVal.value=n.y,this["#control-line-2"].x2.baseVal.value=r.x,
this["#control-line-2"].y2.baseVal.value=r.y}},{},e)}(SVGGElement),u=e("g","bx-quadsegsketch",l);
return{get default(){return u}}}),$traceurRuntime.registerModule("elements/bx-radialgradienthud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-radialgradienthud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-radialgradienthud")),n=t.createElement,r=t.registerElement,i=t.queryGraphicsElements,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-radialgradienthud")).isMouseMoveIntentional,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/gradient","elements/bx-radialgradienthud")).getGradientColorAtOffset,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-radialgradienthud")).normalize,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-radialgradienthud")),u=(l.compareMatrixes,
l.roundMatrix),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-radialgradienthud")),d=(c.sin,
c.cos,c.round),h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-radialgradienthud")),v=h.getPaintType,f=h.getPaintServer,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-radialgradienthud")).queryStylableElements,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-radialgradienthud")).throttle,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-radialgradienthud")),p=(g.comparePoints,
g.getPointAtFraction),y=g.getNearestPointOnLine,x=g.getDistanceBetweenPoints,_=g.getRotationAngleFromPoints,w=g.snapPointToAngle,S=g.snapPointToAngleMultiple,M=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-radialgradienthud")),C=M.getTransformFromPoints,R=M.getTransformToElement,k=M.bboxPointToUserPoint,E=M.userPointToBBoxPoint,A=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/decomposed-transform","elements/bx-radialgradienthud"))["default"],P=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-radialgradienthud"))["default"],T=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-radialgradienthud"))["default"],L=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-radialgradienthud"))["default"],$=(Object.keys,
new P("gradient","gradientUser","stop")),j=SVGUnitTypes,N=j.SVG_UNIT_TYPE_USERSPACEONUSE,O=j.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,V=6,z='\n  <style>@import url("stylesheets/bx-radialgradienthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',D=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={selectAll:{enabled:function(){
return!0},exec:function(){return e._selectAllStops()}},deselectAll:{enabled:function(){
return!0},exec:function(){return e._deselectAllStops()}}},this.tabIndex=-1,this._selectedStops=[],
this._draggedGrippie=null,this._draggedSlider=null,this._updateAll200Th=b(this._updateAll,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=z;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("keydown",function(t){
return e._onShadowRootKeyDown(t)}),this._shadowRoot.addEventListener("mousedown",function(t){
return e._onShadowRootMouseDown(t)}),this._shadowRoot.addEventListener("mouseup",function(t){
return e._onShadowRootMouseUp(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},get selectedStops(){return $traceurRuntime.spread(this._selectedStops)},_onEnabled:function(){
var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.artboards.addEventListener("mousedown",this._artboardMouseDownListener=function(t){
e._onArtboardMouseDown(t)}),body.canvas.huds.addEventListener("mousedown",this._hudsMouseDownListener=function(t){
e._onHudsMouseDown(t)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._onUndoOrRedo()})},_onDisabled:function(){this._selectStops([]),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("mousedown",this._artboardMouseDownListener),
body.canvas.huds.removeEventListener("mousedown",this._hudsMouseDownListener),body.canvas.undoManager.removeEventListener("undo",this._undoListener),
body.canvas.undoManager.removeEventListener("redo",this._redoListener)},_onSelectedElementsChange:function(){
this._updateAll200Th()},_onSelectedTextRangeChange:function(){this._updateAll200Th();
},_onArtboardMutation:function(e){this._draggedGrippie?this._updatePositions(this._draggedGrippie.closest(".subhud")):this._draggedSlider?this._updatePositions(this._draggedSlider.parentElement):"style"===e.attributeName&&"stop"===e.target.localName?this._updateGrippiesColor():this._updateAll200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onUndoOrRedo:function(){this._selectStops([]);
},_onArtboardMouseDown:function(e){0===e.button&&e.target!==this&&this._selectStops([]);
},_onHudsMouseDown:function(e){0===e.button&&e.target!==this&&this._selectStops([]);
},_onShadowRootMouseDown:function(e){var t=this;if(0===e.button){e.target.classList.contains("slider")?this._onSliderMouseDown(e):e.target.classList.contains("stop-grippie")?this._onStopGrippieMouseDown(e):e.target.classList.contains("r2-grippie")&&this._onRadiusGrippieOrSliderEdgeMouseDown(e,"r2");
var n,r;this._mouseMovedAfterMouseDown=!1,this._mouseDownTimeStamp=e.timeStamp,window.addEventListener("mousemove",n=function(){
t._mouseMovedAfterMouseDown=!0}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mouseup",r),
window.removeEventListener("mousemove",n)})}},_onShadowRootMouseUp:function(e){e.target.classList.contains("stop-grippie")&&this._onStopGrippieMouseUp(e);
},_onShadowRootDblClick:function(e){e.timeStamp-this._mouseDownTimeStamp<100&&e.target.classList.contains("slider")&&this._onSliderDblClick(e);
},_onStopGrippieMouseDown:function(e){var t=e.target,n=t[$.stop],r=n.closest("radialGradient"),i=this._selectedStops.filter(function(e){
return e.closest("radialGradient")===r}),a=function(){var e=0,t=[],n=!0,i=!1,a=void 0;
try{for(var o=void 0,s=r.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;"stop"===l.localName&&(t[e++]=l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}(),o=a[0],s=a[a.length-1],l=body.modKeys,u=l.alt,c=l.shift;
this._mouseDownSelectedStops=$traceurRuntime.spread(i),c===!1?i.includes(n)===!1&&this._selectStops([n]):c===!0&&i.includes(n)===!1&&(i.push(n),
this._selectStops(i)),n===o&&0===n.offset.baseVal&&u===!1?this._onCenterGrippieOrSliderBodyMouseDown(e):n===s&&1===n.offset.baseVal&&u===!1?this._onRadiusGrippieOrSliderEdgeMouseDown(e,"r1"):this._onDraggableStopGrippieMouseDown(e);
},_onStopGrippieMouseUp:function(e){if(!this._mouseMovedAfterMouseDown){var t=e.target,n=this._mouseDownSelectedStops,r=t[$.stop],a=t.closest(".subhud"),o=a[$.gradientUser],s=body.modKeys.shift,l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=body.canvas.selectedElements[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if("g"!==f.localName&&"a"!==f.localName||!f.contains(o))l.push(f);else{
var m=!0,b=!1,g=void 0;try{for(var p=void 0,y=i($traceurRuntime.spread(f.children))[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var x=p.value;l.unshift(x)}}catch(_){b=!0,g=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}}}}catch(w){c=!0,d=w}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}l.remove(o),l.unshift(o),body.canvas.selectedElements=l;for(var S=o.parentElement;S!==body.canvas.currentArtboard;S=S.parentElement)if("g"===S.localName||"a"===S.localName){
body.canvas.currentContainer=S;break}s===!0&&this._mouseDownSelectedStops.includes(r)===!0&&(n.remove(r),
this._selectStops([n]))}},_onDraggableStopGrippieMouseDown:function(e){var t,n,r,i,a=this,o=e.target,s=o.closest(".subhud"),l=s.querySelector(".slider"),u=this._getMoveOffsetsForSelectedStops(),c=this.getScreenCTM(),h=c.inverse(),v=new SVGPoint(l.x1.baseVal.value,l.y1.baseVal.value),f=new SVGPoint(l.x2.baseVal.value,l.y2.baseVal.value),m=new SVGPoint(o.cx.baseVal.value,o.cy.baseVal.value),b=m.matrixTransform(c),g=(t=y(v,f,m,!1)[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),p=x(v,g)/x(v,f),_=!1;this._draggedGrippie=o,window.addEventListener("mousemove",r=function(t){
var n,r;_===!1&&(body.canvas.undoManager.checkpoint("Move gradient stop"),_=!0);var i=new SVGPoint(b.x+t.clientX-e.clientX,b.y+t.clientY-e.clientY),o=i.matrixTransform(h),s=(n=y(v,f,o,!1)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),l=x(v,s)/x(v,f),c=l-p,m=!0,g=!1,w=void 0;try{for(var S=void 0,M=a._selectedStops[Symbol.iterator]();!(m=(S=M.next()).done);m=!0){
var C=S.value,R=u.get(C),k=R.minOffset,E=R.maxOffset,A=R.initialOffset;k>A+c?C.setAttribute("offset",d(k,body.canvas.geometryPrecision)):A+c>E?C.setAttribute("offset",d(E,body.canvas.geometryPrecision)):C.setAttribute("offset",d(A+c,body.canvas.geometryPrecision));
}}catch(P){g=!0,w=P}finally{try{m||null==M["return"]||M["return"]()}finally{if(g)throw w;
}}}),window.addEventListener("mouseup",i=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i),a._draggedGrippie=null})},_onRadiusGrippieOrSliderEdgeMouseDown:function(t){
var n,r,i,o,s,l,c,d,h=void 0!==arguments[1]?arguments[1]:"r1",v=this,f=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e.contains(t.target)}),m=f[$.gradient],b=f[$.gradientUser],g=e(b),p=b.getScreenCTM(),y=p.inverse(),x=A.fromSVGMatrix(p),M=SVGMatrix.fromMatrix(m.gradientTransform.baseVal.consolidate().matrix),R=!1,P=!1;
t.target.matches(".grippie")?this._draggedGrippie=t.target:t.target.matches(".slider")&&(this._draggedSlider=t.target);
var T=function(){if(m.gradientUnits.baseVal===N){i=new SVGPoint(m.cx.baseVal.value,m.cy.baseVal.value),
o=new SVGPoint(m.cx.baseVal.value+m.r.baseVal.value,m.cy.baseVal.value),s=new SVGPoint(m.cx.baseVal.value,m.cy.baseVal.value-m.r.baseVal.value);
var e=i.matrixTransform(M),t=o.matrixTransform(M),n=s.matrixTransform(M);l=e.matrixTransform(p),
c=t.matrixTransform(p),d=n.matrixTransform(p)}else if(m.gradientUnits.baseVal===O){
i=new SVGPoint(m.cx.baseVal.valueInSpecifiedUnits,m.cy.baseVal.valueInSpecifiedUnits),
o=new SVGPoint(m.cx.baseVal.valueInSpecifiedUnits+m.r.baseVal.valueInSpecifiedUnits,m.cy.baseVal.valueInSpecifiedUnits),
s=new SVGPoint(m.cx.baseVal.valueInSpecifiedUnits,m.cy.baseVal.valueInSpecifiedUnits-m.r.baseVal.valueInSpecifiedUnits);
var r=i.matrixTransform(M),a=o.matrixTransform(M),u=s.matrixTransform(M),h=k(r,g),v=k(a,g),f=k(u,g);
l=h.matrixTransform(p),c=v.matrixTransform(p),d=f.matrixTransform(p)}};window.addEventListener("mousemove",n=function(e){
var n,r,v,f;if(R===!1){if(!a(t,e,5))return;R=!0,body.canvas.undoManager.checkpoint("Transform gradient"),
T()}var b,p,k=body.modKeys,A=k.ctrl,$=k.shift;"r1"===h?(b=new SVGPoint(e.clientX+(c.x-t.clientX),e.clientY+(c.y-t.clientY)),
p=_(l,c,b)):"r2"===h&&(b=new SVGPoint(e.clientX+(d.x-t.clientX),e.clientY+(d.y-t.clientY)),
p=_(l,d,b));var j=(new SVGMatrix).rotate(p,l.x,l.y),V=l.matrixTransform(j),z=c.matrixTransform(j),D=d.matrixTransform(j),G=new L(V,z),I=new L(V,D),B=new L(V,b);
if("r1"===h){if(G.length=B.length,z.x=V.x+G.x,z.y=V.y+G.y,A){var U=new L(V,d);I.length=B.length,
U.length=B.length,D.x=V.x+I.x,D.y=V.y+I.y,d.x=V.x+U.x,d.y=V.y+U.y}if($){var H=S(V,z,22.5),F=(n=H[Symbol.iterator](),
(r=n.next()).done?void 0:r.value);(r=n.next()).done?void 0:r.value;z=F,P=!0}if(P){
var q=new SVGPoint(l.x,l.y-100),W=_(l,q,z);D=x.scaleX<0&&x.scaleY<0?w(V,D,W+90):w(V,D,W-90);
}}else if("r2"===h){if(I.length=B.length,D.x=V.x+I.x,D.y=V.y+I.y,A){var Y=new L(V,c);
G.length=B.length,Y.length=B.length,z.x=V.x+G.x,z.y=V.y+G.y,c.x=V.x+Y.x,c.y=V.y+Y.y;
}if($){var X=S(V,D,22.5),Z=(v=X[Symbol.iterator](),(f=v.next()).done?void 0:f.value);
(f=v.next()).done?void 0:f.value;D=Z,P=!0}if(P){var K=new SVGPoint(l.x,l.y-100),J=_(l,K,D);
z=x.scaleX<0&&x.scaleY<0?w(V,z,J-90):w(V,z,J+90)}}var Q,ee,te;if(m.gradientUnits.baseVal===N){
var ne=V.matrixTransform(y),re=z.matrixTransform(y),ie=D.matrixTransform(y);Q=ne.matrixTransform(M.inverse()),
ee=re.matrixTransform(M.inverse()),te=ie.matrixTransform(M.inverse())}else if(m.gradientUnits.baseVal===O){
var ae=V.matrixTransform(y),oe=z.matrixTransform(y),se=D.matrixTransform(y),le=E(ae,g),ue=E(oe,g),ce=E(se,g);
Q=le.matrixTransform(M.inverse()),ee=ue.matrixTransform(M.inverse()),te=ce.matrixTransform(M.inverse());
}var de=C(i,o,s,Q,ee,te),he=M.multiply(de);he=u(he,body.canvas.transformPrecision),
m.setAttribute("gradientTransform",he.toString())}),window.addEventListener("mouseup",r=function(e){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
v._draggedGrippie=null,v._draggedSlider=null})},_onSliderMouseDown:function(e){var t=e.target,n=t.getScreenCTM(),r=new SVGPoint(e.clientX,e.clientY),i=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),a=i.matrixTransform(n),o=x(a,r);
5>=o?this._onRadiusGrippieOrSliderEdgeMouseDown(e,"r1"):this._onCenterGrippieOrSliderBodyMouseDown(e);
},_onCenterGrippieOrSliderBodyMouseDown:function(t){var n,r,i,o=this,s=t.target.closest(".subhud"),l=s[$.gradientUser],u=s[$.gradient],c=e(l),h=SVGMatrix.fromMatrix(u.gradientTransform.baseVal.consolidate().matrix),v=l.getScreenCTM(),f=l.getScreenCTM().inverse(),m=new SVGPoint(t.clientX,t.clientY),b=!1;
if(t.target.matches(".grippie")?this._draggedGrippie=t.target:t.target.matches(".slider")&&(this._draggedSlider=t.target),
u.gradientUnits.baseVal===N){var g=new SVGPoint(u.cx.baseVal.value,u.cy.baseVal.value),p=g.matrixTransform(h);
i=p.matrixTransform(v)}else if(u.gradientUnits.baseVal===O){var y=new SVGPoint(u.cx.baseVal.valueInSpecifiedUnits,u.cy.baseVal.valueInSpecifiedUnits),x=y.matrixTransform(h),_=k(x,c);
i=_.matrixTransform(v)}window.addEventListener("mousemove",n=function(e){if(b===!1){
if(!a(t,e,5))return;b=!0,body.canvas.undoManager.checkpoint("Transform gradient");
}var n,r=new SVGPoint(e.clientX,e.clientY),o=new L(m,r);if(u.gradientUnits.baseVal===N){
var s=new SVGPoint(i.x+o.x,i.y+o.y),l=s.matrixTransform(f);n=l.matrixTransform(h.inverse());
}else if(u.gradientUnits.baseVal===O){var v=new SVGPoint(i.x+o.x,i.y+o.y),g=v.matrixTransform(f),p=E(g,c);
n=p.matrixTransform(h.inverse())}u.setAttribute("cx",d(n.x,body.canvas.geometryPrecision)),
u.setAttribute("cy",d(n.y,body.canvas.geometryPrecision))}),window.addEventListener("mouseup",r=function(){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
o._draggedGrippie=null,o._draggedSlider=null})},_onSliderDblClick:function(e){body.canvas.undoManager.checkpoint("Add Stop");
for(var t=e.target,r=t.closest(".subhud"),i=r[$.gradient],a=this.getScreenCTM().inverse(),l=function(){
var e=0,t=[],n=!0,r=!1,a=void 0;try{for(var o=void 0,s=i.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;"stop"===l.localName&&(t[e++]=l)}}catch(u){r=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw a}}return t}(),u=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),c=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),d=new SVGPoint(e.clientX,e.clientY).matrixTransform(a),h=x(u,d),v=x(u,c),f=s(h/v,0,1,body.canvas.geometryPrecision),m=null,b=0;b<l.length;b+=1){
var g=l[b];if(g.offset.baseVal<f)m=b;else if(g.offset.baseVal>f)break}var p=n("svg:stop");
p.setAttribute("offset",f),p.style.stopColor=o(i,f).toString("hex"),null===m?0===i.childElementCount?i.append(p):i.children[0].before(p):l[m].after(p),
this._selectStops([p])},_onShadowRootKeyDown:function(e){var t=T.fromEvent(e);0!==this._selectedStops.length&&(t.matches("Backspace")?(e.stopPropagation(),
this._deleteSelectedStops()):t.matches("Tab")?(e.stopPropagation(),e.preventDefault(),
this._selectNextStop()):t.matches("ArrowLeft")?(e.stopPropagation(),this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Left"),
this._moveSelectedStops(1,"left"))):t.matches("ArrowRight")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Right"),
this._moveSelectedStops(1,"right"))):t.matches("Shift","ArrowLeft")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 10 Units Left"),
this._moveSelectedStops(10,"left"))):t.matches("Shift","ArrowRight")&&(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 10 Units Right"),
this._moveSelectedStops(10,"right"))))},_updateAll:function(){var e=this,t=m(this.context,body.canvas.selectedElements,body.canvas.selectedTextRange),r=t.filter(function(t){
return"radialGradient"===v(t,e.context)});if(0===r.length)this["#subhuds"].innerHTML="";else{
var i=this._shadowRoot.activeElement,a=[];this["#subhuds"].innerHTML="";var o=!0,s=!1,l=void 0;
try{var u,c,d,h,b=this,g=function(){var e=p.value,t=f(e,b.context);if(a.includes(t))return 0;
a.push(t);var r=function(){var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n}(),i=b["#subhud-template"].cloneNode(!0);i.removeAttribute("id"),
i[$.gradient]=t,i[$.gradientUser]=e;var o=i.querySelector(".stop-grippies"),s=document.createDocumentFragment();
u=!0,c=!1,d=void 0;try{for(var l=void 0,h=r[Symbol.iterator]();!(u=(l=h.next()).done);u=!0){
var v=l.value,m=n("svg:circle");m.setAttribute("class","stop-grippie grippie"),m[$.stop]=v,
v.offset.baseVal>.95?s.prepend(m):o.append(m)}}catch(g){c=!0,d=g}finally{try{u||null==h["return"]||h["return"]();
}finally{if(c)throw d}}o.append(s),b["#subhuds"].append(i)};e:for(var p=void 0,y=r[Symbol.iterator]();!(o=(p=y.next()).done);o=!0)switch(h=g()){
case 0:continue e}}catch(x){s=!0,l=x}finally{try{o||null==y["return"]||y["return"]();
}finally{if(s)throw l}}if(i){var _=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e[$.gradient]===i[$.gradient]});_&&_.focus()}this._updatePositions(),this._updateGrippiesSize(),
this._updateGrippiesColor(),this._updateGrippiesSelectedState(),this._updateGrippiesZOrder();
}},_updatePositions:function(){var t=void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,i=void 0;
try{var a,o,s,l,u,c,d,h=this,v=function(){var n=f.value;if(t&&n!==t)return 0;var r=n[$.gradient],i=n[$.gradientUser],d=function(){
var e=0,t=[],n=!0,i=!1,a=void 0;try{for(var o=void 0,s=r.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;"stop"===l.localName&&(t[e++]=l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}(),v=SVGMatrix.fromMatrix(r.gradientTransform.baseVal.consolidate().matrix),m=R(i,h),b=n.querySelector(".slider"),g=n.querySelector(".slider-shadow"),y=$traceurRuntime.spread(n.querySelector(".stop-grippies").children),x=n.querySelector(".r2-grippie"),_=n.querySelector(".r2-outline");
if(r.gradientUnits.baseVal===N){var w=new SVGPoint(r.cx.baseVal.value,r.cy.baseVal.value),S=new SVGPoint(r.cx.baseVal.value+r.r.baseVal.value,r.cy.baseVal.value),M=new SVGPoint(r.cx.baseVal.value,r.cy.baseVal.value-r.r.baseVal.value),C=w.matrixTransform(v),E=S.matrixTransform(v),A=M.matrixTransform(v),P=C.matrixTransform(m),T=E.matrixTransform(m),L=A.matrixTransform(m);
b.setAttribute("x1",P.x),b.setAttribute("y1",P.y),b.setAttribute("x2",T.x),b.setAttribute("y2",T.y),
g.setAttribute("x1",P.x),g.setAttribute("y1",P.y),g.setAttribute("x2",T.x),g.setAttribute("y2",T.y),
_.setAttribute("x1",P.x),_.setAttribute("y1",P.y),_.setAttribute("x2",L.x),_.setAttribute("y2",L.y),
x.setAttribute("cx",L.x),x.setAttribute("cy",L.y),a=!0,o=!1,s=void 0;try{for(var j=function(){
var e=V.value,t=y.find(function(t){return t[$.stop]===e}),n=p(P,T,e.offset.baseVal);
t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y},V=void 0,z=d[Symbol.iterator]();!(a=(V=z.next()).done);a=!0)j();
}catch(D){o=!0,s=D}finally{try{a||null==z["return"]||z["return"]()}finally{if(o)throw s;
}}}else if(r.gradientUnits.baseVal===O){var G=e(i),I=new SVGPoint(r.cx.baseVal.valueInSpecifiedUnits,r.cy.baseVal.valueInSpecifiedUnits),B=new SVGPoint(r.cx.baseVal.valueInSpecifiedUnits+r.r.baseVal.valueInSpecifiedUnits,r.cy.baseVal.valueInSpecifiedUnits),U=new SVGPoint(r.cx.baseVal.valueInSpecifiedUnits,r.cy.baseVal.valueInSpecifiedUnits-r.r.baseVal.valueInSpecifiedUnits),H=I.matrixTransform(v),F=B.matrixTransform(v),q=U.matrixTransform(v),W=k(H,G),Y=k(F,G),X=k(q,G),Z=W.matrixTransform(m),K=Y.matrixTransform(m),J=X.matrixTransform(m);
b.setAttribute("x1",Z.x),b.setAttribute("y1",Z.y),b.setAttribute("x2",K.x),b.setAttribute("y2",K.y),
g.setAttribute("x1",Z.x),g.setAttribute("y1",Z.y),g.setAttribute("x2",K.x),g.setAttribute("y2",K.y),
_.setAttribute("x1",Z.x),_.setAttribute("y1",Z.y),_.setAttribute("x2",J.x),_.setAttribute("y2",J.y),
x.setAttribute("cx",J.x),x.setAttribute("cy",J.y),l=!0,u=!1,c=void 0;try{for(var Q=function(){
var e=ee.value,t=y.find(function(t){return t[$.stop]===e});if(t){var n=p(Z,K,e.offset.baseVal);
t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y}},ee=void 0,te=d[Symbol.iterator]();!(l=(ee=te.next()).done);l=!0)Q();
}catch(ne){u=!0,c=ne}finally{try{l||null==te["return"]||te["return"]()}finally{if(u)throw c;
}}}};e:for(var f=void 0,m=this["#subhuds"].children[Symbol.iterator]();!(n=(f=m.next()).done);n=!0)switch(d=v()){
case 0:continue e}}catch(b){r=!0,i=b}finally{try{n||null==m["return"]||m["return"]();
}finally{if(r)throw i}}},_updateGrippiesColor:function(){var e=!0,t=!1,n=void 0;try{
for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.style.fill=d[$.stop].style.stopColor}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll(".grippie")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",V/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateGrippiesSelectedState:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;this._selectedStops.includes(d[$.stop])?d.setAttribute("data-selected",""):d.removeAttribute("data-selected");
}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}}}catch(v){t=!0,n=v}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_updateGrippiesZOrder:function(){var e=this["#subhuds"].querySelectorAll(".stop-grippie"),t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._selectedStops[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h[$.stop]===o&&h.parentElement.append(h)}}catch(v){l=!0,u=v}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){n=!0,r=f;
}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_selectStops:function(e){
0===e.length&&0===this._selectedStops.length||(this._selectedStops=$traceurRuntime.spread(e),
this._updateGrippiesSelectedState(),this._updateGrippiesZOrder(),this.dispatchEvent(new CustomEvent("selectedstopschange")));
},_selectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[$.gradient],n=function(){
var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n}(),r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._selectedStops[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.closest("radialGradient")!==t&&n.push(l)}}catch(u){i=!0,a=u}finally{
try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}this._selectStops(n);
},_deselectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[$.gradient];
this._selectStops(this._selectedStops.filter(function(e){return e.closest("radialGradient")!==t;
}))},_selectNextStop:function(){var e=this._shadowRoot.activeElement,t=e[$.gradient],n=function(){
var e=0,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"stop"===l.localName&&(n[e++]=l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n}(),r=this._selectedStops.filter(function(e){return e.closest("radialGradient")===t;
}),i=r[r.length-1],a=n[0];n.length>1&&(this._selectStops(this._selectedStops.filter(function(e){
return e.closest("radialGradient")!==t})),i.nextElementSibling?this._selectStops($traceurRuntime.spread([i.nextElementSibling],this._selectedStops)):this._selectStops($traceurRuntime.spread([a],this._selectedStops)));
},_deleteSelectedStops:function(){var e=this._shadowRoot.activeElement;if(null!==e){
var t=e[$.gradient],n=this._selectedStops.filter(function(e){return e.closest("radialGradient")===t;
});if(n.length>0){body.canvas.undoManager.checkpoint("Delete gradient stop(s)");var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{
if(i)throw a}}}this._selectStops([])}},_moveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:1,t=void 0!==arguments[1]?arguments[1]:"left",n=this._shadowRoot.activeElement;
if(null!==n){var r=n.querySelector(".slider"),i=n[$.gradient],a=this._selectedStops.filter(function(e){
return e.parentElement===i}),o=this._getMoveOffsetsForSelectedStops(),l=this.getScreenCTM(),u=new SVGPoint(r.x1.baseVal.value,r.y1.baseVal.value),c=new SVGPoint(r.x2.baseVal.value,r.y2.baseVal.value),d=u.matrixTransform(l),h=c.matrixTransform(l),v=new L(d,h),f=e/v.length,m=!0,b=!1,g=void 0;
try{for(var p=void 0,y=a[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){var x=p.value,_=o.get(x),w=_.minOffset,S=_.maxOffset;
if("left"===t){var M=s(x.offset.baseVal-f,w,S,body.canvas.geometryPrecision);x.setAttribute("offset",M);
}else if("right"===t){var C=s(x.offset.baseVal+f,w,S,body.canvas.geometryPrecision);
x.setAttribute("offset",C)}}}catch(R){b=!0,g=R}finally{try{m||null==y["return"]||y["return"]();
}finally{if(b)throw g}}}},_canMoveActiveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:"left",t=this._shadowRoot.activeElement;
if(null!==t){var n=(t.querySelector(".slider"),t[$.gradient]),r=this._selectedStops.find(function(e){
return e.parentElement===n});if(null!==r){var i=this._getMoveOffsetsForSelectedStops(),a=i.get(r),o=a.minOffset,s=a.maxOffset;
return"left"===e?r.offset.baseVal>o:"right"===e?r.offset.baseVal<s:void 0}}},_getPreviousNotSelectedStop:function(e){
for(;e.previousElementSibling;){if(this._selectedStops.includes(e.previousElementSibling)===!1)return e.previousElementSibling;
e=e.previousElementSibling}return null},_getNextNotSelectedStop:function(e){for(;e.nextElementSibling;){
if(this._selectedStops.includes(e.nextElementSibling)===!1)return e.nextElementSibling;
e=e.nextElementSibling}return null},_getMoveOffsetsForSelectedStops:function(){var e=new Map,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._selectedStops[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=this._getPreviousNotSelectedStop(s),u=this._getNextNotSelectedStop(s),c={};
l?c.min=s.offset.baseVal-l.offset.baseVal:c.min=s.offset.baseVal,u?c.max=u.offset.baseVal-s.offset.baseVal:c.max=1-s.offset.baseVal,
t.push(c)}}catch(d){r=!0,i=d}finally{try{n||null==o["return"]||o["return"]()}finally{
if(r)throw i}}if(t.length>0){var h=t[0].min,v=t[0].max,f=!0,m=!1,b=void 0;try{for(var g=void 0,p=t[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){
var y=g.value;y.min<h&&(h=y.min),y.max<v&&(v=y.max)}}catch(x){m=!0,b=x}finally{try{
f||null==p["return"]||p["return"]()}finally{if(m)throw b}}var _=!0,w=!1,S=void 0;try{
for(var M=void 0,C=this._selectedStops[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;e.set(R,{initialOffset:R.offset.baseVal,minOffset:R.offset.baseVal-h,
maxOffset:R.offset.baseVal+v})}}catch(k){w=!0,S=k}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}}return e}},{},t)}(SVGGElement),G=r("g","bx-radialgradienthud",D);
return{get default(){return G}}}),$traceurRuntime.registerModule("elements/bx-rectangletool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-rectangletool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-rectangletool")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-rectangletool")),a=i.getDistanceBetweenPoints,o=i.getRotationAngleFromPoints,s=i.snapRotationAngle,l=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-rectangletool")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-rectangletool")).setShapeData),u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-rectangletool")).reduceTransform,c=Math,d=c.abs,h=c.min,v=(c.sqrt,
c.pow,function(e){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._rectangleCursor=body.registerCursor("images/cursor-rectangle.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
return e._onMouseDown(t)})},_onDisabled:function(){body.unregisterCursor(this._rectangleCursor),
body.unregisterCursor(this._mouseDownRectangleCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(e){
var t,n,i=this;window.addEventListener("mousemove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),i._onIntentionalDragStart(e))}),window.addEventListener("mouseup",n=function(){
window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,c=this,v=body.canvas.currentContainer||body.canvas.currentArtboard,f=body.modKeys.ctrl?"polar":"planar",m=0,b=0,g=0,p=0,y=0,x=0,_=0,w=0;
body.canvas.undoManager.checkpoint("Draw Rectangle");var S=t("svg:path");S.style.fill="#d8d8d8",
l(S,{type:"rect",values:[m,b,g,p,y,x,_,w]}),v.append(S),body.canvas.selectedElements=[S],
this._mouseDownRectangleCursor=body.registerCursor("images/cursor-rectangle.svg",900,8,8);
var M=S.getScreenCTM().inverse(),C=S.transform.baseVal.consolidate().matrix.multiply(M);
S.setAttribute("transform",C.toString()),window.addEventListener("mousemove",n=function(t){
if("planar"===f){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1;if(g=d(n),
p=d(r),body.modKeys.shift){var i=h(g,p);g=i,p=i}m=0>n?e.clientX-g:e.clientX,b=0>r?e.clientY-p:e.clientY;
}else if("polar"===f){var u=new SVGPoint(e.clientX,e.clientY),c=new SVGPoint(t.clientX,t.clientY),v=a(u,c),M=new SVGPoint(u.x,u.y-v),R=M.matrixTransform((new SVGMatrix).rotate(-45,u.x,u.y)),k=M.matrixTransform((new SVGMatrix).rotate(45,u.x,u.y)),E=M.matrixTransform((new SVGMatrix).rotate(135,u.x,u.y)),A=a(R,k);
m=e.clientX-A/2,b=e.clientY-A/2,g=A,p=A;var P=o(u,E,c);body.modKeys.shift&&(P=s(P,45));
var T=(new SVGMatrix).rotate(P,u.x,u.y);S.setAttribute("transform",C.multiply(T).toString());
}var L={type:"rect",values:[m,b,g,p,y,x,_,w]};l(S,L,body.canvas.geometryPrecision);
}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),body.removeEventListener("toolchange",i),
body.unregisterCursor(c._mouseDownRectangleCursor),u(S,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision})}),body.addEventListener("toolchange",i=function(){
return r()})}},{},e)}(HTMLElement)),f=n("bx-rectangletool",v);return{get default(){
return f}}}),$traceurRuntime.registerModule("elements/bx-recthud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-recthud")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-recthud")).normalize,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-recthud")),i=r.getShapeData,a=r.setShapeData,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-recthud")).throttle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-recthud")).getTransformToElement,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-recthud"))["default"],u=Math.min,c=new l("rect"),d=6,h='\n  <style>@import url("stylesheets/bx-recthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',v=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRects=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=o(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=h;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,v=this.attributes[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedRects=this._getSelectedRects(),
0===this._selectedRects.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(e){
e.target.matches(".grippie")&&this._onGrippieMouseDown(e)},_onGrippieMouseDown:function(e){
var t=this;if(0===e.button){var r,o,s,l=e.target,d=l.parentElement,h=d[c.rect],v=l.getAttribute("data-corner"),f=h.getCTM().inverse(),m=i(h),b=body.canvas.geometryPrecision,g=new SVGPoint(e.clientX,e.clientY).matrixTransform(f),p=new SVGPoint(g.x,g.y),y="normal",x=!1;
l.parentElement.append(l),this._draggedGrippie=l;var _=function(){var e,t,n=body.modKeys,r=n.ctrl,a=n.shift;
if(r===!0&&a===!1)y="normal";else if(r===!1&&a===!0)y="symmetric-1234";else if(r===!0&&a===!0)y="symmetric-1234";else{
var o=i(h).values,s=(e=o[Symbol.iterator](),(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value,
(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value),l=(t=e.next()).done?void 0:t.value,u=(t=e.next()).done?void 0:t.value,c=(t=e.next()).done?void 0:t.value,d=(t=e.next()).done?void 0:t.value,f=(t=e.next()).done?void 0:t.value,m=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value;
void 0===d&&(d=s),void 0===f&&(f=l),void 0===m&&(m=u),void 0===b&&(b=c);var g,p,x=[];
if("1"===v&&(g=s,p=d),"2"===v&&(g=l,p=f),"3"===v&&(g=u,p=m),"4"===v&&(g=c,p=b),s===g&&d===p&&x.push("1"),
l===g&&f===p&&x.push("2"),u===g&&m===p&&x.push("3"),c===g&&b===p&&x.push("4"),1===x.length)y="normal";else{
y="symmetric-";var _=!0,w=!1,S=void 0;try{for(var M=void 0,C=x[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;y+=R}}catch(k){w=!0,S=k}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}}}},w=function(){var e,t,r=p.x-g.x,o=(p.y-g.y,i(h).values),s=(e=o[Symbol.iterator](),
(t=e.next()).done?void 0:t.value),l=(t=e.next()).done?void 0:t.value,c=(t=e.next()).done?void 0:t.value,d=(t=e.next()).done?void 0:t.value,f=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=(t=e.next()).done?void 0:t.value,w=(t=e.next()).done?void 0:t.value,S=(t=e.next()).done?void 0:t.value,M=(t=e.next()).done?void 0:t.value,C=(t=e.next()).done?void 0:t.value,R=(t=e.next()).done?void 0:t.value,k=0;
void 0===S&&(S=f),void 0===M&&(M=x),void 0===C&&(C=_),void 0===R&&(R=w),"1"===v?k=m.values[4]+r:"2"===v?k=m.values[5]-r:"3"===v?k=m.values[6]-r:"4"===v&&(k=m.values[7]+r),
k=n(k,0,u(c/2,d/2),b),"normal"===y?"1"===v?(f=k,S=k):"2"===v?(x=k,M=k):"3"===v?(_=k,
C=k):"4"===v&&(w=k,R=k):(y.includes("1")&&(f=k,S=k),y.includes("2")&&(x=k,M=k),y.includes("3")&&(_=k,
C=k),y.includes("4")&&(w=k,R=k));var E;if(f===S&&x===M&&_===C&&w&&R){var A=f,P=x,T=_,L=w;
E=[s,l,c,d,A,P,T,L]}else E=[s,l,c,d,f,x,_,w,S,M,C,R];a(h,{type:"rect",values:E},b);
};window.addEventListener("mousemove",r=function(e){x||(x=!0,body.canvas.undoManager.checkpoint("Round corners")),
p=new SVGPoint(e.clientX,e.clientY).matrixTransform(f),w()}),window.addEventListener("mouseup",o=function(){
window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o),
body.removeEventListener("modkeyschange",s),t._draggedGrippie=null}),body.addEventListener("modkeyschange",s=function(){
_(),w()}),_()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this._selectedRects[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[c.rect]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this["#subhuds"].children[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value,l=o[c.rect],u=s(l,this),d=void 0,h=void 0,v=void 0,f=void 0,m=void 0,b=void 0,g=void 0,p=void 0;
if("rect"===l.localName)d=l.x.baseVal.value,h=l.y.baseVal.value,v=l.width.baseVal.value,
f=l.height.baseVal.value,m=0,b=0,g=0,p=0;else if("path"===l.localName){var y=i(l);
d=y.values[0],h=y.values[1],v=y.values[2],f=y.values[3],m=y.values[4],b=y.values[5],
g=y.values[6],p=y.values[7]}var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=o.children[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value,R=C.getAttribute("data-corner"),k=void 0;"1"===R&&(k=new SVGPoint(d+m,h)),
"2"===R?k=new SVGPoint(d+v-b,h):"3"===R?k=new SVGPoint(d+v-g,h+f):"4"===R&&(k=new SVGPoint(d+p,h+f));
var E=k.matrixTransform(u);C.setAttribute("cx",E.x),C.setAttribute("cy",E.y)}}catch(A){
_=!0,w=A}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w}}}}catch(P){
t=!0,n=P}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n}}},
_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var h=u.value;h.setAttribute("r",d/body.canvas.scale)}}catch(v){s=!0,l=v}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(f){t=!0,n=f;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedRects:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("rect")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedRects(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),f=t("g","bx-recthud",v);return{get default(){return f;
}}}),$traceurRuntime.registerModule("elements/bx-ringhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ringhud")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ringhud")),r=n.normalize,i=n.round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ringhud")),o=a.getShapeData,s=a.setShapeData,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-ringhud")).throttle,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ringhud")).getTransformToElement,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-ringhud"))["default"],d=Math,h=d.min,v=d.max,f=new c("ring"),m=6,b='\n  <style>@import url("stylesheets/bx-ringhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',g=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=l(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=b;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedRings=this._getSelectedRings(),
0===this._selectedRings.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(e){
e.target.classList.contains("grippie")&&this._onGrippieMouseDown(e)},_onGrippieMouseDown:function(e){
var t,n,a=this;if(0===e.button){var l,u,c,d=e.target,m=d.parentElement,b=m[f.ring],g=b.getCTM().inverse(),p=new SVGPoint(e.clientX,e.clientY),y=p.matrixTransform(g),x=d.getAttribute("data-axis"),_=new SVGPoint(y.x,y.y),w="normal",S=!1,M=o(b).values,C=(t=M[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),R=(n=t.next()).done?void 0:n.value,k=(n=t.next()).done?void 0:n.value,E=(n=t.next()).done?void 0:n.value,A=(n=t.next()).done?void 0:n.value,P=(n=t.next()).done?void 0:n.value,T=k,L=E,$=A,j=P;
d.parentElement.append(d),this._draggedGrippie=d;var N=function(){var e=body.modKeys,t=e.ctrl,n=e.shift;
t===!0&&n===!1?w="normal":t===!1&&n===!0?w="symmetric":t===!0&&n===!0?w="double-symmetric":("r1x"===x&&k===E?w="symmetric":"r1y"===x&&k===E&&(w="symmetric"),
"r2x"===x&&A===P?w="symmetric":"r2y"===x&&A===P&&(w="symmetric"))},O=function(){var e=_.x-y.x,t=_.y-y.y;
if("r1x"===x){if("normal"===w){var n=1,a=A-1;k=r(T+e,n,a)}else if("symmetric"===w){
var o=1,l=h(A,P)-1,u=r(T+e,o,l);k=E=u}else if("double-symmetric"===w){var c=1,d=1/0,f=A-k,m=r(T+e,c,d),g=m+f;
k=E=m,A=P=g}}else if("r1y"===x){if("normal"===w){var p=1,S=P-1;E=r(L+t,p,S)}else if("symmetric"===w){
var M=1,N=h(A,P)-1,O=r(L+t,M,N);k=E=O}else if("double-symmetric"===w){var V=1,z=1/0,D=P-E,G=r(L+t,V,z),I=G+D;
k=E=G,A=P=I}}else if("r2x"===x){if("normal"===w){var B=k+1,U=1/0;A=r($+e,B,U)}else if("symmetric"===w){
var H=v(k,E)+1,F=1/0,q=r($+e,H,F);A=P=q}else if("double-symmetric"===w){var W=A-k,Y=W+1,X=1/0,Z=r($+e,Y,X),K=Z-W;
k=E=K,A=P=Z}}else if("r2y"===x)if("normal"===w){var J=E+1,Q=1/0;P=r(j+t,J,Q)}else if("symmetric"===w){
var ee=v(k,E)+1,te=1/0,ne=r(j+t,ee,te);A=P=ne}else if("double-symmetric"===w){var re=P-E,ie=re+1,ae=r(j+t,ie,F),oe=ae-re;
k=E=oe,A=P=ae}var se=[C,R,k,E,A,P];se=se.map(function(e){return i(e,body.canvas.geometryPrecision);
}),s(b,{type:"ring",values:se},body.canvas.geometryPrecision)};window.addEventListener("mousemove",l=function(e){
S||(body.canvas.undoManager.checkpoint("Ring radius"),S=!0),_=new SVGPoint(e.clientX,e.clientY).matrixTransform(g),
O()}),window.addEventListener("mouseup",u=function(){window.removeEventListener("mousemove",l),
window.removeEventListener("mouseup",u),body.removeEventListener("modkeyschange",c),
a._draggedGrippie=null}),body.addEventListener("modkeyschange",c=function(){N(),O();
}),N()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this._selectedRings[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[f.ring]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var l=a.value,c=l[f.ring],d=u(c,this),h=o(c).values,v=(e=h[Symbol.iterator](),(t=e.next()).done?void 0:t.value),m=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value,g=(t=e.next()).done?void 0:t.value,p=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=!0,_=!1,w=void 0;
try{for(var S=void 0,M=l.children[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value,R=C.getAttribute("data-axis");if("r1x"===R){var k=new SVGPoint(v+b,m).matrixTransform(d);
C.setAttribute("cx",k.x),C.setAttribute("cy",k.y)}else if("r1y"===R){var E=new SVGPoint(v,m+g).matrixTransform(d);
C.setAttribute("cx",E.x),C.setAttribute("cy",E.y)}else if("r2x"===R){var A=new SVGPoint(v+p,m).matrixTransform(d);
C.setAttribute("cx",A.x),C.setAttribute("cy",A.y)}else if("r2y"===R){var P=new SVGPoint(v,m+y).matrixTransform(d);
C.setAttribute("cx",P.x),C.setAttribute("cy",P.y)}}}catch(T){_=!0,w=T}finally{try{
x||null==M["return"]||M["return"]()}finally{if(_)throw w}}}}catch(L){r=!0,i=L}finally{
try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",m/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedRings:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("ring")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedRings(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),p=t("g","bx-ringhud",g);return{get default(){return p;
}}}),$traceurRuntime.registerModule("elements/bx-ringtool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ringtool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-ringtool")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ringtool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ringtool")).round,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ringtool")),u=(l.getShapeData,
l.setShapeData),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-ringtool")).reduceTransform,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ringtool"))["default"],h=Math,v=h.abs,f=h.min,m=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._ringCursor=body.registerCursor("images/cursor-ring.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
return e._onMouseDown(t)})},_onDisabled:function(){body.unregisterCursor(this._ringCursor),
body.unregisterCursor(this._mouseDownRingCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(e){
var t,n,i=this;window.addEventListener("mousemove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),i._onIntentionalDragStart(e))}),window.addEventListener("mouseup",n=function(e){
window.removeEventListener("mousemove",t),body.canvas.removeEventListener("mouseend",n);
})},_onIntentionalDragStart:function(e){var n,r,i,l=this,h=body.canvas.currentContainer||body.canvas.currentArtboard,m=body.modKeys.ctrl?"polar":"planar",b=body.canvas,g=b.geometryPrecision,p=b.transformPrecision;
body.canvas.undoManager.checkpoint("Draw Ring Shape"),this._mouseDownRingCursor=body.registerCursor("images/cursor-ring.svg",900,8,8);
var y=0,x=0,_=0,w=0,S=1,M=1,C=t("svg:path");C.style.fill="#d8d8d8",h.append(C),body.canvas.selectedElements=[C];
var R=C.getScreenCTM().inverse(),k=C.transform.baseVal.consolidate().matrix.multiplySelf(R);
C.setAttribute("transform",k.toString()),window.addEventListener("mousemove",n=function(t){
if("planar"===m){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=v(n),l=v(r);
if(body.modKeys.shift){var c=f(i,l);i=c,l=c}var h=0>n?e.clientX-i:e.clientX,b=0>r?e.clientY-l:e.clientY;
y=h+i/2,x=b+l/2,S=i/2,M=l/2,_=.6*S,w=.6*M}else if("polar"===m){var p=new SVGPoint(e.clientX,e.clientY),R=new SVGPoint(p.x,p.y-100),E=new SVGPoint(t.clientX,t.clientY),A=new d(p,E),P=a(p,R,E);
y=p.x,x=p.y,S=A.length,M=A.length,_=.6*S,w=.6*M,body.modKeys.shift&&(P=o(P,45));var T=(new SVGMatrix).rotate(P,p.x,p.y);
C.setAttribute("transform",k.multiply(T).toString())}var L=[y,x,_,w,S,M].map(function(e){
return s(e,g)});u(C,{type:"ring",values:L},g)}),window.addEventListener("mouseup",r=function(){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
body.removeEventListener("toolchange",i),body.unregisterCursor(l._mouseDownRingCursor),
c(C,{geometryPrecision:g,transformPrecision:p})}),body.addEventListener("toolchange",i=function(){
return r()})}},{},e)}(HTMLElement),b=n("bx-ringtool",m);return{get default(){return b;
}}}),$traceurRuntime.registerModule("elements/bx-rubberbandhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-rubberbandhud")).registerElement,t='\n  <style>@import url("stylesheets/bx-rubberbandhud.css");</style>\n  <rect id="rect" x="0" y="0" width="0" height="0"></rect>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},get enabled(){return this.hasAttribute("enabled")},set enabled(e){
e?this.setAttribute("enabled",""):this.removeAttribute("enabled")},grabSelection:function(e,t){
var n=this;return new Promise(function(r){var i,a,o=n.getScreenCTM(),s=o.inverse(),l=new SVGPoint(e,t),u=l.matrixTransform(s);
n["#rect"].style.visibility="visible",n["#rect"].style.vectorEffect="non-scaling-stroke";
var c,d,h,v,f=body.registerCursor("default",900);window.addEventListener("mousemove",i=function(e){
var t=new SVGPoint(e.clientX,e.clientY),r=t.matrixTransform(s);h=r.x-u.x,v=r.y-u.y,
0>h?(h=-h,c=u.x-h):c=u.x,0>v?(v=-v,d=u.y-v):d=u.y,n["#rect"].x.baseVal.value=c,n["#rect"].y.baseVal.value=d,
n["#rect"].width.baseVal.value=h,n["#rect"].height.baseVal.value=v}),window.addEventListener("mouseup",a=function(e){
window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",a),
body.unregisterCursor(f),n["#rect"].style.visibility="hidden",n["#rect"].style.vectorEffect=null;
var t=new SVGRect(c,d,h,v);r(t),n["#rect"].x.baseVal.value=0,n["#rect"].y.baseVal.value=0,
n["#rect"].width.baseVal.value=0,n["#rect"].height.baseVal.value=0})})}},{},e)}(SVGGElement),r=e("g","bx-rubberbandhud",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-satlightslider",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/color","elements/bx-satlightslider"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-satlightslider")),n=t.hslToHsv,r=t.hsvToHsl,i=t.colorToString,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-satlightslider")).registerElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-satlightslider")).normalize,s=Number.parseFloat,l=!1,u='\n  <style>\n    @import url("stylesheets/bx-satlightslider.css");\n  </style>\n\n  <main>\n    <canvas id="canvas" width="800" height="800"></canvas>\n    <div id="marker"></div>\n  </main>\n',c=function(t){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=u;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("mousedown",function(t){
return e._onMouseDown(t)})},attributeChangedCallback:function(e){"hue"===e?this._onHueAttributeChange():"saturation"===e?this._onSaturationAttributeChange():"lightness"===e&&this._onLightnessAttributeChange();
},get hue(){return this.hasAttribute("hue")?s(this.getAttribute("hue")):0},set hue(e){
this.setAttribute("hue",e)},get saturation(){return this.hasAttribute("saturation")?s(this.getAttribute("saturation")):0;
},set saturation(e){this.setAttribute("saturation",e)},get lightness(){return this.hasAttribute("lightness")?s(this.getAttribute("lightness")):0;
},set lightness(e){this.setAttribute("lightness",e)},_onHueAttributeChange:function(){
this._isDraggingMarker||this._updateCanvas()},_onLightnessAttributeChange:function(){
this._updateMarker()},_onSaturationAttributeChange:function(){this._updateMarker();
},_onMouseDown:function(e){var t,n,r,i,a=this,s=this["#canvas"].getBoundingClientRect(),l=(e.clientX-s.left)/this.clientWidth*100,u=(e.clientY-s.top)/this.clientHeight*100;
this.dispatchEvent(new CustomEvent("markerdragstart")),this._isDraggingMarker=!0,
this._onMarkerDrag(l,u),window.addEventListener("mousemove",r=function(e){e.clientX===t&&e.clientY===n||(t=e.clientX,
n=e.clientY,l=(e.clientX-s.left)/a.clientWidth*100,u=(e.clientY-s.top)/a.clientHeight*100,
l=o(l,0,100,2),u=o(u,0,100,2),a._onMarkerDrag(l,u))}),window.addEventListener("mouseup",i=function(){
window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",i),
a._isDraggingMarker=!1,a.dispatchEvent(new CustomEvent("markerdragend"))})},_onMarkerDrag:function(e,t){
var n,a;this["#marker"].style.left=e+"%",this["#marker"].style.top=t+"%";var o=r(this.hue,e,100-t),s=(n=o[Symbol.iterator](),
(a=n.next()).done?void 0:a.value),u=(a=n.next()).done?void 0:a.value,c=(a=n.next()).done?void 0:a.value;
if((this.hue!==s||this.saturation!==u||this.lightness!==c)&&(this.hue=s,this.saturation=u,
this.lightness=c,this.dispatchEvent(new CustomEvent("markerdrag")),l)){var d=i({h:s,
s:u,l:c},"hex");console.log("%c     ","background: "+d,'color = "'+d+'"')}},_updateCanvas:function(){
var t=this["#canvas"].width,n=this["#canvas"].height,r=this["#canvas"].getContext("2d");
r.clearRect(0,0,t,n);var i=new e(this.hue,100,50,1,"hsla");r.fillStyle=i.toString("hex"),
r.fillRect(0,0,t,n);var a=r.createLinearGradient(0,0,t,0);a.addColorStop(0,"rgba(255,255,255,1)"),
a.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=a,r.fillRect(0,0,t,n);var o=r.createLinearGradient(0,0,0,n);
o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=o,
r.fillRect(0,0,t,n)},_updateMarker:function(){var e,t,r=n(this.hue,this.saturation,this.lightness),i=(e=r[Symbol.iterator](),
(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value),a=(t=e.next()).done?void 0:t.value;
this["#marker"].style.left=i/100*100+"%",this["#marker"].style.top=100-a/100*100+"%";
}},{},t)}(HTMLElement),d=a("bx-satlightslider",c);return{get default(){return d}};
}),$traceurRuntime.registerModule("elements/bx-select",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectitem","elements/bx-select"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-select")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-select")).sleep,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-select"))["default"],r=Number.parseFloat,i=(Object.values,
'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-select.css");\n  </style>\n\n  <div id="button">\n    <img id="thumbnail"></img>\n    <div id="label">None</div>\n\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use href="images/icons.svg#select-arrows" width="100" height="100"></use>\n    </svg>\n  </div>\n\n  <div id="overlay"></div>\n\n  <div id="popup" style="visibility: hidden"">\n    <content></content>\n  </div>\n'),a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("focus",function(t){
return e._onFocus()}),this.addEventListener("blur",function(t){return e._onBlur();
}),this.addEventListener("keydown",function(t){return e._onKeyDown(t)}),this.addEventListener("thumbnailchange",function(t){
return e._onItemThumbnailChange(t)}),this["#overlay"].addEventListener("mousedown",function(t){
return e._onOverlayMouseDown(t)}),this["#button"].addEventListener("click",function(t){
return e._onButtonClick(t)}),this["#popup"].addEventListener("click",function(t){
return e._onPopupElementClick(t)}),this["#popup"].addEventListener("mouseover",function(t){
return e._onPopupMouseOver(t)}),this["#popup"].addEventListener("mouseout",function(t){
return e._onPopupMouseOut(t)}),this["#popup"].addEventListener("mousewheel",function(t){
return e._onPopupMouseWheel(t)}),this["#popup"].addEventListener("scroll",function(t){
return e._onPopupScroll(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):null},
set value(e){null===e?this.removeAttribute("value"):this.setAttribute("value",e)},
get mixed(){return this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){var e=this,t=$traceurRuntime.spread(this.querySelectorAll("bx-selectitem")),n=null===this.value?null:t.find(function(t){
return t.getAttribute("value")===e.value});if(n){n.setAttribute("checked",""),this["#label"].textContent=n.getAttribute("label"),
n.thumbnail?(this["#thumbnail"].style.display="block",this["#thumbnail"].src=n.thumbnail):this["#thumbnail"].style.display="none";
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l!==n&&l.removeAttribute("checked")}}catch(u){i=!0,a=u}finally{try{
r||null==s["return"]||s["return"]()}finally{if(i)throw a}}}else{this["#label"].textContent="None",
this["#thumbnail"].style.display="none";var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=t[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;m.removeAttribute("checked")}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}}},_onDisabledAttributeChange:function(){this.tabIndex=this.disabled?-1:0;
},_onFocus:function(){var e=this,t=this._getItemWithValue(this.value)||this.querySelector("bx-selectitem");
if(!t)return void this.blur();this["#popup"].style.pointerEvents="all",this["#popup"].style.visibility="visible",
this["#popup"].style.height="auto",this["#popup"].style.left="0px",this["#popup"].style.top="0px",
this["#popup"].style.overflow=null,this["#popup"].scrollTop=0,this["#overlay"].style.display="block";
var n=t.getLabelBoundingClientRect(),i=this["#label"].getBoundingClientRect(),a=this["#button"].getBoundingClientRect(),o=i.left-n.left,s=i.top-n.top,l=a.right-o+3;
this["#popup"].style.left=o+"px",this["#popup"].style.top=s+"px",this["#popup"].style.width=l+"px";
var u=this["#popup"].getBoundingClientRect();if(u.top<0){r(this["#popup"].style.top);
this["#popup"].style.height=u.height+u.top-5+"px",this["#popup"].style.top="5px",
this["#popup"].scrollTop=9999}u=this["#popup"].getBoundingClientRect();var c=!1;if(u.bottom+5>window.innerHeight){
c=!0;var d=u.bottom-window.innerHeight;this["#popup"].style.height=u.height-d-5+"px";
}t.disabled===!1&&this._highlightItem(t),window.addEventListener("resize",this._windowResizeListener=function(){
return e.blur()})},_onBlur:function(){this["#overlay"].style.display="none",this["#popup"].style.visibility="hidden",
window.removeEventListener("resize",this._windowResizeListener)},_onKeyDown:function(e){
var t=n.fromEvent(e);t.matches("ArrowUp")?(e.preventDefault(),this._highlightPreviousItem()):t.matches("ArrowDown")?(e.preventDefault(),
this._highlightNextItem()):t.matches("Control","ArrowUp")?(e.preventDefault(),this._highlightFirstItem()):t.matches("Control","ArrowDown")?(e.preventDefault(),
this._highlightLastItem()):t.matches("Enter")&&(e.preventDefault(),this._selectHighlightedItem());
},_onItemThumbnailChange:function(e){var t=e.target;t.value===this.value&&(t.thumbnail?(this["#thumbnail"].src=t.thumbnail,
this["#thumbnail"].style.display="block"):this["#thumbnail"].style.display="none");
},_onButtonClick:function(e){"visible"===this["#popup"].style.visibility?this.blur():this.focus();
},_onOverlayMouseDown:function(e){e.preventDefault(),this.blur()},_onPopupElementClick:function(e){
"bx-selectitem"==e.target.localName&&0===e.button&&this._onSelectItemClick(e.target);
},_onSelectItemClick:function(e){var n;return $traceurRuntime.asyncWrap(function(r){
for(;;)switch(r.state){case 0:r.state=e.disabled===!1?5:-2;break;case 5:this["#popup"].style.pointerEvents="none",
e.highlighted=!e.highlighted,r.state=6;break;case 6:return void Promise.resolve(t(100)).then(r.createCallback(2),r.errback);
case 2:e.highlighted=!e.highlighted,r.state=8;break;case 8:return void Promise.resolve(t(100)).then(r.createCallback(4),r.errback);
case 4:n=e.value!==this.value,this.value=e.value,this.blur(),(n||this.mixed)&&this.dispatchEvent(new CustomEvent("change")),
r.state=-2;break;default:return r.end()}},this)},_onPopupMouseOver:function(e){"bx-selectitem"===e.target.localName&&this._onSelectItemMouseEnter(e.target);
},_onPopupMouseOut:function(e){e.toElement!==this&&this._highlightItem(null)},_onPopupMouseWheel:function(e){
e.preventDefault(),this._scroll(e.deltaY)},_onPopupScroll:function(e){e.stopImmediatePropagation(),
e.preventDefault()},_onSelectItemMouseEnter:function(e){e.disabled===!1&&this._highlightItem(e);
},_scroll:function(e){var t=this["#popup"],n=t.scrollTop+t.offsetHeight<=t.scrollHeight,i=t.scrollTop>0;
if((!(0>e)||i)&&(!(e>0)||n)){var a=r(t.style.top),o=r(t.style.height);if(e>0)if(a-e>5){
o+e+10>window.innerHeight&&(e=window.innerHeight-o-10),o+e>t.scrollHeight&&(e=t.scrollHeight-o,
t.style.overflow="hidden");var s=o+e,l=a-e;t.style.height=s+"px",t.style.top=l+"px",
t.scrollTop=0}else if(o+e+10>window.innerHeight){var u=window.innerHeight-10,c=u-o;
t.style.top="5px",t.style.height=u+"px",t.scrollTop+=e-c}else t.scrollTop+=e;else if(0>e){
var d=window.innerHeight-o-a;if(d>5)if(window.innerHeight-o+e-10<0){var h=window.innerHeight-10,v=h-o;
t.style.height=h+"px",t.scrollTop+=e+v}else if(o-e>t.scrollHeight)t.style.overflow="hidden",
t.style.height=t.scrollHeight+"px";else{var f=o-e;t.style.height=f+"px"}else t.scrollTop+=e;
}}},_highlightItem:function(e){if(null===e)this._highlightedItem&&(this._highlightedItem.highlighted=!1);else{
this._highlightedItem&&this._highlightedItem!==e&&(this._highlightedItem.highlighted=!1,
this._highlightedItem=null),e.highlighted=!0,this._highlightedItem=e;var t=(e.offsetTop,
this["#popup"].clientHeight,e.clientHeight,e.getBoundingClientRect()),n=this["#popup"].getBoundingClientRect();
if(t.bottom>n.bottom){var r=t.bottom-n.bottom;this._scroll(r)}else if(t.top<n.top){
var i=t.top-n.top;this._scroll(i)}}},_highlightPreviousItem:function(){for(var e=this.querySelectorAll("bx-selectitem:not([disabled])"),t=null,n=0;n<e.length;n+=1){
var r=e[n];if(r.highlighted){t=n;break}}if(0!==t)if(null===t){var i=e[e.length-1];
this._highlightItem(i)}else{var a=e[t-1];this._highlightItem(a)}},_highlightNextItem:function(){
for(var e=this.querySelectorAll("bx-selectitem:not([disabled])"),t=null,n=0;n<e.length;n+=1){
var r=e[n];if(r.highlighted){t=n;break}}if(t!==e.length-1)if(null===t){var i=e[0];
this._highlightItem(i)}else{var a=e[t+1];this._highlightItem(a)}},_highlightFirstItem:function(){
var e=this.querySelector("bx-selectitem:not([disabled])");e&&this._highlightItem(e);
},_highlightLastItem:function(){var e=this.querySelectorAll("bx-selectitem:not([disabled])");
if(e.length>0){var t=e[e.length-1];this._highlightItem(t)}},_selectHighlightedItem:function(){
var e=this.querySelector("bx-selectitem[highlighted]");e&&(this.value=e.value),this.blur(),
this.dispatchEvent(new CustomEvent("change"))},_getItemWithValue:function(e){var t=null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this.querySelectorAll("bx-selectitem")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(s.value===e){t=s;break}}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return t}},{},e)}(HTMLElement),o=e("bx-select",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-selectedtextrangehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-selectedtextrangehud")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-selectedtextrangehud")).closest,i=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-selectedtextrangehud")).combineRects,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-selectedtextrangehud")).getRangeOffsetRelativeToElement),a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-selectedtextrangehud")).throttle,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-selectedtextrangehud")).getTransformToElement,s='\n  <style>@import url("stylesheets/bx-selectedtextrangehud.css");</style>\n  <line id="caret-line"></line>\n  <g id="selection-rects"></g>\n',l=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._update200Th=a(this._update,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(l){t=!0,n=l}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._update200Th()})},_onDisabled:function(){body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedTextRangeChange:function(){this._update()},_update:function(){this._updateCaretLine(),
this._udpateSelectionRects()},_updateCaretLine:function(){var e=body.canvas.selectedTextRange;
if(e){var t=r(e.startContainer,"text"),n=t.getNumberOfChars(),a="backward"===e.direction?"end":"start",s=i(e,t,a);
if(0===s){var l=t.getExtentOfChar(s),u=t.getStartPositionOfChar(s),c=t.getSubStringLength(s,1),d=l.height,h=t.getRotationOfChar(s),v=new SVGMatrix;
v.multiplySelf(o(t,this)),v.rotateSelf(h,u.x+c/2,u.y),this["#caret-line"].setAttribute("x1",u.x),
this["#caret-line"].setAttribute("y1",l.y),this["#caret-line"].setAttribute("x2",u.x),
this["#caret-line"].setAttribute("y2",l.y+d),this["#caret-line"].setAttribute("transform",v.toString()),
this["#caret-line"].style.visibility="visible"}else if(s>0&&n>=s){var f=t.getExtentOfChar(s-1),m=t.getEndPositionOfChar(s-1),b=t.getSubStringLength(s-1,1),g=f.height,p=t.getRotationOfChar(s-1),y=new SVGMatrix;
y.multiplySelf(o(t,this)),y.rotateSelf(p,m.x-b/2,m.y),this["#caret-line"].setAttribute("x1",m.x),
this["#caret-line"].setAttribute("y1",f.y),this["#caret-line"].setAttribute("x2",m.x),
this["#caret-line"].setAttribute("y2",f.y+g),this["#caret-line"].setAttribute("transform",y.toString()),
this["#caret-line"].style.visibility="visible"}else s>n&&(this["#caret-line"].style.visibility="hidden");
}else this["#caret-line"].style.visibility="hidden"},_udpateSelectionRects:function(){
var e=body.canvas.selectedTextRange;if(this["#selection-rects"].innerHTML="",e&&e.collapsed===!1)for(var n=r(e.startContainer,"text"),a=i(e,n,"start"),s=i(e,n,"end"),l=n.getNumberOfChars(),u=a;s>u&&l>u;u+=1){
var c=n.getExtentOfChar(u),d=n.getStartPositionOfChar(u),h=(n.getEndPositionOfChar(u),
n.getSubStringLength(u,1)),v=c.height,f=n.getRotationOfChar(u),m=new SVGMatrix;m.multiplySelf(o(n,this)),
m.rotateSelf(f,d.x+h/2,d.y);var b=t("svg:rect");b.setAttribute("x",d.x),b.setAttribute("y",c.y),
b.setAttribute("width",h),b.setAttribute("height",v),b.setAttribute("transform",m.toString()),
this["#selection-rects"].append(b)}}},{},e)}(SVGGElement),u=n("g","bx-selectedtextrangehud",l);
return{get default(){return u}}}),$traceurRuntime.registerModule("elements/bx-selectitem",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-selectitem")).registerElement,t='\n  <style>@import url("stylesheets/bx-selectitem.css");</style>\n\n  <main>\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use id="icon-use" width="100" height="100"></use>\n    </svg>\n\n    <img id="thumbnail"></img>\n    <div id="label"></div>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"label"===e?this._onLabelAttributeChange():"checked"===e&&this._onCheckedAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(e){
this.setAttribute("value",e)},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(e){this.setAttribute("label",e)},get checked(){return this.hasAttribute("checked");
},set checked(e){e===!0?this.setAttribute("checked",""):this.removeAttribute("checked");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(e){null===e?this["#thumbnail"].removeAttribute("src"):this["#thumbnail"].setAttribute("src",e),
this.dispatchEvent(new CustomEvent("thumbnailchange",{bubbles:!0}))},getLabelBoundingClientRect:function(){
return this["#label"].getBoundingClientRect()},_onLabelAttributeChange:function(){
this["#label"].textContent=this.label},_onCheckedAttributeChange:function(){this["#icon-use"].href.baseVal=this.checked?"images/icons.svg#check-mark":"";
}},{},e)}(HTMLElement),r=e("bx-selectitem",n);return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-shortcutseditor",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-shortcutseditorrow","elements/bx-shortcutseditor"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-shortcutseditor")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-shortcutseditor"))["default"],i=function(e){
return"string"==typeof e},a='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-shortcutseditor.css");</style>\n\n  <main>\n    <header>\n      <div>Command</div>\n      <div>Shortcut</div>\n    </header>\n\n    <div id="rows"></div>\n  </main>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e,t,n,r,i,o,s;return $traceurRuntime.asyncWrap(function(l){
for(;;)switch(l.state){case 0:e=this,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a,t=!0,n=!1,r=void 0;try{for(i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)s=i.value,
this["#"+s.id]=s}catch(u){n=!0,r=u}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}this.addEventListener("keydown",function(t){return e._onKeyDown(t);
}),this["#rows"].addEventListener("change",function(t){return e._onRowChange(t)}),
this["#rows"].addEventListener("focusin",function(t){return e._onRowFocusIn(t)}),
body.bridge.postMessage("getShortcutsEditorModel",null,function(t){return e._onModelReady(t);
}),l.state=-2;break;default:return l.end()}},this)},attachedCallback:function(){var e=this;
body.addEventListener("configchange",this._configChangeListener=function(t){return e._onConfigChange(t);
})},detachedCallback:function(){body.removeEventListener("configchange",this._configChangeListener);
},_onConfigChange:function(e){var t=e.detail,n=t.key,a=t.value;if("bx-shortcutseditor:userShortcuts"===n){
var o=a,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this["#rows"].children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=o[h.commandID];h.userShortcut=i(v)?r.fromString(v):null}}catch(f){
l=!0,u=f}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._markConflictingRows();
}},_onModelReady:function(e){var n,a,o,s,l,u,c,d,h,v,f,m;return $traceurRuntime.asyncWrap(function(b){
for(;;)switch(b.state){case 0:h=body.getConfig,v=h.call(body,"bx-shortcutseditor:userShortcuts"),
b.state=5;break;case 5:return void Promise.resolve(v).then(b.createCallback(3),b.errback);
case 3:f=b.value,b.state=2;break;case 2:m=f?f:{},n=m,b.state=7;break;case 7:a=!0,
o=!1,s=void 0;try{for(l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)c=l.value,
d=t("bx-shortcutseditorrow"),d.commandID=c.id,d.label=c.label,d.defaultShortcut=i(c.shortcut)?r.fromString(c.shortcut):null,
d.userShortcut=i(n[c.id])?r.fromString(n[c.id]):null,this["#rows"].append(d)}catch(g){
o=!0,s=g}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}this._markConflictingRows(),
b.state=-2;break;default:return b.end()}},this)},_onRowChange:function(e){var t,n,r,i,a,o,s,l;
return $traceurRuntime.asyncWrap(function(u){for(;;)switch(u.state){case 0:e.stopPropagation(),
t=e.target,n=t.commandID,r=t.userShortcut,u.state=9;break;case 9:a=body.getConfig,
o=a.call(body,"bx-shortcutseditor:userShortcuts"),u.state=5;break;case 5:return void Promise.resolve(o).then(u.createCallback(3),u.errback);
case 3:s=u.value,u.state=2;break;case 2:l=s?s:{},i=l,u.state=7;break;case 7:null===r?delete i[n]:i[n]=r.toString(),
body.setConfig("bx-shortcutseditor:userShortcuts",i),u.state=-2;break;default:return u.end();
}},this)},_onRowFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#rows"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}},_onKeyDown:function(e){e.preventDefault();var t=r.fromEvent(e);
if(t.matches("ArrowUp")){var n=this._shadowRoot.querySelector(":focus");n.previousElementSibling&&n.previousElementSibling.focus();
}else if(t.matches("ArrowDown")){var i=this._shadowRoot.querySelector(":focus");i.nextElementSibling&&i.nextElementSibling.focus();
}},_markConflictingRows:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#rows"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!1;if(a.shortcut&&a.shortcut.isVoid()===!1){var s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=this["#rows"].children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;if(h!==a&&h.shortcut&&null!==h.shortcut.base&&a.shortcut.compare(h.shortcut)===!0){
o=!0;break}}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{
if(l)throw u}}}a.conflicting=o}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}}},{},e)}(HTMLElement),s=n("bx-shortcutseditor",o);return{
get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-shortcutseditorrow",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-shortcutseditorrow")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-shortcutseditorrow"))["default"],r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"],i='\n  <style>@import url("stylesheets/bx-shortcutseditorrow.css");</style>\n\n  <main>\n    <div id="label"></div>\n    <div id="shortcut-preview"></div>\n\n    <div id="buttons">\n      <bx-button\n        id="clear-button"\n        icon="clear-shortcut"\n        iconsize="12"\n        title="Clear"\n        skin="bx-shortcutseditorrow">\n      </bx-button>\n\n      <bx-button\n        id="reset-button"\n        icon="reset-shortcut"\n        iconsize="12"\n        title="Reset to default shortcut"\n        skin="bx-shortcutseditorrow">\n      </bx-button>\n    </div>\n  </main>\n',a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this.tabIndex=0,this._userShortcut=null,this._defaultShortcut=null,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this._shadowRoot.addEventListener("click",function(t){
return e._onClick(t)}),this.addEventListener("keydown",function(t){return e._onKeyDown(t);
}),this.addEventListener("blur",function(){return e._onBlur()}),body.bridge.postMessage("getBackendName",null,function(t){
return e._backendName=t})},attributeChangedCallback:function(e){"commandid"===e?this._update():"label"===e?this._updateLabel():"editable"===e&&this._update();
},get commandID(){return this.hasAttribute("commandid")?this.getAttribute("commandid"):null;
},set commandID(e){e?this.setAttribute("commandid",e):this.removeAttribute("commandid");
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get editable(){return this.hasAttribute("editable");
},set editable(e){e?this.setAttribute("editable",""):this.removeAttribute("editable");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get conflicting(){return this.hasAttribute("conflicting")},set conflicting(e){e?this.setAttribute("conflicting",""):this.removeAttribute("conflicting");
},get userShortcut(){return this._userShortcut},set userShortcut(e){this._userShortcut=e,
this._updateShortcutPreview(),this._updateButtons()},get defaultShortcut(){return this._defaultShortcut;
},set defaultShortcut(e){this._defaultShortcut=e,this._updateShortcutPreview(),this._updateButtons();
},get shortcut(){return this._userShortcut||this._defaultShortcut||null},_update:function(){
this._updateLabel(),this._updateShortcutPreview(),this._updateButtons()},_updateLabel:function(){
this["#label"].textContent=this.label},_updateShortcutPreview:function(){this.editable===!0?this["#shortcut-preview"].textContent="Press new shortcut":this.editable===!1&&(this.userShortcut?(this["#shortcut-preview"].textContent=this.userShortcut.toDisplayString(),
this["#shortcut-preview"].classList.add("user-shortcut")):(this["#shortcut-preview"].textContent=this.defaultShortcut?this.defaultShortcut.toDisplayString():"",
this["#shortcut-preview"].classList.remove("user-shortcut")))},_updateButtons:function(){
this.userShortcut?this["#reset-button"].hidden=!1:this["#reset-button"].hidden=!0,
null===this.shortcut||this.shortcut.isVoid()?this["#clear-button"].hidden=!0:this["#clear-button"].hidden=!1;
},_onKeyDown:function(e){var t=n.fromEvent(e);if(this.editable)if(e.preventDefault(),
e.stopPropagation(),t.matches("Backspace")||t.matches("Escape")||t.matches("Enter"))this.editable=!1;else{
if(t.meta&&"electron"===this._backendName)return;t.base&&r.includes(t.toString())===!1&&(this.userShortcut&&t.matches(this.userShortcut)?this.editable=!1:this.defaultShortcut&&t.matches(this.defaultShortcut)?(this.userShortcut=null,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.editable=!1):(this.userShortcut=t,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.editable=!1))}else t.matches("Enter")?this.editable=!0:t.matches("Backspace")&&(this.userShortcut?(this.userShortcut=null,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):this.defaultShortcut&&(this.userShortcut=new n,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))},_onClick:function(e){
0===e.button&&(e.target===this["#clear-button"]?this._onClearButtonClick(e):e.target===this["#reset-button"]?this._onResetButtonClick(e):2===e.detail&&(this.editable=!0));
},_onClearButtonClick:function(e){this.userShortcut=new n,this.dispatchEvent(new CustomEvent("change",{
bubbles:!0}))},_onResetButtonClick:function(e){this.userShortcut=null,this.dispatchEvent(new CustomEvent("change",{
bubbles:!0}))},_onBlur:function(){this.editable=!1}},{},e)}(HTMLElement),o=t("bx-shortcutseditorrow",a);
return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-slider",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-slider")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-slider"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-slider"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/undo-manager","elements/bx-slider"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-slider")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-slider")),i=r.normalize,a=r.round,o=r.countDecimalPlaces,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-slider")).debounce,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/type","elements/bx-slider")),u=l.isNumeric,c=l.isNumber,d=Math.pow,h=Number,v=h.isFinite,f=h.parseFloat,m=(Object.entries,
'\n  <style id="skin-style">@import url("stylesheets/bx-slider.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" value="0" tabindex="0"></input>\n    <div id="bar"></div>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),b=function(n){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={selectAll:{exec:function(){return e["#input"].select();
}},copy:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._copyInputValue()}},cut:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._cutInputValue()}},paste:{exec:function(){return e._pasteInputValue();
}},undo:{enabled:function(){return e._undoManager.canUndo()},exec:function(){return e._undoManager.undo();
}},redo:{enabled:function(){return e._undoManager.canRedo()},exec:function(){return e._undoManager.redo();
}}},this._undoManager=new t,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=m;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(b){c=!0,d=b}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("mousedown",function(t){
return e._onMouseDown(t)}),this.addEventListener("contextmenu",function(t){return e._onContextMenu(t);
}),this["#input"].addEventListener("focus",function(t){return e._onInputFocus(t)}),
this["#input"].addEventListener("keydown",function(t){return e._onInputKeyDown(t);
}),this["#context-menu"].addEventListener("menuitemtrigger",function(t){return e._onContextMenuItemTrigger(t);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)}},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"skin"===e?this._onSkinAttributeChange():"disabled"===e?this._onDisabledAttributeChange():"before"===e?this._onBeforeAttributeChange():"after"===e&&this._onAfterAttributeChange();
},get value(){return this.hasAttribute("value")?f(this.getAttribute("value")):this.min!==-(1/0)?this.min:0;
},set value(e){this.setAttribute("value",e)},get min(){return this.hasAttribute("min")?f(this.getAttribute("min")):-(1/0);
},set min(e){c(e)?this.setAttribute("min",e):this.removeAttribute("min")},get max(){
return this.hasAttribute("max")?f(this.getAttribute("max")):1/0},set max(e){c(e)?this.setAttribute("max",e):this.removeAttribute("max");
},get before(){return this.hasAttribute("before")?this.getAttribute("before"):""},
set before(e){null===e?this.removeAttribute("before"):this.setAttribute("before",e);
},get after(){return this.hasAttribute("after")?this.getAttribute("after"):""},set after(e){
null===e?this.removeAttribute("after"):this.setAttribute("after",e)},get mixed(){
return this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get precision(){return this.hasAttribute("precision")?f(this.getAttribute("precision")):2;
},set precision(e){this.setAttribute("precision",e)},get step(){return this.hasAttribute("step")?f(this.getAttribute("step")):a(d(.1,this.precision),this.precision);
},set step(e){this.setAttribute("step",step)},get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;
},set skin(e){null===e?this.removeAttribute("skin"):this.setAttribute("skin",e)},
get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},validate:function(e){return u(e)},_onValueAttributeChange:function(){var e=this["#input"].matches(":focus");
this["#input"].value=e?this.value:this._serializeValue(this.value),this._updateBar(),
this._updateInputValidity()},_onSkinAttributeChange:function(){var e=this.skin?"bx-slider@"+this.skin+".css":"bx-slider.css";
this["#skin-style"].innerText='@import url("stylesheets/'+e+'"'},_onDisabledAttributeChange:function(){
this["#input"].tabIndex=this.disabled?-1:0},_onBeforeAttributeChange:function(){var e=this["#input"].matches(":focus");
e===!1&&(this["#input"].value=this._serializeValue(this.value))},_onAfterAttributeChange:function(){
var e=this["#input"].matches(":focus");e===!1&&(this["#input"].value=this._serializeValue(this.value));
},_onMouseDown:function(e){var t=this;if(0!==e.button)e.preventDefault();else if(this["#input"].matches(":focus")===!1){
e.preventDefault();var n,r,a,o=1,s=this.value,l=s,u=(this["#bar"].clientWidth,this.value),c=null,d=null,h=!1;
a=v(this.min)&&v(this.max)?(this.max-this.min)/this.clientWidth:this.step,c=body.registerCursor("col-resize",100),
window.addEventListener("mousemove",n=function(n){if(n.clientX!==d){d=n.clientX;var r=n.clientX-e.clientX;
if(h===!1){if(r>=-o&&o>=r)return;h=!0,t.dispatchEvent(new CustomEvent("changestart"));
}-o>r?r+=o:r>o&&(r-=o);var u=s+r*a;u=i(u,t.min,t.max,t.precision),t.value=u,u!==l&&(l=u,
t.dispatchEvent(new CustomEvent("change")))}}),window.addEventListener("mouseup",r=function(){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
body.unregisterCursor(c),h===!0?(h=!1,t.dispatchEvent(new CustomEvent("changeend",{
detail:t.value!==u}))):(t["#input"].focus(),t["#input"].select())})}},_onInputFocus:function(e){
var t,n,r,a=this,o=this.value,l=this.value;body.bridge.postMessage("toggleTextInputMode",!0),
this["#input"].value=this.value,this._hideBar(),this._updateInputValidity(),this.dispatchEvent(new CustomEvent("changestart")),
this["#input"].addEventListener("input",t=function(){a._updateInputValidity()}),this["#input"].addEventListener("input",n=s(function(){
var e=l,t=a["#input"].value;l=a["#input"].value,a._undoManager.register({label:"Typing",
undo:function(){a["#input"].value=l=e,a._updateInputValidity(),a["#input"].select();
},redo:function(){a["#input"].value=l=t,a._updateInputValidity(),a["#input"].select();
}})},250,this)),this.addEventListener("blur",r=function(e){a["#input"].removeEventListener("input",t),
a["#input"].removeEventListener("input",n),a.removeEventListener("blur",r),body.bridge.postMessage("toggleTextInputMode",!1),
a._undoManager.reset();var s=f(a["#input"].value);s=i(s,a.min,a.max,9);var l=a.validate(f(a["#input"].value))===!0,u=s!==o;
(l&&u===!0||u===!1&&a.mixed===!0)&&(a.value=s,a.dispatchEvent(new CustomEvent("change"))),
a["#input"].value=a._serializeValue(a.value),a.dispatchEvent(new CustomEvent("changeend",{
detail:u})),a._showBar()})},_onInputKeyDown:function(t){var n=e.fromEvent(t);n.matches("Enter")?(this._confirmInputChange(),
t.preventDefault(),t.stopPropagation()):n.matches("Escape")?(this._cancelInputChange(),
t.preventDefault(),t.stopPropagation()):n.matches("ArrowUp")?(this._changeInputValueByStep(this.step),
t.preventDefault(),t.stopPropagation()):n.matches("ArrowDown")?(this._changeInputValueByStep(-this.step),
t.preventDefault(),t.stopPropagation()):n.matches("Shift","ArrowUp")?(this._changeInputValueByStep(10*this.step),
t.preventDefault(),t.stopPropagation()):n.matches("Shift","ArrowDown")?(this._changeInputValueByStep(10*-this.step),
t.preventDefault(),t.stopPropagation()):(n.matches("Backspace")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&t.stopPropagation();
},_onContextMenu:function(e){e.preventDefault(),this["#input"].focus(),this["#input"].select(),
this["#context-menu"].open(e.clientX,e.clientY)},_onContextMenuItemTrigger:function(e){
var t=e.detail,n=this.commands[t.commandID];n&&n.exec()},_menuWillShow:function(e){
var t=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_serializeValue:function(e){var t;
return t=o(e)<this.precision?e.toFixed(this.precision):e.toString(),t=this.before+t+this.after;
},_changeInputValueByStep:function(e){if(u(this["#input"].value)){var t=f(this["#input"].value)+e;
t=i(t,this.min,this.max,this.precision),this["#input"].value=t.toFixed(this.precision),
this["#input"].select(),this["#input"].dispatchEvent(new Event("input",{bubbles:!0
}))}},_updateInputValidity:function(){this.validate(this["#input"].value)===!0?this["#input"].setCustomValidity(""):this["#input"].setCustomValidity("Invalid value");
},_confirmInputChange:function(){this.blur()},_cancelInputChange:function(){this["#input"].value=this.value,
this.blur()},_showBar:function(){this["#bar"].style.visibility=null,this._updateBar();
},_hideBar:function(){this["#bar"].style.visibility="hidden"},_updateBar:function(){
if(v(this.min)&&v(this.max)){var e=(this.value-this.min)/(this.max-this.min)*100;this["#bar"].style.width=e+"%";
}},_copyInputValue:function(){var e=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":e})},_pasteInputValue:function(){
var e=this;body.bridge.postMessage("getClipboardData",null,function(t){if(t["text/plain"]){
var n=e["#input"].selectionStart,r=e["#input"].selectionEnd,i=t["text/plain"],a=e["#input"].value.substring(0,n),o=e["#input"].value.substring(r,e["#input"].value.length);
e["#input"].value=a+i+o,e["#input"].setSelectionRange(n+i.length,n+i.length),e["#input"].dispatchEvent(new Event("input",{
bubbles:!0}))}})},_cutInputValue:function(){var e=this["#input"].selectionStart,t=this["#input"].selectionEnd,n=this["#input"].value.substring(e,t),r=this["#input"].value.substring(0,e),i=this["#input"].value.substring(t,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].setSelectionRange(e,e),this["#input"].dispatchEvent(new Event("input",{
bubbles:!0})),body.bridge.postMessage("setClipboardData",{"text/plain":n})}},{},n);
}(HTMLElement),g=n("bx-slider",b);return{get default(){return g}}}),$traceurRuntime.registerModule("elements/bx-starhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-starhud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-starhud")),n=t.getNearestPointOnLine,r=t.getPointBetweenTwoPoints,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-starhud")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-starhud")),o=a.getShapeData,s=a.setShapeData,l=a.getStarShapeVertexPoint,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-starhud")).throttle,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-starhud")).getTransformToElement,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-starhud"))["default"],h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-starhud"))["default"],v=Math,f=v.sin,m=v.cos,b=v.PI,g=new d("star"),p=6,y='\n  <style>@import url("stylesheets/bx-starhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie vertex-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',x=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=u(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=y;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,c=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedStars=this._getSelectedStars(),
0===this._selectedStars.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(e){
e.target.matches(".vertex-grippie")?this._onVertexGrippieMouseDown(e):e.target.matches(".arms-grippie")&&this._onArmsGrippieMouseDown(e);
},_onVertexGrippieMouseDown:function(e){var t,a,u=this;if(0===e.button){var c,d,v=e.target,p=v.parentElement,y=p[g.star],x=y.getCTM().inverse(),_=o(y).values,w=(t=_[Symbol.iterator](),
(a=t.next()).done?void 0:a.value),S=(a=t.next()).done?void 0:a.value,M=(a=t.next()).done?void 0:a.value,C=(a=t.next()).done?void 0:a.value,R=(a=t.next()).done?void 0:a.value,k=(a=t.next()).done?void 0:a.value,E=new SVGPoint(e.clientX,e.clientY),A=E.matrixTransform(x),P=new SVGPoint(w,S),T=l(0,w,S,M,C,R,k),L=l(1,w,S,M,C,R,k),$=l(2,w,S,M,C,R,k),j=L,N=!1;
v.parentElement.append(v),this._draggedGrippie=v,window.addEventListener("mousemove",c=function(e){
var t,a;N===!1&&(N=!0,body.canvas.undoManager.checkpoint("Inner star radius"));var o=new SVGPoint(e.clientX,e.clientY),l=o.matrixTransform(x),u=new h(j,A),c=u.getOppositeVector().transformPoint(l),d=2*b*(1/k/2)-b/2,v=P,g=new SVGPoint(M*m(d)+w,C*f(d)+S),p=r(T,$),_=(t=n(v,p,c,!1)[Symbol.iterator](),
(a=t.next()).done?void 0:a.value);R=new h(v,_).length/new h(v,g).length,R=i(R,body.canvas.geometryPrecision),
s(y,{type:"star",values:[w,S,M,C,R,k]},body.canvas.geometryPrecision)}),window.addEventListener("mouseup",d=function(){
window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",d),
u._draggedGrippie=null})}},_onArmsGrippieMouseDown:function(e){var t,n,r=this;if(0===e.button){
var a,l,u=e.target,c=u.parentElement,d=c[g.star],h=o(d).values,v=(t=h[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),f=(n=t.next()).done?void 0:n.value,m=(n=t.next()).done?void 0:n.value,b=(n=t.next()).done?void 0:n.value,p=(n=t.next()).done?void 0:n.value,y=(n=t.next()).done?void 0:n.value,x=y,_=!1;
u.parentElement.append(u),this._draggedGrippie=u,window.addEventListener("mousemove",a=function(t){
var n=i((t.clientX-e.clientX)/10,0);y=x+n,3>y&&(y=3),_===!1&&y!==x&&(body.canvas.undoManager.checkpoint("Change number of star arms"),
_=!0),s(d,{type:"star",values:[v,f,m,b,p,y]},body.canvas.geometryPrecision)}),window.addEventListener("mouseup",l=function(){
window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),
r._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedStars[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[g.star]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var u=a.value,d=u[g.star],h=c(d,this),v=o(d).values,f=(e=v[Symbol.iterator](),(t=e.next()).done?void 0:t.value),m=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value,p=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=!0,w=!1,S=void 0;
try{for(var M=void 0,C=u.children[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;if(R.matches(".arms-grippie")){var k=new SVGPoint(f,m).matrixTransform(h);
R.setAttribute("cx",k.x),R.setAttribute("cy",k.y)}else if(R.matches(".vertex-grippie")){
var E=l(1,f,m,b,p,y,x).matrixTransform(h);R.setAttribute("cx",E.x),R.setAttribute("cy",E.y);
}}}catch(A){w=!0,S=A}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}}}catch(P){r=!0,i=P}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}},_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",p/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedStars:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("star")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedStars(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),_=e("g","bx-starhud",x);return{get default(){return _;
}}}),$traceurRuntime.registerModule("elements/bx-startool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-startool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-startool")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-startool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-startool")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-startool"))),l=(s.getShapeData,
s.setShapeData),u=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-startool")).getTransformFromPoints,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-startool")).reduceTransform),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-startool"))["default"],d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-startool"))["default"],h=Math,v=h.abs,f=h.min,m=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._starCursor=body.registerCursor("images/cursor-star.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
return e._onMouseDown(t)})},_onDisabled:function(){body.unregisterCursor(this._starCursor),
body.unregisterCursor(this._mouseDownStarCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(e){
var t,n,i=this;window.addEventListener("mousemove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),i._onIntentionalDragStart(e))}),window.addEventListener("mouseup",n=function(e){
window.removeEventListener("mousemove",t),body.canvas.removeEventListener("mouseend",n);
})},_onIntentionalDragStart:function(e){var n,r,i,s,h=this,m=body.canvas.currentContainer||body.canvas.currentArtboard,b=body.modKeys.ctrl?"polar":"planar",g=body.canvas,p=g.geometryPrecision,y=g.transformPrecision,x=0,_=0,w=0,S=0,M=1,C=5;
body.canvas.undoManager.checkpoint("Draw Star Shape"),this._mouseDownStarCursor=body.registerCursor("images/cursor-star.svg",900,8,8);
var R=t("svg:path");R.style.fill="#d8d8d8",l(R,{type:"star",values:[x,_,w,S,M,C]}),
m.append(R),body.canvas.selectedElements=[R];var k=R.getScreenCTM().inverse(),E=R.transform.baseVal.consolidate().matrix.multiply(k);
R.setAttribute("transform",E.toString()),window.addEventListener("mousemove",n=function(t){
if("planar"===b){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=v(n),s=v(r);
if(body.modKeys.shift){var u=f(i,s);i=u,s=u}var c=0>n?e.clientX-i:e.clientX,h=0>r?e.clientY-s:e.clientY;
w=i/2,S=s/2,x=c+w,_=h+S,M=.4}else if("polar"===b){var m=new SVGPoint(e.clientX,e.clientY),g=new SVGPoint(m.x,m.y-100),y=new SVGPoint(t.clientX,t.clientY),k=new d(m,y),A=a(m,g,y);
x=m.x,_=m.y,w=k.length,S=k.length,M=.4,body.modKeys.shift&&(A=o(A,180/C/2));var P=(new SVGMatrix).rotate(A,m.x,m.y);
R.setAttribute("transform",E.multiply(P).toString())}l(R,{type:"star",values:[x,_,w,S,M,C]
},p)}),window.addEventListener("mouseup",r=function(){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),body.removeEventListener("keydown",i),body.removeEventListener("toolchange",s),
body.unregisterCursor(h._mouseDownStarCursor),u(R,{geometryPrecision:p,transformPrecision:y
})}),body.addEventListener("toolchange",s=function(){return r()}),body.addEventListener("keydown",i=function(e){
var t=c.fromEvent(event);t.matches("ArrowUp")?(event.preventDefault(),event.stopPropagation(),
C+=1,l(R,{type:"star",values:[x,_,w,S,M,C]},p)):t.matches("ArrowDown")&&(event.preventDefault(),
event.stopPropagation(),C>3&&(C-=1,l(R,{type:"star",values:[x,_,w,S,M,C]},p)))})}
},{},e)}(HTMLElement),b=n("bx-startool",m);return{get default(){return b}}}),$traceurRuntime.registerModule("elements/bx-strokecontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-strokecontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-strokecontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-paintsection","elements/bx-strokecontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-strokecontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-strokecontrols")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-strokecontrols")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-strokecontrols")).queryStylableElements,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-strokecontrols")).normalizeTextInRangeBeforeEditing,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-strokecontrols")).throttle,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-strokecontrols")).getTransformToElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/decomposed-transform","elements/bx-strokecontrols"))["default"],s=Math.abs,l=Number.parseFloat,u='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-strokecontrols.css");\n  </style>\n\n  <section id="paint-section" is="bx-paintsection" context="stroke"></section>\n\n  <section id="opacity-section">\n    <h2 id="opacity-section-heading">Opacity</h2>\n\n    <bx-slider\n      id="opacity-slider"\n      title="Stroke Opacity"\n      value="1"\n      min="0"\n      max="1"\n      precision="2">\n    </bx-slider>\n  </section>\n\n  <section id="width-section">\n    <h2 id="width-section-heading">Width</h2>\n\n    <bx-slider\n      id="width-slider"\n      title="Stroke width"\n      value="1"\n      min="0"\n      precision="0">\n    </bx-slider>\n\n    <bx-checkbox\n      id="non-scaling-stroke-checkbox"\n      label="Non-scaling stroke">\n    </bx-checkbox>\n  </section>\n\n  <section id="line-cap-section">\n    <h2 id="line-cap-section-heading">Line Cap</h2>\n\n    <div id="line-cap-buttons" class="buttons">\n      <bx-button\n        id="butt-line-cap-button"\n        value="butt"\n        icon="cap-butt"\n        iconsize="30"\n        title="Butt cap"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="round-line-cap-button"\n        value="round"\n        icon="cap-round"\n        iconsize="30"\n        title="Round cap"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="square-line-cap-button"\n        value="square"\n        icon="cap-square"\n        iconsize="30"\n        title="Square cap"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="line-join-section">\n    <h2 id="line-join-section-heading">Line Join</h2>\n\n    <div id="line-join-buttons" class="buttons">\n      <bx-button\n        id="miter-line-join-button"\n        value="miter"\n        icon="join-miter"\n        iconsize="30"\n        title="Miter Join"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="round-line-join-button"\n        value="round"\n        icon="join-round"\n        iconsize="30"\n        title="Round Join"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="bevel-line-join-button"\n        value="bevel"\n        icon="join-bevel"\n        iconsize="30"\n        title="Bevel Join"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </section>\n',c=function(e){
function c(){$traceurRuntime.superConstructor(c).apply(this,arguments)}return $traceurRuntime.createClass(c,{
createdCallback:function(){var e=this;this._update200Th=i(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=u;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(b){d=!0,h=b}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return e._onOpacitySliderChangeStart()}),this["#width-slider"].addEventListener("changestart",function(){
return e._onWidthSliderChangeStart()}),this["#non-scaling-stroke-checkbox"].addEventListener("change",function(){
return e._onNonScalingStrokeCheckboxChange()}),this["#line-cap-buttons"].addEventListener("click",function(t){
return e._onLineCapButtonsClick(t)}),this["#line-join-buttons"].addEventListener("click",function(t){
return e._onLineJoinButtonsClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this["#paint-section"].enabled=!0,this._toggleHuds(),
this._update(),body.addEventListener("toolchange",this._toolChangeListener=function(){
e._toggleHuds()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){this["#paint-section"].enabled=!1,
this._toggleHuds(),body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onOpacitySliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Stroke opacity");var t=body.canvas,i=t.selectedElements,a=t.selectedTextRange;
r(a);var o,s,l=n("stroke-opacity",i,a);l[0]||null;this._isChangingOpacitySlider=!0,
this["#opacity-slider"].addEventListener("change",o=function(){var t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=l[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;
o.style.strokeOpacity=e["#opacity-slider"].value}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}e["#opacity-slider"].mixed=!1}),this["#opacity-slider"].addEventListener("changeend",s=function(){
e["#opacity-slider"].removeEventListener("change",o),e["#opacity-slider"].removeEventListener("changeend",s),
e._isChangingOpacitySlider=!1})},_onWidthSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Stroke width");
var t=body.canvas,i=t.selectedElements,l=t.selectedTextRange;r(l);var u,c,d=n("stroke-width",i,l);
this._isChangingWidthSlider=!0,this["#width-slider"].addEventListener("change",u=function(){
var t=!0,n=!1,r=void 0;try{for(var i=void 0,l=d[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){
var u=i.value,c=a(u,body.canvas.masterArtboard),h=o.fromSVGMatrix(c),v=h.scaleX,f=h.scaleY,m=(s(v)+s(f))/2,b=e["#width-slider"].value/m;
u.style.strokeWidth=b+""}}catch(g){n=!0,r=g}finally{try{t||null==l["return"]||l["return"]();
}finally{if(n)throw r}}e["#width-slider"].mixed=!1}),this["#width-slider"].addEventListener("changeend",c=function(){
e["#width-slider"].removeEventListener("change",u),e["#width-slider"].removeEventListener("changeend",c),
e._isChangingWidthSlider=!1})},_onNonScalingStrokeCheckboxChange:function(){body.canvas.undoManager.checkpoint("Non-scaling stroke");
var e=body.canvas,t=e.selectedElements,i=e.selectedTextRange;r(i);var a=n("vector-effect",t,i),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
this["#non-scaling-stroke-checkbox"].checked?d.style.vectorEffect="non-scaling-stroke":d.style.vectorEffect=null;
}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}},_onLineCapButtonsClick:function(e){if("bx-button"===e.target.localName&&0===e.button){
var t=e.target,i=t.pressed,a=t.mixed,o=t.value;if(i!==!0||a!==!1){body.canvas.undoManager.checkpoint("Line cap");
var s=body.canvas,l=s.selectedElements,u=s.selectedTextRange;r(u);var c=n("stroke-linecap",l,u),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var b=f.value;
b.style.strokeLinecap=o}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}}}},_onLineJoinButtonsClick:function(e){if("bx-button"===e.target.localName&&0===e.button){
var t=e.target,i=t.pressed,a=t.mixed,o=t.value;if(i!==!0||a!==!1){body.canvas.undoManager.checkpoint("Line join");
var s=body.canvas,l=s.selectedElements,u=s.selectedTextRange;r(u);var c=n("stroke-linejoin",l,u),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var b=f.value;
b.style.strokeLinejoin=o}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}}}},_update:function(){this._updateOpacitySection(),this._updateWidthSection(),
this._updateLineCapSection(),this._updateLineJoinSection()},_updateOpacitySection:function(){
if(!this._isChangingOpacitySlider){var e=body.canvas,r=e.selectedElements,i=e.selectedTextRange,a=n("stroke-opacity",r,i),o=a[0]||null;
if(null===o?this["#opacity-section-heading"].disabled=!0:this["#opacity-section-heading"].disabled=!1,
null===o)this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;else{
this["#opacity-slider"].disabled=!1;var s=l(getComputedStyle(o).strokeOpacity);s=t(s,2);
var u=!1,c=!0,d=!1,h=void 0;try{for(var v=void 0,f=a[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;if(m!==o){var b=t(l(getComputedStyle(m).strokeOpacity),2);b!==s&&(u=!0);
}}}catch(g){d=!0,h=g}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}this["#opacity-slider"].value=s,this["#opacity-slider"].mixed=u}}},_updateWidthSection:function(){
if(!this._isChangingWidthSlider){var e=body.canvas,t=e.selectedElements,r=e.selectedTextRange,i=n("stroke-width",t,r),a=i[0]||null;
if(null===a?this["#width-section-heading"].disabled=!0:this["#width-section-heading"].disabled=!1,
null===a)this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1;else{
var o=this._getComputedStrokeWidth(a),s=!1,l=!0,u=!1,c=void 0;try{for(var d=void 0,h=i[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;if(v!==a){var f=this._getComputedStrokeWidth(v);if(f!==o){s=!0;break;
}}}}catch(m){u=!0,c=m}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}this["#width-slider"].value=o,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=s;
}if(null===a)this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].checked=!1,
this["#non-scaling-stroke-checkbox"].mixed=!1;else{var b=getComputedStyle(a).vectorEffect,g=!1,p=!0,y=!1,x=void 0;
try{for(var _=void 0,w=i[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){var S=_.value;
if(S!==a){var M=getComputedStyle(S).vectorEffect;if(M!==b){g=!0;break}}}}catch(C){
y=!0,x=C}finally{try{p||null==w["return"]||w["return"]()}finally{if(y)throw x}}this["#non-scaling-stroke-checkbox"].disabled=!1,
this["#non-scaling-stroke-checkbox"].checked="non-scaling-stroke"===b,this["#non-scaling-stroke-checkbox"].mixed=g;
}}},_updateLineCapSection:function(){var e=body.canvas,t=e.selectedElements,r=e.selectedTextRange,i=n("stroke-linecap",t,r),a=i[0]||null;
null===a?this["#line-cap-section-heading"].disabled=!0:this["#line-cap-section-heading"].disabled=!1;
var o=[this["#butt-line-cap-button"],this["#round-line-cap-button"],this["#square-line-cap-button"]];
if(null===a){var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.disabled=!0,h.pressed=!1,h.mixed=!1}}catch(v){l=!0,u=v}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else{var f=!0,m=!1,b=void 0;
try{for(var g=void 0,p=o[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){var y=g.value;
y.disabled=!1}}catch(x){m=!0,b=x}finally{try{f||null==p["return"]||p["return"]()}finally{
if(m)throw b}}var _=getComputedStyle(a).strokeLinecap,w=!1,S=!0,M=!1,C=void 0;try{
for(var R=void 0,k=i[Symbol.iterator]();!(S=(R=k.next()).done);S=!0){var E=R.value;
if(E!==a){var A=getComputedStyle(E).strokeLinecap;if(A!==_){w=!0;break}}}}catch(P){
M=!0,C=P}finally{try{S||null==k["return"]||k["return"]()}finally{if(M)throw C}}var T=!0,L=!1,$=void 0;
try{for(var j=void 0,N=o[Symbol.iterator]();!(T=(j=N.next()).done);T=!0){var O=j.value;
O.value===_?(O.pressed=!0,O.mixed=w):(O.pressed=!1,O.mixed=!1)}}catch(V){L=!0,$=V;
}finally{try{T||null==N["return"]||N["return"]()}finally{if(L)throw $}}}},_updateLineJoinSection:function(){
var e=body.canvas,t=e.selectedElements,r=e.selectedTextRange,i=n("stroke-linejoin",t,r),a=i[0]||null;
null===a?this["#line-join-section-heading"].disabled=!0:this["#line-join-section-heading"].disabled=!1;
var o=[this["#miter-line-join-button"],this["#round-line-join-button"],this["#bevel-line-join-button"]];
if(null===a){var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.disabled=!0,h.pressed=!1,h.mixed=!1}}catch(v){l=!0,u=v}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else{var f=!0,m=!1,b=void 0;
try{for(var g=void 0,p=o[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){var y=g.value;
y.disabled=!1}}catch(x){m=!0,b=x}finally{try{f||null==p["return"]||p["return"]()}finally{
if(m)throw b}}var _=getComputedStyle(a).strokeLinejoin,w=!1,S=!0,M=!1,C=void 0;try{
for(var R=void 0,k=i[Symbol.iterator]();!(S=(R=k.next()).done);S=!0){var E=R.value;
if(E!==a){var A=getComputedStyle(E).strokeLinejoin;if(A!==_){w=!0;break}}}}catch(P){
M=!0,C=P}finally{try{S||null==k["return"]||k["return"]()}finally{if(M)throw C}}var T=!0,L=!1,$=void 0;
try{for(var j=void 0,N=o[Symbol.iterator]();!(T=(j=N.next()).done);T=!0){var O=j.value;
O.value===_?(O.pressed=!0,O.mixed=w):(O.pressed=!1,O.mixed=!1)}}catch(V){L=!0,$=V;
}finally{try{T||null==N["return"]||N["return"]()}finally{if(L)throw $}}}},_toggleHuds:function(){
"edit-tool"===body.currentTool.id&&body.currentSecondaryPanel&&"stroke-panel"===body.currentSecondaryPanel.id?(body.canvas.enableHud("linear-gradient-stroke-hud"),
body.canvas.enableHud("radial-gradient-stroke-hud"),body.canvas.enableHud("pattern-stroke-hud")):(body.canvas.disableHud("linear-gradient-stroke-hud"),
body.canvas.disableHud("radial-gradient-stroke-hud"),body.canvas.disableHud("pattern-stroke-hud"));
},_getComputedStrokeWidth:function(e){var n=a(e,body.canvas.masterArtboard),r=o.fromSVGMatrix(n),i=r.scaleX,u=r.scaleY,c=(s(i)+s(u))/2,d=c*l(getComputedStyle(e).strokeWidth);
return d=t(d,3)}},{},e)}(HTMLElement),d=e("bx-strokecontrols",c);return{get default(){
return d}}}),$traceurRuntime.registerModule("elements/bx-svgartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-svgartboard")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/reflect","elements/bx-svgartboard")),n=t.createReflectedSVGLength,r=t.createReflectedSVGRect,i=t.createReflectedSVGPreserveAspectRatio,a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._x=n(this,"x"),this._y=n(this,"y"),this._width=n(this,"width"),
this._height=n(this,"height"),this._viewBox=r(this,"viewBox"),this._preserveAspectRatio=i(this,"preserveAspectRatio");
},get contentType(){return"svg"},get x(){return this._x},get y(){return this._y},
get width(){return this._width},get height(){return this._height},get viewBox(){return this._viewBox;
},get preserveAspectRatio(){return this._preserveAspectRatio}},{},e)}(SVGGElement),o=e("g","bx-svgartboard",a);
return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-switch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-switch")).registerElement,t='\n  <style>\n    @import url("stylesheets/bx-switch.css");\n  </style>\n\n  <main>\n    <div id="track"></div>\n\n    <svg id="thumb" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">\n      <ellipse cx="50" cy="50" rx="50" ry="50"></ellipse>\n    </svg>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},attachedCallback:function(){var e=this;this.parentElement.addEventListener("click",this._parentMouseDownListener=function(t){
e._onParentElementClick(t)})},detachedCallback:function(){this.parentElement.removeEventListener("click",this._parentMouseDownListener);
},get toggled(){return!!this.hasAttribute("toggled")},set toggled(e){e?this.setAttribute("toggled",""):this.removeAttribute("toggled");
},get mixed(){return!!this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onParentElementClick:function(e){if(!this.disabled){var t=[{left:"0px"},{left:this.clientWidth-this["#thumb"].clientWidth+"px"
}];this["#thumb"].animate(this.toggled?t.reverse():t,{duration:100,iterations:1,delay:0
}),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("change"))}}},{},e);
}(HTMLElement),r=e("bx-switch",n);return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-symbolartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-symbolartboard")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/reflect","elements/bx-symbolartboard")),n=(t.createReflectedSVGLength,
t.createReflectedSVGRect),r=t.createReflectedSVGPreserveAspectRatio,i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._viewBox=n(this,"viewBox"),this._preserveAspectRatio=r(this,"preserveAspectRatio");
},get contentType(){return"symbol"},get viewBox(){return this._viewBox},get preserveAspectRatio(){
return this._preserveAspectRatio}},{},e)}(SVGGElement),a=e("g","bx-symbolartboard",i);
return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-symbolslist",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-symbolslistitem","elements/bx-symbolslist")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-filterinput","elements/bx-symbolslist"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-symbolslist")),t=e.getSymbolThumbnails,n=e.rasterizeArtwork,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-symbolslist")).getClientBBox,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-symbolslist")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-symbolslist")),o=a.combineRects,s=a.transformRect,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-symbolslist")),u=l.debounce,c=l.sleep,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-symbolslist")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-symbolslist")),v=h.createElement,f=h.registerElement,m=h.insertElementAfter,b=h.getElementIndex,g=h.sortByDomPosition,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-symbolslist"))["default"],y=Number.parseFloat,x=(Object.keys,
'\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-symbolslist.css");</style>\n\n  <main>\n    <header>\n      <h2>Symbols</h2>\n\n      <bx-button\n        id="delete-symbol-button"\n        skin="iconic"\n        icon="minus"\n        title="Delete symbol"\n        iconsize="15">\n      </bx-button>\n\n      <bx-button\n        id="create-symbol-button"\n        title="Create new symbol"\n        skin="iconic"\n        icon="plus"\n        iconsize="15">\n      </bx-button>\n    </header>\n\n    <div id="items"></div>\n    <div id="placeholder">No symbols found.</div>\n    <div id="drag-separator"></div>\n    <bx-filterinput id="filter-input" placeholder="Filter symbols"></bx-filterinput>\n  </main>\n'),_=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._update2000Db=u(this._update,2e3,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=x;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("keydown",function(t){
return e._onKeyDown(t)}),this["#items"].addEventListener("focusin",function(t){return e._onItemsFocusIn(t);
}),this["#items"].addEventListener("rename",function(t){return e._onItemRename(t);
}),this["#items"].addEventListener("dragstart",function(t){return e._onItemDragStart(t);
}),this["#delete-symbol-button"].addEventListener("click",function(t){return e._onDeleteSymbolButtonClick(t);
}),this["#create-symbol-button"].addEventListener("click",function(t){return e._onCreateSymbolButtonClick(t);
}),this["#filter-input"].addEventListener("input",function(){return e._onFilterInputInput();
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled===!0?this._onEnabled():this._onDisabled());
},get enabled(){return!!this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
"id"===t.detail.attributeName&&"symbol"===t.detail.target.localName?e._update():t.detail.addedNodes[0]&&"symbol"===t.detail.addedNodes[0].localName?e._update():e._update2000Db();
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onDeleteSymbolButtonClick:function(e){0===e.button&&this._maybeDeleteHighlightedItem();
},_onCreateSymbolButtonClick:function(e){if(0===e.button){body.canvas.undoManager.checkpoint("Create symbol");
var t=body.canvas.generateUniqueID("symbol"),a=v("bx-symbolslistitem");a.symbolID=t,
this["#items"].append(a);var l=!0,u=!1,h=void 0;try{for(var f=void 0,b=this["#items"].children[Symbol.iterator]();!(l=(f=b.next()).done);l=!0){
var p=f.value;p.highlighted=p===a}}catch(y){u=!0,h=y}finally{try{l||null==b["return"]||b["return"]();
}finally{if(u)throw h}}body.canvas.selectedElements.length>0&&n(body.canvas.extractArtworkWithSelectedElements()).then(function(e){
a.thumbnail=e}),c(100).then(function(){return a.focus()});var x=body.canvas.defs.querySelectorAll("symbol"),_=x[x.length-1],w=v("svg:symbol");
if(_?m(w,_):body.canvas.defs.append(w),0===body.canvas.selectedElements.length)w.setAttribute("id",t),
w.setAttribute("viewBox","0 0 100 100");else{var S=o(function(){var e=0,t=[],n=!0,i=!1,a=void 0;
try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t[e++]=r(l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());S=s(S,body.canvas.currentArtboard.getCTM().inverse());
var M=-S.x,C=-S.y,R=i(S.width,4),k=i(S.height,4),E=!0,A=!1,P=void 0;try{for(var T=void 0,L=g(body.canvas.selectedElements)[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var $=T.value,j=new SVGMatrix;j.translateSelf(M,C),j.multiplySelf(d($,body.canvas.currentArtboard)),
$.setAttribute("transform",j),w.append($)}}catch(N){A=!0,P=N}finally{try{E||null==L["return"]||L["return"]();
}finally{if(A)throw P}}w.setAttribute("id",t),w.setAttribute("viewBox","0 0 "+R+" "+k),
body.canvas.selectedElements=[],body.canvas.selectedTextRange=null,body.canvas.currentContainer=null;
}}},_onItemsFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this["#delete-symbol-button"].disabled=!1},_onItemRename:function(e){
body.canvas.undoManager.checkpoint("Rename symbol");var t=e.target,n=e.detail,r=n.oldID,i=n.newID;
t.symbolID=i;for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),o=null;o=a.nextNode();)"symbol"===o.localName&&o.id===r?o.setAttribute("id",i):"g"===o.localName&&"symbol"===o.contentType?o.setAttribute("id",i):"use"===o.localName&&o.href.baseVal==="#"+r&&o.setAttribute("href","#"+i);
},_onItemDragStart:function(e){var t,n,r,i=this,a=e.target,o=($traceurRuntime.spread(this["#items"].children),
y(getComputedStyle(this["#drag-separator"]).height)),s=b(a),l=null;window.addEventListener("dragover",t=function(e){
var t=i._shadowRoot.elementFromPoint(e.clientX,e.clientY);if(t&&"bx-symbolslistitem"===t.localName){
var n=t,r=n.getBoundingClientRect();i["#drag-separator"].hidden=!1,i["#drag-separator"].style.width=r.width+"px",
i["#drag-separator"].style.left=r.x+"px",e.clientY<r.y+r.height/2?(i["#drag-separator"].style.top=r.y-o/2+"px",
l=b(n)):(i["#drag-separator"].style.top=r.y+r.height-o/2+"px",l=b(n)+1)}else i["#drag-separator"].hidden=!0,
l=null}),this["#items"].addEventListener("dragend",r=function(e){if(i["#items"].removeEventListener("dragover",t),
i["#items"].removeEventListener("dragleave",n),i["#items"].removeEventListener("dragend",r),
i["#drag-separator"].hidden=!0,null!==l&&s!==l&&s!==l-1){a.style.display="none",i["#items"].insertBefore(a,i["#items"].children[l]),
c(50).then(function(){a.style.display=null,a.focus()}),body.canvas.undoManager.checkpoint("Reorder symbols");
var o=$traceurRuntime.spread(body.canvas.defs.querySelectorAll("symbol")),u=o.find(function(e){
return e.id===a.symbolID});o[l]?o[l].parentElement.insertBefore(u,o[l]):body.canvas.defs.append(u);
}})},_onFilterInputInput:function(){var e=this["#filter-input"].value,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#items"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.hidden=("#"+o.symbolID.toLowerCase()).includes(e.toLowerCase())===!1;
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updatePlaceholderVisibility()},_onKeyDown:function(e){var t=p.fromEvent(e);
t.matches("Backspace")?null!==this["#items"].querySelector(":focus")&&(e.preventDefault(),
e.stopPropagation(),this._maybeDeleteHighlightedItem()):t.matches("ArrowUp")?(e.preventDefault(),
e.stopPropagation(),this._focusPreviousItem()):t.matches("ArrowDown")&&(e.preventDefault(),
e.stopPropagation(),this._focusNextItem())},_update:function(){var e=this;if(this._updating)return void c(1e3).then(function(){
return e._update()});this._updating=!0;var n=body.canvas.masterArtboard.querySelectorAll("symbol"),r=$traceurRuntime.spread(this["#items"].children),i=0;
if(r.length>n.length)for(var a=n.length;a<r.length;a+=1)r[a].remove();else r.length<n.length&&(this["#create-symbol-button"].disabled=!0,
this["#delete-symbol-button"].disabled=!0);var o=function(t){for(var r=$traceurRuntime.spread(e["#items"].children),a=e["#items"].querySelector("[highlighted]"),l=a?a.symbolID:null,u=e["#filter-input"].value;t.timeRemaining()>10&&i<n.length;){
var c=n[i],d=r[i];d||(d=v("bx-symbolslistitem"),e["#items"].append(d)),d.symbolID=c.id,
d.hidden=("#"+d.symbolID.toLowerCase()).includes(u.toLowerCase())===!1,d.highlighted=c.id===l,
i+=1}e._updatePlaceholderVisibility(),i<n.length?requestIdleCallback(o):(e._updateButtons(),
s())},s=function(){var n=body.canvas.extractArtwork(),r={},i=!0,a=!1,o=void 0;try{
for(var s=void 0,l=e["#items"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[u.symbolID]=u}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}t(n,function(e,t){r[e]&&(r[e].thumbnail=t)},function(){e._updating=!1;
})};requestIdleCallback(o)},_updateButtons:function(){this["#create-symbol-button"].disabled=!1,
this["#delete-symbol-button"].disabled=null===this["#items"].querySelector("[highlighted]");
},_updatePlaceholderVisibility:function(){this["#placeholder"].hidden=null!==this["#items"].querySelector(":not([hidden])");
},_focusPreviousItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getPreviousVisibleItem(e);
t&&t.focus()},_focusNextItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getNextVisibleItem(e);
t&&t.focus()},_maybeDeleteHighlightedItem:function(){var e=this,t=this["#items"].querySelector("[highlighted]");
if(t){var n=t.symbolID,r=$traceurRuntime.spread(body.canvas.artboards.querySelectorAll("use")).filter(function(e){
return e.href.baseVal==="#"+n}),i=function(){body.canvas.undoManager.checkpoint("Delete symbol"),
"symbol"===body.canvas.currentArtboard.contentType&&body.canvas.currentArtboard.id===n&&body.canvas.editSymbolEnd(!1);
var r=e._getNextVisibleItem(t),i=e._getPreviousVisibleItem(t);r?r.focus():i?i.focus():e["#delete-symbol-button"].disabled=!0,
t.remove(),e._updatePlaceholderVisibility();for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),o=null,s=[];o=a.nextNode();)"symbol"===o.localName&&o.id===n?(o.remove(),
s.push(o)):"use"===o.localName&&o.href.baseVal==="#"+n&&(o.remove(),s.push(o));body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return!s.includes(e)})};if(0===r.length)i();else{var a={message:"Delete the sybmol with "+r.length+" instance(s)?",
buttons:["Cancel","Delete"]};body.bridge.postMessage("showMessageBox",a,function(e){
1===e&&i()})}}},_assertItemsLength:function(e){var t=this["#items"].childElementCount;
if(e>t)for(var n=t;e>n;n+=1){var r=v("bx-symbolslistitem");this["#items"].append(r);
}else if(t>e)for(var i=t-1;i>=e;i-=1)this["#items"].children[i].remove()},_getPreviousVisibleItem:function(e){
for(;e.previousElementSibling;){if(e.previousElementSibling.hidden===!1)return e.previousElementSibling;
e=e.previousElementSibling}return null},_getNextVisibleItem:function(e){for(;e.nextElementSibling;){
if(e.nextElementSibling.hidden===!1)return e.nextElementSibling;e=e.nextElementSibling;
}return null}},{},e)}(HTMLElement),w=f("bx-symbolslist",_);return{get default(){return w;
}}}),$traceurRuntime.registerModule("elements/bx-symbolslistitem",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-symbolslistitem"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-symbolslistitem")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-symbolslistitem"))["default"],i='\n  <style>@import url("stylesheets/bx-symbolslistitem.css");</style>\n\n  <main>\n    <img id="thumbnail"></img>\n    <bx-input id="input" skin="bx-defscontrols"></bx-input>\n  </main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this.draggable=!0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("dragstart",function(t){
return e._onHostDragStart(t)}),this.addEventListener("dragend",function(t){return e._onHostDragEnd(t);
}),this.addEventListener("keydown",function(t){return e._onHostKeyDown(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocusIn(t)}),this["#input"].addEventListener("focusout",function(t){
return e._onInputFocusOut(t)}),this["#input"].addEventListener("keydown",function(t){
return e._onInputKeyDown(t)}),this["#input"].addEventListener("change",function(t){
return e._onInputChange(t)}),this["#input"].addEventListener("confirm",function(){
return e.focus()}),this["#input"].addEventListener("cancel",function(){return e.focus();
}),this["#input"].validate=function(t){return e._validateInputValue(t)}},attributeChangedCallback:function(e){
"symbolid"===e&&this._onSymbolIDAttributeChange()},get symbolID(){return this.hasAttribute("symbolid")?this.getAttribute("symbolid"):null;
},set symbolID(e){e?this.setAttribute("symbolid",e):this.removeAttribute("symbolid");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(e){null===e?this["#thumbnail"].src="":this["#thumbnail"].src=e;
},_onSymbolIDAttributeChange:function(){null===this.symbolID?this["#input"].value="":this["#input"].value="#"+this.symbolID;
},_onShadowRootDblClick:function(e){e.target===this["#thumbnail"]?body.canvas.editSymbol(this.symbolID):this["#input"].matches(":focus")===!1&&this["#input"].focus();
},_onHostDragStart:function(e){this._dragImage=t("img"),this._dragImage.id="drag-image",
this._dragImage.src=this["#thumbnail"].src,this._dragImage.style.position="fixed",
this._dragImage.style.transform="translate(9999px, 9999px)",this._dragImage.width=38,
this._dragImage.height=38,this._shadowRoot.append(this._dragImage),e.dataTransfer.setData("text","#"+this.symbolID),
e.dataTransfer.setData("bx-symbolslistitem/symbolID",this.symbolID),e.dataTransfer.setDragImage(this._dragImage,this._dragImage.width/2,this._dragImage.height/2);
},_onHostDragEnd:function(e){this._dragImage.remove()},_onHostKeyDown:function(e){
var t=r.fromEvent(e);t.matches("Enter")&&(this["#input"].focus(),this["#input"].selectAll());
},_onInputFocusIn:function(){this["#input"].style.pointerEvents="auto",this["#input"].selectAll(),
this.draggable=!1,this.setAttribute("inputmode","")},_onInputFocusOut:function(e){
this["#input"].style.pointerEvents="none",this.draggable=!0,this.removeAttribute("inputmode");
},_onInputKeyDown:function(e){var t=r.fromEvent(e);(t.matches("Enter")||t.matches("Escape"))&&(e.stopPropagation(),
this.focus())},_onInputChange:function(){var e=this.symbolID,t=this["#input"].value.substring(1);
this.dispatchEvent(new CustomEvent("rename",{bubbles:!0,detail:{oldID:e,newID:t}}));
},_validateInputValue:function(e){var t=/^#[a-z]+[a-z0-9\-_]*$/i.test(e);return t?e==="#"+this.symbolID?!0:null===body.canvas.artboards.querySelector(e):!1;
}},{},e)}(HTMLElement),o=n("bx-symbolslistitem",a);return{get default(){return o}
}}),$traceurRuntime.registerModule("elements/bx-texttool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-texttool")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-texttool")).parseSVG,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-texttool")).round,i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("click",this._clickListener=function(t){
return e._onClick(t)})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("click",this._clickListener)},_onClick:function(e){
var t,i,a,o,s,l,u,c,d;return $traceurRuntime.asyncWrap(function(h){for(;;)switch(h.state){
case 0:body.canvas.undoManager.checkpoint("Text"),body.canvas.googleFontsManager.importFamily("Roboto"),
t=body.canvas.currentContainer||body.canvas.currentArtboard,i=t.getScreenCTM().inverse(),
a=new SVGPoint(e.clientX,e.clientY),o=a.matrixTransform(i),s=r(o.x,body.canvas.geometryPrecision),
l=r(o.y,body.canvas.geometryPrecision),u='<tspan style="font-size: 16; font-family: Roboto;">Enter your text here</tspan>',
c='<text x="'+s+'" y="'+l+'">'+u+"</text>",d=n(c),t.append(d),body.canvas.selectedElements=[d],
body.toggleTool("edit-tool"),h.state=-2;break;default:return h.end()}},this)}},{},e);
}(HTMLElement),a=t("bx-texttool",i);return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-transformhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-transformhud")),t=e.getUserBBox,n=e.getClientBBox,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-transformhud")).registerElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-transformhud")).isMouseMoveIntentional,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-transformhud")),o=a.getRotationAngleFromPoints,s=a.snapRotationAngle,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-transformhud")).round,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-transformhud")),c=u.transformRect,d=u.combineRects,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-transformhud")),v=h.sleep,f=h.throttle,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-transformhud")).reduceTransform,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-transformhud")),g=b.getComputedTransformOriginClientPoint,p=b.getTransformToElement,y=b.getElementRotationAngle,x=b.setElementRotationAngle,_=b.skew,w=b.userPointToBBoxPoint,S=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/decomposed-transform","elements/bx-transformhud"))["default"],M=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-transformhud"))["default"],C=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-transformhud"))["default"],R=Math,k=R.abs,E=R.min,A=R.max,P=(R.atan2,
Number.parseFloat),T=12,L=12,$=12,j=10,N=new M("initialStrokeWidth","initialVectorEffect","initialTransforms","initialUserBBox"),O='\n  <style>@import url("stylesheets/bx-transformhud.css");</style>\n\n  <g id="grippies">\n    <g id="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g id="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g id="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg id="origin-grippie" viewBox="0 0 50 50" visibility="hidden">\n      <use href="images/icons.svg#cross" x="0" y="0" width="50" height="50"></use>\n      <rect x="0" y="0" width="50" height="50" style="opacity: 0;"/>\n    </svg>\n  </g>\n',V=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._scaleGrippiesByPosition={},this._skewGrippiesByPosition={},
this._rotateGrippiesByPosition={},this._isDraggingRotateGrippie=!1,this._preserveStrokeWidth=!0,
this._preserveRectRadii=!0,this._preservePathRotation=!0,this._preserveAspectRatio=!1,
this._updateGrippies25Th=f(this._updateGrippies,25,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=O;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this["#scale-grippies"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this._scaleGrippiesByPosition[v.getAttribute("data-position")]=v}}catch(m){
u=!0,c=m}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}var b=!0,g=!1,p=void 0;
try{for(var y=void 0,x=this["#rotate-grippies"].children[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){
var _=y.value;this._rotateGrippiesByPosition[_.getAttribute("data-position")]=_}}catch(w){
g=!0,p=w}finally{try{b||null==x["return"]||x["return"]()}finally{if(g)throw p}}var S=!0,M=!1,C=void 0;
try{for(var R=void 0,k=this["#skew-grippies"].children[Symbol.iterator]();!(S=(R=k.next()).done);S=!0){
var E=R.value;this._skewGrippiesByPosition[E.getAttribute("data-position")]=E}}catch(A){
M=!0,C=A}finally{try{S||null==k["return"]||k["return"]()}finally{if(M)throw C}}this._shadowRoot.addEventListener("mousedown",function(t){
e._onMouseDown(t)}),this._shadowRoot.addEventListener("dblclick",function(t){e._onDblClick(t);
}),body.getConfig("bx-transformtoolcontrols:preserveStrokeWidth").then(function(t){
e._preserveStrokeWidth=null===t?!0:t}),body.getConfig("bx-transformtoolcontrols:preserveRectRadii").then(function(t){
e._preserveRectRadii=null===t?!0:t}),body.getConfig("bx-transformtoolcontrols:preservePathRotation").then(function(t){
e._preservePathRotation=null===t?!0:t}),body.getConfig("bx-transformtoolcontrols:preserveAspectRatio").then(function(t){
e._preserveAspectRatio=null===t?!1:t});var P=!0,T=!1,L=void 0;try{for(var $=void 0,j=this.attributes[Symbol.iterator]();!(P=($=j.next()).done);P=!0){
var N=$.value;this.attributeChangedCallback(N.name)}}catch(V){T=!0,L=V}finally{try{
P||null==j["return"]||j["return"]()}finally{if(T)throw L}}},attributeChangedCallback:function(e){
"enabled"===e?this.enabled?this._onEnabled():this._onDisabled():"mode"===e&&this._onModeAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get mode(){return this.hasAttribute("mode")?this.getAttribute("mode"):"scale"},
set mode(e){this.setAttribute("mode",e)},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),
this._onZoomChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.addEventListener("configchange",this._configChangeListener=function(t){
e._onConfigChange(t)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.removeEventListener("configchange",this._configChangeListener);
},_onModeAttributeChange:function(){"scale"===this.mode?(this["#scale-grippies"].style.visibility="visible",
this["#rotate-grippies"].style.visibility="hidden",this["#skew-grippies"].style.visibility="hidden",
this["#origin-grippie"].style.visibility="hidden"):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.visibility="hidden",
this["#rotate-grippies"].style.visibility="visible",this["#skew-grippies"].style.visibility="visible",
this["#origin-grippie"].style.visibility="visible"),this._updateGrippies()},_onConfigChange:function(e){
var t=e.detail,n=t.key,r=t.value;"bx-transformtoolcontrols:preserveStrokeWidth"===n?this._preserveStrokeWidth=null===r?!0:r:"bx-transformtoolcontrols:preserveRectRadii"===n?this._preserveRectRadii=null===r?!0:r:"bx-transformtoolcontrols:preservePathRotation"===n?this._preservePathRotation=null===r?!0:r:"bx-transformtoolcontrols:preserveAspectRatio"===n&&(this._preserveAspectRatio=null===r?!1:r);
},_onSelectedElementsChange:function(){0===body.canvas.selectedElements.length?this["#grippies"].style.display="none":this["#grippies"].style.display="block",
this._updateGrippies()},_onArtboardMutation:function(e){this._updateGrippies25Th();
},_onZoomChange:function(){this._updateGrippies25Th()},_onMouseDown:function(e){var t,n,r=this,a=e.target;
window.addEventListener("mousemove",t=function(n){i(e,n)&&(window.removeEventListener("mousemove",t),
r._onDragStart(a,e,n))}),window.addEventListener("mouseup",n=function(e){window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n)})},_onDblClick:function(e){var t=e.target.parentElement;
t===this["#rotate-grippies"]?this._onRotateGrippieDblClick(e):t===this["#skew-grippies"]?this._onSkewGrippieDblClick(e):t===this["#origin-grippie"]&&this._onOriginGrippieDblClick(e);
},_onDragStart:function(e,t){var n=e.parentElement;n===this["#scale-grippies"]?this._onScaleGrippieDragStart(t):n===this["#rotate-grippies"]?this._onRotateGrippieDragStart(t):n===this["#skew-grippies"]?this._onSkewGrippieDragStart(t):n===this["#origin-grippie"]&&this._onOriginGrippieDragStart(t);
},_onScaleGrippieDragStart:function(e){var r=this;if(0===e.button){var i,a,o=$traceurRuntime.spread(body.canvas.selectedElements),s=e.path[0].getAttribute("data-position");
body.canvas.undoManager.checkpoint("Scale Transform"),body.canvas.outlinesHud.enabled=!1;
var l=!0,u=!1,c=void 0;try{for(var h=void 0,v=o[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;if(this._preserveStrokeWidth===!0){var b=f.getScreenCTM(),g=S.fromSVGMatrix(b),p=g.scaleX,y=g.scaleY,x="left"===s||"right"===s?p:y,_=getComputedStyle(f);
f[N.initialStrokeWidth]=f.style.strokeWidth,f[N.initialVectorEffect]=f.style.vectorEffect;
var w=k(x)*P(_.strokeWidth);f.style.strokeWidth=w,f.style.vectorEffect="non-scaling-stroke";
}}}catch(M){u=!0,c=M}finally{try{l||null==v["return"]||v["return"]()}finally{if(u)throw c;
}}if(1===o.length){var C=o[0],R=t(C),E=C.getScreenCTM(),A=E.inverse(),T=SVGMatrix.fromMatrix(C.transform.baseVal.consolidate().matrix),L=new SVGPoint(e.clientX,e.clientY);
L=L.matrixTransform(A),window.addEventListener("mousemove",i=function(e){var t=new SVGPoint(e.clientX,e.clientY);
t=t.matrixTransform(A);var n=t.x-L.x,i=t.y-L.y,a=r._scaleParams(n,i,R,s),o=a.centerX,l=a.centerY,u=a.scaleX,c=a.scaleY,d=-o*(u-1),h=-l*(c-1),v=SVGMatrix.fromMatrix(T);
v.translateSelf(d,h),v.scaleNonUniformSelf(u,c),C.setAttribute("transform",v.toString());
})}else if(o.length>1){var $=function(){var e=0,t=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t[e++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}(),j=d($),O=!0,V=!1,z=void 0;try{for(var D=void 0,G=o[Symbol.iterator]();!(O=(D=G.next()).done);O=!0){
var I=D.value,B=I.getScreenCTM(),U=B.inverse(),H=SVGMatrix.fromMatrix(I.transform.baseVal.consolidate().matrix);
I[N.initialTransforms]={clientToUserTransform:B,userToClientTransform:U,userTransform:H
}}}catch(F){V=!0,z=F}finally{try{O||null==G["return"]||G["return"]()}finally{if(V)throw z;
}}window.addEventListener("mousemove",i=function(t){var n=!0,i=!1,a=void 0;try{for(var l=void 0,u=o[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){
var c=l.value,d=t.clientX-e.clientX,h=t.clientY-e.clientY,v=c[N.initialTransforms],f=v.clientToUserTransform,m=v.userToClientTransform,b=v.userTransform,g=r._scaleParams(d,h,j,s),p=g.centerX,y=g.centerY,x=g.scaleX,_=g.scaleY,w=-p*(x-1),S=-y*(_-1),M=SVGMatrix.fromMatrix(b);
M.multiplySelf(m),M.translateSelf(w,S),M.scaleNonUniformSelf(x,_),M.multiplySelf(f),
c.setAttribute("transform",M.toString())}}catch(C){i=!0,a=C}finally{try{n||null==u["return"]||u["return"]();
}finally{if(i)throw a}}})}window.addEventListener("mouseup",a=function(e){window.removeEventListener("mousemove",i),
window.removeEventListener("mouseup",a);var t=!0,n=!1,s=void 0;try{for(var l=void 0,u=o[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){
var c=l.value;r._preserveStrokeWidth===!0&&(c.style.strokeWidth=c[N.initialStrokeWidth],
c.style.vectorEffect=c[N.initialVectorEffect]),m(c,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preserveStrokeWidth:r._preserveStrokeWidth,
preserveRectRadii:r._preserveRectRadii,preservePathRotation:r._preservePathRotation
})}}catch(d){n=!0,s=d}finally{try{t||null==u["return"]||u["return"]()}finally{if(n)throw s;
}}body.canvas.outlinesHud.enabled=!0})}},_onRotateGrippieDragStart:function(e){var t=this;
if(0===e.button){var n=$traceurRuntime.spread(body.canvas.selectedElements);if(body.canvas.undoManager.checkpoint("Rotate Transform"),
body.canvas.outlinesHud.enabled=!1,1===n.length){var r,i,a=n[0],l=y(a),u=new SVGPoint(e.clientX,e.clientY),c=g([a]);
this._isDraggingRotateGrippie=!0,window.addEventListener("mousemove",r=function(e){
var t=new SVGPoint(e.clientX,e.clientY),n=o(c,u,t),r=l+n;body.modKeys.shift&&(r=s(r,15)),
x(a,r)}),window.addEventListener("mouseup",i=function(e){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",i),m(a,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preserveStrokeWidth:t._preserveStrokeWidth,
preserveRectRadii:t._preserveRectRadii,preservePathRotation:t._preservePathRotation
}),t._isDraggingRotateGrippie=!1,body.canvas.outlinesHud.enabled=!0})}else{var d,h,v=g(n),f=new SVGPoint(e.clientX,e.clientY),b=!0,p=!1,_=void 0;
try{for(var w=void 0,S=n[Symbol.iterator]();!(b=(w=S.next()).done);b=!0){var M=w.value,C=SVGMatrix.fromMatrix(M.transform.baseVal.consolidate().matrix),R=M.getScreenCTM(),k=R.inverse();
M[N.initialTransforms]={clientToUserTransform:R,userToClientTransform:k,userTransform:C
}}}catch(E){p=!0,_=E}finally{try{b||null==S["return"]||S["return"]()}finally{if(p)throw _;
}}this._isDraggingRotateGrippie=!0,window.addEventListener("mousemove",d=function(e){
var t=!0,r=!1,i=void 0;try{for(var a=void 0,l=n[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){
var u=a.value,c=u[N.initialTransforms],d=c.clientToUserTransform,h=c.userToClientTransform,m=c.userTransform,b=new SVGPoint(e.clientX,e.clientY),g=o(v,f,b);
body.modKeys.shift&&(g=s(g,15));var p=SVGMatrix.fromMatrix(m);p.multiplySelf(h),p.rotateSelf(g,v.x,v.y),
p.multiplySelf(d),u.setAttribute("transform",p.toString())}}catch(y){r=!0,i=y}finally{
try{t||null==l["return"]||l["return"]()}finally{if(r)throw i}}}),window.addEventListener("mouseup",h=function(e){
window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h);
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;m(l,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preserveStrokeWidth:t._preserveStrokeWidth,preserveRectRadii:t._preserveRectRadii,
preservePathRotation:t._preservePathRotation})}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}t._isDraggingRotateGrippie=!1,body.canvas.outlinesHud.enabled=!0;
})}}},_onSkewGrippieDragStart:function(e){var t=this;if(0===e.button){var n,r,i,a=$traceurRuntime.spread(body.canvas.selectedElements),s=e.path[0].getAttribute("data-position");
i="top"===s||"bottom"===s?"horizontal":"vertical",body.canvas.undoManager.checkpoint("Skew Transform"),
body.canvas.outlinesHud.enabled=!1;var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;v[N.initialStrokeWidth]=v.style.strokeWidth,v[N.initialVectorEffect]=v.style.vectorEffect;
var f=v.getScreenCTM(),b=S.fromSVGMatrix(f),p=b.scaleX,y=b.scaleY,x=(p+y)/2,w=getComputedStyle(v),M=k(x)*P(w.strokeWidth);
v.style.strokeWidth=M,v.style.vectorEffect="non-scaling-stroke"}}catch(C){u=!0,c=C;
}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}if(1===a.length){
var R=a[0],E=R.getScreenCTM(),A=E.inverse(),T=SVGMatrix.fromMatrix(R.transform.baseVal.consolidate().matrix),L=new SVGPoint(e.clientX,e.clientY);
L=L.matrixTransform(A);var $=g(a);$=$.matrixTransform(A),window.addEventListener("mousemove",n=function(e){
var t=body.modKeys,n=(t.ctrl,t.alt,t.shift,new SVGPoint(e.clientX,e.clientY));n=n.matrixTransform(A);
var r=o($,L,n),a=SVGMatrix.fromMatrix(T);a="horizontal"===i?_(a,-r,0,$.x,$.y):_(a,0,r,$.x,$.y),
R.setAttribute("transform",a.toString())})}else if(a.length>1){var j=new SVGPoint(e.clientX,e.clientY),O=g(a),V=!0,z=!1,D=void 0;
try{for(var G=void 0,I=a[Symbol.iterator]();!(V=(G=I.next()).done);V=!0){var B=G.value,U=B.getScreenCTM(),H=U.inverse(),F=SVGMatrix.fromMatrix(B.transform.baseVal.consolidate().matrix);
B[N.initialTransforms]={clientToUserTransform:U,userToClientTransform:H,userTransform:F
}}}catch(q){z=!0,D=q}finally{try{V||null==I["return"]||I["return"]()}finally{if(z)throw D;
}}window.addEventListener("mousemove",n=function(e){var t=!0,n=!1,r=void 0;try{for(var s=void 0,l=a[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){
var u=s.value,c=u[N.initialTransforms],d=c.clientToUserTransform,h=c.userToClientTransform,v=c.userTransform,f=new SVGPoint(e.clientX,e.clientY),m=o(O,j,f),b=SVGMatrix.fromMatrix(v);
b.multiplySelf(h),b="horizontal"===i?_(b,-m,0,O.x,O.y):_(b,0,m,O.x,O.y),b.multiplySelf(d),
u.setAttribute("transform",b.toString())}}catch(g){n=!0,r=g}finally{try{t||null==l["return"]||l["return"]();
}finally{if(n)throw r}}})}window.addEventListener("mouseup",r=function(e){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r);var i=!0,o=!1,s=void 0;try{for(var l=void 0,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value;c.style.strokeWidth=c[N.initialStrokeWidth],c.style.vectorEffect=c[N.initialVectorEffect];
}}catch(d){o=!0,s=d}finally{try{i||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}m(v,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preserveStrokeWidth:t._preserveStrokeWidth,preserveRectRadii:t._preserveRectRadii,
preservePathRotation:t._preservePathRotation}),body.canvas.outlinesHud.enabled=!0;
})}},_onOriginGrippieDragStart:function(e){if(0===e.button){var n,r,i=$traceurRuntime.spread(body.canvas.selectedElements),a=new SVGPoint(e.clientX,e.clientY),o=!0,s=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,v=h.getScreenCTM().inverse(),f=t(h);
h[N.initialTransforms]={clientToUserTransform:v},h[N.initialUserBBox]=f}}catch(m){
s=!0,u=m}finally{try{o||null==d["return"]||d["return"]()}finally{if(s)throw u}}body.canvas.undoManager.checkpoint("Transform Origin"),
body.canvas.outlinesHud.enabled=!1;var b=g(i);window.addEventListener("mousemove",n=function(e){
var t=new SVGPoint(e.clientX,e.clientY),n=new C(a,t),r=new SVGPoint(b.x+n.x,b.y+n.y),o=!0,s=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,v=h[N.initialTransforms].clientToUserTransform,f=h[N.initialUserBBox],m=r.matrixTransform(v),g=w(m,f),p=l(g.x,body.canvas.geometryPrecision),y=l(g.y,body.canvas.geometryPrecision);
h.setAttribute("data-bx-origin",p+" "+y)}}catch(x){s=!0,u=x}finally{try{o||null==d["return"]||d["return"]();
}finally{if(s)throw u}}}),window.addEventListener("mouseup",r=function(e){window.removeEventListener("mousemove",n),
window.removeEventListener("mouseup",r),body.canvas.outlinesHud.enabled=!0})}},_onRotateGrippieDblClick:function(e){
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=body.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.removeAttribute("transform")}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_onSkewGrippieDblClick:function(e){var t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=body.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.removeAttribute("transform")}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_onOriginGrippieDblClick:function(e){var t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=body.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.removeAttribute("data-bx-origin")}}catch(s){n=!0,r=s}finally{try{
t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_updateGrippies:function(){
"scale"===this.mode?this._updateScaleGrippies():"rotate-and-skew"===this.mode&&(this._updateRotateGrippies(),
this._updateSkewGrippies(),this._isDraggingRotateGrippie===!1&&this._updateOriginGrippie());
},_updateRotateGrippies:function(){var e=L/body.canvas.scale,r=(3/body.canvas.scale,
this._rotateGrippiesByPosition),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=this["#rotate-grippies"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;u.width.baseVal.value=e,u.height.baseVal.value=e}}catch(h){a=!0,o=h;
}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}if(1===body.canvas.selectedElements.length){
var v,f,m=body.canvas.selectedElements[0],b=p(m,this),g=t(m);f=new SVGPoint(g.x,g.y),
v=f.matrixTransform(b),r["top-left"].x.baseVal.value=v.x-e/2,r["top-left"].y.baseVal.value=v.y-e/2,
f=new SVGPoint(g.x+g.width,g.y),v=f.matrixTransform(b),r["top-right"].x.baseVal.value=v.x-e/2,
r["top-right"].y.baseVal.value=v.y-e/2,f=new SVGPoint(g.x,g.y+g.height),v=f.matrixTransform(b),
r["bottom-left"].x.baseVal.value=v.x-e/2,r["bottom-left"].y.baseVal.value=v.y-e/2,
f=new SVGPoint(g.x+g.width,g.y+g.height),v=f.matrixTransform(b),r["bottom-right"].x.baseVal.value=v.x-e/2,
r["bottom-right"].y.baseVal.value=v.y-e/2}else if(body.canvas.selectedElements.length>1){
var y=this.getScreenCTM().inverse(),x=d(function(){var e=0,t=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t[e++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());x=c(x,y),r["top-left"].x.baseVal.value=x.x-e/2,
r["top-left"].y.baseVal.value=x.y-e/2,r["top-right"].x.baseVal.value=x.x+x.width-e/2,
r["top-right"].y.baseVal.value=x.y-e/2,r["bottom-left"].x.baseVal.value=x.x-e/2,r["bottom-left"].y.baseVal.value=x.y+x.height-e/2,
r["bottom-right"].x.baseVal.value=x.x+x.width-e/2,r["bottom-right"].y.baseVal.value=x.y+x.height-e/2;
}},_updateSkewGrippies:function(){var e=$/body.canvas.scale,r=(3/body.canvas.scale,
this._skewGrippiesByPosition),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=this["#skew-grippies"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;u.width.baseVal.value=e,u.height.baseVal.value=e}}catch(h){a=!0,o=h;
}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}if(1===body.canvas.selectedElements.length){
var v,f=body.canvas.selectedElements[0],m=p(f,this),b=t(f);v=new SVGPoint(b.x+b.width/2,b.y),
v=v.matrixTransform(m),r.top.x.baseVal.value=v.x-e/2,r.top.y.baseVal.value=v.y-e/2,
v=new SVGPoint(b.x+b.width/2,b.y+b.height),v=v.matrixTransform(m),r.bottom.x.baseVal.value=v.x-e/2,
r.bottom.y.baseVal.value=v.y-e/2,v=new SVGPoint(b.x,b.y+b.height/2),v=v.matrixTransform(m),
r.left.x.baseVal.value=v.x-e/2,r.left.y.baseVal.value=v.y-e/2,v=new SVGPoint(b.x+b.width,b.y+b.height/2),
v=v.matrixTransform(m),r.right.x.baseVal.value=v.x-e/2,r.right.y.baseVal.value=v.y-e/2;
}else if(body.canvas.selectedElements.length>1){var g=this.getScreenCTM().inverse(),y=d(function(){
var e=0,t=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t[e++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());y=c(y,g),r.top.x.baseVal.value=y.x+y.width/2-e/2,
r.top.y.baseVal.value=y.y-e/2,r.bottom.x.baseVal.value=y.x+y.width/2-e/2,r.bottom.y.baseVal.value=y.y+y.height-e/2,
r.left.x.baseVal.value=y.x-e/2,r.left.y.baseVal.value=y.y+y.height/2-e/2,r.right.x.baseVal.value=y.x+y.width-e/2,
r.right.y.baseVal.value=y.y+y.height/2-e/2}},_updateScaleGrippies:function(){var e=T/body.canvas.scale,r=(3/body.canvas.scale,
this._scaleGrippiesByPosition),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=this["#scale-grippies"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;u.width.baseVal.value=e,u.height.baseVal.value=e}}catch(h){a=!0,o=h;
}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}if(1===body.canvas.selectedElements.length){
var v,f=body.canvas.selectedElements[0],m=p(f,this),b=t(f);v=new SVGPoint(b.x+b.width/2,b.y),
v=v.matrixTransform(m),r.top.x.baseVal.value=v.x-e/2,r.top.y.baseVal.value=v.y-e/2,
v=new SVGPoint(b.x+b.width/2,b.y+b.height),v=v.matrixTransform(m),r.bottom.x.baseVal.value=v.x-e/2,
r.bottom.y.baseVal.value=v.y-e/2,v=new SVGPoint(b.x,b.y+b.height/2),v=v.matrixTransform(m),
r.left.x.baseVal.value=v.x-e/2,r.left.y.baseVal.value=v.y-e/2,v=new SVGPoint(b.x+b.width,b.y+b.height/2),
v=v.matrixTransform(m),r.right.x.baseVal.value=v.x-e/2,r.right.y.baseVal.value=v.y-e/2,
v=new SVGPoint(b.x,b.y),v=v.matrixTransform(m),r["top-left"].x.baseVal.value=v.x-e/2,
r["top-left"].y.baseVal.value=v.y-e/2,v=new SVGPoint(b.x+b.width,b.y),v=v.matrixTransform(m),
r["top-right"].x.baseVal.value=v.x-e/2,r["top-right"].y.baseVal.value=v.y-e/2,v=new SVGPoint(b.x,b.y+b.height),
v=v.matrixTransform(m),r["bottom-left"].x.baseVal.value=v.x-e/2,r["bottom-left"].y.baseVal.value=v.y-e/2,
v=new SVGPoint(b.x+b.width,b.y+b.height),v=v.matrixTransform(m),r["bottom-right"].x.baseVal.value=v.x-e/2,
r["bottom-right"].y.baseVal.value=v.y-e/2}else if(body.canvas.selectedElements.length>1){
var g=this.getScreenCTM().inverse(),y=d(function(){var e=0,t=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t[e++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());y=c(y,g),r.top.x.baseVal.value=y.x+y.width/2-e/2,
r.top.y.baseVal.value=y.y-e/2,r.bottom.x.baseVal.value=y.x+y.width/2-e/2,r.bottom.y.baseVal.value=y.y+y.height-e/2,
r.left.x.baseVal.value=y.x-e/2,r.left.y.baseVal.value=y.y+y.height/2-e/2,r.right.x.baseVal.value=y.x+y.width-e/2,
r.right.y.baseVal.value=y.y+y.height/2-e/2,r["top-left"].x.baseVal.value=y.x-e/2,
r["top-left"].y.baseVal.value=y.y-e/2,r["top-right"].x.baseVal.value=y.x+y.width-e/2,
r["top-right"].y.baseVal.value=y.y-e/2,r["bottom-left"].x.baseVal.value=y.x-e/2,r["bottom-left"].y.baseVal.value=y.y+y.height-e/2,
r["bottom-right"].x.baseVal.value=y.x+y.width-e/2,r["bottom-right"].y.baseVal.value=y.y+y.height-e/2;
}},_updateOriginGrippie:function(){if(body.canvas.selectedElements.length>=1){var e=j/body.canvas.scale,t=body.canvas.currentArtboard.getScreenCTM().inverse(),n=g(body.canvas.selectedElements);
n=n.matrixTransform(t),this["#origin-grippie"].setAttribute("width",e),this["#origin-grippie"].setAttribute("height",e),
this["#origin-grippie"].setAttribute("x",n.x-e/2),this["#origin-grippie"].setAttribute("y",n.y-e/2);
}},blink:function(){return $traceurRuntime.asyncWrap(function(e){for(;;)switch(e.state){
case 0:this["#grippies"].style.display="none",e.state=4;break;case 4:return void Promise.resolve(v(200)).then(e.createCallback(2),e.errback);
case 2:body.canvas.selectedElements.length>0&&(this["#grippies"].style.display="block"),
e.state=-2;break;default:return e.end()}},this)},_scaleParams:function(e,t,n,r){var i,a,o,s,l,u=body.modKeys,c=u.ctrl,d=(u.alt,
u.shift);return this._preserveAspectRatio===!1?c||d?!c&&d?l="B":c&&!d?l="C":c&&d&&(l="D"):l="A":this._preserveAspectRatio===!0&&(c||d?!c&&d?l="A":c&&!d?l="D":c&&d&&(l="C"):l="B"),
"top"===r?"A"===l?(i=n.x+n.width/2,a=n.y+n.height,o=1,s=(n.height-t)/n.height):"B"===l?(i=n.x+n.width/2,
a=n.y+n.height,s=(n.height-t)/n.height,o=s):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,
o=1,s=(n.height-n.height/2-t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,
s=(n.height-n.height/2-t)/(n.height-n.height/2),o=s):"bottom"===r?"A"===l?(i=n.x+n.width/2,
a=n.y,o=1,s=(n.height+t)/n.height):"B"===l?(i=n.x+n.width/2,a=n.y,s=(n.height+t)/n.height,
o=s):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,o=1,s=(n.height-n.height/2+t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.height-n.height/2+t)/(n.height-n.height/2),o=s):"left"===r?"A"===l?(i=n.x+n.width,
a=n.y+n.height/2,o=(n.width-e)/n.width,s=1):"B"===l?(i=n.x+n.width,a=n.y+n.height/2,
o=(n.width-e)/n.width,s=o):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),
s=1):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),
s=o):"right"===r&&("A"===l?(i=n.x,a=n.y+n.height/2,o=(n.width+e)/n.width,s=1):"B"===l?(i=n.x,
a=n.y+n.height/2,o=(n.width+e)/n.width,s=o):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,
o=(n.width-n.width/2+e)/(n.width-n.width/2),s=1):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,
o=s=(n.width-n.width/2+e)/(n.width-n.width/2))),"top-left"===r?"A"===l?(i=n.x+n.width,
a=n.y+n.height,o=(n.width-e)/n.width,s=(n.height-t)/n.height):"B"===l?(i=n.x+n.width,
a=n.y+n.height,o=(n.width-e)/n.width,s=(n.height-t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=A(o,s):k(o)>=k(s)?o=-s:s=-o):"top-right"===r?"A"===l?(i=n.x,
a=n.y+n.height,o=(n.width+e)/n.width,s=(n.height-t)/n.height):"B"===l?(i=n.x,a=n.y+n.height,
o=(n.width+e)/n.width,s=(n.height-t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2+e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2+e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=A(o,s):k(o)>=k(s)?o=-s:s=-o):"bottom-left"===r?"A"===l?(i=n.x+n.width,
a=n.y,o=(n.width-e)/n.width,s=(n.height+t)/n.height):"B"===l?(i=n.x+n.width,a=n.y,
o=(n.width-e)/n.width,s=(n.height+t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2+t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2+t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=A(o,s):k(o)>=k(s)?o=-s:s=-o):"bottom-right"===r&&("A"===l?(i=n.x,
a=n.y,o=(n.width+e)/n.width,s=(n.height+t)/n.height):"B"===l?(i=n.x,a=n.y,o=(n.width+e)/n.width,
s=(n.height+t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,o=(n.width-n.width/2+e)/(n.width-n.width/2),
s=(n.height-n.height/2+t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,
o=(n.width-n.width/2+e)/(n.width-n.width/2),s=(n.height-n.height/2+t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=A(o,s):k(o)>=k(s)?o=-s:s=-o)),{centerX:i,centerY:a,
scaleX:o,scaleY:s}}},{},e)}(SVGGElement),z=r("g","bx-transformhud",V);return{get default(){
return z}}}),$traceurRuntime.registerModule("elements/bx-transformtool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-transformtool")).getClientBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-transformtool")),n=t.registerElement,r=t.getCommonContainer,i=t.getContainers,a=t.isTransformableElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-transformtool")).isMouseMoveIntentional,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-transformtool")),l=s.rectContainsRect,u=s.transformRect,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","elements/bx-transformtool")).GRAPHICS_ELEMENTS,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-transformtool")).reduceTransform,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-transformtool"))["default"],v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-transformtool"))["default"],f=Math.abs,m=new h("initialTransforms"),b=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("transform-hud"),
body.canvas.enableHud("rubber-band-hud"),body.canvas.artboards.addEventListener("mousedown",this._mouseDownListener=function(t){
e._onArtboardMouseDown(t)}),body.canvas.artboards.addEventListener("contextmenu",this._contextMenuListener=function(t){
e._onArtboardContextMenu(t)})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),
body.canvas.disableHud("transform-hud"),body.canvas.disableHud("rubber-band-hud"),
body.canvas.artboards.removeEventListener("mousedown",this._mouseDownListener),body.canvas.artboards.removeEventListener("contextmenu",this._contextMenuListener);
},_onArtboardContextMenu:function(e){var t=body.canvas.getHitArtboardElements(e.clientX,e.clientY);
if(t.length>0){var n=t[t.length-1],r=i(n,body.canvas.currentArtboard),a=body.canvas.selectedElements.includes(n),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
body.canvas.selectedElements.includes(d)&&(a=!0)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}a===!1&&this._onArtboardClickSelectableElementHit(n)}else this._onArtboardClickBackgroundHit(e);
},_onArtboardMouseDown:function(e){var t=this;if(0===e.button){var n,r,i=e.target;
this._intentionalDragStarted=!1,window.addEventListener("mousemove",n=function(r){
if(o(e,r)!==!1){window.removeEventListener("mousemove",n),t._intentionalDragStarted=!0;
var i=new v(r.clientX-e.clientX,r.clientY-e.clientY),a=f(i.x)>f(i.y)?"horizontal":"vertical";
t._onIntentionalDragStart(e,r,a)}}),window.addEventListener("mouseup",r=function(a){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
e.clientX===a.clientX&&e.clientY===a.clientY&&t._onArtboardClick(i,a)})}},_onArtboardClick:function(e,t){
if(0===t.button&&!body.canvas.huds.contains(e)&&!this._intentionalDragStarted){var n=body.canvas["#transform-hud"],r=body.canvas.getHitArtboardElements(t.clientX,t.clientY);
if(r.length>0){var i=r[r.length-1];if(t.detail%2===1)a(i)&&this._onArtboardClickSelectableElementHit(i);else if(t.detail%2===0){
var o=this._getContainerForHitElement(i);if(o)body.canvas.currentContainer=o,body.canvas.selectedElements=[];else if("use"===i.localName){
var s=body.canvas.artboards.querySelector(i.href.baseVal);if(s&&"symbol"===s.localName){
var l=s;body.canvas.editSymbol(l.id)}else n.mode="scale",body.toggleTool("edit-tool");
}else"text"===i.localName?(n.mode="scale",body.toggleTool("edit-tool")):(n.mode="scale",
body.toggleTool("edit-tool"))}}else this._onArtboardClickBackgroundHit(t)}},_onIntentionalDragStart:function(e,t,n){
if(!body.canvas.huds.contains(e.target)){var r=body.canvas.getHitArtboardElements(t.clientX,t.clientY);
r.length>0?this._onArtboardElementDragStart(t,r[r.length-1],n):this._onEmptySpaceDragStart(e);
}},_onArtboardClickSelectableElementHit:function(e){var t=body.modKeys,n=t.ctrl,a=(t.alt,
t.shift),o=i(e,body.canvas.currentArtboard),s=body.canvas.selectedElements.includes(e),l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=o[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;
body.canvas.selectedElements.includes(v)&&(s=!0)}}catch(f){u=!0,c=f}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(n||a){if(!n&&a)if(0===o.length)body.canvas.currentContainer=null,
body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]);else if(body.canvas.currentContainer&&body.canvas.currentContainer.contains(e)){
for(;e.parentNode!==body.canvas.currentContainer;)e=e.parentNode;body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]);
}else{for(var m=r(e,body.canvas.currentContainer);e.parentNode!==m&&e.parentNode!==body.canvas.currentArtboard;)e=e.parentNode;
body.canvas.currentContainer=m,body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]);
}else if(n&&!a){for(var b=null,g=e.parentElement;g!==body.canvas.currentArtboard;g=g.parentElement)if("g"===g.localName||"a"===g.localName){
b=g;break}body.canvas.selectedElements=[e],body.canvas.currentContainer=b}else if(n&&a)if(body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]),
0===body.canvas.selectedElements.length)body.canvas.currentContainer=null;else for(var p=body.canvas.selectedElements[0].parentElement;p!==body.canvas.currentArtboard;p=p.parentElement)if("g"===p.localName||"a"===p.localName){
body.canvas.currentContainer=p;break}}else if(s)"scale"===body.canvas.transformHud.mode?body.canvas.transformHud.mode="rotate-and-skew":body.canvas.transformHud.mode="scale";else if(body.canvas.transformHud.mode="scale",
0===o.length)body.canvas.currentContainer=null,body.canvas.selectedElements=[e];else{
var y=body.canvas.currentContainer;if(y&&y.contains(e)){for(;e.parentNode!==y;)e=e.parentNode;
body.canvas.selectedElements=[e]}else{for(var x=r(e,y);e.parentNode!==x&&e.parentNode!==body.canvas.currentArtboard;)e=e.parentNode;
body.canvas.currentContainer=x,body.canvas.selectedElements=[e]}}},_onArtboardElementDragStart:function(e,t,n){
var a,o,s=i(t,body.canvas.currentArtboard),l=!1;body.canvas.undoManager.checkpoint("Transform"),
body.canvas.outlinesHud.enabled=!1,body.canvas.selectedElements.includes(t)&&(l=!0);
var u=!0,c=!1,h=void 0;try{for(var v=void 0,f=s[Symbol.iterator]();!(u=(v=f.next()).done);u=!0){
var b=v.value;body.canvas.selectedElements.includes(b)&&(l=!0)}}catch(g){c=!0,h=g;
}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw h}}if(!l)if(0===s.length)body.canvas.currentContainer=null,
body.canvas.selectedElements=[t];else{for(var p=r(t,body.canvas.currentArtboard);t.parentNode!==p&&t.parentNode!==body.canvas.currentArtboard;)t=t.parentNode;
body.canvas.currentContainer=p,body.canvas.selectedElements=[t]}var y=body.registerCursor("move",300),x=!0,_=!1,w=void 0;
try{for(var S=void 0,M=body.canvas.selectedElements[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value,R=C.getScreenCTM(),k=R.inverse(),E=SVGMatrix.fromMatrix(C.transform.baseVal.consolidate().matrix),A=E.multiplySelf(k);
C[m.initialTransforms]={clientToUserTransform:R,initialClientTransform:A}}}catch(P){
_=!0,w=P}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w}}window.addEventListener("mousemove",a=function(t){
var r=t.clientX-e.clientX,i=t.clientY-e.clientY;body.modKeys.shift&&("vertical"===n?r=0:"horizontal"===n&&(i=0));
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=body.canvas.selectedElements[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=c[m.initialTransforms],h=d.clientToUserTransform,v=d.initialClientTransform,f=SVGMatrix.fromMatrix(v);
f.translateSelf(r,i),f.multiplySelf(h),c.setAttribute("transform",f.toString())}}catch(b){
o=!0,s=b}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}}),
window.addEventListener("mouseup",o=function(){window.removeEventListener("mousemove",a),
window.removeEventListener("mouseup",o);var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=body.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var s=r.value;d(s,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(l){t=!0,n=l}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}body.unregisterCursor(y),body.canvas.outlinesHud.enabled=!0})},_onArtboardClickBackgroundHit:function(e){
if(0===e.button){var t=body.modKeys,n=t.ctrl,r=t.shift;n||r||(2===e.detail&&(body.canvas.currentContainer=null),
body.canvas.selectedElements=[])}},_onEmptySpaceDragStart:function(t){var n,r,i,a,o,s,d,h,v,f,m,b,g,p,y;
return $traceurRuntime.asyncWrap(function(x){for(;;)switch(x.state){case 0:n=t,r=n.clientX,
i=n.clientY,x.state=5;break;case 5:return void Promise.resolve(body.canvas.rubberBandHud.grabSelection(r,i)).then(x.createCallback(3),x.errback);
case 3:a=x.value,x.state=2;break;case 2:o=body.canvas.currentContainer||body.canvas.currentArtboard,
s=body.canvas.currentArtboard.getScreenCTM().inverse(),d=[],h=!0,v=!1,f=void 0;try{
for(m=void 0,b=o.children[Symbol.iterator]();!(h=(m=b.next()).done);h=!0)g=m.value,
(c.includes(g.localName)||"g"===g.localName)&&(p=e(g),p=u(p,s),y=0===p.width&&0===p.height,
!y&&l(a,p)&&d.push(g))}catch(_){v=!0,f=_}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}body.canvas.selectedElements=$traceurRuntime.spread(d),x.state=-2;
break;default:return x.end()}},this)},_getContainerForHitElement:function(e){for(var t=[],n=e.parentElement;n!==body.canvas.currentArtboard&&n!==body.canvas.currentContainer;n=n.parentElement)"g"!==n.localName&&"a"!==n.localName||t.push(n);
var r=t.length>0?t[t.length-1]:null;return r}},{},t)}(HTMLElement),g=n("bx-transformtool",b);
return{get default(){return g}}}),$traceurRuntime.registerModule("elements/bx-transformtoolcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-transformtoolcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-transformtoolcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-transformtoolcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-transformtoolcontrols")),t=(e.createElement,
e.registerElement),n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-transformtoolcontrols")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-transformtoolcontrols")).getDefFromURL,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-transformtoolcontrols")).queryStylableElements,
'\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-transformtoolcontrols.css");\n  </style>\n\n  <section id="transform-section">\n    <h2 id="transform-section-heading">Preserve</h2>\n\n    <bx-checkbox id="preserve-stroke-width-checkbox" label="Stroke width"></bx-checkbox>\n    <bx-checkbox id="preserve-rect-radii-checkbox" label="Rectangle radii"></bx-checkbox>\n    <bx-checkbox id="preserve-path-rotation-checkbox" label="Path rotation"></bx-checkbox>\n    <bx-checkbox id="preserve-aspect-ratio-checkbox" label="Aspect ratio"></bx-checkbox>\n  </section>\n'),r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=n;var t=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#preserve-stroke-width-checkbox"].addEventListener("change",function(){
body.setConfig("bx-transformtoolcontrols:preserveStrokeWidth",e["#preserve-stroke-width-checkbox"].checked);
}),this["#preserve-rect-radii-checkbox"].addEventListener("change",function(){body.setConfig("bx-transformtoolcontrols:preserveRectRadii",e["#preserve-rect-radii-checkbox"].checked);
}),this["#preserve-path-rotation-checkbox"].addEventListener("change",function(){
body.setConfig("bx-transformtoolcontrols:preservePathRotation",e["#preserve-path-rotation-checkbox"].checked);
}),this["#preserve-aspect-ratio-checkbox"].addEventListener("change",function(){body.setConfig("bx-transformtoolcontrols:preserveAspectRatio",e["#preserve-aspect-ratio-checkbox"].checked);
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){this._update()},_onDisabled:function(){},_update:function(){
var e,t,n,r;return $traceurRuntime.asyncWrap(function(i){for(;;)switch(i.state){case 0:
return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveStrokeWidth")).then(i.createCallback(3),i.errback);
case 3:e=i.value,i.state=2;break;case 2:return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveRectRadii")).then(i.createCallback(6),i.errback);
case 6:t=i.value,i.state=5;break;case 5:return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preservePathRotation")).then(i.createCallback(9),i.errback);
case 9:n=i.value,i.state=8;break;case 8:return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveAspectRatio")).then(i.createCallback(12),i.errback);
case 12:r=i.value,i.state=11;break;case 11:null===e&&(e=!0),null===t&&(t=!0),null===n&&(n=!0),
null===r&&(r=!1),this["#preserve-stroke-width-checkbox"].checked=e,this["#preserve-rect-radii-checkbox"].checked=t,
this["#preserve-path-rotation-checkbox"].checked=n,this["#preserve-aspect-ratio-checkbox"].checked=r,
i.state=-2;break;default:return i.end()}},this)}},{},e)}(HTMLElement),i=t("bx-transformtoolcontrols",r);
return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-trianglehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-trianglehud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-trianglehud")),n=t.getNearestPointOnLine,r=t.getPointAtFraction,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-trianglehud")),a=i.normalize,o=i.round,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-trianglehud")),l=s.getShapeData,u=s.setShapeData,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-trianglehud")).throttle,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-trianglehud")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","elements/bx-trianglehud"))["default"],v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-trianglehud"))["default"],f=Math,m=f.abs,b=(f.sin,
f.cos,f.PI,new h("path")),g=6,p='\n  <style>@import url("stylesheets/bx-trianglehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',y=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=c(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=p;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("mousedown",this._shadowRootMouseDownListener=function(t){
e._onShadowRootMouseDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("mousedown",this._shadowRootMouseDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedTriangles=this._getSelectedTriangles(),
0===this._selectedTriangles.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootMouseDown:function(e){
e.target.matches(".shift-grippie")?this._onShiftGrippieMouseDown(e):e.target.matches(".corner-grippie")&&this._onCornerGrippieMouseDown(e);
},_onShiftGrippieMouseDown:function(e){var t,r,i=this;if(0===e.button){var s,c,d=e.target,h=d.parentElement,f=h[b.path],g=f.getCTM().inverse(),p=l(f).values,y=(t=p[Symbol.iterator](),
(r=t.next()).done?void 0:r.value),x=(r=t.next()).done?void 0:r.value,_=(r=t.next()).done?void 0:r.value,w=(r=t.next()).done?void 0:r.value,S=(r=t.next()).done?void 0:r.value,M=(r=t.next()).done?void 0:r.value,C=body.canvas.geometryPrecision,R=new SVGPoint(y,x),k=new SVGPoint(y+_,x),E=new SVGPoint(e.clientX,e.clientY),A=E.matrixTransform(g),P=new SVGPoint(y+_*S,x),T=new v(P,A).getOppositeVector(),L=!1;
d.parentElement.append(d),this._draggedGrippie=d,window.addEventListener("mousemove",s=function(e){
var t,r;L===!1&&(L=!0,body.canvas.undoManager.checkpoint("Triangle radius"));var i=new SVGPoint(e.clientX,e.clientY),s=i.matrixTransform(g);
s=T.transformPoint(s);var l=(t=n(R,k,s,!1)[Symbol.iterator](),(r=t.next()).done?void 0:r.value);
S=(l.x-R.x)/_,S=a(S,0,1,4),body.modKeys.shift&&(S=[0,.5,1].reduce(function(e,t){return m(t-S)<m(e-S)?t:e;
}));var c=[y,x,_,w,S,M].map(function(e){return o(e,C)});u(f,{type:"triangle",values:c
},C)}),window.addEventListener("mouseup",c=function(){window.removeEventListener("mousemove",s),
window.removeEventListener("mouseup",c),i._draggedGrippie=null})}},_onCornerGrippieMouseDown:function(e){
var t,r,i=this;if(0===e.button){var s,c,d=e.target,h=d.parentElement,f=h[b.path],m=(SVGMatrix.fromMatrix(f.transform.baseVal.consolidate().matrix),
f.getCTM().inverse()),g=l(f).values,p=(t=g[Symbol.iterator](),(r=t.next()).done?void 0:r.value),y=(r=t.next()).done?void 0:r.value,x=(r=t.next()).done?void 0:r.value,_=(r=t.next()).done?void 0:r.value,w=(r=t.next()).done?void 0:r.value,S=((r=t.next()).done?void 0:r.value,
body.canvas.geometryPrecision),M=new SVGPoint(p+x*w,y),C=new SVGPoint(p+x,y+_),R=new SVGPoint(e.clientX,e.clientY),k=R.matrixTransform(m),E=new SVGPoint(k.x,k.y),A=!1;
d.parentElement.append(d),this._draggedGrippie=d,window.addEventListener("mousemove",s=function(e){
var t,r;A===!1&&(A=!0,body.canvas.undoManager.checkpoint("Triangle radius"));var i=new SVGPoint(e.clientX,e.clientY);
E=i.matrixTransform(m);var s=(t=n(C,M,E,!1)[Symbol.iterator](),(r=t.next()).done?void 0:r.value),l=new v(C,s),c=new v(C,M),d=l.length/c.length,h=a(d,0,.5,4),b=[p,y,x,_,w,h].map(function(e){
return o(e,S)});u(f,{type:"triangle",values:b},S)}),window.addEventListener("mouseup",c=function(){
window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",c),
i._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedTriangles[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[b.path]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var u=o.value,c=u[b.path],h=d(c,this),v=l(c).values,f=(e=v[Symbol.iterator](),(t=e.next()).done?void 0:t.value),m=(t=e.next()).done?void 0:t.value,g=(t=e.next()).done?void 0:t.value,p=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=!0,w=!1,S=void 0;
try{for(var M=void 0,C=u.children[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;if(R.matches(".shift-grippie")){var k=new SVGPoint(f+g*y,m).matrixTransform(h);
R.setAttribute("cx",k.x),R.setAttribute("cy",k.y)}else if(R.matches(".corner-grippie")){
var E=new SVGPoint(f+g*y,m).matrixTransform(h),A=new SVGPoint(f+g,m+p).matrixTransform(h),P=r(A,E,x);
R.setAttribute("cx",P.x),R.setAttribute("cy",P.y)}}}catch(T){w=!0,S=T}finally{try{
_||null==C["return"]||C["return"]()}finally{if(w)throw S}}}}catch(L){i=!0,a=L}finally{
try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",g/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedTriangles:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("triangle")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedTriangles(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),x=e("g","bx-trianglehud",y);return{get default(){
return x}}}),$traceurRuntime.registerModule("elements/bx-triangletool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-triangletool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-triangletool")).isMouseMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-triangletool")),a=i.getDistanceBetweenPoints,o=i.getRotationAngleFromPoints,s=i.snapRotationAngle,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-triangletool")),u=l.normalize,c=(l.round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-triangletool"))),d=(c.getShapeData,
c.setShapeData),h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-triangletool")).reduceTransform,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-triangletool"))["default"],f=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-triangletool"))["default"],
Math),m=f.abs,b=f.min,g=(f.sqrt,function(e){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._triangleCursor=body.registerCursor("images/cursor-triangle.svg",-100,6.5,6.5),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("mousedown",this._mouseDownListener=function(t){
return e._onMouseDown(t)})},_onDisabled:function(){body.unregisterCursor(this._triangleCursor),
body.unregisterCursor(this._mouseDownTriangleCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("mousedown",this._mouseDownListener)},_onMouseDown:function(e){
var t,n,i=this;window.addEventListener("mousemove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("mousemove",t),
window.removeEventListener("mouseup",n),i._onIntentionalDragStart(e))}),window.addEventListener("mouseup",n=function(){
window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,l,c=this,f=body.canvas.currentContainer||body.canvas.currentArtboard,g=body.modKeys.ctrl?"polar":"planar",p=0,y=0,x=0,_=0,w=.5,S=0;
body.canvas.undoManager.checkpoint("Draw triangle");var M=t("svg:path");M.style.fill="#d8d8d8",
d(M,{type:"triangle",values:[p,y,x,_,w,S]}),f.append(M),body.canvas.selectedElements=[M],
this._mouseDownTriangleCursor=body.registerCursor("images/cursor-triangle.svg",900,6.5,6.5);
var C=M.getScreenCTM().inverse(),R=M.transform.baseVal.consolidate().matrix.multiply(C);
M.setAttribute("transform",R.toString()),window.addEventListener("mousemove",n=function(t){
if("planar"===g){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1;if(x=m(n),
_=m(r),body.modKeys.shift){var i=b(x,_);x=i,_=i}p=0>n?e.clientX-x:e.clientX,y=0>r?e.clientY-_:e.clientY;
}else if("polar"===g){var l=new SVGPoint(e.clientX,e.clientY),u=new SVGPoint(t.clientX,t.clientY),c=a(l,u),h=new SVGPoint(l.x,l.y-c),v=h.matrixTransform((new SVGMatrix).rotate(120,l.x,l.y)),f=v.matrixTransform((new SVGMatrix).rotate(120,l.x,l.y)),C=o(l,v,u);
x=v.x-f.x,_=v.y-h.y,p=f.x,y=h.y,body.modKeys.shift&&(C=s(C,45));var k=(new SVGMatrix).rotate(C,l.x,l.y);
M.setAttribute("transform",R.multiply(k).toString())}d(M,{type:"triangle",values:[p,y,x,_,w,S]
},body.canvas.geometryPrecision)}),window.addEventListener("mouseup",r=function(){
window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r),
body.removeEventListener("toolchange",i),body.removeEventListener("keydown",l),body.unregisterCursor(c._mouseDownTriangleCursor),
h(M,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}),body.addEventListener("toolchange",i=function(){return r()}),body.addEventListener("keydown",l=function(e){
var t=v.fromEvent(event);t.matches("ArrowLeft")?(event.preventDefault(),event.stopPropagation(),
S>0&&(S=u(S-.04,0,.5,2),d(M,{type:"triangle",values:[p,y,x,_,w,S]}))):t.matches("ArrowRight")&&(event.preventDefault(),
event.stopPropagation(),.5>S&&(S=u(S+.04,0,.5,2),d(M,{type:"triangle",values:[p,y,x,_,w,S]
})))})}},{},e)}(HTMLElement)),p=n("bx-triangletool",g);return{get default(){return p;
}}}),$traceurRuntime.registerModule("elements/bx-typographycontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fontfamilybutton","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fontfamilypicker","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectitem","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-typographycontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-typographycontrols")).getUserBBox,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","elements/bx-typographycontrols")).TEXT_CONTENT_ELEMENTS,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-typographycontrols"))),n=t.createElement,r=t.registerElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","elements/bx-typographycontrols")),a=i.formatFontWeightForDisplay,o=i.matchFontWeight,s=i.normalizeFontWeight,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-typographycontrols")).round,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-typographycontrols")).queryStylableElements,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-typographycontrols")).throttle,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-typographycontrols")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-typographycontrols")),v=(h.isValidFontFamilyValue,
h.getTspansIntersectedByRange,h.normalizeTextInRangeBeforeEditing),f=h.normalizeTextInRangeAfterEditing,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/decomposed-transform","elements/bx-typographycontrols"))["default"],b=Number.parseFloat,g='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-typographycontrols.css");\n  </style>\n\n  <div id="master-view">\n    <section id="font-section">\n      <h2 id="font-heading">Font</h2>\n\n      <div id="font-family-div">\n        <h3 id="font-family-heading">Family</h3>\n        <bx-fontfamilybutton id="font-family-button" label="Arial"></bx-fontfamilybutton>\n      </div>\n\n      <div id="font-face-div">\n        <h3 id="font-face-heading">Face</h3>\n\n        <div class="hbox">\n          <bx-select id="font-weight-select" value="400">\n            <bx-selectitem value="400" label="Normal"></bx-selectitem>\n          </bx-select>\n\n          <bx-button\n            id="italic-font-style-button"\n            value="italic"\n            tooltip="Italic"\n            icon="italic"\n            iconsize="28"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="small-caps-font-variant-button"\n            value="small-caps"\n            tooltip="Small Caps"\n            icon="small-caps"\n            iconsize="28"\n            skin="iconic">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="font-size-div">\n        <h3 id="font-size-heading">Size</h3>\n\n        <bx-slider\n          id="font-size-slider"\n          title=""\n          value="0"\n          min="1"\n          precision="0">\n        </bx-slider>\n      </div>\n    </section>\n\n    <section id="transform-section">\n      <h2 id="transform-heading">Transform</h2>\n\n      <div class="hbox">\n        <div id="transform-buttons">\n          <bx-button\n            id="capitalize-button"\n            value="capitalize"\n            tooltip="Capitalize"\n            icon="capitalize"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="uppercase-button"\n            value="uppercase"\n            tooltip="Uppercase"\n            icon="uppercase"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="lowercase-button"\n            value="lowercase"\n            tooltip="Lowercase"\n            icon="lowercase"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n        </div>\n\n        <bx-button\n          id="text-on-path-button"\n          value="text-on-path"\n          tooltip="Text on Path"\n          icon="text-on-path"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="decoration-section">\n      <h2 id="decoration-heading">Decoration</h2>\n\n      <div id="decoration-buttons">\n        <bx-button\n          id="underline-button"\n          value="underline"\n          tooltip="Underline"\n          icon="underline"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="line-through-button"\n          value="line-through"\n          tooltip="Line-through"\n          icon="line-through"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="overline-button"\n          value="overline"\n          tooltip="Overline"\n          icon="overline"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="spacing-section">\n      <h2 id="spacing-heading">Spacing</h2>\n\n      <div id="letter-spacing-div">\n        <h3 id="letter-spacing-heading">Letter</h2>\n\n        <bx-slider\n          id="letter-spacing-slider"\n          title=""\n          value="0"\n          step="0.1"\n          precision="2">\n        </bx-slider>\n      </div>\n\n      <div id="word-spacing-div">\n        <h3 id="word-spacing-heading">Word</h2>\n\n        <bx-slider\n          id="word-spacing-slider"\n          title=""\n          value="0"\n          step="0.1"\n          precision="2">\n        </bx-slider>\n      </div>\n    </section>\n  </div>\n\n  <div id="font-family-view" hidden>\n    <nav id="navbar">\n      <bx-button\n        id="back-button"\n        icon="back"\n        iconsize="20"\n        skin="iconic"\n        label="<">\n      </bx-button>\n\n      <h1>Font family</h1>\n    </nav>\n\n    <section id="font-family-picker-section">\n      <bx-fontfamilypicker id="font-family-picker"></bx-fontfamilypicker>\n    </section>\n  </div>\n',p=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._update60Th=c(this._update,60,this),this._update300Th=c(this._update,300,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=g;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,d=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(u)throw d}}this["#font-family-button"].addEventListener("click",function(t){
return e._onFontFamilyButtonClick(t)}),this["#font-weight-select"].addEventListener("change",function(t){
return e._onFontWeightSelectChange()}),this["#italic-font-style-button"].addEventListener("click",function(t){
return e._onItalicFontStyleButtonClick(t)}),this["#small-caps-font-variant-button"].addEventListener("click",function(t){
e._onSmallCapsFontVariantButtonClick(t)}),this["#font-size-slider"].addEventListener("changestart",function(){
return e._onFontSizeSliderChangeStart()}),this["#capitalize-button"].addEventListener("click",function(t){
return e._onTextTransformButtonClick(t)}),this["#uppercase-button"].addEventListener("click",function(t){
return e._onTextTransformButtonClick(t)}),this["#lowercase-button"].addEventListener("click",function(t){
return e._onTextTransformButtonClick(t)}),this["#text-on-path-button"].addEventListener("click",function(t){
return e._onTextOnPathButtonClick(t)}),this["#underline-button"].addEventListener("click",function(t){
return e._onTextDecorationButtonClick(t)}),this["#line-through-button"].addEventListener("click",function(t){
return e._onTextDecorationButtonClick(t)}),this["#overline-button"].addEventListener("click",function(t){
return e._onTextDecorationButtonClick(t)}),this["#letter-spacing-slider"].addEventListener("changestart",function(){
return e._onLetterSpacingSliderChangeStart()}),this["#word-spacing-slider"].addEventListener("changestart",function(){
return e._onWordSpacingSliderChangeStart()}),this["#back-button"].addEventListener("click",function(t){
return e._onBackButtonClick(t)}),this["#font-family-picker"].addEventListener("change",function(){
return e._onFontFamilyPickerValueChange()})},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),this._update()},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
this._hideFontFamilyPickerView()},_onSelectedElementsChange:function(){this["#font-family-view"].hidden||this._hideFontFamilyPickerView(),
this._update60Th()},_onSelectedTextRangeChange:function(){this._update300Th()},_onArtboardMutation:function(e){
this._update300Th()},_onFontFamilyButtonClick:function(e){this._showFontFamilyPickerView();
},_onFontWeightSelectChange:function(){body.canvas.undoManager.checkpoint("Font weight");
var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;v(n);var r=u("font-weight",t,n),i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;
c.style.fontWeight=this["#font-weight-select"].value}}catch(d){a=!0,o=d}finally{try{
i||null==l["return"]||l["return"]()}finally{if(a)throw o}}f(n)},_onItalicFontStyleButtonClick:function(e){
if(0===e.button){body.canvas.undoManager.checkpoint("Font style");var t=body.canvas,n=t.selectedElements,r=t.selectedTextRange;
v(r);var i=u("font-style",n,r),a=!0,o=!1,s=void 0;try{for(var l=void 0,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){
var d=l.value;d.style.fontStyle=e.target.pressed&&!e.target.mixed?"normal":"italic";
}}catch(h){o=!0,s=h}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s;
}}}},_onSmallCapsFontVariantButtonClick:function(e){if(0===e.button){body.canvas.undoManager.checkpoint("Font variant");
var t=body.canvas,n=t.selectedElements,r=t.selectedTextRange;v(r);var i=u("font-variant",n,r),a=!0,o=!1,s=void 0;
try{for(var l=void 0,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;
d.style.fontVariant=e.target.pressed&&!e.target.mixed?"normal":"small-caps"}}catch(h){
o=!0,s=h}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s}}}},
_onTextTransformButtonClick:function(e){if(0===e.button){body.canvas.undoManager.checkpoint("Text transform");
var t=body.canvas,n=t.selectedElements,r=t.selectedTextRange;v(r);var i=u("text-transform",n,r),a=!0,o=!1,s=void 0;
try{for(var l=void 0,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;
d.style.textTransform=e.target.pressed&&!e.target.mixed?"none":e.target.value}}catch(h){
o=!0,s=h}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s}}f(r);
}},_onTextDecorationButtonClick:function(){if(0===event.button){body.canvas.undoManager.checkpoint("Text decoration");
var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;v(n);var r=u("text-decoration",t,n),i=event.target,a=i.pressed,o=i.mixed,s=!0,l=!1,c=void 0;
try{for(var d=void 0,h=r[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var m=d.value,b=m.style.textDecoration.includes("underline"),g=m.style.textDecoration.includes("line-through"),p=m.style.textDecoration.includes("overline");
"underline"===event.target.value?b=!a||a&&o:"line-through"===event.target.value?g=!a||a&&o:"overline"===event.target.value&&(p=!a||a&&o);
var y="";b&&(y+="underline "),g&&(y+="line-through "),p&&(y+="overline "),""===y?m.style.textDecoration=null:m.style.textDecoration=y.trim();
}}catch(x){l=!0,c=x}finally{try{s||null==h["return"]||h["return"]()}finally{if(l)throw c;
}}f(n)}},_onFontSizeSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Font size");
var t=body.canvas,n=t.selectedElements,r=t.selectedTextRange;v(r);var i,a,o=u("font-size",n,r);
this._isChangingFontSizeSlider=!0,this["#font-size-slider"].addEventListener("change",i=function(){
e["#font-size-slider"].mixed=!1;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value,l=d(s,body.canvas.currentArtboard).inverse(),u=m.fromSVGMatrix(l).scaleY,c=e["#font-size-slider"].value*u;
s.style.fontSize=c}}catch(h){n=!0,r=h}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}),this["#font-size-slider"].addEventListener("changeend",a=function(){
e["#font-size-slider"].removeEventListener("change",i),e["#font-size-slider"].removeEventListener("changeend",a),
f(r),e._isChangingFontSizeSlider=!1})},_onLetterSpacingSliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Letter spacing");var t=body.canvas,n=t.selectedElements,r=t.selectedTextRange;
v(r);var i,a,o=u("letter-spacing",n,r);this._isChangingLetterSpacingSlider=!0,this["#letter-spacing-slider"].addEventListener("change",i=function(){
e["#letter-spacing-slider"].mixed=!1;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value,l=d(s,body.canvas.currentArtboard).inverse(),u=m.fromSVGMatrix(l).scaleX,c=e["#letter-spacing-slider"].value*u;
s.style.letterSpacing=c}}catch(h){n=!0,r=h}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}),this["#letter-spacing-slider"].addEventListener("changeend",a=function(){
e["#letter-spacing-slider"].removeEventListener("change",i),e["#letter-spacing-slider"].removeEventListener("changeend",a),
f(r),e._isChangingLetterSpacingSlider=!1})},_onWordSpacingSliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Word spacing");var t=body.canvas,n=t.selectedElements,r=t.selectedTextRange;
v(r);var i,a,o=u("word-spacing",n,r);this._isChangingWordSpacingSlider=!0,this["#word-spacing-slider"].addEventListener("change",i=function(){
e["#word-spacing-slider"].mixed=!1;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value,l=d(s,body.canvas.currentArtboard).inverse(),u=m.fromSVGMatrix(l).scaleX,c=e["#word-spacing-slider"].value*u;
s.style.wordSpacing=c}}catch(h){n=!0,r=h}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}),this["#word-spacing-slider"].addEventListener("changeend",a=function(){
e["#word-spacing-slider"].removeEventListener("change",i),e["#word-spacing-slider"].removeEventListener("changeend",a),
f(r),e._isChangingWordSpacingSlider=!1})},_onTextOnPathButtonClick:function(t){body.canvas.undoManager.checkpoint("Put text on path");
var r=$traceurRuntime.spread(body.canvas.selectedElements).filter(function(e){return"text"===e.localName;
}),i=!0,a=!1,o=void 0;try{for(var s=void 0,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){
var c=s.value,d=$traceurRuntime.spread(c.children).find(function(e){return"textPath"===e.localName;
});if(d){var h=e(c),v=body.canvas.artboards.querySelector(d.href.baseVal);v.remove(),
c.innerHTML=d.innerHTML,c.setAttribute("x",h.x),c.setAttribute("y",h.y+h.height/2);
}else{var f=e(c),g=SVGMatrix.fromMatrix(c.transform.baseVal.consolidate().matrix),p=b(getComputedStyle(c).fontSize),y=m.fromSVGMatrix(g).scaleY,x=l(p*y,2);
c.style.fontSize=x;var _=new SVGPoint(f.x,f.y+f.height).matrixTransform(g),w=new SVGPoint(f.x+f.width/2,f.y).matrixTransform(g),S=new SVGPoint(f.x+f.width,f.y+f.height).matrixTransform(g),M="M "+_.x+" "+_.y+" Q "+w.x+" "+w.y+" "+S.x+" "+S.y,C=n("svg:path");
C.setAttribute("id",body.canvas.generateUniqueID("text-path")),C.setAttribute("d",M),
C.setAttribute("style","fill: none; stroke: red; stroke-width: 2;"),body.canvas.defs.append(C),
c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("transform");var R=n("svg:textPath");
R.setAttribute("href","#"+C.id),R.innerHTML=c.innerHTML,c.innerHTML="",c.append(R);
}}}catch(k){a=!0,o=k}finally{try{i||null==u["return"]||u["return"]()}finally{if(a)throw o;
}}},_onFontFamilyPickerValueChange:function(){var e,t,n,r,i,a,o,s,l,c,d;return $traceurRuntime.asyncWrap(function(h){
for(;;)switch(h.state){case 0:e=this["#font-family-picker"].value,h.state=9;break;
case 9:h.state=e?3:-2;break;case 3:t=body.canvas,n=t.selectedElements,r=t.selectedTextRange,
body.canvas.undoManager.checkpoint("Font family"),h.state=4;break;case 4:return void Promise.resolve(body.canvas.googleFontsManager.importFamily(e)).then(h.createCallback(2),h.errback);
case 2:v(r),i=u("font-family",n,r),a=!0,o=!1,s=void 0;try{for(l=void 0,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)d=l.value,
d.style.fontFamily="'"+e+"'"}catch(m){o=!0,s=m}finally{try{a||null==c["return"]||c["return"]();
}finally{if(o)throw s}}f(r),body.canvas.googleFontsManager.deportUnsusedFamilies(),
h.state=-2;break;default:return h.end()}},this)},_onBackButtonClick:function(e){0===e.button&&this._hideFontFamilyPickerView();
},_showFontFamilyPickerView:function(){this["#font-family-view"].hidden=!1,this["#font-family-picker"].enabled=!0,
this["#master-view"].hidden=!0},_hideFontFamilyPickerView:function(){this["#font-family-view"].hidden=!0,
this["#font-family-picker"].enabled=!1,this["#master-view"].hidden=!1},_update:function(){
var e=body.canvas,t=e.selectedElements,n=e.selectedTextRange;this._selectedTextContentElements=u("font-family",t,n),
this._updateFontSection(),this._updateTransformSection(),this._updateDecorationSection(),
this._updateSpacingSection()},_updateFontSection:function(){var e,t;if(!this._isChangingFontSizeSlider){
var r=this._selectedTextContentElements,i=(e=r[Symbol.iterator](),(t=e.next()).done?void 0:t.value),u=$traceurRuntime.iteratorToArray(e);
if(i){var c=getComputedStyle(i),h=c.fontFamily.split(",")[0].replaceAll("'","").replaceAll('"',""),v=b(c.fontSize),f=s(c.fontWeight),g=body.canvas.googleFontsManager.getImportedWeights(h);
0===g.length&&(g=["100","200","300","400","500","600","700","800","900"]);var p=o(f,g),y=d(i.closest("text"),body.canvas.currentArtboard),x=m.fromSVGMatrix(y).scaleY,_=l(v*x,2),w=!1,S=!1,M=!1,C=!1,R=!1,k=!0,E=!1,A=void 0;
try{for(var P=void 0,T=u[Symbol.iterator]();!(k=(P=T.next()).done);k=!0){var L=P.value,$=getComputedStyle(L),j=$.fontFamily.split(",")[0].replaceAll("'","").replaceAll('"',""),N=b($.fontSize),O=s($.fontWeight),V=body.canvas.googleFontsManager.getImportedWeights(j);
0===V.length&&(V=["100","200","300","400","500","600","700","800","900"]);var z=o(O,V);
j!==h&&(w=!0),z!==p&&(S=!0),$.fontStyle!==c.fontStyle&&(M=!0),$.fontVariant!==c.fontVariant&&(C=!0),
N!==v&&(R=!0)}}catch(D){E=!0,A=D}finally{try{k||null==T["return"]||T["return"]()}finally{
if(E)throw A}}this["#font-weight-select"].innerHTML="";var G=!0,I=!1,B=void 0;try{
for(var U=void 0,H=g[Symbol.iterator]();!(G=(U=H.next()).done);G=!0){var F=U.value,q=n("bx-selectitem");
q.value=F,q.label=a(F),this["#font-weight-select"].append(q)}}catch(W){I=!0,B=W}finally{
try{G||null==H["return"]||H["return"]()}finally{if(I)throw B}}this["#font-heading"].disabled=!1,
this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,
this["#font-family-button"].label=h,this["#font-family-button"].mixed=w,this["#font-face-heading"].disabled=!1,
this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=p,this["#font-weight-select"].mixed=S,
this["#italic-font-style-button"].disabled=!1,this["#italic-font-style-button"].mixed=M,
this["#italic-font-style-button"].pressed="italic"===c.fontStyle,this["#small-caps-font-variant-button"].disabled=!1,
this["#small-caps-font-variant-button"].mixed=C,this["#small-caps-font-variant-button"].pressed="small-caps"===c.fontVariant,
this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=_,
this["#font-size-slider"].mixed=R}else this["#font-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,
this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-face-heading"].disabled=!0,
this["#font-weight-select"].disabled=!0,this["#font-weight-select"].mixed=!1,this["#italic-font-style-button"].disabled=!0,
this["#italic-font-style-button"].mixed=!1,this["#italic-font-style-button"].pressed=!1,
this["#small-caps-font-variant-button"].disabled=!0,this["#small-caps-font-variant-button"].mixed=!1,
this["#small-caps-font-variant-button"].pressed=!1,this["#font-size-heading"].disabled=!0,
this["#font-size-slider"].value=0,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,
this._hideFontFamilyPickerView()}},_updateTransformSection:function(){var e,t,n=this._selectedTextContentElements,r=(e=n[Symbol.iterator](),
(t=e.next()).done?void 0:t.value),i=$traceurRuntime.iteratorToArray(e);if(r){var a=getComputedStyle(r),o=!1,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,v=getComputedStyle(h);
v.textTransform!==a.textTransform&&(o=!0)}}catch(f){l=!0,u=f}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}this["#transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,
this["#capitalize-button"].mixed=o,this["#capitalize-button"].pressed="capitalize"===a.textTransform,
this["#uppercase-button"].disabled=!1,this["#uppercase-button"].pressed="uppercase"===a.textTransform,
this["#uppercase-button"].mixed=o,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].pressed="lowercase"===a.textTransform,
this["#lowercase-button"].mixed=o}else this["#transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,
this["#capitalize-button"].mixed=!1,this["#capitalize-button"].pressed=!1,this["#uppercase-button"].disabled=!0,
this["#uppercase-button"].mixed=!1,this["#uppercase-button"].pressed=!1,this["#lowercase-button"].disabled=!0,
this["#lowercase-button"].mixed=!1,this["#lowercase-button"].pressed=!1;var m=$traceurRuntime.spread(body.canvas.selectedElements).filter(function(e){
return"text"===e.localName});if(0===m.length)this["#text-on-path-button"].pressed=!1,
this["#text-on-path-button"].disabled=!0;else{var b=!1,g=null!==m[0].querySelector("textPath"),p=!0,y=!1,x=void 0;
try{for(var _=void 0,w=m[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){var S=_.value,M=null!==S.querySelector("textPath");
if(M!==g){b=!0;break}}}catch(C){y=!0,x=C}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw x}}this["#text-on-path-button"].pressed=g,this["#text-on-path-button"].disabled=!1,
this["#text-on-path-button"].mixed=b}},_updateDecorationSection:function(){var e,t,n=body.canvas,r=n.selectedElements,i=n.selectedTextRange,a=u("text-decoration",r,i),o=a,s=(e=o[Symbol.iterator](),
(t=e.next()).done?void 0:t.value),l=$traceurRuntime.iteratorToArray(e);if(s){var c=s.style.textDecoration,d=!1,h=!1,v=!1,f=!0,m=!1,b=void 0;
try{for(var g=void 0,p=l[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){var y=(g.value,
s.style.textDecoration);c!==y&&(c.includes("underline")!==y.includes("underline")&&(d=!0),
c.includes("line-through")!==y.includes("line-through")&&(h=!0),c.includes("overline")!==y.includes("overline")&&(v=!0));
}}catch(x){m=!0,b=x}finally{try{f||null==p["return"]||p["return"]()}finally{if(m)throw b;
}}this["#decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=d,
this["#underline-button"].pressed=c.includes("underline"),this["#line-through-button"].disabled=!1,
this["#line-through-button"].mixed=h,this["#line-through-button"].pressed=c.includes("line-through"),
this["#overline-button"].disabled=!1,this["#overline-button"].mixed=v,this["#overline-button"].pressed=c.includes("overline");
}else this["#decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,
this["#underline-button"].mixed=!1,this["#underline-button"].pressed=!1,this["#line-through-button"].disabled=!0,
this["#line-through-button"].mixed=!1,this["#line-through-button"].pressed=!1,this["#overline-button"].disabled=!0,
this["#overline-button"].mixed=!1,this["#overline-button"].pressed=!1},_updateSpacingSection:function(){
var e,t;if(!this._isChangingLetterSpacingSlider&&!this._isChangingWordSpacingSlider){
var n=this._selectedTextContentElements,r=(e=n[Symbol.iterator](),(t=e.next()).done?void 0:t.value),i=$traceurRuntime.iteratorToArray(e);
if(r){var a=getComputedStyle(r),o=a.letterSpacing;o="normal"===o?0:b(o);var s=a.wordSpacing;
s="normal"===s?0:b(s);var u=!1,c=!1,d=!0,h=!1,v=void 0;try{for(var f=void 0,m=i[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var g=f.value,p=getComputedStyle(g),y=p.letterSpacing;y="normal"===y?0:b(y);var x=p.wordSpacing;
x="normal"===x?0:b(x),y!==o&&(u=!0),x!==s&&(c=!0)}}catch(_){h=!0,v=_}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw v}}this["#spacing-heading"].disabled=!1,
this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=l(o,2),
this["#letter-spacing-slider"].mixed=u,this["#letter-spacing-slider"].disabled=!1,
this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=l(s,2),
this["#word-spacing-slider"].mixed=c,this["#word-spacing-slider"].disabled=!1}else this["#spacing-heading"].disabled=!0,
this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,
this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,
this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,
this["#word-spacing-slider"].disabled=!0}}},{},t)}(HTMLElement),y=r("bx-typographycontrols",p);
return{get default(){return y}}}),$traceurRuntime.registerModule("elements/bx-viewboxedithud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-viewboxedithud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-viewboxedithud")).isMouseMoveIntentional,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-viewboxedithud")).round,r=Math.abs,i='\n  <style>@import url("stylesheets/bx-viewboxedithud.css");</style>\n\n  <path id="outer-area"></path>\n  <rect id="inner-area" width="0" height="0" x="0" y="0"></rect>\n\n  <g id="resize-grippies" opacity="0">\n    <line class="resize-grippie side-resize-grippie" data-position="left"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="right"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="top"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="bottom"></line>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="top-left">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="top-right">\n      <rect width="30" height="30"></rect>\n      <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="bottom-left">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="bottom-right">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n    </g>\n  </g>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#inner-area"].addEventListener("mousedown",function(t){
return e._onInnerAreaMouseDown(t)}),this["#resize-grippies"].addEventListener("mousedown",function(t){
return e._onResizeGrippiesMouseDown(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(t){
e._onZoomChange()}),this["#resize-grippies"].style.opacity="1",this._update()},_onDisabled:function(){
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener)},_onArtboardMutation:function(e){
e.target!==body.canvas&&e.target.parentElement!==body.canvas||this._update()},_onZoomChange:function(){
this._update()},_onInnerAreaMouseDown:function(e){var n,r,i=this;window.addEventListener("mousemove",r=function(a){
t(e,a,7)!==!1&&(window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",n),
i._onInnerAreaDragStart(e))}),window.addEventListener("mouseup",n=function(){window.removeEventListener("mousemove",r),
window.removeEventListener("mouseup",n)})},_onInnerAreaDragStart:function(e){body.canvas.undoManager.checkpoint("View box");
var t,r,i=body.registerCursor("-webkit-grabbing",900),a=body.canvas.currentArtboard.viewBox.x,o=body.canvas.currentArtboard.viewBox.y,s=body.canvas.currentArtboard.getScreenCTM().inverse(),l=body.canvas.zoom<500?0:body.canvas.geometryPrecision,u=new SVGPoint(e.clientX,e.clientY);
u=u.matrixTransform(s),window.addEventListener("mousemove",r=function(e){var t=new SVGPoint(e.clientX,e.clientY);
t=t.matrixTransform(s);var r={x:t.x-u.x,y:t.y-u.y},i=a+r.x,c=o+r.y;null!==i&&(body.canvas.currentArtboard.viewBox.x=n(i,l)),
null!==c&&(body.canvas.currentArtboard.viewBox.y=n(c,l))}),window.addEventListener("mouseup",t=function(){
window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",t),
body.unregisterCursor(i)})},_onResizeGrippiesMouseDown:function(e){body.canvas.undoManager.checkpoint("View box");
var t=e.target.closest(".resize-grippie"),i=t.getAttribute("data-position"),a=body.canvas.currentArtboard.getScreenCTM().inverse(),o=body.canvas.currentArtboard.viewBox.x,s=body.canvas.currentArtboard.viewBox.y,l=body.canvas.currentArtboard.viewBox.width,u=body.canvas.currentArtboard.viewBox.height,c=body.canvas.zoom<500?0:body.canvas.geometryPrecision,d=new SVGPoint(e.clientX,e.clientY);
d=d.matrixTransform(a);var h,v,f;"left"===i||"right"===i?f="ew-resize":"top"===i||"bottom"===i?f="ns-resize":"top-left"===i?f="nwse-resize":"top-right"===i?f="nesw-resize":"bottom-left"===i?f="nesw-resize":"bottom-right"===i&&(f="nwse-resize");
var m=body.registerCursor(f,999);window.addEventListener("mousemove",h=function(e){
var t=new SVGPoint(e.clientX,e.clientY);t=t.matrixTransform(a);var h={x:t.x-d.x,y:t.y-d.y
},v=null,f=null,m=null,b=null;"left"===i?(m=l-h.x,v=o+h.x,0>m&&(m=r(m),v=o+l)):"right"===i?(m=l+h.x,
0>m&&(m=r(m),v=o-m)):"top"===i?(b=u-h.y,f=s+h.y,0>b&&(b=r(b),f=s+u)):"bottom"===i?(b=u+h.y,
0>b&&(b=r(b),f=s-b)):"top-left"===i?(m=l-h.x,b=u-h.y,v=o+h.x,f=s+h.y,0>m&&(m=r(m),
v=o+l),0>b&&(b=r(b),f=s+u)):"top-right"===i?(m=l+h.x,b=u-h.y,f=s+h.y,0>m&&(m=r(m),
v=o-m),0>b&&(b=r(b),f=s+u)):"bottom-left"===i?(m=l-h.x,b=u+h.y,v=o+h.x,0>m&&(m=r(m),
v=o+l),0>b&&(b=r(b),f=s-b)):"bottom-right"===i&&(m=l+h.x,b=u+h.y,0>m&&(m=r(m),v=o-m),
0>b&&(b=r(b),f=s-b)),null!==v&&(body.canvas.currentArtboard.viewBox.x=n(v,c)),null!==f&&(body.canvas.currentArtboard.viewBox.y=n(f,c)),
null!==m&&(body.canvas.currentArtboard.viewBox.width=n(m,c)),null!==b&&(body.canvas.currentArtboard.viewBox.height=n(b,c));
}),window.addEventListener("mouseup",v=function(){window.removeEventListener("mousemove",h),
window.removeEventListener("mouseup",v),body.unregisterCursor(m)})},_update:function(){
if(body.canvas.currentArtboard.hasAttribute("viewBox")===!1)this.style.visibility="hidden";else{
this.style.visibility="visible";var e=body.canvas.currentArtboard.viewBox,t=e.x,n=e.y,r=e.width,i=e.height;
this["#inner-area"].setAttribute("x",t),this["#inner-area"].setAttribute("y",n),this["#inner-area"].setAttribute("width",r),
this["#inner-area"].setAttribute("height",i);var a=1e6,o="\n        M "+-a+", "+-a+"\n        L "+2*a+", "+-a+"\n        L "+2*a+", "+2*a+"\n        L "+-a+", "+2*a+"\n        Z\n        M "+t+", "+n+"\n        L "+t+", "+(n+i)+"\n        L "+(t+r)+", "+(n+i)+"\n        L "+(t+r)+", "+n+"\n        Z\n      ";
this["#outer-area"].setAttribute("d",o);var s=(10/body.canvas.scale,!0),l=!1,u=void 0;
try{for(var c=void 0,d=this["#resize-grippies"].children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=h.getAttribute("data-position");if("left"===v)h.x1.baseVal.value=t,
h.y1.baseVal.value=n,h.x2.baseVal.value=t,h.y2.baseVal.value=n+i;else if("right"===v)h.x1.baseVal.value=t+r,
h.y1.baseVal.value=n,h.x2.baseVal.value=t+r,h.y2.baseVal.value=n+i;else if("top"===v)h.x1.baseVal.value=t,
h.y1.baseVal.value=n,h.x2.baseVal.value=t+r,h.y2.baseVal.value=n;else if("bottom"===v)h.x1.baseVal.value=t,
h.y1.baseVal.value=n+i,h.x2.baseVal.value=t+r,h.y2.baseVal.value=n+i;else if("top-left"===v){
var f=new SVGMatrix;f.scaleSelf(1/body.canvas.scale,t,n),f.translateSelf(t-15,n-15),
h.setAttribute("transform",f.toString())}else if("top-right"===v){var m=new SVGMatrix;
m.scaleSelf(1/body.canvas.scale,t+r,n),m.translateSelf(t+r-15,n-15),h.setAttribute("transform",m.toString());
}else if("bottom-left"===v){var b=new SVGMatrix;b.scaleSelf(1/body.canvas.scale,t,n+i),
b.translateSelf(t-15,n+i-15),h.setAttribute("transform",b.toString())}else if("bottom-right"===v){
var g=new SVGMatrix;g.scaleSelf(1/body.canvas.scale,t+r,n+i),g.translateSelf(t+r-15,n+i-15),
h.setAttribute("transform",g.toString())}}}catch(p){l=!0,u=p}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}}}},{},e)}(SVGGElement),o=e("g","bx-viewboxedithud",a);return{
get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-viewboxhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-viewboxhud")).registerElement,t='\n  <style>@import url("stylesheets/bx-viewboxhud.css");</style>\n  <rect id="outline" width="0" height="0" x="0" y="0"></rect>\n  <path id="overlay"></path>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.addEventListener("configchange",this._configChangeListener=function(t){
var n=t.detail,r=n.key,i=n.value;"bx-preferences:viewBoxOutlineColor"===r&&(e["#outline"].style.stroke=i);
}),body.getConfig("bx-preferences:viewBoxOutlineColor").then(function(t){e["#outline"].style.stroke=t;
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.removeEventListener("configchange",this._configChangeListener)},_onArtboardMutation:function(e){
e.target!==body.canvas&&e.target.parentElement!==body.canvas||this._update()},_update:function(){
body.canvas.currentArtboard.hasAttribute("viewBox")?(this["#outline"].setAttribute("width",body.canvas.currentArtboard.viewBox.width),
this["#outline"].setAttribute("height",body.canvas.currentArtboard.viewBox.height),
this["#outline"].setAttribute("x",body.canvas.currentArtboard.viewBox.x),this["#outline"].setAttribute("y",body.canvas.currentArtboard.viewBox.y)):(this["#outline"].setAttribute("width",0),
this["#outline"].setAttribute("height",0),this["#outline"].setAttribute("x",-99999),
this["#outline"].setAttribute("y",-99999))}},{},e)}(SVGGElement),r=e("g","bx-viewboxhud",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-viewcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-alignmentselect","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-switch","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-viewcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-viewcontrols")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-viewcontrols")).round,n={
1:"none",2:"xMinYMin",3:"xMidYMin",4:"xMaxYMin",5:"xMinYMid",6:"xMidYMid",7:"xMaxYMid",
8:"xMinYMax",9:"xMidYMax",10:"xMaxYMax"},r={0:"",1:"",2:"%",3:"ems",4:"exs",5:"px",
6:"cm",7:"mm",8:"in",9:"pt",10:"pc"},i='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-viewcontrols.css");\n  </style>\n\n  <main>\n    <section id="view-box-section">\n      <div class="row-div">\n        <h2>View box</h2>\n        <bx-switch id="view-box-switch"></bx-switch>\n      </div>\n\n      <div class="row-div">\n        <div id="view-box-x-div">\n          <h3 id="view-box-x-heading">X</h3>\n\n          <bx-slider\n            id="view-box-x-slider"\n            title="View box X"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-y-div">\n          <h3 id="view-box-y-heading">Y</h3>\n\n          <bx-slider\n            id="view-box-y-slider"\n            title="View box Y"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-width-div">\n          <h3 id="view-box-width-heading">↔</h3>\n\n          <bx-slider\n            id="view-box-width-slider"\n            title="View box Width"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-height-div">\n          <h3 id="view-box-height-heading">↕</h3>\n\n          <bx-slider\n            id="view-box-height-slider"\n            title="View box Height"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n      </div>\n    </section>\n\n    <section id="aspect-ratio-section">\n      <div class="row-div">\n        <h2 id="preserve-aspect-ratio-heading">Preserve aspect ratio</h2>\n        <bx-switch id="preserve-aspect-ratio-switch"></bx-switch>\n      </div>\n\n      <h3 id="align-heading">Align</h3>\n      <div class="row-div">\n        <bx-alignmentselect id="align-select"></bx-alignmentselect>\n        <bx-checkbox label="Slice" id="slice-checkbox"></bx-checkbox>\n      </div>\n    </section>\n\n    <section id="viewport-section">\n      <h2>Viewport</h2>\n\n      <div id="viewport-width-div">\n        <div class="row-div">\n          <h3>Width</h2>\n          <bx-switch id="viewport-width-switch"></bx-switch>\n        </div>\n\n        <div class="row-div">\n          <bx-slider\n            id="viewport-width-slider"\n            title="Viewport Width"\n            value="0"\n            min="0"\n            precision="0">\n          </bx-slider>\n\n          <bx-select id="viewport-width-unit-select" value="px">\n            <bx-selectitem value="px"  label="px"></bx-selectitem>\n            <bx-selectitem value="cm"  label="cm"></bx-selectitem>\n            <bx-selectitem value="mm"  label="mm"></bx-selectitem>\n            <bx-selectitem value="in"  label="in"></bx-selectitem>\n            <bx-selectitem value="pt"  label="pt"></bx-selectitem>\n            <bx-selectitem value="pc"  label="pc"></bx-selectitem>\n            <bx-selectitem value="ems" label="ems"></bx-selectitem>\n            <bx-selectitem value="exs" label="exs"></bx-selectitem>\n            <bx-selectitem value="%"   label="%"></bx-selectitem>\n            <bx-selectitem value=""    label=" "></bx-selectitem>\n          </bx-select>\n        </div>\n      </div>\n\n      <div id="viewport-height-div">\n        <div class="row-div">\n          <h3>Height</h2>\n          <bx-switch id="viewport-height-switch"></bx-switch>\n        </div>\n\n        <div class="row-div">\n          <bx-slider\n            id="viewport-height-slider"\n            title="Viewport Height"\n            value="0"\n            min="0"\n            precision="0">\n          </bx-slider>\n\n          <bx-select id="viewport-height-unit-select" value="px">\n            <bx-selectitem value="px"  label="px"></bx-selectitem>\n            <bx-selectitem value="cm"  label="cm"></bx-selectitem>\n            <bx-selectitem value="mm"  label="mm"></bx-selectitem>\n            <bx-selectitem value="in"  label="in"></bx-selectitem>\n            <bx-selectitem value="pt"  label="pt"></bx-selectitem>\n            <bx-selectitem value="pc"  label="pc"></bx-selectitem>\n            <bx-selectitem value="ems" label="ems"></bx-selectitem>\n            <bx-selectitem value="exs" label="exs"></bx-selectitem>\n            <bx-selectitem value="%"   label="%"></bx-selectitem>\n            <bx-selectitem value=""    label=" "></bx-selectitem>\n          </bx-select>\n        </div>\n      </div>\n    </section>\n  </main>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#view-box-switch"].addEventListener("change",function(){
return e._onViewBoxSwitchChange()}),this["#view-box-x-slider"].addEventListener("changestart",function(){
return e._onViewBoxXSliderChangeStart()}),this["#view-box-y-slider"].addEventListener("changestart",function(){
return e._onViewBoxYSliderChangeStart()}),this["#view-box-width-slider"].addEventListener("changestart",function(){
return e._onViewBoxWidthSliderChangeStart()}),this["#view-box-height-slider"].addEventListener("changestart",function(){
return e._onViewBoxHeightSliderChangeStart()}),this["#viewport-width-switch"].addEventListener("change",function(){
return e._onViewportWidthSwitchChange()}),this["#viewport-width-slider"].addEventListener("changestart",function(){
return e._onViewportWidthSliderChangeStart()}),this["#viewport-width-unit-select"].addEventListener("change",function(){
return e._onViewportWidthUnitSelectChange()}),this["#viewport-height-switch"].addEventListener("change",function(){
return e._onViewportHeightSwitchChange()}),this["#viewport-height-slider"].addEventListener("changestart",function(){
return e._onViewportHeightSliderChangeStart()}),this["#viewport-height-unit-select"].addEventListener("change",function(){
return e._onViewportHeightUnitSelectChange()}),this["#preserve-aspect-ratio-switch"].addEventListener("change",function(){
return e._onPreserveAspectRatioSwitchChange()}),this["#slice-checkbox"].addEventListener("change",function(){
return e._onSliceCheckboxChange()}),this["#align-select"].addEventListener("change",function(){
return e._onAlignSelectChange()})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._isChangingSlider=!1,this._update(),this._toggleViewboxHud(),
body.addEventListener("toolchange",this._toolChangeListener=function(){e._toggleViewboxHud();
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.disableHud("viewbox-edit-hud")},_onArtboardMutation:function(e){this._isChangingSlider||e.target!==body.canvas.artboards&&e.target.parentNode!==body.canvas.artboards||this._update();
},_onViewBoxSwitchChange:function(){body.canvas.undoManager.checkpoint("View box"),
this["#view-box-switch"].toggled===!0?this._lastViewBox?body.canvas.currentArtboard.setAttribute("viewBox",this._lastViewBox):body.canvas.currentArtboard.setAttribute("viewBox","0 0 500 500"):(this._lastViewBox=body.canvas.currentArtboard.getAttribute("viewBox"),
body.canvas.currentArtboard.removeAttribute("viewBox"))},_onViewBoxXSliderChangeStart:function(e){
var t,n,r=this,i=this["#view-box-x-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",t=function(){body.canvas.currentArtboard.viewBox.x=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",t),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxYSliderChangeStart:function(e){
var t,n,r=this,i=this["#view-box-y-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",t=function(){body.canvas.currentArtboard.viewBox.y=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",t),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxWidthSliderChangeStart:function(e){
var t,n,r=this,i=this["#view-box-width-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",t=function(){body.canvas.currentArtboard.viewBox.width=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",t),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxHeightSliderChangeStart:function(e){
var t,n,r=this,i=this["#view-box-height-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",t=function(){body.canvas.currentArtboard.viewBox.height=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",t),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewportWidthSwitchChange:function(){
body.canvas.undoManager.checkpoint("Viewport width"),this["#viewport-width-switch"].toggled===!0?this._lastViewportWidth?body.canvas.currentArtboard.setAttribute("width",this._lastViewportWidth):body.canvas.currentArtboard.setAttribute("width","500px"):(this._lastViewportWidth=body.canvas.currentArtboard.getAttribute("width"),
body.canvas.currentArtboard.removeAttribute("width"))},_onViewportWidthSliderChangeStart:function(){
var e,t,n=this,r=this["#viewport-width-slider"],i=this["#viewport-width-unit-select"];
body.canvas.undoManager.checkpoint("Viewport width"),this._isChangingSlider=!0,r.addEventListener("change",e=function(){
body.canvas.currentArtboard.setAttribute("width",r.value+i.value)}),r.addEventListener("changeend",t=function(){
r.removeEventListener("change",e),r.removeEventListener("changeend",t),n._isChangingSlider=!1;
})},_onViewportWidthUnitSelectChange:function(){var e=this["#viewport-width-slider"],t=this["#viewport-width-unit-select"];
body.canvas.undoManager.checkpoint("Viewport width unit"),body.canvas.currentArtboard.setAttribute("width",e.value+t.value);
},_onViewportHeightSwitchChange:function(){body.canvas.undoManager.checkpoint("Viewport height"),
this["#viewport-height-switch"].toggled===!0?this._lastViewportHeight?body.canvas.currentArtboard.setAttribute("height",this._lastViewportHeight):body.canvas.currentArtboard.setAttribute("height","500px"):(this._lastViewportHeight=body.canvas.currentArtboard.getAttribute("height"),
body.canvas.currentArtboard.removeAttribute("height"))},_onViewportHeightSliderChangeStart:function(){
var e,t,n=this,r=this["#viewport-height-slider"],i=this["#viewport-height-unit-select"];
body.canvas.undoManager.checkpoint("Viewport height"),this._isChangingSlider=!0,r.addEventListener("change",e=function(){
body.canvas.currentArtboard.setAttribute("height",r.value+i.value)}),r.addEventListener("changeend",t=function(){
r.removeEventListener("change",e),r.removeEventListener("changeend",t),n._isChangingSlider=!1;
})},_onViewportHeightUnitSelectChange:function(){var e=this["#viewport-height-slider"],t=this["#viewport-height-unit-select"];
body.canvas.undoManager.checkpoint("Viewport height unit"),body.canvas.currentArtboard.setAttribute("height",e.value+t.value);
},_onPreserveAspectRatioSwitchChange:function(){body.canvas.undoManager.checkpoint("Preserve aspect ratio"),
this["#preserve-aspect-ratio-switch"].toggled?this._lastAspectRatio?body.canvas.currentArtboard.setAttribute("preserveAspectRatio",this._lastAspectRatio):body.canvas.currentArtboard.removeAttribute("preserveAspectRatio"):(this._lastAspectRatio=body.canvas.currentArtboard.getAttribute("preserveAspectRatio"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio","none"))},_onSliceCheckboxChange:function(){
if(body.canvas.undoManager.checkpoint("Slice"),"xMidYMid"===this["#align-select"].value&&this["#slice-checkbox"].checked===!1)body.canvas.currentArtboard.removeAttribute("preserveAspectRatio");else{
var e=this["#align-select"].value;"none"!==e&&this["#slice-checkbox"].checked&&(e+=" slice"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio",e)}},_onAlignSelectChange:function(){
if(body.canvas.undoManager.checkpoint("Align"),"xMidYMid"===this["#align-select"].value&&this["#slice-checkbox"].checked===!1)body.canvas.currentArtboard.removeAttribute("preserveAspectRatio");else{
var e=this["#align-select"].value;"none"!==e&&this["#slice-checkbox"].checked&&(e+=" slice"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio",e)}},_update:function(){
this._updateViewBoxSection(),this._updateViewportSection(),this._updateAspectRatioSection();
},_updateViewBoxSection:function(){body.canvas.currentArtboard.hasAttribute("viewBox")?(this["#view-box-switch"].toggled=!0,
this["#view-box-x-slider"].value=t(body.canvas.currentArtboard.viewBox.x,4),this["#view-box-x-slider"].disabled=!1,
this["#view-box-x-heading"].disabled=!1,this["#view-box-y-slider"].value=t(body.canvas.currentArtboard.viewBox.y,4),
this["#view-box-y-slider"].disabled=!1,this["#view-box-y-heading"].disabled=!1,this["#view-box-width-slider"].value=t(body.canvas.currentArtboard.viewBox.width,4),
this["#view-box-width-slider"].disabled=!1,this["#view-box-width-heading"].disabled=!1,
this["#view-box-height-slider"].value=t(body.canvas.currentArtboard.viewBox.height,4),
this["#view-box-height-slider"].disabled=!1,this["#view-box-height-heading"].disabled=!1):(this["#view-box-switch"].toggled=!1,
this["#view-box-x-slider"].value=0,this["#view-box-x-slider"].disabled=!0,this["#view-box-x-heading"].disabled=!0,
this["#view-box-y-slider"].value=0,this["#view-box-y-slider"].disabled=!0,this["#view-box-y-heading"].disabled=!0,
this["#view-box-width-slider"].value=0,this["#view-box-width-slider"].disabled=!0,
this["#view-box-width-heading"].disabled=!0,this["#view-box-height-slider"].value=0,
this["#view-box-height-slider"].disabled=!0,this["#view-box-height-heading"].disabled=!0);
},_updateViewportSection:function(){body.canvas.currentArtboard!==body.canvas.masterArtboard?this["#viewport-section"].hidden=!0:(this["#viewport-section"].hidden=!1,
body.canvas.currentArtboard.hasAttribute("width")===!1?(this["#viewport-width-slider"].disabled=!0,
this["#viewport-width-slider"].value=0,this["#viewport-width-switch"].toggled=!1,
this["#viewport-width-unit-select"].disabled=!0,this["#viewport-width-unit-select"].value="px"):(this["#viewport-width-slider"].disabled=!1,
this["#viewport-width-slider"].value=body.canvas.currentArtboard.width.valueInSpecifiedUnits,
this["#viewport-width-switch"].toggled=!0,this["#viewport-width-unit-select"].disabled=!1,
this["#viewport-width-unit-select"].value=r[body.canvas.currentArtboard.width.unitType]),
body.canvas.currentArtboard.hasAttribute("height")===!1?(this["#viewport-height-slider"].disabled=!0,
this["#viewport-height-slider"].value=0,this["#viewport-height-switch"].toggled=!1,
this["#viewport-height-unit-select"].disabled=!0,this["#viewport-height-unit-select"].value="px"):(this["#viewport-height-slider"].disabled=!1,
this["#viewport-height-slider"].value=body.canvas.currentArtboard.height.valueInSpecifiedUnits,
this["#viewport-height-switch"].toggled=!0,this["#viewport-height-unit-select"].disabled=!1,
this["#viewport-height-unit-select"].value=r[body.canvas.currentArtboard.height.unitType]));
},_updateAspectRatioSection:function(){body.canvas.currentArtboard.hasAttribute("viewBox")===!1?(this["#preserve-aspect-ratio-heading"].disabled=!0,
this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,
this["#slice-checkbox"].checked=!1,this["#slice-checkbox"].disabled=!0,this["#align-heading"].disabled=!0,
this["#align-select"].value=null,this["#align-select"].disabled=!0):"none"===n[body.canvas.currentArtboard.preserveAspectRatio.align]?(this["#preserve-aspect-ratio-heading"].disabled=!1,
this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,
this["#align-heading"].disabled=!0,this["#align-select"].value=null,this["#align-select"].disabled=!0,
this["#slice-checkbox"].checked=!1,this["#slice-checkbox"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,
this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,
this["#align-heading"].disabled=!1,this["#align-select"].value=n[body.canvas.currentArtboard.preserveAspectRatio.align],
this["#align-select"].disabled=!1,this["#slice-checkbox"].checked=2===body.canvas.currentArtboard.preserveAspectRatio.meetOrSlice,
this["#slice-checkbox"].disabled=!1)},_toggleViewboxHud:function(){"transform-tool"===body.currentTool.id||"edit-tool"===body.currentTool.id?body.canvas.enableHud("viewbox-edit-hud"):body.canvas.disableHud("viewbox-edit-hud");
}},{},e)}(HTMLElement),o=e("bx-viewcontrols",a);return{get default(){return o}}}),
$traceurRuntime.registerModule("libs/opentype",[],function(){"use strict";!function(e){
if("object"===("undefined"==typeof exports?"undefined":$traceurRuntime["typeof"](exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{
var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,
t.opentype=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){
var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);
var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={
exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r);
}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);
return i}({1:[function(e,t,n){function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288);
}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,
this.destLen=0,this.ltree=new r,this.dtree=new r}function a(e,t,n,r){var i,a;for(i=0;n>i;++i)e[i]=0;
for(i=0;30-n>i;++i)e[i+n]=i/n|0;for(a=r,i=0;30>i;++i)t[i]=a,a+=1<<e[i]}function o(e,t){
var n;for(n=0;7>n;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,
n=0;24>n;++n)e.trans[n]=256+n;for(n=0;144>n;++n)e.trans[24+n]=n;for(n=0;8>n;++n)e.trans[168+n]=280+n;
for(n=0;112>n;++n)e.trans[176+n]=144+n;for(n=0;5>n;++n)t.table[n]=0;for(t.table[5]=32,
n=0;32>n;++n)t.trans[n]=n}function s(e,t,n,r){var i,a;for(i=0;16>i;++i)e.table[i]=0;
for(i=0;r>i;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;16>i;++i)R[i]=a,a+=e.table[i];
for(i=0;r>i;++i)t[n+i]&&(e.trans[R[t[n+i]]++]=i)}function l(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],
e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function u(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,
e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function c(e,t){
for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;
do r=2*r+(1&a),a>>>=1,++i,n+=t.table[i],r-=t.table[i];while(r>=0);return e.tag=a,
e.bitcount-=i,t.trans[n+r]}function d(e,t,n){var r,i,a,o,l,d;for(r=u(e,5,257),i=u(e,5,1),
a=u(e,4,4),o=0;19>o;++o)C[o]=0;for(o=0;a>o;++o){var h=u(e,3,0);C[S[o]]=h}for(s(M,C,0,19),
l=0;r+i>l;){var v=c(e,M);switch(v){case 16:var f=C[l-1];for(d=u(e,2,3);d;--d)C[l++]=f;
break;case 17:for(d=u(e,3,3);d;--d)C[l++]=0;break;case 18:for(d=u(e,7,11);d;--d)C[l++]=0;
break;default:C[l++]=v}}s(t,C,0,r),s(n,C,r,i)}function h(e,t,n){for(;;){var r=c(e,t);
if(256===r)return m;if(256>r)e.dest[e.destLen++]=r;else{var i=void 0,a=void 0,o=void 0,s=void 0;
for(r-=257,i=u(e,y[r],x[r]),a=c(e,n),o=e.destLen-u(e,_[a],w[a]),s=o;o+i>s;++s)e.dest[e.destLen++]=e.dest[s];
}}}function v(e){for(var t,n,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],
t=256*t+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],
t!==(65535&~n))return b;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];
return e.bitcount=0,m}function f(e,t){var n,r,a=new i(e,t);do{switch(n=l(a),btype=u(a,2,0),
btype){case 0:r=v(a);break;case 1:r=h(a,g,p);break;case 2:d(a,a.ltree,a.dtree),r=h(a,a.ltree,a.dtree);
break;default:r=b}if(r!==m)throw new Error("Data error")}while(!n);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest;
}var m=0,b=-3,g=new r,p=new r,y=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),w=new Uint16Array(30),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new r,C=new Uint8Array(320),R=new Uint16Array(16);
o(g,p),a(y,x,4,3),a(_,w,2,1),y[28]=0,x[28]=258,t.exports=f},{}],2:[function(e,t,n){
n.argument=function(e,t){if(!e)throw new Error(t)},n.assert=n.argument},{}],3:[function(e,t,n){
function r(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}n.line=r;
},{}],4:[function(e,t,n){function r(e){this.font=e}function i(e){this.cmap=e}function a(e,t){
this.encoding=e,this.charset=t}function o(e){var t;switch(e.version){case 1:this.names=n.standardNames.slice();
break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<n.standardNames.length?this.names[t]=n.standardNames[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-n.standardNames.length];
break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=n.standardNames[t+e.glyphNameIndex[t]];
break;case 3:this.names=[]}}function s(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){
var a=r[i],o=n[a];t=e.glyphs.get(o),t.addUnicode(parseInt(a))}for(i=0;i<e.glyphs.length;i+=1)t=e.glyphs.get(i),
e.cffEncoding?t.name=e.cffEncoding.charset[i]:t.name=e.glyphNames.glyphIndexToName(i);
}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],d=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];
r.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.font.glyphs;
if(!n)return null;for(var r=0;r<n.length;r+=1)for(var i=n.get(r),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return r;
},i.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0;
},a.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.encoding[t];
return this.charset.indexOf(n)},o.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e);
},o.prototype.glyphIndexToName=function(e){return this.names[e]},n.cffStandardStrings=l,
n.cffStandardEncoding=u,n.cffExpertEncoding=c,n.standardNames=d,n.DefaultEncoding=r,
n.CmapEncoding=i,n.CffEncoding=a,n.GlyphNames=o,n.addGlyphNames=s},{}],5:[function(e,t,n){
function r(e){e=e||{},e.empty||(l.checkArgument(e.familyName,"When creating a new Font object, familyName is required."),
l.checkArgument(e.styleName,"When creating a new Font object, styleName is required."),
l.checkArgument(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),
l.checkArgument(e.ascender,"When creating a new Font object, ascender is required."),
l.checkArgument(e.descender,"When creating a new Font object, descender is required."),
l.checkArgument(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={
fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName
},postScriptName:{en:e.postScriptName||e.familyName+e.styleName},designer:{en:e.designer||" "
},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{
en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "
},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{
en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,
this.ascender=e.ascender,this.descender=e.descender),this.supported=!0,this.glyphs=new s.GlyphSet(this,e.glyphs||[]),
this.encoding=new o.DefaultEncoding(this),this.tables={}}var i=e("./path"),a=e("./tables/sfnt"),o=e("./encoding"),s=e("./glyphset"),l=e("./util");
r.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},
r.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e);
},r.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);
return n||(n=this.glyphs.get(0)),n},r.prototype.stringToGlyphs=function(e){for(var t=[],n=0;n<e.length;n+=1){
var r=e[n];t.push(this.charToGlyph(r))}return t},r.prototype.nameToGlyphIndex=function(e){
return this.glyphNames.nameToGlyphIndex(e)},r.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),n=this.glyphs.get(t);
return n||(n=this.glyphs.get(0)),n},r.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):"";
},r.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.getGposKerningValue;
return n?n(e,t):this.kerningPairs[e+","+t]||0},r.prototype.forEachGlyph=function(e,t,n,r,i,a){
t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=i||{};for(var o=void 0===i.kerning?!0:i.kerning,s=1/this.unitsPerEm*r,l=this.stringToGlyphs(e),u=0;u<l.length;u+=1){
var c=l[u];if(a(c,t,n,r,i),c.advanceWidth&&(t+=c.advanceWidth*s),o&&u<l.length-1){
var d=this.getKerningValue(c,l[u+1]);t+=d*s}}},r.prototype.getPath=function(e,t,n,r,a){
var o=new i.Path;return this.forEachGlyph(e,t,n,r,a,function(e,t,n,r){var i=e.getPath(t,n,r);
o.extend(i)}),o},r.prototype.getPaths=function(e,t,n,r,i){var a=[];return this.forEachGlyph(e,t,n,r,i,function(e,t,n,r){
var i=e.getPath(t,n,r);a.push(i)}),a},r.prototype.draw=function(e,t,n,r,i,a){this.getPath(t,n,r,i,a).draw(e);
},r.prototype.drawPoints=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,function(t,n,r,i){
t.drawPoints(e,n,r,i)})},r.prototype.drawMetrics=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,function(t,n,r,i){
t.drawMetrics(e,n,r,i)})},r.prototype.getEnglishName=function(e){var t=this.names[e];
return t?t.en:void 0},r.prototype.validate=function(){function e(e,t){e||n.push(t);
}function t(t){var n=r.getEnglishName(t);e(n&&n.trim().length>0,"No English "+t+" specified.");
}var n=[],r=this;t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),
t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},r.prototype.toTables=function(){
return a.fontToTable(this)},r.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),
this.toArrayBuffer()},r.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t[i];
return n},r.prototype.download=function(){var t=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily"),r=t.replace(/\s/g,"")+"-"+n+".otf",i=this.toArrayBuffer();
if(l.isBrowser())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,
window.requestFileSystem(window.TEMPORARY,i.byteLength,function(e){e.root.getFile(r,{
create:!0},function(e){e.createWriter(function(t){var n=new DataView(i),r=new Blob([n],{
type:"font/opentype"});t.write(r),t.addEventListener("writeend",function(){location.href=e.toURL();
},!1)})})},function(e){throw e});else{var a=e("fs"),o=l.arrayBufferToNodeBuffer(i);
a.writeFileSync(r,o)}},n.Font=r},{"./encoding":4,"./glyphset":7,"./path":10,"./tables/sfnt":27,
"./util":29,fs:void 0}],6:[function(e,t,n){function r(e,t){var n=t||{commands:[]};
return{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(e){
n=e}}}function i(e){this.bindConstructorValues(e)}var a=e("./check"),o=e("./draw"),s=e("./path");
i.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,
this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],
e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),
e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",r(this,e.path));
},i.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e);
},i.prototype.getPath=function(e,t,n){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;
for(var r=1/this.path.unitsPerEm*n,i=new s.Path,a=this.path.commands,o=0;o<a.length;o+=1){
var l=a[o];"M"===l.type?i.moveTo(e+l.x*r,t+-l.y*r):"L"===l.type?i.lineTo(e+l.x*r,t+-l.y*r):"Q"===l.type?i.quadraticCurveTo(e+l.x1*r,t+-l.y1*r,e+l.x*r,t+-l.y*r):"C"===l.type?i.curveTo(e+l.x1*r,t+-l.y1*r,e+l.x2*r,t+-l.y2*r,e+l.x*r,t+-l.y*r):"Z"===l.type&&i.closePath();
}return i},i.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){
var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return a.argument(0===t.length,"There are still points left in the current contour."),
e},i.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){
var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),
n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var a={xMin:Math.min.apply(null,t),
yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),
leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),
isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),
a},i.prototype.draw=function(e,t,n,r){this.getPath(t,n,r).draw(e)},i.prototype.drawPoints=function(e,t,n,r){
function i(t,n,r,i){var a=2*Math.PI;e.beginPath();for(var o=0;o<t.length;o+=1)e.moveTo(n+t[o].x*i,r+t[o].y*i),
e.arc(n+t[o].x*i,r+t[o].y*i,2,0,a,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,
r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,o=[],s=[],l=this.path,u=0;u<l.commands.length;u+=1){
var c=l.commands[u];void 0!==c.x&&o.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,
y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(o,t,n,a),e.fillStyle="red",
i(s,t,n,a)},i.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,
r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",
o.line(e,t,-1e4,t,1e4),o.line(e,-1e4,n,1e4,n);var a=this.xMin||0,s=this.yMin||0,l=this.xMax||0,u=this.yMax||0,c=this.advanceWidth||0;
e.strokeStyle="blue",o.line(e,t+a*i,-1e4,t+a*i,1e4),o.line(e,t+l*i,-1e4,t+l*i,1e4),
o.line(e,-1e4,n+-s*i,1e4,n+-s*i),o.line(e,-1e4,n+-u*i,1e4,n+-u*i),e.strokeStyle="green",
o.line(e,t+c*i,-1e4,t+c*i,1e4)},n.Glyph=i},{"./check":2,"./draw":3,"./path":10}],
7:[function(e,t,n){function r(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++)this.glyphs[n]=t[n];
this.length=t&&t.length||0}function i(e,t){return new s.Glyph({index:t,font:e})}function a(e,t,n,r,i,a){
return function(){var o=new s.Glyph({index:t,font:e});return o.path=function(){n(o,r,i);
var t=a(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},o}}function o(e,t,n,r){return function(){
var i=new s.Glyph({index:t,font:e});return i.path=function(){var t=n(e,i,r);return t.unitsPerEm=e.unitsPerEm,
t},i}}var s=e("./glyph");r.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),
this.glyphs[e]},r.prototype.push=function(e,t){this.glyphs[e]=t,this.length++},n.GlyphSet=r,
n.glyphLoader=i,n.ttfGlyphLoader=a,n.cffGlyphLoader=o},{"./glyph":6}],8:[function(e,t,n){
function r(t,n){var r=e("fs");r.readFile(t,function(e,t){return e?n(e.message):void n(null,g.nodeBufferToArrayBuffer(t));
})}function i(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",
n.onload=function(){return 200!==n.status?t("Font could not be loaded: "+n.statusText):t(null,n.response);
},n.send()}function a(e,t){for(var n=[],r=12,i=0;t>i;i+=1){var a=m.getTag(e,r),o=m.getULong(e,r+8);
n.push({tag:a,offset:o,compression:!1}),r+=16}return n}function o(e,t){for(var n=[],r=44,i=0;t>i;i+=1){
var a=m.getTag(e,r),o=m.getULong(e,r+4),s=m.getULong(e,r+8),l=m.getULong(e,r+12),u=void 0;
u=l>s?"WOFF":!1,n.push({tag:a,offset:o,compression:u,compressedLength:s,originalLength:l
}),r+=20}return n}function s(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.originalLength);
if(d(n,r),r.byteLength!==t.originalLength)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");
var i=new DataView(r.buffer,0);return{data:i,offset:0}}return{data:e,offset:t.offset
}}function l(e){var t,n,r,i=new v.Font({empty:!0}),l=new DataView(e,0),u=[],c=m.getTag(l,0);
if(c===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype",r=m.getUShort(l,4),
u=a(l,r);else if("OTTO"===c)i.outlinesFormat="cff",r=m.getUShort(l,4),u=a(l,r);else{
if("wOFF"!==c)throw new Error("Unsupported OpenType signature "+c);var d=m.getTag(l,4);
if(d===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype";else{if("OTTO"!==d)throw new Error("Unsupported OpenType flavor "+c);
i.outlinesFormat="cff"}r=m.getUShort(l,12),u=o(l,r)}for(var f,b,g,$,j,N,O,V,z=0;r>z;z+=1){
var D=u[z],G=void 0;switch(D.tag){case"cmap":G=s(l,D),i.tables.cmap=p.parse(G.data,G.offset),
i.encoding=new h.CmapEncoding(i.tables.cmap);break;case"fvar":b=D;break;case"head":
G=s(l,D),i.tables.head=S.parse(G.data,G.offset),i.unitsPerEm=i.tables.head.unitsPerEm,
t=i.tables.head.indexToLocFormat;break;case"hhea":G=s(l,D),i.tables.hhea=M.parse(G.data,G.offset),
i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;
break;case"hmtx":j=D;break;case"ltag":G=s(l,D),n=k.parse(G.data,G.offset);break;case"maxp":
G=s(l,D),i.tables.maxp=A.parse(G.data,G.offset),i.numGlyphs=i.tables.maxp.numGlyphs;
break;case"name":V=D;break;case"OS/2":G=s(l,D),i.tables.os2=T.parse(G.data,G.offset);
break;case"post":G=s(l,D),i.tables.post=L.parse(G.data,G.offset),i.glyphNames=new h.GlyphNames(i.tables.post);
break;case"glyf":g=D;break;case"loca":O=D;break;case"CFF ":f=D;break;case"kern":N=D;
break;case"GPOS":$=D}}var I=s(l,V);if(i.tables.name=P.parse(I.data,I.offset,n),i.names=i.tables.name,
g&&O){var B=0===t,U=s(l,O),H=E.parse(U.data,U.offset,i.numGlyphs,B),F=s(l,g);i.glyphs=_.parse(F.data,F.offset,H,i);
}else{if(!f)throw new Error("Font doesn't contain TrueType or CFF outlines.");var q=s(l,f);
y.parse(q.data,q.offset,i)}var W=s(l,j);if(C.parse(W.data,W.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs),
h.addGlyphNames(i),N){var Y=s(l,N);i.kerningPairs=R.parse(Y.data,Y.offset)}else i.kerningPairs={};
if($){var X=s(l,$);w.parse(X.data,X.offset,i)}if(b){var Z=s(l,b);i.tables.fvar=x.parse(Z.data,Z.offset,i.names);
}return i}function u(e,t){var n="undefined"==typeof window,a=n?r:i;a(e,function(e,n){
if(e)return t(e);var r=l(n);return t(null,r)})}function c(t){var n=e("fs"),r=n.readFileSync(t);
return l(g.nodeBufferToArrayBuffer(r))}var d=e("tiny-inflate"),h=e("./encoding"),v=e("./font"),f=e("./glyph"),m=e("./parse"),b=e("./path"),g=e("./util"),p=e("./tables/cmap"),y=e("./tables/cff"),x=e("./tables/fvar"),_=e("./tables/glyf"),w=e("./tables/gpos"),S=e("./tables/head"),M=e("./tables/hhea"),C=e("./tables/hmtx"),R=e("./tables/kern"),k=e("./tables/ltag"),E=e("./tables/loca"),A=e("./tables/maxp"),P=e("./tables/name"),T=e("./tables/os2"),L=e("./tables/post");
n._parse=m,n.Font=v.Font,n.Glyph=f.Glyph,n.Path=b.Path,n.parse=l,n.load=u,n.loadSync=c;
},{"./encoding":4,"./font":5,"./glyph":6,"./parse":9,"./path":10,"./tables/cff":12,
"./tables/cmap":13,"./tables/fvar":14,"./tables/glyf":15,"./tables/gpos":16,"./tables/head":17,
"./tables/hhea":18,"./tables/hmtx":19,"./tables/kern":20,"./tables/loca":21,"./tables/ltag":22,
"./tables/maxp":23,"./tables/name":24,"./tables/os2":25,"./tables/post":26,"./util":29,
fs:void 0,"tiny-inflate":1}],9:[function(e,t,n){function r(e,t){this.data=e,this.offset=t,
this.relativeOffset=0}n.getByte=function(e,t){return e.getUint8(t)},n.getCard8=n.getByte,
n.getUShort=function(e,t){return e.getUint16(t,!1)},n.getCard16=n.getUShort,n.getShort=function(e,t){
return e.getInt16(t,!1)},n.getULong=function(e,t){return e.getUint32(t,!1)},n.getFixed=function(e,t){
var n=e.getInt16(t,!1),r=e.getUint16(t+2,!1);return n+r/65535},n.getTag=function(e,t){
for(var n="",r=t;t+4>r;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},n.getOffset=function(e,t,n){
for(var r=0,i=0;n>i;i+=1)r<<=8,r+=e.getUint8(t+i);return r},n.getBytes=function(e,t,n){
for(var r=[],i=t;n>i;i+=1)r.push(e.getUint8(i));return r},n.bytesToString=function(e){
for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t};var i={"byte":1,
uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};r.prototype.parseByte=function(){
var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,
e},r.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);
return this.relativeOffset+=1,e},r.prototype.parseCard8=r.prototype.parseByte,r.prototype.parseUShort=function(){
var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,
e},r.prototype.parseCard16=r.prototype.parseUShort,r.prototype.parseSID=r.prototype.parseUShort,
r.prototype.parseOffset16=r.prototype.parseUShort,r.prototype.parseShort=function(){
var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,
e},r.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;
return this.relativeOffset+=2,e},r.prototype.parseULong=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,e},r.prototype.parseFixed=function(){var e=n.getFixed(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,e},r.prototype.parseOffset16List=r.prototype.parseUShortList=function(e){
for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,a=0;e>a;a++)t[a]=n.getUShort(r,i),
i+=2;return this.relativeOffset+=2*e,t},r.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";
this.relativeOffset+=e;for(var i=0;e>i;i++)r+=String.fromCharCode(t.getUint8(n+i));
return r},r.prototype.parseTag=function(){return this.parseString(4)},r.prototype.parseLongDateTime=function(){
var e=n.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,
e},r.prototype.parseFixed=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,e/65536},r.prototype.parseVersion=function(){var e=n.getUShort(this.data,this.offset+this.relativeOffset),t=n.getUShort(this.data,this.offset+this.relativeOffset+2);
return this.relativeOffset+=4,e+t/4096/10},r.prototype.skip=function(e,t){void 0===t&&(t=1),
this.relativeOffset+=i[e]*t},n.Parser=r},{}],10:[function(e,t,n){function r(){this.commands=[],
this.fill="black",this.stroke=null,this.strokeWidth=1}r.prototype.moveTo=function(e,t){
this.commands.push({type:"M",x:e,y:t})},r.prototype.lineTo=function(e,t){this.commands.push({
type:"L",x:e,y:t})},r.prototype.curveTo=r.prototype.bezierCurveTo=function(e,t,n,r,i,a){
this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:a})},r.prototype.quadTo=r.prototype.quadraticCurveTo=function(e,t,n,r){
this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},r.prototype.close=r.prototype.closePath=function(){
this.commands.push({type:"Z"})},r.prototype.extend=function(e){e.commands&&(e=e.commands),
Array.prototype.push.apply(this.commands,e)},r.prototype.draw=function(e){e.beginPath();
for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath();
}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,
e.lineWidth=this.strokeWidth,e.stroke())},r.prototype.toPathData=function(e){function t(t){
return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e="",n=0;n<arguments.length;n+=1){
var r=arguments[n];r>=0&&n>0&&(e+=" "),e+=t(r)}return e}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){
var a=this.commands[i];"M"===a.type?r+="M"+n(a.x,a.y):"L"===a.type?r+="L"+n(a.x,a.y):"C"===a.type?r+="C"+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?r+="Q"+n(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(r+="Z");
}return r},r.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),
t+='"',this.fill&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),
this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),
t+="/>"},n.Path=r},{}],11:[function(e,t,n){function r(e,t,n){var r;for(r=0;r<t.length;r+=1){
var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n){var a=Object.keys(n);
for(r=0;r<a.length;r+=1){var o=a[r],s=n[o];void 0!==this[o]&&(this[o]=s)}}}var i=e("./check"),a=e("./types").encode,o=e("./types").sizeOf;
r.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var n=this.fields[t],r=this[n.name];
if(void 0===r&&(r=n.value),"function"==typeof r.sizeOf)e+=r.sizeOf();else{var a=o[n.type];
i.assert("function"==typeof a,"Could not find sizeOf function for field"+n.name),
e+=a(r)}}return e},r.prototype.encode=function(){return a.TABLE(this)},n.Table=r},{
"./check":2,"./types":28}],12:[function(e,t,n){function r(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){
if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!r(e[n],t[n]))return!1;
return!0}return!1}function i(e,t,n){var r,i,a,o=[],s=[],l=j.getCard16(e,t);if(0!==l){
var u=j.getByte(e,t+2);i=t+(l+1)*u+2;var c=t+3;for(r=0;l+1>r;r+=1)o.push(j.getOffset(e,c,u)),
c+=u;a=i+o[l]}else a=t+2;for(r=0;r<o.length-1;r+=1){var d=j.getBytes(e,i+o[r],i+o[r+1]);
n&&(d=n(d)),s.push(d)}return{objects:s,startOffset:t,endOffset:a}}function a(e){for(var t="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){
var i=e.parseByte(),a=i>>4,o=15&i;if(a===n)break;if(t+=r[a],o===n)break;t+=r[o]}return parseFloat(t);
}function o(e,t){var n,r,i,o;if(28===t)return n=e.parseByte(),r=e.parseByte(),n<<8|r;
if(29===t)return n=e.parseByte(),r=e.parseByte(),i=e.parseByte(),o=e.parseByte(),
n<<24|r<<16|i<<8|o;if(30===t)return a(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return n=e.parseByte(),
256*(t-247)+n+108;if(t>=251&&254>=t)return n=e.parseByte(),256*-(t-251)-n-108;throw new Error("Invalid b0 "+t);
}function s(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],i=e[n][1],a=void 0;
if(a=1===i.length?i[0]:i,t.hasOwnProperty(r))throw new Error("Object "+t+" already has key "+r);
t[r]=a}return t}function l(e,t,n){t=void 0!==t?t:0;var r=new j.Parser(e,t),i=[],a=[];
for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var l=r.parseByte();21>=l?(12===l&&(l=1200+r.parseByte()),
i.push([l,a]),a=[]):a.push(o(r,l))}return s(i)}function u(e,t){return t=390>=t?L.cffStandardStrings[t]:e[t-391];
}function c(e,t,n){for(var r={},i=0;i<t.length;i+=1){var a=t[i],o=e[a.op];void 0===o&&(o=void 0!==a.value?a.value:null),
"SID"===a.type&&(o=u(n,o)),r[a.name]=o}return r}function d(e,t){var n={};return n.formatMajor=j.getCard8(e,t),
n.formatMinor=j.getCard8(e,t+1),n.size=j.getCard8(e,t+2),n.offsetSize=j.getCard8(e,t+3),
n.startOffset=t,n.endOffset=t+4,n}function h(e,t){var n=l(e,0,e.byteLength);return c(n,V,t);
}function v(e,t,n,r){var i=l(e,t,n);return c(i,z,r)}function f(e,t,n,r){var i,a,o,s=new j.Parser(e,t);
n-=1;var l=[".notdef"],c=s.parseCard8();if(0===c)for(i=0;n>i;i+=1)a=s.parseSID(),
l.push(u(r,a));else if(1===c)for(;l.length<=n;)for(a=s.parseSID(),o=s.parseCard8(),
i=0;o>=i;i+=1)l.push(u(r,a)),a+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);
for(;l.length<=n;)for(a=s.parseSID(),o=s.parseCard16(),i=0;o>=i;i+=1)l.push(u(r,a)),
a+=1}return l}function m(e,t,n){var r,i,a={},o=new j.Parser(e,t),s=o.parseCard8();
if(0===s){var l=o.parseCard8();for(r=0;l>r;r+=1)i=o.parseCard8(),a[i]=r}else{if(1!==s)throw new Error("Unknown encoding format "+s);
var u=o.parseCard8();for(i=1,r=0;u>r;r+=1)for(var c=o.parseCard8(),d=o.parseCard8(),h=c;c+d>=h;h+=1)a[h]=i,
i+=1}return new L.CffEncoding(a,n)}function b(e,t,n){function r(e,t){m&&c.closePath(),
c.moveTo(e,t),m=!0}function i(){var t;t=d.length%2!==0,t&&!v&&(f=d.shift()+e.nominalWidthX),
h+=d.length>>1,d.length=0,v=!0}function a(n){for(var p,y,x,_,w,S,M,C,R,k,E,A,P=0;P<n.length;){
var T=n[P];switch(P+=1,T){case 1:i();break;case 3:i();break;case 4:d.length>1&&!v&&(f=d.shift()+e.nominalWidthX,
v=!0),g+=d.pop(),r(b,g);break;case 5:for(;d.length>0;)b+=d.shift(),g+=d.shift(),c.lineTo(b,g);
break;case 6:for(;d.length>0&&(b+=d.shift(),c.lineTo(b,g),0!==d.length);)g+=d.shift(),
c.lineTo(b,g);break;case 7:for(;d.length>0&&(g+=d.shift(),c.lineTo(b,g),0!==d.length);)b+=d.shift(),
c.lineTo(b,g);break;case 8:for(;d.length>0;)o=b+d.shift(),s=g+d.shift(),l=o+d.shift(),
u=s+d.shift(),b=l+d.shift(),g=u+d.shift(),c.curveTo(o,s,l,u,b,g);break;case 10:w=d.pop()+e.subrsBias,
S=e.subrs[w],S&&a(S);break;case 11:return;case 12:switch(T=n[P],P+=1,T){case 35:o=b+d.shift(),
s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),M=l+d.shift(),C=u+d.shift(),R=M+d.shift(),
k=C+d.shift(),E=R+d.shift(),A=k+d.shift(),b=E+d.shift(),g=A+d.shift(),d.shift(),c.curveTo(o,s,l,u,M,C),
c.curveTo(R,k,E,A,b,g);break;case 34:o=b+d.shift(),s=g,l=o+d.shift(),u=s+d.shift(),
M=l+d.shift(),C=u,R=M+d.shift(),k=u,E=R+d.shift(),A=g,b=E+d.shift(),c.curveTo(o,s,l,u,M,C),
c.curveTo(R,k,E,A,b,g);break;case 36:o=b+d.shift(),s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),
M=l+d.shift(),C=u,R=M+d.shift(),k=u,E=R+d.shift(),A=k+d.shift(),b=E+d.shift(),c.curveTo(o,s,l,u,M,C),
c.curveTo(R,k,E,A,b,g);break;case 37:o=b+d.shift(),s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),
M=l+d.shift(),C=u+d.shift(),R=M+d.shift(),k=C+d.shift(),E=R+d.shift(),A=k+d.shift(),
Math.abs(E-b)>Math.abs(A-g)?b=E+d.shift():g=A+d.shift(),c.curveTo(o,s,l,u,M,C),c.curveTo(R,k,E,A,b,g);
break;default:console.log("Glyph "+t.index+": unknown operator 1200"+T),d.length=0;
}break;case 14:d.length>0&&!v&&(f=d.shift()+e.nominalWidthX,v=!0),m&&(c.closePath(),
m=!1);break;case 18:i();break;case 19:case 20:i(),P+=h+7>>3;break;case 21:d.length>2&&!v&&(f=d.shift()+e.nominalWidthX,
v=!0),g+=d.pop(),b+=d.pop(),r(b,g);break;case 22:d.length>1&&!v&&(f=d.shift()+e.nominalWidthX,
v=!0),b+=d.pop(),r(b,g);break;case 23:i();break;case 24:for(;d.length>2;)o=b+d.shift(),
s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),b=l+d.shift(),g=u+d.shift(),c.curveTo(o,s,l,u,b,g);
b+=d.shift(),g+=d.shift(),c.lineTo(b,g);break;case 25:for(;d.length>6;)b+=d.shift(),
g+=d.shift(),c.lineTo(b,g);o=b+d.shift(),s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),
b=l+d.shift(),g=u+d.shift(),c.curveTo(o,s,l,u,b,g);break;case 26:for(d.length%2&&(b+=d.shift());d.length>0;)o=b,
s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),b=l,g=u+d.shift(),c.curveTo(o,s,l,u,b,g);
break;case 27:for(d.length%2&&(g+=d.shift());d.length>0;)o=b+d.shift(),s=g,l=o+d.shift(),
u=s+d.shift(),b=l+d.shift(),g=u,c.curveTo(o,s,l,u,b,g);break;case 28:p=n[P],y=n[P+1],
d.push((p<<24|y<<16)>>16),P+=2;break;case 29:w=d.pop()+e.gsubrsBias,S=e.gsubrs[w],
S&&a(S);break;case 30:for(;d.length>0&&(o=b,s=g+d.shift(),l=o+d.shift(),u=s+d.shift(),
b=l+d.shift(),g=u+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,b,g),0!==d.length);)o=b+d.shift(),
s=g,l=o+d.shift(),u=s+d.shift(),g=u+d.shift(),b=l+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,b,g);
break;case 31:for(;d.length>0&&(o=b+d.shift(),s=g,l=o+d.shift(),u=s+d.shift(),g=u+d.shift(),
b=l+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,b,g),0!==d.length);)o=b,s=g+d.shift(),
l=o+d.shift(),u=s+d.shift(),b=l+d.shift(),g=u+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,b,g);
break;default:32>T?console.log("Glyph "+t.index+": unknown operator "+T):247>T?d.push(T-139):251>T?(p=n[P],
P+=1,d.push(256*(T-247)+p+108)):255>T?(p=n[P],P+=1,d.push(256*-(T-251)-p-108)):(p=n[P],
y=n[P+1],x=n[P+2],_=n[P+3],P+=4,d.push((p<<24|y<<16|x<<8|_)/65536))}}}var o,s,l,u,c=new N.Path,d=[],h=0,v=!1,f=e.defaultWidthX,m=!1,b=0,g=0;
return a(n),t.advanceWidth=f,c}function g(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768;
}function p(e,t,n){n.tables.cff={};var r=d(e,t),a=i(e,r.endOffset,j.bytesToString),o=i(e,a.endOffset),s=i(e,o.endOffset,j.bytesToString),l=i(e,s.endOffset);
n.gsubrs=l.objects,n.gsubrsBias=g(n.gsubrs);var u=new DataView(new Uint8Array(o.objects[0]).buffer),c=h(u,s.objects);
n.tables.cff.topDict=c;var p=t+c["private"][1],y=v(e,p,c["private"][0],s.objects);
if(n.defaultWidthX=y.defaultWidthX,n.nominalWidthX=y.nominalWidthX,0!==y.subrs){var x=p+y.subrs,_=i(e,x);
n.subrs=_.objects,n.subrsBias=g(n.subrs)}else n.subrs=[],n.subrsBias=0;var w=i(e,t+c.charStrings);
n.nGlyphs=w.objects.length;var S=f(e,t+c.charset,n.nGlyphs,s.objects);0===c.encoding?n.cffEncoding=new L.CffEncoding(L.cffStandardEncoding,S):1===c.encoding?n.cffEncoding=new L.CffEncoding(L.cffExpertEncoding,S):n.cffEncoding=m(e,t+c.encoding,S),
n.encoding=n.encoding||n.cffEncoding,n.glyphs=new $.GlyphSet(n);for(var M=0;M<n.nGlyphs;M+=1){
var C=w.objects[M];n.glyphs.push(M,$.cffGlyphLoader(n,M,b,C))}}function y(e,t){var n,r=L.cffStandardStrings.indexOf(e);
return r>=0&&(n=r),r=t.indexOf(e),r>=0?n=r+L.cffStandardStrings.length:(n=L.cffStandardStrings.length+t.length,
t.push(e)),n}function x(){return new O.Table("Header",[{name:"major",type:"Card8",
value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4
},{name:"major",type:"Card8",value:1}])}function _(e){var t=new O.Table("Name INDEX",[{
name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({
name:"name_"+n,type:"NAME",value:e[n]});return t}function w(e,t,n){for(var i={},a=0;a<e.length;a+=1){
var o=e[a],s=t[o.name];void 0===s||r(s,o.value)||("SID"===o.type&&(s=y(s,n)),i[o.op]={
name:o.name,type:o.type,value:s})}return i}function S(e,t){var n=new O.Table("Top DICT",[{
name:"dict",type:"DICT",value:{}}]);return n.dict=w(V,e,t),n}function M(e){var t=new O.Table("Top DICT INDEX",[{
name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",
value:e}],t}function C(e){var t=new O.Table("String INDEX",[{name:"strings",type:"INDEX",
value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,
type:"STRING",value:e[n]});return t}function R(){return new O.Table("Global Subr INDEX",[{
name:"subrs",type:"INDEX",value:[]}])}function k(e,t){for(var n=new O.Table("Charsets",[{
name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=e[r],a=y(i,t);n.fields.push({
name:"glyph_"+r,type:"SID",value:a})}return n}function E(e){var t=[],n=e.path;t.push({
name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,a=0;a<n.commands.length;a+=1){
var o=void 0,s=void 0,l=n.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",
x:l.x,y:l.y,x1:u*r+c*l.x1,y1:u*i+c*l.y1,x2:u*l.x+c*l.x1,y2:u*l.y+c*l.y1}}if("M"===l.type)o=Math.round(l.x-r),
s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",
value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-r),
s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",
value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){
var d=Math.round(l.x1-r),h=Math.round(l.y1-i),v=Math.round(l.x2-l.x1),f=Math.round(l.y2-l.y1);
o=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:d
}),t.push({name:"dy1",type:"NUMBER",value:h}),t.push({name:"dx2",type:"NUMBER",value:v
}),t.push({name:"dy2",type:"NUMBER",value:f}),t.push({name:"dx",type:"NUMBER",value:o
}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8
}),r=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14
}),t}function A(e){for(var t=new O.Table("CharStrings INDEX",[{name:"charStrings",
type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=E(r);t.charStrings.push({
name:r.name,type:"CHARSTRING",value:i})}return t}function P(e,t){var n=new O.Table("Private DICT",[{
name:"dict",type:"DICT",value:{}}]);return n.dict=w(z,e,t),n}function T(e,t){for(var n,r=new O.Table("CFF ",[{
name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",
type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"
},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDict",
type:"TABLE"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,
weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,
encoding:0,charStrings:999,"private":[0,999]},o={},s=[],l=1;l<e.length;l+=1)n=e.get(l),
s.push(n.name);var u=[];r.header=x(),r.nameIndex=_([t.postScriptName]);var c=S(a,u);
r.topDictIndex=M(c),r.globalSubrIndex=R(),r.charsets=k(s,u),r.charStringsIndex=A(e),
r.privateDict=P(o,u),r.stringIndex=C(u);var d=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();
return a.charset=d,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a["private"][1]=a.charStrings+r.charStringsIndex.sizeOf(),
c=S(a,u),r.topDictIndex=M(c),r}var L=e("../encoding"),$=e("../glyphset"),j=e("../parse"),N=e("../path"),O=e("../table"),V=[{
name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",
op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"
},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0
},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,
type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50
},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,
type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],
value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",
op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",
op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",
op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",
op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]
}],z=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",
value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];n.parse=p,n.make=T},{
"../encoding":4,"../glyphset":7,"../parse":9,"../path":10,"../table":11}],13:[function(e,t,n){
function r(e,t){var n,r={};r.version=l.getUShort(e,t),s.argument(0===r.version,"cmap table version should be 0."),
r.numTables=l.getUShort(e,t+2);var i=-1;for(n=0;n<r.numTables;n+=1){var a=l.getUShort(e,t+4+8*n),o=l.getUShort(e,t+4+8*n+2);
if(3===a&&(1===o||0===o)){i=l.getULong(e,t+4+8*n+4);break}}if(-1===i)return null;var u=new l.Parser(e,t+i);
r.format=u.parseUShort(),s.argument(4===r.format,"Only format 4 cmap tables are supported."),
r.length=u.parseUShort(),r.language=u.parseUShort();var c;r.segCount=c=u.parseUShort()>>1,
u.skip("uShort",3),r.glyphIndexMap={};var d=new l.Parser(e,t+i+14),h=new l.Parser(e,t+i+16+2*c),v=new l.Parser(e,t+i+16+4*c),f=new l.Parser(e,t+i+16+6*c),m=t+i+16+8*c;
for(n=0;c-1>n;n+=1)for(var b=void 0,g=d.parseUShort(),p=h.parseUShort(),y=v.parseShort(),x=f.parseUShort(),_=p;g>=_;_+=1)0!==x?(m=f.offset+f.relativeOffset-2,
m+=x,m+=2*(_-p),b=l.getUShort(e,m),0!==b&&(b=b+y&65535)):b=_+y&65535,r.glyphIndexMap[_]=b;
return r}function i(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0});
}function a(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function o(e){
var t,n=new u.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",
type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",
type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",
value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0
},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0
},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0
}]);for(n.segments=[],t=0;t<e.length;t+=1){for(var r=e.get(t),o=0;o<r.unicodes.length;o+=1)i(n,r.unicodes[o],t);
n.segments=n.segments.sort(function(e,t){return e.start-t.start})}a(n);var s;s=n.segments.length,
n.segCountX2=2*s,n.searchRange=2*Math.pow(2,Math.floor(Math.log(s)/Math.log(2))),
n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange;
var l=[],c=[],d=[],h=[],v=[];for(t=0;s>t;t+=1){var f=n.segments[t];l=l.concat({name:"end_"+t,
type:"USHORT",value:f.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:f.start
}),d=d.concat({name:"idDelta_"+t,type:"SHORT",value:f.delta}),h=h.concat({name:"idRangeOffset_"+t,
type:"USHORT",value:f.offset}),void 0!==f.glyphId&&(v=v.concat({name:"glyph_"+t,type:"USHORT",
value:f.glyphId}))}return n.fields=n.fields.concat(l),n.fields.push({name:"reservedPad",
type:"USHORT",value:0}),n.fields=n.fields.concat(c),n.fields=n.fields.concat(d),n.fields=n.fields.concat(h),
n.fields=n.fields.concat(v),n.length=14+2*l.length+2+2*c.length+2*d.length+2*h.length+2*v.length,
n}var s=e("../check"),l=e("../parse"),u=e("../table");n.parse=r,n.make=o},{"../check":2,
"../parse":9,"../table":11}],14:[function(e,t,n){function r(e,t){var n=JSON.stringify(e),r=256;
for(var i in t){var a=parseInt(i);if(a&&!(256>a)){if(JSON.stringify(t[i])===n)return a;
a>=r&&(r=a+1)}}return t[r]=e,r}function i(e,t){var n=r(e.name,t);return new h.Table("fvarAxis",[{
name:"tag",type:"TAG",value:e.tag},{name:"minValue",type:"FIXED",value:e.minValue<<16
},{name:"defaultValue",type:"FIXED",value:e.defaultValue<<16},{name:"maxValue",type:"FIXED",
value:e.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",
value:n}])}function a(e,t,n){var r={},i=new d.Parser(e,t);return r.tag=i.parseTag(),
r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),
i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function o(e,t,n){for(var i=r(e.name,n),a=[{
name:"nameID",type:"USHORT",value:i},{name:"flags",type:"USHORT",value:0}],o=0;o<t.length;++o){
var s=t[o].tag;a.push({name:"axis "+s,type:"FIXED",value:e.coordinates[s]<<16})}return new h.Table("fvarInstance",a);
}function s(e,t,n,r){var i={},a=new d.Parser(e,t);i.name=r[a.parseUShort()]||{},a.skip("uShort",1),
i.coordinates={};for(var o=0;o<n.length;++o)i.coordinates[n[o].tag]=a.parseFixed();
return i}function l(e,t){var n=new h.Table("fvar",[{name:"version",type:"ULONG",value:65536
},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",
value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",
value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",
type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields.push({
name:"axis "+r,type:"TABLE",value:i(e.axes[r],t)});for(var a=0;a<e.instances.length;a++)n.fields.push({
name:"instance "+a,type:"TABLE",value:o(e.instances[a],e.axes,t)});return n}function u(e,t,n){
var r=new d.Parser(e,t),i=r.parseULong();c.argument(65536===i,"Unsupported fvar table version.");
var o=r.parseOffset16();r.skip("uShort",1);for(var l=r.parseUShort(),u=r.parseUShort(),h=r.parseUShort(),v=r.parseUShort(),f=[],m=0;l>m;m++)f.push(a(e,t+o+m*u,n));
for(var b=[],g=t+o+l*u,p=0;h>p;p++)b.push(s(e,g+p*v,f,n));return{axes:f,instances:b
}}var c=e("../check"),d=e("../parse"),h=e("../table");n.make=l,n.parse=u},{"../check":2,
"../parse":9,"../table":11}],15:[function(e,t,n){function r(e,t,n,r,i){var a;return(t&r)>0?(a=e.parseByte(),
0===(t&i)&&(a=-a),a=n+a):a=(t&i)>0?n:n+e.parseShort(),a}function i(e,t,n){var i=new h.Parser(t,n);
e.numberOfContours=i.parseShort(),e.xMin=i.parseShort(),e.yMin=i.parseShort(),e.xMax=i.parseShort(),
e.yMax=i.parseShort();var a,o;if(e.numberOfContours>0){var s,l=e.endPointIndices=[];
for(s=0;s<e.numberOfContours;s+=1)l.push(i.parseUShort());for(e.instructionLength=i.parseUShort(),
e.instructions=[],s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());
var u=l[l.length-1]+1;for(a=[],s=0;u>s;s+=1)if(o=i.parseByte(),a.push(o),(8&o)>0)for(var d=i.parseByte(),v=0;d>v;v+=1)a.push(o),
s+=1;if(c.argument(a.length===u,"Bad flags."),l.length>0){var f,m=[];if(u>0){for(s=0;u>s;s+=1)o=a[s],
f={},f.onCurve=!!(1&o),f.lastPointOfContour=l.indexOf(s)>=0,m.push(f);var b=0;for(s=0;u>s;s+=1)o=a[s],
f=m[s],f.x=r(i,o,b,2,16),b=f.x;var g=0;for(s=0;u>s;s+=1)o=a[s],f=m[s],f.y=r(i,o,g,4,32),
g=f.y}e.points=m}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{
e.isComposite=!0,e.points=[],e.components=[];for(var p=!0;p;){a=i.parseUShort();var y={
glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&a)>0?(y.dx=i.parseShort(),
y.dy=i.parseShort()):(y.dx=i.parseChar(),y.dy=i.parseChar()),(8&a)>0?y.xScale=y.yScale=i.parseF2Dot14():(64&a)>0?(y.xScale=i.parseF2Dot14(),
y.yScale=i.parseF2Dot14()):(128&a)>0&&(y.xScale=i.parseF2Dot14(),y.scale01=i.parseF2Dot14(),
y.scale10=i.parseF2Dot14(),y.yScale=i.parseF2Dot14()),e.components.push(y),p=!!(32&a);
}}}function a(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,
y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour
};n.push(a)}return n}function o(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];
n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return c.argument(0===n.length,"There are still points left in the current contour."),
t}function s(e){var t=new v.Path;if(!e)return t;for(var n=o(e),r=0;r<n.length;r+=1){
var i=n[r],a=i[0],s=i[i.length-1],l=void 0,u=void 0;a.onCurve?(l=null,u=!0):(a=s.onCurve?s:{
x:(a.x+s.x)/2,y:(a.y+s.y)/2},l=a,u=!1),t.moveTo(a.x,a.y);for(var c=u?1:0;c<i.length;c+=1){
var d=i[c],h=0===c?a:i[c-1];if(h.onCurve&&d.onCurve)t.lineTo(d.x,d.y);else if(h.onCurve&&!d.onCurve)l=d;else if(h.onCurve||d.onCurve){
if(h.onCurve||!d.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(l.x,l.y,d.x,d.y),
l=null}else{var f={x:(h.x+d.x)/2,y:(h.y+d.y)/2};t.quadraticCurveTo(h.x,h.y,f.x,f.y),
l=d}}a!==s&&(l?t.quadraticCurveTo(l.x,l.y,a.x,a.y):t.lineTo(a.x,a.y))}return t.closePath(),
t}function l(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);
if(i.getPath(),i.points){var o=a(i.points,r);t.points=t.points.concat(o)}}return s(t.points);
}function u(e,t,n,r){var a,o=new d.GlyphSet(r);for(a=0;a<n.length-1;a+=1){var s=n[a],u=n[a+1];
s!==u?o.push(a,d.ttfGlyphLoader(r,a,i,e,t+s,l)):o.push(a,d.glyphLoader(r,a))}return o;
}var c=e("../check"),d=e("../glyphset"),h=e("../parse"),v=e("../path");n.parse=u},{
"../check":2,"../glyphset":7,"../parse":9,"../path":10}],16:[function(e,t,n){function r(e,t){
for(var n=new c.Parser(e,t),r=n.parseUShort(),i=[],a=0;r>a;a++)i[n.parseTag()]={offset:n.parseUShort()
};return i}function i(e,t){var n=new c.Parser(e,t),r=n.parseUShort(),i=n.parseUShort();
if(1===r)return n.parseUShortList(i);if(2===r){for(var a=[];i--;)for(var o=n.parseUShort(),s=n.parseUShort(),l=n.parseUShort(),u=o;s>=u;u++)a[l++]=u;
return a}}function a(e,t){var n=new c.Parser(e,t),r=n.parseUShort();if(1===r){var i=n.parseUShort(),a=n.parseUShort(),o=n.parseUShortList(a);
return function(e){return o[e-i]||0}}if(2===r){for(var s=n.parseUShort(),l=[],u=[],d=[],h=0;s>h;h++)l[h]=n.parseUShort(),
u[h]=n.parseUShort(),d[h]=n.parseUShort();return function(e){for(var t=0,n=l.length-1;n>t;){
var r=t+n+1>>1;e<l[r]?n=r-1:t=r}return l[t]<=e&&e<=u[t]?d[t]||0:0}}}function o(e,t){
var n,r,o=new c.Parser(e,t),s=o.parseUShort(),l=o.parseUShort(),u=i(e,t+l),d=o.parseUShort(),h=o.parseUShort();
if(4===d&&0===h){var v={};if(1===s){for(var f=o.parseUShort(),m=[],b=o.parseOffset16List(f),g=0;f>g;g++){
var p=b[g],y=v[p];if(!y){y={},o.relativeOffset=p;for(var x=o.parseUShort();x--;){
var _=o.parseUShort();d&&(n=o.parseShort()),h&&(r=o.parseShort()),y[_]=n}}m[u[g]]=y;
}return function(e,t){var n=m[e];return n?n[t]:void 0}}if(2===s){for(var w=o.parseUShort(),S=o.parseUShort(),M=o.parseUShort(),C=o.parseUShort(),R=a(e,t+w),k=a(e,t+S),E=[],A=0;M>A;A++)for(var P=E[A]=[],T=0;C>T;T++)d&&(n=o.parseShort()),
h&&(r=o.parseShort()),P[T]=n;var L={};for(A=0;A<u.length;A++)L[u[A]]=1;return function(e,t){
if(L[e]){var n=R(e),r=k(t),i=E[n];return i?i[r]:void 0}}}}}function s(e,t){var n=new c.Parser(e,t),r=n.parseUShort(),i=n.parseUShort(),a=16&i,s=n.parseUShort(),l=n.parseOffset16List(s),u={
lookupType:r,lookupFlag:i,markFilteringSet:a?n.parseUShort():-1};if(2===r){for(var d=[],h=0;s>h;h++)d.push(o(e,t+l[h]));
u.getKerningValue=function(e,t){for(var n=d.length;n--;){var r=d[n](e,t);if(void 0!==r)return r;
}return 0}}return u}function l(e,t,n){var i=new c.Parser(e,t),a=i.parseFixed();u.argument(1===a,"Unsupported GPOS table version."),
r(e,t+i.parseUShort()),r(e,t+i.parseUShort());var o=i.parseUShort();i.relativeOffset=o;
for(var l=i.parseUShort(),d=i.parseOffset16List(l),h=t+o,v=0;l>v;v++){var f=s(e,h+d[v]);
2!==f.lookupType||n.getGposKerningValue||(n.getGposKerningValue=f.getKerningValue);
}}var u=e("../check"),c=e("../parse");n.parse=l},{"../check":2,"../parse":9}],17:[function(e,t,n){
function r(e,t){var n={},r=new o.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,
n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),a.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),
n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),
n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),
n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),
n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),
n}function i(e){return new s.Table("head",[{name:"version",type:"FIXED",value:65536
},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",
value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",
value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",
value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",
value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",
type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",
type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",
type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var a=e("../check"),o=e("../parse"),s=e("../table");
n.parse=r,n.make=i},{"../check":2,"../parse":9,"../table":11}],18:[function(e,t,n){
function r(e,t){var n={},r=new a.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),
n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),
n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),
n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),
r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),
n}function i(e){return new o.Table("hhea",[{name:"version",type:"FIXED",value:65536
},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{
name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0
},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",
value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",
value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",
value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0
},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{
name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",
value:0}],e)}var a=e("../parse"),o=e("../table");n.parse=r,n.make=i},{"../parse":9,
"../table":11}],19:[function(e,t,n){function r(e,t,n,r,i){for(var o,s,l=new a.Parser(e,t),u=0;r>u;u+=1){
n>u&&(o=l.parseUShort(),s=l.parseShort());var c=i.get(u);c.advanceWidth=o,c.leftSideBearing=s;
}}function i(e){for(var t=new o.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,a=r.leftSideBearing||0;
t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,
type:"SHORT",value:a})}return t}var a=e("../parse"),o=e("../table");n.parse=r,n.make=i;
},{"../parse":9,"../table":11}],20:[function(e,t,n){function r(e,t){var n={},r=new a.Parser(e,t),o=r.parseUShort();
i.argument(0===o,"Unsupported kern table version."),r.skip("uShort",1);var s=r.parseUShort();
i.argument(0===s,"Unsupported kern sub-table version."),r.skip("uShort",2);var l=r.parseUShort();
r.skip("uShort",3);for(var u=0;l>u;u+=1){var c=r.parseUShort(),d=r.parseUShort(),h=r.parseShort();
n[c+","+d]=h}return n}var i=e("../check"),a=e("../parse");n.parse=r},{"../check":2,
"../parse":9}],21:[function(e,t,n){function r(e,t,n,r){for(var a=new i.Parser(e,t),o=r?a.parseUShort:a.parseULong,s=[],l=0;n+1>l;l+=1){
var u=o.call(a);r&&(u*=2),s.push(u)}return s}var i=e("../parse");n.parse=r},{"../parse":9
}],22:[function(e,t,n){function r(e){for(var t=new s.Table("ltag",[{name:"version",
type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",
value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var a=n.indexOf(e[i]);0>a&&(a=n.length,
n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),t.fields.push({
name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",
type:"CHARARRAY",value:n}),t}function i(e,t){var n=new o.Parser(e,t),r=n.parseULong();
a.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],l=0;i>l;l++){
for(var u="",c=t+n.parseUShort(),d=n.parseUShort(),h=c;c+d>h;++h)u+=String.fromCharCode(e.getInt8(h));
s.push(u)}return s}var a=e("../check"),o=e("../parse"),s=e("../table");n.make=r,n.parse=i;
},{"../check":2,"../parse":9,"../table":11}],23:[function(e,t,n){function r(e,t){
var n={},r=new a.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),
1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),
n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),
n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),
n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),
n.maxComponentDepth=r.parseUShort()),n}function i(e){return new o.Table("maxp",[{
name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}]);
}var a=e("../parse"),o=e("../table");n.parse=r,n.make=i},{"../parse":9,"../table":11
}],24:[function(e,t,n){function r(e,t,n){switch(e){case 0:if(65535===t)return"und";
if(n)return n[t];break;case 1:return g[t];case 3:return y[t]}}function i(e,t,n){switch(e){
case 0:return x;case 1:return w[n]||_[t];case 3:if(1===t||10===t)return x}}function a(e,t,n){
for(var a={},o=new f.Parser(e,t),s=o.parseUShort(),l=o.parseUShort(),u=o.offset+o.parseUShort(),c=0;l>c;c++){
var d=o.parseUShort(),v=o.parseUShort(),m=o.parseUShort(),g=o.parseUShort(),p=b[g]||g,y=o.parseUShort(),_=o.parseUShort(),w=r(d,m,n),S=i(d,v,m);
if(void 0!==S&&void 0!==w){var M=void 0;if(M=S===x?h.UTF16(e,u+_,y):h.MACSTRING(e,u+_,y,S)){
var C=a[p];void 0===C&&(C=a[p]={}),C[w]=M}}}var R=0;return 1===s&&(R=o.parseUShort()),
a}function o(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function s(e,t,n,r,i,a){
return new m.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",
type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",
value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a
}])}function l(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;r>i;i++)for(;r>i;i++){
for(var a=0;n>a;a++)if(t[i+a]!==e[a])continue e;return i}return-1}function u(e,t){
var n=l(e,t);if(0>n){n=t.length;for(var r=0,i=e.length;i>r;++r)t.push(e[r])}return n;
}function c(e,t){var n,r=[],a={},l=o(b);for(var c in e){var d=l[c];void 0===d&&(d=c),
n=parseInt(d),a[n]=e[c],r.push(n)}for(var h=o(g),f=o(y),x=[],_=[],w=0;w<r.length;w++){
n=r[w];var S=a[n];for(var M in S){var C=S[M],R=1,k=h[M],E=p[k],A=i(R,E,k),P=v.MACSTRING(C,A);
void 0===P&&(R=0,k=t.indexOf(M),0>k&&(k=t.length,t.push(M)),E=4,P=v.UTF16(C));var T=u(P,_);
x.push(s(R,E,k,n,P.length,T));var L=f[M];if(void 0!==L){var $=v.UTF16(C),j=u($,_);
x.push(s(3,1,L,n,$.length,j))}}}x.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID;
});for(var N=new m.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",
type:"USHORT",value:x.length},{name:"stringOffset",type:"USHORT",value:6+12*x.length
}]),O=0;O<x.length;O++)N.fields.push({name:"record_"+O,type:"TABLE",value:x[O]});return N.fields.push({
name:"strings",type:"LITERAL",value:_}),N}var d=e("../types"),h=d.decode,v=d.encode,f=e("../parse"),m=e("../table"),b=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],g={
0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",
12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",
22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",
33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",
43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",
52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",
62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",
73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",
84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",
94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",
137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",
146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},p={0:0,1:0,2:0,3:0,
4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,
22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,
37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,
53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,
69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,
83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,
131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,
145:0,146:0,147:0,148:6,149:0,150:0,151:0},y={1078:"af",1052:"sq",1156:"gsw",1118:"am",
5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",
4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",
14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",
1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",
1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",
1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",
3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",
8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",
11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",
1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",
1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",
1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",
1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",
1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",
1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",
2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",
1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",
1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",
1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",
8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",
2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",
13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",
4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",
10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",
2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",
1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",
2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"
},x="utf-16",_={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",
6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",
12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",
17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",
22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",
27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"
},w={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",
26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",
38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};n.parse=a,
n.make=c},{"../parse":9,"../table":11,"../types":28}],25:[function(e,t,n){function r(e){
for(var t=0;t<l.length;t+=1){var n=l[t];if(e>=n.begin&&e<n.end)return t}return-1}
function i(e,t){var n={},r=new o.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),
n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),
n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),
n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),
n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),
n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;10>i;i++)n.panose[i]=r.parseByte();
return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),
n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),
n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),
n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),
n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),
n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),
n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),
n}function a(e){return new s.Table("OS/2",[{name:"version",type:"USHORT",value:3},{
name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0
},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0
},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",
value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",
type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",
type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",
type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",
type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",
type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",
value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0
},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0
},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{
name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0
},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",
value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",
value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",
type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",
type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",
type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",
type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",
type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",
value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",
value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var o=e("../parse"),s=e("../table"),l=[{
begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,
end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,
end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,
end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,
end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,
end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,
end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,
end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,
end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,
end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,
end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,
end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,
end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591
},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,
end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871
},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,
end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055
},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,
end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,
end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,
end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,
end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{
begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,
end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039
},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,
end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{
begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,
end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687
},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,
end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103
},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,
end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999
},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];n.unicodeRanges=l,
n.getUnicodeRange=r,n.parse=i,n.make=a},{"../parse":9,"../table":11}],26:[function(e,t,n){
function r(e,t){var n,r={},i=new o.Parser(e,t);switch(r.version=i.parseVersion(),
r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),
r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),
r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=a.standardNames.slice();
break;case 2:for(r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs),
n=0;n<r.numberOfGlyphs;n++)r.glyphNameIndex[n]=i.parseUShort();for(r.names=[],n=0;n<r.numberOfGlyphs;n++)if(r.glyphNameIndex[n]>=a.standardNames.length){
var s=i.parseChar();r.names.push(i.parseString(s))}break;case 2.5:for(r.numberOfGlyphs=i.parseUShort(),
r.offset=new Array(r.numberOfGlyphs),n=0;n<r.numberOfGlyphs;n++)r.offset[n]=i.parseChar();
}return r}function i(){return new s.Table("post",[{name:"version",type:"FIXED",value:196608
},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",
value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",
value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",
value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",
value:0}])}var a=e("../encoding"),o=e("../parse"),s=e("../table");n.parse=r,n.make=i;
},{"../encoding":4,"../parse":9,"../table":11}],27:[function(e,t,n){function r(e){
return Math.log(e)/Math.log(2)|0}function i(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];
return t%=Math.pow(2,32)}function a(e,t,n,r){return new d.Table("Table Record",[{
name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0
},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0
}])}function o(e){var t=new d.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"
},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0
},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0
}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,r(t.numTables));t.searchRange=16*n,
t.entrySelector=r(n),t.rangeShift=16*t.numTables-t.searchRange;for(var o=[],s=[],l=t.sizeOf()+a().sizeOf()*t.numTables;l%4!==0;)l+=1,
s.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<e.length;u+=1){var h=e[u];
c.argument(4===h.tableName.length,"Table name"+h.tableName+" is invalid.");var v=h.sizeOf(),f=a(h.tableName,i(h.encode()),l,v);
for(o.push({name:f.tag+" Table Record",type:"TABLE",value:f}),s.push({name:h.tableName+" table",
type:"TABLE",value:h}),l+=v,c.argument(!isNaN(l),"Something went wrong calculating the offset.");l%4!==0;)l+=1,
s.push({name:"padding",type:"BYTE",value:0})}return o.sort(function(e,t){return e.value.tag>t.value.tag?1:-1;
}),t.fields=t.fields.concat(o),t.fields=t.fields.concat(s),t}function s(e,t,n){for(var r=0;r<t.length;r+=1){
var i=e.charToGlyphIndex(t[r]);if(i>0){var a=e.glyphs.get(i);return a.getMetrics();
}}return n}function l(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length;
}function u(e){for(var t,n=[],r=[],a=[],u=[],c=[],d=[],w=[],S=0,M=0,C=0,R=0,k=0,E=0;E<e.glyphs.length;E+=1){
var A=e.glyphs.get(E),P=0|A.unicode;(t>P||null===t)&&(t=P),P>S&&(S=P);var T=x.getUnicodeRange(P);
if(32>T)M|=1<<T;else if(64>T)C|=1<<T-32;else if(96>T)R|=1<<T-64;else{if(!(123>T))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");
k|=1<<T-96}if(".notdef"!==A.name){var L=A.getMetrics();n.push(L.xMin),r.push(L.yMin),
a.push(L.xMax),u.push(L.yMax),d.push(L.leftSideBearing),w.push(L.rightSideBearing),
c.push(A.advanceWidth)}}var $={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),
xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,c),
advanceWidthAvg:l(c),minLeftSideBearing:Math.min.apply(null,d),maxLeftSideBearing:Math.max.apply(null,d),
minRightSideBearing:Math.min.apply(null,w)};$.ascender=e.ascender,$.descender=e.descender;
var j=f.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:$.xMin,yMin:$.yMin,xMax:$.xMax,
yMax:$.yMax,lowestRecPPEM:3}),N=m.make({ascender:$.ascender,descender:$.descender,
advanceWidthMax:$.advanceWidthMax,minLeftSideBearing:$.minLeftSideBearing,minRightSideBearing:$.minRightSideBearing,
xMaxExtent:$.maxLeftSideBearing+($.xMax-$.xMin),numberOfHMetrics:e.glyphs.length}),O=p.make(e.glyphs.length),V=x.make({
xAvgCharWidth:Math.round($.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:t,
usLastCharIndex:S,ulUnicodeRange1:M,ulUnicodeRange2:C,ulUnicodeRange3:R,ulUnicodeRange4:k,
fsSelection:64,sTypoAscender:$.ascender,sTypoDescender:$.descender,sTypoLineGap:0,
usWinAscent:$.yMax,usWinDescent:Math.abs($.yMin),ulCodePageRange1:1,sxHeight:s(e,"xyvw",{
yMax:Math.round($.ascender/2)}).yMax,sCapHeight:s(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",$).yMax,
usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),z=b.make(e.glyphs),D=h.make(e.glyphs),G=e.getEnglishName("fontFamily"),I=e.getEnglishName("fontSubfamily"),B=G+" "+I,U=e.getEnglishName("postScriptName");
U||(U=G.replace(/\s/g,"")+"-"+I);var H={};for(var F in e.names)H[F]=e.names[F];H.uniqueID||(H.uniqueID={
en:e.getEnglishName("manufacturer")+":"+B}),H.postScriptName||(H.postScriptName={
en:U}),H.preferredFamily||(H.preferredFamily=e.names.fontFamily),H.preferredSubfamily||(H.preferredSubfamily=e.names.fontSubfamily);
var q=[],W=y.make(H,q),Y=q.length>0?g.make(q):void 0,X=_.make(),Z=v.make(e.glyphs,{
version:e.getEnglishName("version"),fullName:B,familyName:G,weightName:I,postScriptName:U,
unitsPerEm:e.unitsPerEm,fontBBox:[0,$.yMin,$.ascender,$.advanceWidthMax]}),K=[j,N,O,V,W,D,X,Z,z];
Y&&K.push(Y);var J=o(K),Q=J.encode(),ee=i(Q),te=J.fields,ne=!1;for(E=0;E<te.length;E+=1)if("head table"===te[E].name){
te[E].value.checkSumAdjustment=2981146554-ee,ne=!0;break}if(!ne)throw new Error("Could not find head table with checkSum to adjust.");
return J}var c=e("../check"),d=e("../table"),h=e("./cmap"),v=e("./cff"),f=e("./head"),m=e("./hhea"),b=e("./hmtx"),g=e("./ltag"),p=e("./maxp"),y=e("./name"),x=e("./os2"),_=e("./post");
n.computeCheckSum=i,n.make=o,n.fontToTable=u},{"../check":2,"../table":11,"./cff":12,
"./cmap":13,"./head":17,"./hhea":18,"./hmtx":19,"./ltag":22,"./maxp":23,"./name":24,
"./os2":25,"./post":26}],28:[function(e,t,n){function r(e){return function(){return e;
}}var i=e("./check"),a=32768,o=2147483648,s={},l={},u={};l.BYTE=function(e){return i.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),
[e]},u.BYTE=r(1),l.CHAR=function(e){return[e.charCodeAt(0)]},u.CHAR=r(1),l.CHARARRAY=function(e){
for(var t=[],n=0;n<e.length;n+=1)t.push(e.charCodeAt(n));return t},u.CHARARRAY=function(e){
return e.length},l.USHORT=function(e){return[e>>8&255,255&e]},u.USHORT=r(2),l.SHORT=function(e){
return e>=a&&(e=-(2*a-e)),[e>>8&255,255&e]},u.SHORT=r(2),l.UINT24=function(e){return[e>>16&255,e>>8&255,255&e];
},u.UINT24=r(3),l.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},u.ULONG=r(4),
l.LONG=function(e){return e>=o&&(e=-(2*o-e)),[e>>24&255,e>>16&255,e>>8&255,255&e];
},u.LONG=r(4),l.FIXED=l.ULONG,u.FIXED=u.ULONG,l.FWORD=l.SHORT,u.FWORD=u.SHORT,l.UFWORD=l.USHORT,
u.UFWORD=u.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},u.LONGDATETIME=r(8),
l.TAG=function(e){return i.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),
[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=r(4),l.Card8=l.BYTE,
u.Card8=u.BYTE,l.Card16=l.USHORT,u.Card16=u.USHORT,l.OffSize=l.BYTE,u.OffSize=u.BYTE,
l.SID=l.USHORT,u.SID=u.USHORT,l.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,
[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?l.NUMBER16(e):l.NUMBER32(e);
},u.NUMBER=function(e){return l.NUMBER(e).length},l.NUMBER16=function(e){return[28,e>>8&255,255&e];
},u.NUMBER16=r(3),l.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e];
},u.NUMBER32=r(5),l.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);
if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString();
}var i,a,o="";for(i=0,a=t.length;a>i;i+=1){var s=t[i];o+="e"===s?"-"===t[++i]?"c":"b":"."===s?"a":"-"===s?"e":s;
}o+=1&o.length?"f":"ff";var l=[30];for(i=0,a=o.length;a>i;i+=2)l.push(parseInt(o.substr(i,2),16));
return l},u.REAL=function(e){return l.REAL(e).length},l.NAME=l.CHARARRAY,u.NAME=u.CHARARRAY,
l.STRING=l.CHARARRAY,u.STRING=u.CHARARRAY,s.UTF16=function(e,t,n){for(var r=[],i=n/2,a=0;i>a;a++,
t+=2)r[a]=e.getUint16(t);return String.fromCharCode.apply(null,r)},l.UTF16=function(e){
for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(r>>8&255),t.push(255&r);
}return t},u.UTF16=function(e){return 2*e.length};var c={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ",
"x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю",
"x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ",
"x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­",
"x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
"x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł",
"x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",
macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
"x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
"x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"
};s.MACSTRING=function(e,t,n,r){var i=c[r];if(void 0!==i){for(var a="",o=0;n>o;o++){
var s=e.getUint8(t+o);a+=127>=s?String.fromCharCode(s):i[127&s]}return a}};var d,h="function"==typeof WeakMap&&new WeakMap,v=function(e){
if(!d){d={};for(var t in c)d[t]=new String(t)}var n=d[e];if(void 0!==n){if(h){var r=h.get(n);
if(void 0!==r)return r}var i=c[e];if(void 0!==i){for(var a={},o=0;o<i.length;o++)a[i.charCodeAt(o)]=o+128;
return h&&h.set(n,a),a}}};l.MACSTRING=function(e,t){var n=v(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){
var a=e.charCodeAt(i);if(a>=128&&(a=n[a],void 0===a))return;r.push(a)}return r}},
u.MACSTRING=function(e,t){var n=l.MACSTRING(e,t);return void 0!==n?n.length:0},l.INDEX=function(e){
var t,n=1,r=[n],i=[],a=0;for(t=0;t<e.length;t+=1){var o=l.OBJECT(e[t]);Array.prototype.push.apply(i,o),
a+=o.length,n+=o.length,r.push(n)}if(0===i.length)return[0,0];var s=[],u=1+Math.floor(Math.log(a)/Math.log(2))/8|0,c=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][u];
for(t=0;t<r.length;t+=1){var d=c(r[t]);Array.prototype.push.apply(s,d)}return Array.prototype.concat(l.Card16(e.length),l.OffSize(u),s,i);
},u.INDEX=function(e){return l.INDEX(e).length},l.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;r>i;i+=1){
var a=parseInt(n[i],0),o=e[a];t=t.concat(l.OPERAND(o.value,o.type)),t=t.concat(l.OPERATOR(a));
}return t},u.DICT=function(e){return l.DICT(e).length},l.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200];
},l.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)i.argument(e.length===t.length,"Not enough arguments given for type"+t),
n=n.concat(l.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(l.NUMBER(e));else if("offset"===t)n=n.concat(l.NUMBER32(e));else if("number"===t)n=n.concat(l.NUMBER(e));else{
if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(l.REAL(e))}return n;
},l.OP=l.BYTE,u.OP=u.BYTE;var f="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(e){
if(f){var t=f.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;r>i;i+=1){
var a=e[i];n=n.concat(l[a.type](a.value))}return f&&f.set(e,n),n},u.CHARSTRING=function(e){
return l.CHARSTRING(e).length},l.OBJECT=function(e){var t=l[e.type];return i.argument(void 0!==t,"No encoding function for type "+e.type),
t(e.value)},u.OBJECT=function(e){var t=u[e.type];return i.argument(void 0!==t,"No sizeOf function for type "+e.type),
t(e.value)},l.TABLE=function(e){for(var t=[],n=e.fields.length,r=0;n>r;r+=1){var a=e.fields[r],o=l[a.type];
i.argument(void 0!==o,"No encoding function for field type "+a.type);var s=e[a.name];
void 0===s&&(s=a.value);var u=o(s);t=t.concat(u)}return t},u.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;n>r;r+=1){
var a=e.fields[r],o=u[a.type];i.argument(void 0!==o,"No sizeOf function for field type "+a.type);
var s=e[a.name];void 0===s&&(s=a.value),t+=o(s)}return t},l.LITERAL=function(e){return e;
},u.LITERAL=function(e){return e.length},n.decode=s,n.encode=l,n.sizeOf=u},{"./check":2
}],29:[function(e,t,n){n.isBrowser=function(){return"undefined"!=typeof window},n.isNode=function(){
return"undefined"==typeof window},n.nodeBufferToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];
return t},n.arrayBufferToNodeBuffer=function(e){for(var t=new Buffer(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];
return t},n.checkArgument=function(e,t){if(!e)throw t}},{}]},{},[8])(8)});var e=window.opentype;
return{get default(){return e}}}),$traceurRuntime.registerModule("libs/pako",[],function(){
"use strict";!function(e){if("object"==("undefined"==typeof exports?"undefined":$traceurRuntime["typeof"](exports)))module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{
var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),
t.pako=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){
var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);
throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){
var n=t[o][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);
return i}({1:[function(e,t,n){var r=e("./lib/zlib/utils").assign,i=e("./lib/deflate"),a=e("./lib/inflate"),o=e("./lib/zlib/constants"),s={};
r(s,i,a,o),t.exports=s},{"./lib/deflate":2,"./lib/inflate":3,"./lib/zlib/constants":5,
"./lib/zlib/utils":13}],2:[function(e,t,n){function r(e,t){var n=new g(t);if(n.push(e,!0),
n.err)throw n.msg;return n.result}function i(e,t){return t=t||{},t.raw=!0,r(e,t)}
function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var o=e("./zlib/deflate.js"),s=e("./zlib/utils"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=0,d=4,h=0,v=1,f=-1,m=0,b=8,g=function(e){
this.options=s.assign({level:f,method:b,chunkSize:16384,windowBits:15,memLevel:8,
strategy:m},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),
this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);
if(n!==h)throw new Error(l[n])};g.prototype.push=function(e,t){var n,r,i=this.strm,a=this.options.chunkSize;
if(this.ended)return!1;r=t===~~t?t:t===!0?d:c,i.next_in=e,i.next_in_index=0,i.avail_in=i.next_in.length,
i.next_out=new s.Buf8(a);do{if(i.avail_out=this.options.chunkSize,i.next_out_index=0,
n=o.deflate(i,r),n!==v&&n!==h)return this.onEnd(n),this.ended=!0,!1;i.next_out_index&&(this.onData(s.shrinkBuf(i.next_out,i.next_out_index)),
(i.avail_in>0||0===i.avail_out)&&(i.next_out=new s.Buf8(this.options.chunkSize)));
}while(i.avail_in>0||0===i.avail_out);return r===d?(n=o.deflateEnd(this.strm),this.onEnd(n),
this.ended=!0,n===h):!0},g.prototype.onData=function(e){this.chunks.push(e)},g.prototype.onEnd=function(e){
e===h&&(this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg;
},n.Deflate=g,n.deflate=r,n.deflateRaw=i,n.gzip=a},{"./zlib/deflate.js":7,"./zlib/messages":11,
"./zlib/utils":13,"./zlib/zstream":14}],3:[function(e,t,n){function r(e,t){var n=new c(t);
if(n.push(e,!0),n.err)throw n.msg;return n.result}function i(e,t){return t=t||{},
t.raw=!0,r(e,t)}var a=e("./zlib/inflate.js"),o=e("./zlib/utils"),s=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=function(e){
this.options=o.assign({chunkSize:16384,windowBits:0},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,
0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),
t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,
this.msg="",this.ended=!1,this.chunks=[],this.strm=new u;var n=a.inflateInit2(this.strm,t.windowBits);
if(n!==s.Z_OK)throw new Error(l[n])};c.prototype.push=function(e,t){var n,r,i=this.strm,l=this.options.chunkSize;
if(this.ended)return!1;r=s.Z_NO_FLUSH,i.next_in=e,i.next_in_index=0,i.avail_in=i.next_in.length,
i.next_out=new o.Buf8(l);do{if(i.avail_out=this.options.chunkSize,i.next_out_index=0,
n=a.inflate(i,r),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,
!1;i.next_out_index&&(this.onData(o.shrinkBuf(i.next_out,i.next_out_index)),(i.avail_in>0||0===i.avail_out)&&(i.next_out=new o.Buf8(this.options.chunkSize)));
}while(i.avail_in>0||0===i.avail_out);return r=t===~~t?t:t===!0?s.Z_FINISH:s.Z_NO_FLUSH,
r===s.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):!0;
},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){
e===s.Z_OK&&(this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,
this.msg=this.strm.msg},n.Inflate=c,n.inflate=r,n.inflateRaw=i},{"./zlib/constants":5,
"./zlib/inflate.js":9,"./zlib/messages":11,"./zlib/utils":13,"./zlib/zstream":14}],
4:[function(e,t,n){function r(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){
o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0;
}t.exports=r},{}],5:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,
Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,
Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,
Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,
Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],
6:[function(e,t,n){function r(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;
t[n]=e}return t}function i(e,t,n,r){var i=a,o=r+n;e=-1^e;for(var s=r;o>s;s++)e=e>>>8^i[255&(e^t[s])];
return-1^e}var a=r();t.exports=i},{}],7:[function(e,t,n){function r(e,t){return e.msg=T[t],
t}function i(e){return(e<<1)-(e>4?9:0)}function a(e){for(var t=e.length;--t;)e[t]=0;
}function o(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(k.arraySet(e.next_out,t.pending_buf,t.pending_out,n,e.next_out_index),
e.next_out_index+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0));
}function s(e,t){E._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),
e.block_start=e.strstart,o(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){
e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,r){
var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,k.arraySet(t,e.next_in,e.next_in_index,i,n),
1===e.state.wrap?e.adler=A(e.adler,t,i,n):2===e.state.wrap&&(e.adler=P(e.adler,t,i,n)),
e.next_in_index+=i,e.total_in+=i,i)}function d(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+se,v=u[a+o-1],f=u[a+o];
e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,u[n+o]===f&&u[n+o-1]===v&&u[n]===u[a]&&u[++n]===u[a+1]){
a+=2,n++;do;while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&h>a);
if(r=se-(h-a),a=h-se,r>o){if(e.match_start=t,o=r,r>=s)break;v=u[a+o-1],f=u[a+o]}}while((t=d[t&c])>l&&0!==--i);
return o<=e.lookahead?o:e.lookahead}function h(e){var t,n,r,i,a,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,
e.strstart>=o+(o-le)){k.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,
e.block_start-=o,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=o?r-o:0;while(--n);
n=o,t=n;do r=e.prev[--t],e.prev[t]=r>=o?r-o:0;while(--n);i+=o}if(0===e.strm.avail_in)break;
if(n=c(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=oe)for(a=e.strstart-e.insert,
e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+oe-1])&e.hash_mask,
e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<oe)););
}while(e.lookahead<le&&0!==e.strm.avail_in)}function v(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){
if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===L)return ge;if(0===e.lookahead)break;
}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,
e.strstart=r,s(e,!1),0===e.strm.avail_out))return ge;if(e.strstart-e.block_start>=e.w_size-le&&(s(e,!1),
0===e.strm.avail_out))return ge}return e.insert=0,t===N?(s(e,!0),0===e.strm.avail_out?ye:xe):e.strstart>e.block_start&&(s(e,!1),
0===e.strm.avail_out)?ge:ge}function f(e,t){for(var n,r;;){if(e.lookahead<le){if(h(e),
e.lookahead<le&&t===L)return ge;if(0===e.lookahead)break}if(n=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-le&&(e.match_length=d(e,n)),
e.match_length>=oe)if(r=E._tr_tally(e,e.strstart-e.match_start,e.match_length-oe),
e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=oe){e.match_length--;
do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);
e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],
e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=E._tr_tally(e,0,e.window[e.strstart]),
e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return ge}return e.insert=e.strstart<oe-1?e.strstart:oe-1,
t===N?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ge:pe;
}function m(e,t){for(var n,r,i;;){if(e.lookahead<le){if(h(e),e.lookahead<le&&t===L)return ge;
if(0===e.lookahead)break}if(n=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,
e.prev_match=e.match_start,e.match_length=oe-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-le&&(e.match_length=d(e,n),
e.match_length<=5&&(e.strategy===U||e.match_length===oe&&e.strstart-e.match_start>4096)&&(e.match_length=oe-1)),
e.prev_length>=oe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-oe,r=E._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-oe),
e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);
if(e.match_available=0,e.match_length=oe-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return ge;
}else if(e.match_available){if(r=E._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),
e.strstart++,e.lookahead--,0===e.strm.avail_out)return ge}else e.match_available=1,
e.strstart++,e.lookahead--}return e.match_available&&(r=E._tr_tally(e,0,e.window[e.strstart-1]),
e.match_available=0),e.insert=e.strstart<oe-1?e.strstart:oe-1,t===N?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),
0===e.strm.avail_out)?ge:pe}function b(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=se){
if(h(e),e.lookahead<=se&&t===L)return ge;if(0===e.lookahead)break}if(e.match_length=0,
e.lookahead>=oe&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){
a=e.strstart+se;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&a>i);
e.match_length=se-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}
if(e.match_length>=oe?(n=E._tr_tally(e,1,e.match_length-oe),e.lookahead-=e.match_length,
e.strstart+=e.match_length,e.match_length=0):(n=E._tr_tally(e,0,e.window[e.strstart]),
e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return ge}return e.insert=0,
t===N?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ge:pe;
}function g(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===L)return ge;
break}if(e.match_length=0,n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,
n&&(s(e,!1),0===e.strm.avail_out))return ge}return e.insert=0,t===N?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),
0===e.strm.avail_out)?ge:pe}function p(e){e.window_size=2*e.w_size,a(e.head),e.max_lazy_match=R[e.level].max_lazy,
e.good_match=R[e.level].good_length,e.nice_match=R[e.level].nice_length,e.max_chain_length=R[e.level].max_chain,
e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=oe-1,
e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,
this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,
this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,
this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,
this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,
this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,
this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,
this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(2*ie),this.dyn_dtree=new k.Buf16(2*(2*ne+1)),
this.bl_tree=new k.Buf16(2*(2*re+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),
this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(ae+1),
this.heap=new k.Buf16(2*te+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(2*te+1),
a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,
this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0,this.high_water=0;
}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Y,t=e.state,
t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ce:me,e.adler=2===t.wrap?0:1,
t.last_flush=L,E._tr_init(t),V):r(e,D)}function _(e){var t=x(e);return t===V&&p(e.state),
t}function w(e,t,n,i,a,o){if(!e)return r(e,D);var s=1;if(t===B&&(t=6),0>i?(s=0,i=-i):i>15&&(s=2,
i-=16),1>a||a>Z||n!==X||8>i||i>15||0>t||t>9||0>o||o>q)return r(e,D);8===i&&(i=9);var l=new y;
return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,
l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,
l.hash_shift=~~((l.hash_bits+oe-1)/oe),l.window=new k.Buf8(2*l.w_size),l.head=new k.Buf16(l.hash_size),
l.prev=new k.Buf16(l.w_size),l.high_water=0,l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,
l.pending_buf=new k.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,
l.level=t,l.strategy=o,l.method=n,_(e)}function S(e,t){return w(e,t,X,K,J,W)}function M(e,t){
var n,s;if(!e||!e.state||t>O||0>t)return r(e,D);if(s=e.state,!e.next_out||!e.next_in&&0!==e.avail_in||s.status===be&&t!==N)return r(e,0===e.avail_out?I:D);
if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===ce)if(2===s.wrap){if(e.adler=0,
l(s,31),l(s,139),l(s,8),s.gzhead)throw new Error("Custom GZIP headers not supported");
l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),
l(s,_e),s.status=me}else{var c=X+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=H||s.level<2?0:s.level<6?1:6===s.level?2:3,
c|=d<<6,0!==s.strstart&&(c|=ue),c+=31-c%31,s.status=me,u(s,c),0!==s.strstart&&(u(s,e.adler>>>16),
u(s,65535&e.adler)),e.adler=1}if(0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,
V}else if(0===e.avail_in&&i(t)<=i(n)&&t!==N)return r(e,I);if(s.status===be&&0!==e.avail_in)return r(e,I);
if(0!==e.avail_in||0!==s.lookahead||t!==L&&s.status!==be){var h=s.strategy===H?g(s,t):s.strategy===F?b(s,t):R[s.level].func(s,t);
if(h!==ye&&h!==xe||(s.status=be),h===ge||h===ye)return 0===e.avail_out&&(s.last_flush=-1),
V;if(h===pe&&(t===$?E._tr_align(s):t!==O&&(E._tr_stored_block(s,0,0,!1),t===j&&(a(s.head),
0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,
V}return t!==N?V:s.wrap<=0?z:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),
l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),
l(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),
0!==s.pending?V:z)}function C(e){var t=e.state.status;return t!==ce&&t!==de&&t!==he&&t!==ve&&t!==fe&&t!==me&&t!==be?r(e,D):(e.state=null,
t===me?r(e,G):V)}var R,k=e("./utils"),E=e("./trees"),A=e("./adler32"),P=e("./crc32"),T=e("./messages"),L=0,$=1,j=3,N=4,O=5,V=0,z=1,D=-2,G=-3,I=-5,B=-1,U=1,H=2,F=3,q=4,W=0,Y=2,X=8,Z=9,K=15,J=8,Q=29,ee=256,te=ee+1+Q,ne=30,re=19,ie=2*te+1,ae=15,oe=3,se=258,le=se+oe+1,ue=32,ce=42,de=69,he=73,ve=91,fe=103,me=113,be=666,ge=1,pe=2,ye=3,xe=4,_e=3,we=function(e,t,n,r,i){
this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i;
};R=[new we(0,0,0,0,v),new we(4,4,8,4,f),new we(4,5,16,8,f),new we(4,6,32,32,f),new we(4,4,16,16,m),new we(8,16,32,32,m),new we(8,16,128,128,m),new we(8,32,128,256,m),new we(32,128,258,1024,m),new we(32,258,258,4096,m)],
n.deflateInit=S,n.deflateInit2=w,n.deflateReset=_,n.deflate=M,n.deflateEnd=C,n.deflateInfo="pako deflate (from Nodeca project)";
},{"./adler32":4,"./crc32":6,"./messages":11,"./trees":12,"./utils":13}],8:[function(e,t,n){
var r=30,i=12;t.exports=function(e,t){var n,a,o,s,l,u,c,d,h,v,f,m,b,g,p,y,x,_,w,S,M,C,R,k,E;
n=e.state,a=e.next_in_index,k=e.next_in,o=a+(e.avail_in-5),s=e.next_out_index,E=e.next_out,
l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=n.dmax,d=n.wsize,h=n.whave,v=n.wnext,
f=n.window,m=n.hold,b=n.bits,g=n.lencode,p=n.distcode,y=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;
e:do{15>b&&(m+=k[a++]<<b,b+=8,m+=k[a++]<<b,b+=8),_=g[m&y];t:for(;;){if(w=_>>>24,m>>>=w,
b-=w,w=_>>>16&255,0===w)E[s++]=65535&_;else{if(!(16&w)){if(0===(64&w)){_=g[(65535&_)+(m&(1<<w)-1)];
continue t}if(32&w){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;
break e}S=65535&_,w&=15,w&&(w>b&&(m+=k[a++]<<b,b+=8),S+=m&(1<<w)-1,m>>>=w,b-=w),15>b&&(m+=k[a++]<<b,
b+=8,m+=k[a++]<<b,b+=8),_=p[m&x];n:for(;;){if(w=_>>>24,m>>>=w,b-=w,w=_>>>16&255,!(16&w)){
if(0===(64&w)){_=p[(65535&_)+(m&(1<<w)-1)];continue n}e.msg="invalid distance code",
n.mode=r;break e}if(M=65535&_,w&=15,w>b&&(m+=k[a++]<<b,b+=8,w>b&&(m+=k[a++]<<b,b+=8)),
M+=m&(1<<w)-1,M>c){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=w,
b-=w,w=s-l,M>w){if(w=M-w,w>h&&n.sane){e.msg="invalid distance too far back",n.mode=r;
break e}if(C=0,R=f,0===v){if(C+=d-w,S>w){S-=w;do E[s++]=f[C++];while(--w);C=s-M,R=E;
}}else if(w>v){if(C+=d+v-w,w-=v,S>w){S-=w;do E[s++]=f[C++];while(--w);if(C=0,S>v){
w=v,S-=w;do E[s++]=f[C++];while(--w);C=s-M,R=E}}}else if(C+=v-w,S>w){S-=w;do E[s++]=f[C++];while(--w);
C=s-M,R=E}for(;S>2;)E[s++]=R[C++],E[s++]=R[C++],E[s++]=R[C++],S-=3;S&&(E[s++]=R[C++],
S>1&&(E[s++]=R[C++]))}else{C=s-M;do E[s++]=E[C++],E[s++]=E[C++],E[s++]=E[C++],S-=3;while(S>2);
S&&(E[s++]=E[C++],S>1&&(E[s++]=E[C++]))}break}}break}}while(o>a&&u>s);S=b>>3,a-=S,
b-=S<<3,m&=(1<<b)-1,e.next_in_index=a,e.next_out_index=s,e.avail_in=o>a?5+(o-a):5-(a-o),
e.avail_out=u>s?257+(u-s):257-(s-u),n.hold=m,n.bits=b}},{}],9:[function(e,t,n){function r(e){
return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,
this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,
this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,
this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,
this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,
this.have=0,this.next=null,this.next_index=0,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),
this.codes=new p.Buf32(ge),this.sane=0,this.back=0,this.was=0}function a(e,t,n,r,i,a,o,s){
this.type=e,this.lens=t,this.lens_index=n,this.codes=r,this.table=i,this.table_index=a,
this.bits=o,this.work=s}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,
t.wrap&&(e.adler=1&t.wrap),t.mode=V,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,
t.hold=0,t.bits=0,t.lencode=new p.Buf32(ge),t.distcode=new p.Buf32(ge),t.sane=1,t.back=-1,
A):L}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,
o(e)):L}function l(e,t){var n,r;return e&&e.state?(r=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,
48>t&&(t&=15)),t&&(8>t||t>15)?L:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,
r.wbits=t,s(e))):L}function u(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,
n=l(e,t),n!==A&&(e.state=null),n):L}function c(e){return u(e,ye)}function d(e,t,n){
var r;return e&&e.state?(r=e.state,0>t?(r.hold=0,r.bits=0,A):t>16||r.bits+t>32?L:(n&=(1<<t)-1,
r.hold+=n<<r.bits,r.bits+=t,A)):L}function h(e){if(xe){var t,n;for(b=new p.Buf32(512),
g=new p.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;
for(;288>t;)e.lens[t++]=8;for(n=9,w(new a(M,e.lens,0,288,b,0,n,e.work)),t=0;32>t;)e.lens[t++]=5;
n=5,w(new a(C,e.lens,0,32,g,0,n,e.work)),xe=!1}e.lencode=b,e.lenbits=9,e.distcode=g,
e.distbits=5}function v(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,
a.wnext=0,a.whave=0,a.window=new p.Buf8(a.wsize)),r>=a.wsize?(p.arraySet(a.window,t,n-a.wsize,a.wsize,0),
a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),p.arraySet(a.window,t,n-r,i,a.wnext),
r-=i,r?(p.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),
a.whave<a.wsize&&(a.whave+=i))),0}function f(e,t){var n,i,o,s,l,u,c,d,f,m,b,g,me,be,ge,pe,ye,xe,_e,we,Se,Me,Ce,Re,ke=0,Ee=new p.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
n=e.state,n.mode===Y&&(n.mode=X),l=e.next_out_index,o=e.next_out,c=e.avail_out,s=e.next_in_index,
i=e.next_in,u=e.avail_in,d=n.hold,f=n.bits,m=u,b=c,Me=A;e:for(;;)switch(n.mode){case V:
if(0===n.wrap){n.mode=X;break}for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}
if(2&n.wrap&&35615===d){n.check=0,Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0),
d=0,f=0,n.mode=z;break}if(n.flags=0,n.head&&(n.head.done=-1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){
e.msg="incorrect header check",n.mode=he;break}if((15&d)!==O){e.msg="unknown compression method",
n.mode=he;break}if(d>>>=4,f-=4,Se=(15&d)+8,0===n.wbits)n.wbits=Se;else if(Se>n.wbits){
e.msg="invalid window size",n.mode=he;break}n.dmax=1<<Se,e.adler=n.check=1,n.mode=512&d?q:Y,
d=0,f=0;break;case z:for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(n.flags=d,
(255&n.flags)!==O){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){
e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Ee[0]=255&d,
Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0)),d=0,f=0,n.mode=D;case D:for(;32>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}n.head&&(n.head.time=d),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,
Ee[2]=d>>>16&255,Ee[3]=d>>>24&255,n.check=x(n.check,Ee,4,0)),d=0,f=0,n.mode=G;case G:
for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),
512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0)),d=0,f=0,n.mode=I;
case I:if(1024&n.flags){for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}n.length=d,
n.head&&(n.head.extra_len=d),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0)),
d=0,f=0}else n.head&&(n.head.extra=null);n.mode=B;case B:if(1024&n.flags){if(g=n.length,
g>u&&(g=u),g){if(n.head&&n.head.extra)throw Se=n.head.extra_len-n.length,"Review & implement right";
512&n.flags&&(n.check=x(n.check,i,g,s)),u-=g,s+=g,n.length-=g}if(n.length)break e;
}n.length=0,n.mode=U;case U:if(2048&n.flags){if(0===u)break e;g=0;do Se=i[s+g++],
n.head&&n.head.name&&n.length<n.head.name_max&&(n.head.name[n.length++]=Se);while(Se&&u>g);
if(512&n.flags&&(n.check=x(n.check,i,g,s)),u-=g,s+=g,Se)break e}else n.head&&(n.head.name=null);
n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===u)break e;g=0;do Se=i[s+g++],n.head&&n.head.comment&&n.length<n.head.comm_max&&(n.head.comment[n.length++]=Se);while(Se&&u>g);
if(512&n.flags&&(n.check=x(n.check,i,g,s)),u-=g,s+=g,Se)break e}else n.head&&(n.head.comment=null);
n.mode=F;case F:if(512&n.flags){for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8;
}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}d=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,
n.head.done=1),e.adler=n.check=0,n.mode=Y;break;case q:for(;32>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}e.adler=n.check=r(d),d=0,f=0,n.mode=W;case W:if(0===n.havedict)return e.next_out_index=l,
e.avail_out=c,e.next_in_index=s,e.avail_in=u,n.hold=d,n.bits=f,T;e.adler=n.check=1,
n.mode=Y;case Y:if(t===k||t===E)break e;case X:if(n.last){d>>>=7&f,f-=7&f,n.mode=ue;
break}for(;3>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}switch(n.last=1&d,d>>>=1,
f-=1,3&d){case 0:n.mode=Z;break;case 1:if(h(n),n.mode=ne,t===E){d>>>=2,f-=2;break e;
}break;case 2:n.mode=Q;break;case 3:e.msg="invalid block type",n.mode=he}d>>>=2,f-=2;
break;case Z:for(d>>>=7&f,f-=7&f;32>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if((65535&d)!==(d>>>16^65535)){
e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&d,d=0,f=0,
n.mode=K,t===E)break e;case K:n.mode=J;case J:if(g=n.length){if(g>u&&(g=u),g>c&&(g=c),
0===g)break e;p.arraySet(o,i,s,g,l),u-=g,s+=g,c-=g,l+=g,n.length-=g;break}n.mode=Y;
break;case Q:for(;14>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(n.nlen=(31&d)+257,
d>>>=5,f-=5,n.ndist=(31&d)+1,d>>>=5,f-=5,n.ncode=(15&d)+4,d>>>=4,f-=4,n.nlen>286||n.ndist>30){
e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:
for(;n.have<n.ncode;){for(;3>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}n.lens[Ae[n.have++]]=7&d,
d>>>=3,f-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(p.arraySet(n.lencode,n.codes,0,n.codes.length,0),
n.lenbits=7,Ce=new a(S,n.lens,0,19,n.lencode,0,n.lenbits,n.work),Me=w(Ce),n.lenbits=Ce.bits,
Me){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){
for(;ke=n.lencode[d&(1<<n.lenbits)-1],ge=ke>>>24,pe=ke>>>16&255,ye=65535&ke,!(f>=ge);){
if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(16>ye)d>>>=ge,f-=ge,n.lens[n.have++]=ye;else{
if(16===ye){for(Re=ge+2;Re>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(d>>>=ge,
f-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}Se=n.lens[n.have-1],
g=3+(3&d),d>>>=2,f-=2}else if(17===ye){for(Re=ge+3;Re>f;){if(0===u)break e;u--,d+=i[s++]<<f,
f+=8}d>>>=ge,f-=ge,Se=0,g=3+(7&d),d>>>=3,f-=3}else{for(Re=ge+7;Re>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}d>>>=ge,f-=ge,Se=0,g=11+(127&d),d>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){
e.msg="invalid bit length repeat",n.mode=he;break}for(;g--;)n.lens[n.have++]=Se}}
if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",
n.mode=he;break}if(p.arraySet(n.lencode,n.codes,0,n.codes.length,0),n.lenbits=9,Ce=new a(M,n.lens,0,n.nlen,n.lencode,0,n.lenbits,n.work),
Me=w(Ce),n.lenbits=Ce.bits,Me){e.msg="invalid literal/lengths set",n.mode=he;break;
}if(n.distbits=6,p.arraySet(n.distcode,n.codes,0,n.codes.length,0),Ce=new a(C,n.lens,n.nlen,n.ndist,n.distcode,0,n.distbits,n.work),
Me=w(Ce),n.distbits=Ce.bits,Me){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,
t===E)break e;case ne:n.mode=re;case re:if(u>=6&&c>=258){e.next_out_index=l,e.avail_out=c,
e.next_in_index=s,e.avail_in=u,n.hold=d,n.bits=f,_(e,b),l=e.next_out_index,o=e.next_out,
c=e.avail_out,s=e.next_in_index,i=e.next_in,u=e.avail_in,d=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);
break}for(n.back=0;ke=n.lencode[d&(1<<n.lenbits)-1],ge=ke>>>24,pe=ke>>>16&255,ye=65535&ke,
!(f>=ge);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(pe&&0===(240&pe)){for(xe=ge,
_e=pe,we=ye;ke=n.lencode[we+((d&(1<<xe+_e)-1)>>xe)],ge=ke>>>24,pe=ke>>>16&255,ye=65535&ke,
!(f>=xe+ge);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}d>>>=xe,f-=xe,n.back+=xe}if(d>>>=ge,
f-=ge,n.back+=ge,n.length=ye,0===pe){n.mode=le;break}if(32&pe){n.back=-1,n.mode=Y;
break}if(64&pe){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&pe,
n.mode=ie;case ie:if(n.extra){for(Re=n.extra;Re>f;){if(0===u)break e;u--,d+=i[s++]<<f,
f+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,
n.mode=ae;case ae:for(;ke=n.distcode[d&(1<<n.distbits)-1],ge=ke>>>24,pe=ke>>>16&255,
ye=65535&ke,!(f>=ge);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(0===(240&pe)){for(xe=ge,
_e=pe,we=ye;ke=n.distcode[we+((d&(1<<xe+_e)-1)>>xe)],ge=ke>>>24,pe=ke>>>16&255,ye=65535&ke,
!(f>=xe+ge);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}d>>>=xe,f-=xe,n.back+=xe}if(d>>>=ge,
f-=ge,n.back+=ge,64&pe){e.msg="invalid distance code",n.mode=he;break}n.offset=ye,
n.extra=15&pe,n.mode=oe;case oe:if(n.extra){for(Re=n.extra;Re>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra;
}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=se;
case se:if(0===c)break e;if(g=b-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){
e.msg="invalid distance too far back",n.mode=he;break}g>n.wnext?(g-=n.wnext,me=n.wsize-g):me=n.wnext-g,
g>n.length&&(g=n.length),be=n.window}else be=o,me=l-n.offset,g=n.length;g>c&&(g=c),
c-=g,n.length-=g;do o[l++]=be[me++];while(--g);0===n.length&&(n.mode=re);break;case le:
if(0===c)break e;o[l++]=n.length,c--,n.mode=re;break;case ue:if(n.wrap){for(;32>f;){
if(0===u)break e;u--,d|=i[s++]<<f,f+=8}if(b-=c,e.total_out+=b,n.total+=b,b&&(e.adler=n.check=n.flags?x(n.check,o,b,l-b):y(n.check,o,b,l-b)),
b=c,(n.flags?d:r(d))!==n.check){e.msg="incorrect data check",n.mode=he;break}d=0,
f=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;32>f;){if(0===u)break e;u--,d+=i[s++]<<f,
f+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}
d=0,f=0}n.mode=de;case de:Me=P;break e;case he:Me=$;break e;case ve:return j;case fe:
default:return L}return e.next_out_index=l,e.avail_out=c,e.next_in_index=s,e.avail_in=u,
n.hold=d,n.bits=f,(n.wsize||b!==e.avail_out&&n.mode<he&&(n.mode<ue||t!==R))&&v(e,e.next_out,e.next_out_index,b-e.avail_out)?(n.mode=ve,
j):(m-=e.avail_in,b-=e.avail_out,e.total_in+=m,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?x(n.check,o,b,e.next_out_index-b):y(n.check,o,b,e.next_out_index-b)),
e.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===ne||n.mode===K?256:0),
(0===m&&0===b||t===R)&&Me===A&&(Me=N),Me)}function m(e){var t=e.state;return t.window&&(t.window=null),
e.state=null,A}var b,g,p=e("./utils"),y=e("./adler32"),x=e("./crc32"),_=e("./inffast"),w=e("./inftrees"),S=0,M=1,C=2,R=4,k=5,E=6,A=0,P=1,T=2,L=-2,$=-3,j=-4,N=-5,O=8,V=1,z=2,D=3,G=4,I=5,B=6,U=7,H=8,F=9,q=10,W=11,Y=12,X=13,Z=14,K=15,J=16,Q=17,ee=18,te=19,ne=20,re=21,ie=22,ae=23,oe=24,se=25,le=26,ue=27,ce=28,de=29,he=30,ve=31,fe=32,me=852,be=592,ge=me+be,pe=15,ye=pe,xe=!0;
n.inflateReset=s,n.inflateReset2=l,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=u,
n.inflatePrime=d,n.inflate=f,n.inflateEnd=m,n.inflateInfo="pako inflate (from Nodeca project)";
},{"./adler32":4,"./crc32":6,"./inffast":8,"./inftrees":10,"./utils":13}],10:[function(e,t,n){
var r=e("./utils"),i=15,a=852,o=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];
t.exports=function(e){var t,n,f,m,b,g,p,y,x,_=e.type,w=e.lens,S=e.codes,M=e.table,C=e.bits,R=e.work,k=0,E=0,A=0,P=0,T=0,L=0,$=0,j=0,N=0,O=0,V=null,z=0,D=new r.Buf16(i+1),G=new r.Buf16(i+1),I=null,B=0;
for(k=0;i>=k;k++)D[k]=0;for(E=0;S>E;E++)D[w[e.lens_index+E]]++;for(T=C,P=i;P>=1&&0===D[P];P--);
if(T>P&&(T=P),0===P)return M[e.table_index++]=20971520,M[e.table_index++]=20971520,
e.bits=1,0;for(A=1;P>A&&0===D[A];A++);for(A>T&&(T=A),j=1,k=1;i>=k;k++)if(j<<=1,j-=D[k],
0>j)return-1;if(j>0&&(_===s||1!==P))return-1;for(G[1]=0,k=1;i>k;k++)G[k+1]=G[k]+D[k];
for(E=0;S>E;E++)0!==w[e.lens_index+E]&&(R[G[w[e.lens_index+E]]++]=E);switch(_){case s:
V=I=R,g=19;break;case l:V=c,z-=257,I=d,B-=257,g=256;break;default:V=h,I=v,g=-1}if(O=0,
E=0,k=A,b=e.table_index,L=T,$=0,f=-1,N=1<<T,m=N-1,_===l&&N>a||_===u&&N>o)return 1;
for(var U=0;;){U++,p=k-$,R[E]<g?(y=0,x=R[E]):R[E]>g?(y=I[B+R[E]],x=V[z+R[E]]):(y=96,
x=0),t=1<<k-$,n=1<<L,A=n;do n-=t,M[b+(O>>$)+n]=p<<24|y<<16|x|0;while(0!==n);for(t=1<<k-1;O&t;)t>>=1;
if(0!==t?(O&=t-1,O+=t):O=0,E++,0===--D[k]){if(k===P)break;k=w[e.lens_index+R[E]]}
if(k>T&&(O&m)!==f){for(0===$&&($=T),b+=A,L=k-$,j=1<<L;P>L+$&&(j-=D[L+$],!(0>=j));)L++,
j<<=1;if(N+=1<<L,_===l&&N>a||_===u&&N>o)return 1;f=O&m,M[f]=T<<24|L<<16|b-e.table_index;
}}return 0!==O&&(M[b+O]=k-$<<24|64<<16|0),e.table_index+=N,e.bits=T,0}},{"./utils":13
}],11:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error",
"-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error",
"-6":"incompatible version"}},{}],12:[function(e,t,n){function r(e){for(var t=e.length;--t;)e[t]=0;
}function i(e){return 256>e?oe[e]:oe[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,
e.pending_buf[e.pending++]=t>>>8&255}function o(e,t,n){e.bi_valid>W-n?(e.bi_buf|=t<<e.bi_valid&65535,
a(e,e.bi_buf),e.bi_buf=t>>W-e.bi_valid,e.bi_valid+=n-W):(e.bi_buf|=t<<e.bi_valid&65535,
e.bi_valid+=n)}function s(e,t,n){o(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do n|=1&e,
e>>>=1,n<<=1;while(--t>0);return n>>>1}function u(e){16===e.bi_valid?(a(e,e.bi_buf),
e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,
e.bi_buf>>=8,e.bi_valid-=8)}function c(e,t){var n,r,i,a,o,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;
for(a=0;q>=a;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;F>n;n++)r=e.heap[n],
a=l[2*l[2*r+1]+1]+1,a>f&&(a=f,m++),l[2*r+1]=a,r>u||(e.bl_count[a]++,o=0,r>=v&&(o=h[r-v]),
s=l[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(c[2*r+1]+o)));if(0!==m){do{for(a=f-1;0===e.bl_count[a];)a--;
e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(a=f;0!==a;a--)for(r=e.bl_count[a];0!==r;)i=e.heap[--n],
i>u||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}function d(e,t,n){
var r,i,a=new Array(q+1),o=0;for(r=1;q>=r;r++)a[r]=o=o+n[r-1]<<1;for(i=0;t>=i;i++){
var s=e[2*i+1];0!==s&&(e[2*i]=l(a[s]++,s))}}function h(){var e,t,n,r,i,a=new Array(q+1);
for(n=0,r=0;G-1>r;r++)for(le[r]=n,e=0;e<1<<Q[r];e++)se[n++]=r;for(se[n-1]=r,i=0,r=0;16>r;r++)for(ue[r]=i,
e=0;e<1<<ee[r];e++)oe[i++]=r;for(i>>=7;U>r;r++)for(ue[r]=i<<7,e=0;e<1<<ee[r]-7;e++)oe[256+i++]=r;
for(t=0;q>=t;t++)a[t]=0;for(e=0;143>=e;)ie[2*e+1]=8,e++,a[8]++;for(;255>=e;)ie[2*e+1]=9,
e++,a[9]++;for(;279>=e;)ie[2*e+1]=7,e++,a[7]++;for(;287>=e;)ie[2*e+1]=8,e++,a[8]++;
for(d(ie,B+1,a),e=0;U>e;e++)ae[2*e+1]=5,ae[2*e]=l(e,5);ce=new ve(ie,Q,I+1,B,q),de=new ve(ae,ee,0,U,q),
he=new ve(new Array(0),te,0,H,Y)}function v(e){var t;for(t=0;B>t;t++)e.dyn_ltree[2*t]=0;
for(t=0;U>t;t++)e.dyn_dtree[2*t]=0;for(t=0;H>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*X]=1,
e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function f(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),
e.bi_buf=0,e.bi_valid=0}function m(e,t,n,r){f(e),r&&(a(e,n),a(e,~n)),P.arraySet(e.pending_buf,e.window,t,n,e.pending),
e.pending+=n}function b(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n];
}function g(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&b(t,e.heap[i+1],e.heap[i],e.depth)&&i++,
!b(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function p(e,t,n){
var r,a,l,u,c=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],
a=e.pending_buf[e.l_buf+c],c++,0===r?s(e,a,t):(l=se[a],s(e,l+I+1,t),u=Q[l],0!==u&&(a-=le[l],
o(e,a,u)),r--,l=i(r),s(e,l,n),u=ee[l],0!==u&&(r-=ue[l],o(e,r,u)));while(c<e.last_lit);
s(e,X,t)}function y(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;
for(e.heap_len=0,e.heap_max=F,n=0;l>n;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;
for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>u?++u:0,a[2*i]=1,e.depth[i]=0,e.opt_len--,
s&&(e.static_len-=o[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)g(e,a,n);i=l;
do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,
e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,
a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,g(e,a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],
c(e,t),d(a,u,e.bl_count)}function x(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,
u=3),t[2*(n+1)+1]=65535,r=0;n>=r;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(u>s?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,
e.bl_tree[2*Z]++):10>=s?e.bl_tree[2*K]++:e.bl_tree[2*J]++,s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,
u=3):(l=7,u=4))}function _(e,t,n){var r,i,a=-1,l=t[1],u=0,c=7,d=4;for(0===l&&(c=138,
d=3),r=0;n>=r;r++)if(i=l,l=t[2*(r+1)+1],!(++u<c&&i===l)){if(d>u){do s(e,i,e.bl_tree);while(0!==--u);
}else 0!==i?(i!==a&&(s(e,i,e.bl_tree),u--),s(e,Z,e.bl_tree),o(e,u-3,2)):10>=u?(s(e,K,e.bl_tree),
o(e,u-3,3)):(s(e,J,e.bl_tree),o(e,u-11,7));u=0,a=i,0===l?(c=138,d=3):i===l?(c=6,d=3):(c=7,
d=4)}}function w(e){var t;for(x(e,e.dyn_ltree,e.l_desc.max_code),x(e,e.dyn_dtree,e.d_desc.max_code),
y(e,e.bl_desc),t=H-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,
t}function S(e,t,n,r){var i;for(o(e,t-257,5),o(e,n-1,5),o(e,r-4,4),i=0;r>i;i++)o(e,e.bl_tree[2*ne[i]+1],3);
_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,n-1)}function M(e){var t,n=4093624447;for(t=0;31>=t;t++,
n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return L;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return $;
for(t=32;I>t;t++)if(0!==e.dyn_ltree[2*t])return $;return L}function C(e){me||(h(),
me=!0),e.l_desc=new fe(e.dyn_ltree,ce),e.d_desc=new fe(e.dyn_dtree,de),e.bl_desc=new fe(e.bl_tree,he),
e.bi_buf=0,e.bi_valid=0,v(e)}function R(e,t,n,r){o(e,(N<<1)+(r?1:0),3),m(e,t,n,!0);
}function k(e){o(e,O<<1,3),s(e,X,ie),u(e)}function E(e,t,n,r){var i,a,s=0;e.level>0?(e.strm.data_type===j&&(e.strm.data_type=M(e)),
y(e,e.l_desc),y(e,e.d_desc),s=w(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,i>=a&&(i=a)):i=a=n+5,
i>=n+4&&-1!==t?R(e,t,n,r):e.strategy===T||a===i?(o(e,(O<<1)+(r?1:0),3),p(e,ie,ae)):(o(e,(V<<1)+(r?1:0),3),
S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),p(e,e.dyn_ltree,e.dyn_dtree)),v(e),
r&&f(e)}function A(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,
e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,
t--,e.dyn_ltree[2*(se[n]+I+1)]++,e.dyn_dtree[2*i(t)]++),e.last_lit===e.lit_bufsize-1;
}var P=e("./utils"),T=4,L=0,$=1,j=2,N=0,O=1,V=2,z=3,D=258,G=29,I=256,B=I+1+G,U=30,H=19,F=2*B+1,q=15,W=16,Y=7,X=256,Z=16,K=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,ie=new Array(2*(B+2));
r(ie);var ae=new Array(2*U);r(ae);var oe=new Array(re);r(oe);var se=new Array(D-z+1);
r(se);var le=new Array(G);r(le);var ue=new Array(U);r(ue);var ce,de,he,ve=function(e,t,n,r,i){
this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,
this.has_stree=e&&e.length},fe=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t;
},me=!1;n._tr_init=C,n._tr_stored_block=R,n._tr_flush_block=E,n._tr_tally=A,n._tr_align=k;
},{"./utils":13}],13:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;
n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){
var n=t.shift();if(n){if("object"!==$traceurRuntime["typeof"](n))throw new TypeError(n+"must be non-object");
for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){
return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){
if(t.subarray)return void e.set(t.subarray(n,n+r),i);for(var a=0;r>a;a++)e[i+a]=t[n+a];
},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;n>t;t++)r+=e[t].length;
for(o=new Uint8Array(r),i=0,t=0,n=e.length;n>t;t++)a=e[t],o.set(a,i),i+=a.length;return o;
}},a={arraySet:function(e,t,n,r,i){for(var a=0;r>a;a++)e[i+a]=t[n+a]},flattenChunks:function(e){
return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,
n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a));
},n.setTyped(r)},{}],14:[function(e,t,n){function r(){this.next_in=null,this.next_in_index=0,
this.avail_in=0,this.total_in=0,this.next_out=null,this.next_out_index=0,this.avail_out=0,
this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r;
},{}]},{},[1])(1)});var e=window.pako;return{get default(){return e}}}),$traceurRuntime.registerModule("libs/paper",[],function(){
"use strict";var e=new function(t){var n=new function(){function e(e,t,r,i,o){function s(a,s){
s=s||(s=u(t,a))&&(s.get?s:s.value),"string"==typeof s&&"#"===s[0]&&(s=e[s.substring(1)]||s);
var c,h="function"==typeof s,v=s,f=o||h&&!s.base?s&&s.get?a in e:e[a]:null;o&&f||(h&&f&&(s.base=f),
h&&i!==!1&&(c=a.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),
v&&!h&&v.get&&"function"==typeof v.get&&n.isPlainObject(v)||(v={value:v,writable:!0
}),(u(e,a)||{configurable:!0}).configurable&&(v.configurable=!0,v.enumerable=r),d(e,a,v));
}var l={};if(t){for(var c in t)t.hasOwnProperty(c)&&!a.test(c)&&s(c);for(var c in l){
var h=l[c],v=e["set"+h],f=e["get"+h]||v&&e["is"+h];!f||i!==!0&&0!==f.length||s(c,{
get:f,set:v})}}return e}function r(e,t,n){return e&&("length"in e&&!e.getLength&&"number"==typeof e.length?o:s).call(e,t,n=n||e),
n}function i(e,t,n){for(var r in t)!t.hasOwnProperty(r)||n&&n[r]||(e[r]=t[r]);return e;
}var a=/^(statics|enumerable|beans|preserve)$/,o=[].forEach||function(e,t){for(var n=0,r=this.length;r>n;n++)e.call(t,this[n],n,this);
},s=function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this);
},l=Object.create||function(e){return{__proto__:e}},u=Object.getOwnPropertyDescriptor||function(e,t){
var n=e.__lookupGetter__&&e.__lookupGetter__(t);return n?{get:n,set:e.__lookupSetter__(t),
enumerable:!0,configurable:!0}:e.hasOwnProperty(t)?{value:e[t],enumerable:!0,configurable:!0,
writable:!0}:null},c=Object.defineProperty||function(e,t,n){return(n.get||n.set)&&e.__defineGetter__?(n.get&&e.__defineGetter__(t,n.get),
n.set&&e.__defineSetter__(t,n.set)):e[t]=n.value,e},d=function(e,t,n){return delete e[t],
c(e,t,n)};return e(function(){for(var e=0,t=arguments.length;t>e;e++)i(this,arguments[e]);
},{inject:function(t){if(t){var n=t.statics===!0?t:t.statics,r=t.beans,i=t.preserve;
n!==t&&e(this.prototype,t,t.enumerable,r,i),e(this,n,!0,r,i)}for(var a=1,o=arguments.length;o>a;a++)this.inject(arguments[a]);
return this},extend:function(){for(var t,n,r=this,i=0,a=arguments.length;a>i&&!(t=arguments[i].initialize);i++);
return t=t||function(){r.apply(this,arguments)},n=t.prototype=l(this.prototype),d(n,"constructor",{
value:t,writable:!0,configurable:!0}),e(t,this,!0),arguments.length&&this.inject.apply(t,arguments),
t.base=r,t}},!0).inject({inject:function(){for(var t=0,n=arguments.length;n>t;t++){
var r=arguments[t];r&&e(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){
var e=l(this);return e.inject.apply(e,arguments)},each:function(e,t){return r(this,e,t);
},set:function(e){return i(this,e)},clone:function(){return new this.constructor(this);
},statics:{each:r,create:l,define:d,describe:u,set:i,clone:function(e){return i(new e.constructor,e);
},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===n||"Object"===t.name);
},pick:function(e,n){return e!==t?e:n}}})};"undefined"!=typeof module&&(module.exports=n),
n.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+n.each(this,function(e,t){
if(!/^_/.test(t)){var n="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);
this.push(t+": "+("number"===n?o.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }";
},getClassName:function(){return this._class||""},exportJSON:function(e){return n.exportJSON(this,e);
},toJSON:function(){return n.serialize(this)},_set:function(e,r,i){if(e&&(i||n.isPlainObject(e))){
for(var a=Object.keys(e._filtering||e),o=0,s=a.length;s>o;o++){var l=a[o];if(!r||!r[l]){
var u=e[l];u!==t&&(this[l]=u)}}return!0}},statics:{exports:{enumerable:!0},extend:function ne(){
var e=ne.base.apply(this,arguments),t=e.prototype._class;return t&&!n.exports[t]&&(n.exports[t]=e),
e},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);
if(e&&t&&"object"===("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))&&"object"===("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))){
if(Array.isArray(e)&&Array.isArray(t)){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!n.equals(e[r],t[r]))return!1;
}else{var i=Object.keys(e),r=i.length;if(r!==Object.keys(t).length)return!1;for(;r--;){
var a=i[r];if(!t.hasOwnProperty(a)||!n.equals(e[a],t[a]))return!1}}return!0}return!1;
},read:function(e,r,i,a){if(this===n){var o=this.peek(e,r);return e.__index++,o}var s=this.prototype,l=s._readIndex,u=r||l&&e.__index||0;
a||(a=e.length-u);var c=e[u];return c instanceof this||i&&i.readNull&&null==c&&1>=a?(l&&(e.__index=u+1),
c&&i&&i.clone?c.clone():c):(c=n.create(this.prototype),l&&(c.__read=!0),c=c.initialize.apply(c,u>0||a<e.length?Array.prototype.slice.call(e,u,u+a):e)||c,
l&&(e.__index=u+c.__read,c.__read=t),c)},peek:function(e,t){return e[e.__index=t||e.__index||0];
},remain:function(e){return e.length-(e.__index||0)},readAll:function(e,t,n){for(var r,i=[],a=t||0,o=e.length;o>a;a++)i.push(Array.isArray(r=e[a])?this.read(r,0,n):this.read(e,a,n,1));
return i},readNamed:function(e,r,i,a,o){var s=this.getNamed(e,r),l=s!==t;if(l){var u=e._filtered;
u||(u=e._filtered=n.create(e[0]),u._filtering=e[0]),u[r]=t}return this.read(l?[s]:e,i,a,o);
},getNamed:function(e,r){var i=e[0];return e._hasObject===t&&(e._hasObject=1===e.length&&n.isPlainObject(i)),
e._hasObject?r?i[r]:e._filtered||i:void 0},hasNamed:function(e,t){return!!this.getNamed(e,t);
},isPlainValue:function(e,t){return this.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e;
},serialize:function(e,t,r,i){t=t||{};var a,s=!i;if(s&&(t.formatter=new o(t.precision),
i={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,r=this.references[n];
if(!r){this.length++;var i=t.call(e),a=e._class;a&&i[0]!==a&&i.unshift(a),this.definitions[n]=i,
r=this.references[n]=[n]}return r}}),e&&e._serialize){a=e._serialize(t,i);var l=e._class;
!l||r||a._compact||a[0]===l||a.unshift(l)}else if(Array.isArray(e)){a=[];for(var u=0,c=e.length;c>u;u++)a[u]=n.serialize(e[u],t,r,i);
r&&(a._compact=!0)}else if(n.isPlainObject(e)){a={};for(var d=Object.keys(e),u=0,c=d.length;c>u;u++){
var h=d[u];a[h]=n.serialize(e[h],t,r,i)}}else a="number"==typeof e?t.formatter.number(e,t.precision):e;
return s&&i.length>0?[["dictionary",i.definitions],a]:a},deserialize:function(e,t,r,i){
var a=e,o=!r;if(r=r||{},Array.isArray(e)){var s=e[0],l="dictionary"===s;if(1==e.length&&/^#/.test(s))return r.dictionary[s];
s=n.exports[s],a=[],i&&(r.dictionary=a);for(var u=s?1:0,c=e.length;c>u;u++)a.push(n.deserialize(e[u],t,r,l));
if(s){var d=a;t?a=t(s,d):(a=n.create(s.prototype),s.apply(a,d))}}else if(n.isPlainObject(e)){
a={},i&&(r.dictionary=a);for(var h in e)a[h]=n.deserialize(e[h],t,r)}return o&&e&&e.length&&"dictionary"===e[0][0]?a[1]:a;
},exportJSON:function(e,t){var r=n.serialize(e,t);return t&&t.asString===!1?r:JSON.stringify(r);
},importJSON:function(e,t){return n.deserialize("string"==typeof e?JSON.parse(e):e,function(e,r){
var i=t&&t.constructor===e,a=i?t:n.create(e.prototype),o=i?a._initialize||a._set:e;
if(1===r.length&&a instanceof y&&(i||!(a instanceof _))){var s=r[0];n.isPlainObject(s)&&(s.insert=!1);
}return o.apply(a,r),i&&(t=null),a})},splice:function(e,n,r,i){var a=n&&n.length,o=r===t;
r=o?e.length:r,r>e.length&&(r=e.length);for(var s=0;a>s;s++)n[s]._index=r+s;if(o)return e.push.apply(e,n),
[];var l=[r,i];n&&l.push.apply(l,n);for(var u=e.splice.apply(e,l),s=0,c=u.length;c>s;s++)u[s]._index=t;
for(var s=r+a,c=e.length;c>s;s++)e[s]._index=s;return u},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){
return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){
return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();
}}});var r={on:function(e,t){if("string"!=typeof e)n.each(e,function(e,t){this.on(t,e);
},this);else{var r=this._eventTypes,i=r&&r[e],a=this._callbacks=this._callbacks||{};
a=a[e]=a[e]||[],-1===a.indexOf(t)&&(a.push(t),i&&i.install&&1===a.length&&i.install.call(this,e));
}return this},off:function(e,t){if("string"!=typeof e)return void n.each(e,function(e,t){
this.off(t,e)},this);var r,i=this._eventTypes,a=i&&i[e],o=this._callbacks&&this._callbacks[e];
return o&&(!t||-1!==(r=o.indexOf(t))&&1===o.length?(a&&a.uninstall&&a.uninstall.call(this,e),
delete this._callbacks[e]):-1!==r&&o.splice(r,1)),this},once:function(e,t){return this.on(e,function(){
t.apply(this,arguments),this.off(e,t)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];
if(!n)return!1;var r=[].slice.call(arguments,1);n=n.slice();for(var i=0,a=n.length;a>i;i++)if(n[i].apply(this,r)===!1){
t&&t.stop&&t.stop();break}return!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e]);
},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._callbacks,n=e?"install":"uninstall";
for(var r in t)if(t[r].length>0){var i=this._eventTypes,a=i&&i[r],o=a&&a[n];o&&o.call(this,r);
}},statics:{inject:function re(e){var t=e._events;if(t){var r={};n.each(t,function(t,i){
var a="string"==typeof t,o=a?t:i,s=n.capitalize(o),l=o.substring(2).toLowerCase();
r[l]=a?{}:t,o="_"+o,e["get"+s]=function(){return this[o]},e["set"+s]=function(e){
var t=this[o];t&&this.off(l,t),e&&this.on(l,e),this[o]=e}}),e._eventTypes=r}return re.base.apply(this,arguments);
}}},i=n.extend({_class:"PaperScope",initialize:function ie(){e=this,this.settings=new n({
applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],
this.palettes=[],this._id=ie._id++,ie._scopes[this._id]=this;var t=ie.prototype;if(!this.support){
var r=J.getContext(1,1);t.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:Q.nativeModes
},J.release(r)}if(!this.browser){var i=navigator.userAgent.toLowerCase(),a=(/(win)/.exec(i)||/(mac)/.exec(i)||/(linux)/.exec(i)||[])[0],o=t.browser={
platform:a};a&&(o[a]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(e,t,n,r,i){
if(!o.chrome){var a="opera"===t?r:n;"trident"===t&&(a=i,t="msie"),o.version=a,o.versionNumber=parseFloat(a),
o.name=t,o[t]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.9.25",
getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this;
},execute:function(t,n,r){e.PaperScript.execute(t,this,n,r),U.updateFocus()},install:function(e){
var t=this;n.each(["project","view","tool"],function(r){n.define(e,r,{configurable:!0,
get:function(){return t[r]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(e[r]=this[r]);
},setup:function(t){return e=this,this.project=new g(t),this},activate:function(){
e=this},clear:function(){for(var e=this.projects,t=this.tools,n=this.palettes,r=e.length-1;r>=0;r--)e[r].remove();
for(var r=t.length-1;r>=0;r--)t[r].remove();for(var r=n.length-1;r>=0;r--)n[r].remove();
},remove:function(){this.clear(),delete i._scopes[this._id]},statics:new function(){
function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n);
}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),
hasAttribute:e("has")}}}),a=n.extend(r,{initialize:function(t){this._scope=e,this._index=this._scope[this._list].push(this)-1,
!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;
var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,
this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this;
},remove:function(){return null==this._index?!1:(n.splice(this._scope[this._list],null,this._index,1),
this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,
!0)},getView:function(){return this._scope.getView()}}),o=n.extend({initialize:function(e){
this.precision=n.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){
return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){
return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y);
},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},
rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});o.instance=new o;
var s=new function(){function e(e,t,n){return t>e?t:e>n?n:e}var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],n=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,i=Math.sqrt,a=Math.pow,o=1e-12,l=1.12e-16;
return{TOLERANCE:1e-6,EPSILON:o,MACHINE_EPSILON:l,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:2e-7,
WINDING_EPSILON:2e-7,TRIGONOMETRIC_EPSILON:1e-7,CLIPPING_EPSILON:1e-7,KAPPA:4*(i(2)-1)/3,
isZero:function(e){return e>=-o&&o>=e},clamp:e,integrate:function(e,r,i,a){for(var o=t[a-2],s=n[a-2],l=.5*(i-r),u=l+r,c=0,d=a+1>>1,h=1&a?s[c++]*e(u):0;d>c;){
var v=l*o[c];h+=s[c++]*(e(u+v)+e(u-v))}return l*h},findRoot:function(e,t,n,i,a,o,s){
for(var l=0;o>l;l++){var u=e(n),c=u/t(n),d=n-c;if(r(c)<s)return d;u>0?(a=n,n=i>=d?.5*(i+a):d):(i=n,
n=d>=a?.5*(i+a):d)}return n},solveQuadratic:function(t,n,s,u,c,d){var h,v,f=0,m=c-o,b=d+o,g=1/0,p=n;
if(n/=-2,v=n*n-t*s,0!==v&&r(v)<l){var y=a(r(t*n*s),1/3);if(1e-8>y){var x=a(10,r(Math.floor(Math.log(y)*Math.LOG10E)));
isFinite(x)||(x=0),t*=x,n*=x,s*=x,v=n*n-t*s}}if(r(t)<o){if(r(p)<o)return r(s)<o?-1:0;
h=-s/p}else if(v>=-l){var _=0>v?0:i(v),w=n+(0>n?-_:_);0===w?(h=s/t,g=-h):(h=w/t,g=s/w);
}return isFinite(h)&&(null==c||h>m&&b>h)&&(u[f++]=null==c?h:e(h,c,d)),g!==h&&isFinite(g)&&(null==c||g>m&&b>g)&&(u[f++]=null==c?g:e(g,c,d)),
f},solveCubic:function(t,n,u,c,d,h,v){var f,m,b,g=0;if(r(t)<o)t=n,m=u,b=c,f=1/0;else if(r(c)<o)m=n,
b=u,f=0;else{var p,y,x,_,w,S,M,C=1+l;if(f=-(n/t)/3,M=t*f,m=M+n,b=m*f+u,x=(M+m)*f+b,
y=b*f+c,_=y/t,w=a(r(_),1/3),S=0>_?-1:1,_=-x/t,w=_>0?1.3247179572*Math.max(w,i(_)):w,
p=f-S*w,p!==f){do f=p,M=t*f,m=M+n,b=m*f+u,x=(M+m)*f+b,y=b*f+c,p=0===x?f:f-y/x/C;while(S*p>S*f);
r(t)*f*f>r(c/f)&&(b=-c/f,m=(b-u)/f)}}var g=s.solveQuadratic(t,m,b,d,h,v);return isFinite(f)&&(0===g||f!==d[g-1])&&(null==h||f>h-o&&v+o>f)&&(d[g++]=null==h?f:e(f,h,v)),
g}}},l={_id:1,_pools:{},get:function(e){if(e){var t=e._class,n=this._pools[t];return n||(n=this._pools[t]={
_id:1}),n._id++}return this._id++}},u=n.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){
var n="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);if("number"===n){
var r="number"==typeof t;this.x=e,this.y=r?t:e,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===e?(this.x=this.y=0,
this.__read&&(this.__read=null===e?1:0)):(Array.isArray(e)?(this.x=e[0],this.y=e.length>1?e[1]:e[0]):null!=e.x?(this.x=e.x,
this.y=e.y):null!=e.width?(this.x=e.width,this.y=e.height):null!=e.angle?(this.x=e.length,
this.y=0,this.setAngle(e.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1));
},set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1;
},clone:function(){return new u(this.x,this.y)},toString:function(){var e=o.instance;
return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){
var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){
return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){
var t=this._angle||0;this.set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();
s.isZero(n)&&this.getAngle(),this.set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI;
},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",
setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=u.read(arguments),t=this.getLength()*e.getLength();
if(s.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(-1>n?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);
},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();
this.set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3;
}},{beans:!1,getDirectedAngle:function(){var e=u.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI;
},getDistance:function(){var e=u.read(arguments),t=e.x-this.x,r=e.y-this.y,i=t*t+r*r,a=n.read(arguments);
return a?i:Math.sqrt(i)},normalize:function(e){e===t&&(e=1);var n=this.getLength(),r=0!==n?e/n:0,i=new u(this.x*r,this.y*r);
return r>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(0===e)return this.clone();
e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new u(n.x*i-n.y*r,n.x*r+n.y*i),
t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){
var e=u.read(arguments);return new u(this.x+e.x,this.y+e.y)},subtract:function(){
var e=u.read(arguments);return new u(this.x-e.x,this.y-e.y)},multiply:function(){
var e=u.read(arguments);return new u(this.x*e.x,this.y*e.y)},divide:function(){var e=u.read(arguments);
return new u(this.x/e.x,this.y/e.y)},modulo:function(){var e=u.read(arguments);return new u(this.x%e.x,this.y%e.y);
},negate:function(){return new u(-this.x,-this.y)},isInside:function(){return v.read(arguments).contains(this);
},isClose:function(){var e=u.read(arguments),t=n.read(arguments);return this.getDistance(e)<t;
},isCollinear:function(){var e=u.read(arguments);return u.isCollinear(this.x,this.y,e.x,e.y);
},isColinear:"#isCollinear",isOrthogonal:function(){var e=u.read(arguments);return u.isOrthogonal(this.x,this.y,e.x,e.y);
},isZero:function(){return s.isZero(this.x)&&s.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y);
},dot:function(){var e=u.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){
var e=u.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=u.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);
return new u(e.x*t,e.y*t)},statics:{min:function(){var e=u.read(arguments),t=u.read(arguments);
return new u(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=u.read(arguments),t=u.read(arguments);
return new u(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new u(Math.random(),Math.random());
},isCollinear:function(e,t,n,r){return Math.abs(e*r-t*n)<=1e-7*Math.sqrt((e*e+t*t)*(n*n+r*r));
},isOrthogonal:function(e,t,n,r){return Math.abs(e*n+t*r)<=1e-7*Math.sqrt((e*e+t*t)*(n*n+r*r));
}}},n.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){
return new u(t(this.x),t(this.y))}},{})),c=u.extend({initialize:function(e,t,n,r){
this._x=e,this._y=t,this._owner=n,this._setter=r},set:function(e,t,n){return this._x=e,
this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x;
},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y;
},setY:function(e){this._y=e,this._owner[this._setter](this)}}),d=n.extend({_class:"Size",
_readIndex:!0,initialize:function(e,t){var n="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);
if("number"===n){var r="number"==typeof t;this.width=e,this.height=r?t:e,this.__read&&(this.__read=r?2:1);
}else"undefined"===n||null===e?(this.width=this.height=0,this.__read&&(this.__read=null===e?1:0)):(Array.isArray(e)?(this.width=e[0],
this.height=e.length>1?e[1]:e[0]):null!=e.width?(this.width=e.width,this.height=e.height):null!=e.x?(this.width=e.x,
this.height=e.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1));
},set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1;
},clone:function(){return new d(this.width,this.height)},toString:function(){var e=o.instance;
return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){
var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){
var e=d.read(arguments);return new d(this.width+e.width,this.height+e.height)},subtract:function(){
var e=d.read(arguments);return new d(this.width-e.width,this.height-e.height)},multiply:function(){
var e=d.read(arguments);return new d(this.width*e.width,this.height*e.height)},divide:function(){
var e=d.read(arguments);return new d(this.width/e.width,this.height/e.height)},modulo:function(){
var e=d.read(arguments);return new d(this.width%e.width,this.height%e.height)},negate:function(){
return new d(-this.width,-this.height)},isZero:function(){return s.isZero(this.width)&&s.isZero(this.height);
},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){
return new d(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){
return new d(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){
return new d(Math.random(),Math.random())}}},n.each(["round","ceil","floor","abs"],function(e){
var t=Math[e];this[e]=function(){return new d(t(this.width),t(this.height))}},{})),h=d.extend({
initialize:function(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r;
},set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),
this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,
this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){
this._height=e,this._owner[this._setter](this)}}),v=n.extend({_class:"Rectangle",
_readIndex:!0,beans:!0,initialize:function(e,r,i,a){var o="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e),s=0;
if("number"===o?(this.x=e,this.y=r,this.width=i,this.height=a,s=4):"undefined"===o||null===e?(this.x=this.y=this.width=this.height=0,
s=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this.x=e[0],this.y=e[1],
this.width=e[2],this.height=e[3],s=1):e.x!==t||e.width!==t?(this.x=e.x||0,this.y=e.y||0,
this.width=e.width||0,this.height=e.height||0,s=1):e.from===t&&e.to===t&&(this.x=this.y=this.width=this.height=0,
this._set(e),s=1)),!s){var l=u.readNamed(arguments,"from"),c=n.peek(arguments);if(this.x=l.x,
this.y=l.y,c&&c.x!==t||n.hasNamed(arguments,"to")){var h=u.readNamed(arguments,"to");
this.width=h.x-l.x,this.height=h.y-l.y,this.width<0&&(this.x=h.x,this.width=-this.width),
this.height<0&&(this.y=h.y,this.height=-this.height)}else{var v=d.read(arguments);
this.width=v.width,this.height=v.height}s=arguments.__index}this.__read&&(this.__read=s);
},set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},
clone:function(){return new v(this.x,this.y,this.width,this.height)},equals:function(e){
var t=n.isPlainValue(e)?v.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1;
},toString:function(){var e=o.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }";
},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)];
},getPoint:function(e){var t=e?u:c;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){
var e=u.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?d:h;return new t(this.width,this.height,this,"setSize");
},setSize:function(){var e=d.read(arguments);this._fixX&&(this.x+=(this.width-e.width)*this._fixX),
this._fixY&&(this.y+=(this.height-e.height)*this._fixY),this.width=e.width,this.height=e.height,
this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(e){
this._fixW||(this.width-=e-this.x),this.x=e,this._fixX=0},getTop:function(){return this.y;
},setTop:function(e){this._fixH||(this.height-=e-this.y),this.y=e,this._fixY=0},getRight:function(){
return this.x+this.width},setRight:function(e){this._fixX!==t&&1!==this._fixX&&(this._fixW=0),
this._fixW?this.x=e-this.width:this.width=e-this.x,this._fixX=1},getBottom:function(){
return this.y+this.height},setBottom:function(e){this._fixY!==t&&1!==this._fixY&&(this._fixH=0),
this._fixH?this.y=e-this.height:this.height=e-this.y,this._fixY=1},getCenterX:function(){
return this.x+.5*this.width},setCenterX:function(e){this.x=e-.5*this.width,this._fixX=.5;
},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(e){this.y=e-.5*this.height,
this._fixY=.5},getCenter:function(e){var t=e?u:c;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter");
},setCenter:function(){var e=u.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),
this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height;
},contains:function(e){return e&&e.width!==t||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(v.read(arguments)):this._containsPoint(u.read(arguments));
},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height;
},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height;
},intersects:function(){var e=v.read(arguments);return e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x+this.width&&e.y<this.y+this.height;
},touches:function(){var e=v.read(arguments);return e.x+e.width>=this.x&&e.y+e.height>=this.y&&e.x<=this.x+this.width&&e.y<=this.y+this.height;
},intersect:function(){var e=v.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);
return new v(t,n,r-t,i-n)},unite:function(){var e=v.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);
return new v(t,n,r-t,i-n)},include:function(){var e=u.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);
return new v(t,n,r-t,i-n)},expand:function(){var e=d.read(arguments),t=e.width,n=e.height;
return new v(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,n){
return this.expand(this.width*e-this.width,this.height*(n===t?e:n)-this.height)}},n.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){
var n=e.join(""),r=/^[RL]/.test(n);t>=4&&(e[1]+=r?"Y":"X");var i=e[r?0:1],a=e[r?1:0],o="get"+i,s="get"+a,l="set"+i,d="set"+a,h="get"+n,v="set"+n;
this[h]=function(e){var t=e?u:c;return new t(this[o](),this[s](),this,v)},this[v]=function(){
var e=u.read(arguments);this[l](e.x),this[d](e.y)}},{beans:!0})),f=v.extend({initialize:function(e,t,n,r,i,a){
this.set(e,t,n,r,!0),this._owner=i,this._setter=a},set:function(e,t,n,r,i){return this._x=e,
this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){
var e=v.prototype;return n.each(["x","y","width","height"],function(e){var t=n.capitalize(e),r="_"+e;
this["get"+t]=function(){return this[r]},this["set"+t]=function(e){this[r]=e,this._dontNotify||this._owner[this._setter](this);
}},n.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){
var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,
this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected;
},setSelected:function(e){var t=this._owner;t.setSelected&&(t._boundsSelected=e,t.setSelected(e||t._selectedSegmentState>0));
}}))}),m=n.extend({_class:"Matrix",initialize:function ae(e){var t=arguments.length,n=!0;
if(6===t?this.set.apply(this,arguments):1===t?e instanceof ae?this.set(e._a,e._c,e._b,e._d,e._tx,e._ty):Array.isArray(e)?this.set.apply(this,e):n=!1:0===t?this.reset():n=!1,
!n)throw new Error("Unsupported matrix parameters")},set:function(e,t,n,r,i,a,o){
return this._a=e,this._c=t,this._b=n,this._d=r,this._tx=i,this._ty=a,o||this._changed(),
this},_serialize:function(e){return n.serialize(this.getValues(),e)},_changed:function(){
var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(9))},clone:function(){
return new m(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(e){
return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty||!1;
},toString:function(){var e=o.instance;return"[["+[e.number(this._a),e.number(this._b),e.number(this._tx)].join(", ")+"], ["+[e.number(this._c),e.number(this._d),e.number(this._ty)].join(", ")+"]]";
},reset:function(e){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,
e||this._changed(),this},apply:function(e,t){var r=this._owner;return r?(r.transform(null,!0,n.pick(e,!0),t),
this.isIdentity()):!1},translate:function(){var e=u.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._b,
this._ty+=t*this._c+n*this._d,this._changed(),this},scale:function(){var e=u.read(arguments),t=u.read(arguments,0,{
readNull:!0});return t&&this.translate(t),this._a*=e.x,this._c*=e.x,this._b*=e.y,
this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){
e*=Math.PI/180;var t=u.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),a=Math.sin(e),o=n-n*i+r*a,s=r-n*a-r*i,l=this._a,c=this._b,d=this._c,h=this._d;
return this._a=i*l+a*c,this._b=-a*l+i*c,this._c=i*d+a*h,this._d=-a*d+i*h,this._tx+=o*l+s*c,
this._ty+=o*d+s*h,this._changed(),this},shear:function(){var e=u.read(arguments),t=u.read(arguments,0,{
readNull:!0});t&&this.translate(t);var n=this._a,r=this._c;return this._a+=e.y*this._b,
this._c+=e.y*this._d,this._b+=e.x*n,this._d+=e.x*r,t&&this.translate(t.negate()),
this._changed(),this},skew:function(){var e=u.read(arguments),t=u.read(arguments,0,{
readNull:!0}),n=Math.PI/180,r=new u(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(r,t);
},concatenate:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,a=e._a,o=e._b,s=e._c,l=e._d,u=e._tx,c=e._ty;
return this._a=a*t+s*n,this._b=o*t+l*n,this._c=a*r+s*i,this._d=o*r+l*i,this._tx+=u*t+c*n,
this._ty+=u*r+c*i,this._changed(),this},preConcatenate:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,a=this._tx,o=this._ty,s=e._a,l=e._b,u=e._c,c=e._d,d=e._tx,h=e._ty;
return this._a=s*t+l*r,this._b=s*n+l*i,this._c=u*t+c*r,this._d=u*n+c*i,this._tx=s*a+l*o+d,
this._ty=u*a+c*o+h,this._changed(),this},chain:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,a=this._tx,o=this._ty,s=e._a,l=e._b,u=e._c,c=e._d,d=e._tx,h=e._ty;
return new m(s*t+u*n,s*r+u*i,l*t+c*n,l*r+c*i,a+d*t+h*n,o+d*r+h*i)},isIdentity:function(){
return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty;
},orNullIfIdentity:function(){return this.isIdentity()?null:this},isInvertible:function(){
return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant();
},transform:function(e,t,n){return arguments.length<3?this._transformPoint(u.read(arguments)):this._transformCoordinates(e,t,n);
},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return t||(t=new u),t.set(r*this._a+i*this._b+this._tx,r*this._c+i*this._d+this._ty,n);
},_transformCoordinates:function(e,t,n){for(var r=0,i=0,a=2*n;a>r;){var o=e[r++],s=e[r++];
t[i++]=o*this._a+s*this._b+this._tx,t[i++]=o*this._c+s*this._d+this._ty}return t},
_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,a=[t,n,r,n,r,i,t,i];
return this._transformCoordinates(a,a,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),a=i.slice(),o=2;8>o;o++){
var s=r[o],l=1&o;s<i[l]?i[l]=s:s>a[l]&&(a[l]=s)}return t||(t=new v),t.set(i[0],i[1],a[0]-i[0],a[1]-i[1],n);
},inverseTransform:function(){return this._inverseTransform(u.read(arguments))},_getDeterminant:function(){
var e=this._a*this._d-this._b*this._c;return isFinite(e)&&!s.isZero(e)&&isFinite(this._tx)&&isFinite(this._ty)?e:null;
},_inverseTransform:function(e,t,n){var r=this._getDeterminant();if(!r)return null;
var i=e.x-this._tx,a=e.y-this._ty;return t||(t=new u),t.set((i*this._d-a*this._b)/r,(a*this._a-i*this._c)/r,n);
},decompose:function(){var e=this._a,t=this._b,n=this._c,r=this._d;if(s.isZero(e*r-t*n))return null;
var i=Math.sqrt(e*e+t*t);e/=i,t/=i;var a=e*n+t*r;n-=e*a,r-=t*a;var o=Math.sqrt(n*n+r*r);
return n/=o,r/=o,a/=o,t*n>e*r&&(e=-e,t=-t,a=-a,i=-i),{scaling:new u(i,o),rotation:180*-Math.atan2(t,e)/Math.PI,
shearing:a}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty];
},getTranslation:function(){return new u(this._tx,this._ty)},getScaling:function(){
return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation;
},inverted:function(){var e=this._getDeterminant();return e&&new m(this._d/e,-this._c/e,-this._b/e,this._a/e,(this._b*this._ty-this._d*this._tx)/e,(this._c*this._tx-this._a*this._ty)/e);
},shiftless:function(){return new m(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(e){
this.isIdentity()||e.transform(this._a,this._c,this._b,this._d,this._tx,this._ty);
}},n.each(["a","c","b","d","tx","ty"],function(e){var t=n.capitalize(e),r="_"+e;this["get"+t]=function(){
return this[r]},this["set"+t]=function(e){this[r]=e,this._changed()}},{})),b=n.extend({
_class:"Line",initialize:function(e,t,n,r,i){var a=!1;arguments.length>=4?(this._px=e,
this._py=t,this._vx=n,this._vy=r,a=i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,
a=n),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new u(this._px,this._py);
},getVector:function(){return new u(this._vx,this._vy)},getLength:function(){return this.getVector().getLength();
},intersect:function(e,t){return b.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t);
},getSide:function(e,t){return b.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t);
},getDistance:function(e){return Math.abs(b.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0));
},isCollinear:function(e){return u.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){
return u.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,r,i,a,o,l,c,d){
c||(n-=e,r-=t,o-=i,l-=a);var h=n*l-r*o;if(!s.isZero(h)){var v=e-i,f=t-a,m=(o*f-l*v)/h,b=(n*f-r*v)/h,g=1e-12,p=-g,y=1+g;
if(d||m>p&&y>m&&b>p&&y>b)return d||(m=0>=m?0:m>=1?1:m),new u(e+m*n,t+m*r)}},getSide:function(e,t,n,r,i,a,o,s){
o||(n-=e,r-=t);var l=i-e,u=a-t,c=l*r-u*n;return 0!==c||s||(c=(l*n+l*n)/(n*n+r*r),
c>=0&&1>=c&&(c=0)),0>c?-1:c>0?1:0},getSignedDistance:function(e,t,n,r,i,a,o){return o||(n-=e,
r-=t),0===n?r>0?i-e:e-i:0===r?0>n?a-t:t-a:((i-e)*r-(a-t)*n)/Math.sqrt(n*n+r*r)}}}),g=a.extend({
_class:"Project",_list:"projects",_reference:"project",initialize:function(e){a.call(this,!0),
this._children=[],this._namedChildren={},this._activeLayer=null,this.symbols=[],this._currentStyle=new G(null,null,this),
this._view=U.create(this,e||J.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,
this._updateVersion=0},_serialize:function(e,t){return n.serialize(this._children,e,!0,t);
},_changed:function(e,t){1&e&&(this._needsUpdate=!0);var n=this._changes;if(n&&t){
var r=this._changesById,i=t._id,a=r[i];a?a.flags|=e:n.push(r[i]={item:t,flags:e});
}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove();this.symbols=[];
},isEmpty:function(){return 0===this._children.length},remove:function oe(){return oe.base.call(this)?(this._view&&this._view.remove(),
!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle;
},setCurrentStyle:function(e){this._currentStyle.initialize(e)},getIndex:function(){
return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){
return this._children},getActiveLayer:function(){return this._activeLayer||new _({
project:this})},getSelectedItems:function(){var e=this._selectedItems,t=[];for(var n in e){
var r=e[n];r.isInserted()?t.push(r):(this._selectedItemCount--,delete e[n])}return t;
},_updateSelection:function(e){var t=e._id,n=this._selectedItems;e._selected?n[t]!==e&&(this._selectedItemCount++,
n[t]=e):n[t]===e&&(this._selectedItemCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;n>t;t++)e[t].setFullySelected(!0);
},deselectAll:function(){var e=this._selectedItems;for(var t in e)e[t].setFullySelected(!1);
},hitTest:function(){for(var e=u.read(arguments),t=C.getOptions(n.read(arguments)),r=this._children,i=r.length-1;i>=0;i--){
var a=r[i]._hitTest(e,t);if(a)return a}return null},addLayer:function(e){return this.insertLayer(t,e);
},insertLayer:function(e,t){return t instanceof _?(t._remove(!1,!0),n.splice(this._children,[t],e,0),
t._setProject(this,!0),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)):t=null,
t},_insertItem:function(e,n,r,i){return n=this.insertLayer(e,n)||(this._activeLayer||this._insertItem(t,new _(y.NO_INSERT),!0,!0)).insertChild(e,n,r),
i&&n.activate&&n.activate(),n},getItems:function(e){return y._getItems(this,e)},getItem:function(e){
return y._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();
var t=this._activeLayer;return n.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){
var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var r in n){
var i=n[r];for(var a in t){var o=t[a];o&&o!=n&&delete o[i._id]}i.remove()}t[e]=null;
}}},draw:function(e,t,r){this._updateVersion++,e.save(),t.applyToContext(e);for(var i=this._children,a=new n({
offset:new u(0,0),pixelRatio:r,viewMatrix:t.isIdentity()?null:t,matrices:[new m],
updateMatrix:!0}),o=0,s=i.length;s>o;o++)i[o].draw(e,a);if(e.restore(),this._selectedItemCount>0){
e.save(),e.strokeWidth=1;var l=this._selectedItems,c=this._scope.settings.handleSize,d=this._updateVersion;
for(var h in l)l[h]._drawSelection(e,t,c,l,d);e.restore()}}}),p=n.extend({_class:"Symbol",
initialize:function(t,n){this._id=l.get(),this.project=e.project,this.project.symbols.push(this),
t&&this.setDefinition(t,n)},_serialize:function(e,t){return t.add(this,function(){
return n.serialize([this._class,this._definition],e,!1,t)})},_changed:function(e){
8&e&&y._clearBoundsCache(this),1&e&&this.project._changed(e)},getDefinition:function(){
return this._definition},setDefinition:function(e,t){e._parentSymbol&&(e=e.clone()),
this._definition&&(this._definition._parentSymbol=null),this._definition=e,e.remove(),
e.setSelected(!1),t||e.setPosition(new u),e._parentSymbol=this,this._changed(9)},
place:function(e){return new M(this,e)},clone:function(){return new p(this._definition.clone(!1));
},equals:function(e){return e===this||e&&this.definition.equals(e.definition)||!1;
}}),y=n.extend(r,{statics:{extend:function se(e){return e._serializeFields&&(e._serializeFields=new n(this.prototype._serializeFields,e._serializeFields)),
se.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,
_canApplyMatrix:!0,_canScaleStroke:!1,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{
name:null,applyMatrix:null,matrix:new m,pivot:null,locked:!1,visible:!0,blendMode:"normal",
opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(r,i){
var a=r&&n.isPlainObject(r),o=a&&r.internal===!0,s=this._matrix=new m,u=a&&r.project||e.project;
return this._id=o?null:l.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&e.settings.applyMatrix,
i&&s.translate(i),s._owner=this,this._style=new G(u._currentStyle,this,u),o||a&&r.insert===!1?this._setProject(u):(a&&r.parent||u)._insertItem(t,this,!0,!0),
a&&r!==y.NO_INSERT&&this._set(r,{internal:!0,insert:!0,project:!0,parent:!0},!0),
a},_events:n.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(e){
this[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){
this.getView()._countItemEvent(e,-1)}}},{onFrame:{install:function(){this.getView()._animateItem(this,!0);
},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{}}),_serialize:function(e,t){
function r(r){for(var o in r){var s=a[o];n.equals(s,"leading"===o?1.2*r.fontSize:r[o])||(i[o]=n.serialize(s,e,"data"!==o,t));
}}var i={},a=this;return r(this._serializeFields),this instanceof x||r(this._style._defaults),
[this._class,i]},_changed:function(e){var n=this._parentSymbol,r=this._parent||n,i=this._project;
8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=t),r&&40&e&&y._clearBoundsCache(r),
2&e&&y._clearBoundsCache(this),i&&i._changed(e,this),n&&n._changed(e)},set:function(e){
return e&&this._set(e),this},getId:function(){return this._id},getName:function(){
return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");
var n=this._getOwner();if(e&&n){var r=n._children,i=n._namedChildren;(i[e]=i[e]||[]).push(this),
e in r||(r[e]=this)}this._name=e||t,this._changed(128)},getStyle:function(){return this._style;
},setStyle:function(e){this.getStyle().set(e)}},n.each(["locked","visible","blendMode","opacity","guide"],function(e){
var t=n.capitalize(e),e="_"+e;this["get"+t]=function(){return this[e]},this["set"+t]=function(t){
t!=this[e]&&(this[e]=t,this._changed("_locked"===e?128:129))}},{}),{beans:!0,_locked:!1,
_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;n>t;t++)if(e[t].isSelected())return!0;
return this._selected},setSelected:function(e,t){if(!t&&this._selectChildren)for(var n=this._children,r=0,i=n.length;i>r;r++)n[r].setSelected(e);
if((e=!!e)^this._selected){this._selected=e;var a=this._project;a&&(a._updateSelection(this),
this._changed(129))}},_selected:!1,isFullySelected:function(){var e=this._children;
if(e&&this._selected){for(var t=0,n=e.length;n>t;t++)if(!e[t].isFullySelected())return!1;
return!0}return this._selected},setFullySelected:function(e){var t=this._children;
if(t)for(var n=0,r=t.length;r>n;n++)t[n].setFullySelected(e);this.setSelected(e,!0);
},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,
e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024));
},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},
setData:function(e){this._data=e},getPosition:function(e){var t=this._position,n=e?u:c;
if(!t){var r=this._pivot;t=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0);
}return new n(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(u.read(arguments).subtract(this.getPosition(!0)));
},getPivot:function(e){var t=this._pivot;if(t){var n=e?u:c;t=new n(t.x,t.y,this,"setPivot");
}return t},setPivot:function(){this._pivot=u.read(arguments,0,{clone:!0,readNull:!0
}),this._position=t},_pivot:null},n.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalHandleBounds","internalRoughBounds"],function(e){
var t="get"+n.capitalize(e),r=e.match(/^internal(.*)$/),i=r?"get"+r[1]:null;this[t]=function(n){
var r=this._boundsGetter,a=!i&&("string"==typeof r?r:r&&r[t])||t,o=this._getCachedBounds(a,n,this,i);
return"bounds"===e?new f(o.x,o.y,o.width,o.height,this,"setBounds"):o}},{beans:!0,
_getBounds:function(e,t,n){var r=this._children;if(!r||0===r.length)return new v;y._updateBoundsCache(this,n);
for(var i=1/0,a=-i,o=i,s=a,l=0,u=r.length;u>l;l++){var c=r[l];if(c._visible&&!c.isEmpty()){
var d=c._getCachedBounds(e,t&&t.chain(c._matrix),n);i=Math.min(d.x,i),o=Math.min(d.y,o),
a=Math.max(d.x+d.width,a),s=Math.max(d.y+d.height,s)}}return isFinite(i)?new v(i,o,a-i,s-o):new v;
},setBounds:function(){var e=v.read(arguments),t=this.getBounds(),n=new m,r=e.getCenter();
n.translate(r),e.width==t.width&&e.height==t.height||n.scale(0!==t.width?e.width/t.width:1,0!==t.height?e.height/t.height:1),
r=t.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getCachedBounds:function(e,t,n,r){
t=t&&t.orNullIfIdentity();var i=r?null:this._matrix.orNullIfIdentity(),a=(!t||t.equals(i))&&e;
if(y._updateBoundsCache(this._parent||this._parentSymbol,n),a&&this._bounds&&this._bounds[a])return this._bounds[a].clone();
var o=this._getBounds(r||e,t||i,n);if(a){this._bounds||(this._bounds={});var s=this._bounds[a]=o.clone();
s._internal=!!r}return o},statics:{_updateBoundsCache:function(e,t){if(e){var n=t._id,r=e._boundsCache=e._boundsCache||{
ids:{},list:[]};r.ids[n]||(r.list.push(t),r.ids[n]=t)}},_clearBoundsCache:function(e){
var n=e._boundsCache;if(n){e._bounds=e._position=e._boundsCache=t;for(var r=0,i=n.list,a=i.length;a>r;r++){
var o=i[r];o!==e&&(o._bounds=o._position=t,o._boundsCache&&y._clearBoundsCache(o));
}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose();
},getRotation:function(){var e=this._decomposed||this._decompose();return e&&e.rotation;
},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;
this.rotate(e-t),n.rotation=e,this._decomposed=n}},getScaling:function(e){var t=this._decomposed||this._decompose(),n=t&&t.scaling,r=e?u:c;
return n&&new r(n.x,n.y,this,"setScaling")},setScaling:function(){var e=this.getScaling();
if(e){var t=u.read(arguments,0,{clone:!0}),n=this._decomposed;this.scale(t.x/e.x,t.y/e.y),
n.scaling=t,this._decomposed=n}},getMatrix:function(){return this._matrix},setMatrix:function(){
var e=this._matrix;e.initialize.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix,n=this._project._updateVersion;
if(t&&t._updateVersion!==n&&(t=null),!t){t=this._globalMatrix=this._matrix.clone();
var r=this._parent;r&&t.preConcatenate(r.getGlobalMatrix(!0)),t._updateVersion=n}
return e?t:t.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){
(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",
setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project;
},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),
this._project=e;for(var n=this._children,r=0,i=n&&n.length;i>r;r++)n[r]._setProject(e);
t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function le(e){
le.base.call(this,e);for(var t=this._children,n=0,r=t&&t.length;r>n;n++)t[n]._installEvents(e);
},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof _)return e;return null;
},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this);
},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e,t){
this.removeChildren(),this.addChildren(e,t)},getFirstChild:function(){return this._children&&this._children[0]||null;
},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null;
},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null;
},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null;
},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1;
},_equals:function(e){return n.equals(this._children,e._children)},clone:function(e){
var n=new this.constructor(y.NO_INSERT),r=this._children;r&&n.copyAttributes(this),
n.copyContent(this),r||n.copyAttributes(this),(e===t||e)&&n.insertAbove(this);var i=this._name,a=this._parent;
if(i&&a){for(var r=a._children,o=i,s=1;r[i];)i=o+" "+s++;i!==o&&n.setName(i)}return n;
},copyContent:function(e){for(var t=e._children,n=0,r=t&&t.length;r>n;n++)this.addChild(t[n].clone(!1),!0);
},copyAttributes:function(e,t){this.setStyle(e._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=r.length;a>i;i++){
var o=r[i];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.initialize(e._matrix),
this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelected(e._selected);
var s=e._data,l=e._name;this._data=s?n.clone(s):null,l&&this.setName(l)},rasterize:function(e,r){
var i=this.getStrokeBounds(),a=(e||this.getView().getResolution())/72,o=i.getTopLeft().floor(),s=i.getBottomRight().ceil(),l=new d(s.subtract(o)),u=new S(y.NO_INSERT);
if(!l.isZero()){var c=J.getCanvas(l.multiply(a)),h=c.getContext("2d"),v=(new m).scale(a).translate(o.negate());
h.save(),v.applyToContext(h),this.draw(h,new n({matrices:[v]})),h.restore(),u.setCanvas(c);
}return u.transform((new m).translate(o.add(l.divide(2))).scale(1/a)),(r===t||r)&&u.insertAbove(this),
u},contains:function(){return!!this._contains(this._matrix._inverseTransform(u.read(arguments)));
},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;
return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return v.read(arguments).contains(this.getBounds());
},_asPathItem:function(){return new T.Rectangle({rectangle:this.getInternalBounds(),
matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof y?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1;
},hitTest:function(){return this._hitTest(u.read(arguments),C.getOptions(n.read(arguments)));
},_hitTest:function(e,t){function r(t,r){var i=v["get"+r]();return e.subtract(i).divide(l).length<=1?new C(t,h,{
name:n.hyphenate(r),point:i}):void 0}if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;
var i=this._matrix,a=t._totalMatrix,o=this.getView(),s=t._totalMatrix=a?a.chain(i):this.getGlobalMatrix().preConcatenate(o._matrix),l=t._tolerancePadding=new d(T._getPenPadding(1,s.inverted())).multiply(Math.max(t.tolerance,1e-6));
if(e=i._inverseTransform(e),!e||!this._children&&!this.getInternalRoughBounds().expand(l.multiply(2))._containsPoint(e))return null;
var u,c=!(t.guides&&!this._guide||t.selected&&!this._selected||t.type&&t.type!==n.hyphenate(this._class)||t["class"]&&!(this instanceof t["class"])),h=this;
if(c&&(t.center||t.bounds)&&this._parent){var v=this.getInternalBounds();if(t.center&&(u=r("center","Center")),
!u&&t.bounds)for(var f=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],m=0;8>m&&!u;m++)u=r("bounds",f[m]);
}var b=!u&&this._children;if(b)for(var g=this._getChildHitTestOptions(t),m=b.length-1;m>=0&&!u;m--)u=b[m]._hitTest(e,g);
return!u&&c&&(u=this._hitTestSelf(e,t)),u&&u.point&&(u.point=i.transform(u.point)),
t._totalMatrix=a,u},_getChildHitTestOptions:function(e){return e},_hitTestSelf:function(e,t){
return t.fill&&this.hasFill()&&this._contains(e)?new C("fill",this):void 0},matches:function(e,t){
function r(e,t){for(var i in e)if(e.hasOwnProperty(i)){var a=e[i],o=t[i];if(n.isPlainObject(a)&&n.isPlainObject(o)){
if(!r(a,o))return!1}else if(!n.equals(a,o))return!1}return!0}var i="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);
if("object"===i){for(var a in e)if(e.hasOwnProperty(a)&&!this.matches(a,e[a]))return!1;
return!0}if("function"===i)return e(this);if("match"===e)return t(this);var o=/^(empty|editable)$/.test(e)?this["is"+n.capitalize(e)]():"type"===e?n.hyphenate(this._class):this[e];
if("class"===e){if("function"==typeof t)return this instanceof t;o=this._class}return t instanceof RegExp?t.test(o):"function"==typeof t?!!t(o):n.isPlainObject(t)?r(t,o):n.equals(o,t);
},getItems:function(e){return y._getItems(this,e,this._matrix)},getItem:function(e){
return y._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function ue(e,t,r,i,a){
if(!i){var o="object"===("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))&&t,s=o&&o.overlapping,l=o&&o.inside,u=s||l,c=u&&v.read([u]);
i={items:[],recursive:o&&o.recursive!==!1,inside:!!l,overlapping:!!s,rect:c,path:s&&new T.Rectangle({
rectangle:c,insert:!1})},o&&(t=n.set({},t,{recursive:!0,inside:!0,overlapping:!0}));
}var d=e._children,h=i.items,c=i.rect;r=c&&(r||new m);for(var f=0,b=d&&d.length;b>f;f++){
var g=d[f],p=r&&r.chain(g._matrix),y=!0;if(c){var u=g.getBounds(p);if(!c.intersects(u))continue;
c.contains(u)||i.overlapping&&(u.contains(c)||i.path.intersects(g,p))||(y=!1)}if(y&&g.matches(t)&&(h.push(g),
a))break;if(i.recursive!==!1&&ue(g,t,p,i,a),a&&h.length>0)break}return h}}},{importJSON:function(e){
var t=n.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e,n){
return this.insertChild(t,e,n)},insertChild:function(e,t,n){var r=t?this.insertChildren(e,[t],n):null;
return r&&r[0]},addChildren:function(e,t){return this.insertChildren(this._children.length,e,t);
},insertChildren:function(e,t,r,i){var a=this._children;if(a&&t&&t.length>0){t=Array.prototype.slice.apply(t);
for(var o=t.length-1;o>=0;o--){var s=t[o];if(!i||s instanceof i){var l=s._parent===this&&s._index<e;
s._remove(!1,!0)&&l&&e--}else t.splice(o,1)}n.splice(a,t,e,0);for(var u=this._project,c=u&&u._changes,o=0,d=t.length;d>o;o++){
var s=t[o];s._parent=this,s._setProject(this._project,!0),s._name&&s.setName(s._name),
c&&this._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",
insertAbove:function(e,t){var n=e&&e._getOwner();return n?n._insertItem(e._index+1,this,t):null;
},insertBelow:function(e,t){var n=e&&e._getOwner();return n?n._insertItem(e._index,this,t):null;
},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null;
},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(t,this):null;
},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",
moveBelow:"#insertBelow",copyTo:function(e){return e._insertItem(t,this.clone(!1));
},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);
return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n.copyAttributes(this),
n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],a=i?i.indexOf(this):-1;
-1!==a&&(t[r]==this&&delete t[r],i.splice(a,1),i.length?t[r]=i[0]:delete n[r])}},
_remove:function(e,t){var r=this._getOwner(),i=this._project,a=this._index;return r&&null!=a?(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),
this._name&&this._removeNamed(),n.splice(r._children,null,a,1),this._installEvents(!1),
e&&i._changes&&this._changed(5),t&&r._changed(11,this),this._parent=null,!0):!1},
remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);
return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;
e=e||0,t=n.pick(t,this._children.length);for(var r=n.splice(this._children,null,e,t-e),i=r.length-1;i>=0;i--)r[i]._remove(!0,!1);
return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){
if(this._children){this._children.reverse();for(var e=0,t=this._children.length;t>e;e++)this._children[e]._index=e;
this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length;
},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent;
}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){
return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow();
},_getOrder:function(e){function t(e){var t=[];do t.unshift(e);while(e=e._parent);
return t}for(var n=t(this),r=t(e),i=0,a=Math.min(n.length,r.length);a>i;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;
return 0},hasChildren:function(){return this._children&&this._children.length>0},
isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){
return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){
return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){
for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1;
},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){
for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;
t=t._parent}return!1}},n.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;
this[e]=function(){var r=(t?n:u).read(arguments),i=u.read(arguments,0,{readNull:!0
});return this.transform((new m)[e](r,i||this.getPosition(!0)))}},{translate:function(){
var e=new m;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n,r){
e&&e.isIdentity()&&(e=null);var i=this._matrix,a=(t||this._applyMatrix)&&(!i.isIdentity()||e||t&&n&&this._children);
if(!e&&!a)return this;if(e&&i.preConcatenate(e),a=a&&this._transformContent(i,n,r)){
var o=this._pivot,s=this._style,l=s.getFillColor(!0),u=s.getStrokeColor(!0);o&&i._transformPoint(o,o,!0),
l&&l.transform(i),u&&u.transform(i),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0);
}var c=this._bounds,d=this._position;this._changed(9);var h=c&&e&&e.decompose();if(h&&!h.shearing&&h.rotation%90===0){
for(var v in c){var f=c[v];!a&&f._internal||e._transformBounds(f,f)}var m=this._boundsGetter,f=c[m&&m.getBounds||m||"getBounds"];
f&&(this._position=f.getCenter(!0)),this._bounds=c}else e&&d&&(this._position=e._transformPoint(d,d));
return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,a=r.length;a>i;i++)r[i].transform(e,!0,t,n);
return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(u.read(arguments));
},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(u.read(arguments));
},parentToLocal:function(){return this._matrix._inverseTransform(u.read(arguments));
},localToParent:function(){return this._matrix._transformPoint(u.read(arguments));
},fitBounds:function(e,t){e=v.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,a=(t?r>i:i>r)?e.width/n.width:e.height/n.height,o=new v(new u,new d(n.width*a,n.height*a));
o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(t){var n=this._style,r=n.getFillColor(),i=n.getStrokeColor(),a=n.getShadowColor();
if(r&&(t.fillStyle=r.toCanvasStyle(t)),i){var o=n.getStrokeWidth();if(o>0){t.strokeStyle=i.toCanvasStyle(t),
t.lineWidth=o;var s=n.getStrokeJoin(),l=n.getStrokeCap(),u=n.getMiterLimit();if(s&&(t.lineJoin=s),
l&&(t.lineCap=l),u&&(t.miterLimit=u),e.support.nativeDash){var c=n.getDashArray(),d=n.getDashOffset();
c&&c.length&&("setLineDash"in t?(t.setLineDash(c),t.lineDashOffset=d):(t.mozDash=c,
t.mozDashOffset=d))}}}if(a){var h=n.getShadowBlur();if(h>0){t.shadowColor=a.toCanvasStyle(t),
t.shadowBlur=h;var v=this.getShadowOffset();t.shadowOffsetX=v.x,t.shadowOffsetY=v.y;
}}},draw:function(e,t,n){function r(e){return o?o.chain(e):e}var i=this._updateVersion=this._project._updateVersion;
if(this._visible&&0!==this._opacity){var a=t.matrices,o=t.viewMatrix,s=this._matrix,l=a[a.length-1].chain(s);
if(l.isInvertible()){a.push(l),t.updateMatrix&&(l._updateVersion=i,this._globalMatrix=l);
var u,c,d,h=this._blendMode,v=this._opacity,f="normal"===h,m=Q.nativeModes[h],b=f&&1===v||t.dontStart||t.clip||(m||f&&1>v)&&this._canComposite(),g=t.pixelRatio||1;
if(!b){var p=this.getStrokeBounds(r(l));if(!p.width||!p.height)return;d=t.offset,
c=t.offset=p.getTopLeft().floor(),u=e,e=J.getContext(p.getSize().ceil().add(1).multiply(g)),
1!==g&&e.scale(g,g)}e.save();var y=n?n.chain(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r(l),x=!b&&t.clipItem,_=!y||x;
if(b?(e.globalAlpha=v,m&&(e.globalCompositeOperation=h)):_&&e.translate(-c.x,-c.y),
_&&(b?s:r(l)).applyToContext(e),x&&t.clipItem.draw(e,t.extend({clip:!0})),y){e.setTransform(g,0,0,g,0,0);
var w=t.offset;w&&e.translate(-w.x,-w.y)}this._draw(e,t,y),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(),
b||(Q.process(h,e,u,v,c.subtract(d).multiply(g)),J.release(e),t.offset=d)}}},_isUpdated:function(e){
var t=this._parent;if(t instanceof L)return t._isUpdated(e);var n=this._updateVersion===e;
return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){
if((this._drawSelected||this._boundsSelected)&&this._isUpdated(i)){var a,o=this.getSelectedColor(!0)||(a=this.getLayer())&&a.getSelectedColor(!0),s=t.chain(this.getGlobalMatrix(!0));
if(e.strokeStyle=e.fillStyle=o?o.toCanvasStyle(e):"#009dec",this._drawSelected&&this._drawSelected(e,s,r),
this._boundsSelected){var l=n/2,u=s._transformCorners(this.getInternalBounds());e.beginPath();
for(var c=0;8>c;c++)e[0===c?"moveTo":"lineTo"](u[c],u[++c]);e.closePath(),e.stroke();
for(var c=0;8>c;c++)e.fillRect(u[c]-l,u[++c]-l,n,n)}}},_canComposite:function(){return!1;
}},n.each(["down","drag","up","move"],function(e){this["removeOn"+n.capitalize(e)]=function(){
var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){
var n="mouse"+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this;
}return this}})),x=y.extend({_class:"Group",_selectChildren:!0,_serializeFields:{
children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments);
},_changed:function ce(e){ce.base.call(this,e),1026&e&&(this._clipItem=t)},_getClipItem:function(){
var e=this._clipItem;if(e===t){e=null;for(var n=this._children,r=0,i=n.length;i>r;r++)if(n[r]._clipMask){
e=n[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem();
},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_draw:function(e,t){
var n=t.clip,r=!n&&this._getClipItem(),i=!0;if(t=t.extend({clipItem:r,clip:!1}),n?(e.beginPath(),
t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0})),i)for(var a=this._children,o=0,s=a.length;s>o;o++){
var l=a[o];l!==r&&l.draw(e,t)}}}),_=x.extend({_class:"Layer",initialize:function(){
x.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project;
},isInserted:function de(){return this._parent?de.base.call(this):null!=this._index;
},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){return null;
}}),w=y.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,
_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e){
this._initialize(e)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&n.equals(this._radius,e._radius);
},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius);
},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",
setShape:"#setType",getSize:function(){var e=this._size;return new h(e.width,e.height,this,"setSize");
},setSize:function(){var e=d.read(arguments);if(this._size){if(!this._size.equals(e)){
var t=this._type,n=e.width,r=e.height;if("rectangle"===t){var i=d.min(this._radius,e.divide(2));
this._radius.set(i.width,i.height)}else"circle"===t?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===t&&this._radius.set(n/2,r/2);
this._size.set(n,r),this._changed(9)}}else this._size=e.clone()},getRadius:function(){
var e=this._radius;return"circle"===this._type?e:new h(e.width,e.height,this,"setRadius");
},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;
var n=2*e;this._radius=e,this._size.set(n,n)}else if(e=d.read(arguments),this._radius){
if(this._radius.equals(e))return;if(this._radius.set(e.width,e.height),"rectangle"===t){
var n=d.max(this._size,e.multiply(2));this._size.set(n.width,n.height)}else"ellipse"===t&&this._size.set(2*e.width,2*e.height);
}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(r){
var i=new(T[n.capitalize(this._type)])({center:new u,size:this._size,radius:this._radius,
insert:!1});return i.copyAttributes(this),e.settings.applyMatrix&&i.setApplyMatrix(!0),
(r===t||r)&&i.insertAbove(this),i},toShape:"#clone",_draw:function(e,t,n){var r=this._style,i=r.hasFill(),a=r.hasStroke(),o=t.dontFinish||t.clip,s=!n;
if(i||a||o){var l=this._type,u=this._radius,c="circle"===l;if(t.dontStart||e.beginPath(),
s&&c)e.arc(0,0,u,0,2*Math.PI,!0);else{var d=c?u:u.width,h=c?u:u.height,v=this._size,f=v.width,m=v.height;
if(s&&"rectangle"===l&&0===d&&0===h)e.rect(-f/2,-m/2,f,m);else{var b=f/2,g=m/2,p=.44771525016920644,y=d*p,x=h*p,_=[-b,-g+h,-b,-g+x,-b+y,-g,-b+d,-g,b-d,-g,b-y,-g,b,-g+x,b,-g+h,b,g-h,b,g-x,b-y,g,b-d,g,-b+d,g,-b+y,g,-b,g-x,-b,g-h];
n&&n.transform(_,_,32),e.moveTo(_[0],_[1]),e.bezierCurveTo(_[2],_[3],_[4],_[5],_[6],_[7]),
b!==d&&e.lineTo(_[8],_[9]),e.bezierCurveTo(_[10],_[11],_[12],_[13],_[14],_[15]),g!==h&&e.lineTo(_[16],_[17]),
e.bezierCurveTo(_[18],_[19],_[20],_[21],_[22],_[23]),b!==d&&e.lineTo(_[24],_[25]),
e.bezierCurveTo(_[26],_[27],_[28],_[29],_[30],_[31])}}e.closePath()}o||!i&&!a||(this._setStyles(e),
i&&(e.fill(r.getFillRule()),e.shadowBlur=0),a&&e.stroke())},_canComposite:function(){
return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new v(this._size).setCenter(0,0),r="getStrokeBounds"===e&&this.hasStroke()&&this.getStrokeWidth(),i=r&&this.getStrokeScaling();
return r&&i&&(n=n.expand(r)),t&&(n=t._transformBounds(n)),r&&!i&&(n=n.expand(r)),
n}},new function(){function e(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),a=0;4>a;a++){
var o=new u(1&a?1:-1,a>1?1:-1),s=o.multiply(i),l=s.subtract(o.multiply(r)),c=new v(s,l);
if((n?c.expand(n):c).contains(t))return l}}function t(e,t){var n=e.getAngleInRadians(),r=2*t.width,i=2*t.height,a=r*Math.sin(n),o=i*Math.cos(n);
return r*i/(2*Math.sqrt(a*a+o*o))}return{_contains:function n(t){if("rectangle"===this._type){
var r=e(this,t);return r?t.subtract(r).divide(this._radius).getLength()<=1:n.base.call(this,t);
}return t.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,i){var a=!1;
if(this.hasStroke()){var o=this._type,s=this._radius,l=this.getStrokeWidth()+2*i.tolerance;
if("rectangle"===o){var u=e(this,n,l);if(u){var c=n.subtract(u);a=2*Math.abs(c.getLength()-t(c,s))<=l;
}else{var d=new v(this._size).setCenter(0,0),h=d.expand(l),f=d.expand(-l);a=h._containsPoint(n)&&!f._containsPoint(n);
}}else"ellipse"===o&&(s=t(n,s)),a=2*Math.abs(n.getLength()-s)<=l}return a?new C("stroke",this):r.base.apply(this,arguments);
}}},{statics:new function(){function e(e,t,r,i,a){var o=new w(n.getNamed(a));return o._type=e,
o._size=r,o._radius=i,o.translate(t)}return{Circle:function(){var t=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"radius");
return e("circle",t,new d(2*r),r,arguments)},Rectangle:function(){var t=v.readNamed(arguments,"rectangle"),n=d.min(d.readNamed(arguments,"radius"),t.getSize(!0).divide(2));
return e("rectangle",t.getCenter(!0),t.getSize(!0),n,arguments)},Ellipse:function(){
var t=w._readEllipse(arguments),n=t.radius;return e("ellipse",t.center,n.multiply(2),n,arguments);
},_readEllipse:function(e){var t,r;if(n.hasNamed(e,"radius"))t=u.readNamed(e,"center"),
r=d.readNamed(e,"radius");else{var i=v.readNamed(e,"rectangle");t=i.getCenter(!0),
r=i.getSize(!0).divide(2)}return{center:t,radius:r}}}}}),S=y.extend({_class:"Raster",
_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{
crossOrigin:null,source:null},initialize:function(e,n){this._initialize(e,n!==t&&u.read(arguments,1))||("string"==typeof e?this.setSource(e):this.setImage(e)),
this._size||(this._size=new d,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource();
},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this.setImage(t);else if(n){
var r=J.getCanvas(e._size);r.getContext("2d").drawImage(n,0,0),this.setImage(r)}this._crossOrigin=e._crossOrigin;
},getSize:function(){var e=this._size;return new h(e?e.width:0,e?e.height:0,this,"setSize");
},setSize:function(){var e=d.read(arguments);if(!e.equals(this._size))if(e.width>0&&e.height>0){
var t=this.getElement();this.setImage(J.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height);
}else this._canvas&&J.release(this._canvas),this._size=e.clone()},getWidth:function(){
return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight());
},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){
this.setSize(this.getWidth(),e)},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height;
},getResolution:function(){var e=this._matrix,t=new u(0,0).transform(e),n=new u(1,0).transform(e).subtract(t),r=new u(0,1).transform(e).subtract(t);
return new d(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){
return this._image},setImage:function(e){this._canvas&&J.release(this._canvas),e&&e.getContext?(this._image=null,
this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=e&&e.complete),
this._size=new d(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,
this._changed(521)},getCanvas:function(){if(!this._canvas){var e=J.getContext(this._size);
try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){J.release(e);
}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),
e&&(this._image=null,this._changed(513)),this._context},setContext:function(e){this._context=e;
},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(t){
function n(){var t=i.getView();t&&(e=t._scope,i.setImage(r),i.emit("load"),t.update());
}var r,i=this,a=this._crossOrigin;r=document.getElementById(t)||new Image,a&&(r.crossOrigin=a),
r.naturalWidth&&r.naturalHeight?setTimeout(n,0):(B.add(r,{load:n}),r.src||(r.src=t)),
this.setImage(r)},getCrossOrigin:function(){return this._image&&this._image.crossOrigin||this._crossOrigin||"";
},setCrossOrigin:function(e){this._crossOrigin=e,this._image&&(this._image.crossOrigin=e);
},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,
getSubCanvas:function(){var e=v.read(arguments),t=J.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),
t.canvas},getSubRaster:function(){var e=v.read(arguments),t=new S(y.NO_INSERT);return t.setImage(this.getSubCanvas(e)),
t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.preConcatenate(this._matrix),
t.insertAbove(this),t},toDataURL:function(){var e=this._image&&this._image.src;if(/^data:/.test(e))return e;
var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(e){
var t=u.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){
var t,r;e?e instanceof P?(r=e,t=e.getBounds()):e.width?t=new v(e):e.x&&(t=new v(e.x-.5,e.y-.5,1,1)):t=this.getBounds();
var i=32,a=Math.min(t.width,i),o=Math.min(t.height,i),s=S._sampleContext;s?s.clearRect(0,0,i+1,i+1):s=S._sampleContext=J.getContext(new d(i)),
s.save();var l=(new m).scale(a/t.width,o/t.height).translate(-t.x,-t.y);l.applyToContext(s),
r&&r.draw(s,new n({clip:!0,matrices:[l]})),this._matrix.applyToContext(s);var u=this.getElement(),c=this._size;
u&&s.drawImage(u,-c.width/2,-c.height/2),s.restore();for(var h=s.getImageData(.5,.5,Math.ceil(a),Math.ceil(o)).data,f=[0,0,0],b=0,g=0,p=h.length;p>g;g+=4){
var y=h[g+3];b+=y,y/=255,f[0]+=h[g]*y,f[1]+=h[g+1]*y,f[2]+=h[g+2]*y}for(var g=0;3>g;g++)f[g]/=b;
return b?V.read(f):null},getPixel:function(){var e=u.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;
return new V("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=u.read(arguments),t=V.read(arguments),n=t._convert("rgb"),r=t._alpha,i=this.getContext(!0),a=i.createImageData(1,1),o=a.data;
o[0]=255*n[0],o[1]=255*n[1],o[2]=255*n[2],o[3]=null!=r?255*r:255,i.putImageData(a,e.x,e.y);
},createImageData:function(){var e=d.read(arguments);return this.getContext().createImageData(e.width,e.height);
},getImageData:function(){var e=v.read(arguments);return e.isEmpty()&&(e=new v(this._size)),
this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){
var t=u.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){
var n=new v(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(e){
if(this._contains(e)){var t=this;return new C("pixel",t,{offset:e.add(t._size.divide(2)).round(),
color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e){var t=this.getElement();
t&&(e.globalAlpha=this._opacity,e.drawImage(t,-this._size.width/2,-this._size.height/2));
},_canComposite:function(){return!0}}),M=y.extend({_class:"PlacedSymbol",_applyMatrix:!1,
_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,
_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==t&&u.read(arguments,1))||this.setSymbol(e instanceof p?e:new p(e));
},_equals:function(e){return this._symbol===e._symbol},copyContent:function(e){this.setSymbol(e._symbol);
},getSymbol:function(){return this._symbol},setSymbol:function(e){this._symbol=e,
this._changed(9)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(e,t,n){
var r=this.symbol._definition;return r._getCachedBounds(e,t&&t.chain(r._matrix),n);
},_hitTestSelf:function(e,t){var n=this._symbol._definition._hitTest(e,t);return n&&(n.item=this),
n},_draw:function(e,t){this.symbol._definition.draw(e,t)}}),C=n.extend({_class:"HitResult",
initialize:function(e,t,n){this.type=e,this.item=t,n&&(n.enumerable=!0,this.inject(n));
},statics:{getOptions:function(t){return new n({type:null,tolerance:e.settings.hitTolerance,
fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1
},t)}}}),R=n.extend({_class:"Segment",beans:!0,initialize:function(e,n,r,i,a,o){var s,l,u,c=arguments.length;
0===c||(1===c?e&&"point"in e?(s=e.point,l=e.handleIn,u=e.handleOut):s=e:2===c&&"number"==typeof e?s=arguments:3>=c?(s=e,
l=n,u=r):(s=e!==t?[e,n]:null,l=r!==t?[r,i]:null,u=a!==t?[a,o]:null)),new k(s,this,"_point"),
new k(l,this,"_handleIn"),new k(u,this,"_handleOut")},_serialize:function(e){return n.serialize(this.hasHandles()?[this._point,this._handleIn,this._handleOut]:this._point,e,!0);
},_changed:function(e){var t=this._path;if(t){var n,r=t._curves,i=this._index;r&&(e&&e!==this._point&&e!==this._handleIn||!(n=i>0?r[i-1]:t._closed?r[r.length-1]:null)||n._changed(),
e&&e!==this._point&&e!==this._handleOut||!(n=r[i])||n._changed()),t._changed(25)}
},getPoint:function(){return this._point},setPoint:function(){var e=u.read(arguments);
this._point.set(e.x,e.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){
var e=u.read(arguments);this._handleIn.set(e.x,e.y)},getHandleOut:function(){return this._handleOut;
},setHandleOut:function(){var e=u.read(arguments);this._handleOut.set(e.x,e.y)},hasHandles:function(){
return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){
this._handleIn.set(0,0),this._handleOut.set(0,0)},_selectionState:0,isSelected:function(e){
var t=this._selectionState;return e?e===this._point?!!(4&t):e===this._handleIn?!!(1&t):e===this._handleOut?!!(2&t):!1:!!(7&t);
},setSelected:function(e,t){var n=this._path,e=!!e,r=this._selectionState,i=r,a=t?t===this._point?4:t===this._handleIn?1:t===this._handleOut?2:0:7;
e?r|=a:r&=~a,this._selectionState=r,n&&r!==i&&(n._updateSelection(this,i,r),n._changed(129));
},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){
return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,
e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new A(e,this===e._segment1?0:1):null;
},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null;
},smooth:function(e,n,r){var i=e||{},a=i.type,o=i.factor,s=this.getPrevious(),l=this.getNext(),c=(s||this)._point,d=this._point,h=(l||this)._point,v=c.getDistance(d),f=d.getDistance(h);
if(a&&"catmull-rom"!==a){if("geometric"!==a)throw new Error("Smoothing method '"+a+"' not supported.");
if(s&&l){var m=c.subtract(h),b=o===t?.4:o,g=b*v/(v+f);n||this.setHandleIn(m.multiply(g)),
r||this.setHandleOut(m.multiply(g-b))}}else{var p=o===t?.5:o,y=Math.pow(v,p),x=y*y,_=Math.pow(f,p),w=_*_;
if(!n&&s){var S=2*w+3*_*y+x,M=3*_*(_+y);this.setHandleIn(0!==M?new u((w*c._x+S*d._x-x*h._x)/M-d._x,(w*c._y+S*d._y-x*h._y)/M-d._y):new u);
}if(!r&&l){var S=2*x+3*y*_+w,M=3*y*(y+_);this.setHandleOut(0!==M?new u((x*h._x+S*d._x-w*c._x)/M-d._x,(x*h._y+S*d._y-w*c._y)/M-d._y):new u);
}}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null;
},isFirst:function(){return 0===this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1;
},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e._x,r=e._y;e.set(t._x,t._y),
t.set(n,r)},reversed:function(){return new R(this._point,this._handleOut,this._handleIn);
},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},
clone:function(){return new R(this._point,this._handleIn,this._handleOut)},equals:function(e){
return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1;
},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),
this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }";
},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed();
},_transformCoordinates:function(e,t,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,a=n&&this._handleOut.isZero()?null:this._handleOut,o=r._x,s=r._y,l=2;
return t[0]=o,t[1]=s,i&&(t[l++]=i._x+o,t[l++]=i._y+s),a&&(t[l++]=a._x+o,t[l++]=a._y+s),
e&&(e._transformCoordinates(t,t,l/2),o=t[0],s=t[1],n?(r._x=o,r._y=s,l=2,i&&(i._x=t[l++]-o,
i._y=t[l++]-s),a&&(a._x=t[l++]-o,a._y=t[l++]-s)):(i||(t[l++]=o,t[l++]=s),a||(t[l++]=o,
t[l++]=s))),t}}),k=u.extend({initialize:function(e,n,r){var i,a,o;if(e)if((i=e[0])!==t)a=e[1];else{
var s=e;(i=s.x)===t&&(s=u.read(arguments),i=s.x),a=s.y,o=s.selected}else i=a=0;this._x=i,
this._y=a,this._owner=n,n[r]=this,o&&this.setSelected(!0)},set:function(e,t){return this._x=e,
this._y=t,this._owner._changed(this),this},_serialize:function(e){var t=e.formatter,n=t.number(this._x),r=t.number(this._y);
return this.isSelected()?{x:n,y:r,selected:!0}:[n,r]},getX:function(){return this._x;
},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y;
},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){return s.isZero(this._x)&&s.isZero(this._y);
},setSelected:function(e){this._owner.setSelected(e,this)},isSelected:function(){
return this._owner.isSelected(this)}}),E=n.extend({_class:"Curve",initialize:function(e,t,n,r,i,a,o,s){
var l,u,c,d,h,v,f=arguments.length;3===f?(this._path=e,l=t,u=n):0===f?(l=new R,u=new R):1===f?"segment1"in e?(l=new R(e.segment1),
u=new R(e.segment2)):"point1"in e?(c=e.point1,h=e.handle1,v=e.handle2,d=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],
d=[e[6],e[7]],h=[e[2]-e[0],e[3]-e[1]],v=[e[4]-e[6],e[5]-e[7]]):2===f?(l=new R(e),
u=new R(t)):4===f?(c=e,h=t,v=n,d=r):8===f&&(c=[e,t],d=[o,s],h=[n-e,r-t],v=[i-o,a-s]),
this._segment1=l||new R(c,null,h),this._segment2=u||new R(d,v,null)},_serialize:function(e){
return n.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0);
},_changed:function(){this._length=this._bounds=t},clone:function(){return new E(this._segment1,this._segment2);
},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),
this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),
"{ "+e.join(", ")+" }"},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;
e=t.remove(),e&&this._segment1._handleOut.set(n.x,n.y)}return e},getPoint1:function(){
return this._segment1._point},setPoint1:function(){var e=u.read(arguments);this._segment1._point.set(e.x,e.y);
},getPoint2:function(){return this._segment2._point},setPoint2:function(){var e=u.read(arguments);
this._segment2._point.set(e.x,e.y)},getHandle1:function(){return this._segment1._handleOut;
},setHandle1:function(){var e=u.read(arguments);this._segment1._handleOut.set(e.x,e.y);
},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var e=u.read(arguments);
this._segment2._handleIn.set(e.x,e.y)},getSegment1:function(){return this._segment1;
},getSegment2:function(){return this._segment2},getPath:function(){return this._path;
},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;
return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){
var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null;
},isFirst:function(){return 0===this._segment1._index},isLast:function(){var e=this._path;
return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected();
},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),
this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){
return E.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;8>n;n+=2)t.push(new u(e[n],e[n+1]));
return t},getLength:function(){return null==this._length&&(this._length=E.getLength(this.getValues(),0,1)),
this._length},getArea:function(){return E.getArea(this.getValues())},getLine:function(){
return new b(this._segment1._point,this._segment2._point)},getPart:function(e,t){
return new E(E.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return E.getLength(this.getValues(),e,t);
},getIntersections:function(e){return E._getIntersections(this.getValues(),e&&e!==this?e.getValues():null,this,e,[],{});
},_getParameter:function(e,n){return n?e:e&&e.curve===this?e.parameter:e===t&&n===t?.5:this.getParameterAt(e,0);
},divide:function(e,t,n){var r=this._getParameter(e,t),i=4e-7,a=1-i,o=null;if(r>=i&&a>=r){
var s=E.subdivide(this.getValues(),r),l=s[0],c=s[1],d=n||this.hasHandles(),h=this._segment1,v=this._segment2,f=this._path;
d&&(h._handleOut.set(l[2]-l[0],l[3]-l[1]),v._handleIn.set(c[4]-c[6],c[5]-c[7]));var m=l[6],b=l[7],g=new R(new u(m,b),d&&new u(l[4]-m,l[5]-b),d&&new u(c[2]-m,c[3]-b));
f?(f.insert(h._index+1,g),o=this.getNext()):(this._segment2=g,o=new E(g,v))}return o;
},split:function(e,t){return this._path?this._path.split(this._segment1._index,this._getParameter(e,t)):null;
},reversed:function(){return new E(this._segment2.reversed(),this._segment1.reversed());
},clearHandles:function(){this._segment1._handleOut.set(0,0),this._segment2._handleIn.set(0,0);
},statics:{getValues:function(e,t,n){var r=e._point,i=e._handleOut,a=t._handleIn,o=t._point,s=[r._x,r._y,r._x+i._x,r._y+i._y,o._x+a._x,o._y+a._y,o._x,o._y];
return n&&n._transformCoordinates(s,s,4),s},subdivide:function(e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7];
n===t&&(n=.5);var d=1-n,h=d*r+n*a,v=d*i+n*o,f=d*a+n*s,m=d*o+n*l,b=d*s+n*u,g=d*l+n*c,p=d*h+n*f,y=d*v+n*m,x=d*f+n*b,_=d*m+n*g,w=d*p+n*x,S=d*y+n*_;
return[[r,i,h,v,p,y,w,S],[w,S,x,_,b,g,u,c]]},solveCubic:function(e,t,n,r,i,a){var o=e[t],l=e[t+2],u=e[t+4],c=e[t+6],d=3*(l-o),h=3*(u-l)-d,v=c-o-d-h;
return s.solveCubic(v,h,d,o-n,r,i,a)},getParameterOf:function(e,t){var n=new u(e[0],e[1]),r=new u(e[6],e[7]),i=1e-12,a=t.isClose(n,i)?0:t.isClose(r,i)?1:null;
if(null!==a)return a;for(var o=[t.x,t.y],s=[],l=2e-7,c=0;2>c;c++)for(var d=E.solveCubic(e,c,o[c],s,0,1),h=0;d>h;h++)if(a=s[h],
t.isClose(E.getPoint(e,a),l))return a;return t.isClose(n,l)?0:t.isClose(r,l)?1:null;
},getNearestParameter:function(e,t){function n(n){if(n>=0&&1>=n){var r=t.getDistance(E.getPoint(e,n),!0);
if(v>r)return v=r,f=n,!0}}if(E.isStraight(e)){var r=e[0],i=e[1],a=e[6],o=e[7],s=a-r,l=o-i,c=s*s+l*l;
if(0===c)return 0;var d=((t.x-r)*s+(t.y-i)*l)/c;return 1e-12>d?0:d>.999999999999?1:E.getParameterOf(e,new u(r+d*s,i+d*l));
}for(var h=100,v=1/0,f=0,m=0;h>=m;m++)n(m/h);for(var b=1/(2*h);b>4e-7;)n(f-b)||n(f+b)||(b/=2);
return f},getPart:function(e,t,n){var r=t>n;if(r){var i=t;t=n,n=i}return t>0&&(e=E.subdivide(e,t)[1]),
1>n&&(e=E.subdivide(e,(n-t)/(1-t))[0]),r?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e;
},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=3*i-2*n-l,d=3*a-2*r-u,h=3*o-2*l-n,v=3*s-2*u-r;
return Math.max(c*c,h*h)+Math.max(d*d,v*v)<10*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[6],i=e[7],a=(e[2]+t)/2,o=(e[3]+n)/2,s=(e[4]+e[6])/2,l=(e[5]+e[7])/2;
return 6*((t-a)*(o+n)+(a-s)*(l+o)+(s-r)*(i+l))/10},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;2>i;i++)E._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);
return new v(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,a,o,l,u){
function c(e,t){var n=e-t,r=e+t;n<o[i]&&(o[i]=n),r>l[i]&&(l[i]=r)}var d=3*(t-n)-e+r,h=2*(e+n)-4*t,v=t-e,f=s.solveQuadratic(d,h,v,u),m=4e-7,b=1-m;
c(r,0);for(var g=0;f>g;g++){var p=u[g],y=1-p;p>m&&b>p&&c(y*y*y*e+3*y*y*p*t+3*y*p*p*n+p*p*p*r,a);
}}}},n.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(e){
this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];if(!t){var n=this._path;
t=this._bounds[e]=T[e]([this._segment1,this._segment2],!1,n&&n.getStyle())}return t.clone();
}},{}),n.each({isStraight:function(e,t,n){if(t.isZero()&&n.isZero())return!0;if(e.isZero())return!1;
if(t.isCollinear(e)&&n.isCollinear(e)){var r=e.dot(e),i=e.dot(t)/r,a=e.dot(n)/r;return i>=0&&1>=i&&0>=a&&a>=-1;
}return!1},isLinear:function(e,t,n){var r=e.divide(3);return t.equals(r)&&n.negate().equals(r);
}},function(e,t){this[t]=function(){var t=this._segment1,n=this._segment2;return e(n._point.subtract(t._point),t._handleOut,n._handleIn);
},this.statics[t]=function(t){var n=t[0],r=t[1],i=t[6],a=t[7];return e(new u(i-n,a-r),new u(t[2]-n,t[3]-r),new u(t[4]-i,t[5]-a));
}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero();
},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine());
},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).y)<1e-7;
},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).x)<1e-7;
}}),{beans:!1,getParameterAt:function(e,t){return E.getParameterAt(this.getValues(),e,t);
},getParameterOf:function(){return E.getParameterOf(this.getValues(),u.read(arguments));
},getLocationAt:function(e,t){var n=t?e:this.getParameterAt(e);return null!=n&&n>=0&&1>=n?new A(this,n):null;
},getLocationOf:function(){return this.getLocationAt(this.getParameterOf(u.read(arguments)),!0);
},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null;
},getNearestLocation:function(){var e=u.read(arguments),t=this.getValues(),n=E.getNearestParameter(t,e),r=E.getPoint(t,n);
return new A(this,n,r,null,e.getDistance(r))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint();
}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];
return n.each(e,function(e){this[e+"At"]=function(t,n){var r=this.getValues();return E[e](r,n?t:E.getParameterAt(r,t,0));
}},{statics:{evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=9*(r-a)+3*(s-t),c=6*(t+a)-12*r,d=3*(r-t),h=9*(i-o)+3*(l-n),v=6*(n+o)-12*i,f=3*(i-n);
return function(e){var t=(u*e+c)*e+d,n=(h*e+v)*e+f;return Math.sqrt(t*t+n*n)}}function n(e,t){
return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function r(e,t,n,r){if(null==t||0>t||t>1)return null;
var i,a,o=e[0],l=e[1],c=e[2],d=e[3],h=e[4],v=e[5],f=e[6],m=e[7],b=4e-7,g=1-b,p=s.isZero;
if(p(c-o)&&p(d-l)&&(c=o,d=l),p(h-f)&&p(v-m)&&(h=f,v=m),0===n&&(b>t||t>g)){var y=b>t;
i=y?o:f,a=y?l:m}else{var x=3*(c-o),_=3*(h-c)-x,w=f-o-x-_,S=3*(d-l),M=3*(v-d)-S,C=m-l-S-M;
if(0===n)i=((w*t+_)*t+x)*t+o,a=((C*t+M)*t+S)*t+l;else{if(b>t?(i=x,a=S):t>g?(i=3*(f-h),
a=3*(m-v)):(i=(3*w*t+2*_)*t+x,a=(3*C*t+2*M)*t+S),r){0===i&&0===a&&(b>t||t>g)&&(i=h-c,
a=v-d);var R=Math.sqrt(i*i+a*a);R&&(i/=R,a/=R)}if(3===n){var k=6*w*t+2*_,E=6*C*t+2*M,A=Math.pow(i*i+a*a,1.5);
i=0!==A?(i*E-a*k)/A:0,a=0}}}return 2===n?new u(a,-i):new u(i,a)}return{statics:{getLength:function(r,i,a){
if(i===t&&(i=0),a===t&&(a=1),0===i&&1===a&&E.isStraight(r)){var o=r[6]-r[0],l=r[7]-r[1];
return Math.sqrt(o*o+l*l)}var u=e(r);return s.integrate(u,i,a,n(i,a))},getParameterAt:function(r,i,a){
function o(e){return m+=s.integrate(h,a,e,n(a,e)),a=e,m-i}if(a===t&&(a=0>i?1:0),0===i)return a;
var l=Math.abs,u=i>0,c=u?a:0,d=u?1:a,h=e(r),v=s.integrate(h,c,d,n(c,d));if(l(i-v)<1e-12)return u?d:c;
if(l(i)>v)return null;var f=i/v,m=0;return s.findRoot(o,h,a+f,c,d,32,1e-12)},getPoint:function(e,t){
return r(e,t,0,!1)},getTangent:function(e,t){return r(e,t,1,!0)},getWeightedTangent:function(e,t){
return r(e,t,1,!1)},getNormal:function(e,t){return r(e,t,2,!0)},getWeightedNormal:function(e,t){
return r(e,t,2,!1)},getCurvature:function(e,t){return r(e,t,3,!1).x}}}},new function(){
function e(e,t,n,r,i,a,o,s,l,u,c){var d=!c&&t.excludeStart,h=!c&&t.excludeEnd,v=4e-7,f=1-v;
if(null==i&&(i=E.getParameterOf(n,a)),null!==i&&i>=(d?v:0)&&(h?f:1)>=i&&(null==l&&(l=E.getParameterOf(o,u)),
null!==l&&l>=(h?v:0)&&(d?f:1)>=l)){var m=t.renormalize;if(m){var b=m(i,l);i=b[0],
l=b[1]}var g=new A(r,i,a||E.getPoint(n,i),c),p=new A(s,l,u||E.getPoint(o,l),c),y=g.getPath()===p.getPath()&&g.getIndex()>p.getIndex(),x=y?p:g,_=t.include;
g._intersection=p,p._intersection=g,_&&!_(x)||A.insert(e,x,!0)}}function t(i,a,o,s,l,u,c,d,h,v,f,m){
if(!(++m>=26)){var g,p,y=a[0],x=a[1],_=a[6],w=a[7],S=b.getSignedDistance,M=S(y,x,_,w,a[2],a[3]),C=S(y,x,_,w,a[4],a[5]),R=M*C>0?.75:4/9,k=R*Math.min(0,M,C),A=R*Math.max(0,M,C),P=S(y,x,_,w,i[0],i[1]),T=S(y,x,_,w,i[2],i[3]),L=S(y,x,_,w,i[4],i[5]),$=S(y,x,_,w,i[6],i[7]),j=n(P,T,L,$),N=j[0],O=j[1];
if((0!==M||0!==C||0!==P||0!==T||0!==L||0!==$)&&null!=(g=r(N,O,k,A))&&null!=(p=r(N.reverse(),O.reverse(),k,A))){
var V=c+(d-c)*g,z=c+(d-c)*p;if(Math.max(v-h,z-V)<1e-7){var D=(V+z)/2,G=(h+v)/2;i=o.getValues(),
a=s.getValues(),e(l,u,f?a:i,f?s:o,f?G:D,null,f?i:a,f?o:s,f?D:G,null)}else if(i=E.getPart(i,g,p),
p-g>.8)if(z-V>v-h){var I=E.subdivide(i,.5),D=(V+z)/2;t(a,I[0],s,o,l,u,h,v,V,D,!f,m),
t(a,I[1],s,o,l,u,h,v,D,z,!f,m)}else{var I=E.subdivide(a,.5),G=(h+v)/2;t(I[0],i,s,o,l,u,h,G,V,z,!f,m),
t(I[1],i,s,o,l,u,G,v,V,z,!f,m)}else t(a,i,s,o,l,u,h,v,V,z,!f,m)}}}function n(e,t,n,r){
var i,a=[0,e],o=[1/3,t],s=[2/3,n],l=[1,r],u=t-(2*e+r)/3,c=n-(e+2*r)/3;if(0>u*c)i=[[a,o,l],[a,s,l]];else{
var d=u/c;i=[d>=2?[a,o,l]:.5>=d?[a,s,l]:[a,o,s,l],[a,l]]}return 0>(u||c)?i.reverse():i;
}function r(e,t,n,r){return e[0][1]<n?i(e,!0,n):t[0][1]>r?i(t,!1,r):e[0][0]}function i(e,t,n){
for(var r=e[0][0],i=e[0][1],a=1,o=e.length;o>a;a++){var s=e[a][0],l=e[a][1];if(t?l>=n:n>=l)return l===n?s:r+(n-i)*(s-r)/(l-i);
r=s,i=l}return null}function a(t,n,r,i,a,o){for(var l=E.isStraight(t),u=l?n:t,c=l?t:n,d=c[0],h=c[1],v=c[6],f=c[7],m=v-d,b=f-h,g=Math.atan2(-b,m),p=Math.sin(g),y=Math.cos(g),x=[],_=0;8>_;_+=2){
var w=u[_]-d,S=u[_+1]-h;x.push(w*y-S*p,w*p+S*y)}for(var M=[],C=E.solveCubic(x,1,0,M,0,1),_=0;C>_;_++){
var R=M[_],k=E.getPoint(u,R),A=E.getParameterOf(c,k);if(null!==A){var P=E.getPoint(c,A),T=l?A:R,L=l?R:A;
(!o.excludeEnd||L>s.CURVETIME_EPSILON)&&e(a,o,t,r,T,l?P:k,n,i,L,l?k:P)}}}function o(t,n,r,i,a,o){
var s=b.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);s&&e(a,o,t,r,null,s,n,i,null,s);
}return{statics:{_getIntersections:function(n,r,i,s,l,c){if(!r)return E._getSelfIntersection(n,i,l,c);
var d=2e-7,h=n[0],v=n[1],f=n[6],m=n[7],b=r[0],g=r[1],p=r[6],y=r[7],x=(3*n[2]+h)/4,_=(3*n[3]+v)/4,w=(3*n[4]+f)/4,S=(3*n[5]+m)/4,M=(3*r[2]+b)/4,C=(3*r[3]+g)/4,R=(3*r[4]+p)/4,k=(3*r[5]+y)/4,A=Math.min,P=Math.max;
if(!(P(h,x,w,f)+d>A(b,M,R,p)&&A(h,x,w,f)-d<P(b,M,R,p)&&P(v,_,S,m)+d>A(g,C,k,y)&&A(v,_,S,m)-d<P(g,C,k,y)))return l;
var T=E.getOverlaps(n,r);if(T){for(var L=0;2>L;L++){var $=T[L];e(l,c,n,i,$[0],null,r,s,$[1],null,!0);
}return l}var j=E.isStraight(n),N=E.isStraight(r),O=j&&N,V=l.length;if((O?o:j||N?a:t)(n,r,i,s,l,c,0,1,0,1,0,0),
O&&l.length>V)return l;var z=new u(h,v),D=new u(f,m),G=new u(b,g),I=new u(p,y);return z.isClose(G,d)&&e(l,c,n,i,0,z,r,s,0,G),
!c.excludeStart&&z.isClose(I,d)&&e(l,c,n,i,0,z,r,s,1,I),!c.excludeEnd&&D.isClose(G,d)&&e(l,c,n,i,1,D,r,s,0,G),
D.isClose(I,d)&&e(l,c,n,i,1,D,r,s,1,I),l},_getSelfIntersection:function(e,t,n,r){
var i=e[0],a=e[1],o=e[2],l=e[3],c=e[4],d=e[5],h=e[6],v=e[7],f=new b(i,a,h,v,!1),m=f.getSide(new u(o,l),!0),g=f.getSide(new u(c,d),!0);
if(m===g){var p=(i-c)*(l-v)+(o-h)*(d-a);if(p*m>0)return n}var y=h-3*c+3*o-i,x=c-2*o+i,_=o-i,w=v-3*d+3*l-a,S=d-2*l+a,M=l-a,C=w*_-y*M,R=w*x-y*S,k=S*_-x*M;
if(0>C*C-4*R*k){var A,P=[],T=s.solveCubic(y*y+w*w,3*(y*x+w*S),2*(x*x+S*S)+y*_+w*M,x*_+S*M,P,0,1);
if(T>0){for(var L=0,$=0;T>L;L++){var j=Math.abs(t.getCurvatureAt(P[L],!0));j>$&&($=j,
A=P[L])}var N=E.subdivide(e,A);r.excludeEnd=!0,r.renormalize=function(e,t){return[e*A,t*(1-A)+A];
},E._getIntersections(N[0],N[1],t,t,n,r)}}return n},getOverlaps:function(e,t){function n(e){
var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var r=Math.abs,i=4e-7,a=2e-7,o=E.isStraight(e),s=E.isStraight(t),l=o&&s,c=n(e)<n(t),d=c?t:e,h=c?e:t,v=new b(d[0],d[1],d[6],d[7]);
if(v.getDistance(new u(h[0],h[1]))<a&&v.getDistance(new u(h[6],h[7]))<a)!l&&v.getDistance(new u(d[2],d[3]))<a&&v.getDistance(new u(d[4],d[5]))<a&&v.getDistance(new u(h[2],h[3]))<a&&v.getDistance(new u(h[4],h[5]))<a&&(o=s=l=!0);else if(l)return null;
if(o^s)return null;for(var f=[e,t],m=[],g=0,p=0;2>g&&m.length<2;g+=0===p?0:1,p=1^p){
var y=E.getParameterOf(f[1^g],new u(f[g][0===p?0:6],f[g][0===p?1:7]));if(null!=y){
var x=0===g?[p,y]:[y,p];(0===m.length||r(x[0]-m[0][0])>i&&r(x[1]-m[0][1])>i)&&m.push(x);
}if(1===g&&0===m.length)break}if(2!==m.length)m=null;else if(!l){var _=E.getPart(e,m[0][0],m[1][0]),w=E.getPart(t,m[0][1],m[1][1]);
(r(w[2]-_[2])>a||r(w[3]-_[3])>a||r(w[4]-_[4])>a||r(w[5]-_[5])>a)&&(m=null)}return m;
}}}}),A=n.extend({_class:"CurveLocation",beans:!0,initialize:function he(e,t,n,r,i){
if(t>.9999996){var a=e.getNext();a&&(t=0,e=a)}this._id=l.get(he),this._setCurve(e),
this._parameter=t,this._point=n||e.getPointAt(t,!0),this._overlap=r,this._distance=i,
this._intersection=this._next=this._prev=null},_setCurve:function(e){var t=e._path;
this._path=t,this._version=t?t._version:0,this._curve=e,this._segment=null,this._segment1=e._segment1,
this._segment2=e._segment2},_setSegment:function(e){this._setCurve(e.getCurve()),
this._segment=e,this._parameter=e===this._segment1?0:1,this._point=e._point.clone();
},getSegment:function(){var e=this.getCurve(),t=this._segment;if(!t){var n=this.getParameter();
0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),
this._segment=t}return t},getCurve:function(){function e(e){var t=e&&e.getCurve();
return t&&null!=(n._parameter=t.getParameterOf(n._point))?(n._setCurve(t),n._segment=e,
t):void 0}var t=this._path,n=this;return t&&t._version!==this._version&&(this._parameter=this._curve=this._offset=null),
this._curve||e(this._segment)||e(this._segment1)||e(this._segment2.getPrevious());
},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){
var e=this.getCurve();return e&&e.getIndex()},getParameter:function(){var e=this.getCurve(),t=this._parameter;
return e&&null==t?this._parameter=e.getParameterOf(this._point):t},getPoint:function(){
return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();
if(t&&null!=n)for(var r=t.getCurves(),i=0;n>i;i++)e+=r[i].getLength();this._offset=e+=this.getCurveOffset();
}return e},getCurveOffset:function(){var e=this.getCurve(),t=this.getParameter();return null!=t&&e&&e.getPartLength(0,t);
},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance;
},divide:function(){var e=this.getCurve(),t=null;return e&&(t=e.divide(this.getParameter(),!0),
t&&this._setSegment(t._segment1)),t},split:function(){var e=this.getCurve();return e?e.split(this.getParameter(),!0):null;
},equals:function(e,t){var n=this===e,r=2e-7;if(!n&&e instanceof A&&this.getPath()===e.getPath()&&this.getPoint().isClose(e.getPoint(),r)){
var i=this.getCurve(),a=e.getCurve(),o=Math.abs,s=o((i.isLast()&&a.isFirst()?-1:i.getIndex())+this.getParameter()-((a.isLast()&&i.isFirst()?-1:a.getIndex())+e.getParameter()));
n=(4e-7>s||(s=o(this.getOffset()-e.getOffset()))<r||o(this.getPath().getLength()-s)<r)&&(t||!this._intersection&&!e._intersection||this._intersection&&this._intersection.equals(e._intersection,!0));
}return n},toString:function(){var e=[],t=this.getPoint(),n=o.instance;t&&e.push("point: "+t);
var r=this.getIndex();null!=r&&e.push("index: "+r);var i=this.getParameter();return null!=i&&e.push("parameter: "+n.number(i)),
null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }";
},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){
var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()));
}return!1},isCrossing:function(){function e(e,t,n){return n>t?e>t&&n>e:e>t&&180>=e||e>=-180&&n>e;
}var t=this._intersection;if(!t)return!1;var n=this.getParameter(),r=t.getParameter(),i=4e-7,a=1-i,o=n>i&&a>n,s=r>i&&a>r;
if(o&&s)return!this.isTouching();var l=this.getCurve(),u=i>=n?l.getPrevious():l,c=t.getCurve(),d=i>=r?c.getPrevious():c;
if(n>=a&&(l=l.getNext()),r>=a&&(c=c.getNext()),!(u&&l&&d&&c))return!1;if(o||s){var h=o?l:c;
if(h.isStraight()){var v=h.getLine(),f=o?d:u,m=o?c:l,b=f.isStraight(),g=m.isStraight();
if(b||g)return b&&v.intersect(f.getLine())||g&&v.intersect(m.getLine())}}var p=l.getTangentAt(o?n:i,!0),y=(o?p:u.getTangentAt(a,!0)).negate(),x=c.getTangentAt(s?r:i,!0),_=(s?x:d.getTangentAt(a,!0)).negate(),w=y.getAngle(),S=p.getAngle(),M=_.getAngle(),C=x.getAngle();
return!!(o?e(w,M,C)^e(S,M,C)&&e(w,C,M)^e(S,C,M):e(M,w,S)^e(C,w,S)&&e(M,S,w)^e(C,S,w));
},hasOverlap:function(){return!!this._overlap}},n.each(E.evaluateMethods,function(e){
var t=e+"At";this[e]=function(){var e=this.getParameter(),n=this.getCurve();return null!=e&&n&&n[t](e,!0);
}},{preserve:!0}),new function(){function e(e,t,n){function r(n,r){for(var a=n+r;a>=-1&&i>=a;a+=r){
var o=e[(a%i+i)%i];if(!t.getPoint().isClose(o.getPoint(),2e-7))break;if(t.equals(o))return o;
}return null}for(var i=e.length,a=0,o=i-1;o>=a;){var s=a+o>>>1,l=e[s],u=void 0;if(n&&(u=t.equals(l)?l:r(s,-1)||r(s,1)))return t._overlap&&(u._overlap=u._intersection._overlap=!0),
u;var c=t.getPath(),d=l.getPath(),h=c===d?t.getIndex()+t.getParameter()-(l.getIndex()+l.getParameter()):c._id-d._id;
0>h?o=s-1:a=s+1}return e.splice(a,0,t),t}return{statics:{insert:e,expand:function(t){
for(var n=t.slice(),r=t.length-1;r>=0;r--)e(n,t[r]._intersection,!1);return n}}}}),P=y.extend({
_class:"PathItem",_canScaleStroke:!0,initialize:function(){},getIntersections:function(e,t,n,r){
var i=this===e||!e,a=this._matrix.orNullIfIdentity(),o=i?a:(n||e._matrix).orNullIfIdentity();
if(!i&&!this.getBounds(a).touches(e.getBounds(o)))return[];for(var s,e,l=this.getCurves(),u=i?l:e.getCurves(),c=l.length,d=i?c:u.length,h=[],v=[],f=0;d>f;f++)h[f]=u[f].getValues(o);
for(var f=0;c>f;f++){var m=l[f],b=i?h[f]:m.getValues(a),g=m.getPath();g!==e&&(e=g,
s=[],v.push(s)),i&&E._getSelfIntersection(b,m,s,{include:t,excludeStart:1===c&&m.getPoint1().equals(m.getPoint2())
});for(var p=i?f+1:0;d>p;p++){if(r&&s.length)return s;var y=u[p];E._getIntersections(b,h[p],m,y,s,{
include:t,excludeStart:i&&m.getPrevious()===y,excludeEnd:i&&m.getNext()===y})}}s=[];
for(var f=0,x=v.length;x>f;f++)s.push.apply(s,v[f]);return s},getCrossings:function(e){
return this.getIntersections(e,function(e){return e._overlap||e.isCrossing()})},_asPathItem:function(){
return this},setPathData:function(e){function t(e,t){var n=+r[e];return s&&(n+=l[t]),
n}function n(e){return new u(t(e,"x"),t(e+1,"y"))}var r,i,a,o=e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),s=!1,l=new u,c=new u;
this.clear();for(var h=0,v=o&&o.length;v>h;h++){var f=o[h],m=f[0],b=m.toLowerCase();
r=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=r&&r.length;switch(s=m===b,
"z"!==i||/[mz]/.test(b)||this.moveTo(l=c),b){case"m":case"l":for(var p="m"===b,y=0;g>y;y+=2)this[0===y&&p?"moveTo":"lineTo"](l=n(y));
a=l,p&&(c=l);break;case"h":case"v":for(var x="h"===b?"x":"y",y=0;g>y;y++)l[x]=t(y,x),
this.lineTo(l);a=l;break;case"c":for(var y=0;g>y;y+=6)this.cubicCurveTo(n(y),a=n(y+2),l=n(y+4));
break;case"s":for(var y=0;g>y;y+=4)this.cubicCurveTo(/[cs]/.test(i)?l.multiply(2).subtract(a):l,a=n(y),l=n(y+2)),
i=b;break;case"q":for(var y=0;g>y;y+=4)this.quadraticCurveTo(a=n(y),l=n(y+2));break;
case"t":for(var y=0;g>y;y+=2)this.quadraticCurveTo(a=/[qt]/.test(i)?l.multiply(2).subtract(a):l,l=n(y)),
i=b;break;case"a":for(var y=0;g>y;y+=7)this.arcTo(l=n(y+5),new d(+r[y],+r[y+1]),+r[y+2],+r[y+4],+r[y+3]);
break;case"z":this.closePath(!0)}i=b}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke());
},_contains:function(e){var t=e.isInside(this.getInternalHandleBounds())&&this._getWinding(e);
return!!("evenodd"===this.getFillRule()?1&t:t)}}),T=P.extend({_class:"Path",_serializeFields:{
segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;
var n=Array.isArray(e)?"object"===$traceurRuntime["typeof"](e[0])?e:arguments:!e||e.size!==t||e.x===t&&e.point===t?null:arguments;
n&&n.length>0?this.setSegments(n):(this._curves=t,this._selectedSegmentState=0,n||"string"!=typeof e||(this.setPathData(e),
e=null)),this._initialize(!n&&e)},_equals:function(e){return this._closed===e._closed&&n.equals(this._segments,e._segments);
},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed;var n=e._clockwise;
n!==t&&(this._clockwise=n)},_changed:function ve(e){if(ve.base.call(this,e),8&e){
if(this._length=this._area=this._clockwise=this._monoCurves=t,16&e)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;r>n;n++)this._curves[n]._changed();
}else 32&e&&(this._bounds=t)},getStyle:function(){var e=this._parent;return(e instanceof L?e:this)._style;
},getSegments:function(){return this._segments},setSegments:function(e){var n=this.isFullySelected();
this._segments.length=0,this._selectedSegmentState=0,this._curves=t,e&&e.length>0&&this._add(R.readAll(e)),
n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0];
},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){
var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);
for(var r=0;n>r;r++)e[r]=new E(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){
return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1];
},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){
if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new E(this,this._segments[t-1],this._segments[0]));
}this._changed(25)}}},{beans:!0,getPathData:function(e,t){function n(t,n){t._transformCoordinates(e,m,!1),
r=m[0],i=m[1],b?(g.push("M"+f.pair(r,i)),b=!1):(l=m[2],u=m[3],l===r&&u===i&&c===a&&d===s?n||g.push("l"+f.pair(r-a,i-s)):g.push("c"+f.pair(c-a,d-s)+" "+f.pair(l-a,u-s)+" "+f.pair(r-a,i-s))),
a=r,s=i,c=m[4],d=m[5]}var r,i,a,s,l,u,c,d,h=this._segments,v=h.length,f=new o(t),m=new Array(6),b=!0,g=[];
if(0===v)return"";for(var p=0;v>p;p++)n(h[p]);return this._closed&&v>0&&(n(h[0],!0),
g.push("z")),g.join("")}},{isEmpty:function(){return 0===this._segments.length},_transformContent:function(e){
for(var t=this._segments,n=new Array(6),r=0,i=t.length;i>r;r++)t[r]._transformCoordinates(e,n,!0);
return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,a=null==t,t=a?n.length:t,o=0;i>o;o++){
var s=e[o];s._path&&(s=e[o]=s.clone()),s._path=this,s._index=t+o,s._selectionState&&this._updateSelection(s,0,s._selectionState);
}if(a)n.push.apply(n,e);else{n.splice.apply(n,[t,0].concat(e));for(var o=t+i,l=n.length;l>o;o++)n[o]._index=o;
}if(r){var u=this._countCurves(),c=t>0&&t+i-1===u?t-1:t,d=c,h=Math.min(c+i,u);e._curves&&(r.splice.apply(r,[c,0].concat(e._curves)),
d+=e._curves.length);for(var o=d;h>o;o++)r.splice(o,0,new E(this,null,null));this._adjustCurves(c,h);
}return this._changed(25),e},_adjustCurves:function(e,t){for(var n,r=this._segments,i=this._curves,a=e;t>a;a++)n=i[a],
n._path=this,n._segment1=r[a],n._segment2=r[a+1]||r[0],n._changed();(n=i[this._closed&&0===e?r.length-1:e-1])&&(n._segment2=r[e]||r[0],
n._changed()),(n=i[t])&&(n._segment1=r[t],n._changed())},_countCurves:function(){
var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){return arguments.length>1&&"number"!=typeof e?this._add(R.readAll(arguments)):this._add([R.read(arguments)])[0];
},insert:function(e,t){return arguments.length>2&&"number"!=typeof t?this._add(R.readAll(arguments,1),e):this._add([R.read(arguments,1)],e)[0];
},addSegment:function(){return this._add([R.read(arguments)])[0]},insertSegment:function(e){
return this._add([R.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(R.readAll(e));
},insertSegments:function(e,t){return this._add(R.readAll(t),e)},removeSegment:function(e){
return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,r){e=e||0,
t=n.pick(t,this._segments.length);var i=this._segments,a=this._curves,o=i.length,s=i.splice(e,t-e),l=s.length;
if(!l)return s;for(var u=0;l>u;u++){var c=s[u];c._selectionState&&this._updateSelection(c,c._selectionState,0),
c._index=c._path=null}for(var u=e,d=i.length;d>u;u++)i[u]._index=u;if(a){for(var h=e>0&&t===o+(this._closed?1:0)?e-1:e,a=a.splice(h,l),u=a.length-1;u>=0;u--)a[u]._path=null;
r&&(s._curves=a.slice(1)),this._adjustCurves(h,h)}return this._changed(25),s},clear:"#removeSegments",
hasHandles:function(){for(var e=this._segments,t=0,n=e.length;n>t;t++)if(e[t].hasHandles())return!0;
return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;n>t;t++)e[t].clearHandles();
},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,r=e.length;r>n;n++)t+=e[n].getLength();
this._length=t}return this._length},getArea:function(){if(null==this._area){for(var e=this._segments,t=e.length,n=t-1,r=0,i=0,a=this._closed?t:n;a>i;i++)r+=E.getArea(E.getValues(e[i],e[n>i?i+1:0]));
this._area=r}return this._area},isClockwise:function(){return this._clockwise!==t?this._clockwise:this.getArea()>=0;
},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse(),this._clockwise=e;
},isFullySelected:function(){var e=this._segments.length;return this._selected&&e>0&&this._selectedSegmentState===7*e;
},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelected:function fe(e){
e||this._selectSegments(!1),fe.base.call(this,e)},_selectSegments:function(e){var t=this._segments.length;
this._selectedSegmentState=e?7*t:0;for(var n=0;t>n;n++)this._segments[n]._selectionState=e?7:0;
},_updateSelection:function(e,t,n){e._selectionState=n;var r=this._selectedSegmentState+=n-t;
r>0&&this.setSelected(!0)},flatten:function(e){for(var t=new $(this,64,.1),n=0,r=t.length/Math.ceil(t.length/e),i=t.length+(this._closed?-r:r)/2,a=[];i>=n;)a.push(new R(t.getPointAt(n))),
n+=r;this.setSegments(a)},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,r=n?2e-7:0,i=t.length-1;i>=0;i--){
var a=t[i];!a.hasHandles()&&(a.getLength()<r||n&&a.isCollinear(a.getNext()))&&a.remove();
}return this},simplify:function(e){if(this._segments.length>2){var t=new j(this,e||2.5);
this.setSegments(t.fit())}},split:function(e,t){if(null===t)return null;if(1===arguments.length){
var n=e;if("number"==typeof n&&(n=this.getLocationAt(n)),!n)return null;e=n.index,
t=n.parameter}var r=4e-7,i=1-r;t>=i&&(e++,t--);var a=this.getCurves();if(e>=0&&e<a.length){
t>=r&&a[e++].divide(t,!0);var o,s=this.removeSegments(e,this._segments.length,!0);
return this._closed?(this.setClosed(!1),o=this):(o=new T(y.NO_INSERT),o.insertAbove(this,!0),
o.copyAttributes(this)),o._add(s,0),this.addSegment(s[0]),o}return null},reverse:function(){
this._segments.reverse();for(var e=0,n=this._segments.length;n>e;e++){var r=this._segments[e],i=r._handleIn;
r._handleIn=r._handleOut,r._handleOut=i,r._index=e}this._curves=null,this._clockwise!==t&&(this._clockwise=!this._clockwise),
this._changed(9)},join:function(e){if(e){var t=e._segments,n=this.getLastSegment(),r=e.getLastSegment();
if(!r)return this;n&&n._point.equals(r._point)&&e.reverse();var i=e.getFirstSegment();
if(n&&n._point.equals(i._point))n.setHandleOut(i._handleOut),this._add(t.slice(1));else{
var a=this.getFirstSegment();a&&a._point.equals(i._point)&&e.reverse(),r=e.getLastSegment(),
a&&a._point.equals(r._point)?(a.setHandleIn(r._handleIn),this._add(t.slice(0,t.length-1),0)):this._add(t.slice());
}e._closed&&this._add([t[0]]),e.remove()}var o=this.getFirstSegment(),s=this.getLastSegment();
return o!==s&&o._point.equals(s._point)&&(o.setHandleIn(s._handleIn),s.remove(),this.setClosed(!0)),
this},toShape:function(e){function n(e,t){var n=h[e],r=n.getNext(),i=h[t],a=i.getNext();
return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&a._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(a._point.subtract(i._point));
}function r(e){var t=h[e],n=t.getPrevious(),r=t.getNext();return n._handleOut.isZero()&&t._handleIn.isZero()&&t._handleOut.isZero()&&r._handleIn.isZero()&&t._point.subtract(n._point).isOrthogonal(r._point.subtract(t._point));
}function i(e){var t=h[e],n=t.getNext(),r=t._handleOut,i=n._handleIn,a=.5522847498307936;
if(r.isOrthogonal(i)){var o=t._point,l=n._point,u=new b(o,r,!0).intersect(new b(l,i,!0),!0);
return u&&s.isZero(r.getLength()/u.subtract(o).getLength()-a)&&s.isZero(i.getLength()/u.subtract(l).getLength()-a);
}return!1}function a(e,t){return h[e]._point.getDistance(h[t]._point)}if(!this._closed)return null;
var o,l,u,c,h=this._segments;if(!this.hasHandles()&&4===h.length&&n(0,2)&&n(1,3)&&r(1)?(o=w.Rectangle,
l=new d(a(0,3),a(0,1)),c=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&i(0)&&i(2)&&i(4)&&i(6)&&n(1,5)&&n(3,7)?(o=w.Rectangle,
l=new d(a(1,6),a(0,3)),u=l.subtract(new d(a(0,7),a(1,2))).divide(2),c=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&i(0)&&i(1)&&i(2)&&i(3)&&(s.isZero(a(0,2)-a(1,3))?(o=w.Circle,
u=a(0,2)/2):(o=w.Ellipse,u=new d(a(2,0)/2,a(3,1)/2)),c=h[1]._point),o){var v=this.getPosition(!0),f=new o({
center:v,size:l,radius:u,insert:!1});return f.copyAttributes(this,!0),f._matrix.preConcatenate(this._matrix),
f.rotate(c.subtract(v).getAngle()+90),(e===t||e)&&f.insertAbove(this),f}return null;
},toPath:"#clone",_hitTestSelf:function(e,t){function n(t,n){return e.subtract(t).divide(n).length<=1;
}function r(e,r,i){if(!t.selected||r.isSelected()){var a=e._point;if(r!==a&&(r=r.add(a)),
n(r,x))return new C(i,f,{segment:e,point:r})}}function i(e,n){return(n||t.segments)&&r(e,e._point,"segment")||!n&&t.handles&&(r(e,e._handleIn,"handle-in")||r(e,e._handleOut,"handle-out"));
}function a(e){d.add(e)}function o(t){if(("round"!==s||"round"!==l)&&(d=new T({internal:!0,
closed:!0}),p||t._index>0&&t._index<g-1?"round"!==s&&(t._handleIn.isZero()||t._handleOut.isZero())&&T._addBevelJoin(t,s,M,c,a,!0):"round"!==l&&T._addSquareCap(t,l,M,a,!0),
!d.isEmpty())){var r;return d.contains(e)||(r=d.getNearestLocation(e))&&n(r.getPoint(),y);
}return n(t._point,x)}var s,l,c,d,h,v,f=this,m=this.getStyle(),b=this._segments,g=b.length,p=this._closed,y=t._tolerancePadding,x=y,_=t.stroke&&m.hasStroke(),w=t.fill&&m.hasFill(),S=t.curves,M=_?m.getStrokeWidth()/2:w&&t.tolerance>0||S?0:null;
if(null!==M&&(M>0?(s=m.getStrokeJoin(),l=m.getStrokeCap(),c=M*m.getMiterLimit(),x=y.add(new u(M,M))):s=l="round"),
!t.ends||t.segments||p){if(t.segments||t.handles)for(var R=0;g>R;R++)if(v=i(b[R]))return v;
}else if(v=i(b[0],!0)||i(b[g-1],!0))return v;if(null!==M){if(h=this.getNearestLocation(e)){
var k=h.getParameter();0===k||1===k&&g>1?o(h.getSegment())||(h=null):n(h.getPoint(),x)||(h=null);
}if(!h&&"miter"===s&&g>1)for(var R=0;g>R;R++){var E=b[R];if(e.getDistance(E._point)<=c&&o(E)){
h=E.getLocation();break}}}return!h&&w&&this._contains(e)||h&&!_&&!S?new C("fill",this):h?new C(_?"stroke":"curve",this,{
location:h,point:h.getPoint()}):null}},n.each(E.evaluateMethods,function(e){this[e+"At"]=function(t,n){
var r=this.getLocationAt(t,n);return r&&r[e]()}},{beans:!1,getLocationOf:function(){
for(var e=u.read(arguments),t=this.getCurves(),n=0,r=t.length;r>n;n++){var i=t[n].getLocationOf(e);
if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);
return e?e.getOffset():null},getLocationAt:function(e,t){var n=this.getCurves(),r=0;
if(t){var i=~~e,a=n[i];return a?a.getLocationAt(e-i,!0):null}for(var o=0,s=n.length;s>o;o++){
var l=r,a=n[o];if(r+=a.getLength(),r>e)return a.getLocationAt(e-l)}return n.length>0&&e<=this.getLength()?new A(n[n.length-1],1):null;
},getNearestLocation:function(){for(var e=u.read(arguments),t=this.getCurves(),n=1/0,r=null,i=0,a=t.length;a>i;i++){
var o=t[i].getNearestLocation(e);o._distance<n&&(n=o._distance,r=o)}return r},getNearestPoint:function(){
return this.getNearestLocation.apply(this,arguments).getPoint()},smooth:function(e){
function n(e,t){var n=e&&e.index;if(null!=n){var i=e.path;if(i&&i!==r)throw new Error(e._class+" "+n+" of "+i+" is not part of "+r);
t&&e instanceof E&&n++}else n="number"==typeof e?e:t;return Math.min(0>n&&l?n%s:0>n?n+s:n,s-1);
}var r=this,i=e||{},a=i.type||"asymmetric",o=this._segments,s=o.length,l=this._closed,u=l&&i.from===t&&i.to===t,c=n(i.from,0),d=n(i.to,s-1);
if(c>d)if(l)c-=s;else{var h=c;c=d,d=h}if(/^(?:asymmetric|continuous)$/.test(a)){var v="asymmetric"===a,f=Math.min,m=d-c+1,b=m-1,g=u?f(m,4):1,p=g,y=g,x=[];
if(l||(p=f(1,c),y=f(1,s-d-1)),b+=p+y,1>=b)return;for(var _=0,w=c-p;b>=_;_++,w++)x[_]=o[(0>w?w+s:w)%s]._point;
for(var S=x[0]._x+2*x[1]._x,M=x[0]._y+2*x[1]._y,C=2,R=b-1,k=[S],A=[M],P=[C],T=[],L=[],_=1;b>_;_++){
var $=R>_,j=$?1:v?1:2,N=$?4:v?2:7,O=$?4:v?3:8,V=$?2:v?0:1,z=j/C;C=P[_]=N-z,S=k[_]=O*x[_]._x+V*x[_+1]._x-z*S,
M=A[_]=O*x[_]._y+V*x[_+1]._y-z*M}T[R]=k[R]/P[R],L[R]=A[R]/P[R];for(var _=b-2;_>=0;_--)T[_]=(k[_]-T[_+1])/P[_],
L[_]=(A[_]-L[_+1])/P[_];T[b]=(3*x[b]._x-T[R])/2,L[b]=(3*x[b]._y-L[R])/2;for(var _=p,D=b-y,w=c;D>=_;_++,
w++){var G=o[0>w?w+s:w],I=G._point,B=T[_]-I._x,U=L[_]-I._y;(u||D>_)&&G.setHandleOut(B,U),
(u||_>p)&&G.setHandleIn(-B,-U)}}else for(var _=c;d>=_;_++)o[0>_?_+s:_].smooth(i,!u&&_===c,!u&&_===d);
}}),new function(){function t(e,t,n,r){function i(t){var n=o[t],r=o[t+1];d==n&&h==r||(e.beginPath(),
e.moveTo(d,h),e.lineTo(n,r),e.stroke(),e.beginPath(),e.arc(n,r,a,0,2*Math.PI,!0),
e.fill())}for(var a=r/2,o=new Array(6),s=0,l=t.length;l>s;s++){var u=t[s];u._transformCoordinates(n,o,!1);
var c=u._selectionState,d=o[0],h=o[1];if(1&c&&i(2),2&c&&i(4),e.fillRect(d-a,h-a,r,r),
!(4&c)){var v=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(d-a+1,h-a+1,r-2,r-2),e.fillStyle=v;
}}}function n(e,t,n){function r(t){if(n)t._transformCoordinates(n,f,!1),i=f[0],a=f[1];else{
var r=t._point;i=r._x,a=r._y}if(m)e.moveTo(i,a),m=!1;else{if(n)l=f[2],u=f[3];else{
var h=t._handleIn;l=i+h._x,u=a+h._y}l===i&&u===a&&c===o&&d===s?e.lineTo(i,a):e.bezierCurveTo(c,d,l,u,i,a);
}if(o=i,s=a,n)c=f[4],d=f[5];else{var h=t._handleOut;c=o+h._x,d=s+h._y}}for(var i,a,o,s,l,u,c,d,h=t._segments,v=h.length,f=new Array(6),m=!0,b=0;v>b;b++)r(h[b]);
t._closed&&v>0&&r(h[0])}return{_draw:function(t,r,i){function a(e){return d[(e%h+h)%h];
}var o=r.dontStart,s=r.dontFinish||r.clip,l=this.getStyle(),u=l.hasFill(),c=l.hasStroke(),d=l.getDashArray(),h=!e.support.nativeDash&&c&&d&&d.length;
if(o||t.beginPath(),(u||c&&!h||s)&&(n(t,this,i),this._closed&&t.closePath()),!s&&(u||c)&&(this._setStyles(t),
u&&(t.fill(l.getFillRule()),t.shadowBlur=0),c)){if(h){o||t.beginPath();var v,f=new $(this,32,.25,i),m=f.length,b=-l.getDashOffset(),g=0;
for(b%=m;b>0;)b-=a(g--)+a(g--);for(;m>b;)v=b+a(g++),(b>0||v>0)&&f.drawPart(t,Math.max(b,0),Math.max(v,0)),
b=v+a(g++)}t.stroke()}},_drawSelected:function(r,i){r.beginPath(),n(r,this,i),r.stroke(),
t(r,this._segments,i,e.settings.handleSize)}}},new function(){function e(e){var t=e._segments;
if(0===t.length)throw new Error("Use a moveTo() command first");return t[t.length-1];
}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),
e.length||this._add([new R(u.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.");
},lineTo:function(){this._add([new R(u.read(arguments))])},cubicCurveTo:function(){
var t=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=e(this);i.setHandleOut(t.subtract(i._point)),
this._add([new R(r,n.subtract(r))])},quadraticCurveTo:function(){var t=u.read(arguments),n=u.read(arguments),r=e(this)._point;
this.cubicCurveTo(t.add(r.subtract(t).multiply(1/3)),t.add(n.subtract(t).multiply(1/3)),n);
},curveTo:function(){var t=u.read(arguments),r=u.read(arguments),i=n.pick(n.read(arguments),.5),a=1-i,o=e(this)._point,s=t.subtract(o.multiply(a*a)).subtract(r.multiply(i*i)).divide(2*i*a);
if(s.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);
this.quadraticCurveTo(s,r)},arcTo:function(){var t,r,i,a,o,s=e(this),l=s._point,c=u.read(arguments),h=n.peek(arguments),v=n.pick(h,!0);
if("boolean"==typeof v)var f=l.add(c).divide(2),t=f.add(f.subtract(l).rotate(v?-90:90));else if(n.remain(arguments)<=2)t=c,
c=u.read(arguments);else{var g=d.read(arguments);if(g.isZero())return this.lineTo(c);
var p=n.read(arguments),v=!!n.read(arguments),y=!!n.read(arguments),f=l.add(c).divide(2),x=l.subtract(f).rotate(-p),_=x.x,w=x.y,S=Math.abs,M=S(g.width),C=S(g.height),k=M*M,E=C*C,A=_*_,P=w*w,T=Math.sqrt(A/k+P/E);
if(T>1&&(M*=T,C*=T,k=M*M,E=C*C),T=(k*E-k*P-E*A)/(k*P+E*A),S(T)<1e-12&&(T=0),0>T)throw new Error("Cannot create an arc with the given arguments");
r=new u(M*w/C,-C*_/M).multiply((y===v?-1:1)*Math.sqrt(T)).rotate(p).add(f),o=(new m).translate(r).rotate(p).scale(M,C),
a=o._inverseTransform(l),i=a.getDirectedAngle(o._inverseTransform(c)),!v&&i>0?i-=360:v&&0>i&&(i+=360);
}if(t){var L=new b(l.add(t).divide(2),t.subtract(l).rotate(90),!0),$=new b(t.add(c).divide(2),c.subtract(t).rotate(90),!0),j=new b(l,c),N=j.getSide(t);
if(r=L.intersect($,!0),!r){if(!N)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments");
}a=l.subtract(r),i=a.getDirectedAngle(c.subtract(r));var O=j.getSide(r);0===O?i=N*Math.abs(i):N===O&&(i+=0>i?360:-360);
}for(var V=Math.abs(i),z=V>=360?4:Math.ceil(V/90),D=i/z,G=D*Math.PI/360,I=4/3*Math.sin(G)/(1+Math.cos(G)),B=[],U=0;z>=U;U++){
var x=c,H=null;if(z>U&&(H=a.rotate(90).multiply(I),o?(x=o._transformPoint(a),H=o._transformPoint(a.add(H)).subtract(x)):x=r.add(a)),
0===U)s.setHandleOut(H);else{var F=a.rotate(-90).multiply(I);o&&(F=o._transformPoint(a.add(F)).subtract(x)),
B.push(new R(x,F,H))}a=a.rotate(D)}this._add(B)},lineBy:function(){var t=u.read(arguments),n=e(this)._point;
this.lineTo(n.add(t))},curveBy:function(){var t=u.read(arguments),r=u.read(arguments),i=n.read(arguments),a=e(this)._point;
this.curveTo(a.add(t),a.add(r),i)},cubicCurveBy:function(){var t=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=e(this)._point;
this.cubicCurveTo(i.add(t),i.add(n),i.add(r))},quadraticCurveBy:function(){var t=u.read(arguments),n=u.read(arguments),r=e(this)._point;
this.quadraticCurveTo(r.add(t),r.add(n))},arcBy:function(){var t=e(this)._point,r=t.add(u.read(arguments)),i=n.pick(n.peek(arguments),!0);
"boolean"==typeof i?this.arcTo(r,i):this.arcTo(r,t.add(u.read(arguments)))},closePath:function(e){
this.setClosed(!0),e&&this.join()}}},{_getBounds:function(e,t){return T[e](this._segments,this._closed,this.getStyle(),t);
},statics:{getBounds:function(e,t,n,r,i){function a(e){e._transformCoordinates(r,s,!1);
for(var t=0;2>t;t++)E._addBounds(l[t],l[t+4],s[t+2],s[t],t,i?i[t]:0,u,c,d);var n=l;
l=s,s=n}var o=e[0];if(!o)return new v;for(var s=new Array(6),l=o._transformCoordinates(r,new Array(6),!1),u=l.slice(0,2),c=u.slice(),d=new Array(2),h=1,f=e.length;f>h;h++)a(e[h]);
return t&&a(o),new v(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,r){
function i(e){h=h.include(r?r._transformPoint(e,e):e)}function a(e){h=h.unite(g.setCenter(r?r._transformPoint(e._point):e._point));
}function o(e,t){var n=e._handleIn,r=e._handleOut;"round"===t||!n.isZero()&&!r.isZero()&&n.isCollinear(r)?a(e):T._addBevelJoin(e,t,u,b,i);
}function s(e,t){"round"===t?a(e):T._addSquareCap(e,t,u,i)}if(!n.hasStroke())return T.getBounds(e,t,n,r);
for(var l=e.length-(t?0:1),u=n.getStrokeWidth()/2,c=T._getPenPadding(u,r),h=T.getBounds(e,t,n,r,c),f=n.getStrokeJoin(),m=n.getStrokeCap(),b=u*n.getMiterLimit(),g=new v(new d(c).multiply(2)),p=1;l>p;p++)o(e[p],f);
return t?o(e[0],f):l>0&&(s(e[0],m),s(e[e.length-1],m)),h},_getPenPadding:function(e,t){
if(!t)return[e,e];var n=t.shiftless(),r=n.transform(new u(e,0)),i=n.transform(new u(0,e)),a=r.getAngleInRadians(),o=r.getLength(),s=i.getLength(),l=Math.sin(a),c=Math.cos(a),d=Math.tan(a),h=Math.atan2(s*d,o),v=Math.atan2(s,d*o);
return[Math.abs(o*Math.cos(h)*c+s*Math.sin(h)*l),Math.abs(s*Math.sin(v)*c+o*Math.cos(v)*l)];
},_addBevelJoin:function(e,t,n,r,i,a){var o=e.getCurve(),s=o.getPrevious(),l=o.getPointAt(0,!0),c=s.getNormalAt(1,!0),d=o.getNormalAt(0,!0),h=c.getDirectedAngle(d)<0?-n:n;
if(c.setLength(h),d.setLength(h),a&&(i(l),i(l.add(c))),"miter"===t){var v=new b(l.add(c),new u(-c.y,c.x),!0).intersect(new b(l.add(d),new u(-d.y,d.x),!0),!0);
if(v&&l.getDistance(v)<=r&&(i(v),!a))return}a||i(l.add(c)),i(l.add(d))},_addSquareCap:function(e,t,n,r,i){
var a=e._point,o=e.getLocation(),s=o.getNormal().multiply(n);i&&(r(a.subtract(s)),
r(a.add(s))),"square"===t&&(a=a.add(s.rotate(0===o.getParameter()?-90:90))),r(a.add(s)),
r(a.subtract(s))},getHandleBounds:function(e,t,n,r,i,a){for(var o=new Array(6),s=1/0,l=-s,u=s,c=l,d=0,h=e.length;h>d;d++){
var f=e[d];f._transformCoordinates(r,o,!1);for(var m=0;6>m;m+=2){var b=0===m?a:i,g=b?b[0]:0,p=b?b[1]:0,y=o[m],x=o[m+1],_=y-g,w=y+g,S=x-p,M=x+p;
s>_&&(s=_),w>l&&(l=w),u>S&&(u=S),M>c&&(c=M)}}return new v(s,u,l-s,c-u)},getRoughBounds:function(e,t,n,r){
var i=n.hasStroke()?n.getStrokeWidth()/2:0,a=i;return i>0&&("miter"===n.getStrokeJoin()&&(a=i*n.getMiterLimit()),
"square"===n.getStrokeCap()&&(a=Math.max(a,i*Math.sqrt(2)))),T.getHandleBounds(e,t,n,r,T._getPenPadding(i,r),T._getPenPadding(a,r));
}}});T.inject({statics:new function(){function e(e,t,r){var i=n.getNamed(r),a=new T(i&&i.insert===!1&&y.NO_INSERT);
return a._add(e),a._closed=t,a.set(i)}function t(t,n,r){for(var a=new Array(4),o=0;4>o;o++){
var s=i[o];a[o]=new R(s._point.multiply(n).add(t),s._handleIn.multiply(n),s._handleOut.multiply(n));
}return e(a,!0,r)}var r=.5522847498307936,i=[new R([-1,0],[0,r],[0,-r]),new R([0,-1],[-r,0],[r,0]),new R([1,0],[0,-r],[0,r]),new R([0,1],[r,0],[-r,0])];
return{Line:function(){return e([new R(u.readNamed(arguments,"from")),new R(u.readNamed(arguments,"to"))],!1,arguments);
},Circle:function(){var e=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"radius");
return t(e,new d(r),arguments)},Rectangle:function(){var t,n=v.readNamed(arguments,"rectangle"),i=d.readNamed(arguments,"radius",0,{
readNull:!0}),a=n.getBottomLeft(!0),o=n.getTopLeft(!0),s=n.getTopRight(!0),l=n.getBottomRight(!0);
if(!i||i.isZero())t=[new R(a),new R(o),new R(s),new R(l)];else{i=d.min(i,n.getSize(!0).divide(2));
var u=i.width,c=i.height,h=u*r,f=c*r;t=[new R(a.add(u,0),null,[-h,0]),new R(a.subtract(0,c),[0,f]),new R(o.add(0,c),null,[0,-f]),new R(o.add(u,0),[-h,0],null),new R(s.subtract(u,0),null,[h,0]),new R(s.add(0,c),[0,-f],null),new R(l.subtract(0,c),null,[0,f]),new R(l.subtract(u,0),[h,0])];
}return e(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=w._readEllipse(arguments);
return t(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=u.readNamed(arguments,"from"),t=u.readNamed(arguments,"through"),r=u.readNamed(arguments,"to"),i=n.getNamed(arguments),a=new T(i&&i.insert===!1&&y.NO_INSERT);
return a.moveTo(e),a.arcTo(t,r),a.set(i)},RegularPolygon:function(){for(var t=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"sides"),i=n.readNamed(arguments,"radius"),a=360/r,o=r%3===0,s=new u(0,o?-i:i),l=o?-1:.5,c=new Array(r),d=0;r>d;d++)c[d]=new R(t.add(s.rotate((d+l)*a)));
return e(c,!0,arguments)},Star:function(){for(var t=u.readNamed(arguments,"center"),r=2*n.readNamed(arguments,"points"),i=n.readNamed(arguments,"radius1"),a=n.readNamed(arguments,"radius2"),o=360/r,s=new u(0,-1),l=new Array(r),c=0;r>c;c++)l[c]=new R(t.add(s.rotate(o*c).multiply(c%2?a:i)));
return e(l,!0,arguments)}}}});var L=P.extend({_class:"CompoundPath",_serializeFields:{
children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments));
},insertChildren:function me(e,n,r){for(var i=n.length-1;i>=0;i--){var a=n[i];a instanceof L&&(n.splice.apply(n,[i,1].concat(a.removeChildren())),
a.remove())}n=me.base.call(this,e,n,r,T);for(var i=0,o=!r&&n&&n.length;o>i;i++){var a=n[i];
a._clockwise===t&&a.setClockwise(0===a._index)}return n},reverse:function(){for(var e=this._children,t=0,n=e.length;n>t;t++)e[t].reverse();
},reduce:function be(e){for(var t=this._children,n=t.length-1;n>=0;n--){var r=t[n].reduce(e);
r.isEmpty()&&r.remove()}if(0===t.length){var r=new T(y.NO_INSERT);return r.copyAttributes(this),
r.insertAbove(this),this.remove(),r}return be.base.call(this)},smooth:function(e){
for(var t=this._children,n=0,r=t.length;r>n;n++)t[n].smooth(e)},isClockwise:function(){
var e=this.getFirstChild();return e&&e.isClockwise()},setClockwise:function(e){this.isClockwise()!==!!e&&this.reverse();
},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment();
},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment();
},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;r>n;n++)t.push.apply(t,e[n].getCurves());
return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve();
},getLastCurve:function(){var e=this.getLastChild();return e&&e.getFirstCurve()},
getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;r>n;n++)t+=e[n].getArea();
return t}},{beans:!0,getPathData:function(e,t){for(var n=this._children,r=[],i=0,a=n.length;a>i;i++){
var o=n[i],s=o._matrix;r.push(o.getPathData(e&&!s.isIdentity()?e.chain(s):e,t))}return r.join(" ");
}},{_getChildHitTestOptions:function(e){return e["class"]===T||"path"===e.type?e:new n(e,{
fill:!1})},_draw:function(e,t,n){var r=this._children;if(0!==r.length){t=t.extend({
dontStart:!0,dontFinish:!0}),e.beginPath();for(var i=0,a=r.length;a>i;i++)r[i].draw(e,t,n);
if(!t.clip){this._setStyles(e);var o=this._style;o.hasFill()&&(e.fill(o.getFillRule()),
e.shadowBlur=0),o.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,a=r.length;a>i;i++){
var o=r[i],s=o._matrix;n[o._id]||o._drawSelected(e,s.isIdentity()?t:t.chain(s))}}
},new function(){function e(e,t){var n=e._children;if(t&&0===n.length)throw new Error("Use a moveTo() command first");
return n[n.length-1]}var t={moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new T(y.NO_INSERT);
n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),r=u.read(arguments);
this.moveTo(n?r.add(n._point):r)},closePath:function(t){e(this,!0).closePath(t)}};
return n.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(n){
t[n]=function(){var t=e(this,!0);t[n].apply(t,arguments)}}),t});P.inject(new function(){
function e(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return t?n.resolveCrossings():n;
}function t(e,t,n){return e.insertAbove(n&&t.isSibling(n)&&t.getIndex()<n.getIndex()?n:t),
e.copyAttributes(t,!0),e}function r(e,t,n){var r=new e(y.NO_INSERT);return r.addChildren(t,!0),
n&&(r=r.reduce({simplify:!0})),r}function i(n,i,o){function s(e){for(var t=0,n=e.length;n>t;t++){
var r=e[t];b.push.apply(b,r._segments),g.push.apply(g,r._getMonoCurves())}}var u=v[o];
if(u[o]=!0,!n._children&&!n._closed)return a(n,i,u);var c=e(n,!0),f=i&&n!==i&&e(i,!0);
f&&(u.subtract||u.exclude)^f.isClockwise()!==c.isClockwise()&&f.reverse();var m=l(A.expand(c.getCrossings(f))),b=[],g=[],p=!0,x=!0;
s(c._children||[c]),f&&s(f._children||[f]);for(var _=0,w=m.length;w>_;_++)d(m[_]._segment,c,f,g,u);
for(var _=0,w=b.length;w>_;_++){var S=b[_],M=S._intersection;null==S._winding&&d(S,c,f,g,u),
M&&M._overlap||(p=!1,u[S._winding]&&(x=!1))}return t(p?(u.unite||u.intersect)&&n.getArea()?n.clone(!1):new T(y.NO_INSERT):r(L,h(b,u,x),!p),n,i);
}function a(n,i,a){function o(e){return l.contains(e.getPointAt(e.getLength()/2))^c?(d.unshift(e),
!0):void 0}if(!i||!i._children&&!i._closed||!a.subtract&&!a.intersect)return null;
for(var s=e(n,!1),l=e(i,!1),u=s.getCrossings(l),c=a.subtract,d=[],h=u.length-1;h>=0;h--){
var v=u[h].split();v&&(o(v)&&v.getFirstSegment().setHandleIn(0,0),s.getLastSegment().setHandleOut(0,0));
}return o(s),t(r(x,d),n,i)}function o(e,t){for(var n=e;n;){if(n===t)return;n=n._prev;
}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._prev;)t=t._prev;e._next=t,
t._prev=e}}function l(e,t){for(var n,r,i=t&&[],a=4e-7,s=1-a,l=!1,u=[],c=e.length-1;c>=0;c--){
var d=e[c];if(t){if(!t(d))continue;i.unshift(d)}var h=d._curve,v=d._parameter,f=v,m=void 0;
if(h!==n?l=!h.hasHandles():r>0&&(v/=r),a>v)m=h._segment1;else if(v>s)m=h._segment2;else{
var b=h.divide(v,!0,!0);l&&u.push(h,b),m=b._segment1}d._setSegment(m);var g=m._intersection,p=d._intersection;
if(g){o(g,p);for(var y=g;y;)o(y._intersection,g),y=y._next}else m._intersection=p;
n=h,r=f}for(var c=0,x=u.length;x>c;c++)u[c].clearHandles();return i||e}function c(e,t,n){
var r=2e-7,i=e.x,a=e.y,o=0,s=0,l=t.length,d=[],h=Math.abs;if(n){for(var v=-(1/0),f=1/0,m=a-r,b=a+r,g=0;l>g;g++)for(var p=t[g].values,y=E.solveCubic(p,0,i,d,0,1),x=y-1;x>=0;x--){
var _=E.getPoint(p,d[x]).y;m>_&&_>v?v=_:_>b&&f>_&&(f=_)}v=(v+a)/2,f=(f+a)/2,v>-(1/0)&&(o=c(new u(i,v),t)),
1/0>f&&(s=c(new u(i,f),t))}else for(var w,S=i-r,M=i+r,C=0;l>C;){w=C;var R=t[w],k=R.last,A=k.winding,P=k.values[6];
C=w+R.length;for(var g=w;C>g;g++){var R=t[g],T=R.winding,p=R.values,L=p[1],$=p[7];
if(T&&(a>=L&&$>=a||a>=$&&L>=a)){var j=a===L?p[0]:a===$?p[6]:1===E.solveCubic(p,1,a,d,0,1)?E.getPoint(p,d[0]).x:null;
if(null!=j){var N=T===-A;(a!==L||N||0>(j-i)*(P-i))&&(S>j?o+=T:j>M?s+=T:a===L&&N&&(++o,
++s))}A=T,P=p[6]}}}return Math.max(h(o),h(s))}function d(e,t,n,r,i){var a=[],o=e,s=0,l=0;
do{var u=e.getCurve(),d=u.getLength();a.push({segment:e,curve:u,length:d}),s+=d,e=e.getNext();
}while(e&&!e._intersection&&e!==o);for(var h=0;3>h;h++)for(var d=s*(h+1)/4,v=0,f=a.length;f>v;v++){
var m=a[v],b=m.length;if(b>=d){var u=m.curve,g=u._path,p=g._parent,y=u.getParameterAt(d),x=u.getPointAt(y,!0),_=Math.abs(u.getTangentAt(y,!0).y)<1e-7;
p instanceof L&&(g=p),i.subtract&&n&&(g===t&&n._getWinding(x,_)||g===n&&!t._getWinding(x,_))||(l+=c(x,r,_));
break}d-=b}for(var w=Math.round(l/3),v=a.length-1;v>=0;v--)a[v].segment._winding=w;
}function h(e,t,n){function r(e){return!(e._visited||t&&!t[e._winding])}function i(e){
return e===o||e===l}function a(e,n){if(!e._next)return e;for(;e;){var a=e._segment,o=a.getNext(),s=o._intersection;
if(i(a)||i(o)||!a._visited&&!o._visited&&(!t||(!n||r(a))&&(!(n&&s&&s._overlap)&&r(o)||!n&&s&&r(s._segment))))return e;
e=e._next}return null}for(var o,l,u=[],c=0,d=e.length;d>c;c++){var h=null,v=!1,f=e[c],m=f._intersection,b=void 0;
if(!(!r(f)||!n&&m&&f._winding&&m._overlap)){for(o=l=null;;){b=h&&f._handleIn,m=m&&(a(m,!0)||a(m,!1))||m;
var g=m&&m._segment;if(i(f)?v=!0:g&&(i(g)?(v=!0,f=g):r(g)&&(t&&t.intersect&&m._overlap&&(f._visited=!0),
f=g)),v||f._visited){f._visited=!0;break}if(n&&!r(f))break;h||(h=new T(y.NO_INSERT),
o=f,l=g),h.add(new R(f._point,b,f._handleOut)),f._visited=!0,f=f.getNext(),m=f._intersection;
}if(v)h.firstSegment.setHandleIn(b),h.setClosed(!0);else if(h){var p=h.getLength();
p>=2e-7&&console.error("Boolean operation resulted in open path","segments =",h._segments.length,"length =",p),
h=null}h&&(h._segments.length>8||!s.isZero(h.getArea()))&&(u.push(h),h=null)}}return u;
}var v={unite:{0:!0,1:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0}};return{
_getWinding:function(e,t){return c(e,this._getMonoCurves(),t)},unite:function(e){
return i(this,e,"unite")},intersect:function(e){return i(this,e,"intersect")},subtract:function(e){
return i(this,e,"subtract")},exclude:function(e){return i(this,e,"exclude")},divide:function(e){
return t(r(x,[this.subtract(e),this.intersect(e)],!0),this,e)},resolveCrossings:function(){
function e(e){var t=e&&e._intersection;return t&&t._overlap}var t=this._children,r=t||[this],i=!1,a=!1,o=this.getIntersections(null,function(e){
return e._overlap&&(i=!0)||e.isCrossing()&&(a=!0)});if(o=A.expand(o),i)for(var s=l(o,function(e){
return e._overlap}),u=s.length-1;u>=0;u--){var c=s[u]._segment,d=c.getPrevious(),v=c.getNext();
if(c._path&&e(d)&&e(v)){c.remove(),d._handleOut.set(0,0),v._handleIn.set(0,0);var f=d.getCurve();
f.isStraight()&&0===f.getLength()&&d.remove()}}a&&(l(o,i&&function(e){var t=e.getCurve(),n=e._intersection._curve,r=e._segment;
return t&&n&&t._path&&n._path?!0:void(r&&(r._intersection=null))}),r=h(n.each(r,function(e){
this.push.apply(this,e._segments)},[])));var m,b=r.length;if(b>1){r=r.slice().sort(function(e,t){
return t.getBounds().getArea()-e.getBounds().getArea()});for(var g=r[0],p=[g],x={},_="nonzero"===this.getFillRule(),w=_&&n.each(r,function(e){
this.push(e.isClockwise()?1:-1)},[]),u=1;b>u;u++){for(var S=r[u],M=S.getInteriorPoint(),C=!1,R=null,k=!1,E=u-1;E>=0&&!R;E--)if(r[E].contains(M)){
if(_&&!C&&(w[u]+=w[E],w[u]&&w[E])){k=x[u]=!0;break}C=!0,R=!x[E]&&r[E]}k||(S.setClockwise(R?!R.isClockwise():g.isClockwise()),
p.push(S))}r=p,b=p.length}return b>1&&t?(r!==t&&this.setChildren(r,!0),m=this):1!==b||t||(r[0]!==this&&this.setSegments(r[0].removeSegments()),
m=this),m||(m=new L(y.NO_INSERT),m.addChildren(r,!0),m=m.reduce(),m.copyAttributes(this),
this.replaceWith(m)),m}}}),T.inject({_getMonoCurves:function(){function e(e){var t=e[1],i=e[7],a=Math.abs((t-i)/(e[0]-e[6]))<2e-7?0:t>i?-1:1,o={
values:e,winding:a};r.push(o),a&&(n=o)}function t(t){if(0!==E.getLength(t)){var n=t[1],r=t[3],i=t[5],a=t[7];
if(E.isStraight(t)||n>=r==r>=i&&r>=i==i>=a)e(t);else{var o=3*(r-i)-n+a,l=2*(n+i)-4*r,u=r-n,c=4e-7,d=1-c,h=[],v=s.solveQuadratic(o,l,u,h,c,d);
if(0===v)e(t);else{h.sort();var f=h[0],m=E.subdivide(t,f);e(m[0]),v>1&&(f=(h[1]-f)/(1-f),
m=E.subdivide(m[1],f),e(m[0])),e(m[1])}}}}var n,r=this._monoCurves;if(!r){r=this._monoCurves=[];
for(var i=this.getCurves(),a=this._segments,o=0,l=i.length;l>o;o++)t(i[o].getValues());
if(!this._closed&&a.length>1){var u=a[a.length-1]._point,c=a[0]._point,d=u._x,h=u._y,v=c._x,f=c._y;
t([d,h,d,h,v,f,v,f])}if(r.length>0){var m=r[0];m.length=r.length,m.last=n}}return r;
},getInteriorPoint:function(){var e=this.getBounds(),t=e.getCenter(!0);if(!this.contains(t)){
for(var n=this._getMonoCurves(),r=[],i=t.y,a=[],o=0,s=n.length;s>o;o++){var l=n[o].values;
if(1===n[o].winding&&i>=l[1]&&i<=l[7]||i>=l[7]&&i<=l[1])for(var u=E.solveCubic(l,1,i,r,0,1),c=u-1;c>=0;c--)a.push(E.getPoint(l,r[c]).x);
if(a.length>1)break}t.x=(a[0]+a[1])/2}return t}}),L.inject({_getMonoCurves:function(){
for(var e=this._children,t=[],n=0,r=e.length;r>n;n++)t.push.apply(t,e[n]._getMonoCurves());
return t}});var $=n.extend({_class:"PathIterator",initialize:function(e,t,n,r){function i(e,t){
var n=E.getValues(e,t,r);s.push(n),a(n,e._index,0,1)}function a(e,t,r,i){if(i-r>c&&!E.isFlatEnough(e,n||.25)){
var o=E.subdivide(e,.5),s=(r+i)/2;a(o[0],t,r,s),a(o[1],t,s,i)}else{var d=e[6]-e[0],h=e[7]-e[1],v=Math.sqrt(d*d+h*h);
v>1e-6&&(u+=v,l.push({offset:u,value:i,index:t}))}}for(var o,s=[],l=[],u=0,c=1/(t||32),d=e._segments,h=d[0],v=1,f=d.length;f>v;v++)o=d[v],
i(h,o),h=o;e._closed&&i(o,d[0]),this.curves=s,this.parts=l,this.length=u,this.index=0;
},getParameterAt:function(e){for(var t,n=this.index;t=n,!(0===n||this.parts[--n].offset<e););
for(var r=this.parts.length;r>t;t++){var i=this.parts[t];if(i.offset>=e){this.index=t;
var a=this.parts[t-1],o=a&&a.index==i.index?a.value:0,s=a?a.offset:0;return{value:o+(i.value-o)*(e-s)/(i.offset-s),
index:i.index}}}var i=this.parts[this.parts.length-1];return{value:1,index:i.index
}},drawPart:function(e,t,n){t=this.getParameterAt(t),n=this.getParameterAt(n);for(var r=t.index;r<=n.index;r++){
var i=E.getPart(this.curves[r],r==t.index?t.value:0,r==n.index?n.value:1);r==t.index&&e.moveTo(i[0],i[1]),
e.bezierCurveTo.apply(e,i.slice(2))}}},n.each(E.evaluateMethods,function(e){this[e+"At"]=function(t,n){
var r=this.getParameterAt(t);return E[e](this.curves[r.index],r.value,n)}},{})),j=n.extend({
initialize:function(e,t){for(var n,r=this.points=[],i=e._segments,a=0,o=i.length;o>a;a++){
var s=i[a].point.clone();n&&n.equals(s)||(r.push(s),n=s)}e._closed&&(this.closed=!0,
r.unshift(r[r.length-1]),r.push(r[1])),this.error=t},fit:function(){var e=this.points,t=e.length,n=this.segments=t>0?[new R(e[0])]:[];
return t>1&&this.fitCubic(0,t-1,e[1].subtract(e[0]).normalize(),e[t-2].subtract(e[t-1]).normalize()),
this.closed&&(n.shift(),n.pop()),n},fitCubic:function(e,t,n,r){if(t-e==1){var i=this.points[e],a=this.points[t],o=i.getDistance(a)/3;
return void this.addCurve([i,i.add(n.normalize(o)),a.add(r.normalize(o)),a])}for(var s,l=this.chordLengthParameterize(e,t),u=Math.max(this.error,this.error*this.error),c=!0,d=0;4>=d;d++){
var h=this.generateBezier(e,t,l,n,r),v=this.findMaxError(e,t,h,l);if(v.error<this.error&&c)return void this.addCurve(h);
if(s=v.index,v.error>=u)break;c=this.reparameterize(e,t,l,h),u=v.error}var f=this.points[s-1].subtract(this.points[s]),m=this.points[s].subtract(this.points[s+1]),b=f.add(m).divide(2).normalize();
this.fitCubic(e,s,n,b),this.fitCubic(s,t,b.negate(),r)},addCurve:function(e){var t=this.segments[this.segments.length-1];
t.setHandleOut(e[1].subtract(e[0])),this.segments.push(new R(e[3],e[2].subtract(e[3])));
},generateBezier:function(e,t,n,r,i){for(var a=1e-12,o=this.points[e],s=this.points[t],l=[[0,0],[0,0]],u=[0,0],c=0,d=t-e+1;d>c;c++){
var h=n[c],v=1-h,f=3*h*v,m=v*v*v,b=f*v,g=f*h,p=h*h*h,y=r.normalize(b),x=i.normalize(g),_=this.points[e+c].subtract(o.multiply(m+b)).subtract(s.multiply(g+p));
l[0][0]+=y.dot(y),l[0][1]+=y.dot(x),l[1][0]=l[0][1],l[1][1]+=x.dot(x),u[0]+=y.dot(_),
u[1]+=x.dot(_)}var w,S,M=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(Math.abs(M)>a){var C=l[0][0]*u[1]-l[1][0]*u[0],R=u[0]*l[1][1]-u[1]*l[0][1];
w=R/M,S=C/M}else{var k=l[0][0]+l[0][1],E=l[1][0]+l[1][1];w=S=Math.abs(k)>a?u[0]/k:Math.abs(E)>a?u[1]/E:0;
}var A,P,T=s.getDistance(o),L=a*T;if(L>w||L>S)w=S=T/3;else{var $=s.subtract(o);A=r.normalize(w),
P=i.normalize(S),A.dot($)-P.dot($)>T*T&&(w=S=T/3,A=P=null)}return[o,o.add(A||r.normalize(w)),s.add(P||i.normalize(S)),s];
},reparameterize:function(e,t,n,r){for(var i=e;t>=i;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e]);
for(var i=1,a=n.length;a>i;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(e,t,n){
for(var r=[],i=[],a=0;2>=a;a++)r[a]=e[a+1].subtract(e[a]).multiply(3);for(var a=0;1>=a;a++)i[a]=r[a+1].subtract(r[a]).multiply(2);
var o=this.evaluate(3,e,n),s=this.evaluate(2,r,n),l=this.evaluate(1,i,n),u=o.subtract(t),c=s.dot(s)+u.dot(l);
return Math.abs(c)<1e-6?n:n-u.dot(s)/c},evaluate:function(e,t,n){for(var r=t.slice(),i=1;e>=i;i++)for(var a=0;e-i>=a;a++)r[a]=r[a].multiply(1-n).add(r[a+1].multiply(n));
return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;t>=r;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);
for(var r=1,i=t-e;i>=r;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),a=0,o=e+1;t>o;o++){
var s=this.evaluate(3,n,r[o-e]),l=s.subtract(this.points[o]),u=l.x*l.x+l.y*l.y;u>=a&&(a=u,
i=o)}return{error:a,index:i}}}),N=y.extend({_class:"TextItem",_boundsSelected:!0,
_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",
initialize:function(e){this._content="",this._lines=[];var r=e&&n.isPlainObject(e)&&e.x===t&&e.y===t;
this._initialize(r&&e,!r&&u.read(arguments))},_equals:function(e){return this._content===e._content;
},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content;
},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),
this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",
setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"
}),O=N.extend({_class:"PointText",initialize:function(){N.apply(this,arguments)},
getPoint:function(){var e=this._matrix.getTranslation();return new c(e.x,e.y,this,"setPoint");
},setPoint:function(){var e=u.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()));
},_draw:function(e){if(this._content){this._setStyles(e);var t=this._lines,n=this._style,r=n.hasFill(),i=n.hasStroke(),a=n.getLeading(),o=e.shadowBlur;
e.font=n.getFontStyle(),e.textAlign=n.getJustification();for(var s=0,l=t.length;l>s;s++){
e.shadowBlur=o;var u=t[s];r&&(e.fillText(u,0,0),e.shadowBlur=0),i&&e.strokeText(u,0,0),
e.translate(0,a)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,a=n.getJustification(),o=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),r),l=0;
"left"!==a&&(l-=s/("center"===a?2:1));var u=new v(l,i?-.75*o:0,s,i*o);return t?t._transformBounds(u,u):u;
}}),V=n.extend(new function(){function e(e){var n,r=e.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);
if(r){n=[0,0,0];for(var i=0;3>i;i++){var o=r[i+1];n[i]=parseInt(1==o.length?o+o:o,16)/255;
}}else if(r=e.match(/^rgba?\((.*)\)$/)){n=r[1].split(",");for(var i=0,s=n.length;s>i;i++){
var o=+n[i];n[i]=3>i?o/255:o}}else{var l=a[e];if(!l){t||(t=J.getContext(1,1),t.globalCompositeOperation="copy"),
t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var u=t.getImageData(0,0,1,1).data;
l=a[e]=[u[0]/255,u[1]/255,u[2]/255]}n=l.slice()}return n}var t,r={gray:["gray"],rgb:["red","green","blue"],
hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]
},i={},a={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(e,t,n){
var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=0===a?0:60*(r==e?(t-n)/a+(n>t?6:0):r==t?(n-e)/a+2:(e-t)/a+4);
return[o,0===r?0:a/r,r]},"hsb-rgb":function(e,t,n){e=(e/60%6+6)%6;var r=Math.floor(e),i=e-r,r=s[r],a=[n,n*(1-t),n*(1-t*i),n*(1-t*(1-i))];
return[a[r[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=0===a,s=o?0:60*(r==e?(t-n)/a+(n>t?6:0):r==t?(n-e)/a+2:(e-t)/a+4),l=(r+i)/2,u=o?0:.5>l?a/(r+i):a/(2-r-i);
return[s,u,l]},"hsl-rgb":function(e,t,n){if(e=(e/360%1+1)%1,0===t)return[n,n,n];for(var r=[e+1/3,e,e-1/3],i=.5>n?n*(1+t):n+t-n*t,a=2*n-i,o=[],s=0;3>s;s++){
var l=r[s];0>l&&(l+=1),l>1&&(l-=1),o[s]=1>6*l?a+6*(i-a)*l:1>2*l?i:2>3*l?a+(i-a)*(2/3-l)*6:a;
}return o},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){
return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e];
},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return n.each(r,function(e,t){
i[t]=[],n.each(e,function(e,a){var o=n.capitalize(e),s=/^(hue|saturation)$/.test(e),l=i[t][a]="gradient"===e?function(e){
var t=this._components[0];return e=z.read(Array.isArray(e)?e:arguments,0,{readNull:!0
}),t!==e&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:"gradient"===t?function(){
return u.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:e;
};this["get"+o]=function(){return this._type===t||s&&/^hs[bl]$/.test(this._type)?this._components[a]:this._convert(t)[a];
},this["set"+o]=function(e){this._type===t||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(t),
this._properties=r[t],this._type=t),this._components[a]=l.call(this,e),this._changed();
}},this)},{_class:"Color",_readIndex:!0,initialize:function d(t){var n,a,o,s,u=Array.prototype.slice,c=arguments,h=0;
Array.isArray(t)&&(c=t,t=c[0]);var v=null!=t&&("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t));
if("string"===v&&t in r&&(n=t,t=c[1],Array.isArray(t)?(a=t,o=c[2]):(this.__read&&(h=1),
c=u.call(c,1),v="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))),
!a){if(s="number"===v?c:"object"===v&&null!=t.length?t:null){n||(n=s.length>=3?"rgb":"gray");
var f=r[n].length;o=s[f],this.__read&&(h+=s===arguments?f+(null!=o?1:0):1),s.length>f&&(s=u.call(s,0,f));
}else if("string"===v)n="rgb",a=e(t),4===a.length&&(o=a[3],a.length--);else if("object"===v)if(t.constructor===d){
if(n=t._type,a=t._components.slice(),o=t._alpha,"gradient"===n)for(var m=1,b=a.length;b>m;m++){
var g=a[m];g&&(a[m]=g.clone())}}else if(t.constructor===z)n="gradient",s=c;else{n="hue"in t?"lightness"in t?"hsl":"hsb":"gradient"in t||"stops"in t||"radial"in t?"gradient":"gray"in t?"gray":"rgb";
var p=r[n],y=i[n];this._components=a=[];for(var m=0,b=p.length;b>m;m++){var x=t[p[m]];
null==x&&0===m&&"gradient"===n&&"stops"in t&&(x={stops:t.stops,radial:t.radial}),
x=y[m].call(this,x),null!=x&&(a[m]=x)}o=t.alpha}this.__read&&n&&(h=1)}if(this._type=n||"rgb",
this._id=l.get(d),!a){this._components=a=[];for(var y=i[this._type],m=0,b=y.length;b>m;m++){
var x=y[m].call(this,s&&s[m]);null!=x&&(a[m]=x)}}this._components=a,this._properties=r[this._type],
this._alpha=o,this.__read&&(this.__read=h)},_serialize:function(e,t){var r=this.getComponents();
return n.serialize(/^(gray|rgb)$/.test(this._type)?r:[this._type].concat(r),e,!0,t);
},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65);
},_convert:function(e){var t;return this._type===e?this._components.slice():(t=c[this._type+"-"+e])?t.apply(this,this._components):c["rgb-"+e].apply(this,c[this._type+"-rgb"].apply(this,this._components));
},convert:function(e){return new V(e,this._convert(e),this._alpha)},getType:function(){
return this._type},setType:function(e){this._components=this._convert(e),this._properties=r[e],
this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),
e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){
this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){
return null!=this._alpha},equals:function(e){var t=n.isPlainValue(e,!0)?V.read(arguments):e;
return t===this||t&&this._class===t._class&&this._type===t._type&&this._alpha===t._alpha&&n.equals(this._components,t._components)||!1;
},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,r=o.instance,i=0,a=e.length;a>i;i++){
var s=this._components[i];null!=s&&t.push(e[i]+": "+(n?s:r.number(s)))}return null!=this._alpha&&t.push("alpha: "+r.number(this._alpha)),
"{ "+t.join(", ")+" }"},toCSS:function(e){function t(e){return Math.round(255*(0>e?0:e>1?1:e));
}var n=this._convert("rgb"),r=e||null==this._alpha?1:this._alpha;return n=[t(n[0]),t(n[1]),t(n[2])],
1>r&&n.push(0>r?0:r),e?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")";
},toCanvasStyle:function(e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();
var t,n=this._components,r=n[0],i=r._stops,a=n[1],o=n[2];if(r._radial){var s=o.getDistance(a),l=n[3];
if(l){var u=l.subtract(a);u.getLength()>s&&(l=a.add(u.normalize(s-.1)))}var c=l||a;
t=e.createRadialGradient(c.x,c.y,0,a.x,a.y,s)}else t=e.createLinearGradient(a.x,a.y,o.x,o.y);
for(var d=0,h=i.length;h>d;d++){var v=i[d];t.addColorStop(v._rampPoint,v._color.toCanvasStyle());
}return this._canvasStyle=t},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,r=t.length;r>n;n++){
var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:r,random:function(){
var e=Math.random;return new V(e(),e(),e())}}})},new function(){var e={add:function(e,t){
return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},
divide:function(e,t){return e/t}};return n.each(e,function(e,t){this[t]=function(t){
t=V.read(arguments);for(var n=this._type,r=this._components,i=t._convert(n),a=0,o=r.length;o>a;a++)i[a]=e(r[a],i[a]);
return new V(n,i,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})}),z=n.extend({
_class:"Gradient",initialize:function(e,t){this._id=l.get(),e&&this._set(e)&&(e=t=null),
this._stops||this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1);
},_serialize:function(e,t){return t.add(this,function(){return n.serialize([this._stops,this._radial],e,!0,t);
})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;t>e;e++)this._owners[e]._changed();
},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){
var n=this._owners?this._owners.indexOf(e):-1;-1!=n&&(this._owners.splice(n,1),0===this._owners.length&&(this._owners=t));
},clone:function(){for(var e=[],t=0,n=this._stops.length;n>t;t++)e[t]=this._stops[t].clone();
return new z(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){
if(this.stops)for(var n=0,r=this._stops.length;r>n;n++)this._stops[n]._owner=t;if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");
this._stops=D.readAll(e,0,{clone:!0});for(var n=0,r=this._stops.length;r>n;n++){var i=this._stops[n];
i._owner=this,i._defaultRamp&&i.setRampPoint(n/(r-1))}this._changed()},getRadial:function(){
return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){
if(e===this)return!0;if(e&&this._class===e._class&&this._stops.length===e._stops.length){
for(var t=0,n=this._stops.length;n>t;t++)if(!this._stops[t].equals(e._stops[t]))return!1;
return!0}return!1}}),D=n.extend({_class:"GradientStop",initialize:function(e,n){if(e){
var r,i;n===t&&Array.isArray(e)?(r=e[0],i=e[1]):e.color?(r=e.color,i=e.rampPoint):(r=e,
i=n),this.setColor(r),this.setRampPoint(i)}},clone:function(){return new D(this._color.clone(),this._rampPoint);
},_serialize:function(e,t){return n.serialize([this._color,this._rampPoint],e,!0,t);
},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){
return this._rampPoint},setRampPoint:function(e){this._defaultRamp=null==e,this._rampPoint=e||0,
this._changed()},getColor:function(){return this._color},setColor:function(e){this._color=V.read(arguments),
this._color===e&&(this._color=e.clone()),this._color._owner=this,this._changed()},
equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._rampPoint==e._rampPoint||!1;
}}),G=n.extend(new function(){var e={fillColor:t,fillRule:"nonzero",strokeColor:t,
strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,
dashOffset:0,dashArray:[],shadowColor:t,shadowBlur:0,shadowOffset:new u,selectedColor:t,
fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,
justification:"left"},r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,
miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9
},i={beans:!0},a={_defaults:e,_textDefaults:new n(e,{fillColor:new V}),beans:!0};return n.each(e,function(e,o){
var s=/Color$/.test(o),l="shadowOffset"===o,c=n.capitalize(o),d=r[o],h="set"+c,v="get"+c;
a[h]=function(e){var n=this._owner,r=n&&n._children;if(r&&r.length>0&&!(n instanceof L))for(var i=0,a=r.length;a>i;i++)r[i]._style[h](e);else{
var l=this._values[o];l!==e&&(s&&(l&&(l._owner=t),e&&e.constructor===V&&(e._owner&&(e=e.clone()),
e._owner=n)),this._values[o]=e,n&&n._changed(d||65))}},a[v]=function(e){var r,i=this._owner,a=i&&i._children;
if(!a||0===a.length||e||i instanceof L){var r=this._values[o];if(r===t)r=this._defaults[o],
r&&r.clone&&(r=r.clone());else{var c=s?V:l?u:null;!c||r&&r.constructor===c||(this._values[o]=r=c.read([r],0,{
readNull:!0,clone:!0}),r&&s&&(r._owner=i))}return r}for(var d=0,h=a.length;h>d;d++){
var f=a[d]._style[v]();if(0===d)r=f;else if(!n.equals(r,f))return t}return r},i[v]=function(e){
return this._style[v](e)},i[h]=function(e){this._style[h](e)}}),n.each({Font:"FontFamily",
WindingRule:"FillRule"},function(e,t){var n="get"+t,r="set"+t;a[n]=i[n]="#get"+e,
a[r]=i[r]="#set"+e}),y.inject(i),a},{_class:"Style",initialize:function(t,n,r){this._values={},
this._owner=n,this._project=n&&n._project||r||e.project,n instanceof N&&(this._defaults=this._textDefaults),
t&&this.set(t)},set:function(e){var t=e instanceof G,n=t?e._values:e;if(n)for(var r in n)if(r in this._defaults){
var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}},equals:function(e){return e===this||e&&this._class===e._class&&n.equals(this._values,e._values)||!1;
},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0;
},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){
return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily();
},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function ge(){var e=ge.base.call(this),t=this.getFontSize();
return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),null!=e?e:1.2*t}}),I=new function(){
function e(e,t,n,r){for(var i=["","webkit","moz","Moz","ms","o"],a=t[0].toUpperCase()+t.substring(1),o=0;6>o;o++){
var s=i[o],l=s?s+a:t;if(l in e){if(!n)return e[l];e[l]=r;break}}}return{getStyles:function(e){
var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"");
},getBounds:function(e,t){var n,r=e.ownerDocument,i=r.body,a=r.documentElement;try{
n=e.getBoundingClientRect()}catch(o){n={left:0,top:0,width:0,height:0}}var s=n.left-(a.clientLeft||i.clientLeft||0),l=n.top-(a.clientTop||i.clientTop||0);
if(!t){var u=r.defaultView;s+=u.pageXOffset||a.scrollLeft||i.scrollLeft,l+=u.pageYOffset||a.scrollTop||i.scrollTop;
}return new v(s,l,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;
return new v(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){
return I.getBounds(e,t).getPoint()},getSize:function(e){return I.getBounds(e,!0).getSize();
},isInvisible:function(e){return I.getSize(e).equals(new d(0,0))},isInView:function(e){
return!I.isInvisible(e)&&I.getViewportBounds(e).intersects(I.getBounds(e,!0))},isInserted:function(e){
return document.body.contains(e)},getPrefixed:function(t,n){return e(t,n)},setPrefixed:function(t,n,r){
if("object"===("undefined"==typeof n?"undefined":$traceurRuntime["typeof"](n)))for(var i in n)e(t,i,!0,n[i]);else e(t,n,!0,r);
}}},B={add:function(e,t){for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;o>a;a++)e.addEventListener(i[a],r,!1);
},remove:function(e,t){for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;o>a;a++)e.removeEventListener(i[a],r,!1);
},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;
return new u(t.pageX||t.clientX+document.documentElement.scrollLeft,t.pageY||t.clientY+document.documentElement.scrollTop);
},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){
return e.relatedTarget||e.toElement},getOffset:function(e,t){return B.getPoint(e).subtract(I.getOffset(t||B.getTarget(e)));
}};B.requestAnimationFrame=new function(){function e(){for(var t=a.length-1;t>=0;t--){
var s=a[t],l=s[0],u=s[1];(!u||("true"==i.getAttribute(u,"keepalive")||o)&&I.isInView(u))&&(a.splice(t,1),
l())}n&&(a.length?n(e):r=!1)}var t,n=I.getPrefixed(window,"requestAnimationFrame"),r=!1,a=[],o=!0;
return B.add(window,{focus:function(){o=!0},blur:function(){o=!1}}),function(i,o){
a.push([i,o]),n?r||(n(e),r=!0):t||(t=setInterval(e,1e3/60))}};var U=n.extend(r,{_class:"View",
initialize:function pe(e,t){function n(e){return t[e]||parseInt(t.getAttribute(e),10);
}function r(){var e=I.getSize(t);return e.isNaN()||e.isZero()?new d(n("width"),n("height")):e;
}this._project=e,this._scope=e._scope,this._element=t;var a;this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),
this._id=t.getAttribute("id"),null==this._id&&t.setAttribute("id",this._id="view-"+pe._id++),
B.add(t,this._viewEvents);var o="none";if(I.setPrefixed(t.style,{userDrag:o,userSelect:o,
touchCallout:o,contentZooming:o,tapHighlightColor:"rgba(0,0,0,0)"}),i.hasAttribute(t,"resize")){
var s=this;B.add(window,this._windowEvents={resize:function(){s.setViewSize(r())}
})}if(this._setViewSize(a=r()),i.hasAttribute(t,"stats")&&"undefined"!=typeof Stats){
this._stats=new Stats;var l=this._stats.domElement,u=l.style,c=I.getOffset(t);u.position="absolute",
u.left=c.x+"px",u.top=c.y+"px",document.body.appendChild(l)}pe._views.push(this),
pe._viewsById[this._id]=this,this._viewSize=a,(this._matrix=new m)._owner=this,this._zoom=1,
pe._focused||(pe._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={};
},remove:function(){if(!this._project)return!1;U._focused===this&&(U._focused=null),
U._views.splice(U._views.indexOf(this),1),delete U._viewsById[this._id];var e=this._project;
return e._view===this&&(e._view=null),B.remove(this._element,this._viewEvents),B.remove(window,this._windowEvents),
this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},
!0},_events:n.each(["onResize","onMouseDown","onMouseUp","onMouseMove","onMouseDrag","onMouseEnter","onMouseLeave"],function(e){
this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause();
}}}),_animate:!1,_time:0,_count:0,_requestFrame:function(){var e=this;B.requestAnimationFrame(function(){
e._requested=!1,e._animate&&(e._requestFrame(),e._handleFrame())},this._element),
this._requested=!0},_handleFrame:function(){e=this._scope;var t=Date.now()/1e3,r=this._before?t-this._before:0;
this._before=t,this._handlingFrame=!0,this.emit("frame",new n({delta:r,time:this._time+=r,
count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update();
},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0
},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],
0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){
for(var t in this._frameItems){var r=this._frameItems[t];r.item.emit("frame",new n(e,{
time:r.time+=e.delta,count:r.count++}))}},_update:function(){this._project._needsUpdate=!0,
this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(){
this._project._changed(2049),this._bounds=null},getElement:function(){return this._element;
},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio;
},getViewSize:function(){var e=this._viewSize;return new h(e.width,e.height,this,"setViewSize");
},setViewSize:function(){var e=d.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._viewSize.set(e.width,e.height),
this._setViewSize(e),this.emit("resize",{size:e,delta:t}),this._changed(),this.update());
},_setViewSize:function(e){var t=this._element;t.width=e.width,t.height=e.height},
getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new v(new u,this._viewSize))),
this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){
return this.getBounds().getCenter()},setCenter:function(){var e=u.read(arguments);
this.translate(this.getCenter().subtract(e))},getZoom:function(){return this._zoom;
},setZoom:function(e){this.transform((new m).scale(e/this._zoom,this.getCenter())),
this._zoom=e},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;
e.initialize.apply(e,arguments)},isVisible:function(){return I.isInView(this._element);
},isInserted:function(){return I.isInserted(this._element)}},n.each(["rotate","scale","shear","skew"],function(e){
var t="rotate"===e;this[e]=function(){var r=(t?n:u).read(arguments),i=u.read(arguments,0,{
readNull:!0});return this.transform((new m)[e](r,i||this.getCenter(!0)))}},{translate:function(){
var e=new m;return this.transform(e.translate.apply(e,arguments))},transform:function(e){
this._matrix.concatenate(e)},scrollBy:function(){this.translate(u.read(arguments).negate());
}}),{play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){
this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(u.read(arguments));
},viewToProject:function(){return this._matrix._inverseTransform(u.read(arguments));
},getEventPoint:function(e){return this.viewToProject(B.getOffset(e,this._element));
}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return"string"==typeof t&&(t=document.getElementById(t)),
new H(e,t)}}},new function(){function n(e){var t=B.getTarget(e);return t.getAttribute&&U._viewsById[t.getAttribute("id")];
}function r(){var e=U._focused;if(!e||!e.isVisible())for(var t=0,n=U._views.length;n>t;t++)if((e=U._views[t]).isVisible()){
U._focused=l=e;break}}function i(e,t,n){e._handleEvent("mousemove",t,n)}function a(e,t,n,r,i,a){
function o(e,t){if(e.responds(t)){if(s||(s=new Y(t,n,r,l,i?r.subtract(i):null)),e.emit(t,s)&&(R=!0,
s.stopped))return!0}else{var a=k[t];if(a)return o(e,a)}}for(var s,l=e;e&&e!==a;){
if(o(e,t))return!0;e=e._parent}return!1}function o(e,t,n,r,i,o){return R=!1,_&&a(_,n,r,i,o)||t&&t!==_&&!t.isDescendant(_)&&a(t,k[n]||n,r,i,o,_)||a(e,n,r,i,o);
}var s,l,u,c,d,h=!1,v=!1,f=window.navigator;f.pointerEnabled||f.msPointerEnabled?(u="pointerdown MSPointerDown",
c="pointermove MSPointerMove",d="pointerup pointercancel MSPointerUp MSPointerCancel"):(u="touchstart",
c="touchmove",d="touchend touchcancel","ontouchstart"in window&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(u+=" mousedown",
c+=" mousemove",d+=" mouseup"));var m={},b={mouseout:function(e){var t=U._focused,n=B.getRelatedTarget(e);
if(t&&(!n||"HTML"===n.nodeName)){var r=B.getOffset(e,t._element),a=r.x,o=Math.abs,s=o(a),l=1<<25,u=s-l;
r.x=o(u)<s?u*(0>a?-1:1):a,i(t,e,t.viewToProject(r))}},scroll:r};m[u]=function(e){
var t=U._focused=n(e);h=!0,t._handleEvent("mousedown",e)},b[c]=function(e){var t=U._focused;
if(!v){var a=n(e);a?t!==a&&(t&&i(t,e),s||(s=t),t=U._focused=l=a):l&&l===t&&(s&&!s.isInserted()&&(s=null),
t=U._focused=s,s=null,r())}t&&i(t,e)},b[u]=function(){v=!0},b[d]=function(e){var t=U._focused;
t&&h&&t._handleEvent("mouseup",e),v=h=!1},B.add(document,b),B.add(window,{load:r});
var g,p,y,x,_,w,S,M,C,R=!1,k={doubleclick:"click",mousedrag:"mousemove"},E={mousedown:{
mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,
doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},A=!1;
return{_viewEvents:m,_handleEvent:function(n,r,i){function s(e){return d._itemEvents[e]||d.responds(e)||c&&c.responds(e);
}var l=this._itemEvents[n],u=e.project,c=this._scope.tool,d=this;"mousemove"===n&&h&&(n="mousedrag"),
u&&u.removeOn(n),i||(i=this.getEventPoint(r));var v=this.getBounds().contains(i),f=v&&l&&this._project.hitTest(i,{
tolerance:0,fill:!0,stroke:!0}),m=f&&f.item||t,b=!1,k=!1,E={};E[n.substr(5)]=!0;var P=E.move||E.drag,T=P&&n||"mousemove";
T&&(m!==x&&(x&&a(x,"mouseleave",r,i),m&&a(m,"mouseenter",r,i)),x=m,P&&A^v&&(a(this,v?"mouseenter":"mouseleave",r,i),
C=v?this:null,b=!0),(v||E.drag&&!p.equals(i))&&(k=o(this,m,T,r,i,p),b=!0),A=v),!P&&(b=E.down&&v||E.up&&g)&&(k=o(this,m,n,r,i,g),
E.down?(m&&(M=m===w&&Date.now()-S<300,y=w=m,_=!k&&m),g=p=i):E.up&&(!k&&m&&m===y&&(S=Date.now(),
a(m,M?"doubleclick":"click",r,i,g),M=!1),y=_=null),A=!1),p=i,b&&c&&(R=c._handleEvent(n,r,i,E)||R),
(R&&(!P||s("mousedrag"))||E.down&&s("mouseup"))&&r.preventDefault(),this.update();
},_countItemEvent:function(e,t){var n=this._itemEvents;for(var r in E)n[r]=(n[r]||0)+(E[r][e]||0)*t;
},statics:{updateFocus:r}}}),H=U.extend({_class:"CanvasView",initialize:function(e,t){
if(!(t instanceof HTMLCanvasElement)){var n=d.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));
t=J.getCanvas(n)}if(this._context=t.getContext("2d"),this._pixelRatio=1,!/^off|false$/.test(i.getAttribute(t,"hidpi"))){
var r=window.devicePixelRatio||1,a=I.getPrefixed(this._context,"backingStorePixelRatio")||1;
this._pixelRatio=r/a}U.call(this,e,t)},_setViewSize:function(e){var t=this._element,n=this._pixelRatio,r=e.width,a=e.height;
if(t.width=r*n,t.height=a*n,1!==n){if(!i.hasAttribute(t,"resize")){var o=t.style;o.width=r+"px",
o.height=a+"px"}this._context.scale(n,n)}},getPixelSize:function(t){var n,r=e.browser;
if(r&&r.firefox){var i=this._element.parentNode,a=document.createElement("div");a.style.fontSize=t,
i.appendChild(a),n=parseFloat(I.getStyles(a).fontSize),i.removeChild(a)}else{var o=this._context,s=o.font;
o.font=t+" serif",n=parseFloat(o.font),o.font=s}return n},getTextWidth:function(e,t){
var n=this._context,r=n.font,i=0;n.font=e;for(var a=0,o=t.length;o>a;a++)i=Math.max(i,n.measureText(t[a]).width);
return n.font=r,i},update:function(e){var t=this._project;if(!t||!e&&!t._needsUpdate)return!1;
var n=this._context,r=this._viewSize;return n.clearRect(0,0,r.width+1,r.height+1),
t.draw(n,this._matrix,this._pixelRatio),t._needsUpdate=!1,!0}}),F=n.extend({_class:"Event",
initialize:function(e){this.event=e},prevented:!1,stopped:!1,preventDefault:function(){
this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,
this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault();
},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return W.modifiers;
}}),q=F.extend({_class:"KeyEvent",initialize:function(e,t,n,r){F.call(this,r),this.type=e?"keydown":"keyup",
this.key=t,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }";
}}),W=new function(){function t(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t?String.fromCharCode(e.keyCode):t,
o[t]||(t.length>1?n.hyphenate(t):t.toLowerCase())}function r(t,a,o,s){var d,h=t?"keydown":"keyup",v=U._focused,f=v&&v.isVisible()&&v._scope,m=f&&f.tool;
if(l[a]=t,t?u[a]=o:delete u[a],a.length>1&&(d=n.camelize(a))in c){c[d]=t;var b=e.browser;
if("meta"===d&&b&&b.mac)if(t)i={};else{for(var g in i)g in u&&r(!1,g,i[g],s);i=null;
}}else t&&i&&(i[a]=o);m&&m.responds(h)&&(e=f,m.emit(h,new q(t,a,o,s)),v&&v.update());
}var i,a,o={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",
Del:"delete",Win:"meta",Esc:"escape"},s={tab:"	",space:" ",enter:"\r"},l={},u={},c=new n({
shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){
return this.alt}},command:{get:function(){var t=e.browser;return t&&t.mac?this.meta:this.control;
}}});return B.add(document,{keydown:function(n){var i=t(n),o=e.browser;i.length>1||o&&o.chrome&&(n.altKey||o.mac&&n.metaKey||!o.mac&&n.ctrlKey)?r(!0,i,s[i]||(i.length>1?"":i),n):a=i;
},keypress:function(e){if(a){var n=t(e),i=e.charCode,o=i>=32?String.fromCharCode(i):n.length>1?"":n;
n!==a&&(n=o.toLowerCase()),r(!0,n,o,e),a=null}},keyup:function(e){var n=t(e);n in u&&r(!1,n,u[n],e);
}}),B.add(window,{blur:function(e){for(var t in u)r(!1,t,u[t],e)}}),{modifiers:c,
isDown:function(e){return!!l[e]}}},Y=F.extend({_class:"MouseEvent",initialize:function(e,t,n,r,i){
F.call(this,t),this.type=e,this.point=n,this.target=r,this.delta=i},toString:function(){
return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }";
}}),X=F.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,
this.type=t,this.event=n},_choosePoint:function(e,t){return e?e:t?t.clone():null},
getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){
this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint);
},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint);
},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint;
},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta;
},setDelta:function(e){this._delta=e},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count;
},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e;
},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());
if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;
this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){
return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }";
}}),Z=a.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],
initialize:function(e){a.call(this),this._firstMove=!0,this._count=0,this._downCount=-1,
this._set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){
this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e);
},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){
this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e);
},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null;
},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleEvent:function(t,n,r,i){
function a(e,t,n){var a=h._point,o=r;if(e)h._count=0;else{if(o.equals(a))return!1;
if(null!=t||null!=n){var u=o.subtract(a),c=u.getLength();if((t||0)>c)return!1;n&&(o=a.add(u.normalize(Math.min(c,n))));
}h._count++}return l&&(h._point=o,h._lastPoint=s||i.drag?e&&s?o:a:h._downPoint||o),
i.down&&(h._downPoint=o,h._downCount++),!0}function o(e){l&&(d=h.emit(t,new X(h,t,n))||d,
h._firstMove=e)}e=this._scope;var s=i.move||i.drag&&!this.responds(t);s&&(t="mousemove");
var l=this.responds(t),u=this.minDistance,c=this.maxDistance,d=!1,h=this;if(i.down)a(l),
o(!1);else if(i.up)a(!1,null,c),o(!0);else if(l)for(;a(this._firstMove,u,c);)o(!1);
return d}}),K={request:function(e,n,r,i){i=i===t?!0:i;var a=window.ActiveXObject||XMLHttpRequest,o=new a("Microsoft.XMLHTTP");
return o.open(e.toUpperCase(),n,i),"overrideMimeType"in o&&o.overrideMimeType("text/plain"),
o.onreadystatechange=function(){if(4===o.readyState){var e=o.status;if(0!==e&&200!==e)throw new Error("Could not load "+n+" (Error "+e+")");
r.call(o,o.responseText)}},o.send(null)}},J={canvases:[],getCanvas:function(e,t){
var n,r=!0;"object"===("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))&&(t=e.height,
e=e.width),n=this.canvases.length?this.canvases.pop():document.createElement("canvas");
var i=n.getContext("2d");return n.width===e&&n.height===t?r&&i.clearRect(0,0,e+1,t+1):(n.width=e,
n.height=t),i.save(),n},getContext:function(e,t){return this.getCanvas(e,t).getContext("2d");
},release:function(e){var t=e.canvas?e.canvas:e;t.getContext("2d").restore(),this.canvases.push(t);
}},Q=new function(){function e(e,t,n){return.2989*e+.587*t+.114*n}function t(t,n,r,i){
var a=i-e(t,n,r);v=t+a,f=n+a,m=r+a;var i=e(v,f,m),o=b(v,f,m),s=g(v,f,m);if(0>o){var l=i-o;
v=i+(v-i)*i/l,f=i+(f-i)*i/l,m=i+(m-i)*i/l}if(s>255){var u=255-i,c=s-i;v=i+(v-i)*u/c,
f=i+(f-i)*u/c,m=i+(m-i)*u/c}}function r(e,t,n){return g(e,t,n)-b(e,t,n)}function i(e,t,n,r){
var i,a=[e,t,n],o=g(e,t,n),s=b(e,t,n);s=s===e?0:s===t?1:2,o=o===e?0:o===t?1:2,i=0===b(s,o)?1===g(s,o)?2:1:0,
a[o]>a[s]?(a[i]=(a[i]-a[s])*r/(a[o]-a[s]),a[o]=r):a[i]=a[o]=0,a[s]=0,v=a[0],f=a[1],
m=a[2]}var a,o,s,l,u,c,d,h,v,f,m,b=Math.min,g=Math.max,p=Math.abs,y={multiply:function(){
v=u*a/255,f=c*o/255,m=d*s/255},screen:function(){v=u+a-u*a/255,f=c+o-c*o/255,m=d+s-d*s/255;
},overlay:function(){v=128>u?2*u*a/255:255-2*(255-u)*(255-a)/255,f=128>c?2*c*o/255:255-2*(255-c)*(255-o)/255,
m=128>d?2*d*s/255:255-2*(255-d)*(255-s)/255},"soft-light":function(){var e=a*u/255;
v=e+u*(255-(255-u)*(255-a)/255-e)/255,e=o*c/255,f=e+c*(255-(255-c)*(255-o)/255-e)/255,
e=s*d/255,m=e+d*(255-(255-d)*(255-s)/255-e)/255},"hard-light":function(){v=128>a?2*a*u/255:255-2*(255-a)*(255-u)/255,
f=128>o?2*o*c/255:255-2*(255-o)*(255-c)/255,m=128>s?2*s*d/255:255-2*(255-s)*(255-d)/255;
},"color-dodge":function(){v=0===u?0:255===a?255:b(255,255*u/(255-a)),f=0===c?0:255===o?255:b(255,255*c/(255-o)),
m=0===d?0:255===s?255:b(255,255*d/(255-s))},"color-burn":function(){v=255===u?255:0===a?0:g(0,255-255*(255-u)/a),
f=255===c?255:0===o?0:g(0,255-255*(255-c)/o),m=255===d?255:0===s?0:g(0,255-255*(255-d)/s);
},darken:function(){v=a>u?u:a,f=o>c?c:o,m=s>d?d:s},lighten:function(){v=u>a?u:a,f=c>o?c:o,
m=d>s?d:s},difference:function(){v=u-a,0>v&&(v=-v),f=c-o,0>f&&(f=-f),m=d-s,0>m&&(m=-m);
},exclusion:function(){v=u+a*(255-u-u)/255,f=c+o*(255-c-c)/255,m=d+s*(255-d-d)/255;
},hue:function(){i(a,o,s,r(u,c,d)),t(v,f,m,e(u,c,d))},saturation:function(){i(u,c,d,r(a,o,s)),
t(v,f,m,e(u,c,d))},luminosity:function(){t(u,c,d,e(a,o,s))},color:function(){t(a,o,s,e(u,c,d));
},add:function(){v=b(u+a,255),f=b(c+o,255),m=b(d+s,255)},subtract:function(){v=g(u-a,0),
f=g(c-o,0),m=g(d-s,0)},average:function(){v=(u+a)/2,f=(c+o)/2,m=(d+s)/2},negation:function(){
v=255-p(255-a-u),f=255-p(255-o-c),m=255-p(255-s-d)}},x=this.nativeModes=n.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){
this[e]=!0},{}),_=J.getContext(1,1);n.each(y,function(e,t){var n="darken"===t,r=!1;
_.save();try{_.fillStyle=n?"#300":"#a00",_.fillRect(0,0,1,1),_.globalCompositeOperation=t,
_.globalCompositeOperation===t&&(_.fillStyle=n?"#a00":"#300",_.fillRect(0,0,1,1),
r=_.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(i){}_.restore(),x[t]=r}),J.release(_),
this.process=function(e,t,n,r,i){var b=t.canvas,g="normal"===e;if(g||x[e])n.save(),
n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,g||(n.globalCompositeOperation=e),n.drawImage(b,i.x,i.y),
n.restore();else{var p=y[e];if(!p)return;for(var _=n.getImageData(i.x,i.y,b.width,b.height),w=_.data,S=t.getImageData(0,0,b.width,b.height).data,M=0,C=w.length;C>M;M+=4){
a=S[M],u=w[M],o=S[M+1],c=w[M+1],s=S[M+2],d=w[M+2],l=S[M+3],h=w[M+3],p();var R=l*r/255,k=1-R;
w[M]=R*v+k*u,w[M+1]=R*f+k*c,w[M+2]=R*m+k*d,w[M+3]=l*r+k*h}n.putImageData(_,i.x,i.y);
}}},ee=n.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],
strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],
strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"
},function(e,t){return!t&&(e instanceof P||e instanceof w||e instanceof N)}],miterLimit:["stroke-miterlimit","number"],
dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],
fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],
justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],
opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){
var r=n.capitalize(t),i=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:i,
fromSVG:i&&n.each(i,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+r,set:"set"+r
}},{}),te={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"
};return new function(){function e(e,t){for(var n in t){var r=t[n],i=te[n];"number"==typeof r&&(r=w.number(r)),
i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}return e}function t(t,n){return e(document.createElementNS("http://www.w3.org/2000/svg",t),n);
}function r(e,t,r){var i=new n,a=e.getTranslation();if(t){e=e.shiftless();var o=e._inverseTransform(a);
i[r?"cx":"x"]=o.x,i[r?"cy":"y"]=o.y,a=null}if(!e.isIdentity()){var l=e.decompose();
if(l&&!l.shearing){var u=[],c=l.rotation,d=l.scaling;a&&!a.isZero()&&u.push("translate("+w.point(a)+")"),
s.isZero(d.x-1)&&s.isZero(d.y-1)||u.push("scale("+w.point(d)+")"),c&&u.push("rotate("+w.number(c)+")"),
i.transform=u.join(" ")}else i.transform="matrix("+e.getValues().join(",")+")"}return i;
}function i(n,i){for(var a=r(n._matrix),o=n._children,s=t("g",a),l=0,u=o.length;u>l;l++){
var c=o[l],d=x(c,i);if(d)if(c.isClipMask()){var h=t("clipPath");h.appendChild(d),
b(c,h,"clip"),e(s,{"clip-path":"url(#"+h.id+")"})}else s.appendChild(d)}return s}
function a(e,n){var i=r(e._matrix,!0),a=e.getSize(),o=e.getImage();return i.x-=a.width/2,
i.y-=a.height/2,i.width=a.width,i.height=a.height,i.href=n.embedImages===!1&&o&&o.src||e.toDataURL(),
t("image",i)}function l(e,n){var i=n.matchShapes;if(i){var a=e.toShape(!1);if(a)return u(a,n);
}var o,s=e._segments,l=r(e._matrix);if(0===s.length)return null;if(i&&!e.hasHandles())if(s.length>=3){
o=e._closed?"polygon":"polyline";for(var c=[],d=0,h=s.length;h>d;d++)c.push(w.point(s[d]._point));
l.points=c.join(" ")}else{o="line";var v=s[0]._point,f=s[s.length-1]._point;l.set({
x1:v.x,y1:v.y,x2:f.x,y2:f.y})}else o="path",l.d=e.getPathData(null,n.precision);return t(o,l);
}function u(e){var n=e._type,i=e._radius,a=r(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){
n="rect";var o=e._size,s=o.width,l=o.height;a.x-=s/2,a.y-=l/2,a.width=s,a.height=l,
i.isZero()&&(i=null)}return i&&("circle"===n?a.r=i:(a.rx=i.width,a.ry=i.height)),
t(n,a)}function c(e,n){var i=r(e._matrix),a=e.getPathData(null,n.precision);return a&&(i.d=a),
t("path",i)}function d(e,n){var i=r(e._matrix,!0),a=e.getSymbol(),o=m(a,"symbol"),s=a.getDefinition(),l=s.getBounds();
return o||(o=t("symbol",{viewBox:w.rectangle(l)}),o.appendChild(x(s,n)),b(a,o,"symbol")),
i.href="#"+o.id,i.x+=l.x,i.y+=l.y,i.width=w.number(l.width),i.height=w.number(l.height),
i.overflow="visible",t("use",i)}function h(e){var n=m(e,"color");if(!n){var r,i=e.getGradient(),a=i._radial,o=e.getOrigin().transform(),s=e.getDestination().transform();
if(a){r={cx:o.x,cy:o.y,r:o.getDistance(s)};var l=e.getHighlight();l&&(l=l.transform(),
r.fx=l.x,r.fy=l.y)}else r={x1:o.x,y1:o.y,x2:s.x,y2:s.y};r.gradientUnits="userSpaceOnUse",
n=t((a?"radial":"linear")+"Gradient",r);for(var u=i._stops,c=0,d=u.length;d>c;c++){
var h=u[c],v=h._color,f=v.getAlpha();r={offset:h._rampPoint,"stop-color":v.toCSS(!0)
},1>f&&(r["stop-opacity"]=f),n.appendChild(t("stop",r))}b(e,n,"color")}return"url(#"+n.id+")";
}function v(e){var n=t("text",r(e._matrix,!0));return n.textContent=e._content,n}
function f(t,r,i){var a={},o=!i&&t.getParent(),s=[];return null!=t._name&&(a.id=t._name),
n.each(ee,function(e){var r=e.get,i=e.type,l=t[r]();if(e.exportFilter?e.exportFilter(t,l):!o||!n.equals(o[r](),l)){
if("color"===i&&null!=l){var u=l.getAlpha();1>u&&(a[e.attribute+"-opacity"]=u)}"style"===i?s.push(e.attribute+": "+l):a[e.attribute]=null==l?"none":"number"===i?w.number(l):"color"===i?l.gradient?h(l,t):l.toCSS(!0):"array"===i?l.join(","):"lookup"===i?e.toSVG[l]:l;
}}),s.length&&(a.style=s.join(";")),1===a.opacity&&delete a.opacity,t._visible||(a.visibility="hidden"),
e(r,a)}function m(e,t){return S||(S={ids:{},svgs:{}}),e&&S.svgs[t+"-"+e._id]}function b(e,t,n){
S||m();var r=S.ids[n]=(S.ids[n]||0)+1;t.id=n+"-"+r,S.svgs[n+"-"+e._id]=t}function p(e,n){
var r=e,i=null;if(S){r="svg"===e.nodeName.toLowerCase()&&e;for(var a in S.svgs)i||(r||(r=t("svg"),
r.appendChild(e)),i=r.insertBefore(t("defs"),r.firstChild)),i.appendChild(S.svgs[a]);
S=null}return n.asString?(new XMLSerializer).serializeToString(r):r}function x(e,t,n){
var r=M[e._class],i=r&&r(e,t);if(i){var a=t.onExport;a&&(i=a(e,i,t)||i);var o=JSON.stringify(e._data);
o&&"{}"!==o&&"null"!==o&&i.setAttribute("data-paper-data",o)}return i&&f(e,i,n)}function _(e){
return e||(e={}),w=new o(e.precision),e}var w,S,M={Group:i,Layer:i,Raster:a,Path:l,
Shape:u,CompoundPath:c,PlacedSymbol:d,PointText:v};y.inject({exportSVG:function(e){
return e=_(e),p(x(this,e,!0),e)}}),g.inject({exportSVG:function(e){e=_(e);var n=this._children,i=this.getView(),a=i.getViewSize(),o=t("svg",{
x:0,y:0,width:a.width,height:a.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg",
"xmlns:xlink":"http://www.w3.org/1999/xlink"}),s=o,l=i._matrix;l.isIdentity()||(s=o.appendChild(t("g",r(l))));
for(var u=0,c=n.length;c>u;u++)s.appendChild(x(n[u],e,!0));return p(o,e)}})},new function(){
function r(e,t,n,r){var i=te[t],a=i?e.getAttributeNS(i,t):e.getAttribute(t);return"null"===a&&(a=null),
null==a?r?null:n?"":0:n?a:parseFloat(a)}function i(e,t,n,i){return t=r(e,t,!1,i),
n=r(e,n,!1,i),!i||null!=t&&null!=n?new u(t,n):null}function a(e,t,n,i){return t=r(e,t,!1,i),
n=r(e,n,!1,i),!i||null!=t&&null!=n?new d(t,n):null}function o(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?C(e)||e:"lookup"===t?n[e]:e;
}function s(e,t,n,r){var i=e.childNodes,a="clippath"===t,o=new x,s=o._project,l=s._currentStyle,u=[];
if(a||(o=M(o,e,r),s._currentStyle=o._style.clone()),r)for(var c=e.querySelectorAll("defs"),d=0,h=c.length;h>d;d++)R(c[d],n,!1);
for(var d=0,h=i.length;h>d;d++){var v=i[d],f=void 0;1!==v.nodeType||"defs"===v.nodeName.toLowerCase()||!(f=R(v,n,!1))||f instanceof p||u.push(f);
}return o.addChildren(u),a&&(o=M(o.reduce(),e,r)),s._currentStyle=l,(a||"defs"===t)&&(o.remove(),
o=null),o}function l(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,a=n.length;a>i;i+=2)r.push(new u(parseFloat(n[i]),parseFloat(n[i+1])));
var o=new T(r);return"polygon"===t&&o.closePath(),o}function c(e){var t=e.getAttribute("d"),n={
pathData:t};return(t.match(/m/gi)||[]).length>1||/z\S+/i.test(t)?new L(n):new T(n);
}function h(e,t){var n,a=(r(e,"href",!0)||"").substring(1),o="radialgradient"===t;
if(a)n=A[a].getGradient();else{for(var s=e.childNodes,l=[],u=0,c=s.length;c>u;u++){
var d=s[u];1===d.nodeType&&l.push(M(new D,d))}n=new z(l,o)}var h,v,f;return o?(h=i(e,"cx","cy"),
v=h.add(r(e,"r"),0),f=i(e,"fx","fy",!0)):(h=i(e,"x1","y1"),v=i(e,"x2","y2")),M(new V(n,h,v,f),e),
null}function f(e,t,n,r){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),a=new m,o=0,s=i.length;s>o;o++){
var l=i[o];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],d=u[1].split(/[\s,]+/g),h=0,v=d.length;v>h;h++)d[h]=parseFloat(d[h]);
switch(c){case"matrix":a.concatenate(new m(d[0],d[1],d[2],d[3],d[4],d[5]));break;case"rotate":
a.rotate(d[0],d[1],d[2]);break;case"translate":a.translate(d[0],d[1]);break;case"scale":
a.scale(d);break;case"skewX":a.skew(d[0],0);break;case"skewY":a.skew(0,d[0])}}e.transform(a);
}function b(e,t,n){var r=e["fill-opacity"===n?"getFillColor":"getStrokeColor"]();r&&r.setAlpha(parseFloat(t));
}function _(e,r,i){var a=e.attributes[r],o=a&&a.value;if(!o){var s=n.camelize(r);o=e.style[s],
o||i.node[s]===i.parent[s]||(o=i.node[s])}return o?"none"===o?null:o:t}function M(e,r,i){
var a={node:I.getStyles(r)||{},parent:!i&&I.getStyles(r.parentNode)||{}};return n.each(E,function(i,o){
var s=_(r,o,a);s!==t&&(e=n.pick(i(e,s,o,r,a),e))}),e}function C(e){var t=e&&e.match(/\((?:["'#]*)([^"')]+)/);
return t&&A[t[1]]}function R(t,r,i){function a(t){e=s;var n=R(t,r,i),a=r.onLoad,o=s.project&&s.getView();
a&&a.call(this,n),o.update()}if(!t)return null;r?"function"==typeof r&&(r={onLoad:r
}):r={};var o=t,s=e;if(i)if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){
var l=new FileReader;return l.onload=function(){a(l.result)},l.readAsText(t)}}else{
if(o=document.getElementById(t),!o)return K.request("get",t,a);t=null}if("string"==typeof t&&(o=(new DOMParser).parseFromString(t,"image/svg+xml")),
!o.nodeName)throw new Error("Unsupported SVG source: "+t);var u,c=o.nodeName.toLowerCase(),d=k[c],h=o.getAttribute&&o.getAttribute("data-paper-data"),v=s.settings,f=v.applyMatrix;
if(v.applyMatrix=!1,u=d&&d(o,c,r,i)||null,v.applyMatrix=f,u){"#document"===c||u instanceof x||(u=M(u,o,i));
var m=r.onImport;m&&(u=m(o,u,r)||u),r.expandShapes&&u instanceof w&&(u.remove(),u=u.toPath()),
h&&(u._data=JSON.parse(h))}return i&&(A={},u&&n.pick(r.applyMatrix,f)&&u.matrix.apply(!0,!0)),
u}var k={"#document":function(e,t,n,r){for(var i=e.childNodes,a=0,o=i.length;o>a;a++){
var s=i[a];if(1===s.nodeType){var l=s.nextSibling;document.body.appendChild(s);var u=R(s,n,r);
return l?e.insertBefore(s,l):e.appendChild(s),u}}},g:s,svg:s,clippath:s,polygon:l,
polyline:l,path:c,lineargradient:h,radialgradient:h,image:function(e){var t=new S(r(e,"href",!0));
return t.on("load",function(){var t=a(e,"width","height");this.setSize(t);var n=this._matrix._transformPoint(i(e,"x","y").add(t.divide(2)));
this.translate(n)}),t},symbol:function(e,t,n,r){return new p(s(e,t,n,r),!0)},defs:s,
use:function(e){var t=(r(e,"href",!0)||"").substring(1),n=A[t],a=i(e,"x","y");return n?n instanceof p?n.place(a):n.clone().translate(a):null;
},circle:function(e){return new w.Circle(i(e,"cx","cy"),r(e,"r"))},ellipse:function(e){
return new w.Ellipse({center:i(e,"cx","cy"),radius:a(e,"rx","ry")})},rect:function(e){
var t=i(e,"x","y"),n=a(e,"width","height"),r=a(e,"rx","ry");return new w.Rectangle(new v(t,n),r);
},line:function(e){return new T.Line(i(e,"x1","y1"),i(e,"x2","y2"))},text:function(e){
var t=new O(i(e,"x","y").add(i(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),
t}},E=n.set(n.each(ee,function(e){this[e.attribute]=function(t,n){if(t[e.set](o(n,e.type,e.fromSVG)),
"color"===e.type&&t instanceof w){var r=t[e.get]();r&&r.transform((new m).translate(t.getPosition(!0).negate()));
}}},{}),{id:function(e,t){A[t]=e,e.setName&&e.setName(t)},"clip-path":function(e,t){
var n=C(t);if(n){if(n=n.clone(),n.setClipMask(!0),!(e instanceof x))return new x(n,e);
e.insertChild(0,n)}},gradientTransform:f,transform:f,"fill-opacity":b,"stroke-opacity":b,
visibility:function(e,t){e.setVisible("visible"===t)},display:function(e,t){e.setVisible(null!==t);
},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){
e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){var n=t.match(/(.*)%$/);
e.setRampPoint(n?n[1]/100:parseFloat(t))},viewBox:function(e,t,n,r,i){var s=new v(o(t,"array")),l=a(r,"width","height",!0);
if(e instanceof x){var u=l?s.getSize().divide(l):1,c=(new m).translate(s.getPoint()).scale(u);
e.transform(c.inverted())}else if(e instanceof p){l&&s.setSize(l);var d="visible"!=_(r,"overflow",i),h=e._definition;
d&&!s.contains(h.getBounds())&&(d=new w.Rectangle(s).transform(h._matrix),d.setClipMask(!0),
h.addChild(d))}}}),A={};y.inject({importSVG:function(e,t){return this.addChild(R(e,t,!0));
}}),g.inject({importSVG:function(e,t){return this.activate(),R(e,t,!0)}})},n.exports.PaperScript=function(){
function t(e,t,n){var r=b[t];if(e&&e[r]){var i=e[r](n);return"!="===t?!i:i}switch(t){
case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":
return e%n;case"==":return e==n;case"!=":return e!=n}}function r(e,t){var n=g[e];if(n&&t&&t[n])return t[n]();
switch(e){case"+":return+t;case"-":return-t}}function a(e,t){return m.acorn.parse(e,t);
}function o(t,n,r){function i(e){for(var t=0,n=c.length;n>t;t++){var r=c[t];if(r[0]>=e)break;
e+=r[1]}return e}function o(e){return t.substring(i(e.range[0]),i(e.range[1]))}function s(e,n){
return t.substring(i(e.range[1]),i(n.range[0]))}function l(e,n){for(var r=i(e.range[0]),a=i(e.range[1]),o=0,s=c.length-1;s>=0;s--)if(r>c[s][0]){
o=s+1;break}c.splice(o,0,[r,n.length-a+r]),t=t.substring(0,r)+n+t.substring(a)}function u(e,t){
if(e){for(var n in e)if("range"!==n&&"loc"!==n){var r=e[n];if(Array.isArray(r))for(var i=0,a=r.length;a>i;i++)u(r[i],e);else r&&"object"===("undefined"==typeof r?"undefined":$traceurRuntime["typeof"](r))&&u(r,e);
}switch(e.type){case"UnaryExpression":if(e.operator in g&&"Literal"!==e.argument.type){
var c=o(e.argument);l(e,'$__("'+e.operator+'", '+c+")")}break;case"BinaryExpression":
if(e.operator in b&&"Literal"!==e.left.type){var d=o(e.left),h=o(e.right),v=s(e.left,e.right),f=e.operator;
l(e,"__$__("+d+","+v.replace(new RegExp("\\"+f),'"'+f+'"')+", "+h+")")}break;case"UpdateExpression":
case"AssignmentExpression":var m=t&&t.type;if(!("ForStatement"===m||"BinaryExpression"===m&&/^[=!<>]/.test(t.operator)||"MemberExpression"===m&&t.computed))if("UpdateExpression"===e.type){
var c=o(e.argument),p="__$__("+c+', "'+e.operator[0]+'", 1)',y=c+" = "+p;e.prefix||"AssignmentExpression"!==m&&"VariableDeclarator"!==m||(o(t.left||t.id)===c&&(y=p),
y=c+"; "+y),l(e,y)}else if(/^.=$/.test(e.operator)&&"Literal"!==e.left.type){var d=o(e.left),h=o(e.right);
l(e,d+" = __$__("+d+', "'+e.operator[0]+'", '+h+")")}}}}if(!t)return"";r=r||{},n=n||"";
var c=[],d=null,h=e.browser,v=h.versionNumber,f=/\r\n|\n|\r/gm,m=0;if(h.chrome&&v>=30||h.webkit&&v>=537.76||h.firefox&&v>=23){
if(0===window.location.href.indexOf(n)){var p=document.getElementsByTagName("html")[0].innerHTML;
m=p.substr(0,p.indexOf(t)+1).match(f).length+1}var y=["AAAA"];y.length=(t.match(f)||[]).length+1+m,
d={version:3,file:n,names:[],mappings:y.join(";AACA"),sourceRoot:"",sources:[n]};var x=r.source||!n&&t;
x&&(d.sourcesContent=[x])}return u(a(t,{ranges:!0})),d&&(t=new Array(m+1).join("\n")+t+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+"\n//# sourceURL="+(n||"paperscript")),
t}function s(i,a,s,l){function c(e,t){for(var n in e)!t&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(i)||(b.push(n),
g.push(e[n]))}e=a;var d,h=a.getView(),v=/\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(i)?new Z:null,f=v?v._events:[],m=["onFrame","onResize"].concat(f),b=[],g=[];
i=o(i,s,l),c({__$__:t,$__:r,paper:a,view:h,tool:v},!0),c(a),m=n.each(m,function(e){
new RegExp("\\s+"+e+"\\b").test(i)&&(b.push(e),this.push(e+": "+e))},[]).join(", "),
m&&(i+="\nreturn { "+m+" };");var p=e.browser;if(p.chrome||p.firefox){var y=document.createElement("script"),x=document.head||document.getElementsByTagName("head")[0];
p.firefox&&(i="\n"+i),y.appendChild(document.createTextNode("paper._execute = function("+b+") {"+i+"\n}")),
x.appendChild(y),d=e._execute,delete e._execute,x.removeChild(y)}else d=Function(b,i);
var _=d.apply(a,g)||{};n.each(f,function(e){var t=_[e];t&&(v[e]=t)}),h&&(_.onResize&&h.setOnResize(_.onResize),
h.emit("resize",{size:h.size,delta:new u}),_.onFrame&&h.setOnFrame(_.onFrame),h.update());
}function l(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==i.getAttribute(e,"ignore")){
var t=i.getAttribute(e,"canvas"),n=document.getElementById(t),r=e.src||e.getAttribute("data-src"),a=i.hasAttribute(e,"async"),o="data-paper-scope";
if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var l=i.get(n.getAttribute(o))||(new i).setup(n);
return n.setAttribute(o,l._id),r?K.request("get",r,function(e){s(e,l,r)},a):s(e.innerHTML,l,e.baseURI),
e.setAttribute("data-paper-ignore","true"),l}}function c(){n.each(document.getElementsByTagName("script"),l);
}function h(e){return e?l(e):c()}var v,f,m=this;!function(e,t){return"object"==("undefined"==typeof v?"undefined":$traceurRuntime["typeof"](v))&&"object"==("undefined"==typeof module?"undefined":$traceurRuntime["typeof"](module))?t(v):"function"==typeof f&&f.amd?f(["exports"],t):void t(e.acorn||(e.acorn={}));
}(this,function(e){function t(e){de=e||{};for(var t in me)Object.prototype.hasOwnProperty.call(de,t)||(de[t]=me[t]);
fe=de.sourceFile||null}function n(e,t){var n=be(he,e);t+=" ("+n.line+":"+n.column+")";
var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=ge,r}function r(e){function t(e){
if(1==e.length)return n+="return str === "+JSON.stringify(e[0])+";";n+="switch(str){";
for(var t=0;t<e.length;++t)n+="case "+JSON.stringify(e[t])+":";n+="return true}return false;";
}e=e.split(" ");var n="",r=[];e:for(var i=0;i<e.length;++i){for(var a=0;a<r.length;++a)if(r[a][0].length==e[i].length){
r[a].push(e[i]);continue e}r.push([e[i]])}if(r.length>3){r.sort(function(e,t){return t.length-e.length;
}),n+="switch(str.length){";for(var i=0;i<r.length;++i){var o=r[i];n+="case "+o[0].length+":",
t(o)}n+="}"}else t(e);return new Function("str",n)}function i(){this.line=Ce,this.column=ge-Re;
}function a(){Ce=1,ge=Re=0,Me=!0,u()}function o(e,t){ye=ge,de.locations&&(_e=new i),
we=e,u(),Se=t,Me=e.beforeExpr}function s(){var e=de.onComment&&de.locations&&new i,t=ge,r=he.indexOf("*/",ge+=2);
if(-1===r&&n(ge-2,"Unterminated comment"),ge=r+2,de.locations){Zt.lastIndex=t;for(var a=void 0;(a=Zt.exec(he))&&a.index<ge;)++Ce,
Re=a.index+a[0].length}de.onComment&&de.onComment(!0,he.slice(t+2,r),t,ge,e,de.locations&&new i);
}function l(){for(var e=ge,t=de.onComment&&de.locations&&new i,n=he.charCodeAt(ge+=2);ve>ge&&10!==n&&13!==n&&8232!==n&&8233!==n;)++ge,
n=he.charCodeAt(ge);de.onComment&&de.onComment(!1,he.slice(e+2,ge),e,ge,t,de.locations&&new i);
}function u(){for(;ve>ge;){var e=he.charCodeAt(ge);if(32===e)++ge;else if(13===e){
++ge;var t=he.charCodeAt(ge);10===t&&++ge,de.locations&&(++Ce,Re=ge)}else if(10===e||8232===e||8233===e)++ge,
de.locations&&(++Ce,Re=ge);else if(e>8&&14>e)++ge;else if(47===e){var t=he.charCodeAt(ge+1);
if(42===t)s();else{if(47!==t)break;l()}}else if(160===e)++ge;else{if(!(e>=5760&&Ht.test(String.fromCharCode(e))))break;
++ge}}}function c(){var e=he.charCodeAt(ge+1);return e>=48&&57>=e?M(!0):(++ge,o(xt));
}function d(){var e=he.charCodeAt(ge+1);return Me?(++ge,_()):61===e?x(Mt,2):x(wt,1);
}function h(){var e=he.charCodeAt(ge+1);return 61===e?x(Mt,2):x(Ot,1)}function v(e){
var t=he.charCodeAt(ge+1);return t===e?x(124===e?kt:Et,2):61===t?x(Mt,2):x(124===e?At:Tt,1);
}function f(){var e=he.charCodeAt(ge+1);return 61===e?x(Mt,2):x(Pt,1)}function m(e){
var t=he.charCodeAt(ge+1);return t===e?45==t&&62==he.charCodeAt(ge+2)&&Xt.test(he.slice(Ee,ge))?(ge+=3,
l(),u(),y()):x(Ct,2):61===t?x(Mt,2):x(Nt,1)}function b(e){var t=he.charCodeAt(ge+1),n=1;
return t===e?(n=62===e&&62===he.charCodeAt(ge+2)?3:2,61===he.charCodeAt(ge+n)?x(Mt,n+1):x(jt,n)):33==t&&60==e&&45==he.charCodeAt(ge+2)&&45==he.charCodeAt(ge+3)?(ge+=4,
l(),u(),y()):(61===t&&(n=61===he.charCodeAt(ge+2)?3:2),x($t,n))}function g(e){var t=he.charCodeAt(ge+1);
return 61===t?x(Lt,61===he.charCodeAt(ge+2)?3:2):x(61===e?St:Rt,1)}function p(e){
switch(e){case 46:return c();case 40:return++ge,o(mt);case 41:return++ge,o(bt);case 59:
return++ge,o(pt);case 44:return++ge,o(gt);case 91:return++ge,o(dt);case 93:return++ge,
o(ht);case 123:return++ge,o(vt);case 125:return++ge,o(ft);case 58:return++ge,o(yt);
case 63:return++ge,o(_t);case 48:var t=he.charCodeAt(ge+1);if(120===t||88===t)return S();
case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return M(!1);
case 34:case 39:return C(e);case 47:return d(e);case 37:case 42:return h();case 124:
case 38:return v(e);case 94:return f();case 43:case 45:return m(e);case 60:case 62:
return b(e);case 61:case 33:return g(e);case 126:return x(Rt,1)}return!1}function y(e){
if(e?ge=pe+1:pe=ge,de.locations&&(xe=new i),e)return _();if(ge>=ve)return o(ze);var t=he.charCodeAt(ge);
if(Kt(t)||92===t)return E();var r=p(t);if(r===!1){var a=String.fromCharCode(t);if("\\"===a||Wt.test(a))return E();
n(ge,"Unexpected character '"+a+"'")}return r}function x(e,t){var n=he.slice(ge,ge+t);
ge+=t,o(e,n)}function _(){for(var e=void 0,t=void 0,r="",i=ge;;){ge>=ve&&n(i,"Unterminated regular expression");
var a=he.charAt(ge);if(Xt.test(a)&&n(i,"Unterminated regular expression"),e)e=!1;else{
if("["===a)t=!0;else if("]"===a&&t)t=!1;else if("/"===a&&!t)break;e="\\"===a}++ge;
}var r=he.slice(i,ge);++ge;var s=k();s&&!/^[gmsiy]*$/.test(s)&&n(i,"Invalid regexp flag");
try{var l=new RegExp(r,s)}catch(u){u instanceof SyntaxError&&n(i,u.message),n(u)}
return o(Ne,l)}function w(e,t){for(var n=ge,r=0,i=0,a=null==t?1/0:t;a>i;++i){var o=void 0,s=he.charCodeAt(ge);
if(o=s>=97?s-97+10:s>=65?s-65+10:s>=48&&57>=s?s-48:1/0,o>=e)break;++ge,r=r*e+o}return ge===n||null!=t&&ge-n!==t?null:r;
}function S(){ge+=2;var e=w(16);return null==e&&n(pe+2,"Expected hexadecimal number"),
Kt(he.charCodeAt(ge))&&n(ge,"Identifier directly after number"),o(je,e)}function M(e){
var t=ge,r=!1,i=48===he.charCodeAt(ge);e||null!==w(10)||n(t,"Invalid number"),46===he.charCodeAt(ge)&&(++ge,
w(10),r=!0);var a=he.charCodeAt(ge);(69===a||101===a)&&(a=he.charCodeAt(++ge),(43===a||45===a)&&++ge,
null===w(10)&&n(t,"Invalid number"),r=!0),Kt(he.charCodeAt(ge))&&n(ge,"Identifier directly after number");
var s,l=he.slice(t,ge);return r?s=parseFloat(l):i&&1!==l.length?/[89]/.test(l)||Le?n(t,"Invalid number"):s=parseInt(l,8):s=parseInt(l,10),
o(je,s)}function C(e){ge++;for(var t="";;){ge>=ve&&n(pe,"Unterminated string constant");
var r=he.charCodeAt(ge);if(r===e)return++ge,o(Oe,t);if(92===r){r=he.charCodeAt(++ge);
var i=/^[0-7]+/.exec(he.slice(ge,ge+3));for(i&&(i=i[0]);i&&parseInt(i,8)>255;)i=i.slice(0,-1);
if("0"===i&&(i=null),++ge,i)Le&&n(ge-2,"Octal literal in strict mode"),t+=String.fromCharCode(parseInt(i,8)),
ge+=i.length-1;else switch(r){case 110:t+="\n";break;case 114:t+="\r";break;case 120:
t+=String.fromCharCode(R(2));break;case 117:t+=String.fromCharCode(R(4));break;case 85:
t+=String.fromCharCode(R(8));break;case 116:t+="	";break;case 98:t+="\b";break;case 118:
t+="\x0B";break;case 102:t+="\f";break;case 48:t+="\x00";break;case 13:10===he.charCodeAt(ge)&&++ge;
case 10:de.locations&&(Re=ge,++Ce);break;default:t+=String.fromCharCode(r)}}else(13===r||10===r||8232===r||8233===r)&&n(pe,"Unterminated string constant"),
t+=String.fromCharCode(r),++ge}}function R(e){var t=w(16,e);return null===t&&n(pe,"Bad character escape sequence"),
t}function k(){zt=!1;for(var e=void 0,t=!0,r=ge;;){var i=he.charCodeAt(ge);if(Jt(i))zt&&(e+=he.charAt(ge)),
++ge;else{if(92!==i)break;zt||(e=he.slice(r,ge)),zt=!0,117!=he.charCodeAt(++ge)&&n(ge,"Expecting Unicode escape sequence \\uXXXX"),
++ge;var a=R(4),o=String.fromCharCode(a);o||n(ge-1,"Invalid Unicode escape"),(t?Kt(a):Jt(a))||n(ge-4,"Invalid Unicode escape"),
e+=o}t=!1}return zt?e:he.slice(r,ge)}function E(){var e=k(),t=Ve;return!zt&&Ut(e)&&(t=ct[e]),
o(t,e)}function A(){ke=pe,Ee=ye,Ae=_e,y()}function P(e){if(Le=e,ge=pe,de.locations)for(;Re>ge;)Re=he.lastIndexOf("\n",Re-2)+1,
--Ce;u(),y()}function T(){this.type=null,this.start=pe,this.end=null}function L(){
this.start=xe,this.end=null,null!==fe&&(this.source=fe)}function $(){var e=new T;return de.locations&&(e.loc=new L),
de.directSourceFile&&(e.sourceFile=de.directSourceFile),de.ranges&&(e.range=[pe,0]),
e}function j(e){var t=new T;return t.start=e.start,de.locations&&(t.loc=new L,t.loc.start=e.loc.start),
de.ranges&&(t.range=[e.range[0],0]),t}function N(e,t){return e.type=t,e.end=Ee,de.locations&&(e.loc.end=Ae),
de.ranges&&(e.range[1]=Ee),e}function O(e){return de.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value;
}function V(e){return we===e?(A(),!0):void 0}function z(){return!de.strictSemicolons&&(we===ze||we===ft||Xt.test(he.slice(Ee,pe)));
}function D(){V(pt)||z()||I()}function G(e){we===e?A():I()}function I(){n(pe,"Unexpected token");
}function B(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&n(e.start,"Assigning to rvalue"),
Le&&"Identifier"===e.type&&Bt(e.name)&&n(e.start,"Assigning to "+e.name+" in strict mode");
}function U(e){ke=Ee=ge,de.locations&&(Ae=new i),Pe=Le=null,Te=[],y();var t=e||$(),n=!0;
for(e||(t.body=[]);we!==ze;){var r=H();t.body.push(r),n&&O(r)&&P(!0),n=!1}return N(t,"Program");
}function H(){(we===wt||we===Mt&&"/="==Se)&&y(!0);var e=we,t=$();switch(e){case De:
case Be:A();var r=e===De;V(pt)||z()?t.label=null:we!==Ve?I():(t.label=ce(),D());for(var i=0;i<Te.length;++i){
var a=Te[i];if(null==t.label||a.name===t.label.name){if(null!=a.kind&&(r||"loop"===a.kind))break;
if(t.label&&r)break}}return i===Te.length&&n(t.start,"Unsyntactic "+e.keyword),N(t,r?"BreakStatement":"ContinueStatement");
case Ue:return A(),D(),N(t,"DebuggerStatement");case Fe:return A(),Te.push(Qt),t.body=H(),
Te.pop(),G(nt),t.test=F(),D(),N(t,"DoWhileStatement");case Ye:if(A(),Te.push(Qt),
G(mt),we===pt)return W(t,null);if(we===tt){var o=$();return A(),X(o,!0),N(o,"VariableDeclaration"),
1===o.declarations.length&&V(ut)?Y(t,o):W(t,o)}var o=Z(!1,!0);return V(ut)?(B(o),
Y(t,o)):W(t,o);case Xe:return A(),le(t,!0);case Ze:return A(),t.test=F(),t.consequent=H(),
t.alternate=V(qe)?H():null,N(t,"IfStatement");case Ke:return Pe||de.allowReturnOutsideFunction||n(pe,"'return' outside of function"),
A(),V(pt)||z()?t.argument=null:(t.argument=Z(),D()),N(t,"ReturnStatement");case Je:
A(),t.discriminant=F(),t.cases=[],G(vt),Te.push(en);for(var s=void 0,l=void 0;we!=ft;)if(we===Ge||we===He){
var u=we===Ge;s&&N(s,"SwitchCase"),t.cases.push(s=$()),s.consequent=[],A(),u?s.test=Z():(l&&n(ke,"Multiple default clauses"),
l=!0,s.test=null),G(yt)}else s||I(),s.consequent.push(H());return s&&N(s,"SwitchCase"),
A(),Te.pop(),N(t,"SwitchStatement");case Qe:return A(),Xt.test(he.slice(Ee,pe))&&n(Ee,"Illegal newline after throw"),
t.argument=Z(),D(),N(t,"ThrowStatement");case et:if(A(),t.block=q(),t.handler=null,
we===Ie){var c=$();A(),G(mt),c.param=ce(),Le&&Bt(c.param.name)&&n(c.param.start,"Binding "+c.param.name+" in strict mode"),
G(bt),c.guard=null,c.body=q(),t.handler=N(c,"CatchClause")}return t.guardedHandlers=$e,
t.finalizer=V(We)?q():null,t.handler||t.finalizer||n(t.start,"Missing catch or finally clause"),
N(t,"TryStatement");case tt:return A(),X(t),D(),N(t,"VariableDeclaration");case nt:
return A(),t.test=F(),Te.push(Qt),t.body=H(),Te.pop(),N(t,"WhileStatement");case rt:
return Le&&n(pe,"'with' in strict mode"),A(),t.object=F(),t.body=H(),N(t,"WithStatement");
case vt:return q();case pt:return A(),N(t,"EmptyStatement");default:var d=Se,h=Z();
if(e===Ve&&"Identifier"===h.type&&V(yt)){for(var i=0;i<Te.length;++i)Te[i].name===d&&n(h.start,"Label '"+d+"' is already declared");
var v=we.isLoop?"loop":we===Je?"switch":null;return Te.push({name:d,kind:v}),t.body=H(),
Te.pop(),t.label=h,N(t,"LabeledStatement")}return t.expression=h,D(),N(t,"ExpressionStatement");
}}function F(){G(mt);var e=Z();return G(bt),e}function q(e){var t,n=$(),r=!0,i=!1;
for(n.body=[],G(vt);!V(ft);){var a=H();n.body.push(a),r&&e&&O(a)&&(t=i,P(i=!0)),r=!1;
}return i&&!t&&P(!1),N(n,"BlockStatement")}function W(e,t){return e.init=t,G(pt),
e.test=we===pt?null:Z(),G(pt),e.update=we===bt?null:Z(),G(bt),e.body=H(),Te.pop(),
N(e,"ForStatement")}function Y(e,t){return e.left=t,e.right=Z(),G(bt),e.body=H(),
Te.pop(),N(e,"ForInStatement")}function X(e,t){for(e.declarations=[],e.kind="var";;){
var r=$();if(r.id=ce(),Le&&Bt(r.id.name)&&n(r.id.start,"Binding "+r.id.name+" in strict mode"),
r.init=V(St)?Z(!0,t):null,e.declarations.push(N(r,"VariableDeclarator")),!V(gt))break;
}return e}function Z(e,t){var n=K(t);if(!e&&we===gt){var r=j(n);for(r.expressions=[n];V(gt);)r.expressions.push(K(t));
return N(r,"SequenceExpression")}return n}function K(e){var t=J(e);if(we.isAssign){
var n=j(t);return n.operator=Se,n.left=t,A(),n.right=K(e),B(t),N(n,"AssignmentExpression");
}return t}function J(e){var t=Q(e);if(V(_t)){var n=j(t);return n.test=t,n.consequent=Z(!0),
G(yt),n.alternate=Z(!0,e),N(n,"ConditionalExpression")}return t}function Q(e){return ee(te(),-1,e);
}function ee(e,t,n){var r=we.binop;if(null!=r&&(!n||we!==ut)&&r>t){var i=j(e);i.left=e,
i.operator=Se;var a=we;A(),i.right=ee(te(),r,n);var o=N(i,a===kt||a===Et?"LogicalExpression":"BinaryExpression");
return ee(o,t,n)}return e}function te(){if(we.prefix){var e=$(),t=we.isUpdate;return e.operator=Se,
e.prefix=!0,Me=!0,A(),e.argument=te(),t?B(e.argument):Le&&"delete"===e.operator&&"Identifier"===e.argument.type&&n(e.start,"Deleting local variable in strict mode"),
N(e,t?"UpdateExpression":"UnaryExpression")}for(var r=ne();we.postfix&&!z();){var e=j(r);
e.operator=Se,e.prefix=!1,e.argument=r,B(r),A(),r=N(e,"UpdateExpression")}return r;
}function ne(){return re(ie())}function re(e,t){if(V(xt)){var n=j(e);return n.object=e,
n.property=ce(!0),n.computed=!1,re(N(n,"MemberExpression"),t)}if(V(dt)){var n=j(e);
return n.object=e,n.property=Z(),n.computed=!0,G(ht),re(N(n,"MemberExpression"),t);
}if(!t&&V(mt)){var n=j(e);return n.callee=e,n.arguments=ue(bt,!1),re(N(n,"CallExpression"),t);
}return e}function ie(){switch(we){case at:var e=$();return A(),N(e,"ThisExpression");
case Ve:return ce();case je:case Oe:case Ne:var e=$();return e.value=Se,e.raw=he.slice(pe,ye),
A(),N(e,"Literal");case ot:case st:case lt:var e=$();return e.value=we.atomValue,
e.raw=we.keyword,A(),N(e,"Literal");case mt:var t=xe,n=pe;A();var r=Z();return r.start=n,
r.end=ye,de.locations&&(r.loc.start=t,r.loc.end=_e),de.ranges&&(r.range=[n,ye]),G(bt),
r;case dt:var e=$();return A(),e.elements=ue(ht,!0,!0),N(e,"ArrayExpression");case vt:
return oe();case Xe:var e=$();return A(),le(e,!1);case it:return ae();default:I();
}}function ae(){var e=$();return A(),e.callee=re(ie(),!0),V(mt)?e.arguments=ue(bt,!1):e.arguments=$e,
N(e,"NewExpression")}function oe(){var e=$(),t=!0,r=!1;for(e.properties=[],A();!V(ft);){
if(t)t=!1;else if(G(gt),de.allowTrailingCommas&&V(ft))break;var i=void 0,a={key:se()
},o=!1;if(V(yt)?(a.value=Z(!0),i=a.kind="init"):de.ecmaVersion>=5&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)?(o=r=!0,
i=a.kind=a.key.name,a.key=se(),we!==mt&&I(),a.value=le($(),!1)):I(),"Identifier"===a.key.type&&(Le||r))for(var s=0;s<e.properties.length;++s){
var l=e.properties[s];if(l.key.name===a.key.name){var u=i==l.kind||o&&"init"===l.kind||"init"===i&&("get"===l.kind||"set"===l.kind);
u&&!Le&&"init"===i&&"init"===l.kind&&(u=!1),u&&n(a.key.start,"Redefinition of property");
}}e.properties.push(a)}return N(e,"ObjectExpression")}function se(){return we===je||we===Oe?ie():ce(!0);
}function le(e,t){we===Ve?e.id=ce():t?I():e.id=null,e.params=[];var r=!0;for(G(mt);!V(bt);)r?r=!1:G(gt),
e.params.push(ce());var i=Pe,a=Te;if(Pe=!0,Te=[],e.body=q(!0),Pe=i,Te=a,Le||e.body.body.length&&O(e.body.body[0]))for(var o=e.id?-1:0;o<e.params.length;++o){
var s=0>o?e.id:e.params[o];if((It(s.name)||Bt(s.name))&&n(s.start,"Defining '"+s.name+"' in strict mode"),
o>=0)for(var l=0;o>l;++l)s.name===e.params[l].name&&n(s.start,"Argument name clash in strict mode");
}return N(e,t?"FunctionDeclaration":"FunctionExpression")}function ue(e,t,n){for(var r=[],i=!0;!V(e);){
if(i)i=!1;else if(G(gt),t&&de.allowTrailingCommas&&V(e))break;n&&we===gt?r.push(null):r.push(Z(!0));
}return r}function ce(e){var t=$();return e&&"everywhere"==de.forbidReserved&&(e=!1),
we===Ve?(!e&&(de.forbidReserved&&(3===de.ecmaVersion?Dt:Gt)(Se)||Le&&It(Se))&&-1==he.slice(pe,ye).indexOf("\\")&&n(pe,"The keyword '"+Se+"' is reserved"),
t.name=Se):e&&we.keyword?t.name=we.keyword:I(),Me=!1,A(),N(t,"Identifier")}e.version="0.5.0";
var de,he,ve,fe;e.parse=function(e,n){return he=String(e),ve=he.length,t(n),a(),U(de.program);
};var me=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,
forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,
program:null,sourceFile:null,directSourceFile:null},be=e.getLineInfo=function(e,t){
for(var n=1,r=0;;){Zt.lastIndex=r;var i=Zt.exec(e);if(!(i&&i.index<t))break;++n,r=i.index+i[0].length;
}return{line:n,column:t-r}};e.tokenize=function(e,n){function r(e){return Ee=ye,y(e),
i.start=pe,i.end=ye,i.startLoc=xe,i.endLoc=_e,i.type=we,i.value=Se,i}he=String(e),
ve=he.length,t(n),a();var i={};return r.jumpTo=function(e,t){if(ge=e,de.locations){
Ce=1,Re=Zt.lastIndex=0;for(var n=void 0;(n=Zt.exec(he))&&n.index<e;)++Ce,Re=n.index+n[0].length;
}Me=t,u()},r};var ge,pe,ye,xe,_e,we,Se,Me,Ce,Re,ke,Ee,Ae,Pe,Te,Le,$e=[],je={type:"num"
},Ne={type:"regexp"},Oe={type:"string"},Ve={type:"name"},ze={type:"eof"},De={keyword:"break"
},Ge={keyword:"case",beforeExpr:!0},Ie={keyword:"catch"},Be={keyword:"continue"},Ue={
keyword:"debugger"},He={keyword:"default"},Fe={keyword:"do",isLoop:!0},qe={keyword:"else",
beforeExpr:!0},We={keyword:"finally"},Ye={keyword:"for",isLoop:!0},Xe={keyword:"function"
},Ze={keyword:"if"},Ke={keyword:"return",beforeExpr:!0},Je={keyword:"switch"},Qe={
keyword:"throw",beforeExpr:!0},et={keyword:"try"},tt={keyword:"var"},nt={keyword:"while",
isLoop:!0},rt={keyword:"with"},it={keyword:"new",beforeExpr:!0},at={keyword:"this"
},ot={keyword:"null",atomValue:null},st={keyword:"true",atomValue:!0},lt={keyword:"false",
atomValue:!1},ut={keyword:"in",binop:7,beforeExpr:!0},ct={"break":De,"case":Ge,"catch":Ie,
"continue":Be,"debugger":Ue,"default":He,"do":Fe,"else":qe,"finally":We,"for":Ye,
"function":Xe,"if":Ze,"return":Ke,"switch":Je,"throw":Qe,"try":et,"var":tt,"while":nt,
"with":rt,"null":ot,"true":st,"false":lt,"new":it,"in":ut,"instanceof":{keyword:"instanceof",
binop:7,beforeExpr:!0},"this":at,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0
},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,
beforeExpr:!0}},dt={type:"[",beforeExpr:!0},ht={type:"]"},vt={type:"{",beforeExpr:!0
},ft={type:"}"},mt={type:"(",beforeExpr:!0},bt={type:")"},gt={type:",",beforeExpr:!0
},pt={type:";",beforeExpr:!0},yt={type:":",beforeExpr:!0},xt={type:"."},_t={type:"?",
beforeExpr:!0},wt={binop:10,beforeExpr:!0},St={isAssign:!0,beforeExpr:!0},Mt={isAssign:!0,
beforeExpr:!0},Ct={postfix:!0,prefix:!0,isUpdate:!0},Rt={prefix:!0,beforeExpr:!0},kt={
binop:1,beforeExpr:!0},Et={binop:2,beforeExpr:!0},At={binop:3,beforeExpr:!0},Pt={
binop:4,beforeExpr:!0},Tt={binop:5,beforeExpr:!0},Lt={binop:6,beforeExpr:!0},$t={
binop:7,beforeExpr:!0},jt={binop:8,beforeExpr:!0},Nt={binop:9,prefix:!0,beforeExpr:!0
},Ot={binop:10,beforeExpr:!0};e.tokTypes={bracketL:dt,bracketR:ht,braceL:vt,braceR:ft,
parenL:mt,parenR:bt,comma:gt,semi:pt,colon:yt,dot:xt,question:_t,slash:wt,eq:St,name:Ve,
eof:ze,num:je,regexp:Ne,string:Oe};for(var Vt in ct)e.tokTypes["_"+Vt]=ct[Vt];var zt,Dt=r("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Gt=r("class enum extends super const export import"),It=r("implements interface let package private protected public static yield"),Bt=r("eval arguments"),Ut=r("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ht=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ft="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",qt="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Wt=new RegExp("["+Ft+"]"),Yt=new RegExp("["+Ft+qt+"]"),Xt=/[\n\r\u2028\u2029]/,Zt=/\r\n|[\n\r\u2028\u2029]/g,Kt=e.isIdentifierStart=function(e){
return 65>e?36===e:91>e?!0:97>e?95===e:123>e?!0:e>=170&&Wt.test(String.fromCharCode(e));
},Jt=e.isIdentifierChar=function(e){return 48>e?36===e:58>e?!0:65>e?!1:91>e?!0:97>e?95===e:123>e?!0:e>=170&&Yt.test(String.fromCharCode(e));
},Qt={kind:"loop"},en={kind:"switch"}});var b={"+":"__add","-":"__subtract","*":"__multiply",
"/":"__divide","%":"__modulo","==":"equals","!=":"equals"},g={"-":"__negate","+":null
},p=n.each(["add","subtract","multiply","divide","modulo","negate"],function(e){this["__"+e]="#"+e;
},{});return u.inject(p),d.inject(p),V.inject(p),"complete"===document.readyState?setTimeout(c):B.add(window,{
load:c}),{compile:o,execute:s,load:h,parse:a}}.call(this),e=new(i.inject(n.exports,{
enumerable:!0,Base:n,Numerical:s,Key:W})),"function"==typeof define&&define.amd?define("paper",e):"object"===("undefined"==typeof module?"undefined":$traceurRuntime["typeof"](module))&&module&&(module.exports=e),
e};e.setup(document.createElement("canvas"));var t=e;return{get default(){return t;
}}}),$traceurRuntime.registerModule("utils/array",[],function(){"use strict";var e=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:!1;if(e.length!==t.length)return!1;if(n)for(var r in e){
var i=e[r];if(i!==t[r])return!1}else{for(var a=0;a<e.length;a+=1)if(!t.includes(e[a]))return!1;
for(var a=0;a<t.length;a+=1)if(!e.includes(t[a]))return!1}return!0},t=function(e){
return $traceurRuntime.spread(new Set(e))},n=function(e,t){if(0===e.length)return!1;
for(var n=0;n<e.length;n+=1)if(e[n]!==t)return!1;return!0};return{get compareArrays(){
return e},get removeDuplicates(){return t},get includesOnly(){return n}}}),$traceurRuntime.registerModule("utils/artwork-compression",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/pako","utils/artwork-compression"))["default"],t=function(t){
for(var n=[],r=0,i=t.length;i>r;r+=1)n.push(t[r].charCodeAt(0));var a=new Uint8Array(n);
return e.gzip(a)},n=function(t){try{for(var n=e.inflate(t),r="",i=0,a=n.length;a>i;i+=1){
var o=String.fromCharCode(n[i]);r+=o}return r}catch(s){return null}};return{get compressArtwork(){
return t},get uncompressArtwork(){return n}}}),$traceurRuntime.registerModule("utils/artwork-export",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./node","utils/artwork-export")).normalizeWhitespace,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-conversion","utils/artwork-export")).pathToRect,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./string","utils/artwork-export")).collapseWhitespace,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/artwork-export")),i=r.XMLNS_NAMESPACE,a=r.XLINK_NAMESPACE,o=r.SVG_NAMESPACE,s=r.BX_NAMESPACE,l=function(r){
var i=void 0!==arguments[1]?arguments[1]:"xml",a=void 0!==arguments[2]?arguments[2]:2;
r=r.cloneNode(!0);for(var o,s=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT);o=s.nextNode();)if("path"===o.localName){
if(o.hasAttribute("data-bx-shape")&&o.getAttribute("data-bx-shape").startsWith("rect")){
var l=t(o);l&&o.replace(l)}}else"style"===o.localName?""===n(o.textContent)&&o.remove():"defs"===o.localName&&0===o.children.length&&o.remove();
u(r),c(r,i),e(r,a);var h=d(r,i);return h},u=function(e){var t=e.querySelectorAll("text"),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if(1===s.children.length)if("tspan"===s.firstElementChild.localName){var l=s.firstElementChild,u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=l.style[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var f=h.value;
s.style[f]=l.style[f]}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}s.textContent=l.textContent}else if("textPath"===s.firstElementChild.localName){
var b=s.firstElementChild;if(1===b.children.length){var g=b.firstElementChild,p=!0,y=!1,x=void 0;
try{for(var _=void 0,w=g.style[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){var S=_.value;
s.style[S]=g.style[S]}}catch(M){y=!0,x=M}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw x}}b.textContent=g.textContent}}}}catch(C){r=!0,i=C}finally{try{
n||null==o["return"]||o["return"]()}finally{if(r)throw i}}},c=function(e,t){if("xml"===t){
for(var n,r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),l=!1,u=!1;n=r.nextNode();)if(n.localName.startsWith("bx-")){
var c=document.createElementNS(s,"bx:"+n.localName.substring(3)),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=$traceurRuntime.spread(n.attributes)[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value;c.setAttribute(b.name,b.value)}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}var p=!0,y=!1,x=void 0;try{for(var _=void 0,w=$traceurRuntime.spread(n.childNodes)[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){
var S=_.value;c.append(S)}}catch(M){y=!0,x=M}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw x}}n.replace(c),u=!0}else{var C=!0,R=!1,k=void 0;try{for(var E=void 0,A=$traceurRuntime.spread(n.attributes)[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){
var P=E.value;if("href"===P.name)n.setAttribute("xlink:href",n.getAttribute("href")),
n.removeAttribute("href"),l=!0;else if(P.name.startsWith("data-bx-")){var T=P.name.substring(8);
n.setAttributeNS(s,"bx:"+T,P.value),n.removeAttribute(P.name),u=!0}}}catch(L){R=!0,
k=L}finally{try{C||null==A["return"]||A["return"]()}finally{if(R)throw k}}}e.setAttributeNS(i,"xmlns",o),
l&&e.setAttributeNS(i,"xmlns:xlink",a),u&&e.setAttributeNS(i,"xmlns:bx",s)}else if("html"===t)for(var $,j=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT);$=j.nextNode();){
var N=!0,O=!1,V=void 0;try{for(var z=void 0,D=$traceurRuntime.spread($.attributes)[Symbol.iterator]();!(N=(z=D.next()).done);N=!0){
var G=z.value;"href"===G.name&&($.setAttribute("xlink:href",$.getAttribute("href")),
$.removeAttribute("href"))}}catch(I){O=!0,V=I}finally{try{N||null==D["return"]||D["return"]();
}finally{if(O)throw V}}}},d=function(e,t){var n;if("xml"===t){var r=new XMLSerializer,i='<?xml version="1.0" encoding="utf-8"?>\n';
n=i+r.serializeToString(e)}else if("html"===t){var a="<!doctype html>\n";n=a+e.outerHTML,
n=n.replaceAll(' xmlns:xlink="http://www.w3.org/1999/xlink"',"")}return n=n.replaceAll("url(&quot;","url("),
n=n.replaceAll("&quot;)",")")};return{get exportArtwork(){return l}}}),$traceurRuntime.registerModule("utils/artwork-general",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/array","utils/artwork-general")).removeDuplicates,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","utils/artwork-general")).compareElements,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","utils/artwork-general")).PROPERTIES_ACCEPTING_URL_VALUES,r=function(e){
var t=new DOMParser,n=t.parseFromString(e,"text/html");return null!==n.querySelector("svg");
},i=function(r,i){!function(){var e=!0,n=!1,a=void 0;try{for(var o=void 0,s=r.querySelectorAll("use")[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){
var l=o.value;if(""!==l.href.baseVal){var u=r.querySelector(l.href.baseVal),c=i.querySelector(l.href.baseVal);
u&&c&&t(u,c)&&u.remove()}}}catch(d){n=!0,a=d}finally{try{e||null==s["return"]||s["return"]();
}finally{if(n)throw a}}}(),function(){var e=$traceurRuntime.spread(r.querySelectorAll("pattern:not([href])")),n=$traceurRuntime.spread(i.querySelectorAll("pattern:not([href])")),a=!0,o=!1,s=void 0;
try{for(var l=function(){var e=u.value,r=n.find(function(t){return t.id===e.id});r&&t(e,r)&&e.remove();
},u=void 0,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)l()}catch(d){o=!0,s=d;
}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s}}}(),function(){
var t=$traceurRuntime.spread(r.querySelectorAll("[id]")).map(function(e){return e.id;
}),a=$traceurRuntime.spread(i.querySelectorAll("[id]")).map(function(e){return e.id;
});r.id&&t.push(r.id),i.id&&a.push(i.id);var o=t.filter(function(e){return a.includes(e);
});o=e(o),o.remove("bx-google-fonts");var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=r.id===h?r:r.querySelector("#"+h),f=void 0;f="linearGradient"===v.localName||"radialGradient"===v.localName?"gradient":"clipPath"===v.localName?"path":v.localName;
for(var m=void 0,b=1;;){var g=f+"-"+b;if(null===r.querySelector("#"+g)&&null===i.querySelector("#"+g)&&r.id!==g&&i.id!==g){
m=g;break}b+=1}for(var p=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT),y=null;y=p.nextNode();){
y.id===h&&(y.id=m),y.href&&y.href.baseVal==="#"+h&&y.setAttribute("href","#"+m);var x=!0,_=!1,w=void 0;
try{for(var S=void 0,M=n[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){var C=S.value,R=y.style.getPropertyValue(C);
if(R&&R.startsWith("url(")){var k=R.substring(6,R.length-2);k===h&&y.style.setProperty(C,"url(#"+m+")");
}}}catch(E){_=!0,w=E}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w;
}}}}}catch(A){l=!0,u=A}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u;
}}}()};return{get isArtworkString(){return r},get prepareArtworkForInsertion(){return i;
}}}),$traceurRuntime.registerModule("utils/artwork-import",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/array","utils/artwork-import")).removeDuplicates,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","utils/artwork-import")).createElement,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","utils/artwork-import")),r=n.isGoogleFontsImportRule,i=n.parseGoogleFontsURL,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/gradient","utils/artwork-import")),o=a.hasOwnStops,s=a.getGradientAttribute,l=a.getInheritedGradientStops,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/artwork-import")).normalize,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-conversion","utils/artwork-import")),d=c.circleToEllipse,h=c.lineToPath,v=c.polylineToPath,f=c.polygonToPath,m=(c.pathToRect,
c.rectToPath),b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","utils/artwork-import")),g=b.getFurthestAncestorPattern,p=b.getInheritedPatternAttributes,y=b.getParentPattern,x=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-shapes","utils/artwork-import")).validateShapeData,_=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/string","utils/artwork-import")).collapseWhitespace,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","utils/artwork-import")).reflectStyleElementCSSOM),w=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/constants","utils/artwork-import")),S=w.PROPERTIES,M=w.DEPRECATED_SVG_ELEMENTS,C=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,R=SVGLength.SVG_LENGTHTYPE_PERCENTAGE,k=Object.keys,E=function(e,t){
var n=A(e);null===n&&(n=A('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>')),
P(n);for(var r,i=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT);r=i.nextNode();)if("#comment"!==r.nodeName)if(M.includes(r.nodeName))r.remove();else if("script"!==r.nodeName&&"foreignObject"!==r.nodeName&&"title"!==r.nodeName&&"metadata"!==r.nodeName&&"switch"!==r.nodeName)if("circle"!==r.nodeName)if("rect"!==r.nodeName)if("line"!==r.nodeName)if("polyline"!==r.nodeName)if("polygon"!==r.nodeName){
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=$traceurRuntime.spread(r.attributes)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;if("requiredFeatures"===c.name||"requiredExtensions"===c.name||"externalResourcesRequired"===c.name||"systemLanguage"===c.name)r.removeAttribute(c.name);else if(c.name.startsWith("on"))r.removeAttribute(c.name);else if("data-bx-shape"===c.name)x(r)===!1&&r.removeAttribute("data-bx-shape");else if(S.includes(c.name)){
var b=c.name;""===r.style.getPropertyValue(b)&&r.style.setProperty(b,r.getAttribute(b)),
r.removeAttribute(c.name)}}}catch(g){o=!0,s=g}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}}else r.replace(f(r));else r.replace(v(r));else r.replace(h(r));else r.replace(m(r,"shape",t));else r.replace(d(r));else r.remove();else r.remove();
return T(n),L(n),$(n),j(n),N(n),O(n),V(n),z(n),document.importNode(n,!0),n},A=function(e){
var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.querySelector("svg")||null;
return r},P=function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT);t=n.nextNode();)if(t.nodeName.includes(":"))if(t.nodeName.startsWith("bx:")){
var r=t.nodeName.split(":")[1],i=document.createElement("bx-"+r),a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=$traceurRuntime.spread(t.attributes)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;i.setAttribute(c.name,c.value)}}catch(d){o=!0,s=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}var h=!0,v=!1,f=void 0;try{for(var m=void 0,b=$traceurRuntime.spread(t.childNodes)[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value;i.append(g)}}catch(p){v=!0,f=p}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}t.replace(i)}else t.remove();else{var y=!0,x=!1,_=void 0;try{
for(var w=void 0,S=$traceurRuntime.spread(t.attributes)[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var M=w.value,C=M.name,R=M.value;if(C.includes(":"))if("xlink:href"===C)t.hasAttribute("href")===!1&&t.setAttribute("href",t.getAttribute("xlink:href")),
t.removeAttribute("xlink:href");else if(C.startsWith("bx:")){var k=C.split(":")[1];
t.setAttribute("data-bx-"+k,R),t.removeAttribute(C)}else t.removeAttribute(C)}}catch(E){
x=!0,_=E}finally{try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}}},T=function(e){
!function(){var n,r=e.querySelectorAll("defs");if(0===r.length)n=t("svg:defs"),e.prepend(n);else if(1===r.length)n=r[0],
e.firstElementChild!==n&&e.prepend(n);else if(r.length>1){n=t("svg:defs");var i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=$traceurRuntime.spread(u.children)[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;n.append(m)}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}u.remove()}}catch(g){a=!0,o=g}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}e.prepend(n)}}(),function(){var t=e.querySelector("defs"),n="\n      solidColor, linearGradient, radialGradient, mesh, pattern, hatch,\n      symbol, marker, filter, clipPath, mask, style, script\n    ",r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e.querySelectorAll(n)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.parentElement!==t&&t.append(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}()},L=function(e){var t=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod","style"],n=!0,r=!1,i=void 0;
try{for(var a=void 0,c=e.querySelectorAll("linearGradient")[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){
var d=a.value,h=!0,v=!1,f=void 0;try{for(var m=void 0,b=$traceurRuntime.spread(d.children)[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value;"stop"!==g.localName&&d.removeChild(g)}}catch(p){v=!0,f=p}finally{try{
h||null==b["return"]||b["return"]()}finally{if(v)throw f}}if(""!==d.href.baseVal){
if(o(d)===!1){var y=l(d),x=!0,_=!1,w=void 0;try{for(var S=void 0,M=y[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var k=S.value;d.append(k.cloneNode())}}catch(E){_=!0,w=E}finally{try{x||null==M["return"]||M["return"]();
}finally{if(_)throw w}}}var A=!0,P=!1,T=void 0;try{for(var L=void 0,$=t[Symbol.iterator]();!(A=(L=$.next()).done);A=!0){
var j=L.value;if(d.hasAttribute(j)===!1){var N=s(d,j);null!==N&&d.setAttribute(j,N);
}}}catch(O){P=!0,T=O}finally{try{A||null==$["return"]||$["return"]()}finally{if(P)throw T;
}}d.removeAttribute("href")}var V=0,z=!0,D=!1,G=void 0;try{for(var I=void 0,B=d.children[Symbol.iterator]();!(z=(I=B.next()).done);z=!0){
var U=I.value,H=U.offset.baseVal;V>H&&(H=V),H=u(H,0,1,4),V=H,U.setAttribute("offset",H);
}}catch(F){D=!0,G=F}finally{try{z||null==B["return"]||B["return"]()}finally{if(D)throw G;
}}d.gradientUnits.baseVal===C&&(d.x1.baseVal.unitType===R&&d.setAttribute("x1",d.x1.baseVal.valueInSpecifiedUnits/100),
d.y1.baseVal.unitType===R&&d.setAttribute("y1",d.y1.baseVal.valueInSpecifiedUnits/100),
d.x2.baseVal.unitType===R&&d.setAttribute("x2",d.x2.baseVal.valueInSpecifiedUnits/100),
d.y2.baseVal.unitType===R&&d.setAttribute("y2",d.y2.baseVal.valueInSpecifiedUnits/100));
}}catch(q){r=!0,i=q}finally{try{n||null==c["return"]||c["return"]()}finally{if(r)throw i;
}}},$=function(e){var t=["r","cx","cx","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod","style"],n=!0,r=!1,i=void 0;
try{for(var a=void 0,c=e.querySelectorAll("radialGradient")[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){
var d=a.value;if(""!==d.href.baseVal){if(o(d)===!1){var h=l(d),v=!0,f=!1,m=void 0;
try{for(var b=void 0,g=h[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var p=b.value;
d.append(p.cloneNode())}}catch(y){f=!0,m=y}finally{try{v||null==g["return"]||g["return"]();
}finally{if(f)throw m}}}var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=t[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var k=S.value;if(d.hasAttribute(k)===!1){var E=s(d,k);null!==E&&d.setAttribute(k,E);
}}}catch(A){_=!0,w=A}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w;
}}d.removeAttribute("href")}var P=0,T=function(){var e=0,t=[],n=!0,r=!1,i=void 0;try{
for(var a=void 0,o=d.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"stop"===s.localName&&(t[e++]=s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return t}(),L=!0,$=!1,j=void 0;try{for(var N=void 0,O=T[Symbol.iterator]();!(L=(N=O.next()).done);L=!0){
var V=N.value,z=V.offset.baseVal;P>z&&(z=P),z=u(z,0,1,4),P=z,V.setAttribute("offset",z);
}}catch(D){$=!0,j=D}finally{try{L||null==O["return"]||O["return"]()}finally{if($)throw j;
}}d.removeAttribute("fx"),d.removeAttribute("fy"),d.removeAttribute("fr"),d.gradientUnits.baseVal===C&&(d.r.baseVal.unitType===R&&d.setAttribute("r",d.r.baseVal.valueInSpecifiedUnits/100),
d.cx.baseVal.unitType===R&&d.setAttribute("cx",d.cx.baseVal.valueInSpecifiedUnits/100),
d.cy.baseVal.unitType===R&&d.setAttribute("cy",d.cy.baseVal.valueInSpecifiedUnits/100));
}}catch(G){r=!0,i=G}finally{try{n||null==c["return"]||c["return"]()}finally{if(r)throw i;
}}},j=function(e){!function(){var t=e.querySelectorAll("pattern"),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if(s.hasAttribute("id")===!1){for(var l=0;null!==e.querySelector("#pattern-"+l);)l+=1;
s.setAttribute("id","pattern-"+l)}}}catch(u){r=!0,i=u}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=t[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;if(m.hasAttribute("href")){var b=m.getAttribute("href"),y=e.querySelector(b);
y||m.removeAttribute("href")}}}catch(x){d=!0,h=x}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}var _=!0,w=!1,S=void 0;try{for(var M=void 0,k=t[Symbol.iterator]();!(_=(M=k.next()).done);_=!0){
var E=M.value;if(E.hasAttribute("href")&&E.children.length>0){var A=p(E),P=!0,T=!1,L=void 0;
try{for(var $=void 0,j=A[Symbol.iterator]();!(P=($=j.next()).done);P=!0){var N=$.value,O=N.name,V=N.value;
E.setAttribute(O,V)}}catch(z){T=!0,L=z}finally{try{P||null==j["return"]||j["return"]();
}finally{if(T)throw L}}E.removeAttribute("href")}}}catch(D){w=!0,S=D}finally{try{
_||null==k["return"]||k["return"]()}finally{if(w)throw S}}var G=!0,I=!1,B=void 0;try{
for(var U=void 0,H=t[Symbol.iterator]();!(G=(U=H.next()).done);G=!0){var F=U.value;
if(F.hasAttribute("href")){var q=F.getAttribute("href"),W=e.querySelector(q);if(W.hasAttribute("href")){
var Y=g(F),X=p(F),Z=!0,K=!1,J=void 0;try{for(var Q=void 0,ee=X[Symbol.iterator]();!(Z=(Q=ee.next()).done);Z=!0){
var te=Q.value,ne=te.name,re=te.value;Y.hasAttribute(ne)===!1&&F.setAttribute(ne,re);
}}catch(ie){K=!0,J=ie}finally{try{Z||null==ee["return"]||ee["return"]()}finally{if(K)throw J;
}}F.setAttribute("href","#"+Y.id)}}}}catch(ae){I=!0,B=ae}finally{try{G||null==H["return"]||H["return"]();
}finally{if(I)throw B}}var oe=["x","y","width","height","viewBox","preserveAspectRatio","patternUnits","patternContentUnits"],se=!0,le=!1,ue=void 0;
try{for(var ce=void 0,de=t[Symbol.iterator]();!(se=(ce=de.next()).done);se=!0){var he=ce.value;
if(he.hasAttribute("href")){var ve=!0,fe=!1,me=void 0;try{for(var be=void 0,ge=oe[Symbol.iterator]();!(ve=(be=ge.next()).done);ve=!0){
var pe=be.value;he.hasAttribute(pe)&&he.removeAttribute(pe)}}catch(ye){fe=!0,me=ye;
}finally{try{ve||null==ge["return"]||ge["return"]()}finally{if(fe)throw me}}}}}catch(xe){
le=!0,ue=xe}finally{try{se||null==de["return"]||de["return"]()}finally{if(le)throw ue;
}}var _e=!0,we=!1,Se=void 0;try{for(var Me=void 0,Ce=t[Symbol.iterator]();!(_e=(Me=Ce.next()).done);_e=!0){
var Re=Me.value;Re.hasAttribute("href")===!1&&Re.patternUnits.baseVal===C&&(Re.hasAttribute("x")&&Re.x.baseVal.unitType===R&&Re.setAttribute("x",Re.x.baseVal.valueInSpecifiedUnits/100),
Re.hasAttribute("y")&&Re.y.baseVal.unitType===R&&Re.setAttribute("y",Re.y.baseVal.valueInSpecifiedUnits/100),
Re.hasAttribute("width")&&Re.width.baseVal.unitType===R&&Re.setAttribute("width",Re.width.baseVal.valueInSpecifiedUnits/100),
Re.hasAttribute("height")&&Re.height.baseVal.unitType===R&&Re.setAttribute("height",Re.height.baseVal.valueInSpecifiedUnits/100));
}}catch(ke){we=!0,Se=ke}finally{try{_e||null==Ce["return"]||Ce["return"]()}finally{
if(we)throw Se}}}(),function(){var n=$traceurRuntime.spread(e.querySelectorAll("pattern")),r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),i=null,a=Symbol(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d[a]=[]}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]()}finally{
if(s)throw l}}for(;i=r.nextNode();){var v=!0,f=!1,m=void 0;try{for(var b=function(){
var e=g.value,t=i.style[e];if(t&&t.startsWith("url(")){var r=t.substring(6,t.length-2),o=n.find(function(e){
return e.id===r});o&&o[a].includes(i)===!1&&o[a].push(i)}},g=void 0,p=["fill","stroke"][Symbol.iterator]();!(v=(g=p.next()).done);v=!0)b();
}catch(x){f=!0,m=x}finally{try{v||null==p["return"]||p["return"]()}finally{if(f)throw m;
}}}var _=!0,w=!1,S=void 0;try{for(var M=void 0,C=n[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value,k=R[a];if(k.length>1){var E=!0,A=!1,P=void 0;try{for(var T=void 0,L=k[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var $=T.value,j=!0,N=!1,O=void 0;try{for(var V=void 0,z=["fill","stroke"][Symbol.iterator]();!(j=(V=z.next()).done);j=!0){
var D=V.value;if($.style[D]==='url("#'+R.id+'")'){for(var G=R.hasAttribute("href")?y(R):R,I=void 0,B=1;;){
if(I=G.id+"-"+B,!e.querySelector("#"+I))break;B+=1}var U=R.hasAttribute("href")?R.cloneNode():t("svg:pattern");
U.setAttribute("id",I),U.setAttribute("href","#"+G.id),e.querySelector("defs").append(U),
$.style[D]="url(#"+U.id+")"}}}catch(H){N=!0,O=H}finally{try{j||null==z["return"]||z["return"]();
}finally{if(N)throw O}}}}catch(F){A=!0,P=F}finally{try{E||null==L["return"]||L["return"]();
}finally{if(A)throw P}}}}}catch(q){w=!0,S=q}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}}()},N=function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e.querySelectorAll("symbol")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if(o.hasAttribute("id")===!1){for(var s=0;null!==e.querySelector("#symbol-"+s);)s+=1;
o.setAttribute("id","symbol-"+s)}}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},O=function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e.querySelectorAll("use")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=e.querySelector(o.href.baseVal);if(s&&"symbol"!==s.localName){var l=SVGMatrix.fromMatrix(s.transform.baseVal.consolidate().matrix);
l.multiplySelf(o.transform.baseVal.consolidate().matrix),l.translateSelf(o.x.baseVal.value,o.y.baseVal.value);
var u=s.cloneNode(!0);u.setAttribute("transform",l);var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=o.style[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;""===u.style[m]&&(u.style[m]=o.style.name)}}catch(b){d=!0,h=b}finally{
try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}var g=!0,p=!1,y=void 0;
try{for(var x=void 0,_=u.querySelectorAll("*[id]")[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){
var w=x.value;w.removeAttribute("id")}}catch(S){p=!0,y=S}finally{try{g||null==_["return"]||_["return"]();
}finally{if(p)throw y}}u.id=o.id,o.replace(u)}}}catch(M){n=!0,r=M}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},V=function(e){var n=!0,r=!1,i=void 0;try{for(var a=function(){
var n=o.value;n.normalize(),function(){n.removeAttribute("dx"),n.removeAttribute("dy"),
n.removeAttribute("rotate"),n.x.baseVal.numberOfItems>1&&n.setAttribute("x",n.x.baseVal[0].valueAsString),
n.y.baseVal.numberOfItems>1&&n.setAttribute("y",n.y.baseVal[0].valueAsString)}(),
function(){var e=n.querySelectorAll("textPath");if(1===e.length){var t=e[0];if(t.parentElement===n){
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=$traceurRuntime.spread(n.children)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l!==t&&l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}else if(e.length>1){var c=e[0];n.innerHTML="",n.append(c);
}}}(),function(){var r=n.querySelectorAll("tref"),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=u.getAttribute("href"),d=c?e.querySelector(c):null;if(d){var h=t("tspan");
h.textContent=d.textContent,u.replace(d)}else u.remove()}}catch(v){a=!0,o=v}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}}(),function(){for(var e=[],r=n.firstElementChild,i=r&&"textPath"===r.localName?r:n,a=document.createTreeWalker(i,NodeFilter.SHOW_TEXT,null),o=function(e,t){
var n=k(e),r=k(t);if(n.length!==r.length)return!1;var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if(e[u]!==t[u])return!1}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return!0};a.nextNode();){for(var s=a.currentNode,l={},u=null,c=s.parentNode;c!==n;c=c.parentNode){
var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=c.style[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var b=f.value;void 0===l[b]&&(l[b]=c.style[b])}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}null===u&&"a"===c.localName&&c.hasAttribute("href")&&(u=c.getAttribute("href"));
}var p=e[e.length-1];if(p&&o(p.style,l)&&p.href===u)p.textContent+=s.textContent;else{
var y={textContent:s.textContent,style:l,href:u};e.push(y)}}var x=document.createDocumentFragment(),_=!0,w=!1,S=void 0;
try{for(var M=void 0,C=e[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){var R=M.value,E=t("svg:tspan"),A=!0,P=!1,T=void 0;
try{for(var L=void 0,$=k(R.style)[Symbol.iterator]();!(A=(L=$.next()).done);A=!0){
var j=L.value;E.style[j]=R.style[j]}}catch(N){P=!0,T=N}finally{try{A||null==$["return"]||$["return"]();
}finally{if(P)throw T}}if(R.href){var O=t("svg:a");O.setAttribute("href",R.href),
O.textContent=R.textContent,E.append(O)}else E.textContent=R.textContent;x.appendChild(E);
}}catch(V){w=!0,S=V}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}i.innerHTML="",i.append(x)}()},o=void 0,s=e.querySelectorAll("text")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a();
}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}},z=function(n){var a,o,s,l=null,u=[],c=!0,d=!1,h=void 0;try{for(var v=void 0,f=n.querySelectorAll("style")[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
for(var m=v.value,b=[],g=0,p=m.sheet.rules.length;p>g;g+=1){var y=m.sheet.rules[g];
if(r(y)){var x=!0,w=!1,S=void 0;try{for(var M=function(){var e=C.value,t=(o=e[Symbol.iterator](),
(s=o.next()).done?void 0:s.value),n=(s=o.next()).done?void 0:s.value,r=u.find(function(e){
return e.family===t});r?(a=r.faces).push.apply(a,$traceurRuntime.spread(n)):u.push({
family:t,faces:n})},C=void 0,R=i(y.href)[Symbol.iterator]();!(x=(C=R.next()).done);x=!0)M();
}catch(k){w=!0,S=k}finally{try{x||null==R["return"]||R["return"]()}finally{if(w)throw S;
}}b.push(g)}}if(b.length>0){var E=!0,A=!1,P=void 0;try{for(var T=void 0,L=b.reverse()[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var $=T.value;m.sheet.deleteRule($)}}catch(j){A=!0,P=j}finally{try{E||null==L["return"]||L["return"]();
}finally{if(A)throw P}}_(m),0===m.sheet.rules.length&&(null===l?l=m:m.remove())}}
}catch(N){d=!0,h=N}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}if(u.length>0){if(null===l){l=t("svg:style");var O=n.querySelector("defs");O.insertBefore(l,O.querySelector("style"));
}var V="@import url(https://fonts.googleapis.com/css?family=";u.sort(function(e,t){
return e.family>t.family});var z=!0,D=!1,G=void 0;try{for(var I=void 0,B=u[Symbol.iterator]();!(z=(I=B.next()).done);z=!0){
var U=I.value,H=U,F=H.family,q=H.faces;q=e(q),q.sort(),U!==u[0]&&(V+="|"),V+=F.replaceAll(" ","+")+":"+q.join(",");
}}catch(W){D=!0,G=W}finally{try{z||null==B["return"]||B["return"]()}finally{if(D)throw G;
}}V+=");",l.textContent=V,l.id="bx-google-fonts"}};return{get importArtwork(){return E;
}}}),$traceurRuntime.registerModule("utils/artwork-rasterization",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./artwork-export","utils/artwork-rasterization")).exportArtwork,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/artwork-rasterization")),n=t.createElement,r=(t.connectElement,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./time","utils/artwork-rasterization")).sleep,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/google-fonts-manager","utils/artwork-rasterization"))["default"],
function(t){var r=void 0!==arguments[1]?arguments[1]:"png",i=void 0!==arguments[2]?arguments[2]:1,a=void 0!==arguments[3]?arguments[3]:"rgba(0, 0, 0, 0)";
return new Promise(function(o){var s,l,u,c,d,h;return $traceurRuntime.asyncWrap(function(v){
for(;;)switch(v.state){case 0:s=e(t,"xml"),l=n("canvas"),u=l.getContext("2d"),c=new Blob([s],{
type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(c),h=new Image,h.src=d,
h.addEventListener("load",function(){l.width=h.naturalWidth,l.height=h.naturalHeight,
"jpg"===r&&(u.fillStyle="white",u.fillRect(0,0,h.naturalWidth,h.naturalHeight)),u.fillStyle=a,
u.fillRect(0,0,h.naturalWidth,h.naturalHeight),u.drawImage(h,0,0);var e=null;"png"===r?e=l.toDataURL("image/png",i):"jpg"===r&&(e=l.toDataURL("image/jpeg",i)),
o(e),URL.revokeObjectURL(d)}),v.state=-2;break;default:return v.end()}},this)})}),i=function(t,r,i){
t=t.cloneNode(!0),t.setAttribute("width","1000000px"),t.setAttribute("height","100px"),
t.setAttribute("viewBox","0 0 1000000 100");var a=n("svg:g");a.style.opacity="0";var o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=t.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;a.append(d)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}t.append(a);var v=$traceurRuntime.spread(t.querySelectorAll("symbol")),f={},m=1e5,b=!0,g=!1,p=void 0;
try{for(var y=void 0,x=v[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){var _=y.value,w=n("svg:use");
w.setAttribute("width","100"),w.setAttribute("height","100"),w.setAttribute("x",m),
w.href.baseVal="#"+_.id,t.append(w),f[_.id]=m,m+=200}}catch(S){g=!0,p=S}finally{try{
b||null==x["return"]||x["return"]()}finally{if(g)throw p}}var M=e(t,"xml"),C=n("canvas"),R=C.getContext("2d"),k=new Blob([M],{
type:"image/svg+xml;charset=utf-8"}),E=URL.createObjectURL(k),A=new Image,P=function(e){
for(var t=0===v.length;e.timeRemaining()>20&&t===!1;){var n=v.pop(),a=f[n.id];t=0===v.length,
R.clearRect(0,0,100,100),R.drawImage(A,-a,0),r(n.id,C.toDataURL("image/png"),t)}t===!1?requestIdleCallback(P):(URL.revokeObjectURL(E),
i&&i())};A.addEventListener("load",function(){C.width=100,C.height=100,requestIdleCallback(P);
}),A.src=E},a=function(t,r,i){t=t.cloneNode(!0),t.setAttribute("width","1000000px"),
t.setAttribute("height","100px"),t.setAttribute("viewBox","0 0 1000000 100");var a=n("svg:g");
a.style.opacity="0";var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=t.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;a.append(d)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}t.append(a);var v={},f=1e5,m=$traceurRuntime.spread(t.querySelectorAll("pattern"));
m=m.filter(function(e){return e.hasAttribute("href")===!1});var b=!0,g=!1,p=void 0;
try{for(var y=void 0,x=m[Symbol.iterator]();!(b=(y=x.next()).done);b=!0){var _=y.value;
_.removeAttribute("patternTransform");var w=n("svg:rect");w.setAttribute("width","100"),
w.setAttribute("height","100"),w.setAttribute("x",f),w.setAttribute("fill",'url("#'+_.id+'")'),
t.append(w),v[_.id]=f,f+=200}}catch(S){g=!0,p=S}finally{try{b||null==x["return"]||x["return"]();
}finally{if(g)throw p}}var M=e(t,"xml"),C=n("canvas"),R=C.getContext("2d"),k=new Blob([M],{
type:"image/svg+xml;charset=utf-8"}),E=URL.createObjectURL(k),A=new Image,P=function(e){
for(var t=0===m.length;e.timeRemaining()>20&&t===!1;){var n=m.pop(),a=v[n.id];t=0===m.length,
R.clearRect(0,0,100,100),R.drawImage(A,-a,0),r(n.id,C.toDataURL("image/png"),t)}t===!1?requestIdleCallback(P):(URL.revokeObjectURL(E),
i&&i())};A.addEventListener("load",function(){C.width=100,C.height=100,requestIdleCallback(P);
}),A.src=E};return{get rasterizeArtwork(){return r},get getSymbolThumbnails(){return i;
},get getPatternThumbnails(){return a}}}),$traceurRuntime.registerModule("utils/bbox",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./node","utils/bbox")).closest,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./rect","utils/bbox")).combineRects,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./text","utils/bbox")).getRangeOffsetRelativeToElement,r={
fill:!0,stroke:!0,marker:!0,clipped:!0},i=function(i){var a,o=void 0!==arguments[1]?arguments[1]:r;
if("tspan"===i.localName){var s=document.createRange();if(s.selectNodeContents(i),
s.collapsed===!1){for(var l=e(s.startContainer,"text"),u=n(s,l,"start"),c=n(s,l,"end"),d=[],h=u;c>h;h+=1){
var v=l.getExtentOfChar(h);d.push(v)}a=t(d)}else a=new SVGRect(0,0,0,0)}else if("use"===i.localName){
var f=i.getBBox(),m=f.x,b=f.y,g=f.width,p=f.height;a=new SVGRect(i.hasAttribute("x")?i.x.baseVal.value:m,i.hasAttribute("y")?i.y.baseVal.value:b,i.hasAttribute("width")?i.width.baseVal.value:g,i.hasAttribute("height")?i.height.baseVal.value:p);
}else a=i.getBBox(o);return a},a=function(e){var t=e.getBoundingClientRect();return new SVGRect(t.left,t.top,t.width,t.height);
};return{get getUserBBox(){return i},get getClientBBox(){return a}}}),$traceurRuntime.registerModule("utils/color",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/string-scanner","utils/color"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/color")),n=t.NAMED_COLORS,r=t.MATERIAL_COLORS,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/color")),a=i.normalize,o=i.round,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./random","utils/color")).getRandomNumber,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./type","utils/color")).isNumber,u=Math,c=u.min,d=u.max,h=u.floor,v=Number,f=v.parseFloat,m=v.parseInt,b=function(){
var e=s(0,r.length-1,0);return r[e]},g=function(){return"#"+Math.floor(16777215*Math.random()).toString(16);
},p=function(e){var t=void 0!==arguments[1]?arguments[1]:"rgba",n=$traceurRuntime.getModule("classes/color")["default"];
if("rgba"===t){var r=E(e,"rgba"),i=r.r,a=r.g,o=r.b,s=r.a;return new n(i,a,o,s,"rgba");
}var l=E(e,"hsla"),u=l.h,c=l.s,d=l.l,h=l.a;return new n(u,c,d,h,"hsla")},y=function(e){
try{E(e)}catch(t){return!1}return!0},x=function(e){if(e=e.toLowerCase(),"#"!==e[0])return!1;
if(4!==e.length&&7!==e.length)return!1;e=e.substring(1);var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if(!t.includes(s))return!1}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!0},_=function(e,t,n){e/=360,t/=100,n/=100;var r=e,i=(2-t)*n,a=t*n;
return 1>=i?0===i?a=0:a/=i:2===i?a=0:a/=2-i,i/=2,r=360*r,a=100*d(0,c(1,a)),i=100*d(0,c(1,i)),
[r,a,i]},w=function(e,t,n){e/=360,t/=100,n=n/100*2,t*=1>=n?n:2-n;var r,i,a=e;return r=n+t===0?0:2*t/(n+t),
i=(n+t)/2,a=360*a,r=100*d(0,c(1,r)),i=100*d(0,c(1,i)),[a,r,i]},S=function(e,t,n){
e/=360,t/=100,n/=100;var r,i,o;if(0===t)r=i=o=n;else{var s,l,u=function(e,t,n){return 0>n&&(n+=1),
n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e};s=.5>n?n*(1+t):n+t-n*t,
l=2*n-s,r=u(l,s,e+1/3),i=u(l,s,e),o=u(l,s,e-1/3)}return r=a(255*r,0,255,0),i=a(255*i,0,255,0),
o=a(255*o,0,255,0),[r,i,o]},M=function(e,t,n){e/=255,t/=255,n/=255;var r,i,o,s=d(e,t,n),l=c(e,t,n);
if(r=i=o=(s+l)/2,s===l)r=i=0;else{var u=s-l;if(i=o>.5?u/(2-s-l):u/(s+l),s===e){var h;
h=n>t?6:0,r=(t-n)/u+h}else s===t?r=(n-e)/u+2:s===n&&(r=(e-t)/u+4)}return r=a(r/6*360,0,360,0),
i=a(100*i,0,100,1),o=a(100*o,0,100,1),[r,i,o]},C=function(e,t,n){e/=360,t/=100,n/=100;
var r=h(6*e),i=6*e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=0,u=0,c=0;return r%6===0?(l=n,
u=s,c=a):r%6===1?(l=o,u=n,c=a):r%6===2?(l=a,u=n,c=s):r%6===3?(l=a,u=o,c=n):r%6===4?(l=s,
u=a,c=n):r%6===5&&(l=n,u=a,c=o),l=255*l,u=255*u,c=255*c,[l,u,c]},R=function(e,t,n){
e/=255,t/=255,n/=255;var r=d(e,t,n),i=c(e,t,n),a=0,o=0,s=r,l=r-i;return o=0===r?0:l/r,
r===i?a=0:(r===e?a=(t-n)/l+(n>t?6:0):r===t?a=(n-e)/l+2:r===n&&(a=(e-t)/l+4),a/=6),
a=360*a,o=100*o,s=100*s,[a,o,s]},k=function(e,t){var n=E(e),r=A(n,t);return r},E=function(e){
var t,r,i,o,s,u=void 0!==arguments[1]?arguments[1]:"auto",c=P(e);if(7===c.length&&"rgb("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"NUM"===c[3].type&&","===c[4].text&&"NUM"===c[5].type&&")"===c[6].text)s={
r:f(c[1].text),g:f(c[3].text),b:f(c[5].text),a:1};else if(7===c.length&&"rgb("===c[0].text&&"PERCENTAGE"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&")"===c[6].text)s={
r:f(c[1].text)/100*255,g:f(c[3].text)/100*255,b:f(c[5].text)/100*255,a:1};else if(9===c.length&&"rgba("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"NUM"===c[3].type&&","===c[4].text&&"NUM"===c[5].type&&","===c[6].text&&"NUM"===c[7].type&&")"===c[8].text)s={
r:f(c[1].text),g:f(c[3].text),b:f(c[5].text),a:f(c[7].text)};else if(9===c.length&&"rgb("===c[0].text&&"PERCENTAGE"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&","===c[6].text&&"NUM"===c[7].type&&")"===c[8].text)s={
r:f(c[1].text)/100*255,g:f(c[3].text)/100*255,b:f(c[5].text)/100*255,a:f(c[7].text)
};else if(7===c.length&&"hsl("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&")"===c[6].text)s={
h:f(c[1].text),s:f(c[3].text),l:f(c[5].text),a:1};else if(9===c.length&&"hsla("===c[0].text&&"NUM"===c[1].type&&","===c[2].text&&"PERCENTAGE"===c[3].type&&","===c[4].text&&"PERCENTAGE"===c[5].type&&","===c[6].text&&"NUM"===c[7].type&&")"===c[8].text)s={
h:f(c[1].text),s:f(c[3].text),l:f(c[5].text),a:f(c[7].text)};else if("HEX"===c[0].type&&void 0===c[1]){
var d,h,v,b=c[0].text.substring(1);3===b.length?(d=b[0]+b[0],h=b[1]+b[1],v=b[2]+b[2]):(d=b[0]+b[1],
h=b[2]+b[3],v=b[4]+b[5]),s={r:m(d,16),g:m(h,16),b:m(v,16),a:1}}else n[e]&&(s={r:n[e][0],
g:n[e][1],b:n[e][2],a:1});if(!s)throw s=null,new Error('Invalid color string: "'+e+'"');
if(l(s.r)?(s.r=a(s.r,0,255,0),s.g=a(s.g,0,255,0),s.b=a(s.b,0,255,0),s.a=a(s.a,0,1,2)):l(s.h)&&(s.h=a(s.h,0,360,0),
s.s=a(s.s,0,100,1),s.l=a(s.l,0,100,1),s.a=a(s.a,0,1,2)),"rgba"===u&&l(s.h)){var g=S(s.h,s.s,s.l),p=(t=g[Symbol.iterator](),
(r=t.next()).done?void 0:r.value),y=(r=t.next()).done?void 0:r.value,x=(r=t.next()).done?void 0:r.value,_=s.a;
s={r:p,g:y,b:x,a:_}}else if("hsla"===u&&l(s.r)){var w=M(s.r,s.g,s.b),C=(i=w[Symbol.iterator](),
(o=i.next()).done?void 0:o.value),R=(o=i.next()).done?void 0:o.value,k=(o=i.next()).done?void 0:o.value,E=s.a;
s={h:C,s:R,l:k,a:E}}return s},A=function(e){var t,n,r,i,s,u,c=void 0!==arguments[1]?arguments[1]:"rgba",d=null;
if(["rgb","rgba","rgb%","rgba%","hex"].includes(c)){var h,v,f,m;if(l(e.r)?(h=e.r,
v=e.g,f=e.b,m=e.a):(t=S(e.h,e.s,e.l),n=t[Symbol.iterator](),h=(r=n.next()).done?void 0:r.value,
v=(r=n.next()).done?void 0:r.value,f=(r=n.next()).done?void 0:r.value,t,m=e.a),"rgb%"!==c&&"rgba%"!==c||(h=o(h/255*100,1),
v=o(v/255*100,1),f=o(f/255*100,1)),h=a(h,0,255,0),v=a(v,0,255,0),f=a(f,0,255,0),m=a(m,0,1,2),
"rgb"===c)d="rgb("+h+", "+v+", "+f+")";else if("rgba"===c)d="rgba("+h+", "+v+", "+f+", "+m+")";else if("rgb%"===c)d="rgb("+h+"%, "+v+"%, "+f+"%)";else if("rgba%"===c)d="rgb("+h+"%, "+v+"%, "+f+"%, "+m+")";else if("hex"===c){
var b=h.toString(16),g=v.toString(16),p=f.toString(16);1===b.length&&(b="0"+b),1===g.length&&(g="0"+g),
1===p.length&&(p="0"+p),d="#"+b+g+p}}else if("hsl"===c||"hsla"===c){var y,x,_,w;l(e.h)?(y=e.h,
x=e.s,_=e.l,w=e.a):(i=M(e.r,e.g,e.b),s=i[Symbol.iterator](),y=(u=s.next()).done?void 0:u.value,
x=(u=s.next()).done?void 0:u.value,_=(u=s.next()).done?void 0:u.value,i,w=e.a),y=a(y,0,360,0),
x=a(x,0,100,1),_=a(_,0,100,1),w=a(w,0,1,2),"hsl"===c?d="hsl("+y+", "+x+"%, "+_+"%)":"hsla"===c&&(d="hsla("+y+", "+x+"%, "+_+"%, "+w+")");
}return d},P=function(t){for(var n=[],r=new e(t.toLowerCase()),i=function(){var e=r.read();
!function(){if("r"===e||"h"===e){var t=e;if(e+r.peek(3)==="rgb("?t+=r.read(3):e+r.peek(4)==="rgba("?t+=r.read(4):e+r.peek(3)==="hsl("?t+=r.read(3):e+r.peek(4)==="hsla("&&(t+=r.read(4)),
t!==e)return void n.push({type:"FUNCTION",text:t})}if("#"===e){if(x(e+r.peek(6))){
var i=e+r.read(6);return void n.push({type:"HEX",text:i})}if(x(e+r.peek(3)))return t=e+r.read(3),
void n.push({type:"HEX",text:t})}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(e)){
for(var a=e;;){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(r.peek()))break;
a+=r.read()}return void("%"===r.peek()?(a+=r.read(),n.push({type:"PERCENTAGE",text:a
})):n.push({type:"NUM",text:a}))}/\u0009|\u000a|\u000c|\u000d|\u0020/.test(e)||n.push({
type:"CHAR",text:e})}()};null!==r.peek();)i();return n};return{get getRandomMaterialColor(){
return b},get getRandomHexColorString(){return g},get parseColor(){return p},get isValidColorString(){
return y},get isHexColorString(){return x},get hsvToHsl(){return _},get hslToHsv(){
return w},get hslToRgb(){return S},get rgbToHsl(){return M},get hsvToRgb(){return C;
},get rgbToHsv(){return R},get formatColorString(){return k},get stringToColor(){
return E},get colorToString(){return A}}}),$traceurRuntime.registerModule("utils/constants",[],function(){
"use strict";var e="http://www.w3.org/1999/xhtml",t="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xlink",r="http://www.w3.org/2000/xmlns/",i="https://www.boxy-svg.com/bx",a="AIzaSyBZd8UahlnRn53EWC7snRmOAuuktqBaP6k",o=["path","circle","ellipse","line","rect","polygon","polyline","image","text","solidColor","linearGradient","radialGradient","pattern","mesh","meshRow","meshPatch","hatch","hatchPath","stop","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","title","desc","metadata","svg","defs","g","a","symbol","marker","switch","use","view","tspan","textPath","clipPath","mask","script","style","foreignObject"],s=["font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","altGlyph","altGlyphDef","altGlyphItem","glyph","glyphRef","missing-glyph","hkern","vkern","set","animate","animateColor","animateMotion","animateTransform","mpath","cursor","tref","color-profile"],l=["solidColor","linearGradient","radialGradient","mesh","pattern","hatch"],u=["a","defs","g","marker","mask","pattern","svg","switch","symbol"],c=["circle","ellipse","image","line","path","polygon","polyline","rect","text","use"],d=["a","g","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","foreignObject"],h=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],v=["circle","ellipse","line","path","polygon","polyline","rect"],f=["text","textPath","tspan"],m=["alignment-baseline","baseline-shift","clip-path","clip-rule","clip","color-interpolation-filters","color-interpolation","color-profile","color-rendering","color","cursor","direction","display","dominant-baseline","enable-background","fill-opacity","fill-rule","fill","filter","flood-color","flood-opacity","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","text-rendering","unicode-bidi","vector-effect","visibility","word-spacing","writing-mode"],b=["direction","dominant-baseline","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],g=["glyph-orientation-horizontal","glyph-orientation-vertical","kerning"],p=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],y={
aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],
azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],
blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],
cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],
cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],
darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],
darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],
darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],
darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],
darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],
deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],
firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],
gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],
gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],
khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],
lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],
lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],
lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],
lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],
linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],
mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],
mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],
moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],
olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],
orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],
palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],
pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],
salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],
sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],
slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],
steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],
turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],
whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x=["#f44336","#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000","#e91e63","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162","#9c27b0","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff","#673ab7","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea","#3f51b5","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe","#2196f3","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff","#03a9f4","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea","#00bcd4","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4","#009688","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5","#4caf50","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853","#8bc34a","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17","#cddc39","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00","#ffeb3b","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00"," #ffd600","#ffc107","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107"," #ffb300","#ffa000"," #ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00","#ff9800","#fff3e0"," #ffe0b2","#ffcc80"," #ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180"," #ffab40"," #ff9100"," #ff6d00","#ff5722","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722"," #f4511e"," #e64a19"," #d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00","#795548","#efebe9"," #d7ccc8"," #bcaaa4"," #a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723","#9e9e9e"," #fafafa"," #f5f5f5"," #eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242"," #212121"," #607d8b"," #eceff1"," #cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64"," #37474f"," #263238"," #000000"," #ffffff"],_={
100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],
300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],
500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],
700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],
900:["900","800","700","600","500","400","300","200","100"]};return{get HTML_NAMESPACE(){
return e},get SVG_NAMESPACE(){return t},get XLINK_NAMESPACE(){return n},get XMLNS_NAMESPACE(){
return r},get BX_NAMESPACE(){return i},get GOOGLE_FONTS_API_KEY(){return a},get SVG_ELEMENTS(){
return o},get DEPRECATED_SVG_ELEMENTS(){return s},get PAINT_SERVER_ELEMENTS(){return l;
},get CONTAINER_ELEMENTS(){return u},get GRAPHICS_ELEMENTS(){return c},get TRANSFORMABLE_ELEMENTS(){
return d},get FILTER_ELEMENTS(){return h},get SHAPE_ELEMENTS(){return v},get TEXT_CONTENT_ELEMENTS(){
return f},get PROPERTIES(){return m},get TEXT_PROPERTIES(){return b},get DEPRECATED_PROPERTIES(){
return g},get PROPERTIES_ACCEPTING_URL_VALUES(){return p},get NAMED_COLORS(){return y;
},get MATERIAL_COLORS(){return x},get FONT_WEIGHTS_BY_MATCHING_ORDER(){return _}};
}),$traceurRuntime.registerModule("utils/curves-general",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/curves-general")).degToRad,t=Math,n=t.abs,r=t.sin,i=t.asin,a=t.cos,o=t.acos,s=t.tan,l=t.pow,u=t.sqrt,c=t.PI,d=function(e,t,n,r,i){
var a=(t.x-e.x)*i+e.x,o=(t.y-e.y)*i+e.y,s=(n.x-t.x)*i+t.x,l=(n.y-t.y)*i+t.y,u=(r.x-n.x)*i+n.x,c=(r.y-n.y)*i+n.y,d=(s-a)*i+a,h=(l-o)*i+o,v=(u-s)*i+s,f=(c-l)*i+l,m=(v-d)*i+d,b=(f-h)*i+h,g=[new SVGPoint(e.x,e.y),new SVGPoint(a,o),new SVGPoint(d,h),new SVGPoint(m,b)],p=[new SVGPoint(m,b),new SVGPoint(v,f),new SVGPoint(u,c),new SVGPoint(r.x,r.y)];
return[g,p]},h=function(e,t,r,i,s){var d=function(e){return n(e)<1e-11?0:e>0?1:-1;
},h=function(e,t,n,r){var i=(n-e)*(n-e),a=(r-t)*(r-t);return u(i+a)},v=function(e,t,n,r,i){
var a=-e+3*t-3*n+r,o=3*e-6*t+3*n,s=-3*e+3*t,l=-i+e,u=[3,-1];f(u,o/a,s/a,l/a);var c=[],d=!0,h=!1,v=void 0;
try{for(var m=void 0,b=u[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){var g=m.value;
g>=0&&1>=g&&c.push(g)}}catch(p){h=!0,v=p}finally{try{d||null==b["return"]||b["return"]();
}finally{if(h)throw v}}return c},f=function(e,t,r,i){var s=(l(t,2)-3*r)/9,h=(2*l(t,3)-9*t*r+27*i)/54;
if(l(h,2)<l(s,3)){var v=o(h/u(l(s,3)))/3;return e.splice(0,0,-2*u(s)*a(v)-t/3),e.splice(1,0,-2*u(s)*a(v+4*c/3)-t/3),
e.splice(2,0,-2*u(s)*a(v-4*c/3)-t/3),3}var f=-d(h)*l(n(h)+u(l(h,2)-l(s,3)),1/3),m=0==d(f)?0:s/f;
return e.splice(0,0,f+m-t/3),e.splice(1,0,-.5*(f+m)-t/3),e.splice(2,0,.5*u(3)*n(f-m)),
e[2]+1===1?2:1},m=$traceurRuntime.spread(v(t.x,r.x,i.x,s.x,e.x),v(t.y,r.y,i.y,s.y,e.y));
if(0===m.length)return-1;var b=-1,g=3,p=!0,y=!1,x=void 0;try{for(var _=void 0,w=m[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){
var S=_.value,M=l(1-S,3)*t.x+3*l(1-S,2)*S*r.x+3*(1-S)*l(S,2)*i.x+l(S,3)*s.x,C=l(1-S,3)*t.y+3*l(1-S,2)*S*r.y+3*(1-S)*l(S,2)*i.y+l(S,3)*s.y,R=h(e.x,e.y,M,C);
g>R&&(b=S,g=R)}}catch(k){y=!0,x=k}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw x}}return b},v=function(t,o,l,d,h,f,m,b,g,p){var y,x,_,w,S=[],M=e(m),C=function(e,t,n){
var i=e*a(n)-t*r(n),o=e*r(n)+t*a(n);return{x:i,y:o}};if(p)y=p[0],x=p[1],_=p[2],w=p[3];else{
var R=C(t,o,-M);t=R.x,o=R.y;var k=C(l,d,-M);l=k.x,d=k.y;var E=(t-l)/2,A=(o-d)/2,P=E*E/(h*h)+A*A/(f*f);
P>1&&(P=u(P),h=P*h,f=P*f);var T;T=b===g?-1:1;var L=h*h,$=f*f,j=L*$-L*A*A-$*E*E,N=L*A*A+$*E*E,O=T*u(n(j/N));
_=O*h*A/f+(t+l)/2,w=O*-f*E/h+(o+d)/2,y=i(((o-w)/f).toFixed(9)),x=i(((d-w)/f).toFixed(9)),
_>t&&(y=c-y),_>l&&(x=c-x),0>y&&(y=2*c+y),0>x&&(x=2*c+x),g&&y>x&&(y-=2*c),!g&&x>y&&(x-=2*c);
}var V=x-y;if(n(V)>120*c/180){var z=x,D=l,G=d;x=g&&x>y?y+120*c/180*1:y+120*c/180*-1,
l=_+h*a(x),d=w+f*r(x),S=v(l,d,D,G,h,f,m,0,g,[x,z,_,w])}V=x-y;var I=a(y),B=r(y),U=a(x),H=r(x),F=s(V/4),q=4/3*h*F,W=4/3*f*F,Y=[t,o],X=[t+q*B,o-W*I],Z=[l+q*H,d-W*U],K=[l,d];
if(X[0]=2*Y[0]-X[0],X[1]=2*Y[1]-X[1],p)return[X,Z,K].concat(S);S=[X,Z,K].concat(S).join().split(",");
var J=[],Q=[];return S.forEach(function(e,t){t%2?Q.push(C(S[t-1],S[t],M).y):Q.push(C(S[t],S[t+1],M).x),
6===Q.length&&(J.push(Q),Q=[])}),J},f=function(e){var t=void 0!==arguments[1]?arguments[1]:1,n=0,r=0;
if(e.length-1>2)for(var i=2;i<e.length;i+=1){var a=getPerpendicularDistance(e[i],e[1],e[e.length-1]);
a>r&&(n=i,r=a)}var o;if(r>t){var s=f(e.slice(1,n),t),l=f(e.slice(n),t);o=s.concat(l);
}else o=e;return o};return{get splitCurve(){return d},get getCubicCurveTParam(){return h;
},get arcToCubicCurves(){return v},get getRamerDouglasPeuckerPoints(){return f}}}),
$traceurRuntime.registerModule("utils/curves-schneider",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/curves-schneider"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/curves-schneider")).getDistanceBetweenPoints,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/vector","utils/curves-schneider")),r=n.subtractVectors,i=n.sumVectors,a=n.vectorsDotProduct,o=Math,s=o.abs,l=o.floor,u=o.max,c=function(t,n){
var i=r(new e(t[1]),new e(t[0])),a=r(new e(t[t.length-3]),new e(t[t.length-2]));i=i.normalize(),
a=a.normalize();var o=d(t,0,t.length-1,i,a,n);return o},d=function(n,a,o,s,l,c){var m,b;
if(o-a===1){var p=n[a],y=n[o],x=t(p,y)/3,_=new e(p),w=new e(y),S=i(_,s.scale(x)),M=i(w,l.scale(x)),C=[p,new SVGPoint(S.x,S.y),new SVGPoint(M.x,M.y),y];
return[C]}for(var R,k=v(n,a,o),E=u(c,c*c),A=0;4>=A;A+=1){var P=h(n,a,o,k,s,l),T=g(n,a,o,P,k),L=(m=T[Symbol.iterator](),
(b=m.next()).done?void 0:b.value),$=(b=m.next()).done?void 0:b.value;if(c>L)return[P];
if(R=$,L>=E)break;f(n,a,o,k,P),E=L}var j=r(new e(n[R-1]),new e(n[R])),N=r(new e(n[R]),new e(n[R+1])),O=i(j,N).multiply(.5).normalize(),V=d(n,a,R,s,O,c),z=d(n,R,o,O.multiply(-1),l,c),D=V.concat(z);
return D},h=function(n,o,l,u,c,d){for(var h=n[o],v=n[l],f=new e(h),m=new e(v),b=[[0,0],[0,0]],g=[0,0],p=l-o+1,y=0;p>y;y+=1){
var x=u[y],_=1-x,w=3*x*_,S=_*_*_,M=w*_,C=w*x,R=x*x*x,k=c.scale(M),E=d.scale(C);b[0][0]+=a(k,k),
b[0][1]+=a(k,E),b[1][0]=b[0][1],b[1][1]+=a(E,E);var A=r(new e(n[o+y]),f.multiply(S+M));
A=r(A,m.multiply(C+R)),g[0]+=a(k,A),g[1]+=a(E,A)}var P,T,L=b[0][0]*b[1][1]-b[1][0]*b[0][1],$=1e-6;
if(s(L)>$){var j=b[0][0]*g[1]-b[1][0]*g[0],N=g[0]*b[1][1]-g[1]*b[0][1];P=N/L,T=j/L;
}else{var O=b[0][0]+b[0][1],V=b[1][0]+b[1][1];P=T=s(O)>$?g[0]/O:s(V)>$?g[1]/V:0}var z=t(v,h);
$*=z,($>P||$>T)&&(P=T=z/3);var D=i(f,c.scale(P)),G=i(m,d.scale(T)),I=[h,new SVGPoint(D.x,D.y),new SVGPoint(G.x,G.y),v];
return I},v=function(e,n,r){for(var i=[0],a=n+1;r>=a;a+=1)i[a-n]=i[a-n-1]+t(e[a],e[a-1]);
for(var o=1,s=r-n;s>=o;o+=1)i[o]/=i[r-n];return i},f=function(e,t,n,r,i){for(var a=[],o=t;n>=o;o+=1)a[o-t]=m(i,e[o],r[o-t]);
return a},m=function(t,n,i){for(var o=[],l=[],u=0;2>=u;u+=1){var c=r(new e(t[u+1]),new e(t[u]));
o[u]=c.multiply(3)}for(var d=0;1>=d;d++){var h=r(o[d+1],o[d]);l[d]=h.multiply(2)}
var v=b(3,t,i),f=b(2,o,i),m=b(1,l,i),g=r(v,new e(n)),p=a(f,f)+a(g,m);return s(p)<1e-6?i:i-a(g,f)/p;
},b=function(t,n,r){for(var a=function(){var t=0,r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[t++]=new e(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return r}(),o=1;t>=o;o+=1)for(var s=0;t-o>=s;s+=1)a[s]=i(a[s].multiply(1-r),a[s+1].multiply(r));
return a[0]},g=function(t,n,i,a,o){for(var s=l((i-n+1)/2),u=0,c=n+1;i>c;c++){var d=r(b(3,a,o[c-n]),new e(t[c])),h=d.length;
h>=u&&(u=h,s=c)}return[u,s]};return{get getSchneiderCurves(){return c}}}),$traceurRuntime.registerModule("utils/element",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/element")),t=e.SVG_NAMESPACE,n=e.TRANSFORMABLE_ELEMENTS,r=e.CONTAINER_ELEMENTS,i=e.GRAPHICS_ELEMENTS,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./rect","utils/element")),o=(a.transformRect,
a.rectIntersectsRect),s=Number.parseInt,l=function(e){var n,r,i,a,o=void 0!==arguments[1]?arguments[1]:null,s=e.split(":"),l=null;
if(1===s.length){var u=(n=s[Symbol.iterator](),(r=n.next()).done?void 0:r.value);l=document.createElement(u,o);
}else if(2===s.length){var c=s,d=(i=c[Symbol.iterator](),(a=i.next()).done?void 0:a.value),h=(a=i.next()).done?void 0:a.value;
"svg"===d&&(l=document.createElementNS(t,h,o))}return l},u=function(e,t){var n=void 0!==arguments[2]?arguments[2]:null;
if(null===n){var r=t;return document.registerElement(e,r)}var i=t,a=n;return document.registerElement(i,{
"extends":e,prototype:a.prototype})},c=function(e){for(var t in e.parentElement.children){
var n=e.parentElement.children[t];if(n===e)return s(t)}},d=function(e,t){if(e.localName!==t.localName)return!1;
if(e.namespaceURI!==t.namespaceURI)return!1;if(e.textContent!==t.textContent)return!1;
if(e.children.length!==t.children.length)return!1;if(e.attributes.length!==t.attributes.length)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e.attributes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if("style"===s.name){if(e.style.cssText!==t.style.cssText)return!1}else if(e.getAttribute(s.name)!==t.getAttribute(s.name))return!1;
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}for(var u=0;u<e.children.length;u+=1)if(d(e.children[u],t.children[u])===!1)return!1;
return!0},h=function(e){return!!n.includes(e.localName)},v=function(e){return!!i.includes(e.localName);
},f=function(e){return!!r.includes(e.localName)},m=function(e){for(var t=e;t;t=t.parentNode||t.host)if(t===document)return!0;
return!1},b=function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;if("g"===l.localName||"a"===l.localName){var u=$traceurRuntime.spread(l.children);
t=$traceurRuntime.spread(t,b(u))}else i.includes(l.localName)&&t.push(l)}}catch(c){
r=!0,a=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return t;
},g=function(e){var t=[],n=["path","text","rect","circle","ellipse","line","polyline","polygon","use"],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=l.localName;
n.includes(u)?t.push(l):"g"!==u&&"a"!==u||(t=$traceurRuntime.spread(t,g(l.children)));
}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}return t},p=function(e,t){var n=y(e,t);if(n)for(;!r.includes(n.localName);)n=n.parentNode;
return n},y=function(e,t){for(;e=e.parentNode;)if(e.contains&&e.contains(t))return e;
return null},x=function(e){var t=void 0!==arguments[1]?arguments[1]:document.documentElement,n=[];
if(e!==t)for(;e.parentElement&&e.parentElement!==t;)e=e.parentElement,r.includes(e.localName)&&n.unshift(e);
return n},_=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t.push(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return t.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t));
}),t},w=function(e){var t=[];e=_(e);var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(s===e[0])t.push([s]);else{var l=!1,u=!0,c=!1,d=void 0;try{for(var h=void 0,v=t[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;s.parentElement===f[0].parentElement&&(f.push(s),l=!0)}}catch(m){c=!0,
d=m}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}l===!1&&t.push([s]);
}}}catch(b){r=!0,i=b}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t},S=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t.push(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}for(;t.length>1;){var u=t[0].compareDocumentPosition(t[1]);
4===u||20===u?t.remove(t[0]):t.remove(t[1])}return t[0]},M=function(e){var t=$traceurRuntime.getModule("./utils/bbox").getClientBBox,n=(e.ownerSVGElement.getScreenCTM().inverse(),
t(e)),r=e.ownerSVGElement.getIntersectionList(n,e.ownerSVGElement);return r=Array.from(r),
r.remove(e),r},C=function(e,t){if(!e.transform||!t.transform)return!1;var n=$traceurRuntime.getModule("./utils/bbox").getClientBBox,r=(e.getScreenCTM().inverse(),
n(e)),i=(t.getScreenCTM().inverse(),n(t));return o(r,i)},R=function(e){var t=[],n=[],r=!0,i=!1,a=void 0;
try{for(var o=function(){var r=s.value,i=[],a=function(t){var r=!0,o=!1,s=void 0;try{
for(var l=void 0,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value,d=!i.includes(c)&&!n.includes(c);
c!==t&&d&&C(c,t)&&(i.push(c),n.push(c),a(c))}}catch(h){o=!0,s=h}finally{try{r||null==u["return"]||u["return"]();
}finally{if(o)throw s}}};a(r),i.length>0&&t.push(_(i))},s=void 0,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)o();
}catch(u){i=!0,a=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw a;
}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=e[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;n.includes(m)||t.push([m])}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}return t},k=function(e){if(m(e))return function(){};for(var t=null,n=e;n;n=n.parentNode||n.host)t=n;
var r="\n      position: fixed;\n      top: -200px;\n      left: -200px;\n      width: 100px;\n      height: 100px;\n      opacity: 0;\n      display: block;\n    ",i=document.createElement("div");
i.setAttribute("style",r),i.createShadowRoot(),i.shadowRoot.append(t),document.body.append(i);
var a=function(){t.remove(),i.remove()};return a},E=function(e,t){t.parentElement.insertBefore(e,t.nextSibling);
},A=function(e,t){var n=void 0!==arguments[2]?arguments[2]:[],r=!0,i=!1,a=void 0;try{
for(var o=void 0,s=e.attributes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=l.name,c=l.value;
n.includes(u)===!1&&t.setAttribute(u,c)}}catch(d){i=!0,a=d}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var h=!0,v=!1,f=void 0;try{for(var m=void 0,b=t.attributes[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value.name;e.hasAttribute(g)===!1&&n.includes(g)===!1&&t.removeAttribute(g);
}}catch(p){v=!0,f=p}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw f;
}}};return{get createElement(){return l},get registerElement(){return u},get getElementIndex(){
return c},get compareElements(){return d},get isTransformableElement(){return h},
get isGraphicsElement(){return v},get isContainerElement(){return f},get isConnectedElement(){
return m},get queryGraphicsElements(){return b},get queryClippingElements(){return g;
},get getCommonContainer(){return p},get getCommonAncestor(){return y},get getContainers(){
return x},get sortByDomPosition(){return _},get sortBySiblingElements(){return w},
get getTopStackedElement(){return S},get getIntersectingElements(){return M},get isElementIntersectingElement(){
return C},get sortByIntersectingElements(){return R},get connectElement(){return k;
},get insertElementAfter(){return E},get mirrorAttributes(){return A}}}),$traceurRuntime.registerModule("utils/event",[],function(){
"use strict";var e=Math,t=e.sqrt,n=e.pow,r=function(e,r){var i=void 0!==arguments[2]?arguments[2]:3,a=t(n(r.clientX-e.clientX,2)+n(r.clientY-e.clientY,2));
return!(i>a&&r.timeStamp-e.timeStamp<50)};return{get isMouseMoveIntentional(){return r;
}}}),$traceurRuntime.registerModule("utils/font",[],function(){"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/font")).FONT_WEIGHTS_BY_MATCHING_ORDER,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/opentype","utils/font"))["default"],n=Math,r=n.tan,i=n.PI,a=function(e){
switch(e){case"normal":return"400";case"bold":return"700";default:return e}},o=function(e){
var t=a(e);switch(t){case"100":return"Thin";case"200":return"Extra-Light";case"300":
return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";
case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:
return"Normal"}},s=function(t,n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e[t][Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;if(n.includes(l))return l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}},l=function(e){switch(e){case"regular":return"400";case"bold":
return"700";case"italic":return"400italic";case"bolditalic":return"700italic";case"r":
return"400";case"b":return"700";case"i":return"400italic";default:return e}},u=function(t){
var n=void 0!==arguments[1]?arguments[1]:"400",r=void 0!==arguments[2]?arguments[2]:"normal",i=function(e,t){
var n=e.filter(function(e){return"normal"===t?e.endsWith("italic")===!1:"italic"===t||"oblique"===t?e.endsWith("italic")===!0:void 0;
});return 0===n.length&&(n=$traceurRuntime.spread(e)),n},a=function(t,n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[n][Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=t[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var f=h.value;
if(f.substring(0,3)===l)return f}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}}}catch(b){i=!0,a=b}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t[0]},o=i(t,r),s=a(o,n);return s},c=function(e){if(e.type===CSSRule.IMPORT_RULE&&e.href){
var t=new URL(e.href);if("fonts.googleapis.com"===t.host)return!0}return!1},d=function(e){
var t,n;e=new URL(e);var r=e.search.split("?family=")[1].split("&")[0],i=r.split("|"),a=[],o=!0,s=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,v=h.split(":"),f=(t=v[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),m=(n=t.next()).done?void 0:n.value,b=f.replaceAll("+"," "),g=void 0;
g=m?m.split(",").map(function(e){return l(e)}).sort():["400"],a.push([b,g])}}catch(p){
s=!0,u=p}finally{try{o||null==d["return"]||d["return"]()}finally{if(s)throw u}}return a;
},h=function(e){return new Promise(function(n){t.load(e,function(e,t){return n(e?null:t);
})})},v=function(e){var t;if("M"===e.type||"L"===e.type){var n=e,r=n.type,i=n.x,a=n.y;
t={type:r,x:i,y:a}}else if("Q"===e.type){var o=e,s=o.type,l=o.x1,u=o.y1,c=o.x,d=o.y;
t={type:s,x1:l,y1:u,x:c,y:d}}else if("C"===e.type){var h=e,v=h.type,f=h.x1,m=h.y1,b=h.x2,g=h.y2,p=h.x,y=h.y;
t={type:v,x1:f,y1:m,x2:b,y2:g,x:p,y:y}}else"Z"===e.type&&(t={type:"Z"});return t},f=function(e,n){
var a=i*n/180,o=new SVGMatrix([1,0,r(a),1,0,0]),s=[],l=!0,u=!1,c=void 0;try{for(var d=void 0,h=e.commands[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;if("M"===v.type){var f=new SVGPoint(v.x,v.y).matrixTransform(o);s.push({
type:"M",x:f.x,y:f.y})}else if("L"===v.type){var m=new SVGPoint(v.x,v.y).matrixTransform(o);
s.push({type:"L",x:m.x,y:m.y})}else if("Q"===v.type){var b=new SVGPoint(v.x1,v.y1).matrixTransform(o),g=new SVGPoint(v.x,v.y).matrixTransform(o);
s.push({type:"Q",x1:b.x,y1:b.y,x:g.x,y:g.y})}else if("C"===v.type){var p=(new SVGPoint(v.x1,v.y1).matrixTransform(o),
new SVGPoint(v.x2,v.y2).matrixTransform(o),new SVGPoint(v.x,v.y).matrixTransform(o));
s.push({type:"C",x1:controlPoint1.x,y1:controlPoint1.y,x2:controlPoint2.x,y2:controlPoint2.y,
x:p.x,y:p.y})}else"Z"===v.type&&s.push({type:"Z"})}}catch(y){u=!0,c=y}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}var x=new t.Path;return x.commands=s,
x.fill=e.fill,x.stroke=e.stroke,x.strokeWidth=e.strokeWidth,x},m=function(e,n,r,i){
var a=[],o=!0,s=!1,l=void 0;try{for(var u=void 0,c=e.commands[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;a.push(v(d))}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}a.push({type:"M",x:0,y:i}),a.push({type:"L",x:n,y:i}),a.push({
type:"L",x:n,y:i-r}),a.push({type:"L",x:0,y:i-r}),a.push({type:"Z"});var f=new t.Path;
return f.commands=a,f.fill=e.fill,f.stroke=e.stroke,f.strokeWidth=e.strokeWidth,f;
},b=function(e,n){for(var r=new t.Path,i=0;i<e.commands.length;i+=1){var a=e.commands[i];
"M"===a.type?r.moveTo(a.x*n,-a.y*n):"L"===a.type?r.lineTo(a.x*n,-a.y*n):"Q"===a.type?r.quadraticCurveTo(a.x1*n,-a.y1*n,a.x*n,-a.y*n):"C"===a.type?r.curveTo(a.x1*n,-a.y1*n,a.x2*n,-a.y2*n,a.x*n,-a.y*n):"Z"===a.type&&r.closePath();
}return r},g=function(e,t,n,r,i,a){var o=e.path;if(i&&(o=f(o,14)),r){var s=t.ascender/20;
r.includes("underline")&&(o=m(o,e.advanceWidth,s,t.descender/3)),r.includes("overline")&&(o=m(o,e.advanceWidth,s,t.ascender-s)),
r.includes("line-through")&&(o=m(o,e.advanceWidth,s,(t.ascender+t.descender)/2))}
return o=b(o,1/t.unitsPerEm*n)};return{get normalizeFontWeight(){return a},get formatFontWeightForDisplay(){
return o},get matchFontWeight(){return s},get normalizeGoogleFontFace(){return l},
get matchGoogleFontFace(){return u},get isGoogleFontsImportRule(){return c},get parseGoogleFontsURL(){
return d},get getOpenTypeFont(){return h},get getOpenTypeGlyphPath(){return g}}}),
$traceurRuntime.registerModule("utils/geometry",[],function(){"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/geometry"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/geometry")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./vector","utils/geometry")),r=n.sumVectors,i=n.vectorsDotProduct,a=Math,o=a.sin,s=a.cos,l=a.acos,u=a.atan2,c=a.abs,d=a.sqrt,h=a.pow,v=a.PI,f=Number.isNaN,m=function(e){
var t=e*(180/v);return t},b=function(e){var t=v*e/180;return t},g=function(e,n){var r=void 0!==arguments[2]?arguments[2]:null;
return null!==r?t(e.x,r)===t(n.x,r)&&t(e.y,r)===t(n.y,r):e.x===n.x&&e.y===n.y},p=function(t,n,r){
var a=void 0!==arguments[3]?arguments[3]:0;if(0===a){var o=(t.x*(n.y-r.y)+n.x*(r.y-t.y)+r.x*(t.y-n.y))/2;
return 0===o}var s=new e(t,n),u=new e(n,r),c=i(s,u),d=l(c/(s.length*u.length));if(f(d))return!0;
var h=m(d);return a>h},y=function(e,t){var n=t.x-e.x;n*=n;var r=t.y-e.y;r*=r;var i=d(n+r);
return i},x=function(e,t){var n=(e.x+t.x)/2,r=(e.y+t.y)/2;return new SVGPoint(n,r);
},_=function(t,n,a){var o,s=void 0!==arguments[3]?arguments[3]:!0,l=new SVGPoint(0,0),u=new SVGPoint(t.x,t.y),c=new SVGPoint(n.x,n.y),d=a,h=new e(l,u),v=new e(u,c),f=new e(u,d),m=i(f,v),b=i(v,v);
o=0!==b?m/b:0,s===!1&&(0>o?o=0:o>1&&(o=1));var g=r(h,v.multiply(o)),p=new SVGPoint(g.x,g.y);
return[p,o]},w=function(e,t){var n=void 0!==arguments[2]?arguments[2]:.5,r=t.x-e.x,i=t.y-e.y,a=new SVGPoint(e.x+n*r,e.y+n*i);
return a},S=function(t,n){for(var r=void 0!==arguments[2]?arguments[2]:22.5,i=new SVGPoint(t.x,t.y-1e3),a=C(t,i,n),l=[],u=-180;180>=u;u+=r)l.push(u);
var d=1/0,h=!0,v=!1,f=void 0;try{for(var m=void 0,g=l[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){
var p=m.value,x=p-a;c(x)<c(d)&&(d=x)}}catch(_){v=!0,f=_}finally{try{h||null==g["return"]||g["return"]();
}finally{if(v)throw f}}a+=d;var w=b(a-90),S=y(t,n),M=new e(s(w),o(w));M.length=S;var R=new SVGPoint(t.x+M.x,t.y+M.y);
return[R,a]},M=function(t,n){var r=void 0!==arguments[2]?arguments[2]:90,i=new SVGPoint(t.x,t.y-1e3),a=C(t,i,n),l=r-a;
a+=l;var u=b(a-90),c=y(t,n),d=new e(s(u),o(u));d.length=c;var h=new SVGPoint(t.x+d.x,t.y+d.y);
return h},C=function(t,n,r){var i=new e(t,n),a=new e(t,r),o=u(a.y,a.x)-u(i.y,i.x),s=R(m(o));
return s},R=function(e){for(;-180>e;)e+=360;for(;e>180;)e-=360;return e},k=function(e){
for(var t=void 0!==arguments[1]?arguments[1]:15,n=R(e),r=[],i=-180;180>=i;i+=t)r.push(i);
var a=r.reduce(function(e,t){return c(t-n)<c(e-n)?t:e});return a},E=function(e,t,n){
var r=(n.y-t.y)/(n.x-t.x),i=t.y-r*t.x,a=c(r*e.x-e.y+i)/d(h(r,2)+1);return a};return{
get radToDeg(){return m},get degToRad(){return b},get comparePoints(){return g},get checkCollinearity(){
return p},get getDistanceBetweenPoints(){return y},get getPointBetweenTwoPoints(){
return x},get getNearestPointOnLine(){return _},get getPointAtFraction(){return w;
},get snapPointToAngleMultiple(){return S},get snapPointToAngle(){return M},get getRotationAngleFromPoints(){
return C},get normalizeRotationAngle(){return R},get snapRotationAngle(){return k;
},get getPerpendicularDistance(){return E}}}),$traceurRuntime.registerModule("utils/gradient",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/gradient")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./color","utils/gradient")).parseColor,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/gradient")).createElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/gradient")),i=(r.round,
r.normalize,$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-general","utils/gradient")).getTransformFromPoints),a=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,o=function(e){
for(var t=document.createNodeIterator(e.ownerSVGElement,NodeFilter.SHOW_ELEMENT),n=null,r=[];n=t.nextNode();){
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=["fill","stroke"][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=n.style[u];if(c&&c.startsWith("url(")){var d=c.substring(6,c.length-2);
d===e.id&&r.includes(n)===!1&&r.push(n)}}}catch(h){a=!0,o=h}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}}return r},s=function(t,n){if(t.gradientUnits.baseVal===a){
var r=SVGMatrix.fromMatrix(t.gradientTransform.baseVal.consolidate().matrix),o=n.getScreenCTM(),s=n.getScreenCTM().inverse(),l=e(n),u=new SVGPoint(t.cx.baseVal.valueInSpecifiedUnits,t.cy.baseVal.valueInSpecifiedUnits),c=new SVGPoint(t.cx.baseVal.valueInSpecifiedUnits+t.r.baseVal.valueInSpecifiedUnits,t.cy.baseVal.valueInSpecifiedUnits),d=new SVGPoint(t.cx.baseVal.valueInSpecifiedUnits,t.cy.baseVal.valueInSpecifiedUnits-t.r.baseVal.valueInSpecifiedUnits),h=u.matrixTransform(r),v=c.matrixTransform(r),f=d.matrixTransform(r),m=new SVGPoint(l.x+h.x*l.width,l.y+h.y*l.height),b=new SVGPoint(l.x+v.x*l.width,l.y+v.y*l.height),g=new SVGPoint(l.x+f.x*l.width,l.y+f.y*l.height),p=m.matrixTransform(o),y=b.matrixTransform(o),x=g.matrixTransform(o);
u=new SVGPoint(0,0),c=new SVGPoint(100,0),d=new SVGPoint(0,-100);var _=i(u,c,d,p,y,x),w=new SVGMatrix;
w.multiplySelf(s),w.multiplySelf(_),t.setAttribute("gradientUnits","userSpaceOnUse"),
t.setAttribute("gradientTransform",w),t.setAttribute("cx","0"),t.setAttribute("cy","0"),
t.setAttribute("r","100")}},l=function(e,r){var i,a,o=n("canvas");o.width=i=100,o.height=a=10;
var s=o.getContext("2d");s.clearRect(0,0,i,a);var l=s.createLinearGradient(0,0,i,0),u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=e.children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;"stop"===f.localName&&l.addColorStop(f.offset.baseVal,f.style.stopColor||"#000");
}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}s.fillStyle=l,s.fillRect(0,0,i,a);var b=s.getImageData(r*i,0,1,1).data,g="rgb("+b[0]+", "+b[1]+", "+b[2]+")",p=t(g,"hsla");
return p},u=function(e){if(0===e.length)return!1;if(1===e.length)return!0;var t=e[0].childElementCount,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if(s!=e[0]&&s.childElementCount!==t)return!1}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}for(var u=0;t>u;u+=1){var c=e[0].children[u],d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=e[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var b=f.value;
if(b!==e[0]){if(b.children[u].offset.baseVal!==c.offset.baseVal)return!1;if(b.children[u].style.stopColor!==c.style.stopColor)return!1;
}}}catch(g){h=!0,v=g}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}}return!0},c=function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if("stop"===o.localName)return!0}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return!1},d=function(e){var t=[],n=function(r){var i=e.ownerSVGElement.querySelector(r.href.baseVal);
if(i){var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=i.children[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;"stop"===c.localName&&t.push(c)}}catch(d){o=!0,s=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}0===t.length&&i.href.baseVal&&n(i)}};return n(e),t},h=function(e,t){
var n=null;if(e.hasAttribute(t))n=e.getAttribute(t);else if(""!==e.href.baseVal){
var r=e.ownerSVGElement.querySelector(e.href.baseVal);r&&(n=h(r,t))}return n};return{
get getGradientUsers(){return o},get convertRadialGradientToUserSpace(){return s},
get getGradientColorAtOffset(){return l},get compareGradients(){return u},get hasOwnStops(){
return c},get getInheritedGradientStops(){return d},get getGradientAttribute(){return h;
}}}),$traceurRuntime.registerModule("utils/image",[],function(){"use strict";var e=function(e){
return new Promise(function(t){var n=new Image;n.onload=function(){t({width:n.naturalWidth,
height:n.naturalHeight})},n.src=e})};return{get extractImageSize(){return e}}}),$traceurRuntime.registerModule("utils/json",[],function(){
"use strict";var e=function(e){var t=null;try{t=JSON.stringify(e)}catch(n){return console.error("Failed to generate JSON string",n),
t}return t},t=function(e){var t=void 0!==arguments[1]?arguments[1]:!0,n=null;try{
n=JSON.parse(e)}catch(r){return void(t&&console.error("Failed to parse JSON string",e,r));
}return n};return{get toJSON(){return e},get fromJSON(){return t}}}),$traceurRuntime.registerModule("utils/markup",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/markup")).SVG_NAMESPACE,t=function(e){
var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.append(n.firstChild);
return t.childElementCount>1?t:1===t.childElementCount?t.children[0]:null},n=function(t){
var n=document.createDocumentFragment(),r=document.createElementNS(e,"svg");for(r.innerHTML=t;r.firstChild;)n.append(r.firstChild);
return n.childElementCount>1?n:1===n.childElementCount?n.children[0]:null};return{
get parseHTML(){return t},get parseSVG(){return n}}}),$traceurRuntime.registerModule("utils/math",[],function(){
"use strict";var e=Math,t=e.max,n=e.pow,r=function(e){var t=void 0!==arguments[1]?arguments[1]:0,r=n(10,t);
return Math.round(e*r)/r},i=function(e,t){var n=void 0!==arguments[2]?arguments[2]:1/0,i=void 0!==arguments[3]?arguments[3]:null;
return null!==i&&(e=r(e,i)),t>e?e=t:e>n&&(e=n),e},a=function(e){return 0>e?-1:e>0?1:0;
},o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=0;r<e.length;r+=1)n+=e[r];
return n/e.length},s=function(e){var n,r=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
return n=r?t(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0};return{get round(){return r;
},get normalize(){return i},get signum(){return a},get average(){return o},get countDecimalPlaces(){
return s}}}),$traceurRuntime.registerModule("utils/matrix",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/matrix")).round,t=function(e,t){
return e.a===t.a&&e.b===t.b&&e.c===t.c&&e.d===t.d&&e.e===t.e&&e.f===t.f},n=function(t,n){
var r=e(t.a,n),i=e(t.b,n),a=e(t.c,n),o=e(t.d,n),s=e(t.e,n),l=e(t.f,n);return new SVGMatrix([r,i,a,o,s,l]);
};return{get compareMatrixes(){return t},get roundMatrix(){return n}}}),$traceurRuntime.registerModule("utils/node",[],function(){
"use strict";var e=function(e,t){for(;e;){if(e.localName===t)return e;e=e.parentElement;
}},t=function(e){for(var t=e;t;t=t.parentNode)if(t instanceof ShadowRoot||t===window.document)return t;
},n=function(e){var t=void 0!==arguments[1]?arguments[1]:2;r(e);for(var n="",i={text:!0,
textPath:!0,tspan:!0},a=0;t>a;a+=1)n+=" ";var o=function(e){var t=void 0!==arguments[1]?arguments[1]:2;
if(!i[e.localName]){var r=!0,a=!1,s=void 0;try{for(var l=void 0,u=e.children[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){
var c=l.value,d=e.firstChild===c,h=e.lastChild===c;if(d===!0){var v=document.createTextNode("\n");
c.parentNode.insertBefore(v,c)}for(var f="",m=0;t>m;m+=1)f+=n;var b=document.createTextNode(f);
if(e.insertBefore(b,c),h===!0){var g=document.createTextNode("\n");e.appendChild(g);
for(var p="",y=0;t-1>y;y+=1)p+=n;var x=document.createTextNode(p);e.appendChild(x);
}else{var _=document.createTextNode("\n");e.insertBefore(_,c.nextSibling)}c.childElementCount>0&&o(c,t+1);
}}catch(w){a=!0,s=w}finally{try{r||null==u["return"]||u["return"]()}finally{if(a)throw s;
}}}};o(e,1)},r=function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null),r={
text:!0,textPath:!0,tspan:!0};t=n.nextNode();)r[t.parentElement.localName]||i(t.textContent)&&t.remove();
},i=function(e){return!/[^\t\n\r ]/.test(e)};return{get closest(){return e},get closestShadowRoot(){
return t},get normalizeWhitespace(){return n}}}),$traceurRuntime.registerModule("utils/object",[],function(){
"use strict";var e=function(e){return JSON.parse(JSON.stringify(e))};return{get cloneObject(){
return e}}}),$traceurRuntime.registerModule("utils/paint",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./array","utils/paint")).includesOnly,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./color","utils/paint")).isValidColorString,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/paint")).PAINT_SERVER_ELEMENTS,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./gradient","utils/paint")).compareGradients,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./pattern","utils/paint")).comparePatterns,a=function(e){
var n=void 0!==arguments[1]?arguments[1]:"fill",r="none";if("inherit"===e.style[n])r="inherit";else{
var i=getComputedStyle(e).getPropertyValue(n);if(t(i))r="solid";else if(i&&i.startsWith("url(")){
var a=i.substring(5,i.length-2),o=e.ownerSVGElement.querySelector(a),s=o?o.localName:null;
"linearGradient"!==s&&"radialGradient"!==s&&"pattern"!==s||(r=s)}}return r},o=function(e){
var t=void 0!==arguments[1]?arguments[1]:"fill",r=null,i=getComputedStyle(e)[t];if(i&&i.toLowerCase().startsWith("url(")&&i.endsWith(")")){
var a=i.substring(5,i.length-2),o=e.ownerSVGElement.querySelector(a);o&&n.includes(o.localName)&&(r=o);
}return r},s=function(e){var t=void 0!==arguments[1]?arguments[1]:"fill",n=null,r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=a(u,t);
if(u!==e[0]&&n!==c)return!1;n=c}}catch(d){i=!0,o=d}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}return null!==n},l=function(t){var n=void 0!==arguments[1]?arguments[1]:"fill",a=[],s=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=t[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value,f=getComputedStyle(v).getPropertyValue(n),m=o(v);
a.push(f),s.push(m)}}catch(b){u=!0,c=b}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(a.legth<=1)return!1;if(e(a,a[0]))return!1;var g=s.filter(function(e){
return e&&"linearGradient"===e.localName}),p=s.filter(function(e){return e&&"radialGradient"===e.localName;
}),y=s.filter(function(e){return e&&"pattern"===e.localName});return g.length===t.length&&r(g)?!1:p.length===t.length&&r(p)?!1:y.length!==t.length||!i(y);
},u=function(t){var n=void 0!==arguments[1]?arguments[1]:"fill",r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=getComputedStyle(u).getPropertyValue(n);
r.push(c)}}catch(d){a=!0,o=d}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}return 0===r.legth?!0:!!e(r,r[0])},c=function(e,t){if(t&&t.startsWith('url("#')&&t.endsWith('")')){
var n=t.substring(5,t.length-2),r=e.querySelector(n);if(r)return r}return null};return{
get getPaintType(){return a},get getPaintServer(){return o},get isSamePaintType(){
return s},get isMixedPaint(){return l},get isSamePaint(){return u},get getDefFromURL(){
return c}}}),$traceurRuntime.registerModule("utils/path-boolops",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/path-boolops")).round,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/path-boolops")),n=t.serializePathData,r=t.deserializePathData,i=t.normalizePathData,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/paper","utils/path-boolops"))["default"],o=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"unite",n)},s=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"subtract",n)},l=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"intersect",n)},u=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"exclude",n)},c=function(t,a,o,s){
var l=d(n(t)),u=d(n(a)),c=l[o](u),h=[];if(c){var v=c.exportSVG().getAttribute("d");
h=r(v),h=i(h);var f=!0,m=!1,b=void 0;try{for(var g=void 0,p=h[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){
var y=g.value;y.values=y.values.map(function(t){return e(t,s)})}}catch(x){m=!0,b=x;
}finally{try{f||null==p["return"]||p["return"]()}finally{if(m)throw b}}}return h},d=function(e){
var t,n=(e.match(/M/g)||[]).length>1;if(n){t=new a.CompoundPath(e);var r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=t.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;u.closed||u.closePath()}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}}else t=new a.Path(e),t.closed||t.closePath();return t};return{
get unite(){return o},get subtract(){return s},get intersect(){return l},get exclude(){
return u}}}),$traceurRuntime.registerModule("utils/path-conversion",[],function(){
"use strict";var e=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/path-conversion")).SVG_NAMESPACE,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/path-conversion")).createElement),t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/path-conversion")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-shapes","utils/path-conversion")),r=n.getShapeData,i=n.setShapeData,a=n.shapeDataToPathData,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./string","utils/path-conversion")).collapseWhitespace,s=function(n){
var r,o=void 0!==arguments[1]?arguments[1]:"normal",s=void 0!==arguments[2]?arguments[2]:6,l=n.x.baseVal.value,u=n.y.baseVal.value,c=n.width.baseVal.value,d=n.height.baseVal.value,h=n.rx.baseVal.value,v=n.ry.baseVal.value,f=e("svg:path");
if(r=h===v?{type:"rect",values:[l,u,c,d,h,h,h,h]}:{type:"rect",values:[l,u,c,d,h,h,h,h,v,v,v,v]
},"shape"===o?(r.values=r.values.map(function(e){return t(e,s)}),i(f,r)):"normal"!==o&&"plain"!==o||f.setPathData(a(r,s)),
"normal"===o||"shape"===o){var m=!0,b=!1,g=void 0;try{for(var p=void 0,y=n.attributes[Symbol.iterator]();!(m=(p=y.next()).done);m=!0){
var x=p.value;["x","y","width","height","rx","ry"].includes(x.name)===!1&&f.setAttribute(x.name,x.value);
}}catch(_){b=!0,g=_}finally{try{m||null==y["return"]||y["return"]()}finally{if(b)throw g;
}}}return f},l=function(t){var n,i;if(t.hasAttribute("data-bx-shape")){var a=r(t),o=a.values,s=(n=o[Symbol.iterator](),
(i=n.next()).done?void 0:i.value),l=(i=n.next()).done?void 0:i.value,u=(i=n.next()).done?void 0:i.value,c=(i=n.next()).done?void 0:i.value,d=(i=n.next()).done?void 0:i.value,h=(i=n.next()).done?void 0:i.value,v=(i=n.next()).done?void 0:i.value,f=(i=n.next()).done?void 0:i.value,m=(i=n.next()).done?void 0:i.value,b=(i=n.next()).done?void 0:i.value,g=(i=n.next()).done?void 0:i.value,p=(i=n.next()).done?void 0:i.value;
if(void 0===m&&(m=d),void 0===b&&(b=h),void 0===g&&(g=v),void 0===p&&(p=f),d===h&&d===v&&d===f&&m===b&&m===g&&m===p){
var y=e("svg:rect");0!==s&&y.setAttribute("x",s),0!==l&&y.setAttribute("y",l),0!==u&&y.setAttribute("width",u),
0!==c&&y.setAttribute("height",c),0!==d&&y.setAttribute("rx",d),0!==m&&y.setAttribute("ry",m);
var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=t.attributes[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value;["d","data-bx-shape"].includes(C.name)===!1&&y.setAttribute(C.name,C.value);
}}catch(R){_=!0,w=R}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w;
}}return y}return null}return null},u=function(e){var t=f(e),n=c(t);return n},c=function(t){
var n=e("svg:path"),r=!0,i=!1,a=void 0;try{for(var s=void 0,l=t.attributes[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;["cx","cy","rx","ry"].includes(u.name)||n.setAttribute(u.name,u.value);
}}catch(c){i=!0,a=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw a;
}}var d=t.cx.baseVal.value,h=t.cy.baseVal.value,v=t.rx.baseVal.value,f=t.ry.baseVal.value,m="\n    M "+d+" "+(h-f)+"\n    A "+v+" "+f+" 0 0 0 "+d+" "+(h+f)+"\n    A "+v+" "+f+" 0 0 0 "+d+" "+(h-f)+"\n  ";
return m=o(m),n.setAttribute("d",o(m)),n},d=function(t){var n=e("svg:path"),r=!0,i=!1,a=void 0;
try{for(var s=void 0,l=t.attributes[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;["x1","y1","x2","y2"].includes(u.name)||n.setAttribute(u.name,u.value);
}}catch(c){i=!0,a=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw a;
}}var d=t.x1.baseVal.value,h=t.y1.baseVal.value,v=t.x2.baseVal.value,f=t.y2.baseVal.value,m="\n    M "+d+" "+h+"\n    L "+v+" "+f+"\n  ";
return n.setAttribute("d",o(m)),n},h=function(t){var n=e("svg:path"),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=t.attributes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"points"!==l.name&&n.setAttribute(l.name,l.value)}}catch(u){i=!0,a=u;
}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}for(var c="",d=0;d<t.points.numberOfItems;d+=1){
var h=t.points.getItem(d),v=h.x,f=h.y;c+=0===d?"M "+v+" "+f:" L "+v+" "+f}return n.setAttribute("d",c),
n},v=function(t){var n=e("svg:path"),r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t.attributes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"points"!==l.name&&n.setAttribute(l.name,l.value)}}catch(u){i=!0,a=u;
}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}for(var c="",d=0;d<t.points.numberOfItems;d+=1){
var h=t.points.getItem(d),v=h.x,f=h.y;c+=0===d?"M "+v+" "+f:" L "+v+" "+f}return c+=" Z",
n.setAttribute("d",c),n},f=function(t){var n=e("svg:ellipse"),r=!0,i=!1,a=void 0;try{
for(var o=void 0,s=t.attributes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
"r"===l.name?(n.setAttribute("rx",l.value),n.setAttribute("ry",l.value)):n.setAttribute(l.name,l.value);
}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}return n};return{get rectToPath(){return s},get pathToRect(){return l},get circleToPath(){
return u},get ellipseToPath(){return c},get lineToPath(){return d},get polylineToPath(){
return h},get polygonToPath(){return v},get circleToEllipse(){return f}}}),$traceurRuntime.registerModule("utils/path-general",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/path-general")).SVG_NAMESPACE,t=Math.pow,n=document.createElementNS(e,"path"),r=function(e){
return n.setPathData(e),n.getAttribute("d")},i=function(e){return n.setAttribute("d",e),
n.getPathData()},a=function(e){return n.setPathData(e),n.getPathData({normalize:!0
})},o=function(e){if(!e.find(function(e){return"C"===e.type||"L"===e.type}))return[];
var t=[],n=null,r=0,i=0,a=0,o=0,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;"M"===h.type?("M"===n&&t.pop(),t.push(h),r=h.values[0],i=h.values[1],
a=h.values[0],o=h.values[1]):"L"===h.type?("Z"===n&&t.push({type:"M",values:[a,o]
}),t.push(h),r=h.values[0],i=h.values[1]):"C"===h.type?("Z"===n&&t.push({type:"M",
values:[a,o]}),t.push(h),r=h.values[4],i=h.values[5]):"Z"===h.type&&(r===a&&i===o||t.push({
type:"L",values:[a,o]}),t.push(h),r=a,i=o),n=h.type}}catch(v){l=!0,u=v}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}return t},s=function(e,t){
if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1){if(e[n].type!==t[n].type){
if("z"===e[n].type.toLowerCase()&&"z"===t[n].type.toLowerCase())continue;return!1;
}var r=e[n].values?e[n].values:[],i=t[n].values?t[n].values:[];if(r.length!==i.length)return!1;
for(var a=0;a<r.length;a+=1)if(r[a]!==i[a])return!1}return!0},l=function(e){var t=[],n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
"C"===l.type||"L"===l.type?n.push(l):"M"===l.type?(n.length>0&&(t.push(n),n=[]),n.push(l)):"Z"===l.type&&(n.push(l),
t.push(n),n=[])}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n.length>0&&t.push(n),t},u=function(e,n){for(var r=e.getTotalLength(),i=e.getPathData(),a=r/i.length*.125,o=null,s=null,l=1/0,u=function(e){
return t(e.x-n.x,2)+t(e.y-n.y,2)},c=0;r>=c;c+=a){var d=e.getPointAtLength(c),h=u(d);
l>h&&(o=d,s=c,l=h)}for(a*=.5;a>.5;){var v=s-a,f=e.getPointAtLength(v),m=u(f);if(v>=0&&l>m)o=f,
s=v,l=m;else{var b=s+a,g=e.getPointAtLength(b),p=u(g);r>=b&&l>p?(o=g,s=b,l=p):a*=.5;
}}return[o,s,l]},c=function(e){var t,n,r,i,a=o(e.getPathData({normalize:!0})),s=l(a),u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=s[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){for(var f=h.value,m=f[0],b=[],g=null,p=1;p<f.length;p+=1){
var y=f[p];"Z"===y.type?g=y:b.push(y)}var x=m.values[0],_=m.values[1];"C"===b[b.length-1].type?(m.values[0]=b[b.length-1].values[4],
m.values[1]=b[b.length-1].values[5]):(m.values[0]=b[b.length-1].values[0],m.values[1]=b[b.length-1].values[1]);
var w=!0,S=!1,M=void 0;try{for(var C=void 0,R=b[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var k=C.value;if("L"===k.type){var E=k.values,A=(t=E[Symbol.iterator](),(n=t.next()).done?void 0:n.value),P=(n=t.next()).done?void 0:n.value;
k.values=[x,_],x=A,_=P}else if("C"===k.type){var T=k.values,L=(r=T[Symbol.iterator](),
(i=r.next()).done?void 0:i.value),$=(i=r.next()).done?void 0:i.value,j=(i=r.next()).done?void 0:i.value,N=(i=r.next()).done?void 0:i.value,O=(i=r.next()).done?void 0:i.value,V=(i=r.next()).done?void 0:i.value;
k.values=[j,N,L,$,x,_],x=O,_=V}}}catch(z){S=!0,M=z}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw M}}b.reverse(),f.length=0,f.push(m);var D=!0,G=!1,I=void 0;try{
for(var B=void 0,U=b[Symbol.iterator]();!(D=(B=U.next()).done);D=!0){var H=B.value;
f.push(H)}}catch(F){G=!0,I=F}finally{try{D||null==U["return"]||U["return"]()}finally{
if(G)throw I}}g&&f.push(g)}}catch(q){c=!0,d=q}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}s.reverse(),a=[];var W=!0,Y=!1,X=void 0;try{for(var Z=void 0,K=s[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){
var J=Z.value,Q=!0,ee=!1,te=void 0;try{for(var ne=void 0,re=J[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){
var ie=ne.value;a.push(ie)}}catch(ae){ee=!0,te=ae}finally{try{Q||null==re["return"]||re["return"]();
}finally{if(ee)throw te}}}}catch(oe){Y=!0,X=oe}finally{try{W||null==K["return"]||K["return"]();
}finally{if(Y)throw X}}e.setPathData(a)};return{get serializePathData(){return r},
get deserializePathData(){return i},get normalizePathData(){return a},get harmonizePathData(){
return o},get comparePathData(){return s},get getPathDataBySubpath(){return l},get getNearestPointOnPath(){
return u},get reversePath(){return c}}}),$traceurRuntime.registerModule("utils/path-shapes",[],function(){
"use strict";var e=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/path-shapes")).degToRad,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/path-shapes")).round),t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/path-shapes")).comparePathData,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./random","utils/path-shapes")).getHash),n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/path-shapes"))["default"],
Math),r=n.sin,i=n.cos,a=n.PI,o={triangle:1,rect:1,"n-gon":1,star:1,ring:1},s=function(e){
var t,n,r=null;if(e.hasAttribute("data-bx-shape")){var i=e.getAttribute("data-bx-shape"),a=i.trim().split(/[\s+,]+/);
if(a.length>=3){var o=a[0],s=a.slice(1,a.length-1),l=a[a.length-1];if(l.includes("@")){
var u=l.split("@");t=u[Symbol.iterator](),(n=t.next()).done?void 0:n.value,(n=t.next()).done?void 0:n.value;
s=s.map(function(e){return parseFloat(e)}),r={type:o,values:s}}}}return r},l=function(e,n){
var r=void 0!==arguments[2]?arguments[2]:9,i=c(n,r);if(i){e.setPathData(i);var a=e.getAttribute("d"),s=n.type+" "+n.values.join(" ")+" "+o[n.type],l=t(a+" / "+s).toString(32);
s+="@"+l,e.setAttribute("data-bx-shape",s)}},u=function(e){var n,r,i=!1;if(e.hasAttribute("data-bx-shape")){
var a=e.getAttribute("d"),o=e.getAttribute("data-bx-shape"),s=o.trim().split(/[\s+,]+/);
if(s.length>=3){var l=s[0],u=s.slice(1,s.length-1),c=s[s.length-1];if(c.includes("@")){
var d=c.split("@"),h=(n=d[Symbol.iterator](),(r=n.next()).done?void 0:r.value),v=(r=n.next()).done?void 0:r.value;
v===t(a+" / "+l+" "+u.join(" ")+" "+h).toString(32)&&(i=!0)}}}return i},c=function(e){
var t=void 0!==arguments[1]?arguments[1]:6,n=null;return"triangle"===e.type?n=d(e,t):"rect"===e.type?n=h(e,t):"n-gon"===e.type?n=v(e,t):"star"===e.type?n=f(e,t):"ring"===e.type&&(n=m(e,t)),
n},d=function(t,n){var r,i,a=t.values,o=(r=a[Symbol.iterator](),(i=r.next()).done?void 0:i.value),s=(i=r.next()).done?void 0:i.value,l=(i=r.next()).done?void 0:i.value,u=(i=r.next()).done?void 0:i.value,c=(i=r.next()).done?void 0:i.value,d=(i=r.next()).done?void 0:i.value,h=[];
if(0===d)h.push({type:"M",values:[o+l*c,s]}),h.push({type:"L",values:[o+l,s+u]}),
h.push({type:"L",values:[o,s+u]}),h.push({type:"L",values:[o+l*c,s]});else for(var v=[{
x:o+l*c,y:s},{x:o+l,y:s+u},{x:o,y:s+u}],f=0;f<v.length;f+=1){var m=v[f],b=v[f+1]||v[0],g=v[f-1]||v[v.length-1],p={
x:m.x+(g.x-m.x)*d,y:m.y+(g.y-m.y)*d},y={x:m.x+(b.x-m.x)*d,y:m.y+(b.y-m.y)*d},x={x:m.x,
y:m.y};h.push({type:0===f?"M":"L",values:[p.x,p.y]}),h.push({type:"Q",values:[x.x,x.y,y.x,y.y]
})}h.push({type:"Z",values:[]});var _=!0,w=!1,S=void 0;try{for(var M=void 0,C=h[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value;R.values=R.values.map(function(t){return e(t,n)})}}catch(k){w=!0,S=k;
}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S}}return h},h=function(t,n){
var r,i,a=t.values,o=(r=a[Symbol.iterator](),(i=r.next()).done?void 0:i.value),s=(i=r.next()).done?void 0:i.value,l=(i=r.next()).done?void 0:i.value,u=(i=r.next()).done?void 0:i.value,c=(i=r.next()).done?void 0:i.value,d=(i=r.next()).done?void 0:i.value,h=(i=r.next()).done?void 0:i.value,v=(i=r.next()).done?void 0:i.value,f=(i=r.next()).done?void 0:i.value,m=(i=r.next()).done?void 0:i.value,b=(i=r.next()).done?void 0:i.value,g=(i=r.next()).done?void 0:i.value;
void 0===f&&(f=c),void 0===m&&(m=d),void 0===b&&(b=h),void 0===g&&(g=v),c=c>l/2?l/2:c,
d=d>l/2?l/2:d,h=h>l/2?l/2:h,v=v>l/2?l/2:v,f=f>u/2?u/2:f,m=m>u/2?u/2:m,b=b>u/2?u/2:b,
g=g>u/2?u/2:g;var p=[{type:"M",values:[o+c,s]},{type:"H",values:[o+l-d]},{type:"A",
values:[d,m,0,0,1,o+l,s+m]},{type:"V",values:[s+u-b]},{type:"A",values:[h,b,0,0,1,o+l-h,s+u]
},{type:"H",values:[o+v]},{type:"A",values:[v,g,0,0,1,o,s+u-g]},{type:"V",values:[s+f]
},{type:"A",values:[c,f,0,0,1,o+c,s]},{type:"Z",values:[]}];p=p.filter(function(e){
return"A"!==e.type||0!==e.values[0]||0!==e.values[1]});var y=!0,x=!1,_=void 0;try{
for(var w=void 0,S=p[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var M=w.value;
M.values=M.values.map(function(t){return e(t,n)})}}catch(C){x=!0,_=C}finally{try{
y||null==S["return"]||S["return"]()}finally{if(x)throw _}}return p},v=function(t,n){
var o,s,l=t.values,u=(o=l[Symbol.iterator](),(s=o.next()).done?void 0:s.value),c=(s=o.next()).done?void 0:s.value,d=(s=o.next()).done?void 0:s.value,h=(s=o.next()).done?void 0:s.value,v=(s=o.next()).done?void 0:s.value,f=(s=o.next()).done?void 0:s.value,m=[];
if(0===f)for(var b=0;v>b;b+=1){var g=2*a*(b/v)-a/2,p=d*i(g)+u,y=h*r(g)+c;0===b?m.push({
type:"M",values:[p,y]}):m.push({type:"L",values:[p,y]})}else{for(var x=[],_=0;v>_;_+=1){
var w=2*a*(_/v)-a/2;x.push({x:d*i(w)+u,y:h*r(w)+c})}for(var S=0;S<x.length;S+=1){
var M=x[S],C=x[S+1]||x[0],R=x[S-1]||x[x.length-1],k={x:M.x+(R.x-M.x)*f,y:M.y+(R.y-M.y)*f
},E={x:M.x+(C.x-M.x)*f,y:M.y+(C.y-M.y)*f},A={x:M.x,y:M.y};m.push({type:0===S?"M":"L",
values:[k.x,k.y]}),m.push({type:"Q",values:[A.x,A.y,E.x,E.y]})}}m.push({type:"Z",
values:[]});var P=!0,T=!1,L=void 0;try{for(var $=void 0,j=m[Symbol.iterator]();!(P=($=j.next()).done);P=!0){
var N=$.value;N.values=N.values.map(function(t){return e(t,n)})}}catch(O){T=!0,L=O;
}finally{try{P||null==j["return"]||j["return"]()}finally{if(T)throw L}}return m},f=function(t,n){
for(var o,s,l=t.values,u=(o=l[Symbol.iterator](),(s=o.next()).done?void 0:s.value),c=(s=o.next()).done?void 0:s.value,d=(s=o.next()).done?void 0:s.value,h=(s=o.next()).done?void 0:s.value,v=(s=o.next()).done?void 0:s.value,f=(s=o.next()).done?void 0:s.value,m=[],b=0;f>b;b+=1){
var g=2*a*(b/f)-a/2,p=d*i(g)+u,y=h*r(g)+c;0===b?m.push({type:"M",values:[p,y]}):m.push({
type:"L",values:[p,y]}),g=2*a*(b/f)+a/f-a/2,p=v*d*i(g)+u,y=v*h*r(g)+c,m.push({type:"L",
values:[p,y]})}m.push({type:"Z",values:[]});var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=m[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value;C.values=C.values.map(function(t){return e(t,n)})}}catch(R){_=!0,w=R;
}finally{try{x||null==M["return"]||M["return"]()}finally{if(_)throw w}}return m},m=function(t,n){
var r,i,a=t.values,o=(r=a[Symbol.iterator](),(i=r.next()).done?void 0:i.value),s=(i=r.next()).done?void 0:i.value,l=(i=r.next()).done?void 0:i.value,u=(i=r.next()).done?void 0:i.value,c=(i=r.next()).done?void 0:i.value,d=(i=r.next()).done?void 0:i.value,h=[{
type:"M",values:[o,s]},{type:"m",values:[-c,0]},{type:"a",values:[c,d,0,1,0,2*c,0]
},{type:"a",values:[c,d,0,1,0,-(2*c),0]},{type:"Z",values:[]},{type:"M",values:[o,s]
},{type:"m",values:[-l,0]},{type:"a",values:[l,u,0,0,1,2*l,0]},{type:"a",values:[l,u,0,0,1,-(2*l),0]
},{type:"Z",values:[]}],v=!0,f=!1,m=void 0;try{for(var b=void 0,g=h[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){
var p=b.value;p.values=p.values.map(function(t){return e(t,n)})}}catch(y){f=!0,m=y;
}finally{try{v||null==g["return"]||g["return"]()}finally{if(f)throw m}}return h},b=function(e,t,n,o,s,l){
var u=2*a*(e/l)-a/2,c=o*i(u)+t,d=s*r(u)+n;return new SVGPoint(c,d)},g=function(e,t,n,o,s,l,u){
var c,d=a*(e/u)-a/2;return c=e%2===0?new SVGPoint(o*i(d)+t,s*r(d)+n):new SVGPoint(l*o*i(d)+t,l*s*r(d)+n);
};return{get getShapeData(){return s},get setShapeData(){return l},get validateShapeData(){
return u},get shapeDataToPathData(){return c},get getNGonShapeVertexPoint(){return b;
},get getStarShapeVertexPoint(){return g}}}),$traceurRuntime.registerModule("utils/pattern",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/pattern")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./matrix","utils/pattern")).roundMatrix,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-general","utils/pattern")).getTransformFromPoints,r=SVGUnitTypes,i=r.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,a=r.SVG_UNIT_TYPE_USERSPACEONUSE,o=(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,
function(e){for(var t=document.createNodeIterator(e.ownerSVGElement,NodeFilter.SHOW_ELEMENT),n=null,r=[];n=t.nextNode();){
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=["fill","stroke"][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=n.style[u];if(c&&c.startsWith("url(")){var d=c.substring(6,c.length-2);
d===e.id&&r.includes(n)===!1&&r.push(n)}}}catch(h){a=!0,o=h}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}}return r}),s=function(e){var t=null;if(e.hasAttribute("href")){
var n=e.getAttribute("href"),r=e.ownerSVGElement.querySelector(n);r&&"pattern"===r.localName&&r!==e&&(t=r);
}return t},l=function(e){for(var t=[],n=e;n;){var r=n.getAttribute("href"),i=r?n.ownerSVGElement.querySelector(r):null;
if(!i||"pattern"!==i.localName||i===e||t.includes(i))break;n=i,t.push(i)}return t.length>0?t[t.length-1]:null;
},u=function(e){for(var t=[],n={},r=e,i=["x","y","width","height","viewBox","preserveAspectRatio","patternUnits","patternContentUnits","patternTransform"];r;){
var a=r.getAttribute("href"),o=a?r.ownerSVGElement.querySelector(a):null;if(!o||"pattern"!==o.localName||o===e||t.includes(o))break;
r=o,t.push(o)}var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;if(e.hasAttribute(h)===!1){var v=!0,f=!1,m=void 0;try{for(var b=void 0,g=t[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){
var p=b.value;if(p.hasAttribute(h)){n[h]=p.getAttribute(h);break}}}catch(y){f=!0,
m=y}finally{try{v||null==g["return"]||g["return"]()}finally{if(f)throw m}}}}}catch(x){
l=!0,u=x}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}return n;
},c=function(r,o){var l,u,c,d,h,v,f=void 0!==arguments[2]?arguments[2]:null,m=r.hasAttribute("href")?s(r):r,b=e(o);
if(m.patternUnits.baseVal===a)l=new SVGPoint(m.x.baseVal.value,m.y.baseVal.value),
u=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value),c=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value+m.height.baseVal.value),
d=new SVGPoint(b.x+b.width/2-m.width.baseVal.value/2,b.y+b.height/2-m.height.baseVal.value/2),
h=new SVGPoint(b.x+b.width/2+m.width.baseVal.value/2,b.y+b.height/2-m.height.baseVal.value/2),
v=new SVGPoint(b.x+b.width/2+m.width.baseVal.value/2,b.y+b.height/2+m.height.baseVal.value/2);else if(m.patternUnits.baseVal===i){
var g=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),p=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),y=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits+m.height.baseVal.valueInSpecifiedUnits);
l=new SVGPoint(b.x+g.x*b.width,b.y+g.y*b.height),u=new SVGPoint(b.x+p.x*b.width,b.y+p.y*b.height),
c=new SVGPoint(b.x+y.x*b.width,b.y+y.y*b.height),d=new SVGPoint(b.x+b.width/2-b.width*m.width.baseVal.valueInSpecifiedUnits/2,b.y+b.height/2-b.height*m.height.baseVal.valueInSpecifiedUnits/2),
h=new SVGPoint(b.x+b.width/2+b.width*m.width.baseVal.valueInSpecifiedUnits/2,b.y+b.height/2-b.height*m.height.baseVal.valueInSpecifiedUnits/2),
v=new SVGPoint(b.x+b.width/2+b.width*m.width.baseVal.valueInSpecifiedUnits/2,b.y+b.height/2+b.height*m.height.baseVal.valueInSpecifiedUnits/2);
}var x=n(l,u,c,d,h,v);null!==f&&(x=t(x,f)),r.setAttribute("patternTransform",x.toString());
},d=function(e){var t=e[0],n=t.hasAttribute("href")?s(t):t,r=!0,i=!1,a=void 0;try{
for(var o=void 0,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value;
if(u!==t){var c=u.hasAttribute("href")?s(u):u;if(c!==n)return!1}}}catch(d){i=!0,a=d;
}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw a}}return!0};return{
get getPatternUsers(){return o},get getParentPattern(){return s},get getFurthestAncestorPattern(){
return l},get getInheritedPatternAttributes(){return u},get centerPattern(){return c;
},get comparePatterns(){return d}}}),$traceurRuntime.registerModule("utils/random",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/random")).round,t=Math.floor,n=function(){
var t=void 0!==arguments[0]?arguments[0]:0,n=void 0!==arguments[1]?arguments[1]:100,r=void 0!==arguments[2]?arguments[2]:0,i=t+Math.random()*(n-t);
return e(i,r)},r=function(){for(var e=void 0!==arguments[0]?arguments[0]:10,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz!@#$%^&*()_+-={}[]:<>,.",n="",r=0;e>r;r+=1){
var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n},i=function(e){
for(var t=void 0!==arguments[1]?arguments[1]:"hex",n=2166136261,r=0,i=e.length;i>r;r+=1)n^=e.charCodeAt(r),
n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24);return n>>>=0,"hex"===t&&(n=("0000000"+n.toString(16)).substr(-8)),
n},a=function(e){for(var r=e.length;--r;){var i=n(0,1,5),a=t(i*(r+1)),o=e[a];e[a]=e[r],
e[r]=o}return e};return{get getRandomNumber(){return n},get getRandomString(){return r;
},get getHash(){return i},get shuffle(){return a}}}),$traceurRuntime.registerModule("utils/rect",[],function(){
"use strict";var e=Math,t=e.min,n=e.max,r=function(e,r){var i=[new SVGPoint(e.x,e.y),new SVGPoint(e.x+e.width,e.y),new SVGPoint(e.x+e.width,e.y+e.height),new SVGPoint(e.x,e.y+e.height)],a=i.map(function(e){
return e.matrixTransform(r)}),o=a.map(function(e){return e.x}),s=a.map(function(e){
return e.y}),l=t.apply(void 0,$traceurRuntime.spread(o)),u=t.apply(void 0,$traceurRuntime.spread(s)),c=n.apply(void 0,$traceurRuntime.spread(o)),d=n.apply(void 0,$traceurRuntime.spread(s));
return new SVGRect(l,u,c-l,d-u)},i=function(e){var t=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l.width*l.height;t.push(u)}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var d=n.apply(void 0,$traceurRuntime.spread(t)),h=t.indexOf(d),v=e[h];
return v},a=function(e){if(0===e.length)return new SVGRect(0,0,0,0);if(1===e.length){
var t=e[0];return new SVGRect(t.x,t.y,t.width,t.height)}var n=[],r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
n.push(new SVGPoint(u.x,u.y)),r.push(new SVGPoint(u.x+u.width,u.y+u.height))}}catch(c){
a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}var d=SVGPoint.fromPoint(n[0]),h=SVGPoint.fromPoint(r[0]),v=!0,f=!1,m=void 0;
try{for(var b=void 0,g=n[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var p=b.value;
p.x<d.x&&(d.x=p.x),p.y<d.y&&(d.y=p.y)}}catch(y){f=!0,m=y}finally{try{v||null==g["return"]||g["return"]();
}finally{if(f)throw m}}var x=!0,_=!1,w=void 0;try{for(var S=void 0,M=r[Symbol.iterator]();!(x=(S=M.next()).done);x=!0){
var C=S.value;C.x>h.x&&(h.x=C.x),C.y>h.y&&(h.y=C.y)}}catch(R){_=!0,w=R}finally{try{
x||null==M["return"]||M["return"]()}finally{if(_)throw w}}var k=new SVGRect(d.x,d.y,h.x-d.x,h.y-d.y);
return k},o=function(e,t){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height;
},s=function(e,t){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},l=function(e,t){
return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom};return{
get transformRect(){return r},get getBiggestRect(){return i},get combineRects(){return a;
},get rectContainsRect(){return o},get rectContainsPoint(){return s},get rectIntersectsRect(){
return l}}}),$traceurRuntime.registerModule("utils/reflect",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/reflect")).createElement,t=e("svg:svg"),n=function(e){
return e.trim().split(/[\s+,]+/)},r=Math,i=(r.min,r.max,Number.parseFloat),a={1:"none",
2:"xMinYMin",3:"xMidYMin",4:"xMaxYMin",5:"xMinYMid",6:"xMidYMid",7:"xMaxYMid",8:"xMinYMax",
9:"xMidYMax",10:"xMaxYMax"},o={none:1,xMinYMin:2,xMidYMin:3,xMaxYMin:4,xMinYMid:5,
xMidYMid:6,xMaxYMid:7,xMinYMax:8,xMidYMax:9,xMaxYMax:10},s={meet:1,slice:2},l=function(e){
var r=void 0!==arguments[1]?arguments[1]:"viewBox",a=t.createSVGRect(),o=new Proxy(a,{
ownKeys:function(){return["x","y","width","height","top","bottom","left","right"];
},getPrototypeOf:function(e){return SVGRect.prototype},getOwnPropertyDescriptor:function(e,t){
var n;if(["x","y","width","height"].includes(t)){var r=this.get(e,t);n={value:r,writable:!0,
configurable:!0,enumerable:!0}}else if(["top","bottom","left","right"].includes(t)){
var i=this.get(e,t);n={value:i,writable:!1,configurable:!0,enumerable:!0}}return n;
},get:function(t,o){var s;if(["x","y","width","height","top","bottom","left","right"].includes(o))if(e.hasAttribute(r)){
var l=n(e.getAttribute(r));l=l.map(function(e){return i(e)}),a.x=l[0]||0,a.y=l[1]||0,
a.width=l[2]||0,a.height=l[3]||0,s=a[o]}else s=0;else"__proto__"===o&&(s=this.getPrototypeOf(t));
return s},set:function(t,i,a){var o,s,l=e.hasAttribute(r)?n(e.getAttribute(r)):["0","0","0","0"],u=l,c=(o=u[Symbol.iterator](),
(s=o.next()).done?void 0:s.value),d=(s=o.next()).done?void 0:s.value,h=(s=o.next()).done?void 0:s.value,v=(s=o.next()).done?void 0:s.value;
return"x"===i?e.setAttribute(r,a+" "+d+" "+h+" "+v):"y"===i?e.setAttribute(r,c+" "+a+" "+h+" "+v):"width"===i?e.setAttribute(r,c+" "+d+" "+a+" "+v):"height"===i&&e.setAttribute(r,c+" "+d+" "+h+" "+a),
["x","y","width","height"].includes(i)}});return o},u=function(e){var n=void 0!==arguments[1]?arguments[1]:"x",r=t.createSVGLength(),i=new Proxy(r,{
ownKeys:function(){return["value","valueAsString","valueInSpecifiedUnits","unitType"];
},getPrototypeOf:function(e){return SVGLength.prototype},getOwnPropertyDescriptor:function(e,t){
var n;if("unitType"===t){var r=this.get(e,t);n={value:r,writable:!1,configurable:!0,
enumerable:!0}}else if("value"===t||"valueAsString"===t||"valueInSpecifiedUnits"===t){
var i=this.get(e,t);n={value:i,writable:!0,configurable:!0,enumerable:!0}}return n;
},get:function(t,i){var a;return"value"!==i&&"valueAsString"!==i&&"valueInSpecifiedUnits"!==i&&"unitType"!==i||(r.valueAsString=e.hasAttribute(n)?e.getAttribute(n):""),
"value"===i?a=r.value:"valueAsString"===i?a=r.valueAsString:"valueInSpecifiedUnits"===i?a=r.valueInSpecifiedUnits:"unitType"===i?a=r.unitType:"__proto__"===i&&(a=this.getPrototypeOf(t)),
a},set:function(t,i,a){return"value"===i?(r.valueAsString=e.hasAttribute(n)?e.getAttribute(n):"",
r.value=a,e.setAttribute(n,r.valueAsString)):"valueInSpecifiedUnits"===i?(r.valueAsString=e.hasAttribute(n)?e.getAttribute(n):"",
r.valueInSpecifiedUnits=a,e.setAttribute(n,r.valueAsString)):"valueAsString"===i&&(r.valueAsString=a,
e.setAttribute(n,r.valueAsString)),["value","valueInSpecifiedUnits","valueAsString"].includes(i);
}});return i},c=function(e){var t=void 0!==arguments[1]?arguments[1]:"preserveAspectRatio",r=new Proxy({},{
ownKeys:function(){return["align","meetOrSlice"]},getPrototypeOf:function(e){return SVGPreserveAspectRatio.prototype;
},getOwnPropertyDescriptor:function(e,t){var n;if("align"===t||"meetOrSlice"===t){
var r=this.get(e,t);n={value:r,writable:!0,configurable:!0,enumerable:!0}}return n;
},get:function(r,i){var a;if("align"===i)if(e.hasAttribute(t)){var l=n(e.getAttribute(t))[0];
a=o[l]||o.xMidYMid}else a=o.xMidYMid;else if("meetOrSlice"===i)if(e.hasAttribute(t)){
var u=n(e.getAttribute(t))[1];a=s[u]||s.meet}else a=s.meet;else"__proto__"===i&&(a=this.getPrototypeOf(r));
return a},set:function(n,r,i){if("meetOrSlice"===r){var o=a[this.get(n,"align")];i===s.slice&&(o+=" slice"),
e.setAttribute(t,o)}else if("align"===r){var l=a[i]||"xMidYMid";this.get(n,"meetOrSlice")===s.slice&&(l+=" slice"),
e.setAttribute(t,l)}return["meetOrSlice","align"].includes(r)}});return r};return{
get createReflectedSVGRect(){return l},get createReflectedSVGLength(){return u},get createReflectedSVGPreserveAspectRatio(){
return c}}}),$traceurRuntime.registerModule("utils/string",[],function(){"use strict";
var e=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},t=function(e){return e.replace(/(\-[a-z])/g,function(e){
return e.toUpperCase().replace("-","")})},n=function(e){return e.replace(/([A-Z])/g,function(e){
return"-"+e.toLowerCase()})},r=function(e){return e===e.toLowerCase()},i=function(e){
return e.replace(/\s+/g," ").trim()},a=function(e){return e.sort(function(e,t){return e.id.localeCompare(t.id);
})};return{get capitalize(){return e},get toCamelCase(){return t},get toDashCase(){
return n},get isLowerCase(){return r},get collapseWhitespace(){return i},get sortAlphabetically(){
return a}}}),$traceurRuntime.registerModule("utils/style",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./constants","utils/style")),t=e.CONTAINER_ELEMENTS,n=e.SHAPE_ELEMENTS,r=e.GRAPHICS_ELEMENTS,i=e.TEXT_CONTENT_ELEMENTS,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./text","utils/style")).getTspansIntersectedByRange,o=function(e){
var t="",n=e.sheet.rules[0],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.sheet.rules[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l!==n&&(t+="\n"),t+=l.cssText}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}e.textContent=t},s=function(e,o){var l=void 0!==arguments[2]?arguments[2]:null,u=[];
if("fill"===e||"fill-opacity"===e||"fill-rule"===e||"stroke"===e||"stroke-dasharray"===e||"stroke-dashoffset"===e||"stroke-linecap"===e||"stroke-linejoin"===e||"stroke-miterlimit"===e||"stroke-opacity"===e||"stroke-width"===e||"vector-effect"===e){
var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value,b=m.localName;if("text"===b)if(l&&l.intersectsNode(m)){var g=a(l);if(g.length>0){
var p="backward"===l.direction?g[g.length-1]:g[0],y=g.remove(p);u=$traceurRuntime.spread(u,[p],y);
}}else u=$traceurRuntime.spread(u,s(e,m.children,l));else"textPath"===b?u=$traceurRuntime.spread(u,s(e,m.children,l)):n.includes(b)||i.includes(b)?u.push(m):"g"===b||"a"===b?u=$traceurRuntime.spread(u,s(e,m.children,l)):"use"===b&&("fill"!==e&&"stroke"!==e||u.push(m));
}}catch(x){d=!0,h=x}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}}else if("text-decoration"===e){var _=!0,w=!1,S=void 0;try{for(var M=void 0,C=o[Symbol.iterator]();!(_=(M=C.next()).done);_=!0){
var R=M.value,k=R.localName;"tspan"===k?u.push(R):"text"!==k&&"textPath"!==k||(u=$traceurRuntime.spread(u,s(e,R.children,l)));
}}catch(E){w=!0,S=E}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}}else if("buffered-rendering"===e||"clip-path"===e||"filter"===e||"mask"===e||"opacity"===e||"mix-blend-mode"===e||"isolation"===e){
var A=!0,P=!1,T=void 0;try{for(var L=void 0,$=o[Symbol.iterator]();!(A=(L=$.next()).done);A=!0){
var j=L.value,N=j.localName;(r.includes(N)||t.includes(N))&&u.push(j)}}catch(O){P=!0,
T=O}finally{try{A||null==$["return"]||$["return"]()}finally{if(P)throw T}}}else if("direction"===e||"font"===e||"font-family"===e||"font-size"===e||"font-size-adjust"===e||"font-stretch"===e||"font-style"===e||"font-variant"===e||"font-weight"===e||"glyph-orientation-horizontal"===e||"glyph-orientation-vertical"===e||"letter-spacing"===e||"text-anchor"===e||"text-transform"===e||"word-spacing"===e||"white-space"===e){
var V=!0,z=!1,D=void 0;try{for(var G=void 0,I=o[Symbol.iterator]();!(V=(G=I.next()).done);V=!0){
var B=G.value,U=B.localName;if("text"===U)if(l&&l.intersectsNode(B)){var H=a(l);if(H.length>0){
var F="backward"===l.direction?H[H.length-1]:H[0],q=H.remove(F);u=$traceurRuntime.spread(u,[F],q);
}}else u=$traceurRuntime.spread(u,s(e,B.children,l));else"textPath"===U?u=$traceurRuntime.spread(u,s(e,B.children,l)):i.includes(U)?u.push(B):"g"!==U&&"a"!==U||(u=$traceurRuntime.spread(u,s(e,B.children,l)));
}}catch(W){z=!0,D=W}finally{try{V||null==I["return"]||I["return"]()}finally{if(z)throw D;
}}}return u};return{get reflectStyleElementCSSOM(){return o},get queryStylableElements(){
return s}}}),$traceurRuntime.registerModule("utils/text",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/text")).createElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./node","utils/text")).closest,n=function(e){
if(e&&!e.collapsed){var n=t(e.startContainer,"text");if(e){var r=i(e,n,"start"),a=i(e,n,"end"),o=n.getElementsByTagName("textPath")[0],s=o?o:n,l=function(e){
var t=0,n=null,r=null,i=!0,a=!1,o=void 0;try{for(var l=void 0,u=s.children[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=0,h=!0,v=!1,f=void 0;try{for(var m=void 0,b=c.textContent[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
m.value;t===e&&(n=c,r=d),t+=1,d+=1}}catch(g){v=!0,f=g}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}}}catch(p){a=!0,o=p}finally{try{i||null==u["return"]||u["return"]();
}finally{if(a)throw o}}if(n){var y=n.textContent,x=y.slice(0,r),_=y.slice(r,y.length);
if(x.length>0&&_.length>0){var w=document.createDocumentFragment(),S=n.cloneNode(!1);
S.textContent=x,w.appendChild(S);var M=n.cloneNode(!1);M.textContent=_,w.appendChild(M),
n.replace(w)}}};l(r),l(a);var u=0,c=null,d=null,h=!0,v=!1,f=void 0;try{for(var m=void 0,b=s.children[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value,p=!0,y=!1,x=void 0;try{for(var _=void 0,w=g.textContent[Symbol.iterator]();!(p=(_=w.next()).done);p=!0){
_.value;u===r&&(c=g),u===a-1&&(d=g),u+=1}}catch(S){y=!0,x=S}finally{try{p||null==w["return"]||w["return"]();
}finally{if(y)throw x}}}}catch(M){v=!0,f=M}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}e.setStart(c.childNodes[0],0),e.setEnd(d.childNodes[0],d.childNodes[0].length);
}}},r=function(e){if(e&&!e.collapsed){t(e.startContainer,"text")}},i=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:"start";e=e.cloneRange(),"start"===n?e.collapse(!0):"end"===n&&e.collapse(!1);
for(var r=0,i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,function(t){var n=new Range;
return n.selectNode(t),n.compareBoundaryPoints(Range.END_TO_END,e)<1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT;
});i.nextNode();)r+=i.currentNode.length;return 3===e.startContainer.nodeType&&(r+=e.startOffset),
r},a=function(e){var t=0,n=0;return e.x.baseVal.numberOfItems>0&&(t=e.x.baseVal.getItem(0).value),
e.y.baseVal.numberOfItems>0&&(n=e.y.baseVal.getItem(0).value),{x:t,y:n}},o=function(e){
var t=[];if(e.commonAncestorContainer.nodeType===Document.TEXT_NODE){for(var n=e.commonAncestorContainer;n=n.parentElement;)if("tspan"===n.localName){
t.push(n);break}}else for(var r,i=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_ELEMENT,null);r=i.nextNode();)e.intersectsNode(r)&&"tspan"===r.localName&&t.push(r);
return t},s=function(t){var n=e("div");return n.style.fontFamily=t,""!==n.style.fontFamily;
};return{get normalizeTextInRangeBeforeEditing(){return n},get normalizeTextInRangeAfterEditing(){
return r},get getRangeOffsetRelativeToElement(){return i},get getTextOffset(){return a;
},get getTspansIntersectedByRange(){return o},get isValidFontFamilyValue(){return s;
}}}),$traceurRuntime.registerModule("utils/time",[],function(){"use strict";var e=arguments,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./type","utils/time")).isNumber,
function(e){var t=void 0!==arguments[1]?arguments[1]:500,n=arguments[2],r=null,i=null,a=null,o=0,s=function(){
o=new Date,i=null,a=e.apply(n,r)},l=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];
var c=new Date,d=t-(c-o);return r=l,0>=d?(clearTimeout(i),i=null,o=c,a=e.apply(n,r)):i||(i=setTimeout(s,d)),
a};return l}),n=function(t,n,r){var i=void 0!==arguments[3]?arguments[3]:!1,a=null,o=null,s=function(){
var s=e,l=function(){a=null,i||(o=t.apply(r,s))},u=i&&!a;return clearTimeout(a),a=setTimeout(l,n),
u&&(o=t.apply(r,s)),o};return s},r=function(e){return new Promise(function(t,n){setTimeout(function(){
return t()},e)})},i=function(e){return new Promise(function(t,n){var r=function(n){
n.timeRemaining()>=e?t():requestIdleCallback(r)};requestIdleCallback(r)})},a=function(e){
requestAnimationFrame(e)},o=function(e){return e/1e3/60/60/24},s=function(){return Date.now();
},l=function(){var e=new Date,t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),s=t+"-"+n+"-"+r+"T"+i+":"+a+":"+o;
return s};return{get throttle(){return t},get debounce(){return n},get sleep(){return r;
},get sleepUntilIdle(){return i},get nextTick(){return a},get milisecondsToDays(){
return o},get getTimeStamp(){return s},get getISOTimestamp(){return l}}}),$traceurRuntime.registerModule("utils/transform-general",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/transform-general")),t=e.getUserBBox,n=e.getClientBBox,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/transform-general")),i=r.degToRad,a=r.getRotationAngleFromPoints,o=r.getDistanceBetweenPoints,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/transform-general")).normalizePathData,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./matrix","utils/transform-general")).roundMatrix,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/transform-general")).round,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./rect","utils/transform-general")).combineRects,d=Math,h=(d.abs,
d.tan),v=Number.parseFloat,f=function(e,t,n,r,i,a){var o=function(e){return e[0][0]*(e[1][1]*e[2][2]-e[1][2]*e[2][1])-e[0][1]*(e[1][0]*e[2][2]-e[1][2]*e[2][0])+e[0][2]*(e[1][0]*e[2][1]-e[1][1]*e[2][0]);
},s=o([[e.x,e.y,1],[t.x,t.y,1],[n.x,n.y,1]]),l=o([[r.x,e.y,1],[i.x,t.y,1],[a.x,n.y,1]]),u=o([[r.y,e.y,1],[i.y,t.y,1],[a.y,n.y,1]]),c=o([[e.x,r.x,1],[t.x,i.x,1],[n.x,a.x,1]]),d=o([[e.x,r.y,1],[t.x,i.y,1],[n.x,a.y,1]]),h=o([[e.x,e.y,r.x],[t.x,t.y,i.x],[n.x,n.y,a.x]]),v=o([[e.x,e.y,r.y],[t.x,t.y,i.y],[n.x,n.y,a.y]]);
return new SVGMatrix([l/s,u/s,c/s,d/s,h/s,v/s])},m=function(e,t){return t.getScreenCTM().inverse().multiply(e.getScreenCTM());
},b=function(e){var t,n;if(e.hasAttribute("data-bx-origin")){var r=e.getAttribute("data-bx-origin").split(" ");
t=v(r[0]),n=v(r[1])}else t=.5,n=.5;return new SVGPoint(t,n)},g=function(e,t){e.setAttribute("data-bx-origin",t.x+" "+t.y);
},p=function(e){var n=t(e),r=b(e),i=k(r,n);return i},y=function(e){var t=e.getScreenCTM(),n=p(e),r=(SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),
n.matrixTransform(t));return r},x=function(e){var t=void 0!==arguments[1]?arguments[1]:!1,r=e.map(function(e){
return y(e)}),i=r[0],a=!0,s=!0,l=!1,u=void 0;try{for(var d=void 0,h=r[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value,f=o(v,i);if(f>3){a=!1;break}}}catch(m){l=!0,u=m}finally{try{s||null==h["return"]||h["return"]();
}finally{if(l)throw u}}var b=null;if(a)if(t){var g=function(){var t=0,r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
r[t++]=n(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}return r}(),p=c(g);b=new SVGPoint((r[0].x-p.x)/p.width,(r[0].y-p.y)/p.height);
}else b=r[0];else if(t)b=new SVGPoint(.5,.5);else{var x=function(){var t=0,r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
r[t++]=n(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}return r}(),_=c(x);b=new SVGPoint(_.x+_.width/2,_.y+_.height/2)}return b;
},_=function(e){var n=e.getScreenCTM(),r=(n.inverse(),p(e)),i=r.matrixTransform(e.getScreenCTM()),o=(t(e),
i),s=new SVGPoint(i.x-100,i.y),l=new SVGPoint(r.x-100,r.y).matrixTransform(e.getScreenCTM()),u=a(o,s,l);
return u},w=function(e){var t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null,r=_(e),i=SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),a=e.getScreenCTM(),o=a.inverse(),s=p(e),u=s.matrixTransform(a),c=SVGMatrix.fromMatrix(i);
c.multiplySelf(o),c.rotateSelf(-r+t,u.x,u.y),c.multiplySelf(a),null!==n&&(c=l(c,n)),
e.setAttribute("transform",c.toString())},S=function(e,t){var n=void 0!==arguments[2]?arguments[2]:3,r=s(e),i=!0,a=!1,o=void 0;
try{for(var l=void 0,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;
if("M"===d.type||"L"===d.type){var h=new SVGPoint(d.values[0],d.values[1]).matrixTransform(t);
d.values=[h.x,h.y]}else if("C"===d.type){var v=new SVGPoint(d.values[0],d.values[1]).matrixTransform(t),f=new SVGPoint(d.values[2],d.values[3]).matrixTransform(t),m=new SVGPoint(d.values[4],d.values[5]).matrixTransform(t);
d.values=[v.x,v.y,f.x,f.y,m.x,m.y]}d.values=d.values.map(function(e){return u(e,n);
})}}catch(b){a=!0,o=b}finally{try{i||null==c["return"]||c["return"]()}finally{if(a)throw o;
}}return r},M=function(e,t,n){var r=void 0!==arguments[3]?arguments[3]:0,a=void 0!==arguments[4]?arguments[4]:0,o=SVGMatrix.fromMatrix(e),s=i(t),l=i(n),u=new SVGMatrix;
return u=C(u,h(s),h(l)),o=R(o,r,a),o.multiplySelf(u),o=R(o,-r,-a)},C=function(e,t,n){
var r=SVGMatrix.fromMatrix(e),i=r.a,a=r.b;return r.a+=n*r.c,r.b+=n*r.d,r.c+=t*i,r.d+=t*a,
r},R=function(e,t,n){var r=SVGMatrix.fromMatrix(e);return r.e=r.e+t*r.a+n*r.c,r.f=r.f+t*r.b+n*r.d,
r},k=function(e,t){var n=new SVGPoint(t.x+e.x*t.width,t.y+e.y*t.height);return n},E=function(e,t){
var n=new SVGPoint((e.x-t.x)/t.width,(e.y-t.y)/t.height);return n};return{get getTransformFromPoints(){
return f},get getTransformToElement(){return m},get getTransformOriginBBoxPoint(){
return b},get setTransformOriginBBoxPoint(){return g},get getTransformOriginUserPoint(){
return p},get getTransformOriginClientPoint(){return y},get getComputedTransformOriginClientPoint(){
return x},get getElementRotationAngle(){return _},get setElementRotationAngle(){return w;
},get transformPathData(){return S},get skew(){return M},get bboxPointToUserPoint(){
return k},get userPointToBBoxPoint(){return E}}}),$traceurRuntime.registerModule("utils/transform-reduction",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/transform-reduction")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/transform-reduction")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./matrix","utils/transform-reduction")).roundMatrix,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./paint","utils/transform-reduction")).getPaintServer,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./pattern","utils/transform-reduction")).getParentPattern,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-shapes","utils/transform-reduction")),o=a.getShapeData,s=a.setShapeData,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-general","utils/transform-reduction")),u=l.getTransformFromPoints,c=l.getElementRotationAngle,d=l.setElementRotationAngle,h=l.getTransformOriginClientPoint,v=l.userPointToBBoxPoint,f=l.transformPathData,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/decomposed-transform","utils/transform-reduction"))["default"],b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/enum","utils/transform-reduction"))["default"],g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/transform-reduction"))["default"],p=Math,y=p.abs,x=p.min,_=(p.max,
Number.parseFloat),w=SVGUnitTypes,S=w.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,M=w.SVG_UNIT_TYPE_USERSPACEONUSE,C=new b("initialStartClientPoint","initialEndClientPoint","initialNormalClientPoint","initialCenterClientPoint","initialR1ClientPoint","initialR2ClientPoint","initialP1ClientPoint","initialP2ClientPoint","initialP3ClientPoint"),R=function(e){
var t=void 0!==arguments[1]?arguments[1]:{},n=e.localName;if(void 0===t.geometryPrecision&&(t.geometryPrecision=3),
void 0===t.transformPrecision&&(t.transformPrecision=3),void 0===t.preserveStrokeWidth&&(t.preserveStrokeWidth=!0),
void 0===t.preserveRectRadii&&(t.preserveRectRadii=!0),void 0===t.preservePathRotation&&(t.preservePathRotation=!0),
"path"===n)if(e.hasAttribute("data-bx-shape")){var r=o(e).type;"triangle"===r?E(e,t):"rect"===r?A(e,t):"n-gon"===r?P(e,t):"star"===r?T(e,t):"ring"===r?L(e,t):k(e,t);
}else k(e,t);else"ellipse"===n?$(e,t):"text"===n?j(e,t):"image"===n?N(e,t):"g"===n&&O(e,t);
e.transform&&e.transform.baseVal.consolidate().matrix.isIdentity()&&e.removeAttribute("transform");
},k=function(n,r){if(n.hasAttribute("transform")){V(n);var i=r,a=i.geometryPrecision,o=i.transformPrecision,s=i.preserveStrokeWidth,l=i.preservePathRotation,u=h(n);
if(l===!0){var b=c(n);d(n,0);var g=n.transform.baseVal.consolidate().matrix,p=m.fromSVGMatrix(g),x=p.scaleX,w=p.scaleY,S=n.getPathData(),M=f(S,g,a);
n.setPathData(M),n.removeAttribute("transform");var C=n.getScreenCTM().inverse(),R=e(n),k=u.matrixTransform(C),E=v(k,R),A=t(E.x,a),P=t(E.y,a);
if(n.setAttribute("data-bx-origin",A+" "+P),d(n,b,o),s===!1){var T=getComputedStyle(n).strokeWidth;
T=_(T),T=(T*y(x)+T*y(w))/2,T=t(T,a),n.style.strokeWidth=T}}else if(l===!1){var L=h(n),$=n.transform.baseVal.consolidate().matrix,j=m.fromSVGMatrix($),N=j.scaleX,O=j.scaleY,D=n.getPathData(),G=f(D,$,a);
n.setPathData(G),n.removeAttribute("transform");var I=n.getScreenCTM().inverse(),B=e(n),U=L.matrixTransform(I),H=v(U,B),F=t(H.x,a),q=t(H.y,a);
if(n.setAttribute("data-bx-origin",F+" "+q),s===!1){var W=getComputedStyle(n).strokeWidth;
W=_(W),W=(W*y(N)+W*y(O))/2,W=t(W,a),n.style.strokeWidth=W}}z(n,r)}},E=function(e,r){
var i,a;if(e.hasAttribute("transform")!==!1){V(e);var l=e.transform.baseVal.consolidate().matrix,c=m.fromSVGMatrix(l),d=c.scaleX,h=c.scaleY,v=r,f=v.geometryPrecision,b=v.transformPrecision,g=v.preserveStrokeWidth,p=o(e).values,x=(i=p[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),w=(a=i.next()).done?void 0:a.value,S=(a=i.next()).done?void 0:a.value,M=(a=i.next()).done?void 0:a.value,C=(a=i.next()).done?void 0:a.value,R=(a=i.next()).done?void 0:a.value,k=new SVGPoint(x,w).matrixTransform(l),E=new SVGPoint(x+S,w).matrixTransform(l),A=new SVGPoint(x,w+M).matrixTransform(l);
x*=d,w*=h,S*=y(d),M*=y(h);var P=new SVGPoint(x,w),T=new SVGPoint(x+S,w),L=new SVGPoint(x,w+M),$=u(P,T,L,k,E,A);
$=n($,b),1===y($.a)&&0===$.b&&0===$.c&&1===y($.d)&&(0===$.e&&0===$.f||(x=1===$.a?x+$.e:x-$.e,
w=1===$.d?w+$.f:w-$.f,$.e=0,$.f=0));var j=[x,w,S,M,C,R];j=j.map(function(e){return t(e,f);
});var N={type:"triangle",values:j};if(s(e,N,f),e.setAttribute("transform",$.toString()),
g===!1){var O=getComputedStyle(e).strokeWidth;O=_(O),O=(O*y(d)+O*y(h))/2,O=t(O,f),
e.style.strokeWidth=O}z(e,r)}},A=function(e,r){var i,a;if(e.hasAttribute("transform")!==!1){
V(e);var l=e.transform.baseVal.consolidate().matrix,c=m.fromSVGMatrix(l),d=c.scaleX,h=c.scaleY,v=r,f=v.geometryPrecision,b=v.transformPrecision,g=v.preserveStrokeWidth,p=v.preserveRectRadii,x=o(e).values,w=(i=x[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),S=(a=i.next()).done?void 0:a.value,M=(a=i.next()).done?void 0:a.value,C=(a=i.next()).done?void 0:a.value,R=(a=i.next()).done?void 0:a.value,k=(a=i.next()).done?void 0:a.value,E=(a=i.next()).done?void 0:a.value,A=(a=i.next()).done?void 0:a.value,P=(a=i.next()).done?void 0:a.value,T=(a=i.next()).done?void 0:a.value,L=(a=i.next()).done?void 0:a.value,$=(a=i.next()).done?void 0:a.value,j=new SVGPoint(w,S).matrixTransform(l),N=new SVGPoint(w+M,S).matrixTransform(l),O=new SVGPoint(w,S+C).matrixTransform(l);
void 0===P&&(P=R),void 0===T&&(T=k),void 0===L&&(L=E),void 0===$&&($=A),w*=d,S*=h,
M*=y(d),C*=y(h),p===!1&&(R*=y(d),k*=y(d),E*=y(d),A*=y(d),P*=y(h),T*=y(h),L*=y(h),
$*=y(h));var D=new SVGPoint(w,S),G=new SVGPoint(w+M,S),I=new SVGPoint(w,S+C),B=u(D,G,I,j,N,O);
B=n(B,b),1===y(B.a)&&0===B.b&&0===B.c&&1===y(B.d)&&(0===B.e&&0===B.f||(w=1===B.a?w+B.e:w-B.e,
S=1===B.d?S+B.f:S-B.f,B.e=0,B.f=0));var U;U=R===P&&k===T&&E===L&&A===$?[w,S,M,C,R,k,E,A]:[w,S,M,C,R,k,E,A,P,T,L,$],
U=U.map(function(e){return t(e,f)});var H={type:"rect",values:U};if(s(e,H,f),e.setAttribute("transform",B.toString()),
g===!1){var F=getComputedStyle(e).strokeWidth;F=_(F),F=(F*y(d)+F*y(h))/2,F=t(F,f),
e.style.strokeWidth=F}z(e,r)}},P=function(e,r){var i,a;if(e.hasAttribute("transform")!==!1){
V(e);var l=e.transform.baseVal.consolidate().matrix,c=m.fromSVGMatrix(l),d=c.scaleX,h=c.scaleY,v=r,f=v.geometryPrecision,b=v.transformPrecision,g=v.preserveStrokeWidth,p=o(e).values,x=(i=p[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),w=(a=i.next()).done?void 0:a.value,S=(a=i.next()).done?void 0:a.value,M=(a=i.next()).done?void 0:a.value,C=(a=i.next()).done?void 0:a.value,R=(a=i.next()).done?void 0:a.value,k=new SVGPoint(x,w).matrixTransform(l),E=new SVGPoint(x+S,w).matrixTransform(l),A=new SVGPoint(x,w+M).matrixTransform(l);
S*=y(d),M*=y(h);var P=new SVGPoint(x,w),T=new SVGPoint(x+S,w),L=new SVGPoint(x,w+M),$=u(P,T,L,k,E,A);
$=n($,b),1===y($.a)&&0===$.b&&0===$.c&&1===y($.d)&&(0===$.e&&0===$.f||(x=1===$.a?x+$.e:x-$.e,
w=1===$.d?w+$.f:w-$.f,$.e=0,$.f=0));var j=[x,w,S,M,C,R];if(j=j.map(function(e){return t(e,f);
}),s(e,{type:"n-gon",values:j},f),e.setAttribute("transform",$.toString()),g===!1){
var N=getComputedStyle(e).strokeWidth;N=_(N),N=(N*y(d)+N*y(h))/2,N=t(N,f),e.style.strokeWidth=N;
}z(e,r)}},T=function(e,r){var i,a;if(e.hasAttribute("transform")!==!1){V(e);var l=e.transform.baseVal.consolidate().matrix,c=m.fromSVGMatrix(l),d=c.scaleX,h=c.scaleY,v=r,f=v.geometryPrecision,b=v.transformPrecision,g=v.preserveStrokeWidth,p=o(e).values,x=(i=p[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),w=(a=i.next()).done?void 0:a.value,S=(a=i.next()).done?void 0:a.value,M=(a=i.next()).done?void 0:a.value,C=(a=i.next()).done?void 0:a.value,R=(a=i.next()).done?void 0:a.value,k=new SVGPoint(x,w).matrixTransform(l),E=new SVGPoint(x+S,w).matrixTransform(l),A=new SVGPoint(x,w+M).matrixTransform(l);
S*=y(d),M*=y(h);var P=new SVGPoint(x,w),T=new SVGPoint(x+S,w),L=new SVGPoint(x,w+M),$=u(P,T,L,k,E,A);
$=n($,b),1===y($.a)&&0===$.b&&0===$.c&&1===y($.d)&&(0===$.e&&0===$.f||(x=1===$.a?x+$.e:x-$.e,
w=1===$.d?w+$.f:w-$.f,$.e=0,$.f=0));var j=[x,w,S,M,C,R];if(j=j.map(function(e){return t(e,f);
}),s(e,{type:"star",values:j},f),e.setAttribute("transform",$.toString()),g===!1){
var N=getComputedStyle(e).strokeWidth;N=_(N),N=(N*y(d)+N*y(h))/2,N=t(N,f),e.style.strokeWidth=N;
}z(e,r)}},L=function(e,r){var i,a;if(e.hasAttribute("transform")!==!1){V(e);var l=e.transform.baseVal.consolidate().matrix,c=m.fromSVGMatrix(l),d=c.scaleX,h=c.scaleY,v=r,f=v.geometryPrecision,b=v.transformPrecision,g=v.preserveStrokeWidth,p=o(e).values,x=(i=p[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),w=(a=i.next()).done?void 0:a.value,S=(a=i.next()).done?void 0:a.value,M=(a=i.next()).done?void 0:a.value,C=(a=i.next()).done?void 0:a.value,R=(a=i.next()).done?void 0:a.value,k=new SVGPoint(x,w).matrixTransform(l),E=new SVGPoint(x+C,w).matrixTransform(l),A=new SVGPoint(x,w+R).matrixTransform(l);
S*=y(d),M*=y(h),C*=y(d),R*=y(h);var P=new SVGPoint(x,w),T=new SVGPoint(x+C,w),L=new SVGPoint(x,w+R),$=u(P,T,L,k,E,A);
$=n($,b),1===y($.a)&&0===$.b&&0===$.c&&1===y($.d)&&(0===$.e&&0===$.f||(x=1===$.a?x+$.e:x-$.e,
w=1===$.d?w+$.f:w-$.f,$.e=0,$.f=0));var j=[x,w,S,M,C,R];if(j=j.map(function(e){return t(e,f);
}),s(e,{type:"ring",values:j},f),e.setAttribute("transform",$.toString()),g===!1){
var N=getComputedStyle(e).strokeWidth;N=_(N),N=(N*y(d)+N*y(h))/2,N=t(N,f),e.style.strokeWidth=N;
}z(e,r)}},$=function(e,r){if(e.hasAttribute("transform")!==!1){V(e);var i=e.transform.baseVal.consolidate().matrix,a=m.fromSVGMatrix(i),o=a.scaleX,s=a.scaleY,l=r,c=l.geometryPrecision,d=l.transformPrecision,h=l.preserveStrokeWidth,v=e.cx.baseVal.value,f=e.cy.baseVal.value,b=e.rx.baseVal.value,p=e.ry.baseVal.value,w=new SVGPoint(v,f).matrixTransform(i),S=new SVGPoint(v+b,f).matrixTransform(i),M=new SVGPoint(v,f-p).matrixTransform(i);
v*=o,f*=s,b*=o,p*=s;var C=new SVGPoint(v,f),R=new SVGPoint(v+b,f),k=new SVGPoint(v,f-p),E=u(C,R,k,w,S,M);
if(E=n(E,d),1===y(E.a)&&0===E.b&&0===E.c&&1===y(E.d)&&(C=C.matrixTransform(E),R=R.matrixTransform(E),
k=k.matrixTransform(E),E.e=0,E.f=0),b=new g(C,R).length,p=new g(C,k).length,e.setAttribute("transform",E.toString()),
e.setAttribute("cx",t(C.x,c)),e.setAttribute("cy",t(C.y,c)),e.setAttribute("rx",t(b,c)),
e.setAttribute("ry",t(p,c)),h===!1){var A=getComputedStyle(e).strokeWidth;A=_(A),
e.style.strokeWidth=x(A*y(o),A*y(s))}z(e,r)}},j=function(e,r){if(e.hasAttribute("transform")){
V(e);var i=r,a=i.geometryPrecision,o=i.transformPrecision,s=i.preserveStrokeWidth,l=new Map,u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=e.children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;l.set(f,f.getBBox())}}catch(b){c=!0,d=b}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}var g=m.fromSVGMatrix(e.transform.baseVal.consolidate().matrix),p=new m;
if(g.scaleX===g.scaleY){var w=!0,S=!1,M=void 0;try{for(var C=void 0,R=e.children[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var k=C.value,E=getComputedStyle(k).fontSize;E=_(E),E=t(E*g.scaleY,1),k.style.fontSize=E;
var A=getComputedStyle(k).wordSpacing;A=_(A),A=t(A*g.scaleY,2),k.style.wordSpacing=A;
var P=getComputedStyle(k).letterSpacing;P=_(P),P=t(P*g.scaleY,2),k.style.letterSpacing=P;
}}catch(T){S=!0,M=T}finally{try{w||null==R["return"]||R["return"]()}finally{if(S)throw M;
}}for(var L="",$="",j=0;j<e.x.baseVal.numberOfItems;j+=1)L+=e.x.baseVal.getItem(j).value*g.scaleX,
j!==e.x.baseVal.numberOfItems-1&&(L+=" ");for(var N=0;N<e.y.baseVal.numberOfItems;N+=1)$+=e.y.baseVal.getItem(N).value*g.scaleY,
N!==e.y.baseVal.numberOfItems-1&&($+=" ");if(e.setAttribute("x",L),e.setAttribute("y",$),
s===!1){var O=getComputedStyle(e).strokeWidth;O=_(O),e.style.strokeWidth=x(O*y(g.scaleX),O*y(g.scaleY));
}p.scaleX=g.scaleX,p.scaleY=g.scaleY,g.scaleX=1,g.scaleY=1}var D=e.firstElementChild&&"textPath"===e.firstElementChild.localName;
if(1===g.scaleX&&1===g.scaleY&&0===g.rotateZ&&0===g.skewXY&&D===!1){var G="",I="";
if(e.x.baseVal.numberOfItems>0)for(var B=0;B<e.x.baseVal.numberOfItems;B+=1)G+=t(e.x.baseVal.getItem(B).value+g.translateX,a),
B!==e.x.baseVal.numberOfItems-1&&(G+=" ");else G=t(g.translateX,a);if(e.y.baseVal.numberOfItems>0)for(var U=0;U<e.y.baseVal.numberOfItems;U+=1)I+=t(e.y.baseVal.getItem(U).value+g.translateY,a),
U!==e.y.baseVal.numberOfItems-1&&(I+=" ");else I=t(g.translateY,a);e.setAttribute("x",G),
e.setAttribute("y",I),p.translateX=g.translateX,p.translateY=g.translateY,g.translateX=0,
g.translateY=0}g=g.toSVGMatrix(),g=n(g,o),e.setAttribute("transform",g.toString()),
z(e,r);var H=!0,F=!1,q=void 0;try{for(var W=void 0,Y=e.children[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0){
W.value}}catch(X){F=!0,q=X}finally{try{H||null==Y["return"]||Y["return"]()}finally{
if(F)throw q}}}},N=function(e,n){var r=n.geometryPrecision;if(e.hasAttribute("transform")){
var i=m.fromSVGMatrix(e.transform.baseVal.consolidate().matrix);if(1!==i.scaleX||1!==i.scaleY){
var a=t(e.x.baseVal.value*i.scaleX,r),o=t(e.y.baseVal.value*i.scaleY,r),s=t(e.width.baseVal.value*i.scaleX,r),l=t(e.height.baseVal.value*i.scaleY,r);
e.setAttribute("preserveAspectRatio","none"),e.setAttribute("x",a),e.setAttribute("y",o),
e.setAttribute("width",s),e.setAttribute("height",l),i.scaleX=1,i.scaleY=1}if(0===i.rotateZ&&0===i.skewXY){
var u=t(e.x.baseVal.value+i.translateX,r),c=t(e.y.baseVal.value+i.translateY,r);e.setAttribute("x",u),
e.setAttribute("y",c),i.translateX=0,i.translateY=0}e.setAttribute("transform",i.toSVGMatrix().toString());
}},O=function(e,t){var r=t.transformPrecision,i=e.transform.baseVal.consolidate().matrix;
i=n(i,r),i.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",i.toString());
},V=function(t){var n=[r(t,"fill"),r(t,"stroke")],a=n.filter(function(e){return e&&e.localName.endsWith("Gradient");
}),o=n.filter(function(e){return e&&"pattern"===e.localName}),s=t.getScreenCTM(),l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value,f=v.gradientTransform.baseVal.consolidate().matrix;
if(v.gradientUnits.baseVal===M)if("linearGradient"===v.localName){var m=new SVGPoint(v.x1.baseVal.value,v.y1.baseVal.value),b=new SVGPoint(v.x2.baseVal.value,v.y2.baseVal.value),p=new g(m,b).getNormalVector(),y=p.transformPoint(m),x=m.matrixTransform(f),_=b.matrixTransform(f),w=y.matrixTransform(f);
v[C.initialStartClientPoint]=x.matrixTransform(s),v[C.initialEndClientPoint]=_.matrixTransform(s),
v[C.initialNormalClientPoint]=w.matrixTransform(s)}else if("radialGradient"===v.localName){
var R=new SVGPoint(v.cx.baseVal.value,v.cy.baseVal.value),k=new SVGPoint(v.cx.baseVal.value+v.r.baseVal.value,v.cy.baseVal.value),E=new SVGPoint(v.cx.baseVal.value,v.cy.baseVal.value-v.r.baseVal.value),A=R.matrixTransform(f),P=k.matrixTransform(f),T=E.matrixTransform(f);
v[C.initialCenterClientPoint]=A.matrixTransform(s),v[C.initialR1ClientPoint]=P.matrixTransform(s),
v[C.initialR2ClientPoint]=T.matrixTransform(s)}}}catch(L){u=!0,c=L}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}var $=!0,j=!1,N=void 0;try{for(var O=void 0,V=o[Symbol.iterator]();!($=(O=V.next()).done);$=!0){
var z=O.value,D=z.hasAttribute("href")?i(z):z,G=SVGMatrix.fromMatrix(z.patternTransform.baseVal.consolidate().matrix);
if(D.patternUnits.baseVal===M){var I=new SVGPoint(D.x.baseVal.value,D.y.baseVal.value),B=new SVGPoint(D.x.baseVal.value+D.width.baseVal.value,D.y.baseVal.value),U=new SVGPoint(D.x.baseVal.value+D.width.baseVal.value,D.y.baseVal.value+D.height.baseVal.value),H=I.matrixTransform(G),F=B.matrixTransform(G),q=U.matrixTransform(G);
z[C.initialP1ClientPoint]=H.matrixTransform(s),z[C.initialP2ClientPoint]=F.matrixTransform(s),
z[C.initialP3ClientPoint]=q.matrixTransform(s)}else if(D.patternUnits.baseVal===S){
var W=t.getScreenCTM(),Y=e(t),X=new SVGPoint(D.x.baseVal.valueInSpecifiedUnits,D.y.baseVal.valueInSpecifiedUnits),Z=new SVGPoint(D.x.baseVal.valueInSpecifiedUnits+D.width.baseVal.valueInSpecifiedUnits,D.y.baseVal.valueInSpecifiedUnits),K=new SVGPoint(D.x.baseVal.valueInSpecifiedUnits+D.width.baseVal.valueInSpecifiedUnits,D.y.baseVal.valueInSpecifiedUnits+D.height.baseVal.valueInSpecifiedUnits),J=new SVGPoint(Y.x+X.x*Y.width,Y.y+X.y*Y.height),Q=new SVGPoint(Y.x+Z.x*Y.width,Y.y+Z.y*Y.height),ee=new SVGPoint(Y.x+K.x*Y.width,Y.y+K.y*Y.height),te=J.matrixTransform(G),ne=Q.matrixTransform(G),re=ee.matrixTransform(G),ie=te.matrixTransform(W),ae=ne.matrixTransform(W),oe=re.matrixTransform(W);
z[C.initialP1ClientPoint]=ie,z[C.initialP2ClientPoint]=ae,z[C.initialP3ClientPoint]=oe;
}}}catch(se){j=!0,N=se}finally{try{$||null==V["return"]||V["return"]()}finally{if(j)throw N;
}}},z=function(t,a){var o=[r(t,"fill"),r(t,"stroke")],s=o.filter(function(e){return e&&e.localName.endsWith("Gradient");
}),l=o.filter(function(e){return e&&"pattern"===e.localName}),c=t.getScreenCTM().inverse(),d=a.transformPrecision,h=!0,v=!1,f=void 0;
try{for(var m=void 0,b=s[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var p=m.value;
if(p.gradientUnits.baseVal===M){var y=void 0;if("linearGradient"===p.localName){var x=new SVGPoint(p.x1.baseVal.value,p.y1.baseVal.value),_=new SVGPoint(p.x2.baseVal.value,p.y2.baseVal.value),w=new g(x,_).getNormalVector().transformPoint(x);
y=u(x,_,w,p[C.initialStartClientPoint].matrixTransform(c),p[C.initialEndClientPoint].matrixTransform(c),p[C.initialNormalClientPoint].matrixTransform(c));
}else if("radialGradient"===p.localName){var R=new SVGPoint(p.cx.baseVal.value,p.cy.baseVal.value),k=new SVGPoint(p.cx.baseVal.value+p.r.baseVal.value,p.cy.baseVal.value),E=new SVGPoint(p.cx.baseVal.value,p.cy.baseVal.value-p.r.baseVal.value);
y=u(R,k,E,p[C.initialCenterClientPoint].matrixTransform(c),p[C.initialR1ClientPoint].matrixTransform(c),p[C.initialR2ClientPoint].matrixTransform(c));
}y=n(y,d),p.setAttribute("gradientTransform",y.toString())}}}catch(A){v=!0,f=A}finally{
try{h||null==b["return"]||b["return"]()}finally{if(v)throw f}}var P=!0,T=!1,L=void 0;
try{for(var $=void 0,j=l[Symbol.iterator]();!(P=($=j.next()).done);P=!0){var N=$.value,O=N.hasAttribute("href")?i(N):N,V=SVGMatrix.fromMatrix(N.patternTransform.baseVal.consolidate().matrix);
if(O.patternUnits.baseVal===M){var z=new SVGPoint(O.x.baseVal.value,O.y.baseVal.value),D=new SVGPoint(O.x.baseVal.value+O.width.baseVal.value,O.y.baseVal.value),G=new SVGPoint(O.x.baseVal.value+O.width.baseVal.value,O.y.baseVal.value+O.height.baseVal.value),I=u(z,D,G,N[C.initialP1ClientPoint].matrixTransform(c),N[C.initialP2ClientPoint].matrixTransform(c),N[C.initialP3ClientPoint].matrixTransform(c));
V=n(I,d),N.setAttribute("patternTransform",V.toString())}else if(O.patternUnits.baseVal===S){
var B=e(t),U=new SVGPoint(O.x.baseVal.valueInSpecifiedUnits,O.y.baseVal.valueInSpecifiedUnits),H=new SVGPoint(O.x.baseVal.valueInSpecifiedUnits+O.width.baseVal.valueInSpecifiedUnits,O.y.baseVal.valueInSpecifiedUnits),F=new SVGPoint(O.x.baseVal.valueInSpecifiedUnits+O.width.baseVal.valueInSpecifiedUnits,O.y.baseVal.valueInSpecifiedUnits+O.height.baseVal.valueInSpecifiedUnits),q=new SVGPoint(B.x+U.x*B.width,B.y+U.y*B.height),W=new SVGPoint(B.x+H.x*B.width,B.y+H.y*B.height),Y=new SVGPoint(B.x+F.x*B.width,B.y+F.y*B.height),X=N[C.initialP1ClientPoint].matrixTransform(c),Z=N[C.initialP2ClientPoint].matrixTransform(c),K=N[C.initialP3ClientPoint].matrixTransform(c),J=X.matrixTransform(V.inverse()),Q=Z.matrixTransform(V.inverse()),ee=K.matrixTransform(V.inverse()),te=u(q,W,Y,J,Q,ee);
V=V.multiply(te),V=n(V,d),N.setAttribute("patternTransform",V.toString())}}}catch(ne){
T=!0,L=ne}finally{try{P||null==j["return"]||j["return"]()}finally{if(T)throw L}}};
return{get reduceTransform(){return R}}}),$traceurRuntime.registerModule("utils/type",[],function(){
"use strict";var e=Number,t=e.isFinite,n=e.isNaN,r=e.parseFloat,i=function(e){return n(e)?!1:"number"==typeof e;
},a=function(e){return e===!!e},o=function(e){var i=r(e);return n(i)===!1&&t(i)};return{
get isNumber(){return i},get isBoolean(){return a},get isNumeric(){return o}}}),$traceurRuntime.registerModule("utils/vector",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/vector"))["default"],t=function(e,t){
return e.x*t.x+e.y*t.y},n=function(t,n){return new e(t.x-n.x,t.y-n.y)},r=function(t,n){
return new e(t.x+n.x,t.y+n.y)},i=function(e,t){return e.x===t.x&&e.y===t.y};return{
get vectorsDotProduct(){return t},get subtractVectors(){return n},get sumVectors(){
return r},get compareVectors(){return i}}});