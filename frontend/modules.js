$traceurRuntime.registerModule("classes/bridge",[],function(){"use strict";var e=function(){
function e(){var e=this;this._counter=0,this._requestCallbacks={},this._responseCallbacks={},
this._postMessageCache=[],this._masterWindow=null,this._masterOrigin=null,window.addEventListener("message",function(t){
return e._onMessage(t)})}return $traceurRuntime.createClass(e,{postMessage:function(e){
var t=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null,r=this,i=function(){
var i=r._counter++,a="request",o={channel:a,id:i,name:e,arg:t};n&&(r._responseCallbacks[o.id]=n),
r._masterWindow.postMessage(o,r._masterOrigin)};this._masterWindow&&this._masterOrigin?i():this._postMessageCache.push(i);
},addMessageListener:function(e,t){this._requestCallbacks[e]||(this._requestCallbacks[e]=[]),
this._requestCallbacks[e].push(t)},removeMessageListener:function(e,t){this._requestCallbacks[e]&&(this._requestCallbacks[e]=this._requestCallbacks[e].filter(function(e){
return e!==t}))},_onMessage:function(e){var t=this,n=e.data,r=n.channel,i=n.id,a=n.name,o=n.arg;
if(null===this._masterWindow){this._masterWindow=e.source,this._masterOrigin=e.origin;
var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this._postMessageCache[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h()}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}this._postMessageCache=[]}"request"===r?this._requestCallbacks[a]&&this._requestCallbacks[a].forEach(function(e){
e(o,function(e){var n={channel:"response",id:i,name:a,arg:e};t._masterWindow.postMessage(n,t._masterOrigin);
})}):"response"===r&&this._responseCallbacks[i]&&(this._responseCallbacks[i](o),delete this._responseCallbacks[i]);
}},{})}(),t=function(){function e(){var e=this;this._counter=0,this._requestCallbacks={},
this._responseCallbacks={},ipcRenderer.on("request",function(t,n){return e._onRequestMessage(n);
}),ipcRenderer.on("response",function(t,n){return e._onResponseMessage(n)})}return $traceurRuntime.createClass(e,{
postMessage:function(e){var t=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null,r=this._counter++,i={
name:e,arg:t,id:r};n&&(this._responseCallbacks[i.id]=n),ipcRenderer.isWebview?ipcRenderer.sendToHost("request",i):ipcRenderer.send("request",i);
},addMessageListener:function(e,t){this._requestCallbacks[e]||(this._requestCallbacks[e]=[]),
this._requestCallbacks[e].push(t)},removeMessageListener:function(e,t){this._requestCallbacks[e]&&(this._requestCallbacks[e]=this._requestCallbacks[e].filter(function(e){
return e!==t}))},_onRequestMessage:function(e){var t=e,n=t.name,r=t.arg,i=t.id,a=this._requestCallbacks[n];
a&&a.forEach(function(e){e(r,function(e){var t={id:i,name:n,arg:e};ipcRenderer.isWebview?ipcRenderer.sendToHost("response",t):ipcRenderer.send("response",t);
})})},_onResponseMessage:function(e){this._responseCallbacks[e.id]&&(this._responseCallbacks[e.id](e.arg),
delete this._responseCallbacks[e.id])}},{})}(),n=window.ipcRenderer?t:e;return{get default(){
return n}}}),$traceurRuntime.registerModule("classes/color",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","classes/color")),t=e.stringToColor,n=e.colorToString,r=e.rgbToHsl,i=e.hslToRgb,a=function(){
function e(){var e=void 0!==arguments[0]?arguments[0]:0,t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:0,r=void 0!==arguments[3]?arguments[3]:1,i=void 0!==arguments[4]?arguments[4]:"rgba";
"rgba"===i?(this.r=e,this.g=t,this.b=n):"hsla"===i&&(this.h=e,this.s=t,this.l=n),
this.a=r,this.space=i}return $traceurRuntime.createClass(e,{setSpace:function(e){
var t,n,a,o;if("rgba"===e&&"hsla"===this.space){var s=i(this.h,this.s,this.l),l=(t=s[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),u=(n=t.next()).done?void 0:n.value,c=(n=t.next()).done?void 0:n.value;
this.r=l,this.g=u,this.b=c,delete this.h,delete this.s,delete this.l,this.space="rgba";
}else if("hsla"===e&&"rgba"===this.space){var d=r(this.r,this.g,this.b),h=(a=d[Symbol.iterator](),
(o=a.next()).done?void 0:o.value),v=(o=a.next()).done?void 0:o.value,f=(o=a.next()).done?void 0:o.value;
this.h=h,this.s=v,this.l=f,delete this.r,delete this.g,delete this.b,this.space="hsla";
}},clone:function(){return"rgba"===this.space?new e(this.r,this.g,this.b,this.a,"rgba"):"hsla"===this.space?new e(this.h,this.s,this.l,this.a,"hsla"):void 0;
},log:function(){var e=this.toString();console.log("%c     ","background: "+e,e)},
toString:function(){var e=void 0!==arguments[0]?arguments[0]:"rgba";return n(this,e);
}},{fromString:function(n){var r=void 0!==arguments[1]?arguments[1]:"rgba";if("rgba"===r){
var i=t(n,"rgba"),a=i.r,o=i.g,s=i.b,l=i.a;return new e(a,o,s,l,"rgba")}var u=t(n,"hsla"),c=u.h,d=u.s,h=u.l,v=u.a;
return new e(c,d,h,v,"hsla")}})}();return{get default(){return a}}}),$traceurRuntime.registerModule("classes/dom-undo-manager",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./event-emitter","classes/dom-undo-manager"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/type","classes/dom-undo-manager")).isBoolean,n={
childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0
},r=function(e){function r(e){var t;$traceurRuntime.superConstructor(r).call(this),
this._rootElement=e,this._groups=[],this._position=0,this._disabled=!1,this._observer=new MutationObserver((t=this,
function(e){var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t._onDOMTransaction(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}})),this._onDisabledChange()}return $traceurRuntime.createClass(r,{
get disabled(){return this._disabled},set disabled(e){t(e)&&e!==this._disabled&&(this._disabled=e,
this._onDisabledChange())},get undoLabel(){var e="Undo";if(this.canUndo()){var t;t=this._groups[this._position-1].transactions.length>0?this._groups[this._position-1]:this._groups[this._position-2],
e="Undo: "+t.label}return e},get redoLabel(){var e="Redo";if(this.canRedo()){var t=this._groups[this._position];
e="Redo: "+t.label}return e},clear:function(){this._groups=[],0!==this._position&&(this._position=0,
this.dispatchEvent(new CustomEvent("positionchange",{detail:"reset"})))},checkpoint:function(e){
this._observer.takeRecords(),this._position<this._groups.length&&(this._groups=this._groups.slice(0,this._position));
var t={label:e,transactions:[]};this._groups.push(t),this._position+=1,this.dispatchEvent(new CustomEvent("positionchange",{
detail:"increment"}))},undo:function(){if(this.canUndo()){this._discardCurrentGroupIfEmpty(),
this.disabled=!0,this._position-=1;var e=this._groups[this._position].transactions;
e=$traceurRuntime.spread(e).reverse();var t=new Set,n=new Set,r=new Set,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if("childList"===u.type){var c=document.createDocumentFragment(),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=u.addedNodes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;u.target.removeChild(p),n.add(p),t["delete"](p)}}catch(b){h=!0,v=b}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}var g=!0,y=!1,x=void 0;
try{for(var _=void 0,w=u.removedNodes[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){
var S=_.value;c.append(S),t.add(S),n["delete"](S)}}catch(k){y=!0,x=k}finally{try{
g||null==w["return"]||w["return"]()}finally{if(y)throw x}}u.nextSibling?u.target.insertBefore(c,u.nextSibling):u.previousSibling?u.target.insertBefore(c,u.previousSibling.nextSibling):u.target.append(c);
}else"attributes"===u.type?(null===u.oldValue?"gradientUnits"===u.attributeName?u.target.setAttribute("gradientUnits","objectBoundingBox"):"patternUnits"===u.attributeName?u.target.setAttribute("patternUnits","objectBoundingBox"):"patternContentUnits"===u.attributeName?u.target.setAttribute("patternContentUnits","userSpaceOnUse"):u.target.removeAttribute(u.attributeName):u.target.setAttribute(u.attributeName,u.oldValue),
r.add(u.target)):"characterData"===u.type&&(u.target.data=u.oldValue,r.add(u.target));
}}catch(C){a=!0,o=C}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{addedNodes:t,
removedNodes:n,modifiedNodes:r}})),this.dispatchEvent(new CustomEvent("positionchange",{
detail:"decrement"}))}else console.info("Can't undo")},redo:function(){if(this.canRedo()){
this.disabled=!0;var e=this._groups[this._position].transactions;this._position+=1;
var t=new Set,n=new Set,r=new Set,i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if("childList"===u.type){var c=document.createDocumentFragment(),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=u.removedNodes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;u.target.removeChild(p),n.add(p),t["delete"](p)}}catch(b){h=!0,v=b}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}var g=!0,y=!1,x=void 0;
try{for(var _=void 0,w=u.addedNodes[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){
var S=_.value;c.append(S),t.add(S),n["delete"](S)}}catch(k){y=!0,x=k}finally{try{
g||null==w["return"]||w["return"]()}finally{if(y)throw x}}u.nextSibling?u.target.insertBefore(c,u.nextSibling):u.previousSibling?u.target.insertBefore(c,u.previousSibling.nextSibling):u.target.append(c);
}else"attributes"===u.type?(null===u.newValue?u.target.removeAttribute(u.attributeName):u.target.setAttribute(u.attributeName,u.newValue),
r.add(u.target)):"characterData"===u.type&&(u.target.data=u.newValue,r.add(u.target));
}}catch(C){a=!0,o=C}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{addedNodes:t,
removedNodes:n,modifiedNodes:r}})),this.dispatchEvent(new CustomEvent("positionchange",{
detail:"increment"}))}else console.info("Can't redo")},canUndo:function(){return 0===this._position||this.disabled?!1:1!==this._position||!this._isCurrentGroupEmpty();
},canRedo:function(){return this._position!==this._groups.length&&!this.disabled},
_onDisabledChange:function(){this.disabled===!0?(this._observer.takeRecords(),this._observer.disconnect()):this.disabled===!1&&this._observer.observe(this._rootElement,n);
},_onDOMTransaction:function(e){if(0!==this._groups.length){var t=this._groups[this._groups.length-1].transactions;
if("attributes"===e.type){var n=e.attributeName,r=t.find(function(t){return"attributes"===t.type&&t.attributeName===n&&t.target===e.target;
});r?r.newValue=r.target.getAttribute(n):(r={type:"attributes",target:e.target,attributeName:n,
oldValue:e.oldValue,newValue:e.target.getAttribute(n)},t.push(r))}else if("characterData"===e.type){
var i=t.find(function(t){return"characterData"===t.type&&t.target===e.target});if(i)i.newValue=i.target.data;else{
var a={type:"characterData",target:e.target,oldValue:e.oldValue,newValue:e.target.data
};t.push(a)}}else if("childList"===e.type){var o={type:"childList",target:e.target,
addedNodes:$traceurRuntime.spread(e.addedNodes),removedNodes:$traceurRuntime.spread(e.removedNodes),
nextSibling:e.nextSibling,previousSibling:e.previousSibling};t.push(o)}}},_isCurrentGroupEmpty:function(){
return 0===this._groups[this._position-1].transactions.length},_discardCurrentGroupIfEmpty:function(){
this._position>0&&0===this._groups[this._position-1].transactions.length&&(this._groups.remove(this._groups[this._position]),
this._position-=1,this.dispatchEvent(new CustomEvent("positionchange",{detail:"decrement"
})))}},{},e)}(e);return{get default(){return r}}}),$traceurRuntime.registerModule("classes/event-emitter",[],function(){
"use strict";var e=function(){function e(){}return $traceurRuntime.createClass(e,{
addEventListener:function(e,t){this._events||(this._events={});var n=this._events[e];
n||(this._events[e]=n=[]),n.push(t),n.length>300&&console.warn("Potential EventEmitter memory leak: "+n.length+" listeners "+('subscribed to event "'+e+'"'));
},removeEventListener:function(e,t){if(this._events&&this._events[e]){for(var n=[],r=0;r<this._events[e].length;r+=1)this._events[e][r]!==t&&n.push(this._events[e][r]);
this._events[e]=n}},dispatchEvent:function(e){if(this._events){var t=this._events[e.type];
if(t){for(var n=null,r=t.length-1;r>=0;r-=1){var i=t[r],a=void 0;try{a=i.call(window,e);
}catch(o){null===n&&(n=o)}if(a===!1)break}if(n)throw n}}}},{})}();return{get default(){
return e}}}),$traceurRuntime.registerModule("classes/google-fonts-manager",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/dom-value","classes/google-fonts-manager")).parseValue,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","classes/google-fonts-manager")).createElement,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","classes/google-fonts-manager")).deserializePathData,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","classes/google-fonts-manager")),i=r.getRenderedChars,a=r.getRenderedTextNodes,o=r.spanifyText,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","classes/google-fonts-manager")),l=s.getTimeStamp,u=s.milisecondsToDays,c=s.sleepUntilIdle,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","classes/google-fonts-manager")).reduceTransform,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","classes/google-fonts-manager")).textSpecificPropertyNames,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","classes/google-fonts-manager")),f=v.getOpenTypeFont,m=v.getOpenTypeGlyphPath,p=(v.matchFontWeight,
v.matchGoogleFontFace),b=v.normalizeFontWeight,g=v.parseGoogleFontsURL,y=v.normalizeGoogleFontFace,x=Number.parseFloat,_=Object,w=_.entries,S=_.keys,k=(_.freeze,
window.getComputedStyle),C="https://www.googleapis.com/webfonts/v1/webfonts",R="AIzaSyBZd8UahlnRn53EWC7snRmOAuuktqBaP6k",M="\n  Google Fonts Manager can't be created with root element that is disconnected from the document tree because it\n  relies on window.getComputeStyle() and SVGStyleElement.sheet.rules APIs.\n",E=function(){
function r(e){if(e.isConnected===!1)throw new Error(M);this._rootElement=e,this._registry=null,
this._renderingCanvas=null}return $traceurRuntime.createClass(r,{getAllFamilies:function(){
var e=void 0!==arguments[0]?arguments[0]:"alphabetical",t=this;return new Promise(function(n){
var r,i;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){case 0:
return void Promise.resolve(t._getRegistry()).then(a.createCallback(3),a.errback);
case 3:r=a.value,a.state=2;break;case 2:r?"alphabetical"===e?(i=r.items.map(function(e){
return e.family}),n(i)):"popularity"!==e&&"trending"!==e&&"date"!==e||n(r.sortedFamilies[e]):n(null),
a.state=-2;break;default:return a.end()}},this)})},getImportedFamilies:function(){
var e,t,n=this._rootElement.querySelector("style#bx-google-fonts"),r=n?n.sheet.rules[0]:void 0,i=new Set;
if(r){var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=g(r.href)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=(e=l.value[Symbol.iterator](),(t=e.next()).done?void 0:t.value);i.add(c)}}catch(d){
o=!0,s=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}}return $traceurRuntime.spread(i);
},getUsedImportedFamilies:function(){var t=new Set,n=this.getImportedFamilies(),r=[],i=!0,o=!1,s=void 0;
try{for(var l=void 0,u=this._rootElement.querySelectorAll("text")[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=!0,h=!1,v=void 0;try{for(var f=void 0,m=a(c)[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;r.includes(p.parentElement)||r.push(p.parentElement)}}catch(b){h=!0,
v=b}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}}}catch(g){
o=!0,s=g}finally{try{i||null==u["return"]||u["return"]()}finally{if(o)throw s}}var y=!0,x=!1,_=void 0;
try{for(var w=void 0,S=r[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var C=w.value,R=k(C),M=e("font-family",R.getPropertyValue("font-family"))||[];
M[0]&&t.add(M[0])}}catch(E){x=!0,_=E}finally{try{y||null==S["return"]||S["return"]();
}finally{if(x)throw _}}return t=$traceurRuntime.spread(t).filter(function(e){return n.includes(e);
})},getImportedWeights:function(e){var t,n,r=this._rootElement.querySelector("style#bx-google-fonts"),i=r?r.sheet.rules[0]:void 0,a=new Set;
if(i){var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=g(i.href)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=(t=d[Symbol.iterator](),(n=t.next()).done?void 0:n.value),v=(n=t.next()).done?void 0:n.value;
if(h===e){var f=!0,m=!1,p=void 0;try{for(var b=void 0,y=v[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){
var x=b.value,_=x.endsWith("italic")?x.substring(0,3):x;a.add(_)}}catch(w){m=!0,p=w;
}finally{try{f||null==y["return"]||y["return"]()}finally{if(m)throw p}}}}}catch(S){
s=!0,l=S}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}return $traceurRuntime.spread(a);
},getThumbnail:function(e){var t=this;return new Promise(function(n){var r,i,a,o;return $traceurRuntime.asyncWrap(function(s){
for(;;)switch(s.state){case 0:return void Promise.resolve(t._dbGetThumbnailEntry(e)).then(s.createCallback(3),s.errback);
case 3:r=s.value,s.state=2;break;case 2:i=l(),s.state=19;break;case 19:s.state=r?11:12;
break;case 11:s.state=u(i-r.timeStamp)<90?9:4;break;case 9:n(r.thumbnail),s.state=-2;
break;case 4:return void Promise.resolve(t._createThumbnail(e)).then(s.createCallback(6),s.errback);
case 6:a=s.value,s.state=5;break;case 5:a?(t._dbSetThumbnailEntry(e,{thumbnail:a,
timeStamp:i}),n(a)):n(r.thumbnail),s.state=-2;break;case 12:return void Promise.resolve(t._createThumbnail(e)).then(s.createCallback(14),s.errback);
case 14:o=s.value,s.state=13;break;case 13:o?(t._dbSetThumbnailEntry(e,{thumbnail:o,
timeStamp:i}),n(o)):n(null),s.state=-2;break;default:return s.end()}},this)})},_createThumbnail:function(e){
var n=this;return new Promise(function(r){var i,a,o,s,l,u;return $traceurRuntime.asyncWrap(function(d){
for(;;)switch(d.state){case 0:return void Promise.resolve(n._getRegistry()).then(d.createCallback(3),d.errback);
case 3:i=d.value,d.state=2;break;case 2:d.state=i?15:17;break;case 15:a=i.items.find(function(t){
return t.family===e}),d.state=16;break;case 16:d.state=a?8:12;break;case 8:o=a.urls[400]||a.urls[S(a.urls)[0]],
o=o.replace("http://","https://"),s=new FontFace("BX "+e,"url("+o+")",{}),d.state=9;
break;case 9:return void Promise.resolve(s.load()).then(d.createCallback(5),d.errback);
case 5:return void Promise.resolve(c(20)).then(d.createCallback(7),d.errback);case 7:
document.fonts.add(s),null===n._renderingCanvas&&(n._renderingCanvas=t("canvas"),
n._renderingCanvas.width=300,n._renderingCanvas.height=40),l=n._renderingCanvas.getContext("2d"),
l.clearRect(0,0,300,40),l.font='30px "BX '+e+'"',l.fillStyle="white",l.fillText(e,5,30),
document.fonts["delete"](s),u=n._renderingCanvas.toDataURL("image/png"),r(u),d.state=-2;
break;case 12:r(null),d.state=-2;break;case 17:r(null),d.state=-2;break;default:return d.end();
}},this)})},_getRegistry:function(){var e=this;return new Promise(function(t){var n,r,i,a;
return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:o.state=e._registry?20:1;
break;case 20:t(e._registry),o.state=-2;break;case 1:return void Promise.resolve(e._dbGetRegistry()).then(o.createCallback(3),o.errback);
case 3:n=o.value,o.state=2;break;case 2:r=l(),o.state=19;break;case 19:o.state=n?11:12;
break;case 11:o.state=u(r-n.timeStamp)<30?9:4;break;case 9:t(n),o.state=-2;break;case 4:
return void Promise.resolve(e._createRegistry()).then(o.createCallback(6),o.errback);
case 6:i=o.value,o.state=5;break;case 5:i?(e._dbSetRegistry(i),t(i)):t(n),o.state=-2;
break;case 12:return void Promise.resolve(e._createRegistry()).then(o.createCallback(14),o.errback);
case 14:a=o.value,o.state=13;break;case 13:a?(e._dbSetRegistry(a),t(a)):t(null),o.state=-2;
break;default:return o.end()}},this)})},_createRegistry:function(){return new Promise(function(e){
var t,n,r,i,a,o,s,u,c,d,h,v,f,m,p,b,g,x,_,S,k,M,E,P,A,T,L,N,$;return $traceurRuntime.asyncWrap(function(O){
for(;;)switch(O.state){case 0:return void Promise.resolve(fetch(C+"?key="+R+"&sort=alpha")).then(O.createCallback(3),O.errback);
case 3:r=O.value,O.state=2;break;case 2:return void Promise.resolve(r.json()).then(O.createCallback(6),O.errback);
case 6:r=O.value,O.state=5;break;case 5:i={timeStamp:l(),items:[],sortedFamilies:{}
},a=!0,o=!1,s=void 0;try{for(u=void 0,c=r.items[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){
d=u.value,h=[],v={},f=!0,m=!1,p=void 0;try{for(b=void 0,g=w(d.files)[Symbol.iterator]();!(f=(b=g.next()).done);f=!0)x=b.value,
t=x[Symbol.iterator](),_=(n=t.next()).done?void 0:n.value,S=(n=t.next()).done?void 0:n.value,
_=y(_),h.push(_),v[_]=S}catch(V){m=!0,p=V}finally{try{f||null==g["return"]||g["return"]();
}finally{if(m)throw p}}k={family:d.family,category:d.category,subsets:d.subsets,faces:h,
urls:v},i.items.push(k)}}catch(j){o=!0,s=j}finally{try{a||null==c["return"]||c["return"]();
}finally{if(o)throw s}}M=!0,E=!1,P=void 0,O.state=34;break;case 34:O.pushTry(20,21),
O.state=23;break;case 23:A=void 0,T=["popularity","trending","date"][Symbol.iterator](),
O.state=19;break;case 19:O.state=(M=(A=T.next()).done)?17:15;break;case 14:M=!0,O.state=19;
break;case 15:L=A.value,O.state=16;break;case 16:return void Promise.resolve(fetch(C+"?key="+R+"&sort="+L)).then(O.createCallback(9),O.errback);
case 9:N=O.value,O.state=8;break;case 8:return void Promise.resolve(N.json()).then(O.createCallback(12),O.errback);
case 12:N=O.value,O.state=11;break;case 11:i.sortedFamilies[L]=N.items.map(function(e){
return e.family}),O.state=14;break;case 17:O.popTry(),O.state=21,O.finallyFallThrough=25;
break;case 20:O.popTry(),O.maybeUncatchable(),$=O.storedException,O.state=26;break;
case 26:E=!0,P=$,O.state=21,O.finallyFallThrough=25;break;case 21:O.popTry(),O.state=32;
break;case 32:try{M||null==T["return"]||T["return"]()}finally{if(E)throw P}O.state=30;
break;case 25:e(i),O.state=-2;break;case 30:O.state=O.finallyFallThrough;break;default:
return O.end()}},this)})},importFamily:function(e){var n=this;return new Promise(function(r){
var i,a,o,s,l,u,c,d,h,v,f,m,p,b,y,x,_,w,S,k;return $traceurRuntime.asyncWrap(function(C){
for(;;)switch(C.state){case 0:return void Promise.resolve(n._getRegistry()).then(C.createCallback(3),C.errback);
case 3:o=C.value,C.state=2;break;case 2:C.state=o?12:14;break;case 12:s=o.items.find(function(t){
return t.family===e}),C.state=13;break;case 13:C.state=s?4:9;break;case 4:return void Promise.resolve(n._loadFamily(e)).then(C.createCallback(6),C.errback);
case 6:l=C.value,C.state=5;break;case 5:if(l){if(u=[],c=n._rootElement.querySelector("style#bx-google-fonts")){
if(d=c.sheet.rules[0]){h=!0,v=!1,f=void 0;try{for(m=void 0,p=g(d.href)[Symbol.iterator]();!(h=(m=p.next()).done);h=!0)b=m.value,
i=b[Symbol.iterator](),y=(a=i.next()).done?void 0:a.value,x=(a=i.next()).done?void 0:a.value,
y!==e&&u.push({family:y,faces:x})}catch(R){v=!0,f=R}finally{try{h||null==p["return"]||p["return"]();
}finally{if(v)throw f}}}}else _=t("svg:style"),_.id="bx-google-fonts",w=n._rootElement.querySelector("defs"),
w||(w=t("svg:defs"),n._rootElement.querySelector('[is="bx-svgartboard"]').prepend(w)),
w.append(_);u.push({family:s.family,faces:s.faces}),u.sort(function(e,t){return e.family>t.family;
}),S=u.map(function(e){var t=e,n=t.family,r=t.faces;return n.replaceAll(" ","+")+":"+r.join(",");
}),k="@import url(https://fonts.googleapis.com/css?family="+S.join("|")+");",c=n._rootElement.querySelector("style#bx-google-fonts"),
c.textContent=k,r(!0)}else r(!1);C.state=-2;break;case 9:r(!1),C.state=-2;break;case 14:
r(!1),C.state=-2;break;default:return C.end()}},this)})},deportFamily:function(e){
var t,n,r=this._rootElement.querySelector("style#bx-google-fonts"),i=r?r.sheet.rules[0]:null;
if(i){var a=[],o=!0,s=!1,l=void 0;try{for(var u=void 0,c=g(i.href)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=(t=d[Symbol.iterator](),(n=t.next()).done?void 0:n.value),v=(n=t.next()).done?void 0:n.value;
h!==e&&a.push([h,v])}}catch(f){s=!0,l=f}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}var m=a.map(function(e){var t,n,r=e,i=(t=r[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),a=(n=t.next()).done?void 0:n.value;return i.replaceAll(" ","+")+":"+a.join(",");
});if(m.length>0){var p="@import url(https://fonts.googleapis.com/css?family="+m.join("|")+");";
r.textContent=p}else r.remove()}},deportUnsusedFamilies:function(){var e=this.getImportedFamilies(),t=this.getUsedImportedFamilies(),n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
t.includes(l)===!1&&n.push(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=n[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.deportFamily(m)}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}},loadImportedFamilies:function(){var e=this;return new Promise(function(t){
var n,r,i,a,o,s,l;return $traceurRuntime.asyncWrap(function(u){for(;;)switch(u.state){
case 0:n=!0,r=!1,i=void 0,u.state=22;break;case 22:u.pushTry(8,9),u.state=11;break;
case 11:a=void 0,o=e.getImportedFamilies()[Symbol.iterator](),u.state=7;break;case 7:
u.state=(n=(a=o.next()).done)?5:3;break;case 2:n=!0,u.state=7;break;case 3:s=a.value,
u.state=4;break;case 4:return void Promise.resolve(e._loadFamily(s)).then(u.createCallback(2),u.errback);
case 5:u.popTry(),u.state=9,u.finallyFallThrough=13;break;case 8:u.popTry(),u.maybeUncatchable(),
l=u.storedException,u.state=14;break;case 14:r=!0,i=l,u.state=9,u.finallyFallThrough=13;
break;case 9:u.popTry(),u.state=20;break;case 20:try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}u.state=18;break;case 13:t(),u.state=-2;break;case 18:u.state=u.finallyFallThrough;
break;default:return u.end()}},this)})},_loadFamily:function(e){var t=this;return new Promise(function(n){
var r,i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:
return void Promise.resolve(t._getRegistry()).then(o.createCallback(3),o.errback);
case 3:r=o.value,o.state=2;break;case 2:o.state=r?13:15;break;case 13:i=r.items.find(function(t){
return t.family===e}),o.state=14;break;case 14:o.state=i?6:10;break;case 6:a=i.faces.map(function(t){
return new Promise(function(n){var r,a,o,s;return $traceurRuntime.asyncWrap(function(l){
for(;;)switch(l.state){case 0:r=t.substring(0,3),a=t.includes("italic")?"italic":"normal",
o=i.urls[t],o=o.replace("http://","https://"),s=new FontFace(e,"url("+o+")",{style:a,
weight:r}),l.state=4;break;case 4:return void Promise.resolve(s.load()).then(l.createCallback(2),l.errback);
case 2:document.fonts.add(s),n(),l.state=-2;break;default:return l.end()}},this)});
}),o.state=7;break;case 7:return void Promise.resolve(Promise.all(a)).then(o.createCallback(5),o.errback);
case 5:n(!0),o.state=-2;break;case 10:n(!1),o.state=-2;break;case 15:n(!1),o.state=-2;
break;default:return o.end()}},this)})},replaceTextWithPaths:function(n){var r=void 0!==arguments[1]?arguments[1]:3,a=void 0!==arguments[2]?arguments[2]:6,s=this;
return new Promise(function(l){var u,c,v,f,m,p,g,y,_,w,S,C,R,M,E,P,A,T,L,N,$,O,V,j,z,I,D,G,B,U,H,F,q,W,Y,X,Z,K,J,Q,ee,te,ne,re,ie,ae,oe,se,le,ue,ce;
return $traceurRuntime.asyncWrap(function(de){for(;;)switch(de.state){case 0:o(n),
v=SVGMatrix.fromMatrix(n.transform.baseVal.consolidate().matrix),f=document.createDocumentFragment(),
m=n.querySelectorAll("tspan"),p=!0,g=!1,y=void 0,de.state=34;break;case 34:de.pushTry(20,21),
de.state=23;break;case 23:_=void 0,w=m[Symbol.iterator](),de.state=19;break;case 19:
de.state=(p=(_=w.next()).done)?17:15;break;case 9:p=!0,de.state=19;break;case 15:
S=_.value,de.state=16;break;case 16:C=i(S),R=k(S),M=e("font-family",R.getPropertyValue("font-family"))[0],
E=x(R.getPropertyValue("font-size")),P=b(R.getPropertyValue("font-weight")),A=R.getPropertyValue("font-style"),
T=R.getPropertyValue("text-decoration"),de.state=12;break;case 12:return void Promise.resolve(s._getGlyphs(C,M,E,P,A,T)).then(de.createCallback(3),de.errback);
case 3:L=de.value,de.state=2;break;case 2:N=[],de.state=14;break;case 14:de.state=L?8:6;
break;case 8:for($=0;$<L.length;$+=1)O=L[$],O.length>0&&(V=S.getStartPositionOfChar($),
j=S.getRotationOfChar($),z=new SVGMatrix,z.translateSelf(V.x,V.y),z.rotateSelf(j),
I=t("svg:path"),I.setPathData(O),I.setAttribute("transform",z.toString()),d(I,{geometryPrecision:r,
transformPrecision:a}),N.push(I));if(N.length>0){D=N,u=D[Symbol.iterator](),G=(c=u.next()).done?void 0:c.value,
B=$traceurRuntime.iteratorToArray(u),U=G.getAttribute("d"),H=!0,F=!1,q=void 0;try{
for(W=void 0,Y=B[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0)X=W.value,U+=X.getAttribute("d");
}catch(he){F=!0,q=he}finally{try{H||null==Y["return"]||Y["return"]()}finally{if(F)throw q;
}}Z=t("svg:path"),Z.setAttribute("d",U),Z.setAttribute("transform",v.toString()),
K=!0,J=!1,Q=void 0;try{for(ee=void 0,te=n.style[Symbol.iterator]();!(K=(ee=te.next()).done);K=!0)ne=ee.value,
h.includes(ne)===!1&&Z.style.setProperty(ne,n.style.getPropertyValue(ne))}catch(ve){
J=!0,Q=ve}finally{try{K||null==te["return"]||te["return"]()}finally{if(J)throw Q}
}re=!0,ie=!1,ae=void 0;try{for(oe=void 0,se=S.style[Symbol.iterator]();!(re=(oe=se.next()).done);re=!0)le=oe.value,
h.includes(le)===!1&&Z.style.setProperty(le,S.style.getPropertyValue(le))}catch(fe){
ie=!0,ae=fe}finally{try{re||null==se["return"]||se["return"]()}finally{if(ie)throw ae;
}}f.append(Z)}de.state=9;break;case 6:f=null,de.state=17;break;case 17:de.popTry(),
de.state=21,de.finallyFallThrough=25;break;case 20:de.popTry(),de.maybeUncatchable(),
ce=de.storedException,de.state=26;break;case 26:g=!0,y=ce,de.state=21,de.finallyFallThrough=25;
break;case 21:de.popTry(),de.state=32;break;case 32:try{p||null==w["return"]||w["return"]();
}finally{if(g)throw y}de.state=30;break;case 25:f?(ue=$traceurRuntime.spread(f.children),
n.replace(f),l(ue)):l(null),de.state=-2;break;case 30:de.state=de.finallyFallThrough;
break;default:return de.end()}},this)})},canReplaceTextWithPaths:function(t){var n=this;
return new Promise(function(r){var i,o,s,l,u,c,d,h,v,f,m,p,b,g,y,x,_;return $traceurRuntime.asyncWrap(function(w){
for(;;)switch(w.state){case 0:return void Promise.resolve(n._getRegistry()).then(w.createCallback(3),w.errback);
case 3:i=w.value,w.state=2;break;case 2:w.state=i?31:35;break;case 31:o=!0,s=[],l=!0,
u=!1,c=void 0;try{for(d=void 0,h=a(t)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)v=d.value,
s.includes(v.parentElement)||s.push(v.parentElement)}catch(S){u=!0,c=S}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}f=!0,m=!1,p=void 0,w.state=32;
break;case 32:w.pushTry(18,19),w.state=21;break;case 21:b=function(){var t=y.value,n=k(t),r=e("font-family",n.getPropertyValue("font-family"))[0],a=i.items.find(function(e){
return e.family===r});return a?void 0:(o=!1,0)},w.state=17;break;case 17:y=void 0,
x=s[Symbol.iterator](),w.state=15;break;case 15:w.state=(f=(y=x.next()).done)?6:11;
break;case 5:f=!0,w.state=15;break;case 11:g=b(),w.state=12;break;case 12:switch(g){
default:w.state=5;break;case 0:w.state=6}break;case 6:w.popTry(),w.state=19,w.finallyFallThrough=23;
break;case 18:w.popTry(),w.maybeUncatchable(),_=w.storedException,w.state=24;break;
case 24:m=!0,p=_,w.state=19,w.finallyFallThrough=23;break;case 19:w.popTry(),w.state=30;
break;case 30:try{f||null==x["return"]||x["return"]()}finally{if(m)throw p}w.state=28;
break;case 23:r(o),w.state=-2;break;case 35:r(!1),w.state=-2;break;case 28:w.state=w.finallyFallThrough;
break;default:return w.end()}},this)})},_getGlyphs:function(e,t,r,i,a,o){var s=this;
return new Promise(function(l){var u,c,d,h,v,b,g,y,x,_,w,S,k,C,R,M,E;return $traceurRuntime.asyncWrap(function(P){
for(;;)switch(P.state){case 0:return void Promise.resolve(s._getRegistry()).then(P.createCallback(3),P.errback);
case 3:u=P.value,P.state=2;break;case 2:P.state=u?14:16;break;case 14:c=u.items.find(function(e){
return e.family===t}),P.state=15;break;case 15:P.state=c?7:11;break;case 7:d=p(c.faces,i,a),
h=c.urls[d].replace("http://","https://"),P.state=8;break;case 8:return void Promise.resolve(f(h)).then(P.createCallback(6),P.errback);
case 6:v=P.value,P.state=5;break;case 5:if(null===v)l(null);else{b=[],g=("italic"===a||"oblique"===a)&&!d.includes("italic"),
y=!0,x=!1,_=void 0;try{for(w=void 0,S=e[Symbol.iterator]();!(y=(w=S.next()).done);y=!0)k=w.value,
C=v.charToGlyph(k),R=m(C,v,r,o,g),M=R.toPathData(),E=n(M),b.push(E)}catch(A){x=!0,
_=A}finally{try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}l(b)}P.state=-2;
break;case 11:l(null),P.state=-2;break;case 16:l(null),P.state=-2;break;default:return P.end();
}},this)})},_dbOpen:function(){return new Promise(function(e,t){var n=indexedDB.open("google-fonts-manager",1);
n.addEventListener("upgradeneeded",function(e){var t=e.target.result;e.oldVersion<1&&(t.createObjectStore("registry",{
autoIncrement:!0}),t.createObjectStore("thumbnails",{autoIncrement:!0}))}),n.addEventListener("success",function(t){
return e(t.target.result)}),n.addEventListener("error",function(e){return t("Failed to open IndexedDB database");
})})},_dbPromiseOpen:function(){var e=this;return new Promise(function(t){e._database?t():e._dbOpen().then(function(n){
e._database=n,t()})})},_dbGetRegistry:function(){var e=this;return new Promise(function(t,n){
var r,i;return $traceurRuntime.asyncWrap(function(a){for(;;)switch(a.state){case 0:
return void Promise.resolve(e._dbPromiseOpen()).then(a.createCallback(2),a.errback);
case 2:r=e._database.transaction(["registry"],"readonly").objectStore("registry"),
i=r.get("registry"),i.onsuccess=function(e){return t(e.target.result)},i.onerror=function(e){
return n("Failed to get registry from IndexedDB")},a.state=-2;break;default:return a.end();
}},this)})},_dbSetRegistry:function(e){var t=this;return new Promise(function(n,r){
var i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){case 0:
return void Promise.resolve(t._dbPromiseOpen()).then(o.createCallback(2),o.errback);
case 2:i=t._database.transaction(["registry"],"readwrite").objectStore("registry"),
a=i.put(e,"registry"),a.addEventListener("success",function(e){return n()}),a.addEventListener("error",function(e){
return r("Failed to store registry in IndexedDB database")}),o.state=-2;break;default:
return o.end()}},this)})},_dbGetThumbnailEntry:function(e){var t=this;return new Promise(function(n,r){
var i,a,o;return $traceurRuntime.asyncWrap(function(s){for(;;)switch(s.state){case 0:
return void Promise.resolve(t._dbPromiseOpen()).then(s.createCallback(2),s.errback);
case 2:i=t._database.transaction(["thumbnails"],"readonly"),a=i.objectStore("thumbnails"),
o=a.get(e),o.addEventListener("success",function(e){return n(e.target.result)}),o.addEventListener("error",function(e){
return r("Failed to get thumbnail")}),s.state=-2;break;default:return s.end()}},this);
})},_dbSetThumbnailEntry:function(e,t){var n=this;return new Promise(function(r,i){
var a,o,s;return $traceurRuntime.asyncWrap(function(l){for(;;)switch(l.state){case 0:
return void Promise.resolve(n._dbPromiseOpen()).then(l.createCallback(2),l.errback);
case 2:a=n._database.transaction(["thumbnails"],"readwrite"),o=a.objectStore("thumbnails"),
s=o.put(t,e),s.addEventListener("success",function(e){return r()}),s.addEventListener("error",function(e){
return i("Failed to store thumbnail in IndexedDB database")}),l.state=-2;break;default:
return l.end()}},this)})}},{})}();return{get default(){return E}}}),$traceurRuntime.registerModule("classes/shortcut",[],function(){
"use strict";var e=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),t=function(){
function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.ctrl=!1,
this.alt=!1,this.meta=!1,this.shift=!1,this.base=null;var n=!0,r=!1,i=void 0;try{
for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"Control"===s?this.ctrl=!0:"Alt"===s?this.alt=!0:"Meta"===s?this.meta=!0:"Shift"===s?this.shift=!0:this.base=s;
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}return $traceurRuntime.createClass(t,{matches:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];
var n=!1,r=!1,i=!1,a=!1,o=null,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;"Control"===h?n=!0:"Alt"===h?r=!0:"Meta"===h?i=!0:"Shift"===h?a=!0:o=h;
}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u;
}}return n===this.ctrl&&r===this.alt&&i===this.meta&&a===this.shift&&o===this.base;
},includes:function(e){return"Control"===e?this.ctrl:"Alt"===e?this.alt:"Meta"===e?this.meta:"Shift"===e?this.shift:this.base===e;
},compare:function(e){return this.ctrl===e.ctrl&&this.alt===e.alt&&this.meta===e.meta&&this.shift===e.shift&&this.base===e.base;
},isVoid:function(){return this.ctrl===!1&&this.alt===!1&&this.meta===!1&&this.shift===!1&&null===this.base;
},toDisplayString:function(){var t="";if(e){this.meta&&(t+="^"),this.alt&&(t+="⌥"),
this.shift&&(t+="⇧"),this.ctrl&&(t+="⌘");var n={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",
ArrowRight:"→",Backspace:"⌦"};null!==this.base&&(t+=n[this.base]||this.base)}else{
var r=[];this.ctrl&&r.push("Ctrl"),this.alt&&r.push("Alt"),this.meta&&r.push("Meta"),
this.shift&&r.push("Shift");var i={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",
ArrowRight:"Right"};null!==this.base&&r.push(i[this.base]||this.base),t=r.join("+");
}return t},toAccelerator:function(){var e=[];return this.ctrl&&e.push("CmdOrCtrl"),
this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta,null!==this.base&&("ArrowUp"===this.base?e.push("Up"):"ArrowDown"===this.base?e.push("Down"):"ArrowLeft"===this.base?e.push("Left"):"ArrowRight"===this.base?e.push("Right"):e.push(this.base)),
e.join("+")},toJSON:function(){return this.toString()},toString:function(){var e=[];
return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.meta&&e.push("Meta"),
this.shift&&e.push("Shift"),null!==this.base&&e.push(this.base),e.join("+")}},{fromEvent:function(n){
var r=new t;r.ctrl=e?n.metaKey:n.ctrlKey,r.alt=n.altKey,r.meta=e?n.ctrlKey:n.metaKey,
r.shift=n.shiftKey;var i=n.key;return" "===i&&(i="Space"),i&&"Control"!==i&&"Alt"!==i&&"Shift"!==i&&"Meta"!==i?1===i.length?r.base=i.toUpperCase():r.base=i:r.base=null,
r},fromAccelerator:function(e){var n=e.split("+"),r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;"CmdOrCtrl"===u||"CommandOrControl"===u?r.push("Control"):"Up"===u?r.push("ArrowUp"):"Down"===u?r.push("ArrowDown"):"Left"===u?r.push("ArrowLeft"):"Right"===u?r.push("ArrowRight"):""!==u&&r.push(u);
}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}var d=new(Function.prototype.bind.apply(t,$traceurRuntime.spread([null],r)));return d;
},fromString:function(e){return new(Function.prototype.bind.apply(t,$traceurRuntime.spread([null],e.split("+").filter(function(e){
return""!==e}))))}})}();return{get default(){return t}}}),$traceurRuntime.registerModule("classes/string-scanner",[],function(){
"use strict";var e=function(){function e(e){this.text=e,this.cursor=0,this.line=1,
this.column=1,this._storedPosition={cursor:0,line:1,column:1}}return $traceurRuntime.createClass(e,{
read:function(){for(var e=void 0!==arguments[0]?arguments[0]:1,t="",n=this.cursor,r=0;e>r;r+=1){
var i=this.text[n+r];if(void 0===i)break;t+=i,this.cursor+=1,"\n"===i?(this.line+=1,
this.column=1):this.column+=1}return""===t?null:t},peek:function(){for(var e=void 0!==arguments[0]?arguments[0]:1,t="",n=0;e>n;n+=1){
var r=this.text[this.cursor+n];if(void 0===r)break;t+=r}return""===t?null:t},storePosition:function(){
var e=this,t=e.cursor,n=e.line,r=e.column;this._storedPosition={cursor:t,line:n,column:r
}},restorePosition:function(){var e=this._storedPosition,t=e.cursor,n=e.line,r=e.column;
this.cursor=t,this.line=n,this.column=r}},{})}();return{get default(){return e}}}),
$traceurRuntime.registerModule("classes/tokens-scanner",[],function(){"use strict";
var e=function(){function e(e){this._tokens=e,this.currentToken=null,this.position=0;
}return $traceurRuntime.createClass(e,{read:function(){var e=this._tokens[this.position];
return this.currentToken=e,"EOF"===e.tokenType?e:(this.position+=1,e)},reset:function(e){
this.position=e}},{})}();return{get default(){return e}}}),$traceurRuntime.registerModule("classes/undo-manager",[],function(){
"use strict";var e={label:"Sample label",icon:"stub",undo:function(){},redo:function(){}
},t=function(){function t(){this._entries=[],this._position=0}return $traceurRuntime.createClass(t,{
get undoLabel(){if(this.canUndo()){var e=this._entries[this._position-1];if(e[0]&&e[0].label)return"Undo: "+e[0].label;
}return"Undo"},get redoLabel(){if(this.canRedo()){var e=this._entries[this._position];
if(e[0]&&e[0].label)return"Redo: "+e[0].label}return"Redo"},register:function(t){
t.__proto__=e,this._position<this._entries.length&&(this._entries=this._entries.slice(0,this._position));
var n=[];this._entries.push(n),this._position+=1,n.push(t)},undo:function(){if(this.canUndo()){
var e=this._entries[this._position-1],t=$traceurRuntime.spread(e).reverse(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
s.undo()}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{
if(r)throw i}}this._position-=1}},redo:function(){if(this.canRedo()){var e=this._entries[this._position],t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;
o.redo()}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{
if(n)throw r}}this._position+=1}},reset:function(){this._entries=[],this._position=0;
},canUndo:function(){return 0!==this._position},canRedo:function(){return this._position!==this._entries.length;
}},{})}();return{get default(){return t}}}),$traceurRuntime.registerModule("classes/vector",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/type","classes/vector")).isNumber,t=Math.sqrt,n="Invalid argument passed to Vector contstructor",r=function(){
function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(0===t.length)this.x=0,
this.y=0;else if(1===t.length){if(!e(t[0].x)||!e(t[0].y))throw new Error(n);this.x=t[0].x,
this.y=t[0].y}else{if(2!==t.length)throw new Error(n);if(e(t[0])&&e(t[1]))this.x=t[0],
this.y=t[1];else{if(!(t[0]instanceof SVGPoint&&t[1]instanceof SVGPoint))throw new Error(n);
var i=t[0],a=t[1];this.x=a.x-i.x,this.y=a.y-i.y}}}return $traceurRuntime.createClass(r,{
get length(){return t(this.x*this.x+this.y*this.y)},set length(e){0!==this.length&&(e/=this.length,
this.x=this.x*e,this.y=this.y*e)},getNormalVector:function(){return new r(-this.y,this.x);
},getOppositeVector:function(){return new r(-this.x,-this.y)},negate:function(){var e=this.multiply(-1);
return e},multiply:function(e){return new r(this.x*e,this.y*e)},multiplySelf:function(e){
return this.x=this.x*e,this.y=this.y*e,this},divide:function(e){return new r(this.x/e,this.y/e);
},divideSelf:function(e){return this.x=this.x/e,this.y=this.y/e,this},normalize:function(){
return 0===this.length?new r(this):new r(this.x/this.length,this.y/this.length)},
scale:function(e){return 0===this.length?new r(this):(e/=this.length,new r(this.x*e,this.y*e));
},transformPoint:function(e){return new SVGPoint(e.x+this.x,e.y+this.y)},toString:function(){
return"("+this.x+", "+this.y+")"}},{})}();return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-aboutbody",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-body","elements/bx-aboutbody"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-aboutbody")).registerElement,n='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-aboutbody.css");</style>\n\n  <main>\n    <div id="titlebar" hidden></div>\n    <img id="logo" src="images/logo.svg"></img>\n\n    <div id="headings">\n      <h1 id="app-name">Boxy SVG</h1>\n      <h2 id="version"></h2>\n    </div>\n\n    <div id="scroll">\n      <h3>Frameworks</h3>\n      <ul id="frameworks">\n        <li><a href="http://electron.atom.io/" rel="noopener">Electron</a></li>\n        <li><a href="https://nodejs.org/" rel="noopener">Node.js</a></li>\n      </ul>\n\n      <h3>Libraries</h3>\n      <ul id="libraries">\n        <li><a href="http://opentype.js.org/" rel="noopener">Opentype.js</a></li>\n        <li><a href="ttp://nodeca.github.io/pako/ rel="noopener"">Pako</a></li>\n        <li><a href="http://paperjs.org/" rel="noopener">Paper.js</a></li>\n        <li><a href="https://github.com/tabatkins/parse-css" rel="noopener">Parse CSS</a></li>\n        <li><a href="https://github.com/google/traceur-compiler" rel="noopener">Traceur</a></li>\n      </ul>\n\n      <h3>Snippets by</h3>\n      <dl>\n        <dt><a href="https://github.com/DmitryBaranovskiy" rel="noopener">Dmitry Baranovskiy</a></dt>\n        <dd><a href="http://raphaeljs.com/" rel="noopener">Arc to cubic curve conversion</a></dd>\n\n        <dt><a href="http://xn--dahlstrm-t4a.net/" rel="noopener">Erik Dahlström</a></dt>\n        <dd><a href="http://xn--dahlstrm-t4a.net/svg/path/donut-shop.html" rel="noopener">Ring shape</a></dd>\n\n        <dt><a href="http://ariya.blogspot.com/" rel="noopener">Ariya Hidayat</a></dt>\n        <dd>HSV↔HSL conversion</dd>\n\n        <dt><a href="http://mjijackson.com/" rel="noopener">Michael Jackson</a></dt>\n        <dd><a href="https://goo.gl/H72pO3" rel="noopener">HSV↔RGB↔HSL conversion</a></dd>\n\n        <dt><a href="http://tmotooka.hatenablog.jp/" rel="noopener">Tadahisa Motooka</a></dt>\n        <dd><a href="https://github.com/motooka/SVGPathNormalizer" rel="noopener">Path normalization</a></dd>\n\n        <dt><a href="https://github.com/kennethormandy" rel="noopener">Kenneth Ormandy</a></dt>\n        <dd><a href="https://github.com/kennethormandy/normalize-opentype.css" rel="noopener">OpenType normalization</a></dd>\n\n        <dt><a href="https://github.com/progers" rel="noopener">Philip Rogers</a></dt>\n        <dd><a href="https://github.com/progers/pathseg" rel="noopener">Path data parser</a></dd>\n\n        <dt><a href="http://svg-whiz.com/" rel="noopener">Doug Schepers</a></dt>\n        <dd><a href="http://svg-whiz.com/experiments.html" rel="noopener">Star and n-gon primitives</a></dd>\n\n        <dt>Philip J. Schneider</dt>\n        <dd>Bezier curve fitting</dd>\n\n        <dt><a href="https://github.com/johan" rel="noopener">Johan Sundström</a></dt>\n        <dd>Path normalization</dd>\n      </dl>\n    </div>\n\n    <h2 id="copyright">© '+(new Date).getFullYear()+' <a href="http://foksa.name/">Jarosław Foksa</a></h2>\n  </main>\n',r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;$traceurRuntime.superGet(this,t.prototype,"createdCallback").call(this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=n;
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}this.bridge.postMessage("getAppName",null,function(t){return e["#app-name"].textContent=t;
}),this.bridge.postMessage("getAppVersion",null,function(t){return e["#version"].textContent="Version "+t;
}),this.bridge.postMessage("getBackendName",null,function(t){return e["#titlebar"].hidden="electron"!==t;
}),this._shadowRoot.addEventListener("click",function(t){return e._onShadowRootClick(t);
})},_onShadowRootClick:function(e){"a"===e.target.localName&&e.target.href&&(e.preventDefault(),
this.bridge.postMessage("openExternalURL",e.target.href))}},{},e)}(e),i=t("body","bx-aboutbody",r);
return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-alignmentselect",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-alignmentselect")).registerElement,t='\n  <style>\n    @import url("stylesheets/bx-alignmentselect.css");\n  </style>\n\n  <main>\n    <svg viewBox="10 10 280 280">\n      <rect id="outline" x="50" y="50" width="200" height="200"></rect>\n\n      <g id="buttons">\n        <g class="button" data-value="xMinYMin" transform="translate(0, 0)">\n          <title>Blah</title>\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMin" transform="translate(100, 0)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMin" transform="translate(200, 0)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMinYMid" transform="translate(0, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMid" transform="translate(100, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMid" transform="translate(200, 100)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMinYMax" transform="translate(0, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMidYMax" transform="translate(100, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n\n        <g class="button" data-value="xMaxYMax" transform="translate(200, 200)">\n          <rect class="outer-rect" x="0" y="0" width="100" height="100"></rect>\n          <rect class="inner-rect" x="0" y="0" width="100" height="100"></rect>\n        </g>\n      </g>\n    </svg>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=t;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#buttons"].addEventListener("click",function(t){
return e._onButtonsClick(t)})},attributeChangedCallback:function(e){"value"===e&&this._onValueAttributeChange();
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},get value(){return this.getAttribute("value")},set value(e){null===e?this.removeAttribute("value"):this.setAttribute("value",e);
},_onValueAttributeChange:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#buttons"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.getAttribute("data-value")===this.value?a.setAttribute("pressed",""):a.removeAttribute("pressed");
}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_onButtonsClick:function(e){var t=e.target.closest(".button");this.value=t.getAttribute("data-value"),
this.dispatchEvent(new CustomEvent("change"))}},{},e)}(HTMLElement),r=e("bx-alignmentselect",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-alphaslider",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-alphaslider")).parseColor,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-alphaslider")).registerElement,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-alphaslider")).normalize,r=Number.parseFloat,i=!1,a='\n  <style>@import url("stylesheets/bx-alphaslider.css");</style>\n\n  <main>\n    <canvas id="canvas"></canvas>\n    <div id="marker"></div>\n  </main>\n',o=function(t){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a;var t=!0,n=!1,r=void 0;try{for(var i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("pointerdown",function(t){
return e._onPointerDown(t)})},attributeChangedCallback:function(e){"alpha"===e?this._onAlphaAttributeChange():"color"===e&&this._onColorAttributeChange();
},get alpha(){return this.hasAttribute("alpha")?r(this.getAttribute("alpha")):1},
set alpha(e){this.setAttribute("alpha",e)},get color(){return this.hasAttribute("color")?this.getAttribute("color"):"#ffffff";
},set color(e){this.setAttribute("color",e)},get disabled(){return this.hasAttribute("disabled");
},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onAlphaAttributeChange:function(){var e=100*n(this.alpha,0,1,2);this["#marker"].style.setProperty("left",e+"%");
},_onColorAttributeChange:function(){var t=this["#canvas"].width=800,n=this["#canvas"].height=100,r=this["#canvas"].getContext("2d");
if(r.clearRect(0,0,t,n),null!==this.color){var i=e(this.color),a=i.clone();a.a=0;var o=i.clone();
o.a=1;var s=r.createLinearGradient(0,0,t,0);s.addColorStop(0,a.toString()),s.addColorStop(1,o.toString()),
r.fillStyle=s,r.fillRect(0,0,t,n)}},_onPointerDown:function(e){var t=this;this.dispatchEvent(new CustomEvent("markerdragstart"));
var n,r,i,a=this["#canvas"].getBoundingClientRect().left;this._onMarkerDrag(e.clientX-a),
window.addEventListener("pointermove",n=function(e){e.clientX!==i&&(i=e.clientX,t._onMarkerDrag(e.clientX-a));
}),window.addEventListener("pointerup",r=function(){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),t.dispatchEvent(new CustomEvent("markerdragend"));
})},_onMarkerDrag:function(t){var r=n(t/this["#canvas"].clientWidth,0,1,2);if(this.alpha!==r&&(this.alpha=r,
this.dispatchEvent(new CustomEvent("markerdrag",{detail:this.alpha})),i)){var a=e(this.color);
a.a=r,console.log("%c     ","background: "+a,"alpha = "+r)}}},{},t)}(HTMLElement),s=t("bx-alphaslider",o);
return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-arrangementcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-arrangementcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-arrangementcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-arrangementcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-arrangementcontrols")).getClientBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-arrangementcontrols")).getBiggestRect,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-arrangementcontrols")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-arrangementcontrols")),i=r.combineRects,a=r.transformRect,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-arrangementcontrols")).throttle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-arrangementcontrols")).reduceTransform,l=Math.min,u='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-arrangementcontrols.css");\n  </style>\n\n  <section id="align">\n    <h2 id="align-section-header">Align</h2>\n\n    <bx-select id="align-to-select" value="first-selected">\n      <bx-selectitem value="first-selected" label="To first selected"></bx-selectitem>\n      <bx-selectitem value="last-selected" label="To last selected"></bx-selectitem>\n      <bx-selectitem value="biggest-selected" label="To biggest selected"></bx-selectitem>\n      <bx-selectitem value="view-box" label="To view box"></bx-selectitem>\n    </bx-select>\n\n    <bx-checkbox\n      id="align-individually-checkbox"\n      label="Align each element individually">\n    </bx-checkbox>\n\n    <div id="align-buttons">\n      <div id="align-inside-buttons">\n        <div class="column">\n          <bx-button\n            id="move-left-button"\n            tooltip="Align Left"\n            icon="move-left"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-left">\n          </bx-button>\n        </div>\n\n        <div class="column">\n          <bx-button\n            id="move-top-button"\n            tooltip="Align Top"\n            icon="move-top"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-top">\n          </bx-button>\n\n          <bx-button\n            id="move-bottom-button"\n            tooltip="Align Bottom"\n            icon="move-bottom"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-bottom">\n          </bx-button>\n        </div>\n\n        <div class="column">\n          <bx-button\n            id="move-right-button"\n            tooltip="Align Right"\n            icon="move-right"\n            iconsize="32"\n            skin="iconic"\n            data-action="move-right">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="center-buttons">\n        <bx-button\n          id="center-button"\n          tooltip="Center"\n          icon="center"\n          iconsize="32"\n          skin="iconic"\n          data-action="center">\n        </bx-button>\n\n        <bx-button\n          id="center-horizontally-button"\n          tooltip="Center Horizontally"\n          icon="center-horizontally"\n          iconsize="32"\n          skin="iconic"\n          data-action="center-horizontally">\n        </bx-button>\n\n        <bx-button\n          id="center-vertically-button"\n          tooltip="Center Vertically"\n          icon="center-vertically"\n          iconsize="32"\n          skin="iconic"\n          data-action="center-vertically">\n        </bx-button>\n      </div>\n\n      <div id="stretch-buttons">\n        <bx-button\n          id="stretch-button"\n          tooltip="Stretch"\n          icon="stretch"\n          iconsize="32"\n          skin="iconic"\n          data-action="stretch"\n          data-shift-action="fit">\n        </bx-button>\n\n        <bx-button\n          id="stretch-horizontally-button"\n          tooltip="Stretch horizontally (align left and right)"\n          icon="stretch-horizontally"\n          iconsize="32"\n          skin="iconic"\n          data-action="stretch-horizontally"\n          data-shift-action="fit-horizontally">\n        </bx-button>\n\n        <bx-button\n          id="stretch-vertically-button"\n          tooltip="Stretch vertically (align left and right)"\n          icon="stretch-vertically"\n          iconsize="32"\n          skin="iconic"\n          data-action="stretch-vertically"\n          data-shift-action="fit-vertically">\n        </bx-button>\n      </div>\n    </div>\n  </section>\n\n  <section id="transform-section">\n    <h2 id="transform-section-header">Transform</h2>\n\n    <div id="transform-section-buttons" class="buttons-row">\n      <bx-button\n        id="rotate-counterclockwise-button"\n        icon="rotate-counterclockwise"\n        iconsize="30"\n        title="Rotate element(s) counter-clockwise by 90°"\n        skin="iconic"\n        label="Rotate by -90°">\n      </bx-button>\n\n      <bx-button\n        id="rotate-clockwise-button"\n        icon="rotate-clockwise"\n        iconsize="30"\n        title="Rotate element(s) clockwise by 90°"\n        skin="iconic"\n        label="Rotate by +90°">\n      </bx-button>\n\n      <bx-button\n        id="flip-x-button"\n        icon="flip-x"\n        iconsize="30"\n        title="Flip X"\n        skin="iconic"\n        label="Flip X">\n      </bx-button>\n\n      <bx-button\n        id="flip-y-button"\n        icon="flip-y"\n        iconsize="30"\n        title="Flip Y"\n        skin="iconic"\n        label="Flip Y">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="order-section">\n    <h2 id="order-section-header">Z-order</h2>\n\n    <div id="order-section-buttons" class="buttons-row">\n      <bx-button\n        id="raise-button"\n        icon="raise"\n        iconsize="30"\n        title="Raise Selection"\n        skin="iconic"\n        label="Raise">\n      </bx-button>\n\n      <bx-button\n        id="lower-button"\n        icon="lower"\n        iconsize="30"\n        title="Lower Selection"\n        skin="iconic"\n        label="Lower">\n      </bx-button>\n\n      <bx-button\n        id="raise-to-front-button"\n        icon="raise-to-front"\n        iconsize="30"\n        title="Raise Selection to Front"\n        skin="iconic"\n        label="Raise to Front">\n      </bx-button>\n\n      <bx-button\n        id="lower-to-back-button"\n        icon="lower-to-bottom"\n        iconsize="30"\n        title="Lower Selection to Bottom"\n        skin="iconic"\n        label="Lower to Bottom">\n      </bx-button>\n    </div>\n  </section>\n',c=function(n){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._updateWidgets250Th=o(this._updateWidgets,250,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=u;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){d=!0,h=p}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#align-buttons"].addEventListener("click",function(t){
return e._onAlignButtonsClick(t)}),this["#align-to-select"].addEventListener("change",function(){
return e._onAlignToSelectChange()}),this["#align-individually-checkbox"].addEventListener("change",function(){
return e._onAlignIndividuallyCheckboxChange()}),this["#lower-button"].addEventListener("click",function(t){
return e._onLowerButtonClick(t)}),this["#raise-button"].addEventListener("click",function(t){
return e._onRaiseButtonClick(t)}),this["#lower-to-back-button"].addEventListener("click",function(t){
return e._onLowerToBackButtonClick(t)}),this["#raise-to-front-button"].addEventListener("click",function(t){
return e._onRaiseToFrontButtonClick(t)}),this["#rotate-counterclockwise-button"].addEventListener("click",function(){
return e._onRotateByMinus90DegButtonClick()}),this["#rotate-clockwise-button"].addEventListener("click",function(){
return e._onRotateByPlus90DegButtonClick()}),this["#flip-x-button"].addEventListener("click",function(t){
return e._onFlipXButtonClick(t)}),this["#flip-y-button"].addEventListener("click",function(t){
return e._onFlipYButtonClick(t)}),body.getConfig("bx-arrangementcontrols:relativeTo").then(function(t){
null!==t&&(e["#align-to-select"].value=t)}),body.getConfig("bx-arrangmentControls:alignIndividually").then(function(t){
t!==!0&&t!==!1||(e["#align-individually-checkbox"].checked=t)})},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._updateWidgets(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._updateWidgets250Th()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
e._updateWidgets250Th()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onAlignToSelectChange:function(){this._updateAlignSection(),body.setConfig("bx-arrangementcontrols:relativeTo",this["#align-to-select"].value);
},_onAlignIndividuallyCheckboxChange:function(){body.setConfig("bx-arrangmentControls:alignIndividually",this["#align-individually-checkbox"].checked);
},_onAlignButtonsClick:function(e){"bx-button"===e.target.localName&&this._onAlignButtonClick(e.target);
},_onAlignButtonClick:function(n){body.canvas.undoManager.checkpoint("Align");var r=this["#align-to-select"].value,i=this["#align-individually-checkbox"].checked,o=n.getAttribute("data-action");
if(body.modKeys.shift&&n.hasAttribute("data-shift-action")&&(o=n.getAttribute("data-shift-action")),
"view-box"===r){var s=body.canvas.currentArtboard.getScreenCTM(),l=SVGRect.fromRect(body.canvas.currentArtboard.viewBox),u=a(l,s);
this._alignElementsToBBox(body.canvas.selectedElements,u,o,i)}else if("first-selected"===r){
var c=body.canvas.selectedElements[0],d=body.canvas.selectedElements.slice(1),h=e(c);
this._alignElementsToBBox(d,h,o,i)}else if("last-selected"===r){var v=body.canvas.selectedElements[body.canvas.selectedElements.length-1],f=body.canvas.selectedElements.slice(0,body.canvas.selectedElements.length-1),m=e(v);
this._alignElementsToBBox(f,m,o,i)}else if("biggest-selected"===r){var p=$traceurRuntime.spread(body.canvas.selectedElements),b=p.map(function(t){
return e(t)}),g=t(b),y=p[b.indexOf(g)],x=p.filter(function(e){return e!==y}),_=e(y);
this._alignElementsToBBox(x,_,o,i)}},_alignElementsToBBox:function(t,n,r){var a=void 0!==arguments[3]?arguments[3]:!0;
if(a===!0){var o=!0,u=!1,c=void 0;try{for(var d=void 0,h=t[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){
var v=d.value,f=SVGMatrix.fromMatrix(v.transform.baseVal.consolidate().matrix),m=v.getScreenCTM(),p=m.inverse(),b=e(v),g=0,y=0,x=1,_=1,w=0,S=0;
if("move-left"===r)g=n.x-b.x;else if("move-right"===r)g=n.x+n.width-(b.x+b.width);else if("move-top"===r)y=n.y-b.y;else if("move-bottom"===r)y=n.y+n.height-(b.y+b.height);else if("center"===r)g=n.x-b.x+n.width/2-b.width/2,
y=n.y-b.y+n.height/2-b.height/2;else if("center-horizontally"===r)g=n.x-b.x+n.width/2-b.width/2;else if("center-vertically"===r)y=n.y-b.y+n.height/2-b.height/2;else if("stretch"===r)x=n.width/b.width,
_=n.height/b.height,g=n.x-b.x*x,y=n.y-b.y*_;else if("stretch-horizontally"===r)x=n.width/b.width,
g=n.x-b.x*x;else if("stretch-vertically"===r)_=n.height/b.height,y=n.y-b.y*_;else if("fit"===r){
var k=l(n.width/b.width,n.height/b.height);x=k,_=k,g=n.x-b.x+n.width/2-b.width/2,
y=n.y-b.y+n.height/2-b.height/2,w=b.x+b.width/2,S=b.y+b.height/2}else"fit-horizontally"===r?(x=n.width/b.width,
_=x,g=n.x-b.x,w=b.x,S=b.y):"fit-vertically"===r&&(_=n.height/b.height,x=_,y=n.y-b.y,
w=b.x,S=b.y);var C=f.multiply(p);C.translateSelf(g,y),C.scaleNonUniformSelf(x,_,w,S),
C.multiplySelf(m),v.setAttribute("transform",C.toString()),s(v,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision})}}catch(R){u=!0,c=R}finally{try{
o||null==h["return"]||h["return"]()}finally{if(u)throw c}}}else if(a===!1){var M=function(){
var n=0,r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[n++]=e(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return r}(),E=i(M),P=0,A=0,T=1,L=1,N=0,$=0;if("move-left"===r)P=n.x-E.x;else if("move-right"===r)P=n.x+n.width-(E.x+E.width);else if("move-top"===r)A=n.y-E.y;else if("move-bottom"===r)A=n.y+n.height-(E.y+E.height);else if("center"===r)P=n.x-E.x+n.width/2-E.width/2,
A=n.y-E.y+n.height/2-E.height/2;else if("center-horizontally"===r)P=n.x-E.x+n.width/2-E.width/2;else if("center-vertically"===r)A=n.y-E.y+n.height/2-E.height/2;else if("stretch"===r)T=n.width/E.width,
L=n.height/E.height,P=n.x-E.x*T,A=n.y-E.y*L;else if("stretch-horizontally"===r)T=n.width/E.width,
P=n.x-E.x*T;else if("stretch-vertically"===r)L=n.height/E.height,A=n.y-E.y*L;else if("fit"===r){
var O=l(n.width/E.width,n.height/E.height);T=O,L=O,P=n.x-E.x+n.width/2-E.width/2,
A=n.y-E.y+n.height/2-E.height/2,N=E.x+E.width/2,$=E.y+E.height/2}else"fit-horizontally"===r?(T=n.width/E.width,
L=T,P=n.x-E.x,N=E.x,$=E.y):"fit-vertically"===r&&(L=n.height/E.height,T=L,A=n.y-E.y,
N=E.x,$=E.y);var V=!0,j=!1,z=void 0;try{for(var I=void 0,D=t[Symbol.iterator]();!(V=(I=D.next()).done);V=!0){
var G=I.value,B=SVGMatrix.fromMatrix(G.transform.baseVal.consolidate().matrix),U=G.getScreenCTM(),H=U.inverse(),F=B.multiply(H);
F.translateSelf(P,A),F.scaleNonUniformSelf(T,L,N,$),F.multiplySelf(U),G.setAttribute("transform",F.toString()),
s(G,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(q){j=!0,z=q}finally{try{V||null==D["return"]||D["return"]()}finally{if(j)throw z;
}}}},_onRaiseButtonClick:function(){0===event.button&&body.commands.raise.exec()},
_onLowerButtonClick:function(){0===event.button&&body.commands.lower.exec()},_onRaiseToFrontButtonClick:function(){
0===event.button&&body.commands.raiseToFront.exec()},_onLowerToBackButtonClick:function(){
0===event.button&&body.commands.lowerToBack.exec()},_onRotateByMinus90DegButtonClick:function(){
0===event.button&&body.commands.rotateCounterclockwise.exec()},_onRotateByPlus90DegButtonClick:function(){
0===event.button&&body.commands.rotateClockwise.exec()},_onFlipXButtonClick:function(e){
0===e.button&&body.commands.flipX.exec()},_onFlipYButtonClick:function(e){0===e.button&&body.commands.flipY.exec();
},_updateWidgets:function(){this._updateAlignSection(),this._updateOrderSection(),
this._updateTransformSection()},_updateAlignSection:function(){if(0===body.canvas.selectedElements.length)this["#align-section-header"].disabled=!0,
this["#align-to-select"].disabled=!0,this["#align-individually-checkbox"].disabled=!0,
this._disableAlignButtons();else if(1===body.canvas.selectedElements.length){this["#align-section-header"].disabled=!1,
this["#align-to-select"].disabled=!1,this["#align-individually-checkbox"].disabled=!1;
var e=this["#align-to-select"].value;"view-box"===e?this._enableAlignButtons():this._disableAlignButtons();
}else this["#align-section-header"].disabled=!1,this["#align-to-select"].disabled=!1,
this["#align-individually-checkbox"].disabled=!1,this._enableAlignButtons()},_updateOrderSection:function(){
this["#raise-button"].disabled=!body.commands.raise.enabled(),this["#lower-button"].disabled=!body.commands.lower.enabled(),
this["#raise-to-front-button"].disabled=!body.commands.raiseToFront.enabled(),this["#lower-to-back-button"].disabled=!body.commands.lowerToBack.enabled(),
this["#order-section-header"].disabled=this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#raise-to-front-button"].disabled&&this["#lower-to-back-button"].disabled;
},_updateTransformSection:function(){this["#rotate-counterclockwise-button"].disabled=!body.commands.rotateCounterclockwise.enabled(),
this["#rotate-clockwise-button"].disabled=!body.commands.rotateClockwise.enabled(),
this["#flip-x-button"].disabled=!body.commands.flipX.enabled(),this["#flip-y-button"].disabled=!body.commands.flipY.enabled(),
this["#transform-section-header"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-x-button"].disabled&&this["#flip-y-button"].disabled;
},_enableAlignButtons:function(){this["#move-left-button"].disabled=!1,this["#move-right-button"].disabled=!1,
this["#move-top-button"].disabled=!1,this["#move-bottom-button"].disabled=!1,this["#center-button"].disabled=!1,
this["#center-horizontally-button"].disabled=!1,this["#center-vertically-button"].disabled=!1,
this["#stretch-button"].disabled=!1,this["#stretch-horizontally-button"].disabled=!1,
this["#stretch-vertically-button"].disabled=!1},_disableAlignButtons:function(){this["#move-left-button"].disabled=!0,
this["#move-right-button"].disabled=!0,this["#move-top-button"].disabled=!0,this["#move-bottom-button"].disabled=!0,
this["#center-button"].disabled=!0,this["#center-horizontally-button"].disabled=!0,
this["#center-vertically-button"].disabled=!0,this["#stretch-button"].disabled=!0,
this["#stretch-horizontally-button"].disabled=!0,this["#stretch-vertically-button"].disabled=!0;
}},{},n)}(HTMLElement),d=n("bx-arrangementcontrols",c);return{get default(){return d;
}}}),$traceurRuntime.registerModule("elements/bx-backgroundartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-backgroundartboard")).registerElement,t='\n  <polygon\n    fill="rgba(255, 255, 255, 0)"\n    points="-1000000,-1000000 2000000,0 2000000,20000000, 0,2000000"/>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
get contentType(){return"background"},createdCallback:function(){this._shadowRoot=this.createShadowRoot(),
this._shadowRoot.innerHTML=t}},{},e)}(SVGGElement),r=e("g","bx-backgroundartboard",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-body",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/bridge","elements/bx-body"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-body"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-body")),r=n.createElement,i=n.registerElement,a=Object,o=(a.entries,
a.observe,navigator.platform,function(n){function i(){$traceurRuntime.superConstructor(i).apply(this,arguments);
}return $traceurRuntime.createClass(i,{createdCallback:function(){var t=this;this.bridge=new e,
this.tabIndex=-1,this.commands={},this.pointerClientX=0,this.pointerClientY=0,this.pointerClickCount=0,
this.isPointerDown=!1,this._cachedPointerDownEvents=[],this._cursors=[],this._modKeys={
ctrl:!1,alt:!1,meta:!1,shift:!1},this.bridge.postMessage("getBackendName",null,function(e){
return t._backendName=e}),this.bridge.addMessageListener("execCommand",function(e){
return t.execCommand(e)}),this.bridge.addMessageListener("validateCommand",function(e,n){
return t.validateCommand(e).then(n)}),this.bridge.addMessageListener("event:configchange",function(e){
t.dispatchEvent(new CustomEvent("configchange",{detail:e}))})},attachedCallback:function(){
var e=this;window.addEventListener("keydown",this._keyDownListener=function(t){return e._onKeyDown(t);
}),window.addEventListener("keyup",this._keyUpListener=function(t){return e._onKeyUp(t);
}),window.addEventListener("blur",this._blurListener=function(t){return e._onBlur(t);
}),window.addEventListener("pointerup",this._pointerUpListener=function(t){return e.isPointerDown=!1;
}),window.addEventListener("pointerdown",this._pointerDownListener=function(t){e._onPointerDown(t);
},!0),window.addEventListener("pointermove",this._pointerMoveListener=function(t){
e.pointerClientX=t.clientX,e.pointerClientY=t.clientY}),window.addEventListener("drop",this._dropListener=function(t){
e.pointerClientX=t.clientX,e.pointerClientY=t.clientY}),window.addEventListener("dragover",this._dragOverListener=function(t){
e.pointerClientX=t.clientX,e.pointerClientY=t.clientY}),window.addEventListener("dragend",this._dragEndListener=function(t){
e.isPointerDown=!1}),"electron"===this.bridge.name&&window.addEventListener("beforeunload",this._beforeUnloadListener=function(){
e._cursorStyle.innerHTML=""}),this.focus()},detachedCallback:function(){window.removeEventListener("keydown",this._keyDownListener),
window.removeEventListener("keyup",this._keyUpListener),window.removeEventListener("blur",this._blurListener),
window.removeEventListener("pointerdown",this._pointerDownListener),window.removeEventListener("pointerup",this._pointerUpListener),
window.removeEventListener("pointermove",this._pointerMoveListener),window.removeEventListener("drop",this._dropListener),
window.removeEventListener("dragover",this._dragOverListener),window.removeEventListener("dragend",this._dragEndListener),
"electron"===this.bridge.name&&window.removeEventListener("beforeunload",this._beforeUnloadListener);
},get modKeys(){var e=this._modKeys,t=e.ctrl,n=e.alt,r=e.meta,i=e.shift;return{ctrl:t,
alt:n,meta:r,shift:i}},getConfig:function(e){var t=this;return new Promise(function(n){
t.bridge.postMessage("getConfig",e,function(e){n(e)})})},setConfig:function(e,t){
var n=this;return new Promise(function(r){n.bridge.postMessage("setConfig",{key:e,
value:t},function(){r()})})},registerCursor:function(e){var t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:0,r=void 0!==arguments[3]?arguments[3]:0;
e.includes("/")&&(e="url("+e+") "+n+" "+r+", auto");var i={name:e,weight:t};return this._cursors.push(i),
this._updateCursorStyle(),i},unregisterCursor:function(e){this._cursors=this._cursors.filter(function(t){
return t!==e}),this._updateCursorStyle()},execCommand:function(e){for(var t=document.activeElement;t._shadowRoot&&t._shadowRoot.activeElement;)t=t._shadowRoot.activeElement;
for(var n=t;n;n=n.parentNode||n.host)if(n.commands&&n.commands[e]){var r=n.commands[e];
if(r){r.enabled&&!r.enabled()||r.exec();break}}},validateCommand:function(e){return new Promise(function(t,n){
for(var r=document.activeElement;r._shadowRoot&&r._shadowRoot.activeElement;)r=r._shadowRoot.activeElement;
for(var i=r;i;i=i.parentNode||i.host)if(i.commands&&i.commands[e]){var a=i.commands[e];
if(a)if(void 0!==a.enabled){var o=a.enabled();t(o)}else t(!0)}return!0})},_onPointerDown:function(e){
for(this._cachedPointerDownEvents.push(e);this._cachedPointerDownEvents.length>3;)this._cachedPointerDownEvents.shift();
var t=1,n=null,r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._cachedPointerDownEvents[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;n&&(l.clientX===n.clientX&&l.clientY===n.clientY&&l.timeStamp-n.timeStamp<600?t+=1:t=1),
n=l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}this.pointerClickCount=t,this.isPointerDown=!0},_onKeyDown:function(e){var n=t.fromEvent(e);
n.ctrl===this._modKeys.ctrl&&n.alt===this._modKeys.alt&&n.meta===this._modKeys.meta&&n.shift===this._modKeys.shift||(this._modKeys={
ctrl:n.ctrl,alt:n.alt,meta:n.meta,shift:n.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),
"chrome"===this._backendName&&(n.matches("Control","Z")||n.matches("Control","Shift","Z")||n.matches("Control","X")||n.matches("Control","C")||n.matches("Control","V")||n.matches("Control","A"))&&e.preventDefault();
},_onKeyUp:function(e){var n=t.fromEvent(e),r=n.ctrl,i=n.alt,a=n.meta,o=n.shift;r===this._modKeys.ctrl&&i===this._modKeys.alt&&a===this._modKeys.meta&&o===this._modKeys.shift||(this._modKeys={
ctrl:r,alt:i,meta:a,shift:o},this.dispatchEvent(new CustomEvent("modkeyschange")));
},_onBlur:function(e){var t=this._modKeys,n=t.ctrl,r=t.alt,i=t.meta,a=t.shift;(n||r||i||a)&&(this._modKeys={
ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));
},_updateCursorStyle:function(){var e=$traceurRuntime.spread(this._cursors);if(e.sort(function(e,t){
return e.weight>t.weight?1:e.weight<t.weight?-1:0}),this._cursorStyle||(this._cursorStyle=r("style"),
this._cursorStyle.id="cursor-style",this._shadowRoot.prepend(this._cursorStyle)),
e.length>0){var t=e[e.length-1].name;this._cursorStyle.innerHTML="* {cursor: "+t+"!important}";
}else this._cursorStyle.innerHTML=""}},{},n)}(HTMLBodyElement)),s=i("bx-body",o);return{
get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-breadcrumb",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-breadcrumbitem","elements/bx-breadcrumb"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-breadcrumb")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-breadcrumb")).debounce,i='\n  <style>@import url("stylesheets/bx-breadcrumb.css");</style>\n  <main id="main"></main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){n=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw a}}this._update80Db=r(this._update,80,this),this["#main"].addEventListener("click",function(t){
return e._onItemClick(t)})},attachedCallback:function(){var e=this;body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._update80Db()}),body.canvas.addEventListener("currentcontainerchange",this._currentContainerChangeListener=function(){
e._update80Db()})},detachedCallback:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("currentcontainerchange",this._currentContainerChangeListener);
},_onItemClick:function(e){var t=e.target,n=t.ref;n===body.canvas.currentArtboard?(body.canvas.currentContainer=null,
body.canvas.selectedElements=[]):n===body.canvas.masterArtboard?("symbol"===body.canvas.currentArtboard.contentType?body.canvas.editSymbolEnd():"pattern"===body.canvas.currentArtboard.contentType&&body.canvas.editPatternEnd(),
body.canvas.currentContainer=null,body.canvas.selectedElements=[]):(body.canvas.currentContainer=n.parentElement===body.canvas.currentArtboard?null:n.parentElement,
body.canvas.selectedElements=[n])},_update:function(){var e=this,n=[body.canvas.masterArtboard];
if(body.canvas.currentArtboard!==body.canvas.masterArtboard&&n.push(body.canvas.currentArtboard),
body.canvas.currentContainer){for(var r=[],i=body.canvas.currentContainer;i!==body.canvas.currentArtboard;i=i.parentElement)r.unshift(i);
n=$traceurRuntime.spread(n,r)}for(body.canvas.selectedElements.length>0&&n.push(body.canvas.selectedElements[0]);this["#main"].childElementCount>n.length;)this["#main"].lastElementChild.remove();
for(;this["#main"].childElementCount<n.length;)this["#main"].append(t("bx-breadcrumbitem"));
n.forEach(function(t,n){var r=e["#main"].children[n];r.ref=t});var a=null;body.canvas.selectedElements.length>0?a=body.canvas.selectedElements[0]:body.canvas.currentContainer||(a=body.canvas.currentArtboard);
var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=this["#main"].children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.highlighted=d.ref===a}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}}},{},e)}(HTMLElement),o=n("bx-breadcrumb",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-breadcrumbitem",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-breadcrumbitem")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/string","elements/bx-breadcrumbitem")).capitalize,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-breadcrumbitem")).getShapeData,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-breadcrumbitem")).sleep,i='\n  <style>@import url("stylesheets/bx-breadcrumbitem.css");</style>\n\n  <main>\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use id="use" width="100" height="100" href="images/icons.svg#object-svg"></use>\n    </svg>\n\n    <div id="label"></div>\n  </main>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){this._ref=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}},get ref(){return this._ref},set ref(e){e!==this._ref&&(this._ref=e,
this._onRefChange())},get mixed(){return this.hasAttribute("mixed")},set mixed(e){
e?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get highlighted(){
return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},_onRefChange:function(){var e=this,i=this._ref;if(i){if("a"===i.localName)this["#label"].textContent="Anchor",
this["#use"].setAttribute("href","images/icons.svg#object-anchor");else if("line"===i.localName)this["#label"].textContent="Line",
this["#use"].setAttribute("href","images/icons.svg#object-line");else if("polyline"===i.localName)this["#label"].textContent="Polyline",
this["#use"].setAttribute("href","images/icons.svg#object-polyline");else if("polygon"===i.localName)this["#label"].textContent="Polygon",
this["#use"].setAttribute("href","images/icons.svg#object-polygon");else if("rect"===i.localName)this["#label"].textContent="Rectangle",
this["#use"].setAttribute("href","images/icons.svg#object-rect");else if("ellipse"===i.localName)this["#label"].textContent="Ellipse",
this["#use"].setAttribute("href","images/icons.svg#object-ellipse");else if("circle"===i.localName)this["#label"].textContent="Circle",
this["#use"].setAttribute("href","images/icons.svg#object-ellipse");else if("text"===i.localName)this["#label"].textContent="Text",
this["#use"].setAttribute("href","images/icons.svg#object-text");else if("image"===i.localName)this["#label"].textContent="Image",
this["#use"].setAttribute("href","images/icons.svg#object-image");else if("svg"===i.localName)this["#label"].textContent="SVG",
this["#use"].setAttribute("href","images/icons.svg#object-svg");else if("g"===i.localName){
var a=i.getAttribute("is");"bx-svgartboard"===a?(this["#label"].textContent="SVG",
this["#use"].setAttribute("href","images/icons.svg#object-svg")):"bx-symbolartboard"===a?(this["#label"].textContent="Symbol",
this["#use"].setAttribute("href","images/icons.svg#object-symbol")):"bx-patternartboard"===a?(this["#label"].textContent="Pattern",
this["#use"].setAttribute("href","images/icons.svg#object-pattern")):(this["#label"].textContent="Group",
this["#use"].setAttribute("href","images/icons.svg#object-group"))}else if("path"===i.localName){
var o=n(i),s=o?o.type:null;"triangle"===s?(this["#label"].textContent="Triangle",
this["#use"].setAttribute("href","images/icons.svg#object-triangle")):"rect"===s?(this["#label"].textContent="Rectangle",
this["#use"].setAttribute("href","images/icons.svg#object-rect")):"n-gon"===s?(this["#label"].textContent="N-gon",
this["#use"].setAttribute("href","images/icons.svg#object-ngon")):"star"===s?(this["#label"].textContent="Star",
this["#use"].setAttribute("href","images/icons.svg#object-star")):"ring"===s?(this["#label"].textContent="Ring",
this["#use"].setAttribute("href","images/icons.svg#object-ring")):(this["#label"].textContent="Path",
this["#use"].setAttribute("href","images/icons.svg#object-path"))}else if("use"===i.localName){
var l=body.canvas.artboards.querySelector(i.href.baseVal);this["#use"].setAttribute("href","images/icons.svg#object-symbol"),
l&&"symbol"===l.localName?this["#label"].textContent="Symbol Use":this["#label"].textContent="Use";
}else this["#label"].textContent=t(i.localName);r(10).then(function(){e["#use"].setAttribute("href",e["#use"].getAttribute("href"));
})}}},{},e)}(HTMLElement),o=e("bx-breadcrumbitem",a);return{get default(){return o;
}}}),$traceurRuntime.registerModule("elements/bx-button",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-button")),t=e.createElement,n=e.registerElement,r=Number.parseInt,i='\n  <style id="skin-stylesheet"></style>\n\n  <main>\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100" style="width: 20px; height: 20px;">\n      <use id="icon-use" x="0" y="0" width="100%" height="100%"></use>\n    </svg>\n\n    <label id="label"></label>\n  </main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=i;var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._updateSkin()},attributeChangedCallback:function(e){
"label"===e?this._onLabelAttributeChange():"icon"===e?this._onIconAttributeChange():"iconsize"===e?this._onIconSizeAttributeChange():"skin"===e?this._onSkinAttributeChange():"hidden"===e&&this._onHiddenAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get value(){return this.getAttribute("value")},set value(e){
null===e?this.removeAttribute("value"):this.setAttribute("value",e)},get icon(){return this.getAttribute("icon");
},set icon(e){null===e?this.removeAttribute("icon"):this.setAttribute("icon",e)},
get iconSize(){return this.hasAttribute("iconsize")?r(this.getAttribute("iconsize")):20;
},set iconSize(e){this.setAttribute("iconsize",e)},get skin(){return this.getAttribute("skin");
},set skin(e){e?this.setAttribute("skin",e):this.removeAttribute("skin")},get href(){
return this.hasAttribute("href")?this.getAttribute("href"):""},set href(e){this.setAttribute("href",e);
},get althref(){return this.hasAttribute("althref")?this.getAttribute("althref"):"";
},set althref(e){this.setAttribute("althref",e)},get pressed(){return this.hasAttribute("pressed");
},set pressed(e){e===!0?this.setAttribute("pressed",""):this.removeAttribute("pressed");
},get mixed(){return this.hasAttribute("mixed")},set mixed(e){e===!0?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e===!0?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onIconAttributeChange:function(){
this["#icon-use"].remove(),this["#icon-use"]=t("svg:use"),this["#icon"].append(this["#icon-use"]),
this.icon&&this["#icon-use"].setAttribute("href","images/icons.svg#"+this.icon)},
_onIconSizeAttributeChange:function(){this["#icon"].style.setProperty("width",this.iconSize+"px"),
this["#icon"].style.setProperty("height",this.iconSize+"px")},_onSkinAttributeChange:function(){
this._updateSkin()},_onHiddenAttributeChange:function(){this.dispatchEvent(new CustomEvent("hiddenchange",{
detail:this,bubbles:!0}))},_updateSkin:function(){this.skin?this["#skin-stylesheet"].innerText='@import url("stylesheets/bx-button@'+this.skin+'.css");':this["#skin-stylesheet"].innerText='@import url("stylesheets/bx-button.css");';
}},{},e)}(HTMLElement),o=n("bx-button",a);return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-canvas",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-svgartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-symbolartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-backgroundartboard","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-viewboxhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-viewboxedithud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-outlineshud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-trianglehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-rectanglehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-circlehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ellipsehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-linehud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-polyhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ngonhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-starhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ringhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-pathhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-texthud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-lineargradienthud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-radialgradienthud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-transformhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-rubberbandhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-cubicsegsdrawhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-quadsegsdrawhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-freehandsegsdrawhud","elements/bx-canvas")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-guide","elements/bx-canvas"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/dom-undo-manager","elements/bx-canvas"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/google-fonts-manager","elements/bx-canvas"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-compression","elements/bx-canvas")).uncompressArtwork,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-import","elements/bx-canvas")).importArtwork,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-general","elements/bx-canvas")).prepareArtworkForInsertion,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-canvas")).getClientBBox,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-canvas")),s=o.createElement,l=o.registerElement,u=o.sortByDomPosition,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-canvas")).mirrorAttributes,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","elements/bx-canvas")).parseGoogleFontsURL,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-canvas")).normalize,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/image","elements/bx-canvas")).extractImageSize,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-canvas")).parseSVG,m=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-canvas")).roundMatrix,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-canvas"))),p=m.transformRect,b=m.combineRects,g=m.rectIntersectsRect,y=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-canvas")).getRenderedTextNodes,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-canvas")).getTransformToElement),x=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-canvas")).reduceTransform,_=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-canvas")),w=_.graphicsElementNames,S=_.namespaces,k=Math.min,C=Object,R=C.defineProperty,M=C.freeze,E=window.screen.width,P=window.screen.height,A=.39,T=1e4,L=20,N={
childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1
},$=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],O='\n  <style>@import url("stylesheets/bx-canvas.css");</style>\n\n  <main id="main">\n    <svg id="svg">\n      <g id="artboards">\n        <g is="bx-backgroundartboard"></g>\n      </g>\n\n      <g id="huds">\n        <g id="viewbox-hud" is="bx-viewboxhud"></g>\n        <g id="outlines-hud" is="bx-outlineshud"></g>\n        <g id="transform-hud" is="bx-transformhud"></g>\n        <g id="text-hud" is="bx-texthud"></g>\n        <g id="triangle-hud" is="bx-trianglehud"></g>\n        <g id="rect-hud" is="bx-rectanglehud"></g>\n        <g id="circle-hud" is="bx-circlehud"></g>\n        <g id="ellipse-hud" is="bx-ellipsehud"></g>\n        <g id="line-hud" is="bx-linehud"></g>\n        <g id="poly-hud" is="bx-polyhud"></g>\n        <g id="n-gon-hud" is="bx-ngonhud"></g>\n        <g id="star-hud" is="bx-starhud"></g>\n        <g id="ring-hud" is="bx-ringhud"></g>\n        <g id="path-hud" is="bx-pathhud"></g>\n        <g id="linear-gradient-fill-hud" is="bx-lineargradienthud" context="fill"></g>\n        <g id="linear-gradient-stroke-hud" is="bx-lineargradienthud" context="stroke"></g>\n        <g id="radial-gradient-fill-hud" is="bx-radialgradienthud" context="fill"></g>\n        <g id="radial-gradient-stroke-hud" is="bx-radialgradienthud" context="stroke"></g>\n        <g id="pattern-fill-hud" is="bx-patternhud" context="fill"></g>\n        <g id="pattern-stroke-hud" is="bx-patternhud" context="stroke"></g>\n        <g id="rubber-band-hud" is="bx-rubberbandhud" enabled></g>\n        <g id="draw-cubic-segs-hud" is="bx-cubicsegsdrawhud"></g>\n        <g id="draw-quad-segs-hud" is="bx-quadsegsdrawhud"></g>\n        <g id="draw-freehand-segs-hud" is="bx-freehandsegsdrawhud"></g>\n        <g id="viewbox-edit-hud" is="bx-viewboxedithud"></g>\n      </g>\n\n      <filter id="grippie-drop-shadow" width="100" height="100">\n        <feGaussianBlur id="grippie-fe-blur" in="SourceAlpha" result="blur-out" stdDeviation="1"/>\n        <feOffset id="grippie-fe-offset" in="blur-out" result="the-shadow" dx="1" dy="1"/>\n        <feBlend in="SourceGraphic" in2="the-shadow" mode="normal"/>\n      </filter>\n    </svg>\n  </main>\n',V=function(o){
function l(){$traceurRuntime.superConstructor(l).apply(this,arguments)}return $traceurRuntime.createClass(l,{
createdCallback:function(){var n=this;this._selectedElements=[],this._selectedTextRange=null,
this._currentContainer=null,this._scrollX=0,this._scrollY=0,this._zoom=100,this._geometryPrecision=3,
this._transformPrecision=6,this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=O;var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=this,f=function(){var e=m.value;
R(v,e.id.toCamelCase(),{get:function(){return e}})},m=void 0,p=this["#huds"].children[Symbol.iterator]();!(c=(m=p.next()).done);c=!0)f();
}catch(b){d=!0,h=b}finally{try{c||null==p["return"]||p["return"]()}finally{if(d)throw h;
}}this["#svg"].setAttribute("width",E+"px"),this["#svg"].setAttribute("height",P+"px"),
this["#svg"].pauseAnimations(),this._undoManager=new e(this["#artboards"]),this._googleFontsManager=new t(this["#artboards"]);
var g=new MutationObserver(function(e){return n._onArtboardMutation(e)});g.observe(this["#artboards"],N),
this._shadowRoot.addEventListener("click",function(e){return n._onClick(e)}),this._shadowRoot.addEventListener("pointerdown",function(e){
return n._onPointerDown(e)}),this._shadowRoot.addEventListener("wheel",function(e){
return n._onWheel(e)}),this._shadowRoot.addEventListener("dragover",function(e){return n._onDragOver(e);
}),this._shadowRoot.addEventListener("drop",function(e){return n._onDrop(e)}),this._undoManager.addEventListener("undo",function(e){
return n._onUndoManagerUndoOrRedo(e)}),this._undoManager.addEventListener("redo",function(e){
return n._onUndoManagerUndoOrRedo(e)}),this._undoManager.addEventListener("positionchange",function(e){
return n._onUndoManagerPositionChange(e)}),body.getConfig("bx-preferences:geometryPrecision").then(function(e){
null!==e&&(n._geometryPrecision=e)}),body.getConfig("bx-preferences:transformPrecision").then(function(e){
null!==e&&(n._transformPrecision=e)}),body.getConfig("bx-preferences:canvasBackgroundColor").then(function(e){
n["#main"].style.setProperty("background",e)}),body.addEventListener("configchange",this._configChangeListener=function(e){
var t=e.detail,r=t.key,i=t.value;"bx-preferences:geometryPrecision"===r?n._geometryPrecision=i:"bx-preferences:transformPrecision"===r?n._transformPrecision=i:"bx-preferences:canvasBackgroundColor"===r&&n["#main"].style.setProperty("background",i);
}),this.enableHud("viewbox-hud")},attributeChangedCallback:function(e){"textinputmode"===e&&this._onTextInputModeChange();
},get selectedElements(){return M($traceurRuntime.spread(this._selectedElements));
},set selectedElements(e){this._selectedElements=e,this.dispatchEvent(new CustomEvent("selectedelementschange"));
},get outermostSelectedElements(){var e=this.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=!0,u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=e[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var f=h.value;
if(f!==s&&f.contains(s)){l=!1;break}}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}l&&t.push(s)}}catch(p){r=!0,i=p}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return M(t)},get selectedTextRange(){return this._selectedTextRange;
},set selectedTextRange(e){this._selectedTextRange=e,this.dispatchEvent(new CustomEvent("selectedtextrangechange"));
},get currentContainer(){return this._currentContainer},set currentContainer(e){this._currentContainer=e,
this.dispatchEvent(new CustomEvent("currentcontainerchange"))},get artboards(){return this["#artboards"];
},get masterArtboard(){return this.artboards.querySelector('g[is="bx-svgartboard"]');
},get currentArtboard(){return this["#artboards"].lastElementChild},get defs(){return this.masterArtboard.querySelector("defs");
},get huds(){return this["#huds"]},get zoom(){return this._zoom},get scale(){return this._zoom/100;
},get geometryPrecision(){return this._geometryPrecision},get transformPrecision(){
return this._transformPrecision},get textInputMode(){return this.hasAttribute("textinputmode");
},set textInputMode(e){e===!0?this.setAttribute("textinputmode",""):this.removeAttribute("textinputmode");
},get undoManager(){return this._undoManager},get googleFontsManager(){return this._googleFontsManager;
},enableHud:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#huds"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.id===e&&(o.enabled=!0)}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},disableHud:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#huds"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.id===e&&(o.enabled=!1)}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},editPattern:function(e){var t=this.masterArtboard.querySelector("pattern#"+e);
if(null!==t&&this.currentArtboard.id!==e){this.undoManager.checkpoint("Edit Pattern"),
"pattern"===this.currentArtboard.contentType?this.editPatternEnd(!1):"symbol"===this.currentArtboard.contentType&&this.editSymbolEnd(!1);
var n=s("svg:g","bx-patternartboard");c(t,n,["is"]),n.innerHTML=t.innerHTML,this["#artboards"].append(n),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
}},editPatternEnd:function(){var e=void 0!==arguments[0]?arguments[0]:!0;if("pattern"===this.currentArtboard.contentType){
e&&this.undoManager.checkpoint("Edit Pattern");var t=this.currentArtboard,n=this.masterArtboard.querySelector("pattern#"+t.id);
c(t,n,["is"]),t.remove(),n.innerHTML=t.innerHTML,this.selectedElements=[],this.selectedTextRange=null,
this.currentContainer=null}},editSymbol:function(e){var t=this.masterArtboard.querySelector("symbol#"+e);
if(null!==t&&this.currentArtboard.id!==t.id){this.undoManager.checkpoint("Edit Symbol"),
"pattern"===this.currentArtboard.contentType?this.editPatternEnd(!1):"symbol"===this.currentArtboard.contentType&&this.editSymbolEnd(!1);
var n=s("svg:g","bx-symbolartboard");c(t,n,["is"]),n.innerHTML=t.innerHTML,this["#artboards"].append(n),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
}},editSymbolEnd:function(){var e=void 0!==arguments[0]?arguments[0]:!0;if("symbol"===this.currentArtboard.contentType){
e&&this.undoManager.checkpoint("Edit Symbol");var t=this.currentArtboard,n=this.masterArtboard.querySelector("symbol#"+t.id);
c(t,n,["is"]),t.remove(),n.innerHTML=t.innerHTML,this.selectedElements=[],this.selectedTextRange=null,
this.currentContainer=null}},loadArtwork:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=$traceurRuntime.spread(this.artboards.children)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;"bx-backgroundartboard"!==o.getAttribute("is")&&o.remove()}}catch(l){
n=!0,r=l}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}var u=s("svg:g","bx-svgartboard");
for(c(e,u,["is","xmlns"]);e.firstChild;)u.append(e.firstChild);this.artboards.append(u),
this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),
this.googleFontsManager.loadImportedFamilies(),this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll(),
this.dispatchEvent(new CustomEvent("artworkload"))},extractArtwork:function(){var e=s("svg:svg"),t=this.masterArtboard,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=["id","class","style","x","y","width","height","viewBox","preserveAspectRatio"][Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var l=a.value;t.hasAttribute(l)&&e.setAttribute(l,t.getAttribute(l))}}catch(u){r=!0,
i=u}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}var d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=t.childNodes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;e.append(p.cloneNode(!0))}}catch(b){h=!0,v=b}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}if("pattern"===this.currentArtboard.contentType){var g=this.currentArtboard,y=e.querySelector("#"+g.id);
c(g,y,["is"]),y.innerHTML=g.innerHTML}else if("symbol"===this.currentArtboard.contentType){
var x=this.currentArtboard,_=e.querySelector("symbol#"+x.id);c(x,_,["is"]),_.innerHTML=x.innerHTML;
}return e},extractArtworkWithSelectedElements:function(){var e=this,t=this._extractArtworkWithElements(this.outermostSelectedElements),n=function(){
var t=0,n=[],r=!0,i=!1,o=void 0;try{for(var s=void 0,l=e.outermostSelectedElements[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;n[t++]=a(u)}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}return n}(),r=b(n);r=p(r,this.currentArtboard.getCTM().inverse());
var i=!0,o=!1,s=void 0;try{for(var l=void 0,u=["x","y","width","height"][Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value;t.viewBox.baseVal[c]=r[c]}}catch(d){o=!0,s=d}finally{try{i||null==u["return"]||u["return"]();
}finally{if(o)throw s}}return t.setAttribute("width",r.width),t.setAttribute("height",r.height),
t},extractArtworkWithViewBoxElements:function(){var e=[],t=SVGRect.fromRect(this.currentArtboard.viewBox),n=this.currentArtboard.getCTM().inverse(),r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=this.currentArtboard.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;if($traceurRuntime.spread(w,["svg","g","a","use"]).includes(u.localName)){
var c=a(u);c=p(c,n),g(t,c)&&e.push(u)}}}catch(d){i=!0,o=d}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}var h=this._extractArtworkWithElements(e),v=!0,f=!1,m=void 0;
try{for(var b=void 0,y=["x","y","width","height"][Symbol.iterator]();!(v=(b=y.next()).done);v=!0){
var x=b.value;h.viewBox.baseVal[x]=t[x]}}catch(_){f=!0,m=_}finally{try{v||null==y["return"]||y["return"]();
}finally{if(f)throw m}}return h.setAttribute("width",t.width),h.setAttribute("height",t.height),
h},_extractArtworkWithElements:function(e){e=u(e);var t=this._getIdsReferencedByElementsAndTheirDescendants(e),n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value,d=this.currentArtboard.querySelector("#"+c);
d||this.currentArtboard===this.masterArtboard||(d=this.masterArtboard.querySelector("#"+c)),
d&&n.push(d)}}catch(h){i=!0,a=h}finally{try{r||null==l["return"]||l["return"]()}finally{
if(i)throw a}}n=n.filter(function(t){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;if(l.contains(t)||l===t)return!1}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=n[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;if(m.contains(t)&&m!==t)return!1}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}return!0});var v=s("svg:svg"),f=s("svg:defs"),m=!0,p=!1,b=void 0;
try{for(var g=void 0,x=n[Symbol.iterator]();!(m=(g=x.next()).done);m=!0){var _=g.value;
_.closest("defs")?f.append(_.cloneNode(!0)):v.append(_.cloneNode(!0))}}catch(w){p=!0,
b=w}finally{try{m||null==x["return"]||x["return"]()}finally{if(p)throw b}}if(this.defs){
var S=!0,k=!1,C=void 0;try{for(var R=void 0,M=this.defs.querySelectorAll("style")[Symbol.iterator]();!(S=(R=M.next()).done);S=!0){
var E=R.value;f.append(E.cloneNode(!0))}}catch(P){k=!0,C=P}finally{try{S||null==M["return"]||M["return"]();
}finally{if(k)throw C}}}f.childElementCount>0&&v.append(f);var A=!0,T=!1,L=void 0;
try{for(var N=void 0,$=e[Symbol.iterator]();!(A=(N=$.next()).done);A=!0){var O=N.value,V=y(O,this.currentArtboard),j=O.cloneNode(!0);
j.setAttribute("transform",V),v.append(j)}}catch(z){T=!0,L=z}finally{try{A||null==$["return"]||$["return"]();
}finally{if(T)throw L}}return v},insertArtwork:function(e){var t,n,r=void 0!==arguments[1]?arguments[1]:"canvasCenter",o=this.currentContainer||this.currentArtboard,l=[],u=this.extractArtwork();
i(e,u);var c=!0,h=!1,v=void 0;try{for(var f=void 0,m=$traceurRuntime.spread(e.children)[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){
var p=f.value;if("defs"===p.localName){var g=!0,_=!1,S=void 0;try{for(var k=void 0,C=$traceurRuntime.spread(p.children)[Symbol.iterator]();!(g=(k=C.next()).done);g=!0){
var R=k.value;if("bx-google-fonts"===R.id){var M=R.textContent,E=M.substring(M.lastIndexOf("(")+1,M.lastIndexOf(")")),P=!0,A=!1,T=void 0;
try{for(var L=void 0,N=d(E)[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){var $=(t=L.value[Symbol.iterator](),
(n=t.next()).done?void 0:n.value);this._googleFontsManager.importFamily($)}}catch(O){
A=!0,T=O}finally{try{P||null==N["return"]||N["return"]()}finally{if(A)throw T}}}else{
if("desc"===R.localName)continue;if("title"===R.localName)continue;if(null===this.defs){
var V=s("svg:defs");this.masterArtboard.prepend(V)}this.defs.append(R)}}}catch(j){
_=!0,S=j}finally{try{g||null==C["return"]||C["return"]()}finally{if(_)throw S}}}if($traceurRuntime.spread(w,["svg","g","a","use"]).includes(p.localName)){
var z=y(o,this.currentArtboard),I=SVGMatrix.fromMatrix(p.transform.baseVal.consolidate().matrix),D=new SVGMatrix;
D.multiplySelf(z.inverse()),D.multiplySelf(I),D.isIdentity()?p.removeAttribute("transform"):p.setAttribute("transform",D.toString()),
o.append(p),l.push(p)}else o.append(p)}}catch(G){h=!0,v=G}finally{try{c||null==m["return"]||m["return"]();
}finally{if(h)throw v}}if("original"!==r){var B;B="canvasCenter"===r?new SVGPoint(this.clientLeft+this.clientWidth/2,this.clientTop+this.clientHeight/2):new SVGPoint(body.pointerClientX,body.pointerClientY);
var U=function(){var e=0,t=[],n=!0,r=!1,i=void 0;try{for(var o=void 0,s=l[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var u=o.value;t[e++]=a(u)}}catch(c){r=!0,i=c}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}return t}();U=U.filter(function(e){return e.width>0||e.height>0;
});var H=b(U),F=B.x-(H.x+H.width/2),q=B.y-(H.y+H.height/2),W=!0,Y=!1,X=void 0;try{
for(var Z=void 0,K=l[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){var J=Z.value,Q=J.getScreenCTM(),ee=Q.inverse(),te=SVGMatrix.fromMatrix(J.transform.baseVal.consolidate().matrix);
te.multiplySelf(ee),te.translateSelf(F,q),te.multiplySelf(Q),J.setAttribute("transform",te.toString()),
x(J,{geometryPrecision:this.geometryPrecision,transformPrecision:this.transformPrecision
})}}catch(ne){Y=!0,X=ne}finally{try{W||null==K["return"]||K["return"]()}finally{if(Y)throw X;
}}}this.selectedElements=l},insertBitmap:function(e){var t,n,r,i,a,o,l,u,c,d,h,f,m;
return $traceurRuntime.asyncWrap(function(p){for(;;)switch(p.state){case 0:d=v(e),
p.state=5;break;case 5:return void Promise.resolve(d).then(p.createCallback(3),p.errback);
case 3:h=p.value,p.state=2;break;case 2:t=h,f=t.width,n=f,m=t.height,r=m,p.state=7;
break;case 7:i=s("svg:image"),i.setAttribute("href",e),i.setAttribute("width",n),
i.setAttribute("height",r),a=this.currentContainer||this.currentArtboard,o=a.getScreenCTM().inverse(),
l=new SVGPoint(body.pointerClientX,body.pointerClientY),u=l.matrixTransform(o),a.append(i),
c=i.getBBox(),i.setAttribute("x",u.x-c.width/2),i.setAttribute("y",u.y-c.height/2),
this.selectedElements=[i],p.state=-2;break;default:return p.end()}},this)},createDefsIfMissing:function(){
if(null===this.defs){var e=s("svg:defs");this.masterArtboard.prepend(e)}},removeUnusedDefs:function(){
for(var e=document.createNodeIterator(this.artboards,NodeFilter.SHOW_ELEMENT),t=null,n=new Set,r=new Set,i=new Set,a=new Set;t=e.nextNode();){
var o=getComputedStyle(t),s=o.fill,l=o.stroke,u=o.filter,c=o.mask,d=o.clipPath;if(s&&s.startsWith("url(")){
var h=s.substring(6,s.length-2);n.add(h)}if(l&&l.startsWith("url(")){var v=l.substring(6,l.length-2);
n.add(v)}if(u&&u.startsWith("url(")){var f=u.substring(6,u.length-2);r.add(f)}if(d&&d.startsWith("url(")){
var m=d.substring(6,c.length-2);i.add(m)}if(c&&c.startsWith("url(")){var p=c.substring(6,c.length-2);
a.add(p)}}var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=this.artboards.querySelectorAll("linearGradient, radialGradient")[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;n.has(w.id)===!1&&w.remove()}}catch(S){g=!0,y=S}finally{try{b||null==_["return"]||_["return"]();
}finally{if(g)throw y}}var k=!0,C=!1,R=void 0;try{for(var M=void 0,E=this.artboards.querySelectorAll("pattern[href]")[Symbol.iterator]();!(k=(M=E.next()).done);k=!0){
var P=M.value;n.has(P.id)===!1&&P.remove()}}catch(A){C=!0,R=A}finally{try{k||null==E["return"]||E["return"]();
}finally{if(C)throw R}}var T=!0,L=!1,N=void 0;try{for(var $=void 0,O=this.artboards.querySelectorAll("filter")[Symbol.iterator]();!(T=($=O.next()).done);T=!0){
var V=$.value;r.has(V.id)===!1&&V.remove()}}catch(j){L=!0,N=j}finally{try{T||null==O["return"]||O["return"]();
}finally{if(L)throw N}}var z=!0,I=!1,D=void 0;try{for(var G=void 0,B=this.artboards.querySelectorAll("clipPath, clippath")[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value;i.has(U.id)===!1&&U.remove()}}catch(H){I=!0,D=H}finally{try{z||null==B["return"]||B["return"]();
}finally{if(I)throw D}}var F=!0,q=!1,W=void 0;try{for(var Y=void 0,X=this.artboards.querySelectorAll("mask")[Symbol.iterator]();!(F=(Y=X.next()).done);F=!0){
var Z=Y.value;a.has(Z.id)===!1&&Z.remove()}}catch(K){q=!0,W=K}finally{try{F||null==X["return"]||X["return"]();
}finally{if(q)throw W}}this._googleFontsManager.deportUnsusedFamilies()},zoomBy:function(){
var e=void 0!==arguments[0]?arguments[0]:.3,t=this["#svg"].getScreenCTM(),n=t.inverse(),r=new SVGPoint(this.matches(":hover")?body.pointerClientX:this.clientWidth/2,this.matches(":hover")?body.pointerClientY:this.clientHeight/2),i=r.matrixTransform(n);
this._zoom=h(this._zoom+this._zoom*e,A,T,3),this._scrollX=i.x-r.x/this.scale,this._scrollY=i.y-r.y/this.scale,
this["#svg"].viewBox.baseVal.width=E/this.scale,this["#svg"].viewBox.baseVal.height=P/this.scale,
this["#svg"].viewBox.baseVal.x=this._scrollX,this["#svg"].viewBox.baseVal.y=this._scrollY,
this._updateDropShadow(),this.dispatchEvent(new CustomEvent("zoomchange"))},zoomToFitAll:function(){
var e=this.currentArtboard.getBBox();this._zoomToArea(e.x,e.y,e.width,e.height,30);
},zoomToCurrentArtboardViewBox:function(){this._zoomToArea(this.currentArtboard.viewBox.x,this.currentArtboard.viewBox.y,this.currentArtboard.viewBox.width,this.currentArtboard.viewBox.height,30);
},zoomToCurrentArtboardViewBoxWidth:function(){this._zoomToArea(this.currentArtboard.viewBox.x,this.currentArtboard.viewBox.y+this.currentArtboard.viewBox.height/2,this.currentArtboard.viewBox.width,0,30);
},zoomToCurrentArtboardViewBoxHeight:function(){this._zoomToArea(this.currentArtboard.viewBox.x+this.currentArtboard.viewBox.width/2,this.currentArtboard.viewBox.y,0,this.currentArtboard.viewBox.height,30);
},_zoomToArea:function(e,t,n,r){var i=void 0!==arguments[4]?arguments[4]:0,a={width:window.innerWidth,
height:window.innerHeight},o=100*k(a.width/n,a.height/r);i=100*i/o,o=100*k(a.width/(n+i),a.height/(r+i)),
o=h(o,A,T,3),this._zoom=o;var s=a.width/this.scale,l=a.height/this.scale,u=e-(s-n)/2,c=t-(l-r)/2;
this._scrollX=u,this._scrollY=c,this["#svg"].viewBox.baseVal.width=E/this.scale,this["#svg"].viewBox.baseVal.height=P/this.scale,
this["#svg"].viewBox.baseVal.x=this._scrollX,this["#svg"].viewBox.baseVal.y=this._scrollY,
this._updateDropShadow(),this.dispatchEvent(new CustomEvent("zoomchange"))},resetZoom:function(){
var e=(100-this._zoom)/this._zoom;this.zoomBy(e)},selectAll:function(){var e=[],t=this.currentContainer||this.currentArtboard,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this.isSelectableElement(s)&&e.push(s)}}catch(l){r=!0,i=l}finally{try{
n||null==o["return"]||o["return"]()}finally{if(r)throw i}}this.selectedElements=$traceurRuntime.spread(e);
},isSelectableElement:function(e){return $traceurRuntime.spread(w,["svg","g","a","use"]).includes(e.localName)===!1?!1:e.parentElement===this["#artboards"]?!1:this.currentArtboard.contains(e)===!1?!1:e.closest("defs")?!1:!e.closest("text")||"text"===e.localName;
},grabColor:function(){var e=this;return new Promise(function(t){var n=e["#svg"].cloneNode(!0),r=f('\n        <rect\n          x="'+e.currentArtboard.viewBox.x+'"\n          y="'+e.currentArtboard.viewBox.y+'"\n          width="'+e.currentArtboard.viewBox.width+'"\n          height="'+e.currentArtboard.viewBox.height+'"\n          style="fill: none; stroke: #646464; stroke-width: 1; vector-effect: non-scaling-stroke;">\n        </rect>\n      ');
n.appendChild(r),n.setAttribute("xmlns",S.svg),n.setAttribute("xmlns:xlink",S.xlink),
n.style.setProperty("background",e["#main"].style.getPropertyValue("background"));
var i=new Blob([n.outerHTML],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(i),o=new Image;
o.src=a,o.addEventListener("load",function(){var n=document.createElement("canvas"),r=e["#svg"].getBoundingClientRect();
n.width=r.width,n.height=r.height,n.setAttribute("style","\n          position: absolute;\n          top: "+r.top+"px;\n          left: "+r.left+"px;\n          background: white;\n        ");
var i=n.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,1e3,1e3),i.drawImage(o,0,0),
e.after(n);var s,l,u,c;n.addEventListener("pointerenter",s=function(e){c=body.registerCursor("crosshair",0);
}),n.addEventListener("pointerleave",l=function(e){body.unregisterCursor(c)}),n.addEventListener("click",u=function(o){
n.removeEventListener("click",u),n.removeEventListener("pointerenter",s),n.removeEventListener("pointerleave",l),
body.unregisterCursor(c),n.remove();var d=o.clientX-r.x,v=o.clientY-r.y,f=e["#svg"].clientWidth,m=e["#svg"].clientHeight,p=i.getImageData(d,v,f,m),b=p.data[0],g=p.data[1],y=p.data[2],x=h(p.data[3]/255,0,1,2),_="rgba("+b+", "+g+", "+y+", "+x+")";
URL.revokeObjectURL(a),t(_)})})})},getArtboardElementFromPoint:function(e,t){var n=this.shadowRoot.elementFromPoint(e,t);
return n&&this.currentArtboard.contains(n)&&n!==this.currentArtboard?n:null},getHitArtboardElements:function(e,t){
var n,r,i=[],a=!0,o=!1,s=void 0;try{for(var l=void 0,c=$[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){
var d=l.value,h=(n=d[Symbol.iterator](),(r=n.next()).done?void 0:r.value),v=(r=n.next()).done?void 0:r.value,f=this.shadowRoot.elementFromPoint(e+h,t+v);
if(f){if("tspan"===f.localName||"textPath"===f.localName)f=f.closest("text");else if("a"===f.localName){
var m=f.closest("text");m&&(f=m)}!i.includes(f)&&this.currentArtboard.contains(f)&&i.push(f);
}}}catch(p){o=!0,s=p}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s;
}}return u(i)},generateUniqueID:function(e){for(var t=void 0!==arguments[1]?arguments[1]:null,n=0;1/0>n;n+=1){
var r=e+"-"+n;if(!this["#artboards"].querySelector("#"+r)){if(!t)return r;if(!t.querySelector("#"+r))return r;
}}},_onTextInputModeChange:function(){body.bridge.postMessage("toggleTextInputMode",this.textInputMode);
},_onArtboardMutation:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this.dispatchEvent(new CustomEvent("artboardmutation",{detail:o})),
"childList"===o.type&&o.target===this["#artboards"]&&this._onCurrentArtboardChange();
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}},_onCurrentArtboardChange:function(){this.dispatchEvent(new CustomEvent("currentartboardchange")),
this.currentArtboard.viewBox.width>0&&this.currentArtboard.viewBox.height>0?this.zoomToCurrentArtboardViewBox():this.zoomToFitAll();
},_onPointerDown:function(e){1===e.button&&this._onMiddlePointerButtonDown(e)},_onMiddlePointerButtonDown:function(e){
var t,n,r=this,i=e.clientX,a=e.clientY;window.addEventListener("pointermove",t=function(e){
var t=e.clientX-i,n=e.clientY-a;i=e.clientX,a=e.clientY,r._scrollX=r._scrollX-t/r.scale,
r._scrollY=r._scrollY-n/r.scale,r["#svg"].viewBox.baseVal.width=E/r.scale,r["#svg"].viewBox.baseVal.height=P/r.scale,
r["#svg"].viewBox.baseVal.x=r._scrollX,r["#svg"].viewBox.baseVal.y=r._scrollY}),window.addEventListener("pointerup",n=function(){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onWheel:function(e){var t=h(e.wheelDeltaX,-L,L,1),n=h(e.wheelDeltaY,-L,L,1);if(!e.metaKey&&!e.ctrlKey||e.altKey||e.shiftKey)this._scrollX=this._scrollX-t/this.scale,
this._scrollY=this._scrollY-n/this.scale,this["#svg"].viewBox.baseVal.width=E/this.scale,
this["#svg"].viewBox.baseVal.height=P/this.scale,this["#svg"].viewBox.baseVal.x=this._scrollX,
this["#svg"].viewBox.baseVal.y=this._scrollY;else{var r=body.modKeys.ctrl?100:500,i=n/r;
this.zoomBy(i)}e.preventDefault()},_onClick:function(e){e.target.closest("a")&&e.preventDefault();
},_onUndoManagerUndoOrRedo:function(e){var t=this,n=e.detail,r=n.addedNodes,i=n.removedNodes,a=n.modifiedNodes,o=new Set(this.selectedElements),s=null,l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;
o.add(v)}}catch(f){u=!0,c=f}finally{try{l||null==h["return"]||h["return"]()}finally{
if(u)throw c}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=a[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;o.add(x)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=i[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value;o["delete"](M)}}catch(E){S=!0,k=E}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw k}}if(o=$traceurRuntime.spread(o).filter(function(e){return t.isSelectableElement(e)&&"ee-background"!==e.id;
}),o.length>0){var P=o[0];P.parentElement!==this["#master-artboard"]&&(s=P.parentElement);
}this.currentContainer=s,this.selectedElements=o},_onUndoManagerPositionChange:function(e){
body.bridge.postMessage("setChangeCounter",e.detail)},_onDragOver:function(e){e.preventDefault();
},_onDrop:function(e){var t=this;e.preventDefault();var i=e.dataTransfer.files,o=e.dataTransfer.getData("bx-symbolslistitem/symbolID"),l=e.dataTransfer.getData("text");
if(i.length>0){var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=i[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value,m=f.name.substring(f.name.lastIndexOf(".")+1).toLowerCase();if("image/svg+xml"===f.type||"text/html"===f.type)if("svgz"===m){
var p=new FileReader;p.readAsArrayBuffer(f),p.addEventListener("load",function(e){
var i=new Uint8Array(e.target.result),a=n(i);if(a){var o=r(a);o&&(t.undoManager.checkpoint("Paste"),
t.insertArtwork(o))}})}else{var b=new FileReader;b.readAsText(f,"UTF-8"),b.addEventListener("load",function(e){
var n=r(e.target.result);n&&(t.undoManager.checkpoint("Paste"),t.insertArtwork(n));
})}else if(["image/png","image/jpeg","image/webp","image/gif"].includes(f.type)){
var g=new FileReader;g.readAsDataURL(f),g.addEventListener("load",function(e){var n=e.target.result;
n&&(t.undoManager.checkpoint("Paste"),t.insertBitmap(n))})}}}catch(y){c=!0,d=y}finally{
try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}}else if(o){if("symbol"===this.currentArtboard.contentType&&this.currentArtboard.id===o)return void e.preventDefault();
this.undoManager.checkpoint("Create symbol reference");var x=this.currentContainer||this.currentArtboard,_=this.masterArtboard.querySelector("#"+o),w=s("svg:use");
w.setAttribute("href","#"+o),_.hasAttribute("viewBox")&&(w.setAttribute("width",_.viewBox.baseVal.width),
w.setAttribute("height",_.viewBox.baseVal.height)),x.append(w);var S=w.getScreenCTM().inverse(),k=SVGMatrix.fromMatrix(w.transform.baseVal.consolidate().matrix);
k.multiplySelf(S),w.setAttribute("transform",k.toString());var C=a(w);w.setAttribute("x",e.clientX-C.width/2),
w.setAttribute("y",e.clientY-C.height/2),this.selectedElements=[w]}else if(l){this.undoManager.checkpoint("Drop text");
var R=this.matches(":hover")?"pointer":"canvasCenter",M="font-size: 36; font-family: Roboto; white-space: pre;",E=r('<svg><text style="'+M+'">'+l+"</text></svg>");
this.insertArtwork(E,R)}},_updateDropShadow:function(){this["#grippie-fe-offset"].dx.baseVal=1/this.scale,
this["#grippie-fe-offset"].dy.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,
this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale},_getIdsReferencedByElementsAndTheirDescendants:function(e){
e=u(e);var t=new Set,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=!0,c=!1,d=void 0;try{for(var h=void 0,v=this._getIdsReferencedByElementAndItsDescendants(s)[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;t.add(f)}}catch(m){c=!0,d=m}finally{try{l||null==v["return"]||v["return"]();
}finally{if(c)throw d}}}}catch(p){r=!0,i=p}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return $traceurRuntime.spread(t)},_getIdsReferencedByElementAndItsDescendants:function(e){
var t=this,n=new Set,r=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],i=function(e){
for(var a=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o=null;o=a.nextNode();){
var s=getComputedStyle(o),l=!0,u=!1,c=void 0;try{for(var d=void 0,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value,f=s.getPropertyValue(v);if(f&&f.startsWith('url("#')){var m=f.substring(6,f.length-2);
if(n.has(m)===!1){n.add(m);var p=t.currentArtboard.querySelector("#"+m);p||t.currentArtboard===t.masterArtboard||(p=t.masterArtboard.querySelector("#"+m)),
p&&i(p)}else n.add(m)}}}catch(b){u=!0,c=b}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(o.href&&"#"===o.href.baseVal[0]){var g=o.href.baseVal.substring(1,o.href.baseVal.length);
if(n.has(g)===!1){n.add(g);var y=t.currentArtboard.querySelector("#"+g);y||t.currentArtboard===t.masterArtboard||(y=t.masterArtboard.querySelector("#"+g)),
y&&i(y)}else n.add(g)}}};return i(e),$traceurRuntime.spread(n)}},{},o)}(HTMLElement),j=l("bx-canvas",V);
return{get default(){return j}}}),$traceurRuntime.registerModule("elements/bx-checkbox",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-checkbox")),t=e.createElement,n=e.registerElement,r="images/icons.svg#checkbox-on",i="images/icons.svg#checkbox-off",a='\n  <style>@import url("stylesheets/bx-checkbox.css");</style>\n\n  <main>\n    <svg id="icon" preserveAspectRatio="none" viewBox="0 0 100 100">\n      <use id="icon-use" x="0" y="0" width="100%" height="100%"></use>\n    </svg>\n\n    <label id="label"></label>\n  </main>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=a;var t=!0,n=!1,r=void 0;try{for(var i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this._updateIcon(),this.addEventListener("click",function(t){
return e._onClick(t)}),this.addEventListener("keydown",function(t){return e._onKeyDown(t);
})},attributeChangedCallback:function(e){"label"===e?this._onLabelAttributeChange():"checked"===e&&this._onCheckedAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get checked(){return this.hasAttribute("checked")},
set checked(e){e?this.setAttribute("checked",""):this.removeAttribute("checked")},
get mixed(){return this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onCheckedAttributeChange:function(){
this._updateIcon()},_onClick:function(e){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change"));
},_onKeyDown:function(e){13===e.keyCode&&(this.checked=!this.checked)},_updateIcon:function(){
this["#icon-use"].remove(),this["#icon-use"]=t("svg:use"),this["#icon"].append(this["#icon-use"]),
this.checked?this["#icon-use"].setAttribute("href",r):this["#icon-use"].setAttribute("href",i);
}},{},e)}(HTMLElement),s=n("bx-checkbox",o);return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-circlehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-circlehud")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-circlehud")).normalize,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-circlehud")).throttle,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-circlehud")).getTransformToElement,a=Symbol(),o=6,s='\n  <style>@import url("stylesheets/bx-circlehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',l=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedCircles=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=r(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){t=!0,n=l}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedCircles=this._getSelectedCircles(),
0===this._selectedCircles.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.classList.contains("grippie")&&this._onGrippiePointerDown(e)},_onGrippiePointerDown:function(e){
var t=this;if(0===e.button){var r,i,o=e.target,s=o.parentElement,l=s[a],u=l.getCTM().inverse(),c=l.r.baseVal.value,d=new SVGPoint(e.clientX,e.clientY).matrixTransform(u),h=body.canvas.geometryPrecision,v=new SVGPoint(d.x,d.y),f=!1;
o.parentElement.append(o),this._draggedGrippie=o,window.addEventListener("pointermove",r=function(e){
f||(f=!0,body.canvas.undoManager.checkpoint("Circle radius")),v=new SVGPoint(e.clientX,e.clientY).matrixTransform(u);
var t=v.x-d.x,r=n(c+t,0,1/0,h);l.setAttribute("r",r)}),window.addEventListener("pointerup",i=function(){
window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),
t._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedCircles[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var o=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[a]=o,
this["#subhuds"].append(s)}}catch(l){t=!0,n=l}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){
var s=r.value,l=s[a],u=i(l,this),c=s.children[0],d=new SVGPoint(l.cx.baseVal.value+l.r.baseVal.value,l.cy.baseVal.value);
d=d.matrixTransform(u),c.setAttribute("cx",d.x),c.setAttribute("cy",d.y)}}catch(h){
t=!0,n=h}finally{try{e||null==o["return"]||o["return"]()}finally{if(t)throw n}}},
_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=a.children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.setAttribute("r",o/body.canvas.scale)}}catch(v){l=!0,u=v}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){t=!0,n=f;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedCircles:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"circle"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedCircles(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),u=t("g","bx-circlehud",l);return{get default(){return u;
}}}),$traceurRuntime.registerModule("elements/bx-colorpicker",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-alphaslider","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-hueslider","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-satlightslider","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-colorpicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-colorpicker"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/color","elements/bx-colorpicker"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-colorpicker")),n=t.isValidColorString,r=t.parseColor,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-colorpicker")).registerElement,a="hex",o='\n  <style>\n    @import url("stylesheets/bx-colorpicker.css");\n  </style>\n\n  <main>\n    <bx-hueslider id="hue-slider"></bx-hueslider>\n    <bx-satlightslider id="satlight-slider"></bx-satlightslider>\n    <bx-alphaslider id="alpha-slider"></bx-alphaslider>\n\n    <div>\n      <bx-input id="color-input" title="Color"></bx-input>\n\n      <bx-button\n        id="grab-color-button"\n        title="Grab color"\n        icon="grab-color"\n        iconsize="25"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </main>\n',s=function(t){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this._isDraggingSlider=!1,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=o;var t=!0,r=!1,i=void 0;try{for(var a=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){
var l=a.value;this["#"+l.id]=l}}catch(u){r=!0,i=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(r)throw i}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){d=!0,h=p}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this.hasAttribute("value")||this.attributeChangedCallback("value"),
this["#hue-slider"].addEventListener("markerdragstart",function(){return e._onHueSliderDragStart();
}),this["#satlight-slider"].addEventListener("markerdragstart",function(){return e._onSatlightSliderDragStart();
}),this["#alpha-slider"].addEventListener("markerdragstart",function(){return e._onAlphaSliderDragStart();
}),this["#grab-color-button"].addEventListener("click",function(t){return e._onGrabColorButtonClick(t);
}),this["#color-input"].addEventListener("change",function(){return e._onColorInputChange(event);
}),this["#color-input"].validate=function(e){return n(e)}},attributeChangedCallback:function(e){
"value"===e&&this._onValueAttributeChange()},get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";
},set value(e){this.setAttribute("value",e)},get mixed(){this["#color-input"].mixed;
},set mixed(e){this["#color-input"].mixed=e},get hidegrabber(){return this.hasAttribute("disablegrabber");
},set hidegrabber(e){e?this.setAttribute("hidegrabber",""):this.removeAttribute("hidegrabber");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){if(this._isDraggingSlider===!1){var e=r(this.value,"hsla");
this["#hue-slider"].hue=e.h,this["#satlight-slider"].hue=e.h,this["#satlight-slider"].saturation=e.s,
this["#satlight-slider"].lightness=e.l,this["#alpha-slider"].color=this.value,this["#alpha-slider"].alpha=e.a,
this["#color-input"].value=e.toString(a)}},_onHueSliderDragStart:function(){var e=this;
this._isDraggingSlider=!0;var t,n,i=r(this.value,"hsla");this.dispatchEvent(new CustomEvent("changestart")),
this["#hue-slider"].addEventListener("markerdrag",t=function(t){i.h=e["#hue-slider"].hue,
e.value=i.toString("rgba"),e["#satlight-slider"].hue=e["#hue-slider"].hue,e["#alpha-slider"].color=e.value,
e["#color-input"].value=i.toString(a),e.dispatchEvent(new CustomEvent("change"))}),
this["#hue-slider"].addEventListener("markerdragend",n=function(){e["#hue-slider"].removeEventListener("markerdrag",t),
e["#hue-slider"].removeEventListener("markerdragend",n),e._isDraggingSlider=!1,e.dispatchEvent(new CustomEvent("changeend"));
})},_onSatlightSliderDragStart:function(){var t=this;this._isDraggingSlider=!0;var n,r,i=new e(this["#hue-slider"].hue,50,50,this["#alpha-slider"].alpha,"hsla");
this.dispatchEvent(new CustomEvent("changestart")),this["#satlight-slider"].addEventListener("markerdrag",n=function(){
i.s=t["#satlight-slider"].saturation,i.l=t["#satlight-slider"].lightness,t.value=i.toString("rgba"),
t["#alpha-slider"].color=t.value,t["#color-input"].value=i.toString(a),t.dispatchEvent(new CustomEvent("change"));
}),this["#satlight-slider"].addEventListener("markerdragend",r=function(){t["#satlight-slider"].removeEventListener("markerdrag",n),
t["#satlight-slider"].removeEventListener("markerdragend",r),t._isDraggingSlider=!1,
t.dispatchEvent(new CustomEvent("changeend"))})},_onAlphaSliderDragStart:function(){
var e=this;this._isDraggingSlider=!0;var t,n,i=r(this.value,"hsla");this.dispatchEvent(new CustomEvent("changestart")),
this["#alpha-slider"].addEventListener("markerdrag",t=function(t){i.a=t.detail,e.value=i.toString("rgba"),
e["#color-input"].value=i.toString(a),e.dispatchEvent(new CustomEvent("change"))}),
this["#alpha-slider"].addEventListener("markerdragend",n=function(){e["#alpha-slider"].removeEventListener("markerdrag",t),
e["#alpha-slider"].removeEventListener("markerdragend",n),e._isDraggingSlider=!1,
e.dispatchEvent(new CustomEvent("changeend"))})},_onColorInputChange:function(){this.dispatchEvent(new CustomEvent("changestart")),
this.value=this["#color-input"].value,this.dispatchEvent(new CustomEvent("change")),
this.dispatchEvent(new CustomEvent("changeend"))},_onGrabColorButtonClick:function(){
var e;return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){case 0:
this["#grab-color-button"].pressed=!0,t.state=5;break;case 5:return void Promise.resolve(body.canvas.grabColor()).then(t.createCallback(3),t.errback);
case 3:e=t.value,t.state=2;break;case 2:this["#grab-color-button"].pressed=!1,this.dispatchEvent(new CustomEvent("changestart")),
this.value=e,this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend")),
t.state=-2;break;default:return t.end()}},this)}},{},t)}(HTMLElement),l=i("bx-colorpicker",s);
return{get default(){return l}}}),$traceurRuntime.registerModule("elements/bx-colorselect",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-colorpicker","elements/bx-colorselect"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-colorselect")).registerElement,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-colorselect")).sleep,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-colorselect"))["default"],
Number.parseFloat,Object.values,'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-colorselect.css");\n  </style>\n\n  <div id="button">\n    <div id="preview">\n      <div id="preview-inner">\n      </div>\n    </div>\n  </div>\n\n  <div id="overlay"></div>\n\n  <div id="popup" style="visibility: hidden"">\n    <bx-colorpicker id="color-picker" color="#ffffff" hidegrabber></bx-colorpicker>\n  </div>\n'),n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=t;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#button"].addEventListener("pointerdown",function(t){
return e._onButtonPointerDown(t)}),this["#overlay"].addEventListener("pointerdown",function(t){
return e._onOverlayPointerDown(t)}),this["#color-picker"].addEventListener("change",function(t){
return e._onColorPickerChange(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"opened"===e?this._onOpenedAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";
},set value(e){this.setAttribute("value",e)},get opened(){return this.hasAttribute("opened");
},set opened(e){e?this.setAttribute("opened",""):this.removeAttribute("opened")},
get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){this["#preview-inner"].style.setProperty("background",this.value),
this["#color-picker"].value!==this.value&&(this["#color-picker"].value=this.value);
},_onDisabledAttributeChange:function(){this.tabIndex=this.disabled?-1:0},_onOpenedAttributeChange:function(){
this.opened?this._onOpened():this._onClosed()},_onOpened:function(){var e=this;window.addEventListener("blur",this._blurListener=function(){
return e.opened=!1}),window.addEventListener("resize",this._resizeListener=function(){
return e.opened=!1}),this["#overlay"].style.setProperty("display","block"),this["#popup"].style.setProperty("visibility","visible"),
this["#popup"].style.setProperty("pointer-events","all");var t=this["#button"].getBoundingClientRect();
this["#popup"].style.setProperty("top",t.y+t.height+5+"px"),this["#popup"].style.setProperty("left",t.x-1+"px");
},_onClosed:function(){window.removeEventListener("blur",this._blurListener),window.removeEventListener("resize",this._resizeListener),
this["#overlay"].style.setProperty("display","none"),this["#popup"].style.setProperty("visibility","hidden");
},_onOverlayPointerDown:function(e){this.opened=!1},_onButtonPointerDown:function(e){
0===e.button&&(this.opened=!0)},_onColorPickerChange:function(){this.value=this["#color-picker"].value,
this.dispatchEvent(new CustomEvent("change"))}},{},e)}(HTMLElement),r=e("bx-colorselect",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-compositingcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-compositingcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-compositingcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-compositingcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-compositingcontrols")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-compositingcontrols")).round,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-compositingcontrols")).reduceProperty,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-compositingcontrols")),a=i.getRenderedTextNodes,o=i.getTspansIntersectedByRange,s=i.reduceText,l=i.spanifyText,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-compositingcontrols")).throttle,c=Number.parseFloat,d=["rect","circle","ellipse","line","path","polygon","polyline","image","text","tspan","use","svg","a","g"],h='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-compositingcontrols.css");\n  </style>\n\n  <section id="opacity-section">\n    <h2 id="opacity-section-heading">Opacity</h2>\n\n    <bx-slider\n      id="opacity-slider"\n      title="Opacity"\n      value="1"\n      min="0"\n      max="1"\n      precision="2">\n    </bx-slider>\n  </section>\n\n  <section id="blend-mode-section">\n    <h2 id="blend-mode-section-heading">Blend Mode</h2>\n\n    <bx-select id="blend-mode-select" value="normal">\n      <bx-selectitem value="normal" label="Normal"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="darken" label="Darken"></bx-selectitem>\n      <bx-selectitem value="multiply" label="Multiply"></bx-selectitem>\n      <bx-selectitem value="color-burn" label="Color Burn"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="lighten" label="Lighten"></bx-selectitem>\n      <bx-selectitem value="screen" label="Screen"></bx-selectitem>\n      <bx-selectitem value="color-dodge" label="Color Dodge"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="overlay" label="Overlay"></bx-selectitem>\n      <bx-selectitem value="soft-light" label="Soft Light"></bx-selectitem>\n      <bx-selectitem value="hard-light" label="Hard Light"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="difference" label="Difference"></bx-selectitem>\n      <bx-selectitem value="exclusion" label="Exclusion"></bx-selectitem>\n      <hr>\n      <bx-selectitem value="hue" label="Hue"></bx-selectitem>\n      <bx-selectitem value="saturation" label="Saturation"></bx-selectitem>\n      <bx-selectitem value="color" label="Color"></bx-selectitem>\n      <bx-selectitem value="luminosity" label="Luminosity"></bx-selectitem>\n    </bx-select>\n\n    <bx-checkbox label="Isolate" id="isolate-checkbox"></bx-checkbox>\n  </section>\n',v=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=u(this._update,200,this),
this._isChangingOpacitySlider=!1,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=h;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(l=(v=f.next()).done);l=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){c=!0,d=p}finally{try{
l||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#opacity-slider"].addEventListener("changestart",function(){
return e._onOpacitySliderChangeStart()}),this["#blend-mode-select"].addEventListener("change",function(){
return e._onBlendModeSelectChange()}),this["#isolate-checkbox"].addEventListener("change",function(){
return e._onIsolateCheckboxChange()})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onOpacitySliderChangeStart:function(){
var e,t=this;body.canvas.undoManager.checkpoint("Opacity");var n,i,a=this._getSelectedCompositableElements(),u=(a.filter(function(e){
return"text"===e.localName}),body.canvas.selectedTextRange),c=[],d=[],h=!0,v=!1,f=void 0;
try{for(var m=void 0,p=a[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){var b=m.value;
if("text"===b.localName&&u&&b.contains(u.commonAncestorContainer)){l(b,u),c.push(b);
var g=b.querySelectorAll("tspan"),y=o(u,b),x=u.collapsed?g:y;(e=d).push.apply(e,$traceurRuntime.spread(x));
}else d.push(b)}}catch(_){v=!0,f=_}finally{try{h||null==p["return"]||p["return"]();
}finally{if(v)throw f}}this._isChangingOpacitySlider=!0,this["#opacity-slider"].addEventListener("change",n=function(){
t["#opacity-slider"].mixed=!1;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=d[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;o.style.setProperty("opacity",t["#opacity-slider"].value)}}catch(s){
n=!0,r=s}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}}),
this["#opacity-slider"].addEventListener("changeend",i=function(){t["#opacity-slider"].removeEventListener("change",n),
t["#opacity-slider"].removeEventListener("changeend",i),t._isChangingOpacitySlider=!1;
var e=!0,a=!1,o=void 0;try{for(var l=void 0,h=d[Symbol.iterator]();!(e=(l=h.next()).done);e=!0){
var v=l.value;r("opacity",v)}}catch(f){a=!0,o=f}finally{try{e||null==h["return"]||h["return"]();
}finally{if(a)throw o}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=c[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;s(x,u)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}})},_onBlendModeSelectChange:function(){body.canvas.undoManager.checkpoint("Blend mode");
var e=body.canvas.selectedTextRange,t=this["#blend-mode-select"].value,n=!0,i=!1,a=void 0;
try{for(var u=void 0,c=this._getSelectedCompositableElements()[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){
var d=u.value;if("text"===d.localName&&e&&d.contains(e.commonAncestorContainer)){
l(d,e);var h=d.querySelectorAll("tspan"),v=o(e,d),f=e.collapsed?h:v,m=!0,p=!1,b=void 0;
try{for(var g=void 0,y=f[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var x=g.value;
x.style.setProperty("mix-blend-mode",t)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}s(d,e)}else d.style.setProperty("mix-blend-mode",t),r("mix-blend-mode",d);
}}catch(w){i=!0,a=w}finally{try{n||null==c["return"]||c["return"]()}finally{if(i)throw a;
}}},_onIsolateCheckboxChange:function(){body.canvas.undoManager.checkpoint("Isolate");
var e=body.canvas.selectedTextRange,t=this["#isolate-checkbox"].checked?"isolate":"auto",n=!0,i=!1,a=void 0;
try{for(var u=void 0,c=this._getSelectedCompositableElements()[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){
var d=u.value;if("text"===d.localName&&e&&d.contains(e.commonAncestorContainer)){
l(d,e);var h=d.querySelectorAll("tspan"),v=o(e,d),f=e.collapsed?h:v,m=!0,p=!1,b=void 0;
try{for(var g=void 0,y=f[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var x=g.value;
x.style.setProperty("isolation",t)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}s(d,e)}else d.style.setProperty("isolation",t),r("isolation",d);
}}catch(w){i=!0,a=w}finally{try{n||null==c["return"]||c["return"]()}finally{if(i)throw a;
}}},_update:function(){var e,t,r,i,o=[],s=Symbol(),l=body.canvas.selectedTextRange,u=!0,d=!1,h=void 0;
try{for(var v=void 0,f=this._getSelectedCompositableElements()[Symbol.iterator]();!(u=(v=f.next()).done);u=!0){
var m=v.value;if("text"===m.localName)if(l&&l.intersectsNode(m)){var p=a(m);"backward"===l.direction&&p.reverse();
var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=p[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;l.intersectsNode(w)&&(o.includes(w.parentElement)||o.push(w.parentElement));
}}catch(S){g=!0,y=S}finally{try{b||null==_["return"]||_["return"]()}finally{if(g)throw y;
}}}else o.push(m);else o.push(m)}}catch(k){d=!0,h=k}finally{try{u||null==f["return"]||f["return"]();
}finally{if(d)throw h}}var C=!0,R=!1,M=void 0;try{for(var E=void 0,P=o[Symbol.iterator]();!(C=(E=P.next()).done);C=!0){
var A=E.value;A[s]=getComputedStyle(A)}}catch(T){R=!0,M=T}finally{try{C||null==P["return"]||P["return"]();
}finally{if(R)throw M}}if(this._isChangingOpacitySlider===!1){var L=o,N=(e=L[Symbol.iterator](),
(t=e.next()).done?void 0:t.value),$=$traceurRuntime.iteratorToArray(e),O=N?n(c(N[s].opacity),2):1,V=!1,j=!0,z=!1,I=void 0;
try{for(var D=void 0,G=$[Symbol.iterator]();!(j=(D=G.next()).done);j=!0){var B=D.value,U=B?n(c(B[s].opacity),2):1;
U!==O&&(V=!0)}}catch(H){z=!0,I=H}finally{try{j||null==G["return"]||G["return"]()}finally{
if(z)throw I}}N?(this["#opacity-slider"].value=O,this["#opacity-slider"].disabled=!1,
this["#opacity-slider"].mixed=V):(this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,
this["#opacity-slider"].mixed=!1),this["#opacity-section-heading"].disabled=this["#opacity-slider"].disabled;
}var F=o,q=(r=F[Symbol.iterator](),(i=r.next()).done?void 0:i.value),W=$traceurRuntime.iteratorToArray(r);
if(q){var Y=q[s],X=Y.getPropertyValue("mix-blend-mode"),Z=Y.getPropertyValue("isolation"),K=!1,J=!1,Q=!0,ee=!1,te=void 0;
try{for(var ne=void 0,re=W[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){var ie=ne.value,ae=ie[s],oe=ae.getPropertyValue("mix-blend-mode"),se=ae.getPropertyValue("isolation");
oe!==X&&(K=!0),se!==Z&&(J=!0)}}catch(le){ee=!0,te=le}finally{try{Q||null==re["return"]||re["return"]();
}finally{if(ee)throw te}}this["#blend-mode-select"].value=q[s].getPropertyValue("mix-blend-mode"),
this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=K,this["#isolate-checkbox"].checked="isolate"===Z,
this["#isolate-checkbox"].disabled=!1,this["#isolate-checkbox"].mixed=J}else this["#blend-mode-select"].value="normal",
this["#blend-mode-select"].disabled=!0,this["#blend-mode-select"].mixed=!1,this["#isolate-checkbox"].disabled=!0,
this["#isolate-checkbox"].checked=!1,this["#isolate-checkbox"].mixed=!1;this["#blend-mode-section-heading"].disabled=this["#blend-mode-select"].disabled&&this["#isolate-checkbox"].disabled;
},_getSelectedCompositableElements:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i=void 0,a=body.canvas.outermostSelectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=o.localName;d.includes(s)&&e.push(o)}}catch(l){n=!0,r=l}finally{try{
t||null==a["return"]||a["return"]()}finally{if(n)throw r}}return e}},{},e)}(HTMLElement),f=t("bx-compositingcontrols",v);
return{get default(){return f}}}),$traceurRuntime.registerModule("elements/bx-contextmenu",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-contextmenu")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-contextmenu")).closestShadowRoot,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-contextmenu"))["default"];
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menu","elements/bx-contextmenu"));
var r='\n  <style>@import url("stylesheets/bx-contextmenu.css");</style>\n  <div id="overlay" hidden></div>\n\n  <bx-menu id="root-menu">\n    <content></content>\n  </bx-menu>\n',i=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=r;var t=!0,n=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,i=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw i}}this.addEventListener("menuitemtrigger",function(t){return e._close();
}),this["#overlay"].addEventListener("pointerdown",function(t){return e._onOverlayPointerDown(t);
}),this["#root-menu"].addEventListener("pointerdown",function(t){return e._onRootMenuPointerDown(t);
}),$traceurRuntime.spread([this["#root-menu"]],this.querySelectorAll("bx-menu")).forEach(function(t){
t.menuWillShow=function(){return e.menuWillShow(t)},t.menuItemWillTrigger=function(t){
return e.menuItemWillTrigger(t)}})},menuWillShow:function(e){return Promise.resolve();
},menuItemWillTrigger:function(e){return Promise.resolve()},open:function(e,t){var n=this;
this["#root-menu"].openAtPosition(e,t),this["#overlay"].hidden=!1,window.addEventListener("keydown",this._keyDownListener=function(e){
return n._onKeyDown(e)},!0),window.addEventListener("resize",this._resizeListener=function(){
return n._close()}),window.addEventListener("blur",this._blurListener=function(){
return n._close()})},_close:function(){this["#root-menu"].close(),this["#overlay"].hidden=!0,
window.removeEventListener("keydown",this._keyDownListener,!0),window.removeEventListener("resize",this._resizeListener),
window.removeEventListener("blur",this._blurListener),this.blur()},_onOverlayPointerDown:function(e){
event.preventDefault(),this._close()},_onRootMenuPointerDown:function(e){e.preventDefault();
},_onKeyDown:function(e){var r=n.fromEvent(e);if(r.matches("ArrowUp")||r.matches("ArrowDown")){
var i=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),a=i.length>0?i[i.length-1]:null,o=this["#root-menu"],s=this.querySelectorAll("bx-menu[opened]"),l=$traceurRuntime.spread([o],s);
if(e.stopPropagation(),e.preventDefault(),a){var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=l[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;f.items.includes(a)&&(r.matches("ArrowUp")?f.highlightPreviousItem():f.highlightNextItem());
}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}}else{var p=l.length>0?l[l.length-1]:null;p&&(r.matches("ArrowUp")?p.highlightPreviousItem():p.highlightNextItem());
}}else if(r.matches("ArrowLeft")){var b=this.querySelectorAll("bx-menu[opened]");if(e.stopPropagation(),
e.preventDefault(),b.length>0){var g=b[b.length-1];g.items.find(function(e){return e.highlighted;
})&&g.highlightItem(null)}}else if(r.matches("ArrowRight")){var y=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),x=y.length>0?y[y.length-1]:null,_=x?x.querySelector("bx-menu"):null;
if(e.stopPropagation(),e.preventDefault(),_){var w=_.getBoundingClientRect(),S=x.getBoundingClientRect(),k=w.x+w.width/2,C=S.y+S.height/2,R=t(this).elementFromPoint(k,C);
R.disabled?_.highlightNextItem(R):_.highlightItem(R)}}else if(r.matches("Enter")){
var M=$traceurRuntime.spread(this.querySelectorAll("bx-menuitem[highlighted]")),E=M.length>0?M[M.length-1]:null;
if(e.stopPropagation(),e.preventDefault(),E){if(!E.querySelector("bx-menu")){var P=this["#root-menu"],A=this.querySelectorAll("bx-menu[opened]"),T=$traceurRuntime.spread([P],A),L=!0,N=!1,$=void 0;
try{for(var O=void 0,V=T[Symbol.iterator]();!(L=(O=V.next()).done);L=!0){var j=O.value;
if(j.items.includes(E)){j.triggerItem(E);break}}}catch(z){N=!0,$=z}finally{try{L||null==V["return"]||V["return"]();
}finally{if(N)throw $}}}}else this._close()}else null!==r.base&&this._close()}},{},e);
}(HTMLElement),a=e("bx-contextmenu",i);return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-cubicbeziertool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-cubicbeziertool")).registerElement,t=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-cubic-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-cubic-segs-hud");
}},{},e)}(HTMLElement),n=e("bx-cubicbeziertool",t);return{get default(){return n}
}}),$traceurRuntime.registerModule("elements/bx-cubicsegsdrawhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-cubicsegsdrawhud"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-cubicsegsdrawhud"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-cubicsegsdrawhud")),r=n.createElement,i=n.registerElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-cubicsegsdrawhud")).round,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-cubicsegsdrawhud")).reversePath,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-cubicsegsdrawhud")).getTransformToElement,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-cubicsegsdrawhud")).reduceTransform;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-cubicsegsketch","elements/bx-cubicsegsdrawhud"));
var u=10,c=Symbol(),d='\n  <style>@import url("stylesheets/bx-cubicsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-cubicsegsketch"></g>\n',h=function(n){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=d;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,h=this.attributes[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){
var v=c.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._mode="select",this._currentPath=null,window.addEventListener("keydown",this._keyDownListener=function(t){
e._onKeyDown(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.artboards.addEventListener("pointerdown",this._canvasPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),this["#node-grippies"].addEventListener("pointerdown",this._nodeGrippiesPointerDownListener=function(t){
e._onNodeGrippiePointerDown(t)}),this._onSelectedElementsChange()},_onDisabled:function(){
window.removeEventListener("keydown",this._keyDownListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.artboards.removeEventListener("pointerdown",this._canvasPointerDownListener),
this["#node-grippies"].removeEventListener("pointerdown",this._nodeGrippiesPointerDownListener),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(e){var t=e.detail;if("childList"===t.type){var n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t.removedNodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;(s===this._currentPath||s.contains(this._currentPath))&&(this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies())}}catch(l){
r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}}else(t.target===this._currentPath||t.target.contains(this._currentPath))&&this._updateNodeGrippies();
},_onArtboardPointerDown:function(e){var n,r,i=this,a=new SVGPoint(e.clientX,e.clientY),o=0;
window.addEventListener("pointermove",n=function(e){var n=new SVGPoint(e.clientX,e.clientY),r=new t(a,n).length;
r>o&&(o=r)}),window.addEventListener("pointerup",r=function(t){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),i._onArtboardClick(e,t),4>o&&i._onArtboardDirectClick(e,t);
})},_onArtboardClick:function(e){var t;if("draw-forward"===this._mode){var n=this._currentPath.getPathData({
normalize:!0}),r=$traceurRuntime.spread(n),i=body.canvas.geometryPrecision;r.length>1&&body.canvas.undoManager.checkpoint("Draw path segment"),
this["#seg-sketch"].curved?r.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):r.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
});var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.values=d.values.map(function(e){return a(e,i)})}}catch(h){s=!0,l=h;
}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}this._currentPath.setPathData(r);
}else if("draw-backward"===this._mode){body.canvas.undoManager.checkpoint("Draw path segment");
var v=body.canvas.geometryPrecision,f=this._currentPath.getPathData({normalize:!0
}),m=[];m.push({type:"M",values:[this["#seg-sketch"].startPoint.x,this["#seg-sketch"].startPoint.y]
}),this["#seg-sketch"].curved?m.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):m.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),(t=m).push.apply(t,$traceurRuntime.spread(f.slice(1)));var p=!0,b=!1,g=void 0;try{
for(var y=void 0,x=m[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value;
_.values=_.values.map(function(e){return a(e,v)})}}catch(w){b=!0,g=w}finally{try{
p||null==x["return"]||x["return"]()}finally{if(b)throw g}}this._currentPath.setPathData(m);
}},_onArtboardDirectClick:function(e){var t=e,n=t.clientX,i=t.clientY;if("select"===this._mode){
body.canvas.undoManager.checkpoint("Draw path segment");var o=r("svg:path");o.style.setProperty("fill","none"),
o.style.setProperty("stroke","black");var s=body.canvas.currentContainer||body.canvas.currentArtboard;
s.append(o);var l=o.getScreenCTM().inverse(),u=new SVGPoint(n,i).matrixTransform(l),c=u.x,d=u.y,h=body.canvas.geometryPrecision,v=[{
type:"M",values:[c,d]}],f=!0,m=!1,p=void 0;try{for(var b=void 0,g=v[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;y.values=y.values.map(function(e){return a(e,h)})}}catch(x){m=!0,p=x;
}finally{try{f||null==g["return"]||g["return"]()}finally{if(m)throw p}}o.setPathData(v),
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[o]),
this._mode="draw-forward",this._currentPath=o,this["#seg-sketch"].show(o,"end")}},
_onNodeGrippiePointerDown:function(e){var t,n,r=this,i=e.target;this["#node-grippies"].addEventListener("pointerup",t=function(e){
r["#node-grippies"].removeEventListener("pointerup",t),window.removeEventListener("pointerup",n);
var a=e.target,o=r._onNodeGrippieClick(i,e);i!==a||o||r._onNodeGrippieDirectClick(i,e);
}),window.addEventListener("pointerup",n=function(e){r["#node-grippies"].removeEventListener("pointerup",t),
window.removeEventListener("pointerup",n),r._onNodeGrippieClick(i,e)})},_onNodeGrippieClick:function(e,t){
var n,r,i,u;if("select"===this._mode)return!1;if(e[c]===this._currentPath){var d=e.getAttribute("data-position"),h=this._currentPath,v=h.getPathData({
normalize:!0}),f=v[0],m=v[v.length-1],p=body.canvas.geometryPrecision;if("draw-forward"===this._mode&&"start"===d){
body.canvas.undoManager.checkpoint("Draw path segment");var b=$traceurRuntime.spread(v);
this["#seg-sketch"].curved?b.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,f.values[0],f.values[1]]
}):b.push({type:"L",values:[f.values[0],f.values[1]]}),b.push({type:"Z",values:[]
});var g=!0,y=!1,x=void 0;try{for(var _=void 0,w=b[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){
var S=_.value;S.values=S.values.map(function(e){return a(e,p)})}}catch(k){y=!0,x=k;
}finally{try{g||null==w["return"]||w["return"]()}finally{if(y)throw x}}h.setPathData(b),
this._updateNodeGrippies()}else if("draw-backward"===this._mode&&"end"===d){body.canvas.undoManager.checkpoint("Draw path segment");
var C=[];C.push({type:"M",values:["C"===m.type?m.values[4]:m.values[0],"C"===m.type?m.values[5]:m.values[1]]
}),this["#seg-sketch"].curved?C.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,f.values[0],f.values[1]]
}):C.push({type:"L",values:[f.values[0],f.values[1]]}),(n=C).push.apply(n,$traceurRuntime.spread(v.slice(1))),
C.push({type:"Z",values:[]});var R=!0,M=!1,E=void 0;try{for(var P=void 0,A=C[Symbol.iterator]();!(R=(P=A.next()).done);R=!0){
var T=P.value;T.values=T.values.map(function(e){return a(e,p)})}}catch(L){M=!0,E=L;
}finally{try{R||null==A["return"]||A["return"]()}finally{if(M)throw E}}h.setPathData(C),
this._updateNodeGrippies()}return this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0}var N=e.getAttribute("data-position"),$=this._currentPath,O=e[c],V=$.getPathData({
normalize:!0}),j=body.canvas,z=j.geometryPrecision,I=j.transformPrecision;V.length>1&&body.canvas.undoManager.checkpoint("Draw path segment");
var D=s(O,$);if(O.setAttribute("transform",D.toString()),l(O,{geometryPrecision:z,
transformPrecision:I}),"draw-forward"===this._mode){"end"===N&&o(O);var G=$traceurRuntime.spread(V),B=O.getPathData({
normalize:!0}),U=B[0];this["#seg-sketch"].curved?G.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,U.values[0],U.values[1]]
}):G.push({type:"L",values:[U.values[0],U.values[1]]}),(r=G).push.apply(r,$traceurRuntime.spread(B.slice(1)));
var H=!0,F=!1,q=void 0;try{for(var W=void 0,Y=G[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0){
var X=W.value;X.values=X.values.map(function(e){return a(e,z)})}}catch(Z){F=!0,q=Z;
}finally{try{H||null==Y["return"]||Y["return"]()}finally{if(F)throw q}}$.setPathData(G),
O.setPathData([]),O.remove()}else if("draw-backward"===this._mode){"start"===N&&o(O);
var K=[],J=O.getPathData({normalize:!0}),Q=V[0];(i=K).push.apply(i,$traceurRuntime.spread(J)),
this["#seg-sketch"].curved?K.push({type:"C",values:[this["#seg-sketch"].controlPoint1.x,this["#seg-sketch"].controlPoint1.y,this["#seg-sketch"].controlPoint2.x,this["#seg-sketch"].controlPoint2.y,Q.values[0],Q.values[1]]
}):K.push({type:"L",values:[Q.values[0],Q.values[1]]}),(u=K).push.apply(u,$traceurRuntime.spread(V.slice(1)));
var ee=!0,te=!1,ne=void 0;try{for(var re=void 0,ie=K[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){
var ae=re.value;ae.values=ae.values.map(function(e){return a(e,z)})}}catch(oe){te=!0,
ne=oe}finally{try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne}}
$.setPathData(K),O.setPathData([]),O.remove()}return body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==O}),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0},_onNodeGrippieDirectClick:function(e,t){if("select"===this._mode){this._currentPath=e[c];
var n=e.getAttribute("data-position");"start"===n?(this._mode="draw-backward",this["#seg-sketch"].show(e[c],"start")):(this._mode="draw-forward",
this["#seg-sketch"].show(e[c],"end"))}},_onKeyDown:function(t){if("draw-forward"===this._mode||"draw-backward"===this._mode){
var n=e.fromEvent(t);if(n.matches("Enter")||n.matches("Escape"))t.stopPropagation(),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies();else if(n.matches("Shift","Enter")){
t.stopPropagation();var r=(this._currentPath.getAttribute("d"),{type:"Z",values:[]
}),i=this._currentPath.getPathData();i.push(r),this._currentPath.setPathData(i),this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies()}}},_updateNodeGrippies:function(){
this["#node-grippies"].innerHTML="";var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._getSelectedPaths()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=o.getPathData({normalize:!0}),u=l.length,d=void 0,h=void 0;0===u?(d=null,
h=null):1===u?(d=l[0],h=null):u>1&&(d=l[0],h=l[u-1]);var v=s(o,this),f=h&&"Z"===h.type;
if(d&&!f){var m=new SVGPoint(d.values[0],d.values[1]).matrixTransform(v),p=r("svg:ellipse");
p.setAttribute("class","node-grippie"),p.setAttribute("cx",m.x),p.setAttribute("cy",m.y),
p.setAttribute("data-position","start"),p[c]=o,this["#node-grippies"].append(p)}if(h&&!f){
var b=void 0;"M"===h.type||"L"===h.type?b=new SVGPoint(h.values[0],h.values[1]).matrixTransform(v):"C"===h.type&&(b=new SVGPoint(h.values[4],h.values[5]).matrixTransform(v));
var g=r("svg:ellipse");g.setAttribute("class","node-grippie"),g.setAttribute("cx",b.x),
g.setAttribute("cy",b.y),g.setAttribute("data-position","end"),g[c]=o,this["#node-grippies"].append(g);
}}}catch(y){t=!0,n=y}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=u/2/body.canvas.scale,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.setAttribute("rx",e),o.setAttribute("ry",e)}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("data-bx-shape")===!1?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},n)}(SVGGElement),v=i("g","bx-cubicsegsdrawhud",h);return{get default(){
return v}}}),$traceurRuntime.registerModule("elements/bx-cubicsegsketch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-cubicsegsketch")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-cubicsegsketch")),n=t.comparePoints,r=t.snapPointToAngleMultiple,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-cubicsegsketch")).getTransformToElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-cubicsegsketch"))["default"],o=(Object.freeze,
'\n  <style>@import url("stylesheets/bx-cubicsegsketch.css");</style>\n\n  <path id="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line id="control-line-1"></line>\n  <line id="control-line-2"></line>\n\n  <circle id="control-point-1-grippie"></circle>\n  <circle id="control-point-2-grippie"></circle>\n'),s=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=o;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._path=null,this._position="end",this._snap="none",this._hasListeners=!1,
this._clientX=null,this._clientY=null},get startPoint(){return this._startPoint},
get endPoint(){return this._endPoint},get controlPoint1(){return this._controlPoint1;
},get controlPoint2(){return this._controlPoint2},get curved(){return n(this.startPoint,this.controlPoint1)===!1||n(this.endPoint,this.controlPoint2)===!1;
},show:function(e){var t=void 0!==arguments[1]?arguments[1]:"end";this._position=t,
this._path=e,this._snap="none",this.style.setProperty("visibility","visible"),this._hasListeners===!1&&this._addListeners(),
this._updateSegProperties(),this._updateSnapProperty(),this._updatePointProperties(),
this._updateOutlines()},hide:function(){this._path=null,this._clientX=null,this._clientY=null,
this.style.setProperty("visibility","hidden"),this._hasListeners===!0&&this._removeListeners();
},_addListeners:function(){var e=this;this._hasListeners=!0,this._pointerDown=!1,
body.addEventListener("modkeyschange",this._modKeysChangeListener=function(){e._pointerDown===!1&&(e._updateSnapProperty(),
e._updatePointProperties(),e._updateOutlines())}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
var n,i,a,o,s=e._path.getScreenCTM().inverse();if(e._pointerDown=!0,e._pointerDownPoint=new SVGPoint(t.clientX,t.clientY),
e._pointerDownPoint=e._pointerDownPoint.matrixTransform(s),e._pointerDownControlPoint1=SVGPoint.fromPoint(e._controlPoint1),
e._pointerDownControlPoint2=SVGPoint.fromPoint(e._controlPoint2),"end"===e._position)if("paraxialPolygon"===e._snap){
var l=(n=r(e._startPoint,e._endPoint,45)[Symbol.iterator](),(i=n.next()).done?void 0:i.value);
e._endPoint=l}else e._endPoint=SVGPoint.fromPoint(e._pointerDownPoint);else if("start"===e._position)if("paraxialPolygon"===e._snap){
var u=(a=r(e._startPoint,e._endPoint,45)[Symbol.iterator](),(o=a.next()).done?void 0:o.value);
e._endPoint=u}else e._endPoint=new SVGPoint(e._firstSeg.values[0],e._firstSeg.values[1]);
}),window.addEventListener("pointermove",this._pointerMoveListener=function(t){e._clientX=t.clientX,
e._clientY=t.clientY,e._updatePointProperties(),e._updateOutlines()}),window.addEventListener("pointerup",this._pointerUpListener=function(t){
e._pointerDown=!1,e._updateSnapProperty()})},_removeListeners:function(){this._hasListeners=!1,
body.removeEventListener("modkeyschange",this._modKeysChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener),window.removeEventListener("pointermove",this._pointerMoveListener),
window.removeEventListener("pointerup",this._pointerUpListener)},_onArtboardMutation:function(e){
var t=e.detail;(t.target===this._path||t.target.contains(this._path))&&this._path.hasAttribute("d")&&(this._updateSegProperties(),
this._updateSnapProperty(),this._updatePointProperties(),this._updateOutlines())},
_updateSegProperties:function(){if("end"===this._position){var e=this._path.getPathData({
normalize:!0}),t=e[e.length-1];this._lastSeg=t;for(var n=e.length-1;n>=0;n-=1){var r=e[n];
if("Z"!==r.type){this._lastNonZSeg=r;break}}"C"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[2],t.values[3]):"M"===t.type||"L"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[0],t.values[1]):this._lastSegControlPoint=null,
"C"===t.type?this._lastSegIsSmooth=t.values[2]!==t.values[4]||t.values[3]!==t.values[5]:this._lastSegIsSmooth=!1;
}else if("start"===this._position){var i=this._path.getPathData({normalize:!0}),a=i[0],o=i[1];
this._firstSeg=a,"C"===o.type?this._secondSegControlPoint=new SVGPoint(o.values[0],o.values[1]):"M"===o.type||"L"===o.type?this._secondSegControlPoint=new SVGPoint(a.values[0],a.values[1]):this._secondSegControlPoint=null,
"C"===o.type?this._secondSegIsSmooth=o.values[0]!==a.values[0]&&o.values[1]!==a.values[1]:this._secondSegIsSmooth=!1;
}},_updatePointProperties:function(){var e,t,n,i;if(this._pointerDown===!1){var o=this._path.getScreenCTM().inverse();
if("end"===this._position?("L"===this._lastNonZSeg.type||"M"===this._lastNonZSeg.type?this._startPoint=new SVGPoint(this._lastNonZSeg.values[0],this._lastNonZSeg.values[1]):"C"===this._lastNonZSeg.type&&(this._startPoint=new SVGPoint(this._lastNonZSeg.values[4],this._lastNonZSeg.values[5])),
null===this._clientX?this._endPoint=SVGPoint.fromPoint(this._startPoint):this._endPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(o)):"start"===this._position&&(null===this._clientX?this._startPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1]):this._startPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(o),
this._endPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1])),"none"===this._snap){
var s;new a(this._startPoint,this._endPoint);"end"===this._position?s=new a(this._startPoint,this._lastSegControlPoint):"start"===this._position&&(s=new a(this._endPoint,this._secondSegControlPoint)),
s=s.negate(),"end"===this._position?(this._controlPoint1=new SVGPoint(this._startPoint.x+s.x,this._startPoint.y+s.y),
this._controlPoint2=SVGPoint.fromPoint(this._endPoint)):"start"===this._position&&(this._controlPoint2=new SVGPoint(this._endPoint.x+s.x,this._endPoint.y+s.y),
this._controlPoint1=SVGPoint.fromPoint(this._startPoint))}else if("polygon"===this._snap)this._controlPoint1=SVGPoint.fromPoint(this._startPoint),
this._controlPoint2=SVGPoint.fromPoint(this._endPoint);else if("paraxialPolygon"===this._snap){
if("end"===this._position){var l=(e=r(this._startPoint,this._endPoint,45)[Symbol.iterator](),
(t=e.next()).done?void 0:t.value);this._endPoint=l}else if("start"===this._position){
var u=(n=r(this._endPoint,this._startPoint,45)[Symbol.iterator](),(i=n.next()).done?void 0:i.value);
this._startPoint=u}this._controlPoint1=SVGPoint.fromPoint(this._startPoint),this._controlPoint2=SVGPoint.fromPoint(this._endPoint);
}}else if(this._pointerDown===!0){var c=this._path.getScreenCTM().inverse(),d=new SVGPoint(this._clientX,this._clientY);
d=d.matrixTransform(c);var h=new a(this._pointerDownPoint,d).negate();"end"===this._position?this._controlPoint2=new SVGPoint(this._pointerDownControlPoint2.x+h.x,this._pointerDownControlPoint2.y+h.y):"start"===this._position&&(this._controlPoint1=new SVGPoint(this._pointerDownControlPoint1.x+h.x,this._pointerDownControlPoint1.y+h.y));
}},_updateSnapProperty:function(){var e=body.modKeys,t=e.ctrl,n=(e.alt,e.shift);t&&!n?this._snap="polygon":t&&n?this._snap="paraxialPolygon":this._snap="none",
"end"===this._position?this._lastSegIsSmooth||"none"!==this._snap||(this._snap="polygon"):"start"===this._position&&(this._secondSegIsSmooth||"none"!==this._snap||(this._snap="polygon"));
},_updateOutlines:function(){var e=i(this._path,this),t=this._startPoint.matrixTransform(e),n=this._endPoint.matrixTransform(e),r=this._controlPoint1.matrixTransform(e),a=this._controlPoint2.matrixTransform(e),o=3/body.canvas.scale,s=[{
type:"M",values:[t.x,t.y]},{type:"C",values:[r.x,r.y,a.x,a.y,n.x,n.y]}];this["#outline"].setPathData(s),
this["#control-point-1-grippie"].cx.baseVal.value=r.x,this["#control-point-1-grippie"].cy.baseVal.value=r.y,
this["#control-point-1-grippie"].r.baseVal.value=o,this["#control-point-2-grippie"].cx.baseVal.value=a.x,
this["#control-point-2-grippie"].cy.baseVal.value=a.y,this["#control-point-2-grippie"].r.baseVal.value=o,
this["#control-line-1"].x1.baseVal.value=t.x,this["#control-line-1"].y1.baseVal.value=t.y,
this["#control-line-1"].x2.baseVal.value=r.x,this["#control-line-1"].y2.baseVal.value=r.y,
this["#control-line-2"].x1.baseVal.value=n.x,this["#control-line-2"].y1.baseVal.value=n.y,
this["#control-line-2"].x2.baseVal.value=a.x,this["#control-line-2"].y2.baseVal.value=a.y;
}},{},e)}(SVGGElement),l=e("g","bx-cubicsegsketch",s);return{get default(){return l;
}}}),$traceurRuntime.registerModule("elements/bx-defscontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-defscontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternslist","elements/bx-defscontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-symbolslist","elements/bx-defscontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-defscontrols")).registerElement,t='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-defscontrols.css");\n  </style>\n\n  <main>\n    <div id="buttons">\n      <bx-button\n        id="symbols-button"\n        class="button"\n        href="#symbols-list"\n        tooltip="Symbols"\n        icon="symbols-button"\n        iconsize="30"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="patterns-button"\n        class="button"\n        href="#patterns-list"\n        tooltip="Patterns"\n        icon="paint-pattern"\n        iconsize="30"\n        skin="iconic">\n      </bx-button>\n    </div>\n\n    <div id="lists">\n      <bx-symbolslist id="symbols-list" class="list"></bx-symbolslist>\n      <bx-patternslist id="patterns-list" class="list"></bx-patternslist>\n    </div>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=t;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#buttons"].addEventListener("click",function(t){
return e._onButtonsClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e;return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){
case 0:return void Promise.resolve(body.getConfig("bx-defscontrols:currentListID")).then(t.createCallback(3),t.errback);
case 3:e=t.value,t.state=2;break;case 2:this._toggleList(e||"symbols-list"),t.state=-2;
break;default:return t.end()}},this)},_onDisabled:function(){this._toggleList(null);
},_onButtonsClick:function(e){"bx-button"===e.target.localName&&0===e.button&&this._onButtonClick(e.target);
},_onButtonClick:function(e){e.pressed===!1&&this._toggleList(e.href.substring(1));
},_toggleList:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#buttons"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;null!==e&&o.href==="#"+e?o.pressed=!0:o.pressed=!1}}catch(s){n=!0,r=s;
}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this["#lists"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;null!==e&&v.id===e?(v.enabled=!0,v.hidden=!1):(v.enabled=!1,v.hidden=!0);
}}catch(f){u=!0,c=f}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}null!==e&&body.setConfig("bx-defscontrols:currentListID",e)}},{},e)}(HTMLElement),r=e("bx-defscontrols",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-dock",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-dock")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-dock")),n=t.sleep,r=t.throttle,i='\n  <style>@import url("stylesheets/bx-dock.css");</style>\n\n  <main>\n    <div id="up-grippie" class="grippie">\n      <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n        <use href="images/icons.svg#arrow-up" width="100" height="100"></use>\n      </svg>\n    </div>\n\n    <div id="buttons">\n      <content></content>\n    </div>\n\n    <div id="down-grippie" class="grippie">\n      <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n        <use href="images/icons.svg#arrow-down" width="100" height="100"></use>\n      </svg>\n    </div>\n  </main>\n',a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i,this._pressedButton=null,this._updateGrippiesVisibility250Th=r(this._updateGrippiesVisibility,250,this);
var t=!0,n=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){n=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(n)throw a}}window.addEventListener("resize",function(){return e._updateGrippiesVisibility250Th();
}),this["#buttons"].addEventListener("scroll",function(){return e._updateGrippiesVisibility();
}),this["#buttons"].addEventListener("hiddenchange",function(){return e._updateGrippiesVisibility();
})},attachedCallback:function(){var e;return $traceurRuntime.asyncWrap(function(t){
for(;;)switch(t.state){case 0:e=this,this.addEventListener("pointerenter",this._pointerEnterListener=function(){
e._defaultCursor=body.registerCursor("default",200)}),this.addEventListener("pointerleave",this._pointerLeaveListener=function(){
body.unregisterCursor(e._defaultCursor)}),t.state=6;break;case 6:return void Promise.resolve(n(100)).then(t.createCallback(2),t.errback);
case 2:this._updateGrippiesVisibility(),t.state=8;break;case 8:return void Promise.resolve(n(1e3)).then(t.createCallback(4),t.errback);
case 4:this._updateGrippiesVisibility(),t.state=-2;break;default:return t.end()}},this);
},detachedCallback:function(){this.removeEventListener("pointerenter",this._pointerEnterListener),
this.removeEventListener("pointerleave",this._pointerLeaveListener)},_updateGrippiesVisibility:function(){
0===this["#buttons"].scrollTop?this["#up-grippie"].setAttribute("disabled",""):this["#up-grippie"].removeAttribute("disabled"),
this["#buttons"].scrollTop>=this["#buttons"].scrollHeight-this["#buttons"].offsetHeight?this["#down-grippie"].setAttribute("disabled",""):this["#down-grippie"].removeAttribute("disabled");
}},{},e)}(HTMLElement),o=e("bx-dock",a);return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-domeditor",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/attribute","elements/bx-domeditor")),t=e.splitAttributeText,n=e.validateAttribute,r=e.getValidAttributeNames,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-domeditor")),a=i.createElement,o=i.registerElement,s=i.sortByDomPosition,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-domeditor")).parseHTML,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-domeditor")).isDOMWhitespace,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-domeditor")).sleep,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-domeditor")),h=d.namespaces,v=d.contentSchemas,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-domeditor"))["default"],m=Symbol(),p='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-domeditor.css");\n  </style>\n\n  <main id="main">\n    <div id="tree"></div>\n  </main>\n',b='<div class="item" data-type="element" draggable="true"><svg class="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px"><path d="M 0 0 L 100 50 L 0 100 Z" style="fill: white; stroke: none;"></path></svg><div class="tag"><span class="opening-bracket">&lt</span><span class="tag-name" spellcheck="false">svg</span><span class="attributes"></span><span class="closing-bracket">&gt</span></div><div class="subtree"></div></div>',g='<span class="attribute" spellcheck="false"><span class="name"></span>="<span class="value"></span><span class="ellipsis" hidden>...</span>"</span>',y='<div class="item" data-type="text"><div class="content" spellcheck="false"></div></div>',x=function(e){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this.commands={cut:{enabled:function(){return!0;
},exec:function(){return e._cut()}},copy:{enabled:function(){return!0},exec:function(){
return e._copy()}},paste:{exec:function(){return e._paste()}},selectAll:{exec:function(){
return e._selectAll()}},deselectAll:{enabled:function(){return!0},exec:function(){
return e._deselectAll()}}},this.tabIndex=1,this._selectedNodes=[],this._cachedMutations=[],
this._skipUpcomingSelectedCanvasElementsChange=!1,this._onArtboardMutationIdleCallback=this._onArtboardMutationIdleCallback.bind(this),
this._templateTextItem=l(y),this._templateElementItem=l(b),this._templateElementItemAttribute=l(g),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=p;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("keydown",function(t){
return e._onKeyDown(t)}),this["#tree"].addEventListener("dragstart",function(t){return e._onItemDragStart(t);
}),this._shadowRoot.addEventListener("pointerdown",function(t){return e._onShadowRootPointerDown(t);
}),this._shadowRoot.addEventListener("click",function(t){return e._onShadowRootClick(t);
}),this._shadowRoot.addEventListener("dblclick",function(t){return e._onShadowRootDblClick(t);
})},attributeChangedCallback:function(e){"enabled"===e&&this._onEnabledAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get selectedNodes(){return this._selectedNodes},set selectedNodes(e){this._selectedNodes=e,
this._onSelectedNodesChange()},get outermostSelectedNodes(){var e=[],t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this.selectedNodes[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=!0,l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.selectedNodes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;if(v!==o&&v.contains(o)){s=!1;break}}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}s&&e.push(o)}}catch(m){
n=!0,r=m}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}return e;
},_onEnabledAttributeChange:function(){this.enabled?this._onEnabled():this._onDisabled();
},_onEnabled:function(){var e=this;this._updateTree(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedCanvasElementsChange()}),body.canvas.addEventListener("currentartboardchange",this._currentArtboardChangeListener=function(){
e._updateTree()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){this._cachedMutations=[],
this["#tree"].innerHTML="",body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("currentartboardchange",this._currentArtboardChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onArtboardMutation:function(e){if("attributes"===e.type){var t=this._cachedMutations.find(function(t){
return"attributes"===t.type&&t.target===e.target&&t.attributeName===e.attributeName;
});t||this._cachedMutations.push(e)}else if("characterData"===e.type){var n=this._cachedMutations.find(function(t){
return"characterData"===t.type&&t.target===e.target});n||this._cachedMutations.push(e);
}else"childList"===e.type&&this._cachedMutations.push(e);requestIdleCallback(this._onArtboardMutationIdleCallback);
},_onArtboardMutationIdleCallback:function(e){for(var t=this,n=function(){var e=t._cachedMutations.shift(),n=$traceurRuntime.spread(t["#tree"].querySelectorAll(".item")).find(function(t){
return t[m]===e.target});n&&("childList"===e.type?(t._updateElementItemIcon(n),t._updateElementItemSubtree(n,e)):"attributes"===e.type?t._updateElementItemAttribute(n,e.attributeName,!0):"characterData"===e.type&&t._updateTextItemCharacterData(n));
};e.timeRemaining()>10&&this._cachedMutations.length>0;)n();this._cachedMutations.length>0&&requestIdleCallback(this._onArtboardMutationIdleCallback);
},_onSelectedNodesChange:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#tree"].querySelectorAll(".item:not([hidden])")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.selectedNodes.includes(a[m])?a.setAttribute("data-highlighted",""):a.removeAttribute("data-highlighted");
}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_onSelectedCanvasElementsChange:function(){if(this._skipUpcomingSelectedCanvasElementsChange===!0)return void(this._skipUpcomingSelectedCanvasElementsChange=!1);
if(0===body.canvas.selectedElements.length)this.selectedNodes=body.canvas.currentContainer?[]:[body.canvas.currentArtboard];else{
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=body.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
for(var a=r.value,o=[],s=a.parentElement;s!==body.canvas.artboards;s=s.parentElement)"g"!==s.localName&&"a"!==s.localName||o.push(s);
for(var l=this["#tree"];o.length>0;){var u=o.pop(),c=!0,d=!1,h=void 0;try{for(var v=void 0,f=l.children[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var p=v.value;if(p[m]===u){this._expandItem(p),l=p.querySelector(".subtree");break;
}}}catch(b){d=!0,h=b}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}}}}catch(g){t=!0,n=g}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}this.selectedNodes=$traceurRuntime.spread(body.canvas.selectedElements)}if(this.selectedNodes.length>0){
var y,x=$traceurRuntime.spread(this["#tree"].querySelectorAll(".item:not([hidden])")),_=this,w=function(e){
var t=_.selectedNodes[e],n=x.find(function(e){return e[m]===t});return n?(_._scrollItemIntoView(n),
0):void 0};e:for(var S=this.selectedNodes.length-1;S>=0;S-=1)switch(y=w(S)){case 0:
break e}}},_onShadowRootPointerDown:function(e){if(e.target.matches(".icon")===!1&&e.target.matches(".ellipsis")===!1&&e.target!==this["#main"]){
var t;t=e.target.matches("#tree, #tree .subtree")?this._getItemForClientY(e.clientY):e.target.closest("#tree .item");
var n=t[m],r=$traceurRuntime.spread(this.selectedNodes),i=body.modKeys,a=i.ctrl,o=i.shift;
if(a||o){if(a&&!o)r=[n];else if(a&&o)r.includes(n)?r.remove(n):r.push(n);else if(!a&&o)if(0===r.length)r=[n];else{
var s=$traceurRuntime.spread(this["#tree"].querySelectorAll(".item:not([hidden])")),l=t,u=s.indexOf(l),c=r[r.length-1],d=s.find(function(e){
return e[m]===c}),h=s.indexOf(d);if(h>u)for(var v=h-1;v>=u;v-=1){var f=s[v][m];r.includes(f)&&r.remove(f),
r.push(f)}else if(u>h)for(var p=h+1;u>=p;p+=1){var b=s[p][m];r.includes(b)&&r.remove(b),
r.push(b)}}}else r.includes(n)===!1&&(r=[n]);this.selectedNodes=r;var g=this.selectedNodes.filter(function(e){
return body.canvas.isSelectableElement(e)}),y=g[0],x=null;if(y)for(var _=y.parentElement;_!==body.canvas.currentArtboard;_=_.parentElement)if("g"===_.localName||"a"===_.localName){
x=_;break}this._skipUpcomingSelectedCanvasElementsChange=!0,body.canvas.currentContainer=x,
body.canvas.selectedElements=g}},_onShadowRootClick:function(e){if(e.target.matches(".icon")){
var t=e.target.closest(".item");0===e.button&&(t.hasAttribute("data-expanded")?this._collapseItem(t):this._expandItem(t));
}else if(e.target.matches(".ellipsis")){var n=e.target.closest(".item"),r=e.target.closest(".attribute").dataset.name;
this._expandAttribute(n,r)}},_onItemDragStart:function(e){var t,n,r,i,o=this,l=null,u=this["#tree"].querySelector(".item");
if(!this["#tree"].querySelector("*[contenteditable]")){e.dataTransfer.setDragImage(a("span"),0,0);
var c=function(e,t){var n=o._getItemForClientY(t),r=null;if(n){if(n.hasAttribute("data-expanded")){
var i=n.querySelector(".tag").getBoundingClientRect();r=t<i.y+i.height/2?"beforebegin":"afterbegin";
}else{for(var a=n.getBoundingClientRect();null===n.nextElementSibling&&e<a.x;){var s=n.parentElement.closest(".item");
if(!s||s===u)break;n=s,a=n.getBoundingClientRect()}r=t<a.y+a.height/2?"beforebegin":0===n[m].childNodes.length&&e>a.x+22&&o._canMoveNodes(o.outermostSelectedNodes,n[m],"afterbegin")?"afterbegin":"afterend";
}o._canMoveNodes(o.outermostSelectedNodes,n[m],r)===!1&&(n=null,r=null)}return[n,r];
};window.addEventListener("dragover",t=function(e){var t,n;if(r!==e.clientX||i!==e.clientY){
var a=e,o=a.clientX,s=a.clientY,u=c(o,s),d=(t=u[Symbol.iterator](),(n=t.next()).done?void 0:n.value),h=(n=t.next()).done?void 0:n.value;
r=o,i=s,l&&(l.removeAttribute("data-dragover"),l=null),d&&(d.setAttribute("data-dragover",h),
l=d)}}),window.addEventListener("dragend",n=function(e){var r,i;window.removeEventListener("dragover",t),
window.removeEventListener("dragend",n),l&&l.removeAttribute("data-dragover");var a=e,u=a.clientX,d=a.clientY,h=c(u,d),v=(r=h[Symbol.iterator](),
(i=r.next()).done?void 0:i.value),f=(i=r.next()).done?void 0:i.value;if(v){body.canvas.undoManager.checkpoint("Move element(s)");
var p=document.createDocumentFragment(),b=!0,g=!1,y=void 0;try{for(var x=void 0,_=s(o.outermostSelectedNodes)[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;p.append(w)}}catch(S){g=!0,y=S}finally{try{b||null==_["return"]||_["return"]();
}finally{if(g)throw y}}"beforebegin"===f?v[m].before(p):"afterend"===f?v[m].after(p):"afterbegin"===f&&(v[m].prepend(p),
o._expandItem(v));var k=o.selectedNodes.filter(function(e){return body.canvas.isSelectableElement(e);
}),C=k[0],R=null;if(C)for(var M=C.parentElement;M!==body.canvas.currentArtboard;M=M.parentElement)if("g"===M.localName||"a"===M.localName){
R=M;break}o._skipUpcomingSelectedCanvasElementsChange=!0,body.canvas.currentContainer=R,
body.canvas.selectedTextRange=null}})}},_onShadowRootDblClick:function(e){if(e.target.matches("#tree .item .attribute, #tree .item .attribute *")){
var t=e.target.closest(".item"),n=e.target.closest(".attribute").dataset.name;this._editAttribute(t,n);
}else if(e.target.matches(".tag-name, .opening-bracket, .attributes:empty + .closing-bracket")){
var r=e.target.closest(".item");this._editTagName(r)}},_onKeyDown:function(e){var t=f.fromEvent(e);
t.matches("Enter")?(e.stopPropagation(),console.log("Add attribute")):t.matches("Backspace")?(e.stopPropagation(),
this._deleteSelectedNodes()):t.matches("ArrowLeft")?(e.stopPropagation(),this._collapseHighlightedItem()):t.matches("ArrowRight")?(e.stopPropagation(),
this._expandHighlightedItem()):t.matches("ArrowDown")?(e.stopPropagation(),this._selectNextItem(!1)):t.matches("ArrowUp")?(e.stopPropagation(),
this._selectPreviousItem(!1)):t.matches("Shift","ArrowDown")?(e.stopPropagation(),
this._selectNextItem(!0)):t.matches("Shift","ArrowUp")&&(e.stopPropagation(),this._selectPreviousItem(!0));
},_updateTree:function(){this._cachedMutations=[],this["#tree"].innerHTML="";var e=body.canvas.currentArtboard,t=this._createItem("element",e);
this["#tree"].append(t),this._onSelectedCanvasElementsChange()},_updateElementItemSubtree:function(e,t){
var n=e.querySelector(".subtree"),r=$traceurRuntime.spread(t.addedNodes),i=$traceurRuntime.spread(t.removedNodes),a=!0,o=!1,s=void 0;
try{for(var l=void 0,c=$traceurRuntime.spread(n.children)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){
var d=l.value;i.includes(d[m])?d.remove():r.includes(d[m])&&d.remove()}}catch(h){
o=!0,s=h}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s}}if(0===e[m].childNodes.length&&e.removeAttribute("data-expanded"),
r.length>0&&e.hasAttribute("data-expanded")){var v=document.createDocumentFragment(),f=!0,p=!1,b=void 0;
try{for(var g=void 0,y=r[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var x=g.value,_=null;
if(x.nodeType===document.ELEMENT_NODE?_="element":x.nodeType===document.TEXT_NODE&&(_="text"),
_){var w=this._createItem(_,x);"text"===_&&u(x.textContent)&&w.setAttribute("hidden",""),
this.selectedNodes.includes(x)&&w.setAttribute("data-highlighted",""),v.append(w);
}}}catch(S){p=!0,b=S}finally{try{f||null==y["return"]||y["return"]()}finally{if(p)throw b;
}}if(t.previousSibling){var k=$traceurRuntime.spread(n.children).find(function(e){
return e[m]===t.previousSibling});k.after(v)}else if(t.nextSibling){var C=$traceurRuntime.spread(n.children).find(function(e){
return e[m]===t.nextSibling});C.before(v)}else n.append(v)}},_updateElementItemIcon:function(e){
var t=e.querySelector(".icon"),n="hidden",r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e[m].childNodes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;if(l.nodeType===document.ELEMENT_NODE){n="visible";break}if(l.nodeType===document.TEXT_NODE&&u(l.textContent)===!1){
n="visible";break}}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}t.style.setProperty("visibility",n)},_updateElementItemTagName:function(e){
var t=e[m],n=t.localName;if(t.hasAttribute("is")){var r=t.getAttribute("is");r.startsWith("bx-")&&r.endsWith("artboard")&&(n=r.substring(3,r.indexOf("artboard")));
}"_title"===n&&(n="title"),e.querySelector(".tag-name").textContent=n},_updateElementItemAttributes:function(e){
var t=e[m],n=document.createDocumentFragment();if(t===body.canvas.masterArtboard){
var r=this._templateElementItemAttribute.cloneNode(!0);r.dataset.name="xmlns",r.dataset.noneditable="",
r.querySelector(".name").textContent="xmlns",r.querySelector(".value").textContent=h.svg,
n.append(r);var i=this._templateElementItemAttribute.cloneNode(!0);i.dataset.name="xmlns:bx",
r.dataset.noneditable="",i.querySelector(".name").textContent="xmlns:bx",i.querySelector(".value").textContent=h.bx,
n.append(i)}var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=t.attributes[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=c.name,v=c.value;if("is"!==d||!v.startsWith("bx-")){var f=this._templateElementItemAttribute.cloneNode(!0),p=this._getAttributeDisplayName(d),b=v.length-100>100;
f.dataset.name=d,f.querySelector(".name").textContent=p,f.querySelector(".value").textContent=b?v.substring(0,100):v,
f.querySelector(".ellipsis").hidden=!b,n.append(f)}}}catch(g){o=!0,s=g}finally{try{
a||null==u["return"]||u["return"]()}finally{if(o)throw s}}e.querySelector(".attributes").append(n);
},_updateElementItemAttribute:function(e,t){var n=void 0!==arguments[2]?arguments[2]:!0,r=e[m],i=r.getAttribute(t),a=this._getAttributeDisplayName(t);
if(null===i){var o=!0,s=!1,l=void 0;try{for(var u=void 0,d=e.querySelector(".attributes").children[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){
var h=u.value;if(h.dataset.name===t){h.remove();break}}}catch(v){s=!0,l=v}finally{
try{o||null==d["return"]||d["return"]()}finally{if(s)throw l}}}else{var f=null,p=i.length-100>100,b=!0,g=!1,y=void 0;
try{for(var x=void 0,_=e.querySelector(".attributes").children[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;if(w.dataset.name===t){f=w;break}}}catch(S){g=!0,y=S}finally{try{b||null==_["return"]||_["return"]();
}finally{if(g)throw y}}null===f&&(f=this._templateElementItemAttribute.cloneNode(!0),
f.dataset.name=t,f.querySelector(".name").textContent=a,e.querySelector(".attributes").append(f)),
f.querySelector(".value").textContent=p?i.substring(0,100):i,f.querySelector(".ellipsis").hidden=!p,
n&&(f.setAttribute("highlighted",""),c(500).then(function(){return f.removeAttribute("highlighted","");
}))}1===this.selectedNodes.length&&this.selectedNodes[0]===r&&this._scrollItemIntoView(e);
},_updateTextItemCharacterData:function(e){e.querySelector(".content").textContent=e[m].textContent;
},_createItem:function(e,t){var n=null;return"element"===e?(n=this._templateElementItem.cloneNode(!0),
n[m]=t,this._updateElementItemIcon(n),this._updateElementItemTagName(n),this._updateElementItemAttributes(n)):"text"===e&&(n=this._templateTextItem.cloneNode(!0),
n[m]=t,this._updateTextItemCharacterData(n)),n},_expandItem:function(e){if(e.hasAttribute("data-expanded")===!1){
var t=e.querySelector(".subtree"),n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[m].childNodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=null;if(s.nodeType===document.ELEMENT_NODE?l="element":s.nodeType===document.TEXT_NODE&&(l="text"),
l){var c=this._createItem(l,s);"text"===l&&u(s.textContent)&&c.setAttribute("hidden",""),
t.append(c),this.selectedNodes.includes(s)&&c.setAttribute("data-highlighted","");
}}}catch(d){r=!0,i=d}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}t.childElementCount>0&&e.setAttribute("data-expanded","")}},_collapseItem:function(e){
e.hasAttribute("data-expanded")&&(e.querySelector(".subtree").innerHTML="",e.removeAttribute("data-expanded"),
this._updateElementItemIcon(e))},_expandHighlightedItem:function(){var e=this["#tree"].querySelectorAll(".item[data-highlighted]");
1===e.length&&"element"===e[0].getAttribute("data-type")&&this._expandItem(e[0])},
_collapseHighlightedItem:function(){var e=this["#tree"].querySelectorAll(".item[data-highlighted]");
1===e.length&&"element"===e[0].getAttribute("data-type")&&this._collapseItem(e[0]);
},_selectPreviousItem:function(){var e=void 0!==arguments[0]?arguments[0]:!1;if(e===!1){
var t=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,n=null;
if(t){var r=$traceurRuntime.spread(this["#tree"].querySelectorAll(".item:not([hidden])")),i=r.find(function(e){
return e[m]===t}),a=r.indexOf(i);r[a-1]&&(n=r[a-1])}if(n){this._scrollItemIntoView(n);
var o=n[m];this.selectedNodes=[o];var s=null,l=[];if(body.canvas.isSelectableElement(o)){
for(var u=o.parentElement;u!==body.canvas.currentArtboard;u=u.parentElement)if("g"===u.localName||"a"===u.localName){
s=u;break}l=[o]}this._skipUpcomingSelectedCanvasElementsChange=!0,body.canvas.currentContainer=s,
body.canvas.selectedElements=l}}else if(e===!0){var c=$traceurRuntime.spread(this.selectedNodes);
if(c.length>0){var d=$traceurRuntime.spread(this["#tree"].querySelectorAll(".item:not([hidden])")),h=c[c.length-1],v=d.find(function(e){
return e[m]===h}),f=d.indexOf(v);if(f>0)for(var p=f-1;p>=0;p-=1){var b=d[p][m];if(c.includes(b)===!1){
this.selectedNodes=$traceurRuntime.spread(c,[b]),body.canvas.isSelectableElement(b)&&(this._skipUpcomingSelectedCanvasElementsChange=!0,
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[b]));
break}}}}},_selectNextItem:function(){var e=void 0!==arguments[0]?arguments[0]:!1;
if(e===!1){var t=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,n=null;
if(t){var r=$traceurRuntime.spread(this["#tree"].querySelectorAll(".item:not([hidden])")),i=r.find(function(e){
return e[m]===t}),a=r.indexOf(i);r[a+1]&&(n=r[a+1])}if(n){this._scrollItemIntoView(n);
var o=n[m];this.selectedNodes=[o];var s=null,l=[];if(body.canvas.isSelectableElement(o)){
for(var u=o.parentElement;u!==body.canvas.currentArtboard;u=u.parentElement)if("g"===u.localName||"a"===u.localName){
s=u;break}l=[o]}this._skipUpcomingSelectedCanvasElementsChange=!0,body.canvas.currentContainer=s,
body.canvas.selectedElements=l}}else if(e===!0){var c=$traceurRuntime.spread(this.selectedNodes);
if(c.length>0){var d=$traceurRuntime.spread(this["#tree"].querySelectorAll(".item:not([hidden])")),h=c[c.length-1],v=d.find(function(e){
return e[m]===h}),f=d.indexOf(v);if(f<d.length-1)for(var p=f+1;p<d.length;p+=1){var b=d[p][m];
if(c.includes(b)===!1){this.selectedNodes=$traceurRuntime.spread(c,[b]),body.canvas.isSelectableElement(b)&&(this._skipUpcomingSelectedCanvasElementsChange=!0,
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[b]));
break}}}}},_scrollItemIntoView:function(e){var t=this["#main"].scrollTop,n=e.getBoundingClientRect().top-this["#tree"].getBoundingClientRect().top;
if(0>n-t)this["#main"].scrollTop=n;else if(e.hasAttribute("data-expanded")){var r=e.querySelector(".tag").getBoundingClientRect().height;
n+r-t>this["#main"].clientHeight&&(this["#main"].scrollTop=n+r-this["#main"].clientHeight);
}else n+e.clientHeight-t>this["#main"].clientHeight&&(this["#main"].scrollTop=n+e.clientHeight-this["#main"].clientHeight);
},_deleteSelectedNodes:function(){body.canvas.undoManager.checkpoint("Delete");var e=s(this.outermostSelectedNodes),t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;
o.remove()}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]()}finally{
if(n)throw r}}this._skipUpcomingSelectedCanvasElementsChange=!0,this.selectedNodes=[],
body.canvas.currentContainer=null,body.canvas.selectedElements=[]},_canMoveNodes:function(e,t){
var n=void 0!==arguments[2]?arguments[2]:"afterend",r=!0;if(0===e.length)r=!1;else{
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if(this._canMoveNode(u,t,n)===!1){r=!1;break}}}catch(c){a=!0,o=c}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}}return r},_canMoveNode:function(e,t){
var n=void 0!==arguments[2]?arguments[2]:"afterend";if(t.parentNode===body.canvas.artboards)return!1;
if(e.contains(t))return!1;if("beforebegin"===n){var r=this._getNodeContentSchema(t.parentNode);
if(r.includes(e.nodeName)===!1)return!1;if(t.previousSibling&&t.previousSibling===e)return!1;
}else if("afterend"===n){var i=this._getNodeContentSchema(t.parentNode);if(i.includes(e.nodeName)===!1)return!1;
if(t.nextSibling&&t.nextSibling===e)return!1}else if("afterbegin"===n){var a=this._getNodeContentSchema(t);
if(a.includes(e.nodeName)===!1)return!1;if(t.firstChild&&t.firstChild===e)return!1;
}else if("beforeend"===n){var o=this._getNodeContentSchema(t);if(o.includes(e.nodeName)===!1)return!1;
if(t.lastChild&&t.lastChild===e)return!1}return!0},_cut:function(){console.log("cut");
},_copy:function(){console.log("copy")},_paste:function(){console.log("paste")},_selectAll:function(){
var e=this._shadowRoot.querySelector("[contenteditable]");if(e)if(e.matches(".tag-name")||e.matches(".attribute")){
var t=new Range;t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),
n.addRange(t)}else e.matches(".text-content")},_deselectAll:function(){console.log("deselect all");
},_editTagName:function(e){var t,n,i,o=this,s=e.querySelector(".tag-name"),l=s.textContent,u=e[m],c=!0;
if(!s.hasAttribute("contenteditable")){s.setAttribute("contenteditable",""),s.focus(),
this._selectAll(),body.canvas.textInputMode=!0;var d=function(e){var t=e;return"title"===e?t="_title":e.startsWith("bx:")&&(t=e.replace("bx:","bx-")),
t},h=function(e){var t=e.getAttribute("is");return t.substring(3,t.indexOf("artboard"));
},p=function(e){var t=f.fromEvent(e);(t.matches("Enter")||t.matches("Escape")||t.matches("Backspace")||t.matches("ArrowLeft")||t.matches("ArrowRight")||t.matches("ArrowUp")||t.matches("ArrowDown")||t.matches("Shift","ArrowLeft")||t.matches("Shift","ArrowRight")||t.matches("Shift","ArrowUp")||t.matches("Shift","ArrowDown"))&&e.stopPropagation(),
t.matches("Enter")?(e.preventDefault(),o.focus()):t.matches("Escape")&&(c=!0,o.focus());
},b=function(){var e=s.textContent,t=d(e),n=!1;if(u===body.canvas.currentArtboard)n=t!==d(h(u)),
c=!0;else{var r=v[u.parentElement.nodeName]||[];r.includes(t)?(n=!1,c=t===d(l)):(n=!0,
c=!0)}n?s.setAttribute("data-invalid",""):s.removeAttribute("data-invalid")},g=function(){
if(s.removeEventListener("blur",i),s.removeEventListener("keydown",t),s.removeEventListener("input",n),
s.removeAttribute("contenteditable"),s.removeAttribute("data-invalid"),body.canvas.textInputMode=!1,
c)s.textContent=l;else{body.canvas.undoManager.checkpoint("Rename element");var h=(s.textContent,
d(s.textContent)),f=a("svg:"+h),p=r(f),b=!0,g=!1,y=void 0;try{for(var x=void 0,_=u.attributes[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value,S=w.name,k=w.value;(p.includes(S)||S.startsWith("data-"))&&f.setAttribute(S,k);
}}catch(C){g=!0,y=C}finally{try{b||null==_["return"]||_["return"]()}finally{if(g)throw y;
}}u.replace(f);var R=!0,M=!1,E=void 0;try{for(var P=void 0,A=$traceurRuntime.spread(u.childNodes)[Symbol.iterator]();!(R=(P=A.next()).done);R=!0){
var T=P.value;v[h].includes(T.nodeName)&&f.append(T)}}catch(L){M=!0,E=L}finally{try{
R||null==A["return"]||A["return"]()}finally{if(M)throw E}}e[m]=f,o.selectedNodes=o.selectedNodes.map(function(e){
return e===u?f:e}),body.canvas.selectedElements.includes(u)?(o._skipUpcomingSelectedCanvasElementsChange=!0,
body.canvas.isSelectableElement(f)?body.canvas.selectedElements=body.canvas.selectedElements.map(function(e){
return e===u?f:e}):body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==u})):body.canvas.isSelectableElement(f)&&(o._skipUpcomingSelectedCanvasElementsChange=!0,
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[f]));
}};s.addEventListener("keydown",t=function(e){return p(e)}),s.addEventListener("input",n=function(){
return b()}),s.addEventListener("blur",i=function(){return g()})}},_editAttribute:function(e,r){
var i=this,a=e.querySelector('.attribute[data-name="'+r+'"]');if(!a.hasAttribute("contenteditable")){
this._expandAttribute(e,r);var o,s,l,u=(a.querySelector(".name").textContent,e[m]),d=!0,h=a.innerHTML,v=r;
u.getAttribute(r);a.innerHTML=a.innerText,a.style.setProperty("transition","none"),
a.setAttribute("contenteditable",""),a.focus(),this._selectAll(),body.canvas.textInputMode=!0;
var p=a.textContent.indexOf('"'),b=a.textContent.lastIndexOf('"');if(p>=0&&b>=0&&p!==b){
var g=new Range;g.setStart(a.firstChild,p+1),g.setEnd(a.firstChild,b);var y=window.getSelection();
y.removeAllRanges(),y.addRange(g)}else this._selectAll();var x=function(e){var t=f.fromEvent(e);
(t.matches("Enter")||t.matches("Escape")||t.matches("Backspace")||t.matches("ArrowLeft")||t.matches("ArrowRight")||t.matches("ArrowUp")||t.matches("ArrowDown")||t.matches("Shift","ArrowLeft")||t.matches("Shift","ArrowRight")||t.matches("Shift","ArrowUp")||t.matches("Shift","ArrowDown"))&&e.stopPropagation(),
t.matches("Enter")?(e.preventDefault(),i.focus()):t.matches("Escape")&&(d=!0,i.focus());
},_=function(){var e,r,i=a.textContent,o=t(i),s=(e=o[Symbol.iterator](),(r=e.next()).done?void 0:r.value),l=(r=e.next()).done?void 0:r.value;
"href"===s&&"a"===u.localName&&(s="_href"),""===s&&""===l?(a.removeAttribute("data-invalid"),
d=!1):n(u,s,l)===!0?(a.removeAttribute("data-invalid"),d=!1):(a.setAttribute("data-invalid",""),
d=!0)},w=function(){var e,n;if(a.removeEventListener("blur",l),a.removeEventListener("keydown",o),
a.removeEventListener("input",s),a.removeAttribute("contenteditable"),a.removeAttribute("data-invalid"),
c(100).then(function(){return a.style.removeProperty("transition")}),body.canvas.textInputMode=!1,
d)a.innerHTML=h;else{body.canvas.undoManager.checkpoint("Edit attribute");var r=a.textContent,i=t(r),f=(e=i[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),m=(n=e.next()).done?void 0:n.value;a.innerHTML=h,
""===f&&""===m?u.removeAttribute(v):u.setAttribute(f,m)}};a.addEventListener("keydown",o=function(e){
return x(e)}),a.addEventListener("input",s=function(){return _()}),a.addEventListener("blur",l=function(){
return w()})}},_expandAttribute:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e.querySelector(".attributes").children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(s.dataset.name===t){s.querySelector(".value").textContent=e[m].getAttribute(t),
s.querySelector(".ellipsis").hidden=!0;break}}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}},_getNodeContentSchema:function(e){var t=v[e.nodeName]||[];
if(e.hasAttribute&&e.hasAttribute("is")){var n=e.getAttribute("is");"bx-svgartboard"===n?t=v.svg:"bx-patternartboard"===n?t=v.pattern:"bx-symbolartboard"===n&&(t=v.symbol);
}return t},_getAttributeDisplayName:function(e){var t=e;return e.startsWith("data-bx-")?t=e.replace("data-bx-","bx:"):"_href"===e&&(t="href"),
t},_getItemForClientY:function(e){var t=function(n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l.getBoundingClientRect();if(e>=u.y&&e<=u.y+u.height){if(l.hasAttribute("data-expanded")){
var c=l.querySelector(".subtree"),d=t(c);return d||l}return l}}}catch(h){i=!0,a=h;
}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return null;
},n=t(this["#tree"]);return n}},{},e)}(HTMLElement),_=o("bx-domeditor",x);return{
get default(){return _}}}),$traceurRuntime.registerModule("elements/bx-editorbody",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-body","elements/bx-editorbody"))["default"];
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-canvas","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-dock","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-panel","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-breadcrumb","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-inspector","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-paintcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fillcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-strokecontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-compositingcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-maskcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-typographycontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-viewcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-arrangementcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-defscontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-pathcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-exportcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-geometrycontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-transformtoolcontrols","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-transformtool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-edittool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-quadbeziertool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-cubicbeziertool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-freehandtool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-texttool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-triangletool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-rectangletool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ellipsetool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ngontool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-startool","elements/bx-editorbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-ringtool","elements/bx-editorbody"));
var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-editorbody")).rasterizeArtwork,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-general","elements/bx-editorbody")).isArtworkString,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-export","elements/bx-editorbody")).exportArtwork,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-import","elements/bx-editorbody")).importArtwork,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-editorbody")).getClientBBox,o=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-editorbody")).parseSVG,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-editorbody")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-editorbody"))),s=o.getDefFromURL,l=o.getPaintServer,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","elements/bx-editorbody")).getParentPattern,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-editorbody")),d=c.getPathDataBySubpath,h=c.reversePath,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-boolops","elements/bx-editorbody")),f=v.unite,m=v.subtract,p=v.intersect,b=v.exclude,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-editorbody")).combineRects,y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/string","elements/bx-editorbody")),x=y.capitalize,_=y.toDashCase,w=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-editorbody")).reduceProperty,S=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-editorbody")),k=S.getTspansIntersectedByRange,C=S.spanifyText,R=S.reduceText,M=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-editorbody")).sleep,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-editorbody"))),E=M.getComputedTransformOriginClientPoint,P=M.getTransformToElement,A=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-editorbody")).reduceTransform,T=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-editorbody")).graphicsElementNames,L=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-editorbody")),N=L.createElement,$=L.registerElement,O=L.getElementIndex,V=L.queryClippingElements,j=L.sortByDomPosition,z=L.sortBySiblingElements,I=L.sortByIntersectingElements,D=L.isElementIntersectingElement,G=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-conversion","elements/bx-editorbody")),B=G.rectToPath,U=G.circleToPath,H=G.ellipseToPath,F=G.lineToPath,q=G.polylineToPath,W=G.polygonToPath,Y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-editorbody"))["default"],X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>',Z='\n  <style>@import url("stylesheets/bx-editorbody.css");</style>\n\n  <main>\n    <bx-canvas id="canvas"></bx-canvas>\n    <bx-breadcrumb id="breadcrumb"></bx-breadcrumb>\n\n    <bx-dock id="primary-dock">\n      <bx-button\n        title="Transform Tool"\n        icon="transform-tool"\n        skin="bx-dock"\n        href="#transform-tool-panel"\n        althref="#transform-tool">\n      </bx-button>\n\n      <bx-button\n        title="Edit Tool"\n        icon="edit-tool"\n        skin="bx-dock"\n        althref="#edit-tool">\n      </bx-button>\n\n      <bx-button\n        title="Quad Bezier Tool"\n        icon="quad-bezier-tool"\n        skin="bx-dock"\n        althref="#quad-bezier-tool">\n      </bx-button>\n\n      <bx-button\n        title="Cubic Bezier Tool"\n        icon="cubic-bezier-tool"\n        skin="bx-dock"\n        althref="#cubic-bezier-tool">\n      </bx-button>\n\n      <bx-button id="freehand"\n        title="Freehand Tool"\n        icon="freehand-tool"\n        skin="bx-dock"\n        althref="#freehand-tool">\n      </bx-button>\n\n      <bx-button\n        title="Text Tool"\n        icon="text-tool"\n        skin="bx-dock"\n        althref="#text-tool">\n      </bx-button>\n\n      <bx-button\n        title="Triangle Tool"\n        icon="triangle-tool"\n        skin="bx-dock"\n        althref="#triangle-tool">\n      </bx-button>\n\n      <bx-button\n        title="Rectangle Tool"\n        icon="rectangle-tool"\n        skin="bx-dock"\n        althref="#rectangle-tool">\n      </bx-button>\n\n      <bx-button\n        title="N-gon Tool"\n        icon="n-gon-tool"\n        skin="bx-dock"\n        althref="#n-gon-tool">\n      </bx-button>\n\n      <bx-button\n        title="Star Tool"\n        icon="star-tool"\n        skin="bx-dock"\n        althref="#star-tool">\n      </bx-button>\n\n      <bx-button\n        title="Ellipse Tool"\n        icon="ellipse-tool"\n        skin="bx-dock"\n        althref="#ellipse-tool">\n      </bx-button>\n\n      <bx-button\n        title="Ring Tool"\n        icon="ring-tool"\n        skin="bx-dock"\n        althref="#ring-tool">\n      </bx-button>\n    </bx-dock>\n\n    <bx-dock id="secondary-dock">\n      <bx-button\n        title="Fill Panel"\n        icon="fill-panel"\n        iconsize="23"\n        skin="bx-dock"\n        href="#fill-panel">\n      </bx-button>\n\n      <bx-button\n        title="Stroke Panel"\n        icon="stroke-panel"\n        skin="bx-dock"\n        href="#stroke-panel">\n      </bx-button>\n\n      <bx-button\n        title="Compositing Panel"\n        icon="compositing-panel"\n        skin="bx-dock"\n        href="#compositing-panel">\n      </bx-button>\n\n      <bx-button\n        title="View Panel"\n        icon="view-panel"\n        skin="bx-dock"\n        href="#view-panel">\n      </bx-button>\n\n      <bx-button\n        title="Arrangement Panel"\n        icon="arrangement-panel"\n        skin="bx-dock"\n        href="#arrangement-panel">\n      </bx-button>\n\n      <bx-button\n        title="Typography Panel"\n        icon="typography-panel"\n        iconsize="22"\n        skin="bx-dock"\n        href="#typography-panel">\n      </bx-button>\n\n      <bx-button\n        title="Defs Panel"\n        icon="defs-panel"\n        skin="bx-dock"\n        href="#defs-panel">\n      </bx-button>\n\n      <bx-button\n        title="Mask Panel"\n        icon="mask-panel"\n        skin="bx-dock"\n        href="#mask-panel">\n      </bx-button>\n\n      <bx-button\n        title="Geometry Panel"\n        icon="geometry-panel"\n        skin="bx-dock"\n        href="#geometry-panel">\n      </bx-button>\n\n      <bx-button\n        title="Path Panel"\n        icon="path-panel"\n        skin="bx-dock"\n        href="#path-panel">\n      </bx-button>\n\n      <bx-button\n        title="Export Panel"\n        icon="export-panel"\n        skin="bx-dock"\n        href="#export-panel">\n      </bx-button>\n    </bx-dock>\n\n    <div id="tools">\n      <bx-transformtool id="transform-tool"></bx-transformtool>\n      <bx-edittool id="edit-tool"></bx-edittool>\n      <bx-quadbeziertool id="quad-bezier-tool"></bx-quadbeziertool>\n      <bx-cubicbeziertool id="cubic-bezier-tool"></bx-cubicbeziertool>\n      <bx-freehandtool id="freehand-tool"></bx-freehandtool>\n      <bx-texttool id="text-tool"></bx-texttool>\n      <bx-triangletool id="triangle-tool"></bx-triangletool>\n      <bx-rectangletool id="rectangle-tool"></bx-rectangletool>\n      <bx-ellipsetool id="ellipse-tool"></bx-ellipsetool>\n      <bx-ngontool id="n-gon-tool"></bx-ringtool>\n      <bx-startool id="star-tool"></bx-startool>\n      <bx-ringtool id="ring-tool"></bx-ringtool>\n    </div>\n\n    <bx-inspector id="inspector"></bx-inspector>\n\n    <div id="primary-panels">\n      <bx-panel id="transform-tool-panel" label="Transform Tool">\n        <bx-transformtoolcontrols></bx-transformtoolcontrols>\n      </bx-panel>\n    </div>\n\n    <div id="secondary-panels">\n      <bx-panel id="fill-panel" label="Fill">\n        <bx-paintcontrols context="fill"></bx-paintcontrols>\n        <bx-fillcontrols></bx-fillcontrols>\n      </bx-panel>\n\n      <bx-panel id="stroke-panel" label="Stroke">\n        <bx-paintcontrols context="stroke"></bx-paintcontrols>\n        <bx-strokecontrols></bx-strokecontrols>\n      </bx-panel>\n\n      <bx-panel id="compositing-panel" label="Compositing">\n        <bx-compositingcontrols></bx-compositingcontrols>\n      </bx-panel>\n\n      <bx-panel id="typography-panel" label="Typography">\n        <bx-typographycontrols></bx-typographycontrols>\n      </bx-panel>\n\n      <bx-panel id="view-panel" height="497" label="View" help="http://sarasoueidan.com/blog/svg-coordinate-systems/">\n        <bx-viewcontrols></bx-viewcontrols>\n      </bx-panel>\n\n      <bx-panel id="arrangement-panel" label="Arrangement">\n        <bx-arrangementcontrols></bx-arrangementcontrols>\n      </bx-panel>\n\n      <bx-panel id="defs-panel" label="Defs">\n        <bx-defscontrols></bx-defscontrols>\n      </bx-panel>\n\n      <bx-panel id="mask-panel" label="Mask">\n        <bx-maskcontrols></bx-maskcontrols>\n      </bx-panel>\n\n      <bx-panel id="geometry-panel" label="Geometry">\n        <bx-geometrycontrols></bx-geometrycontrols>\n      </bx-panel>\n\n      <bx-panel id="path-panel" label="Path">\n        <bx-pathcontrols></bx-pathcontrols>\n      </bx-panel>\n\n      <bx-panel id="export-panel" label="Export">\n        <bx-exportcontrols></bx-exportcontrols>\n      </bx-panel>\n    </div>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n      <bx-menuitem commandid="duplicate" label="Duplicate"></bx-menuitem>\n      <bx-menuitem commandid="delete" label="Delete"></bx-menuitem>\n      <hr/>\n      <bx-menuitem commandid="raise" label="Raise"></bx-menuitem>\n      <bx-menuitem commandid="lower" label="Lower"></bx-menuitem>\n      <hr/>\n      <bx-menuitem commandid="group" label="Group"></bx-menuitem>\n      <bx-menuitem commandid="ungroup" label="Ungroup"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n',K=function(e){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e,t,n,a,s,l,u;return $traceurRuntime.asyncWrap(function(c){
for(;;)switch(c.state){case 0:e=this,$traceurRuntime.superGet(this,o.prototype,"createdCallback").call(this),
this.commands={transformTool:{exec:function(){return e.toggleTool("transform-tool");
}},editTool:{exec:function(){return e.toggleTool("edit-tool")}},quadBezierTool:{exec:function(){
return e.toggleTool("quad-bezier-tool")}},cubicBezierTool:{exec:function(){return e.toggleTool("cubic-bezier-tool");
}},freehandTool:{exec:function(){return e.toggleTool("freehand-tool")}},textTool:{
exec:function(){return e.toggleTool("text-tool")}},triangleTool:{exec:function(){
return e.toggleTool("triangle-tool")}},rectangleTool:{exec:function(){return e.toggleTool("rectangle-tool");
}},ellipseTool:{exec:function(){return e.toggleTool("ellipse-tool")}},nGonTool:{exec:function(){
return e.toggleTool("n-gon-tool")}},starTool:{exec:function(){return e.toggleTool("star-tool");
}},ringTool:{exec:function(){return e.toggleTool("ring-tool")}},fillPanel:{exec:function(){
return e.toggleSecondaryPanel("fill-panel")}},strokePanel:{exec:function(){return e.toggleSecondaryPanel("stroke-panel");
}},compositingPanel:{exec:function(){return e.toggleSecondaryPanel("compositing-panel");
}},maskPanel:{exec:function(){return e.toggleSecondaryPanel("mask-panel")}},geometryPanel:{
exec:function(){return e.toggleSecondaryPanel("geometry-panel")}},typographyPanel:{
exec:function(){return e.toggleSecondaryPanel("typography-panel")}},pathPanel:{exec:function(){
return e.toggleSecondaryPanel("path-panel")}},exportPanel:{exec:function(){return e.toggleSecondaryPanel("export-panel");
}},viewPanel:{exec:function(){return e.toggleSecondaryPanel("view-panel")}},arrangementPanel:{
exec:function(){return e.toggleSecondaryPanel("arrangement-panel")}},defsPanel:{exec:function(){
return e.toggleSecondaryPanel("defs-panel")}},zoomIn:{exec:function(){return e.canvas.zoomBy(.3);
}},zoomOut:{exec:function(){return e.canvas.zoomBy(-.3)}},resetZoom:{enabled:function(){
return 100!==e.canvas.zoom},exec:function(){return e.canvas.resetZoom()}},zoomToFitAll:{
exec:function(){return e.canvas.zoomToFitAll()}},zoomToViewBox:{enabled:function(){
return e.canvas.currentArtboard.hasAttribute("viewBox")},exec:function(){return e.canvas.zoomToCurrentArtboardViewBox();
}},zoomToViewBoxWidth:{enabled:function(){return e.canvas.currentArtboard.hasAttribute("viewBox");
},exec:function(){return e.canvas.zoomToCurrentArtboardViewBoxWidth()}},zoomToViewBoxHeight:{
enabled:function(){return e.canvas.currentArtboard.hasAttribute("viewBox")},exec:function(){
return e.canvas.zoomToCurrentArtboardViewBoxHeight()}},undo:{enabled:function(){return e.canvas.undoManager.canUndo()&&e.isPointerDown===!1;
},exec:function(){return e.canvas.undoManager.undo()}},redo:{enabled:function(){return e.canvas.undoManager.canRedo()&&e.isPointerDown===!1;
},exec:function(){return e.canvas.undoManager.redo()}},group:{enabled:function(){
return e._canGroup()},exec:function(){return e._group()}},ungroup:{enabled:function(){
return e._canUngroup()},exec:function(){return e._ungroup()}},convertToPath:{enabled:function(){
return e._canConvertToPath()},exec:function(){return e._convertToPath()}},reversePath:{
enabled:function(){return e._canReversePath()},exec:function(){return e._reversePath();
}},unite:{enabled:function(){return e._canPerformBooleanOperation()},exec:function(){
return e._performBooleanOperation("unite")}},subtract:{enabled:function(){return e._canPerformBooleanOperation();
},exec:function(){return e._performBooleanOperation("subtract")}},intersect:{enabled:function(){
return e._canPerformBooleanOperation()},exec:function(){return e._performBooleanOperation("intersect");
}},exclude:{enabled:function(){return e._canPerformBooleanOperation()},exec:function(){
return e._performBooleanOperation("exclude")}},combine:{enabled:function(){return e._canCombine();
},exec:function(){return e._combine()}},breakApart:{enabled:function(){return e._canBreakApart();
},exec:function(){return e._breakApart()}},raise:{enabled:function(){return e._canRaise();
},exec:function(){return e._raise()}},raiseToFront:{enabled:function(){return e._canRaise();
},exec:function(){return e._raiseToFront()}},lower:{enabled:function(){return e._canLower();
},exec:function(){return e._lower()}},lowerToBack:{enabled:function(){return e._canLower();
},exec:function(){return e._lowerToBack()}},clip:{enabled:function(){return e._canClip();
},exec:function(){return e._clip()}},unclip:{enabled:function(){return e._canUnclip();
},exec:function(){return e._unclip()}},mask:{enabled:function(){return e._canMask();
},exec:function(){return e._mask()}},unmask:{enabled:function(){return e._canUnmask();
},exec:function(){return e._unmask()}},rotateClockwise:{enabled:function(){return e._canRotate();
},exec:function(){return e._rotate(90)}},rotateCounterclockwise:{enabled:function(){
return e._canRotate()},exec:function(){return e._rotate(-90)}},flipX:{enabled:function(){
return e._canFlip()},exec:function(){return e._flip("x")}},flipY:{enabled:function(){
return e._canFlip()},exec:function(){return e._flip("y")}},moveOneUnitLeft:{enabled:function(){
return e._canMove()},exec:function(){return e._move(1,"left")}},moveOneUnitRight:{
enabled:function(){return e._canMove()},exec:function(){return e._move(1,"right");
}},moveOneUnitUp:{enabled:function(){return e._canMove()},exec:function(){return e._move(1,"up");
}},moveOneUnitDown:{enabled:function(){return e._canMove()},exec:function(){return e._move(1,"down");
}},moveTenUnitsLeft:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"left");
}},moveTenUnitsRight:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"right");
}},moveTenUnitsUp:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"up");
}},moveTenUnitsDown:{enabled:function(){return e._canMove()},exec:function(){return e._move(10,"down");
}},selectAll:{exec:function(){return e.canvas.selectAll()}},deselectAll:{enabled:function(){
return e.canvas.selectedElements.length>0},exec:function(){return e.canvas.selectedElements=[];
}},copy:{enabled:function(){return e.canvas.selectedElements.length>0},exec:function(){
return e._copy()}},cut:{enabled:function(){return e.canvas.selectedElements.length>0;
},exec:function(){return e._cut()}},paste:{exec:function(){return e._paste()}},duplicate:{
enabled:function(){return e.canvas.selectedElements.length>0},exec:function(){return e._duplicate();
}},"delete":{enabled:function(){return e.canvas.selectedElements.length>0},exec:function(){
return e._delete()}},grabPaintColor:{enabled:function(){return e.canvas.selectedElements.length>0;
},exec:function(){return e._grabPaintColor()}},inspector:{enabled:function(){return!0;
},exec:function(){return e["#inspector"].enabled=!e["#inspector"].enabled}},previousTool:{
enabled:function(){return null!==e._previousToolID},exec:function(){return e.toggleTool(e._previousToolID);
}}},this._assignedShortcuts=[],this._restrictedFeatures=[],this._previousToolID=null,
this._isGrabbingPaintColor=!1,this._shadowRoot=this.createShadowRoot(),this._shadowRoot.innerHTML=Z,
t=!0,n=!1,a=void 0;try{for(s=void 0,l=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(s=l.next()).done);t=!0)u=s.value,
this["#"+u.id]=u}catch(d){n=!0,a=d}finally{try{t||null==l["return"]||l["return"]();
}finally{if(n)throw a}}this._shadowRoot.addEventListener("contextmenu",function(t){
return e._onContextMenu(t)}),this["#primary-dock"].addEventListener("click",function(t){
return e._onPrimaryDockClick(t)}),this["#secondary-dock"].addEventListener("click",function(t){
return e._onSecondaryDockClick(t)}),this["#context-menu"].menuWillShow=function(t){
return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)},this["#context-menu"].addEventListener("menuitemtrigger",function(t){
return e.execCommand(t.detail.commandID)}),this.bridge.addMessageListener("getArtwork",function(t,n){
var i,a,o;return $traceurRuntime.asyncWrap(function(t){for(;;)switch(t.state){case 0:
e.canvas.removeUnusedDefs(),i=e.canvas.extractArtwork(),t.state=5;break;case 5:return void Promise.resolve(e.getConfig("bx-preferences:indentation")).then(t.createCallback(3),t.errback);
case 3:a=t.value,t.state=2;break;case 2:a=null===a?2:a,o=r(i,"xml",a),n(o),t.state=-2;
break;default:return t.end()}},this)}),this.bridge.addMessageListener("getArtworkFromSelectedElements",function(t,n){
var r=e._getArtworkFromSelectedElements();n(r)}),this.bridge.addMessageListener("setArtwork",function(t){
var n=i(t);e.canvas.loadArtwork(n)}),this.bridge.addMessageListener("event:assignedshortcutschange",function(t){
e._assignedShortcuts=t}),this.bridge.addMessageListener("init",function(t,n){var r=t,a=r.artwork,o=r.restrictedFeatures,s=r.assignedShortcuts;
e._restrictedFeatures=o||[],e._assignedShortcuts=s||[];var l=!0,u=!1,c=void 0;try{
for(var d=void 0,h=e["#primary-dock"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;o.includes(v.althref.substring(1))&&v.remove()}}catch(f){u=!0,c=f}finally{
try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}var m=!0,p=!1,b=void 0;
try{for(var g=void 0,y=e["#secondary-dock"].children[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;o.includes(x.href.substring(1))&&x.remove()}}catch(w){p=!0,b=w}finally{
try{m||null==y["return"]||y["return"]()}finally{if(p)throw b}}var S=!0,k=!1,C=void 0;
try{for(var R=void 0,M=e["#context-menu"].children[Symbol.iterator]();!(S=(R=M.next()).done);S=!0){
var E=R.value;E.commandID&&o.includes(_(E.commandID))&&E.remove()}}catch(P){k=!0,
C=P}finally{try{S||null==M["return"]||M["return"]()}finally{if(k)throw C}}o.includes("hamburger-app-menu")===!1&&e["#primary-dock"].setAttribute("data-extra-whitespace",""),
o.includes("chrome-dev-tools")&&e.addEventListener("contextmenu",function(e){return e.preventDefault();
}),e.canvas.loadArtwork(i(a)),n()}),this.toggleTool("transform-tool"),c.state=-2;break;
default:return c.end()}},this)},get canvas(){return this._shadowRoot.querySelector("#canvas");
},get restrictedFeatures(){return this._restrictedFeatures},get currentTool(){var e=this["#primary-dock"].querySelector("bx-button[pressed]");
if(e){var t=e.althref.slice(1),n=this["#tools"].querySelector("#"+t);if(n)return n;
}return null},get currentPrimaryPanel(){var e=this["#primary-dock"].querySelector("bx-button[pressed]");
if(e){var t=e.href.slice(1),n=this["#primary-panels"].querySelector("#"+t);if(n&&n.enabled)return n;
}return null},get currentSecondaryPanel(){var e=this["#secondary-dock"].querySelector("bx-button[pressed]");
if(e){var t=e.href.slice(1),n=this["#secondary-panels"].querySelector("#"+t);if(n)return n;
}return null},toggleTool:function(e){var t=this["#tools"].querySelector("#"+e);if(t){
var n=this["#primary-dock"].querySelector('bx-button[althref="#'+e+'"]');if(n.pressed===!1){
var r=this["#primary-dock"].querySelector("bx-button[pressed]");if(r){r.pressed=!1,
this._previousToolID=r.althref.substring(1);var i=r.althref.slice(1),a=this["#tools"].querySelector("#"+i);
a&&(a.enabled=!1,this.togglePrimaryPanel(null))}n.pressed=!0,t.enabled=!0,this.dispatchEvent(new CustomEvent("toolchange",{
detail:e})),this.bridge.postMessage("event:toolchange",e.toCamelCase())}}},togglePrimaryPanel:function(e){
if(null===e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#primary-panels"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.enabled===!0&&(o.enabled=!1,this.bridge.postMessage("event:primarypanelchange",null));
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}}else{var l=this["#primary-panels"].querySelector("#"+e);if(l){this["#primary-dock"].querySelector('bx-button[href="#'+e+'"]');
if(l.enabled)l.enabled=!1;else{var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this["#primary-panels"].children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;f.id===e?f.enabled=!0:f.enabled=!1}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}}this.bridge.postMessage("event:primarypanelchange",e.toCamelCase());
}}},toggleSecondaryPanel:function(e){var t=this["#secondary-panels"].querySelector("#"+e);
if(t){var n=this["#secondary-dock"].querySelector('bx-button[href="#'+e+'"]');if(n.pressed)n.pressed=!1,
t.enabled=!1,this.bridge.postMessage("event:secondarypanelchange",null);else{var r=this["#secondary-dock"].querySelector("bx-button[pressed]");
if(r){r.pressed=!1;var i=r.href.slice(1),a=this["#secondary-panels"].querySelector("#"+i);
a&&(a.enabled=!1)}n.pressed=!0,t.enabled=!0,this.bridge.postMessage("event:secondarypanelchange",e.toCamelCase());
}}},rasterizeArtwork:function(e){var n=void 0!==arguments[1]?arguments[1]:"png",i=void 0!==arguments[2]?arguments[2]:1,a=void 0!==arguments[3]?arguments[3]:"#ffffff",o=this;
return new Promise(function(s){var l,u;return $traceurRuntime.asyncWrap(function(c){
for(;;)switch(c.state){case 0:c.state=o.restrictedFeatures.includes("rasterizer")===!1?6:1;
break;case 6:l={artwork:r(e,"xml"),format:n,compression:i,backgroundColor:a},o.bridge.postMessage("rasterizeArtwork",l,function(e){
return s(e)}),c.state=-2;break;case 1:return void Promise.resolve(t(e,n,i,a)).then(c.createCallback(3),c.errback);
case 3:u=c.value,c.state=2;break;case 2:s(u),c.state=-2;break;default:return c.end();
}},this)})},_onKeyDown:function(e){$traceurRuntime.superGet(this,o.prototype,"_onKeyDown").call(this,e);
var t=Y.fromEvent(e);this.canvas.selectedElements.length>0&&(t.matches("Backspace")?this._delete():t.matches("ArrowDown")?this._move(1,"down"):t.matches("ArrowUp")?this._move(1,"up"):t.matches("ArrowLeft")?this._move(1,"left"):t.matches("ArrowRight")?this._move(1,"right"):t.matches("Shift","ArrowDown")?this._move(10,"down"):t.matches("Shift","ArrowUp")?this._move(10,"up"):t.matches("Shift","ArrowLeft")?this._move(10,"left"):t.matches("Shift","ArrowRight")&&this._move(10,"right"));
var n=t.toString();this._assignedShortcuts.includes(n)&&e.preventDefault(),this.bridge.postMessage("event:shortcutpress",n);
},_onPrimaryDockClick:function(e){e.target!==this["#primary-dock"]&&this._onPrimaryDockButtonClick(e);
},_onSecondaryDockClick:function(e){e.target!==this["#secondary-dock"]&&this._onSecondaryDockButtonClick(e);
},_onPrimaryDockButtonClick:function(e){var t=e.target,n=t.althref.slice(1);if(n===this.currentTool.id){
var r=t.href.slice(1);r&&this.togglePrimaryPanel(r)}else this.toggleTool(n)},_onSecondaryDockButtonClick:function(e){
var t=e.target,n=t.href.slice(1);this.toggleSecondaryPanel(n)},_onContextMenu:function(e){
this.canvas.contains(e.target)&&(e.preventDefault(),this["#context-menu"].open(e.clientX,e.clientY));
},_menuWillShow:function(e){var t=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_getArtworkFromSelectedElements:function(){
if(0===this.canvas.selectedElements.length)return X;this.canvas.removeUnusedDefs();
var e=this.canvas.extractArtworkWithSelectedElements(),t=r(e,"xml");return t},_copy:function(){
var e,t,n,i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){
case 0:this.canvas.removeUnusedDefs(),e=this.canvas.extractArtworkWithSelectedElements(),
o.state=5;break;case 5:return void Promise.resolve(this.getConfig("bx-preferences:indentation")).then(o.createCallback(3),o.errback);
case 3:t=o.value,o.state=2;break;case 2:t=null===t?2:t,n=r(e,"html",t),i=r(e,"xml",t),
a={"text/plain":n,"text/html":n,"image/svg+xml":i},this.bridge.postMessage("setClipboardData",a),
o.state=-2;break;default:return o.end()}},this)},_paste:function(){var e=this,t=this.canvas.matches(":hover")?"pointer":"canvasCenter";
this.bridge.postMessage("getClipboardData",null,function(r){if(r["text/html"]&&n(r["text/html"])){
e.canvas.undoManager.checkpoint("Paste");var a=i(r["text/html"]);e.canvas.insertArtwork(a,t);
}else if(r["text/plain"]){e.canvas.undoManager.checkpoint("Paste");var o=i('<svg><text style="font-size: 36; font-family: Roboto; white-space: pre;">'+r["text/plain"]+"</text></svg>\n        ");
e.canvas.insertArtwork(o,t)}else if(r["image/png"]){e.canvas.undoManager.checkpoint("Paste");
var s=r["image/png"];e.canvas.insertBitmap(s,t)}})},_cut:function(){this.canvas.undoManager.checkpoint("Cut"),
this._copy();var e=j(this.canvas.outermostSelectedElements);e.reverse(),this.canvas.selectedElements=[];
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.remove()}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_delete:function(){if(this.canvas.selectedElements.length>0){
this.canvas.undoManager.checkpoint("Delete");var e=j(this.canvas.outermostSelectedElements);
e.reverse(),this.canvas.selectedElements=[];var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.remove()}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}}},_duplicate:function(){this.canvas.undoManager.checkpoint("Duplicate"),
this.canvas.removeUnusedDefs();var e=this.canvas.extractArtworkWithSelectedElements();
this.canvas.insertArtwork(e,"original"),this.canvas.transformHud.blink()},_grabPaintColor:function(){
var e,t,n,r,i,a,o,s,l,u,c,d,h,v,f,m,p,b;return $traceurRuntime.asyncWrap(function(g){
for(;;)switch(g.state){case 0:g.state=this._isGrabbingPaintColor===!1?4:-2;break;case 4:
this.canvas.undoManager.checkpoint("Paint color"),this._isGrabbingPaintColor=!0,e=body.canvas.selectedTextRange,
g.state=5;break;case 5:return void Promise.resolve(this.canvas.grabColor()).then(g.createCallback(3),g.errback);
case 3:t=g.value,g.state=2;break;case 2:n=this.modKeys.shift?"stroke":"fill",this._isGrabbingPaintColor=!1,
r=!0,i=!1,a=void 0;try{for(o=void 0,s=this._getSelectedPaintableElements()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(l=o.value,
"text"===l.localName){C(l,e),u=l.querySelectorAll("tspan"),c=k(e,l),d=c.length>0&&!e.collapsed?c:u,
h=!0,v=!1,f=void 0;try{for(m=void 0,p=d[Symbol.iterator]();!(h=(m=p.next()).done);h=!0)b=m.value,
b.style.setProperty(n,t)}catch(y){v=!0,f=y}finally{try{h||null==p["return"]||p["return"]();
}finally{if(v)throw f}}R(l,e)}else l.style.setProperty(n,t),w(n,l)}catch(x){i=!0,
a=x}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}g.state=-2;
break;default:return g.end()}},this)},_getSelectedPaintableElements:function(){var e=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],t=[],n=function(r){
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;e.includes(u.localName)?t.push(u):"g"!==u.localName&&"a"!==u.localName||n(u.children);
}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}};return n(this.canvas.outermostSelectedElements),t},_clip:function(){this.canvas.undoManager.checkpoint("Clip");
var e=this.canvas.selectedElements[0],t=V(this.canvas.selectedElements.slice(1)),n=this.canvas.generateUniqueID("clip"),r=N("svg:clipPath");
r.id=n,this.canvas.createDefsIfMissing(),this.canvas.defs.append(r);var i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=P(u,e);
u.setAttribute("transform",c.toString()),A(u,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision}),r.appendChild(u)}}catch(d){a=!0,
o=d}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}this.canvas.selectedElements=this.canvas.selectedElements.filter(function(e){
return t.includes(e)===!1}),e.style.setProperty("clip-path","url(#"+n+")"),w("clip-path",e);
},_canClip:function(){var e=!1,t=this.canvas.selectedElements[0]||null,n=this.canvas.selectedElements.slice(1),r=V(n),i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if(D(u,t)){e=!0;break}}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return null!==t&&e!==!1},_unclip:function(){this.canvas.undoManager.checkpoint("Unclip");
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=getComputedStyle(a).getPropertyValue("clip-path");if("none"!==o){
var l=s(this.canvas.masterArtboard,o),u=a;if(l){var c=$traceurRuntime.spread(l.children),d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var p=f.value,b=P(p,this.canvas.currentArtboard),g=u.transform.baseVal.consolidate().matrix.multiply(b);
p.setAttribute("transform",g.toString()),this.canvas.currentArtboard.appendChild(p),
A(p,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(y){h=!0,v=y}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}a.style.setProperty("clip-path","none"),w("clip-path",a)}}}}catch(x){t=!0,n=x}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_canUnclip:function(){
var e=!1,t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,l=getComputedStyle(o).getPropertyValue("clip-path");if("none"!==l){
var u=s(this.canvas.masterArtboard,l);if(u){e=!0;break}}}}catch(c){n=!0,r=c}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}return e},_mask:function(){
this.canvas.undoManager.checkpoint("Mask");var e=this.canvas.selectedElements[0],t=this.canvas.selectedElements.slice(1),n=this.canvas.generateUniqueID("mask"),r=N("svg:mask");
r.id=n,this.canvas.createDefsIfMissing(),this.canvas.defs.append(r);var i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=P(u,e);
u.setAttribute("transform",c.toString()),A(u,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision}),r.appendChild(u)}}catch(d){a=!0,
o=d}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}this.canvas.selectedElements=this.canvas.selectedElements.filter(function(e){
return t.includes(e)===!1}),e.style.setProperty("mask","url(#"+n+")"),w("mask",e);
},_canMask:function(){var e=!1,t=this.canvas.selectedElements[0]||null,n=this.canvas.selectedElements.slice(1),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
if(D(l,t)){e=!0;break}}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return null!==t&&e!==!1},_unmask:function(){this.canvas.undoManager.checkpoint("Unmask");
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=getComputedStyle(a).getPropertyValue("mask");if("none"!==o){var l=a,u=s(this.canvas.masterArtboard,o);
if(u){var c=$traceurRuntime.spread(u.children),d=!0,h=!1,v=void 0;try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value,b=P(p,this.canvas.currentArtboard),g=l.transform.baseVal.consolidate().matrix.multiply(b);
p.setAttribute("transform",g.toString()),this.canvas.currentArtboard.appendChild(p),
A(p,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(y){h=!0,v=y}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}a.style.setProperty("mask","none"),w("mask",a)}}}}catch(x){t=!0,n=x}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_canUnmask:function(){
var e=!1,t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,l=getComputedStyle(o).getPropertyValue("mask");if("none"!==l){var u=s(this.canvas.masterArtboard,l);
if(u){e=!0;break}}}}catch(c){n=!0,r=c}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return e},_move:function(){var e=void 0!==arguments[0]?arguments[0]:1,t=void 0!==arguments[1]?arguments[1]:"left";
this.canvas.undoManager.checkpoint("Move");var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this.canvas.outermostSelectedElements[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=SVGMatrix.fromMatrix(s.transform.baseVal.consolidate().matrix),u=P(s,this.canvas.currentArtboard),c=u.inverse(),d=new SVGMatrix;
"left"===t?d.translateSelf(-e,0):"right"===t?d.translateSelf(e,0):"up"===t?d.translateSelf(0,-e):"down"===t&&d.translateSelf(0,e);
var h=SVGMatrix.fromMatrix(l);h.multiplySelf(c),h.multiplySelf(d),h.multiplySelf(u),
s.setAttribute("transform",h.toString()),A(s,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision})}}catch(v){r=!0,i=v}finally{try{
n||null==o["return"]||o["return"]()}finally{if(r)throw i}}},_canMove:function(){return this.canvas.selectedElements.length>0;
},_flip:function(){var e=void 0!==arguments[0]?arguments[0]:"x";this.canvas.undoManager.checkpoint("Flip");
var t=$traceurRuntime.spread(this.canvas.outermostSelectedElements),n=function(){
var e=0,n=[],r=!0,i=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;n[e++]=a(u)}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}return n}(),r=g(n),i=!0,o=!1,s=void 0;try{for(var l=void 0,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=SVGMatrix.fromMatrix(c.transform.baseVal.consolidate().matrix),h=c.getScreenCTM(),v=h.inverse(),f=void 0;
if("x"===e){var m=2*(r.x+r.width/2);f=new SVGMatrix([-1,0,0,1,m,0])}else if("y"===e){
var p=2*(r.y+r.height/2);f=new SVGMatrix([1,0,0,-1,0,p])}var b=SVGMatrix.fromMatrix(d);
b.multiplySelf(v),b.multiplySelf(f),b.multiplySelf(h),c.setAttribute("transform",b.toString()),
A(c,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(y){o=!0,s=y}finally{try{i||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}},_canFlip:function(){return this.canvas.selectedElements.length>0},_raise:function(){
this.canvas.undoManager.checkpoint("Raise");var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.outermostSelectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;if($traceurRuntime.spread(T,["svg","g","a","use"]).includes(t.localName)===!1)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(D(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.find(function(t){return O(t)>O(e[e.length-1]);
});if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e.reverse()[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.after(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=I(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(p){t=!0,n=p}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_raiseToFront:function(){this.canvas.undoManager.checkpoint("Raise to Front");
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.outermostSelectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;if($traceurRuntime.spread(T,["svg","g","a","use"]).includes(t.localName)===!1)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(D(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t[t.length-1];if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e.reverse()[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.after(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=I(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(p){t=!0,n=p}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_canRaise:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.outermostSelectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=function(){var e=d.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;if($traceurRuntime.spread(T,["svg","g","a","use"]).includes(t.localName)===!1)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(D(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.find(function(t){return O(t)>O(e[e.length-1]);
});return n?{v:!0}:void 0},c=void 0,d=void 0,h=I(a)[Symbol.iterator]();!(o=(d=h.next()).done);o=!0)if(c=u(),
"object"===("undefined"==typeof c?"undefined":$traceurRuntime["typeof"](c)))return c.v;
}catch(v){s=!0,l=v}finally{try{o||null==h["return"]||h["return"]()}finally{if(s)throw l;
}}}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}return!1},_lower:function(){this.canvas.undoManager.checkpoint("Lower");var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=z(this.canvas.outermostSelectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;if($traceurRuntime.spread(T,["svg","g","a","use"]).includes(t.localName)===!1)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(D(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.reverse().find(function(t){return O(t)<O(e[0]);
});if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.before(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=I(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(p){t=!0,n=p}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_lowerToBack:function(){this.canvas.undoManager.checkpoint("Lower to Back");var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=z(this.canvas.outermostSelectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=void 0,d=void 0,h=function(){
var e=v.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;if($traceurRuntime.spread(T,["svg","g","a","use"]).includes(t.localName)===!1)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(D(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t[0];if(n){u=!0,c=!1,d=void 0;try{for(var r=void 0,i=e[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){
var a=r.value;n.before(a)}}catch(o){c=!0,d=o}finally{try{u||null==i["return"]||i["return"]();
}finally{if(c)throw d}}}},v=void 0,f=I(a)[Symbol.iterator]();!(o=(v=f.next()).done);o=!0)h();
}catch(m){s=!0,l=m}finally{try{o||null==f["return"]||f["return"]()}finally{if(s)throw l;
}}}}catch(p){t=!0,n=p}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_canLower:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=z(this.canvas.outermostSelectedElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=function(){var e=d.value,t=$traceurRuntime.spread(e[0].parentElement.children).filter(function(t){
if(e.includes(t))return!1;if($traceurRuntime.spread(T,["svg","g","a","use"]).includes(t.localName)===!1)return!1;
var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(D(t,s))return!0}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!1}),n=t.reverse().find(function(t){return O(t)<O(e[0]);
});return n?{v:!0}:void 0},c=void 0,d=void 0,h=I(a)[Symbol.iterator]();!(o=(d=h.next()).done);o=!0)if(c=u(),
"object"===("undefined"==typeof c?"undefined":$traceurRuntime["typeof"](c)))return c.v;
}catch(v){s=!0,l=v}finally{try{o||null==h["return"]||h["return"]()}finally{if(s)throw l;
}}}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}return!1},_rotate:function(){var e=void 0!==arguments[0]?arguments[0]:90;this.canvas.undoManager.checkpoint("Rotate");
var t=$traceurRuntime.spread(this.canvas.outermostSelectedElements),n=E(t),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=SVGMatrix.fromMatrix(l.transform.baseVal.consolidate().matrix),c=l.getScreenCTM(),d=c.inverse(),h=SVGMatrix.fromMatrix(u);
h.multiplySelf(d),h.rotateSelf(e,n.x,n.y),h.multiplySelf(c),l.setAttribute("transform",h.toString()),
A(l,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(v){i=!0,a=v}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}},_canRotate:function(){return this.canvas.selectedElements.length>0},_group:function(){
this.canvas.undoManager.checkpoint("Group");var e=document.createDocumentFragment(),t=$traceurRuntime.spread(this.canvas.outermostSelectedElements),n=N("svg:g");
t[0].after(n),t=j(t);var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=P(l,n);l.setAttribute("transform",u.toString()),e.append(l)}}catch(c){
i=!0,a=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}n.append(e);
var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=n.children[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;A(p,{geometryPrecision:this.canvas.geometryPrecision,transformPrecision:this.canvas.transformPrecision
})}}catch(b){h=!0,v=b}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}this.canvas.selectedElements=[n]},_canGroup:function(){return this.canvas.selectedElements.length>0;
},_ungroup:function(){this.canvas.undoManager.checkpoint("Ungroup");var e=$traceurRuntime.spread(this.canvas.outermostSelectedElements),t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if("g"===s.localName){var l=s,u=document.createDocumentFragment(),c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=$traceurRuntime.spread(l.children)[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;if("title"!==m.localName&&"desc"!==m.localName){if(this.canvas.isSelectableElement(m)){
var p=P(m,l.parentElement);m.setAttribute("transform",p.toString()),A(m,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision}),t.push(m)}var b=!0,g=!1,y=void 0;
try{for(var x=void 0,_=l.style[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){var w=x.value,S=l.style.getPropertyValue(w);
""===m.style.getPropertyValue(w)&&m.style.setProperty(w,S)}}catch(k){g=!0,y=k}finally{
try{b||null==_["return"]||_["return"]()}finally{if(g)throw y}}u.append(m)}}}catch(C){
d=!0,h=C}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}l.before(u),
l.remove()}else t.push(s)}}catch(R){r=!0,i=R}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this.canvas.selectedElements=$traceurRuntime.spread(t)},_canUngroup:function(){
return this.canvas.selectedElements.length>0},_convertToPath:function(){var e,t,n,r,i,a,o,s,l,u,c,d,h,v,f,m,p;
return $traceurRuntime.asyncWrap(function(b){for(;;)switch(b.state){case 0:b.state=this._canConvertToPath()===!1?1:3;
break;case 1:b.returnValue=void 0,b.state=2;break;case 2:b.state=-2;break;case 3:
this.canvas.undoManager.checkpoint("Convert to path"),body.canvas.selectedTextRange=null,
e=[],t=this.canvas.geometryPrecision,n=!0,r=!1,i=void 0,b.state=59;break;case 59:
b.pushTry(45,46),b.state=48;break;case 48:a=void 0,o=this.canvas.selectedElements[Symbol.iterator](),
b.state=44;break;case 44:b.state=(n=(a=o.next()).done)?42:40;break;case 38:n=!0,b.state=44;
break;case 40:s=a.value,b.state=41;break;case 41:b.state="rect"===s.localName?37:36;
break;case 37:l=B(s,t),s.replace(l),e.push(l),b.state=38;break;case 36:b.state="circle"===s.localName?34:33;
break;case 34:u=U(s,t),s.replace(u),e.push(u),b.state=38;break;case 33:b.state="ellipse"===s.localName?31:30;
break;case 31:c=H(s,t),s.replace(c),e.push(c),b.state=38;break;case 30:b.state="line"===s.localName?28:27;
break;case 28:d=F(s,t),s.replace(d),e.push(d),b.state=38;break;case 27:b.state="polyline"===s.localName?25:24;
break;case 25:h=q(s,t),s.replace(h),e.push(h),b.state=38;break;case 24:b.state="polygon"===s.localName?22:21;
break;case 22:v=W(s,t),s.replace(v),e.push(v),b.state=38;break;case 21:b.state="path"===s.localName?19:18;
break;case 19:s.hasAttribute("data-bx-shape")&&s.removeAttribute("data-bx-shape"),
e.push(s),b.state=38;break;case 18:b.state="text"===s.localName?5:16;break;case 5:
return void Promise.resolve(this.canvas.googleFontsManager.canReplaceTextWithPaths(s)).then(b.createCallback(7),b.errback);
case 7:f=b.value,b.state=6;break;case 6:b.state=f?8:13;break;case 8:return void Promise.resolve(this.canvas.googleFontsManager.replaceTextWithPaths(s,this.canvas.geometryPrecision,this.canvas.transformPrecision)).then(b.createCallback(10),b.errback);
case 10:m=b.value,b.state=9;break;case 9:e=$traceurRuntime.spread(e,m),b.state=38;
break;case 13:e.push(s),b.state=38;break;case 16:e.push(s),b.state=38;break;case 42:
b.popTry(),b.state=46,b.finallyFallThrough=50;break;case 45:b.popTry(),b.maybeUncatchable(),
p=b.storedException,b.state=51;break;case 51:r=!0,i=p,b.state=46,b.finallyFallThrough=50;
break;case 46:b.popTry(),b.state=57;break;case 57:try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}b.state=55;break;case 50:body.canvas.selectedElements=e,b.state=-2;
break;case 55:b.state=b.finallyFallThrough;break;default:return b.end()}},this)},
_canConvertToPath:function(){var e=this;return new Promise(function(t){var n,r,i,a,o,s,l,u;
return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){case 0:n=!1,r=!0,
i=!1,a=void 0,c.state=38;break;case 38:c.pushTry(24,25),c.state=27;break;case 27:
o=void 0,s=e.canvas.selectedElements[Symbol.iterator](),c.state=23;break;case 23:
c.state=(r=(o=s.next()).done)?21:19;break;case 17:r=!0,c.state=23;break;case 19:l=o.value,
c.state=20;break;case 20:c.state="rect"===l.localName||"circle"===l.localName||"ellipse"===l.localName||"line"===l.localName||"polyline"===l.localName||"polygon"===l.localName?16:15;
break;case 16:n=!0,c.state=17;break;case 15:c.state="path"===l.localName?7:14;break;
case 7:c.state=l.hasAttribute("data-bx-shape")?5:3;break;case 5:n=!0,c.state=17;break;
case 3:n=!1,c.state=21;break;case 14:c.state="text"===l.localName?8:17;break;case 8:
return void Promise.resolve(e.canvas.googleFontsManager.canReplaceTextWithPaths(l)).then(c.createCallback(10),c.errback);
case 10:n=c.value,c.state=9;break;case 9:c.state=n===!1?21:17;break;case 21:c.popTry(),
c.state=25,c.finallyFallThrough=29;break;case 24:c.popTry(),c.maybeUncatchable(),
u=c.storedException,c.state=30;break;case 30:i=!0,a=u,c.state=25,c.finallyFallThrough=29;
break;case 25:c.popTry(),c.state=36;break;case 36:try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}c.state=34;break;case 29:t(n),c.state=-2;break;case 34:c.state=c.finallyFallThrough;
break;default:return c.end()}},this)})},_reversePath:function(){if(this._canReversePath()!==!1){
this.canvas.undoManager.checkpoint("Reverse path");var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;"path"===a.localName&&a.hasAttribute("data-bx-shape")===!1&&h(a)}}catch(o){
t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}}},
_canReversePath:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if("path"===a.localName&&a.hasAttribute("data-bx-shape")===!1)return!0;
}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}return!1},_performBooleanOperation:function(){var e,t,n,r,i=void 0!==arguments[0]?arguments[0]:"unite";
if(this._canPerformBooleanOperation()!==!1){this.canvas.undoManager.checkpoint(x(i));
var a=this.canvas.selectedElements,o=(e=a[Symbol.iterator](),(t=e.next()).done?void 0:t.value),s=$traceurRuntime.iteratorToArray(e),l=this.canvas,u=l.geometryPrecision,c=l.transformPrecision,d=[],h=!0,v=!1,g=void 0;
try{for(var y=void 0,_=this.canvas.selectedElements[Symbol.iterator]();!(h=(y=_.next()).done);h=!0){
var w=y.value,S=void 0;"rect"===w.localName?S=B(w,this.canvas.geometryPrecision):"circle"===w.localName?S=U(w):"ellipse"===w.localName?S=H(w):"line"===w.localName?S=F(w):"polyline"===w.localName?S=q(w):"polygon"===w.localName?S=W(w):"path"===w.localName&&(S=w.cloneNode(),
S.hasAttribute("data-bx-shape")&&S.removeAttribute("data-bx-shape"));var k=P(w,o.parentElement).toString();
S.setAttribute("transform",k),S.setPathData(S.getPathData({normalize:!0})),A(S,{geometryPrecision:u,
transformPrecision:c,preserveRotation:!1}),d.push(S)}}catch(C){v=!0,g=C}finally{try{
h||null==_["return"]||_["return"]()}finally{if(v)throw g}}var R=d,M=(n=R[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),E=$traceurRuntime.iteratorToArray(n),T=!0,L=!1,N=void 0;
try{for(var $=void 0,O=E[Symbol.iterator]();!(T=($=O.next()).done);T=!0){var V=$.value,j=M.getPathData(),z=V.getPathData(),I=[];
"unite"===i?I=f(j,z,u):"subtract"===i?I=m(j,z,u):"intersect"===i?I=p(j,z,u):"exclude"===i&&(I=b(j,z,u)),
M.setPathData(I)}}catch(D){L=!0,N=D}finally{try{T||null==O["return"]||O["return"]();
}finally{if(L)throw N}}M.hasAttribute("d")?(o.replace(M),M.removeAttribute("data-bx-origin")):o.remove();
var G=!0,Y=!1,X=void 0;try{for(var Z=void 0,K=s[Symbol.iterator]();!(G=(Z=K.next()).done);G=!0){
var J=Z.value;J.remove()}}catch(Q){Y=!0,X=Q}finally{try{G||null==K["return"]||K["return"]();
}finally{if(Y)throw X}}M.hasAttribute("d")?this.canvas.selectedElements=[M]:this.canvas.selectedElements=[];
}},_canPerformBooleanOperation:function(){if(this.canvas.selectedElements.length<2)return!1;
var e=["rect","circle","ellipse","line","polygon","polyline","path"],t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if(e.includes(o.localName)===!1)return!1}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}return!0},_combine:function(){
var e,t,n,r;if(this._canCombine()!==!1){this.canvas.undoManager.checkpoint("Combine");
var i=this.canvas.selectedElements,a=(e=i[Symbol.iterator](),(t=e.next()).done?void 0:t.value),o=$traceurRuntime.iteratorToArray(e),s=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this.canvas.selectedElements[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value,f=void 0;"rect"===v.localName?f=B(v,this.canvas.geometryPrecision):"circle"===v.localName?f=U(v):"ellipse"===v.localName?f=H(v):"line"===v.localName?f=F(v):"polyline"===v.localName?f=q(v):"polygon"===v.localName?f=W(v):"path"===v.localName&&(f=v.cloneNode(),
f.removeAttribute("data-bx-shape"));var m=P(v,a.parentElement).toString();f.setAttribute("transform",m),
f.setPathData(f.getPathData({normalize:!0})),A(f,{geometryPrecision:this.canvas.geometryPrecision,
transformPrecision:this.canvas.transformPrecision,preserveRotation:!1}),s.push(f);
}}catch(p){u=!0,c=p}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c;
}}var b=s,g=(n=b[Symbol.iterator](),(r=n.next()).done?void 0:r.value),y=$traceurRuntime.iteratorToArray(n),x=g.getPathData(),_=!0,w=!1,S=void 0;
try{for(var k=void 0,C=y[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var R=k.value,M=R.getPathData();
x=$traceurRuntime.spread(x,M)}}catch(E){w=!0,S=E}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}g.setPathData(x),a.replace(g);var T=!0,L=!1,N=void 0;try{for(var $=void 0,O=o[Symbol.iterator]();!(T=($=O.next()).done);T=!0){
var V=$.value;V.remove()}}catch(j){L=!0,N=j}finally{try{T||null==O["return"]||O["return"]();
}finally{if(L)throw N}}this.canvas.selectedElements=[g]}},_canCombine:function(){
if(this.canvas.selectedElements.length<2)return!1;var e=["rect","circle","ellipse","line","polygon","polyline","path"],t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this.canvas.selectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if(e.includes(o.localName)===!1)return!1}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}return!0},_breakApart:function(){
var e,t,n,r;if(this._canBreakApart()!==!1){this.canvas.undoManager.checkpoint("Break Apart");
var i=this.canvas.selectedElements,a=(e=i[Symbol.iterator](),(t=e.next()).done?void 0:t.value,
$traceurRuntime.iteratorToArray(e),[]),o=!0,s=!1,c=void 0;try{for(var h=void 0,v=this.canvas.selectedElements[Symbol.iterator]();!(o=(h=v.next()).done);o=!0){
var f=h.value;if("path"===f.localName){var m=d(f.getPathData(!0));if(m.length>1){
var p=m,b=(n=p[Symbol.iterator](),(r=n.next()).done?void 0:r.value),g=$traceurRuntime.iteratorToArray(n),y=f;
y.setPathData(b),a.push(y);var x=!0,_=!1,w=void 0;try{for(var S=void 0,k=g[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){
var C=S.value,R=y.cloneNode();R.setPathData(C),y.after(R),a.push(R);var M=!0,E=!1,P=void 0;
try{for(var A=void 0,T=["fill","stroke"][Symbol.iterator]();!(M=(A=T.next()).done);M=!0){
var L=A.value,$=l(R,L);if($)if("linearGradient"===$.localName||"radialGradient"===$.localName){
var O=$,V=O.cloneNode(!0);V.id=this.canvas.generateUniqueID("gradient"),O.after(V),
R.style.setProperty(L,'url("#'+V.id+'")')}else if("pattern"===$.localName){var j=$;
if(j.hasAttribute("href")){var z=u(j),I=j.cloneNode();I.id=this.canvas.generateUniqueID(z.id),
j.after(I),R.style.setProperty(L,'url("#'+I.id+'")')}else{var D=N("svg:pattern");D.id=this.canvas.generateUniqueID(j.id),
D.setAttribute("href","#"+j.id),j.after(D),R.style.setProperty(L,'url("#'+D.id+'")');
}}}}catch(G){E=!0,P=G}finally{try{M||null==T["return"]||T["return"]()}finally{if(E)throw P;
}}}}catch(B){_=!0,w=B}finally{try{x||null==k["return"]||k["return"]()}finally{if(_)throw w;
}}}else a.push(f)}else a.push(f)}}catch(U){s=!0,c=U}finally{try{o||null==v["return"]||v["return"]();
}finally{if(s)throw c}}body.canvas.selectedElements=a}},_canBreakApart:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.canvas.selectedElements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;if("path"===a.localName&&a.hasAttribute("data-bx-shape")===!1){var o=d(a.getPathData(!0));
if(o.length>1)return!0}}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}return!1}},{},e)}(e),J=$("body","bx-editorbody",K);return{
get default(){return J}}}),$traceurRuntime.registerModule("elements/bx-edittool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-edittool")).getClientBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-edittool")).registerElement,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-edittool")).isPointerMoveIntentional,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-edittool")),i=r.rectContainsRect,a=r.transformRect,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-edittool")).graphicsElementNames,s=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._textCursor=null;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.enableHud("triangle-hud"),body.canvas.enableHud("rect-hud"),
body.canvas.enableHud("circle-hud"),body.canvas.enableHud("ellipse-hud"),body.canvas.enableHud("line-hud"),
body.canvas.enableHud("poly-hud"),body.canvas.enableHud("n-gon-hud"),body.canvas.enableHud("star-hud"),
body.canvas.enableHud("ring-hud"),body.canvas.enableHud("path-hud"),body.canvas.enableHud("text-hud"),
body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("rubber-band-hud"),body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)},!0),body.canvas.artboards.addEventListener("pointerover",this._artboardPointerOverListener=function(t){
e._onArtboardPointerOver(t.target)});var t=body.canvas.getArtboardElementFromPoint(body.pointerClientX,body.pointerClientY);
t&&this._onArtboardPointerOver(t)},_onDisabled:function(){body.canvas.disableHud("triangle-hud"),
body.canvas.disableHud("rect-hud"),body.canvas.disableHud("circle-hud"),body.canvas.disableHud("ellipse-hud"),
body.canvas.disableHud("line-hud"),body.canvas.disableHud("poly-hud"),body.canvas.disableHud("n-gon-hud"),
body.canvas.disableHud("star-hud"),body.canvas.disableHud("ring-hud"),body.canvas.disableHud("path-hud"),
body.canvas.disableHud("text-hud"),body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("rubber-band-hud"),
body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener,!0),
body.canvas.artboards.removeEventListener("pointerover",this._artboardPointerOverListener),
body.canvas.selectedTextRange=null,this._textCursor&&(body.unregisterCursor(this._textCursor),
this._textCursor=null)},_onArtboardPointerDown:function(e){var t=this;if(0===e.button){
e.preventDefault();var r=body.canvas.getHitArtboardElements(e.clientX,e.clientY),i=r.length>0?r[r.length-1]:null,a=function(){
var e=body.modKeys.shift;body.canvas.selectedElements.includes(i)===!1&&(e===!1?body.canvas.selectedElements=[i]:e===!0&&(body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[i]))),
t._updateCurrentContainer()},o=function(){var e=body.modKeys.shift;e===!1?body.canvas.selectedElements=[i]:e===!0&&(body.canvas.selectedElements.includes(i)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==i}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[i])),
t._updateCurrentContainer()},s=function(){body.canvas.selectedElements=[],body.canvas.selectedTextRange=null,
t._updateCurrentContainer()},l=function(){var n,r,i,a,o;return $traceurRuntime.asyncWrap(function(s){
for(;;)switch(s.state){case 0:n=e,r=n.clientX,i=n.clientY,s.state=5;break;case 5:
return void Promise.resolve(body.canvas.rubberBandHud.grabSelection(r,i)).then(s.createCallback(3),s.errback);
case 3:a=s.value,s.state=2;break;case 2:o=t._getSelectedPaths(),o.length>0?body.canvas.pathHud.rubberBandSelectionCallback(a):(body.canvas.selectedElements=t._getElementsInBBox(a),
t._updateCurrentContainer()),s.state=-2;break;default:return s.end()}},this)};if(i)if("text"===i.localName)a();else{
var u,c;window.addEventListener("pointermove",u=function(t){return $traceurRuntime.asyncWrap(function(r){
for(;;)switch(r.state){case 0:n(e,t)&&(window.removeEventListener("pointermove",u),
l()),r.state=-2;break;default:return r.end()}},this)}),window.addEventListener("pointerup",c=function(t){
window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",c),
e.clientX===t.clientX&&e.clientY===t.clientY&&o()})}else{var d,h;window.addEventListener("pointermove",d=function(t){
return $traceurRuntime.asyncWrap(function(r){for(;;)switch(r.state){case 0:n(e,t)&&(window.removeEventListener("pointermove",d),
l()),r.state=-2;break;default:return r.end()}},this)}),window.addEventListener("pointerup",h=function(t){
window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",h),
e.clientX===t.clientX&&e.clientY===t.clientY&&s()})}}},_onArtboardPointerOver:function(e){
e.matches("text, text *")?null===this._textCursor&&(this._textCursor=body.registerCursor("text",0)):this._textCursor&&(body.unregisterCursor(this._textCursor),
this._textCursor=null)},_updateCurrentContainer:function(){var e=body.canvas.selectedElements.length>0?body.canvas.selectedElements[0]:null,t=null;
if(e){var n=e.closest("g, a");n!==body.canvas.currentArtboard&&(t=n)}body.canvas.currentContainer=t;
},_getSelectedPaths:function(){var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("d")&&!s.hasAttribute("data-bx-shape")?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t},_getElementsInBBox:function(t){var n=[],r=body.canvas.currentArtboard.getScreenCTM().inverse(),s=function(l){
var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=l.children[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if($traceurRuntime.spread(o,["svg","use"]).includes(f.localName)){var m=e(f);
m=a(m,r);var p=0===m.width&&0===m.height;!p&&i(t,m)&&n.push(f)}else"g"!==f.localName&&"a"!==f.localName||s(f);
}}catch(b){c=!0,d=b}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}};return s(body.canvas.currentArtboard),n}},{},t)}(HTMLElement),l=t("bx-edittool",s);
return{get default(){return l}}}),$traceurRuntime.registerModule("elements/bx-ellipsehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ellipsehud")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ellipsehud")).normalize,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-ellipsehud")).throttle,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ellipsehud")).getTransformToElement,a=Symbol(),o=6,s='\n  <style>@import url("stylesheets/bx-ellipsehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',l=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedEllipses=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=r(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){t=!0,n=l}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedEllipses=this._getSelectedEllipses(),
0===this._selectedEllipses.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.classList.contains("grippie")&&this._onGrippiePointerDown(e)},_onGrippiePointerDown:function(e){
var t=this;if(0===e.button){var r,i,o,s=e.target,l=s.parentElement,u=l[a],c=s.getAttribute("data-axis"),d=u.getCTM().inverse(),h={
rx:u.rx.baseVal.value,ry:u.ry.baseVal.value},v=new SVGPoint(e.clientX,e.clientY).matrixTransform(d),f=body.canvas.geometryPrecision,m=new SVGPoint(v.x,v.y),p="normal",b=!1;
s.parentElement.append(s),this._draggedGrippie=s;var g=function(){var e=body.modKeys,t=e.ctrl,n=e.shift;
t===!0&&n===!1?p="normal":t===!1&&n===!0?p="symmetric":t===!0&&n===!0?p="symmetric":u.rx.baseVal.value===u.ry.baseVal.value&&(p="symmetric");
},y=function(){var e=m.x-v.x,t=m.y-v.y;if("rx"===c){if("normal"===p){var r=n(h.rx+e,0,1/0,f);
u.setAttribute("rx",r)}else if("symmetric"===p){var i=n(h.rx+e,0,1/0,f);u.setAttribute("rx",i),
u.setAttribute("ry",i)}}else if("ry"===c)if("normal"===p){var a=n(h.ry+t,0,1/0,f);
u.setAttribute("ry",a)}else if("symmetric"===p){var o=n(h.ry+t,0,1/0,f);u.setAttribute("rx",o),
u.setAttribute("ry",o)}};window.addEventListener("pointermove",r=function(e){b||(b=!0,
body.canvas.undoManager.checkpoint("Ellipse radius")),m=new SVGPoint(e.clientX,e.clientY).matrixTransform(d),
y()}),window.addEventListener("pointerup",i=function(){window.removeEventListener("pointermove",r),
window.removeEventListener("pointerup",i),body.removeEventListener("modkeyschange",o),
t._draggedGrippie=null}),body.addEventListener("modkeyschange",o=function(){g(),y();
}),g()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this._selectedEllipses[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var o=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[a]=o,
this["#subhuds"].append(s)}}catch(l){t=!0,n=l}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){
var s=r.value,l=s[a],u=i(l,this),c=!0,d=!1,h=void 0;try{for(var v=void 0,f=s.children[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value,p=m.getAttribute("data-axis");if("rx"===p){var b=new SVGPoint(l.cx.baseVal.value+l.rx.baseVal.value,l.cy.baseVal.value).matrixTransform(u);
m.setAttribute("cx",b.x),m.setAttribute("cy",b.y)}else if("ry"===p){var g=new SVGPoint(l.cx.baseVal.value,l.cy.baseVal.value+l.ry.baseVal.value).matrixTransform(u);
m.setAttribute("cx",g.x),m.setAttribute("cy",g.y)}}}catch(y){d=!0,h=y}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}}}catch(x){t=!0,n=x}finally{
try{e||null==o["return"]||o["return"]()}finally{if(t)throw n}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=a.children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.setAttribute("r",o/body.canvas.scale)}}catch(v){l=!0,u=v}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){t=!0,n=f;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedEllipses:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"ellipse"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedEllipses(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),u=t("g","bx-ellipsehud",l);return{get default(){
return u}}}),$traceurRuntime.registerModule("elements/bx-ellipsetool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ellipsetool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-ellipsetool")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ellipsetool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ellipsetool")).round,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-ellipsetool")).reduceTransform,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ellipsetool"))["default"],c=Math,d=c.abs,h=c.min,v=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._ellipseCursor=body.registerCursor("images/cursor-ellipse.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
return e._onPointerDown(t)})},_onDisabled:function(){body.unregisterCursor(this._ellipseCursor),
body.unregisterCursor(this._pointerDownEllipseCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener)},_onPointerDown:function(e){
var t,n,i=this;window.addEventListener("pointermove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n),i._onIntentionalDragStart(e))}),window.addEventListener("pointerup",n=function(e){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,c=this,v=body.canvas.currentContainer||body.canvas.currentArtboard,f=body.modKeys.ctrl?"polar":"planar",m=0,p=0,b=0,g=0;
body.canvas.undoManager.checkpoint("Draw Ellipse");var y=t("svg:ellipse");y.style.setProperty("fill","#d8d8d8"),
v.append(y),body.canvas.selectedElements=[y],this._pointerDownEllipseCursor=body.registerCursor("images/cursor-ellipse.svg",900,8,8);
var x=y.getScreenCTM().inverse(),_=y.transform.baseVal.consolidate().matrix.multiply(x);
y.setAttribute("transform",_.toString()),window.addEventListener("pointermove",n=function(t){
if("planar"===f){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=d(n),s=d(r);
if(body.modKeys.shift){var l=h(i,s);i=l,s=l}var c=0>n?e.clientX-i:e.clientX,v=0>r?e.clientY-s:e.clientY;
m=c+i/2,p=v+s/2,b=i/2,g=s/2}else if("polar"===f){var x=new SVGPoint(e.clientX,e.clientY),w=new SVGPoint(x.x,x.y-100),S=new SVGPoint(t.clientX,t.clientY),k=new u(x,S),C=a(x,w,S);
m=x.x,p=x.y,b=k.length,g=k.length,body.modKeys.shift&&(C=o(C,45));var R=(new SVGMatrix).rotate(C,x.x,x.y);
y.setAttribute("transform",_.multiply(R).toString())}y.setAttribute("cx",m),y.setAttribute("cy",p),
y.setAttribute("rx",b),y.setAttribute("ry",g)}),window.addEventListener("pointerup",r=function(){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
body.removeEventListener("toolchange",i),body.unregisterCursor(c._pointerDownEllipseCursor);
var e=body.canvas,t=e.geometryPrecision,a=e.transformPrecision;y.setAttribute("cx",s(m,t)),
y.setAttribute("cy",s(p,t)),y.setAttribute("rx",s(b,t)),y.setAttribute("ry",s(g,t)),
l(y,{geometryPrecision:t,transformPrecision:a})}),body.addEventListener("toolchange",i=function(){
return r()})}},{},e)}(HTMLElement),f=n("bx-ellipsetool",v);return{get default(){return f;
}}}),$traceurRuntime.registerModule("elements/bx-exportcontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectitem","elements/bx-exportcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-exportcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-exportcontrols")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-exportcontrols")),n=(t.createElement,
t.registerElement),r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-exportcontrols")),i=r.normalize,a=r.round,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-exportcontrols")),s=o.combineRects,l=o.transformRect,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-exportcontrols")).throttle,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-exportcontrols")).getTransformToElement,d='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-exportcontrols.css");\n  </style>\n\n  <section id="export-bitmap-section">\n    <div id="format-div">\n      <h3>Format</h3>\n\n      <bx-select id="format-select" value="png">\n        <bx-selectitem value="png" label="PNG"></bx-selectitem>\n        <bx-selectitem value="jpeg" label="JPEG"></bx-selectitem>\n      </bx-select>\n    </div>\n\n    <div id="area-div">\n      <h3>Area</h3>\n\n      <bx-select id="area-select" value="viewBox">\n        <bx-selectitem value="selection" label="Selection"></bx-selectitem>\n        <bx-selectitem value="viewBox" label="View box" id="view-box-select-item"></bx-selectitem>\n      </bx-select>\n    </div>\n\n    <div id="size-div">\n      <h3 id="size-heading">Size</h3>\n\n      <div class="hbox">\n        <bx-slider\n          id="width-slider"\n          title="Width"\n          min="1"\n          value="100"\n          precision="0"\n          after=" px">\n        </bx-slider>\n\n        <bx-button id="preserve-aspect-ratio-button" skin="iconic" icon="lock-on" iconsize="15"></bx-button>\n\n        <bx-slider\n          id="height-slider"\n          title="Height"\n          min="1"\n          value="100"\n          precision="0"\n          after=" px">\n        </bx-slider>\n      </div>\n    </div>\n\n    <div id="compression-div">\n      <h3 id="compression-heading">Compression</h3>\n\n      <bx-slider\n        id="compression-slider"\n        title="Compression"\n        min="0"\n        max="1"\n        value="0.82"\n        precision="2">\n      </bx-slider>\n    </div>\n\n    <bx-checkbox id="transparent-background-checkbox" label="Transparent background" checked></bx-checkbox>\n\n    <bx-button id="export-button" label="Export"></bx-button>\n  </section>\n',h=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._update200Th=u(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=d;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(l=(v=f.next()).done);l=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){c=!0,h=p}finally{try{
l||null==f["return"]||f["return"]()}finally{if(c)throw h}}this["#format-select"].addEventListener("change",function(){
return e._onFormatSelectChange()}),this["#area-select"].addEventListener("change",function(){
return e._onAreaSelectChange()}),this["#preserve-aspect-ratio-button"].addEventListener("click",function(){
return e._onPreserveAspectRationButtonClick()}),this["#width-slider"].addEventListener("changestart",function(){
return e._onWidthSliderChangeStart()}),this["#height-slider"].addEventListener("changestart",function(){
return e._onHeightSliderChangeStart()}),this["#export-button"].addEventListener("click",function(t){
return e._onExportButtonClick(t)}),this["#compression-slider"].addEventListener("changeend",function(){
body.setConfig("bx-exportcontrols:compression",e["#compression-slider"].value)}),
this["#transparent-background-checkbox"].addEventListener("change",function(){body.setConfig("bx-exportcontrols:transparentBackground",e["#transparent-background-checkbox"].checked);
}),body.getConfig("bx-exportcontrols:format").then(function(t){null!==t&&(e["#format-select"].value=t);
}),body.getConfig("bx-exportcontrols:area").then(function(t){null!==t&&(e["#area-select"].value=t);
}),body.getConfig("bx-exportcontrols:compression").then(function(t){null!==t&&(e["#compression-slider"].value=t);
}),body.getConfig("bx-exportcontrols:transparentBackground").then(function(t){null!==t&&(e["#transparent-background-checkbox"].checked=t);
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onArtboardMutation:function(e){
this._update200Th()},_onFormatSelectChange:function(){var e=this["#format-select"].value;
body.setConfig("bx-exportcontrols:format",e),this._update()},_onAreaSelectChange:function(){
var e=this["#area-select"].value;body.setConfig("bx-exportcontrols:area",e),this._update();
},_onWidthSliderChangeStart:function(){var e,t,n=this,r=this["#width-slider"].value/this["#height-slider"].value;
this["#width-slider"].addEventListener("change",e=function(){if("lock-on"===n["#preserve-aspect-ratio-button"].icon){
var e=n["#width-slider"].value/r;n["#height-slider"].value=i(e,1,1/0,0)}}),this["#width-slider"].addEventListener("changeend",t=function(){
n["#width-slider"].removeEventListener("change",e),n["#width-slider"].removeEventListener("changeend",t);
})},_onHeightSliderChangeStart:function(){var e,t,n=this,r=this["#width-slider"].value/this["#height-slider"].value;
this["#height-slider"].addEventListener("change",e=function(){if("lock-on"===n["#preserve-aspect-ratio-button"].icon){
var e=r*n["#height-slider"].value;n["#width-slider"].value=i(e,1,1/0,0)}}),this["#height-slider"].addEventListener("changeend",t=function(){
n["#height-slider"].removeEventListener("change",e),n["#height-slider"].removeEventListener("changeend",t);
})},_onPreserveAspectRationButtonClick:function(){"lock-on"===this["#preserve-aspect-ratio-button"].icon?this["#preserve-aspect-ratio-button"].icon="lock-off":this["#preserve-aspect-ratio-button"].icon="lock-on";
},_onExportButtonClick:function(e){var t,n,r,i,a,o,s,l,u,c,d,h,v,f;return $traceurRuntime.asyncWrap(function(e){
for(;;)switch(e.state){case 0:t=this["#format-select"].value,n=this["#area-select"].value,
e.state=25;break;case 25:d=body.getConfig,h=d.call(body,"bx-preferences:canvasBackgroundColor"),
e.state=5;break;case 5:return void Promise.resolve(h).then(e.createCallback(3),e.errback);
case 3:v=e.value,e.state=2;break;case 2:f=v?v:"#ffffff",r=f,e.state=7;break;case 7:
i="viewBox"===n?body.canvas.extractArtworkWithViewBoxElements():body.canvas.extractArtworkWithSelectedElements(),
i.setAttribute("width",this["#width-slider"].value+"px"),i.setAttribute("height",this["#height-slider"].value+"px"),
i.setAttribute("preserveAspectRatio","none"),e.state=27;break;case 27:e.state="png"===t?11:22;
break;case 11:a=this["#compression-slider"].value,o=this["#transparent-background-checkbox"].checked,
s=o?"rgba(0, 0, 0, 0)":r,e.state=12;break;case 12:return void Promise.resolve(body.rasterizeArtwork(i,"png",a,s)).then(e.createCallback(10),e.errback);
case 10:l=e.value,e.state=9;break;case 9:body.bridge.postMessage("exportFile",{format:"png",
data:l}),e.state=-2;break;case 22:e.state="jpeg"===t?18:-2;break;case 18:u=this["#compression-slider"].value,
e.state=19;break;case 19:return void Promise.resolve(body.rasterizeArtwork(i,"jpeg",u,r)).then(e.createCallback(17),e.errback);
case 17:c=e.value,e.state=16;break;case 16:body.bridge.postMessage("exportFile",{
format:"jpeg",data:c}),e.state=-2;break;default:return e.end()}},this)},_update:function(){
var e="selection"===this["#area-select"].value?body.canvas.selectedElements.length>0:!0,t=0!==body.canvas.currentArtboard.viewBox.width&&0!==body.canvas.currentArtboard.viewBox.height;
if(t?this["#view-box-select-item"].disabled=!1:(this["#area-select"].value="selection",
this["#view-box-select-item"].disabled=!0),e){var n=this._getExportAreaSize(),r=n.width,a=n.height;
this["#size-heading"].disabled=!1,this["#width-slider"].disabled=!1,this["#width-slider"].value=i(r,1,1/0,0),
this["#height-slider"].disabled=!1,this["#height-slider"].value=i(a,1,1/0,0),this["#preserve-aspect-ratio-button"].disabled=!1;
}else this["#size-heading"].disabled=!0,this["#width-slider"].disabled=!0,this["#width-slider"].value=0,
this["#height-slider"].disabled=!0,this["#height-slider"].value=0,this["#preserve-aspect-ratio-button"].disabled=!0;
this["#compression-div"].hidden="png"===this["#format-select"].value,this["#compression-heading"].disabled=!e,
this["#compression-slider"].disabled=!e,this["#transparent-background-checkbox"].disabled=!e,
this["#transparent-background-checkbox"].hidden="jpeg"===this["#format-select"].value,
this["#export-button"].disabled=!e},_getExportAreaSize:function(){var t,n;if("viewBox"===this["#area-select"].value)t=a(body.canvas.currentArtboard.viewBox.width,0),
n=a(body.canvas.currentArtboard.viewBox.height,0);else if("selection"===this["#area-select"].value){
var r=body.canvas.selectedElements.map(function(t){var n=c(t,body.canvas.currentArtboard),r=e(t),i=l(r,n);
return i}),i=s(r);t=a(i.width,0),n=a(i.height,0)}return{width:t,height:n}}},{},t);
}(HTMLElement),v=n("bx-exportcontrols",h);return{get default(){return v}}}),$traceurRuntime.registerModule("elements/bx-fillcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-fillcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-fillcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fillcontrols")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-fillcontrols")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-fillcontrols")).reduceProperty,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-fillcontrols")),i=r.getRenderedTextNodes,a=r.getTspansIntersectedByRange,o=r.spanifyText,s=r.reduceText,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-fillcontrols")).throttle,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-fillcontrols")).paintableElementNames,c=Number.parseFloat,d='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-fillcontrols.css");\n  </style>\n\n  <main>\n    <section id="opacity-section">\n      <h2 id="opacity-section-heading">Opacity</h2>\n\n      <bx-slider\n        id="opacity-slider"\n        title="Fill Opacity"\n        value="1"\n        min="0"\n        max="1"\n        precision="2">\n      </bx-slider>\n    </section>\n\n    <section id="fill-rule-section">\n      <h2 id="fill-rule-section-heading">Fill Rule</h2>\n\n      <div id="fill-rule-buttons">\n        <bx-button\n          id="non-zero-fill-rule-button"\n          value="nonzero"\n          icon="fill-rule-non-zero"\n          iconsize="28"\n          title="Non-zero"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="even-odd-fill-rule-button"\n          value="evenodd"\n          icon="fill-rule-even-odd"\n          iconsize="28"\n          title="Even-odd"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n  </main>\n',h=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._update200Th=l(this._update,200,this),
this._isChangingOpacitySlider=!1,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=d;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(u=(v=f.next()).done);u=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){c=!0,h=p}finally{try{
u||null==f["return"]||f["return"]()}finally{if(c)throw h}}this["#opacity-slider"].addEventListener("changestart",function(){
return e._onOpacitySliderChangeStart()}),this["#non-zero-fill-rule-button"].addEventListener("click",function(){
return e._onFillRuleButtonClick(event)}),this["#even-odd-fill-rule-button"].addEventListener("click",function(){
return e._onFillRuleButtonClick(event)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._toggleHuds(),this._onSelectedElementsChange(),
body.addEventListener("toolchange",this._toolChangeListener=function(){e._toggleHuds();
}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)})},_onDisabled:function(){this._toggleHuds(),body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onOpacitySliderChangeStart:function(){
var e,t=this;body.canvas.undoManager.checkpoint("Fill opacity");var r,i,l=this._getSelectedFillableElements(),u=l.filter(function(e){
return"text"===e.localName}),c=body.canvas.selectedTextRange,d=[],h=!0,v=!1,f=void 0;
try{for(var m=void 0,p=u[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){var b=m.value;
o(b,c)}}catch(g){v=!0,f=g}finally{try{h||null==p["return"]||p["return"]()}finally{
if(v)throw f}}var y=!0,x=!1,_=void 0;try{for(var w=void 0,S=l[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var k=w.value;if("text"===k.localName){var C=k.querySelectorAll("tspan"),R=a(c,k),M=R.length>0&&!c.collapsed?R:C;
(e=d).push.apply(e,$traceurRuntime.spread(M))}else d.push(k)}}catch(E){x=!0,_=E}finally{
try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}this._isChangingOpacitySlider=!0,
this["#opacity-slider"].addEventListener("change",r=function(){t["#opacity-slider"].mixed=!1;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=d[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;o.style.setProperty("fill-opacity",t["#opacity-slider"].value)}}catch(s){
n=!0,r=s}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}}),
this["#opacity-slider"].addEventListener("changeend",i=function(){t["#opacity-slider"].removeEventListener("change",r),
t["#opacity-slider"].removeEventListener("changeend",i),t._isChangingOpacitySlider=!1;
var e=!0,a=!1,o=void 0;try{for(var l=void 0,h=d[Symbol.iterator]();!(e=(l=h.next()).done);e=!0){
var v=l.value;n("fill-opacity",v)}}catch(f){a=!0,o=f}finally{try{e||null==h["return"]||h["return"]();
}finally{if(a)throw o}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=u[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;s(x,c)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}})},_onFillRuleButtonClick:function(e){var t,r=e.target,i=r.pressed,l=r.mixed,u=r.value;
if(0===e.button&&(i!==!0||l!==!1)){body.canvas.undoManager.checkpoint("Fill rule");
var c=this._getSelectedFillableElements(),d=c.filter(function(e){return"text"===e.localName;
}),h=body.canvas.selectedTextRange,v=[],f=!0,m=!1,p=void 0;try{for(var b=void 0,g=d[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;o(y,h)}}catch(x){m=!0,p=x}finally{try{f||null==g["return"]||g["return"]();
}finally{if(m)throw p}}var _=!0,w=!1,S=void 0;try{for(var k=void 0,C=c[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;if("text"===R.localName&&R.querySelector("tspan")){var M=R.querySelectorAll("tspan"),E=a(h,R),P=E.length>0&&!h.collapsed?E:M;
(t=v).push.apply(t,$traceurRuntime.spread(P))}else v.push(R)}}catch(A){w=!0,S=A}finally{
try{_||null==C["return"]||C["return"]()}finally{if(w)throw S}}var T=!0,L=!1,N=void 0;
try{for(var $=void 0,O=v[Symbol.iterator]();!(T=($=O.next()).done);T=!0){var V=$.value;
V.style.setProperty("fill-rule",u),n("fill-rule",V)}}catch(j){L=!0,N=j}finally{try{
T||null==O["return"]||O["return"]()}finally{if(L)throw N}}var z=!0,I=!1,D=void 0;try{
for(var G=void 0,B=d[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){var U=G.value;
s(U,h)}}catch(H){I=!0,D=H}finally{try{z||null==B["return"]||B["return"]()}finally{
if(I)throw D}}}},_update:function(){var e,n,r=[],a=body.canvas.selectedTextRange,o=Symbol(),s=!0,l=!1,u=void 0;
try{for(var d=void 0,h=this._getSelectedFillableElements()[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;if("text"===v.localName){var f=i(v);if(a&&a.intersectsNode(v)){"backward"===a.direction&&f.reverse();
var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=f[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;a.intersectsNode(x)&&r.includes(x.parentElement)===!1&&r.push(x.parentElement);
}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]()}finally{if(p)throw b;
}}}else{var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=f[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value;r.includes(M.parentElement)===!1&&r.push(M.parentElement)}}catch(E){
S=!0,k=E}finally{try{w||null==R["return"]||R["return"]()}finally{if(S)throw k}}}}else r.push(v);
}}catch(P){l=!0,u=P}finally{try{s||null==h["return"]||h["return"]()}finally{if(l)throw u;
}}var A=!0,T=!1,L=void 0;try{for(var N=void 0,$=r[Symbol.iterator]();!(A=(N=$.next()).done);A=!0){
var O=N.value;O[o]=getComputedStyle(O)}}catch(V){T=!0,L=V}finally{try{A||null==$["return"]||$["return"]();
}finally{if(T)throw L}}var j=r,z=(e=j[Symbol.iterator](),(n=e.next()).done?void 0:n.value),I=$traceurRuntime.iteratorToArray(e);
if(this._isChangingOpacitySlider===!1)if(z){var D=z[o].getPropertyValue("fill-opacity"),G=t(c(D),2),B=!1,U=!0,H=!1,F=void 0;
try{for(var q=void 0,W=I[Symbol.iterator]();!(U=(q=W.next()).done);U=!0){var Y=q.value,X=Y[o].getPropertyValue("fill-opacity"),Z=t(c(X),2);
if(Z!==G){B=!0;break}}}catch(K){H=!0,F=K}finally{try{U||null==W["return"]||W["return"]();
}finally{if(H)throw F}}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,
this["#opacity-slider"].value=G,this["#opacity-slider"].mixed=B}else this["#opacity-section-heading"].disabled=!0,
this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1;
if(z){var J=!1,Q=z[o].getPropertyValue("fill-rule"),ee=!0,te=!1,ne=void 0;try{for(var re=void 0,ie=I[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){
var ae=re.value,oe=ae[o].getPropertyValue("fill-rule");oe!==Q&&(J=!0)}}catch(se){
te=!0,ne=se}finally{try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne;
}}this["#fill-rule-section-heading"].disabled=!1,this["#non-zero-fill-rule-button"].disabled=!1,
this["#even-odd-fill-rule-button"].disabled=!1,"evenodd"===Q?(this["#non-zero-fill-rule-button"].pressed=!1,
this["#non-zero-fill-rule-button"].mixed=!1,this["#even-odd-fill-rule-button"].pressed=!0,
this["#even-odd-fill-rule-button"].mixed=J):"nonzero"===Q&&(this["#non-zero-fill-rule-button"].pressed=!0,
this["#non-zero-fill-rule-button"].mixed=J,this["#even-odd-fill-rule-button"].pressed=!1,
this["#even-odd-fill-rule-button"].mixed=!1)}else this["#fill-rule-section-heading"].disabled=!0,
this["#non-zero-fill-rule-button"].disabled=!0,this["#non-zero-fill-rule-button"].pressed=!1,
this["#non-zero-fill-rule-button"].mixed=!1,this["#even-odd-fill-rule-button"].disabled=!0,
this["#even-odd-fill-rule-button"].pressed=!1,this["#even-odd-fill-rule-button"].mixed=!1;
},_toggleHuds:function(){"edit-tool"===body.currentTool.id&&body.currentSecondaryPanel&&"fill-panel"===body.currentSecondaryPanel.id?(body.canvas.enableHud("linear-gradient-fill-hud"),
body.canvas.enableHud("radial-gradient-fill-hud"),body.canvas.enableHud("pattern-fill-hud")):(body.canvas.disableHud("linear-gradient-fill-hud"),
body.canvas.disableHud("radial-gradient-fill-hud"),body.canvas.disableHud("pattern-fill-hud"));
},_getSelectedFillableElements:function(){var e=[],t=function(n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
u.includes(l.localName)?e.push(l):"g"!==l.localName&&"a"!==l.localName||t(l.children);
}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}};return t(body.canvas.outermostSelectedElements),e}},{},e)}(HTMLElement),v=e("bx-fillcontrols",h);
return{get default(){return v}}}),$traceurRuntime.registerModule("elements/bx-filterinput",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-filterinput")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-filterinput"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-filterinput"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/undo-manager","elements/bx-filterinput"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-filterinput")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-filterinput")).debounce,i=(Object.entries,
'\n  <style>@import url("stylesheets/bx-filterinput.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" tabindex="0"></input>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),a=function(n){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this.commands={selectAll:{exec:function(){return e["#input"].select();
}},cut:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._cutInputValue()}},copy:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._copyInputValue()}},paste:{exec:function(){return e._pasteInputValue();
}},undo:{enabled:function(){return e._undoManager.canUndo()},exec:function(){return e._undoManager.undo();
}},redo:{enabled:function(){return e._undoManager.canRedo()},exec:function(){return e._undoManager.redo();
}}};var n=null;this._onInputInput250Db=r(this._onInputInput250Db,250,this),this._undoManager=new t,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;this["#"+c.id]=c}}catch(d){o=!0,s=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}var h=!0,v=!1,f=void 0;try{for(var m=void 0,p=this.attributes[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){
var b=m.value;this.attributeChangedCallback(b.name)}}catch(g){v=!0,f=g}finally{try{
h||null==p["return"]||p["return"]()}finally{if(v)throw f}}this.addEventListener("contextmenu",function(t){
return e._onContextMenu(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocus(t)}),this["#input"].addEventListener("blur",function(t){return e._onInputBlur(t);
}),this["#input"].addEventListener("keydown",function(t){return e._onInputKeyDown(t);
}),this["#input"].addEventListener("input",function(t){return e._onInputInput(t)}),
this["#input"].addEventListener("input",function(t){return e._onInputInput250Db(t);
}),this["#input"].addEventListener("pointermove",function(t){return e._onInputPointerMove(t);
}),this["#input"].addEventListener("pointerenter",function(e){return n=body.registerCursor("text",200);
}),this["#input"].addEventListener("pointerleave",function(e){return body.unregisterCursor(n);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)},this["#context-menu"].addEventListener("menuitemtrigger",function(t){
return e._onContextMenuItemTrigger(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"placeholder"===e?this._onPlaceholderAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(e){
this.setAttribute("value",e)},get placeholder(){return this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"";
},set placeholder(e){""===e?this.removeAttribute("placeholder"):this.setAttribute("placeholder",e);
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){this["#input"].value!==this.value&&(this["#input"].value=this.value);
},_onPlaceholderAttributeChange:function(){this["#input"].placeholder=this.placeholder;
},_onDisabledAttributeChange:function(){this["#input"].tabIndex=this.disabled?-1:0;
},_onInputFocus:function(e){body.bridge.postMessage("toggleTextInputMode",!0),this._cachedValue=this["#input"].value;
},_onInputBlur:function(e){body.bridge.postMessage("toggleTextInputMode",!1),this._undoManager.reset();
},_onInputPointerMove:function(e){this["#input"].matches(":focus")===!1&&e.preventDefault();
},_onInputKeyDown:function(t){var n=e.fromEvent(t);n.matches("Enter")?this.blur():(n.matches("Backspace")||n.matches("ArrowDown")||n.matches("Shift","ArrowDown")||n.matches("ArrowUp")||n.matches("Shift","ArrowUp")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&t.stopPropagation();
},_onInputInput:function(e){this.value=this["#input"].value},_onInputInput250Db:function(e){
var t=this,n=this._cachedValue,r=this["#input"].value;this._cachedValue=this["#input"].value,
this._undoManager.register({label:"Typing",undo:function(){t["#input"].value=t._cachedValue=n,
t["#input"].select()},redo:function(){t["#input"].value=t._cachedValue=r,t["#input"].select();
}})},_onContextMenu:function(e){e.preventDefault(),this["#input"].focus(),this["#context-menu"].open(e.clientX,e.clientY);
},_onContextMenuItemTrigger:function(e){var t=e.detail,n=this.commands[t.commandID];
n&&n.exec()},_menuWillShow:function(e){var t=this;return new Promise(function(n){
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_copyInputValue:function(){var e=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":e})},_pasteInputValue:function(){
var e=this;body.bridge.postMessage("getClipboardData",null,function(t){if(t["text/plain"]){
var n=e["#input"].selectionStart,r=e["#input"].selectionEnd,i=t["text/plain"],a=e["#input"].value.substring(0,n),o=e["#input"].value.substring(r,e["#input"].value.length);
e["#input"].value=a+i+o,e["#input"].dispatchEvent(new Event("input",{bubbles:!0})),
e["#input"].setSelectionRange(n+i.length,n+i.length)}})},_cutInputValue:function(){
var e=this["#input"].selectionStart,t=this["#input"].selectionEnd,n=this["#input"].value.substring(e,t),r=this["#input"].value.substring(0,e),i=this["#input"].value.substring(t,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].dispatchEvent(new Event("input",{bubbles:!0
})),this["#input"].setSelectionRange(e,e),body.bridge.postMessage("setClipboardData",{
"text/plain":n})}},{},n)}(HTMLElement),o=n("bx-filterinput",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-fontfamilybutton",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fontfamilybutton")),t=(e.createElement,
e.registerElement),n='\n  <style>@import url("stylesheets/bx-fontfamilybutton.css");</style>\n\n  <main>\n    <label id="label"></label>\n\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use href="images/icons.svg#arrow-right" width="100" height="100"></use>\n    </svg>\n  </main>\n',r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=n;var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"label"===e&&this._onLabelAttributeChange()},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(e){this.setAttribute("label",e)},get mixed(){return this.hasAttribute("mixed");
},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get disabled(){
return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label}},{},e);
}(HTMLElement),i=t("bx-fontfamilybutton",r);return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-fontfamilypicker",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-filterinput","elements/bx-fontfamilypicker")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fontslistitem","elements/bx-fontfamilypicker"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fontfamilypicker")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-fontfamilypicker")),i=r.sleep,a=r.debounce,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-fontfamilypicker"))["default"],s=(Object.keys,
'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-fontfamilypicker.css");\n  </style>\n\n  <main>\n    <div id="items">\n      <div id="primary-items"></div>\n      <div id="secondary-items"></div>\n      <div id="placeholder" hidden>No families found.</div>\n    </div>\n\n    <bx-filterinput id="filter-input" placeholder="Filter"></bx-filterinput>\n  </main>\n'),l=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("focusin",function(t){
return e._onHostFocusIn(t)}),this.addEventListener("keydown",function(t){return e._onKeyDown(t);
}),this["#items"].addEventListener("pointerdown",function(t){return e._onItemsPointerDown(t);
}),this["#items"].addEventListener("dblclick",function(t){return e._onItemsDblClick(t);
}),this["#items"].addEventListener("focusin",function(t){return e._onItemsFocusIn(t);
}),this["#filter-input"].addEventListener("input",function(){return e._onFilterInputInput();
})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"enabled"===e&&this.enabled&&this._onEnabled();
},get value(){return this.getAttribute("value")},set value(e){e?this.setAttribute("value",e):this.removeAttribute("value");
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e,t,n,r,i,a,o;return $traceurRuntime.asyncWrap(function(s){
for(;;)switch(s.state){case 0:return void Promise.resolve(this._updatePrimaryItems()).then(s.createCallback(2),s.errback);
case 2:s.state=0===this["#secondary-items"].childElementCount?3:4;break;case 3:return void Promise.resolve(this._updateSecondaryItems()).then(s.createCallback(4),s.errback);
case 4:this._updateThumbnails(),this._updatePlaceholderVisibility(),e=!1,t=!0,n=!1,
r=void 0;try{for(i=void 0,a=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)o=i.value,
e===!1&&o.value===this.value?(o.highlighted=!0,e=!0):o.highlighted=!1}catch(l){n=!0,
r=l}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}s.state=-2;
break;default:return s.end()}},this)},_onValueAttributeChange:function(){var e=this["#items"].querySelector("bx-fontslistitem[highlighted]");
if(!e||e.value!==this.value){var t=!1,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t===!1&&s.value===this.value?(s.highlighted=!0,t=!0):s.highlighted=!1;
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}},_onHostFocusIn:function(e){var t=this["#primary-items"].querySelector("[highlighted]");
t&&i(100).then(function(){return t.focus()})},_onItemsPointerDown:function(e){"bx-fontslistitem"===e.target.localName&&this._onItemPointerDown(e);
},_onItemsDblClick:function(e){"bx-fontslistitem"===e.target.localName&&this._onItemDblClick(e);
},_onItemsFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].querySelectorAll("bx-fontslistitem")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}},_onItemPointerDown:function(e){var t=e.target;t&&t.value!==this.value&&(this.value=t.value,
this.dispatchEvent(new CustomEvent("change")))},_onItemDblClick:function(e){var t=e.target;
if(t.parentElement===this["#secondary-items"]){var n=t.value.replaceAll(" ","+");body.bridge.postMessage("openExternalURL","https://www.google.com/fonts/specimen/"+n);
}},_onFilterInputInput:function(){var e=this["#filter-input"].value,t=$traceurRuntime.spread(this["#primary-items"].children,this["#secondary-items"].children),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
s.hidden=s.value.toLowerCase().startsWith(e.toLowerCase())===!1}}catch(l){r=!0,i=l;
}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}this._updatePlaceholderVisibility();
},_onKeyDown:function(e){var t=o.fromEvent(e);t.matches("ArrowUp")?(e.preventDefault(),
e.stopPropagation(),this._selectPreviousItem()):t.matches("ArrowDown")&&(e.preventDefault(),
e.stopPropagation(),this._selectNextItem())},_updatePrimaryItems:function(){var e=this;
return new Promise(function(n,r){e["#primary-items"].innerHTML="";var i=body.canvas.googleFontsManager.getImportedFamilies(),a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=t("bx-fontslistitem");
d.value=c,d.hidden=d.value.toLowerCase().startsWith(e["#filter-input"].value.toLowerCase())===!1,
e.value!==d.value||e["#items"].querySelector("bx-fontslistitem[highlighted]")||(d.highlighted=!0),
e["#primary-items"].append(d)}}catch(h){o=!0,s=h}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}n()})},_updateSecondaryItems:function(){var e=this;return new Promise(function(n,r){
var i,a;return $traceurRuntime.asyncWrap(function(r){for(;;)switch(r.state){case 0:
return void Promise.resolve(body.canvas.googleFontsManager.getAllFamilies()).then(r.createCallback(3),r.errback);
case 3:i=r.value,r.state=2;break;case 2:e["#secondary-items"].innerHTML="",a=function(r){
for(;r.timeRemaining()>20&&i.length>0;){var o=t("bx-fontslistitem");o.value=i.shift(),
o.hidden=o.value.toLowerCase().startsWith(e["#filter-input"].value.toLowerCase())===!1,
o.highlighted=e.value===o.value,e["#secondary-items"].append(o)}i.length>0?requestIdleCallback(a):n();
},i.length>0?requestIdleCallback(a):n(),r.state=-2;break;default:return r.end()}},this);
})},_updateThumbnails:function(){var e=this,t=this["#primary-items"].children,n=this["#secondary-items"].children,r=$traceurRuntime.spread(t,n),i=a(function(){
var t=e["#items"].scrollTop,n=!0,i=!1,a=void 0;try{for(var o=void 0,s=$traceurRuntime.spread(r).reverse()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;l.offsetTop>=t&&l.offsetTop<=t+e["#items"].clientHeight&&l.hidden===!1&&(r.remove(l),
r.unshift(l))}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]()}finally{
if(i)throw a}}},150),o=function(t){var n;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:i.state=t.timeRemaining()>10&&r.length>0&&e.enabled===!0?5:7;
break;case 5:n=r.shift(),i.state=6;break;case 6:i.state=n.thubmnail?0:1;break;case 1:
return void Promise.resolve(body.canvas.googleFontsManager.getThumbnail(n.value)).then(i.createCallback(3),i.errback);
case 3:n.thumbnail=i.value,i.state=0;break;case 7:s(),i.state=-2;break;default:return i.end();
}},this)},s=function(){r.length>0&&e.enabled===!0?requestIdleCallback(o):(e["#items"].removeEventListener("scroll",i),
e["#filter-input"].removeEventListener("input",i))};this["#items"].addEventListener("scroll",i),
this["#filter-input"].addEventListener("input",i),s()},_updatePlaceholderVisibility:function(){
this["#placeholder"].hidden=null!==this["#items"].querySelector("bx-fontslistitem:not([hidden])");
},_selectPreviousItem:function(){var e=this["#items"].querySelector("[highlighted]"),t=null;
if(e&&"bx-fontslistitem"===e.localName){for(var n=e.previousElementSibling;n;n=n.previousElementSibling)if(n.hidden===!1){
t=n;break}if(null===t&&"secondary-items"===e.parentElement.id)for(var r=this["#primary-items"].lastElementChild;r;r=r.previousElementSibling)if(r.hidden===!1){
t=r;break}}t&&(t.focus(),this.value=t.value,this.dispatchEvent(new CustomEvent("change")));
},_selectNextItem:function(){var e=this["#items"].querySelector("[highlighted]"),t=null;
if(e&&"bx-fontslistitem"===e.localName){for(var n=e.nextElementSibling;n;n=n.nextElementSibling)if(n.hidden===!1){
t=n;break}if(null===t&&"primary-items"===e.parentElement.id)for(var r=this["#secondary-items"].firstElementChild;r;r=r.nextElementSibling)if(r.hidden===!1){
t=r;break}}t&&(t.focus(),this.value=t.value,this.dispatchEvent(new CustomEvent("change")));
}},{},e)}(HTMLElement),u=n("bx-fontfamilypicker",l);return{get default(){return u;
}}}),$traceurRuntime.registerModule("elements/bx-fontslistitem",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-fontslistitem")),t=(e.createElement,
e.registerElement),n='\n  <style>@import url("stylesheets/bx-fontslistitem.css");</style>\n\n  <main>\n    <div id="label"></div>\n    <img id="thumbnail" hidden></img>\n  </main>\n',r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=n;var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"value"===e&&this._onValueAttributeChange()},get value(){return this.getAttribute("value");
},set value(e){e?this.setAttribute("value",e):this.removeAttribute("value")},get highlighted(){
return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src||null},set thumbnail(e){this["#thumbnail"].src=e?e:"",
this._onThumbnailChange()},_onValueAttributeChange:function(){this["#label"].textContent=this.value?this.value:"";
},_onThumbnailChange:function(){this.thumbnail?(this["#label"].hidden=!0,this["#thumbnail"].hidden=!1):(this["#label"].hidden=!1,
this["#thumbnail"].hidden=!0)}},{},e)}(HTMLElement),i=t("bx-fontslistitem",r);return{
get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-freehandsegsdrawhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-freehandsegsdrawhud")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/curves-schneider","elements/bx-freehandsegsdrawhud")).getSchneiderCurves,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-freehandsegsdrawhud")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-freehandsegsdrawhud")).reversePath,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-freehandsegsdrawhud")).debounce,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-freehandsegsdrawhud")).getTransformToElement,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-freehandsegsdrawhud")).reduceTransform;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-freehandsegsketch","elements/bx-freehandsegsdrawhud"));
var u=10,c=10,d=4,h=60,v='\n  <style>@import url("stylesheets/bx-freehandsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-freehandsegsketch"></g>\n',f=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=v;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this.attributes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;this.attributeChangedCallback(h.name)}}catch(f){l=!0,u=f}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._currentPath=null,body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),this["#node-grippies"].addEventListener("pointerdown",this._nodeGrippiesPointerDownListener=function(t){
e._onNodeGrippiePointerDown(t)}),this._onSelectedElementsChange()},_onDisabled:function(){
body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this["#node-grippies"].removeEventListener("pointerdown",this._nodeGrippiesPointerDownListener),
this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(e){this._updateNodeGrippies()},_onNodeGrippiePointerDown:function(e){
var t=this;body.canvas.undoManager.checkpoint("Draw freehand path segments");var n,u,v=e.target,f=v.ownerPath,m=f.getPathData(),p=v.getAttribute("data-position");
this._currentPath=f,this._mode="end"===p?"draw-forward":"draw-backward",this["#seg-sketch"].show(f,v),
this._updateNodeGrippies();var b=function(){var e=t["#seg-sketch"].points;if("draw-forward"===t._mode){
if(0===e.length)return;if(1===e.length||2===e.length)m.push({type:"L",values:[e[e.length-1].x,e[e.length-1].y]
});else if(e.length>=3){var n=r(e,d/body.canvas.scale),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;m.push({type:"C",values:[u[1].x,u[1].y,u[2].x,u[2].y,u[3].x,u[3].y]
})}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}}}else if("draw-backward"===t._mode){e=$traceurRuntime.spread(e).reverse();var h=[];
if(0===e.length)return;if(1===e.length)h.push({type:"M",values:[e[0].x,e[0].y]});else if(2===e.length)h.push({
type:"M",values:[e[0].x,e[0].y]}),h.push({type:"L",values:[e[1].x,e[1].y]});else if(e.length>=3){
var v=r(e,d/body.canvas.scale);h.push({type:"M",values:[v[0][0].x,v[0][0].y]});var p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=v[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value;
h.push({type:"C",values:[_[1].x,_[1].y,_[2].x,_[2].y,_[3].x,_[3].y]})}}catch(w){b=!0,
g=w}finally{try{p||null==x["return"]||x["return"]()}finally{if(b)throw g}}}m=$traceurRuntime.spread(h,m.slice(1));
}f.setPathData(m),t["#seg-sketch"].clear()};window.addEventListener("pointermove",n=o(function(){
t["#seg-sketch"].points.length>=c&&b()},h,this,!1)),window.addEventListener("pointerup",u=function(e){
window.removeEventListener("pointerup",u),window.removeEventListener("pointermove",n),
t["#seg-sketch"].points.length>1&&b();var r=t._shadowRoot.elementFromPoint(e.clientX,e.clientY);
if(r&&t["#node-grippies"].contains(r)){var o=r,c=o.ownerPath;if(c===f){var d={type:"Z",
values:[]};m.push(d)}else{var h=s(c,f);c.setAttribute("transform",h.toString()),l(c,{
geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preserveRotation:!1});var v=o.getAttribute("data-position");if("draw-forward"===t._mode){
"end"===v&&a(c);for(var p=c.getPathData({normalize:!0}),g=1;g<p.length;g+=1){var y=p[g];
m.push(y)}c.setPathData([]),c.remove()}else if("draw-backward"===t._mode){"start"===v&&a(c);
var x=c.getPathData({normalize:!0});m=$traceurRuntime.spread(x,m),c.setPathData([]),
c.remove()}}}var _=!0,w=!1,S=void 0;try{for(var k=void 0,C=m[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;R.values=R.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(M){w=!0,S=M}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}f.setPathData(m),t["#seg-sketch"].hide(),"select"===t._mode,t._currentPath=null,
t._updateNodeGrippies()})},_onArtboardPointerDown:function(e){var n=this;body.canvas.undoManager.checkpoint("Draw freehand path segments");
var u=body.canvas.currentContainer||body.canvas.currentArtboard,v=t("svg:path");v.style.setProperty("stroke","black"),
v.style.setProperty("fill","none"),u.append(v);var f,m,p=v.getScreenCTM().inverse(),b=e,g=b.clientX,y=b.clientY,x=new SVGPoint(g,y).matrixTransform(p),_=x.x,w=x.y,S=(body.canvas.geometryPrecision,
[{type:"M",values:[_,w]}]);v.setPathData(S),body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[v]),
this._mode="draw-forward",this._currentPath=v,this["#seg-sketch"].show(v),this._updateNodeGrippies();
var k=function(){var e=n["#seg-sketch"].points;v.getAttribute("d");if(0!==e.length){
if(1===e.length||2===e.length)S.push({type:"L",values:[e[e.length-1].x,e[e.length-1].y]
});else if(e.length>=3){var t=r(e,d/body.canvas.scale),i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;S.push({type:"C",values:[u[1].x,u[1].y,u[2].x,u[2].y,u[3].x,u[3].y]
})}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}}v.setPathData(S),n["#seg-sketch"].clear()}};window.addEventListener("pointermove",f=o(function(){
n["#seg-sketch"].points.length>=c&&k()},h,this,!1)),window.addEventListener("pointerup",m=function(e){
window.removeEventListener("pointerup",m),window.removeEventListener("pointermove",f);
var t=n._shadowRoot.elementFromPoint(e.clientX,e.clientY);if(n["#seg-sketch"].points.length>0&&k(),
t&&n["#node-grippies"].contains(t)){var r=t;if(r.ownerPath===v)S.push({type:"Z",values:[]
}),v.setPathData(S);else{var o=r.getAttribute("data-position"),u=r.ownerPath,c=s(u,v);
u.setAttribute("transform",c.toString()),l(u,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preserveRotation:!1}),"end"===o&&a(u);
for(var d=u.getPathData({normalize:!0}),h=1;h<d.length;h+=1){var p=d[h];S.push(p);
}u.setPathData([]),u.remove()}}var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=S[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;w.values=w.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(C){g=!0,y=C}finally{try{b||null==_["return"]||_["return"]()}finally{if(g)throw y;
}}v.setPathData(S),n["#seg-sketch"].hide(),n._mode="select",n._currentPath=null,n._updateNodeGrippies();
})},_updateNodeGrippies:function(){this["#node-grippies"].innerHTML="";var e=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._getSelectedPaths()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=o.getPathData({normalize:!0}),u=void 0,c=void 0;0===l.length?(u=null,
c=null):1===l.length?(u=l[0],c=null):l.length>1&&(u=l[0],c=l[l.length-1]);var d=s(o,this),h=c&&"Z"===c.type;
if(u&&!h&&(o!==this._currentPath||"draw-backward"!==this._mode)){var v=new SVGPoint(u.values[0],u.values[1]).matrixTransform(d),f=t("svg:ellipse");
f.setAttribute("class","node-grippie"),f.setAttribute("cx",v.x),f.setAttribute("cy",v.y),
f.setAttribute("data-position","start"),f.ownerPath=o,this["#node-grippies"].append(f);
}if(c&&!h&&(o!==this._currentPath||"draw-forward"!==this._mode)){var m=void 0;m="C"===c.type?new SVGPoint(c.values[4],c.values[5]).matrixTransform(d):new SVGPoint(c.values[0],c.values[1]).matrixTransform(d);
var p=t("svg:ellipse");p.setAttribute("class","node-grippie"),p.setAttribute("cx",m.x),
p.setAttribute("cy",m.y),p.setAttribute("data-position","end"),p.ownerPath=o,this["#node-grippies"].append(p);
}}}catch(b){n=!0,r=b}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=u/2/body.canvas.scale,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.setAttribute("rx",e),o.setAttribute("ry",e)}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("data-bx-shape")===!1?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),m=n("g","bx-freehandsegsdrawhud",f);return{get default(){
return m}}}),$traceurRuntime.registerModule("elements/bx-freehandsegsketch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-freehandsegsketch")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-freehandsegsketch")).getTransformToElement,n='\n  <style>@import url("stylesheets/bx-freehandsegsketch.css");</style>\n  <polyline id="outline"></polyline>\n',r=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=n;var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw r}}this._path=null,this._hasListeners=!1},get points(){return this["#outline"].points;
},show:function(e){var n=void 0!==arguments[1]?arguments[1]:null;if(this._path=e,
this["#outline"].setAttribute("points",""),this._path.hasAttribute("transform")?this["#outline"].setAttribute("transform",this._path.getAttribute("transform")):this["#outline"].removeAttribute("transform"),
this.style.setProperty("visibility","visible"),n){var r=t(n,this._path),i=new SVGPoint(n.cx.baseVal.value,n.cy.baseVal.value);
i=i.matrixTransform(r),this["#outline"].points.appendItem(i)}this._hasListeners===!1&&this._addListeners();
},hide:function(){this._path=null,this.style.setProperty("visibility","hidden"),this["#outline"].setAttribute("points",""),
this._hasListeners===!0&&this._removeListeners()},clear:function(){this["#outline"].setAttribute("points","");
},_addListeners:function(){var e=this;this._hasListeners=!0,window.addEventListener("pointermove",this._pointerMoveListener=function(t){
var n=e._path.getScreenCTM().inverse(),r=new SVGPoint(t.clientX,t.clientY),i=r.matrixTransform(n);
e["#outline"].points.appendItem(i)})},_removeListeners:function(){this._hasListeners=!1,
window.removeEventListener("pointermove",this._pointerMoveListener)}},{},e)}(SVGGElement),i=e("g","bx-freehandsegsketch",r);
return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-freehandtool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-freehandtool")).registerElement,t=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-freehand-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-freehand-segs-hud");
}},{},e)}(HTMLElement),n=e("bx-freehandtool",t);return{get default(){return n}}}),
$traceurRuntime.registerModule("elements/bx-geometrycontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-geometrycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-geometrycontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-geometrycontrols")),t=e.getUserBBox,n=(e.getClientBBox,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-geometrycontrols"))),r=(n.createElement,
n.registerElement),i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-geometrycontrols")),a=i.getDistanceBetweenPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-geometrycontrols")).round,l=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-geometrycontrols")).getDefFromURL,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-geometrycontrols"))),u=l.transformRect,c=l.combineRects,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-geometrycontrols")).throttle,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-geometrycontrols")).reduceTransform,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-geometrycontrols")),f=v.getElementRotationAngle,m=v.getTransformOriginBBoxPoint,p=(v.getTransformOriginUserPoint,
v.getComputedTransformOriginClientPoint),b=v.getTransformToElement,g=v.setTransformOriginBBoxPoint,y=v.bboxPointToUserPoint,x=v.userPointToBBoxPoint,_=Math.min,w='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-geometrycontrols.css");\n  </style>\n\n  <section id="object-section">\n    <h2 id="object-section-heading">Object</h2>\n\n    <div id="object-position-div" class="hbox">\n      <div id="object-x-div">\n        <h3 id="object-x-heading">X</h3>\n        <bx-slider id="object-x-slider" value="0" precision="0"></bx-slider>\n      </div>\n\n      <div id="object-y-div">\n        <h3 id="object-y-heading">Y</h3>\n        <bx-slider id="object-y-slider" value="0" precision="0"></bx-slider>\n      </div>\n    </div>\n\n    <div id="object-size-div" class="hbox">\n      <div id="object-width-div">\n        <h3 id="object-width-heading">Width</h3>\n        <bx-slider id="object-width-slider" min="1" value="0" precision="0"></bx-slider>\n      </div>\n\n      <div id="object-height-div">\n        <h3 id="object-height-heading">Height</h3>\n        <bx-slider id="object-height-slider" min="1" value="0" precision="0"></bx-slider>\n      </div>\n    </div>\n\n    <div id="object-rotation-div">\n      <h3 id="object-rotation-heading">Rotation</h2>\n      <bx-slider id="object-rotation-slider" value="0" min="-180" max="180" precision="0" after="°"></bx-slider>\n    </div>\n\n    <div id="object-origin-div" class="hbox">\n      <div id="object-origin-x-div">\n        <h3 id="object-origin-x-heading">Origin X</h3>\n        <bx-slider id="object-origin-x-slider" value = "0" precision="0"></bx-slider>\n      </div>\n\n      <div id="object-origin-y-div">\n        <h3 id="object-origin-y-heading">Origin Y</h3>\n        <bx-slider id="object-origin-y-slider" value = "0" precision="0"></bx-slider>\n      </div>\n    </div>\n  </section>\n',S=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._update100Th=d(this._update,100,this),
this._isChangingObjectXSlider=!1,this._isChangingObjectYSlider=!1,this._isChangingObjectWidthSlider=!1,
this._isChangingObjectHeightSlider=!1,this._isChangingObjectRotationSlider=!1,this._isChangingObjectOriginXSlider=!1,
this._isChangingObjectOriginYSlider=!1,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=w;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(u)throw c}}this["#object-width-slider"].addEventListener("changestart",function(){
e._onObjectWidthSliderChangeStart()}),this["#object-height-slider"].addEventListener("changestart",function(){
e._onObjectHeightSliderChangeStart()}),this["#object-x-slider"].addEventListener("changestart",function(){
e._onObjectXSliderChangeStart()}),this["#object-y-slider"].addEventListener("changestart",function(){
e._onObjectYSliderChangeStart()}),this["#object-rotation-slider"].addEventListener("changestart",function(){
e._onObjectRotationSliderChangeStart()}),this["#object-origin-x-slider"].addEventListener("changestart",function(){
e._onObjectOriginXSliderChangeStart()}),this["#object-origin-y-slider"].addEventListener("changestart",function(){
e._onObjectOriginYSliderChangeStart()})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update100Th()},_onArtboardMutation:function(e){
this._update100Th()},_onObjectXSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("X");
var n,r,i=body.canvas.selectedElements,a=Symbol(),o=[],s=!1;this._isChangingObjectXSlider=!0;
var l=!0,d=!1,v=void 0;try{for(var f=void 0,m=i[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){
var p=f.value,g=b(p,body.canvas.currentArtboard),y=g.inverse(),x=SVGMatrix.fromMatrix(p.transform.baseVal.consolidate().matrix);
p[a]={userTransform:x,userToArtboardTransform:g,artboardToUserTransform:y};var _=t(p);
o.push(u(_,g))}}catch(w){d=!0,v=w}finally{try{l||null==m["return"]||m["return"]();
}finally{if(d)throw v}}var S=c(o).x;this["#object-x-slider"].addEventListener("change",n=function(){
var t=e["#object-x-slider"].value-S,n=0;s=!0;var r=!0,o=!1,l=void 0;try{for(var u=void 0,c=i[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){
var d=u.value,h=d[a],v=h.userTransform,f=h.userToArtboardTransform,m=h.artboardToUserTransform,p=SVGMatrix.fromMatrix(v);
p.multiplySelf(m),p.translateSelf(t,n),p.multiplySelf(f),d.setAttribute("transform",p.toString());
}}catch(b){o=!0,l=b}finally{try{r||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}}),this["#object-x-slider"].addEventListener("changeend",r=function(){if(e["#object-x-slider"].removeEventListener("change",n),
e["#object-x-slider"].removeEventListener("changeend",r),e._isChangingObjectXSlider=!1,
s){var t=!0,a=!1,o=void 0;try{for(var l=void 0,u=i[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){
var c=l.value;h(c,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(d){a=!0,o=d}finally{try{t||null==u["return"]||u["return"]()}finally{if(a)throw o;
}}}})},_onObjectYSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Y");
var n,r,i=body.canvas.selectedElements,a=Symbol(),o=[],s=!1;this._isChangingObjectYSlider=!0;
var l=!0,d=!1,v=void 0;try{for(var f=void 0,m=i[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){
var p=f.value,g=b(p,body.canvas.currentArtboard),y=g.inverse(),x=SVGMatrix.fromMatrix(p.transform.baseVal.consolidate().matrix);
p[a]={userTransform:x,userToArtboardTransform:g,artboardToUserTransform:y};var _=t(p);
o.push(u(_,g))}}catch(w){d=!0,v=w}finally{try{l||null==m["return"]||m["return"]();
}finally{if(d)throw v}}var S=c(o).y;this["#object-y-slider"].addEventListener("change",n=function(){
var t=0,n=e["#object-y-slider"].value-S;s=!0;var r=!0,o=!1,l=void 0;try{for(var u=void 0,c=i[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){
var d=u.value,h=d[a],v=h.userTransform,f=h.userToArtboardTransform,m=h.artboardToUserTransform,p=SVGMatrix.fromMatrix(v);
p.multiplySelf(m),p.translateSelf(t,n),p.multiplySelf(f),d.setAttribute("transform",p.toString());
}}catch(b){o=!0,l=b}finally{try{r||null==c["return"]||c["return"]()}finally{if(o)throw l;
}}}),this["#object-y-slider"].addEventListener("changeend",r=function(){if(e["#object-y-slider"].removeEventListener("change",n),
e["#object-y-slider"].removeEventListener("changeend",r),e._isChangingObjectYSlider=!1,
s){var t=!0,a=!1,o=void 0;try{for(var l=void 0,u=i[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){
var c=l.value;h(c,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(d){a=!0,o=d}finally{try{t||null==u["return"]||u["return"]()}finally{if(a)throw o;
}}}})},_onObjectWidthSliderChangeStart:function(){var e=this,n=body.canvas.selectedElements;
if(1===n.length){body.canvas.undoManager.checkpoint("Width"),this._isChangingObjectWidthSlider=!0;
var r,i,o=n[0],s=t(o),l=b(o,body.canvas.currentArtboard),d=SVGMatrix.fromMatrix(o.transform.baseVal.consolidate().matrix),v=!1,f=a(new SVGPoint(s.x,s.y).matrixTransform(l),new SVGPoint(s.x+s.width,s.y).matrixTransform(l));
this["#object-width-slider"].addEventListener("change",r=function(){v=!0;var t=e["#object-width-slider"].value,n=t/f,r=1,i=-s.x*(n-1),a=0,l=SVGMatrix.fromMatrix(d);
l.translateSelf(i,a),l.scaleNonUniformSelf(n,r),o.setAttribute("transform",l.toString());
}),this["#object-width-slider"].addEventListener("changeend",i=function(){e["#object-width-slider"].removeEventListener("change",r),
e["#object-width-slider"].removeEventListener("changeend",i),e._isChangingObjectWidthSlider=!1,
v&&h(o,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})})}else if(n.length>1){body.canvas.undoManager.checkpoint("Width"),this._isChangingObjectWidthSlider=!0;
var m,p,g=[],y=Symbol(),x=!1,_=!0,w=!1,S=void 0;try{for(var k=void 0,C=n[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value,M=SVGMatrix.fromMatrix(R.transform.baseVal.consolidate().matrix),E=b(R,body.canvas.currentArtboard),P=E.inverse();
R[y]={userTransform:M,userToArtboardTransform:E,artboardToUserTransform:P};var A=u(t(R),E);
g.push(A)}}catch(T){w=!0,S=T}finally{try{_||null==C["return"]||C["return"]()}finally{
if(w)throw S}}var L=c(g),N=L.width;this["#object-width-slider"].addEventListener("change",m=function(){
var t=e["#object-width-slider"].value;x=!0;var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l[y],c=u.userTransform,d=u.userToArtboardTransform,h=u.artboardToUserTransform,v=t/N,f=1,m=-L.x*(v-1),p=0,b=SVGMatrix.fromMatrix(c);
b.multiplySelf(h),b.translateSelf(m,p),b.scaleNonUniformSelf(v,f),b.multiplySelf(d),
l.setAttribute("transform",b.toString())}}catch(g){i=!0,a=g}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}),this["#object-width-slider"].addEventListener("changeend",p=function(){
if(e["#object-width-slider"].removeEventListener("change",m),e["#object-width-slider"].removeEventListener("changeend",p),
e._isChangingObjectWidthSlider=!1,x){var t=!0,r=!1,i=void 0;try{for(var a=void 0,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;h(s,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(l){r=!0,i=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}})}},_onObjectHeightSliderChangeStart:function(){var e=this,n=body.canvas.selectedElements;
if(1===n.length){body.canvas.undoManager.checkpoint("Height"),this._isChangingObjectHeightSlider=!0;
var r,i,o=n[0],s=t(o),l=b(o,body.canvas.currentArtboard),d=SVGMatrix.fromMatrix(o.transform.baseVal.consolidate().matrix),v=!1,f=a(new SVGPoint(s.x,s.y).matrixTransform(l),new SVGPoint(s.x,s.y+s.height).matrixTransform(l));
this["#object-height-slider"].addEventListener("change",r=function(){v=!0;var t=e["#object-height-slider"].value,n=1,r=t/f,i=0,a=-s.y*(r-1),l=SVGMatrix.fromMatrix(d);
l.translateSelf(i,a),l.scaleNonUniformSelf(n,r),o.setAttribute("transform",l.toString());
}),this["#object-height-slider"].addEventListener("changeend",i=function(){e["#object-height-slider"].removeEventListener("change",r),
e["#object-height-slider"].removeEventListener("changeend",i),e._isChangingObjectHeightSlider=!1,
v&&h(o,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})})}else if(n.length>1){body.canvas.undoManager.checkpoint("Height"),this._isChangingObjectHeightSlider=!0;
var m,p,g=[],y=Symbol(),x=!1,_=!0,w=!1,S=void 0;try{for(var k=void 0,C=n[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value,M=SVGMatrix.fromMatrix(R.transform.baseVal.consolidate().matrix),E=b(R,body.canvas.currentArtboard),P=E.inverse();
R[y]={userTransform:M,userToArtboardTransform:E,artboardToUserTransform:P};var A=u(t(R),E);
g.push(A)}}catch(T){w=!0,S=T}finally{try{_||null==C["return"]||C["return"]()}finally{
if(w)throw S}}var L=c(g),N=L.height;this["#object-height-slider"].addEventListener("change",m=function(){
x=!0;var t=e["#object-height-slider"].value,r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l[y],c=u.userTransform,d=u.userToArtboardTransform,h=u.artboardToUserTransform,v=1,f=t/N,m=0,p=-L.y*(f-1),b=SVGMatrix.fromMatrix(c);
b.multiplySelf(h),b.translateSelf(m,p),b.scaleNonUniformSelf(v,f),b.multiplySelf(d),
l.setAttribute("transform",b.toString())}}catch(g){i=!0,a=g}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}}),this["#object-height-slider"].addEventListener("changeend",p=function(){
if(e["#object-height-slider"].removeEventListener("change",m),e["#object-height-slider"].removeEventListener("changeend",p),
e._isChangingObjectHeightSlider=!1,x){var t=!0,r=!1,i=void 0;try{for(var a=void 0,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;h(s,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(l){r=!0,i=l}finally{try{t||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}}})}},_onObjectRotationSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Rotation"),
this._isChangingObjectRotationSlider=!0;var t,n,r=body.canvas.selectedElements,i=this["#object-rotation-slider"].value,a=p(r),s=Symbol(),l=!1,u=!0,c=!1,d=void 0;
try{for(var v=void 0,f=r[Symbol.iterator]();!(u=(v=f.next()).done);u=!0){var m=v.value,b=SVGMatrix.fromMatrix(m.transform.baseVal.consolidate().matrix),g=m.getScreenCTM(),y=g.inverse();
m[s]={clientToUserTransform:g,userToClientTransform:y,userTransform:b}}}catch(x){
c=!0,d=x}finally{try{u||null==f["return"]||f["return"]()}finally{if(c)throw d}}this["#object-rotation-slider"].addEventListener("change",t=function(){
l=!0,body.modKeys.shift&&(e["#object-rotation-slider"].value=o(e["#object-rotation-slider"].value,15));
var t=e["#object-rotation-slider"].value,n=t-i,u=!0,c=!1,d=void 0;try{for(var h=void 0,v=r[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value,m=f[s],p=m.clientToUserTransform,b=m.userToClientTransform,g=m.userTransform,y=SVGMatrix.fromMatrix(g);
y.multiplySelf(b),y.rotateSelf(n,a.x,a.y),y.multiplySelf(p),f.setAttribute("transform",y.toString());
}}catch(x){c=!0,d=x}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}}),this["#object-rotation-slider"].addEventListener("changeend",n=function(){if(e["#object-rotation-slider"].removeEventListener("change",t),
e["#object-rotation-slider"].removeEventListener("changeend",n),e._isChangingObjectRotationSlider=!1,
l){var i=!0,a=!1,o=void 0;try{for(var s=void 0,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){
var c=s.value;h(c,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(d){a=!0,o=d}finally{try{i||null==u["return"]||u["return"]()}finally{if(a)throw o;
}}}})},_onObjectOriginXSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Origin X"),
this._isChangingObjectOriginXSlider=!0;var n,r,i=Symbol(),a=Symbol(),o=body.canvas.selectedElements,s=body.canvas.currentArtboard.getCTM().inverse(),l=p(o),u=l.matrixTransform(s),c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m[i]=b(m,body.canvas.currentArtboard).inverse(),m[a]=t(m)}}catch(y){d=!0,h=y}finally{
try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#object-origin-x-slider"].addEventListener("change",n=function(){
var t=new SVGPoint(e["#object-origin-x-slider"].value,u.y),n=!0,r=!1,s=void 0;try{
for(var l=void 0,c=o[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var d=l.value,h=t.matrixTransform(d[i]),v=x(h,d[a]);
g(d,v,body.canvas.geometryPrecision)}}catch(f){r=!0,s=f}finally{try{n||null==c["return"]||c["return"]();
}finally{if(r)throw s}}}),this["#object-origin-x-slider"].addEventListener("changeend",r=function(){
e["#object-origin-x-slider"].removeEventListener("change",n),e["#object-origin-x-slider"].removeEventListener("changeend",r),
e._isChangingObjectOriginXSlider=!1})},_onObjectOriginYSliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Origin Y"),this._isChangingObjectOriginYSlider=!0;
var n,r,i=Symbol(),a=Symbol(),o=body.canvas.selectedElements,s=body.canvas.currentArtboard.getCTM().inverse(),l=p(o),u=l.matrixTransform(s),c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m[i]=b(m,body.canvas.currentArtboard).inverse(),m[a]=t(m)}}catch(y){d=!0,h=y}finally{
try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#object-origin-y-slider"].addEventListener("change",n=function(){
var t=new SVGPoint(u.x,e["#object-origin-y-slider"].value),n=!0,r=!1,s=void 0;try{
for(var l=void 0,c=o[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var d=l.value,h=t.matrixTransform(d[i]),v=x(h,d[a]);
g(d,v,body.canvas.geometryPrecision)}}catch(f){r=!0,s=f}finally{try{n||null==c["return"]||c["return"]();
}finally{if(r)throw s}}}),this["#object-origin-y-slider"].addEventListener("changeend",r=function(){
e["#object-origin-y-slider"].removeEventListener("change",n),e["#object-origin-y-slider"].removeEventListener("changeend",r),
e._isChangingObjectOriginYSlider=!1})},_update:function(){this._updateObjectSection();
},_updateObjectSection:function(){var e=body.canvas.selectedElements;if(0===e.length)this["#object-section-heading"].disabled=!0,
this["#object-x-heading"].disabled=!0,this["#object-x-slider"].disabled=!0,this["#object-x-slider"].value=0,
this["#object-y-heading"].disabled=!0,this["#object-y-slider"].disabled=!0,this["#object-y-slider"].value=0,
this["#object-width-heading"].disabled=!0,this["#object-width-slider"].disabled=!0,
this["#object-width-slider"].value=0,this["#object-height-heading"].disabled=!0,this["#object-height-slider"].disabled=!0,
this["#object-height-slider"].value=0,this["#object-rotation-heading"].disabled=!0,
this["#object-rotation-slider"].disabled=!0,this["#object-rotation-slider"].value=0,
this["#object-origin-x-heading"].disabled=!0,this["#object-origin-x-slider"].disabled=!0,
this["#object-origin-x-slider"].value=0,this["#object-origin-y-heading"].disabled=!0,
this["#object-origin-y-slider"].disabled=!0,this["#object-origin-y-slider"].value=0;else if(1===e.length){
var n=e[0],r=b(n,body.canvas.currentArtboard),i=t(n),o=[new SVGPoint(i.x,i.y).matrixTransform(r),new SVGPoint(i.x+i.width,i.y).matrixTransform(r),new SVGPoint(i.x+i.width,i.y+i.height).matrixTransform(r),new SVGPoint(i.x,i.y+i.height).matrixTransform(r)],l=a(o[0],o[1]),d=a(o[1],o[2]),h=o.map(function(e){
return e.x}),v=o.map(function(e){return e.y}),g=_.apply(void 0,$traceurRuntime.spread(h)),x=_.apply(void 0,$traceurRuntime.spread(v)),w=f(n),S=m(n),k=y(S,i),C=k.matrixTransform(r),R=C.x,M=C.y;
this["#object-section-heading"].disabled=!1,this._isChangingObjectXSlider===!1&&(this["#object-x-heading"].disabled=!1,
this["#object-x-slider"].disabled=!1,this["#object-x-slider"].value=s(g,2)),this._isChangingObjectYSlider===!1&&(this["#object-y-heading"].disabled=!1,
this["#object-y-slider"].disabled=!1,this["#object-y-slider"].value=s(x,2)),this._isChangingObjectWidthSlider===!1&&(this["#object-width-heading"].disabled=!1,
this["#object-width-slider"].disabled=!1,this["#object-width-slider"].value=s(l,2)),
this._isChangingObjectHeightSlider===!1&&(this["#object-height-heading"].disabled=!1,
this["#object-height-slider"].disabled=!1,this["#object-height-slider"].value=s(d,2)),
this._isChangingObjectRotationSlider===!1&&(this["#object-rotation-heading"].disabled=!1,
this["#object-rotation-slider"].disabled=!1,this["#object-rotation-slider"].value=s(w,2)),
this._isChangingObjectOriginXSlider===!1&&(this["#object-origin-x-heading"].disabled=!1,
this["#object-origin-x-slider"].disabled=!1,this["#object-origin-x-slider"].value=s(R,2)),
this._isChangingObjectOriginYSlider===!1&&(this["#object-origin-y-heading"].disabled=!1,
this["#object-origin-y-slider"].disabled=!1,this["#object-origin-y-slider"].value=s(M,2));
}else if(e.length>1){var E=e.map(function(e){var n=b(e,body.canvas.currentArtboard),r=t(e),i=u(r,n);
return i}),P=c(E),A=body.canvas.currentArtboard.getCTM().inverse(),T=p(e,!1),L=T.matrixTransform(A),N=L.x,$=L.y;
this["#object-section-heading"].disabled=!1,this._isChangingObjectXSlider===!1&&(this["#object-x-heading"].disabled=!1,
this["#object-x-slider"].disabled=!1,this["#object-x-slider"].value=s(P.x,2)),this._isChangingObjectYSlider===!1&&(this["#object-y-heading"].disabled=!1,
this["#object-y-slider"].disabled=!1,this["#object-y-slider"].value=s(P.y,2)),this._isChangingObjectWidthSlider===!1&&(this["#object-width-heading"].disabled=!1,
this["#object-width-slider"].disabled=!1,this["#object-width-slider"].value=s(P.width,2)),
this._isChangingObjectHeightSlider===!1&&(this["#object-height-heading"].disabled=!1,
this["#object-height-slider"].disabled=!1,this["#object-height-slider"].value=s(P.height,2)),
this._isChangingObjectRotationSlider===!1&&(this["#object-rotation-heading"].disabled=!1,
this["#object-rotation-slider"].disabled=!1,this["#object-rotation-slider"].value=0),
this._isChangingObjectOriginXSlider===!1&&(this["#object-origin-x-heading"].disabled=!1,
this["#object-origin-x-slider"].disabled=!1,this["#object-origin-x-slider"].value=s(N,2)),
this._isChangingObjectOriginYSlider===!1&&(this["#object-origin-y-heading"].disabled=!1,
this["#object-origin-y-slider"].disabled=!1,this["#object-origin-y-slider"].value=s($,2));
}}},{},e)}(HTMLElement),k=r("bx-geometrycontrols",S);return{get default(){return k;
}}}),$traceurRuntime.registerModule("elements/bx-guide",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-guide")).registerElement,t=Number.parseFloat,n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
get x(){return this.hasAttribute("x")?t(this.getAttribute("x")):0},set x(e){this.setAttribute("x",e);
},get y(){return this.hasAttribute("y")?t(this.getAttribute("y")):0},set y(e){this.setAttribute("y",e);
},get angle(){return this.hasAttribute("angle")?t(this.getAttribute("angle")):0},
set angle(e){this.setAttribute("angle",e)}},{},e)}(SVGGElement),r=e("g","bx-guide",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-huerotatefilter",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-huerotatefilter")),t=e.createElement,n=e.registerElement,r=Number.parseFloat,i=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._update()},attributeChangedCallback:function(e){"data-angle"===e&&this._onAngleChange();
},get angle(){return this.hasAttribute("data-angle")?r(this.getAttribute("data-angle")):0;
},set angle(e){this.setAttribute("data-angle",e)},_onAngleChange:function(){this._update();
},_update:function(){this.innerHTML='<feColorMatrix type="hueRotate" values="'+this.angle+'"/>';
}},{fromSVGFilter:function(e){var n=void 0!==arguments[1]?arguments[1]:!1,i=path.hasAttribute("data-bx-angle")?r(path.getAttribute("data-bx-angle")):0;
if(path.children[0].getAttribute("values")!==""+i)return n&&(path.removeAttribute("data-bx-is"),
path.removeAttribute("data-bx-angle")),null;var a=t("svg:filter","bx-huerotatefilter");
return a}},e)}(SVGFilterElement),a=n("filter","bx-huerotatefilter",i);return{get default(){
return a}}}),$traceurRuntime.registerModule("elements/bx-hueslider",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-hueslider")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-hueslider")).normalize,n=Number.parseInt,r=[[0,[255,0,0]],[.15,[255,255,0]],[.33,[0,255,0]],[.49,[0,255,255]],[.67,[0,0,255]],[.84,[255,0,255]],[1,[255,0,0]]],i='\n  <style>\n    @import url("stylesheets/bx-hueslider.css");\n  </style>\n\n  <main>\n    <canvas id="canvas"></canvas>\n    <div id="marker"></div>\n  </main>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("pointerdown",function(t){
return e._onPointerDown(t)}),this._drawSpectrum()},attributeChangedCallback:function(e){
"hue"===e&&this._onHueAttributeChange()},get hue(){return this.hasAttribute("hue")?n(this.getAttribute("hue")):360;
},set hue(e){this.setAttribute("hue",e)},_onHueAttributeChange:function(){var e=t(this.hue/360*100,0,100,0);
this["#marker"].style.setProperty("left",e+"%")},_onPointerDown:function(e){var t=this;
this.dispatchEvent(new CustomEvent("markerdragstart"));var n,r,i,a=this["#canvas"].getBoundingClientRect().left;
this._onMarkerDrag(e.clientX-a),window.addEventListener("pointermove",r=function(e){
e.clientX!==n&&(n=e.clientX,t._onMarkerDrag(e.clientX-a))}),window.addEventListener("pointerup",i=function(){
window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),
t.dispatchEvent(new CustomEvent("markerdragend"))})},_onMarkerDrag:function(e){var n=t(e/this["#canvas"].clientWidth*360,0,360,0);
this.hue!==n&&(this.hue=n,this.dispatchEvent(new CustomEvent("markerdrag",{detail:this.hue
})))},_drawSpectrum:function(){var e=this["#canvas"].width=800,t=this["#canvas"].height=100,n=this["#canvas"].getContext("2d"),i=n.createLinearGradient(0,0,e,0),a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
i.addColorStop(c[0],"rgb("+c[1][0]+", "+c[1][1]+", "+c[1][2]+")")}}catch(d){o=!0,
s=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}n.fillStyle=i,
n.fillRect(0,0,e,t)}},{},e)}(HTMLElement),o=e("bx-hueslider",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-input",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-input")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-input"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-input"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/undo-manager","elements/bx-input"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-input")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-input")).debounce,i=(Object.entries,
'\n  <style id="skin-style">@import url("stylesheets/bx-input.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" tabindex="0" value=""></input>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),a=function(n){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this.commands={selectAll:{exec:function(){return e["#input"].select();
}},copy:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._copyInputValue()}},cut:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._cutInputValue()}},paste:{exec:function(){return e._pasteInputValue();
}},undo:{enabled:function(){return e._undoManager.canUndo()},exec:function(){return e._undoManager.undo();
}},redo:{enabled:function(){return e._undoManager.canRedo()},exec:function(){return e._undoManager.redo();
}}},this._textCursor=null,this._undoManager=new t,this._onInputInput250Db=r(this._onInputInput250Db,250,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var n=!0,a=!1,o=void 0;try{for(var s=void 0,l=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){
var u=s.value;this["#"+u.id]=u}}catch(c){a=!0,o=c}finally{try{n||null==l["return"]||l["return"]();
}finally{if(a)throw o}}var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=this.attributes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;this.attributeChangedCallback(p.name)}}catch(b){h=!0,v=b}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw v}}this._updateInputValidity(),
this.addEventListener("pointerenter",function(t){return e._onPointerEnter(t)}),this.addEventListener("pointerleave",function(t){
return e._onPointerLeave(t)}),this.addEventListener("pointermove",function(t){return e._onPointerMove(t);
}),this.addEventListener("pointerup",function(t){return e._onPointerUp(t)}),this.addEventListener("contextmenu",function(t){
return e._onContextMenu(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocus(t)}),this["#input"].addEventListener("blur",function(t){return e._onInputBlur(t);
}),this["#input"].addEventListener("keydown",function(t){return e._onInputKeyDown(t);
}),this["#input"].addEventListener("input",function(t){return e._onInputInput(t)}),
this["#input"].addEventListener("input",function(t){return e._onInputInput250Db(t);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)},this["#context-menu"].addEventListener("menuitemtrigger",function(t){
return e._onContextMenuItemTrigger(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"skin"===e?this._onSkinAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(e){
this.setAttribute("value",e)},get mixed(){return this.hasAttribute("mixed")},set mixed(e){
e?this.setAttribute("mixed",""):this.removeAttribute("mixed")},get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;
},set skin(e){null===e?this.removeAttribute("skin"):this.setAttribute("skin",e)},
get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},validate:function(e){return!0},focus:function(){this["#input"].focus()},selectAll:function(){
this["#input"].select()},_onValueAttributeChange:function(){this["#input"].value=this.value,
this._updateInputValidity()},_onSkinAttributeChange:function(){null===this.skin?this["#skin-style"].innerText='@import url("stylesheets/bx-input.css");':this["#skin-style"].innerText='@import url("stylesheets/bx-input@'+this.skin+'.css");';
},_onDisabledAttributeChange:function(){this.disabled?this["#input"].tabIndex=-1:this["#input"].tabIndex=0;
},_onPointerEnter:function(e){body.isPointerDown?this["#input"].style.setProperty("pointer-events","none"):(this["#input"].style.removeProperty("pointer-events"),
this._textCursor=body.registerCursor("text",200))},_onPointerLeave:function(e){this["#input"].style.removeProperty("pointer-events"),
null!==this._textCursor&&(body.unregisterCursor(this._textCursor),this._textCursor=null);
},_onPointerMove:function(e){this["#input"].matches(":focus")===!1&&e.preventDefault();
},_onPointerUp:function(e){this["#input"].style.removeProperty("pointer-events"),
null===this._textCursor&&(this._textCursor=body.registerCursor("text",200))},_onInputFocus:function(e){
body.bridge.postMessage("toggleTextInputMode",!0),this._cachedValue=this["#input"].value,
this._updateInputValidity()},_onInputBlur:function(e){body.bridge.postMessage("toggleTextInputMode",!1),
this._undoManager.reset(),this["#input"].value!==this.value&&(this.validate(this["#input"].value)===!1?this["#input"].value=this.value:(this.value=this["#input"].value,
this.dispatchEvent(new CustomEvent("change"))))},_onInputKeyDown:function(t){var n=e.fromEvent(t);
n.matches("Enter")?this._confirmInputChange():n.matches("Escape")?this._cancelInputChange():(n.matches("Backspace")||n.matches("ArrowDown")||n.matches("Shift","ArrowDown")||n.matches("ArrowUp")||n.matches("Shift","ArrowUp")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&t.stopPropagation();
},_onInputInput:function(e){this._updateInputValidity()},_onInputInput250Db:function(e){
var t=this,n=this._cachedValue,r=this["#input"].value;this._cachedValue=this["#input"].value,
this._undoManager.register({label:"Typing",undo:function(){t["#input"].value=t._cachedValue=n,
t._updateInputValidity(),t["#input"].select()},redo:function(){t["#input"].value=t._cachedValue=r,
t._updateInputValidity(),t["#input"].select()}})},_onContextMenu:function(e){e.preventDefault(),
this["#input"].focus(),this["#context-menu"].open(e.clientX,e.clientY)},_onContextMenuItemTrigger:function(e){
var t=e.detail,n=this.commands[t.commandID];n&&n.exec()},_menuWillShow:function(e){
var t=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_updateInputValidity:function(){
this.validate(this["#input"].value)?this["#input"].setCustomValidity(""):this["#input"].setCustomValidity("Invalid value");
},_confirmInputChange:function(){this.blur(),this.dispatchEvent(new CustomEvent("confirm"));
},_cancelInputChange:function(){this["#input"].value=this.value,this.blur(),this.dispatchEvent(new CustomEvent("cancel"));
},_copyInputValue:function(){var e=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":e})},_pasteInputValue:function(){
var e=this;body.bridge.postMessage("getClipboardData",null,function(t){if(t["text/plain"]){
var n=e["#input"].selectionStart,r=e["#input"].selectionEnd,i=t["text/plain"],a=e["#input"].value.substring(0,n),o=e["#input"].value.substring(r,e["#input"].value.length);
e["#input"].value=a+i+o,e["#input"].setSelectionRange(n+i.length,n+i.length),e["#input"].dispatchEvent(new Event("input",{
bubbles:!0}))}})},_cutInputValue:function(){var e=this["#input"].selectionStart,t=this["#input"].selectionEnd,n=this["#input"].value.substring(e,t),r=this["#input"].value.substring(0,e),i=this["#input"].value.substring(t,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].setSelectionRange(e,e),this["#input"].dispatchEvent(new Event("input",{
bubbles:!0})),body.bridge.postMessage("setClipboardData",{"text/plain":n})}},{},n);
}(HTMLElement),o=n("bx-input",a);return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-inspector",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-inspector")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-inspector")).normalize;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-domeditor","elements/bx-inspector"));
var n=Number.parseFloat,r=window.getComputedStyle,i=6,a='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-inspector.css");\n  </style>\n\n  <main>\n    <bx-domeditor id="dom-editor"></bx-domeditor>\n  </main>\n\n  <div id="resize-grippie"></div>\n',o=function(e){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e,t,n,r,i,o,s,l,u,c,d,h,v;return $traceurRuntime.asyncWrap(function(f){
for(;;)switch(f.state){case 0:e=this,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a,t=!0,n=!1,r=void 0;try{for(i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)s=i.value,
this["#"+s.id]=s}catch(m){n=!0,r=m}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}l=!0,u=!1,c=void 0;try{for(d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)v=d.value,
this.attributeChangedCallback(v.name)}catch(p){u=!0,c=p}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}this.addEventListener("pointerenter",function(){return e._defaultCursor=body.registerCursor("default",100);
}),this.addEventListener("pointerleave",function(){return body.unregisterCursor(e._defaultCursor);
}),this["#resize-grippie"].addEventListener("pointerdown",function(t){return e._onResizeGrippiePointerDown(t);
}),f.state=-2;break;default:return f.end()}},this)},attributeChangedCallback:function(e){
"enabled"===e&&this._onEnabledAttributeChange()},get enabled(){return this.hasAttribute("enabled");
},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get domEditor(){return this["#dom-editor"]},_onEnabledAttributeChange:function(){
this.enabled?this._onEnabled():this._onDisabled()},_onEnabled:function(){var e,t;return $traceurRuntime.asyncWrap(function(n){
for(;;)switch(n.state){case 0:e=this,n.state=6;break;case 6:n.state=void 0===this._customHeight?1:2;
break;case 1:return void Promise.resolve(body.getConfig("bx-inspector#"+this.id+":customHeight")).then(n.createCallback(3),n.errback);
case 3:this._customHeight=n.value,n.state=2;break;case 2:void 0===this._defaultHeight&&(t=r(this).getPropertyValue("height"),
this._defaultHeight="auto"===t?null:parseInt(t)),this.style.setProperty("visibility","visible"),
this._updateGeometry(),this["#dom-editor"].enabled=!0,window.addEventListener("resize",this._windowResizeListener=function(){
return e._updateGeometry()}),n.state=-2;break;default:return n.end()}},this)},_onDisabled:function(){
this["#dom-editor"].enabled=!1,window.removeEventListener("resize",this._windowResizeListener);
},_onResizeGrippiePointerDown:function(e){var t,a,o=this,s=this.getBoundingClientRect(),l=r(this),u=l.getPropertyValue("min-height"),c=l.getPropertyValue("max-height"),d=s.top,h=s.height,v=d,f=h,m="none"===u?0:n(u),p="none"===c?1/0:n(c),b=body.registerCursor("ns-resize",900);
window.addEventListener("pointermove",t=function(t){var n=t.clientY-e.clientY;m>f-n?(d=v+(f-m),
h=m):f-n>p?(d=v+(f-p),h=p):(d=v+n,h=f-n),i>d&&(d=i,h=v+f-i),o.style.setProperty("height",h+"px");
}),window.addEventListener("pointerup",a=function(){window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",a),body.unregisterCursor(b),o._customHeight=h,
o.id&&h!==f&&body.setConfig("bx-inspector#"+o.id+":customHeight",h)})},_updateGeometry:function(){
var e;e=null!==this._customHeight?this._customHeight:null!==this._defaultHeight?this._defaultHeight:250,
e=t(e,0,window.innerHeight-i-i),this.style.setProperty("height",e+"px")}},{},e)}(HTMLElement),s=e("bx-inspector",o);
return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-lineargradienthud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-lineargradienthud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-lineargradienthud")),n=t.createElement,r=t.registerElement,i=t.queryGraphicsElements,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-lineargradienthud")).isPointerMoveIntentional,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/gradient","elements/bx-lineargradienthud")).getGradientColorAtOffset,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-lineargradienthud")),l=s.normalize,u=s.round,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-lineargradienthud")).roundMatrix,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-lineargradienthud")),h=d.getPaintType,v=d.getPaintServer,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-lineargradienthud")).getRenderedTextNodes,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-lineargradienthud")).throttle,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-lineargradienthud")),b=p.getPointAtFraction,g=p.getNearestPointOnLine,y=p.getDistanceBetweenPoints,x=p.getRotationAngleFromPoints,_=p.snapPointToAngleMultiple,w=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-lineargradienthud")),S=w.getTransformFromPoints,k=w.getTransformToElement,C=w.bboxPointToUserPoint,R=w.userPointToBBoxPoint,M=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-lineargradienthud"))["default"],E=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-lineargradienthud"))["default"],P=(Object.keys,
Symbol()),A=Symbol(),T=Symbol(),L=SVGUnitTypes,N=L.SVG_UNIT_TYPE_USERSPACEONUSE,$=L.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,O=6,V='\n  <style>@import url("stylesheets/bx-lineargradienthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',j=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={selectAll:{enabled:function(){
return!0},exec:function(){return e._selectAllStops()}},deselectAll:{enabled:function(){
return!0},exec:function(){return e._deselectAllStops()}}},this.tabIndex=-1,this._updateAll200Th=m(this._updateAll,200,this),
this._selectedStops=[],this._draggedGrippie=null,this._draggedSlider=null,this._arrowCursor=null,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=V;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("keydown",function(t){
return e._onShadowRootKeyDown(t)}),this._shadowRoot.addEventListener("pointerdown",function(t){
return e._onShadowRootPointerDown(t)}),this._shadowRoot.addEventListener("pointerup",function(t){
return e._onShadowRootPointerUp(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},get selectedStops(){return $traceurRuntime.spread(this._selectedStops)},_onEnabled:function(){
var e=this;this._onSelectedElementsChange(),this.addEventListener("pointerenter",this._pointerEnterListener=function(){
e._onPointerEnter()}),this.addEventListener("pointerleave",this._pointerLeaveListener=function(){
e._onPointerLeave()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),body.canvas.huds.addEventListener("pointerdown",this._hudPointerDownListener=function(t){
e._onHudsPointerDown(t)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._onUndoOrRedo()})},_onDisabled:function(){this._selectStops([]),body.unregisterCursor(this._arrowCursor),
this.removeEventListener("pointerenter",this._pointerEnterListener),this.removeEventListener("pointerleave",this._pointerLeaveListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener),
body.canvas.huds.removeEventListener("pointerdown",this._hudPointerDownListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener);
},_onSelectedElementsChange:function(){this._updateAll200Th()},_onSelectedTextRangeChange:function(){
this._updateAll200Th()},_onArtboardMutation:function(e){this._draggedGrippie?this._updatePositions(this._draggedGrippie.parentElement.parentElement):this._draggedSlider?this._updatePositions(this._draggedSlider.parentElement):"style"===e.attributeName&&"stop"===e.target.localName?this._updateGrippiesColor():this._updateAll200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onUndoOrRedo:function(){this._selectStops([]);
},_onArtboardPointerDown:function(e){0===e.button&&this._selectStops([])},_onHudsPointerDown:function(e){
e.target!==this&&0===e.button&&this._selectStops([])},_onPointerEnter:function(){
this._arrowCursor||(this._arrowCursor=body.registerCursor("default",100))},_onPointerLeave:function(){
this._arrowCursor&&(body.unregisterCursor(this._arrowCursor),this._arrowCursor=null);
},_onShadowRootPointerDown:function(e){var t=this;if(0===e.button){var n=body.registerCursor("default",900);
e.target.classList.contains("slider")?this._onSliderPointerDown(e):e.target.classList.contains("stop-grippie")&&this._onStopGrippiePointerDown(e);
var r,i;this._pointerMovedAfterPointerDown=!1,this._pointerDownTimeStamp=e.timeStamp,
window.addEventListener("pointermove",r=function(){t._pointerMovedAfterPointerDown=!0;
}),window.addEventListener("pointerup",i=function(){window.removeEventListener("pointerup",i),
window.removeEventListener("pointermove",r),body.unregisterCursor(n)})}},_onShadowRootPointerUp:function(e){
e.target.classList.contains("stop-grippie")&&this._onStopGrippiePointerUp(e)},_onShadowRootDblClick:function(e){
e.timeStamp-this._pointerDownTimeStamp<100&&e.target.classList.contains("slider")&&this._onSliderDblClick(e);
},_onStopGrippiePointerDown:function(e){var t=e.target,n=t[T],r=n.closest("linearGradient"),i=$traceurRuntime.spread(r.children).filter(function(e){
return"stop"===e.localName}),a=this._selectedStops.filter(function(e){return e.closest("linearGradient")===r;
}),o=i[0],s=i[i.length-1],l=body.modKeys,u=l.alt,c=l.shift;this._pointerDownSelectedStops=$traceurRuntime.spread(a),
c===!1?a.includes(n)===!1&&this._selectStops([n]):c===!0&&a.includes(n)===!1&&(a.push(n),
this._selectStops(a)),n===o&&0===n.offset.baseVal&&u===!1?this._onBoundingStopGrippieOrSliderEdgePointerDown(e,"start"):n===s&&1===n.offset.baseVal&&u===!1?this._onBoundingStopGrippieOrSliderEdgePointerDown(e,"end"):this._onDraggableStopGrippiePointerDown(e);
},_onStopGrippiePointerUp:function(e){if(!this._pointerMovedAfterPointerDown){var t=e.target,n=this._pointerDownSelectedStops,r=t[T],a=t.closest(".subhud"),o=a[A],s=body.modKeys.shift,l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=body.canvas.selectedElements[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if("g"!==f.localName&&"a"!==f.localName||!f.contains(o))l.push(f);else{
var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=i($traceurRuntime.spread(f.children))[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;l.unshift(x)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}}}}catch(w){c=!0,d=w}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}body.canvas.isSelectableElement(o)&&(l.remove(o),l.unshift(o)),
body.canvas.selectedElements=l;for(var S=o.parentElement;S!==body.canvas.currentArtboard;S=S.parentElement)if("g"===S.localName||"a"===S.localName){
body.canvas.currentContainer=S;break}s===!0&&this._pointerDownSelectedStops.includes(r)===!0&&(n.remove(r),
this._selectStops(n))}},_onDraggableStopGrippiePointerDown:function(e){var t,n,r,i,a=this,o=e.target,s=o.closest(".subhud"),l=s.querySelector(".slider"),c=body.canvas.geometryPrecision,d=this._getMoveOffsetsForSelectedStops(),h=this.getScreenCTM(),v=h.inverse(),f=new SVGPoint(l.x1.baseVal.value,l.y1.baseVal.value),m=new SVGPoint(l.x2.baseVal.value,l.y2.baseVal.value),p=new SVGPoint(o.cx.baseVal.value,o.cy.baseVal.value),b=p.matrixTransform(h),x=(t=g(f,m,p,!1)[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),_=y(f,x)/y(f,m),w=!1;this._draggedGrippie=o,window.addEventListener("pointermove",r=function(t){
var n,r;w===!1&&(body.canvas.undoManager.checkpoint("Move gradient stop"),w=!0);var i=new SVGPoint(b.x+t.clientX-e.clientX,b.y+t.clientY-e.clientY),o=i.matrixTransform(v),s=(n=g(f,m,o,!1)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),l=y(f,s)/y(f,m),u=l-_,h=!0,p=!1,x=void 0;try{for(var S=void 0,k=a._selectedStops[Symbol.iterator]();!(h=(S=k.next()).done);h=!0){
var C=S.value,R=d.get(C),M=R.minOffset,E=R.maxOffset,P=R.initialOffset;M>P+u?C.setAttribute("offset",M,c):P+u>E?C.setAttribute("offset",E,c):C.setAttribute("offset",P+u,c);
}}catch(A){p=!0,x=A}finally{try{h||null==k["return"]||k["return"]()}finally{if(p)throw x;
}}}),window.addEventListener("pointerup",i=function(){window.removeEventListener("pointermove",r),
window.removeEventListener("pointerup",i);var e=!0,t=!1,n=void 0;try{for(var o=void 0,s=a._selectedStops[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){
var l=o.value;l.setAttribute("offset",u(l.offset.baseVal,body.canvas.geometryPrecision));
}}catch(c){t=!0,n=c}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw n;
}}a._draggedGrippie=null})},_onBoundingStopGrippieOrSliderEdgePointerDown:function(t){
var n,r,i,o,s,l,u,d,h=void 0!==arguments[1]?arguments[1]:"start",v=this,f=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e.contains(t.target)}),m=f[P],p=f[A],b=e(p),g=p.getScreenCTM(),y=g.inverse(),w=SVGMatrix.fromMatrix(m.gradientTransform.baseVal.consolidate().matrix),k=!1,M=!1;
t.target.matches(".stop-grippie")?this._draggedGrippie=t.target:t.target.matches(".slider")&&(this._draggedSlider=t.target);
var T=function(){if(m.gradientUnits.baseVal===N){"start"===h?(i=new SVGPoint(m.x1.baseVal.value,m.y1.baseVal.value),
o=new SVGPoint(m.x2.baseVal.value,m.y2.baseVal.value)):"end"===h&&(i=new SVGPoint(m.x2.baseVal.value,m.y2.baseVal.value),
o=new SVGPoint(m.x1.baseVal.value,m.y1.baseVal.value));var e=new E(o,i).getNormalVector();
s=new SVGPoint(o.x+e.x,o.y+e.y);var t=i.matrixTransform(w),n=o.matrixTransform(w),r=s.matrixTransform(w);
l=t.matrixTransform(g),u=n.matrixTransform(g),d=r.matrixTransform(g)}else if(m.gradientUnits.baseVal===$){
"start"===h?(i=new SVGPoint(m.x1.baseVal.valueInSpecifiedUnits,m.y1.baseVal.valueInSpecifiedUnits),
o=new SVGPoint(m.x2.baseVal.valueInSpecifiedUnits,m.y2.baseVal.valueInSpecifiedUnits)):"end"===h&&(i=new SVGPoint(m.x2.baseVal.valueInSpecifiedUnits,m.y2.baseVal.valueInSpecifiedUnits),
o=new SVGPoint(m.x1.baseVal.valueInSpecifiedUnits,m.y1.baseVal.valueInSpecifiedUnits));
var a=new E(o,i).getNormalVector();s=new SVGPoint(o.x+a.x,o.y+a.y);var c=i.matrixTransform(w),v=o.matrixTransform(w),f=s.matrixTransform(w),p=C(c,b),y=C(v,b),x=C(f,b);
l=p.matrixTransform(g),u=y.matrixTransform(g),d=x.matrixTransform(g)}};window.addEventListener("pointermove",n=function(e){
var n,r;if(k===!1){if(!a(t,e,5))return;k=!0,body.canvas.undoManager.checkpoint("Transform gradient"),
T()}var h,v,f,p,g=body.modKeys.shift,C=new SVGPoint(e.clientX+(l.x-t.clientX),e.clientY+(l.y-t.clientY)),P=new SVGPoint(l.x+e.clientX-t.clientX,l.y+e.clientY-t.clientY),A=SVGPoint.fromPoint(u);
if(g===!1){var L=x(u,l,C),O=(new SVGMatrix).rotate(L,u.x,u.y);p=d.matrixTransform(O);
}else if(g===!0){M=!0;var V=(n=_(u,P,22.5)[Symbol.iterator](),(r=n.next()).done?void 0:r.value);
P=V}if(M){var j=new E(A,P).getNormalVector();p=new SVGPoint(A.x+j.x,A.y+j.y)}if(m.gradientUnits.baseVal===N){
var z=P.matrixTransform(y),I=A.matrixTransform(y),D=p.matrixTransform(y);h=z.matrixTransform(w.inverse()),
v=I.matrixTransform(w.inverse()),f=D.matrixTransform(w.inverse())}else if(m.gradientUnits.baseVal===$){
var G=P.matrixTransform(y),B=A.matrixTransform(y),U=p.matrixTransform(y),H=R(G,b),F=R(B,b),q=R(U,b);
h=H.matrixTransform(w.inverse()),v=F.matrixTransform(w.inverse()),f=q.matrixTransform(w.inverse());
}var W=S(i,o,s,h,v,f),Y=c(w.multiply(W),body.canvas.transformPrecision);m.setAttribute("gradientTransform",Y.toString());
}),window.addEventListener("pointerup",r=function(){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),v._draggedGrippie=null,v._draggedSlider=null;
})},_onSliderPointerDown:function(e){var t=e.target,n=t.closest(".subhud"),r=(n[A],
t.getScreenCTM()),i=new SVGPoint(e.clientX,e.clientY),a=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),o=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),s=a.matrixTransform(r),l=o.matrixTransform(r),u=new E(s,i).length,c=new E(l,i).length;
5>=u?this._onBoundingStopGrippieOrSliderEdgePointerDown(e,"start"):5>=c?this._onBoundingStopGrippieOrSliderEdgePointerDown(pointerownEvent,"end"):this._onSliderBodyPointerDown(e);
},_onSliderBodyPointerDown:function(t){var n,r,i,o,s=this,l=t.target,c=l.closest(".subhud"),d=c[A],h=c[P],v=e(d),f=d.getScreenCTM(),m=f.inverse(),p=SVGMatrix.fromMatrix(h.gradientTransform.baseVal.consolidate().matrix),b=body.canvas.geometryPrecision,g=!1;
if(this._draggedSlider=l,h.gradientUnits.baseVal===N){var y=new SVGPoint(h.x1.baseVal.value,h.y1.baseVal.value),x=new SVGPoint(h.x2.baseVal.value,h.y2.baseVal.value),_=y.matrixTransform(p),w=x.matrixTransform(p);
i=_.matrixTransform(f),o=w.matrixTransform(f)}else if(h.gradientUnits.baseVal===$){
var S=new SVGPoint(h.x1.baseVal.valueInSpecifiedUnits,h.y1.baseVal.valueInSpecifiedUnits),k=new SVGPoint(h.x2.baseVal.valueInSpecifiedUnits,h.y2.baseVal.valueInSpecifiedUnits),M=S.matrixTransform(p),E=k.matrixTransform(p),T=C(M,v),L=C(E,v);
i=T.matrixTransform(f),o=L.matrixTransform(f)}window.addEventListener("pointermove",n=function(e){
if(g===!1){if(!a(t,e,5))return;g=!0,body.canvas.undoManager.checkpoint("Transform gradient");
}var n,r;if(h.gradientUnits.baseVal===N){var s=new SVGPoint(i.x+e.clientX-t.clientX,i.y+e.clientY-t.clientY),l=new SVGPoint(o.x+e.clientX-t.clientX,o.y+e.clientY-t.clientY),c=s.matrixTransform(m),d=l.matrixTransform(m);
n=c.matrixTransform(p.inverse()),r=d.matrixTransform(p.inverse())}else if(h.gradientUnits.baseVal===$){
var f=new SVGPoint(i.x+e.clientX-t.clientX,i.y+e.clientY-t.clientY),y=new SVGPoint(o.x+e.clientX-t.clientX,o.y+e.clientY-t.clientY),x=f.matrixTransform(m),_=y.matrixTransform(m),w=R(x,v),S=R(_,v);
n=w.matrixTransform(p.inverse()),r=S.matrixTransform(p.inverse())}h.setAttribute("x1",u(n.x,b)),
h.setAttribute("y1",u(n.y,b)),h.setAttribute("x2",u(r.x,b)),h.setAttribute("y2",u(r.y,b));
}),window.addEventListener("pointerup",r=function(){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),s._draggedSlider=null})},_onSliderDblClick:function(e){
body.canvas.undoManager.checkpoint("Add Stop");var t=e.target,r=t.closest(".subhud"),i=r[P],a=this.getScreenCTM().inverse(),s=$traceurRuntime.spread(i.children).filter(function(e){
return"stop"===e.localName}),c=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),d=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),h=new SVGPoint(e.clientX,e.clientY).matrixTransform(a),v=y(c,h),f=y(c,d),m=v/f;
m=l(m,0,1,5);for(var p=null,b=0;b<s.length;b+=1){var g=s[b];if(g.offset.baseVal<m)p=b;else if(g.offset.baseVal>m)break;
}var x=n("svg:stop");if(x.setAttribute("offset",u(m,body.canvas.geometryPrecision)),
x.style.setProperty("stop-color",o(i,m).toString("hsl")),null===p){var _=$traceurRuntime.spread(i.children).find(function(e){
return"stop"===e.localName});_?_.before(x):i.append(x)}else s[p].after(x);this._selectStops([x]);
},_onShadowRootKeyDown:function(e){var t=M.fromEvent(e);0!==this._selectedStops.length&&(t.matches("Backspace")?(e.stopPropagation(),
this._deleteSelectedStops()):t.matches("Tab")?(e.stopPropagation(),e.preventDefault(),
this._selectNextStop()):t.matches("ArrowLeft")?(e.stopPropagation(),this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Left"),
this._moveSelectedStops(1,"left"))):t.matches("ArrowRight")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Right"),
this._moveSelectedStops(1,"right"))):t.matches("Shift","ArrowLeft")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 10 Units Left"),
this._moveSelectedStops(10,"left"))):t.matches("Shift","ArrowRight")&&(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 10 Units Right"),
this._moveSelectedStops(10,"right"))))},_updateAll:function(){var e=this._getSelectedLinearGradientUsers();
if(0===e.length)this["#subhuds"].innerHTML="";else{var t=this._shadowRoot.activeElement,r=[];
this["#subhuds"].innerHTML="";var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=v(u,this.context);if(!r.includes(c)){r.push(c);var d=$traceurRuntime.spread(c.children).filter(function(e){
return"stop"===e.localName}),h=this["#subhud-template"].cloneNode(!0);h.removeAttribute("id"),
h[P]=c,h[A]=u;var f=h.querySelector(".stop-grippies"),m=document.createDocumentFragment(),p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=d[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value,w=n("svg:circle");
w.setAttribute("class","stop-grippie"),w[T]=_,_.offset.baseVal>.95?m.prepend(w):f.append(w);
}}catch(S){b=!0,g=S}finally{try{p||null==x["return"]||x["return"]()}finally{if(b)throw g;
}}f.append(m),this["#subhuds"].append(h)}}}catch(k){a=!0,o=k}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}if(t){var C=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e[P]===t[P]});C&&C.focus()}this._updatePositions(),this._updateGrippiesSize(),
this._updateGrippiesColor(),this._updateGrippiesSelectedState(),this._updateGrippiesZOrder();
}},_updatePositions:function(){var t=void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(!t||s===t){var l=s[P],u=s[A],c=$traceurRuntime.spread(l.children).filter(function(e){
return"stop"===e.localName}),d=SVGMatrix.fromMatrix(l.gradientTransform.baseVal.consolidate().matrix),h=k(u,this),v=s.querySelector(".slider"),f=s.querySelector(".slider-shadow"),m=$traceurRuntime.spread(s.querySelector(".stop-grippies").children);
if(l.gradientUnits.baseVal===N){var p=new SVGPoint(l.x1.baseVal.value,l.y1.baseVal.value),g=new SVGPoint(l.x2.baseVal.value,l.y2.baseVal.value),y=p.matrixTransform(d),x=g.matrixTransform(d),_=y.matrixTransform(h),w=x.matrixTransform(h);
v.setAttribute("x1",_.x),v.setAttribute("y1",_.y),v.setAttribute("x2",w.x),v.setAttribute("y2",w.y),
f.setAttribute("x1",_.x),f.setAttribute("y1",_.y),f.setAttribute("x2",w.x),f.setAttribute("y2",w.y);
var S=!0,C=!1,R=void 0;try{for(var M=function(){var e=E.value,t=m.find(function(t){
return t[T]===e}),n=b(_,w,e.offset.baseVal);t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y;
},E=void 0,L=c[Symbol.iterator]();!(S=(E=L.next()).done);S=!0)M()}catch(O){C=!0,R=O;
}finally{try{S||null==L["return"]||L["return"]()}finally{if(C)throw R}}}else if(l.gradientUnits.baseVal===$){
var V=e(u),j=new SVGPoint(l.x1.baseVal.valueInSpecifiedUnits,l.y1.baseVal.valueInSpecifiedUnits),z=new SVGPoint(l.x2.baseVal.valueInSpecifiedUnits,l.y2.baseVal.valueInSpecifiedUnits),I=j.matrixTransform(d),D=z.matrixTransform(d),G=new SVGPoint(V.x+I.x*V.width,V.y+I.y*V.height),B=new SVGPoint(V.x+D.x*V.width,V.y+D.y*V.height),U=G.matrixTransform(h),H=B.matrixTransform(h);
v.setAttribute("x1",U.x),v.setAttribute("y1",U.y),v.setAttribute("x2",H.x),v.setAttribute("y2",H.y),
f.setAttribute("x1",U.x),f.setAttribute("y1",U.y),f.setAttribute("x2",H.x),f.setAttribute("y2",H.y);
var F=!0,q=!1,W=void 0;try{for(var Y=function(){var e=X.value,t=m.find(function(t){
return t[T]===e}),n=b(U,H,e.offset.baseVal);t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y;
},X=void 0,Z=c[Symbol.iterator]();!(F=(X=Z.next()).done);F=!0)Y()}catch(K){q=!0,W=K;
}finally{try{F||null==Z["return"]||Z["return"]()}finally{if(q)throw W}}}}}}catch(J){
r=!0,i=J}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}},
_updateGrippiesColor:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=d[T].style.getPropertyValue("stop-color");d.style.setProperty("fill",h);
}}catch(v){s=!0,l=v}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",O/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateGrippiesSelectedState:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;this._selectedStops.includes(d[T])?d.setAttribute("data-selected",""):d.removeAttribute("data-selected");
}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}}}catch(v){t=!0,n=v}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_updateGrippiesZOrder:function(){var e=this["#subhuds"].querySelectorAll(".stop-grippie"),t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._selectedStops[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h[T]===o&&h.parentElement.append(h)}}catch(v){l=!0,u=v}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){n=!0,r=f}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_selectStops:function(e){
0===e.length&&0===this._selectedStops.length||(this._selectedStops=$traceurRuntime.spread(e),
this._updateGrippiesSelectedState(),this._updateGrippiesZOrder(),this.dispatchEvent(new CustomEvent("selectedstopschange")));
},_selectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[P],n=$traceurRuntime.spread(t.children).filter(function(e){
return"stop"===e.localName}),r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._selectedStops[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.closest("linearGradient")!==t&&n.push(l)}}catch(u){i=!0,a=u}finally{
try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}this._selectStops(n);
},_deselectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[P];this._selectStops(this._selectedStops.filter(function(e){
return e.closest("linearGradient")!==t}))},_selectNextStop:function(){var e=this._shadowRoot.activeElement,t=e[P];
if(t){var n=$traceurRuntime.spread(t.children).filter(function(e){return"stop"===e.localName;
}),r=this._selectedStops.filter(function(e){return e.closest("linearGradient")===t;
}),i=r[r.length-1],a=n[0],o=a;if(i&&n.length>1){for(var s=i.nextElementSibling;s;s=s.nextElementSibling)if("stop"===s.localName){
o=s;break}this._selectStops([o])}}},_deleteSelectedStops:function(){var e=this._shadowRoot.activeElement;
if(null!==e){var t=e[P],n=this._selectedStops.filter(function(e){return e.closest("linearGradient")===t;
});if(n.length>0){body.canvas.undoManager.checkpoint("Delete gradient stop(s)");var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{
if(i)throw a}}}this._selectStops([])}},_moveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:1,t=void 0!==arguments[1]?arguments[1]:"left",n=this._shadowRoot.activeElement;
if(null!==n){var r=n.querySelector(".slider"),i=n[P],a=this._selectedStops.filter(function(e){
return e.closest("linearGradient")===i}),o=this._getMoveOffsetsForSelectedStops(),s=this.getScreenCTM(),u=new SVGPoint(r.x1.baseVal.value,r.y1.baseVal.value),c=new SVGPoint(r.x2.baseVal.value,r.y2.baseVal.value),d=u.matrixTransform(s),h=c.matrixTransform(s),v=new E(d,h),f=e/v.length,m=!0,p=!1,b=void 0;
try{for(var g=void 0,y=a[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var x=g.value,_=o.get(x),w=_.minOffset,S=_.maxOffset;
if("left"===t){var k=l(x.offset.baseVal-f,w,S,body.canvas.geometryPrecision);x.setAttribute("offset",k);
}else if("right"===t){var C=l(x.offset.baseVal+f,w,S,body.canvas.geometryPrecision);
x.setAttribute("offset",C)}}}catch(R){p=!0,b=R}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}}},_canMoveActiveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:"left",t=this._shadowRoot.activeElement;
if(null!==t){var n=(t.querySelector(".slider"),t[P]),r=this._selectedStops.find(function(e){
return e.closest("linearGradient")===n});if(null!==r){var i=this._getMoveOffsetsForSelectedStops(),a=i.get(r),o=a.minOffset,s=a.maxOffset;
return"left"===e?r.offset.baseVal>o:"right"===e?r.offset.baseVal<s:void 0}}},_getPreviousNotSelectedStop:function(e){
for(var t=e;t;t=t.previousElementSibling)if("stop"===t.localName&&this._selectedStops.includes(t)===!1)return t;
return null},_getNextNotSelectedStop:function(e){for(var t=e;t;t=t.nextElementSibling)if("stop"===t.localName&&this._selectedStops.includes(t)===!1)return t;
return null},_getMoveOffsetsForSelectedStops:function(){var e=new Map,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._selectedStops[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=this._getPreviousNotSelectedStop(s),u=this._getNextNotSelectedStop(s),c={};
l?c.min=s.offset.baseVal-l.offset.baseVal:c.min=s.offset.baseVal,u?c.max=u.offset.baseVal-s.offset.baseVal:c.max=1-s.offset.baseVal,
t.push(c)}}catch(d){r=!0,i=d}finally{try{n||null==o["return"]||o["return"]()}finally{
if(r)throw i}}if(t.length>0){var h=t[0].min,v=t[0].max,f=!0,m=!1,p=void 0;try{for(var b=void 0,g=t[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;y.min<h&&(h=y.min),y.max<v&&(v=y.max)}}catch(x){m=!0,p=x}finally{try{
f||null==g["return"]||g["return"]()}finally{if(m)throw p}}var _=!0,w=!1,S=void 0;try{
for(var k=void 0,C=this._selectedStops[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;e.set(R,{initialOffset:R.offset.baseVal,minOffset:R.offset.baseVal-h,
maxOffset:R.offset.baseVal+v})}}catch(M){w=!0,S=M}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}}return e},_getSelectedLinearGradientUsers:function(){var e=this,t=function(e){
var n,r=[],i=body.canvas.selectedTextRange,a=!0,o=!1,s=void 0;try{for(var l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=c.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(d))r.push(c);else if(["a","g"].includes(d))(n=r).push.apply(n,$traceurRuntime.spread(t(c.children)));else if("text"===d){
var h=f(c);if(i&&i.intersectsNode(c)){"backward"===i.direction&&h.reverse();var v=!0,m=!1,p=void 0;
try{for(var b=void 0,g=h[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var y=b.value;
if(i.intersectsNode(y)){var x=y.closest("text, textPath, tspan, a");x&&!r.includes(x)&&r.push(x);
}}}catch(_){m=!0,p=_}finally{try{v||null==g["return"]||g["return"]()}finally{if(m)throw p;
}}}else{var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=h[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value,E=M.closest("text, textPath, tspan, a");E&&!r.includes(E)&&r.push(E);
}}catch(P){S=!0,k=P}finally{try{w||null==R["return"]||R["return"]()}finally{if(S)throw k;
}}}}}}catch(A){o=!0,s=A}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}return r},n=t(body.canvas.outermostSelectedElements),r=n.filter(function(t){return"linearGradient"===h(t,e.context);
});return r}},{},t)}(SVGGElement),z=r("g","bx-lineargradienthud",j);return{get default(){
return z}}}),$traceurRuntime.registerModule("elements/bx-linehud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-linehud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-linehud")).snapPointToAngleMultiple,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-linehud")).round,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-linehud")).throttle,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-linehud")).getTransformToElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-linehud"))["default"],o=Symbol(),s=6,l='\n  <style>@import url("stylesheets/bx-linehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="start-grippie grippie" fill="none"></circle>\n      <circle class="end-grippie grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',u=function(e){
function u(){$traceurRuntime.superConstructor(u).apply(this,arguments)}return $traceurRuntime.createClass(u,{
createdCallback:function(){this._installed=!1,this._selectedLines=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=r(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=l;var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedLines=this._getSelectedLines(),
0===this._selectedLines.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.matches(".start-grippie")?this._onStartGrippiePointerDown(e):e.target.matches(".end-grippie")&&this._onEndGrippiePointerDown(e);
},_onStartGrippiePointerDown:function(e){var r=this;if(0===e.button){var i,s,l=e.target,u=l.parentElement,c=u[o],d=c.getCTM(),h=c.getCTM().inverse(),v=new SVGPoint(c.x1.baseVal.value,c.y1.baseVal.value),f=v.matrixTransform(d),m=new SVGPoint(c.x2.baseVal.value,c.y2.baseVal.value),p=m.matrixTransform(d),b=new SVGPoint(e.clientX,e.clientY),g=body.canvas.geometryPrecision,y=!1;
l.parentElement.append(l),this._draggedGrippie=l,window.addEventListener("pointermove",i=function(e){
var r,i;y||(y=!0,body.canvas.undoManager.checkpoint("Line start point"));var o=new SVGPoint(e.clientX,e.clientY),s=new a(b,o),l=new SVGPoint(f.x+s.x,f.y+s.y);
if(body.modKeys.shift){var u=(r=t(p,l,22.5)[Symbol.iterator](),(i=r.next()).done?void 0:i.value);
l=u}var d=l.matrixTransform(h);c.setAttribute("x1",n(d.x,g)),c.setAttribute("y1",n(d.y,g));
}),window.addEventListener("pointerup",s=function(){window.removeEventListener("pointermove",i),
window.removeEventListener("pointerup",s),r._draggedGrippie=null})}},_onEndGrippiePointerDown:function(e){
var r=this;if(0===e.button){var i,s,l=e.target,u=l.parentElement,c=u[o],d=c.getCTM(),h=c.getCTM().inverse(),v=new SVGPoint(c.x1.baseVal.value,c.y1.baseVal.value),f=v.matrixTransform(d),m=new SVGPoint(c.x2.baseVal.value,c.y2.baseVal.value),p=m.matrixTransform(d),b=new SVGPoint(e.clientX,e.clientY),g=body.canvas.geometryPrecision,y=!1;
l.parentElement.append(l),this._draggedGrippie=l,window.addEventListener("pointermove",i=function(e){
var r,i;y||(y=!0,body.canvas.undoManager.checkpoint("Line start point"));var o=new SVGPoint(e.clientX,e.clientY),s=new a(b,o),l=new SVGPoint(p.x+s.x,p.y+s.y);
if(body.modKeys.shift){var u=(r=t(f,l,22.5)[Symbol.iterator](),(i=r.next()).done?void 0:i.value);
l=u}var d=l.matrixTransform(h);c.setAttribute("x2",n(d.x,g)),c.setAttribute("y2",n(d.y,g));
}),window.addEventListener("pointerup",s=function(){window.removeEventListener("pointermove",i),
window.removeEventListener("pointerup",s),r._draggedGrippie=null})}},_updateSubhuds:function(){
this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedLines[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[o]=a,
this["#subhuds"].append(s)}}catch(l){t=!0,n=l}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this["#subhuds"].children[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var s=r.value,l=s[o],u=i(l,this),c=s.querySelector(".start-grippie"),d=s.querySelector(".end-grippie"),h=new SVGPoint(l.x1.baseVal.value,l.y1.baseVal.value),v=h.matrixTransform(u),f=new SVGPoint(l.x2.baseVal.value,l.y2.baseVal.value),m=f.matrixTransform(u);
c.setAttribute("cx",v.x),c.setAttribute("cy",v.y),d.setAttribute("cx",m.x),d.setAttribute("cy",m.y);
}}catch(p){t=!0,n=p}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n;
}}},_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,l=!1,u=void 0;try{for(var c=void 0,d=a.children[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){
var h=c.value;h.setAttribute("r",s/body.canvas.scale)}}catch(v){l=!0,u=v}finally{
try{o||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){t=!0,n=f;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedLines:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"line"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedLines(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),c=e("g","bx-linehud",u);return{get default(){return c;
}}}),$traceurRuntime.registerModule("elements/bx-maskcontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-maskcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-maskcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-maskcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-maskcontrols")),t=(e.createElement,
e.registerElement),n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-maskcontrols")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-maskcontrols")).getDefFromURL,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-maskcontrols")).throttle),r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-maskcontrols.css");\n  </style>\n\n  <section id="clip-section">\n    <h2 id="clip-section-heading">Clipping Mask</h2>\n\n    <div id="clip-buttons" class="hbox">\n      <bx-button\n        id="clip-button"\n        icon="set"\n        iconsize="25"\n        label="Clip">\n      </bx-button>\n\n      <bx-button\n        id="unclip-button"\n        icon="unset"\n        iconsize="25"\n        label="Unclip">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="mask-section">\n    <h2 id="mask-section-heading">Opacity Mask</h2>\n\n    <div id="mask-buttons" class="hbox">\n      <bx-button\n        id="mask-button"\n        icon="set"\n        iconsize="25"\n        label="Mask">\n      </bx-button>\n\n      <bx-button\n        id="unmask-button"\n        icon="unset"\n        iconsize="25"\n        label="Unmask">\n      </bx-button>\n    </div>\n  </section>\n',i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var t=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){d=!0,h=p}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#clip-button"].addEventListener("click",function(t){
return e._onClipButtonClick(t)}),this["#unclip-button"].addEventListener("click",function(t){
return e._onUnclipButtonClick(t)}),this["#mask-button"].addEventListener("click",function(t){
return e._onMaskButtonClick(t)}),this["#unmask-button"].addEventListener("click",function(t){
return e._onUnmaskButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onClipButtonClick:function(e){
0===e.button&&body.commands.clip.exec()},_onUnclipButtonClick:function(e){0===e.button&&body.commands.unclip.exec();
},_onMaskButtonClick:function(e){0===e.button&&body.commands.mask.exec()},_onUnmaskButtonClick:function(e){
0===e.button&&body.commands.unmask.exec()},_update:function(){this._updateClipSection(),
this._updateMaskSection()},_updateClipSection:function(){this["#clip-button"].disabled=!body.commands.clip.enabled(),
this["#unclip-button"].disabled=!body.commands.unclip.enabled(),this["#clip-section-heading"].disabled=this["#clip-button"].disabled&&this["#unclip-button"].disabled;
},_updateMaskSection:function(){this["#mask-button"].disabled=!body.commands.mask.enabled(),
this["#unmask-button"].disabled=!body.commands.unmask.enabled(),this["#mask-section-heading"].disabled=this["#mask-button"].disabled&&this["#unmask-button"].disabled;
}},{},e)}(HTMLElement),a=t("bx-maskcontrols",i);return{get default(){return a}}}),
$traceurRuntime.registerModule("elements/bx-menu",[],function(){"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-menu"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-menu")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-menu")).sleep,n=75,r=300,i='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-menu.css");\n  </style>\n\n  <main id="main">\n    <content id="content"></content>\n  </main>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._pointerLocs=[],this._pointerInsideMenuBlock=!1,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}this["#main"].addEventListener("pointermove",function(t){return e._onPointerMove(t);
}),this.addEventListener("pointerover",function(t){return e._onPointerOver(t)}),this.addEventListener("pointerout",function(t){
return e._onPointerOut(t)}),this.addEventListener("click",function(t){return e._onClick(t);
})},menuWillShow:function(){return Promise.resolve()},menuItemWillTrigger:function(e){
return Promise.resolve()},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(e){this.setAttribute("label",e)},get opened(){return this.hasAttribute("opened");
},get items(){var e=[],t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if("content"===o.localName){var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=o.getDistributedNodes()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;"bx-menuitem"!==h.localName&&"hr"!==h.localName||e.push(h)}}catch(v){
l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}else"bx-menuitem"!==o.localName&&"hr"!==o.localName||e.push(o);
}}catch(f){n=!0,r=f}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}return e},openBelowElement:function(e){var t,n,r,i,a=arguments;return $traceurRuntime.asyncWrap(function(o){
for(;;)switch(o.state){case 0:t=void 0!==a[1]?a[1]:0,o.state=4;break;case 4:return void Promise.resolve(this.menuWillShow()).then(o.createCallback(2),o.errback);
case 2:this.setAttribute("opened",""),n=e.getBoundingClientRect(),this.style.removeProperty("height"),
this.style.setProperty("top",n.top+n.height+t+"px"),this.style.setProperty("left",n.left+"px"),
r=this.getBoundingClientRect(),r.left+r.width>window.innerWidth&&this.style.setProperty("left",n.left+n.width-r.width+"px"),
r.top+r.height+t+5>window.innerHeight&&(i=window.innerHeight-(n.top+n.height+t)-10,
this.style.setProperty("height",i+"px")),this.dispatchEvent(new CustomEvent("menuopen",{
bubbles:!0,detail:this})),o.state=-2;break;default:return o.end()}},this)},openNextToElement:function(e){
var t,n,r,i,a=arguments;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){
case 0:t=void 0!==a[1]?a[1]:0,o.state=4;break;case 4:return void Promise.resolve(this.menuWillShow()).then(o.createCallback(2),o.errback);
case 2:this.setAttribute("opened",""),n=e.getBoundingClientRect(),this.style.removeProperty("height"),
this.style.setProperty("top",n.top+"px"),this.style.setProperty("left",n.left+n.width+t+"px"),
r=this.getBoundingClientRect(),r.left+r.width+t>window.innerWidth&&(this.style.setProperty("left",n.left-r.width-t+"px"),
r=this.getBoundingClientRect()),r.top+r.height+5>window.innerHeight&&(i=window.innerHeight-(r.top+r.height)-5,
this.style.setProperty("top",n.top+i+"px"),r=this.getBoundingClientRect(),r.top<0&&(this.style.setProperty("top","5px"),
this.style.setProperty("height",window.innerHeight-10+"px"))),this.dispatchEvent(new CustomEvent("menuopen",{
bubbles:!0,detail:this})),o.state=-2;break;default:return o.end()}},this)},openAtPosition:function(e,t){
var n,r;return $traceurRuntime.asyncWrap(function(i){for(;;)switch(i.state){case 0:
return void Promise.resolve(this.menuWillShow()).then(i.createCallback(2),i.errback);
case 2:this.setAttribute("opened",""),this.style.removeProperty("height"),this.style.setProperty("left",e+"px"),
this.style.setProperty("top",t+"px"),n=this.getBoundingClientRect(),n.left+n.width>window.innerWidth&&(this.style.setProperty("left",e-n.width+"px"),
n=this.getBoundingClientRect()),n.top+n.height+5>window.innerHeight&&(r=window.innerHeight-(n.top+n.height)-5,
this.style.setProperty("top",t+r+"px"),n=this.getBoundingClientRect(),n.top<0&&(this.style.setProperty("top","5px"),
this.style.setProperty("height",window.innerHeight-10+"px"))),this.dispatchEvent(new CustomEvent("menuopen",{
bubbles:!0,detail:this})),i.state=-2;break;default:return i.end()}},this)},close:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.items[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.highlighted&&(a.highlighted=!1)}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this.style.removeProperty("left"),this.style.removeProperty("top"),
this.removeAttribute("opened"),this._openedSubmenu&&(this._openedSubmenu.close(),
this._openedSubmenu=null),this.dispatchEvent(new CustomEvent("menuclose",{bubbles:!0,
detail:this}))},triggerItem:function(e){var n=this;return new Promise(function(r){
var i,a,o,s,l,u;return $traceurRuntime.asyncWrap(function(c){for(;;)switch(c.state){
case 0:return void Promise.resolve(n.menuItemWillTrigger(e)).then(c.createCallback(2),c.errback);
case 2:c.state=e.disabled===!1&&0===e.childElementCount?13:16;break;case 13:c.state=n.opened?7:12;
break;case 7:i=!0,a=!1,o=void 0;try{for(s=void 0,l=n.items[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)u=s.value,
u.highlighted&&(u.highlighted=!1)}catch(d){a=!0,o=d}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}n._willClose=!0,c.state=8;break;case 8:return void Promise.resolve(t(100)).then(c.createCallback(4),c.errback);
case 4:e.highlighted=!0,c.state=10;break;case 10:return void Promise.resolve(t(100)).then(c.createCallback(6),c.errback);
case 6:e.highlighted=!1,n._willClose=!1,n.close(),c.state=12;break;case 12:n.dispatchEvent(new CustomEvent("menuitemtrigger",{
bubbles:!0,detail:e})),r(),c.state=-2;break;case 16:r(),c.state=-2;break;default:
return c.end()}},this)})},highlightItem:function(e){var n,r;return $traceurRuntime.asyncWrap(function(i){
for(;;)switch(i.state){case 0:i.state=this._willClose?1:3;break;case 1:i.returnValue=void 0,
i.state=2;break;case 2:i.state=-2;break;case 3:n=this.items.find(function(e){return e.highlighted===!0;
}),i.state=21;break;case 21:i.state=n?10:7;break;case 10:i.state=n===e?5:8;break;case 5:
i.returnValue=void 0,i.state=6;break;case 6:i.state=-2;break;case 8:n.highlighted=!1,
i.state=7;break;case 7:this._openedSubmenu&&(this._openedSubmenu.close(),this._openedSubmenu=null),
i.state=23;break;case 23:i.state=e&&e.disabled===!1?17:-2;break;case 17:r=e.children[0]&&"bx-menu"===e.children[0].localName?e.children[0]:null,
e.highlighted=!0,i.state=18;break;case 18:i.state=r?12:-2;break;case 12:return void Promise.resolve(t(100)).then(i.createCallback(13),i.errback);
case 13:e.highlighted&&e.highlighted&&(this._openedSubmenu=r,r.openNextToElement(e,0)),
i.state=-2;break;default:return i.end()}},this)},highlightPreviousItem:function(){
var e=void 0!==arguments[0]?arguments[0]:null,t=this.items;if(null===e&&(e=t.find(function(e){
return e.highlighted===!0})),e)for(var n=t.indexOf(e)-1;n>=0;n-=1){var r=t[n];if(r.disabled===!1&&r.hidden===!1&&"bx-menuitem"===r.localName)return this.highlightItem(r),
void r.scrollIntoViewIfNeeded()}for(var i=t.length-1;i>=0;i-=1){var a=t[i];if(a.disabled===!1&&a.hidden===!1&&"bx-menuitem"===a.localName&&a!==e)return this.highlightItem(a),
void a.scrollIntoViewIfNeeded()}},highlightNextItem:function(){var e=void 0!==arguments[0]?arguments[0]:null,t=this.items;
if(null===e&&(e=t.find(function(e){return e.highlighted===!0})),e)for(var n=t.indexOf(e)+1;n<t.length;n+=1){
var r=t[n];if(r.disabled===!1&&r.hidden===!1&&"bx-menuitem"===r.localName)return this.highlightItem(r),
void r.scrollIntoViewIfNeeded()}for(var i=0;i<t.length;i+=1){var a=t[i];if(a.disabled===!1&&a.hidden===!1&&"bx-menuitem"===a.localName&&a!==e)return this.highlightItem(a),
void a.scrollIntoViewIfNeeded()}},_onPointerMove:function(e){this._pointerLocs.push({
x:e.pageX,y:e.pageY}),this._pointerLocs.length>3&&this._pointerLocs.shift()},_onPointerOver:function(e){
e.target===this||e.target.parentElement===this||this.items.includes(e.target)?(this._pointerInsideMenuBlock===!1&&(this._pointerInsideMenuBlock=!0),
"bx-menuitem"===e.target.localName&&this._onMenuItemPointerEnter(e.target)):this._pointerInsideMenuBlock===!0&&(this._pointerInsideMenuBlock=!1,
this._onMenuBlockPointerLeave())},_onPointerOut:function(e){e.relatedTarget&&(e.relatedTarget===this||this.items.includes(e.relatedTarget))||this._pointerInsideMenuBlock===!0&&(this._pointerInsideMenuBlock=!1,
this._onMenuBlockPointerLeave())},_onClick:function(e){if(0===e.button&&"bx-menuitem"===e.target.localName&&(e.target.parentElement===this||this.items.includes(e.target))){
var t=e.target;this.triggerItem(t)}},_onMenuItemPointerEnter:function(e){this._timeoutID&&clearTimeout(this._timeoutID),
this._highlightItemWithDelay(e)},_onMenuBlockPointerLeave:function(){this._timeoutID&&clearTimeout(this._timeoutID);
var e=this.items.find(function(e){return e.highlighted===!0});if(e){var t=e.children[0];
t&&t.opened!==!1||(e.highlighted=!1)}},_highlightItemWithDelay:function(e){var t=this,n=this._getHighlightDelay();
n?this._timeoutID=setTimeout(function(){t._highlightItemWithDelay(e)},n):this.highlightItem(e);
},_getHighlightDelay:function(){var e="right",t=this._pointerLocs[this._pointerLocs.length-1],i=this._pointerLocs[0];
if(!this._openedSubmenu)return 0;if(!t)return 0;i||(i=t);var a=this.getBoundingClientRect(),o={
x:a.left,y:a.top-n},s={x:a.left+a.width,y:o.y},l={x:a.left,y:a.top+a.height+n},u={
x:a.left+a.width,y:l.y};if(i.x<a.left||i.x>u.x||i.y<a.top||i.y>u.y)return 0;if(this._lastDelayLoc&&t.x==this._lastDelayLoc.x&&t.y==this._lastDelayLoc.y)return 0;
var c=s,d=u;"left"==e?(c=l,d=o):"below"==e?(c=u,d=l):"above"==e&&(c=o,d=s);var h=function(e,t){
return(t.y-e.y)/(t.x-e.x)},v=h(t,c),f=h(t,d),m=h(i,c),p=h(i,d);return m>v&&f>p?(this._lastDelayLoc=t,
r):(this._lastDelayLoc=null,0)}},{},e)}(HTMLElement),o=e("bx-menu",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-menuitem",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-menuitem")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-menuitem"))["default"],n="images/icons.svg#arrow-right",r="images/icons.svg#circle",i="images/icons.svg#check-mark",a='\n  <style>@import url("stylesheets/bx-menuitem.css");</style>\n\n  <main>\n    <div id="state-icons">\n      <svg class="icon" id="selected-state-icon" viewBox="0 0 100 100" hidden>\n        <use href="'+r+'" width="100" height="100"></use>\n      </svg>\n\n      <svg class="icon" id="toggled-state-icon" viewBox="0 0 100 100" hidden>\n        <use href="'+i+'" width="100" height="100"></use>\n      </svg>\n    </div>\n\n    <div id="label"></div>\n    <div id="shortcut"></div>\n    <svg id="arrow-icon" viewBox="0 0 100 100"><use href="'+n+'" width="100" height="100"></use></svg>\n  </main>\n\n  <content select="bx-menu"></content>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=a;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"label"===e?this._onLabelAttributeChange():"state"===e?this._onStateAttributeChange():"shortcut"!==e&&"usershortcut"!==e||this._onShortcutAttributeChange();
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get state(){return this.hasAttribute("state")?this.getAttribute("state"):null;
},set state(e){null===e?this.removeAttribute("state"):this.setAttribute("state",e);
},get commandID(){return this.hasAttribute("commandid")?this.getAttribute("commandid"):"";
},set commandID(e){this.setAttribute("commandid",e)},get shortcut(){return this.hasAttribute("shortcut")?t.fromString(this.getAttribute("shortcut")):null;
},set shortcut(e){null===e?this.removeAttribute("shortcut"):this.setAttribute("shortcut",e.toString());
},get userShortcut(){return this.hasAttribute("usershortcut")?t.fromString(this.getAttribute("usershortcut")):null;
},set userShortcut(e){null===e?this.removeAttribute("usershortcut"):this.setAttribute("usershortcut",e.toString());
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onLabelAttributeChange:function(){this["#label"].textContent=this.label},_onStateAttributeChange:function(){
"selected"===this.state?(this["#selected-state-icon"].removeAttribute("hidden"),this["#toggled-state-icon"].setAttribute("hidden","")):"toggled"===this.state?(this["#selected-state-icon"].setAttribute("hidden",""),
this["#toggled-state-icon"].removeAttribute("hidden")):(this["#selected-state-icon"].setAttribute("hidden",""),
this["#toggled-state-icon"].setAttribute("hidden",""))},_onShortcutAttributeChange:function(){
var e=this.userShortcut||this.shortcut||null;e?this["#shortcut"].textContent=e.toDisplayString():this["#shortcut"].textContent="";
}},{},e)}(HTMLElement),s=e("bx-menuitem",o);return{get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-ngonhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ngonhud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ngonhud")),n=t.getNearestPointOnLine,r=t.getPointAtFraction,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ngonhud")),a=i.round,o=i.normalize,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ngonhud")),l=s.getShapeData,u=s.setShapeData,c=s.getNGonShapeVertexPoint,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-ngonhud")).throttle,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ngonhud")).getTransformToElement,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ngonhud"))["default"],f=Math,m=(f.sin,
f.cos,f.PI,Symbol()),p=6,b='\n  <style>@import url("stylesheets/bx-ngonhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',g=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=d(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=b;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,h=this.attributes[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){
var v=c.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedNGons=this._getSelectedNGons(),
0===this._selectedNGons.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.matches(".arms-grippie")?this._onArmsGrippiePointerDown(e):e.target.matches(".corner-grippie")&&this._onCornerGrippiePointerDown(e);
},_onArmsGrippiePointerDown:function(e){var t,n,r=this;if(0===e.button){var i,o,s=e.target,c=s.parentElement,d=c[m],h=l(d).values,v=(t=h[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),f=(n=t.next()).done?void 0:n.value,p=(n=t.next()).done?void 0:n.value,b=(n=t.next()).done?void 0:n.value,g=(n=t.next()).done?void 0:n.value,y=(n=t.next()).done?void 0:n.value,x=g,_=!1;
s.parentElement.append(s),this._draggedGrippie=s,window.addEventListener("pointermove",i=function(t){
var n=a((t.clientX-e.clientX)/10,0);g=x+n,5>g&&(g=5),_===!1&&g!==x&&(body.canvas.undoManager.checkpoint("Change number of n-gon arms"),
_=!0),u(d,{type:"n-gon",values:[v,f,p,b,g,y]},body.canvas.geometryPrecision)}),window.addEventListener("pointerup",o=function(){
window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",o),
r._draggedGrippie=null})}},_onCornerGrippiePointerDown:function(e){var t,r,i=this;
if(0===e.button){var a,s,d=e.target,h=d.parentElement,f=h[m],p=(SVGMatrix.fromMatrix(f.transform.baseVal.consolidate().matrix),
f.getCTM().inverse()),b=l(f).values,g=(t=b[Symbol.iterator](),(r=t.next()).done?void 0:r.value),y=(r=t.next()).done?void 0:r.value,x=(r=t.next()).done?void 0:r.value,_=(r=t.next()).done?void 0:r.value,w=(r=t.next()).done?void 0:r.value,S=((r=t.next()).done?void 0:r.value,
new SVGPoint(e.clientX,e.clientY)),k=S.matrixTransform(p),C=new SVGPoint(k.x,k.y),R=c(0,g,y,x,_,w),M=c(1,g,y,x,_,w),E=!1;
d.parentElement.append(d),this._draggedGrippie=d,window.addEventListener("pointermove",a=function(e){
var t,r;E===!1&&(E=!0,body.canvas.undoManager.checkpoint("N-gon radius"));var i=new SVGPoint(e.clientX,e.clientY);
C=i.matrixTransform(p);var a=(t=n(R,M,C,!1)[Symbol.iterator](),(r=t.next()).done?void 0:r.value),s=new v(R,a),l=new v(R,M),c=s.length/l.length,d=o(c,0,.5,2);
u(f,{type:"n-gon",values:[g,y,x,_,w,d]},body.canvas.geometryPrecision)}),window.addEventListener("pointerup",s=function(){
window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",s),
i._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedNGons[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[m]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var u=o.value,d=u[m],v=h(d,this),f=l(d).values,p=(e=f[Symbol.iterator](),(t=e.next()).done?void 0:t.value),b=(t=e.next()).done?void 0:t.value,g=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=(t=e.next()).done?void 0:t.value,w=!0,S=!1,k=void 0;
try{for(var C=void 0,R=u.children[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value;if(M.matches(".arms-grippie")){var E=new SVGPoint(p,b).matrixTransform(v);
M.setAttribute("cx",E.x),M.setAttribute("cy",E.y)}else if(M.matches(".corner-grippie")){
var P=c(0,p,b,g,y,x).matrixTransform(v),A=c(1,p,b,g,y,x).matrixTransform(v),T=r(P,A,_);
M.setAttribute("cx",T.x),M.setAttribute("cy",T.y)}}}catch(L){S=!0,k=L}finally{try{
w||null==R["return"]||R["return"]()}finally{if(S)throw k}}}}catch(N){i=!0,a=N}finally{
try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",p/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedNGons:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("n-gon")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedNGons(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),y=e("g","bx-ngonhud",g);return{get default(){return y;
}}}),$traceurRuntime.registerModule("elements/bx-ngontool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ngontool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-ngontool")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ngontool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ngontool")),l=s.normalize,u=(s.round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ngontool"))),c=u.setShapeData,d=u.getNGonShapeVertexPoint,h=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ngontool")).getTransformFromPoints,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-ngontool")).reduceTransform),v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-ngontool"))["default"],f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ngontool"))["default"],m=Math,p=m.abs,b=m.min,g=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._nGonCursor=body.registerCursor("images/cursor-n-gon.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
return e._onPointerDown(t)})},_onDisabled:function(){body.unregisterCursor(this._nGonCursor),
body.unregisterCursor(this._pointerDownNGonCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener)},_onPointerDown:function(e){
var t,n,i=this;window.addEventListener("pointermove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n),i._onIntentionalDragStart(e))}),window.addEventListener("pointerup",n=function(e){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,s,u=this,m=body.canvas.currentContainer||body.canvas.currentArtboard,g=body.modKeys.ctrl?"polar":"planar",y=body.canvas,x=y.geometryPrecision,_=y.transformPrecision,w=0,S=0,k=0,C=0,R=5,M=0;
body.canvas.undoManager.checkpoint("Draw n-gon shape"),this._pointerDownNGonCursor=body.registerCursor("images/cursor-n-gon.svg",900,8,8);
var E=t("svg:path");E.style.setProperty("fill","#d8d8d8"),c(E,{type:"n-gon",values:[w,S,k,C,R,M]
}),m.append(E),body.canvas.selectedElements=[E];var P=E.getScreenCTM().inverse(),A=E.transform.baseVal.consolidate().matrix.multiply(P);
E.setAttribute("transform",A.toString()),window.addEventListener("pointermove",n=function(t){
if("planar"===g){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=p(n),s=p(r);
if(body.modKeys.shift){var l=b(i,s);i=l,s=l}var u=0>n?e.clientX-i:e.clientX,h=0>r?e.clientY-s:e.clientY;
k=i/2,C=s/2,w=u+k,S=h+C}else if("polar"===g){var v=new SVGPoint(e.clientX,e.clientY),m=d(2,w,S,k,C,R),y=new SVGPoint(t.clientX,t.clientY),_=new f(v,y),P=a(v,m,y);
w=v.x,S=v.y,k=_.length,C=_.length,body.modKeys.shift&&(P=o(P,180/R));var T=(new SVGMatrix).rotate(P,v.x,v.y);
E.setAttribute("transform",A.multiply(T).toString())}c(E,{type:"n-gon",values:[w,S,k,C,R,M]
},x)}),window.addEventListener("pointerup",r=function(){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),body.removeEventListener("keydown",i),body.removeEventListener("toolchange",s),
body.unregisterCursor(u._pointerDownNGonCursor),h(E,{geometryPrecision:x,transformPrecision:_
})}),body.addEventListener("toolchange",s=function(){return r()}),body.addEventListener("keydown",i=function(e){
var t=v.fromEvent(event);t.matches("ArrowUp")?(event.preventDefault(),event.stopPropagation(),
R+=1,c(E,{type:"n-gon",values:[w,S,k,C,R,M]},x)):t.matches("ArrowDown")?(event.preventDefault(),
event.stopPropagation(),R>5&&(R-=1,c(E,{type:"n-gon",values:[w,S,k,C,R,M]},x))):t.matches("ArrowLeft")?(event.preventDefault(),
event.stopPropagation(),M>0&&(M=l(M-.04,0,.5,2),c(E,{type:"n-gon",values:[w,S,k,C,R,M]
},x))):t.matches("ArrowRight")&&(event.preventDefault(),event.stopPropagation(),.5>M&&(M=l(M+.04,0,.5,2),
c(E,{type:"n-gon",values:[w,S,k,C,R,M]},x)))})}},{},e)}(HTMLElement),y=n("bx-ngontool",g);
return{get default(){return y}}}),$traceurRuntime.registerModule("elements/bx-outlineshud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-outlineshud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-outlineshud")),n=t.createElement,r=t.registerElement,i=t.queryGraphicsElements,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-outlineshud")).serializePathData,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-outlineshud")).throttle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-outlineshud")).getTransformToElement,l='\n  <style>@import url("stylesheets/bx-outlineshud.css");</style>\n  <g id="outlines"></g>\n',u=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._updateOutlines30Th=o(this._updateOutlines,30,this),
this._updateOutlines200Th=o(this._updateOutlines,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=l;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._updateOutlines(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._updateOutlines()},_onArtboardMutation:function(){
body.isPointerDown||body.canvas.textInputMode?this._updateOutlines30Th():this._updateOutlines200Th();
},_updateOutlines:function(){var t=document.createDocumentFragment(),r=!1,o=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=i(body.canvas.selectedElements)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value,f={},m=v.localName;if("path"===m)f.d=v.getAttribute("d");else if("rect"===m||"circle"===m||"ellipse"===m||"line"===m||"polyline"===m||"polygon"===m)f.d=a(v.getPathData());else if("text"===m&&"edit-tool"===body.currentTool.id){
var p=$traceurRuntime.spread(v.children).find(function(e){return"textPath"===e.localName;
});if(p){var b=p.getAttribute("href");if(b){var g=body.canvas.artboards.querySelector(b);
if(g){var y=s(v,this),x=g.transform.baseVal.consolidate().matrix;f.d=g.getAttribute("d"),
f.transform=y.multiply(x).toString()}}}}if(void 0===f.d){var _=e(v);f.d="\n          M "+_.x+" "+_.y+"\n          L "+(_.x+_.width)+" "+_.y+"\n          L "+(_.x+_.width)+" "+(_.y+_.height)+"\n          L "+_.x+" "+(_.y+_.height)+"\n          L "+_.x+" "+_.y+"\n        ";
}void 0===f.transform&&(f.transform=s(v,this).toString()),body.canvas.selectedElements.includes(v)===!1&&(f.isContainer=!0),
r===!1&&(r=!0,f.isPrimary=!0),o.push(f)}}catch(w){u=!0,c=w}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}for(;this["#outlines"].children.length>o.length;)this["#outlines"].lastElementChild.remove();
for(var S=0;S<o.length;S+=1){var k=o[S],C=void 0;this["#outlines"].children[S]?C=this["#outlines"].children[S]:(C=n("svg:path"),
t.append(C)),C.setAttribute("d",k.d?k.d:""),C.setAttribute("class","outline"),C.setAttribute("transform",k.transform.toString()),
k.isContainer?C.setAttribute("data-container",""):C.removeAttribute("data-container");
}this["#outlines"].append(t)}},{},t)}(SVGGElement),c=r("g","bx-outlineshud",u);return{
get default(){return c}}}),$traceurRuntime.registerModule("elements/bx-paintcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-paintcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-colorpicker","elements/bx-paintcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-paintcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/color","elements/bx-paintcontrols"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-paintcontrols")).getPatternThumbnails,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-paintcontrols")).getUserBBox,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-paintcontrols")).parseColor,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-paintcontrols")),a=i.createElement,o=i.registerElement,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-paintcontrols")).parseSVG,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-paintcontrols")).round,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-paintcontrols")),c=u.getPaintType,d=u.getPaintServer,h=u.getDefFromURL,v=u.isMixedPaint,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","elements/bx-paintcontrols")),m=f.centerPattern,p=f.comparePatterns,b=f.getParentPattern,g=f.createDerivedPattern,y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-paintcontrols")).reduceProperty,x=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-paintcontrols")),_=x.getRenderedTextNodes,w=x.getTspansIntersectedByRange,S=x.reduceText,k=x.spanifyText,C=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-paintcontrols")),R=C.debounce,M=C.throttle,E=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-paintcontrols")).paintableElementNames,P="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",A='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-paintcontrols.css");\n  </style>\n\n  <main>\n    <section id="paint-section">\n      <header id="section-header">\n        <h2 id="section-heading">Paint</h2>\n      </header>\n\n      <div id="paint-type-subsection">\n        <h3 id="paint-type-heading">Type</h3>\n\n        <div id="paint-type-buttons">\n          <bx-button\n            id="solid-paint-button"\n            value="solid"\n            tooltip="Solid Color"\n            icon="paint-solid"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="linear-gradient-paint-button"\n            value="linear-gradient"\n            tooltip="Linear Gradient"\n            icon="paint-linear-gradient"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="radial-gradient-paint-button"\n            value="radial-gradient"\n            tooltip="Radial Gradient"\n            icon="paint-radial-gradient"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="pattern-paint-button"\n            value="pattern"\n            tooltip="Pattern"\n            icon="paint-pattern"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="none-paint-button"\n            value="none"\n            tooltip="None"\n            icon="paint-none"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="inherit-paint-button"\n            value="inherit"\n            tooltip="Inherit"\n            icon="paint-inherit"\n            iconsize="30"\n            hidden\n            skin="iconic">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="spread-method-subsection">\n        <h3>Spread</h3>\n\n        <div id="spread-method-buttons">\n          <bx-button\n            id="pad-spread-method-button"\n            value="pad"\n            tooltip="Pad spread method"\n            icon="spread-method-pad"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="repeat-spread-method-button"\n            value="repeat"\n            tooltip="Repeat spread method"\n            icon="spread-method-repeat"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="reflect-spread-method-button"\n            value="reflect"\n            tooltip="Reflect spread method"\n            icon="spread-method-reflect"\n            iconsize="30"\n            skin="iconic">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="color-subsection">\n        <h3>Color</h3>\n        <bx-colorpicker id="color-picker"></bx-colorpicker>\n        <p id="color-picker-hint"></p>\n      </div>\n\n      <div id="pattern-subsection">\n        <h3>Pattern</h3>\n\n        <div class="hbox">\n          <bx-select id="pattern-select" value="pattern-0">\n            <bx-selectitem value="pattern-0" label="#pattern-0"></bx-selectitem>\n            <bx-selectitem value="pattern-1" label="#pattern-1"></bx-selectitem>\n            <bx-selectitem value="pattern-2" label="#pattern-2"></bx-selectitem>\n          </bx-select>\n\n          <bx-button\n            id="edit-pattern-button"\n            tooltip="Edit pattern"\n            icon="forward"\n            iconsize="22"\n            skin="iconic">\n          </bx-button>\n        </div>\n\n        <div id="pattern-select-hint">Add more patterns in <span id="defs-panel-span">Defs Panel</span>.</div>\n      </div>\n    </section>\n  </main>\n',T=function(i){
function o(){$traceurRuntime.superConstructor(o).apply(this,arguments)}return $traceurRuntime.createClass(o,{
createdCallback:function(){var e=this;this._update200Th=M(this._update,200,this),
this._updatePatternThumbnails2000Db=R(this._updatePatternThumbnails,2e3,this),"fill"===this.context?(this._linearGradientHud=body.canvas.linearGradientFillHud,
this._radialGradientHud=body.canvas.radialGradientFillHud):"stroke"===this.context&&(this._linearGradientHud=body.canvas.linearGradientStrokeHud,
this._radialGradientHud=body.canvas.radialGradientStrokeHud),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=A;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this["#paint-type-buttons"].addEventListener("click",function(t){
return e._onPaintTypeButtonsClick(t)}),this["#spread-method-buttons"].addEventListener("click",function(t){
return e._onSpreadMethodButtonsClick(t)}),this["#color-picker"].addEventListener("changestart",function(t){
return e._onColorPickerColorChangeStart(t)}),this["#color-picker-hint"].addEventListener("click",function(t){
return e._onColorPickerHintClick(t)}),this["#pattern-select"].addEventListener("change",function(){
return e._onPatternSelectChange()}),this["#pattern-select-hint"].addEventListener("click",function(t){
return e._onPatternSelectHintClick(t)}),this["#edit-pattern-button"].addEventListener("click",function(t){
return e._onEditPatternButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},set context(e){"fill"!==e&&"stroke"!==e||this.setAttribute("context",e)},_onEnabled:function(){
var e=this;this._onCurrentArtboardChange(),this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("currentartboardchange",this._currentArtboardChangeListener=function(){
e._onCurrentArtboardChange()}),this._linearGradientHud.addEventListener("selectedstopschange",this._selectedStopsChangeListener1=function(){
e._onSelectedElementsChange()}),this._radialGradientHud.addEventListener("selectedstopschange",this._selectedStopsChangeListener2=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("currentartboardchange",this._currentArtboardChangeListener),
this._linearGradientHud.removeEventListener("selectedstopschange",this._selectedStopsChangeListener1),
this._radialGradientHud.removeEventListener("selectedstopschange",this._selectedStopsChangeListener2);
},_onArtboardMutation:function(e){this._update200Th()},_onSelectedElementsChange:function(){
this._update200Th()},_onSelectedTextRangeChange:function(){this._update()},_onCurrentArtboardChange:function(){
"symbol"===body.canvas.currentArtboard.contentType?this["#inherit-paint-button"].hidden=!1:this["#inherit-paint-button"].hidden=!0;
},_onPaintTypeButtonsClick:function(e){var t=e.target,n=t.value,r=(t.localName,t.pressed),i=t.mixed;
"bx-button"===e.target.localName&&(r===!0&&i===!1||("solid"===n?this._onSolidPaintButtonClick():"linear-gradient"===n?this._onLinearGradientPaintButtonClick():"radial-gradient"===n?this._onRadialGradientPaintButtonClick():"pattern"===n?this._onPatternPaintButtonClick():"inherit"===n?this._onInheritPaintButtonClick():"none"===n&&this._onNonePaintButtonClick()));
},_onSolidPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=this._getSelectedPaintableElements(),t=e.filter(function(e){return"text"===e.localName;
}),n=body.canvas.selectedTextRange,i="#bada55",a=!0,o=!1,s=void 0;try{for(var l=void 0,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var h=l.value;k(h,n)}}catch(v){o=!0,s=v}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}var f=e[0];if("text"===f.localName){var m=f.querySelectorAll("tspan"),p=w(n,f),b=p.length>0?p:m;
b.length>0&&(f=b[0])}var g=c(f,this.context);if("solid"===g)i=getComputedStyle(f).getPropertyValue(this.context);else if("linearGradient"===g||"radialGradient"===g){
var x=d(f,this.context),_=x.querySelector("stop"),C=getComputedStyle(_).getPropertyValue("stop-color"),R=r(C,"hsla");
i=R.toString("hsl")}var M=!0,E=!1,P=void 0;try{for(var A=void 0,T=e[Symbol.iterator]();!(M=(A=T.next()).done);M=!0){
var L=A.value;if("text"===L.localName&&L.querySelector("tspan")){var N=L.querySelectorAll("tspan"),$=w(n,L),O=$.length>0&&!n.collapsed?$:N,V=!0,j=!1,z=void 0;
try{for(var I=void 0,D=O[Symbol.iterator]();!(V=(I=D.next()).done);V=!0){var G=I.value;
G.style.setProperty(this.context,i)}}catch(B){j=!0,z=B}finally{try{V||null==D["return"]||D["return"]();
}finally{if(j)throw z}}}else L.style.setProperty(this.context,i),y(this.context,L);
}}catch(U){E=!0,P=U}finally{try{M||null==T["return"]||T["return"]()}finally{if(E)throw P;
}}var H=!0,F=!1,q=void 0;try{for(var W=void 0,Y=t[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0){
var X=W.value;S(X,n)}}catch(Z){F=!0,q=Z}finally{try{H||null==Y["return"]||Y["return"]();
}finally{if(F)throw q}}},_onLinearGradientPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var t=this._getSelectedPaintableElements(),i=t.filter(function(e){return"text"===e.localName;
}),o=body.canvas.geometryPrecision,u=body.canvas.selectedTextRange,v=null,f=!0,m=!1,p=void 0;
try{for(var b=void 0,g=i[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var x=b.value;
k(x,u)}}catch(_){m=!0,p=_}finally{try{f||null==g["return"]||g["return"]()}finally{
if(m)throw p}}var C=t[0];if("text"===C.localName){var R=C.querySelectorAll("tspan"),M=w(u,C),E=M.length>0?M:R;
E.length>0&&(C=E[0])}var P=c(C,this.context);if("solid"===P){var A=getComputedStyle(C).getPropertyValue(this.context),T=r(A,"hsla"),L=T.l-20<0?0:T.l-20,N=T.toString("rgba"),$=new e(T.h,T.s,L,1,"hsla").toString("rgba");
v=s('\n          <linearGradient>\n            <stop offset="0" style="stop-color: '+N+'"></stop>\n            <stop offset="1" style="stop-color: '+$+'"></stop>\n          </linearGradient>\n        ');
}else if("linearGradient"===P){var O=getComputedStyle(C).getPropertyValue(this.context);
v=h(body.canvas.masterArtboard,O)}else if("radialGradient"===P){var V=getComputedStyle(C).getPropertyValue(this.context),j=h(body.canvas.masterArtboard,V);
v=a("svg:linearGradient");var z=!0,I=!1,D=void 0;try{for(var G=void 0,B=j.children[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value;"stop"===U.localName&&v.append(U.cloneNode())}}catch(H){I=!0,D=H}finally{
try{z||null==B["return"]||B["return"]()}finally{if(I)throw D}}}else v=s('\n          <linearGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </linearGradient>\n        ');
var F=!0,q=!1,W=void 0;try{for(var Y=void 0,X=t[Symbol.iterator]();!(F=(Y=X.next()).done);F=!0){
var Z=Y.value;if("text"===Z.localName&&Z.querySelectorAll("tspan").length>0){var K=Z.querySelectorAll("tspan"),J=w(u,Z),Q=J.length>0&&!u.collapsed?J:K;
if(d(Q[0],this.context)===v){var ee=!0,te=!1,ne=void 0;try{for(var re=void 0,ie=Q[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){
var ae=re.value;ae.style.setProperty(this.context,"url(#"+v.id+")")}}catch(oe){te=!0,
ne=oe}finally{try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne}}
}else{var se=n(Z),le=l(se.x+se.width/2,o),ue=l(se.y,o),ce=l(se.x+se.width/2,o),de=l(se.y+se.height,o),he=a("svg:linearGradient");
he.setAttribute("id",body.canvas.generateUniqueID("gradient")),he.setAttribute("gradientUnits","userSpaceOnUse"),
he.setAttribute("x1",le),he.setAttribute("y1",ue),he.setAttribute("x2",ce),he.setAttribute("y2",de);
var ve=!0,fe=!1,me=void 0;try{for(var pe=void 0,be=v.querySelectorAll("stop")[Symbol.iterator]();!(ve=(pe=be.next()).done);ve=!0){
var ge=pe.value;he.append(ge.cloneNode())}}catch(ye){fe=!0,me=ye}finally{try{ve||null==be["return"]||be["return"]();
}finally{if(fe)throw me}}body.canvas.createDefsIfMissing(),body.canvas.defs.append(he);
var xe=!0,_e=!1,we=void 0;try{for(var Se=void 0,ke=Q[Symbol.iterator]();!(xe=(Se=ke.next()).done);xe=!0){
var Ce=Se.value;Ce.style.setProperty(this.context,"url(#"+he.id+")")}}catch(Re){_e=!0,
we=Re}finally{try{xe||null==ke["return"]||ke["return"]()}finally{if(_e)throw we}}
}}else if("use"===Z.localName){if(d(Z,this.context)!==v){var Me=a("svg:linearGradient");
Me.setAttribute("id",body.canvas.generateUniqueID("gradient")),Me.setAttribute("gradientUnits","objectBoundingBox"),
Me.setAttribute("x1","0.5"),Me.setAttribute("y1","0"),Me.setAttribute("x2","0.5"),
Me.setAttribute("y2","1");var Ee=!0,Pe=!1,Ae=void 0;try{for(var Te=void 0,Le=v.querySelectorAll("stop")[Symbol.iterator]();!(Ee=(Te=Le.next()).done);Ee=!0){
var Ne=Te.value;Me.append(Ne.cloneNode())}}catch($e){Pe=!0,Ae=$e}finally{try{Ee||null==Le["return"]||Le["return"]();
}finally{if(Pe)throw Ae}}body.canvas.createDefsIfMissing(),body.canvas.defs.append(Me),
Z.style.setProperty(this.context,"url(#"+Me.id+")"),y(this.context,Z)}}else if(d(Z,this.context)!==v){
var Oe=n(Z),Ve=Oe.x+Oe.width/2,je=Oe.y,ze=Oe.x+Oe.width/2,Ie=Oe.y+Oe.height,De=a("svg:linearGradient");
De.setAttribute("id",body.canvas.generateUniqueID("gradient")),De.setAttribute("gradientUnits","userSpaceOnUse"),
De.setAttribute("x1",l(Ve,o)),De.setAttribute("y1",l(je,o)),De.setAttribute("x2",l(ze,o)),
De.setAttribute("y2",l(Ie,o));var Ge=!0,Be=!1,Ue=void 0;try{for(var He=void 0,Fe=v.querySelectorAll("stop")[Symbol.iterator]();!(Ge=(He=Fe.next()).done);Ge=!0){
var qe=He.value;De.append(qe.cloneNode())}}catch(We){Be=!0,Ue=We}finally{try{Ge||null==Fe["return"]||Fe["return"]();
}finally{if(Be)throw Ue}}body.canvas.createDefsIfMissing(),body.canvas.defs.append(De),
Z.style.setProperty(this.context,"url(#"+De.id+")"),y(this.context,Z)}}}catch(Ye){
q=!0,W=Ye}finally{try{F||null==X["return"]||X["return"]()}finally{if(q)throw W}}var Xe=!0,Ze=!1,Ke=void 0;
try{for(var Je=void 0,Qe=i[Symbol.iterator]();!(Xe=(Je=Qe.next()).done);Xe=!0){var et=Je.value;
S(et,u)}}catch(tt){Ze=!0,Ke=tt}finally{try{Xe||null==Qe["return"]||Qe["return"]();
}finally{if(Ze)throw Ke}}},_onRadialGradientPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var t=this._getSelectedPaintableElements(),i=t.filter(function(e){return"text"===e.localName;
}),o=body.canvas.geometryPrecision,u=body.canvas.selectedTextRange,v=null,f=!0,m=!1,p=void 0;
try{for(var b=void 0,g=i[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var x=b.value;
k(x,u)}}catch(_){m=!0,p=_}finally{try{f||null==g["return"]||g["return"]()}finally{
if(m)throw p}}var C=t[0];if("text"===C.localName){var R=C.querySelectorAll("tspan"),M=w(u,C),E=M.length>0?M:R;
E.length>0&&(C=E[0])}var P=c(C,this.context);if("solid"===P){var A=getComputedStyle(C).getPropertyValue(this.context),T=r(A,"hsla"),L=T.l-20<0?0:T.l-20,N=T.toString("rgba"),$=new e(T.h,T.s,L,1,"hsla").toString("rgba");
v=s('\n          <radialGradient>\n            <stop offset="0" style="stop-color: '+N+'"></stop>\n            <stop offset="1" style="stop-color: '+$+'"></stop>\n          </radialGradient>\n        ');
}else if("radialGradient"===P){var O=getComputedStyle(C).getPropertyValue(this.context);
v=h(body.canvas.masterArtboard,O)}else if("linearGradient"===P){var V=getComputedStyle(C).getPropertyValue(this.context),j=h(body.canvas.masterArtboard,V);
v=a("svg:radialGradient");var z=!0,I=!1,D=void 0;try{for(var G=void 0,B=j.children[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value;"stop"===U.localName&&v.append(U.cloneNode())}}catch(H){I=!0,D=H}finally{
try{z||null==B["return"]||B["return"]()}finally{if(I)throw D}}}else v=s('\n          <radialGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </radialGradient>\n        ');
var F=!0,q=!1,W=void 0;try{for(var Y=void 0,X=t[Symbol.iterator]();!(F=(Y=X.next()).done);F=!0){
var Z=Y.value;if("text"===Z.localName&&Z.querySelectorAll("tspan").length>0){var K=Z.querySelectorAll("tspan"),J=w(u,Z),Q=J.length>0&&!u.collapsed?J:K;
if(d(Q[0],this.context)===v){var ee=!0,te=!1,ne=void 0;try{for(var re=void 0,ie=Q[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){
var ae=re.value;ae.style.setProperty(this.context,"url(#"+v.id+")")}}catch(oe){te=!0,
ne=oe}finally{try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne}}
}else{var se=n(Z),le=se.x+se.width/2,ue=se.y+se.height/2,ce=se.width/2,de=a("svg:radialGradient");
de.setAttribute("id",body.canvas.generateUniqueID("gradient")),de.setAttribute("gradientUnits","userSpaceOnUse"),
de.setAttribute("cx",l(le,o)),de.setAttribute("cy",l(ue,o)),de.setAttribute("r",l(ce,o));
var he=!0,ve=!1,fe=void 0;try{for(var me=void 0,pe=v.querySelectorAll("stop")[Symbol.iterator]();!(he=(me=pe.next()).done);he=!0){
var be=me.value;de.append(be.cloneNode())}}catch(ge){ve=!0,fe=ge}finally{try{he||null==pe["return"]||pe["return"]();
}finally{if(ve)throw fe}}body.canvas.createDefsIfMissing(),body.canvas.defs.append(de);
var ye=!0,xe=!1,_e=void 0;try{for(var we=void 0,Se=Q[Symbol.iterator]();!(ye=(we=Se.next()).done);ye=!0){
var ke=we.value;ke.style.setProperty(this.context,"url(#"+de.id+")")}}catch(Ce){xe=!0,
_e=Ce}finally{try{ye||null==Se["return"]||Se["return"]()}finally{if(xe)throw _e}}
}}else if("use"===Z.localName){if(d(Z,this.context)!==v){var Re=a("svg:radialGradient");
Re.setAttribute("id",body.canvas.generateUniqueID("gradient")),Re.setAttribute("gradientUnits","objectBoundingBox"),
Re.setAttribute("cx","0.5"),Re.setAttribute("cy","0.5"),Re.setAttribute("r","0.5");
var Me=!0,Ee=!1,Pe=void 0;try{for(var Ae=void 0,Te=v.querySelectorAll("stop")[Symbol.iterator]();!(Me=(Ae=Te.next()).done);Me=!0){
var Le=Ae.value;Re.append(Le.cloneNode())}}catch(Ne){Ee=!0,Pe=Ne}finally{try{Me||null==Te["return"]||Te["return"]();
}finally{if(Ee)throw Pe}}body.canvas.createDefsIfMissing(),body.canvas.defs.append(Re),
Z.style.setProperty(this.context,"url(#"+Re.id+")"),y(this.context,Z)}}else if(d(Z,this.context)!==v){
var $e=n(Z),Oe=$e.x+$e.width/2,Ve=$e.y+$e.height/2,je=$e.width/2,ze=a("svg:radialGradient");
ze.setAttribute("id",body.canvas.generateUniqueID("gradient")),ze.setAttribute("gradientUnits","userSpaceOnUse"),
ze.setAttribute("cx",l(Oe,o)),ze.setAttribute("cy",l(Ve,o)),ze.setAttribute("r",l(je,o));
var Ie=!0,De=!1,Ge=void 0;try{for(var Be=void 0,Ue=v.querySelectorAll("stop")[Symbol.iterator]();!(Ie=(Be=Ue.next()).done);Ie=!0){
var He=Be.value;ze.append(He.cloneNode())}}catch(Fe){De=!0,Ge=Fe}finally{try{Ie||null==Ue["return"]||Ue["return"]();
}finally{if(De)throw Ge}}body.canvas.createDefsIfMissing(),body.canvas.defs.append(ze),
Z.style.setProperty(this.context,"url(#"+ze.id+")"),y(this.context,Z)}}}catch(qe){
q=!0,W=qe}finally{try{F||null==X["return"]||X["return"]()}finally{if(q)throw W}}var We=!0,Ye=!1,Xe=void 0;
try{for(var Ze=void 0,Ke=i[Symbol.iterator]();!(We=(Ze=Ke.next()).done);We=!0){var Je=Ze.value;
S(Je,u)}}catch(Qe){Ye=!0,Xe=Qe}finally{try{We||null==Ke["return"]||Ke["return"]();
}finally{if(Ye)throw Xe}}},_onPatternPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=this._getSelectedPaintableElements(),t=e.filter(function(e){return"text"===e.localName;
}),n=(body.canvas.geometryPrecision,body.canvas.selectedTextRange),r=null,i=!0,a=!1,o=void 0;
try{for(var l=void 0,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var v=l.value;
k(v,n)}}catch(f){a=!0,o=f}finally{try{i||null==u["return"]||u["return"]()}finally{
if(a)throw o}}var p=e[0];if("text"===p.localName){var x=p.querySelectorAll("tspan"),_=w(n,p),C=_.length>0?_:x;
C.length>0&&(p=C[0])}var R=c(p,this.context);if("pattern"===R){var M=getComputedStyle(p).getPropertyValue(this.context);
r=h(body.canvas.masterArtboard,M)}if(r||(r=body.canvas.masterArtboard.querySelector("pattern")),
!r){var E=body.canvas.generateUniqueID("pattern");r=s('\n          <pattern id="'+E+'" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n            <path d="M 0 0 L 50 0 L 50 100 L 0 100 Z" style="fill: black;"></path>\n          </pattern>\n        '),
body.canvas.createDefsIfMissing(),body.canvas.defs.append(r)}var P=!0,A=!1,T=void 0;
try{for(var L=void 0,N=e[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){var $=L.value;
if("text"===$.localName&&$.querySelectorAll("tspan").length>0){var O=$.querySelectorAll("tspan"),V=w(n,$),j=V.length>0&&!n.collapsed?V:O;
if(d(j[0],this.context)===r){var z=!0,I=!1,D=void 0;try{for(var G=void 0,B=j[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value;U.style.setProperty(this.context,"url(#"+r.id+")")}}catch(H){I=!0,D=H;
}finally{try{z||null==B["return"]||B["return"]()}finally{if(I)throw D}}}else{var F=r.hasAttribute("href")?b(r):r,q=g(F);
F.hasAttribute("patternTransform")&&q.setAttribute("patternTransform",""),body.canvas.createDefsIfMissing(),
body.canvas.defs.append(q);var W=!0,Y=!1,X=void 0;try{for(var Z=void 0,K=j[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){
var J=Z.value;J.style.setProperty(this.context,"url(#"+q.id+")")}}catch(Q){Y=!0,X=Q;
}finally{try{W||null==K["return"]||K["return"]()}finally{if(Y)throw X}}m(q,$,body.canvas.transformPrecision);
}}else if(d($,this.context)!==r){var ee=r.hasAttribute("href")?b(r):r,te=g(ee);ee.hasAttribute("patternTransform")&&te.setAttribute("patternTransform",""),
body.canvas.createDefsIfMissing(),body.canvas.defs.append(te),$.style.setProperty(this.context,"url(#"+te.id+")"),
y(this.context,$),m(te,$,body.canvas.transformPrecision)}}}catch(ne){A=!0,T=ne}finally{
try{P||null==N["return"]||N["return"]()}finally{if(A)throw T}}var re=!0,ie=!1,ae=void 0;
try{for(var oe=void 0,se=t[Symbol.iterator]();!(re=(oe=se.next()).done);re=!0){var le=oe.value;
S(le,n)}}catch(ue){ie=!0,ae=ue}finally{try{re||null==se["return"]||se["return"]();
}finally{if(ie)throw ae}}},_onInheritPaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=this._getSelectedPaintableElements(),t=body.canvas.selectedTextRange,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if("text"===s.localName){k(s,t);var l=s.querySelectorAll("tspan"),u=w(t,s),c=u.length>0&&!t.collapsed?u:l;
if(c.length>0){var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;p.style.setProperty(this.context,"inherit")}}catch(b){h=!0,v=b}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}}else s.style.setProperty(this.context,"inherit"),
y(this.context,s);S(s,t)}else s.style.setProperty(this.context,"inherit"),y(this.context,s);
}}catch(g){r=!0,i=g}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}},_onNonePaintButtonClick:function(){body.canvas.undoManager.checkpoint("Paint type");
var e=this._getSelectedPaintableElements(),t=body.canvas.selectedTextRange,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if("text"===s.localName){k(s,t);var l=s.querySelectorAll("tspan"),u=w(t,s),c=u.length>0&&!t.collapsed?u:l;
if(c.length>0){var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=c[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;p.style.setProperty(this.context,"none")}}catch(b){h=!0,v=b}finally{
try{d||null==m["return"]||m["return"]()}finally{if(h)throw v}}}else s.style.setProperty(this.context,"none"),
y(this.context,s);S(s,t)}else s.style.setProperty(this.context,"none"),y(this.context,s);
}}catch(g){r=!0,i=g}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}},_onSpreadMethodButtonsClick:function(e){var t=e.target,n=t.pressed,r=t.mixed,i=t.value;
if(0===e.button&&"bx-button"===e.target.localName&&(n!==!0||r!==!1)){body.canvas.undoManager.checkpoint("Spread Method");
var a=body.canvas.selectedTextRange,o=[],s=!0,l=!1,u=void 0;try{for(var h=void 0,v=this._getSelectedPaintableElements()[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){
var f=h.value;if("text"===f.localName){var m=_(f);if(a&&a.intersectsNode(f)){var p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=m[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var w=y.value;
a.intersectsNode(w)&&!o.includes(w.parentElement)&&o.push(w.parentElement)}}catch(S){
b=!0,g=S}finally{try{p||null==x["return"]||x["return"]()}finally{if(b)throw g}}}else{
var k=!0,C=!1,R=void 0;try{for(var M=void 0,E=m[Symbol.iterator]();!(k=(M=E.next()).done);k=!0){
var P=M.value;o.includes(P.parentElement)===!1&&o.push(P.parentElement)}}catch(A){
C=!0,R=A}finally{try{k||null==E["return"]||E["return"]()}finally{if(C)throw R}}}}else o.push(f);
}}catch(T){l=!0,u=T}finally{try{s||null==v["return"]||v["return"]()}finally{if(l)throw u;
}}var L=!0,N=!1,$=void 0;try{for(var O=void 0,V=o[Symbol.iterator]();!(L=(O=V.next()).done);L=!0){
var j=O.value,z=c(j,this.context);if("linearGradient"===z||"radialGradient"===z){
var I=d(j,this.context);I.setAttribute("spreadMethod",i)}}}catch(D){N=!0,$=D}finally{
try{L||null==V["return"]||V["return"]()}finally{if(N)throw $}}}},_onColorPickerColorChangeStart:function(e){
var t,n=this;body.canvas.undoManager.checkpoint("Change Color");var r,i,a=$traceurRuntime.spread(this._linearGradientHud.selectedStops,this._radialGradientHud.selectedStops);
if(a.length>0)this["#color-picker"].addEventListener("change",r=function(){var e=!0,t=!1,r=void 0;
try{for(var i=void 0,o=a[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;
s.style.setProperty("stop-color",n["#color-picker"].value),y("stop-color",s)}}catch(l){
t=!0,r=l}finally{try{e||null==o["return"]||o["return"]()}finally{if(t)throw r}}}),
this["#color-picker"].addEventListener("changeend",i=function(){n["#color-picker"].removeEventListener("change",r),
n["#color-picker"].removeEventListener("changeend",i)});else{var o=this._getSelectedPaintableElements(),s=o.filter(function(e){
return"text"===e.localName}),l=body.canvas.selectedTextRange,u=[],c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=s[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
k(m,l)}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{
if(d)throw h}}var b=!0,g=!1,x=void 0;try{for(var _=void 0,C=o[Symbol.iterator]();!(b=(_=C.next()).done);b=!0){
var R=_.value;if("text"===R.localName&&R.querySelector("tspan")){var M=R.querySelectorAll("tspan"),E=w(l,R),P=E.length>0&&!l.collapsed?E:M;
(t=u).push.apply(t,$traceurRuntime.spread(P))}else u.push(R)}}catch(A){g=!0,x=A}finally{
try{b||null==C["return"]||C["return"]()}finally{if(g)throw x}}this["#color-picker"].addEventListener("change",r=function(){
var e=!0,t=!1,r=void 0;try{for(var i=void 0,a=u[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;o.style.setProperty(n.context,n["#color-picker"].value),y(n.context,o);
}}catch(s){t=!0,r=s}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw r;
}}}),this["#color-picker"].addEventListener("changeend",i=function(){n["#color-picker"].removeEventListener("change",r),
n["#color-picker"].removeEventListener("changeend",i);var e=!0,t=!1,a=void 0;try{
for(var o=void 0,u=s[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var c=o.value;
S(c,l)}}catch(d){t=!0,a=d}finally{try{e||null==u["return"]||u["return"]()}finally{
if(t)throw a}}})}},_onColorPickerHintClick:function(e){0===e.button&&"edit-tool-span"===e.target.id&&body.toggleTool("edit-tool");
},_onPatternSelectChange:function(){body.canvas.undoManager.checkpoint("Pattern");
var e=this._getSelectedPaintableElements(),t=e.filter(function(e){return"text"===e.localName;
}),n=this["#pattern-select"].value,r=body.canvas.masterArtboard.querySelector("#"+n),i=body.canvas.selectedTextRange,a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var v=l.value;
k(v,i)}}catch(f){o=!0,s=f}finally{try{a||null==u["return"]||u["return"]()}finally{
if(o)throw s}}var b=!0,x=!1,_=void 0;try{for(var C=void 0,R=e[Symbol.iterator]();!(b=(C=R.next()).done);b=!0){
var M=C.value;if("text"===M.localName&&M.querySelectorAll("tspan").length>0){var E=M.querySelectorAll("tspan"),P=w(i,M),A=P.length>0&&!i.collapsed?P:E,T=d(A[0],this.context),L=T&&"pattern"===T.localName?T:null;
if(L&&p(L,r)){var N=!0,$=!1,O=void 0;try{for(var V=void 0,j=A[Symbol.iterator]();!(N=(V=j.next()).done);N=!0){
var z=V.value;z.style.setProperty(this.context,"url(#"+L.id+")")}}catch(I){$=!0,O=I;
}finally{try{N||null==j["return"]||j["return"]()}finally{if($)throw O}}}else{var D=g(r);
r.hasAttribute("patternTransform")&&D.setAttribute("patternTransform",""),body.canvas.createDefsIfMissing(),
body.canvas.defs.append(D);var G=!0,B=!1,U=void 0;try{for(var H=void 0,F=A[Symbol.iterator]();!(G=(H=F.next()).done);G=!0){
var q=H.value;q.style.setProperty(this.context,"url(#"+D.id+")")}}catch(W){B=!0,U=W;
}finally{try{G||null==F["return"]||F["return"]()}finally{if(B)throw U}}m(D,M,body.canvas.transformPrecision);
}}else{var Y=c(M,this.context);if("pattern"===Y){var X=getComputedStyle(M).getPropertyValue(this.context),Z=h(body.canvas.masterArtboard,X);
if(p(Z,r))continue}var K=g(r);r.hasAttribute("patternTransform")&&K.setAttribute("patternTransform",""),
body.canvas.createDefsIfMissing(),body.canvas.defs.append(K),M.style.setProperty(this.context,"url(#"+K.id+")"),
y(this.context,M),m(K,M,body.canvas.transformPrecision)}}}catch(J){x=!0,_=J}finally{
try{b||null==R["return"]||R["return"]()}finally{if(x)throw _}}var Q=!0,ee=!1,te=void 0;
try{for(var ne=void 0,re=t[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){var ie=ne.value;
S(ie,i)}}catch(ae){ee=!0,te=ae}finally{try{Q||null==re["return"]||re["return"]()}finally{
if(ee)throw te}}},_onPatternSelectHintClick:function(e){0===e.button&&"defs-panel-span"===e.target.id&&body.toggleSecondaryPanel("defs-panel");
},_onEditPatternButtonClick:function(e){0===e.button&&body.canvas.editPattern(this["#pattern-select"].value);
},_update:function(){var e,t,n=this,r=[],i=body.canvas.selectedTextRange,o=$traceurRuntime.spread(this._linearGradientHud.selectedStops,this._radialGradientHud.selectedStops),s=!0,l=!1,u=void 0;
try{for(var h=void 0,f=this._getSelectedPaintableElements()[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){
var m=h.value;if("text"===m.localName){var p=_(m);if(i&&i.intersectsNode(m)){"backward"===i.direction&&p.reverse();
var g=!0,y=!1,x=void 0;try{for(var w=void 0,S=p[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){
var k=w.value;i.intersectsNode(k)&&r.includes(k.parentElement)===!1&&r.push(k.parentElement);
}}catch(C){y=!0,x=C}finally{try{g||null==S["return"]||S["return"]()}finally{if(y)throw x;
}}}else{var R=!0,M=!1,E=void 0;try{for(var A=void 0,T=p[Symbol.iterator]();!(R=(A=T.next()).done);R=!0){
var L=A.value;r.includes(L.parentElement)===!1&&r.push(L.parentElement)}}catch(N){
M=!0,E=N}finally{try{R||null==T["return"]||T["return"]()}finally{if(M)throw E}}}}else r.push(m);
}}catch($){l=!0,u=$}finally{try{s||null==f["return"]||f["return"]()}finally{if(l)throw u;
}}var O=(e=r[Symbol.iterator](),(t=e.next()).done?void 0:t.value);if(o.length>0){
var V=o[0].closest("linearGradient, radialGradient"),j=r.find(function(e){return d(e,n.context)===V;
});j&&(O=j)}if(O?this["#section-heading"].disabled=!1:this["#section-heading"].disabled=!0,
O){var z=c(O,this.context),I=v(r,this.context);if(this["#paint-type-heading"].disabled=!1,
"solid"===z){var D=!0,G=!1,B=void 0;try{for(var U=void 0,H=this["#paint-type-buttons"].children[Symbol.iterator]();!(D=(U=H.next()).done);D=!0){
var F=U.value;F.disabled=!1,"solid"===F.value?(F.pressed=!0,F.mixed=I):(F.pressed=!1,
F.mixed=!1)}}catch(q){G=!0,B=q}finally{try{D||null==H["return"]||H["return"]()}finally{
if(G)throw B}}}else if("linearGradient"===z){var W=!0,Y=!1,X=void 0;try{for(var Z=void 0,K=this["#paint-type-buttons"].children[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){
var J=Z.value;J.disabled=!1,"linear-gradient"===J.value?(J.pressed=!0,J.mixed=I):(J.pressed=!1,
J.mixed=!1)}}catch(Q){Y=!0,X=Q}finally{try{W||null==K["return"]||K["return"]()}finally{
if(Y)throw X}}}else if("radialGradient"===z){var ee=!0,te=!1,ne=void 0;try{for(var re=void 0,ie=this["#paint-type-buttons"].children[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){
var ae=re.value;ae.disabled=!1,"radial-gradient"===ae.value?(ae.pressed=!0,ae.mixed=I):(ae.pressed=!1,
ae.mixed=!1)}}catch(oe){te=!0,ne=oe}finally{try{ee||null==ie["return"]||ie["return"]();
}finally{if(te)throw ne}}}else if("pattern"===z){var se=!0,le=!1,ue=void 0;try{for(var ce=void 0,de=this["#paint-type-buttons"].children[Symbol.iterator]();!(se=(ce=de.next()).done);se=!0){
var he=ce.value;he.disabled=!1,"pattern"===he.value?(he.pressed=!0,he.mixed=I):(he.pressed=!1,
he.mixed=!1)}}catch(ve){le=!0,ue=ve}finally{try{se||null==de["return"]||de["return"]();
}finally{if(le)throw ue}}}else if("inherit"===z){var fe=!0,me=!1,pe=void 0;try{for(var be=void 0,ge=this["#paint-type-buttons"].children[Symbol.iterator]();!(fe=(be=ge.next()).done);fe=!0){
var ye=be.value;ye.disabled=!1,"inherit"===ye.value?(ye.pressed=!0,ye.mixed=I):(ye.pressed=!1,
ye.mixed=!1)}}catch(xe){me=!0,pe=xe}finally{try{fe||null==ge["return"]||ge["return"]();
}finally{if(me)throw pe}}}else if("none"===z){var _e=!0,we=!1,Se=void 0;try{for(var ke=void 0,Ce=this["#paint-type-buttons"].children[Symbol.iterator]();!(_e=(ke=Ce.next()).done);_e=!0){
var Re=ke.value;Re.disabled=!1,"none"===Re.value?(Re.pressed=!0,Re.mixed=I):(Re.pressed=!1,
Re.mixed=!1)}}catch(Me){we=!0,Se=Me}finally{try{_e||null==Ce["return"]||Ce["return"]();
}finally{if(we)throw Se}}}}else{this["#paint-type-heading"].disabled=!0;var Ee=!0,Pe=!1,Ae=void 0;
try{for(var Te=void 0,Le=this["#paint-type-buttons"].children[Symbol.iterator]();!(Ee=(Te=Le.next()).done);Ee=!0){
var Ne=Te.value;Ne.disabled=!0,Ne.pressed=!1,Ne.mixed=!1}}catch($e){Pe=!0,Ae=$e}finally{
try{Ee||null==Le["return"]||Le["return"]()}finally{if(Pe)throw Ae}}}if(O){var Oe=c(O,this.context);
if("linearGradient"===Oe||"radialGradient"===Oe){this["#spread-method-subsection"].hidden=!1;
var Ve=d(O,this.context),je=!1,ze=!0,Ie=!1,De=void 0;try{for(var Ge=void 0,Be=r[Symbol.iterator]();!(ze=(Ge=Be.next()).done);ze=!0){
var Ue=Ge.value,He=d(Ue,this.context);He&&He.localName.endsWith("Gradient")&&He.spreadMethod.baseVal!==Ve.spreadMethod.baseVal&&(je=!0);
}}catch(Fe){Ie=!0,De=Fe}finally{try{ze||null==Be["return"]||Be["return"]()}finally{
if(Ie)throw De}}Ve.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].pressed=!0,
this["#repeat-spread-method-button"].mixed=je,this["#pad-spread-method-button"].pressed=!1,
this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].pressed=!1,
this["#reflect-spread-method-button"].mixed=!1):Ve.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].pressed=!1,
this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].pressed=!0,
this["#pad-spread-method-button"].mixed=je,this["#reflect-spread-method-button"].pressed=!1,
this["#reflect-spread-method-button"].mixed=!1):Ve.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].pressed=!1,
this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].pressed=!1,
this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].pressed=!0,
this["#reflect-spread-method-button"].mixed=je)}else this["#spread-method-subsection"].hidden=!0;
}else this["#spread-method-subsection"].hidden=!0;if(O){var qe=c(O,this.context),We=v(r,this.context);
if("solid"===qe)this["#color-subsection"].hidden=!1,this["#color-picker"].hidden=!1,
this["#color-picker"].value=getComputedStyle(O).getPropertyValue(this.context),this["#color-picker"].mixed=We,
this["#color-picker-hint"].innerHTML="";else if("linearGradient"===qe||"radialGradient"===qe){
var Ye=this["_"+qe+"Hud"].selectedStops;this["#color-subsection"].hidden=!1,this["#color-picker"].mixed=We,
0===Ye.length?(this["#color-picker"].hidden=!0,this["#color-picker-hint"].innerHTML='Select stop with <span id="edit-tool-span">Edit Tool</span>.'):(this["#color-picker"].hidden=!1,
this["#color-picker"].value=Ye[0].style.getPropertyValue("stop-color")||"#000",this["#color-picker-hint"].innerHTML="");
}else this["#color-subsection"].hidden=!0}else this["#color-subsection"].hidden=!0;
if(O&&"pattern"===c(O,this.context)){this["#pattern-subsection"].hidden=!1,this["#pattern-select"].mixed=v(r,this.context);
var Xe=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
if(Xe=Xe.filter(function(e){return e.hasAttribute("href")===!1}),this["#pattern-select"].childElementCount===Xe.length)for(var Ze=0;Ze<Xe.length;Ze+=1){
var Ke=Xe[Ze],Je=this["#pattern-select"].children[Ze];Je.label="#"+Ke.id,Je.value=Ke.id;
}else{this["#pattern-select"].innerHTML="";var Qe=!0,et=!1,tt=void 0;try{for(var nt=void 0,rt=Xe[Symbol.iterator]();!(Qe=(nt=rt.next()).done);Qe=!0){
var it=nt.value,at=a("bx-selectitem");at.label="#"+it.id,at.value=it.id,at.thumbnail=P,
this["#pattern-select"].append(at)}}catch(ot){et=!0,tt=ot}finally{try{Qe||null==rt["return"]||rt["return"]();
}finally{if(et)throw tt}}}var st=d(O,this.context),lt=st.hasAttribute("href")?b(st):st;
this["#pattern-select"].value=lt.id,this._updatedPatternThumbnailsForFirstTime?this._updatePatternThumbnails2000Db():(this._updatedPatternThumbnailsForFirstTime=!0,
this._updatePatternThumbnails())}else this["#pattern-subsection"].hidden=!0},_updatePatternThumbnails:function(){
var e=this,n=body.canvas.extractArtwork();t(n,function(t,n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e["#pattern-select"].children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.value===t&&(l.thumbnail=n)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}})},_getSelectedPaintableElements:function(){var e=[],t=function(n){
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;E.includes(l.localName)||"use"===l.localName?e.push(l):"g"!==l.localName&&"a"!==l.localName||t(l.children);
}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}};return t(body.canvas.outermostSelectedElements),e}},{},i)}(HTMLElement),L=o("bx-paintcontrols",T);
return{get default(){return L}}}),$traceurRuntime.registerModule("elements/bx-panel",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-panel")).registerElement,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-panel")).normalize,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-panel"))),n=(t.getTimeStamp,
t.sleep),r=Number.parseFloat,i=window.getComputedStyle,a=!1,o=5,s=7,l=5,u=7,c='\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-panel.css");\n  </style>\n\n  <div id="container">\n    <header>\n      <h1 id="heading">Panel</h1>\n\n      <svg id="help-icon" viewBox="0 0 100 100" preserveAspectRatio="none" hidden>\n        <use href="images/icons.svg#help" width="100" height="100"></use>\n      </svg>\n    </header>\n\n    <main>\n      <content></content>\n    </main>\n\n    <div id="resize-grippies">\n      <div class="grippie edge" data-position="top"></div>\n      <div class="grippie edge" data-position="bottom"></div>\n      <div class="grippie edge" data-position="left"></div>\n      <div class="grippie edge" data-position="right"></div>\n      <div class="grippie corner" data-position="top-left"></div>\n      <div class="grippie corner" data-position="top-right"></div>\n      <div class="grippie corner" data-position="bottom-left"></div>\n      <div class="grippie corner" data-position="bottom-right"></div>\n    </div>\n  </div>\n',d=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e,t,n,r,i,o,s,l,u,d,h,v,f;return $traceurRuntime.asyncWrap(function(m){
for(;;)switch(m.state){case 0:e=this,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=c,t=!0,n=!1,r=void 0;try{for(i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)s=i.value,
this["#"+s.id]=s}catch(p){n=!0,r=p}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}l=!0,u=!1,d=void 0;try{for(h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0)f=h.value,
this.attributeChangedCallback(f.name)}catch(b){u=!0,d=b}finally{try{l||null==v["return"]||v["return"]();
}finally{if(u)throw d}}a&&this.setAttribute("debug",""),this.addEventListener("pointerenter",function(){
return e._defaultCursor=body.registerCursor("default",100)}),this.addEventListener("pointerleave",function(){
return body.unregisterCursor(e._defaultCursor)}),this["#help-icon"].addEventListener("pointerdown",function(t){
return e._onHelpIconPointerDown(t)}),this["#resize-grippies"].addEventListener("pointerdown",function(t){
return e._onResizeGrippiePointerDown(t)}),m.state=-2;break;default:return m.end();
}},this)},attributeChangedCallback:function(e){"label"===e?this._onLabelAttributeChange():"help"===e?this._onHelpAttributeChange():"enabled"===e&&this._onEnabledAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get label(){return this.getAttribute("label")},set label(e){e?this.setAttribute("label",e):this.removeAttribute("label");
},get help(){return this.getAttribute("help")},set help(e){e?this.setAttribute("help",e):this.removeAttribute("help");
},get button(){for(var e=this.parentNode;e.parentNode;)e=e.parentNode;return e?e.querySelector('bx-button[href="#'+this.id+'"]'):null;
},_onEnabledAttributeChange:function(){this.enabled?this._onEnabled():this._onDisabled();
},_onLabelAttributeChange:function(){this["#heading"].textContent=this.label},_onHelpAttributeChange:function(){
this.help?this["#help-icon"].removeAttribute("hidden"):this["#help-icon"].setAttribute("hidden","");
},_onEnabled:function(){var e,t,n,r,a,o,s,l;return $traceurRuntime.asyncWrap(function(u){
for(;;)switch(u.state){case 0:e=this,u.state=9;break;case 9:u.state=void 0===this._customWidth&&void 0===this._customHeight?1:5;
break;case 1:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customWidth")).then(u.createCallback(3),u.errback);
case 3:this._customWidth=u.value,u.state=2;break;case 2:return void Promise.resolve(body.getConfig("bx-panel#"+this.id+":customHeight")).then(u.createCallback(6),u.errback);
case 6:this._customHeight=u.value,u.state=5;break;case 5:void 0===this._defaultWidth&&void 0===this._defaultHeight&&(t=i(this),
this._defaultWidth="auto"===t.width?null:parseInt(t.width),this._defaultHeight="auto"===t.height?null:parseInt(t.height)),
this._updateGeometry(),this.style.setProperty("visibility","visible"),n=!0,r=!1,a=void 0;
try{for(o=void 0,s=this.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)l=o.value,
l.enabled===!1&&(l.enabled=!0)}catch(c){r=!0,a=c}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw a}}window.addEventListener("resize",this._windowResizeListener=function(){
return e._onWindowResize()}),u.state=-2;break;default:return u.end()}},this)},_onDisabled:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.enabled===!0&&(a.enabled=!1)}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}window.removeEventListener("resize",this._windowResizeListener);
},_onHelpIconPointerDown:function(){this.help&&body.bridge.postMessage("openExternalURL",this.help);
},_onWindowResize:function(){this._updateGeometry()},_onResizeGrippiePointerDown:function(e){
var t,a,c=this,d=e.target.dataset.position,h=this.button.getBoundingClientRect(),v=this.getBoundingClientRect(),f=i(this),m=v.left,p=v.top,b=v.width,g=v.height,y=m,x=p,_=b,w=g,S="none"===f.minWidth?0:r(f.minWidth),k="none"===f.minHeight?0:r(f.minHeight),C="none"===f.maxWidth?1/0:r(f.maxWidth),R="none"===f.maxHeight?1/0:r(f.maxHeight),M=null;
"top"===d||"bottom"===d?M="ns-resize":"left"===d||"right"===d?M="ew-resize":"top-left"===d?M="nwse-resize":"top-right"===d?M="nesw-resize":"bottom-left"===d?M="nesw-resize":"bottom-right"===d&&(M="nwse-resize");
var E=body.registerCursor(M,900);window.addEventListener("pointermove",t=function(t){
var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=function(){b=S>_+n?S:_+n>C?C:_+n,
y+b+u>window.innerWidth&&(b=window.innerWidth-y-u),c.style.setProperty("width",b+"px");
},a=function(){S>_-n?(m=y+(_-S),b=S):_-n>C?(m=y+(_-C),b=C):(m=y+n,b=_-n),l>m&&(m=l,
b=y+_-l),c.style.setProperty("left",m+"px"),c.style.setProperty("width",b+"px")},h=function(){
k>w-r?(p=x+(w-k),g=k):w-r>R?(p=x+(w-R),g=R):(p=x+r,g=w-r),o>p&&(p=o,g=x+w-o),c.style.setProperty("top",p+"px"),
c.style.setProperty("height",g+"px")},v=function(){g=k>w+r?k:w+r>R?R:w+r,x+g+s>window.innerHeight&&(g=window.innerHeight-x-s),
c.style.setProperty("height",g+"px")};"right"===d?i():"left"===d?a():"top"===d?h():"bottom"===d?v():"bottom-right"===d?(v(),
i()):"bottom-left"===d?(v(),a()):"top-left"===d?(h(),a()):"top-right"===d&&(h(),i());
}),window.addEventListener("pointerup",a=function(){window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",a),body.unregisterCursor(E);var e=h.top+g+s-window.innerHeight;
m=h.right+l+b+u<=window.innerWidth?h.right+u:h.left-u-b,0>=e?p=h.top:h.top-e>=o?p=h.top-e:(p=o,
g=window.innerHeight-o-s),c.style.setProperty("transition","ease 0.3s all"),c.style.setProperty("left",m+"px"),
c.style.setProperty("top",p+"px"),c.style.setProperty("width",b+"px"),c.style.setProperty("height",g+"px"),
n(300).then(function(){return c.style.removeProperty("transition")}),c.id&&(b!==_&&(body.setConfig("bx-panel#"+c.id+":customWidth",b),
c._customWidth=b),g!==w&&(body.setConfig("bx-panel#"+c.id+":customHeight",g),c._customHeight=g));
})},_updateGeometry:function(){var e,t,n,r,i,a;return $traceurRuntime.asyncWrap(function(c){
for(;;)switch(c.state){case 0:c.state=null===this.button?1:3;break;case 1:c.returnValue=void 0,
c.state=2;break;case 2:c.state=-2;break;case 3:e=this.button.getBoundingClientRect(),
t=this._customWidth||this._defaultWidth||235,n=this._customHeight||this._defaultHeight||450,
r=null,i=null,r=e.right+l+t+u<=window.innerWidth?e.right+l:e.left-u-t,e.top+n+s>window.innerHeight?(a=e.top+n+s-window.innerHeight,
e.top-a<o?(i=o,n=window.innerHeight-o-s):i=e.top-a):i=e.top,this.style.setProperty("width",t+"px"),
this.style.setProperty("height",n+"px"),null!==r&&this.style.setProperty("left",r+"px"),
null!==i&&this.style.setProperty("top",i+"px"),c.state=-2;break;default:return c.end();
}},this)}},{},e)}(HTMLElement),h=e("bx-panel",d);return{get default(){return h}}}),
$traceurRuntime.registerModule("elements/bx-pathcontrols",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-pathcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-pathcontrols")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-pathcontrols")).throttle,r='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-pathcontrols.css");\n  </style>\n\n  <section>\n    <bx-button\n      id="convert-to-path-button"\n      label="Convert to Path">\n    </bx-button>\n\n    <bx-button\n      id="reverse-path-button"\n      label="Reverse">\n    </bx-button>\n  </section>\n\n  <section id="boolean-operations-section">\n    <h2 id="boolean-operations-heading">Boolean Operations</h2>\n\n    <div class="hbox">\n      <bx-button\n        id="union-button"\n        icon="union"\n        iconsize="25"\n        label="Unite">\n      </bx-button>\n\n      <bx-button\n        id="difference-button"\n        icon="difference"\n        iconsize="25"\n        label="Subtract">\n      </bx-button>\n    </div>\n\n    <div class="hbox">\n      <bx-button\n        id="intersection-button"\n        icon="intersection"\n        iconsize="25"\n        label="Intersect">\n      </bx-button>\n\n      <bx-button\n        id="exclusion-button"\n        icon="exclusion"\n        iconsize="25"\n        label="Exclude">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="outline-section">\n    <h2 id="compound-path-heading">Compound Path</h2>\n\n    <div class="hbox">\n      <bx-button\n        id="combine-button"\n        iconsize="25"\n        label="Combine">\n      </bx-button>\n\n      <bx-button\n        id="break-apart-button"\n        iconsize="25"\n        label="Break Apart">\n      </bx-button>\n    </div>\n  </section>\n',i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._update200Th=n(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=r;
var t=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){i=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,f=this.attributes[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
var m=v.value;this.attributeChangedCallback(m.name)}}catch(p){d=!0,h=p}finally{try{
c||null==f["return"]||f["return"]()}finally{if(d)throw h}}this["#convert-to-path-button"].addEventListener("click",function(t){
return e._onConvertToPathButtonClick(t)}),this["#reverse-path-button"].addEventListener("click",function(t){
return e._onReversePathButtonClick(t)}),this["#union-button"].addEventListener("click",function(t){
return e._onUnionButtonClick(t)}),this["#difference-button"].addEventListener("click",function(t){
return e._onDifferenceButtonClick(t)}),this["#intersection-button"].addEventListener("click",function(t){
return e._onIntersectionButtonClick(t)}),this["#exclusion-button"].addEventListener("click",function(t){
return e._onExclusionButtonClick(t)}),this["#combine-button"].addEventListener("click",function(t){
return e._onCombineButtonClick(t)}),this["#break-apart-button"].addEventListener("click",function(t){
return e._onBreakApartButtonClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onArtboardMutation:function(e){
this._update200Th()},_onConvertToPathButtonClick:function(e){0===e.button&&body.commands.convertToPath.exec();
},_onReversePathButtonClick:function(e){0===e.button&&body.commands.reversePath.exec();
},_onUnionButtonClick:function(e){0===e.button&&body.commands.unite.exec()},_onDifferenceButtonClick:function(e){
0===e.button&&body.commands.subtract.exec()},_onIntersectionButtonClick:function(e){
0===e.button&&body.commands.intersect.exec()},_onExclusionButtonClick:function(e){
0===e.button&&body.commands.exclude.exec()},_onCombineButtonClick:function(e){0===e.button&&body.commands.combine.exec();
},_onBreakApartButtonClick:function(e){0===e.button&&body.commands.breakApart.exec();
},_update:function(){this._updateBoolOpsSection()},_updateBoolOpsSection:function(){
var e,t,n,r,i,a;return $traceurRuntime.asyncWrap(function(o){for(;;)switch(o.state){
case 0:e=this["#convert-to-path-button"],t=body.commands,n=t.convertToPath,r=n.enabled,
i=r.call(n),o.state=5;break;case 5:return void Promise.resolve(i).then(o.createCallback(3),o.errback);
case 3:a=o.value,o.state=2;break;case 2:e.disabled=!a,o.state=7;break;case 7:this["#reverse-path-button"].disabled=!body.commands.reversePath.enabled(),
this["#union-button"].disabled=!body.commands.unite.enabled(),this["#difference-button"].disabled=!body.commands.subtract.enabled(),
this["#intersection-button"].disabled=!body.commands.intersect.enabled(),this["#exclusion-button"].disabled=!body.commands.exclude.enabled(),
this["#boolean-operations-heading"].disabled=this["#union-button"].disabled&&this["#difference-button"].disabled&&this["#intersection-button"].disabled&&this["#exclusion-button"].disabled,
this["#combine-button"].disabled=!body.commands.combine.enabled(),this["#break-apart-button"].disabled=!body.commands.breakApart.enabled(),
this["#compound-path-heading"].disabled=this["#combine-button"].disabled&&this["#break-apart-button"].disabled,
o.state=-2;break;default:return o.end()}},this)}},{},e)}(HTMLElement),a=t("bx-pathcontrols",i);
return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-pathhud",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-pathhud"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-pathhud")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-pathhud")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-pathhud")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-pathhud")),o=a.getPathDataBySubpath,s=a.getNearestPointOnPath,l=a.harmonizePathData,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/curves-general","elements/bx-pathhud")),c=u.getCubicCurveTParam,d=u.splitCurve,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-pathhud")),v=h.checkCollinearity,f=h.comparePoints,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-pathhud")).rectContainsRect,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-pathhud")).throttle,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-pathhud")).getTransformToElement,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-pathhud"))["default"],y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-pathhud"))["default"],x=Math,_=(x.max,
x.pow),w=Number.parseFloat,S=(Object.keys,5),k=4,C='\n  <style>@import url("stylesheets/bx-pathhud.css");</style>\n  <g id="outline-grippies"></g>\n  <g id="control-lines"></g>\n  <g id="node-grippies"></g>\n  <g id="control-grippies"></g>\n',R=Symbol(),M=Symbol(),E=Symbol(),P=Symbol(),A=function(e){
return e.map(function(e){return{type:e.type,values:$traceurRuntime.spread(e.values)
}})},T=function(e,t){var n=[],r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;"C"===u.type||"L"===u.type?r.push(u):"M"===u.type?(r.length>0&&(n.push(r),
r=[]),r.push(u)):"Z"===u.type&&(r.push(u),n.push(r),r=[])}}catch(c){a=!0,o=c}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}return r.length>0&&n.push(r),
n.find(function(t){return t.includes(e)})||null},L=function(e,n){L.cachedPath||(L.cachedPath=t("svg:path"));
for(var r=L.cachedPath,i=[],a=0;a<e.length;a+=1){var o=e[a];i.push(o),r.setPathData(i);
var s=r.getTotalLength();if(s>=n)return a}return e.length-1},N=function(e,t){var n=void 0!==arguments[2]?arguments[2]:2,r="sharp";
if(e&&t&&"C"===e.type&&"C"===t.type){var a=new SVGPoint(e.values[4],e.values[5]),o=new SVGPoint(t.values[0],t.values[1]),s=new SVGPoint(e.values[2],e.values[3]);
if(f(a,o)===!1&&f(a,s)===!1&&v(o,a,s,n)===!0){var l=new y(a,o),u=new y(a,s),c=i(l.length,2),d=i(u.length,2);
r=c===d?"symmetric-smooth":"smooth"}}return r},$=function(e,t){var n=void 0!==arguments[2]?arguments[2]:!1,r=new SVGPoint(t.values[4],t.values[5]),i=new SVGPoint(e.values[0],e.values[1]),a=new SVGPoint(t.values[2],t.values[3]),o=new y(r,i),s=new y(r,a),l=o.getOppositeVector();
n===!1&&(l.length=s.length),t.values[2]=r.x+l.x,t.values[3]=r.y+l.y},O=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:!1,r=new SVGPoint(e.values[4],e.values[5]),i=new SVGPoint(e.values[2],e.values[3]),a=new SVGPoint(t.values[0],t.values[1]),o=new y(r,i),s=new y(r,a),l=o.getOppositeVector();
n===!1&&(l.length=s.length),t.values[0]=r.x+l.x,t.values[1]=r.y+l.y},V=function(e,t,n){
var r;"M"===e.type||"L"===e.type?r=new SVGPoint(e.values[0],e.values[1]):"C"===e.type&&(r=new SVGPoint(e.values[4],e.values[5]));
var i=new SVGPoint(n.values[4],n.values[5]),a=new SVGPoint(t.values[4],t.values[5]),o=new y(a,r),s=new y(a,i),l=o.length/s.length,u=new y(l*s.x-o.x,l*s.y-o.y).normalize();
t.values[2]=a.x+-u.x*(o.length/3),t.values[3]=a.y+-u.y*(o.length/3),n.values[0]=a.x+u.x*(s.length/3),
n.values[1]=a.y+u.y*(s.length/3)},j=function(e){var t,n,r=null,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if("L"===u.type){var c=u.values,d=(t=c[Symbol.iterator](),(n=t.next()).done?void 0:n.value),h=(n=t.next()).done?void 0:n.value,v="C"===r.type?r.values[4]:r.values[0],f="C"===r.type?r.values[5]:r.values[1];
u.type="C",u.values=[v,f,d,h,d,h]}r=u}}catch(m){a=!0,o=m}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}},z=function(e){var t,n,r=null,i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if("C"===u.type){var c=u.values,d=(t=c[Symbol.iterator](),(n=t.next()).done?void 0:n.value),h=(n=t.next()).done?void 0:n.value,v=(n=t.next()).done?void 0:n.value,f=(n=t.next()).done?void 0:n.value,m=(n=t.next()).done?void 0:n.value,p=(n=t.next()).done?void 0:n.value,b="C"===r.type?r.values[4]:r.values[0],g="C"===r.type?r.values[5]:r.values[1];
d===b&&h===g&&v===m&&f===p&&(u.type="L",u.values=[m,p])}r=u}}catch(y){a=!0,o=y}finally{
try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}},I=function(e,t){var n=T(e,t);
return"Z"===n[n.length-1].type},D=function(e){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var e=this;this.commands={
selectAll:{enabled:function(){return!0},exec:function(){return e._selectAllSegs();
}}},this.tabIndex=-1,this._installed=!1,this._selectedPaths=[],this._draggedNodeGrippie=null,
this._draggedControlGrippie=null,this._draggedOutlineGrippie=null,this._arrowCursor=null,
this._updateOutlineGrippies1500Th=p(this._updateOutlineGrippies,1500,this),this._updateNodeGrippies40Th=p(this._updateNodeGrippies,40,this),
this._updateControlGrippies40Th=p(this._updateControlGrippies,40,this),this._updateNodeGrippiesSize40Th=p(this._updateNodeGrippiesSize,40,this),
this._updateControlGrippiesSize40Th=p(this._updateControlGrippiesSize,40,this),this._updateOutlineGrippiesSize1500Th=p(this._updateOutlineGrippiesSize,1500,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=C;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},rubberBandSelectionCallback:function(e){
var t=body.modKeys.shift,n=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#node-grippies"].children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l.getBBox();m(e,u)&&n.push(l)}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var d=!0,h=!1,v=void 0;try{for(var f,p,b,g=function(){var e=y.value,r=n.filter(function(t){
return t[R]===e}),i=r.map(function(e){return e[E]});if(e[P]||(e[P]=[]),t===!1)e[P]=i;else{
f=!0,p=!1,b=void 0;try{for(var a=void 0,o=i[Symbol.iterator]();!(f=(a=o.next()).done);f=!0){
var s=a.value;e[P].includes(s)===!1&&e[P].push(s)}}catch(l){p=!0,b=l}finally{try{
f||null==o["return"]||o["return"]()}finally{if(p)throw b}}}},y=void 0,x=this._selectedPaths[Symbol.iterator]();!(d=(y=x.next()).done);d=!0)g();
}catch(_){h=!0,v=_}finally{try{d||null==x["return"]||x["return"]()}finally{if(h)throw v;
}}this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),this._updateOutlineGrippies1500Th(),
n.length>0&&this.focus()},get enabled(){return this.hasAttribute("enabled")},set enabled(e){
e?this.setAttribute("enabled",""):this.removeAttribute("enabled")},_install:function(){
var e=this;this._installed=!0,body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(){
e._onArtboardMutation()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._deselectAllSegs()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._deselectAllSegs()}),this.addEventListener("keydown",this._keyDownListener=function(t){
e._onKeyDown(t)}),this.addEventListener("pointerenter",this._pointerEnterListener=function(){
e._onPointerEnter()}),this.addEventListener("pointerleave",this._pointerLeaveListener=function(){
e._onPointerLeave()}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)}),this._shadowRoot.addEventListener("dblclick",this._shadowRootDblClickListener=function(t){
e._onShadowRootDblClick(t)})},_uninstall:function(){this._selectedPaths=[],this._installed=!1,
this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",
this["#control-lines"].innerHTML="",body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener),
this.removeEventListener("keydown",this._keyDownListener),this.removeEventListener("pointerenter",this._pointerEnterListener),
this.removeEventListener("pointerleave",this._pointerLeaveListener),this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener),
this._shadowRoot.removeEventListener("dblclick",this._shadowRootDblClickListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a[P]=[]}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._selectedPaths=this._getSelectedPaths(),0===this._selectedPaths.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateOutlineGrippies1500Th(),this._updateNodeGrippies40Th())},_onArtboardMutation:function(){
this._updateNodeGrippies40Th(),this._updateControlGrippies40Th(),this._updateOutlineGrippies1500Th();
},_onZoomChange:function(){this._updateNodeGrippiesSize40Th(),this._updateControlGrippiesSize40Th(),
this._updateOutlineGrippiesSize1500Th()},_onPointerEnter:function(){this._arrowCursor||(this._arrowCursor=body.registerCursor("default",100));
},_onPointerLeave:function(){this._arrowCursor&&(body.unregisterCursor(this._arrowCursor),
this._arrowCursor=null)},_onShadowRootPointerDown:function(e){e.preventDefault(),
this.focus();var t,n=body.registerCursor("default",900);e.target.classList.contains("node-grippie")?this._onNodeGrippiePointerDown(e):e.target.classList.contains("control-grippie")?this._onControlGrippiePointerDown(e):e.target.classList.contains("outline-grippie")&&this._onOutlineGrippiePointerDown(e),
window.addEventListener("pointerup",t=function(){window.removeEventListener("pointerup",t),
body.unregisterCursor(n)})},_onShadowRootDblClick:function(e){e.target.classList.contains("node-grippie")?this._onNodeGrippieDblClick(e):e.target.classList.contains("control-grippie")?this._onControlGrippieDblClick(e):e.target.classList.contains("outline-grippie")&&this._onOutlineGrippieDblClick(e);
},_onArtboardPointerDown:function(e){var t,n=this;window.addEventListener("pointerup",t=function(r){
window.removeEventListener("pointerup",t),r.clientX===e.clientX&&r.clientY===e.clientY&&n._deselectAllSegs();
})},_onNodeGrippiePointerDown:function(e){var t=this;if(0===e.button){var n=body.modKeys.shift,i=e.target,a=i[R],o=i[E];
a[P]||(a[P]=[]);var s,l,u=a[P].includes(o),c=!1;if(u===!1){if(n===!1){a[P]=[o];var d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=this._selectedPaths[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value;p!==a&&(p[P]=[])}}catch(b){h=!0,v=b}finally{try{d||null==m["return"]||m["return"]();
}finally{if(h)throw v}}}else n===!0&&a[P].push(o);this._updateNodeGrippies40Th(),
this._updateControlGrippies40Th(),c=!0}window.addEventListener("pointermove",s=function(n){
if(r(e,n)){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",l);
var a=new SVGPoint(n.clientX,n.clientY);t._onNodeGrippieDragStart(e,i,a)}}),window.addEventListener("pointerup",l=function(e){
window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",l),
c===!1&&n===!0&&(a[P].remove(o),t._updateNodeGrippies40Th(),t._updateControlGrippies40Th());
})}},_onNodeGrippieDragStart:function(e,t,n){var r=this;body.canvas.undoManager.checkpoint("Edit path");
var a,o,s=Symbol(),u=Symbol(),c=Symbol();this._draggedNodeGrippie=t;var d=!0,h=!1,v=void 0;
try{for(var f=void 0,m=this._selectedPaths[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value,b=l(p.getPathData({normalize:!0})),g=A(b),y=p[M],x=void 0;if(y){var _=p.transform.baseVal.consolidate().matrix,w=y.getScreenCTM();
x=w.multiply(_).inverse()}else x=p.getScreenCTM().inverse();p[c]=x,p[u]=b,p[s]=g}
}catch(S){h=!0,v=S}finally{try{d||null==m["return"]||m["return"]()}finally{if(h)throw v;
}}window.addEventListener("pointermove",a=function(e){var t=new SVGPoint(e.clientX,e.clientY),i=!0,a=!1,o=void 0;
try{for(var l=void 0,d=r._selectedPaths[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){
var h=l.value,v=n.matrixTransform(h[c]),f=t.matrixTransform(h[c]),m=f.x-v.x,p=f.y-v.y,b=h[u],g=h[s],y=h[P]||[],x=!0,_=!1,w=void 0;
try{for(var S=void 0,k=y[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){var C=S.value,R=b[C],M=b[C+1],E=g[C],A=g[C+1];
if("M"===R.type||"L"===R.type){if(R.values[0]=E.values[0]+m,R.values[1]=E.values[1]+p,
M&&"C"===M.type)M.values[0]=A.values[0]+m,M.values[1]=A.values[1]+p;else if(M&&"Z"===M.type){
var L=T(R,b),N=L[0];N.values[0]=R.values[0],N.values[1]=R.values[1]}}else if("C"===R.type)if(R.values[2]=E.values[2]+m,
R.values[3]=E.values[3]+p,R.values[4]=E.values[4]+m,R.values[5]=E.values[5]+p,M&&"C"===M.type)M.values[0]=A.values[0]+m,
M.values[1]=A.values[1]+p;else if(M&&"Z"===M.type){var $=T(R,b),O=$[0],V=$[1],j=T(E,g);
O.values[0]=R.values[4],O.values[1]=R.values[5],"C"===V.type&&(V.values[0]=j[1].values[0]+m,
V.values[1]=j[1].values[1]+p)}}}catch(z){_=!0,w=z}finally{try{x||null==k["return"]||k["return"]();
}finally{if(_)throw w}}h.setPathData(b)}}catch(I){a=!0,o=I}finally{try{i||null==d["return"]||d["return"]();
}finally{if(a)throw o}}}),window.addEventListener("pointerup",o=function(e){window.removeEventListener("pointermove",a),
window.removeEventListener("pointerup",o);var t=!0,n=!1,s=void 0;try{for(var l=void 0,c=r._selectedPaths[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){
var d=l.value,h=d[u],v=!0,f=!1,m=void 0;try{for(var p=void 0,b=h[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;g.values=g.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m;
}}d.setPathData(h)}}catch(x){n=!0,s=x}finally{try{t||null==c["return"]||c["return"]();
}finally{if(n)throw s}}r._draggedNodeGrippie=null,r._updateOutlineGrippies()})},_onControlGrippiePointerDown:function(e){
var t=this;if(0===e.button){var n,i,a=e.target;window.addEventListener("pointermove",n=function(o){
if(r(e,o)){window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",i);
var s=new SVGPoint(o.clientX,o.clientY);t._onControlGrippieDragStart(e,a,s)}}),window.addEventListener("pointerup",i=function(e){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",i);
})}},_onControlGrippieDragStart:function(e,t,n){var r=this;body.canvas.undoManager.checkpoint("Move control point");
var a,o=t.getAttribute("data-index"),s=t[R],u=s[M];if(u){var c=s.transform.baseVal.consolidate().matrix,d=u.getScreenCTM();
a=d.multiply(c).inverse()}else a=s.getScreenCTM().inverse();var h=t[E],v=l(s.getPathData({
normalize:!0}));j(v);var f=v[h],m=v[h-1]||null,p=v[h+1]||null,b=T(f,v),g=I(f,v),x=n.matrixTransform(a),_={
type:"C",values:$traceurRuntime.spread(f.values)},w=null,S=null,k=null;w="M"===m.type&&g?b[b.length-2]:m,
p&&("Z"===p.type?S=g?b[1]:null:"C"===p.type&&(S=p)),"1"===o?"M"===w.type||"L"===w.type?k=new SVGPoint(w.values[0],w.values[1]):"C"===w.type&&(k=new SVGPoint(w.values[4],w.values[5])):"2"===o&&(k=new SVGPoint(f.values[4],f.values[5]));
var C,P,A,L="sharp",$=new SVGPoint(x.x,x.y);this._draggedControlGrippie=t;var O=function(){
var e=body.modKeys,t=e.ctrl,n=e.shift;t===!0&&n===!1?L="sharp":t===!1&&n===!0?"1"===o?L=w&&"C"===w.type?"smooth":"sharp":"2"===o&&(L=S&&"C"===S.type?"smooth":"sharp"):t===!0&&n===!0?"1"===o?L=w&&"C"===w.type?"symmetric-smooth":"sharp":"2"===o&&(L=S&&"C"===S.type?"symmetric-smooth":"sharp"):t===!1&&n===!1&&("1"===o?L=N(w,f):"2"===o&&(L=N(f,S)));
},V=function(){var e=$.x-x.x,t=$.y-x.y;if("1"===o){var n=new SVGPoint(_.values[0]+e,_.values[1]+t);
if(f.values[0]=n.x,f.values[1]=n.y,"smooth"===L){var r=new SVGPoint(w.values[2],w.values[3]),i=new y(k,n),a=new y(k,r),l=i.getOppositeVector();
l.length=a.length,w.values[2]=k.x+l.x,w.values[3]=k.y+l.y}else if("symmetric-smooth"===L){
var u=new y(k,n);u=u.negate(),w.values[2]=k.x+u.x,w.values[3]=k.y+u.y}}else if("2"===o){
var c=new SVGPoint(_.values[2]+e,_.values[3]+t);if(f.values[2]=c.x,f.values[3]=c.y,
"smooth"===L){var d=new SVGPoint(S.values[0],S.values[1]),h=new y(k,c),m=new y(k,d),p=h.getOppositeVector();
p.length=m.length,S.values[0]=k.x+p.x,S.values[1]=k.y+p.y}else if("symmetric-smooth"===L){
var b=new y(k,c);b=b.negate(),S.values[0]=k.x+b.x,S.values[1]=k.y+b.y}}s.setPathData(v);
};window.addEventListener("pointermove",C=function(e){var t=new SVGPoint(e.clientX,e.clientY);
$=t.matrixTransform(a),V()}),window.addEventListener("pointerup",P=function(e){window.removeEventListener("pointermove",C),
window.removeEventListener("pointerup",P),body.removeEventListener("modkeyschange",A),
z(v);var t=!0,n=!1,a=void 0;try{for(var o=void 0,l=v[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){
var u=o.value;u.values=u.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(c){n=!0,a=c}finally{try{t||null==l["return"]||l["return"]()}finally{if(n)throw a;
}}s.setPathData(v),r._draggedControlGrippie=null}),body.addEventListener("modkeyschange",A=function(){
O(),V()}),O()},_onOutlineGrippiePointerDown:function(e){var t=this;if(0===e.button){
var n,i,a=!1,o=e.target;window.addEventListener("pointermove",n=function(s){r(e,s)&&(window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",i),t._onOutlineGrippieDragStart(s,o),a=!0);
}),window.addEventListener("pointerup",i=function(r){var u,c;if(window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",i),a===!1){var d,h=o[R],v=h[M];if(v){var f=h.transform.baseVal.consolidate().matrix,m=v.getScreenCTM();
d=m.multiply(f).inverse()}else d=h.getScreenCTM().inverse();var p=l(h.getPathData({
normalize:!0})),b=new SVGPoint(e.clientX,e.clientY),g=b.matrixTransform(d),y=s(h,g),x=(u=y[Symbol.iterator](),
(c=u.next()).done?void 0:c.value,(c=u.next()).done?void 0:c.value),_=L(p,x),w=_-1,S=p[_],k=p[w],C=T(S,p),E=I(S,p);
E&&"M"===k.type?h[P]=[_,C.length-2]:h[P]=[_,w],t._updateNodeGrippies40Th(),t._updateControlGrippies40Th();
}})}},_onOutlineGrippieDragStart:function(e,t){var n,r,a=this;body.canvas.undoManager.checkpoint("Edit path"),
this._draggedOutlineGrippie=e.target;var o,u=t[R],d=u[M];if(d){var h=u.transform.baseVal.consolidate().matrix,v=d.getScreenCTM();
o=v.multiply(h).inverse()}else o=u.getScreenCTM().inverse();var f,m,p,b=l(u.getPathData({
normalize:!0})),g=new SVGPoint(e.clientX,e.clientY).matrixTransform(o),x=s(u,g),w=(n=x[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),S=(r=n.next()).done?void 0:r.value,k=L(b,S),C=b[k],E=b[k-1],P=b[k+1],A=T(C,b),V=I(C,b),D=new y(g,w),G=new SVGPoint(g.x,g.y),B=null,U=null,H=null,F=null,q=!1,W=!1;
j(b),B="M"===E.type&&V?A[A.length-2]:E,P&&("Z"===P.type?U=V?A[1]:null:"C"===P.type&&(U=P)),
"M"===B.type||"L"===B.type?H=new SVGPoint(B.values[0],B.values[1]):"C"===B.type&&(H=new SVGPoint(B.values[4],B.values[5])),
"M"===C.type||"L"===C.type?F=new SVGPoint(C.values[0],C.values[1]):"C"===C.type&&(F=new SVGPoint(C.values[4],C.values[5]));
var Y=function(){var e=body.modKeys,t=e.ctrl,n=e.shift;t===!0&&n===!1?(q=!1,W=!1):t===!1&&n===!0?(q=B&&"C"===B.type?"smooth":!1,
W=U&&"C"===U.type?"smooth":!1):t===!0&&n===!0?(q=B&&"C"===B.type?"symmetric-smooth":!1,
W=U&&"C"===U.type?"symmetric-smooth":!1):t===!1&&n===!1&&(q=N(B,C),W=N(C,U))},X=function(){
var e=new SVGPoint(C.values[0],C.values[1]),t=new SVGPoint(C.values[2],C.values[3]),n=c(w,H,e,t,F),r=1;
if(1/6>=n?r=0:.5>=n?r=_((6*n-1)/2,3)/2:5/6>=n&&(r=(1-_((6*(1-n)-1)/2,3))/2+.5),-1!==n){
var i=(1-r)/(3*n*(1-n)*(1-n)),a=r/(3*n*n*(1-n)),o=G.x-w.x,s=G.y-w.y;C.values[0]=C.values[0]+i*o,
C.values[1]=C.values[1]+i*s,C.values[2]=C.values[2]+a*o,C.values[3]=C.values[3]+a*s,
"smooth"===q?$(C,B,!1):"symmetric-smooth"===q&&$(C,B,!0),"smooth"===W?O(C,U,!1):"symmetric-smooth"===W&&O(C,U,!0),
w=G,u.setPathData(b)}};window.addEventListener("pointermove",f=function(e){G=new SVGPoint(e.clientX,e.clientY).matrixTransform(o),
G.x+=D.x,G.y+=D.y,X()}),window.addEventListener("pointerup",m=function(e){body.removeEventListener("modkeyschange",p),
window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",m),
z(b);var t=!0,n=!1,r=void 0;try{for(var o=void 0,s=b[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;l.values=l.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(c){n=!0,r=c}finally{try{t||null==s["return"]||s["return"]()}finally{if(n)throw r;
}}u.setPathData(b),a._draggedOutlineGrippie=null,a._updateOutlineGrippies()}),body.addEventListener("modkeyschange",p=function(){
Y(),X()}),Y()},_onNodeGrippieDblClick:function(e){var t=e.target,n=t[R],r=t[E],a=l(n.getPathData({
normalize:!0})),o=a[r],s=a[r+1]||null,u=a[r-1]||null,c=T(o,a),d=!1;if(j(a),"M"===o.type){
if("C"===s.type){var h=s.values[0]===o.values[0]&&s.values[1]===o.values[1];h===!1&&(s.values[0]=o.values[0],
s.values[1]=o.values[1],d=!0)}}else if("C"===o.type)if(null===s||"M"===s.type){var v=o.values[2]===o.values[4]&&o.values[3]===o.values[5];
v===!1&&(o.values[2]=o.values[4],o.values[3]=o.values[5],d=!0)}else if("Z"===s.type){
var f=c[1];if("C"===f.type){var m=o.values[4]===f.values[0]&&o.values[5]===f.values[1]&&o.values[4]===o.values[2]&&o.values[5]===o.values[3];
m===!1?(f.values[0]=o.values[4],f.values[1]=o.values[5],o.values[2]=o.values[4],o.values[3]=o.values[5]):V(u,o,f),
d=!0}}else if("C"===s.type){var p=s.values[0]===o.values[4]&&s.values[1]===o.values[5]&&o.values[2]===o.values[4]&&o.values[3]===o.values[5];
p===!1?(o.values[2]=o.values[4],o.values[3]=o.values[5],s.values[0]=o.values[4],s.values[1]=o.values[5]):V(u,o,s),
d=!0}if(d){body.canvas.undoManager.checkpoint("Edit path"),z(a);var b=!0,g=!1,y=void 0;
try{for(var x=void 0,_=a[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){var w=x.value;
w.values=w.values.map(function(e){return i(e,body.canvas.geometryPrecision)})}}catch(S){
g=!0,y=S}finally{try{b||null==_["return"]||_["return"]()}finally{if(g)throw y}}n.setPathData(a);
}},_onControlGrippieDblClick:function(e){var t=e.target,n=t.getAttribute("data-index"),r=t[R],a=t[E],o=l(r.getPathData({
normalize:!0})),s=o[a],u=o[a-1]||null;"1"===n?"C"===u.type?(s.values[0]=u.values[4],
s.values[1]=u.values[5]):"M"!==u.type&&"L"!==u.type||(s.values[0]=u.values[0],s.values[1]=u.values[1]):"2"===n&&(s.values[2]=s.values[4],
s.values[3]=s.values[5]),body.canvas.undoManager.checkpoint("Edit path"),z(o);var c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=o[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m.values=m.values.map(function(e){return i(e,body.canvas.geometryPrecision)})}}catch(p){
d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}r.setPathData(o);
},_onOutlineGrippieDblClick:function(e){var t,n,r,a=e.target[R],o=a[M];if(o){var u=a.transform.baseVal.consolidate().matrix,h=o.getScreenCTM();
r=h.multiply(u).inverse()}else r=a.getScreenCTM().inverse();var v,f,m=l(a.getPathData({
normalize:!0})),p=new SVGPoint(e.clientX,e.clientY).matrixTransform(r),b=s(a,p),g=(t=b[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),y=(n=t.next()).done?void 0:n.value,x=L(m,y),_=m[x];
if("L"===_.type){var w=new SVGPoint(_.values[0],_.values[1]);v={type:"L",values:[g.x,g.y]
},f={type:"L",values:[w.x,w.y]}}else if("C"===_.type){var S,k=m[x-1]||null;"M"===k.type||"L"===k.type?S=new SVGPoint(k.values[0],k.values[1]):"C"===k.type&&(S=new SVGPoint(k.values[4],k.values[5]));
var C=new SVGPoint(_.values[4],_.values[5]),E=new SVGPoint(_.values[0],_.values[1]),A=new SVGPoint(_.values[2],_.values[3]),T=c(g,S,E,A,C),N=d(S,E,A,C,T);
if(-1===T)return;v={type:"C",values:[N[0][1].x,N[0][1].y,N[0][2].x,N[0][2].y,N[0][3].x,N[0][3].y]
},f={type:"C",values:[N[1][1].x,N[1][1].y,N[1][2].x,N[1][2].y,N[1][3].x,N[1][3].y]
}}body.canvas.undoManager.checkpoint("Add path node"),m=$traceurRuntime.spread(m.slice(0,x),[v,f],m.slice(x+1));
var $=!0,O=!1,V=void 0;try{for(var j=void 0,z=m[Symbol.iterator]();!($=(j=z.next()).done);$=!0){
var I=j.value;I.values=I.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]()}finally{if(O)throw V;
}}a.setPathData(m),a[P]=[x];var G=!0,B=!1,U=void 0;try{for(var H=void 0,F=this._selectedPaths[Symbol.iterator]();!(G=(H=F.next()).done);G=!0){
var q=H.value;q!==a&&(q[P]=[])}}catch(W){B=!0,U=W}finally{try{G||null==F["return"]||F["return"]();
}finally{if(B)throw U}}this._updateNodeGrippies(),this._updateControlGrippies()},
_onKeyDown:function(e){if(this["#node-grippies"].querySelector("[data-selected]")){
var t=g.fromEvent(e);t.matches("Backspace")?(e.preventDefault(),e.stopPropagation(),
this._deleteSelectedSegs("smooth")):t.matches("Shift","Backspace")&&(e.preventDefault(),
e.stopPropagation(),this._deleteSelectedSegs("sharp"))}},_updateOutlineGrippies:function(){
if(!(this._draggedOutlineGrippie||this._draggedNodeGrippie||this._draggedControlGrippie)){
var e=document.createDocumentFragment(),n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._selectedPaths[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=void 0;if(s[M]){var u=b(s[M],this),c=s.transform.baseVal.consolidate().matrix;
l=u.multiply(c)}else l=b(s,this);var d=s.getPathData(),h=t("svg:path");h[R]=s,h.setAttribute("class","outline-grippie"),
h.setAttribute("transform",l.toString()),h.setPathData(d),e.append(h)}}catch(v){r=!0,
i=v}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}this["#outline-grippies"].innerHTML="",
this["#outline-grippies"].append(e),this._updateOutlineGrippiesSize()}},_updateNodeGrippies:function(){
if(!this._draggedOutlineGrippie&&!this._draggedControlGrippie){var e=document.createDocumentFragment(),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._selectedPaths[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,u=void 0;if(s[M]){var c=b(s[M],this),d=s.transform.baseVal.consolidate().matrix;
u=c.multiply(d)}else u=b(s,this);for(var h=l(s.getPathData({normalize:!0})),v=[],f=0;f<h.length;f+=1){
var m=h[f],p=void 0;if("C"===m.type)p=new SVGPoint(m.values[4],m.values[5]);else if("L"===m.type)p=new SVGPoint(m.values[0],m.values[1]);else{
if("M"!==m.type||I(m,h)!==!1)continue;p=new SVGPoint(m.values[0],m.values[1])}var g=p.matrixTransform(u),y=t("svg:circle");
y.setAttribute("class","node-grippie"),y.setAttribute("cx",g.x),y.setAttribute("cy",g.y),
y.setAttribute("r",S/body.canvas.scale),y[R]=s,y[E]=f,s[P]&&s[P].includes(f)&&y.setAttribute("data-selected",""),
v.push(y)}var x=!0,_=!1,w=void 0;try{for(var k=void 0,C=v[Symbol.iterator]();!(x=(k=C.next()).done);x=!0){
var A=k.value;e.append(A)}}catch(T){_=!0,w=T}finally{try{x||null==C["return"]||C["return"]();
}finally{if(_)throw w}}}}catch(L){r=!0,i=L}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(e);
}},_updateControlGrippies:function(){var e=document.createDocumentFragment(),n=document.createDocumentFragment(),r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=this._selectedPaths[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var u=o.value,c=l(u.getPathData({normalize:!0})),d=u[P]||[],h=void 0;if(u[M]){var v=b(u[M],this),m=u.transform.baseVal.consolidate().matrix;
h=v.multiply(m)}else h=b(u,this);var p=!0,g=!1,y=void 0;try{for(var x=void 0,_=d[Symbol.iterator]();!(p=(x=_.next()).done);p=!0){
var w=x.value,S=c[w],C=c[w+1]||null,A=T(S,c)[1],L=c.indexOf(A),N=void 0,$=null,O=null;
if("M"===S.type||"L"===S.type?N=new SVGPoint(S.values[0],S.values[1]):"C"===S.type&&(N=new SVGPoint(S.values[4],S.values[5])),
"C"===S.type&&($=new SVGPoint(S.values[2],S.values[3])),C&&("C"===C.type?O=new SVGPoint(C.values[0],C.values[1]):"Z"===C.type&&"C"===A.type&&(O=new SVGPoint(A.values[0],A.values[1]))),
$&&f(N,$)===!1){var V=N.matrixTransform(h),j=$.matrixTransform(h),z=t("svg:circle");
z.setAttribute("class","control-grippie"),z.setAttribute("data-index","2"),z.setAttribute("cx",j.x),
z.setAttribute("cy",j.y),z.setAttribute("r",k/body.canvas.scale),z[R]=u,z[E]=w;var I=t("svg:line");
I.setAttribute("class","control-line"),I.setAttribute("x1",V.x),I.setAttribute("y1",V.y),
I.setAttribute("x2",j.x),I.setAttribute("y2",j.y),e.append(z),n.append(I)}if(O&&f(N,O)===!1){
var D=N.matrixTransform(h),G=O.matrixTransform(h),B=t("svg:circle");B.setAttribute("class","control-grippie"),
B.setAttribute("data-index","1"),B.setAttribute("cx",G.x),B.setAttribute("cy",G.y),
B.setAttribute("r",k/body.canvas.scale),B[R]=u,B[E]="Z"===C.type?L:w+1;var U=t("svg:line");
U.setAttribute("class","control-line"),U.setAttribute("x1",D.x),U.setAttribute("y1",D.y),
U.setAttribute("x2",G.x),U.setAttribute("y2",G.y),e.append(B),n.append(U)}}}catch(H){
g=!0,y=H}finally{try{p||null==_["return"]||_["return"]()}finally{if(g)throw y}}}}catch(F){
i=!0,a=F}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}this["#control-grippies"].innerHTML="",
this["#control-grippies"].append(e),this["#control-lines"].innerHTML="",this["#control-lines"].append(n);
},_updateNodeGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#node-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",S/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateControlGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#control-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",k/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateOutlineGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#outline-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=a[R],s=getComputedStyle(o),l=w(s.getPropertyValue("stroke-width"))*body.canvas.scale;
10>l&&(l=10),a.style.setProperty("stroke-width",l)}}catch(u){t=!0,n=u}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_selectAllSegs:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
for(var a=r.value,o=l(a.getPathData({normalize:!0})),s=[],u=0;u<o.length;u+=1){var c=o[u];
"C"===c.type||"L"===c.type?s.push(u):"M"===c.type&&I(c,o)===!1&&s.push(u)}a[P]=s}
}catch(d){t=!0,n=d}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}this._updateNodeGrippies(),this._updateControlGrippies()},_deselectAllSegs:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedPaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a[P]=[]}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateNodeGrippies40Th(),this._updateControlGrippies40Th();
},_deleteSelectedSegs:function(){var e=void 0!==arguments[0]?arguments[0]:"smooth";
body.canvas.undoManager.checkpoint("Delete segments");var t=!0,n=!1,r=void 0;try{
var a,s,u,c,d,h,v,f,m,p,b,g,y,x,_,w,S=function(){var t=k.value,n=l(t.getPathData({
normalize:!0}));j(n);var r=$traceurRuntime.spread(t[P]).sort(function(e,t){return t-e;
}),w=r.filter(function(e){return"C"===n[e].type}),S=r.filter(function(e){return"M"===n[e].type;
});if(0===r.length)return 0;a=!0,s=!1,u=void 0;try{for(var C=void 0,R=w[Symbol.iterator]();!(a=(C=R.next()).done);a=!0){
var M=C.value,E=n[M],A=n[M+1]||null,L=n[M-1]||null;if(null===A)n.remove(E);else if("M"===A.type)n.remove(E);else if("Z"===A.type){
var N=T(E,n),$=N[0],O=N[1];n.remove(E),"L"===L.type||"M"===L.type?($.values[0]=L.values[0],
$.values[1]=L.values[1]):"C"===L.type&&($.values[0]=L.values[4],$.values[1]=L.values[5]),
"C"===O.type&&("smooth"===e?(O.values[0]=E.values[0],O.values[1]=E.values[1]):"sharp"===e&&("L"===L.type||"M"===L.type?(O.values[0]=L.values[0],
O.values[1]=L.values[1]):"C"===L.type&&(O.values[0]=L.values[4],O.values[1]=L.values[5]),
O.values[2]=O.values[4],O.values[3]=O.values[5]))}else"C"===A.type?(n.remove(E),"smooth"===e?(A.values[0]=E.values[0],
A.values[1]=E.values[1]):"sharp"===e&&("M"===L.type||"L"===L.type?(A.values[0]=L.values[0],
A.values[1]=L.values[1]):"C"===L.type&&(A.values[0]=L.values[4],A.values[1]=L.values[5]),
A.values[2]=A.values[4],A.values[3]=A.values[5])):"L"===A.type&&n.remove(E)}}catch(V){
s=!0,u=V}finally{try{a||null==R["return"]||R["return"]()}finally{if(s)throw u}}c=!0,
d=!1,h=void 0;try{for(var I=void 0,D=S[Symbol.iterator]();!(c=(I=D.next()).done);c=!0){
var G=I.value,B=n[G],U=T(B,n);if(U.length>1){var H=U[0],F=U[1];n.remove(F),"L"===F.type?(H.values[0]=F.values[0],
H.values[1]=F.values[1]):"C"===F.type&&(H.values[0]=F.values[4],H.values[1]=F.values[5]);
}}}catch(q){d=!0,h=q}finally{try{c||null==D["return"]||D["return"]()}finally{if(d)throw h;
}}v=!0,f=!1,m=void 0;try{for(var W=void 0,Y=o(n)[Symbol.iterator]();!(v=(W=Y.next()).done);v=!0){
var X=W.value,Z=X.filter(function(e){return"C"===e.type}),K="Z"===X[X.length-1].type,J=K?2:1;
if(Z.length<J){p=!0,b=!1,g=void 0;try{for(var Q=void 0,ee=X[Symbol.iterator]();!(p=(Q=ee.next()).done);p=!0){
var te=Q.value;n.remove(te)}}catch(ne){b=!0,g=ne}finally{try{p||null==ee["return"]||ee["return"]();
}finally{if(b)throw g}}}}}catch(re){f=!0,m=re}finally{try{v||null==Y["return"]||Y["return"]();
}finally{if(f)throw m}}t[P]=[],z(n),y=!0,x=!1,_=void 0;try{for(var ie=void 0,ae=n[Symbol.iterator]();!(y=(ie=ae.next()).done);y=!0){
var oe=ie.value;oe.values=oe.values.map(function(e){return i(e,body.canvas.geometryPrecision);
})}}catch(se){x=!0,_=se}finally{try{y||null==ae["return"]||ae["return"]()}finally{
if(x)throw _}}t.setPathData(n),t.hasAttribute("d")===!1&&t.remove()};e:for(var k=void 0,C=this._selectedPaths[Symbol.iterator]();!(t=(k=C.next()).done);t=!0)switch(w=S()){
case 0:continue e}}catch(R){n=!0,r=R}finally{try{t||null==C["return"]||C["return"]();
}finally{if(n)throw r}}},_getSelectedPaths:function(){var e=[],t=[],n=function(r){
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;if("path"===u.localName)u.hasAttribute("d")&&!u.hasAttribute("data-bx-shape")&&(u[M]=null,
e.push(u));else if("text"===u.localName){var c=u,d=$traceurRuntime.spread(u.children).find(function(e){
return"textPath"===e.localName});if(d){var h=d.getAttribute("href");if(h){var v=body.canvas.artboards.querySelector(h);
v&&v.hasAttribute("d")&&!v.hasAttribute("data-bx-shape")&&(v[M]=c,t.push(v))}}}else"g"!==u.localName&&"a"!==u.localName||n(u.children);
}}catch(f){a=!0,o=f}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o;
}}};return n(body.canvas.selectedElements),e=e.filter(function(e){return t.includes(e)===!1;
}),$traceurRuntime.spread(e,t)}},{},e)}(SVGGElement),G=n("g","bx-pathhud",D);return{
get default(){return G}}}),$traceurRuntime.registerModule("elements/bx-patternartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternartboard")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/reflect","elements/bx-patternartboard")),n=t.createReflectedSVGLength,r=t.createReflectedSVGRect,i=t.createReflectedSVGPreserveAspectRatio,a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._x=n(this,"x"),this._y=n(this,"y"),this._width=n(this,"width"),
this._height=n(this,"height"),this._viewBox=r(this,"viewBox"),this._preserveAspectRatio=i(this,"preserveAspectRatio");
},get contentType(){return"pattern"},get x(){return this._x},get y(){return this._y;
},get width(){return this._width},get height(){return this._height},get viewBox(){
return this._viewBox},get preserveAspectRatio(){return this._preserveAspectRatio},
get patternUnits(){return"userSpaceOnUse"===this.getAttribute("patternUnits")?1:2;
},set patternUnits(e){this.setAttribute("patternUnits",1===e?"userSpaceOnUse":"objectBoundingBox");
},get patternContentUnits(){return"objectBoundingBox"===this.getAttribute("patternContentUnits")?2:1;
},set patternContentUnits(e){this.setAttribute("patternContentUnits",1===e?"userSpaceOnUse":"objectBoundingBox");
},get href(){return this.hasAttribute("href")?this.getAttribute("href"):""},set href(e){
this.setAttribute("href",e)}},{},e)}(SVGGElement),o=e("g","bx-patternartboard",a);
return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-patternhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-patternhud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternhud")),n=(t.createElement,
t.registerElement),r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-patternhud")),i=r.getRotationAngleFromPoints,a=r.snapRotationAngle,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-patternhud")).roundMatrix,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-patternhud")),l=s.getPaintType,u=s.getPaintServer,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","elements/bx-patternhud")),d=c.createDerivedPattern,h=c.getPatternUsers,v=c.getParentPattern,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-patternhud")).getRenderedTextNodes,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-patternhud")).throttle,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-patternhud")),b=p.getTransformFromPoints,g=p.getTransformToElement,y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-patternhud"))["default"],x=SVGUnitTypes,_=x.SVG_UNIT_TYPE_USERSPACEONUSE,w=x.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,S=6,k=Symbol(),C=Symbol(),R=(Symbol(),
'\n  <style>@import url("stylesheets/bx-patternhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n'),M=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this._draggedGrippie=null,this._draggedOutline=null,
this._arrowCursor=null,this._update50Th=m(this._update,50,this),this._update200Th=m(this._update,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=R;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("pointerdown",function(t){
return e._onShadowRootPointerDown(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),this.addEventListener("pointerenter",this._pointerEnterListener=function(){
e._onPointerEnter()}),this.addEventListener("pointerleave",this._pointerLeaveListener=function(){
e._onPointerLeave()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()})},_onDisabled:function(){this.removeEventListener("pointerenter",this._pointerEnterListener),
this.removeEventListener("pointerleave",this._pointerLeaveListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener)},_onSelectedElementsChange:function(){
this._update200Th()},_onSelectedTextRangeChange:function(){this._update200Th()},_onZoomChange:function(){
this._update50Th()},_onArtboardMutation:function(e){this._draggedGrippie?this._updatePositions(this._draggedGrippie.parentElement):this._draggedOutline?this._updatePositions(this._draggedOutline.parentElement):this._update200Th();
},_onPointerEnter:function(){this._arrowCursor||(this._arrowCursor=body.registerCursor("default",100));
},_onPointerLeave:function(){this._arrowCursor&&(body.unregisterCursor(this._arrowCursor),
this._arrowCursor=null)},_onShadowRootPointerDown:function(e){if(0===e.button){var t,n=body.registerCursor("default",900);
e.target.classList.contains("outline")?this._onTileOutlinePointerDown(e):e.target.classList.contains("scale-grippie")?this._onScaleGrippiePointerDown(e):e.target.classList.contains("rotate-grippie")&&this._onRotateGrippiePointerDown(e),
window.addEventListener("pointerup",t=function(){window.removeEventListener("pointerup",t),
body.unregisterCursor(n)})}},_onTileOutlinePointerDown:function(t){var n=this;body.canvas.undoManager.checkpoint("Transform pattern");
var r=t.target,i=r.parentElement,a=i[C],s=i[k];if(h(s).length>1&&"tspan"!==a.localName){
var l=d(s);body.canvas.createDefsIfMissing(),body.canvas.defs.append(l),a.style.setProperty(this.context,"url(#"+l.id+")"),
s=l,i[k]=l}var u,c,f,m,p,g=a.getScreenCTM(),x=g.inverse(),S=e(a),R=s.hasAttribute("href")?v(s):s,M=SVGMatrix.fromMatrix(s.patternTransform.baseVal.consolidate().matrix);
if(this._draggedOutline=r,R.patternUnits.baseVal===_)f=new SVGPoint(R.x.baseVal.value,R.y.baseVal.value),
m=new SVGPoint(R.x.baseVal.value+R.width.baseVal.value,R.y.baseVal.value),p=new SVGPoint(R.x.baseVal.value+R.width.baseVal.value,R.y.baseVal.value+R.height.baseVal.value);else if(R.patternUnits.baseVal===w){
var E=new SVGPoint(R.x.baseVal.valueInSpecifiedUnits,R.y.baseVal.valueInSpecifiedUnits),P=new SVGPoint(R.x.baseVal.valueInSpecifiedUnits+R.width.baseVal.valueInSpecifiedUnits,R.y.baseVal.valueInSpecifiedUnits),A=new SVGPoint(R.x.baseVal.valueInSpecifiedUnits+R.width.baseVal.valueInSpecifiedUnits,R.y.baseVal.valueInSpecifiedUnits+R.height.baseVal.valueInSpecifiedUnits);
f=new SVGPoint(S.x+E.x*S.width,S.y+E.y*S.height),m=new SVGPoint(S.x+P.x*S.width,S.y+P.y*S.height),
p=new SVGPoint(S.x+A.x*S.width,S.y+A.y*S.height)}var T=f.matrixTransform(M),L=m.matrixTransform(M),N=p.matrixTransform(M),$=T.matrixTransform(g),O=L.matrixTransform(g),V=N.matrixTransform(g);
window.addEventListener("pointermove",u=function(e){var n=new y(e.clientX-t.clientX,e.clientY-t.clientY),r=new SVGPoint($.x+n.x,$.y+n.y),i=new SVGPoint(O.x+n.x,O.y+n.y),a=new SVGPoint(V.x+n.x,V.y+n.y),l=r.matrixTransform(x),u=i.matrixTransform(x),c=a.matrixTransform(x),d=l.matrixTransform(M.inverse()),h=u.matrixTransform(M.inverse()),v=c.matrixTransform(M.inverse()),g=b(f,m,p,d,h,v),_=M.multiply(g);
_=o(_,body.canvas.transformPrecision),s.setAttribute("patternTransform",_.toString());
}),window.addEventListener("pointerup",c=function(e){window.removeEventListener("pointermove",u),
window.removeEventListener("pointerup",c),n._draggedOutline=null})},_onRotateGrippiePointerDown:function(t){
var n=this;body.canvas.undoManager.checkpoint("Transform pattern");var r=t.target,s=r.parentElement,l=s[k],u=s[C];
if(h(l).length>1&&"tspan"!==u.localName){var c=d(l);body.canvas.createDefsIfMissing(),
body.canvas.defs.append(c),u.style.setProperty(this.context,"url(#"+c.id+")"),l=c,
s[k]=c}var f=u.getScreenCTM(),m=f.inverse(),p=e(u),g=l.hasAttribute("href")?v(l):l,y=SVGMatrix.fromMatrix(l.patternTransform.baseVal.consolidate().matrix);
this._draggedGrippie=r;var x,S,R,M,E;if(g.patternUnits.baseVal===_)R=new SVGPoint(g.x.baseVal.value+g.width.baseVal.value/2,g.y.baseVal.value+g.height.baseVal.value/2),
M=new SVGPoint(g.x.baseVal.value+g.width.baseVal.value,g.y.baseVal.value),E=new SVGPoint(g.x.baseVal.value+g.width.baseVal.value,g.y.baseVal.value+g.height.baseVal.value);else if(g.patternUnits.baseVal===w){
var P=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits+g.width.baseVal.valueInSpecifiedUnits/2,g.y.baseVal.valueInSpecifiedUnits+g.height.baseVal.valueInSpecifiedUnits/2),A=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits+g.width.baseVal.valueInSpecifiedUnits,g.y.baseVal.valueInSpecifiedUnits),T=new SVGPoint(g.x.baseVal.valueInSpecifiedUnits+g.width.baseVal.valueInSpecifiedUnits,g.y.baseVal.valueInSpecifiedUnits+g.height.baseVal.valueInSpecifiedUnits);
R=new SVGPoint(p.x+P.x*p.width,p.y+P.y*p.height),M=new SVGPoint(p.x+A.x*p.width,p.y+A.y*p.height),
E=new SVGPoint(p.x+T.x*p.width,p.y+T.y*p.height)}var L=R.matrixTransform(y),N=M.matrixTransform(y),$=E.matrixTransform(y),O=L.matrixTransform(f),V=N.matrixTransform(f),j=$.matrixTransform(f);
window.addEventListener("pointermove",x=function(e){var n=new SVGPoint(e.clientX+(V.x-t.clientX),e.clientY+(V.y-t.clientY)),r=i(O,V,n);
body.modKeys.shift&&(r=a(r,45));var s=(new SVGMatrix).rotate(r,O.x,O.y),u=V.matrixTransform(s),c=j.matrixTransform(s),d=u.matrixTransform(m),h=c.matrixTransform(m),v=d.matrixTransform(y.inverse()),f=h.matrixTransform(y.inverse()),p=b(R,M,E,R,v,f),g=y.multiply(p);
g=o(g,body.canvas.transformPrecision),l.setAttribute("patternTransform",g.toString());
}),window.addEventListener("pointerup",S=function(e){window.removeEventListener("pointermove",x),
window.removeEventListener("pointerup",S),n._draggedGrippie=null})},_onScaleGrippiePointerDown:function(t){
var n=this;body.canvas.undoManager.checkpoint("Transform pattern");var r=t.target,i=r.parentElement,a=i[k],s=i[C];
if(h(a).length>1&&"tspan"!==s.localName){var l=d(a);body.canvas.createDefsIfMissing(),
body.canvas.defs.append(l),s.style.setProperty(this.context,"url(#"+l.id+")"),a=l,
i[k]=l}var u=s.getScreenCTM(),c=u.inverse(),f=e(s),m=a.hasAttribute("href")?v(a):a,p=SVGMatrix.fromMatrix(a.patternTransform.baseVal.consolidate().matrix);
this._draggedGrippie=r;var g,y,x,S,R;if(m.patternUnits.baseVal===_)x=new SVGPoint(m.x.baseVal.value,m.y.baseVal.value),
S=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value),R=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value+m.height.baseVal.value);else if(m.patternUnits.baseVal===w){
var M=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),E=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),P=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits+m.height.baseVal.valueInSpecifiedUnits);
x=new SVGPoint(f.x+M.x*f.width,f.y+M.y*f.height),S=new SVGPoint(f.x+E.x*f.width,f.y+E.y*f.height),
R=new SVGPoint(f.x+P.x*f.width,f.y+P.y*f.height)}var A=R.matrixTransform(p),T=A.matrixTransform(u);
window.addEventListener("pointermove",g=function(e){var n=new SVGPoint(T.x+e.clientX-t.clientX,T.y+e.clientY-t.clientY),r=n.matrixTransform(c),i=r.matrixTransform(p.inverse()),s=new SVGPoint(i.x,S.y),l=b(x,S,R,x,s,i),u=p.multiply(l);
u=o(u,body.canvas.transformPrecision),a.setAttribute("patternTransform",u.toString());
}),window.addEventListener("pointerup",y=function(e){window.removeEventListener("pointermove",g),
window.removeEventListener("pointerup",y),n._draggedGrippie=null})},_update:function(){
var e=this._getSelectedPatternUsers();if(this["#subhuds"].innerHTML="",e.length>0){
var t=Symbol(),n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=u(s,this.context),c=l.hasAttribute("href")?v(l):l;if(!l[t]&&(l[t]=!0,
0!==c.width.baseVal.valueInSpecifiedUnits&&0!==c.height.baseVal.valueInSpecifiedUnits)){
var d=this["#subhud-template"].cloneNode(!0);d.removeAttribute("id"),d[k]=l,d[C]=s,
this["#subhuds"].append(d)}}}catch(h){r=!0,i=h}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this._updatePositions()}},_updatePositions:function(){var t=void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(!t||s===t){var l=s[C],u=s[k],c=s.querySelector(".rotate-grippie"),d=s.querySelector(".scale-grippie"),h=s.querySelector(".outline"),f=g(l,this),m=e(l),p=u.hasAttribute("href")?v(u):u,b=SVGMatrix.fromMatrix(u.patternTransform.baseVal.consolidate().matrix),y=void 0,x=void 0,R=void 0,M=void 0;
if(p.patternUnits.baseVal===_)y=new SVGPoint(p.x.baseVal.value,p.y.baseVal.value),
x=new SVGPoint(p.x.baseVal.value+p.width.baseVal.value,p.y.baseVal.value),R=new SVGPoint(p.x.baseVal.value+p.width.baseVal.value,p.y.baseVal.value+p.height.baseVal.value),
M=new SVGPoint(p.x.baseVal.value,p.y.baseVal.value+p.height.baseVal.value);else if(p.patternUnits.baseVal===w){
var E=new SVGPoint(p.x.baseVal.valueInSpecifiedUnits,p.y.baseVal.valueInSpecifiedUnits),P=new SVGPoint(p.x.baseVal.valueInSpecifiedUnits+p.width.baseVal.valueInSpecifiedUnits,p.y.baseVal.valueInSpecifiedUnits),A=new SVGPoint(p.x.baseVal.valueInSpecifiedUnits+p.width.baseVal.valueInSpecifiedUnits,p.y.baseVal.valueInSpecifiedUnits+p.height.baseVal.valueInSpecifiedUnits),T=new SVGPoint(p.x.baseVal.valueInSpecifiedUnits,p.y.baseVal.valueInSpecifiedUnits+p.height.baseVal.valueInSpecifiedUnits);
y=new SVGPoint(m.x+E.x*m.width,m.y+E.y*m.height),x=new SVGPoint(m.x+P.x*m.width,m.y+P.y*m.height),
R=new SVGPoint(m.x+A.x*m.width,m.y+A.y*m.height),M=new SVGPoint(m.x+T.x*m.width,m.y+T.y*m.height);
}var L=y.matrixTransform(b),N=x.matrixTransform(b),$=R.matrixTransform(b),O=M.matrixTransform(b),V=L.matrixTransform(f),j=N.matrixTransform(f),z=$.matrixTransform(f),I=O.matrixTransform(f);
h.setAttribute("d","\n        M "+V.x+" "+V.y+"\n        L "+j.x+" "+j.y+"\n        L "+z.x+" "+z.y+"\n        L "+I.x+" "+I.y+"\n        Z\n      ");
var D=S/body.canvas.scale;c.cx.baseVal.value=j.x,c.cy.baseVal.value=j.y,c.r.baseVal.value=D,
d.width.baseVal.value=2*D,d.height.baseVal.value=2*D,d.x.baseVal.value=z.x-d.width.baseVal.value/2,
d.y.baseVal.value=z.y-d.height.baseVal.value/2,d.hudPoint=z}}}catch(G){r=!0,i=G}finally{
try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}},_getSelectedPatternUsers:function(){
var e=this,t=function(e){var n,r=[],i=body.canvas.selectedTextRange,a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,d=c.localName;
if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(d))r.push(c);else if(["a","g"].includes(d))(n=r).push.apply(n,$traceurRuntime.spread(t(c.children)));else if("text"===d){
var h=f(c);if(i&&i.intersectsNode(c)){"backward"===i.direction&&h.reverse();var v=!0,m=!1,p=void 0;
try{for(var b=void 0,g=h[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var y=b.value;
if(i.intersectsNode(y)){var x=y.closest("text, textPath, tspan, a");x&&!r.includes(x)&&r.push(x);
}}}catch(_){m=!0,p=_}finally{try{v||null==g["return"]||g["return"]()}finally{if(m)throw p;
}}}else{var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=h[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value,E=M.closest("text, textPath, tspan, a");E&&!r.includes(E)&&r.push(E);
}}catch(P){S=!0,k=P}finally{try{w||null==R["return"]||R["return"]()}finally{if(S)throw k;
}}}}}}catch(A){o=!0,s=A}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}return r},n=t(body.canvas.outermostSelectedElements),r=n.filter(function(t){return"pattern"===l(t,e.context);
});return r}},{},t)}(SVGGElement),E=n("g","bx-patternhud",M);return{get default(){
return E}}}),$traceurRuntime.registerModule("elements/bx-patternslist",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-patternslistitem","elements/bx-patternslist")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-filterinput","elements/bx-patternslist"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-patternslist")),t=e.getPatternThumbnails,n=e.rasterizeArtwork,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-patternslist")).getClientBBox,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-patternslist")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-patternslist")),o=a.combineRects,s=a.transformRect,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-patternslist")),u=l.debounce,c=l.sleep,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-patternslist")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternslist")),v=h.createElement,f=h.registerElement,m=h.insertElementAfter,p=h.getElementIndex,b=h.sortByDomPosition,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-patternslist"))["default"],y=Number.parseFloat,x=(Object.keys,
'\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-patternslist.css");</style>\n\n  <main>\n    <header>\n      <h2>Patterns</h2>\n\n      <bx-button\n        id="delete-pattern-button"\n        skin="iconic"\n        icon="minus"\n        title="Delete pattern"\n        iconsize="15">\n      </bx-button>\n\n      <bx-button\n        id="create-pattern-button"\n        title="Create new pattern"\n        skin="iconic"\n        icon="plus"\n        iconsize="15">\n      </bx-button>\n    </header>\n\n    <div id="items"></div>\n    <div id="placeholder">No patterns found.</div>\n    <div id="drag-separator"></div>\n    <bx-filterinput id="filter-input" placeholder="Filter patterns"></bx-filterinput>\n  </main>\n'),_=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._update2000Db=u(this._update,2e3,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=x;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("keydown",function(t){
return e._onKeyDown(t)}),this["#items"].addEventListener("focusin",function(t){return e._onItemsFocusIn(t);
}),this["#items"].addEventListener("rename",function(t){return e._onItemRename(t);
}),this["#items"].addEventListener("dragstart",function(t){return e._onItemDragStart(t);
}),this["#delete-pattern-button"].addEventListener("click",function(t){return e._onDeletePatternButtonClick(t);
}),this["#create-pattern-button"].addEventListener("click",function(t){return e._onCreatePatternButtonClick(t);
}),this["#filter-input"].addEventListener("input",function(){return e._onFilterInputInput();
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled===!0?this._onEnabled():this._onDisabled());
},get enabled(){return!!this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
"id"===t.detail.attributeName&&"pattern"===t.detail.target.localName?e._update():t.detail.addedNodes[0]&&"pattern"===t.detail.addedNodes[0].localName?e._update():e._update2000Db();
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onDeletePatternButtonClick:function(e){0===e.button&&this._maybeDeleteHighlightedItem();
},_onCreatePatternButtonClick:function(e){if(0===e.button){body.canvas.undoManager.checkpoint("Create pattern");
var t=body.canvas.generateUniqueID("pattern"),a=v("bx-patternslistitem");a.patternID=t,
this["#items"].append(a);var l=!0,u=!1,h=void 0;try{for(var f=void 0,p=this["#items"].children[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){
var g=f.value;g.highlighted=g===a}}catch(y){u=!0,h=y}finally{try{l||null==p["return"]||p["return"]();
}finally{if(u)throw h}}body.canvas.selectedElements.length>0&&n(body.canvas.extractArtworkWithSelectedElements()).then(function(e){
a.thumbnail=e}),c(100).then(function(){return a.focus()});var x=body.canvas.defs?body.canvas.defs.querySelectorAll("pattern"):[],_=x[x.length-1],w=v("svg:pattern");
if(_?m(w,_):(body.canvas.createDefsIfMissing(),body.canvas.defs.append(w)),0===body.canvas.selectedElements.length)w.setAttribute("id",t),
w.setAttribute("viewBox","0 0 100 100"),w.setAttribute("patternUnits","userSpaceOnUse"),
w.setAttribute("preserveAspectRatio","none"),w.setAttribute("width","100"),w.setAttribute("height","100");else{
var S=o(function(){var e=0,t=[],n=!0,i=!1,a=void 0;try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t[e++]=r(l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());S=s(S,body.canvas.currentArtboard.getCTM().inverse());
var k=-S.x,C=-S.y,R=i(S.width,4),M=i(S.height,4),E=!0,P=!1,A=void 0;try{for(var T=void 0,L=b(body.canvas.selectedElements)[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var N=T.value,$=new SVGMatrix;$.translateSelf(k,C),$.multiplySelf(d(N,body.canvas.currentArtboard)),
N.setAttribute("transform",$),w.append(N)}}catch(O){P=!0,A=O}finally{try{E||null==L["return"]||L["return"]();
}finally{if(P)throw A}}w.setAttribute("id",t),w.setAttribute("viewBox","0 0 "+R+" "+M),
w.setAttribute("patternUnits","userSpaceOnUse"),w.setAttribute("preserveAspectRatio","none"),
w.setAttribute("width","100"),w.setAttribute("height","100"),body.canvas.selectedElements=[],
body.canvas.selectedTextRange=null,body.canvas.currentContainer=null}}},_onItemsFocusIn:function(e){
var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this["#delete-pattern-button"].disabled=!1},_onItemRename:function(e){
body.canvas.undoManager.checkpoint("Rename pattern");var t=e.target,n=e.detail,r=n.oldID,i=n.newID;
t.patternID=i;for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),o=null;o=a.nextNode();){
"pattern"===o.localName&&(o.id===r&&o.setAttribute("id",i),o.href.baseVal==="#"+r&&o.setAttribute("href","#"+i));
var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=["fill","stroke"][Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=o.style.getPropertyValue(h);if(v&&v.startsWith("url(")){var f=v.substring(6,v.length-2);
f===r&&o.style.setProperty(h,"url(#"+i+")")}}}catch(m){l=!0,u=m}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}}},_onItemDragStart:function(e){var t,n,r=this,i=e.target,a=($traceurRuntime.spread(this["#items"].children),
y(getComputedStyle(this["#drag-separator"]).getPropertyValue("height"))),o=p(i),s=null;
this["#items"].addEventListener("dragover",t=function(e){var t=r._shadowRoot.elementFromPoint(e.clientX,e.clientY);
if(t&&"bx-patternslistitem"===t.localName){var n=t,i=n.getBoundingClientRect();if(r["#drag-separator"].hidden=!1,
r["#drag-separator"].style.setProperty("width",i.width+"px"),r["#drag-separator"].style.setProperty("left",i.x+"px"),
e.clientY<i.y+i.height/2){var o=i.y-a/2;r["#drag-separator"].style.setProperty("top",o+"px"),
s=p(n)}else{var l=i.y+i.height-a/2;r["#drag-separator"].style.setProperty("top",l+"px"),
s=p(n)+1}}else r["#drag-separator"].hidden=!0,s=null}),this["#items"].addEventListener("dragend",n=function(e){
if(r["#items"].removeEventListener("dragover",t),r["#items"].removeEventListener("dragend",n),
r["#drag-separator"].hidden=!0,null!==s&&o!==s&&o!==s-1){i.style.setProperty("display","none"),
r["#items"].insertBefore(i,r["#items"].children[s]),setTimeout(function(){i.style.removeProperty("display"),
i.focus()},50),body.canvas.undoManager.checkpoint("Reorder patterns");var a=body.canvas.defs?$traceurRuntime.spread(body.canvas.defs.querySelectorAll("pattern")):[],l=a.find(function(e){
return e.id===i.patternID});a[s]?a[s].parentElement.insertBefore(l,a[s]):(body.canvas.createDefsIfMissing(),
body.canvas.defs.append(l))}})},_onFilterInputInput:function(){var e=this["#filter-input"].value,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#items"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.hidden=("#"+o.patternID.toLowerCase()).includes(e.toLowerCase())===!1;
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updatePlaceholderVisibility()},_onKeyDown:function(e){var t=g.fromEvent(e);
t.matches("Backspace")?null!==this["#items"].querySelector(":focus")&&(e.preventDefault(),
e.stopPropagation(),this._maybeDeleteHighlightedItem()):t.matches("ArrowUp")?(e.preventDefault(),
e.stopPropagation(),this._focusPreviousItem()):t.matches("ArrowDown")&&(e.preventDefault(),
e.stopPropagation(),this._focusNextItem())},_update:function(){var e=this;if(this._updating)return void setTimeout(1e3,function(){
return e._update(callback)});this._updating=!0;var n=$traceurRuntime.spread(body.canvas.masterArtboard.querySelectorAll("pattern"));
n=n.filter(function(e){return e.hasAttribute("href")===!1});var r=$traceurRuntime.spread(this["#items"].children),i=0;
if(r.length>n.length)for(var a=n.length;a<r.length;a+=1)r[a].remove();else r.length<n.length&&(this["#create-pattern-button"].disabled=!0,
this["#delete-pattern-button"].disabled=!0);var o=function(t){for(var r=$traceurRuntime.spread(e["#items"].children),a=e["#items"].querySelector("[highlighted]"),l=a?a.patternID:null,u=e["#filter-input"].value;t.timeRemaining()>10&&i<n.length;){
var c=n[i],d=r[i];d||(d=v("bx-patternslistitem"),e["#items"].append(d)),d.patternID=c.id,
d.hidden=("#"+d.patternID.toLowerCase()).includes(u.toLowerCase())===!1,d.highlighted=c.id===l,
i+=1}e._updatePlaceholderVisibility(),i<n.length?requestIdleCallback(o):(e._updateButtons(),
s())},s=function(){var n=body.canvas.extractArtwork(),r={},i=!0,a=!1,o=void 0;try{
for(var s=void 0,l=e["#items"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[u.patternID]=u}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}t(n,function(e,t){r[e]&&(r[e].thumbnail=t)},function(){e._updating=!1;
})};requestIdleCallback(o)},_updateButtons:function(){this["#create-pattern-button"].disabled=!1,
this["#delete-pattern-button"].disabled=null===this["#items"].querySelector("[highlighted]");
},_updatePlaceholderVisibility:function(){this["#placeholder"].hidden=null!==this["#items"].querySelector(":not([hidden])");
},_focusPreviousItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getPreviousVisibleItem(e);
t&&t.focus()},_focusNextItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getNextVisibleItem(e);
t&&t.focus()},_maybeDeleteHighlightedItem:function(){var e=this,t=this["#items"].querySelector("[highlighted]");
if(t){var n=t.patternID,r=function(){body.canvas.undoManager.checkpoint("Delete pattern"),
"pattern"===body.canvas.currentArtboard.contentType&&body.canvas.currentArtboard.id===n&&body.canvas.editPatternEnd(!1);
var r=e._getNextVisibleItem(t),i=e._getPreviousVisibleItem(t);r?r.focus():i?i.focus():e["#delete-pattern-button"].disabled=!0,
t.remove(),e._updatePlaceholderVisibility();var a=body.canvas.artboards.querySelector("#"+n);
a&&a.remove()};r()}},_assertItemsLength:function(e){var t=this["#items"].childElementCount;
if(e>t)for(var n=t;e>n;n+=1){var r=v("bx-patternslistitem");this["#items"].append(r);
}else if(t>e)for(var i=t-1;i>=e;i-=1)this["#items"].children[i].remove()},_getPreviousVisibleItem:function(e){
for(;e.previousElementSibling;){if(e.previousElementSibling.hidden===!1)return e.previousElementSibling;
e=e.previousElementSibling}return null},_getNextVisibleItem:function(e){for(;e.nextElementSibling;){
if(e.nextElementSibling.hidden===!1)return e.nextElementSibling;e=e.nextElementSibling;
}return null}},{},e)}(HTMLElement),w=f("bx-patternslist",_);return{get default(){
return w}}}),$traceurRuntime.registerModule("elements/bx-patternslistitem",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-patternslistitem"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-patternslistitem")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-patternslistitem"))["default"],i='\n  <style>@import url("stylesheets/bx-patternslistitem.css");</style>\n\n  <main>\n    <img id="thumbnail"></img>\n    <bx-input id="input" skin="bx-defscontrols"></bx-input>\n  </main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this.draggable=!0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("dragstart",function(t){
return e._onHostDragStart(t)}),this.addEventListener("dragend",function(t){return e._onHostDragEnd(t);
}),this.addEventListener("keydown",function(t){return e._onHostKeyDown(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocusIn(t)}),this["#input"].addEventListener("focusout",function(t){
return e._onInputFocusOut(t)}),this["#input"].addEventListener("keydown",function(t){
return e._onInputKeyDown(t)}),this["#input"].addEventListener("change",function(t){
return e._onInputChange(t)}),this["#input"].addEventListener("confirm",function(){
return e.focus()}),this["#input"].addEventListener("cancel",function(){return e.focus();
}),this["#input"].validate=function(t){return e._validateInputValue(t)}},attributeChangedCallback:function(e){
"patternid"===e&&this._onPatternIDAttributeChange()},get patternID(){return this.hasAttribute("patternid")?this.getAttribute("patternid"):null;
},set patternID(e){e?this.setAttribute("patternid",e):this.removeAttribute("patternid");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(e){null===e?this["#thumbnail"].src="":this["#thumbnail"].src=e;
},_onPatternIDAttributeChange:function(){null===this.patternID?this["#input"].value="":this["#input"].value="#"+this.patternID;
},_onShadowRootDblClick:function(e){e.target===this["#thumbnail"]?body.canvas.editPattern(this.patternID):this["#input"].matches(":focus")===!1&&this["#input"].focus();
},_onHostDragStart:function(e){this._dragImage=t("img"),this._dragImage.id="drag-image",
this._dragImage.src=this["#thumbnail"].src,this._dragImage.width=38,this._dragImage.height=38,
this._dragImage.style.setProperty("position","fixed"),this._dragImage.style.setProperty("transform","translate(9999px, 9999px)"),
this._shadowRoot.append(this._dragImage),e.dataTransfer.setData("text","#"+this.patternID),
e.dataTransfer.setData("bx-patternslistitem/patternID",this.patternID),e.dataTransfer.setDragImage(this._dragImage,this._dragImage.width/2,this._dragImage.height/2);
},_onHostDragEnd:function(e){this._dragImage.remove()},_onHostKeyDown:function(e){
var t=r.fromEvent(e);t.matches("Enter")&&(this["#input"].focus(),this["#input"].selectAll());
},_onInputFocusIn:function(){this["#input"].style.setProperty("pointer-events","auto"),
this["#input"].selectAll(),this.draggable=!1,this.setAttribute("inputmode","")},_onInputFocusOut:function(e){
this["#input"].style.setProperty("pointer-events","none"),this.draggable=!0,this.removeAttribute("inputmode");
},_onInputKeyDown:function(e){var t=r.fromEvent(e);(t.matches("Enter")||t.matches("Escape"))&&(e.stopPropagation(),
this.focus())},_onInputChange:function(){var e=this.patternID,t=this["#input"].value.substring(1);
this.dispatchEvent(new CustomEvent("rename",{bubbles:!0,detail:{oldID:e,newID:t}}));
},_validateInputValue:function(e){var t=/^#[a-z]+[a-z0-9\-_]*$/i.test(e);return t?e==="#"+this.patternID?!0:null===body.canvas.artboards.querySelector(e):!1;
}},{},e)}(HTMLElement),o=n("bx-patternslistitem",a);return{get default(){return o;
}}}),$traceurRuntime.registerModule("elements/bx-polyhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-polyhud")),t=e.createElement,n=e.registerElement,r=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-polyhud")).snapPointToAngleMultiple,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-polyhud")).round),i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-polyhud")).throttle,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-polyhud")).getTransformToElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-polyhud"))["default"],s=Symbol(),l=Symbol(),u=Symbol(),c=6,d='\n  <style>@import url("stylesheets/bx-polyhud.css");</style>\n  <g id="node-grippies"></g>\n',h=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._installed=!1,this._selectedPolys=[],this._draggedGrippie=null,
this._updateNodeGrippies200Th=i(this._updateNodeGrippies,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=d;var e=!0,t=!1,n=void 0;try{for(var r=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){
var o=r.value;this["#"+o.id]=o}}catch(s){t=!0,n=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(t)throw n}}var l=!0,u=!1,c=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){u=!0,c=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#node-grippies"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedPolys=this._getSelectedPolys(),
0===this._selectedPolys.length?this._installed===!0&&this._uninstall():(this._installed===!1&&this._install(),
this._updateNodeGrippies())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateNodeGrippies():this._updateNodeGrippies200Th();
},_onZoomChange:function(){this._updateNodeGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.matches(".grippie")&&this._onGrippiePointerDown(e)},_onGrippiePointerDown:function(e){
var t=this;if(0===e.button){var n,i,a=(body.modKeys.shift,e.target),u=a[s],c=a[l],d=u.getCTM(),h=u.getCTM().inverse(),v=u.points[c],f=v.matrixTransform(d),m=new SVGPoint(e.clientX,e.clientY),p=body.canvas.geometryPrecision,b=!1;
a.parentElement.append(a),this._draggedGrippie=a,window.addEventListener("pointermove",n=function(e){
b||(b=!0,body.canvas.undoManager.checkpoint("Edit "+u.localName));var t=new SVGPoint(e.clientX,e.clientY),n=new o(m,t),i=new SVGPoint(f.x+n.x,f.y+n.y),a=i.matrixTransform(h);
u.points[c].x=r(a.x,p),u.points[c].y=r(a.y,p);var s=[],l=!0,d=!1,v=void 0;try{for(var g=void 0,y=u.points[Symbol.iterator]();!(l=(g=y.next()).done);l=!0){
var x=g.value;s.push(x.x,x.y)}}catch(_){d=!0,v=_}finally{try{l||null==y["return"]||y["return"]();
}finally{if(d)throw v}}u.setAttribute("points",s.join(" "))}),window.addEventListener("pointerup",i=function(){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",i),
t._draggedGrippie=null})}},_updateNodeGrippies:function(){var e=0,n=!0,r=!1,i=void 0;
try{for(var o=void 0,c=this._selectedPolys[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)for(var d=o.value,h=a(d,this),v=0;v<d.points.length;v+=1){
var f=d.points[v],m=f.matrixTransform(h),p=this["#node-grippies"].children[e];p||(p=t("svg:circle"),
p.setAttribute("class","grippie"),this["#node-grippies"].append(p)),p[s]=d,p[l]=v,
p.setAttribute("cx",m.x),p.setAttribute("cy",m.y),d[u]&&d[u].includes(v)?p.setAttribute("data-selected",""):p.removeAttribute("data-selected"),
e+=1}}catch(b){r=!0,i=b}finally{try{n||null==c["return"]||c["return"]()}finally{if(r)throw i;
}}for(;this["#node-grippies"].childElementCount>e;)this["#node-grippies"].lastElementChild.remove();
this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this["#node-grippies"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",c/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedPolys:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"polyline"===s.localName||"polygon"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPolys(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),v=n("g","bx-polyhud",h);return{get default(){return v;
}}}),$traceurRuntime.registerModule("elements/bx-preferencesbody",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-preferencesbody"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-body","elements/bx-preferencesbody"))["default"];
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-shortcutseditor","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-preferencesbody")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-colorselect","elements/bx-preferencesbody"));
var n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-preferencesbody")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-preferencesbody")).round,i='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-preferencesbody.css");</style>\n\n  <main id="main">\n    <div id="buttons">\n      <bx-button\n        id="general-button"\n        data-view="general"\n        icon="prefs-general"\n        iconsize="25"\n        skin="bx-preferences"\n        label="General">\n      </bx-button>\n\n      <bx-button\n        id="ui-button"\n        data-view="ui"\n        icon="prefs-ui"\n        iconsize="25"\n        skin="bx-preferences"\n        label="UI">\n      </bx-button>\n\n      <bx-button\n        id="markup-button"\n        data-view="markup"\n        icon="prefs-markup"\n        iconsize="25"\n        skin="bx-preferences"\n        label="Markup">\n      </bx-button>\n\n      <bx-button\n        id="shortcuts-button"\n        data-view="shortcuts"\n        icon="prefs-shortcuts"\n        iconsize="25"\n        skin="bx-preferences"\n        label="Shortcuts">\n      </bx-button>\n    </div>\n\n    <div id="views">\n      <div data-view="general" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-general" width="100" height="100"></use>\n          </svg>\n          <h1>General</h1>\n        </header>\n\n        <section>\n          <bx-checkbox\n            id="experimental-features-checkbox"\n            label="Enable experimental features">\n          </bx-checkbox>\n        </section>\n      </div>\n\n      <div data-view="ui" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-ui" width="100" height="100"></use>\n          </svg>\n          <h1>UI</h1>\n        </header>\n\n        <section id="ui-colors-section">\n          <div class="item">\n            <bx-colorselect id="canvas-background-color-select" value="#ffffff"></bx-colorselect>\n            <label>Canvas background color</label>\n          </div>\n\n          <div class="item">\n            <bx-colorselect id="view-box-outline-color-select" value="rgba(0, 0, 0, 0.5)"></bx-colorselect>\n            <label>View box outline color</label>\n          </div>\n        </section>\n      </div>\n\n      <div data-view="markup" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-markup" width="100" height="100"></use>\n          </svg>\n          <h1>Markup</h1>\n        </header>\n\n        <section id="geometry-precision-section">\n          <label>Geometry precision</label>\n          <bx-slider id="geometry-precision-slider" value="3" min="0" max="6" precision="0" step="1"></bx-slider>\n        </section>\n\n        <section id="transform-precision-section">\n          <label>Transform precision</label>\n          <bx-slider id="transform-precision-slider" value="6" min="5" max="12" precision="0" step="1"></bx-slider>\n        </section>\n\n        <section id="indentation-section">\n          <label>Indentation</label>\n          <bx-slider id="indentation-slider" value="2" min="0" max="10" precision="0" step="1" after=" space(s)"></bx-slider>\n        </section>\n      </div>\n\n      <div data-view="shortcuts" class="view" hidden>\n        <header>\n          <svg class="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n            <use href="images/icons.svg#prefs-shortcuts" width="100" height="100"></use>\n          </svg>\n          <h1>Shortcuts</h1>\n        </header>\n\n        <section>\n          <bx-shortcutseditor></bx-shortcutseditor>\n        </section>\n      </div>\n    </div>\n  </main>\n',a=function(t){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;$traceurRuntime.superGet(this,n.prototype,"createdCallback").call(this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var t=!0,r=!1,a=void 0;try{for(var o=void 0,s=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){
var l=o.value;this["#"+l.id]=l}}catch(u){r=!0,a=u}finally{try{t||null==s["return"]||s["return"]();
}finally{if(r)throw a}}this.bridge.postMessage("getBackendName",null,function(t){
"electron"===t&&e["#main"].setAttribute("data-extra-whitespace","")}),this.getConfig("bx-preferences:currentView").then(function(t){
e._toggleView(t||"general")}),this.getConfig("bx-preferences:experimentalFeatures").then(function(t){
t===!0&&e["#experimental-features-checkbox"].setAttribute("checked","")}),this.getConfig("bx-preferences:geometryPrecision").then(function(t){
null!==t&&(e["#geometry-precision-slider"].value=t)}),this.getConfig("bx-preferences:transformPrecision").then(function(t){
null!==t&&(e["#transform-precision-slider"].value=t)}),this.getConfig("bx-preferences:indentation").then(function(t){
null!==t&&(e["#indentation-slider"].value=t)}),this.getConfig("bx-preferences:canvasBackgroundColor").then(function(t){
e["#canvas-background-color-select"].value=null===t?"#ffffff":t}),this.getConfig("bx-preferences:viewBoxOutlineColor").then(function(t){
e["#view-box-outline-color-select"].value=null===t?"rgba(0, 0, 0, 0.5)":t}),this["#canvas-background-color-select"].addEventListener("changeend",function(){
e.setConfig("bx-preferences:canvasBackgroundColor",e["#canvas-background-color-select"].value);
}),this["#view-box-outline-color-select"].addEventListener("changeend",function(){
e.setConfig("bx-preferences:viewBoxOutlineColor",e["#view-box-outline-color-select"].value);
}),this["#buttons"].addEventListener("click",function(t){e._onButtonsClick(t)}),this["#experimental-features-checkbox"].addEventListener("change",function(){
e._onExperimentalFeaturesCheckboxChange()}),this["#geometry-precision-slider"].addEventListener("change",function(){
e._onGeometryPrecisionSliderChange()}),this["#transform-precision-slider"].addEventListener("change",function(){
e._onTransformPrecisionSliderChange()}),this["#indentation-slider"].addEventListener("change",function(){
e._onIndentationSliderChange()})},_onKeyDown:function(t){if($traceurRuntime.superGet(this,n.prototype,"_onKeyDown").call(this,t),
"chrome"===this._backendName){var r=e.fromEvent(t);r.matches("Control","C")?this.execCommand("copy"):r.matches("Control","V")?this.execCommand("paste"):r.matches("Control","X")?this.execCommand("cut"):r.matches("Control","A")?this.execCommand("selectAll"):r.matches("Control","Z")?this.execCommand("undo"):r.matches("Control","Shift","Z")&&this.execCommand("redo");
}},_onButtonsClick:function(e){"bx-button"===e.target.localName&&0===e.button&&this._toggleView(e.target.dataset.view);
},_onExperimentalFeaturesCheckboxChange:function(){this.setConfig("bx-preferences:experimentalFeatures",this["#experimental-features-checkbox"].checked);
},_onGeometryPrecisionSliderChange:function(){var e=this["#geometry-precision-slider"].value;
e%1!==0&&(e=r(e,0),this["#geometry-precision-slider"].value=e),this.setConfig("bx-preferences:geometryPrecision",e);
},_onTransformPrecisionSliderChange:function(){var e=this["#transform-precision-slider"].value;
e%1!==0&&(e=r(e,0),this["#transform-precision-slider"].value=e),this.setConfig("bx-preferences:transformPrecision",e);
},_onIndentationSliderChange:function(){var e=this["#indentation-slider"].value;e%1!==0&&(e=r(e,0),
this["#indentation-slider"].value=e),this.setConfig("bx-preferences:indentation",e);
},_toggleView:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this["#views"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.dataset.view===e?o.hidden=!1:o.hidden=!0}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=this["#buttons"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;v.dataset.view===e?v.pressed=!0:v.pressed=!1}}catch(f){u=!0,c=f}finally{
try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this.setConfig("bx-preferences:currentView",e);
}},{},t)}(t),o=n("body","bx-preferencesbody",a);return{get default(){return o}}}),
$traceurRuntime.registerModule("elements/bx-quadbeziertool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-quadbeziertool")).registerElement,t=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("draw-quad-segs-hud");
},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),body.canvas.disableHud("draw-quad-segs-hud");
}},{},e)}(HTMLElement),n=e("bx-quadbeziertool",t);return{get default(){return n}};
}),$traceurRuntime.registerModule("elements/bx-quadsegsdrawhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-quadsegsdrawhud"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-quadsegsdrawhud"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-quadsegsdrawhud")),r=n.createElement,i=n.registerElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-quadsegsdrawhud")).round,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-general","elements/bx-quadsegsdrawhud")).reversePath,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-quadsegsdrawhud")).getTransformToElement,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-quadsegsdrawhud")).reduceTransform;
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-quadsegsketch","elements/bx-quadsegsdrawhud"));
var u=10,c=Symbol(),d='\n  <style>@import url("stylesheets/bx-quadsegsdrawhud.css");</style>\n  <g id="node-grippies"></g>\n  <g id="seg-sketch" is="bx-quadsegsketch"></g>\n',h=function(n){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=d;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c=void 0,h=this.attributes[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){
var v=c.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._mode="select",this._currentPath=null,window.addEventListener("keydown",this._keyDownListener=function(t){
e._onKeyDown(t)}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),this["#node-grippies"].addEventListener("pointerdown",this._nodeGrippiesPointerDownListener=function(t){
e._onNodeGrippiePointerDown(t)}),this._onSelectedElementsChange()},_onDisabled:function(){
window.removeEventListener("keydown",this._keyDownListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener),
this["#node-grippies"].removeEventListener("pointerdown",this._nodeGrippiesPointerDownListener),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide()},_onSelectedElementsChange:function(){
this._updateNodeGrippies()},_onZoomChange:function(){this._updateNodeGrippiesSize();
},_onArtboardMutation:function(e){var t=e.detail;if("childList"===t.type){var n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t.removedNodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;(s===this._currentPath||s.contains(this._currentPath))&&(this._mode="select",
this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies())}}catch(l){
r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i}}}else(t.target===this._currentPath||t.target.contains(this._currentPath))&&this._updateNodeGrippies();
},_onArtboardPointerDown:function(e){var n,r,i=this,a=new SVGPoint(e.clientX,e.clientY),o=0;
window.addEventListener("pointermove",n=function(e){var n=new SVGPoint(e.clientX,e.clientY),r=new t(a,n).length;
r>o&&(o=r)}),window.addEventListener("pointerup",r=function(t){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),i._onArtboardClick(e,t),4>o&&i._onArtboardDirectClick(e,t);
})},_onArtboardClick:function(e){var t,n;if("draw-forward"===this._mode){var r=this._currentPath.getPathData({
normalize:!0}),i=[],o=body.canvas.geometryPrecision;r.length>1&&body.canvas.undoManager.checkpoint("Draw path segment"),
(t=i).push.apply(t,$traceurRuntime.spread(r)),this["#seg-sketch"].curved?i.push({
type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):i.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
});var s=!0,l=!1,u=void 0;try{for(var c=void 0,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h.values=h.values.map(function(e){return a(e,o)})}}catch(v){l=!0,u=v;
}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._currentPath.setPathData(i);
}else if("draw-backward"===this._mode){body.canvas.undoManager.checkpoint("Draw path segment");
var f=this._currentPath.getPathData({normalize:!0}),m=[],p=body.canvas.geometryPrecision;
m.push({type:"M",values:[this["#seg-sketch"].startPoint.x,this["#seg-sketch"].startPoint.y]
}),this["#seg-sketch"].curved?m.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}):m.push({type:"L",values:[this["#seg-sketch"].endPoint.x,this["#seg-sketch"].endPoint.y]
}),(n=m).push.apply(n,$traceurRuntime.spread(f.slice(1)));var b=!0,g=!1,y=void 0;try{
for(var x=void 0,_=m[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){var w=x.value;
w.values=w.values.map(function(e){return a(e,p)})}}catch(S){g=!0,y=S}finally{try{
b||null==_["return"]||_["return"]()}finally{if(g)throw y}}this._currentPath.setPathData(m);
}},_onArtboardDirectClick:function(e){var t=e,n=t.clientX,i=t.clientY;if("select"===this._mode){
body.canvas.undoManager.checkpoint("Draw path segment");var o=r("svg:path");o.style.setProperty("fill","none"),
o.style.setProperty("stroke","black");var s=body.canvas.currentContainer||body.canvas.currentArtboard;
s.append(o);var l=o.getScreenCTM().inverse(),u=body.canvas.geometryPrecision,c=new SVGPoint(n,i).matrixTransform(l),d=c.x,h=c.y,v=[{
type:"M",values:[d,h]}],f=!0,m=!1,p=void 0;try{for(var b=void 0,g=v[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;y.values=y.values.map(function(e){return a(e,u)})}}catch(x){m=!0,p=x;
}finally{try{f||null==g["return"]||g["return"]()}finally{if(m)throw p}}o.setPathData(v),
body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[o]),
this._mode="draw-forward",this._currentPath=o,this["#seg-sketch"].show(o,"end")}},
_onNodeGrippiePointerDown:function(e){var t,n,r=this,i=e.target;this["#node-grippies"].addEventListener("pointerup",t=function(e){
r["#node-grippies"].removeEventListener("pointerup",t),window.removeEventListener("pointerup",n);
var a=e.target,o=r._onNodeGrippieClick(i,e);i!==a||o||r._onNodeGrippieDirectClick(i,e);
}),window.addEventListener("pointerup",n=function(e){r["#node-grippies"].removeEventListener("pointerup",t),
window.removeEventListener("pointerup",n),r._onNodeGrippieClick(i,e)})},_onNodeGrippieClick:function(e,t){
var n,r,i,u,d;if("select"===this._mode)return!1;if(e[c]===this._currentPath){var h=e.getAttribute("data-position"),v=this._currentPath,f=v.getPathData({
normalize:!0}),m=f[0],p=f[f.length-1],b=body.canvas.geometryPrecision;if("draw-forward"===this._mode&&"start"===h){
body.canvas.undoManager.checkpoint("Draw path segment");var g=$traceurRuntime.spread(f);
this["#seg-sketch"].curved?g.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,m.values[0],m.values[1]]
}):g.push({type:"L",values:[m.values[0],m.values[1]]}),g.push({type:"Z",values:[]
});var y=!0,x=!1,_=void 0;try{for(var w=void 0,S=g[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var k=w.value;k.values=k.values.map(function(e){return a(e,b)})}}catch(C){x=!0,_=C;
}finally{try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}v.setPathData(g),
this._updateNodeGrippies()}else if("draw-backward"===this._mode&&"end"===h){body.canvas.undoManager.checkpoint("Draw path segment");
var R=[];R.push({type:"M",values:["C"===p.type?p.values[4]:p.values[0],"C"===p.type?p.values[5]:p.values[1]]
}),this["#seg-sketch"].curved?R.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,m.values[0],m.values[1]]
}):R.push({type:"L",values:[m.values[0],m.values[1]]}),(n=R).push.apply(n,$traceurRuntime.spread(f.slice(1))),
R.push({type:"Z",values:[]});var M=!0,E=!1,P=void 0;try{for(var A=void 0,T=R[Symbol.iterator]();!(M=(A=T.next()).done);M=!0){
var L=A.value;L.values=L.values.map(function(e){return a(e,b)})}}catch(N){E=!0,P=N;
}finally{try{M||null==T["return"]||T["return"]()}finally{if(E)throw P}}v.setPathData(R),
this._updateNodeGrippies()}return this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0}var $=e.getAttribute("data-position"),O=this._currentPath,V=e[c],j=O.getPathData({
normalize:!0});j.length>1&&body.canvas.undoManager.checkpoint("Draw path segment");
var z=s(V,O);if(V.setAttribute("transform",z.toString()),l(V,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preserveRotation:!1}),"draw-forward"===this._mode){
"end"===$&&o(V);var I=[],D=V.getPathData({normalize:!0});(r=I).push.apply(r,$traceurRuntime.spread(j)),
this["#seg-sketch"].curved?I.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,D[0].values[0],D[0].values[1]]
}):I.push({type:"L",values:[D[0].values[0],D[0].values[1]]}),(i=I).push.apply(i,$traceurRuntime.spread(D.slice(1)));
var G=!0,B=!1,U=void 0;try{for(var H=void 0,F=I[Symbol.iterator]();!(G=(H=F.next()).done);G=!0){
var q=H.value;q.values=q.values.map(function(e){return a(e,b)})}}catch(W){B=!0,U=W;
}finally{try{G||null==F["return"]||F["return"]()}finally{if(B)throw U}}O.setPathData(I),
V.setPathData([]),V.remove()}else if("draw-backward"===this._mode){"start"===$&&o(V);
var Y=V.getPathData({normalize:!0}),X=[];(u=X).push.apply(u,$traceurRuntime.spread(Y)),
this["#seg-sketch"].curved?X.push({type:"Q",values:[this["#seg-sketch"].controlPoint.x,this["#seg-sketch"].controlPoint.y,j[0].values[0],j[0].values[1]]
}):X.push({type:"L",values:[j[0].values[0],j[0].values[1]]}),(d=X).push.apply(d,$traceurRuntime.spread(j.slice(1)));
var Z=!0,K=!1,J=void 0;try{for(var Q=void 0,ee=X[Symbol.iterator]();!(Z=(Q=ee.next()).done);Z=!0){
var te=Q.value;te.values=te.values.map(function(e){return a(e,b)})}}catch(ne){K=!0,
J=ne}finally{try{Z||null==ee["return"]||ee["return"]()}finally{if(K)throw J}}O.setPathData(X),
V.setPathData([]),V.remove()}return body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==V}),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
!0},_onNodeGrippieDirectClick:function(e,t){if("select"===this._mode){this._currentPath=e[c];
var n=e.getAttribute("data-position");"start"===n?(this._mode="draw-backward",this["#seg-sketch"].show(e[c],"start")):(this._mode="draw-forward",
this["#seg-sketch"].show(e[c],"end"))}},_onKeyDown:function(t){if("draw-forward"===this._mode||"draw-backward"===this._mode){
var n=e.fromEvent(t);if(n.matches("Enter")||n.matches("Escape"))t.stopPropagation(),
this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),this._updateNodeGrippies();else if(n.matches("Shift","Enter")){
t.stopPropagation();var r={type:"Z",values:[]},i=this._currentPath.getPathData();i.push(r),
this._currentPath.setPathData(i),this._mode="select",this._currentPath=null,this["#seg-sketch"].hide(),
this._updateNodeGrippies()}}},_updateNodeGrippies:function(){this["#node-grippies"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var i=void 0,a=this._getSelectedPaths()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value,l=o.getPathData({normalize:!0}),u=void 0,d=void 0;0===l.length?(u=null,
d=null):1===l.length?(u=l[0],d=null):l.length>1&&(u=l[0],d=l[l.length-1]);var h=s(o,this),v=d&&"Z"===d.type;
if(u&&!v){var f=new SVGPoint(u.values[0],u.values[1]).matrixTransform(h),m=r("svg:ellipse");
m.setAttribute("class","node-grippie"),m.setAttribute("cx",f.x),m.setAttribute("cy",f.y),
m.setAttribute("data-position","start"),m[c]=o,this["#node-grippies"].append(m)}if(d&&!v){
var p=void 0;"M"===d.type||"L"===d.type?p=new SVGPoint(d.values[0],d.values[1]).matrixTransform(h):"C"===d.type&&(p=new SVGPoint(d.values[4],d.values[5]).matrixTransform(h));
var b=r("svg:ellipse");b.setAttribute("class","node-grippie"),b.setAttribute("cx",p.x),
b.setAttribute("cy",p.y),b.setAttribute("data-position","end"),b[c]=o,this["#node-grippies"].append(b);
}}}catch(g){t=!0,n=g}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw n;
}}this._updateNodeGrippiesSize()},_updateNodeGrippiesSize:function(){var e=u/2/body.canvas.scale,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#node-grippies"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.setAttribute("rx",e),o.setAttribute("ry",e)}}catch(s){n=!0,r=s}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_getSelectedPaths:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName&&s.hasAttribute("data-bx-shape")===!1?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedPaths(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},n)}(SVGGElement),v=i("g","bx-quadsegsdrawhud",h);return{get default(){
return v}}}),$traceurRuntime.registerModule("elements/bx-quadsegsketch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-quadsegsketch")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-quadsegsketch")),n=t.getPointBetweenTwoPoints,r=t.getNearestPointOnLine,i=t.snapPointToAngleMultiple,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-quadsegsketch")).getTransformToElement,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-quadsegsketch"))["default"],s=(Object.freeze,
'\n  <style>@import url("stylesheets/bx-quadsegsketch.css");</style>\n  <path id="outline" d="M 0 0 Q 0 0 0 0"></path>\n  <line id="control-line-1"></line>\n  <line id="control-line-2"></line>\n  <circle id="control-point-grippie"></circle>\n'),l=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._path=null,this._position="end",this._snap="none",
this._hasListeners=!1,this._clientX=null,this._clientY=null,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=s;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}},get startPoint(){return this._startPoint},get endPoint(){
return this._endPoint},get controlPoint(){return this._controlPoint},get curved(){
var e=n(this._startPoint,this._endPoint);return this._controlPoint.x!==e.x||this._controlPoint.y!==e.y;
},show:function(e){var t=void 0!==arguments[1]?arguments[1]:"end";this._position=t,
this._path=e,this._snap="none",this.style.setProperty("visibility","visible"),this._hasListeners===!1&&this._addListeners(),
this._updateSegProperties(),this._updateSnapProperty(),this._updatePointProperties(),
this._updateOutlines()},hide:function(){this._path=null,this._clientX=null,this._clientY=null,
this.style.setProperty("visibility","hidden"),this._hasListeners===!0&&this._removeListeners();
},_addListeners:function(){var e=this;this._hasListeners=!0,this._pointerDown=!1,
body.addEventListener("modkeyschange",this._modKeysChangeListener=function(){e._pointerDown===!1&&(e._updateSnapProperty(),
e._updatePointProperties(),e._updateOutlines())}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
var n,r,a,o,s=e._path.getScreenCTM().inverse();if(e._pointerDown=!0,e._pointerDownPoint=new SVGPoint(t.clientX,t.clientY),
e._pointerDownPoint=e._pointerDownPoint.matrixTransform(s),e._pointerDownControlPoint=SVGPoint.fromPoint(e._controlPoint),
"end"===e._position)if("paraxialPolygon"===e._snap){var l=(n=i(e._startPoint,e._endPoint,45)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value);e._endPoint=l}else e._endPoint=SVGPoint.fromPoint(e._pointerDownPoint);else if("start"===e._position)if("paraxialPolygon"===e._snap){
var u=(a=i(e._startPoint,e._endPoint,45)[Symbol.iterator](),(o=a.next()).done?void 0:o.value);
e._endPoint=u}else e._endPoint=new SVGPoint(e._firstSeg.values[0],e._firstSeg.values[1]);
}),window.addEventListener("pointermove",this._pointerMoveListener=function(t){e._clientX=t.clientX,
e._clientY=t.clientY,e._updatePointProperties(),e._updateOutlines()}),window.addEventListener("pointerup",this._pointerUpListener=function(t){
e._pointerDown=!1,e._updateSnapProperty()})},_removeListeners:function(){this._hasListeners=!1,
body.removeEventListener("modkeyschange",this._modKeysChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener),window.removeEventListener("pointermove",this._pointerMoveListener),
window.removeEventListener("pointerup",this._pointerUpListener)},_onArtboardMutation:function(e){
var t=e.detail;(t.target===this._path||t.target.contains(this._path))&&this._path.hasAttribute("d")&&(this._updateSegProperties(),
this._updateSnapProperty(),this._updatePointProperties(),this._updateOutlines())},
_updateSegProperties:function(){if("end"===this._position){var e=this._path.getPathData({
normalize:!0}),t=e[e.length-1];this._lastSeg=t;for(var n=e.length-1;n>=0;n-=1){var r=e[n];
if("Z"!==r.type){this._lastNonZSeg=r;break}}"C"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[2],t.values[3]):"M"===t.type||"L"===t.type?this._lastSegControlPoint=new SVGPoint(t.values[0],t.values[1]):this._lastSegControlPoint=null,
"C"===this._lastSeg.type?this._lastSegIsSmooth=t.values[2]!==t.values[4]||t.values[3]!==t.values[5]:this._lastSegIsSmooth=!1;
}else if("start"===this._position){var i=this._path.getPathData({normalize:!0}),a=i[0],o=i[1];
this._firstSeg=a,"C"===o.type?this._secondSegControlPoint=new SVGPoint(o.values[0],o.values[1]):"M"===o.type||"L"===o.type?this._secondSegControlPoint=new SVGPoint(a.values[0],a.values[1]):this._secondSegControlPoint=null,
"C"===o.type?this._secondSegIsSmooth=o.values[0]!==this._firstSeg.values[0]&&o.values[1]!==this._firstSeg.values[1]:this._secondSegIsSmooth=!1;
}},_updatePointProperties:function(){var e,t,a,s,l,u,c,d;if(this._pointerDown===!1){
var h=this._path.getScreenCTM().inverse();if("end"===this._position?("L"===this._lastNonZSeg.type||"M"===this._lastNonZSeg.type?this._startPoint=new SVGPoint(this._lastNonZSeg.values[0],this._lastNonZSeg.values[1]):"C"===this._lastNonZSeg.type&&(this._startPoint=new SVGPoint(this._lastNonZSeg.values[4],this._lastNonZSeg.values[5])),
null===this._clientX?this._endPoint=SVGPoint.fromPoint(this._startPoint):this._endPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(h)):"start"===this._position&&(null===this._clientX?this._startPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1]):this._startPoint=new SVGPoint(this._clientX,this._clientY).matrixTransform(h),
this._endPoint=new SVGPoint(this._firstSeg.values[0],this._firstSeg.values[1])),"none"===this._snap){
var v,f=new o(this._startPoint,this._endPoint);"end"===this._position?v=new o(this._startPoint,this._lastSegControlPoint):"start"===this._position&&(v=new o(this._endPoint,this._secondSegControlPoint)),
v=v.negate().scale(f.length/2),"end"===this._position?this._controlPoint=new SVGPoint(this._startPoint.x+v.x,this._startPoint.y+v.y):"start"===this._position&&(this._controlPoint=new SVGPoint(this._endPoint.x+v.x,this._endPoint.y+v.y));
}else if("polygon"===this._snap)this._controlPoint=n(this._startPoint,this._endPoint);else if("paraxialPolygon"===this._snap){
if("end"===this._position){var m=(e=i(this._startPoint,this._endPoint,45)[Symbol.iterator](),
(t=e.next()).done?void 0:t.value);this._endPoint=m}else if("start"===this._position){
var p=(a=i(this._endPoint,this._startPoint,45)[Symbol.iterator](),(s=a.next()).done?void 0:s.value);
this._startPoint=p}this._controlPoint=n(this._startPoint,this._endPoint)}}else if(this._pointerDown===!0){
var b=this._path.getScreenCTM().inverse(),g=new SVGPoint(this._clientX,this._clientY);
g=g.matrixTransform(b);var y=new o(this._pointerDownPoint,g);if(this._controlPoint=new SVGPoint(this._pointerDownControlPoint.x-y.x,this._pointerDownControlPoint.y-y.y),
"none"===this._snap)if("end"===this._position){var x=r(this._lastSegControlPoint,this._startPoint,this._controlPoint,!0),_=(l=x[Symbol.iterator](),
(u=l.next()).done?void 0:u.value),w=(u=l.next()).done?void 0:u.value;1>w?this._controlPoint=SVGPoint.fromPoint(this._startPoint):this._controlPoint=_;
}else if("start"===this._position){var S=r(this._secondSegControlPoint,this._endPoint,this._controlPoint,!0),k=(c=S[Symbol.iterator](),
(d=c.next()).done?void 0:d.value),C=(d=c.next()).done?void 0:d.value;1>C?this._controlPoint=SVGPoint.fromPoint(this._endPoint):this._controlPoint=k;
}}},_updateSnapProperty:function(){var e=body.modKeys,t=e.ctrl,n=(e.alt,e.shift);t&&!n?this._snap="polygon":t&&n?this._snap="paraxialPolygon":this._snap="none",
"end"===this._position?this._lastSegIsSmooth||"none"!==this._snap||(this._snap="polygon"):"start"===this._position&&(this._secondSegIsSmooth||"none"!==this._snap||(this._snap="polygon"));
},_updateOutlines:function(){var e=a(this._path,this),t=this._startPoint.matrixTransform(e),n=this._endPoint.matrixTransform(e),r=this._controlPoint.matrixTransform(e),i=3/body.canvas.scale,o=[{
type:"M",values:[t.x,t.y]},{type:"Q",values:[r.x,r.y,n.x,n.y]}];this["#outline"].setPathData(o),
this["#control-point-grippie"].cx.baseVal.value=r.x,this["#control-point-grippie"].cy.baseVal.value=r.y,
this["#control-point-grippie"].r.baseVal.value=i,this["#control-line-1"].x1.baseVal.value=t.x,
this["#control-line-1"].y1.baseVal.value=t.y,this["#control-line-1"].x2.baseVal.value=r.x,
this["#control-line-1"].y2.baseVal.value=r.y,this["#control-line-2"].x1.baseVal.value=n.x,
this["#control-line-2"].y1.baseVal.value=n.y,this["#control-line-2"].x2.baseVal.value=r.x,
this["#control-line-2"].y2.baseVal.value=r.y}},{},e)}(SVGGElement),u=e("g","bx-quadsegsketch",l);
return{get default(){return u}}}),$traceurRuntime.registerModule("elements/bx-radialgradienthud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-radialgradienthud")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-radialgradienthud")),n=t.createElement,r=t.registerElement,i=t.queryGraphicsElements,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-radialgradienthud")).isPointerMoveIntentional,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/gradient","elements/bx-radialgradienthud")).getGradientColorAtOffset,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-radialgradienthud")).normalize,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/matrix","elements/bx-radialgradienthud")),u=(l.compareMatrixes,
l.roundMatrix),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-radialgradienthud")),d=(c.sin,
c.cos,c.round),h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-radialgradienthud")),v=h.getPaintType,f=h.getPaintServer,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-radialgradienthud")).getRenderedTextNodes,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-radialgradienthud")).throttle,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-decomposition","elements/bx-radialgradienthud")).decomposeTransform,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-radialgradienthud")),y=(g.comparePoints,
g.getPointAtFraction),x=g.getNearestPointOnLine,_=g.getDistanceBetweenPoints,w=g.getRotationAngleFromPoints,S=g.snapPointToAngle,k=g.snapPointToAngleMultiple,C=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-radialgradienthud")),R=C.getTransformFromPoints,M=C.getTransformToElement,E=C.bboxPointToUserPoint,P=C.userPointToBBoxPoint,A=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-radialgradienthud"))["default"],T=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-radialgradienthud"))["default"],L=(Object.keys,
Symbol()),N=Symbol(),$=Symbol(),O=SVGUnitTypes,V=O.SVG_UNIT_TYPE_USERSPACEONUSE,j=O.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,z='\n  <style>@import url("stylesheets/bx-radialgradienthud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',I=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={selectAll:{enabled:function(){
return!0},exec:function(){return e._selectAllStops()}},deselectAll:{enabled:function(){
return!0},exec:function(){return e._deselectAllStops()}}},this.tabIndex=-1,this._selectedStops=[],
this._draggedGrippie=null,this._draggedSlider=null,this._arrowCursor=null,this._updateAll200Th=p(this._updateAll,200,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=z;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this._shadowRoot.addEventListener("keydown",function(t){
return e._onShadowRootKeyDown(t)}),this._shadowRoot.addEventListener("pointerdown",function(t){
return e._onShadowRootPointerDown(t)}),this._shadowRoot.addEventListener("pointerup",function(t){
return e._onShadowRootPointerUp(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";
},get selectedStops(){return $traceurRuntime.spread(this._selectedStops)},_onEnabled:function(){
var e=this;this._onSelectedElementsChange(),this.addEventListener("pointerenter",this._pointerEnterListener=function(){
e._onPointerEnter()}),this.addEventListener("pointerleave",this._pointerLeaveListener=function(){
e._onPointerLeave()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),body.canvas.huds.addEventListener("pointerdown",this._hudsPointerDownListener=function(t){
e._onHudsPointerDown(t)}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._onUndoOrRedo()})},_onDisabled:function(){this._selectStops([]),this.removeEventListener("pointerenter",this._pointerEnterListener),
this.removeEventListener("pointerleave",this._pointerLeaveListener),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener),
body.canvas.huds.removeEventListener("pointerdown",this._hudsPointerDownListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener);
},_onSelectedElementsChange:function(){this._updateAll200Th()},_onSelectedTextRangeChange:function(){
this._updateAll200Th()},_onArtboardMutation:function(e){this._draggedGrippie?this._updatePositions(this._draggedGrippie.closest(".subhud")):this._draggedSlider?this._updatePositions(this._draggedSlider.parentElement):"style"===e.attributeName&&"stop"===e.target.localName?this._updateGrippiesColor():this._updateAll200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onUndoOrRedo:function(){this._selectStops([]);
},_onArtboardPointerDown:function(e){0===e.button&&e.target!==this&&this._selectStops([]);
},_onHudsPointerDown:function(e){e.target!==this&&0===e.button&&this._selectStops([]);
},_onPointerEnter:function(){this._arrowCursor||(this._arrowCursor=body.registerCursor("default",100));
},_onPointerLeave:function(){this._arrowCursor&&(body.unregisterCursor(this._arrowCursor),
this._arrowCursor=null)},_onShadowRootPointerDown:function(e){var t=this;if(0===e.button){
var n=body.registerCursor("default",900);e.target.classList.contains("slider")?this._onSliderPointerDown(e):e.target.classList.contains("stop-grippie")?this._onStopGrippiePointerDown(e):e.target.classList.contains("r2-grippie")&&this._onRadiusGrippieOrSliderEdgePointerDown(e,"r2");
var r,i;this._pointerMovedAfterPointerDown=!1,this._pointerDownTimeStamp=e.timeStamp,
window.addEventListener("pointermove",r=function(){t._pointerMovedAfterPointerDown=!0;
}),window.addEventListener("pointerup",i=function(){window.removeEventListener("pointerup",i),
window.removeEventListener("pointermove",r),body.unregisterCursor(n)})}},_onShadowRootPointerUp:function(e){
e.target.classList.contains("stop-grippie")&&this._onStopGrippiePointerUp(e)},_onShadowRootDblClick:function(e){
e.timeStamp-this._pointerDownTimeStamp<100&&e.target.classList.contains("slider")&&this._onSliderDblClick(e);
},_onStopGrippiePointerDown:function(e){var t=e.target,n=t[$],r=n.closest("radialGradient"),i=this._selectedStops.filter(function(e){
return e.closest("radialGradient")===r}),a=$traceurRuntime.spread(r.children).filter(function(e){
return"stop"===e.localName}),o=a[0],s=a[a.length-1],l=body.modKeys,u=l.alt,c=l.shift;
this._pointerDownSelectedStops=$traceurRuntime.spread(i),c===!1?i.includes(n)===!1&&this._selectStops([n]):c===!0&&i.includes(n)===!1&&(i.push(n),
this._selectStops(i)),n===o&&0===n.offset.baseVal&&u===!1?this._onCenterGrippieOrSliderBodyPointerDown(e):n===s&&1===n.offset.baseVal&&u===!1?this._onRadiusGrippieOrSliderEdgePointerDown(e,"r1"):this._onDraggableStopGrippiePointerDown(e);
},_onStopGrippiePointerUp:function(e){if(!this._pointerMovedAfterPointerDown){var t=e.target,n=this._pointerDownSelectedStops,r=t[$],a=t.closest(".subhud"),o=a[N],s=body.modKeys.shift,l=[],u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=body.canvas.selectedElements[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if("g"!==f.localName&&"a"!==f.localName||!f.contains(o))l.push(f);else{
var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=i($traceurRuntime.spread(f.children))[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;l.unshift(x)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}}}}catch(w){c=!0,d=w}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}body.canvas.isSelectableElement(o)&&(l.remove(o),l.unshift(o)),
body.canvas.selectedElements=l;for(var S=o.parentElement;S!==body.canvas.currentArtboard;S=S.parentElement)if("g"===S.localName||"a"===S.localName){
body.canvas.currentContainer=S;break}s===!0&&this._pointerDownSelectedStops.includes(r)===!0&&(n.remove(r),
this._selectStops([n]))}},_onDraggableStopGrippiePointerDown:function(e){var t,n,r,i,a=this,o=e.target,s=o.closest(".subhud"),l=s.querySelector(".slider"),u=this._getMoveOffsetsForSelectedStops(),c=this.getScreenCTM(),h=c.inverse(),v=new SVGPoint(l.x1.baseVal.value,l.y1.baseVal.value),f=new SVGPoint(l.x2.baseVal.value,l.y2.baseVal.value),m=new SVGPoint(o.cx.baseVal.value,o.cy.baseVal.value),p=m.matrixTransform(c),b=(t=x(v,f,m,!1)[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),g=_(v,b)/_(v,f),y=!1;this._draggedGrippie=o,window.addEventListener("pointermove",r=function(t){
var n,r;y===!1&&(body.canvas.undoManager.checkpoint("Move gradient stop"),y=!0);var i=new SVGPoint(p.x+t.clientX-e.clientX,p.y+t.clientY-e.clientY),o=i.matrixTransform(h),s=(n=x(v,f,o,!1)[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),l=_(v,s)/_(v,f),c=l-g,m=!0,b=!1,w=void 0;try{for(var S=void 0,k=a._selectedStops[Symbol.iterator]();!(m=(S=k.next()).done);m=!0){
var C=S.value,R=u.get(C),M=R.minOffset,E=R.maxOffset,P=R.initialOffset;M>P+c?C.setAttribute("offset",d(M,body.canvas.geometryPrecision)):P+c>E?C.setAttribute("offset",d(E,body.canvas.geometryPrecision)):C.setAttribute("offset",d(P+c,body.canvas.geometryPrecision));
}}catch(A){b=!0,w=A}finally{try{m||null==k["return"]||k["return"]()}finally{if(b)throw w;
}}}),window.addEventListener("pointerup",i=function(){window.removeEventListener("pointermove",r),
window.removeEventListener("pointerup",i),a._draggedGrippie=null})},_onRadiusGrippieOrSliderEdgePointerDown:function(t){
var n,r,i,o,s,l,c,d,h=void 0!==arguments[1]?arguments[1]:"r1",v=this,f=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e.contains(t.target)}),m=f[L],p=f[N],g=e(p),y=p.getScreenCTM(),x=y.inverse(),_=SVGMatrix.fromMatrix(m.gradientTransform.baseVal.consolidate().matrix),C=b(y),M=C.scaleX,A=C.scaleY,$=!1,O=!1;
t.target.matches(".grippie")?this._draggedGrippie=t.target:t.target.matches(".slider")&&(this._draggedSlider=t.target);
var z=function(){if(m.gradientUnits.baseVal===V){i=new SVGPoint(m.cx.baseVal.value,m.cy.baseVal.value),
o=new SVGPoint(m.cx.baseVal.value+m.r.baseVal.value,m.cy.baseVal.value),s=new SVGPoint(m.cx.baseVal.value,m.cy.baseVal.value-m.r.baseVal.value);
var e=i.matrixTransform(_),t=o.matrixTransform(_),n=s.matrixTransform(_);l=e.matrixTransform(y),
c=t.matrixTransform(y),d=n.matrixTransform(y)}else if(m.gradientUnits.baseVal===j){
i=new SVGPoint(m.cx.baseVal.valueInSpecifiedUnits,m.cy.baseVal.valueInSpecifiedUnits),
o=new SVGPoint(m.cx.baseVal.valueInSpecifiedUnits+m.r.baseVal.valueInSpecifiedUnits,m.cy.baseVal.valueInSpecifiedUnits),
s=new SVGPoint(m.cx.baseVal.valueInSpecifiedUnits,m.cy.baseVal.valueInSpecifiedUnits-m.r.baseVal.valueInSpecifiedUnits);
var r=i.matrixTransform(_),a=o.matrixTransform(_),u=s.matrixTransform(_),h=E(r,g),v=E(a,g),f=E(u,g);
l=h.matrixTransform(y),c=v.matrixTransform(y),d=f.matrixTransform(y)}};window.addEventListener("pointermove",n=function(e){
var n,r,v,f;if($===!1){if(!a(t,e,5))return;$=!0,body.canvas.undoManager.checkpoint("Transform gradient"),
z()}var p,b,y=body.modKeys,C=y.ctrl,E=y.shift;"r1"===h?(p=new SVGPoint(e.clientX+(c.x-t.clientX),e.clientY+(c.y-t.clientY)),
b=w(l,c,p)):"r2"===h&&(p=new SVGPoint(e.clientX+(d.x-t.clientX),e.clientY+(d.y-t.clientY)),
b=w(l,d,p));var L=(new SVGMatrix).rotate(b,l.x,l.y),N=l.matrixTransform(L),I=c.matrixTransform(L),D=d.matrixTransform(L),G=new T(N,I),B=new T(N,D),U=new T(N,p);
if("r1"===h){if(G.length=U.length,I.x=N.x+G.x,I.y=N.y+G.y,C){var H=new T(N,d);B.length=U.length,
H.length=U.length,D.x=N.x+B.x,D.y=N.y+B.y,d.x=N.x+H.x,d.y=N.y+H.y}if(E){var F=k(N,I,22.5),q=(n=F[Symbol.iterator](),
(r=n.next()).done?void 0:r.value);(r=n.next()).done?void 0:r.value;I=q,O=!0}if(O){
var W=new SVGPoint(l.x,l.y-100),Y=w(l,W,I);D=0>M&&0>A?S(N,D,Y+90):S(N,D,Y-90)}}else if("r2"===h){
if(B.length=U.length,D.x=N.x+B.x,D.y=N.y+B.y,C){var X=new T(N,c);G.length=U.length,
X.length=U.length,I.x=N.x+G.x,I.y=N.y+G.y,c.x=N.x+X.x,c.y=N.y+X.y}if(E){var Z=k(N,D,22.5),K=(v=Z[Symbol.iterator](),
(f=v.next()).done?void 0:f.value);(f=v.next()).done?void 0:f.value;D=K,O=!0}if(O){
var J=new SVGPoint(l.x,l.y-100),Q=w(l,J,D);I=0>M&&0>A?S(N,I,Q-90):S(N,I,Q+90)}}var ee,te,ne;
if(m.gradientUnits.baseVal===V){var re=N.matrixTransform(x),ie=I.matrixTransform(x),ae=D.matrixTransform(x);
ee=re.matrixTransform(_.inverse()),te=ie.matrixTransform(_.inverse()),ne=ae.matrixTransform(_.inverse());
}else if(m.gradientUnits.baseVal===j){var oe=N.matrixTransform(x),se=I.matrixTransform(x),le=D.matrixTransform(x),ue=P(oe,g),ce=P(se,g),de=P(le,g);
ee=ue.matrixTransform(_.inverse()),te=ce.matrixTransform(_.inverse()),ne=de.matrixTransform(_.inverse());
}var he=R(i,o,s,ee,te,ne),ve=_.multiply(he);ve=u(ve,body.canvas.transformPrecision),
m.setAttribute("gradientTransform",ve.toString())}),window.addEventListener("pointerup",r=function(e){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
v._draggedGrippie=null,v._draggedSlider=null})},_onSliderPointerDown:function(e){
var t=e.target,n=t.getScreenCTM(),r=new SVGPoint(e.clientX,e.clientY),i=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),a=i.matrixTransform(n),o=_(a,r);
5>=o?this._onRadiusGrippieOrSliderEdgePointerDown(e,"r1"):this._onCenterGrippieOrSliderBodyPointerDown(e);
},_onCenterGrippieOrSliderBodyPointerDown:function(t){var n,r,i,o=this,s=t.target.closest(".subhud"),l=s[N],u=s[L],c=e(l),h=SVGMatrix.fromMatrix(u.gradientTransform.baseVal.consolidate().matrix),v=l.getScreenCTM(),f=l.getScreenCTM().inverse(),m=new SVGPoint(t.clientX,t.clientY),p=!1;
if(t.target.matches(".grippie")?this._draggedGrippie=t.target:t.target.matches(".slider")&&(this._draggedSlider=t.target),
u.gradientUnits.baseVal===V){var b=new SVGPoint(u.cx.baseVal.value,u.cy.baseVal.value),g=b.matrixTransform(h);
i=g.matrixTransform(v)}else if(u.gradientUnits.baseVal===j){var y=new SVGPoint(u.cx.baseVal.valueInSpecifiedUnits,u.cy.baseVal.valueInSpecifiedUnits),x=y.matrixTransform(h),_=E(x,c);
i=_.matrixTransform(v)}window.addEventListener("pointermove",n=function(e){if(p===!1){
if(!a(t,e,5))return;p=!0,body.canvas.undoManager.checkpoint("Transform gradient");
}var n,r=new SVGPoint(e.clientX,e.clientY),o=new T(m,r);if(u.gradientUnits.baseVal===V){
var s=new SVGPoint(i.x+o.x,i.y+o.y),l=s.matrixTransform(f);n=l.matrixTransform(h.inverse());
}else if(u.gradientUnits.baseVal===j){var v=new SVGPoint(i.x+o.x,i.y+o.y),b=v.matrixTransform(f),g=P(b,c);
n=g.matrixTransform(h.inverse())}u.setAttribute("cx",d(n.x,body.canvas.geometryPrecision)),
u.setAttribute("cy",d(n.y,body.canvas.geometryPrecision))}),window.addEventListener("pointerup",r=function(){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
o._draggedGrippie=null,o._draggedSlider=null})},_onSliderDblClick:function(e){body.canvas.undoManager.checkpoint("Add Stop");
for(var t=e.target,r=t.closest(".subhud"),i=r[L],a=this.getScreenCTM().inverse(),l=$traceurRuntime.spread(i.children).filter(function(e){
return"stop"===e.localName}),u=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),c=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),d=new SVGPoint(e.clientX,e.clientY).matrixTransform(a),h=_(u,d),v=_(u,c),f=s(h/v,0,1,body.canvas.geometryPrecision),m=null,p=0;p<l.length;p+=1){
var b=l[p];if(b.offset.baseVal<f)m=p;else if(b.offset.baseVal>f)break}var g=n("svg:stop");
if(g.setAttribute("offset",f),g.style.setProperty("stop-color",o(i,f).toString("hex")),
null===m){var y=$traceurRuntime.spread(i.children).find(function(e){return"stop"===e.localName;
});y?y.before(g):i.append(g)}else l[m].after(g);this._selectStops([g])},_onShadowRootKeyDown:function(e){
var t=A.fromEvent(e);0!==this._selectedStops.length&&(t.matches("Backspace")?(e.stopPropagation(),
this._deleteSelectedStops()):t.matches("Tab")?(e.stopPropagation(),e.preventDefault(),
this._selectNextStop()):t.matches("ArrowLeft")?(e.stopPropagation(),this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Left"),
this._moveSelectedStops(1,"left"))):t.matches("ArrowRight")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 1 Unit Right"),
this._moveSelectedStops(1,"right"))):t.matches("Shift","ArrowLeft")?(e.stopPropagation(),
this._canMoveActiveSelectedStops("left")&&(body.canvas.undoManager.checkpoint("Move 10 Units Left"),
this._moveSelectedStops(10,"left"))):t.matches("Shift","ArrowRight")&&(e.stopPropagation(),
this._canMoveActiveSelectedStops("right")&&(body.canvas.undoManager.checkpoint("Move 10 Units Right"),
this._moveSelectedStops(10,"right"))))},_updateAll:function(){var e=this._getSelectedRadialGradientUsers();
if(0===e.length)this["#subhuds"].innerHTML="";else{var t=this._shadowRoot.activeElement,r=[];
this["#subhuds"].innerHTML="";var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=f(u,this.context);if(!r.includes(c)){r.push(c);var d=$traceurRuntime.spread(c.children).filter(function(e){
return"stop"===e.localName}),h=this["#subhud-template"].cloneNode(!0);h.removeAttribute("id"),
h[L]=c,h[N]=u;var v=h.querySelector(".stop-grippies"),m=document.createDocumentFragment(),p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=d[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value,w=n("svg:circle");
w.setAttribute("class","stop-grippie grippie"),w[$]=_,_.offset.baseVal>.95?m.prepend(w):v.append(w);
}}catch(S){b=!0,g=S}finally{try{p||null==x["return"]||x["return"]()}finally{if(b)throw g;
}}v.append(m),this["#subhuds"].append(h)}}}catch(k){a=!0,o=k}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}if(t){var C=$traceurRuntime.spread(this["#subhuds"].children).find(function(e){
return e[L]===t[L]});C&&C.focus()}this._updatePositions(),this._updateGrippiesSize(),
this._updateGrippiesColor(),this._updateGrippiesSelectedState(),this._updateGrippiesZOrder();
}},_updatePositions:function(){var t=void 0!==arguments[0]?arguments[0]:null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this["#subhuds"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(!t||s===t){var l=s[L],u=s[N],c=$traceurRuntime.spread(l.children).filter(function(e){
return"stop"===e.localName}),d=SVGMatrix.fromMatrix(l.gradientTransform.baseVal.consolidate().matrix),h=M(u,this),v=s.querySelector(".slider"),f=s.querySelector(".slider-shadow"),m=$traceurRuntime.spread(s.querySelector(".stop-grippies").children),p=s.querySelector(".r2-grippie"),b=s.querySelector(".r2-outline");
if(l.gradientUnits.baseVal===V){var g=new SVGPoint(l.cx.baseVal.value,l.cy.baseVal.value),x=new SVGPoint(l.cx.baseVal.value+l.r.baseVal.value,l.cy.baseVal.value),_=new SVGPoint(l.cx.baseVal.value,l.cy.baseVal.value-l.r.baseVal.value),w=g.matrixTransform(d),S=x.matrixTransform(d),k=_.matrixTransform(d),C=w.matrixTransform(h),R=S.matrixTransform(h),P=k.matrixTransform(h);
v.setAttribute("x1",C.x),v.setAttribute("y1",C.y),v.setAttribute("x2",R.x),v.setAttribute("y2",R.y),
f.setAttribute("x1",C.x),f.setAttribute("y1",C.y),f.setAttribute("x2",R.x),f.setAttribute("y2",R.y),
b.setAttribute("x1",C.x),b.setAttribute("y1",C.y),b.setAttribute("x2",P.x),b.setAttribute("y2",P.y),
p.setAttribute("cx",P.x),p.setAttribute("cy",P.y);var A=!0,T=!1,O=void 0;try{for(var z=function(){
var e=I.value,t=m.find(function(t){return t[$]===e}),n=y(C,R,e.offset.baseVal);t.cx.baseVal.value=n.x,
t.cy.baseVal.value=n.y},I=void 0,D=c[Symbol.iterator]();!(A=(I=D.next()).done);A=!0)z();
}catch(G){T=!0,O=G}finally{try{A||null==D["return"]||D["return"]()}finally{if(T)throw O;
}}}else if(l.gradientUnits.baseVal===j){var B=e(u),U=new SVGPoint(l.cx.baseVal.valueInSpecifiedUnits,l.cy.baseVal.valueInSpecifiedUnits),H=new SVGPoint(l.cx.baseVal.valueInSpecifiedUnits+l.r.baseVal.valueInSpecifiedUnits,l.cy.baseVal.valueInSpecifiedUnits),F=new SVGPoint(l.cx.baseVal.valueInSpecifiedUnits,l.cy.baseVal.valueInSpecifiedUnits-l.r.baseVal.valueInSpecifiedUnits),q=U.matrixTransform(d),W=H.matrixTransform(d),Y=F.matrixTransform(d),X=E(q,B),Z=E(W,B),K=E(Y,B),J=X.matrixTransform(h),Q=Z.matrixTransform(h),ee=K.matrixTransform(h);
v.setAttribute("x1",J.x),v.setAttribute("y1",J.y),v.setAttribute("x2",Q.x),v.setAttribute("y2",Q.y),
f.setAttribute("x1",J.x),f.setAttribute("y1",J.y),f.setAttribute("x2",Q.x),f.setAttribute("y2",Q.y),
b.setAttribute("x1",J.x),b.setAttribute("y1",J.y),b.setAttribute("x2",ee.x),b.setAttribute("y2",ee.y),
p.setAttribute("cx",ee.x),p.setAttribute("cy",ee.y);var te=!0,ne=!1,re=void 0;try{
for(var ie=function(){var e=ae.value,t=m.find(function(t){return t[$]===e});if(t){
var n=y(J,Q,e.offset.baseVal);t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y}},ae=void 0,oe=c[Symbol.iterator]();!(te=(ae=oe.next()).done);te=!0)ie();
}catch(se){ne=!0,re=se}finally{try{te||null==oe["return"]||oe["return"]()}finally{
if(ne)throw re}}}}}}catch(le){r=!0,i=le}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}},_updateGrippiesColor:function(){var e=!0,t=!1,n=void 0;try{
for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=d[$].style.stopColor;d.style.setProperty("fill",h)}}catch(v){s=!0,
l=v}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(f){
t=!0,n=f}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},
_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll(".grippie")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;a.setAttribute("r",6/body.canvas.scale)}}catch(o){t=!0,n=o}finally{
try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_updateGrippiesSelectedState:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.querySelectorAll(".stop-grippie")[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;this._selectedStops.includes(d[$])?d.setAttribute("data-selected",""):d.removeAttribute("data-selected");
}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}}}catch(v){t=!0,n=v}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n;
}}},_updateGrippiesZOrder:function(){var e=this["#subhuds"].querySelectorAll(".stop-grippie"),t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this._selectedStops[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;h[$]===o&&h.parentElement.append(h)}}catch(v){l=!0,u=v}finally{try{
s||null==d["return"]||d["return"]()}finally{if(l)throw u}}}}catch(f){n=!0,r=f}finally{
try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_selectStops:function(e){
0===e.length&&0===this._selectedStops.length||(this._selectedStops=$traceurRuntime.spread(e),
this._updateGrippiesSelectedState(),this._updateGrippiesZOrder(),this.dispatchEvent(new CustomEvent("selectedstopschange")));
},_selectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[L],n=$traceurRuntime.spread(t.children).filter(function(e){
return"stop"===e.localName}),r=!0,i=!1,a=void 0;try{for(var o=void 0,s=this._selectedStops[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l.closest("radialGradient")!==t&&n.push(l)}}catch(u){i=!0,a=u}finally{
try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}this._selectStops(n);
},_deselectAllStops:function(){var e=this._shadowRoot.activeElement,t=e[L];this._selectStops(this._selectedStops.filter(function(e){
return e.closest("radialGradient")!==t}))},_selectNextStop:function(){var e=this._shadowRoot.activeElement,t=e[L];
if(t){var n=$traceurRuntime.spread(t.children).filter(function(e){return"stop"===e.localName;
}),r=this._selectedStops.filter(function(e){return e.closest("radialGradient")===t;
}),i=r[r.length-1],a=n[0],o=a;if(i&&n.length>1){for(var s=i.nextElementSibling;s;s=s.nextElementSibling)if("stop"===s.localName){
o=s;break}this._selectStops([o])}}},_deleteSelectedStops:function(){var e=this._shadowRoot.activeElement;
if(null!==e){var t=e[L],n=this._selectedStops.filter(function(e){return e.closest("radialGradient")===t;
});if(n.length>0){body.canvas.undoManager.checkpoint("Delete gradient stop(s)");var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
l.remove()}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{
if(i)throw a}}}this._selectStops([])}},_moveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:1,t=void 0!==arguments[1]?arguments[1]:"left",n=this._shadowRoot.activeElement;
if(null!==n){var r=n.querySelector(".slider"),i=n[L],a=this._selectedStops.filter(function(e){
return e.parentElement===i}),o=this._getMoveOffsetsForSelectedStops(),l=this.getScreenCTM(),u=new SVGPoint(r.x1.baseVal.value,r.y1.baseVal.value),c=new SVGPoint(r.x2.baseVal.value,r.y2.baseVal.value),d=u.matrixTransform(l),h=c.matrixTransform(l),v=new T(d,h),f=e/v.length,m=!0,p=!1,b=void 0;
try{for(var g=void 0,y=a[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var x=g.value,_=o.get(x),w=_.minOffset,S=_.maxOffset;
if("left"===t){var k=s(x.offset.baseVal-f,w,S,body.canvas.geometryPrecision);x.setAttribute("offset",k);
}else if("right"===t){var C=s(x.offset.baseVal+f,w,S,body.canvas.geometryPrecision);
x.setAttribute("offset",C)}}}catch(R){p=!0,b=R}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}}},_canMoveActiveSelectedStops:function(){var e=void 0!==arguments[0]?arguments[0]:"left",t=this._shadowRoot.activeElement;
if(null!==t){var n=(t.querySelector(".slider"),t[L]),r=this._selectedStops.find(function(e){
return e.parentElement===n});if(null!==r){var i=this._getMoveOffsetsForSelectedStops(),a=i.get(r),o=a.minOffset,s=a.maxOffset;
return"left"===e?r.offset.baseVal>o:"right"===e?r.offset.baseVal<s:void 0}}},_getPreviousNotSelectedStop:function(e){
for(var t=e;t;t=t.previousElementSibling)if("stop"===t.localName&&this._selectedStops.includes(t)===!1)return t;
return null},_getNextNotSelectedStop:function(e){for(var t=e;t;t=t.nextElementSibling)if("stop"===t.localName&&this._selectedStops.includes(t)===!1)return t;
return null},_getMoveOffsetsForSelectedStops:function(){var e=new Map,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this._selectedStops[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value,l=this._getPreviousNotSelectedStop(s),u=this._getNextNotSelectedStop(s),c={};
l?c.min=s.offset.baseVal-l.offset.baseVal:c.min=s.offset.baseVal,u?c.max=u.offset.baseVal-s.offset.baseVal:c.max=1-s.offset.baseVal,
t.push(c)}}catch(d){r=!0,i=d}finally{try{n||null==o["return"]||o["return"]()}finally{
if(r)throw i}}if(t.length>0){var h=t[0].min,v=t[0].max,f=!0,m=!1,p=void 0;try{for(var b=void 0,g=t[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;y.min<h&&(h=y.min),y.max<v&&(v=y.max)}}catch(x){m=!0,p=x}finally{try{
f||null==g["return"]||g["return"]()}finally{if(m)throw p}}var _=!0,w=!1,S=void 0;try{
for(var k=void 0,C=this._selectedStops[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;e.set(R,{initialOffset:R.offset.baseVal,minOffset:R.offset.baseVal-h,
maxOffset:R.offset.baseVal+v})}}catch(M){w=!0,S=M}finally{try{_||null==C["return"]||C["return"]();
}finally{if(w)throw S}}}return e},_getSelectedRadialGradientUsers:function(){var e=this,t=function(e){
var n,r=[],i=body.canvas.selectedTextRange,a=!0,o=!1,s=void 0;try{for(var l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=c.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(d))r.push(c);else if(["a","g"].includes(d))(n=r).push.apply(n,$traceurRuntime.spread(t(c.children)));else if("text"===d){
var h=m(c);if(i&&i.intersectsNode(c)){"backward"===i.direction&&h.reverse();var v=!0,f=!1,p=void 0;
try{for(var b=void 0,g=h[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var y=b.value;
if(i.intersectsNode(y)){var x=y.closest("text, textPath, tspan, a");x&&!r.includes(x)&&r.push(x);
}}}catch(_){f=!0,p=_}finally{try{v||null==g["return"]||g["return"]()}finally{if(f)throw p;
}}}else{var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=h[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value,E=M.closest("text, textPath, tspan, a");E&&!r.includes(E)&&r.push(E);
}}catch(P){S=!0,k=P}finally{try{w||null==R["return"]||R["return"]()}finally{if(S)throw k;
}}}}}}catch(A){o=!0,s=A}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}return r},n=t(body.canvas.outermostSelectedElements),r=n.filter(function(t){return"radialGradient"===v(t,e.context);
});return r}},{},t)}(SVGGElement),D=r("g","bx-radialgradienthud",I);return{get default(){
return D}}}),$traceurRuntime.registerModule("elements/bx-rectanglehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-rectanglehud")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-rectanglehud")),i=r.normalize,a=r.round,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-rectanglehud")),s=o.getShapeData,l=o.setShapeData,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-rectanglehud")).throttle,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-rectanglehud")).getTransformToElement,d=Math.min,h=Symbol(),v='\n  <style>@import url("stylesheets/bx-rectanglehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',f=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._installed=!1,this._selectedRects=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=u(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=v;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var f=d.value;this.attributeChangedCallback(f.name)}}catch(m){l=!0,c=m}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._draggedGrippie||(this._selectedRects=this._getSelectedRects(),
0===this._selectedRects.length?this._installed===!0&&this._uninstall():(this._installed===!1&&this._install(),
this._updateSubhuds()))},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.matches(".grippie")&&this._onGrippiePointerDown(e)},_onGrippiePointerDown:function(e){
var n=this;if(0===e.button){var r,o,u,c,v=e.target,f=v.parentElement,m=f[h],p=v.getAttribute("data-corner"),b=m.getCTM().inverse(),g=body.canvas.geometryPrecision,y=new SVGPoint(e.clientX,e.clientY).matrixTransform(b),x=new SVGPoint(y.x,y.y),_="normal",w=!1,S=function(e){
var t,n,r,i,a,o,l,u,c,d,h,v;if("rect"===e.localName){var f=e.hasAttribute("rx")?e.rx.baseVal.value:e.ry.baseVal.value,m=e.hasAttribute("ry")?e.ry.baseVal.value:e.rx.baseVal.value;
t=e.x.baseVal.value,n=e.y.baseVal.value,r=e.width.baseVal.value,i=e.height.baseVal.value,
a=f,o=f,l=f,u=f,c=m,d=m,h=m,v=m}else if("path"===e.localName){var p=s(e).values;t=p[0],
n=p[1],r=p[2],i=p[3],a=p[4],o=p[5],l=p[6],u=p[7],c=void 0===p[8]?a:p[8],d=void 0===p[9]?o:p[9],
h=void 0===p[10]?l:p[10],v=void 0===p[11]?u:p[11]}return[t,n,r,i,a,o,l,u,c,d,h,v];
},k=function(){var e,t,n=body.modKeys,r=n.ctrl,i=n.shift;if(r===!0&&i===!1)_="normal";else if(r===!1&&i===!0)_="symmetric-1234";else if(r===!0&&i===!0)_="symmetric-1234";else{
var a,o,s=S(m),l=(e=s[Symbol.iterator](),(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value,
(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value),u=(t=e.next()).done?void 0:t.value,c=(t=e.next()).done?void 0:t.value,d=(t=e.next()).done?void 0:t.value,h=(t=e.next()).done?void 0:t.value,v=(t=e.next()).done?void 0:t.value,f=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value,g=[];
if("1"===p&&(a=l,o=h),"2"===p&&(a=u,o=v),"3"===p&&(a=c,o=f),"4"===p&&(a=d,o=b),l===a&&h===o&&g.push("1"),
u===a&&v===o&&g.push("2"),c===a&&f===o&&g.push("3"),d===a&&b===o&&g.push("4"),1===g.length)_="normal";else{
_="symmetric-";var y=!0,x=!1,w=void 0;try{for(var k=void 0,C=g[Symbol.iterator]();!(y=(k=C.next()).done);y=!0){
var R=k.value;_+=R}}catch(M){x=!0,w=M}finally{try{y||null==C["return"]||C["return"]();
}finally{if(x)throw w}}}}},C=function(){var e,n,r=x.x-y.x,o=(x.y-y.y,0),s=S(m),u=(e=s[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),v=(n=e.next()).done?void 0:n.value,b=(n=e.next()).done?void 0:n.value,w=(n=e.next()).done?void 0:n.value,k=(n=e.next()).done?void 0:n.value,C=(n=e.next()).done?void 0:n.value,R=(n=e.next()).done?void 0:n.value,M=(n=e.next()).done?void 0:n.value,E=(n=e.next()).done?void 0:n.value,P=(n=e.next()).done?void 0:n.value,A=(n=e.next()).done?void 0:n.value,T=(n=e.next()).done?void 0:n.value;
if("1"===p?o=c[4]+r:"2"===p?o=c[5]-r:"3"===p?o=c[6]-r:"4"===p&&(o=c[7]+r),o=i(o,0,d(b/2,w/2),g),
"normal"===_?"1"===p?(k=o,E=o):"2"===p?(C=o,P=o):"3"===p?(R=o,A=o):"4"===p&&(M=o,
T=o):(_.includes("1")&&(k=o,E=o),_.includes("2")&&(C=o,P=o),_.includes("3")&&(R=o,
A=o),_.includes("4")&&(M=o,T=o)),k===C&&k===R&&k===M&&E===P&&E===A&&E==T){if("path"===m.localName){
var L=m,N=t("svg:rect"),$=!0,O=!1,V=void 0;try{for(var j=void 0,z=L.attributes[Symbol.iterator]();!($=(j=z.next()).done);$=!0){
var I=j.value;"d"!==I.name&&"data-bx-shape"!==I.name&&N.setAttribute(I.name,I.value);
}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]()}finally{if(O)throw V;
}}N.setAttribute("x",u),N.setAttribute("y",v),N.setAttribute("width",b),N.setAttribute("height",w),
N.innerHTML=L.innerHTML,L.replace(N),m=N,f[h]=N,body.canvas.selectedElements=body.canvas.selectedElements.map(function(e){
return e===L?N:e})}var G=a(k,g),B=a(C,g);0===G?m.removeAttribute("rx"):m.setAttribute("rx",G),
0===B?m.removeAttribute("ry"):m.setAttribute("ry",B)}else{if("rect"===m.localName){
var U=m,H=t("svg:path"),F=!0,q=!1,W=void 0;try{for(var Y=void 0,X=U.attributes[Symbol.iterator]();!(F=(Y=X.next()).done);F=!0){
var Z=Y.value;["x","y","width","height","rx","ry"].includes(Z.name)===!1&&H.setAttribute(Z.name,Z.value);
}}catch(K){q=!0,W=K}finally{try{F||null==X["return"]||X["return"]()}finally{if(q)throw W;
}}H.innerHTML=U.innerHTML,U.replace(H),m=H,f[h]=H,body.canvas.selectedElements=body.canvas.selectedElements.map(function(e){
return e===U?H:e})}var J;if(k===E&&C===P&&R===A&&M&&T){var Q=k,ee=C,te=R,ne=M;J=[u,v,b,w,Q,ee,te,ne];
}else J=[u,v,b,w,k,C,R,M,E,P,A,T];J=J.map(function(e){return a(e,g)}),l(m,{type:"rect",
values:J},g)}};v.parentElement.append(v),this._draggedGrippie=v,c=S(m),window.addEventListener("pointermove",r=function(e){
w||(w=!0,body.canvas.undoManager.checkpoint("Round corners")),x=new SVGPoint(e.clientX,e.clientY).matrixTransform(b),
C()}),window.addEventListener("pointerup",o=function(){window.removeEventListener("pointermove",r),
window.removeEventListener("pointerup",o),body.removeEventListener("modkeyschange",u),
n._draggedGrippie=null}),body.addEventListener("modkeyschange",u=function(){k(),C();
}),k()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this._selectedRects[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[h]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=a[h],l=c(o,this),u=void 0,d=void 0,v=void 0,f=void 0,m=void 0,p=void 0,b=void 0,g=void 0;
if("rect"===o.localName)u=o.x.baseVal.value,d=o.y.baseVal.value,v=o.width.baseVal.value,
f=o.height.baseVal.value,m=o.rx.baseVal.value,p=o.rx.baseVal.value,b=o.rx.baseVal.value,
g=o.rx.baseVal.value;else if("path"===o.localName){var y=s(o);u=y.values[0],d=y.values[1],
v=y.values[2],f=y.values[3],m=y.values[4],p=y.values[5],b=y.values[6],g=y.values[7];
}var x=!0,_=!1,w=void 0;try{for(var S=void 0,k=a.children[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){
var C=S.value,R=C.getAttribute("data-corner"),M=void 0;"1"===R&&(M=new SVGPoint(u+m,d)),
"2"===R?M=new SVGPoint(u+v-p,d):"3"===R?M=new SVGPoint(u+v-b,d+f):"4"===R&&(M=new SVGPoint(u+g,d+f));
var E=M.matrixTransform(l);C.setAttribute("cx",E.x),C.setAttribute("cy",E.y)}}catch(P){
_=!0,w=P}finally{try{x||null==k["return"]||k["return"]()}finally{if(_)throw w}}}}catch(A){
t=!0,n=A}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},
_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",6/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedRects:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("rect")&&t.push(s):"rect"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedRects(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),m=n("g","bx-rectanglehud",f);return{get default(){
return m}}}),$traceurRuntime.registerModule("elements/bx-rectangletool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-rectangletool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-rectangletool")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-rectangletool")),a=i.getDistanceBetweenPoints,o=i.getRotationAngleFromPoints,s=i.snapRotationAngle,l=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-rectangletool")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-rectangletool")).setShapeData,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-rectangletool")).reduceTransform),u=Math,c=u.abs,d=u.min,h=(u.sqrt,
u.pow,function(e){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._rectCursor=body.registerCursor("images/cursor-rect.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
return e._onPointerDown(t)})},_onDisabled:function(){body.unregisterCursor(this._rectCursor),
body.unregisterCursor(this._pointerDownRectCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener)},_onPointerDown:function(e){
var t,n,i=this;window.addEventListener("pointermove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n),i._onIntentionalDragStart(e))}),window.addEventListener("pointerup",n=function(){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,u=this,h=body.canvas.currentContainer||body.canvas.currentArtboard,v=body.modKeys.ctrl?"polar":"planar",f=0,m=0,p=0,b=0;
body.canvas.undoManager.checkpoint("Draw Rectangle");var g=t("svg:rect");g.style.setProperty("fill","#d8d8d8"),
h.append(g),body.canvas.selectedElements=[g],this._pointerDownRectCursor=body.registerCursor("images/cursor-rect.svg",900,8,8);
var y=g.getScreenCTM().inverse(),x=g.transform.baseVal.consolidate().matrix.multiply(y);
g.setAttribute("transform",x.toString()),window.addEventListener("pointermove",n=function(t){
if("planar"===v){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1;if(p=c(n),
b=c(r),body.modKeys.shift){var i=d(p,b);p=i,b=i}f=0>n?e.clientX-p:e.clientX,m=0>r?e.clientY-b:e.clientY;
}else if("polar"===v){var l=new SVGPoint(e.clientX,e.clientY),u=new SVGPoint(t.clientX,t.clientY),h=a(l,u),y=new SVGPoint(l.x,l.y-h),_=y.matrixTransform((new SVGMatrix).rotate(-45,l.x,l.y)),w=y.matrixTransform((new SVGMatrix).rotate(45,l.x,l.y)),S=y.matrixTransform((new SVGMatrix).rotate(135,l.x,l.y)),k=a(_,w);
f=e.clientX-k/2,m=e.clientY-k/2,p=k,b=k;var C=o(l,S,u);body.modKeys.shift&&(C=s(C,45));
var R=(new SVGMatrix).rotate(C,l.x,l.y);g.setAttribute("transform",x.multiply(R).toString());
}g.setAttribute("x",f),g.setAttribute("y",m),g.setAttribute("width",p),g.setAttribute("height",b);
}),window.addEventListener("pointerup",r=function(){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),body.removeEventListener("toolchange",i),
body.unregisterCursor(u._pointerDownRectCursor),l(g,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision})}),body.addEventListener("toolchange",i=function(){
return r()})}},{},e)}(HTMLElement)),v=n("bx-rectangletool",h);return{get default(){
return v}}}),$traceurRuntime.registerModule("elements/bx-ringhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ringhud")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ringhud")),r=n.normalize,i=n.round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ringhud")),o=a.getShapeData,s=a.setShapeData,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-ringhud")).throttle,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-ringhud")).getTransformToElement,c=Math,d=c.min,h=c.max,v=Symbol(),f='\n  <style>@import url("stylesheets/bx-ringhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',m=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=l(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=f;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(m){u=!0,c=m}finally{try{
s||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedRings=this._getSelectedRings(),
0===this._selectedRings.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.classList.contains("grippie")&&this._onGrippiePointerDown(e)},_onGrippiePointerDown:function(e){
var t,n,a=this;if(0===e.button){var l,u,c,f=e.target,m=f.parentElement,p=m[v],b=p.getCTM().inverse(),g=new SVGPoint(e.clientX,e.clientY),y=g.matrixTransform(b),x=f.getAttribute("data-axis"),_=new SVGPoint(y.x,y.y),w="normal",S=!1,k=o(p).values,C=(t=k[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),R=(n=t.next()).done?void 0:n.value,M=(n=t.next()).done?void 0:n.value,E=(n=t.next()).done?void 0:n.value,P=(n=t.next()).done?void 0:n.value,A=(n=t.next()).done?void 0:n.value,T=M,L=E,N=P,$=A;
f.parentElement.append(f),this._draggedGrippie=f;var O=function(){var e=body.modKeys,t=e.ctrl,n=e.shift;
t===!0&&n===!1?w="normal":t===!1&&n===!0?w="symmetric":t===!0&&n===!0?w="double-symmetric":("r1x"===x&&M===E?w="symmetric":"r1y"===x&&M===E&&(w="symmetric"),
"r2x"===x&&P===A?w="symmetric":"r2y"===x&&P===A&&(w="symmetric"))},V=function(){var e=_.x-y.x,t=_.y-y.y;
if("r1x"===x){if("normal"===w){var n=1,a=P-1;M=r(T+e,n,a)}else if("symmetric"===w){
var o=1,l=d(P,A)-1,u=r(T+e,o,l);M=E=u}else if("double-symmetric"===w){var c=1,v=1/0,f=P-M,m=r(T+e,c,v),b=m+f;
M=E=m,P=A=b}}else if("r1y"===x){if("normal"===w){var g=1,S=A-1;E=r(L+t,g,S)}else if("symmetric"===w){
var k=1,O=d(P,A)-1,V=r(L+t,k,O);M=E=V}else if("double-symmetric"===w){var j=1,z=1/0,I=A-E,D=r(L+t,j,z),G=D+I;
M=E=D,P=A=G}}else if("r2x"===x){if("normal"===w){var B=M+1,U=1/0;P=r(N+e,B,U)}else if("symmetric"===w){
var H=h(M,E)+1,F=1/0,q=r(N+e,H,F);P=A=q}else if("double-symmetric"===w){var W=P-M,Y=W+1,X=1/0,Z=r(N+e,Y,X),K=Z-W;
M=E=K,P=A=Z}}else if("r2y"===x)if("normal"===w){var J=E+1,Q=1/0;A=r($+t,J,Q)}else if("symmetric"===w){
var ee=h(M,E)+1,te=1/0,ne=r($+t,ee,te);P=A=ne}else if("double-symmetric"===w){var re=A-E,ie=re+1,ae=r($+t,ie,F),oe=ae-re;
M=E=oe,P=A=ae}var se=[C,R,M,E,P,A];se=se.map(function(e){return i(e,body.canvas.geometryPrecision);
}),s(p,{type:"ring",values:se},body.canvas.geometryPrecision)};window.addEventListener("pointermove",l=function(e){
S||(body.canvas.undoManager.checkpoint("Ring radius"),S=!0),_=new SVGPoint(e.clientX,e.clientY).matrixTransform(b),
V()}),window.addEventListener("pointerup",u=function(){window.removeEventListener("pointermove",l),
window.removeEventListener("pointerup",u),body.removeEventListener("modkeyschange",c),
a._draggedGrippie=null}),body.addEventListener("modkeyschange",c=function(){O(),V();
}),O()}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this._selectedRings[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[v]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var l=a.value,c=l[v],d=u(c,this),h=o(c).values,f=(e=h[Symbol.iterator](),(t=e.next()).done?void 0:t.value),m=(t=e.next()).done?void 0:t.value,p=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value,g=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=!0,_=!1,w=void 0;
try{for(var S=void 0,k=l.children[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){
var C=S.value,R=C.getAttribute("data-axis");if("r1x"===R){var M=new SVGPoint(f+p,m).matrixTransform(d);
C.setAttribute("cx",M.x),C.setAttribute("cy",M.y)}else if("r1y"===R){var E=new SVGPoint(f,m+b).matrixTransform(d);
C.setAttribute("cx",E.x),C.setAttribute("cy",E.y)}else if("r2x"===R){var P=new SVGPoint(f+g,m).matrixTransform(d);
C.setAttribute("cx",P.x),C.setAttribute("cy",P.y)}else if("r2y"===R){var A=new SVGPoint(f,m+y).matrixTransform(d);
C.setAttribute("cx",A.x),C.setAttribute("cy",A.y)}}}catch(T){_=!0,w=T}finally{try{
x||null==k["return"]||k["return"]()}finally{if(_)throw w}}}}catch(L){r=!0,i=L}finally{
try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",6/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedRings:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("ring")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedRings(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),p=t("g","bx-ringhud",m);return{get default(){return p;
}}}),$traceurRuntime.registerModule("elements/bx-ringtool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-ringtool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-ringtool")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-ringtool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-ringtool")).round,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-ringtool")),u=(l.getShapeData,
l.setShapeData),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-ringtool")).reduceTransform,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-ringtool"))["default"],h=Math,v=h.abs,f=h.min,m=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._ringCursor=body.registerCursor("images/cursor-ring.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
return e._onPointerDown(t)})},_onDisabled:function(){body.unregisterCursor(this._ringCursor),
body.unregisterCursor(this._pointerDownRingCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener)},_onPointerDown:function(e){
var t,n,i=this;window.addEventListener("pointermove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n),i._onIntentionalDragStart(e))}),window.addEventListener("pointerup",n=function(e){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,l=this,h=body.canvas.currentContainer||body.canvas.currentArtboard,m=body.modKeys.ctrl?"polar":"planar",p=body.canvas,b=p.geometryPrecision,g=p.transformPrecision;
body.canvas.undoManager.checkpoint("Draw Ring Shape"),this._pointerDownRingCursor=body.registerCursor("images/cursor-ring.svg",900,8,8);
var y=0,x=0,_=0,w=0,S=1,k=1,C=t("svg:path");C.style.setProperty("fill","#d8d8d8"),
h.append(C),body.canvas.selectedElements=[C];var R=C.getScreenCTM().inverse(),M=C.transform.baseVal.consolidate().matrix.multiplySelf(R);
C.setAttribute("transform",M.toString()),window.addEventListener("pointermove",n=function(t){
if("planar"===m){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=v(n),l=v(r);
if(body.modKeys.shift){var c=f(i,l);i=c,l=c}var h=0>n?e.clientX-i:e.clientX,p=0>r?e.clientY-l:e.clientY;
y=h+i/2,x=p+l/2,S=i/2,k=l/2,_=.6*S,w=.6*k}else if("polar"===m){var g=new SVGPoint(e.clientX,e.clientY),R=new SVGPoint(g.x,g.y-100),E=new SVGPoint(t.clientX,t.clientY),P=new d(g,E),A=a(g,R,E);
y=g.x,x=g.y,S=P.length,k=P.length,_=.6*S,w=.6*k,body.modKeys.shift&&(A=o(A,45));var T=(new SVGMatrix).rotate(A,g.x,g.y);
C.setAttribute("transform",M.multiply(T).toString())}var L=[y,x,_,w,S,k].map(function(e){
return s(e,b)});u(C,{type:"ring",values:L},b)}),window.addEventListener("pointerup",r=function(){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
body.removeEventListener("toolchange",i),body.unregisterCursor(l._pointerDownRingCursor),
c(C,{geometryPrecision:b,transformPrecision:g})}),body.addEventListener("toolchange",i=function(){
return r()})}},{},e)}(HTMLElement),p=n("bx-ringtool",m);return{get default(){return p;
}}}),$traceurRuntime.registerModule("elements/bx-rubberbandhud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-rubberbandhud")).registerElement,t='\n  <style>@import url("stylesheets/bx-rubberbandhud.css");</style>\n  <rect id="rect" x="0" y="0" width="0" height="0"></rect>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},get enabled(){return this.hasAttribute("enabled")},set enabled(e){
e?this.setAttribute("enabled",""):this.removeAttribute("enabled")},grabSelection:function(e,t){
var n=this;return new Promise(function(r){var i,a,o=n.getScreenCTM(),s=o.inverse(),l=new SVGPoint(e,t),u=l.matrixTransform(s);
n["#rect"].style.setProperty("visibility","visible"),n["#rect"].style.setProperty("vector-effect","non-scaling-stroke");
var c,d,h,v,f=body.registerCursor("default",900);window.addEventListener("pointermove",i=function(e){
var t=new SVGPoint(e.clientX,e.clientY),r=t.matrixTransform(s);h=r.x-u.x,v=r.y-u.y,
0>h?(h=-h,c=u.x-h):c=u.x,0>v?(v=-v,d=u.y-v):d=u.y,n["#rect"].x.baseVal.value=c,n["#rect"].y.baseVal.value=d,
n["#rect"].width.baseVal.value=h,n["#rect"].height.baseVal.value=v}),window.addEventListener("pointerup",a=function(e){
window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",a),
body.unregisterCursor(f),n["#rect"].style.setProperty("visibility","hidden"),n["#rect"].style.removeProperty("vector-effect");
var t=new SVGRect(c,d,h,v);r(t),n["#rect"].x.baseVal.value=0,n["#rect"].y.baseVal.value=0,
n["#rect"].width.baseVal.value=0,n["#rect"].height.baseVal.value=0})})}},{},e)}(SVGGElement),r=e("g","bx-rubberbandhud",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-satlightslider",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/color","elements/bx-satlightslider"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/color","elements/bx-satlightslider")),n=t.hslToHsv,r=t.hsvToHsl,i=(t.colorToString,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-satlightslider")).registerElement),a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-satlightslider")).normalize,o=Number.parseFloat,s='\n  <style>\n    @import url("stylesheets/bx-satlightslider.css");\n  </style>\n\n  <main>\n    <canvas id="canvas" width="800" height="800"></canvas>\n    <div id="marker"></div>\n  </main>\n',l=function(t){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=s;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(l){n=!0,r=l}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#canvas"].addEventListener("pointerdown",function(t){
return e._onPointerDown(t)})},attributeChangedCallback:function(e){"hue"===e?this._onHueAttributeChange():"saturation"===e?this._onSaturationAttributeChange():"lightness"===e&&this._onLightnessAttributeChange();
},get hue(){return this.hasAttribute("hue")?o(this.getAttribute("hue")):0},set hue(e){
this.setAttribute("hue",e)},get saturation(){return this.hasAttribute("saturation")?o(this.getAttribute("saturation")):0;
},set saturation(e){this.setAttribute("saturation",e)},get lightness(){return this.hasAttribute("lightness")?o(this.getAttribute("lightness")):0;
},set lightness(e){this.setAttribute("lightness",e)},_onHueAttributeChange:function(){
this._isDraggingMarker||this._updateCanvas()},_onLightnessAttributeChange:function(){
this._updateMarker()},_onSaturationAttributeChange:function(){this._updateMarker();
},_onPointerDown:function(e){var t,n,r,i,o=this,s=this["#canvas"].getBoundingClientRect(),l=(e.clientX-s.left)/this.clientWidth*100,u=(e.clientY-s.top)/this.clientHeight*100;
this.dispatchEvent(new CustomEvent("markerdragstart")),this._isDraggingMarker=!0,
this._onMarkerDrag(l,u),window.addEventListener("pointermove",r=function(e){e.clientX===t&&e.clientY===n||(t=e.clientX,
n=e.clientY,l=(e.clientX-s.left)/o.clientWidth*100,u=(e.clientY-s.top)/o.clientHeight*100,
l=a(l,0,100,2),u=a(u,0,100,2),o._onMarkerDrag(l,u))}),window.addEventListener("pointerup",i=function(){
window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),
o._isDraggingMarker=!1,o.dispatchEvent(new CustomEvent("markerdragend"))})},_onMarkerDrag:function(e,t){
var n,i;this["#marker"].style.setProperty("left",e+"%"),this["#marker"].style.setProperty("top",t+"%");
var a=r(this.hue,e,100-t),o=(n=a[Symbol.iterator](),(i=n.next()).done?void 0:i.value),s=(i=n.next()).done?void 0:i.value,l=(i=n.next()).done?void 0:i.value;
this.hue===o&&this.saturation===s&&this.lightness===l||(this.hue=o,this.saturation=s,
this.lightness=l,this.dispatchEvent(new CustomEvent("markerdrag")))},_updateCanvas:function(){
var t=this["#canvas"].width,n=this["#canvas"].height,r=this["#canvas"].getContext("2d");
r.clearRect(0,0,t,n);var i=new e(this.hue,100,50,1,"hsla");r.fillStyle=i.toString("hex"),
r.fillRect(0,0,t,n);var a=r.createLinearGradient(0,0,t,0);a.addColorStop(0,"rgba(255,255,255,1)"),
a.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=a,r.fillRect(0,0,t,n);var o=r.createLinearGradient(0,0,0,n);
o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=o,
r.fillRect(0,0,t,n)},_updateMarker:function(){var e,t,r=n(this.hue,this.saturation,this.lightness),i=(e=r[Symbol.iterator](),
(t=e.next()).done?void 0:t.value,(t=e.next()).done?void 0:t.value),a=(t=e.next()).done?void 0:t.value,o=i/100*100,s=100-a/100*100;
this["#marker"].style.setProperty("left",o+"%"),this["#marker"].style.setProperty("top",s+"%");
}},{},t)}(HTMLElement),u=i("bx-satlightslider",l);return{get default(){return u}};
}),$traceurRuntime.registerModule("elements/bx-select",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectitem","elements/bx-select"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-select")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-select")).sleep,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-select"))["default"],r=Number.parseFloat,i=(Object.values,
'\n  <style>\n    @import url("stylesheets/scrollbars.css");\n    @import url("stylesheets/bx-select.css");\n  </style>\n\n  <div id="button">\n    <img id="thumbnail"></img>\n    <div id="label">None</div>\n\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use href="images/icons.svg#select-arrows" width="100" height="100"></use>\n    </svg>\n  </div>\n\n  <div id="overlay"></div>\n\n  <div id="popup" style="visibility: hidden"">\n    <content></content>\n  </div>\n'),a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this.tabIndex=0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("focus",function(t){
return e._onFocus()}),this.addEventListener("blur",function(t){return e._onBlur();
}),this.addEventListener("keydown",function(t){return e._onKeyDown(t)}),this.addEventListener("thumbnailchange",function(t){
return e._onItemThumbnailChange(t)}),this["#overlay"].addEventListener("pointerdown",function(t){
return e._onOverlayPointerDown(t)}),this["#button"].addEventListener("click",function(t){
return e._onButtonClick(t)}),this["#popup"].addEventListener("click",function(t){
return e._onPopupElementClick(t)}),this["#popup"].addEventListener("pointerover",function(t){
return e._onPopupPointerOver(t)}),this["#popup"].addEventListener("pointerout",function(t){
return e._onPopupPointerOut(t)}),this["#popup"].addEventListener("wheel",function(t){
return e._onPopupWheel(t)}),this["#popup"].addEventListener("scroll",function(t){
return e._onPopupScroll(t)})},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"disabled"===e&&this._onDisabledAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):null},
set value(e){null===e?this.removeAttribute("value"):this.setAttribute("value",e)},
get mixed(){return this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onValueAttributeChange:function(){var e=this,t=$traceurRuntime.spread(this.querySelectorAll("bx-selectitem")),n=null===this.value?null:t.find(function(t){
return t.getAttribute("value")===e.value});if(n){n.setAttribute("checked",""),this["#label"].textContent=n.getAttribute("label"),
n.thumbnail?(this["#thumbnail"].style.setProperty("display","block"),this["#thumbnail"].src=n.thumbnail):this["#thumbnail"].style.setProperty("display","none");
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l!==n&&l.removeAttribute("checked")}}catch(u){i=!0,a=u}finally{try{
r||null==s["return"]||s["return"]()}finally{if(i)throw a}}}else{this["#label"].textContent="None",
this["#thumbnail"].style.setProperty("display","none");var c=!0,d=!1,h=void 0;try{
for(var v=void 0,f=t[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
m.removeAttribute("checked")}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]();
}finally{if(d)throw h}}}},_onDisabledAttributeChange:function(){this.tabIndex=this.disabled?-1:0;
},_onFocus:function(){var e=this,t=this._getItemWithValue(this.value)||this.querySelector("bx-selectitem");
if(!t)return void this.blur();this["#popup"].style.setProperty("pointer-events","all"),
this["#popup"].style.setProperty("visibility","visible"),this["#popup"].style.setProperty("height","auto"),
this["#popup"].style.setProperty("left","0px"),this["#popup"].style.setProperty("top","0px"),
this["#popup"].style.removeProperty("overflow"),this["#popup"].scrollTop=0,this["#overlay"].style.setProperty("display","block");
var n=t.getLabelBoundingClientRect(),i=this["#label"].getBoundingClientRect(),a=this["#button"].getBoundingClientRect(),o=i.left-n.left,s=i.top-n.top,l=a.right-o+3;
this["#popup"].style.setProperty("left",o+"px"),this["#popup"].style.setProperty("top",s+"px"),
this["#popup"].style.setProperty("width",l+"px");var u=this["#popup"].getBoundingClientRect();
if(u.top<0){var c=(r(this["#popup"].style.getPropertyValue("top")),u.height+u.top-5);
this["#popup"].style.setProperty("height",c+"px"),this["#popup"].style.setProperty("top","5px"),
this["#popup"].scrollTop=9999}u=this["#popup"].getBoundingClientRect();var d=!1;if(u.bottom+5>window.innerHeight){
d=!0;var h=u.bottom-window.innerHeight,v=u.height-h-5;this["#popup"].style.setProperty("height",v+"px");
}t.disabled===!1&&this._highlightItem(t),window.addEventListener("resize",this._windowResizeListener=function(){
return e.blur()})},_onBlur:function(){this["#overlay"].style.setProperty("display","none"),
this["#popup"].style.setProperty("visibility","hidden"),window.removeEventListener("resize",this._windowResizeListener);
},_onKeyDown:function(e){var t=n.fromEvent(e);t.matches("ArrowUp")?(e.preventDefault(),
this._highlightPreviousItem()):t.matches("ArrowDown")?(e.preventDefault(),this._highlightNextItem()):t.matches("Control","ArrowUp")?(e.preventDefault(),
this._highlightFirstItem()):t.matches("Control","ArrowDown")?(e.preventDefault(),
this._highlightLastItem()):t.matches("Enter")&&(e.preventDefault(),this._selectHighlightedItem());
},_onItemThumbnailChange:function(e){var t=e.target;t.value===this.value&&(t.thumbnail?(this["#thumbnail"].src=t.thumbnail,
this["#thumbnail"].style.setProperty("display","block")):this["#thumbnail"].style.setProperty("display","none"));
},_onButtonClick:function(e){var t=this["#popup"].style.getPropertyValue("visibility");
"visible"===t?this.blur():this.focus()},_onOverlayPointerDown:function(e){e.preventDefault(),
this.blur()},_onPopupElementClick:function(e){"bx-selectitem"==e.target.localName&&0===e.button&&this._onSelectItemClick(e.target);
},_onSelectItemClick:function(e){var n;return $traceurRuntime.asyncWrap(function(r){
for(;;)switch(r.state){case 0:r.state=e.disabled===!1?5:-2;break;case 5:this["#popup"].style.setProperty("pointer-events","none"),
e.highlighted=!e.highlighted,r.state=6;break;case 6:return void Promise.resolve(t(100)).then(r.createCallback(2),r.errback);
case 2:e.highlighted=!e.highlighted,r.state=8;break;case 8:return void Promise.resolve(t(100)).then(r.createCallback(4),r.errback);
case 4:n=e.value!==this.value,this.value=e.value,this.blur(),(n||this.mixed)&&this.dispatchEvent(new CustomEvent("change")),
r.state=-2;break;default:return r.end()}},this)},_onPopupPointerOver:function(e){
"bx-selectitem"===e.target.localName&&this._onSelectItemPointerEnter(e.target)},_onPopupPointerOut:function(e){
e.toElement!==this&&this._highlightItem(null)},_onPopupWheel:function(e){e.preventDefault(),
this._scroll(e.deltaY)},_onPopupScroll:function(e){e.stopImmediatePropagation(),e.preventDefault();
},_onSelectItemPointerEnter:function(e){e.disabled===!1&&this._highlightItem(e)},
_scroll:function(e){var t=this["#popup"],n=t.scrollTop+t.offsetHeight<=t.scrollHeight,i=t.scrollTop>0;
if((!(0>e)||i)&&(!(e>0)||n)){var a=r(t.style.getPropertyValue("top")),o=r(t.style.getPropertyValue("height"));
if(e>0)if(a-e>5){o+e+10>window.innerHeight&&(e=window.innerHeight-o-10),o+e>t.scrollHeight&&(e=t.scrollHeight-o,
t.style.setProperty("overflow","hidden"));var s=o+e,l=a-e;t.style.setProperty("height",s+"px"),
t.style.setProperty("top",l+"px"),t.scrollTop=0}else if(o+e+10>window.innerHeight){
var u=window.innerHeight-10,c=u-o;t.style.setProperty("height",u+"px"),t.style.setProperty("top","5px"),
t.scrollTop+=e-c}else t.scrollTop+=e;else if(0>e){var d=window.innerHeight-o-a;if(d>5)if(window.innerHeight-o+e-10<0){
var h=window.innerHeight-10,v=h-o;t.style.setProperty("height",h+"px"),t.scrollTop+=e+v;
}else if(o-e>t.scrollHeight)t.style.setProperty("overflow","hidden"),t.style.setProperty("height",t.scrollHeight+"px");else{
var f=o-e;t.style.setProperty("height",f+"px")}else t.scrollTop+=e}}},_highlightItem:function(e){
if(null===e)this._highlightedItem&&(this._highlightedItem.highlighted=!1);else{this._highlightedItem&&this._highlightedItem!==e&&(this._highlightedItem.highlighted=!1,
this._highlightedItem=null),e.highlighted=!0,this._highlightedItem=e;var t=(e.offsetTop,
this["#popup"].clientHeight,e.clientHeight,e.getBoundingClientRect()),n=this["#popup"].getBoundingClientRect();
if(t.bottom>n.bottom){var r=t.bottom-n.bottom;this._scroll(r)}else if(t.top<n.top){
var i=t.top-n.top;this._scroll(i)}}},_highlightPreviousItem:function(){for(var e=this.querySelectorAll("bx-selectitem:not([disabled])"),t=null,n=0;n<e.length;n+=1){
var r=e[n];if(r.highlighted){t=n;break}}if(0!==t)if(null===t){var i=e[e.length-1];
this._highlightItem(i)}else{var a=e[t-1];this._highlightItem(a)}},_highlightNextItem:function(){
for(var e=this.querySelectorAll("bx-selectitem:not([disabled])"),t=null,n=0;n<e.length;n+=1){
var r=e[n];if(r.highlighted){t=n;break}}if(t!==e.length-1)if(null===t){var i=e[0];
this._highlightItem(i)}else{var a=e[t+1];this._highlightItem(a)}},_highlightFirstItem:function(){
var e=this.querySelector("bx-selectitem:not([disabled])");e&&this._highlightItem(e);
},_highlightLastItem:function(){var e=this.querySelectorAll("bx-selectitem:not([disabled])");
if(e.length>0){var t=e[e.length-1];this._highlightItem(t)}},_selectHighlightedItem:function(){
var e=this.querySelector("bx-selectitem[highlighted]");e&&(this.value=e.value),this.blur(),
this.dispatchEvent(new CustomEvent("change"))},_getItemWithValue:function(e){var t=null,n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=this.querySelectorAll("bx-selectitem")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(s.value===e){t=s;break}}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return t}},{},e)}(HTMLElement),o=e("bx-select",a);return{get default(){
return o}}}),$traceurRuntime.registerModule("elements/bx-selectitem",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-selectitem")).registerElement,t='\n  <style>@import url("stylesheets/bx-selectitem.css");</style>\n\n  <main>\n    <svg id="icon" viewBox="0 0 100 100" preserveAspectRatio="none">\n      <use id="icon-use" width="100" height="100"></use>\n    </svg>\n\n    <img id="thumbnail"></img>\n    <div id="label"></div>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"label"===e?this._onLabelAttributeChange():"checked"===e&&this._onCheckedAttributeChange();
},get value(){return this.hasAttribute("value")?this.getAttribute("value"):""},set value(e){
this.setAttribute("value",e)},get label(){return this.hasAttribute("label")?this.getAttribute("label"):"";
},set label(e){this.setAttribute("label",e)},get checked(){return this.hasAttribute("checked");
},set checked(e){e===!0?this.setAttribute("checked",""):this.removeAttribute("checked");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(e){null===e?this["#thumbnail"].removeAttribute("src"):this["#thumbnail"].setAttribute("src",e),
this.dispatchEvent(new CustomEvent("thumbnailchange",{bubbles:!0}))},getLabelBoundingClientRect:function(){
return this["#label"].getBoundingClientRect()},_onLabelAttributeChange:function(){
this["#label"].textContent=this.label},_onCheckedAttributeChange:function(){this["#icon-use"].href.baseVal=this.checked?"images/icons.svg#check-mark":"";
}},{},e)}(HTMLElement),r=e("bx-selectitem",n);return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-shortcutseditor",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-shortcutseditorrow","elements/bx-shortcutseditor"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-shortcutseditor")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-shortcutseditor"))["default"],i=function(e){
return"string"==typeof e},a='\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-shortcutseditor.css");</style>\n\n  <main>\n    <header>\n      <div>Command</div>\n      <div>Shortcut</div>\n    </header>\n\n    <div id="rows"></div>\n  </main>\n',o=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e,t,n,r,i,o,s;return $traceurRuntime.asyncWrap(function(l){
for(;;)switch(l.state){case 0:e=this,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=a,t=!0,n=!1,r=void 0;try{for(i=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)s=i.value,
this["#"+s.id]=s}catch(u){n=!0,r=u}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}this.addEventListener("keydown",function(t){return e._onKeyDown(t);
}),this["#rows"].addEventListener("change",function(t){return e._onRowChange(t)}),
this["#rows"].addEventListener("focusin",function(t){return e._onRowFocusIn(t)}),
body.bridge.postMessage("getShortcutsEditorModel",null,function(t){return e._onModelReady(t);
}),l.state=-2;break;default:return l.end()}},this)},attachedCallback:function(){var e=this;
body.addEventListener("configchange",this._configChangeListener=function(t){return e._onConfigChange(t);
})},detachedCallback:function(){body.removeEventListener("configchange",this._configChangeListener);
},_onConfigChange:function(e){var t=e.detail,n=t.key,a=t.value;if("bx-shortcutseditor:userShortcuts"===n){
var o=a,s=!0,l=!1,u=void 0;try{for(var c=void 0,d=this["#rows"].children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=o[h.commandID];h.userShortcut=i(v)?r.fromString(v):null}}catch(f){
l=!0,u=f}finally{try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._markConflictingRows();
}},_onModelReady:function(e){var n,a,o,s,l,u,c,d,h,v,f,m;return $traceurRuntime.asyncWrap(function(p){
for(;;)switch(p.state){case 0:h=body.getConfig,v=h.call(body,"bx-shortcutseditor:userShortcuts"),
p.state=5;break;case 5:return void Promise.resolve(v).then(p.createCallback(3),p.errback);
case 3:f=p.value,p.state=2;break;case 2:m=f?f:{},n=m,p.state=7;break;case 7:a=!0,
o=!1,s=void 0;try{for(l=void 0,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)c=l.value,
d=t("bx-shortcutseditorrow"),d.commandID=c.id,d.label=c.label,d.defaultShortcut=i(c.shortcut)?r.fromString(c.shortcut):null,
d.userShortcut=i(n[c.id])?r.fromString(n[c.id]):null,this["#rows"].append(d)}catch(b){
o=!0,s=b}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}this._markConflictingRows(),
p.state=-2;break;default:return p.end()}},this)},_onRowChange:function(e){var t,n,r,i,a,o,s,l;
return $traceurRuntime.asyncWrap(function(u){for(;;)switch(u.state){case 0:e.stopPropagation(),
t=e.target,n=t.commandID,r=t.userShortcut,u.state=9;break;case 9:a=body.getConfig,
o=a.call(body,"bx-shortcutseditor:userShortcuts"),u.state=5;break;case 5:return void Promise.resolve(o).then(u.createCallback(3),u.errback);
case 3:s=u.value,u.state=2;break;case 2:l=s?s:{},i=l,u.state=7;break;case 7:null===r?delete i[n]:i[n]=r.toString(),
body.setConfig("bx-shortcutseditor:userShortcuts",i),u.state=-2;break;default:return u.end();
}},this)},_onRowFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#rows"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}},_onKeyDown:function(e){e.preventDefault();var t=r.fromEvent(e);
if(t.matches("ArrowUp")){var n=this._shadowRoot.querySelector(":focus");n.previousElementSibling&&n.previousElementSibling.focus();
}else if(t.matches("ArrowDown")){var i=this._shadowRoot.querySelector(":focus");i.nextElementSibling&&i.nextElementSibling.focus();
}},_markConflictingRows:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#rows"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!1;if(a.shortcut&&a.shortcut.isVoid()===!1){var s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=this["#rows"].children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value;if(h!==a&&h.shortcut&&null!==h.shortcut.base&&a.shortcut.compare(h.shortcut)===!0){
o=!0;break}}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]()}finally{
if(l)throw u}}}a.conflicting=o}}catch(f){t=!0,n=f}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}}},{},e)}(HTMLElement),s=n("bx-shortcutseditor",o);return{
get default(){return s}}}),$traceurRuntime.registerModule("elements/bx-shortcutseditorrow",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-shortcutseditorrow")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-shortcutseditorrow"))["default"],r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"],i='\n  <style>@import url("stylesheets/bx-shortcutseditorrow.css");</style>\n\n  <main>\n    <div id="label"></div>\n    <div id="shortcut-preview"></div>\n\n    <div id="buttons">\n      <bx-button\n        id="clear-button"\n        icon="clear-shortcut"\n        iconsize="12"\n        title="Clear"\n        skin="bx-shortcutseditorrow">\n      </bx-button>\n\n      <bx-button\n        id="reset-button"\n        icon="reset-shortcut"\n        iconsize="12"\n        title="Reset to default shortcut"\n        skin="bx-shortcutseditorrow">\n      </bx-button>\n    </div>\n  </main>\n',a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this.tabIndex=0,this._userShortcut=null,this._defaultShortcut=null,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=i;
var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this._shadowRoot.addEventListener("click",function(t){
return e._onClick(t)}),this.addEventListener("keydown",function(t){return e._onKeyDown(t);
}),this.addEventListener("blur",function(){return e._onBlur()}),body.bridge.postMessage("getBackendName",null,function(t){
return e._backendName=t})},attributeChangedCallback:function(e){"commandid"===e?this._update():"label"===e?this._updateLabel():"editable"===e&&this._update();
},get commandID(){return this.hasAttribute("commandid")?this.getAttribute("commandid"):null;
},set commandID(e){e?this.setAttribute("commandid",e):this.removeAttribute("commandid");
},get label(){return this.hasAttribute("label")?this.getAttribute("label"):""},set label(e){
this.setAttribute("label",e)},get editable(){return this.hasAttribute("editable");
},set editable(e){e?this.setAttribute("editable",""):this.removeAttribute("editable");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get conflicting(){return this.hasAttribute("conflicting")},set conflicting(e){e?this.setAttribute("conflicting",""):this.removeAttribute("conflicting");
},get userShortcut(){return this._userShortcut},set userShortcut(e){this._userShortcut=e,
this._updateShortcutPreview(),this._updateButtons()},get defaultShortcut(){return this._defaultShortcut;
},set defaultShortcut(e){this._defaultShortcut=e,this._updateShortcutPreview(),this._updateButtons();
},get shortcut(){return this._userShortcut||this._defaultShortcut||null},_update:function(){
this._updateLabel(),this._updateShortcutPreview(),this._updateButtons()},_updateLabel:function(){
this["#label"].textContent=this.label},_updateShortcutPreview:function(){this.editable===!0?this["#shortcut-preview"].textContent="Press new shortcut":this.editable===!1&&(this.userShortcut?(this["#shortcut-preview"].textContent=this.userShortcut.toDisplayString(),
this["#shortcut-preview"].classList.add("user-shortcut")):(this["#shortcut-preview"].textContent=this.defaultShortcut?this.defaultShortcut.toDisplayString():"",
this["#shortcut-preview"].classList.remove("user-shortcut")))},_updateButtons:function(){
this.userShortcut?this["#reset-button"].hidden=!1:this["#reset-button"].hidden=!0,
null===this.shortcut||this.shortcut.isVoid()?this["#clear-button"].hidden=!0:this["#clear-button"].hidden=!1;
},_onKeyDown:function(e){var t=n.fromEvent(e);if(this.editable)if(e.preventDefault(),
e.stopPropagation(),t.matches("Backspace")||t.matches("Escape")||t.matches("Enter"))this.editable=!1;else{
if(t.meta&&"electron"===this._backendName)return;t.base&&r.includes(t.toString())===!1&&(this.userShortcut&&t.matches(this.userShortcut)?this.editable=!1:this.defaultShortcut&&t.matches(this.defaultShortcut)?(this.userShortcut=null,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.editable=!1):(this.userShortcut=t,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.editable=!1))}else t.matches("Enter")?this.editable=!0:t.matches("Backspace")&&(this.userShortcut?(this.userShortcut=null,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):this.defaultShortcut&&(this.userShortcut=new n,
this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))},_onClick:function(e){
0===e.button&&(e.target===this["#clear-button"]?this._onClearButtonClick(e):e.target===this["#reset-button"]?this._onResetButtonClick(e):2===e.detail&&(this.editable=!0));
},_onClearButtonClick:function(e){this.userShortcut=new n,this.dispatchEvent(new CustomEvent("change",{
bubbles:!0}))},_onResetButtonClick:function(e){this.userShortcut=null,this.dispatchEvent(new CustomEvent("change",{
bubbles:!0}))},_onBlur:function(){this.editable=!1}},{},e)}(HTMLElement),o=t("bx-shortcutseditorrow",a);
return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-slider",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-contextmenu","elements/bx-slider")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-menuitem","elements/bx-slider"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-slider"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/undo-manager","elements/bx-slider"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-slider")).registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-slider")),i=r.normalize,a=r.round,o=r.countDecimalPlaces,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-slider")).debounce,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/type","elements/bx-slider")),u=l.isNumeric,c=l.isNumber,d=Math.pow,h=Number,v=h.isFinite,f=h.parseFloat,m=(Object.entries,
'\n  <style id="skin-style">@import url("stylesheets/bx-slider.css");</style>\n\n  <main>\n    <input id="input" type="text" spellcheck="false" value="0" tabindex="0"></input>\n    <div id="bar"></div>\n\n    <bx-contextmenu id="context-menu">\n      <bx-menuitem commandid="cut" label="Cut"></bx-menuitem>\n      <bx-menuitem commandid="copy" label="Copy"></bx-menuitem>\n      <bx-menuitem commandid="paste" label="Paste"></bx-menuitem>\n    </bx-contextmenu>\n  </main>\n'),p=function(n){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={selectAll:{exec:function(){return e["#input"].select();
}},copy:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._copyInputValue()}},cut:{enabled:function(){return e["#input"].selectionStart!==e["#input"].selectionEnd;
},exec:function(){return e._cutInputValue()}},paste:{exec:function(){return e._pasteInputValue();
}},undo:{enabled:function(){return e._undoManager.canUndo()},exec:function(){return e._undoManager.undo();
}},redo:{enabled:function(){return e._undoManager.canRedo()},exec:function(){return e._undoManager.redo();
}}},this._undoManager=new t,this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=m;var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(p){c=!0,d=p}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("pointerdown",function(t){
return e._onPointerDown(t)}),this.addEventListener("contextmenu",function(t){return e._onContextMenu(t);
}),this["#input"].addEventListener("focus",function(t){return e._onInputFocus(t)}),
this["#input"].addEventListener("keydown",function(t){return e._onInputKeyDown(t);
}),this["#input"].addEventListener("wheel",function(t){return e._onInputWheel(t)}),
this["#context-menu"].addEventListener("menuitemtrigger",function(t){return e._onContextMenuItemTrigger(t);
}),this["#context-menu"].menuWillShow=function(t){return e._menuWillShow(t)},this["#context-menu"].menuItemWillTrigger=function(t){
return e._menuItemWillTrigger(t)}},attributeChangedCallback:function(e){"value"===e?this._onValueAttributeChange():"skin"===e?this._onSkinAttributeChange():"disabled"===e?this._onDisabledAttributeChange():"before"===e?this._onBeforeAttributeChange():"after"===e&&this._onAfterAttributeChange();
},get value(){return this.hasAttribute("value")?f(this.getAttribute("value")):this.min!==-(1/0)?this.min:0;
},set value(e){this.setAttribute("value",e)},get min(){return this.hasAttribute("min")?f(this.getAttribute("min")):-(1/0);
},set min(e){c(e)?this.setAttribute("min",e):this.removeAttribute("min")},get max(){
return this.hasAttribute("max")?f(this.getAttribute("max")):1/0},set max(e){c(e)?this.setAttribute("max",e):this.removeAttribute("max");
},get before(){return this.hasAttribute("before")?this.getAttribute("before"):""},
set before(e){null===e?this.removeAttribute("before"):this.setAttribute("before",e);
},get after(){return this.hasAttribute("after")?this.getAttribute("after"):""},set after(e){
null===e?this.removeAttribute("after"):this.setAttribute("after",e)},get mixed(){
return this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get precision(){return this.hasAttribute("precision")?f(this.getAttribute("precision")):2;
},set precision(e){this.setAttribute("precision",e)},get step(){return this.hasAttribute("step")?f(this.getAttribute("step")):a(d(.1,this.precision),this.precision);
},set step(e){this.setAttribute("step",step)},get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;
},set skin(e){null===e?this.removeAttribute("skin"):this.setAttribute("skin",e)},
get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},validate:function(e){return u(e)},_onValueAttributeChange:function(){var e=this["#input"].matches(":focus");
this["#input"].value=e?this.value:this._serializeValue(this.value),this._updateBar(),
this._updateInputValidity()},_onSkinAttributeChange:function(){var e=this.skin?"bx-slider@"+this.skin+".css":"bx-slider.css";
this["#skin-style"].innerText='@import url("stylesheets/'+e+'"'},_onDisabledAttributeChange:function(){
this["#input"].tabIndex=this.disabled?-1:0},_onBeforeAttributeChange:function(){var e=this["#input"].matches(":focus");
e===!1&&(this["#input"].value=this._serializeValue(this.value))},_onAfterAttributeChange:function(){
var e=this["#input"].matches(":focus");e===!1&&(this["#input"].value=this._serializeValue(this.value));
},_onPointerDown:function(e){var t=this;if(0!==e.button)e.preventDefault();else if(this["#input"].matches(":focus")===!1){
e.preventDefault();var n,r,a,o=1,s=this.value,l=s,u=(this["#bar"].clientWidth,this.value),c=null,d=null,h=!1;
a=v(this.min)&&v(this.max)?(this.max-this.min)/this.clientWidth:this.step,c=body.registerCursor("col-resize",100),
window.addEventListener("pointermove",n=function(n){if(n.clientX!==d){d=n.clientX;
var r=n.clientX-e.clientX;if(h===!1){if(r>=-o&&o>=r)return;h=!0,t.dispatchEvent(new CustomEvent("changestart"));
}-o>r?r+=o:r>o&&(r-=o);var u=s+r*a;u=i(u,t.min,t.max,t.precision),t.value=u,u!==l&&(l=u,
t.dispatchEvent(new CustomEvent("change")))}}),window.addEventListener("pointerup",r=function(){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
body.unregisterCursor(c),h===!0?(h=!1,t.dispatchEvent(new CustomEvent("changeend",{
detail:t.value!==u}))):(t["#input"].focus(),t["#input"].select())})}},_onInputFocus:function(e){
var t,n,r,a=this,o=this.value,l=this.value;body.bridge.postMessage("toggleTextInputMode",!0),
this["#input"].value=this.value,this._hideBar(),this._updateInputValidity(),this.dispatchEvent(new CustomEvent("changestart")),
this["#input"].addEventListener("input",t=function(){a._updateInputValidity()}),this["#input"].addEventListener("input",n=s(function(){
var e=l,t=a["#input"].value;l=a["#input"].value,a._undoManager.register({label:"Typing",
undo:function(){a["#input"].value=l=e,a._updateInputValidity(),a["#input"].select();
},redo:function(){a["#input"].value=l=t,a._updateInputValidity(),a["#input"].select();
}})},250,this)),this.addEventListener("blur",r=function(e){a["#input"].removeEventListener("input",t),
a["#input"].removeEventListener("input",n),a.removeEventListener("blur",r),body.bridge.postMessage("toggleTextInputMode",!1),
a._undoManager.reset();var s=f(a["#input"].value);s=i(s,a.min,a.max,9);var l=a.validate(f(a["#input"].value))===!0,u=s!==o;
(l&&u===!0||u===!1&&a.mixed===!0)&&(a.value=s,a.dispatchEvent(new CustomEvent("change"))),
a["#input"].value=a._serializeValue(a.value),a.dispatchEvent(new CustomEvent("changeend",{
detail:u})),a._showBar()})},_onInputKeyDown:function(t){var n=e.fromEvent(t);n.matches("Enter")?(this._confirmInputChange(),
t.preventDefault(),t.stopPropagation()):n.matches("Escape")?(this._cancelInputChange(),
t.preventDefault(),t.stopPropagation()):n.matches("ArrowUp")?(this._changeInputValueByStep(this.step),
t.preventDefault(),t.stopPropagation()):n.matches("ArrowDown")?(this._changeInputValueByStep(-this.step),
t.preventDefault(),t.stopPropagation()):n.matches("Shift","ArrowUp")?(this._changeInputValueByStep(10*this.step),
t.preventDefault(),t.stopPropagation()):n.matches("Shift","ArrowDown")?(this._changeInputValueByStep(10*-this.step),
t.preventDefault(),t.stopPropagation()):(n.matches("Backspace")||n.matches("ArrowLeft")||n.matches("Shift","ArrowLeft")||n.matches("ArrowRight")||n.matches("Shift","ArrowRight"))&&t.stopPropagation();
},_onInputWheel:function(e){var t=(this.value,Math.abs(e.deltaX)>Math.abs(e.deltaY)?"x":"y"),n="x"===t?e.deltaX:e.deltaY;
"x"===t?0>n?this._changeInputValueByStep(-this.step):n>0&&this._changeInputValueByStep(this.step):"y"===t&&(0>n?this._changeInputValueByStep(this.step):n>0&&this._changeInputValueByStep(-this.step)),
e.preventDefault(),e.stopPropagation()},_onWheelDebounced:function(){console.log("on wheel debounced");
},_onContextMenu:function(e){e.preventDefault(),this["#input"].focus(),this["#input"].select(),
this["#context-menu"].open(e.clientX,e.clientY)},_onContextMenuItemTrigger:function(e){
var t=e.detail,n=this.commands[t.commandID];n&&n.exec()},_menuWillShow:function(e){
var t=this;return new Promise(function(n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t._validateMenuItem(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}n()})},_menuItemWillTrigger:function(e){this._validateMenuItem(e);
},_validateMenuItem:function(e){var t=this;return new Promise(function(n){var r=e.commandID||null,i=r?t.commands[r]:null;
i&&(e.disabled=i.enabled?!i.enabled():!1),n()})},_serializeValue:function(e){var t;
return t=o(e)<this.precision?e.toFixed(this.precision):e.toString(),t=this.before+t+this.after;
},_changeInputValueByStep:function(e){if(u(this["#input"].value)){var t=f(this["#input"].value)+e;
t=i(t,this.min,this.max,this.precision),this["#input"].value=t.toFixed(this.precision),
this["#input"].select(),this["#input"].dispatchEvent(new Event("input",{bubbles:!0
}))}},_updateInputValidity:function(){this.validate(this["#input"].value)===!0?this["#input"].setCustomValidity(""):this["#input"].setCustomValidity("Invalid value");
},_confirmInputChange:function(){this.blur()},_cancelInputChange:function(){this["#input"].value=this.value,
this.blur()},_showBar:function(){this["#bar"].style.removeProperty("visibility"),
this._updateBar()},_hideBar:function(){this["#bar"].style.setProperty("visibility","hidden");
},_updateBar:function(){if(v(this.min)&&v(this.max)){var e=(this.value-this.min)/(this.max-this.min)*100;
this["#bar"].style.setProperty("width",e+"%")}},_copyInputValue:function(){var e=this["#input"].value.substring(this["#input"].selectionStart,this["#input"].selectionEnd);
body.bridge.postMessage("setClipboardData",{"text/plain":e})},_pasteInputValue:function(){
var e=this;body.bridge.postMessage("getClipboardData",null,function(t){if(t["text/plain"]){
var n=e["#input"].selectionStart,r=e["#input"].selectionEnd,i=t["text/plain"],a=e["#input"].value.substring(0,n),o=e["#input"].value.substring(r,e["#input"].value.length);
e["#input"].value=a+i+o,e["#input"].setSelectionRange(n+i.length,n+i.length),e["#input"].dispatchEvent(new Event("input",{
bubbles:!0}))}})},_cutInputValue:function(){var e=this["#input"].selectionStart,t=this["#input"].selectionEnd,n=this["#input"].value.substring(e,t),r=this["#input"].value.substring(0,e),i=this["#input"].value.substring(t,this["#input"].value.length);
this["#input"].value=r+i,this["#input"].setSelectionRange(e,e),this["#input"].dispatchEvent(new Event("input",{
bubbles:!0})),body.bridge.postMessage("setClipboardData",{"text/plain":n})}},{},n);
}(HTMLElement),b=n("bx-slider",p);return{get default(){return b}}}),$traceurRuntime.registerModule("elements/bx-starhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-starhud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-starhud")),n=t.getNearestPointOnLine,r=t.getPointBetweenTwoPoints,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-starhud")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-starhud")),o=a.getShapeData,s=a.setShapeData,l=a.getStarShapeVertexPoint,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-starhud")).throttle,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-starhud")).getTransformToElement,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-starhud"))["default"],h=Math,v=h.sin,f=h.cos,m=h.PI,p=Symbol(),b='\n  <style>@import url("stylesheets/bx-starhud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie vertex-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',g=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=u(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=b;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,c=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedStars=this._getSelectedStars(),
0===this._selectedStars.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.matches(".vertex-grippie")?this._onVertexGrippiePointerDown(e):e.target.matches(".arms-grippie")&&this._onArmsGrippiePointerDown(e);
},_onVertexGrippiePointerDown:function(e){var t,a,u=this;if(0===e.button){var c,h,b=e.target,g=b.parentElement,y=g[p],x=y.getCTM().inverse(),_=o(y).values,w=(t=_[Symbol.iterator](),
(a=t.next()).done?void 0:a.value),S=(a=t.next()).done?void 0:a.value,k=(a=t.next()).done?void 0:a.value,C=(a=t.next()).done?void 0:a.value,R=(a=t.next()).done?void 0:a.value,M=(a=t.next()).done?void 0:a.value,E=new SVGPoint(e.clientX,e.clientY),P=E.matrixTransform(x),A=new SVGPoint(w,S),T=l(0,w,S,k,C,R,M),L=l(1,w,S,k,C,R,M),N=l(2,w,S,k,C,R,M),$=L,O=!1;
b.parentElement.append(b),this._draggedGrippie=b,window.addEventListener("pointermove",c=function(e){
var t,a;O===!1&&(O=!0,body.canvas.undoManager.checkpoint("Inner star radius"));var o=new SVGPoint(e.clientX,e.clientY),l=o.matrixTransform(x),u=new d($,P),c=u.getOppositeVector().transformPoint(l),h=2*m*(1/M/2)-m/2,p=A,b=new SVGPoint(k*f(h)+w,C*v(h)+S),g=r(T,N),_=(t=n(p,g,c,!1)[Symbol.iterator](),
(a=t.next()).done?void 0:a.value);R=new d(p,_).length/new d(p,b).length,R=i(R,body.canvas.geometryPrecision),
s(y,{type:"star",values:[w,S,k,C,R,M]},body.canvas.geometryPrecision)}),window.addEventListener("pointerup",h=function(){
window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",h),
u._draggedGrippie=null})}},_onArmsGrippiePointerDown:function(e){var t,n,r=this;if(0===e.button){
var a,l,u=e.target,c=u.parentElement,d=c[p],h=o(d).values,v=(t=h[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),f=(n=t.next()).done?void 0:n.value,m=(n=t.next()).done?void 0:n.value,b=(n=t.next()).done?void 0:n.value,g=(n=t.next()).done?void 0:n.value,y=(n=t.next()).done?void 0:n.value,x=y,_=!1;
u.parentElement.append(u),this._draggedGrippie=u,window.addEventListener("pointermove",a=function(t){
var n=i((t.clientX-e.clientX)/10,0);y=x+n,3>y&&(y=3),_===!1&&y!==x&&(body.canvas.undoManager.checkpoint("Change number of star arms"),
_=!0),s(d,{type:"star",values:[v,f,m,b,g,y]},body.canvas.geometryPrecision)}),window.addEventListener("pointerup",l=function(){
window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",l),
r._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedStars[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[p]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,r=!1,i=void 0;try{for(var a=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var u=a.value,d=u[p],h=c(d,this),v=o(d).values,f=(e=v[Symbol.iterator](),(t=e.next()).done?void 0:t.value),m=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value,g=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=!0,w=!1,S=void 0;
try{for(var k=void 0,C=u.children[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;if(R.matches(".arms-grippie")){var M=new SVGPoint(f,m).matrixTransform(h);
R.setAttribute("cx",M.x),R.setAttribute("cy",M.y)}else if(R.matches(".vertex-grippie")){
var E=l(1,f,m,b,g,y,x).matrixTransform(h);R.setAttribute("cx",E.x),R.setAttribute("cy",E.y);
}}}catch(P){w=!0,S=P}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}}}catch(A){r=!0,i=A}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}},_updateGrippiesSize:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",6/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedStars:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("star")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedStars(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),y=e("g","bx-starhud",g);return{get default(){return y;
}}}),$traceurRuntime.registerModule("elements/bx-startool",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-startool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-startool")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-startool")),a=i.getRotationAngleFromPoints,o=i.snapRotationAngle,s=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-startool")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-startool"))),l=(s.getShapeData,
s.setShapeData),u=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-startool")).getTransformFromPoints,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-startool")).reduceTransform),c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-startool"))["default"],d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-startool"))["default"],h=Math,v=h.abs,f=h.min,m=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._starCursor=body.registerCursor("images/cursor-star.svg",-100,8,8),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
return e._onPointerDown(t)})},_onDisabled:function(){body.unregisterCursor(this._starCursor),
body.unregisterCursor(this._pointerDownStarCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener)},_onPointerDown:function(e){
var t,n,i=this;window.addEventListener("pointermove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n),i._onIntentionalDragStart(e))}),window.addEventListener("pointerup",n=function(e){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,s,h=this,m=body.canvas.currentContainer||body.canvas.currentArtboard,p=body.modKeys.ctrl?"polar":"planar",b=body.canvas,g=b.geometryPrecision,y=b.transformPrecision,x=0,_=0,w=0,S=0,k=1,C=5;
body.canvas.undoManager.checkpoint("Draw Star Shape"),this._pointerDownStarCursor=body.registerCursor("images/cursor-star.svg",900,8,8);
var R=t("svg:path");R.style.setProperty("fill","#d8d8d8"),l(R,{type:"star",values:[x,_,w,S,k,C]
}),m.append(R),body.canvas.selectedElements=[R];var M=R.getScreenCTM().inverse(),E=R.transform.baseVal.consolidate().matrix.multiply(M);
R.setAttribute("transform",E.toString()),window.addEventListener("pointermove",n=function(t){
if("planar"===p){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1,i=v(n),s=v(r);
if(body.modKeys.shift){var u=f(i,s);i=u,s=u}var c=0>n?e.clientX-i:e.clientX,h=0>r?e.clientY-s:e.clientY;
w=i/2,S=s/2,x=c+w,_=h+S,k=.4}else if("polar"===p){var m=new SVGPoint(e.clientX,e.clientY),b=new SVGPoint(m.x,m.y-100),y=new SVGPoint(t.clientX,t.clientY),M=new d(m,y),P=a(m,b,y);
x=m.x,_=m.y,w=M.length,S=M.length,k=.4,body.modKeys.shift&&(P=o(P,180/C/2));var A=(new SVGMatrix).rotate(P,m.x,m.y);
R.setAttribute("transform",E.multiply(A).toString())}l(R,{type:"star",values:[x,_,w,S,k,C]
},g)}),window.addEventListener("pointerup",r=function(){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),body.removeEventListener("keydown",i),body.removeEventListener("toolchange",s),
body.unregisterCursor(h._pointerDownStarCursor),u(R,{geometryPrecision:g,transformPrecision:y
})}),body.addEventListener("toolchange",s=function(){return r()}),body.addEventListener("keydown",i=function(e){
var t=c.fromEvent(event);t.matches("ArrowUp")?(event.preventDefault(),event.stopPropagation(),
C+=1,l(R,{type:"star",values:[x,_,w,S,k,C]},g)):t.matches("ArrowDown")&&(event.preventDefault(),
event.stopPropagation(),C>3&&(C-=1,l(R,{type:"star",values:[x,_,w,S,k,C]},g)))})}
},{},e)}(HTMLElement),p=n("bx-startool",m);return{get default(){return p}}}),$traceurRuntime.registerModule("elements/bx-strokecontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-strokecontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-strokecontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-strokecontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-strokecontrols")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-strokecontrols")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-strokecontrols")).reduceProperty,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-strokecontrols")),i=r.getRenderedTextNodes,a=r.getTspansIntersectedByRange,o=r.reduceText,s=r.spanifyText,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-strokecontrols")).throttle,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-strokecontrols")).getTransformToElement,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-decomposition","elements/bx-strokecontrols")).decomposeTransform,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-strokecontrols")).paintableElementNames,h=Math.abs,v=Number.parseFloat,f='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-strokecontrols.css");\n  </style>\n\n  <section id="opacity-section">\n    <h2 id="opacity-section-heading">Opacity</h2>\n\n    <bx-slider\n      id="opacity-slider"\n      title="Stroke Opacity"\n      value="1"\n      min="0"\n      max="1"\n      precision="2">\n    </bx-slider>\n  </section>\n\n  <section id="width-section">\n    <h2 id="width-section-heading">Width</h2>\n\n    <bx-slider\n      id="width-slider"\n      title="Stroke width"\n      value="1"\n      min="0"\n      precision="0">\n    </bx-slider>\n\n    <bx-checkbox\n      id="non-scaling-stroke-checkbox"\n      label="Non-scaling stroke">\n    </bx-checkbox>\n  </section>\n\n  <section id="line-cap-section">\n    <h2 id="line-cap-section-heading">Line Cap</h2>\n\n    <div id="line-cap-buttons" class="buttons">\n      <bx-button\n        id="butt-line-cap-button"\n        value="butt"\n        icon="cap-butt"\n        iconsize="30"\n        title="Butt cap"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="round-line-cap-button"\n        value="round"\n        icon="cap-round"\n        iconsize="30"\n        title="Round cap"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="square-line-cap-button"\n        value="square"\n        icon="cap-square"\n        iconsize="30"\n        title="Square cap"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </section>\n\n  <section id="line-join-section">\n    <h2 id="line-join-section-heading">Line Join</h2>\n\n    <div id="line-join-buttons" class="buttons">\n      <bx-button\n        id="miter-line-join-button"\n        value="miter"\n        icon="join-miter"\n        iconsize="30"\n        title="Miter Join"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="round-line-join-button"\n        value="round"\n        icon="join-round"\n        iconsize="30"\n        title="Round Join"\n        skin="iconic">\n      </bx-button>\n\n      <bx-button\n        id="bevel-line-join-button"\n        value="bevel"\n        icon="join-bevel"\n        iconsize="30"\n        title="Bevel Join"\n        skin="iconic">\n      </bx-button>\n    </div>\n  </section>\n',m=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._update200Th=l(this._update,200,this),
this._isChangingOpacitySlider=!1,this._isChangingWidthSlider=!1,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=f;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var m=h.value;this.attributeChangedCallback(m.name)}}catch(p){c=!0,d=p}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#opacity-slider"].addEventListener("changestart",function(){
return e._onOpacitySliderChangeStart()}),this["#width-slider"].addEventListener("changestart",function(){
return e._onWidthSliderChangeStart()}),this["#non-scaling-stroke-checkbox"].addEventListener("change",function(){
return e._onNonScalingStrokeCheckboxChange()}),this["#line-cap-buttons"].addEventListener("click",function(t){
return e._onLineCapButtonsClick(t)}),this["#line-join-buttons"].addEventListener("click",function(t){
return e._onLineJoinButtonsClick(t)})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._toggleHuds(),this._update(),body.addEventListener("toolchange",this._toolChangeListener=function(){
e._toggleHuds()}),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){this._toggleHuds(),body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this._update200Th()},_onSelectedTextRangeChange:function(){
this._update200Th()},_onArtboardMutation:function(e){this._update200Th()},_onOpacitySliderChangeStart:function(){
var e,t=this;body.canvas.undoManager.checkpoint("Stroke opacity");var r,i,l=this._getSelectedStrokeableElements(),u=l.filter(function(e){
return"text"===e.localName}),c=body.canvas.selectedTextRange,d=[],h=!0,v=!1,f=void 0;
try{for(var m=void 0,p=u[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){var b=m.value;
s(b,c)}}catch(g){v=!0,f=g}finally{try{h||null==p["return"]||p["return"]()}finally{
if(v)throw f}}var y=!0,x=!1,_=void 0;try{for(var w=void 0,S=l[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var k=w.value;if("text"===k.localName){var C=k.querySelectorAll("tspan"),R=a(c,k),M=R.length>0&&!c.collapsed?R:C;
(e=d).push.apply(e,$traceurRuntime.spread(M))}else d.push(k)}}catch(E){x=!0,_=E}finally{
try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}this._isChangingOpacitySlider=!0,
this["#opacity-slider"].addEventListener("change",r=function(){t["#opacity-slider"].mixed=!1;
var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=d[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;o.style.setProperty("stroke-opacity",t["#opacity-slider"].value)}}catch(s){
n=!0,r=s}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw r}}}),
this["#opacity-slider"].addEventListener("changeend",i=function(){t["#opacity-slider"].removeEventListener("change",r),
t["#opacity-slider"].removeEventListener("changeend",i),t._isChangingOpacitySlider=!1;
var e=!0,a=!1,s=void 0;try{for(var l=void 0,h=d[Symbol.iterator]();!(e=(l=h.next()).done);e=!0){
var v=l.value;n("stroke-opacity",v)}}catch(f){a=!0,s=f}finally{try{e||null==h["return"]||h["return"]();
}finally{if(a)throw s}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=u[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;o(x,c)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}})},_onWidthSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Stroke width");
var t,r,i=this._getSelectedStrokeableElements(),l=i.filter(function(e){return"text"===e.localName;
}),d=body.canvas.selectedTextRange,v=Symbol(),f=(Symbol(),[]),m=!0,p=!1,b=void 0;try{
for(var g=void 0,y=l[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var x=g.value;
s(x,d)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]()}finally{
if(p)throw b}}var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=i[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value,E=u(M,body.canvas.masterArtboard),P=c(E),A=P.scaleX,T=P.scaleY,L=(h(A)+h(T))/2;
if("text"===M.localName&&M.querySelector("tspan")){var N=M.querySelectorAll("tspan"),$=a(d,M),O=$.length>0&&!d.collapsed?$:N,V=!0,j=!1,z=void 0;
try{for(var I=void 0,D=O[Symbol.iterator]();!(V=(I=D.next()).done);V=!0){var G=I.value,B=getComputedStyle(G).getPropertyValue("vector-effect");
G[v]="non-scaling-stroke"===B?1:L,f.push(G)}}catch(U){j=!0,z=U}finally{try{V||null==D["return"]||D["return"]();
}finally{if(j)throw z}}}else{var H=getComputedStyle(M).getPropertyValue("vector-effect");
M[v]="non-scaling-stroke"===H?1:L,f.push(M)}}}catch(F){S=!0,k=F}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw k}}this._isChangingWidthSlider=!0,this["#width-slider"].addEventListener("change",t=function(){
e["#width-slider"].mixed=!1;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=f[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.style.setProperty("stroke-width",e["#width-slider"].value/o[v])}}catch(s){
n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r}}}),
this["#width-slider"].addEventListener("changeend",r=function(){e["#width-slider"].removeEventListener("change",t),
e["#width-slider"].removeEventListener("changeend",r),e._isChangingWidthSlider=!1;
var i=!0,a=!1,s=void 0;try{for(var u=void 0,c=f[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){
var h=u.value;n("stroke-width",h)}}catch(v){a=!0,s=v}finally{try{i||null==c["return"]||c["return"]();
}finally{if(a)throw s}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=l[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;o(x,d)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}})},_onNonScalingStrokeCheckboxChange:function(){var e;body.canvas.undoManager.checkpoint("Non-scaling stroke");
var t=this._getSelectedStrokeableElements(),r=t.filter(function(e){return"text"===e.localName;
}),i=this["#non-scaling-stroke-checkbox"].checked?"non-scaling-stroke":"none",l=body.canvas.selectedTextRange,u=[],c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=r[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
s(m,l)}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{
if(d)throw h}}var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=t[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;if("text"===w.localName&&w.querySelector("tspan")&&l&&w.contains(l.commonAncestorContainer)){
var S=w.querySelectorAll("tspan"),k=a(l,w),C=l.collapsed?S:k;(e=u).push.apply(e,$traceurRuntime.spread(C));
}else u.push(w)}}catch(R){g=!0,y=R}finally{try{b||null==_["return"]||_["return"]();
}finally{if(g)throw y}}var M=!0,E=!1,P=void 0;try{for(var A=void 0,T=u[Symbol.iterator]();!(M=(A=T.next()).done);M=!0){
var L=A.value;L.style.setProperty("vector-effect",i),n("vector-effect",L)}}catch(N){
E=!0,P=N}finally{try{M||null==T["return"]||T["return"]()}finally{if(E)throw P}}var $=!0,O=!1,V=void 0;
try{for(var j=void 0,z=r[Symbol.iterator]();!($=(j=z.next()).done);$=!0){var I=j.value;
o(I,l)}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]()}finally{
if(O)throw V}}},_onLineCapButtonsClick:function(e){var t;if("bx-button"===e.target.localName&&0===e.button&&(!e.target.pressed||e.target.mixed)){
body.canvas.undoManager.checkpoint("Line cap");var r=this._getSelectedStrokeableElements(),i=r.filter(function(e){
return"text"===e.localName}),l=body.canvas.selectedTextRange,u=[],c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=i[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
s(m,l)}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{
if(d)throw h}}var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=r[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;if("text"===w.localName&&w.querySelector("tspan")){var S=w.querySelectorAll("tspan"),k=a(l,w),C=k.length>0&&!l.collapsed?k:S;
(t=u).push.apply(t,$traceurRuntime.spread(C))}else u.push(w)}}catch(R){g=!0,y=R}finally{
try{b||null==_["return"]||_["return"]()}finally{if(g)throw y}}var M=!0,E=!1,P=void 0;
try{for(var A=void 0,T=u[Symbol.iterator]();!(M=(A=T.next()).done);M=!0){var L=A.value;
L.style.setProperty("stroke-linecap",e.target.value),n("stroke-linecap",L)}}catch(N){
E=!0,P=N}finally{try{M||null==T["return"]||T["return"]()}finally{if(E)throw P}}var $=!0,O=!1,V=void 0;
try{for(var j=void 0,z=i[Symbol.iterator]();!($=(j=z.next()).done);$=!0){var I=j.value;
o(I,l)}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]()}finally{
if(O)throw V}}}},_onLineJoinButtonsClick:function(e){var t;if("bx-button"===e.target.localName&&0===e.button&&(!e.target.pressed||e.target.mixed)){
body.canvas.undoManager.checkpoint("Line join");var r=this._getSelectedStrokeableElements(),i=r.filter(function(e){
return"text"===e.localName}),l=body.canvas.selectedTextRange,u=[],c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=i[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
s(m,l)}}catch(p){d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{
if(d)throw h}}var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=r[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;if("text"===w.localName&&w.querySelector("tspan")){var S=w.querySelectorAll("tspan"),k=a(l,w),C=k.length>0&&!l.collapsed?k:S;
(t=u).push.apply(t,$traceurRuntime.spread(C))}else u.push(w)}}catch(R){g=!0,y=R}finally{
try{b||null==_["return"]||_["return"]()}finally{if(g)throw y}}var M=!0,E=!1,P=void 0;
try{for(var A=void 0,T=u[Symbol.iterator]();!(M=(A=T.next()).done);M=!0){var L=A.value;
L.style.setProperty("stroke-linejoin",e.target.value),n("stroke-linejoin",L)}}catch(N){
E=!0,P=N}finally{try{M||null==T["return"]||T["return"]()}finally{if(E)throw P}}var $=!0,O=!1,V=void 0;
try{for(var j=void 0,z=i[Symbol.iterator]();!($=(j=z.next()).done);$=!0){var I=j.value;
o(I,l)}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]()}finally{
if(O)throw V}}}},_update:function(){var e,n,r,a,o,s,l,d,f,m,p=[],b=[],g=Symbol(),y=Symbol(),x=body.canvas.selectedTextRange,_=!0,w=!1,S=void 0;
try{for(var k=void 0,C=this._getSelectedStrokeableElements()[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;if("text"===R.localName){var M=i(R);if(x&&x.intersectsNode(R)){"backward"===x.direction&&M.reverse();
var E=!0,P=!1,A=void 0;try{for(var T=void 0,L=M[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var N=T.value;x.intersectsNode(N)&&(p.includes(N.parentElement)||p.push(N.parentElement),
b.includes(N.parentElement)||b.push(N.parentElement))}}catch($){P=!0,A=$}finally{
try{E||null==L["return"]||L["return"]()}finally{if(P)throw A}}}else{var O=!0,V=!1,j=void 0;
try{for(var z=void 0,I=M[Symbol.iterator]();!(O=(z=I.next()).done);O=!0){var D=z.value;
p.includes(D.parentElement)===!1&&p.push(D.parentElement)}}catch(G){V=!0,j=G}finally{
try{O||null==I["return"]||I["return"]()}finally{if(V)throw j}}b.push(R)}}else p.push(R),
b.push(R)}}catch(B){w=!0,S=B}finally{try{_||null==C["return"]||C["return"]()}finally{
if(w)throw S}}var U=!0,H=!1,F=void 0;try{for(var q=void 0,W=new Set($traceurRuntime.spread(p,b))[Symbol.iterator]();!(U=(q=W.next()).done);U=!0){
var Y=q.value,X=u(Y,body.canvas.masterArtboard),Z=c(X),K=Z.scaleX,J=Z.scaleY;Y[g]=getComputedStyle(Y),
Y[y]=(h(K)+h(J))/2}}catch(Q){H=!0,F=Q}finally{try{U||null==W["return"]||W["return"]();
}finally{if(H)throw F}}if(this._isChangingOpacitySlider===!1){var ee=p,te=(e=ee[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),ne=$traceurRuntime.iteratorToArray(e);if(te){this["#opacity-slider"].disabled=!1;
var re=te[g].getPropertyValue("stroke-opacity"),ie=t(v(re),2),ae=!1,oe=!0,se=!1,le=void 0;
try{for(var ue=void 0,ce=ne[Symbol.iterator]();!(oe=(ue=ce.next()).done);oe=!0){var de=ue.value,he=de[g].getPropertyValue("stroke-opacity"),ve=t(v(he),2);
ve!==ie&&(ae=!0)}}catch(fe){se=!0,le=fe}finally{try{oe||null==ce["return"]||ce["return"]();
}finally{if(se)throw le}}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].value=ie,
this["#opacity-slider"].mixed=ae}else this["#opacity-section-heading"].disabled=!0,
this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1;
}if(this._isChangingWidthSlider===!1&&body.canvas.transformHud.isScaling===!1){var me=p,pe=(r=me[Symbol.iterator](),
(a=r.next()).done?void 0:a.value),be=$traceurRuntime.iteratorToArray(r);if(pe){var ge=!1,ye=pe[g].getPropertyValue("vector-effect"),xe="non-scaling-stroke"===ye,_e=v(pe[g].getPropertyValue("stroke-width")),we=t(pe[y]*_e,3),Se=!0,ke=!1,Ce=void 0;
try{for(var Re=void 0,Me=be[Symbol.iterator]();!(Se=(Re=Me.next()).done);Se=!0){var Ee=Re.value,Pe=v(Ee[g].getPropertyValue("stroke-width")),Ae=t(Ee[y]*Pe,3);
if(we!==Ae){ge=!0;break}}}catch(Te){ke=!0,Ce=Te}finally{try{Se||null==Me["return"]||Me["return"]();
}finally{if(ke)throw Ce}}this["#width-slider"].value=xe?_e:we,this["#width-slider"].disabled=!1,
this["#width-slider"].mixed=ge}else this["#width-slider"].value=0,this["#width-slider"].disabled=!0,
this["#width-slider"].mixed=!1;var Le=b,Ne=(o=Le[Symbol.iterator](),(s=o.next()).done?void 0:s.value),$e=$traceurRuntime.iteratorToArray(o);
if(Ne){var Oe=Ne[g].getPropertyValue("vector-effect"),Ve=!1,je=!0,ze=!1,Ie=void 0;
try{for(var De=void 0,Ge=$e[Symbol.iterator]();!(je=(De=Ge.next()).done);je=!0){var Be=De.value,Ue=Be[g].getPropertyValue("vector-effect");
if(Ue!==Oe){Ve=!0;break}}}catch(He){ze=!0,Ie=He}finally{try{je||null==Ge["return"]||Ge["return"]();
}finally{if(ze)throw Ie}}this["#non-scaling-stroke-checkbox"].disabled=!1,this["#non-scaling-stroke-checkbox"].checked="non-scaling-stroke"===Oe,
this["#non-scaling-stroke-checkbox"].mixed=Ve}else this["#non-scaling-stroke-checkbox"].disabled=!0,
this["#non-scaling-stroke-checkbox"].checked=!1,this["#non-scaling-stroke-checkbox"].mixed=!1;
this["#width-section-heading"].disabled=this["#width-slider"].disabled||this["#non-scaling-stroke-checkbox"].disabled;
}var Fe=p,qe=(l=Fe[Symbol.iterator](),(d=l.next()).done?void 0:d.value),We=$traceurRuntime.iteratorToArray(l),Ye=[this["#butt-line-cap-button"],this["#round-line-cap-button"],this["#square-line-cap-button"]];
if(this["#line-cap-section-heading"].disabled=void 0===qe,qe){var Xe=!0,Ze=!1,Ke=void 0;
try{for(var Je=void 0,Qe=Ye[Symbol.iterator]();!(Xe=(Je=Qe.next()).done);Xe=!0){var et=Je.value;
et.disabled=!1}}catch(tt){Ze=!0,Ke=tt}finally{try{Xe||null==Qe["return"]||Qe["return"]();
}finally{if(Ze)throw Ke}}var nt=qe[g].getPropertyValue("stroke-linecap"),rt=!1,it=!0,at=!1,ot=void 0;
try{for(var st=void 0,lt=We[Symbol.iterator]();!(it=(st=lt.next()).done);it=!0){var ut=st.value,ct=ut[g].getPropertyValue("stroke-linecap");
if(ct!==nt){rt=!0;break}}}catch(dt){at=!0,ot=dt}finally{try{it||null==lt["return"]||lt["return"]();
}finally{if(at)throw ot}}var ht=!0,vt=!1,ft=void 0;try{for(var mt=void 0,pt=Ye[Symbol.iterator]();!(ht=(mt=pt.next()).done);ht=!0){
var bt=mt.value;bt.value===nt?(bt.pressed=!0,bt.mixed=rt):(bt.pressed=!1,bt.mixed=!1);
}}catch(gt){vt=!0,ft=gt}finally{try{ht||null==pt["return"]||pt["return"]()}finally{
if(vt)throw ft}}}else{var yt=!0,xt=!1,_t=void 0;try{for(var wt=void 0,St=Ye[Symbol.iterator]();!(yt=(wt=St.next()).done);yt=!0){
var kt=wt.value;kt.disabled=!0,kt.pressed=!1,kt.mixed=!1}}catch(Ct){xt=!0,_t=Ct}finally{
try{yt||null==St["return"]||St["return"]()}finally{if(xt)throw _t}}}var Rt=p,Mt=(f=Rt[Symbol.iterator](),
(m=f.next()).done?void 0:m.value),Et=$traceurRuntime.iteratorToArray(f),Pt=[this["#miter-line-join-button"],this["#round-line-join-button"],this["#bevel-line-join-button"]];
if(this["#line-join-section-heading"].disabled=void 0===Mt,Mt){var At=!0,Tt=!1,Lt=void 0;
try{for(var Nt=void 0,$t=Pt[Symbol.iterator]();!(At=(Nt=$t.next()).done);At=!0){var Ot=Nt.value;
Ot.disabled=!1}}catch(Vt){Tt=!0,Lt=Vt}finally{try{At||null==$t["return"]||$t["return"]();
}finally{if(Tt)throw Lt}}var jt=Mt[g].getPropertyValue("stroke-linejoin"),zt=!1,It=!0,Dt=!1,Gt=void 0;
try{for(var Bt=void 0,Ut=Et[Symbol.iterator]();!(It=(Bt=Ut.next()).done);It=!0){var Ht=Bt.value,Ft=Ht[g].getPropertyValue("stroke-linejoin");
if(Ft!==jt){zt=!0;break}}}catch(qt){Dt=!0,Gt=qt}finally{try{It||null==Ut["return"]||Ut["return"]();
}finally{if(Dt)throw Gt}}var Wt=!0,Yt=!1,Xt=void 0;try{for(var Zt=void 0,Kt=Pt[Symbol.iterator]();!(Wt=(Zt=Kt.next()).done);Wt=!0){
var Jt=Zt.value;Jt.value===jt?(Jt.pressed=!0,Jt.mixed=zt):(Jt.pressed=!1,Jt.mixed=!1);
}}catch(Qt){Yt=!0,Xt=Qt}finally{try{Wt||null==Kt["return"]||Kt["return"]()}finally{
if(Yt)throw Xt}}}else{var en=!0,tn=!1,nn=void 0;try{for(var rn=void 0,an=Pt[Symbol.iterator]();!(en=(rn=an.next()).done);en=!0){
var on=rn.value;on.disabled=!0,on.pressed=!1,on.mixed=!1}}catch(sn){tn=!0,nn=sn}finally{
try{en||null==an["return"]||an["return"]()}finally{if(tn)throw nn}}}},_toggleHuds:function(){
this.enabled&&"edit-tool"===body.currentTool.id?(body.canvas.enableHud("linear-gradient-stroke-hud"),
body.canvas.enableHud("radial-gradient-stroke-hud"),body.canvas.enableHud("pattern-stroke-hud")):(body.canvas.disableHud("linear-gradient-stroke-hud"),
body.canvas.disableHud("radial-gradient-stroke-hud"),body.canvas.disableHud("pattern-stroke-hud"));
},_getSelectedStrokeableElements:function(){var e=[],t=function(n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
d.includes(l.localName)?e.push(l):"g"!==l.localName&&"a"!==l.localName||t(l.children);
}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}};return t(body.canvas.outermostSelectedElements),e}},{},e)}(HTMLElement),p=e("bx-strokecontrols",m);
return{get default(){return p}}}),$traceurRuntime.registerModule("elements/bx-svgartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-svgartboard")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/reflect","elements/bx-svgartboard")),n=t.createReflectedSVGLength,r=t.createReflectedSVGRect,i=t.createReflectedSVGPreserveAspectRatio,a=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._x=n(this,"x"),this._y=n(this,"y"),this._width=n(this,"width"),
this._height=n(this,"height"),this._viewBox=r(this,"viewBox"),this._preserveAspectRatio=i(this,"preserveAspectRatio");
},get contentType(){return"svg"},get x(){return this._x},get y(){return this._y},
get width(){return this._width},get height(){return this._height},get viewBox(){return this._viewBox;
},get preserveAspectRatio(){return this._preserveAspectRatio}},{},e)}(SVGGElement),o=e("g","bx-svgartboard",a);
return{get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-switch",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-switch")).registerElement,t='\n  <style>\n    @import url("stylesheets/bx-switch.css");\n  </style>\n\n  <main>\n    <div id="track"></div>\n\n    <svg id="thumb" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">\n      <ellipse cx="50" cy="50" rx="50" ry="50"></ellipse>\n    </svg>\n  </main>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},attachedCallback:function(){var e=this;this.parentElement.addEventListener("click",this._parentClickListener=function(t){
e._onParentElementClick(t)})},detachedCallback:function(){this.parentElement.removeEventListener("click",this._parentClickListener);
},get toggled(){return!!this.hasAttribute("toggled")},set toggled(e){e?this.setAttribute("toggled",""):this.removeAttribute("toggled");
},get mixed(){return!!this.hasAttribute("mixed")},set mixed(e){e?this.setAttribute("mixed",""):this.removeAttribute("mixed");
},get disabled(){return this.hasAttribute("disabled")},set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled");
},_onParentElementClick:function(e){if(!this.disabled){var t=[{left:"0px"},{left:this.clientWidth-this["#thumb"].clientWidth+"px"
}];this["#thumb"].animate(this.toggled?t.reverse():t,{duration:100,iterations:1,delay:0
}),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("change"))}}},{},e);
}(HTMLElement),r=e("bx-switch",n);return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-symbolartboard",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-symbolartboard")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/reflect","elements/bx-symbolartboard")),n=(t.createReflectedSVGLength,
t.createReflectedSVGRect),r=t.createReflectedSVGPreserveAspectRatio,i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._viewBox=n(this,"viewBox"),this._preserveAspectRatio=r(this,"preserveAspectRatio");
},get contentType(){return"symbol"},get viewBox(){return this._viewBox},get preserveAspectRatio(){
return this._preserveAspectRatio}},{},e)}(SVGGElement),a=e("g","bx-symbolartboard",i);
return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-symbolslist",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-symbolslistitem","elements/bx-symbolslist")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-filterinput","elements/bx-symbolslist"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/artwork-rasterization","elements/bx-symbolslist")),t=e.getSymbolThumbnails,n=e.rasterizeArtwork,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-symbolslist")).getClientBBox,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-symbolslist")).round,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-symbolslist")),o=a.combineRects,s=a.transformRect,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-symbolslist")),u=l.debounce,c=l.sleep,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-symbolslist")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-symbolslist")),v=h.createElement,f=h.registerElement,m=h.insertElementAfter,p=h.getElementIndex,b=h.sortByDomPosition,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-symbolslist"))["default"],y=Number.parseFloat,x=(Object.keys,
'\n  <style>@import url("stylesheets/scrollbars.css");</style>\n  <style>@import url("stylesheets/bx-symbolslist.css");</style>\n\n  <main>\n    <header>\n      <h2>Symbols</h2>\n\n      <bx-button\n        id="delete-symbol-button"\n        skin="iconic"\n        icon="minus"\n        title="Delete symbol"\n        iconsize="15">\n      </bx-button>\n\n      <bx-button\n        id="create-symbol-button"\n        title="Create new symbol"\n        skin="iconic"\n        icon="plus"\n        iconsize="15">\n      </bx-button>\n    </header>\n\n    <div id="items"></div>\n    <div id="placeholder">No symbols found.</div>\n    <div id="drag-separator"></div>\n    <bx-filterinput id="filter-input" placeholder="Filter symbols"></bx-filterinput>\n  </main>\n'),_=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._update2000Db=u(this._update,2e3,this),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=x;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
l||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("keydown",function(t){
return e._onKeyDown(t)}),this["#items"].addEventListener("focusin",function(t){return e._onItemsFocusIn(t);
}),this["#items"].addEventListener("rename",function(t){return e._onItemRename(t);
}),this["#items"].addEventListener("dragstart",function(t){return e._onItemDragStart(t);
}),this["#delete-symbol-button"].addEventListener("click",function(t){return e._onDeleteSymbolButtonClick(t);
}),this["#create-symbol-button"].addEventListener("click",function(t){return e._onCreateSymbolButtonClick(t);
}),this["#filter-input"].addEventListener("input",function(){return e._onFilterInputInput();
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled===!0?this._onEnabled():this._onDisabled());
},get enabled(){return!!this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
"id"===t.detail.attributeName&&"symbol"===t.detail.target.localName?e._update():t.detail.addedNodes[0]&&"symbol"===t.detail.addedNodes[0].localName?e._update():e._update2000Db();
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onDeleteSymbolButtonClick:function(e){0===e.button&&this._maybeDeleteHighlightedItem();
},_onCreateSymbolButtonClick:function(e){if(0===e.button){body.canvas.undoManager.checkpoint("Create symbol");
var t=body.canvas.generateUniqueID("symbol"),a=v("bx-symbolslistitem");a.symbolID=t,
this["#items"].append(a);var l=!0,u=!1,h=void 0;try{for(var f=void 0,p=this["#items"].children[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){
var g=f.value;g.highlighted=g===a}}catch(y){u=!0,h=y}finally{try{l||null==p["return"]||p["return"]();
}finally{if(u)throw h}}body.canvas.selectedElements.length>0&&n(body.canvas.extractArtworkWithSelectedElements()).then(function(e){
a.thumbnail=e}),c(100).then(function(){return a.focus()});var x=body.canvas.defs?body.canvas.defs.querySelectorAll("symbol"):[],_=x[x.length-1],w=v("svg:symbol");
if(_?m(w,_):(body.canvas.createDefsIfMissing(),body.canvas.defs.append(w)),0===body.canvas.selectedElements.length)w.setAttribute("id",t),
w.setAttribute("viewBox","0 0 100 100");else{var S=o(function(){var e=0,t=[],n=!0,i=!1,a=void 0;
try{for(var o=void 0,s=body.canvas.selectedElements[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t[e++]=r(l)}}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}());S=s(S,body.canvas.currentArtboard.getCTM().inverse());
var k=-S.x,C=-S.y,R=i(S.width,4),M=i(S.height,4),E=!0,P=!1,A=void 0;try{for(var T=void 0,L=b(body.canvas.selectedElements)[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var N=T.value,$=new SVGMatrix;$.translateSelf(k,C),$.multiplySelf(d(N,body.canvas.currentArtboard)),
N.setAttribute("transform",$),w.append(N)}}catch(O){P=!0,A=O}finally{try{E||null==L["return"]||L["return"]();
}finally{if(P)throw A}}w.setAttribute("id",t),w.setAttribute("viewBox","0 0 "+R+" "+M),
body.canvas.selectedElements=[],body.canvas.selectedTextRange=null,body.canvas.currentContainer=null;
}}},_onItemsFocusIn:function(e){var t=e.target,n=!0,r=!1,i=void 0;try{for(var a=void 0,o=this["#items"].children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;s.highlighted=s===t}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}this["#delete-symbol-button"].disabled=!1},_onItemRename:function(e){
body.canvas.undoManager.checkpoint("Rename symbol");var t=e.target,n=e.detail,r=n.oldID,i=n.newID;
t.symbolID=i;for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),o=null;o=a.nextNode();)"symbol"===o.localName&&o.id===r?o.setAttribute("id",i):"g"===o.localName&&"symbol"===o.contentType?o.setAttribute("id",i):"use"===o.localName&&o.href.baseVal==="#"+r&&o.setAttribute("href","#"+i);
},_onItemDragStart:function(e){var t,n,r=this,i=e.target,a=($traceurRuntime.spread(this["#items"].children),
y(getComputedStyle(this["#drag-separator"]).getPropertyValue("height"))),o=p(i),s=null;
this["#items"].addEventListener("dragover",t=function(e){var t=r._shadowRoot.elementFromPoint(e.clientX,e.clientY);
if(t&&"bx-symbolslistitem"===t.localName){var n=t,i=n.getBoundingClientRect();if(r["#drag-separator"].hidden=!1,
r["#drag-separator"].style.setProperty("width",i.width+"px"),r["#drag-separator"].style.setProperty("left",i.x+"px"),
e.clientY<i.y+i.height/2){var o=i.y-a/2;r["#drag-separator"].style.setProperty("top",o+"px"),
s=p(n)}else{var l=i.y+i.height-a/2;r["#drag-separator"].style.setProperty("top",l+"px"),
s=p(n)+1}}else r["#drag-separator"].hidden=!0,s=null}),this["#items"].addEventListener("dragend",n=function(e){
if(r["#items"].removeEventListener("dragover",t),r["#items"].removeEventListener("dragend",n),
r["#drag-separator"].hidden=!0,null!==s&&o!==s&&o!==s-1){i.style.setProperty("display","none"),
r["#items"].insertBefore(i,r["#items"].children[s]),c(50).then(function(){i.style.removeProperty("display"),
i.focus()}),body.canvas.undoManager.checkpoint("Reorder symbols");var a=body.canvas.defs?$traceurRuntime.spread(body.canvas.defs.querySelectorAll("symbol")):[],l=a.find(function(e){
return e.id===i.symbolID});a[s]?a[s].parentElement.insertBefore(l,a[s]):(body.canvas.createDefsIfMissing(),
body.canvas.defs.append(l))}})},_onFilterInputInput:function(){var e=this["#filter-input"].value,t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=this["#items"].children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.hidden=("#"+o.symbolID.toLowerCase()).includes(e.toLowerCase())===!1;
}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]()}finally{if(n)throw r;
}}this._updatePlaceholderVisibility()},_onKeyDown:function(e){var t=g.fromEvent(e);
t.matches("Backspace")?null!==this["#items"].querySelector(":focus")&&(e.preventDefault(),
e.stopPropagation(),this._maybeDeleteHighlightedItem()):t.matches("ArrowUp")?(e.preventDefault(),
e.stopPropagation(),this._focusPreviousItem()):t.matches("ArrowDown")&&(e.preventDefault(),
e.stopPropagation(),this._focusNextItem())},_update:function(){var e=this;if(this._updating)return void c(1e3).then(function(){
return e._update()});this._updating=!0;var n=body.canvas.masterArtboard.querySelectorAll("symbol"),r=$traceurRuntime.spread(this["#items"].children),i=0;
if(r.length>n.length)for(var a=n.length;a<r.length;a+=1)r[a].remove();else r.length<n.length&&(this["#create-symbol-button"].disabled=!0,
this["#delete-symbol-button"].disabled=!0);var o=function(t){for(var r=$traceurRuntime.spread(e["#items"].children),a=e["#items"].querySelector("[highlighted]"),l=a?a.symbolID:null,u=e["#filter-input"].value;t.timeRemaining()>10&&i<n.length;){
var c=n[i],d=r[i];d||(d=v("bx-symbolslistitem"),e["#items"].append(d)),d.symbolID=c.id,
d.hidden=("#"+d.symbolID.toLowerCase()).includes(u.toLowerCase())===!1,d.highlighted=c.id===l,
i+=1}e._updatePlaceholderVisibility(),i<n.length?requestIdleCallback(o):(e._updateButtons(),
s())},s=function(){var n=body.canvas.extractArtwork(),r={},i=!0,a=!1,o=void 0;try{
for(var s=void 0,l=e["#items"].children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[u.symbolID]=u}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}t(n,function(e,t){r[e]&&(r[e].thumbnail=t)},function(){e._updating=!1;
})};requestIdleCallback(o)},_updateButtons:function(){this["#create-symbol-button"].disabled=!1,
this["#delete-symbol-button"].disabled=null===this["#items"].querySelector("[highlighted]");
},_updatePlaceholderVisibility:function(){this["#placeholder"].hidden=null!==this["#items"].querySelector(":not([hidden])");
},_focusPreviousItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getPreviousVisibleItem(e);
t&&t.focus()},_focusNextItem:function(){var e=this._shadowRoot.querySelector(":focus"),t=this._getNextVisibleItem(e);
t&&t.focus()},_maybeDeleteHighlightedItem:function(){var e=this,t=this["#items"].querySelector("[highlighted]");
if(t){var n=t.symbolID,r=$traceurRuntime.spread(body.canvas.artboards.querySelectorAll("use")).filter(function(e){
return e.href.baseVal==="#"+n}),i=function(){body.canvas.undoManager.checkpoint("Delete symbol"),
"symbol"===body.canvas.currentArtboard.contentType&&body.canvas.currentArtboard.id===n&&body.canvas.editSymbolEnd(!1);
var r=e._getNextVisibleItem(t),i=e._getPreviousVisibleItem(t);r?r.focus():i?i.focus():e["#delete-symbol-button"].disabled=!0,
t.remove(),e._updatePlaceholderVisibility();for(var a=document.createNodeIterator(body.canvas.artboards,NodeFilter.SHOW_ELEMENT),o=null,s=[];o=a.nextNode();)"symbol"===o.localName&&o.id===n?(o.remove(),
s.push(o)):"use"===o.localName&&o.href.baseVal==="#"+n&&(o.remove(),s.push(o));body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return!s.includes(e)})};if(0===r.length)i();else{var a={message:"Delete the sybmol with "+r.length+" instance(s)?",
buttons:["Cancel","Delete"]};body.bridge.postMessage("showMessageBox",a,function(e){
1===e&&i()})}}},_assertItemsLength:function(e){var t=this["#items"].childElementCount;
if(e>t)for(var n=t;e>n;n+=1){var r=v("bx-symbolslistitem");this["#items"].append(r);
}else if(t>e)for(var i=t-1;i>=e;i-=1)this["#items"].children[i].remove()},_getPreviousVisibleItem:function(e){
for(;e.previousElementSibling;){if(e.previousElementSibling.hidden===!1)return e.previousElementSibling;
e=e.previousElementSibling}return null},_getNextVisibleItem:function(e){for(;e.nextElementSibling;){
if(e.nextElementSibling.hidden===!1)return e.nextElementSibling;e=e.nextElementSibling;
}return null}},{},e)}(HTMLElement),w=f("bx-symbolslist",_);return{get default(){return w;
}}}),$traceurRuntime.registerModule("elements/bx-symbolslistitem",[],function(){"use strict";
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-symbolslistitem"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-symbolslistitem")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-symbolslistitem"))["default"],i='\n  <style>@import url("stylesheets/bx-symbolslistitem.css");</style>\n\n  <main>\n    <img id="thumbnail"></img>\n    <bx-input id="input" skin="bx-defscontrols"></bx-input>\n  </main>\n',a=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){var e=this;this.tabIndex=0,this.draggable=!0,this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this.addEventListener("dragstart",function(t){
return e._onHostDragStart(t)}),this.addEventListener("dragend",function(t){return e._onHostDragEnd(t);
}),this.addEventListener("keydown",function(t){return e._onHostKeyDown(t)}),this._shadowRoot.addEventListener("dblclick",function(t){
return e._onShadowRootDblClick(t)}),this["#input"].addEventListener("focusin",function(t){
return e._onInputFocusIn(t)}),this["#input"].addEventListener("focusout",function(t){
return e._onInputFocusOut(t)}),this["#input"].addEventListener("keydown",function(t){
return e._onInputKeyDown(t)}),this["#input"].addEventListener("change",function(t){
return e._onInputChange(t)}),this["#input"].addEventListener("confirm",function(){
return e.focus()}),this["#input"].addEventListener("cancel",function(){return e.focus();
}),this["#input"].validate=function(t){return e._validateInputValue(t)}},attributeChangedCallback:function(e){
"symbolid"===e&&this._onSymbolIDAttributeChange()},get symbolID(){return this.hasAttribute("symbolid")?this.getAttribute("symbolid"):"";
},set symbolID(e){e?this.setAttribute("symbolid",e):this.removeAttribute("symbolid");
},get highlighted(){return this.hasAttribute("highlighted")},set highlighted(e){e?this.setAttribute("highlighted",""):this.removeAttribute("highlighted");
},get thumbnail(){return this["#thumbnail"].src},set thumbnail(e){null===e?this["#thumbnail"].src="":this["#thumbnail"].src=e;
},_onSymbolIDAttributeChange:function(){""===this.symbolID?this["#input"].value="":this["#input"].value="#"+this.symbolID;
},_onShadowRootDblClick:function(e){e.target===this["#thumbnail"]?body.canvas.editSymbol(this.symbolID):this["#input"].matches(":focus")===!1&&this["#input"].focus();
},_onHostDragStart:function(e){this._dragImage=t("img"),this._dragImage.id="drag-image",
this._dragImage.src=this["#thumbnail"].src,this._dragImage.style.setProperty("position","fixed"),
this._dragImage.style.setProperty("transform","translate(9999px, 9999px)"),this._dragImage.width=38,
this._dragImage.height=38,this._shadowRoot.append(this._dragImage),e.dataTransfer.setData("text","#"+this.symbolID),
e.dataTransfer.setData("bx-symbolslistitem/symbolID",this.symbolID),e.dataTransfer.setDragImage(this._dragImage,this._dragImage.width/2,this._dragImage.height/2);
},_onHostDragEnd:function(e){this._dragImage.remove()},_onHostKeyDown:function(e){
var t=r.fromEvent(e);t.matches("Enter")&&(this["#input"].focus(),this["#input"].selectAll());
},_onInputFocusIn:function(){this["#input"].style.setProperty("pointer-events","auto"),
this["#input"].selectAll(),this.draggable=!1,this.setAttribute("inputmode","")},_onInputFocusOut:function(e){
this["#input"].style.setProperty("pointer-events","none"),this.draggable=!0,this.removeAttribute("inputmode");
},_onInputKeyDown:function(e){var t=r.fromEvent(e);(t.matches("Enter")||t.matches("Escape"))&&(e.stopPropagation(),
this.focus())},_onInputChange:function(){var e=this.symbolID,t=this["#input"].value.substring(1);
this.dispatchEvent(new CustomEvent("rename",{bubbles:!0,detail:{oldID:e,newID:t}}));
},_validateInputValue:function(e){var t=/^#[a-z]+[a-z0-9\-_]*$/i.test(e);return t?e==="#"+this.symbolID?!0:null===body.canvas.artboards.querySelector(e):!1;
}},{},e)}(HTMLElement),o=n("bx-symbolslistitem",a);return{get default(){return o}
}}),$traceurRuntime.registerModule("elements/bx-texthud",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-texthud"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-texthud")),n=t.createElement,r=t.registerElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-texthud")),a=i.getDistanceBetweenPoints,o=i.getPointBetweenTwoPoints,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/node","elements/bx-texthud")).isDOMWhitespace,l=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-texthud")).combineRects,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-texthud"))),u=l.getLocalOffset,c=l.getGlobalOffset,d=l.getRenderedChars,h=l.getRenderedTextNodes,v=l.reduceText,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-texthud")),m=f.debounce,p=f.throttle,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-texthud")).getTransformToElement,g='\n  <style>@import url("stylesheets/bx-texthud.css");</style>\n  <line id="caret-line"></line>\n  <g id="selection-rects"></g>\n',y=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this.commands={cut:{enabled:function(){return body.canvas.selectedTextRange&&body.canvas.selectedTextRange.collapsed===!1;
},exec:function(){return e._cut()}},copy:{enabled:function(){return body.canvas.selectedTextRange&&body.canvas.selectedTextRange.collapsed===!1;
},exec:function(){return e._copy()}},paste:{exec:function(){return e._paste()}},selectAll:{
exec:function(){return e._selectAll(body.canvas.selectedTextRange.startContainer.closest("text"));
}},deselectAll:{enabled:function(){return null!==body.canvas.selectedTextRange},exec:function(){
return e._deselectAll()}}},this.tabIndex=-1,this._update200Th=p(this._update,200,this),
this._onKeyPress300Db=m(this._onKeyPress300Db,300,this,!0),this._onBackspaceKeyDown600Db=m(this._onBackspaceKeyDown600Db,600,this,!0),
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=g;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.artboards.addEventListener("pointerdown",this._artboardPointerDownListener=function(t){
e._onArtboardPointerDown(t)}),this.addEventListener("keydown",this._keydownListener=function(t){
e._onKeyDown(t)}),this.addEventListener("keypress",this._keyPressListener=function(t){
e._onKeyPress300Db(t),e._onKeyPress(t)}),this.addEventListener("focus",this._focusListener=function(e){
body.canvas.textInputMode=!0}),this.addEventListener("blur",this._blurListener=function(e){
body.canvas.textInputMode=!1}),1===body.canvas.selectedElements.length&&"text"===body.canvas.selectedElements[0].localName&&this._selectAll(body.canvas.selectedElements[0]);
},_onDisabled:function(){body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.artboards.removeEventListener("pointerdown",this._artboardPointerDownListener),
this.removeEventListener("keydown",this._keydownListener),this.removeEventListener("keypress",this._keyPressListener),
this.removeEventListener("focus",this._focusListener),this.removeEventListener("blur",this._blurListener),
this._installed&&this._uninstall()},_install:function(){var e=this;this._installed=!0,
this.style.removeProperty("display"),this.focus(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._update200Th()}),body.canvas.undoManager.addEventListener("undo",this._undoListener=function(){
e._onUndoOrRedo()}),body.canvas.undoManager.addEventListener("redo",this._redoListener=function(){
e._onUndoOrRedo()}),this._update()},_uninstall:function(){this._installed=!1,this.style.setProperty("display","none"),
this.blur(),body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.undoManager.removeEventListener("undo",this._undoListener),body.canvas.undoManager.removeEventListener("redo",this._redoListener);
},_onSelectedTextRangeChange:function(){this._installed&&!body.canvas.selectedTextRange?this._uninstall():!this._installed&&body.canvas.selectedTextRange&&this._install(),
this._installed&&this._update()},_onSelectedElementsChange:function(){if(body.canvas.selectedTextRange){
var e=body.canvas.selectedTextRange.startContainer.closest("text"),t=body.canvas.selectedElements.find(function(t){
return t===e||t.contains(e)});t||(body.canvas.selectedTextRange=null)}this._update();
},_onUndoOrRedo:function(){if(body.canvas.selectedTextRange){var e=body.canvas.selectedTextRange.startContainer.closest("text");
this._selectAll(e)}},_onArtboardPointerDown:function(e){e.target.closest("text")&&this._onTextElementPointerDown(e);
},_onTextElementPointerDown:function(e){var t,n;if(0===e.button){var r=e.target.closest("text");
if(1===body.pointerClickCount){var i,s,l=e,c=l.clientX,d=l.clientY,v=h(r),f=r.getScreenCTM().inverse(),m=new SVGPoint(c,d).matrixTransform(f),p=r.getCharNumAtPosition(m),b=body.registerCursor("text",900),g=p,y=null;
a(m,r.getStartPositionOfChar(p))>a(m,r.getEndPositionOfChar(p))&&(g+=1);var x=u(r,g),_=(t=x[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),w=(n=t.next()).done?void 0:n.value;if(body.modKeys.shift){
var S=body.canvas.selectedTextRange;if(null===S||r.contains(S.startContainer)===!1){
var k=new Range;k.setStart(_,w),k.setEnd(_,w),body.canvas.selectedTextRange=k}this._expand(g);
}else{var C=new Range;C.setStart(_,w),C.setEnd(_,w),body.canvas.selectedTextRange=C;
}this.focus(),window.addEventListener("pointermove",i=function(e){var t,n,i=e,s=i.clientX,l=i.clientY,c=new SVGPoint(s,l).matrixTransform(f),d=r.getCharNumAtPosition(c);
if(-1===d){var h=r.getNumberOfChars(),m=0,p=1/0;if(null===y){y=[];for(var b=0;h>b;b+=1){
var g=o(r.getStartPositionOfChar(b),r.getEndPositionOfChar(b));y.push(g)}}for(var x=0;h>x;x+=1){
var S=y[x],k=a(c,S);p>k&&(m=x,p=k)}d=m}var C=d;a(c,r.getStartPositionOfChar(d))>a(c,r.getEndPositionOfChar(d))&&(C+=1);
var R=u(r,C),M=(t=R[Symbol.iterator](),(n=t.next()).done?void 0:n.value),E=(n=t.next()).done?void 0:n.value,P="forward";
if(_===M)w>E&&(P="backward");else{var A=_.compareDocumentPosition(M);A===Node.DOCUMENT_POSITION_PRECEDING&&(P="backward");
}var T=new Range;if(T.direction=P,"forward"===P?(T.setStart(_,w),T.setEnd(M,E)):(T.setStart(M,E),
T.setEnd(_,w)),body.canvas.selectedTextRange.collapsed===!1&&T.startOffset===T.startContainer.textContent.length){
var L=v[v.indexOf(T.startContainer)+1];L&&T.setStart(L,0)}body.canvas.selectedTextRange=T;
}),window.addEventListener("pointerup",s=function(){window.removeEventListener("pointermove",i),
window.removeEventListener("pointerup",s),body.unregisterCursor(b)})}else if(2===body.pointerClickCount){
var R=e,M=R.clientX,E=R.clientY,P=r.getScreenCTM().inverse(),A=new SVGPoint(M,E).matrixTransform(P),T=r.getCharNumAtPosition(A);
this._selectWord(r,T)}else body.pointerClickCount>=3&&this._selectAll(r)}},_onKeyDown:function(t){
var n=e.fromEvent(t);n.matches("Backspace")?(t.stopPropagation(),this._onBackspaceKeyDown600Db(t),
this._onBackspaceKeyDown(t)):n.matches("ArrowLeft")?(t.stopPropagation(),this._moveLeft()):n.matches("ArrowRight")?(t.stopPropagation(),
this._moveRight()):n.matches("ArrowUp")?(t.stopPropagation(),this._moveMaxLeft()):n.matches("ArrowDown")?(t.stopPropagation(),
this._moveMaxRight()):n.matches("Shift","ArrowLeft")?(t.stopPropagation(),this._expandLeft()):n.matches("Shift","ArrowRight")?(t.stopPropagation(),
this._expandRight()):n.matches("Shift","ArrowUp")?(t.stopPropagation(),this._expandMaxLeft()):n.matches("Shift","ArrowDown")&&(t.stopPropagation(),
this._expandMaxRight())},_onBackspaceKeyDown:function(){this._delete()},_onKeyPress:function(e){
var t,n,r,i,a,o;if("Enter"===e.key)return body.canvas.textInputMode=!1,body.canvas.selectedTextRange=null,
void body.toggleTool("transform-tool");var s=body.canvas.selectedTextRange,l=s.startContainer.closest("text");
if(s.startContainer===s.endContainer){var v=s.startContainer,f=v.textContent,m=f.substring(0,s.startOffset),p=f.substring(s.endOffset);
v.textContent=m+e.key+p,s.setStart(v,m.length+1),s.setEnd(v,m.length+1),body.canvas.selectedTextRange=s;
}else{var b,g,y=(t=c(s.startContainer,s.startOffset)[Symbol.iterator](),t.next(),
(n=t.next()).done?void 0:n.value),x=(r=c(s.endContainer,s.endOffset)[Symbol.iterator](),
r.next(),(i=r.next()).done?void 0:i.value),_=0,w=!0,S=!1,k=void 0;try{for(var C=void 0,R=h(l)[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value,E="",P=!0,A=!1,T=void 0;try{for(var L=void 0,N=M.textContent[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){
var $=L.value;y>_?E+=$:_===y?(E+=e.key,b=M,g=M):_>=x&&(E+=$),_+=1}}catch(O){A=!0,
T=O}finally{try{P||null==N["return"]||N["return"]()}finally{if(A)throw T}}M.textContent=E;
var V=null;if(""===E)for(var j=M.parentNode;j!==l;j=j.parentNode)0===d(j).length&&(V=j);
V&&V.remove()}}catch(z){S=!0,k=z}finally{try{w||null==R["return"]||R["return"]()}finally{
if(S)throw k}}var I=u(l,y+1),D=(a=I[Symbol.iterator](),(o=a.next()).done?void 0:o.value),G=(o=a.next()).done?void 0:o.value;
s.setStart(D,G),s.setEnd(D,G),body.canvas.selectedTextRange=s}},_onBackspaceKeyDown600Db:function(e){
body.canvas.undoManager.checkpoint("Delete text")},_onKeyPress300Db:function(e){body.canvas.undoManager.checkpoint("Text");
},_cut:function(){body.canvas.undoManager.checkpoint("Cut");var e={"text/plain":body.canvas.selectedTextRange.toString()
};body.bridge.postMessage("setClipboardData",e),this._delete()},_copy:function(){
var e={"text/plain":body.canvas.selectedTextRange.toString()};body.bridge.postMessage("setClipboardData",e);
},_paste:function(){body.bridge.postMessage("getClipboardData",null,function(e){var t,n,r,i,a=e["text/plain"];
if(a){body.canvas.undoManager.checkpoint("Paste");var o=body.canvas.selectedTextRange,s=o.startContainer.closest("text"),l=h(s),d=(t=c(o.startContainer,o.startOffset)[Symbol.iterator](),
t.next(),(n=t.next()).done?void 0:n.value);if(o.startContainer===o.endContainer){
var f=!0,m=!1,p=void 0;try{for(var b=void 0,g=l[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;if(y===o.startContainer)if(o.startOffset===o.endOffset){var x=y.textContent.substring(0,o.startOffset),_=y.textContent.substring(o.startOffset);
y.textContent=x+a+_}else{var w=y.textContent.substring(0,o.startOffset),S=y.textContent.substring(o.endOffset);
y.textContent=w+a+S}}}catch(k){m=!0,p=k}finally{try{f||null==g["return"]||g["return"]();
}finally{if(m)throw p}}}else{var C=!0,R=!1,M=void 0;try{for(var E=void 0,P=l[Symbol.iterator]();!(C=(E=P.next()).done);C=!0){
var A=E.value;A===o.startContainer?A.textContent=A.textContent.substring(0,o.startOffset)+a:A===o.endContainer?A.textContent=A.textContent.substring(o.endOffset):l.indexOf(A)>l.indexOf(o.startContainer)&&l.indexOf(A)<l.indexOf(o.endContainer)&&(A.textContent="");
}}catch(T){R=!0,M=T}finally{try{C||null==P["return"]||P["return"]()}finally{if(R)throw M;
}}}var L=u(s,d+a.length),N=(r=L[Symbol.iterator](),(i=r.next()).done?void 0:i.value),$=(i=r.next()).done?void 0:i.value;
o.setStart(N,$),o.setEnd(N,$),body.canvas.selectedTextRange=o,v(s,o)}})},_delete:function(){
var e,t,n,r,i,a,o=body.canvas.selectedTextRange.startContainer.closest("text"),s=body.canvas.selectedTextRange;
if(s.startContainer===s.endContainer&&s.startOffset>1){var l=s.startContainer,v=s,f=v.startOffset,m=v.endOffset;
f===m&&(f-=1);var p=l.textContent.substring(0,f),b=l.textContent.substring(m);l.textContent=p+b;
var g=new Range;g.setStart(l,f),g.setEnd(l,f),body.canvas.selectedTextRange=g}else{
var y=(e=c(s.startContainer,s.startOffset)[Symbol.iterator](),e.next(),(t=e.next()).done?void 0:t.value),x=(n=c(s.endContainer,s.endOffset)[Symbol.iterator](),
n.next(),(r=n.next()).done?void 0:r.value);if(y===x&&(y-=1),y>=0){var _=0,w=h(o),S=!0,k=!1,C=void 0;
try{for(var R=void 0,M=w[Symbol.iterator]();!(S=(R=M.next()).done);S=!0){var E=R.value,P="",A=!0,T=!1,L=void 0;
try{for(var N=void 0,$=E.textContent[Symbol.iterator]();!(A=(N=$.next()).done);A=!0){
var O=N.value;(y>_||_>=x)&&(P+=O),_+=1}}catch(V){T=!0,L=V}finally{try{A||null==$["return"]||$["return"]();
}finally{if(T)throw L}}E.textContent=P}}catch(j){k=!0,C=j}finally{try{S||null==M["return"]||M["return"]();
}finally{if(k)throw C}}if(0===d(o).length)o.remove(),body.canvas.selectedElements=body.canvas.selectedElements.filter(function(e){
return e!==o}),body.canvas.selectedTextRange=null;else{var z=!0,I=!1,D=void 0;try{
for(var G=void 0,B=w[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){var U=G.value;
if(""===U.textContent&&o.contains(U)){for(var H=null,F=U;F&&F!==o;F=F.parentNode)0===d(F).length&&(H=F);
H&&H.remove()}}}catch(q){I=!0,D=q}finally{try{z||null==B["return"]||B["return"]();
}finally{if(I)throw D}}var W=u(o,y),Y=(i=W[Symbol.iterator](),(a=i.next()).done?void 0:a.value),X=(a=i.next()).done?void 0:a.value,Z=new Range;
Z.setStart(Y,X),Z.setEnd(Y,X),body.canvas.selectedTextRange=Z}}}},_selectAll:function(e){
var t=h(e);if(t.length>0){var n=t[0],r=t[t.length-1],i=new Range;i.setStart(n,0),
i.setEnd(r,r.textContent.length),body.canvas.selectedTextRange=i}},_deselectAll:function(){
body.canvas.selectedTextRange=null},_selectWord:function(e,t){for(var n,r,i,a,o=d(e),l=o[t],c=e.getNumberOfChars(),v=t,f=t,m=t-1;m>=0&&!(s(l)&&!s(o[m])||!s(l)&&s(o[m]));m-=1)v-=1;
for(var p=t;c>p&&!(s(l)&&!s(o[p])||!s(l)&&s(o[p]));p+=1)f+=1;var b=u(e,v),g=(n=b[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),y=(r=n.next()).done?void 0:r.value,x=u(e,f),_=(i=x[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),w=(a=i.next()).done?void 0:a.value;if(y===g.textContent.length){
var S=h(e),k=S[S.indexOf(g)+1];k&&(g=k,y=0)}var C=new Range;C.setStart(g,y),C.setEnd(_,w),
body.canvas.selectedTextRange=C},_moveLeft:function(){var e,t,n,r,i=body.canvas.selectedTextRange,a=i.startContainer.closest("text"),o=(e=c(i.startContainer,i.startOffset)[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value);o>0&&i.collapsed&&(o-=1);var s=u(a,o),l=(n=s[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),d=(r=n.next()).done?void 0:r.value;if(0===d){var v=h(a),f=v[v.indexOf(l)-1];
f&&(l=f,d=f.textContent.length)}var m=new Range;m.setStart(l,d),m.setEnd(l,d),body.canvas.selectedTextRange=m;
},_moveRight:function(){var e,t,n,r,i=body.canvas.selectedTextRange,a=i.startContainer.closest("text"),o=(e=c(i.endContainer,i.endOffset)[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value);o<a.getNumberOfChars()&&i.collapsed&&(o+=1);
var s=u(a,o),l=(n=s[Symbol.iterator](),(r=n.next()).done?void 0:r.value),d=(r=n.next()).done?void 0:r.value,h=new Range;
h.setStart(l,d),h.setEnd(l,d),body.canvas.selectedTextRange=h},_moveMaxLeft:function(){
var e,t,n=body.canvas.selectedTextRange,r=n.startContainer.closest("text"),i=0,a=u(r,i),o=(e=a[Symbol.iterator](),
(t=e.next()).done?void 0:t.value),s=(t=e.next()).done?void 0:t.value,l=new Range;l.setStart(o,s),
l.setEnd(o,s),body.canvas.selectedTextRange=l},_moveMaxRight:function(){var e,t,n=body.canvas.selectedTextRange,r=n.startContainer.closest("text"),i=r.getNumberOfChars(),a=u(r,i),o=(e=a[Symbol.iterator](),
(t=e.next()).done?void 0:t.value),s=(t=e.next()).done?void 0:t.value,l=new Range;l.setStart(o,s),
l.setEnd(o,s),body.canvas.selectedTextRange=l},_expand:function(e){var t,n,r,i,a,o,s,l,d=body.canvas.selectedTextRange,v=d.startContainer.closest("text"),f=(t=c(d.startContainer,d.startOffset)[Symbol.iterator](),
t.next(),(n=t.next()).done?void 0:n.value),m=(r=c(d.endContainer,d.endOffset)[Symbol.iterator](),
r.next(),(i=r.next()).done?void 0:i.value);if(f>e)f=e;else if(e>m)m=e;else{if(!(e>f&&m>e))return;
e-f>m-e?m=e:f=e}var p=u(v,f),b=(a=p[Symbol.iterator](),(o=a.next()).done?void 0:o.value),g=(o=a.next()).done?void 0:o.value,y=u(v,m),x=(s=y[Symbol.iterator](),
(l=s.next()).done?void 0:l.value),_=(l=s.next()).done?void 0:l.value;if(g===b.textContent.length){
var w=h(v),S=w[w.indexOf(b)+1];S&&(b=S,g=0)}var k=new Range;k.setStart(b,g),k.setEnd(x,_),
k.direction="backward",body.canvas.selectedTextRange=k},_expandLeft:function(){var e,t,n,r,i,a,o,s,l=body.canvas.selectedTextRange,d=l.startContainer.closest("text"),v=(e=c(l.startContainer,l.startOffset)[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value),f=(n=c(l.endContainer,l.endOffset)[Symbol.iterator](),
n.next(),(r=n.next()).done?void 0:r.value);v>0&&(v-=1);var m=u(d,v),p=(i=m[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),b=(a=i.next()).done?void 0:a.value,g=u(d,f),y=(o=g[Symbol.iterator](),
(s=o.next()).done?void 0:s.value),x=(s=o.next()).done?void 0:s.value;if(b===p.textContent.length){
var _=h(d),w=_[_.indexOf(p)+1];w&&(p=w,b=0)}var S=new Range;S.setStart(p,b),S.setEnd(y,x),
S.direction="backward",body.canvas.selectedTextRange=S},_expandRight:function(){var e,t,n,r,i,a,o,s,l=body.canvas.selectedTextRange,d=l.startContainer.closest("text"),v=(e=c(l.startContainer,l.startOffset)[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value),f=(n=c(l.endContainer,l.endOffset)[Symbol.iterator](),
n.next(),(r=n.next()).done?void 0:r.value);f<d.getNumberOfChars()&&(f+=1);var m=u(d,v),p=(i=m[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),b=(a=i.next()).done?void 0:a.value,g=u(d,f),y=(o=g[Symbol.iterator](),
(s=o.next()).done?void 0:s.value),x=(s=o.next()).done?void 0:s.value;if(b===p.textContent.length){
var _=h(d),w=_[_.indexOf(p)+1];w&&(p=w,b=0)}var S=new Range;S.setStart(p,b),S.setEnd(y,x),
body.canvas.selectedTextRange=S},_expandMaxLeft:function(){var e,t,n,r,i,a,o=body.canvas.selectedTextRange,s=o.startContainer.closest("text"),l=0,d=(e=c(o.endContainer,o.endOffset)[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value),h=u(s,l),v=(n=h[Symbol.iterator](),(r=n.next()).done?void 0:r.value),f=(r=n.next()).done?void 0:r.value,m=u(s,d),p=(i=m[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),b=(a=i.next()).done?void 0:a.value,g=new Range;g.setStart(v,f),
g.setEnd(p,b),g.direction="backward",body.canvas.selectedTextRange=g},_expandMaxRight:function(){
var e,t,n,r,i,a,o=body.canvas.selectedTextRange,s=o.startContainer.closest("text"),l=(e=c(o.startContainer,o.startOffset)[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value),d=s.getNumberOfChars(),h=u(s,l),v=(n=h[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),f=(r=n.next()).done?void 0:r.value,m=u(s,d),p=(i=m[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),b=(a=i.next()).done?void 0:a.value,g=new Range;g.setStart(v,f),
g.setEnd(p,b),body.canvas.selectedTextRange=g},_update:function(){var e,t,r,i,a=body.canvas.selectedTextRange,o=(e=(a?c(a.startContainer,a.startOffset):[,-1])[Symbol.iterator](),
e.next(),(t=e.next()).done?void 0:t.value),s=(r=(a?c(a.endContainer,a.endOffset):[,-1])[Symbol.iterator](),
r.next(),(i=r.next()).done?void 0:i.value);if(a&&a.collapsed===!0){var l=a.startContainer.closest("text"),u=l.getNumberOfChars(),d="backward"===a.direction?o:s;
if(0===d){var h=l.getExtentOfChar(d),v=l.getStartPositionOfChar(d),f=l.getSubStringLength(d,1),m=h.height,p=l.getRotationOfChar(d),g=new SVGMatrix;
g.multiplySelf(b(l,this)),g.rotateSelf(p,v.x+f/2,v.y),this["#caret-line"].setAttribute("x1",v.x),
this["#caret-line"].setAttribute("y1",h.y),this["#caret-line"].setAttribute("x2",v.x),
this["#caret-line"].setAttribute("y2",h.y+m),this["#caret-line"].setAttribute("transform",g.toString()),
this["#caret-line"].style.setProperty("visibility","visible")}else if(d>0&&u>=d){
var y=l.getExtentOfChar(d-1),x=l.getEndPositionOfChar(d-1),_=l.getSubStringLength(d-1,1),w=y.height,S=l.getRotationOfChar(d-1),k=new SVGMatrix;
k.multiplySelf(b(l,this)),k.rotateSelf(S,x.x-_/2,x.y),this["#caret-line"].setAttribute("x1",x.x),
this["#caret-line"].setAttribute("y1",y.y),this["#caret-line"].setAttribute("x2",x.x),
this["#caret-line"].setAttribute("y2",y.y+w),this["#caret-line"].setAttribute("transform",k.toString()),
this["#caret-line"].style.setProperty("visibility","visible")}else d>u&&this["#caret-line"].style.setProperty("visibility","hidden");
}else this["#caret-line"].style.setProperty("visibility","hidden");if(this["#selection-rects"].innerHTML="",
a&&a.collapsed===!1)for(var C=a.startContainer.closest("text"),R=C.getNumberOfChars(),M=o;s>M&&R>M;M+=1){
var E=C.getExtentOfChar(M),P=C.getStartPositionOfChar(M),A=(C.getEndPositionOfChar(M),
C.getSubStringLength(M,1)),T=E.height,L=C.getRotationOfChar(M),N=new SVGMatrix;N.multiplySelf(b(C,this)),
N.rotateSelf(L,P.x+A/2,P.y);var $=n("svg:rect");$.setAttribute("x",P.x),$.setAttribute("y",E.y),
$.setAttribute("width",A),$.setAttribute("height",T),$.setAttribute("transform",N.toString()),
this["#selection-rects"].append($)}}},{},t)}(SVGGElement),x=r("g","bx-texthud",y);
return{get default(){return x}}}),$traceurRuntime.registerModule("elements/bx-texttool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-texttool")),t=(e.createElement,
e.registerElement),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/markup","elements/bx-texttool")).parseSVG,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-texttool")).round,i=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("click",this._clickListener=function(t){
return e._onClick(t)})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("click",this._clickListener)},_onClick:function(e){
body.canvas.undoManager.checkpoint("Text"),body.canvas.googleFontsManager.importFamily("Roboto");
var t=body.canvas.currentContainer||body.canvas.currentArtboard,i=t.getScreenCTM().inverse(),a=new SVGPoint(e.clientX,e.clientY),o=a.matrixTransform(i),s=r(o.x,body.canvas.geometryPrecision),l=r(o.y,body.canvas.geometryPrecision),u=n('<text x="'+s+'" y="'+l+'" style="font-size: 36; font-family: Roboto; white-space: pre;">Enter your text here</text>');
t.append(u),body.canvas.selectedElements=[u],body.toggleTool("edit-tool")}},{},e);
}(HTMLElement),a=t("bx-texttool",i);return{get default(){return a}}}),$traceurRuntime.registerModule("elements/bx-transformhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-transformhud")),t=e.getUserBBox,n=e.getClientBBox,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-transformhud")).registerElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-transformhud")).isPointerMoveIntentional,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-transformhud")),o=a.getRotationAngleFromPoints,s=a.snapRotationAngle,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-transformhud")).round,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-transformhud")),c=u.transformRect,d=u.combineRects,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-transformhud")),v=h.sleep,f=h.throttle,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-decomposition","elements/bx-transformhud")).decomposeTransform,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-transformhud")).reduceTransform,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-transformhud")),g=b.getComputedTransformOriginClientPoint,y=b.getTransformToElement,x=b.getElementRotationAngle,_=b.setElementRotationAngle,w=b.skew,S=b.userPointToBBoxPoint,k=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-transformhud"))["default"],C=Math,R=C.abs,M=C.atan,E=C.min,P=C.max,A=Number.parseFloat,T=12,L=12,N=12,$=10,O=Symbol(),V=Symbol(),j=Symbol(),z=Symbol(),I='\n  <style>@import url("stylesheets/bx-transformhud.css");</style>\n\n  <g id="grippies">\n    <g id="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g id="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g id="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg id="origin-grippie" viewBox="0 0 50 50" visibility="hidden">\n      <use href="images/icons.svg#cross" x="0" y="0" width="50" height="50"></use>\n      <rect x="0" y="0" width="50" height="50" style="opacity: 0;"/>\n    </svg>\n  </g>\n',D=function(e){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){var e=this;this._scaleGrippiesByPosition={},this._skewGrippiesByPosition={},
this._rotateGrippiesByPosition={},this._isDraggingRotateGrippie=!1,this._isScaling=!1,
this._isTransformingInUserSpace=!1,this._preserveStrokeWidth=!0,this._preserveRectRadii=!0,
this._preserveRotation=!0,this._preserveAspectRatio=!1,this._updateGrippies25Th=f(this._updateGrippies,25,this),
this._updateGrippies250Th=f(this._updateGrippies,250,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=I;var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this["#scale-grippies"].children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this._scaleGrippiesByPosition[v.getAttribute("data-position")]=v}}catch(m){
u=!0,c=m}finally{try{l||null==h["return"]||h["return"]()}finally{if(u)throw c}}var p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=this["#rotate-grippies"].children[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){
var _=y.value;this._rotateGrippiesByPosition[_.getAttribute("data-position")]=_}}catch(w){
b=!0,g=w}finally{try{p||null==x["return"]||x["return"]()}finally{if(b)throw g}}var S=!0,k=!1,C=void 0;
try{for(var R=void 0,M=this["#skew-grippies"].children[Symbol.iterator]();!(S=(R=M.next()).done);S=!0){
var E=R.value;this._skewGrippiesByPosition[E.getAttribute("data-position")]=E}}catch(P){
k=!0,C=P}finally{try{S||null==M["return"]||M["return"]()}finally{if(k)throw C}}this._shadowRoot.addEventListener("pointerdown",function(t){
e._onPointerDown(t)}),this._shadowRoot.addEventListener("dblclick",function(t){e._onDblClick(t);
}),body.getConfig("bx-transformtoolcontrols:preserveStrokeWidth").then(function(t){
e._preserveStrokeWidth=null===t?!0:t}),body.getConfig("bx-transformtoolcontrols:preserveRectRadii").then(function(t){
e._preserveRectRadii=null===t?!0:t}),body.getConfig("bx-transformtoolcontrols:preserveRotation").then(function(t){
e._preserveRotation=null===t?!0:t}),body.getConfig("bx-transformtoolcontrols:preserveAspectRatio").then(function(t){
e._preserveAspectRatio=null===t?!1:t});var A=!0,T=!1,L=void 0;try{for(var N=void 0,$=this.attributes[Symbol.iterator]();!(A=(N=$.next()).done);A=!0){
var O=N.value;this.attributeChangedCallback(O.name)}}catch(V){T=!0,L=V}finally{try{
A||null==$["return"]||$["return"]()}finally{if(T)throw L}}},attributeChangedCallback:function(e){
"enabled"===e?this.enabled?this._onEnabled():this._onDisabled():"mode"===e&&this._onModeAttributeChange();
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},get mode(){return this.hasAttribute("mode")?this.getAttribute("mode"):"scale"},
set mode(e){this.setAttribute("mode",e)},get isScaling(){return this._isScaling},
_onEnabled:function(){var e=this;this._onSelectedElementsChange(),this._onZoomChange(),
body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.addEventListener("configchange",this._configChangeListener=function(t){
e._onConfigChange(t)})},_onDisabled:function(){body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.removeEventListener("configchange",this._configChangeListener);
},_onModeAttributeChange:function(){"scale"===this.mode?(this["#scale-grippies"].style.setProperty("visibility","visible"),
this["#rotate-grippies"].style.setProperty("visibility","hidden"),this["#skew-grippies"].style.setProperty("visibility","hidden"),
this["#origin-grippie"].style.setProperty("visibility","hidden")):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.setProperty("visibility","hidden"),
this["#rotate-grippies"].style.setProperty("visibility","visible"),this["#skew-grippies"].style.setProperty("visibility","visible"),
this["#origin-grippie"].style.setProperty("visibility","visible")),this._updateGrippies();
},_onConfigChange:function(e){var t=e.detail,n=t.key,r=t.value;"bx-transformtoolcontrols:preserveStrokeWidth"===n?this._preserveStrokeWidth=null===r?!0:r:"bx-transformtoolcontrols:preserveRectRadii"===n?this._preserveRectRadii=null===r?!0:r:"bx-transformtoolcontrols:preserveRotation"===n?this._preserveRotation=null===r?!0:r:"bx-transformtoolcontrols:preserveAspectRatio"===n&&(this._preserveAspectRatio=null===r?!1:r);
},_onSelectedElementsChange:function(){0===body.canvas.outermostSelectedElements.length?this["#grippies"].style.setProperty("display","none"):this["#grippies"].style.setProperty("display","block"),
this._updateGrippies()},_onArtboardMutation:function(e){body.canvas.selectedElements.length>100?this._updateGrippies250Th():this._updateGrippies25Th();
},_onZoomChange:function(){this._updateGrippies25Th()},_onPointerDown:function(e){
var t,n,r=this,a=e.target;window.addEventListener("pointermove",t=function(n){i(e,n)&&(window.removeEventListener("pointermove",t),
r._onDragStart(a,e,n))}),window.addEventListener("pointerup",n=function(e){window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n)})},_onDblClick:function(e){var t=e.target.parentElement;
t===this["#rotate-grippies"]?this._onRotateGrippieDblClick(e):t===this["#skew-grippies"]?this._onSkewGrippieDblClick(e):t===this["#origin-grippie"]&&this._onOriginGrippieDblClick(e);
},_onDragStart:function(e,t){var n=e.parentElement;n===this["#scale-grippies"]?this._onScaleGrippieDragStart(t):n===this["#rotate-grippies"]?this._onRotateGrippieDragStart(t):n===this["#skew-grippies"]?this._onSkewGrippieDragStart(t):n===this["#origin-grippie"]&&this._onOriginGrippieDragStart(t);
},_onScaleGrippieDragStart:function(e){var r,i,a=this;if(0===e.button){var o,s,l=$traceurRuntime.spread(body.canvas.outermostSelectedElements),u=e.path[0].getAttribute("data-position");
body.canvas.undoManager.checkpoint("Scale Transform"),body.canvas.outlinesHud.enabled=!1,
this._isScaling=!0;var h=!0,v=!1,f=void 0;try{for(var b=void 0,g=l[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){
var x=b.value;if(this._preserveStrokeWidth===!0){var _=x.getScreenCTM(),w=m(_),S=w.scaleX,k=w.scaleY,C="left"===u||"right"===u?S:k,M=getComputedStyle(x);
x[O]=x.style.getPropertyValue("stroke-width"),x[V]=x.style.getPropertyValue("vector-effect");
var E=R(C)*A(M.getPropertyValue("stroke-width"));x.style.setProperty("stroke-width",E),
x.style.setProperty("vector-effect","non-scaling-stroke")}}}catch(P){v=!0,f=P}finally{
try{h||null==g["return"]||g["return"]()}finally{if(v)throw f}}if(this._canTransformElementsInUserSpace(l)){
var T=l,L=(r=T[Symbol.iterator](),(i=r.next()).done?void 0:i.value),N=($traceurRuntime.iteratorToArray(r),
Symbol());this._isTransformingInUserSpace=!0;var $=(y(L,this),new SVGPoint(e.clientX,e.clientY)),z=!0,I=!1,D=void 0;
try{for(var G,B,U,H=function(){var e=F.value,n=e.getScreenCTM().inverse(),r=SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),i=l.filter(function(t){
return t!==e}),a=[t(e)];G=!0,B=!1,U=void 0;try{for(var o=void 0,s=i[Symbol.iterator]();!(G=(o=s.next()).done);G=!0){
var u=o.value,h=y(u,e),v=c(t(u),h);a.push(v)}}catch(f){B=!0,U=f}finally{try{G||null==s["return"]||s["return"]();
}finally{if(B)throw U}}var m=d(a);e[N]={clientToUserTransform:n,userTransform:r,bbox:m
}},F=void 0,q=l[Symbol.iterator]();!(z=(F=q.next()).done);z=!0)H()}catch(W){I=!0,
D=W}finally{try{z||null==q["return"]||q["return"]()}finally{if(I)throw D}}window.addEventListener("pointermove",o=function(e){
var t=!0,n=!1,r=void 0;try{for(var i=void 0,o=l[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){
var s=i.value,c=s[N],d=c.clientToUserTransform,h=c.userTransform,v=c.bbox,f=$.matrixTransform(d),m=new SVGPoint(e.clientX,e.clientY);
m=m.matrixTransform(d);var p=m.x-f.x,b=m.y-f.y,g=a._scaleParams(p,b,v,u),y=g.centerX,x=g.centerY,_=g.scaleX,w=g.scaleY,S=-y*(_-1),k=-x*(w-1),C=SVGMatrix.fromMatrix(h);
C.translateSelf(S,k),C.scaleNonUniformSelf(_,w),s.setAttribute("transform",C.toString());
}}catch(R){n=!0,r=R}finally{try{t||null==o["return"]||o["return"]()}finally{if(n)throw r;
}}})}else{var Y=function(){var e=0,t=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=body.canvas.outermostSelectedElements[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;t[e++]=n(l)}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return t}(),X=d(Y),Z=!0,K=!1,J=void 0;try{for(var Q=void 0,ee=l[Symbol.iterator]();!(Z=(Q=ee.next()).done);Z=!0){
var te=Q.value,ne=te.getScreenCTM(),re=ne.inverse(),ie=SVGMatrix.fromMatrix(te.transform.baseVal.consolidate().matrix);
te[j]={clientToUserTransform:ne,userToClientTransform:re,userTransform:ie}}}catch(ae){
K=!0,J=ae}finally{try{Z||null==ee["return"]||ee["return"]()}finally{if(K)throw J}
}window.addEventListener("pointermove",o=function(t){var n=!0,r=!1,i=void 0;try{for(var o=void 0,s=l[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var c=o.value,d=t.clientX-e.clientX,h=t.clientY-e.clientY,v=c[j],f=v.clientToUserTransform,m=v.userToClientTransform,p=v.userTransform,b=a._scaleParams(d,h,X,u),g=b.centerX,y=b.centerY,x=b.scaleX,_=b.scaleY,w=-g*(x-1),S=-y*(_-1),k=SVGMatrix.fromMatrix(p);
k.multiplySelf(m),k.translateSelf(w,S),k.scaleNonUniformSelf(x,_),k.multiplySelf(f),
c.setAttribute("transform",k.toString())}}catch(C){r=!0,i=C}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw i}}})}window.addEventListener("pointerup",s=function(e){window.removeEventListener("pointermove",o),
window.removeEventListener("pointerup",s);var t=!0,n=!1,r=void 0;try{for(var i=void 0,c=l[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){
var d=i.value;a._preserveStrokeWidth===!0&&(d.style.setProperty("stroke-width",d[O]),
d.style.setProperty("vector-effect",d[V])),p(d,{geometryPrecision:body.canvas.geometryPrecision,
transformPrecision:body.canvas.transformPrecision,preserveStrokeWidth:a._preserveStrokeWidth,
preserveRectRadii:a._preserveRectRadii,preserveRotation:a._preserveRotation,transformDirection:u
})}}catch(h){n=!0,r=h}finally{try{t||null==c["return"]||c["return"]()}finally{if(n)throw r;
}}body.canvas.outlinesHud.enabled=!0,a._isScaling=!1,a._isTransformingInUserSpace=!1;
})}},_onRotateGrippieDragStart:function(e){var t=this;if(0===e.button){var n=$traceurRuntime.spread(body.canvas.outermostSelectedElements);
if(body.canvas.undoManager.checkpoint("Rotate Transform"),body.canvas.outlinesHud.enabled=!1,
this._canTransformElementsInUserSpace(n)&&(this._isTransformingInUserSpace=!0),1===n.length){
var r,i,a=n[0],l=x(a),u=new SVGPoint(e.clientX,e.clientY),c=g([a]);this._isDraggingRotateGrippie=!0,
window.addEventListener("pointermove",r=function(e){var t=new SVGPoint(e.clientX,e.clientY),n=o(c,u,t),r=l+n;
body.modKeys.shift&&(r=s(r,15)),_(a,r)}),window.addEventListener("pointerup",i=function(e){
window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),
p(a,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preserveStrokeWidth:!0,preserveRectRadii:t._preserveRectRadii,preserveRotation:t._preserveRotation
}),t._isDraggingRotateGrippie=!1,t._isTransformingInUserSpace=!1,body.canvas.outlinesHud.enabled=!0;
})}else{var d,h,v=g(n),f=new SVGPoint(e.clientX,e.clientY),m=!0,b=!1,y=void 0;try{
for(var w=void 0,S=n[Symbol.iterator]();!(m=(w=S.next()).done);m=!0){var k=w.value,C=SVGMatrix.fromMatrix(k.transform.baseVal.consolidate().matrix),R=k.getScreenCTM(),M=R.inverse();
k[j]={clientToUserTransform:R,userToClientTransform:M,userTransform:C}}}catch(E){
b=!0,y=E}finally{try{m||null==S["return"]||S["return"]()}finally{if(b)throw y}}this._isDraggingRotateGrippie=!0,
window.addEventListener("pointermove",d=function(e){var t=!0,r=!1,i=void 0;try{for(var a=void 0,l=n[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){
var u=a.value,c=u[j],d=c.clientToUserTransform,h=c.userToClientTransform,m=c.userTransform,p=new SVGPoint(e.clientX,e.clientY),b=o(v,f,p);
body.modKeys.shift&&(b=s(b,15));var g=SVGMatrix.fromMatrix(m);g.multiplySelf(h),g.rotateSelf(b,v.x,v.y),
g.multiplySelf(d),u.setAttribute("transform",g.toString())}}catch(y){r=!0,i=y}finally{
try{t||null==l["return"]||l["return"]()}finally{if(r)throw i}}}),window.addEventListener("pointerup",h=function(e){
window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",h);
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;p(l,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preserveStrokeWidth:!0,preserveRectRadii:t._preserveRectRadii,preserveRotation:t._preserveRotation
})}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}t._isDraggingRotateGrippie=!1,t._isTransformingInUserSpace=!1,body.canvas.outlinesHud.enabled=!0;
})}}},_onSkewGrippieDragStart:function(e){var n,r,i=this;if(0===e.button){var a,s,l,u=$traceurRuntime.spread(body.canvas.outermostSelectedElements),h=e.path[0].getAttribute("data-position");
l="top"===h||"bottom"===h?"horizontal":"vertical",body.canvas.undoManager.checkpoint("Skew Transform"),
body.canvas.outlinesHud.enabled=!1;var v=!0,f=!1,b=void 0;try{for(var x=void 0,_=u[Symbol.iterator]();!(v=(x=_.next()).done);v=!0){
var S=x.value;S[O]=S.style.getPropertyValue("stroke-width"),S[V]=S.style.getPropertyValue("vector-effect");
var k=S.getScreenCTM(),C=m(k),M=C.scaleX,E=C.scaleY,P=(M+E)/2,T=getComputedStyle(S),L=R(P)*A(T.getPropertyValue("stroke-width"));
S.style.setProperty("stroke-width",L),S.style.setProperty("vector-effect","non-scaling-stroke");
}}catch(N){f=!0,b=N}finally{try{v||null==_["return"]||_["return"]()}finally{if(f)throw b;
}}if(this._canTransformElementsInUserSpace(u)){var $=u,z=(n=$[Symbol.iterator](),
(r=n.next()).done?void 0:r.value),I=$traceurRuntime.iteratorToArray(n),D=t(z),G=[],B=Symbol(),U=!0,H=!1,F=void 0;
try{for(var q=void 0,W=I[Symbol.iterator]();!(U=(q=W.next()).done);U=!0){var Y=q.value,X=y(Y,z),Z=c(t(Y),X);
G.push(Z)}}catch(K){H=!0,F=K}finally{try{U||null==W["return"]||W["return"]()}finally{
if(H)throw F}}var J=(d($traceurRuntime.spread([D],G)),y(z,this),new SVGPoint(e.clientX,e.clientY)),Q=g(u),ee=!0,te=!1,ne=void 0;
try{for(var re=void 0,ie=u[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){var ae=re.value,oe=ae.getScreenCTM().inverse(),se=SVGMatrix.fromMatrix(ae.transform.baseVal.consolidate().matrix);
ae[B]={clientToUserTransform:oe,userTransform:se}}}catch(le){te=!0,ne=le}finally{
try{ee||null==ie["return"]||ie["return"]()}finally{if(te)throw ne}}window.addEventListener("pointermove",a=function(e){
var t=body.modKeys,n=(t.ctrl,t.alt,t.shift,!0),r=!1,i=void 0;try{for(var a=void 0,s=u[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){
var c=a.value,d=c[B],h=d.clientToUserTransform,v=d.userTransform,f=J.matrixTransform(h),m=Q.matrixTransform(h),p=new SVGPoint(e.clientX,e.clientY),b=p.matrixTransform(h),g=o(m,f,b),y=SVGMatrix.fromMatrix(v);
y="horizontal"===l?w(y,-g,0,m.x,m.y):w(y,0,g,m.x,m.y),c.setAttribute("transform",y.toString());
}}catch(x){r=!0,i=x}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i;
}}})}else{var ue=new SVGPoint(e.clientX,e.clientY),ce=g(u),de=!0,he=!1,ve=void 0;try{
for(var fe=void 0,me=u[Symbol.iterator]();!(de=(fe=me.next()).done);de=!0){var pe=fe.value,be=pe.getScreenCTM(),ge=be.inverse(),ye=SVGMatrix.fromMatrix(pe.transform.baseVal.consolidate().matrix);
pe[j]={clientToUserTransform:be,userToClientTransform:ge,userTransform:ye}}}catch(xe){
he=!0,ve=xe}finally{try{de||null==me["return"]||me["return"]()}finally{if(he)throw ve;
}}window.addEventListener("pointermove",a=function(e){var t=!0,n=!1,r=void 0;try{
for(var i=void 0,a=u[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value,c=s[j],d=c.clientToUserTransform,h=c.userToClientTransform,v=c.userTransform,f=new SVGPoint(e.clientX,e.clientY),m=o(ce,ue,f),p=SVGMatrix.fromMatrix(v);
p.multiplySelf(h),p="horizontal"===l?w(p,-m,0,ce.x,ce.y):w(p,0,m,ce.x,ce.y),p.multiplySelf(d),
s.setAttribute("transform",p.toString())}}catch(b){n=!0,r=b}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}})}window.addEventListener("pointerup",s=function(e){window.removeEventListener("pointermove",a),
window.removeEventListener("pointerup",s);var t=!0,n=!1,r=void 0;try{for(var o=void 0,l=u[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){
var c=o.value;c.style.setProperty("stroke-width",c[O]),c.style.setProperty("vector-effect",c[V]);
}}catch(d){n=!0,r=d}finally{try{t||null==l["return"]||l["return"]()}finally{if(n)throw r;
}}p(S,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision,
preserveStrokeWidth:!0,preserveRectRadii:i._preserveRectRadii,preserveRotation:i._preserveRotation
}),body.canvas.outlinesHud.enabled=!0})}},_onOriginGrippieDragStart:function(e){if(0===e.button){
var n,r,i=$traceurRuntime.spread(body.canvas.outermostSelectedElements),a=new SVGPoint(e.clientX,e.clientY),o=!0,s=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,v=h.getScreenCTM().inverse(),f=t(h);
h[j]={clientToUserTransform:v},h[z]=f}}catch(m){s=!0,u=m}finally{try{o||null==d["return"]||d["return"]();
}finally{if(s)throw u}}body.canvas.undoManager.checkpoint("Transform Origin"),body.canvas.outlinesHud.enabled=!1;
var p=g(i);window.addEventListener("pointermove",n=function(e){var t=new SVGPoint(e.clientX,e.clientY),n=new k(a,t),r=new SVGPoint(p.x+n.x,p.y+n.y),o=!0,s=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,v=h[j].clientToUserTransform,f=h[z],m=r.matrixTransform(v),b=S(m,f),g=l(b.x,body.canvas.geometryPrecision),y=l(b.y,body.canvas.geometryPrecision);
h.setAttribute("data-bx-origin",g+" "+y)}}catch(x){s=!0,u=x}finally{try{o||null==d["return"]||d["return"]();
}finally{if(s)throw u}}}),window.addEventListener("pointerup",r=function(e){window.removeEventListener("pointermove",n),
window.removeEventListener("pointerup",r),body.canvas.outlinesHud.enabled=!0})}},
_onRotateGrippieDblClick:function(e){var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=body.canvas.outermostSelectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.removeAttribute("transform")}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_onSkewGrippieDblClick:function(e){var t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=body.canvas.outermostSelectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.removeAttribute("transform")}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}},_onOriginGrippieDblClick:function(e){var t=!0,n=!1,r=void 0;
try{for(var i=void 0,a=body.canvas.outermostSelectedElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;o.removeAttribute("data-bx-origin")}}catch(s){n=!0,r=s}finally{try{
t||null==a["return"]||a["return"]()}finally{if(n)throw r}}},_updateGrippies:function(){
"scale"===this.mode?this._updateScaleGrippies():"rotate-and-skew"===this.mode&&(this._updateRotateGrippies(),
this._updateSkewGrippies(),this._isDraggingRotateGrippie===!1&&this._updateOriginGrippie());
},_updateScaleGrippies:function(){var e,r,i=body.canvas.outermostSelectedElements;
if(i.length>0){var a=T/body.canvas.scale,o=(3/body.canvas.scale,this._scaleGrippiesByPosition),s=!0,l=!1,u=void 0;
try{for(var h=void 0,v=this["#scale-grippies"].children[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){
var f=h.value;f.width.baseVal.value=a,f.height.baseVal.value=a}}catch(m){l=!0,u=m;
}finally{try{s||null==v["return"]||v["return"]()}finally{if(l)throw u}}if(this._isTransformingInUserSpace||this._canTransformElementsInUserSpace(i)){
var p=i,b=(e=p[Symbol.iterator](),(r=e.next()).done?void 0:r.value),g=$traceurRuntime.iteratorToArray(e),x=t(b),_=[],w=!0,S=!1,k=void 0;
try{for(var C=void 0,R=g[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){var M=C.value,E=y(M,b),P=c(t(M),E);
_.push(P)}}catch(A){S=!0,k=A}finally{try{w||null==R["return"]||R["return"]()}finally{
if(S)throw k}}var L=d($traceurRuntime.spread([x],_)),N=y(b,this),$=new SVGPoint(L.x+L.width/2,L.y).matrixTransform(N);
o.top.x.baseVal.value=$.x-a/2,o.top.y.baseVal.value=$.y-a/2;var O=new SVGPoint(L.x+L.width/2,L.y+L.height).matrixTransform(N);
o.bottom.x.baseVal.value=O.x-a/2,o.bottom.y.baseVal.value=O.y-a/2;var V=new SVGPoint(L.x,L.y+L.height/2).matrixTransform(N);
o.left.x.baseVal.value=V.x-a/2,o.left.y.baseVal.value=V.y-a/2;var j=new SVGPoint(L.x+L.width,L.y+L.height/2).matrixTransform(N);
o.right.x.baseVal.value=j.x-a/2,o.right.y.baseVal.value=j.y-a/2;var z=new SVGPoint(L.x,L.y).matrixTransform(N);
o["top-left"].x.baseVal.value=z.x-a/2,o["top-left"].y.baseVal.value=z.y-a/2;var I=new SVGPoint(L.x+L.width,L.y).matrixTransform(N);
o["top-right"].x.baseVal.value=I.x-a/2,o["top-right"].y.baseVal.value=I.y-a/2;var D=new SVGPoint(L.x,L.y+L.height).matrixTransform(N);
o["bottom-left"].x.baseVal.value=D.x-a/2,o["bottom-left"].y.baseVal.value=D.y-a/2;
var G=new SVGPoint(L.x+L.width,L.y+L.height).matrixTransform(N);o["bottom-right"].x.baseVal.value=G.x-a/2,
o["bottom-right"].y.baseVal.value=G.y-a/2}else{var B=this.getScreenCTM().inverse(),U=d(function(){
var e=0,t=[],r=!0,a=!1,o=void 0;try{for(var s=void 0,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;t[e++]=n(u)}}catch(c){a=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return t}());U=c(U,B),o.top.x.baseVal.value=U.x+U.width/2-a/2,
o.top.y.baseVal.value=U.y-a/2,o.bottom.x.baseVal.value=U.x+U.width/2-a/2,o.bottom.y.baseVal.value=U.y+U.height-a/2,
o.left.x.baseVal.value=U.x-a/2,o.left.y.baseVal.value=U.y+U.height/2-a/2,o.right.x.baseVal.value=U.x+U.width-a/2,
o.right.y.baseVal.value=U.y+U.height/2-a/2,o["top-left"].x.baseVal.value=U.x-a/2,
o["top-left"].y.baseVal.value=U.y-a/2,o["top-right"].x.baseVal.value=U.x+U.width-a/2,
o["top-right"].y.baseVal.value=U.y-a/2,o["bottom-left"].x.baseVal.value=U.x-a/2,o["bottom-left"].y.baseVal.value=U.y+U.height-a/2,
o["bottom-right"].x.baseVal.value=U.x+U.width-a/2,o["bottom-right"].y.baseVal.value=U.y+U.height-a/2;
}}},_updateRotateGrippies:function(){var e,r,i=body.canvas.outermostSelectedElements;
if(i.length>0){var a=L/body.canvas.scale,o=(3/body.canvas.scale,this._rotateGrippiesByPosition),s=!0,l=!1,u=void 0;
try{for(var h=void 0,v=this["#rotate-grippies"].children[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){
var f=h.value;f.width.baseVal.value=a,f.height.baseVal.value=a}}catch(m){l=!0,u=m;
}finally{try{s||null==v["return"]||v["return"]()}finally{if(l)throw u}}if(this._isTransformingInUserSpace||this._canTransformElementsInUserSpace(i)){
var p=i,b=(e=p[Symbol.iterator](),(r=e.next()).done?void 0:r.value),g=$traceurRuntime.iteratorToArray(e),x=t(b),_=[],w=!0,S=!1,k=void 0;
try{for(var C=void 0,R=g[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){var M=C.value,E=y(M,b),P=c(t(M),E);
_.push(P)}}catch(A){S=!0,k=A}finally{try{w||null==R["return"]||R["return"]()}finally{
if(S)throw k}}var T=d($traceurRuntime.spread([x],_)),N=y(b,this),$=new SVGPoint(T.x,T.y).matrixTransform(N);
o["top-left"].x.baseVal.value=$.x-a/2,o["top-left"].y.baseVal.value=$.y-a/2;var O=new SVGPoint(T.x+T.width,T.y).matrixTransform(N);
o["top-right"].x.baseVal.value=O.x-a/2,o["top-right"].y.baseVal.value=O.y-a/2;var V=new SVGPoint(T.x,T.y+T.height).matrixTransform(N);
o["bottom-left"].x.baseVal.value=V.x-a/2,o["bottom-left"].y.baseVal.value=V.y-a/2;
var j=new SVGPoint(T.x+T.width,T.y+T.height).matrixTransform(N);o["bottom-right"].x.baseVal.value=j.x-a/2,
o["bottom-right"].y.baseVal.value=j.y-a/2}else{var z=this.getScreenCTM().inverse(),I=d(function(){
var e=0,t=[],r=!0,a=!1,o=void 0;try{for(var s=void 0,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;t[e++]=n(u)}}catch(c){a=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return t}());I=c(I,z),o["top-left"].x.baseVal.value=I.x-a/2,
o["top-left"].y.baseVal.value=I.y-a/2,o["top-right"].x.baseVal.value=I.x+I.width-a/2,
o["top-right"].y.baseVal.value=I.y-a/2,o["bottom-left"].x.baseVal.value=I.x-a/2,o["bottom-left"].y.baseVal.value=I.y+I.height-a/2,
o["bottom-right"].x.baseVal.value=I.x+I.width-a/2,o["bottom-right"].y.baseVal.value=I.y+I.height-a/2;
}}},_updateSkewGrippies:function(){var e,r,i=body.canvas.outermostSelectedElements;
if(i.length>0){var a=N/body.canvas.scale,o=(3/body.canvas.scale,this._skewGrippiesByPosition),s=!0,l=!1,u=void 0;
try{for(var h=void 0,v=this["#skew-grippies"].children[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){
var f=h.value;f.width.baseVal.value=a,f.height.baseVal.value=a}}catch(m){l=!0,u=m;
}finally{try{s||null==v["return"]||v["return"]()}finally{if(l)throw u}}if(this._isTransformingInUserSpace||this._canTransformElementsInUserSpace(i)){
var p=i,b=(e=p[Symbol.iterator](),(r=e.next()).done?void 0:r.value),g=$traceurRuntime.iteratorToArray(e),x=t(b),_=[],w=!0,S=!1,k=void 0;
try{for(var C=void 0,R=g[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){var M=C.value,E=y(M,b),P=c(t(M),E);
_.push(P)}}catch(A){S=!0,k=A}finally{try{w||null==R["return"]||R["return"]()}finally{
if(S)throw k}}var T=d($traceurRuntime.spread([x],_)),L=y(b,this),$=new SVGPoint(T.x+T.width/2,T.y).matrixTransform(L);
o.top.x.baseVal.value=$.x-a/2,o.top.y.baseVal.value=$.y-a/2;var O=new SVGPoint(T.x+T.width/2,T.y+T.height).matrixTransform(L);
o.bottom.x.baseVal.value=O.x-a/2,o.bottom.y.baseVal.value=O.y-a/2;var V=new SVGPoint(T.x,T.y+T.height/2).matrixTransform(L);
o.left.x.baseVal.value=V.x-a/2,o.left.y.baseVal.value=V.y-a/2;var j=new SVGPoint(T.x+T.width,T.y+T.height/2).matrixTransform(L);
o.right.x.baseVal.value=j.x-a/2,o.right.y.baseVal.value=j.y-a/2}else{var z=this.getScreenCTM().inverse(),I=d(function(){
var e=0,t=[],r=!0,a=!1,o=void 0;try{for(var s=void 0,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;t[e++]=n(u)}}catch(c){a=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return t}());I=c(I,z),o.top.x.baseVal.value=I.x+I.width/2-a/2,
o.top.y.baseVal.value=I.y-a/2,o.bottom.x.baseVal.value=I.x+I.width/2-a/2,o.bottom.y.baseVal.value=I.y+I.height-a/2,
o.left.x.baseVal.value=I.x-a/2,o.left.y.baseVal.value=I.y+I.height/2-a/2,o.right.x.baseVal.value=I.x+I.width-a/2,
o.right.y.baseVal.value=I.y+I.height/2-a/2}}},_updateOriginGrippie:function(){if(body.canvas.outermostSelectedElements.length>=1){
var e=$/body.canvas.scale,t=body.canvas.currentArtboard.getScreenCTM().inverse(),n=g(body.canvas.outermostSelectedElements);
n=n.matrixTransform(t),this["#origin-grippie"].setAttribute("width",e),this["#origin-grippie"].setAttribute("height",e),
this["#origin-grippie"].setAttribute("x",n.x-e/2),this["#origin-grippie"].setAttribute("y",n.y-e/2);
}},blink:function(){return $traceurRuntime.asyncWrap(function(e){for(;;)switch(e.state){
case 0:this["#grippies"].style.setProperty("display","none"),e.state=4;break;case 4:
return void Promise.resolve(v(200)).then(e.createCallback(2),e.errback);case 2:body.canvas.outermostSelectedElements.length>0&&this["#grippies"].style.setProperty("display","block"),
e.state=-2;break;default:return e.end()}},this)},_canTransformElementsInUserSpace:function(e){
var t,n,r=2;if(e.length>1){var i=e,a=(t=i[Symbol.iterator](),(n=t.next()).done?void 0:n.value),o=$traceurRuntime.iteratorToArray(t),s=!0,u=!1,c=void 0;
try{for(var d=void 0,h=o[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var v=d.value;
if(v.parentElement!==a.parentElement)return!1}}catch(f){u=!0,c=f}finally{try{s||null==h["return"]||h["return"]();
}finally{if(u)throw c}}var m=a.transform.baseVal.consolidate().matrix,p=l(M(m.c/m.d),r),b=l(M(-m.b/m.a),r),g=!0,y=!1,x=void 0;
try{for(var _=void 0,w=o[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var S=_.value,k=S.transform.baseVal.consolidate().matrix,C=l(M(k.c/k.d),r),R=l(M(-k.b/k.a),r);
if(C!==p||R!==b)return!1}}catch(E){y=!0,x=E}finally{try{g||null==w["return"]||w["return"]();
}finally{if(y)throw x}}}return!0},_scaleParams:function(e,t,n,r){var i,a,o,s,l,u=body.modKeys,c=u.ctrl,d=(u.alt,
u.shift);return this._preserveAspectRatio===!1?c||d?!c&&d?l="B":c&&!d?l="C":c&&d&&(l="D"):l="A":this._preserveAspectRatio===!0&&(c||d?!c&&d?l="A":c&&!d?l="D":c&&d&&(l="C"):l="B"),
"top"===r?"A"===l?(i=n.x+n.width/2,a=n.y+n.height,o=1,s=(n.height-t)/n.height):"B"===l?(i=n.x+n.width/2,
a=n.y+n.height,s=(n.height-t)/n.height,o=s):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,
o=1,s=(n.height-n.height/2-t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,
s=(n.height-n.height/2-t)/(n.height-n.height/2),o=s):"bottom"===r?"A"===l?(i=n.x+n.width/2,
a=n.y,o=1,s=(n.height+t)/n.height):"B"===l?(i=n.x+n.width/2,a=n.y,s=(n.height+t)/n.height,
o=s):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,o=1,s=(n.height-n.height/2+t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,s=(n.height-n.height/2+t)/(n.height-n.height/2),o=s):"left"===r?"A"===l?(i=n.x+n.width,
a=n.y+n.height/2,o=(n.width-e)/n.width,s=1):"B"===l?(i=n.x+n.width,a=n.y+n.height/2,
o=(n.width-e)/n.width,s=o):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),
s=1):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),
s=o):"right"===r&&("A"===l?(i=n.x,a=n.y+n.height/2,o=(n.width+e)/n.width,s=1):"B"===l?(i=n.x,
a=n.y+n.height/2,o=(n.width+e)/n.width,s=o):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,
o=(n.width-n.width/2+e)/(n.width-n.width/2),s=1):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,
o=s=(n.width-n.width/2+e)/(n.width-n.width/2))),"top-left"===r?"A"===l?(i=n.x+n.width,
a=n.y+n.height,o=(n.width-e)/n.width,s=(n.height-t)/n.height):"B"===l?(i=n.x+n.width,
a=n.y+n.height,o=(n.width-e)/n.width,s=(n.height-t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=P(o,s):R(o)>=R(s)?o=-s:s=-o):"top-right"===r?"A"===l?(i=n.x,
a=n.y+n.height,o=(n.width+e)/n.width,s=(n.height-t)/n.height):"B"===l?(i=n.x,a=n.y+n.height,
o=(n.width+e)/n.width,s=(n.height-t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2+e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2+e)/(n.width-n.width/2),s=(n.height-n.height/2-t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=P(o,s):R(o)>=R(s)?o=-s:s=-o):"bottom-left"===r?"A"===l?(i=n.x+n.width,
a=n.y,o=(n.width-e)/n.width,s=(n.height+t)/n.height):"B"===l?(i=n.x+n.width,a=n.y,
o=(n.width-e)/n.width,s=(n.height+t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2+t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,
a=n.y+n.height/2,o=(n.width-n.width/2-e)/(n.width-n.width/2),s=(n.height-n.height/2+t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=P(o,s):R(o)>=R(s)?o=-s:s=-o):"bottom-right"===r&&("A"===l?(i=n.x,
a=n.y,o=(n.width+e)/n.width,s=(n.height+t)/n.height):"B"===l?(i=n.x,a=n.y,o=(n.width+e)/n.width,
s=(n.height+t)/n.height,o=s=E(o,s)):"C"===l?(i=n.x+n.width/2,a=n.y+n.height/2,o=(n.width-n.width/2+e)/(n.width-n.width/2),
s=(n.height-n.height/2+t)/(n.height-n.height/2)):"D"===l&&(i=n.x+n.width/2,a=n.y+n.height/2,
o=(n.width-n.width/2+e)/(n.width-n.width/2),s=(n.height-n.height/2+t)/(n.height-n.height/2),
o>=0&&s>=0?o=s=E(o,s):0>=o&&0>=s?o=s=P(o,s):R(o)>=R(s)?o=-s:s=-o)),{centerX:i,centerY:a,
scaleX:o,scaleY:s}}},{},e)}(SVGGElement),G=r("g","bx-transformhud",D);return{get default(){
return G}}}),$traceurRuntime.registerModule("elements/bx-transformtool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-transformtool")).getClientBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-transformtool")),n=t.getCommonAncestor,r=t.registerElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-transformtool")).isPointerMoveIntentional,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/rect","elements/bx-transformtool")),o=a.rectContainsRect,s=a.transformRect,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-transformtool")).reduceTransform,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","elements/bx-transformtool")).graphicsElementNames,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-transformtool"))["default"],d=Math.abs,h=Symbol(),v=function(t){
function r(){$traceurRuntime.superConstructor(r).apply(this,arguments)}return $traceurRuntime.createClass(r,{
createdCallback:function(){this._intentionalDragStarted=!1;var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.enableHud("outlines-hud"),body.canvas.enableHud("transform-hud"),
body.canvas.enableHud("rubber-band-hud"),body.canvas.artboards.addEventListener("pointerdown",this._pointerDownListener=function(t){
e._onArtboardPointerDown(t)}),body.canvas.artboards.addEventListener("contextmenu",this._contextMenuListener=function(t){
e._onArtboardContextMenu(t)})},_onDisabled:function(){body.canvas.disableHud("outlines-hud"),
body.canvas.disableHud("transform-hud"),body.canvas.disableHud("rubber-band-hud"),
body.canvas.artboards.removeEventListener("pointerdown",this._pointerDownListener),
body.canvas.artboards.removeEventListener("contextmenu",this._contextMenuListener);
},_onArtboardContextMenu:function(e){var t=body.canvas.getHitArtboardElements(e.clientX,e.clientY);
if(t.length>0){var n=t[t.length-1],r=this._getAllContainers(n),i=body.canvas.selectedElements.includes(n),a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
body.canvas.selectedElements.includes(c)&&(i=!0)}}catch(d){o=!0,s=d}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}i===!1&&this._onArtboardClickSelectableElementHit(n)}else this._onArtboardClickBackgroundHit(e);
},_onArtboardPointerDown:function(e){var t=this;if(0===e.button){var n,r,a=e.target;
this._intentionalDragStarted=!1,window.addEventListener("pointermove",n=function(r){
if(i(e,r)!==!1){window.removeEventListener("pointermove",n),t._intentionalDragStarted=!0;
var a=new c(r.clientX-e.clientX,r.clientY-e.clientY),o=d(a.x)>d(a.y)?"horizontal":"vertical";
t._onIntentionalDragStart(e,r,o)}}),window.addEventListener("pointerup",r=function(i){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
e.clientX===i.clientX&&e.clientY===i.clientY&&t._onArtboardClick(a,i)})}},_onArtboardClick:function(e,t){
if(0===t.button&&!body.canvas.huds.contains(e)&&!this._intentionalDragStarted){var n=body.canvas["#transform-hud"],r=body.canvas.getHitArtboardElements(t.clientX,t.clientY);
if(r.length>0){var i=r[r.length-1];if(body.pointerClickCount%2===1)body.canvas.isSelectableElement(i)&&this._onArtboardClickSelectableElementHit(i);else if(body.pointerClickCount%2===0){
var a=this._getClosestContainer(i);if(a)body.canvas.currentContainer=a,body.canvas.selectedElements=[];else if("use"===i.localName){
var o=body.canvas.artboards.querySelector(i.href.baseVal);if(o&&"symbol"===o.localName){
var s=o;body.canvas.editSymbol(s.id)}else n.mode="scale",body.toggleTool("edit-tool");
}else"text"===i.localName?(n.mode="scale",body.toggleTool("edit-tool")):(n.mode="scale",
body.toggleTool("edit-tool"))}}else this._onArtboardClickBackgroundHit(t)}},_onIntentionalDragStart:function(e,t,n){
if(!body.canvas.huds.contains(e.target)){var r=body.canvas.getHitArtboardElements(t.clientX,t.clientY);
r.length>0?this._onArtboardElementDragStart(t,r[r.length-1],n):this._onEmptySpaceDragStart(e);
}},_onArtboardClickSelectableElementHit:function(e){var t=body.modKeys,n=t.ctrl,r=(t.alt,
t.shift),i=this._getAllContainers(e),a=body.canvas.selectedElements.includes(e),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
body.canvas.selectedElements.includes(d)&&(a=!0)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}if(n||r){if(!n&&r)if(0===i.length)body.canvas.currentContainer=null,
body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]);else if(body.canvas.currentContainer&&body.canvas.currentContainer.contains(e)){
for(;e.parentNode!==body.canvas.currentContainer;)e=e.parentNode;body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]);
}else{for(var v=this._getCommonContainer(e,body.canvas.currentContainer);e.parentNode!==v&&e.parentNode!==body.canvas.currentArtboard;)e=e.parentNode;
body.canvas.currentContainer=v,body.canvas.selectedElements.includes(e)?body.canvas.selectedElements=body.canvas.selectedElements.filter(function(t){
return t!==e}):body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements,[e]);
}else if(n&&!r){for(var f=null,m=e.parentElement;m!==body.canvas.currentArtboard;m=m.parentElement)if("g"===m.localName||"a"===m.localName){
f=m;break}body.canvas.currentContainer=f,body.canvas.selectedElements=[e]}else if(n&&r){
var p=body.canvas.currentContainer,b=body.canvas.selectedElements;if(b=b.includes(e)?b.filter(function(t){
return t!==e}):$traceurRuntime.spread(b,[e]),0===b.length)p=null;else for(var g=b[0].parentElement;g!==body.canvas.currentArtboard;g=g.parentElement)if("g"===g.localName||"a"===g.localName){
p=g;break}body.canvas.currentContainer=p,body.canvas.selectedElements=b}}else if(a)"scale"===body.canvas.transformHud.mode?body.canvas.transformHud.mode="rotate-and-skew":body.canvas.transformHud.mode="scale";else if(body.canvas.transformHud.mode="scale",
0===i.length)body.canvas.currentContainer=null,body.canvas.selectedElements=[e];else{
var y=body.canvas.currentContainer;if(y&&y.contains(e)){for(;e.parentNode!==y;)e=e.parentNode;
body.canvas.selectedElements=[e]}else{for(var x=this._getCommonContainer(e,y);e.parentNode!==x&&e.parentNode!==body.canvas.currentArtboard;)e=e.parentNode;
body.canvas.currentContainer=x,body.canvas.selectedElements=[e]}}},_onArtboardElementDragStart:function(e,t,n){
var r,i,a=this._getAllContainers(t),o=!1;body.canvas.undoManager.checkpoint("Transform"),
body.canvas.outlinesHud.enabled=!1,body.canvas.selectedElements.includes(t)&&(o=!0);
var s=!0,u=!1,c=void 0;try{for(var d=void 0,v=a[Symbol.iterator]();!(s=(d=v.next()).done);s=!0){
var f=d.value;body.canvas.selectedElements.includes(f)&&(o=!0)}}catch(m){u=!0,c=m;
}finally{try{s||null==v["return"]||v["return"]()}finally{if(u)throw c}}if(!o)if(body.canvas.transformHud.mode="scale",
0===a.length)body.canvas.currentContainer=null,body.canvas.selectedElements=[t];else{
for(var p=this._getCommonContainer(t,body.canvas.currentContainer);t.parentNode!==p&&t.parentNode!==body.canvas.currentArtboard;)t=t.parentNode;
body.canvas.currentContainer=p,body.canvas.selectedElements=[t]}var b=body.registerCursor("move",300),g=!0,y=!1,x=void 0;
try{for(var _=void 0,w=body.canvas.selectedElements[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){
var S=_.value,k=S.getScreenCTM(),C=k.inverse(),R=SVGMatrix.fromMatrix(S.transform.baseVal.consolidate().matrix),M=R.multiplySelf(C);
S[h]={clientToUserTransform:k,initialClientTransform:M}}}catch(E){y=!0,x=E}finally{
try{g||null==w["return"]||w["return"]()}finally{if(y)throw x}}window.addEventListener("pointermove",r=function(t){
var r=t.clientX-e.clientX,i=t.clientY-e.clientY;body.modKeys.shift&&("vertical"===n?r=0:"horizontal"===n&&(i=0));
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=body.canvas.selectedElements[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=c[h],v=d.clientToUserTransform,f=d.initialClientTransform,m=SVGMatrix.fromMatrix(f);
m.translateSelf(r,i),m.multiplySelf(v),c.setAttribute("transform",m.toString())}}catch(p){
o=!0,s=p}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s}}}),
window.addEventListener("pointerup",i=function(){window.removeEventListener("pointermove",r),
window.removeEventListener("pointerup",i);var e=!0,t=!1,n=void 0;try{for(var a=void 0,o=body.canvas.selectedElements[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){
var s=a.value;l(s,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}}catch(u){t=!0,n=u}finally{try{e||null==o["return"]||o["return"]()}finally{if(t)throw n;
}}body.unregisterCursor(b),body.canvas.outlinesHud.enabled=!0})},_onArtboardClickBackgroundHit:function(e){
if(0===e.button){var t=body.modKeys,n=t.ctrl,r=t.shift;n||r||(2===body.pointerClickCount&&(body.canvas.currentContainer=null),
body.canvas.selectedElements=[])}},_onEmptySpaceDragStart:function(t){var n,r,i,a,l,c,d,h,v,f,m,p,b,g,y;
return $traceurRuntime.asyncWrap(function(x){for(;;)switch(x.state){case 0:n=t,r=n.clientX,
i=n.clientY,x.state=5;break;case 5:return void Promise.resolve(body.canvas.rubberBandHud.grabSelection(r,i)).then(x.createCallback(3),x.errback);
case 3:a=x.value,x.state=2;break;case 2:l=body.canvas.currentContainer||body.canvas.currentArtboard,
c=body.canvas.currentArtboard.getScreenCTM().inverse(),d=[],h=!0,v=!1,f=void 0;try{
for(m=void 0,p=l.children[Symbol.iterator]();!(h=(m=p.next()).done);h=!0)b=m.value,
$traceurRuntime.spread(u,["svg","g","a","use"]).includes(b.localName)&&(g=e(b),g=s(g,c),
y=0===g.width&&0===g.height,!y&&o(a,g)&&d.push(b))}catch(_){v=!0,f=_}finally{try{
h||null==p["return"]||p["return"]()}finally{if(v)throw f}}body.canvas.selectedElements=$traceurRuntime.spread(d),
x.state=-2;break;default:return x.end()}},this)},_getAllContainers:function(e){var t=[];
if(e!==body.canvas.currentArtboard)for(;e.parentElement&&e.parentElement!==body.canvas.currentArtboard;)e=e.parentElement,
"g"!==e.localName&&"a"!==e.localName||t.unshift(e);return t},_getClosestContainer:function(e){
for(var t=[],n=e.parentElement;n!==body.canvas.currentArtboard&&n!==body.canvas.currentContainer;n=n.parentElement)"g"!==n.localName&&"a"!==n.localName||t.push(n);
var r=t.length>0?t[t.length-1]:null;return r},_getCommonContainer:function(e,t){var r=n(e,t);
if(r)for(;["g","a"].includes(r.localName)===!1;)r=r.parentNode;return r}},{},t)}(HTMLElement),f=r("bx-transformtool",v);
return{get default(){return f}}}),$traceurRuntime.registerModule("elements/bx-transformtoolcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-transformtoolcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-transformtoolcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-transformtoolcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-transformtoolcontrols")),t=(e.createElement,
e.registerElement),n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-transformtoolcontrols")).round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/paint","elements/bx-transformtoolcontrols")).getDefFromURL,
'\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-transformtoolcontrols.css");\n  </style>\n\n  <section id="transform-section">\n    <h2 id="transform-section-heading">Preserve</h2>\n\n    <bx-checkbox id="preserve-stroke-width-checkbox" label="Stroke width"></bx-checkbox>\n    <bx-checkbox id="preserve-rect-radii-checkbox" label="Rectangle radii"></bx-checkbox>\n    <bx-checkbox id="preserve-rotation-checkbox" label="Rotation"></bx-checkbox>\n    <bx-checkbox id="preserve-aspect-ratio-checkbox" label="Aspect ratio"></bx-checkbox>\n  </section>\n'),r=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=n;var t=!0,r=!1,i=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){r=!0,i=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(r)throw i}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#preserve-stroke-width-checkbox"].addEventListener("change",function(){
body.setConfig("bx-transformtoolcontrols:preserveStrokeWidth",e["#preserve-stroke-width-checkbox"].checked);
}),this["#preserve-rect-radii-checkbox"].addEventListener("change",function(){body.setConfig("bx-transformtoolcontrols:preserveRectRadii",e["#preserve-rect-radii-checkbox"].checked);
}),this["#preserve-rotation-checkbox"].addEventListener("change",function(){body.setConfig("bx-transformtoolcontrols:preserveRotation",e["#preserve-rotation-checkbox"].checked);
}),this["#preserve-aspect-ratio-checkbox"].addEventListener("change",function(){body.setConfig("bx-transformtoolcontrols:preserveAspectRatio",e["#preserve-aspect-ratio-checkbox"].checked);
})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){this._update()},_onDisabled:function(){},_update:function(){
var e,t,n,r;return $traceurRuntime.asyncWrap(function(i){for(;;)switch(i.state){case 0:
return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveStrokeWidth")).then(i.createCallback(3),i.errback);
case 3:e=i.value,i.state=2;break;case 2:return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveRectRadii")).then(i.createCallback(6),i.errback);
case 6:t=i.value,i.state=5;break;case 5:return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveRotation")).then(i.createCallback(9),i.errback);
case 9:n=i.value,i.state=8;break;case 8:return void Promise.resolve(body.getConfig("bx-transformtoolcontrols:preserveAspectRatio")).then(i.createCallback(12),i.errback);
case 12:r=i.value,i.state=11;break;case 11:null===e&&(e=!0),null===t&&(t=!0),null===n&&(n=!0),
null===r&&(r=!1),this["#preserve-stroke-width-checkbox"].checked=e,this["#preserve-rect-radii-checkbox"].checked=t,
this["#preserve-rotation-checkbox"].checked=n,this["#preserve-aspect-ratio-checkbox"].checked=r,
i.state=-2;break;default:return i.end()}},this)}},{},e)}(HTMLElement),i=t("bx-transformtoolcontrols",r);
return{get default(){return i}}}),$traceurRuntime.registerModule("elements/bx-trianglehud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-trianglehud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-trianglehud")),n=t.getNearestPointOnLine,r=t.getPointAtFraction,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-trianglehud")),a=i.normalize,o=i.round,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-trianglehud")),l=s.getShapeData,u=s.setShapeData,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-trianglehud")).throttle,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-trianglehud")).getTransformToElement,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-trianglehud"))["default"],v=Math,f=v.abs,m=(v.sin,
v.cos,v.PI,Symbol()),p='\n  <style>@import url("stylesheets/bx-trianglehud.css");</style>\n\n  <defs>\n    <g id="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g id="subhuds"></g>\n',b=function(e){
function t(){$traceurRuntime.superConstructor(t).apply(this,arguments)}return $traceurRuntime.createClass(t,{
createdCallback:function(){this._installed=!1,this._selectedRings=[],this._draggedGrippie=null,
this._updateGrippiesPosition200Th=c(this._updateGrippiesPosition,200,this),this._shadowRoot=this.createShadowRoot({
mode:"closed"}),this._shadowRoot.innerHTML=p;var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this["#"+a.id]=a}}catch(o){t=!0,n=o}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){l=!0,u=f}finally{try{
s||null==h["return"]||h["return"]()}finally{if(l)throw u}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_install:function(){var e=this;this._installed=!0,body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(){
e._onZoomChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)}),this._shadowRoot.addEventListener("pointerdown",this._shadowRootPointerDownListener=function(t){
e._onShadowRootPointerDown(t)})},_uninstall:function(){this._installed=!1,this["#subhuds"].innerHTML="",
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener),body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
this._shadowRoot.removeEventListener("pointerdown",this._shadowRootPointerDownListener);
},_onEnabled:function(){var e=this;this._onSelectedElementsChange(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()})},_onDisabled:function(){this._installed&&this._uninstall(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener);
},_onSelectedElementsChange:function(){this._selectedTriangles=this._getSelectedTriangles(),
0===this._selectedTriangles.length?this._installed&&this._uninstall():(this._installed||this._install(),
this._updateSubhuds())},_onArtboardMutation:function(e){e.attributeName;this._draggedGrippie?this._updateGrippiesPosition():this._updateGrippiesPosition200Th();
},_onZoomChange:function(){this._updateGrippiesSize()},_onShadowRootPointerDown:function(e){
e.target.matches(".shift-grippie")?this._onShiftGrippiePointerDown(e):e.target.matches(".corner-grippie")&&this._onCornerGrippiePointerDown(e);
},_onShiftGrippiePointerDown:function(e){var t,r,i=this;if(0===e.button){var s,c,d=e.target,v=d.parentElement,p=v[m],b=p.getCTM().inverse(),g=l(p).values,y=(t=g[Symbol.iterator](),
(r=t.next()).done?void 0:r.value),x=(r=t.next()).done?void 0:r.value,_=(r=t.next()).done?void 0:r.value,w=(r=t.next()).done?void 0:r.value,S=(r=t.next()).done?void 0:r.value,k=(r=t.next()).done?void 0:r.value,C=body.canvas.geometryPrecision,R=new SVGPoint(y,x),M=new SVGPoint(y+_,x),E=new SVGPoint(e.clientX,e.clientY),P=E.matrixTransform(b),A=new SVGPoint(y+_*S,x),T=new h(A,P).getOppositeVector(),L=!1;
d.parentElement.append(d),this._draggedGrippie=d,window.addEventListener("pointermove",s=function(e){
var t,r;L===!1&&(L=!0,body.canvas.undoManager.checkpoint("Triangle radius"));var i=new SVGPoint(e.clientX,e.clientY),s=i.matrixTransform(b);
s=T.transformPoint(s);var l=(t=n(R,M,s,!1)[Symbol.iterator](),(r=t.next()).done?void 0:r.value);
S=(l.x-R.x)/_,S=a(S,0,1,4),body.modKeys.shift&&(S=[0,.5,1].reduce(function(e,t){return f(t-S)<f(e-S)?t:e;
}));var c=[y,x,_,w,S,k].map(function(e){return o(e,C)});u(p,{type:"triangle",values:c
},C)}),window.addEventListener("pointerup",c=function(){window.removeEventListener("pointermove",s),
window.removeEventListener("pointerup",c),i._draggedGrippie=null})}},_onCornerGrippiePointerDown:function(e){
var t,r,i=this;if(0===e.button){var s,c,d=e.target,v=d.parentElement,f=v[m],p=(SVGMatrix.fromMatrix(f.transform.baseVal.consolidate().matrix),
f.getCTM().inverse()),b=l(f).values,g=(t=b[Symbol.iterator](),(r=t.next()).done?void 0:r.value),y=(r=t.next()).done?void 0:r.value,x=(r=t.next()).done?void 0:r.value,_=(r=t.next()).done?void 0:r.value,w=(r=t.next()).done?void 0:r.value,S=((r=t.next()).done?void 0:r.value,
body.canvas.geometryPrecision),k=new SVGPoint(g+x*w,y),C=new SVGPoint(g+x,y+_),R=new SVGPoint(e.clientX,e.clientY),M=R.matrixTransform(p),E=new SVGPoint(M.x,M.y),P=!1;
d.parentElement.append(d),this._draggedGrippie=d,window.addEventListener("pointermove",s=function(e){
var t,r;P===!1&&(P=!0,body.canvas.undoManager.checkpoint("Triangle radius"));var i=new SVGPoint(e.clientX,e.clientY);
E=i.matrixTransform(p);var s=(t=n(C,k,E,!1)[Symbol.iterator](),(r=t.next()).done?void 0:r.value),l=new h(C,s),c=new h(C,k),d=l.length/c.length,v=a(d,0,.5,4),m=[g,y,x,_,w,v].map(function(e){
return o(e,S)});u(f,{type:"triangle",values:m},S)}),window.addEventListener("pointerup",c=function(){
window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",c),
i._draggedGrippie=null})}},_updateSubhuds:function(){this["#subhuds"].innerHTML="";
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this._selectedTriangles[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=this["#subhud-template"].cloneNode(!0);o.removeAttribute("id"),o[m]=a,
this["#subhuds"].append(o)}}catch(s){t=!0,n=s}finally{try{e||null==i["return"]||i["return"]();
}finally{if(t)throw n}}this._updateGrippiesPosition(),this._updateGrippiesSize()},
_updateGrippiesPosition:function(){var e,t,n=!0,i=!1,a=void 0;try{for(var o=void 0,s=this["#subhuds"].children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var u=o.value,c=u[m],h=d(c,this),v=l(c).values,f=(e=v[Symbol.iterator](),(t=e.next()).done?void 0:t.value),p=(t=e.next()).done?void 0:t.value,b=(t=e.next()).done?void 0:t.value,g=(t=e.next()).done?void 0:t.value,y=(t=e.next()).done?void 0:t.value,x=(t=e.next()).done?void 0:t.value,_=!0,w=!1,S=void 0;
try{for(var k=void 0,C=u.children[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;if(R.matches(".shift-grippie")){var M=new SVGPoint(f+b*y,p).matrixTransform(h);
R.setAttribute("cx",M.x),R.setAttribute("cy",M.y)}else if(R.matches(".corner-grippie")){
var E=new SVGPoint(f+b*y,p).matrixTransform(h),P=new SVGPoint(f+b,p+g).matrixTransform(h),A=r(P,E,x);
R.setAttribute("cx",A.x),R.setAttribute("cy",A.y)}}}catch(T){w=!0,S=T}finally{try{
_||null==C["return"]||C["return"]()}finally{if(w)throw S}}}}catch(L){i=!0,a=L}finally{
try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}},_updateGrippiesSize:function(){
var e=!0,t=!1,n=void 0;try{for(var r=void 0,i=this["#subhuds"].children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value,o=!0,s=!1,l=void 0;try{for(var u=void 0,c=a.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;d.setAttribute("r",6/body.canvas.scale)}}catch(h){s=!0,l=h}finally{
try{o||null==c["return"]||c["return"]()}finally{if(s)throw l}}}}catch(v){t=!0,n=v;
}finally{try{e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},_getSelectedTriangles:function(){
var e=void 0!==arguments[0]?arguments[0]:body.canvas.selectedElements,t=[],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
"path"===s.localName?s.hasAttribute("data-bx-shape")&&s.getAttribute("data-bx-shape").startsWith("triangle")&&t.push(s):"g"!==s.localName&&"a"!==s.localName||(t=$traceurRuntime.spread(t,this._getSelectedTriangles(s.children)));
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t}},{},e)}(SVGGElement),g=e("g","bx-trianglehud",b);return{get default(){
return g}}}),$traceurRuntime.registerModule("elements/bx-triangletool",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-triangletool")),t=e.createElement,n=e.registerElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-triangletool")).isPointerMoveIntentional,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/geometry","elements/bx-triangletool")),a=i.getDistanceBetweenPoints,o=i.getRotationAngleFromPoints,s=i.snapRotationAngle,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-triangletool")),u=l.normalize,c=(l.round,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/path-shapes","elements/bx-triangletool"))),d=(c.getShapeData,
c.setShapeData),h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-reduction","elements/bx-triangletool")).reduceTransform,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/shortcut","elements/bx-triangletool"))["default"],f=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","elements/bx-triangletool"))["default"],
Math),m=f.abs,p=f.min,b=(f.sqrt,function(e){function n(){$traceurRuntime.superConstructor(n).apply(this,arguments);
}return $traceurRuntime.createClass(n,{createdCallback:function(){var e=!0,t=!1,n=void 0;
try{for(var r=void 0,i=this.attributes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){
var a=r.value;this.attributeChangedCallback(a.name)}}catch(o){t=!0,n=o}finally{try{
e||null==i["return"]||i["return"]()}finally{if(t)throw n}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._triangleCursor=body.registerCursor("images/cursor-triangle.svg",-100,6.5,6.5),
body.canvas.enableHud("outlines-hud"),body.canvas.addEventListener("pointerdown",this._pointerDownListener=function(t){
return e._onPointerDown(t)})},_onDisabled:function(){body.unregisterCursor(this._triangleCursor),
body.unregisterCursor(this._pointerDownTriangleCursor),body.canvas.disableHud("outlines-hud"),
body.canvas.removeEventListener("pointerdown",this._pointerDownListener)},_onPointerDown:function(e){
var t,n,i=this;window.addEventListener("pointermove",t=function(a){r(e,a)!==!1&&(window.removeEventListener("pointermove",t),
window.removeEventListener("pointerup",n),i._onIntentionalDragStart(e))}),window.addEventListener("pointerup",n=function(){
window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n);
})},_onIntentionalDragStart:function(e){var n,r,i,l,c=this,f=body.canvas.currentContainer||body.canvas.currentArtboard,b=body.modKeys.ctrl?"polar":"planar",g=0,y=0,x=0,_=0,w=.5,S=0;
body.canvas.undoManager.checkpoint("Draw triangle");var k=t("svg:path");k.style.setProperty("fill","#d8d8d8"),
d(k,{type:"triangle",values:[g,y,x,_,w,S]}),f.append(k),body.canvas.selectedElements=[k],
this._pointerDownTriangleCursor=body.registerCursor("images/cursor-triangle.svg",900,6.5,6.5);
var C=k.getScreenCTM().inverse(),R=k.transform.baseVal.consolidate().matrix.multiply(C);
k.setAttribute("transform",R.toString()),window.addEventListener("pointermove",n=function(t){
if("planar"===b){var n=t.clientX-e.clientX||1,r=t.clientY-e.clientY||1;if(x=m(n),
_=m(r),body.modKeys.shift){var i=p(x,_);x=i,_=i}g=0>n?e.clientX-x:e.clientX,y=0>r?e.clientY-_:e.clientY;
}else if("polar"===b){var l=new SVGPoint(e.clientX,e.clientY),u=new SVGPoint(t.clientX,t.clientY),c=a(l,u),h=new SVGPoint(l.x,l.y-c),v=h.matrixTransform((new SVGMatrix).rotate(120,l.x,l.y)),f=v.matrixTransform((new SVGMatrix).rotate(120,l.x,l.y)),C=o(l,v,u);
x=v.x-f.x,_=v.y-h.y,g=f.x,y=h.y,body.modKeys.shift&&(C=s(C,45));var M=(new SVGMatrix).rotate(C,l.x,l.y);
k.setAttribute("transform",R.multiply(M).toString())}d(k,{type:"triangle",values:[g,y,x,_,w,S]
},body.canvas.geometryPrecision)}),window.addEventListener("pointerup",r=function(){
window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",r),
body.removeEventListener("toolchange",i),body.removeEventListener("keydown",l),body.unregisterCursor(c._pointerDownTriangleCursor),
h(k,{geometryPrecision:body.canvas.geometryPrecision,transformPrecision:body.canvas.transformPrecision
})}),body.addEventListener("toolchange",i=function(){return r()}),body.addEventListener("keydown",l=function(e){
var t=v.fromEvent(event);t.matches("ArrowLeft")?(event.preventDefault(),event.stopPropagation(),
S>0&&(S=u(S-.04,0,.5,2),d(k,{type:"triangle",values:[g,y,x,_,w,S]}))):t.matches("ArrowRight")&&(event.preventDefault(),
event.stopPropagation(),.5>S&&(S=u(S+.04,0,.5,2),d(k,{type:"triangle",values:[g,y,x,_,w,S]
})))})}},{},e)}(HTMLElement)),g=n("bx-triangletool",b);return{get default(){return g;
}}}),$traceurRuntime.registerModule("elements/bx-typographycontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-button","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fontfamilybutton","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-fontfamilypicker","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-selectitem","elements/bx-typographycontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-typographycontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/bbox","elements/bx-typographycontrols")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/dom-value","elements/bx-typographycontrols")).parseValue,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-typographycontrols")),r=n.createElement,i=n.registerElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","elements/bx-typographycontrols")),o=a.formatFontWeightForDisplay,s=a.matchFontWeight,l=a.normalizeFontWeight,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-typographycontrols")).round,c=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/style","elements/bx-typographycontrols")).reduceProperty,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/text","elements/bx-typographycontrols"))),d=c.getRenderedTextNodes,h=c.getTspansIntersectedByRange,v=c.reduceText,f=c.spanifyText,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/time","elements/bx-typographycontrols")).throttle,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-decomposition","elements/bx-typographycontrols")).decomposeTransform,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/transform-general","elements/bx-typographycontrols")).getTransformToElement,g=Number.parseFloat,y='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-typographycontrols.css");\n  </style>\n\n  <div id="master-view">\n    <section id="preview-section" hidden>\n      <div id="preview">Tahoma</div>\n    </section>\n\n    <section id="font-section">\n      <h2 id="font-heading">Font</h2>\n\n      <div id="font-family-div">\n        <h3 id="font-family-heading">Family</h3>\n        <bx-fontfamilybutton id="font-family-button" label="Arial"></bx-fontfamilybutton>\n      </div>\n\n      <div id="font-face-div">\n        <h3 id="font-face-heading">Face</h3>\n\n        <div class="hbox">\n          <bx-select id="font-weight-select" value="400">\n            <bx-selectitem value="400" label="Normal"></bx-selectitem>\n          </bx-select>\n\n          <bx-button\n            id="italic-font-style-button"\n            value="italic"\n            tooltip="Italic"\n            icon="italic"\n            iconsize="28"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="small-caps-font-variant-button"\n            value="small-caps"\n            tooltip="Small Caps"\n            icon="small-caps"\n            iconsize="28"\n            skin="iconic">\n          </bx-button>\n        </div>\n      </div>\n\n      <div id="font-size-div">\n        <h3 id="font-size-heading">Size</h3>\n\n        <bx-slider\n          id="font-size-slider"\n          title=""\n          value="0"\n          min="1"\n          precision="0">\n        </bx-slider>\n      </div>\n    </section>\n\n    <section id="transform-section">\n      <h2 id="transform-heading">Transform</h2>\n\n      <div class="hbox">\n        <div id="transform-buttons">\n          <bx-button\n            id="capitalize-button"\n            value="capitalize"\n            tooltip="Capitalize"\n            icon="capitalize"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="uppercase-button"\n            value="uppercase"\n            tooltip="Uppercase"\n            icon="uppercase"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n\n          <bx-button\n            id="lowercase-button"\n            value="lowercase"\n            tooltip="Lowercase"\n            icon="lowercase"\n            iconsize="32"\n            skin="iconic">\n          </bx-button>\n        </div>\n\n        <bx-button\n          id="text-on-path-button"\n          value="text-on-path"\n          tooltip="Text on Path"\n          icon="text-on-path"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="decoration-section">\n      <h2 id="decoration-heading">Decoration</h2>\n\n      <div id="decoration-buttons">\n        <bx-button\n          id="underline-button"\n          value="underline"\n          tooltip="Underline"\n          icon="underline"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="line-through-button"\n          value="line-through"\n          tooltip="Line-through"\n          icon="line-through"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n\n        <bx-button\n          id="overline-button"\n          value="overline"\n          tooltip="Overline"\n          icon="overline"\n          iconsize="32"\n          skin="iconic">\n        </bx-button>\n      </div>\n    </section>\n\n    <section id="spacing-section">\n      <h2 id="spacing-heading">Spacing</h2>\n\n      <div id="letter-spacing-div">\n        <h3 id="letter-spacing-heading">Letter</h2>\n\n        <bx-slider\n          id="letter-spacing-slider"\n          title=""\n          value="0"\n          step="0.1"\n          precision="2">\n        </bx-slider>\n      </div>\n\n      <div id="word-spacing-div">\n        <h3 id="word-spacing-heading">Word</h2>\n\n        <bx-slider\n          id="word-spacing-slider"\n          title=""\n          value="0"\n          step="0.1"\n          precision="2">\n        </bx-slider>\n      </div>\n    </section>\n  </div>\n\n  <div id="font-family-view" hidden>\n    <nav id="navbar">\n      <bx-button\n        id="back-button"\n        icon="back"\n        iconsize="20"\n        skin="iconic"\n        label="<">\n      </bx-button>\n\n      <h1>Font family</h1>\n    </nav>\n\n    <section id="font-family-picker-section">\n      <bx-fontfamilypicker id="font-family-picker"></bx-fontfamilypicker>\n    </section>\n  </div>\n',x=function(n){
function i(){$traceurRuntime.superConstructor(i).apply(this,arguments)}return $traceurRuntime.createClass(i,{
createdCallback:function(){var e=this;this._update60Th=m(this._update,60,this),this._update200Th=m(this._update,200,this),
this._isChangingFontSizeSlider=!1,this._isChangingLetterSpacingSlider=!1,this._isChangingWordSpacingSlider=!1,
this._shadowRoot=this.createShadowRoot({mode:"closed"}),this._shadowRoot.innerHTML=y;
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}this["#font-family-button"].addEventListener("click",function(t){
return e._onFontFamilyButtonClick(t)}),this["#font-weight-select"].addEventListener("change",function(t){
return e._onFontWeightSelectChange()}),this["#italic-font-style-button"].addEventListener("click",function(t){
return e._onItalicFontStyleButtonClick(t)}),this["#small-caps-font-variant-button"].addEventListener("click",function(t){
e._onSmallCapsFontVariantButtonClick(t)}),this["#font-size-slider"].addEventListener("changestart",function(){
return e._onFontSizeSliderChangeStart()}),this["#capitalize-button"].addEventListener("click",function(t){
return e._onTextTransformButtonClick(t)}),this["#uppercase-button"].addEventListener("click",function(t){
return e._onTextTransformButtonClick(t)}),this["#lowercase-button"].addEventListener("click",function(t){
return e._onTextTransformButtonClick(t)}),this["#text-on-path-button"].addEventListener("click",function(t){
return e._onTextOnPathButtonClick(t)}),this["#underline-button"].addEventListener("click",function(t){
return e._onTextDecorationButtonClick(t)}),this["#line-through-button"].addEventListener("click",function(t){
return e._onTextDecorationButtonClick(t)}),this["#overline-button"].addEventListener("click",function(t){
return e._onTextDecorationButtonClick(t)}),this["#letter-spacing-slider"].addEventListener("changestart",function(){
return e._onLetterSpacingSliderChangeStart()}),this["#word-spacing-slider"].addEventListener("changestart",function(){
return e._onWordSpacingSliderChangeStart()}),this["#back-button"].addEventListener("click",function(t){
return e._onBackButtonClick(t)}),this["#font-family-picker"].addEventListener("change",function(){
return e._onFontFamilyPickerValueChange()})},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._update(),body.canvas.addEventListener("selectedelementschange",this._selectedElementsChangeListener=function(){
e._onSelectedElementsChange()}),body.canvas.addEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener=function(){
e._onSelectedTextRangeChange()}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){this._hideFontFamilyPickerView(),
body.canvas.removeEventListener("selectedelementschange",this._selectedElementsChangeListener),
body.canvas.removeEventListener("selectedtextrangechange",this._selectedTextRangeChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener);
},_onSelectedElementsChange:function(){this["#font-family-view"].hidden||this._hideFontFamilyPickerView(),
this._update60Th()},_onSelectedTextRangeChange:function(){this._update200Th()},_onArtboardMutation:function(e){
this._update200Th()},_onFontFamilyButtonClick:function(e){this._showFontFamilyPickerView();
},_onFontWeightSelectChange:function(){body.canvas.undoManager.checkpoint("Font weight");
var e=this._getSelectedTexts(),t=this["#font-weight-select"].value,n=body.canvas.selectedTextRange,r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
f(l,n);var u=l.querySelectorAll("tspan"),c=h(n,l),d=c.length>0&&!n.collapsed?c:u,m=!0,p=!1,b=void 0;
try{for(var g=void 0,y=d[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var x=g.value;
x.style.setProperty("font-weight",t)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}v(l,n)}}catch(w){i=!0,a=w}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}},_onItalicFontStyleButtonClick:function(e){if(0===e.button){
body.canvas.undoManager.checkpoint("Font style");var t=this._getSelectedTexts(),n=e.target.pressed&&!e.target.mixed?"normal":"italic",r=body.canvas.selectedTextRange,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
f(u,r);var c=u.querySelectorAll("tspan"),d=h(r,u),m=d.length>0&&!r.collapsed?d:c,p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=m[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value;
_.style.setProperty("font-style",n)}}catch(w){b=!0,g=w}finally{try{p||null==x["return"]||x["return"]();
}finally{if(b)throw g}}v(u,r)}}catch(S){a=!0,o=S}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}}},_onSmallCapsFontVariantButtonClick:function(e){if(0===e.button){
body.canvas.undoManager.checkpoint("Font variant");var t=this._getSelectedTexts(),n=e.target.pressed&&!e.target.mixed?"normal":"small-caps",r=body.canvas.selectedTextRange,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
f(u,r);var c=u.querySelectorAll("tspan"),d=h(r,u),m=d.length>0&&!r.collapsed?d:c,p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=m[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value;
_.style.setProperty("font-variant",n)}}catch(w){b=!0,g=w}finally{try{p||null==x["return"]||x["return"]();
}finally{if(b)throw g}}v(u,r)}}catch(S){a=!0,o=S}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}}},_onTextTransformButtonClick:function(e){if(0===e.button){
body.canvas.undoManager.checkpoint("Text transform");var t=this._getSelectedTexts(),n=e.target.pressed&&!e.target.mixed?"none":e.target.value,r=body.canvas.selectedTextRange,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
f(u,r);var c=u.querySelectorAll("tspan"),d=h(r,u),m=d.length>0&&!r.collapsed?d:c,p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=m[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value;
_.style.setProperty("text-transform",n)}}catch(w){b=!0,g=w}finally{try{p||null==x["return"]||x["return"]();
}finally{if(b)throw g}}v(u,r)}}catch(S){a=!0,o=S}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}}},_onTextDecorationButtonClick:function(){var e;if(0===event.button){
body.canvas.undoManager.checkpoint("Text decoration");var t=event.target,n=t.pressed,r=t.mixed,i=this._getSelectedTexts(),a=body.canvas.selectedTextRange,o=event.target.value,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var m=c.value;
f(m,a);var p=[];if(a&&m.contains(a.commonAncestorContainer)){var b=m.querySelectorAll("tspan"),g=h(a,m),y=a.collapsed?b:g;
(e=p).push.apply(e,$traceurRuntime.spread(y))}else p.push(m);var x=!0,_=!1,w=void 0;
try{for(var S=void 0,k=p[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){var C=S.value,R=getComputedStyle(C).getPropertyValue("text-decoration"),M=R.includes("underline"),E=R.includes("line-through"),P=R.includes("overline");
"underline"===o?M=!n||n&&r:"line-through"===o?E=!n||n&&r:"overline"===o&&(P=!n||n&&r);
var A=[];M&&A.push("underline"),E&&A.push("line-through"),P&&A.push("overline"),0===A.length?C.style.removeProperty("text-decoration"):C.style.setProperty("text-decoration",A.join(" "));
}}catch(T){_=!0,w=T}finally{try{x||null==k["return"]||k["return"]()}finally{if(_)throw w;
}}v(m,a)}}catch(L){l=!0,u=L}finally{try{s||null==d["return"]||d["return"]()}finally{
if(l)throw u}}}},_onFontSizeSliderChangeStart:function(){var e=this;body.canvas.undoManager.checkpoint("Font size");
var t,n,r=Symbol(),i=Symbol(),a=this._getSelectedTexts(),o=body.canvas.selectedTextRange,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var m=c.value;
f(m,o);var g=m.querySelectorAll("tspan"),y=h(o,m),x=y.length>0&&!o.collapsed?y:g;m[r]=x,
m[i]=p(b(m,body.canvas.currentArtboard).inverse()).scaleY}}catch(_){l=!0,u=_}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._isChangingFontSizeSlider=!0,
this["#font-size-slider"].addEventListener("change",t=function(){e["#font-size-slider"].mixed=!1;
var t=!0,n=!1,o=void 0;try{for(var s=void 0,l=a[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){
var u=s.value,c=u[r],d=u[i],h=e["#font-size-slider"].value*d;if(c.length>0){var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=c[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){var g=p.value;
g.style.setProperty("font-size",h)}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]();
}finally{if(f)throw m}}}else u.style.setProperty("font-size",h)}}catch(x){n=!0,o=x;
}finally{try{t||null==l["return"]||l["return"]()}finally{if(n)throw o}}}),this["#font-size-slider"].addEventListener("changeend",n=function(){
e["#font-size-slider"].removeEventListener("change",t),e["#font-size-slider"].removeEventListener("changeend",n);
var r=!0,i=!1,s=void 0;try{for(var l=void 0,u=a[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){
var c=l.value;v(c,o)}}catch(d){i=!0,s=d}finally{try{r||null==u["return"]||u["return"]();
}finally{if(i)throw s}}e._isChangingFontSizeSlider=!1})},_onLetterSpacingSliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Letter spacing");var t,n,r=Symbol(),i=Symbol(),a=this._getSelectedTexts(),o=body.canvas.selectedTextRange,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var m=c.value;
f(m,o);var g=m.querySelectorAll("tspan"),y=h(o,m),x=y.length>0&&!o.collapsed?y:g;m[r]=x,
m[i]=p(b(m,body.canvas.currentArtboard).inverse()).scaleX}}catch(_){l=!0,u=_}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._isChangingLetterSpacingSlider=!0,
this["#letter-spacing-slider"].addEventListener("change",t=function(){e["#letter-spacing-slider"].mixed=!1;
var t=!0,n=!1,o=void 0;try{for(var s=void 0,l=a[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){
var u=s.value,c=u[r],d=u[i],h=e["#letter-spacing-slider"].value*d;if(c.length>0){
var v=!0,f=!1,m=void 0;try{for(var p=void 0,b=c[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;g.style.setProperty("letter-spacing",h)}}catch(y){f=!0,m=y}finally{
try{v||null==b["return"]||b["return"]()}finally{if(f)throw m}}}else u.style.setProperty("letter-spacing",h);
}}catch(x){n=!0,o=x}finally{try{t||null==l["return"]||l["return"]()}finally{if(n)throw o;
}}}),this["#letter-spacing-slider"].addEventListener("changeend",n=function(){e["#letter-spacing-slider"].removeEventListener("change",t),
e["#letter-spacing-slider"].removeEventListener("changeend",n);var r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;
v(u,body.canvas.selectedTextRange)}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}e._isChangingLetterSpacingSlider=!1})},_onWordSpacingSliderChangeStart:function(){
var e=this;body.canvas.undoManager.checkpoint("Word spacing");var t,n,r=Symbol(),i=Symbol(),a=this._getSelectedTexts(),o=body.canvas.selectedTextRange,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var m=c.value;
f(m,o);var g=m.querySelectorAll("tspan"),y=h(o,m),x=y.length>0&&!o.collapsed?y:g;m[r]=x,
m[i]=p(b(m,body.canvas.currentArtboard).inverse()).scaleX}}catch(_){l=!0,u=_}finally{
try{s||null==d["return"]||d["return"]()}finally{if(l)throw u}}this._isChangingWordSpacingSlider=!0,
this["#word-spacing-slider"].addEventListener("change",t=function(){e["#word-spacing-slider"].mixed=!1;
var t=!0,n=!1,o=void 0;try{for(var s=void 0,l=a[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){
var u=s.value,c=u[r],d=u[i],h=e["#word-spacing-slider"].value*d;if(c.length>0){var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=c[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){var g=p.value;
g.style.setProperty("word-spacing",h)}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]();
}finally{if(f)throw m}}}else u.style.setProperty("word-spacing",h)}}catch(x){n=!0,
o=x}finally{try{t||null==l["return"]||l["return"]()}finally{if(n)throw o}}}),this["#word-spacing-slider"].addEventListener("changeend",n=function(){
e["#word-spacing-slider"].removeEventListener("change",t),e["#word-spacing-slider"].removeEventListener("changeend",n);
var r=!0,i=!1,o=void 0;try{for(var s=void 0,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;v(u,body.canvas.selectedTextRange)}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}e._isChangingWordSpacingSlider=!1})},_onTextOnPathButtonClick:function(t){
body.canvas.undoManager.checkpoint("Put text on path");var n=!0,i=!1,a=void 0;try{
for(var o=void 0,s=this._getSelectedTexts()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value,c=l.querySelector("textPath");if(c){var d=e(l),h=body.canvas.artboards.querySelector(c.href.baseVal);
h.remove(),l.innerHTML=c.innerHTML,l.setAttribute("x",d.x),l.setAttribute("y",d.y+d.height/2);
}else{var v=e(l),f=SVGMatrix.fromMatrix(l.transform.baseVal.consolidate().matrix),m=g(getComputedStyle(l).getPropertyValue("font-size")),b=p(f).scaleY,y=u(m*b,2),x=new SVGPoint(v.x,v.y+v.height).matrixTransform(f),_=new SVGPoint(v.x+v.width/2,v.y).matrixTransform(f),w=new SVGPoint(v.x+v.width,v.y+v.height).matrixTransform(f),S="M "+x.x+" "+x.y+" Q "+_.x+" "+_.y+" "+w.x+" "+w.y,k=r("svg:path");
k.setAttribute("id",body.canvas.generateUniqueID("text-path")),k.setAttribute("d",S),
k.setAttribute("style","fill: none; stroke: red; stroke-width: 2;"),body.canvas.createDefsIfMissing(),
body.canvas.defs.append(k),l.style.setProperty("font-size",y),l.removeAttribute("x"),
l.removeAttribute("y"),l.removeAttribute("transform");var C=r("svg:textPath");C.setAttribute("href","#"+k.id),
C.innerHTML=l.innerHTML,l.innerHTML="",l.append(C)}}}catch(R){i=!0,a=R}finally{try{
n||null==s["return"]||s["return"]()}finally{if(i)throw a}}body.canvas.selectedElements=$traceurRuntime.spread(body.canvas.selectedElements);
},_onFontFamilyPickerValueChange:function(){var e,t,n,r,i,a,o,s,l,u,c,d,m,p,b,g,y,x;
return $traceurRuntime.asyncWrap(function(_){for(;;)switch(_.state){case 0:e=this._getSelectedTexts(),
t=body.canvas.selectedTextRange,n=this["#font-family-picker"].value,body.canvas.undoManager.checkpoint("Font family"),
_.state=4;break;case 4:return void Promise.resolve(body.canvas.googleFontsManager.importFamily(n)).then(_.createCallback(2),_.errback);
case 2:r=!0,i=!1,a=void 0;try{for(o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
l=o.value,f(l,t),u=l.querySelectorAll("tspan"),c=h(t,l),d=c.length>0&&!t.collapsed?c:u,
m=!0,p=!1,b=void 0;try{for(g=void 0,y=d[Symbol.iterator]();!(m=(g=y.next()).done);m=!0)x=g.value,
x.style.setProperty("font-family",'"'+n+'"')}catch(w){p=!0,b=w}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}v(l,t)}}catch(S){i=!0,a=S}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}_.state=-2;break;default:return _.end()}},this)},_onBackButtonClick:function(e){
0===e.button&&this._hideFontFamilyPickerView()},_showFontFamilyPickerView:function(){
this["#font-family-view"].hidden=!1,this["#font-family-picker"].enabled=!0,this["#master-view"].hidden=!0;
},_hideFontFamilyPickerView:function(){this["#font-family-view"].hidden=!0,this["#font-family-picker"].enabled=!1,
this["#master-view"].hidden=!1},_update:function(){var e,n,i,a,c,h,v,f,m=[],y=[],x=this._getSelectedTexts(),_=Symbol(),w=body.canvas.selectedTextRange,S=!0,k=!1,C=void 0;
try{for(var R=void 0,M=x[Symbol.iterator]();!(S=(R=M.next()).done);S=!0){var E=R.value,P=d(E);
if(w&&w.intersectsNode(E)){"backward"===w.direction&&P.reverse();var A=!0,T=!1,L=void 0;
try{for(var N=void 0,$=P[Symbol.iterator]();!(A=(N=$.next()).done);A=!0){var O=N.value;
if(w.intersectsNode(O)){var V=O.closest("tspan, text");m.includes(O.parentElement)||m.push(O.parentElement),
y.includes(V)||y.push(V)}}}catch(j){T=!0,L=j}finally{try{A||null==$["return"]||$["return"]();
}finally{if(T)throw L}}}else{var z=!0,I=!1,D=void 0;try{for(var G=void 0,B=P[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value;m.includes(U.parentElement)||m.push(U.parentElement)}}catch(H){I=!0,
D=H}finally{try{z||null==B["return"]||B["return"]()}finally{if(I)throw D}}y.push(E);
}}}catch(F){k=!0,C=F}finally{try{S||null==M["return"]||M["return"]()}finally{if(k)throw C;
}}var q=!0,W=!1,Y=void 0;try{for(var X=void 0,Z=new Set($traceurRuntime.spread(m,y))[Symbol.iterator]();!(q=(X=Z.next()).done);q=!0){
var K=X.value;K[_]=getComputedStyle(K)}}catch(J){W=!0,Y=J}finally{try{q||null==Z["return"]||Z["return"]();
}finally{if(W)throw Y}}if(this._isChangingFontSizeSlider===!1){var Q=m,ee=(e=Q[Symbol.iterator](),
(n=e.next()).done?void 0:n.value),te=$traceurRuntime.iteratorToArray(e);if(ee){var ne=ee[_],re=t("font-family",ne.getPropertyValue("font-family"))[0],ie=g(ne.getPropertyValue("font-size")),ae=l(ne.getPropertyValue("font-weight")),oe=ne.getPropertyValue("font-variant"),se=ne.getPropertyValue("font-style"),le=body.canvas.googleFontsManager.getImportedWeights(re);
0===le.length&&(le=["100","200","300","400","500","600","700","800","900"]);var ue=s(ae,le),ce=b(ee.closest("text"),body.canvas.currentArtboard),de=p(ce).scaleY,he=u(ie*de,2),ve=!1,fe=!1,me=!1,pe=!1,be=!1,ge=!0,ye=!1,xe=void 0;
try{for(var _e=void 0,we=te[Symbol.iterator]();!(ge=(_e=we.next()).done);ge=!0){var Se=_e.value,ke=Se[_],Ce=ke.getPropertyValue("font-family"),Re=t("font-family",Ce)[0],Me=g(ke.getPropertyValue("font-size")),Ee=l(ke.getPropertyValue("font-weight")),Pe=ke.getPropertyValue("font-variant"),Ae=ke.getPropertyValue("font-style"),Te=body.canvas.googleFontsManager.getImportedWeights(Re);
0===Te.length&&(Te=["100","200","300","400","500","600","700","800","900"]);var Le=s(Ee,Te);
Re!==re&&(ve=!0),Me!==ie&&(fe=!0),Le!==ue&&(me=!0),Pe!==oe&&(pe=!0),Ae!==se&&(be=!0);
}}catch(Ne){ye=!0,xe=Ne}finally{try{ge||null==we["return"]||we["return"]()}finally{
if(ye)throw xe}}this["#font-weight-select"].innerHTML="";var $e=!0,Oe=!1,Ve=void 0;
try{for(var je=void 0,ze=le[Symbol.iterator]();!($e=(je=ze.next()).done);$e=!0){var Ie=je.value,De=r("bx-selectitem");
De.value=Ie,De.label=o(Ie),this["#font-weight-select"].append(De)}}catch(Ge){Oe=!0,
Ve=Ge}finally{try{$e||null==ze["return"]||ze["return"]()}finally{if(Oe)throw Ve}}
this["#font-heading"].disabled=!1,this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,
this["#font-family-button"].label=re,this["#font-family-button"].mixed=ve,this["#font-face-heading"].disabled=!1,
this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=ue,this["#font-weight-select"].mixed=me,
this["#italic-font-style-button"].disabled=!1,this["#italic-font-style-button"].mixed=be,
this["#italic-font-style-button"].pressed="italic"===se,this["#small-caps-font-variant-button"].disabled=!1,
this["#small-caps-font-variant-button"].mixed=pe,this["#small-caps-font-variant-button"].pressed="small-caps"===oe,
this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=he,
this["#font-size-slider"].mixed=fe}else this["#font-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,
this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-face-heading"].disabled=!0,
this["#font-weight-select"].disabled=!0,this["#font-weight-select"].mixed=!1,this["#italic-font-style-button"].disabled=!0,
this["#italic-font-style-button"].mixed=!1,this["#italic-font-style-button"].pressed=!1,
this["#small-caps-font-variant-button"].disabled=!0,this["#small-caps-font-variant-button"].mixed=!1,
this["#small-caps-font-variant-button"].pressed=!1,this["#font-size-heading"].disabled=!0,
this["#font-size-slider"].value=0,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,
this._hideFontFamilyPickerView()}var Be=m,Ue=(i=Be[Symbol.iterator](),(a=i.next()).done?void 0:a.value),He=$traceurRuntime.iteratorToArray(i);
if(Ue){var Fe=Ue[_].getPropertyValue("text-transform"),qe=!1,We=!0,Ye=!1,Xe=void 0;
try{for(var Ze=void 0,Ke=He[Symbol.iterator]();!(We=(Ze=Ke.next()).done);We=!0){var Je=Ze.value,Qe=Je[_].getPropertyValue("text-transform");
Qe!==Fe&&(qe=!0)}}catch(et){Ye=!0,Xe=et}finally{try{We||null==Ke["return"]||Ke["return"]();
}finally{if(Ye)throw Xe}}this["#transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,
this["#capitalize-button"].mixed=qe,this["#capitalize-button"].pressed="capitalize"===Fe,
this["#uppercase-button"].disabled=!1,this["#uppercase-button"].pressed="uppercase"===Fe,
this["#uppercase-button"].mixed=qe,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].pressed="lowercase"===Fe,
this["#lowercase-button"].mixed=qe}else this["#transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,
this["#capitalize-button"].mixed=!1,this["#capitalize-button"].pressed=!1,this["#uppercase-button"].disabled=!0,
this["#uppercase-button"].mixed=!1,this["#uppercase-button"].pressed=!1,this["#lowercase-button"].disabled=!0,
this["#lowercase-button"].mixed=!1,this["#lowercase-button"].pressed=!1;if(0===x.length)this["#text-on-path-button"].pressed=!1,
this["#text-on-path-button"].disabled=!0;else{var tt=!1,nt=null!==x[0].querySelector("textPath"),rt=!0,it=!1,at=void 0;
try{for(var ot=void 0,st=x[Symbol.iterator]();!(rt=(ot=st.next()).done);rt=!0){var lt=ot.value,ut=null!==lt.querySelector("textPath");
if(ut!==nt){tt=!0;break}}}catch(ct){it=!0,at=ct}finally{try{rt||null==st["return"]||st["return"]();
}finally{if(it)throw at}}this["#text-on-path-button"].pressed=nt,this["#text-on-path-button"].disabled=!1,
this["#text-on-path-button"].mixed=tt}var dt=y,ht=(c=dt[Symbol.iterator](),(h=c.next()).done?void 0:h.value),vt=$traceurRuntime.iteratorToArray(c);
if(ht){var ft=ht[_].getPropertyValue("text-decoration"),mt=!1,pt=!1,bt=!1,gt=!0,yt=!1,xt=void 0;
try{for(var _t=void 0,wt=vt[Symbol.iterator]();!(gt=(_t=wt.next()).done);gt=!0){var St=_t.value,kt=St[_].getPropertyValue("text-decoration");
ft!==kt&&(ft.includes("underline")!==kt.includes("underline")&&(mt=!0),ft.includes("line-through")!==kt.includes("line-through")&&(pt=!0),
ft.includes("overline")!==kt.includes("overline")&&(bt=!0))}}catch(Ct){yt=!0,xt=Ct;
}finally{try{gt||null==wt["return"]||wt["return"]()}finally{if(yt)throw xt}}this["#decoration-heading"].disabled=!1,
this["#underline-button"].disabled=!1,this["#underline-button"].mixed=mt,this["#underline-button"].pressed=ft.includes("underline"),
this["#line-through-button"].disabled=!1,this["#line-through-button"].mixed=pt,this["#line-through-button"].pressed=ft.includes("line-through"),
this["#overline-button"].disabled=!1,this["#overline-button"].mixed=bt,this["#overline-button"].pressed=ft.includes("overline");
}else this["#decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,
this["#underline-button"].mixed=!1,this["#underline-button"].pressed=!1,this["#line-through-button"].disabled=!0,
this["#line-through-button"].mixed=!1,this["#line-through-button"].pressed=!1,this["#overline-button"].disabled=!0,
this["#overline-button"].mixed=!1,this["#overline-button"].pressed=!1;if(this._isChangingLetterSpacingSlider===!1&&this._isChangingWordSpacingSlider===!1){
var Rt=m,Mt=(v=Rt[Symbol.iterator](),(f=v.next()).done?void 0:f.value),Et=$traceurRuntime.iteratorToArray(v);
if(Mt){var Pt=Mt[_].getPropertyValue("letter-spacing"),At=Mt[_].getPropertyValue("word-spacing");
Pt="normal"===Pt?0:g(Pt),At="normal"===At?0:g(At);var Tt=!1,Lt=!1,Nt=!0,$t=!1,Ot=void 0;
try{for(var Vt=void 0,jt=Et[Symbol.iterator]();!(Nt=(Vt=jt.next()).done);Nt=!0){var zt=Vt.value,It=zt[_].getPropertyValue("letter-spacing"),Dt=zt[_].getPropertyValue("word-spacing");
It="normal"===It?0:g(It),Dt="normal"===Dt?0:g(Dt),It!==Pt&&(Tt=!0),Dt!==At&&(Lt=!0);
}}catch(Gt){$t=!0,Ot=Gt}finally{try{Nt||null==jt["return"]||jt["return"]()}finally{
if($t)throw Ot}}this["#spacing-heading"].disabled=!1,this["#letter-spacing-heading"].disabled=!1,
this["#letter-spacing-slider"].value=u(Pt,2),this["#letter-spacing-slider"].mixed=Tt,
this["#letter-spacing-slider"].disabled=!1,this["#word-spacing-heading"].disabled=!1,
this["#word-spacing-slider"].value=u(At,2),this["#word-spacing-slider"].mixed=Lt,
this["#word-spacing-slider"].disabled=!1}else this["#spacing-heading"].disabled=!0,
this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,
this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,
this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,
this["#word-spacing-slider"].disabled=!0}},_getSelectedTexts:function(){var e=[],t=function(n){
var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;"text"===l.localName?e.push(l):"g"!==l.localName&&"a"!==l.localName||t(l.children);
}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}};return t(body.canvas.selectedElements),e}},{},n)}(HTMLElement),_=i("bx-typographycontrols",x);
return{get default(){return _}}}),$traceurRuntime.registerModule("elements/bx-viewboxedithud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-viewboxedithud")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/event","elements/bx-viewboxedithud")).isPointerMoveIntentional,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-viewboxedithud")).round,r=Math.abs,i='\n  <style>@import url("stylesheets/bx-viewboxedithud.css");</style>\n\n  <path id="outer-area"></path>\n  <rect id="inner-area" width="0" height="0" x="0" y="0"></rect>\n\n  <g id="resize-grippies" opacity="0">\n    <line class="resize-grippie side-resize-grippie" data-position="left"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="right"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="top"></line>\n    <line class="resize-grippie side-resize-grippie" data-position="bottom"></line>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="top-left">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="top-right">\n      <rect width="30" height="30"></rect>\n      <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="bottom-left">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n    </g>\n\n    <g class="resize-grippie corner-resize-grippie" data-position="bottom-right">\n      <rect width="30" height="30"></rect>\n      <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n    </g>\n  </g>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#inner-area"].addEventListener("pointerdown",function(t){
return e._onInnerAreaPointerDown(t)}),this["#resize-grippies"].addEventListener("pointerdown",function(t){
return e._onResizeGrippiesPointerDown(t)})},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.canvas.addEventListener("zoomchange",this._zoomChangeListener=function(t){
e._onZoomChange()}),this["#resize-grippies"].style.setProperty("opacity","1"),this._update();
},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.removeEventListener("zoomchange",this._zoomChangeListener)},_onArtboardMutation:function(e){
e.target!==body.canvas&&e.target.parentElement!==body.canvas||this._update()},_onZoomChange:function(){
this._update()},_onInnerAreaPointerDown:function(e){var n,r,i=this;window.addEventListener("pointermove",r=function(a){
t(e,a,7)!==!1&&(window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",n),
i._onInnerAreaDragStart(e))}),window.addEventListener("pointerup",n=function(){window.removeEventListener("pointermove",r),
window.removeEventListener("pointerup",n)})},_onInnerAreaDragStart:function(e){body.canvas.undoManager.checkpoint("View box");
var t,r,i=body.registerCursor("-webkit-grabbing",900),a=body.canvas.currentArtboard.viewBox.x,o=body.canvas.currentArtboard.viewBox.y,s=body.canvas.currentArtboard.getScreenCTM().inverse(),l=body.canvas.zoom<500?0:body.canvas.geometryPrecision,u=new SVGPoint(e.clientX,e.clientY);
u=u.matrixTransform(s),window.addEventListener("pointermove",r=function(e){var t=new SVGPoint(e.clientX,e.clientY);
t=t.matrixTransform(s);var r={x:t.x-u.x,y:t.y-u.y},i=a+r.x,c=o+r.y;null!==i&&(body.canvas.currentArtboard.viewBox.x=n(i,l)),
null!==c&&(body.canvas.currentArtboard.viewBox.y=n(c,l))}),window.addEventListener("pointerup",t=function(){
window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",t),
body.unregisterCursor(i)})},_onResizeGrippiesPointerDown:function(e){body.canvas.undoManager.checkpoint("View box");
var t=e.target.closest(".resize-grippie"),i=t.getAttribute("data-position"),a=body.canvas.currentArtboard.getScreenCTM().inverse(),o=body.canvas.currentArtboard.viewBox.x,s=body.canvas.currentArtboard.viewBox.y,l=body.canvas.currentArtboard.viewBox.width,u=body.canvas.currentArtboard.viewBox.height,c=body.canvas.zoom<500?0:body.canvas.geometryPrecision,d=new SVGPoint(e.clientX,e.clientY);
d=d.matrixTransform(a);var h,v,f;"left"===i||"right"===i?f="ew-resize":"top"===i||"bottom"===i?f="ns-resize":"top-left"===i?f="nwse-resize":"top-right"===i?f="nesw-resize":"bottom-left"===i?f="nesw-resize":"bottom-right"===i&&(f="nwse-resize");
var m=body.registerCursor(f,999);window.addEventListener("pointermove",h=function(e){
var t=new SVGPoint(e.clientX,e.clientY);t=t.matrixTransform(a);var h={x:t.x-d.x,y:t.y-d.y
},v=null,f=null,m=null,p=null;"left"===i?(m=l-h.x,v=o+h.x,0>m&&(m=r(m),v=o+l)):"right"===i?(m=l+h.x,
0>m&&(m=r(m),v=o-m)):"top"===i?(p=u-h.y,f=s+h.y,0>p&&(p=r(p),f=s+u)):"bottom"===i?(p=u+h.y,
0>p&&(p=r(p),f=s-p)):"top-left"===i?(m=l-h.x,p=u-h.y,v=o+h.x,f=s+h.y,0>m&&(m=r(m),
v=o+l),0>p&&(p=r(p),f=s+u)):"top-right"===i?(m=l+h.x,p=u-h.y,f=s+h.y,0>m&&(m=r(m),
v=o-m),0>p&&(p=r(p),f=s+u)):"bottom-left"===i?(m=l-h.x,p=u+h.y,v=o+h.x,0>m&&(m=r(m),
v=o+l),0>p&&(p=r(p),f=s-p)):"bottom-right"===i&&(m=l+h.x,p=u+h.y,0>m&&(m=r(m),v=o-m),
0>p&&(p=r(p),f=s-p)),null!==v&&(body.canvas.currentArtboard.viewBox.x=n(v,c)),null!==f&&(body.canvas.currentArtboard.viewBox.y=n(f,c)),
null!==m&&(body.canvas.currentArtboard.viewBox.width=n(m,c)),null!==p&&(body.canvas.currentArtboard.viewBox.height=n(p,c));
}),window.addEventListener("pointerup",v=function(){window.removeEventListener("pointermove",h),
window.removeEventListener("pointerup",v),body.unregisterCursor(m)})},_update:function(){
if(body.canvas.currentArtboard.hasAttribute("viewBox")===!1)this.style.setProperty("visibility","hidden");else{
this.style.setProperty("visibility","visible");var e=body.canvas.currentArtboard.viewBox,t=e.x,n=e.y,r=e.width,i=e.height;
this["#inner-area"].setAttribute("x",t),this["#inner-area"].setAttribute("y",n),this["#inner-area"].setAttribute("width",r),
this["#inner-area"].setAttribute("height",i);var a=1e6,o="\n        M "+-a+", "+-a+"\n        L "+2*a+", "+-a+"\n        L "+2*a+", "+2*a+"\n        L "+-a+", "+2*a+"\n        Z\n        M "+t+", "+n+"\n        L "+t+", "+(n+i)+"\n        L "+(t+r)+", "+(n+i)+"\n        L "+(t+r)+", "+n+"\n        Z\n      ";
this["#outer-area"].setAttribute("d",o);var s=(10/body.canvas.scale,!0),l=!1,u=void 0;
try{for(var c=void 0,d=this["#resize-grippies"].children[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){
var h=c.value,v=h.getAttribute("data-position");if("left"===v)h.x1.baseVal.value=t,
h.y1.baseVal.value=n,h.x2.baseVal.value=t,h.y2.baseVal.value=n+i;else if("right"===v)h.x1.baseVal.value=t+r,
h.y1.baseVal.value=n,h.x2.baseVal.value=t+r,h.y2.baseVal.value=n+i;else if("top"===v)h.x1.baseVal.value=t,
h.y1.baseVal.value=n,h.x2.baseVal.value=t+r,h.y2.baseVal.value=n;else if("bottom"===v)h.x1.baseVal.value=t,
h.y1.baseVal.value=n+i,h.x2.baseVal.value=t+r,h.y2.baseVal.value=n+i;else if("top-left"===v){
var f=new SVGMatrix;f.scaleSelf(1/body.canvas.scale,t,n),f.translateSelf(t-15,n-15),
h.setAttribute("transform",f.toString())}else if("top-right"===v){var m=new SVGMatrix;
m.scaleSelf(1/body.canvas.scale,t+r,n),m.translateSelf(t+r-15,n-15),h.setAttribute("transform",m.toString());
}else if("bottom-left"===v){var p=new SVGMatrix;p.scaleSelf(1/body.canvas.scale,t,n+i),
p.translateSelf(t-15,n+i-15),h.setAttribute("transform",p.toString())}else if("bottom-right"===v){
var b=new SVGMatrix;b.scaleSelf(1/body.canvas.scale,t+r,n+i),b.translateSelf(t+r-15,n+i-15),
h.setAttribute("transform",b.toString())}}}catch(g){l=!0,u=g}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}}}},{},e)}(SVGGElement),o=e("g","bx-viewboxedithud",a);return{
get default(){return o}}}),$traceurRuntime.registerModule("elements/bx-viewboxhud",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-viewboxhud")).registerElement,t='\n  <style>@import url("stylesheets/bx-viewboxhud.css");</style>\n  <rect id="outline" width="0" height="0" x="0" y="0"></rect>\n',n=function(e){
function n(){$traceurRuntime.superConstructor(n).apply(this,arguments)}return $traceurRuntime.createClass(n,{
createdCallback:function(){this._shadowRoot=this.createShadowRoot({mode:"closed"}),
this._shadowRoot.innerHTML=t;var e=!0,n=!1,r=void 0;try{for(var i=void 0,a=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){
var o=i.value;this["#"+o.id]=o}}catch(s){n=!0,r=s}finally{try{e||null==a["return"]||a["return"]();
}finally{if(n)throw r}}var l=!0,u=!1,c=void 0;try{for(var d=void 0,h=this.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;this.attributeChangedCallback(v.name)}}catch(f){u=!0,c=f}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}},attributeChangedCallback:function(e){
"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled())},get enabled(){
return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t)}),body.addEventListener("configchange",this._configChangeListener=function(t){
var n=t.detail,r=n.key,i=n.value;"bx-preferences:viewBoxOutlineColor"===r&&e["#outline"].style.setProperty("stroke",i);
}),body.getConfig("bx-preferences:viewBoxOutlineColor").then(function(t){e["#outline"].style.setProperty("stroke",t);
})},_onDisabled:function(){body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.removeEventListener("configchange",this._configChangeListener)},_onArtboardMutation:function(e){
e.target!==body.canvas&&e.target.parentElement!==body.canvas||this._update()},_update:function(){
body.canvas.currentArtboard.hasAttribute("viewBox")?(this["#outline"].setAttribute("width",body.canvas.currentArtboard.viewBox.width),
this["#outline"].setAttribute("height",body.canvas.currentArtboard.viewBox.height),
this["#outline"].setAttribute("x",body.canvas.currentArtboard.viewBox.x),this["#outline"].setAttribute("y",body.canvas.currentArtboard.viewBox.y)):(this["#outline"].setAttribute("width",0),
this["#outline"].setAttribute("height",0),this["#outline"].setAttribute("x",-99999),
this["#outline"].setAttribute("y",-99999))}},{},e)}(SVGGElement),r=e("g","bx-viewboxhud",n);
return{get default(){return r}}}),$traceurRuntime.registerModule("elements/bx-viewcontrols",[],function(){
"use strict";$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-alignmentselect","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-checkbox","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-select","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-slider","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-switch","elements/bx-viewcontrols")),
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bx-input","elements/bx-viewcontrols"));
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","elements/bx-viewcontrols")).registerElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/math","elements/bx-viewcontrols")).round,n={
1:"none",2:"xMinYMin",3:"xMidYMin",4:"xMaxYMin",5:"xMinYMid",6:"xMidYMid",7:"xMaxYMid",
8:"xMinYMax",9:"xMidYMax",10:"xMaxYMax"},r={0:"",1:"",2:"%",3:"ems",4:"exs",5:"px",
6:"cm",7:"mm",8:"in",9:"pt",10:"pc"},i='\n  <style>\n    @import url("stylesheets/controls.css");\n    @import url("stylesheets/bx-viewcontrols.css");\n  </style>\n\n  <main>\n    <section id="view-box-section">\n      <div class="row-div">\n        <h2>View box</h2>\n        <bx-switch id="view-box-switch"></bx-switch>\n      </div>\n\n      <div class="row-div" id="view-box-sliders">\n        <div id="view-box-x-div">\n          <h3 id="view-box-x-heading">X</h3>\n\n          <bx-slider\n            id="view-box-x-slider"\n            title="View box X"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-y-div">\n          <h3 id="view-box-y-heading">Y</h3>\n\n          <bx-slider\n            id="view-box-y-slider"\n            title="View box Y"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-width-div">\n          <h3 id="view-box-width-heading">↔</h3>\n\n          <bx-slider\n            id="view-box-width-slider"\n            title="View box Width"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n\n        <div id="view-box-height-div">\n          <h3 id="view-box-height-heading">↕</h3>\n\n          <bx-slider\n            id="view-box-height-slider"\n            title="View box Height"\n            value="0"\n            precision="0">\n          </bx-slider>\n        </div>\n      </div>\n    </section>\n\n    <section id="aspect-ratio-section">\n      <div class="row-div">\n        <h2 id="preserve-aspect-ratio-heading">Preserve aspect ratio</h2>\n        <bx-switch id="preserve-aspect-ratio-switch"></bx-switch>\n      </div>\n\n      <h3 id="align-heading">Align</h3>\n      <div class="row-div">\n        <bx-alignmentselect id="align-select"></bx-alignmentselect>\n        <bx-checkbox label="Slice" id="slice-checkbox"></bx-checkbox>\n      </div>\n    </section>\n\n    <section id="viewport-section">\n      <h2>Viewport</h2>\n\n      <div id="viewport-width-div">\n        <div class="row-div">\n          <h3>Width</h2>\n          <bx-switch id="viewport-width-switch"></bx-switch>\n        </div>\n\n        <div class="row-div">\n          <bx-slider\n            id="viewport-width-slider"\n            title="Viewport Width"\n            value="0"\n            min="0"\n            precision="0">\n          </bx-slider>\n\n          <bx-select id="viewport-width-unit-select" value="px">\n            <bx-selectitem value="px"  label="px"></bx-selectitem>\n            <bx-selectitem value="cm"  label="cm"></bx-selectitem>\n            <bx-selectitem value="mm"  label="mm"></bx-selectitem>\n            <bx-selectitem value="in"  label="in"></bx-selectitem>\n            <bx-selectitem value="pt"  label="pt"></bx-selectitem>\n            <bx-selectitem value="pc"  label="pc"></bx-selectitem>\n            <bx-selectitem value="ems" label="ems"></bx-selectitem>\n            <bx-selectitem value="exs" label="exs"></bx-selectitem>\n            <bx-selectitem value="%"   label="%"></bx-selectitem>\n            <bx-selectitem value=""    label=" "></bx-selectitem>\n          </bx-select>\n        </div>\n      </div>\n\n      <div id="viewport-height-div">\n        <div class="row-div">\n          <h3>Height</h2>\n          <bx-switch id="viewport-height-switch"></bx-switch>\n        </div>\n\n        <div class="row-div">\n          <bx-slider\n            id="viewport-height-slider"\n            title="Viewport Height"\n            value="0"\n            min="0"\n            precision="0">\n          </bx-slider>\n\n          <bx-select id="viewport-height-unit-select" value="px">\n            <bx-selectitem value="px"  label="px"></bx-selectitem>\n            <bx-selectitem value="cm"  label="cm"></bx-selectitem>\n            <bx-selectitem value="mm"  label="mm"></bx-selectitem>\n            <bx-selectitem value="in"  label="in"></bx-selectitem>\n            <bx-selectitem value="pt"  label="pt"></bx-selectitem>\n            <bx-selectitem value="pc"  label="pc"></bx-selectitem>\n            <bx-selectitem value="ems" label="ems"></bx-selectitem>\n            <bx-selectitem value="exs" label="exs"></bx-selectitem>\n            <bx-selectitem value="%"   label="%"></bx-selectitem>\n            <bx-selectitem value=""    label=" "></bx-selectitem>\n          </bx-select>\n        </div>\n      </div>\n    </section>\n  </main>\n',a=function(e){
function a(){$traceurRuntime.superConstructor(a).apply(this,arguments)}return $traceurRuntime.createClass(a,{
createdCallback:function(){var e=this;this._shadowRoot=this.createShadowRoot({mode:"closed"
}),this._shadowRoot.innerHTML=i;var t=!0,n=!1,r=void 0;try{for(var a=void 0,o=this._shadowRoot.querySelectorAll("[id]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){
var s=a.value;this["#"+s.id]=s}}catch(l){n=!0,r=l}finally{try{t||null==o["return"]||o["return"]();
}finally{if(n)throw r}}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=this.attributes[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;this.attributeChangedCallback(f.name)}}catch(m){c=!0,d=m}finally{try{
u||null==v["return"]||v["return"]()}finally{if(c)throw d}}this["#view-box-switch"].addEventListener("change",function(){
return e._onViewBoxSwitchChange()}),this["#view-box-x-slider"].addEventListener("changestart",function(){
return e._onViewBoxXSliderChangeStart()}),this["#view-box-y-slider"].addEventListener("changestart",function(){
return e._onViewBoxYSliderChangeStart()}),this["#view-box-width-slider"].addEventListener("changestart",function(){
return e._onViewBoxWidthSliderChangeStart()}),this["#view-box-height-slider"].addEventListener("changestart",function(){
return e._onViewBoxHeightSliderChangeStart()}),this["#viewport-width-switch"].addEventListener("change",function(){
return e._onViewportWidthSwitchChange()}),this["#viewport-width-slider"].addEventListener("changestart",function(){
return e._onViewportWidthSliderChangeStart()}),this["#viewport-width-unit-select"].addEventListener("change",function(){
return e._onViewportWidthUnitSelectChange()}),this["#viewport-height-switch"].addEventListener("change",function(){
return e._onViewportHeightSwitchChange()}),this["#viewport-height-slider"].addEventListener("changestart",function(){
return e._onViewportHeightSliderChangeStart()}),this["#viewport-height-unit-select"].addEventListener("change",function(){
return e._onViewportHeightUnitSelectChange()}),this["#preserve-aspect-ratio-switch"].addEventListener("change",function(){
return e._onPreserveAspectRatioSwitchChange()}),this["#slice-checkbox"].addEventListener("change",function(){
return e._onSliceCheckboxChange()}),this["#align-select"].addEventListener("change",function(){
return e._onAlignSelectChange()})},attributeChangedCallback:function(e){"enabled"===e&&(this.enabled?this._onEnabled():this._onDisabled());
},get enabled(){return this.hasAttribute("enabled")},set enabled(e){e?this.setAttribute("enabled",""):this.removeAttribute("enabled");
},_onEnabled:function(){var e=this;this._isChangingSlider=!1,this._update(),this._toggleViewboxHud(),
body.addEventListener("toolchange",this._toolChangeListener=function(){e._toggleViewboxHud();
}),body.canvas.addEventListener("artboardmutation",this._artboardMutationListener=function(t){
e._onArtboardMutation(t.detail)})},_onDisabled:function(){body.removeEventListener("toolchange",this._toolChangeListener),
body.canvas.removeEventListener("artboardmutation",this._artboardMutationListener),
body.canvas.disableHud("viewbox-edit-hud")},_onArtboardMutation:function(e){this._isChangingSlider||e.target!==body.canvas.artboards&&e.target.parentNode!==body.canvas.artboards||this._update();
},_onViewBoxSwitchChange:function(){body.canvas.undoManager.checkpoint("View box"),
this["#view-box-switch"].toggled===!0?this._lastViewBox?body.canvas.currentArtboard.setAttribute("viewBox",this._lastViewBox):body.canvas.currentArtboard.setAttribute("viewBox","0 0 500 500"):(this._lastViewBox=body.canvas.currentArtboard.getAttribute("viewBox"),
body.canvas.currentArtboard.removeAttribute("viewBox"))},_onViewBoxXSliderChangeStart:function(e){
var t,n,r=this,i=this["#view-box-x-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",t=function(){body.canvas.currentArtboard.viewBox.x=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",t),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxYSliderChangeStart:function(e){
var t,n,r=this,i=this["#view-box-y-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,i.addEventListener("change",t=function(){body.canvas.currentArtboard.viewBox.y=i.value;
}),i.addEventListener("changeend",n=function(){i.removeEventListener("change",t),
i.removeEventListener("changeend",n),r._isChangingSlider=!1})},_onViewBoxWidthSliderChangeStart:function(){
var e,t,n=this,r=this["#view-box-width-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,r.addEventListener("change",e=function(){body.canvas.currentArtboard.viewBox.width=r.value;
}),r.addEventListener("changeend",t=function(){r.removeEventListener("change",e),
r.removeEventListener("changeend",t),n._isChangingSlider=!1})},_onViewBoxHeightSliderChangeStart:function(){
var e,t,n=this,r=this["#view-box-height-slider"];body.canvas.undoManager.checkpoint("View Box"),
this._isChangingSlider=!0,r.addEventListener("change",e=function(){body.canvas.currentArtboard.viewBox.height=r.value;
}),r.addEventListener("changeend",t=function(){r.removeEventListener("change",e),
r.removeEventListener("changeend",t),n._isChangingSlider=!1})},_onViewportWidthSwitchChange:function(){
body.canvas.undoManager.checkpoint("Viewport width"),this["#viewport-width-switch"].toggled===!0?this._lastViewportWidth?body.canvas.currentArtboard.setAttribute("width",this._lastViewportWidth):body.canvas.currentArtboard.setAttribute("width","500px"):(this._lastViewportWidth=body.canvas.currentArtboard.getAttribute("width"),
body.canvas.currentArtboard.removeAttribute("width"))},_onViewportWidthSliderChangeStart:function(){
var e,t,n=this,r=this["#viewport-width-slider"],i=this["#viewport-width-unit-select"];
body.canvas.undoManager.checkpoint("Viewport width"),this._isChangingSlider=!0,r.addEventListener("change",e=function(){
body.canvas.currentArtboard.setAttribute("width",r.value+i.value)}),r.addEventListener("changeend",t=function(){
r.removeEventListener("change",e),r.removeEventListener("changeend",t),n._isChangingSlider=!1;
})},_onViewportWidthUnitSelectChange:function(){var e=this["#viewport-width-slider"],t=this["#viewport-width-unit-select"];
body.canvas.undoManager.checkpoint("Viewport width unit"),body.canvas.currentArtboard.setAttribute("width",e.value+t.value);
},_onViewportHeightSwitchChange:function(){body.canvas.undoManager.checkpoint("Viewport height"),
this["#viewport-height-switch"].toggled===!0?this._lastViewportHeight?body.canvas.currentArtboard.setAttribute("height",this._lastViewportHeight):body.canvas.currentArtboard.setAttribute("height","500px"):(this._lastViewportHeight=body.canvas.currentArtboard.getAttribute("height"),
body.canvas.currentArtboard.removeAttribute("height"))},_onViewportHeightSliderChangeStart:function(){
var e,t,n=this,r=this["#viewport-height-slider"],i=this["#viewport-height-unit-select"];
body.canvas.undoManager.checkpoint("Viewport height"),this._isChangingSlider=!0,r.addEventListener("change",e=function(){
body.canvas.currentArtboard.setAttribute("height",r.value+i.value)}),r.addEventListener("changeend",t=function(){
r.removeEventListener("change",e),r.removeEventListener("changeend",t),n._isChangingSlider=!1;
})},_onViewportHeightUnitSelectChange:function(){var e=this["#viewport-height-slider"],t=this["#viewport-height-unit-select"];
body.canvas.undoManager.checkpoint("Viewport height unit"),body.canvas.currentArtboard.setAttribute("height",e.value+t.value);
},_onPreserveAspectRatioSwitchChange:function(){body.canvas.undoManager.checkpoint("Preserve aspect ratio"),
this["#preserve-aspect-ratio-switch"].toggled?this._lastAspectRatio?body.canvas.currentArtboard.setAttribute("preserveAspectRatio",this._lastAspectRatio):body.canvas.currentArtboard.removeAttribute("preserveAspectRatio"):(this._lastAspectRatio=body.canvas.currentArtboard.getAttribute("preserveAspectRatio"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio","none"))},_onSliceCheckboxChange:function(){
if(body.canvas.undoManager.checkpoint("Slice"),"xMidYMid"===this["#align-select"].value&&this["#slice-checkbox"].checked===!1)body.canvas.currentArtboard.removeAttribute("preserveAspectRatio");else{
var e=this["#align-select"].value;"none"!==e&&this["#slice-checkbox"].checked&&(e+=" slice"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio",e)}},_onAlignSelectChange:function(){
if(body.canvas.undoManager.checkpoint("Align"),"xMidYMid"===this["#align-select"].value&&this["#slice-checkbox"].checked===!1)body.canvas.currentArtboard.removeAttribute("preserveAspectRatio");else{
var e=this["#align-select"].value;"none"!==e&&this["#slice-checkbox"].checked&&(e+=" slice"),
body.canvas.currentArtboard.setAttribute("preserveAspectRatio",e)}},_update:function(){
this._updateViewBoxSection(),this._updateViewportSection(),this._updateAspectRatioSection();
},_updateViewBoxSection:function(){body.canvas.currentArtboard.hasAttribute("viewBox")?(this["#view-box-switch"].toggled=!0,
this["#view-box-x-slider"].value=t(body.canvas.currentArtboard.viewBox.x,4),this["#view-box-x-slider"].disabled=!1,
this["#view-box-x-heading"].disabled=!1,this["#view-box-y-slider"].value=t(body.canvas.currentArtboard.viewBox.y,4),
this["#view-box-y-slider"].disabled=!1,this["#view-box-y-heading"].disabled=!1,this["#view-box-width-slider"].value=t(body.canvas.currentArtboard.viewBox.width,4),
this["#view-box-width-slider"].disabled=!1,this["#view-box-width-heading"].disabled=!1,
this["#view-box-height-slider"].value=t(body.canvas.currentArtboard.viewBox.height,4),
this["#view-box-height-slider"].disabled=!1,this["#view-box-height-heading"].disabled=!1):(this["#view-box-switch"].toggled=!1,
this["#view-box-x-slider"].value=0,this["#view-box-x-slider"].disabled=!0,this["#view-box-x-heading"].disabled=!0,
this["#view-box-y-slider"].value=0,this["#view-box-y-slider"].disabled=!0,this["#view-box-y-heading"].disabled=!0,
this["#view-box-width-slider"].value=0,this["#view-box-width-slider"].disabled=!0,
this["#view-box-width-heading"].disabled=!0,this["#view-box-height-slider"].value=0,
this["#view-box-height-slider"].disabled=!0,this["#view-box-height-heading"].disabled=!0);
},_updateViewportSection:function(){body.canvas.currentArtboard!==body.canvas.masterArtboard?this["#viewport-section"].hidden=!0:(this["#viewport-section"].hidden=!1,
body.canvas.currentArtboard.hasAttribute("width")===!1?(this["#viewport-width-slider"].disabled=!0,
this["#viewport-width-slider"].value=0,this["#viewport-width-switch"].toggled=!1,
this["#viewport-width-unit-select"].disabled=!0,this["#viewport-width-unit-select"].value="px"):(this["#viewport-width-slider"].disabled=!1,
this["#viewport-width-slider"].value=body.canvas.currentArtboard.width.valueInSpecifiedUnits,
this["#viewport-width-switch"].toggled=!0,this["#viewport-width-unit-select"].disabled=!1,
this["#viewport-width-unit-select"].value=r[body.canvas.currentArtboard.width.unitType]),
body.canvas.currentArtboard.hasAttribute("height")===!1?(this["#viewport-height-slider"].disabled=!0,
this["#viewport-height-slider"].value=0,this["#viewport-height-switch"].toggled=!1,
this["#viewport-height-unit-select"].disabled=!0,this["#viewport-height-unit-select"].value="px"):(this["#viewport-height-slider"].disabled=!1,
this["#viewport-height-slider"].value=body.canvas.currentArtboard.height.valueInSpecifiedUnits,
this["#viewport-height-switch"].toggled=!0,this["#viewport-height-unit-select"].disabled=!1,
this["#viewport-height-unit-select"].value=r[body.canvas.currentArtboard.height.unitType]));
},_updateAspectRatioSection:function(){body.canvas.currentArtboard.hasAttribute("viewBox")===!1?(this["#preserve-aspect-ratio-heading"].disabled=!0,
this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,
this["#slice-checkbox"].checked=!1,this["#slice-checkbox"].disabled=!0,this["#align-heading"].disabled=!0,
this["#align-select"].value=null,this["#align-select"].disabled=!0):"none"===n[body.canvas.currentArtboard.preserveAspectRatio.align]?(this["#preserve-aspect-ratio-heading"].disabled=!1,
this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,
this["#align-heading"].disabled=!0,this["#align-select"].value=null,this["#align-select"].disabled=!0,
this["#slice-checkbox"].checked=!1,this["#slice-checkbox"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,
this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,
this["#align-heading"].disabled=!1,this["#align-select"].value=n[body.canvas.currentArtboard.preserveAspectRatio.align],
this["#align-select"].disabled=!1,this["#slice-checkbox"].checked=2===body.canvas.currentArtboard.preserveAspectRatio.meetOrSlice,
this["#slice-checkbox"].disabled=!1)},_toggleViewboxHud:function(){"transform-tool"===body.currentTool.id||"edit-tool"===body.currentTool.id?body.canvas.enableHud("viewbox-edit-hud"):body.canvas.disableHud("viewbox-edit-hud");
}},{},e)}(HTMLElement),o=e("bx-viewcontrols",a);return{get default(){return o}}}),
$traceurRuntime.registerModule("libs/css-parser",[],function(){"use strict";function e(e){
return Me(e,48,57)}function t(t){return e(t)||Me(t,65,70)||Me(t,97,102)}function n(e){
return Me(e,65,90)}function r(e){return Me(e,97,122)}function i(e){return n(e)||r(e);
}function a(e){return e>=128}function o(e){return i(e)||a(e)||95==e}function s(t){
return o(t)||e(t)||45==t}function l(e){return Me(e,0,8)||11==e||Me(e,14,31)||127==e;
}function u(e){return 10==e}function c(e){return u(e)||9==e||32==e}function d(e){
for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(13==r&&10==e.charCodeAt(n+1)&&(r=10,
n++),13!=r&&12!=r||(r=10),0==r&&(r=65533),Me(r,55296,56319)&&Me(e.charCodeAt(n+1),56320,57343)){
var i=r-55296,a=e.charCodeAt(n+1)-56320;r=Math.pow(2,20)+i*Math.pow(2,10)+a,n++}t.push(r);
}return t}function h(e){if(65535>=e)return String.fromCharCode(e);e-=Math.pow(2,20);
var t=Math.floor(e/Math.pow(2,10))+55296,n=e%Math.pow(2,10)+56320;return String.fromCharCode(t)+String.fromCharCode(n);
}function v(n){n=d(n);for(var r,i=-1,a=[],v=0,f=0,S=0,z=function(){v+=1,S=f,f=0},Y={
line:v,column:f},X=function(e){return e>=n.length?-1:n[e]},Z=function(e){if(void 0===e&&(e=1),
e>3)throw"Spec Error: no more than three codepoints of lookahead.";return X(i+e)},K=function(e){
return void 0===e&&(e=1),i+=e,r=X(i),u(r)?z():f+=e,!0},J=function(){return i-=1,u(r)?(v-=1,
f=S):f-=1,Y.line=v,Y.column=f,!0},Q=function(e){return void 0===e&&(e=r),-1==e},ee=function(){},te=function(){
throw new Error("Parse error")},ne=function(){if(re(),K(),c(r)){for(;c(Z());)K();return new b;
}if(34==r)return oe();if(35==r){if(s(Z())||ue(Z(1),Z(2))){var t=new B;return de(Z(1),Z(2),Z(3))&&(t.type="id"),
t.value=me(),t}return new j(r)}return 36==r?61==Z()?(K(),new N):new j(r):39==r?oe():40==r?new E:41==r?new P:42==r?61==Z()?(K(),
new $):new j(r):43==r?fe()?(J(),ie()):new j(r):44==r?new w:45==r?fe()?(J(),ie()):45==Z(1)&&62==Z(2)?(K(2),
new y):he()?(J(),ae()):new j(r):46==r?fe()?(J(),ie()):new j(r):58==r?new x:59==r?new _:60==r?33==Z(1)&&45==Z(2)&&45==Z(3)?(K(3),
new g):new j(r):64==r?de(Z(1),Z(2),Z(3))?new G(me()):new j(r):91==r?new R:92==r?ce()?(J(),
ae()):(te(),new j(r)):93==r?new M:94==r?61==Z()?(K(),new L):new j(r):123==r?new k:124==r?61==Z()?(K(),
new T):124==Z()?(K(),new O):new j(r):125==r?new C:126==r?61==Z()?(K(),new A):new j(r):e(r)?(J(),
ie()):o(r)?(J(),ae()):Q()?new V:new j(r)},re=function(){for(;47==Z(1)&&42==Z(2);)for(K(2);;){
if(K(),42==r&&47==Z()){K();break}if(Q())return void te()}},ie=function(){var e=pe();
if(de(Z(1),Z(2),Z(3))){var t=new W;return t.value=e.value,t.repr=e.repr,t.type=e.type,
t.unit=me(),t}if(37==Z()){K();var t=new q;return t.value=e.value,t.repr=e.repr,t}
var t=new F;return t.value=e.value,t.repr=e.repr,t.type=e.type,t},ae=function(){var e=me();
if("url"==e.toLowerCase()&&40==Z()){for(K();c(Z(1))&&c(Z(2));)K();return 34==Z()||39==Z()?new D(e):!c(Z())||34!=Z(2)&&39!=Z(2)?se():new D(e);
}return 40==Z()?(K(),new D(e)):new I(e)},oe=function(e){void 0===e&&(e=r);for(var t="";K();){
if(r==e||Q())return new U(t);if(u(r))return te(),J(),new m;92==r?Q(Z())?ee():u(Z())?K():t+=h(le()):t+=h(r);
}},se=function(){for(var e=new H("");c(Z());)K();if(Q(Z()))return e;for(;K();){if(41==r||Q())return e;
if(c(r)){for(;c(Z());)K();return 41==Z()||Q(Z())?(K(),e):(ge(),new p)}if(34==r||39==r||40==r||l(r))return te(),
ge(),new p;if(92==r){if(!ce())return te(),ge(),new p;e.value+=h(le())}else e.value+=h(r);
}},le=function(){if(K(),t(r)){for(var e=[r],n=0;5>n&&t(Z());n++)K(),e.push(r);c(Z())&&K();
var i=parseInt(e.map(function(e){return String.fromCharCode(e)}).join(""),16);return i>Ee&&(i=65533),
i}return Q()?65533:r},ue=function(e,t){return 92!=e?!1:!u(t)},ce=function(){return ue(r,Z());
},de=function(e,t,n){return 45==e?o(t)||45==t||ue(t,n):o(e)?!0:92==e?ue(e,t):!1},he=function(){
return de(r,Z(1),Z(2))},ve=function(t,n,r){return 43==t||45==t?e(n)?!0:!(46!=n||!e(r)):46==t?!!e(n):!!e(t);
},fe=function(){return ve(r,Z(1),Z(2))},me=function(){for(var e="";K();)if(s(r))e+=h(r);else{
if(!ce())return J(),e;e+=h(le())}},pe=function(){var t=[],n="integer";for(43!=Z()&&45!=Z()||(K(),
t+=h(r));e(Z());)K(),t+=h(r);if(46==Z(1)&&e(Z(2)))for(K(),t+=h(r),K(),t+=h(r),n="number";e(Z());)K(),
t+=h(r);var i=Z(1),a=Z(2),o=Z(3);if(69!=i&&101!=i||!e(a)){if((69==i||101==i)&&(43==a||45==a)&&e(o))for(K(),
t+=h(r),K(),t+=h(r),K(),t+=h(r),n="number";e(Z());)K(),t+=h(r)}else for(K(),t+=h(r),
K(),t+=h(r),n="number";e(Z());)K(),t+=h(r);var s=be(t);return{type:n,value:s,repr:t
}},be=function(e){return+e},ge=function(){for(;K();){if(45==r||Q())return;ce()?(le(),
ee()):ee()}},ye=0;!Q(Z());)if(a.push(ne()),ye++,ye>2*n.length)return"I'm infinite-looping!";
return a}function f(){throw"Abstract Base Class"}function m(){return this}function p(){
return this}function b(){return this}function g(){return this}function y(){return this;
}function x(){return this}function _(){return this}function w(){return this}function S(){
throw"Abstract Base Class"}function k(){return this.value="{",this.mirror="}",this;
}function C(){return this.value="}",this.mirror="{",this}function R(){return this.value="[",
this.mirror="]",this}function M(){return this.value="]",this.mirror="[",this}function E(){
return this.value="(",this.mirror=")",this}function P(){return this.value=")",this.mirror="(",
this}function A(){return this}function T(){return this}function L(){return this}function N(){
return this}function $(){return this}function O(){return this}function V(){return this;
}function j(e){return this.value=h(e),this}function z(){throw"Abstract Base Class";
}function I(e){this.value=e}function D(e){this.value=e,this.mirror=")"}function G(e){
this.value=e}function B(e){this.value=e,this.type="unrestricted"}function U(e){this.value=e;
}function H(e){this.value=e}function F(){this.value=null,this.type="integer",this.repr="";
}function q(){this.value=null,this.repr=""}function W(){this.value=null,this.type="integer",
this.repr="",this.unit=""}function Y(e){e=""+e;for(var t="",n=e.charCodeAt(0),r=0;r<e.length;r++){
var i=e.charCodeAt(r);if(0==i)throw new Pe("Invalid character: the input contains U+0000.");
t+=Me(i,1,31)||127==i||0==r&&Me(i,48,57)||1==r&&Me(i,48,57)&&45==n?"\\"+i.toString(16)+" ":i>=128||45==i||95==i||Me(i,48,57)||Me(i,65,90)||Me(i,97,122)?e[r]:"\\"+e[r];
}return t}function X(e){e=""+e;for(var t="",n=(e.charCodeAt(0),0);n<e.length;n++){
var r=e.charCodeAt(n);if(0==r)throw new Pe("Invalid character: the input contains U+0000.");
t+=r>=128||45==r||95==r||Me(r,48,57)||Me(r,65,90)||Me(r,97,122)?e[n]:"\\"+r.toString(16)+" ";
}return t}function Z(e){e=""+e;for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);
if(0==r)throw new Pe("Invalid character: the input contains U+0000.");t+=Me(r,1,31)||127==r?"\\"+r.toString(16)+" ":34==r||92==r?"\\"+e[n]:e[n];
}return t}function K(e){this.tokens=e,this.i=-1}function J(e,t){throw new Error("Parse error");
}function Q(){return!0}function ee(e,t){for(var n,r=[];e.consume();)if(!(e.token instanceof b)){
if(e.token instanceof V)return r;if(e.token instanceof g||e.token instanceof y){if("top-level"==t)continue;
e.reconsume(),(n=ne(e))&&r.push(n)}else e.token instanceof G?(e.reconsume(),(n=te(e))&&r.push(n)):(e.reconsume(),
(n=ne(e))&&r.push(n))}}function te(e){e.consume();for(var t=new ye(e.token.value);e.consume();){
if(e.token instanceof _||e.token instanceof V)return t;if(e.token instanceof k)return t.value=oe(e),
t;if(e.token instanceof we&&"{"==e.token.name)return t.value=e.token,t;e.reconsume(),
t.prelude.push(ae(e))}}function ne(e){for(var t=new xe;e.consume();){if(e.token instanceof V)return void J(e,"Hit EOF when trying to parse the prelude of a qualified rule.");
if(e.token instanceof k)return t.value=oe(e),t;if(e.token instanceof we&&"{"==e.token.name)return t.value=e.token,
t;e.reconsume(),t.prelude.push(ae(e))}}function re(e){for(var t=[];e.consume();)if(e.token instanceof b||e.token instanceof _)Q();else{
if(e.token instanceof V)return t;if(e.token instanceof G)e.reconsume(),t.push(te(e));else if(e.token instanceof I){
for(var n=[e.token];!(e.next()instanceof _||e.next()instanceof V);)n.push(ae(e));var r=void 0;
(r=ie(new K(n)))&&t.push(r)}else for(J(e),e.reconsume();!(e.next()instanceof _||e.next()instanceof V);)ae(e);
}}function ie(e){e.consume();for(var t=new _e(e.token.value);e.next()instanceof b;)e.consume();
if(!(e.next()instanceof x))return void J(e);for(e.consume();!(e.next()instanceof V);)t.value.push(ae(e));
for(var n=!1,r=t.value.length-1;r>=0;r--)if(!(t.value[r]instanceof b)){if(!(t.value[r]instanceof I&&t.value[r].ASCIIMatch("important"))){
if(n&&t.value[r]instanceof j&&"!"==t.value[r].value){t.value.splice(r,t.value.length),
t.important=!0;break}break}n=!0}return t}function ae(e){return e.consume(),e.token instanceof k||e.token instanceof R||e.token instanceof E?oe(e):e.token instanceof D?se(e):e.token;
}function oe(e){for(var t=e.token.mirror,n=new we(e.token.value);e.consume();){if(e.token instanceof V||e.token instanceof S&&e.token.value==t)return n;
e.reconsume(),n.value.push(ae(e))}}function se(e){for(var t=new Se(e.token.value);e.consume();){
if(e.token instanceof V||e.token instanceof P)return t;e.reconsume(),t.value.push(ae(e));
}}function le(e){if("string"==typeof e)return new K(v(e));if(e instanceof K)return e;
if(void 0!==e.length)return new K(e);throw SyntaxError(e)}function ue(e){e=le(e);var t=new ge;
return t.value=ee(e,"top-level"),t}function ce(e){return e=le(e),ee(e)}function de(e){
for(e=le(e);e.next()instanceof b;)e.consume();if(e.next()instanceof V)throw SyntaxError();
if(e.next()instanceof G)var t=te(e);else{var t=ne(e);if(!t)throw SyntaxError()}for(;e.next()instanceof b;)e.consume();
if(e.next()instanceof V)return t;throw SyntaxError()}function he(e){for(e=le(e);e.next()instanceof b;)e.consume();
if(!(e.next()instanceof I))throw SyntaxError();var t=ie(e);if(t)return t;throw SyntaxError();
}function ve(e){return e=le(e),re(e)}function fe(e){for(e=le(e);e.next()instanceof b;)e.consume();
if(e.next()instanceof V)throw SyntaxError();var t=ae(e);if(!t)throw SyntaxError();
for(;e.next()instanceof b;)e.consume();if(e.next()instanceof V)return t;throw SyntaxError();
}function me(e){e=le(e);for(var t=[];;){var n=ae(e);if(n instanceof V)return t;t.push(n);
}}function pe(e){e=le(e);for(var t=[];;)for(var n=[];;){var r=ae(e);if(r instanceof V)return t.push(n),
t;if(r instanceof w){t.push(n);break}n.push(r)}}function be(){throw"Abstract Base Class";
}function ge(){return this.value=[],this}function ye(e){return this.name=e,this.prelude=[],
this.value=null,this}function xe(){return this.prelude=[],this.value=[],this}function _e(e){
return this.name=e,this.value=[],this.important=!1,this}function we(e){return this.name=e,
this.value=[],this}function Se(e){return this.name=e,this.value=[],this}function ke(e,t,n){
if(void 0===t&&(t=Ae),void 0===n&&(n=t),Ce(t)){if(t){t.stylesheet&&(t=n);var r=t.unknown||function(){};
}var i={type:e.type.toLowerCase()};if("STYLESHEET"==e.type)var a=e.value;else if("BLOCK"==e.type)var o=e.value;else if("QUALIFIED-RULE"==e.type)var o=e.value.value;else if("AT-RULE"==e.type){
var o=e.value.value;i.name=e.name,i.prelude=e.prelude}else if("DECLARATION"==e.type)return i.name=e.name,
i.value=e.value,i.important=e.important,i;if(o)if(t.declarations)var a=ve(o);else if(t.qualified)var a=ce(o);
if(!t)return i;if(t.declarations){i.declarations={},i.rules=[],i.errors=[];for(var s=0;s<a.length;s++){
var e=a[s];if(e instanceof _e){var l=ke(e,{},n);i.declarations[e.name]=l,i.rules.push(l);
}else{var u=t["@"+e.name];if(u)i.rules.push(ke(e,u,n));else{var c=r(e);c?i.rules.push(c):i.errors.push(c);
}}}}else{i.rules=[],i.errors=[];for(var s=0;s<a.length;s++){var e=a[s];if(e instanceof xe)i.rules.push(ke(e,t.qualified,n));else{
var u=t["@"+e.name];if(u)i.rules.push(ke(e,u,n));else{var c=r(e);c?i.rules.push(c):i.errors.push(c);
}}}}return i}}function Ce(e){return!0}var Re={},Me=function(e,t,n){return e>=t&&n>=e;
},Ee=1114111,Pe=function(e){this.message=e};Pe.prototype=new Error,Pe.prototype.name="InvalidCharacterError",
f.prototype.toJSON=function(){return{token:this.tokenType}},f.prototype.toString=function(){
return this.tokenType},f.prototype.toSource=function(){return""+this},m.prototype=Object.create(f.prototype),
m.prototype.tokenType="BADSTRING",p.prototype=Object.create(f.prototype),p.prototype.tokenType="BADURL",
b.prototype=Object.create(f.prototype),b.prototype.tokenType="WHITESPACE",b.prototype.toString=function(){
return"WS"},b.prototype.toSource=function(){return" "},g.prototype=Object.create(f.prototype),
g.prototype.tokenType="CDO",g.prototype.toSource=function(){return"<!--"},y.prototype=Object.create(f.prototype),
y.prototype.tokenType="CDC",y.prototype.toSource=function(){return"-->"},x.prototype=Object.create(f.prototype),
x.prototype.tokenType=":",_.prototype=Object.create(f.prototype),_.prototype.tokenType=";",
w.prototype=Object.create(f.prototype),w.prototype.tokenType=",",S.prototype=Object.create(f.prototype),
k.prototype=Object.create(S.prototype),k.prototype.tokenType="{",C.prototype=Object.create(S.prototype),
C.prototype.tokenType="}",R.prototype=Object.create(S.prototype),R.prototype.tokenType="[",
M.prototype=Object.create(S.prototype),M.prototype.tokenType="]",E.prototype=Object.create(S.prototype),
E.prototype.tokenType="(",P.prototype=Object.create(S.prototype),P.prototype.tokenType=")",
A.prototype=Object.create(f.prototype),A.prototype.tokenType="~=",T.prototype=Object.create(f.prototype),
T.prototype.tokenType="|=",L.prototype=Object.create(f.prototype),L.prototype.tokenType="^=",
N.prototype=Object.create(f.prototype),N.prototype.tokenType="$=",$.prototype=Object.create(f.prototype),
$.prototype.tokenType="*=",O.prototype=Object.create(f.prototype),O.prototype.tokenType="||",
V.prototype=Object.create(f.prototype),V.prototype.tokenType="EOF",V.prototype.toSource=function(){
return""},j.prototype=Object.create(f.prototype),j.prototype.tokenType="DELIM",j.prototype.toString=function(){
return"DELIM("+this.value+")"},j.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.value=this.value,e},j.prototype.toSource=function(){return"\\"==this.value?"\\\n":this.value;
},z.prototype=Object.create(f.prototype),z.prototype.ASCIIMatch=function(e){return this.value.toLowerCase()==e.toLowerCase();
},z.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.value=this.value,e},I.prototype=Object.create(z.prototype),I.prototype.tokenType="IDENT",
I.prototype.toString=function(){return"IDENT("+this.value+")"},I.prototype.toSource=function(){
return Y(this.value)},D.prototype=Object.create(z.prototype),D.prototype.tokenType="FUNCTION",
D.prototype.toString=function(){return"FUNCTION("+this.value+")"},D.prototype.toSource=function(){
return Y(this.value)+"("},G.prototype=Object.create(z.prototype),G.prototype.tokenType="AT-KEYWORD",
G.prototype.toString=function(){return"AT("+this.value+")"},G.prototype.toSource=function(){
return"@"+Y(this.value)},B.prototype=Object.create(z.prototype),B.prototype.tokenType="HASH",
B.prototype.toString=function(){return"HASH("+this.value+")"},B.prototype.toJSON=function(){
var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,
e.type=this.type,e},B.prototype.toSource=function(){return"id"==this.type?"#"+Y(this.value):"#"+X(this.value);
},U.prototype=Object.create(z.prototype),U.prototype.tokenType="STRING",U.prototype.toString=function(){
return'"'+Z(this.value)+'"'},H.prototype=Object.create(z.prototype),H.prototype.tokenType="URL",
H.prototype.toString=function(){return"URL("+this.value+")"},H.prototype.toSource=function(){
return'url("'+Z(this.value)+'")'},F.prototype=Object.create(f.prototype),F.prototype.tokenType="NUMBER",
F.prototype.toString=function(){return"integer"==this.type?"INT("+this.value+")":"NUMBER("+this.value+")";
},F.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.value=this.value,e.type=this.type,e.repr=this.repr,e},F.prototype.toSource=function(){
return this.repr},q.prototype=Object.create(f.prototype),q.prototype.tokenType="PERCENTAGE",
q.prototype.toString=function(){return"PERCENTAGE("+this.value+")"},q.prototype.toJSON=function(){
var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,
e.repr=this.repr,e},q.prototype.toSource=function(){return this.repr+"%"},W.prototype=Object.create(f.prototype),
W.prototype.tokenType="DIMENSION",W.prototype.toString=function(){return"DIM("+this.value+","+this.unit+")";
},W.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e},W.prototype.toSource=function(){
var e=this.repr,t=Y(this.unit);return"e"!=t[0].toLowerCase()||"-"!=t[1]&&!Me(t.charCodeAt(1),48,57)||(t="\\65 "+t.slice(1,t.length)),
e+t},Re.tokenize=v,Re.IdentToken=I,Re.FunctionToken=D,Re.AtKeywordToken=G,Re.HashToken=B,
Re.StringToken=U,Re.BadStringToken=m,Re.URLToken=H,Re.BadURLToken=p,Re.DelimToken=j,
Re.NumberToken=F,Re.PercentageToken=q,Re.DimensionToken=W,Re.IncludeMatchToken=A,
Re.DashMatchToken=T,Re.PrefixMatchToken=L,Re.SuffixMatchToken=N,Re.SubstringMatchToken=$,
Re.ColumnToken=O,Re.WhitespaceToken=b,Re.CDOToken=g,Re.CDCToken=y,Re.ColonToken=x,
Re.SemicolonToken=_,Re.CommaToken=w,Re.OpenParenToken=E,Re.CloseParenToken=P,Re.OpenSquareToken=R,
Re.CloseSquareToken=M,Re.OpenCurlyToken=k,Re.CloseCurlyToken=C,Re.EOFToken=V,Re.CSSParserToken=f,
Re.GroupingToken=S,K.prototype.tokenAt=function(e){return e<this.tokens.length?this.tokens[e]:new V;
},K.prototype.consume=function(e){return void 0===e&&(e=1),this.i+=e,this.token=this.tokenAt(this.i),
!0},K.prototype.next=function(){return this.tokenAt(this.i+1)},K.prototype.reconsume=function(){
this.i--},be.prototype.toString=function(e){return JSON.stringify(this,null,e)},be.prototype.toJSON=function(){
return{type:this.type,value:this.value}},ge.prototype=Object.create(be.prototype),
ge.prototype.type="STYLESHEET",ye.prototype=Object.create(be.prototype),ye.prototype.type="AT-RULE",
ye.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.name=this.name,e.prelude=this.prelude,e},xe.prototype=Object.create(be.prototype),
xe.prototype.type="QUALIFIED-RULE",xe.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.prelude=this.prelude,e},_e.prototype=Object.create(be.prototype),_e.prototype.type="DECLARATION",
_e.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.name=this.name,e.important=this.important,e},we.prototype=Object.create(be.prototype),
we.prototype.type="BLOCK",we.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.name=this.name,e},Se.prototype=Object.create(be.prototype),Se.prototype.type="FUNCTION",
Se.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);
return e.name=this.name,e};var Ae={qualified:{declarations:!0},"@media":{stylesheet:!0
},"@keyframes":{qualified:{declarations:!0}},"@font-face":{declarations:!0},"@supports":{
stylesheet:!0},"@scope":{stylesheet:!0},"@counter-style":{declarations:!0},"@import":null,
"@font-feature-values":{qualified:!0,"@stylistic":{declarations:!0},"@styleset":{
declarations:!0},"@character-variants":{declarations:!0},"@swash":{declarations:!0
},"@ornaments":{declarations:!0},"@annotation":{declarations:!0}},"@viewport":{declarations:!0
},"@page":{declarations:!0,"@top-left-corner":{declarations:!0},"@top-left":{declarations:!0
},"@top-center":{declarations:!0},"@top-right":{declarations:!0},"@top-right-corner":{
declarations:!0},"@right-top":{declarations:!0},"@right-middle":{declarations:!0},
"@right-bottom":{declarations:!0},"@right-bottom-corner":{declarations:!0},"@bottom-right":{
declarations:!0},"@bottom-center":{declarations:!0},"@bottom-left":{declarations:!0
},"@bottom-left-corner":{declarations:!0},"@left-bottom":{declarations:!0},"@left-center":{
declarations:!0},"@left-top":{declarations:!0}},"@custom-selector":null,"@custom-media":null
};Re.CSSParserRule=be,Re.Stylesheet=ge,Re.AtRule=ye,Re.QualifiedRule=xe,Re.Declaration=_e,
Re.SimpleBlock=we,Re.Func=Se,Re.parseAStylesheet=ue,Re.parseAListOfRules=ce,Re.parseARule=de,
Re.parseADeclaration=he,Re.parseAListOfDeclarations=ve,Re.parseAComponentValue=fe,
Re.parseAListOfComponentValues=me,Re.parseACommaSeparatedListOfComponentValues=pe,
Re.canonicalizeRule=ke,Re.CSSGrammar=Ae;var Te=Re;return{get default(){return Te}
}}),$traceurRuntime.registerModule("libs/opentype",[],function(){"use strict";!function(e){
if("object"===("undefined"==typeof exports?"undefined":$traceurRuntime["typeof"](exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{
var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,
t.opentype=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){
var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);
var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={
exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r);
}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);
return i}({1:[function(e,t,n){function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288);
}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,
this.destLen=0,this.ltree=new r,this.dtree=new r}function a(e,t,n,r){var i,a;for(i=0;n>i;++i)e[i]=0;
for(i=0;30-n>i;++i)e[i+n]=i/n|0;for(a=r,i=0;30>i;++i)t[i]=a,a+=1<<e[i]}function o(e,t){
var n;for(n=0;7>n;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,
n=0;24>n;++n)e.trans[n]=256+n;for(n=0;144>n;++n)e.trans[24+n]=n;for(n=0;8>n;++n)e.trans[168+n]=280+n;
for(n=0;112>n;++n)e.trans[176+n]=144+n;for(n=0;5>n;++n)t.table[n]=0;for(t.table[5]=32,
n=0;32>n;++n)t.trans[n]=n}function s(e,t,n,r){var i,a;for(i=0;16>i;++i)e.table[i]=0;
for(i=0;r>i;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;16>i;++i)R[i]=a,a+=e.table[i];
for(i=0;r>i;++i)t[n+i]&&(e.trans[R[t[n+i]]++]=i)}function l(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],
e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function u(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,
e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function c(e,t){
for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;
do r=2*r+(1&a),a>>>=1,++i,n+=t.table[i],r-=t.table[i];while(r>=0);return e.tag=a,
e.bitcount-=i,t.trans[n+r]}function d(e,t,n){var r,i,a,o,l,d;for(r=u(e,5,257),i=u(e,5,1),
a=u(e,4,4),o=0;19>o;++o)C[o]=0;for(o=0;a>o;++o){var h=u(e,3,0);C[S[o]]=h}for(s(k,C,0,19),
l=0;r+i>l;){var v=c(e,k);switch(v){case 16:var f=C[l-1];for(d=u(e,2,3);d;--d)C[l++]=f;
break;case 17:for(d=u(e,3,3);d;--d)C[l++]=0;break;case 18:for(d=u(e,7,11);d;--d)C[l++]=0;
break;default:C[l++]=v}}s(t,C,0,r),s(n,C,r,i)}function h(e,t,n){for(;;){var r=c(e,t);
if(256===r)return m;if(256>r)e.dest[e.destLen++]=r;else{var i=void 0,a=void 0,o=void 0,s=void 0;
for(r-=257,i=u(e,y[r],x[r]),a=c(e,n),o=e.destLen-u(e,_[a],w[a]),s=o;o+i>s;++s)e.dest[e.destLen++]=e.dest[s];
}}}function v(e){for(var t,n,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],
t=256*t+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],
t!==(65535&~n))return p;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];
return e.bitcount=0,m}function f(e,t){var n,r,a=new i(e,t);do{switch(n=l(a),btype=u(a,2,0),
btype){case 0:r=v(a);break;case 1:r=h(a,b,g);break;case 2:d(a,a.ltree,a.dtree),r=h(a,a.ltree,a.dtree);
break;default:r=p}if(r!==m)throw new Error("Data error")}while(!n);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest;
}var m=0,p=-3,b=new r,g=new r,y=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),w=new Uint16Array(30),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new r,C=new Uint8Array(320),R=new Uint16Array(16);
o(b,g),a(y,x,4,3),a(_,w,2,1),y[28]=0,x[28]=258,t.exports=f},{}],2:[function(e,t,n){
n.argument=function(e,t){if(!e)throw new Error(t)},n.assert=n.argument},{}],3:[function(e,t,n){
function r(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}n.line=r;
},{}],4:[function(e,t,n){function r(e){this.font=e}function i(e){this.cmap=e}function a(e,t){
this.encoding=e,this.charset=t}function o(e){var t;switch(e.version){case 1:this.names=n.standardNames.slice();
break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<n.standardNames.length?this.names[t]=n.standardNames[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-n.standardNames.length];
break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=n.standardNames[t+e.glyphNameIndex[t]];
break;case 3:this.names=[]}}function s(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){
var a=r[i],o=n[a];t=e.glyphs.get(o),t.addUnicode(parseInt(a))}for(i=0;i<e.glyphs.length;i+=1)t=e.glyphs.get(i),
e.cffEncoding?t.name=e.cffEncoding.charset[i]:t.name=e.glyphNames.glyphIndexToName(i);
}var l=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],d=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];
r.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.font.glyphs;
if(!n)return null;for(var r=0;r<n.length;r+=1)for(var i=n.get(r),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return r;
},i.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0;
},a.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.encoding[t];
return this.charset.indexOf(n)},o.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e);
},o.prototype.glyphIndexToName=function(e){return this.names[e]},n.cffStandardStrings=l,
n.cffStandardEncoding=u,n.cffExpertEncoding=c,n.standardNames=d,n.DefaultEncoding=r,
n.CmapEncoding=i,n.CffEncoding=a,n.GlyphNames=o,n.addGlyphNames=s},{}],5:[function(e,t,n){
function r(e){e=e||{},e.empty||(l.checkArgument(e.familyName,"When creating a new Font object, familyName is required."),
l.checkArgument(e.styleName,"When creating a new Font object, styleName is required."),
l.checkArgument(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),
l.checkArgument(e.ascender,"When creating a new Font object, ascender is required."),
l.checkArgument(e.descender,"When creating a new Font object, descender is required."),
l.checkArgument(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={
fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName
},postScriptName:{en:e.postScriptName||e.familyName+e.styleName},designer:{en:e.designer||" "
},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{
en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "
},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{
en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,
this.ascender=e.ascender,this.descender=e.descender),this.supported=!0,this.glyphs=new s.GlyphSet(this,e.glyphs||[]),
this.encoding=new o.DefaultEncoding(this),this.tables={}}var i=e("./path"),a=e("./tables/sfnt"),o=e("./encoding"),s=e("./glyphset"),l=e("./util");
r.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},
r.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e);
},r.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);
return n||(n=this.glyphs.get(0)),n},r.prototype.stringToGlyphs=function(e){for(var t=[],n=0;n<e.length;n+=1){
var r=e[n];t.push(this.charToGlyph(r))}return t},r.prototype.nameToGlyphIndex=function(e){
return this.glyphNames.nameToGlyphIndex(e)},r.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),n=this.glyphs.get(t);
return n||(n=this.glyphs.get(0)),n},r.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):"";
},r.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.getGposKerningValue;
return n?n(e,t):this.kerningPairs[e+","+t]||0},r.prototype.forEachGlyph=function(e,t,n,r,i,a){
t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=i||{};for(var o=void 0===i.kerning?!0:i.kerning,s=1/this.unitsPerEm*r,l=this.stringToGlyphs(e),u=0;u<l.length;u+=1){
var c=l[u];if(a(c,t,n,r,i),c.advanceWidth&&(t+=c.advanceWidth*s),o&&u<l.length-1){
var d=this.getKerningValue(c,l[u+1]);t+=d*s}}},r.prototype.getPath=function(e,t,n,r,a){
var o=new i.Path;return this.forEachGlyph(e,t,n,r,a,function(e,t,n,r){var i=e.getPath(t,n,r);
o.extend(i)}),o},r.prototype.getPaths=function(e,t,n,r,i){var a=[];return this.forEachGlyph(e,t,n,r,i,function(e,t,n,r){
var i=e.getPath(t,n,r);a.push(i)}),a},r.prototype.draw=function(e,t,n,r,i,a){this.getPath(t,n,r,i,a).draw(e);
},r.prototype.drawPoints=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,function(t,n,r,i){
t.drawPoints(e,n,r,i)})},r.prototype.drawMetrics=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,function(t,n,r,i){
t.drawMetrics(e,n,r,i)})},r.prototype.getEnglishName=function(e){var t=this.names[e];
return t?t.en:void 0},r.prototype.validate=function(){function e(e,t){e||n.push(t);
}function t(t){var n=r.getEnglishName(t);e(n&&n.trim().length>0,"No English "+t+" specified.");
}var n=[],r=this;t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),
t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},r.prototype.toTables=function(){
return a.fontToTable(this)},r.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),
this.toArrayBuffer()},r.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t[i];
return n},r.prototype.download=function(){var t=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily"),r=t.replace(/\s/g,"")+"-"+n+".otf",i=this.toArrayBuffer();
if(l.isBrowser())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,
window.requestFileSystem(window.TEMPORARY,i.byteLength,function(e){e.root.getFile(r,{
create:!0},function(e){e.createWriter(function(t){var n=new DataView(i),r=new Blob([n],{
type:"font/opentype"});t.write(r),t.addEventListener("writeend",function(){location.href=e.toURL();
},!1)})})},function(e){throw e});else{var a=e("fs"),o=l.arrayBufferToNodeBuffer(i);
a.writeFileSync(r,o)}},n.Font=r},{"./encoding":4,"./glyphset":7,"./path":10,"./tables/sfnt":27,
"./util":29,fs:void 0}],6:[function(e,t,n){function r(e,t){var n=t||{commands:[]};
return{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(e){
n=e}}}function i(e){this.bindConstructorValues(e)}var a=e("./check"),o=e("./draw"),s=e("./path");
i.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,
this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],
e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),
e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",r(this,e.path));
},i.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e);
},i.prototype.getPath=function(e,t,n){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;
for(var r=1/this.path.unitsPerEm*n,i=new s.Path,a=this.path.commands,o=0;o<a.length;o+=1){
var l=a[o];"M"===l.type?i.moveTo(e+l.x*r,t+-l.y*r):"L"===l.type?i.lineTo(e+l.x*r,t+-l.y*r):"Q"===l.type?i.quadraticCurveTo(e+l.x1*r,t+-l.y1*r,e+l.x*r,t+-l.y*r):"C"===l.type?i.curveTo(e+l.x1*r,t+-l.y1*r,e+l.x2*r,t+-l.y2*r,e+l.x*r,t+-l.y*r):"Z"===l.type&&i.closePath();
}return i},i.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){
var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return a.argument(0===t.length,"There are still points left in the current contour."),
e},i.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){
var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),
n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var a={xMin:Math.min.apply(null,t),
yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),
leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),
isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),
a},i.prototype.draw=function(e,t,n,r){this.getPath(t,n,r).draw(e)},i.prototype.drawPoints=function(e,t,n,r){
function i(t,n,r,i){var a=2*Math.PI;e.beginPath();for(var o=0;o<t.length;o+=1)e.moveTo(n+t[o].x*i,r+t[o].y*i),
e.arc(n+t[o].x*i,r+t[o].y*i,2,0,a,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,
r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,o=[],s=[],l=this.path,u=0;u<l.commands.length;u+=1){
var c=l.commands[u];void 0!==c.x&&o.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,
y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(o,t,n,a),e.fillStyle="red",
i(s,t,n,a)},i.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,
r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",
o.line(e,t,-1e4,t,1e4),o.line(e,-1e4,n,1e4,n);var a=this.xMin||0,s=this.yMin||0,l=this.xMax||0,u=this.yMax||0,c=this.advanceWidth||0;
e.strokeStyle="blue",o.line(e,t+a*i,-1e4,t+a*i,1e4),o.line(e,t+l*i,-1e4,t+l*i,1e4),
o.line(e,-1e4,n+-s*i,1e4,n+-s*i),o.line(e,-1e4,n+-u*i,1e4,n+-u*i),e.strokeStyle="green",
o.line(e,t+c*i,-1e4,t+c*i,1e4)},n.Glyph=i},{"./check":2,"./draw":3,"./path":10}],
7:[function(e,t,n){function r(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++)this.glyphs[n]=t[n];
this.length=t&&t.length||0}function i(e,t){return new s.Glyph({index:t,font:e})}function a(e,t,n,r,i,a){
return function(){var o=new s.Glyph({index:t,font:e});return o.path=function(){n(o,r,i);
var t=a(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},o}}function o(e,t,n,r){return function(){
var i=new s.Glyph({index:t,font:e});return i.path=function(){var t=n(e,i,r);return t.unitsPerEm=e.unitsPerEm,
t},i}}var s=e("./glyph");r.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),
this.glyphs[e]},r.prototype.push=function(e,t){this.glyphs[e]=t,this.length++},n.GlyphSet=r,
n.glyphLoader=i,n.ttfGlyphLoader=a,n.cffGlyphLoader=o},{"./glyph":6}],8:[function(e,t,n){
function r(t,n){var r=e("fs");r.readFile(t,function(e,t){return e?n(e.message):void n(null,b.nodeBufferToArrayBuffer(t));
})}function i(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",
n.onload=function(){return 200!==n.status?t("Font could not be loaded: "+n.statusText):t(null,n.response);
},n.send()}function a(e,t){for(var n=[],r=12,i=0;t>i;i+=1){var a=m.getTag(e,r),o=m.getULong(e,r+8);
n.push({tag:a,offset:o,compression:!1}),r+=16}return n}function o(e,t){for(var n=[],r=44,i=0;t>i;i+=1){
var a=m.getTag(e,r),o=m.getULong(e,r+4),s=m.getULong(e,r+8),l=m.getULong(e,r+12),u=void 0;
u=l>s?"WOFF":!1,n.push({tag:a,offset:o,compression:u,compressedLength:s,originalLength:l
}),r+=20}return n}function s(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.originalLength);
if(d(n,r),r.byteLength!==t.originalLength)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");
var i=new DataView(r.buffer,0);return{data:i,offset:0}}return{data:e,offset:t.offset
}}function l(e){var t,n,r,i=new v.Font({empty:!0}),l=new DataView(e,0),u=[],c=m.getTag(l,0);
if(c===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype",r=m.getUShort(l,4),
u=a(l,r);else if("OTTO"===c)i.outlinesFormat="cff",r=m.getUShort(l,4),u=a(l,r);else{
if("wOFF"!==c)throw new Error("Unsupported OpenType signature "+c);var d=m.getTag(l,4);
if(d===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype";else{if("OTTO"!==d)throw new Error("Unsupported OpenType flavor "+c);
i.outlinesFormat="cff"}r=m.getUShort(l,12),u=o(l,r)}for(var f,p,b,N,$,O,V,j,z=0;r>z;z+=1){
var I=u[z],D=void 0;switch(I.tag){case"cmap":D=s(l,I),i.tables.cmap=g.parse(D.data,D.offset),
i.encoding=new h.CmapEncoding(i.tables.cmap);break;case"fvar":p=I;break;case"head":
D=s(l,I),i.tables.head=S.parse(D.data,D.offset),i.unitsPerEm=i.tables.head.unitsPerEm,
t=i.tables.head.indexToLocFormat;break;case"hhea":D=s(l,I),i.tables.hhea=k.parse(D.data,D.offset),
i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;
break;case"hmtx":$=I;break;case"ltag":D=s(l,I),n=M.parse(D.data,D.offset);break;case"maxp":
D=s(l,I),i.tables.maxp=P.parse(D.data,D.offset),i.numGlyphs=i.tables.maxp.numGlyphs;
break;case"name":j=I;break;case"OS/2":D=s(l,I),i.tables.os2=T.parse(D.data,D.offset);
break;case"post":D=s(l,I),i.tables.post=L.parse(D.data,D.offset),i.glyphNames=new h.GlyphNames(i.tables.post);
break;case"glyf":b=I;break;case"loca":V=I;break;case"CFF ":f=I;break;case"kern":O=I;
break;case"GPOS":N=I}}var G=s(l,j);if(i.tables.name=A.parse(G.data,G.offset,n),i.names=i.tables.name,
b&&V){var B=0===t,U=s(l,V),H=E.parse(U.data,U.offset,i.numGlyphs,B),F=s(l,b);i.glyphs=_.parse(F.data,F.offset,H,i);
}else{if(!f)throw new Error("Font doesn't contain TrueType or CFF outlines.");var q=s(l,f);
y.parse(q.data,q.offset,i)}var W=s(l,$);if(C.parse(W.data,W.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs),
h.addGlyphNames(i),O){var Y=s(l,O);i.kerningPairs=R.parse(Y.data,Y.offset)}else i.kerningPairs={};
if(N){var X=s(l,N);w.parse(X.data,X.offset,i)}if(p){var Z=s(l,p);i.tables.fvar=x.parse(Z.data,Z.offset,i.names);
}return i}function u(e,t){var n="undefined"==typeof window,a=n?r:i;a(e,function(e,n){
if(e)return t(e);var r=l(n);return t(null,r)})}function c(t){var n=e("fs"),r=n.readFileSync(t);
return l(b.nodeBufferToArrayBuffer(r))}var d=e("tiny-inflate"),h=e("./encoding"),v=e("./font"),f=e("./glyph"),m=e("./parse"),p=e("./path"),b=e("./util"),g=e("./tables/cmap"),y=e("./tables/cff"),x=e("./tables/fvar"),_=e("./tables/glyf"),w=e("./tables/gpos"),S=e("./tables/head"),k=e("./tables/hhea"),C=e("./tables/hmtx"),R=e("./tables/kern"),M=e("./tables/ltag"),E=e("./tables/loca"),P=e("./tables/maxp"),A=e("./tables/name"),T=e("./tables/os2"),L=e("./tables/post");
n._parse=m,n.Font=v.Font,n.Glyph=f.Glyph,n.Path=p.Path,n.parse=l,n.load=u,n.loadSync=c;
},{"./encoding":4,"./font":5,"./glyph":6,"./parse":9,"./path":10,"./tables/cff":12,
"./tables/cmap":13,"./tables/fvar":14,"./tables/glyf":15,"./tables/gpos":16,"./tables/head":17,
"./tables/hhea":18,"./tables/hmtx":19,"./tables/kern":20,"./tables/loca":21,"./tables/ltag":22,
"./tables/maxp":23,"./tables/name":24,"./tables/os2":25,"./tables/post":26,"./util":29,
fs:void 0,"tiny-inflate":1}],9:[function(e,t,n){function r(e,t){this.data=e,this.offset=t,
this.relativeOffset=0}n.getByte=function(e,t){return e.getUint8(t)},n.getCard8=n.getByte,
n.getUShort=function(e,t){return e.getUint16(t,!1)},n.getCard16=n.getUShort,n.getShort=function(e,t){
return e.getInt16(t,!1)},n.getULong=function(e,t){return e.getUint32(t,!1)},n.getFixed=function(e,t){
var n=e.getInt16(t,!1),r=e.getUint16(t+2,!1);return n+r/65535},n.getTag=function(e,t){
for(var n="",r=t;t+4>r;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},n.getOffset=function(e,t,n){
for(var r=0,i=0;n>i;i+=1)r<<=8,r+=e.getUint8(t+i);return r},n.getBytes=function(e,t,n){
for(var r=[],i=t;n>i;i+=1)r.push(e.getUint8(i));return r},n.bytesToString=function(e){
for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t};var i={"byte":1,
uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};r.prototype.parseByte=function(){
var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,
e},r.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);
return this.relativeOffset+=1,e},r.prototype.parseCard8=r.prototype.parseByte,r.prototype.parseUShort=function(){
var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,
e},r.prototype.parseCard16=r.prototype.parseUShort,r.prototype.parseSID=r.prototype.parseUShort,
r.prototype.parseOffset16=r.prototype.parseUShort,r.prototype.parseShort=function(){
var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,
e},r.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;
return this.relativeOffset+=2,e},r.prototype.parseULong=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,e},r.prototype.parseFixed=function(){var e=n.getFixed(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,e},r.prototype.parseOffset16List=r.prototype.parseUShortList=function(e){
for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,a=0;e>a;a++)t[a]=n.getUShort(r,i),
i+=2;return this.relativeOffset+=2*e,t},r.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";
this.relativeOffset+=e;for(var i=0;e>i;i++)r+=String.fromCharCode(t.getUint8(n+i));
return r},r.prototype.parseTag=function(){return this.parseString(4)},r.prototype.parseLongDateTime=function(){
var e=n.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,
e},r.prototype.parseFixed=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);
return this.relativeOffset+=4,e/65536},r.prototype.parseVersion=function(){var e=n.getUShort(this.data,this.offset+this.relativeOffset),t=n.getUShort(this.data,this.offset+this.relativeOffset+2);
return this.relativeOffset+=4,e+t/4096/10},r.prototype.skip=function(e,t){void 0===t&&(t=1),
this.relativeOffset+=i[e]*t},n.Parser=r},{}],10:[function(e,t,n){function r(){this.commands=[],
this.fill="black",this.stroke=null,this.strokeWidth=1}r.prototype.moveTo=function(e,t){
this.commands.push({type:"M",x:e,y:t})},r.prototype.lineTo=function(e,t){this.commands.push({
type:"L",x:e,y:t})},r.prototype.curveTo=r.prototype.bezierCurveTo=function(e,t,n,r,i,a){
this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:a})},r.prototype.quadTo=r.prototype.quadraticCurveTo=function(e,t,n,r){
this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},r.prototype.close=r.prototype.closePath=function(){
this.commands.push({type:"Z"})},r.prototype.extend=function(e){e.commands&&(e=e.commands),
Array.prototype.push.apply(this.commands,e)},r.prototype.draw=function(e){e.beginPath();
for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath();
}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,
e.lineWidth=this.strokeWidth,e.stroke())},r.prototype.toPathData=function(e){function t(t){
return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e="",n=0;n<arguments.length;n+=1){
var r=arguments[n];r>=0&&n>0&&(e+=" "),e+=t(r)}return e}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){
var a=this.commands[i];"M"===a.type?r+="M"+n(a.x,a.y):"L"===a.type?r+="L"+n(a.x,a.y):"C"===a.type?r+="C"+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?r+="Q"+n(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(r+="Z");
}return r},r.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),
t+='"',this.fill&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),
this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),
t+="/>"},n.Path=r},{}],11:[function(e,t,n){function r(e,t,n){var r;for(r=0;r<t.length;r+=1){
var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n){var a=Object.keys(n);
for(r=0;r<a.length;r+=1){var o=a[r],s=n[o];void 0!==this[o]&&(this[o]=s)}}}var i=e("./check"),a=e("./types").encode,o=e("./types").sizeOf;
r.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var n=this.fields[t],r=this[n.name];
if(void 0===r&&(r=n.value),"function"==typeof r.sizeOf)e+=r.sizeOf();else{var a=o[n.type];
i.assert("function"==typeof a,"Could not find sizeOf function for field"+n.name),
e+=a(r)}}return e},r.prototype.encode=function(){return a.TABLE(this)},n.Table=r},{
"./check":2,"./types":28}],12:[function(e,t,n){function r(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){
if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!r(e[n],t[n]))return!1;
return!0}return!1}function i(e,t,n){var r,i,a,o=[],s=[],l=$.getCard16(e,t);if(0!==l){
var u=$.getByte(e,t+2);i=t+(l+1)*u+2;var c=t+3;for(r=0;l+1>r;r+=1)o.push($.getOffset(e,c,u)),
c+=u;a=i+o[l]}else a=t+2;for(r=0;r<o.length-1;r+=1){var d=$.getBytes(e,i+o[r],i+o[r+1]);
n&&(d=n(d)),s.push(d)}return{objects:s,startOffset:t,endOffset:a}}function a(e){for(var t="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){
var i=e.parseByte(),a=i>>4,o=15&i;if(a===n)break;if(t+=r[a],o===n)break;t+=r[o]}return parseFloat(t);
}function o(e,t){var n,r,i,o;if(28===t)return n=e.parseByte(),r=e.parseByte(),n<<8|r;
if(29===t)return n=e.parseByte(),r=e.parseByte(),i=e.parseByte(),o=e.parseByte(),
n<<24|r<<16|i<<8|o;if(30===t)return a(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return n=e.parseByte(),
256*(t-247)+n+108;if(t>=251&&254>=t)return n=e.parseByte(),256*-(t-251)-n-108;throw new Error("Invalid b0 "+t);
}function s(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],i=e[n][1],a=void 0;
if(a=1===i.length?i[0]:i,t.hasOwnProperty(r))throw new Error("Object "+t+" already has key "+r);
t[r]=a}return t}function l(e,t,n){t=void 0!==t?t:0;var r=new $.Parser(e,t),i=[],a=[];
for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var l=r.parseByte();21>=l?(12===l&&(l=1200+r.parseByte()),
i.push([l,a]),a=[]):a.push(o(r,l))}return s(i)}function u(e,t){return t=390>=t?L.cffStandardStrings[t]:e[t-391];
}function c(e,t,n){for(var r={},i=0;i<t.length;i+=1){var a=t[i],o=e[a.op];void 0===o&&(o=void 0!==a.value?a.value:null),
"SID"===a.type&&(o=u(n,o)),r[a.name]=o}return r}function d(e,t){var n={};return n.formatMajor=$.getCard8(e,t),
n.formatMinor=$.getCard8(e,t+1),n.size=$.getCard8(e,t+2),n.offsetSize=$.getCard8(e,t+3),
n.startOffset=t,n.endOffset=t+4,n}function h(e,t){var n=l(e,0,e.byteLength);return c(n,j,t);
}function v(e,t,n,r){var i=l(e,t,n);return c(i,z,r)}function f(e,t,n,r){var i,a,o,s=new $.Parser(e,t);
n-=1;var l=[".notdef"],c=s.parseCard8();if(0===c)for(i=0;n>i;i+=1)a=s.parseSID(),
l.push(u(r,a));else if(1===c)for(;l.length<=n;)for(a=s.parseSID(),o=s.parseCard8(),
i=0;o>=i;i+=1)l.push(u(r,a)),a+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);
for(;l.length<=n;)for(a=s.parseSID(),o=s.parseCard16(),i=0;o>=i;i+=1)l.push(u(r,a)),
a+=1}return l}function m(e,t,n){var r,i,a={},o=new $.Parser(e,t),s=o.parseCard8();
if(0===s){var l=o.parseCard8();for(r=0;l>r;r+=1)i=o.parseCard8(),a[i]=r}else{if(1!==s)throw new Error("Unknown encoding format "+s);
var u=o.parseCard8();for(i=1,r=0;u>r;r+=1)for(var c=o.parseCard8(),d=o.parseCard8(),h=c;c+d>=h;h+=1)a[h]=i,
i+=1}return new L.CffEncoding(a,n)}function p(e,t,n){function r(e,t){m&&c.closePath(),
c.moveTo(e,t),m=!0}function i(){var t;t=d.length%2!==0,t&&!v&&(f=d.shift()+e.nominalWidthX),
h+=d.length>>1,d.length=0,v=!0}function a(n){for(var g,y,x,_,w,S,k,C,R,M,E,P,A=0;A<n.length;){
var T=n[A];switch(A+=1,T){case 1:i();break;case 3:i();break;case 4:d.length>1&&!v&&(f=d.shift()+e.nominalWidthX,
v=!0),b+=d.pop(),r(p,b);break;case 5:for(;d.length>0;)p+=d.shift(),b+=d.shift(),c.lineTo(p,b);
break;case 6:for(;d.length>0&&(p+=d.shift(),c.lineTo(p,b),0!==d.length);)b+=d.shift(),
c.lineTo(p,b);break;case 7:for(;d.length>0&&(b+=d.shift(),c.lineTo(p,b),0!==d.length);)p+=d.shift(),
c.lineTo(p,b);break;case 8:for(;d.length>0;)o=p+d.shift(),s=b+d.shift(),l=o+d.shift(),
u=s+d.shift(),p=l+d.shift(),b=u+d.shift(),c.curveTo(o,s,l,u,p,b);break;case 10:w=d.pop()+e.subrsBias,
S=e.subrs[w],S&&a(S);break;case 11:return;case 12:switch(T=n[A],A+=1,T){case 35:o=p+d.shift(),
s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),k=l+d.shift(),C=u+d.shift(),R=k+d.shift(),
M=C+d.shift(),E=R+d.shift(),P=M+d.shift(),p=E+d.shift(),b=P+d.shift(),d.shift(),c.curveTo(o,s,l,u,k,C),
c.curveTo(R,M,E,P,p,b);break;case 34:o=p+d.shift(),s=b,l=o+d.shift(),u=s+d.shift(),
k=l+d.shift(),C=u,R=k+d.shift(),M=u,E=R+d.shift(),P=b,p=E+d.shift(),c.curveTo(o,s,l,u,k,C),
c.curveTo(R,M,E,P,p,b);break;case 36:o=p+d.shift(),s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),
k=l+d.shift(),C=u,R=k+d.shift(),M=u,E=R+d.shift(),P=M+d.shift(),p=E+d.shift(),c.curveTo(o,s,l,u,k,C),
c.curveTo(R,M,E,P,p,b);break;case 37:o=p+d.shift(),s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),
k=l+d.shift(),C=u+d.shift(),R=k+d.shift(),M=C+d.shift(),E=R+d.shift(),P=M+d.shift(),
Math.abs(E-p)>Math.abs(P-b)?p=E+d.shift():b=P+d.shift(),c.curveTo(o,s,l,u,k,C),c.curveTo(R,M,E,P,p,b);
break;default:console.log("Glyph "+t.index+": unknown operator 1200"+T),d.length=0;
}break;case 14:d.length>0&&!v&&(f=d.shift()+e.nominalWidthX,v=!0),m&&(c.closePath(),
m=!1);break;case 18:i();break;case 19:case 20:i(),A+=h+7>>3;break;case 21:d.length>2&&!v&&(f=d.shift()+e.nominalWidthX,
v=!0),b+=d.pop(),p+=d.pop(),r(p,b);break;case 22:d.length>1&&!v&&(f=d.shift()+e.nominalWidthX,
v=!0),p+=d.pop(),r(p,b);break;case 23:i();break;case 24:for(;d.length>2;)o=p+d.shift(),
s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),p=l+d.shift(),b=u+d.shift(),c.curveTo(o,s,l,u,p,b);
p+=d.shift(),b+=d.shift(),c.lineTo(p,b);break;case 25:for(;d.length>6;)p+=d.shift(),
b+=d.shift(),c.lineTo(p,b);o=p+d.shift(),s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),
p=l+d.shift(),b=u+d.shift(),c.curveTo(o,s,l,u,p,b);break;case 26:for(d.length%2&&(p+=d.shift());d.length>0;)o=p,
s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),p=l,b=u+d.shift(),c.curveTo(o,s,l,u,p,b);
break;case 27:for(d.length%2&&(b+=d.shift());d.length>0;)o=p+d.shift(),s=b,l=o+d.shift(),
u=s+d.shift(),p=l+d.shift(),b=u,c.curveTo(o,s,l,u,p,b);break;case 28:g=n[A],y=n[A+1],
d.push((g<<24|y<<16)>>16),A+=2;break;case 29:w=d.pop()+e.gsubrsBias,S=e.gsubrs[w],
S&&a(S);break;case 30:for(;d.length>0&&(o=p,s=b+d.shift(),l=o+d.shift(),u=s+d.shift(),
p=l+d.shift(),b=u+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,p,b),0!==d.length);)o=p+d.shift(),
s=b,l=o+d.shift(),u=s+d.shift(),b=u+d.shift(),p=l+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,p,b);
break;case 31:for(;d.length>0&&(o=p+d.shift(),s=b,l=o+d.shift(),u=s+d.shift(),b=u+d.shift(),
p=l+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,p,b),0!==d.length);)o=p,s=b+d.shift(),
l=o+d.shift(),u=s+d.shift(),p=l+d.shift(),b=u+(1===d.length?d.shift():0),c.curveTo(o,s,l,u,p,b);
break;default:32>T?console.log("Glyph "+t.index+": unknown operator "+T):247>T?d.push(T-139):251>T?(g=n[A],
A+=1,d.push(256*(T-247)+g+108)):255>T?(g=n[A],A+=1,d.push(256*-(T-251)-g-108)):(g=n[A],
y=n[A+1],x=n[A+2],_=n[A+3],A+=4,d.push((g<<24|y<<16|x<<8|_)/65536))}}}var o,s,l,u,c=new O.Path,d=[],h=0,v=!1,f=e.defaultWidthX,m=!1,p=0,b=0;
return a(n),t.advanceWidth=f,c}function b(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768;
}function g(e,t,n){n.tables.cff={};var r=d(e,t),a=i(e,r.endOffset,$.bytesToString),o=i(e,a.endOffset),s=i(e,o.endOffset,$.bytesToString),l=i(e,s.endOffset);
n.gsubrs=l.objects,n.gsubrsBias=b(n.gsubrs);var u=new DataView(new Uint8Array(o.objects[0]).buffer),c=h(u,s.objects);
n.tables.cff.topDict=c;var g=t+c["private"][1],y=v(e,g,c["private"][0],s.objects);
if(n.defaultWidthX=y.defaultWidthX,n.nominalWidthX=y.nominalWidthX,0!==y.subrs){var x=g+y.subrs,_=i(e,x);
n.subrs=_.objects,n.subrsBias=b(n.subrs)}else n.subrs=[],n.subrsBias=0;var w=i(e,t+c.charStrings);
n.nGlyphs=w.objects.length;var S=f(e,t+c.charset,n.nGlyphs,s.objects);0===c.encoding?n.cffEncoding=new L.CffEncoding(L.cffStandardEncoding,S):1===c.encoding?n.cffEncoding=new L.CffEncoding(L.cffExpertEncoding,S):n.cffEncoding=m(e,t+c.encoding,S),
n.encoding=n.encoding||n.cffEncoding,n.glyphs=new N.GlyphSet(n);for(var k=0;k<n.nGlyphs;k+=1){
var C=w.objects[k];n.glyphs.push(k,N.cffGlyphLoader(n,k,p,C))}}function y(e,t){var n,r=L.cffStandardStrings.indexOf(e);
return r>=0&&(n=r),r=t.indexOf(e),r>=0?n=r+L.cffStandardStrings.length:(n=L.cffStandardStrings.length+t.length,
t.push(e)),n}function x(){return new V.Table("Header",[{name:"major",type:"Card8",
value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4
},{name:"major",type:"Card8",value:1}])}function _(e){var t=new V.Table("Name INDEX",[{
name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({
name:"name_"+n,type:"NAME",value:e[n]});return t}function w(e,t,n){for(var i={},a=0;a<e.length;a+=1){
var o=e[a],s=t[o.name];void 0===s||r(s,o.value)||("SID"===o.type&&(s=y(s,n)),i[o.op]={
name:o.name,type:o.type,value:s})}return i}function S(e,t){var n=new V.Table("Top DICT",[{
name:"dict",type:"DICT",value:{}}]);return n.dict=w(j,e,t),n}function k(e){var t=new V.Table("Top DICT INDEX",[{
name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",
value:e}],t}function C(e){var t=new V.Table("String INDEX",[{name:"strings",type:"INDEX",
value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,
type:"STRING",value:e[n]});return t}function R(){return new V.Table("Global Subr INDEX",[{
name:"subrs",type:"INDEX",value:[]}])}function M(e,t){for(var n=new V.Table("Charsets",[{
name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=e[r],a=y(i,t);n.fields.push({
name:"glyph_"+r,type:"SID",value:a})}return n}function E(e){var t=[],n=e.path;t.push({
name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,a=0;a<n.commands.length;a+=1){
var o=void 0,s=void 0,l=n.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",
x:l.x,y:l.y,x1:u*r+c*l.x1,y1:u*i+c*l.y1,x2:u*l.x+c*l.x1,y2:u*l.y+c*l.y1}}if("M"===l.type)o=Math.round(l.x-r),
s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",
value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-r),
s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",
value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){
var d=Math.round(l.x1-r),h=Math.round(l.y1-i),v=Math.round(l.x2-l.x1),f=Math.round(l.y2-l.y1);
o=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:d
}),t.push({name:"dy1",type:"NUMBER",value:h}),t.push({name:"dx2",type:"NUMBER",value:v
}),t.push({name:"dy2",type:"NUMBER",value:f}),t.push({name:"dx",type:"NUMBER",value:o
}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8
}),r=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14
}),t}function P(e){for(var t=new V.Table("CharStrings INDEX",[{name:"charStrings",
type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=E(r);t.charStrings.push({
name:r.name,type:"CHARSTRING",value:i})}return t}function A(e,t){var n=new V.Table("Private DICT",[{
name:"dict",type:"DICT",value:{}}]);return n.dict=w(z,e,t),n}function T(e,t){for(var n,r=new V.Table("CFF ",[{
name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",
type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"
},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDict",
type:"TABLE"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,
weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,
encoding:0,charStrings:999,"private":[0,999]},o={},s=[],l=1;l<e.length;l+=1)n=e.get(l),
s.push(n.name);var u=[];r.header=x(),r.nameIndex=_([t.postScriptName]);var c=S(a,u);
r.topDictIndex=k(c),r.globalSubrIndex=R(),r.charsets=M(s,u),r.charStringsIndex=P(e),
r.privateDict=A(o,u),r.stringIndex=C(u);var d=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();
return a.charset=d,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a["private"][1]=a.charStrings+r.charStringsIndex.sizeOf(),
c=S(a,u),r.topDictIndex=k(c),r}var L=e("../encoding"),N=e("../glyphset"),$=e("../parse"),O=e("../path"),V=e("../table"),j=[{
name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",
op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"
},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0
},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,
type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50
},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,
type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],
value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",
op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",
op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",
op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",
op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]
}],z=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",
value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];n.parse=g,n.make=T},{
"../encoding":4,"../glyphset":7,"../parse":9,"../path":10,"../table":11}],13:[function(e,t,n){
function r(e,t){var n,r={};r.version=l.getUShort(e,t),s.argument(0===r.version,"cmap table version should be 0."),
r.numTables=l.getUShort(e,t+2);var i=-1;for(n=0;n<r.numTables;n+=1){var a=l.getUShort(e,t+4+8*n),o=l.getUShort(e,t+4+8*n+2);
if(3===a&&(1===o||0===o)){i=l.getULong(e,t+4+8*n+4);break}}if(-1===i)return null;var u=new l.Parser(e,t+i);
r.format=u.parseUShort(),s.argument(4===r.format,"Only format 4 cmap tables are supported."),
r.length=u.parseUShort(),r.language=u.parseUShort();var c;r.segCount=c=u.parseUShort()>>1,
u.skip("uShort",3),r.glyphIndexMap={};var d=new l.Parser(e,t+i+14),h=new l.Parser(e,t+i+16+2*c),v=new l.Parser(e,t+i+16+4*c),f=new l.Parser(e,t+i+16+6*c),m=t+i+16+8*c;
for(n=0;c-1>n;n+=1)for(var p=void 0,b=d.parseUShort(),g=h.parseUShort(),y=v.parseShort(),x=f.parseUShort(),_=g;b>=_;_+=1)0!==x?(m=f.offset+f.relativeOffset-2,
m+=x,m+=2*(_-g),p=l.getUShort(e,m),0!==p&&(p=p+y&65535)):p=_+y&65535,r.glyphIndexMap[_]=p;
return r}function i(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0});
}function a(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function o(e){
var t,n=new u.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",
type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",
type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",
value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0
},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0
},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0
}]);for(n.segments=[],t=0;t<e.length;t+=1){for(var r=e.get(t),o=0;o<r.unicodes.length;o+=1)i(n,r.unicodes[o],t);
n.segments=n.segments.sort(function(e,t){return e.start-t.start})}a(n);var s;s=n.segments.length,
n.segCountX2=2*s,n.searchRange=2*Math.pow(2,Math.floor(Math.log(s)/Math.log(2))),
n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange;
var l=[],c=[],d=[],h=[],v=[];for(t=0;s>t;t+=1){var f=n.segments[t];l=l.concat({name:"end_"+t,
type:"USHORT",value:f.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:f.start
}),d=d.concat({name:"idDelta_"+t,type:"SHORT",value:f.delta}),h=h.concat({name:"idRangeOffset_"+t,
type:"USHORT",value:f.offset}),void 0!==f.glyphId&&(v=v.concat({name:"glyph_"+t,type:"USHORT",
value:f.glyphId}))}return n.fields=n.fields.concat(l),n.fields.push({name:"reservedPad",
type:"USHORT",value:0}),n.fields=n.fields.concat(c),n.fields=n.fields.concat(d),n.fields=n.fields.concat(h),
n.fields=n.fields.concat(v),n.length=14+2*l.length+2+2*c.length+2*d.length+2*h.length+2*v.length,
n}var s=e("../check"),l=e("../parse"),u=e("../table");n.parse=r,n.make=o},{"../check":2,
"../parse":9,"../table":11}],14:[function(e,t,n){function r(e,t){var n=JSON.stringify(e),r=256;
for(var i in t){var a=parseInt(i);if(a&&!(256>a)){if(JSON.stringify(t[i])===n)return a;
a>=r&&(r=a+1)}}return t[r]=e,r}function i(e,t){var n=r(e.name,t);return new h.Table("fvarAxis",[{
name:"tag",type:"TAG",value:e.tag},{name:"minValue",type:"FIXED",value:e.minValue<<16
},{name:"defaultValue",type:"FIXED",value:e.defaultValue<<16},{name:"maxValue",type:"FIXED",
value:e.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",
value:n}])}function a(e,t,n){var r={},i=new d.Parser(e,t);return r.tag=i.parseTag(),
r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),
i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function o(e,t,n){for(var i=r(e.name,n),a=[{
name:"nameID",type:"USHORT",value:i},{name:"flags",type:"USHORT",value:0}],o=0;o<t.length;++o){
var s=t[o].tag;a.push({name:"axis "+s,type:"FIXED",value:e.coordinates[s]<<16})}return new h.Table("fvarInstance",a);
}function s(e,t,n,r){var i={},a=new d.Parser(e,t);i.name=r[a.parseUShort()]||{},a.skip("uShort",1),
i.coordinates={};for(var o=0;o<n.length;++o)i.coordinates[n[o].tag]=a.parseFixed();
return i}function l(e,t){var n=new h.Table("fvar",[{name:"version",type:"ULONG",value:65536
},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",
value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",
value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",
type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields.push({
name:"axis "+r,type:"TABLE",value:i(e.axes[r],t)});for(var a=0;a<e.instances.length;a++)n.fields.push({
name:"instance "+a,type:"TABLE",value:o(e.instances[a],e.axes,t)});return n}function u(e,t,n){
var r=new d.Parser(e,t),i=r.parseULong();c.argument(65536===i,"Unsupported fvar table version.");
var o=r.parseOffset16();r.skip("uShort",1);for(var l=r.parseUShort(),u=r.parseUShort(),h=r.parseUShort(),v=r.parseUShort(),f=[],m=0;l>m;m++)f.push(a(e,t+o+m*u,n));
for(var p=[],b=t+o+l*u,g=0;h>g;g++)p.push(s(e,b+g*v,f,n));return{axes:f,instances:p
}}var c=e("../check"),d=e("../parse"),h=e("../table");n.make=l,n.parse=u},{"../check":2,
"../parse":9,"../table":11}],15:[function(e,t,n){function r(e,t,n,r,i){var a;return(t&r)>0?(a=e.parseByte(),
0===(t&i)&&(a=-a),a=n+a):a=(t&i)>0?n:n+e.parseShort(),a}function i(e,t,n){var i=new h.Parser(t,n);
e.numberOfContours=i.parseShort(),e.xMin=i.parseShort(),e.yMin=i.parseShort(),e.xMax=i.parseShort(),
e.yMax=i.parseShort();var a,o;if(e.numberOfContours>0){var s,l=e.endPointIndices=[];
for(s=0;s<e.numberOfContours;s+=1)l.push(i.parseUShort());for(e.instructionLength=i.parseUShort(),
e.instructions=[],s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());
var u=l[l.length-1]+1;for(a=[],s=0;u>s;s+=1)if(o=i.parseByte(),a.push(o),(8&o)>0)for(var d=i.parseByte(),v=0;d>v;v+=1)a.push(o),
s+=1;if(c.argument(a.length===u,"Bad flags."),l.length>0){var f,m=[];if(u>0){for(s=0;u>s;s+=1)o=a[s],
f={},f.onCurve=!!(1&o),f.lastPointOfContour=l.indexOf(s)>=0,m.push(f);var p=0;for(s=0;u>s;s+=1)o=a[s],
f=m[s],f.x=r(i,o,p,2,16),p=f.x;var b=0;for(s=0;u>s;s+=1)o=a[s],f=m[s],f.y=r(i,o,b,4,32),
b=f.y}e.points=m}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{
e.isComposite=!0,e.points=[],e.components=[];for(var g=!0;g;){a=i.parseUShort();var y={
glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&a)>0?(y.dx=i.parseShort(),
y.dy=i.parseShort()):(y.dx=i.parseChar(),y.dy=i.parseChar()),(8&a)>0?y.xScale=y.yScale=i.parseF2Dot14():(64&a)>0?(y.xScale=i.parseF2Dot14(),
y.yScale=i.parseF2Dot14()):(128&a)>0&&(y.xScale=i.parseF2Dot14(),y.scale01=i.parseF2Dot14(),
y.scale10=i.parseF2Dot14(),y.yScale=i.parseF2Dot14()),e.components.push(y),g=!!(32&a);
}}}function a(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,
y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour
};n.push(a)}return n}function o(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];
n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return c.argument(0===n.length,"There are still points left in the current contour."),
t}function s(e){var t=new v.Path;if(!e)return t;for(var n=o(e),r=0;r<n.length;r+=1){
var i=n[r],a=i[0],s=i[i.length-1],l=void 0,u=void 0;a.onCurve?(l=null,u=!0):(a=s.onCurve?s:{
x:(a.x+s.x)/2,y:(a.y+s.y)/2},l=a,u=!1),t.moveTo(a.x,a.y);for(var c=u?1:0;c<i.length;c+=1){
var d=i[c],h=0===c?a:i[c-1];if(h.onCurve&&d.onCurve)t.lineTo(d.x,d.y);else if(h.onCurve&&!d.onCurve)l=d;else if(h.onCurve||d.onCurve){
if(h.onCurve||!d.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(l.x,l.y,d.x,d.y),
l=null}else{var f={x:(h.x+d.x)/2,y:(h.y+d.y)/2};t.quadraticCurveTo(h.x,h.y,f.x,f.y),
l=d}}a!==s&&(l?t.quadraticCurveTo(l.x,l.y,a.x,a.y):t.lineTo(a.x,a.y))}return t.closePath(),
t}function l(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);
if(i.getPath(),i.points){var o=a(i.points,r);t.points=t.points.concat(o)}}return s(t.points);
}function u(e,t,n,r){var a,o=new d.GlyphSet(r);for(a=0;a<n.length-1;a+=1){var s=n[a],u=n[a+1];
s!==u?o.push(a,d.ttfGlyphLoader(r,a,i,e,t+s,l)):o.push(a,d.glyphLoader(r,a))}return o;
}var c=e("../check"),d=e("../glyphset"),h=e("../parse"),v=e("../path");n.parse=u},{
"../check":2,"../glyphset":7,"../parse":9,"../path":10}],16:[function(e,t,n){function r(e,t){
for(var n=new c.Parser(e,t),r=n.parseUShort(),i=[],a=0;r>a;a++)i[n.parseTag()]={offset:n.parseUShort()
};return i}function i(e,t){var n=new c.Parser(e,t),r=n.parseUShort(),i=n.parseUShort();
if(1===r)return n.parseUShortList(i);if(2===r){for(var a=[];i--;)for(var o=n.parseUShort(),s=n.parseUShort(),l=n.parseUShort(),u=o;s>=u;u++)a[l++]=u;
return a}}function a(e,t){var n=new c.Parser(e,t),r=n.parseUShort();if(1===r){var i=n.parseUShort(),a=n.parseUShort(),o=n.parseUShortList(a);
return function(e){return o[e-i]||0}}if(2===r){for(var s=n.parseUShort(),l=[],u=[],d=[],h=0;s>h;h++)l[h]=n.parseUShort(),
u[h]=n.parseUShort(),d[h]=n.parseUShort();return function(e){for(var t=0,n=l.length-1;n>t;){
var r=t+n+1>>1;e<l[r]?n=r-1:t=r}return l[t]<=e&&e<=u[t]?d[t]||0:0}}}function o(e,t){
var n,r,o=new c.Parser(e,t),s=o.parseUShort(),l=o.parseUShort(),u=i(e,t+l),d=o.parseUShort(),h=o.parseUShort();
if(4===d&&0===h){var v={};if(1===s){for(var f=o.parseUShort(),m=[],p=o.parseOffset16List(f),b=0;f>b;b++){
var g=p[b],y=v[g];if(!y){y={},o.relativeOffset=g;for(var x=o.parseUShort();x--;){
var _=o.parseUShort();d&&(n=o.parseShort()),h&&(r=o.parseShort()),y[_]=n}}m[u[b]]=y;
}return function(e,t){var n=m[e];return n?n[t]:void 0}}if(2===s){for(var w=o.parseUShort(),S=o.parseUShort(),k=o.parseUShort(),C=o.parseUShort(),R=a(e,t+w),M=a(e,t+S),E=[],P=0;k>P;P++)for(var A=E[P]=[],T=0;C>T;T++)d&&(n=o.parseShort()),
h&&(r=o.parseShort()),A[T]=n;var L={};for(P=0;P<u.length;P++)L[u[P]]=1;return function(e,t){
if(L[e]){var n=R(e),r=M(t),i=E[n];return i?i[r]:void 0}}}}}function s(e,t){var n=new c.Parser(e,t),r=n.parseUShort(),i=n.parseUShort(),a=16&i,s=n.parseUShort(),l=n.parseOffset16List(s),u={
lookupType:r,lookupFlag:i,markFilteringSet:a?n.parseUShort():-1};if(2===r){for(var d=[],h=0;s>h;h++)d.push(o(e,t+l[h]));
u.getKerningValue=function(e,t){for(var n=d.length;n--;){var r=d[n](e,t);if(void 0!==r)return r;
}return 0}}return u}function l(e,t,n){var i=new c.Parser(e,t),a=i.parseFixed();u.argument(1===a,"Unsupported GPOS table version."),
r(e,t+i.parseUShort()),r(e,t+i.parseUShort());var o=i.parseUShort();i.relativeOffset=o;
for(var l=i.parseUShort(),d=i.parseOffset16List(l),h=t+o,v=0;l>v;v++){var f=s(e,h+d[v]);
2!==f.lookupType||n.getGposKerningValue||(n.getGposKerningValue=f.getKerningValue);
}}var u=e("../check"),c=e("../parse");n.parse=l},{"../check":2,"../parse":9}],17:[function(e,t,n){
function r(e,t){var n={},r=new o.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,
n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),a.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),
n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),
n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),
n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),
n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),
n}function i(e){return new s.Table("head",[{name:"version",type:"FIXED",value:65536
},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",
value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",
value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",
value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",
value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",
type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",
type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",
type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var a=e("../check"),o=e("../parse"),s=e("../table");
n.parse=r,n.make=i},{"../check":2,"../parse":9,"../table":11}],18:[function(e,t,n){
function r(e,t){var n={},r=new a.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),
n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),
n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),
n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),
r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),
n}function i(e){return new o.Table("hhea",[{name:"version",type:"FIXED",value:65536
},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{
name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0
},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",
value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",
value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",
value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0
},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{
name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",
value:0}],e)}var a=e("../parse"),o=e("../table");n.parse=r,n.make=i},{"../parse":9,
"../table":11}],19:[function(e,t,n){function r(e,t,n,r,i){for(var o,s,l=new a.Parser(e,t),u=0;r>u;u+=1){
n>u&&(o=l.parseUShort(),s=l.parseShort());var c=i.get(u);c.advanceWidth=o,c.leftSideBearing=s;
}}function i(e){for(var t=new o.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,a=r.leftSideBearing||0;
t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,
type:"SHORT",value:a})}return t}var a=e("../parse"),o=e("../table");n.parse=r,n.make=i;
},{"../parse":9,"../table":11}],20:[function(e,t,n){function r(e,t){var n={},r=new a.Parser(e,t),o=r.parseUShort();
i.argument(0===o,"Unsupported kern table version."),r.skip("uShort",1);var s=r.parseUShort();
i.argument(0===s,"Unsupported kern sub-table version."),r.skip("uShort",2);var l=r.parseUShort();
r.skip("uShort",3);for(var u=0;l>u;u+=1){var c=r.parseUShort(),d=r.parseUShort(),h=r.parseShort();
n[c+","+d]=h}return n}var i=e("../check"),a=e("../parse");n.parse=r},{"../check":2,
"../parse":9}],21:[function(e,t,n){function r(e,t,n,r){for(var a=new i.Parser(e,t),o=r?a.parseUShort:a.parseULong,s=[],l=0;n+1>l;l+=1){
var u=o.call(a);r&&(u*=2),s.push(u)}return s}var i=e("../parse");n.parse=r},{"../parse":9
}],22:[function(e,t,n){function r(e){for(var t=new s.Table("ltag",[{name:"version",
type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",
value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var a=n.indexOf(e[i]);0>a&&(a=n.length,
n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),t.fields.push({
name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",
type:"CHARARRAY",value:n}),t}function i(e,t){var n=new o.Parser(e,t),r=n.parseULong();
a.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],l=0;i>l;l++){
for(var u="",c=t+n.parseUShort(),d=n.parseUShort(),h=c;c+d>h;++h)u+=String.fromCharCode(e.getInt8(h));
s.push(u)}return s}var a=e("../check"),o=e("../parse"),s=e("../table");n.make=r,n.parse=i;
},{"../check":2,"../parse":9,"../table":11}],23:[function(e,t,n){function r(e,t){
var n={},r=new a.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),
1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),
n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),
n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),
n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),
n.maxComponentDepth=r.parseUShort()),n}function i(e){return new o.Table("maxp",[{
name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}]);
}var a=e("../parse"),o=e("../table");n.parse=r,n.make=i},{"../parse":9,"../table":11
}],24:[function(e,t,n){function r(e,t,n){switch(e){case 0:if(65535===t)return"und";
if(n)return n[t];break;case 1:return b[t];case 3:return y[t]}}function i(e,t,n){switch(e){
case 0:return x;case 1:return w[n]||_[t];case 3:if(1===t||10===t)return x}}function a(e,t,n){
for(var a={},o=new f.Parser(e,t),s=o.parseUShort(),l=o.parseUShort(),u=o.offset+o.parseUShort(),c=0;l>c;c++){
var d=o.parseUShort(),v=o.parseUShort(),m=o.parseUShort(),b=o.parseUShort(),g=p[b]||b,y=o.parseUShort(),_=o.parseUShort(),w=r(d,m,n),S=i(d,v,m);
if(void 0!==S&&void 0!==w){var k=void 0;if(k=S===x?h.UTF16(e,u+_,y):h.MACSTRING(e,u+_,y,S)){
var C=a[g];void 0===C&&(C=a[g]={}),C[w]=k}}}var R=0;return 1===s&&(R=o.parseUShort()),
a}function o(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function s(e,t,n,r,i,a){
return new m.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",
type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",
value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a
}])}function l(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;r>i;i++)for(;r>i;i++){
for(var a=0;n>a;a++)if(t[i+a]!==e[a])continue e;return i}return-1}function u(e,t){
var n=l(e,t);if(0>n){n=t.length;for(var r=0,i=e.length;i>r;++r)t.push(e[r])}return n;
}function c(e,t){var n,r=[],a={},l=o(p);for(var c in e){var d=l[c];void 0===d&&(d=c),
n=parseInt(d),a[n]=e[c],r.push(n)}for(var h=o(b),f=o(y),x=[],_=[],w=0;w<r.length;w++){
n=r[w];var S=a[n];for(var k in S){var C=S[k],R=1,M=h[k],E=g[M],P=i(R,E,M),A=v.MACSTRING(C,P);
void 0===A&&(R=0,M=t.indexOf(k),0>M&&(M=t.length,t.push(k)),E=4,A=v.UTF16(C));var T=u(A,_);
x.push(s(R,E,M,n,A.length,T));var L=f[k];if(void 0!==L){var N=v.UTF16(C),$=u(N,_);
x.push(s(3,1,L,n,N.length,$))}}}x.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID;
});for(var O=new m.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",
type:"USHORT",value:x.length},{name:"stringOffset",type:"USHORT",value:6+12*x.length
}]),V=0;V<x.length;V++)O.fields.push({name:"record_"+V,type:"TABLE",value:x[V]});return O.fields.push({
name:"strings",type:"LITERAL",value:_}),O}var d=e("../types"),h=d.decode,v=d.encode,f=e("../parse"),m=e("../table"),p=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],b={
0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",
12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",
22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",
33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",
43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",
52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",
62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",
73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",
84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",
94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",
137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",
146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},g={0:0,1:0,2:0,3:0,
4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,
22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,
37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,
53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,
69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,
83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,
131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,
145:0,146:0,147:0,148:6,149:0,150:0,151:0},y={1078:"af",1052:"sq",1156:"gsw",1118:"am",
5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",
4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",
14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",
1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",
1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",
1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",
3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",
8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",
11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",
1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",
1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",
1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",
1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",
1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",
1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",
2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",
1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",
1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",
1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",
8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",
2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",
13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",
4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",
10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",
2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",
1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",
2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"
},x="utf-16",_={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",
6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",
12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",
17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",
22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",
27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"
},w={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",
26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",
38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};n.parse=a,
n.make=c},{"../parse":9,"../table":11,"../types":28}],25:[function(e,t,n){function r(e){
for(var t=0;t<l.length;t+=1){var n=l[t];if(e>=n.begin&&e<n.end)return t}return-1}
function i(e,t){var n={},r=new o.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),
n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),
n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),
n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),
n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),
n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;10>i;i++)n.panose[i]=r.parseByte();
return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),
n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),
n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),
n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),
n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),
n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),
n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),
n}function a(e){return new s.Table("OS/2",[{name:"version",type:"USHORT",value:3},{
name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0
},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0
},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",
value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",
type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",
type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",
type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",
type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",
type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",
value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0
},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0
},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{
name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0
},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",
value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",
value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",
type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",
type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",
type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",
type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",
type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",
value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",
value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var o=e("../parse"),s=e("../table"),l=[{
begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,
end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,
end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,
end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,
end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,
end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,
end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,
end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,
end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,
end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,
end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,
end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,
end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591
},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,
end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871
},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,
end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055
},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,
end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,
end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,
end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,
end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{
begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,
end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039
},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,
end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{
begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,
end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687
},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,
end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103
},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,
end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999
},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];n.unicodeRanges=l,
n.getUnicodeRange=r,n.parse=i,n.make=a},{"../parse":9,"../table":11}],26:[function(e,t,n){
function r(e,t){var n,r={},i=new o.Parser(e,t);switch(r.version=i.parseVersion(),
r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),
r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),
r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=a.standardNames.slice();
break;case 2:for(r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs),
n=0;n<r.numberOfGlyphs;n++)r.glyphNameIndex[n]=i.parseUShort();for(r.names=[],n=0;n<r.numberOfGlyphs;n++)if(r.glyphNameIndex[n]>=a.standardNames.length){
var s=i.parseChar();r.names.push(i.parseString(s))}break;case 2.5:for(r.numberOfGlyphs=i.parseUShort(),
r.offset=new Array(r.numberOfGlyphs),n=0;n<r.numberOfGlyphs;n++)r.offset[n]=i.parseChar();
}return r}function i(){return new s.Table("post",[{name:"version",type:"FIXED",value:196608
},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",
value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",
value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",
value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",
value:0}])}var a=e("../encoding"),o=e("../parse"),s=e("../table");n.parse=r,n.make=i;
},{"../encoding":4,"../parse":9,"../table":11}],27:[function(e,t,n){function r(e){
return Math.log(e)/Math.log(2)|0}function i(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];
return t%=Math.pow(2,32)}function a(e,t,n,r){return new d.Table("Table Record",[{
name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0
},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0
}])}function o(e){var t=new d.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"
},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0
},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0
}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,r(t.numTables));t.searchRange=16*n,
t.entrySelector=r(n),t.rangeShift=16*t.numTables-t.searchRange;for(var o=[],s=[],l=t.sizeOf()+a().sizeOf()*t.numTables;l%4!==0;)l+=1,
s.push({name:"padding",type:"BYTE",value:0});for(var u=0;u<e.length;u+=1){var h=e[u];
c.argument(4===h.tableName.length,"Table name"+h.tableName+" is invalid.");var v=h.sizeOf(),f=a(h.tableName,i(h.encode()),l,v);
for(o.push({name:f.tag+" Table Record",type:"TABLE",value:f}),s.push({name:h.tableName+" table",
type:"TABLE",value:h}),l+=v,c.argument(!isNaN(l),"Something went wrong calculating the offset.");l%4!==0;)l+=1,
s.push({name:"padding",type:"BYTE",value:0})}return o.sort(function(e,t){return e.value.tag>t.value.tag?1:-1;
}),t.fields=t.fields.concat(o),t.fields=t.fields.concat(s),t}function s(e,t,n){for(var r=0;r<t.length;r+=1){
var i=e.charToGlyphIndex(t[r]);if(i>0){var a=e.glyphs.get(i);return a.getMetrics();
}}return n}function l(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length;
}function u(e){for(var t,n=[],r=[],a=[],u=[],c=[],d=[],w=[],S=0,k=0,C=0,R=0,M=0,E=0;E<e.glyphs.length;E+=1){
var P=e.glyphs.get(E),A=0|P.unicode;(t>A||null===t)&&(t=A),A>S&&(S=A);var T=x.getUnicodeRange(A);
if(32>T)k|=1<<T;else if(64>T)C|=1<<T-32;else if(96>T)R|=1<<T-64;else{if(!(123>T))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");
M|=1<<T-96}if(".notdef"!==P.name){var L=P.getMetrics();n.push(L.xMin),r.push(L.yMin),
a.push(L.xMax),u.push(L.yMax),d.push(L.leftSideBearing),w.push(L.rightSideBearing),
c.push(P.advanceWidth)}}var N={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),
xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,c),
advanceWidthAvg:l(c),minLeftSideBearing:Math.min.apply(null,d),maxLeftSideBearing:Math.max.apply(null,d),
minRightSideBearing:Math.min.apply(null,w)};N.ascender=e.ascender,N.descender=e.descender;
var $=f.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:N.xMin,yMin:N.yMin,xMax:N.xMax,
yMax:N.yMax,lowestRecPPEM:3}),O=m.make({ascender:N.ascender,descender:N.descender,
advanceWidthMax:N.advanceWidthMax,minLeftSideBearing:N.minLeftSideBearing,minRightSideBearing:N.minRightSideBearing,
xMaxExtent:N.maxLeftSideBearing+(N.xMax-N.xMin),numberOfHMetrics:e.glyphs.length}),V=g.make(e.glyphs.length),j=x.make({
xAvgCharWidth:Math.round(N.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:t,
usLastCharIndex:S,ulUnicodeRange1:k,ulUnicodeRange2:C,ulUnicodeRange3:R,ulUnicodeRange4:M,
fsSelection:64,sTypoAscender:N.ascender,sTypoDescender:N.descender,sTypoLineGap:0,
usWinAscent:N.yMax,usWinDescent:Math.abs(N.yMin),ulCodePageRange1:1,sxHeight:s(e,"xyvw",{
yMax:Math.round(N.ascender/2)}).yMax,sCapHeight:s(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",N).yMax,
usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),z=p.make(e.glyphs),I=h.make(e.glyphs),D=e.getEnglishName("fontFamily"),G=e.getEnglishName("fontSubfamily"),B=D+" "+G,U=e.getEnglishName("postScriptName");
U||(U=D.replace(/\s/g,"")+"-"+G);var H={};for(var F in e.names)H[F]=e.names[F];H.uniqueID||(H.uniqueID={
en:e.getEnglishName("manufacturer")+":"+B}),H.postScriptName||(H.postScriptName={
en:U}),H.preferredFamily||(H.preferredFamily=e.names.fontFamily),H.preferredSubfamily||(H.preferredSubfamily=e.names.fontSubfamily);
var q=[],W=y.make(H,q),Y=q.length>0?b.make(q):void 0,X=_.make(),Z=v.make(e.glyphs,{
version:e.getEnglishName("version"),fullName:B,familyName:D,weightName:G,postScriptName:U,
unitsPerEm:e.unitsPerEm,fontBBox:[0,N.yMin,N.ascender,N.advanceWidthMax]}),K=[$,O,V,j,W,I,X,Z,z];
Y&&K.push(Y);var J=o(K),Q=J.encode(),ee=i(Q),te=J.fields,ne=!1;for(E=0;E<te.length;E+=1)if("head table"===te[E].name){
te[E].value.checkSumAdjustment=2981146554-ee,ne=!0;break}if(!ne)throw new Error("Could not find head table with checkSum to adjust.");
return J}var c=e("../check"),d=e("../table"),h=e("./cmap"),v=e("./cff"),f=e("./head"),m=e("./hhea"),p=e("./hmtx"),b=e("./ltag"),g=e("./maxp"),y=e("./name"),x=e("./os2"),_=e("./post");
n.computeCheckSum=i,n.make=o,n.fontToTable=u},{"../check":2,"../table":11,"./cff":12,
"./cmap":13,"./head":17,"./hhea":18,"./hmtx":19,"./ltag":22,"./maxp":23,"./name":24,
"./os2":25,"./post":26}],28:[function(e,t,n){function r(e){return function(){return e;
}}var i=e("./check"),a=32768,o=2147483648,s={},l={},u={};l.BYTE=function(e){return i.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),
[e]},u.BYTE=r(1),l.CHAR=function(e){return[e.charCodeAt(0)]},u.CHAR=r(1),l.CHARARRAY=function(e){
for(var t=[],n=0;n<e.length;n+=1)t.push(e.charCodeAt(n));return t},u.CHARARRAY=function(e){
return e.length},l.USHORT=function(e){return[e>>8&255,255&e]},u.USHORT=r(2),l.SHORT=function(e){
return e>=a&&(e=-(2*a-e)),[e>>8&255,255&e]},u.SHORT=r(2),l.UINT24=function(e){return[e>>16&255,e>>8&255,255&e];
},u.UINT24=r(3),l.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},u.ULONG=r(4),
l.LONG=function(e){return e>=o&&(e=-(2*o-e)),[e>>24&255,e>>16&255,e>>8&255,255&e];
},u.LONG=r(4),l.FIXED=l.ULONG,u.FIXED=u.ULONG,l.FWORD=l.SHORT,u.FWORD=u.SHORT,l.UFWORD=l.USHORT,
u.UFWORD=u.USHORT,l.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},u.LONGDATETIME=r(8),
l.TAG=function(e){return i.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),
[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},u.TAG=r(4),l.Card8=l.BYTE,
u.Card8=u.BYTE,l.Card16=l.USHORT,u.Card16=u.USHORT,l.OffSize=l.BYTE,u.OffSize=u.BYTE,
l.SID=l.USHORT,u.SID=u.USHORT,l.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,
[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?l.NUMBER16(e):l.NUMBER32(e);
},u.NUMBER=function(e){return l.NUMBER(e).length},l.NUMBER16=function(e){return[28,e>>8&255,255&e];
},u.NUMBER16=r(3),l.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e];
},u.NUMBER32=r(5),l.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);
if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString();
}var i,a,o="";for(i=0,a=t.length;a>i;i+=1){var s=t[i];o+="e"===s?"-"===t[++i]?"c":"b":"."===s?"a":"-"===s?"e":s;
}o+=1&o.length?"f":"ff";var l=[30];for(i=0,a=o.length;a>i;i+=2)l.push(parseInt(o.substr(i,2),16));
return l},u.REAL=function(e){return l.REAL(e).length},l.NAME=l.CHARARRAY,u.NAME=u.CHARARRAY,
l.STRING=l.CHARARRAY,u.STRING=u.CHARARRAY,s.UTF16=function(e,t,n){for(var r=[],i=n/2,a=0;i>a;a++,
t+=2)r[a]=e.getUint16(t);return String.fromCharCode.apply(null,r)},l.UTF16=function(e){
for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(r>>8&255),t.push(255&r);
}return t},u.UTF16=function(e){return 2*e.length};var c={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ",
"x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю",
"x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ",
"x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­",
"x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
"x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł",
"x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",
macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
"x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",
"x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"
};s.MACSTRING=function(e,t,n,r){var i=c[r];if(void 0!==i){for(var a="",o=0;n>o;o++){
var s=e.getUint8(t+o);a+=127>=s?String.fromCharCode(s):i[127&s]}return a}};var d,h="function"==typeof WeakMap&&new WeakMap,v=function(e){
if(!d){d={};for(var t in c)d[t]=new String(t)}var n=d[e];if(void 0!==n){if(h){var r=h.get(n);
if(void 0!==r)return r}var i=c[e];if(void 0!==i){for(var a={},o=0;o<i.length;o++)a[i.charCodeAt(o)]=o+128;
return h&&h.set(n,a),a}}};l.MACSTRING=function(e,t){var n=v(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){
var a=e.charCodeAt(i);if(a>=128&&(a=n[a],void 0===a))return;r.push(a)}return r}},
u.MACSTRING=function(e,t){var n=l.MACSTRING(e,t);return void 0!==n?n.length:0},l.INDEX=function(e){
var t,n=1,r=[n],i=[],a=0;for(t=0;t<e.length;t+=1){var o=l.OBJECT(e[t]);Array.prototype.push.apply(i,o),
a+=o.length,n+=o.length,r.push(n)}if(0===i.length)return[0,0];var s=[],u=1+Math.floor(Math.log(a)/Math.log(2))/8|0,c=[void 0,l.BYTE,l.USHORT,l.UINT24,l.ULONG][u];
for(t=0;t<r.length;t+=1){var d=c(r[t]);Array.prototype.push.apply(s,d)}return Array.prototype.concat(l.Card16(e.length),l.OffSize(u),s,i);
},u.INDEX=function(e){return l.INDEX(e).length},l.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;r>i;i+=1){
var a=parseInt(n[i],0),o=e[a];t=t.concat(l.OPERAND(o.value,o.type)),t=t.concat(l.OPERATOR(a));
}return t},u.DICT=function(e){return l.DICT(e).length},l.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200];
},l.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)i.argument(e.length===t.length,"Not enough arguments given for type"+t),
n=n.concat(l.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(l.NUMBER(e));else if("offset"===t)n=n.concat(l.NUMBER32(e));else if("number"===t)n=n.concat(l.NUMBER(e));else{
if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(l.REAL(e))}return n;
},l.OP=l.BYTE,u.OP=u.BYTE;var f="function"==typeof WeakMap&&new WeakMap;l.CHARSTRING=function(e){
if(f){var t=f.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;r>i;i+=1){
var a=e[i];n=n.concat(l[a.type](a.value))}return f&&f.set(e,n),n},u.CHARSTRING=function(e){
return l.CHARSTRING(e).length},l.OBJECT=function(e){var t=l[e.type];return i.argument(void 0!==t,"No encoding function for type "+e.type),
t(e.value)},u.OBJECT=function(e){var t=u[e.type];return i.argument(void 0!==t,"No sizeOf function for type "+e.type),
t(e.value)},l.TABLE=function(e){for(var t=[],n=e.fields.length,r=0;n>r;r+=1){var a=e.fields[r],o=l[a.type];
i.argument(void 0!==o,"No encoding function for field type "+a.type);var s=e[a.name];
void 0===s&&(s=a.value);var u=o(s);t=t.concat(u)}return t},u.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;n>r;r+=1){
var a=e.fields[r],o=u[a.type];i.argument(void 0!==o,"No sizeOf function for field type "+a.type);
var s=e[a.name];void 0===s&&(s=a.value),t+=o(s)}return t},l.LITERAL=function(e){return e;
},u.LITERAL=function(e){return e.length},n.decode=s,n.encode=l,n.sizeOf=u},{"./check":2
}],29:[function(e,t,n){n.isBrowser=function(){return"undefined"!=typeof window},n.isNode=function(){
return"undefined"==typeof window},n.nodeBufferToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];
return t},n.arrayBufferToNodeBuffer=function(e){for(var t=new Buffer(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];
return t},n.checkArgument=function(e,t){if(!e)throw t}},{}]},{},[8])(8)});var e=window.opentype;
return{get default(){return e}}}),$traceurRuntime.registerModule("libs/pako",[],function(){
"use strict";!function(e){if("object"==("undefined"==typeof exports?"undefined":$traceurRuntime["typeof"](exports)))module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{
var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),
t.pako=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){
var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);
throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){
var n=t[o][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);
return i}({1:[function(e,t,n){var r=e("./lib/zlib/utils").assign,i=e("./lib/deflate"),a=e("./lib/inflate"),o=e("./lib/zlib/constants"),s={};
r(s,i,a,o),t.exports=s},{"./lib/deflate":2,"./lib/inflate":3,"./lib/zlib/constants":5,
"./lib/zlib/utils":13}],2:[function(e,t,n){function r(e,t){var n=new b(t);if(n.push(e,!0),
n.err)throw n.msg;return n.result}function i(e,t){return t=t||{},t.raw=!0,r(e,t)}
function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var o=e("./zlib/deflate.js"),s=e("./zlib/utils"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=0,d=4,h=0,v=1,f=-1,m=0,p=8,b=function(e){
this.options=s.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,
strategy:m},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),
this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);
if(n!==h)throw new Error(l[n])};b.prototype.push=function(e,t){var n,r,i=this.strm,a=this.options.chunkSize;
if(this.ended)return!1;r=t===~~t?t:t===!0?d:c,i.next_in=e,i.next_in_index=0,i.avail_in=i.next_in.length,
i.next_out=new s.Buf8(a);do{if(i.avail_out=this.options.chunkSize,i.next_out_index=0,
n=o.deflate(i,r),n!==v&&n!==h)return this.onEnd(n),this.ended=!0,!1;i.next_out_index&&(this.onData(s.shrinkBuf(i.next_out,i.next_out_index)),
(i.avail_in>0||0===i.avail_out)&&(i.next_out=new s.Buf8(this.options.chunkSize)));
}while(i.avail_in>0||0===i.avail_out);return r===d?(n=o.deflateEnd(this.strm),this.onEnd(n),
this.ended=!0,n===h):!0},b.prototype.onData=function(e){this.chunks.push(e)},b.prototype.onEnd=function(e){
e===h&&(this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg;
},n.Deflate=b,n.deflate=r,n.deflateRaw=i,n.gzip=a},{"./zlib/deflate.js":7,"./zlib/messages":11,
"./zlib/utils":13,"./zlib/zstream":14}],3:[function(e,t,n){function r(e,t){var n=new c(t);
if(n.push(e,!0),n.err)throw n.msg;return n.result}function i(e,t){return t=t||{},
t.raw=!0,r(e,t)}var a=e("./zlib/inflate.js"),o=e("./zlib/utils"),s=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=function(e){
this.options=o.assign({chunkSize:16384,windowBits:0},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,
0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),
t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,
this.msg="",this.ended=!1,this.chunks=[],this.strm=new u;var n=a.inflateInit2(this.strm,t.windowBits);
if(n!==s.Z_OK)throw new Error(l[n])};c.prototype.push=function(e,t){var n,r,i=this.strm,l=this.options.chunkSize;
if(this.ended)return!1;r=s.Z_NO_FLUSH,i.next_in=e,i.next_in_index=0,i.avail_in=i.next_in.length,
i.next_out=new o.Buf8(l);do{if(i.avail_out=this.options.chunkSize,i.next_out_index=0,
n=a.inflate(i,r),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,
!1;i.next_out_index&&(this.onData(o.shrinkBuf(i.next_out,i.next_out_index)),(i.avail_in>0||0===i.avail_out)&&(i.next_out=new o.Buf8(this.options.chunkSize)));
}while(i.avail_in>0||0===i.avail_out);return r=t===~~t?t:t===!0?s.Z_FINISH:s.Z_NO_FLUSH,
r===s.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):!0;
},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){
e===s.Z_OK&&(this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,
this.msg=this.strm.msg},n.Inflate=c,n.inflate=r,n.inflateRaw=i},{"./zlib/constants":5,
"./zlib/inflate.js":9,"./zlib/messages":11,"./zlib/utils":13,"./zlib/zstream":14}],
4:[function(e,t,n){function r(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){
o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0;
}t.exports=r},{}],5:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,
Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,
Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,
Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,
Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],
6:[function(e,t,n){function r(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;
t[n]=e}return t}function i(e,t,n,r){var i=a,o=r+n;e=-1^e;for(var s=r;o>s;s++)e=e>>>8^i[255&(e^t[s])];
return-1^e}var a=r();t.exports=i},{}],7:[function(e,t,n){function r(e,t){return e.msg=T[t],
t}function i(e){return(e<<1)-(e>4?9:0)}function a(e){for(var t=e.length;--t;)e[t]=0;
}function o(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(M.arraySet(e.next_out,t.pending_buf,t.pending_out,n,e.next_out_index),
e.next_out_index+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0));
}function s(e,t){E._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),
e.block_start=e.strstart,o(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){
e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,r){
var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,M.arraySet(t,e.next_in,e.next_in_index,i,n),
1===e.state.wrap?e.adler=P(e.adler,t,i,n):2===e.state.wrap&&(e.adler=A(e.adler,t,i,n)),
e.next_in_index+=i,e.total_in+=i,i)}function d(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+se,v=u[a+o-1],f=u[a+o];
e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,u[n+o]===f&&u[n+o-1]===v&&u[n]===u[a]&&u[++n]===u[a+1]){
a+=2,n++;do;while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&h>a);
if(r=se-(h-a),a=h-se,r>o){if(e.match_start=t,o=r,r>=s)break;v=u[a+o-1],f=u[a+o]}}while((t=d[t&c])>l&&0!==--i);
return o<=e.lookahead?o:e.lookahead}function h(e){var t,n,r,i,a,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,
e.strstart>=o+(o-le)){M.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,
e.block_start-=o,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=o?r-o:0;while(--n);
n=o,t=n;do r=e.prev[--t],e.prev[t]=r>=o?r-o:0;while(--n);i+=o}if(0===e.strm.avail_in)break;
if(n=c(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=oe)for(a=e.strstart-e.insert,
e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+oe-1])&e.hash_mask,
e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<oe)););
}while(e.lookahead<le&&0!==e.strm.avail_in)}function v(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){
if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===L)return be;if(0===e.lookahead)break;
}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,
e.strstart=r,s(e,!1),0===e.strm.avail_out))return be;if(e.strstart-e.block_start>=e.w_size-le&&(s(e,!1),
0===e.strm.avail_out))return be}return e.insert=0,t===O?(s(e,!0),0===e.strm.avail_out?ye:xe):e.strstart>e.block_start&&(s(e,!1),
0===e.strm.avail_out)?be:be}function f(e,t){for(var n,r;;){if(e.lookahead<le){if(h(e),
e.lookahead<le&&t===L)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-le&&(e.match_length=d(e,n)),
e.match_length>=oe)if(r=E._tr_tally(e,e.strstart-e.match_start,e.match_length-oe),
e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=oe){e.match_length--;
do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);
e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],
e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=E._tr_tally(e,0,e.window[e.strstart]),
e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=e.strstart<oe-1?e.strstart:oe-1,
t===O?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:ge;
}function m(e,t){for(var n,r,i;;){if(e.lookahead<le){if(h(e),e.lookahead<le&&t===L)return be;
if(0===e.lookahead)break}if(n=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,
e.prev_match=e.match_start,e.match_length=oe-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-le&&(e.match_length=d(e,n),
e.match_length<=5&&(e.strategy===U||e.match_length===oe&&e.strstart-e.match_start>4096)&&(e.match_length=oe-1)),
e.prev_length>=oe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-oe,r=E._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-oe),
e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,
n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);
if(e.match_available=0,e.match_length=oe-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return be;
}else if(e.match_available){if(r=E._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),
e.strstart++,e.lookahead--,0===e.strm.avail_out)return be}else e.match_available=1,
e.strstart++,e.lookahead--}return e.match_available&&(r=E._tr_tally(e,0,e.window[e.strstart-1]),
e.match_available=0),e.insert=e.strstart<oe-1?e.strstart:oe-1,t===O?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),
0===e.strm.avail_out)?be:ge}function p(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=se){
if(h(e),e.lookahead<=se&&t===L)return be;if(0===e.lookahead)break}if(e.match_length=0,
e.lookahead>=oe&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){
a=e.strstart+se;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&a>i);
e.match_length=se-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}
if(e.match_length>=oe?(n=E._tr_tally(e,1,e.match_length-oe),e.lookahead-=e.match_length,
e.strstart+=e.match_length,e.match_length=0):(n=E._tr_tally(e,0,e.window[e.strstart]),
e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,
t===O?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:ge;
}function b(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===L)return be;
break}if(e.match_length=0,n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,
n&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===O?(s(e,!0),0===e.strm.avail_out?ye:xe):e.last_lit&&(s(e,!1),
0===e.strm.avail_out)?be:ge}function g(e){e.window_size=2*e.w_size,a(e.head),e.max_lazy_match=R[e.level].max_lazy,
e.good_match=R[e.level].good_length,e.nice_match=R[e.level].nice_length,e.max_chain_length=R[e.level].max_chain,
e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=oe-1,
e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,
this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,
this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,
this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,
this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,
this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,
this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,
this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*ie),this.dyn_dtree=new M.Buf16(2*(2*ne+1)),
this.bl_tree=new M.Buf16(2*(2*re+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),
this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(ae+1),
this.heap=new M.Buf16(2*te+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*te+1),
a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,
this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0,this.high_water=0;
}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Y,t=e.state,
t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ce:me,e.adler=2===t.wrap?0:1,
t.last_flush=L,E._tr_init(t),j):r(e,I)}function _(e){var t=x(e);return t===j&&g(e.state),
t}function w(e,t,n,i,a,o){if(!e)return r(e,I);var s=1;if(t===B&&(t=6),0>i?(s=0,i=-i):i>15&&(s=2,
i-=16),1>a||a>Z||n!==X||8>i||i>15||0>t||t>9||0>o||o>q)return r(e,I);8===i&&(i=9);var l=new y;
return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,
l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,
l.hash_shift=~~((l.hash_bits+oe-1)/oe),l.window=new M.Buf8(2*l.w_size),l.head=new M.Buf16(l.hash_size),
l.prev=new M.Buf16(l.w_size),l.high_water=0,l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,
l.pending_buf=new M.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,
l.level=t,l.strategy=o,l.method=n,_(e)}function S(e,t){return w(e,t,X,K,J,W)}function k(e,t){
var n,s;if(!e||!e.state||t>V||0>t)return r(e,I);if(s=e.state,!e.next_out||!e.next_in&&0!==e.avail_in||s.status===pe&&t!==O)return r(e,0===e.avail_out?G:I);
if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===ce)if(2===s.wrap){if(e.adler=0,
l(s,31),l(s,139),l(s,8),s.gzhead)throw new Error("Custom GZIP headers not supported");
l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),
l(s,_e),s.status=me}else{var c=X+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=H||s.level<2?0:s.level<6?1:6===s.level?2:3,
c|=d<<6,0!==s.strstart&&(c|=ue),c+=31-c%31,s.status=me,u(s,c),0!==s.strstart&&(u(s,e.adler>>>16),
u(s,65535&e.adler)),e.adler=1}if(0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,
j}else if(0===e.avail_in&&i(t)<=i(n)&&t!==O)return r(e,G);if(s.status===pe&&0!==e.avail_in)return r(e,G);
if(0!==e.avail_in||0!==s.lookahead||t!==L&&s.status!==pe){var h=s.strategy===H?b(s,t):s.strategy===F?p(s,t):R[s.level].func(s,t);
if(h!==ye&&h!==xe||(s.status=pe),h===be||h===ye)return 0===e.avail_out&&(s.last_flush=-1),
j;if(h===ge&&(t===N?E._tr_align(s):t!==V&&(E._tr_stored_block(s,0,0,!1),t===$&&(a(s.head),
0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,
j}return t!==O?j:s.wrap<=0?z:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),
l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),
l(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),
0!==s.pending?j:z)}function C(e){var t=e.state.status;return t!==ce&&t!==de&&t!==he&&t!==ve&&t!==fe&&t!==me&&t!==pe?r(e,I):(e.state=null,
t===me?r(e,D):j)}var R,M=e("./utils"),E=e("./trees"),P=e("./adler32"),A=e("./crc32"),T=e("./messages"),L=0,N=1,$=3,O=4,V=5,j=0,z=1,I=-2,D=-3,G=-5,B=-1,U=1,H=2,F=3,q=4,W=0,Y=2,X=8,Z=9,K=15,J=8,Q=29,ee=256,te=ee+1+Q,ne=30,re=19,ie=2*te+1,ae=15,oe=3,se=258,le=se+oe+1,ue=32,ce=42,de=69,he=73,ve=91,fe=103,me=113,pe=666,be=1,ge=2,ye=3,xe=4,_e=3,we=function(e,t,n,r,i){
this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i;
};R=[new we(0,0,0,0,v),new we(4,4,8,4,f),new we(4,5,16,8,f),new we(4,6,32,32,f),new we(4,4,16,16,m),new we(8,16,32,32,m),new we(8,16,128,128,m),new we(8,32,128,256,m),new we(32,128,258,1024,m),new we(32,258,258,4096,m)],
n.deflateInit=S,n.deflateInit2=w,n.deflateReset=_,n.deflate=k,n.deflateEnd=C,n.deflateInfo="pako deflate (from Nodeca project)";
},{"./adler32":4,"./crc32":6,"./messages":11,"./trees":12,"./utils":13}],8:[function(e,t,n){
var r=30,i=12;t.exports=function(e,t){var n,a,o,s,l,u,c,d,h,v,f,m,p,b,g,y,x,_,w,S,k,C,R,M,E;
n=e.state,a=e.next_in_index,M=e.next_in,o=a+(e.avail_in-5),s=e.next_out_index,E=e.next_out,
l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=n.dmax,d=n.wsize,h=n.whave,v=n.wnext,
f=n.window,m=n.hold,p=n.bits,b=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;
e:do{15>p&&(m+=M[a++]<<p,p+=8,m+=M[a++]<<p,p+=8),_=b[m&y];t:for(;;){if(w=_>>>24,m>>>=w,
p-=w,w=_>>>16&255,0===w)E[s++]=65535&_;else{if(!(16&w)){if(0===(64&w)){_=b[(65535&_)+(m&(1<<w)-1)];
continue t}if(32&w){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;
break e}S=65535&_,w&=15,w&&(w>p&&(m+=M[a++]<<p,p+=8),S+=m&(1<<w)-1,m>>>=w,p-=w),15>p&&(m+=M[a++]<<p,
p+=8,m+=M[a++]<<p,p+=8),_=g[m&x];n:for(;;){if(w=_>>>24,m>>>=w,p-=w,w=_>>>16&255,!(16&w)){
if(0===(64&w)){_=g[(65535&_)+(m&(1<<w)-1)];continue n}e.msg="invalid distance code",
n.mode=r;break e}if(k=65535&_,w&=15,w>p&&(m+=M[a++]<<p,p+=8,w>p&&(m+=M[a++]<<p,p+=8)),
k+=m&(1<<w)-1,k>c){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=w,
p-=w,w=s-l,k>w){if(w=k-w,w>h&&n.sane){e.msg="invalid distance too far back",n.mode=r;
break e}if(C=0,R=f,0===v){if(C+=d-w,S>w){S-=w;do E[s++]=f[C++];while(--w);C=s-k,R=E;
}}else if(w>v){if(C+=d+v-w,w-=v,S>w){S-=w;do E[s++]=f[C++];while(--w);if(C=0,S>v){
w=v,S-=w;do E[s++]=f[C++];while(--w);C=s-k,R=E}}}else if(C+=v-w,S>w){S-=w;do E[s++]=f[C++];while(--w);
C=s-k,R=E}for(;S>2;)E[s++]=R[C++],E[s++]=R[C++],E[s++]=R[C++],S-=3;S&&(E[s++]=R[C++],
S>1&&(E[s++]=R[C++]))}else{C=s-k;do E[s++]=E[C++],E[s++]=E[C++],E[s++]=E[C++],S-=3;while(S>2);
S&&(E[s++]=E[C++],S>1&&(E[s++]=E[C++]))}break}}break}}while(o>a&&u>s);S=p>>3,a-=S,
p-=S<<3,m&=(1<<p)-1,e.next_in_index=a,e.next_out_index=s,e.avail_in=o>a?5+(o-a):5-(a-o),
e.avail_out=u>s?257+(u-s):257-(s-u),n.hold=m,n.bits=p}},{}],9:[function(e,t,n){function r(e){
return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,
this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,
this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,
this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,
this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,
this.have=0,this.next=null,this.next_index=0,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),
this.codes=new g.Buf32(be),this.sane=0,this.back=0,this.was=0}function a(e,t,n,r,i,a,o,s){
this.type=e,this.lens=t,this.lens_index=n,this.codes=r,this.table=i,this.table_index=a,
this.bits=o,this.work=s}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,
t.wrap&&(e.adler=1&t.wrap),t.mode=j,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,
t.hold=0,t.bits=0,t.lencode=new g.Buf32(be),t.distcode=new g.Buf32(be),t.sane=1,t.back=-1,
P):L}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,
o(e)):L}function l(e,t){var n,r;return e&&e.state?(r=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,
48>t&&(t&=15)),t&&(8>t||t>15)?L:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,
r.wbits=t,s(e))):L}function u(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,
n=l(e,t),n!==P&&(e.state=null),n):L}function c(e){return u(e,ye)}function d(e,t,n){
var r;return e&&e.state?(r=e.state,0>t?(r.hold=0,r.bits=0,P):t>16||r.bits+t>32?L:(n&=(1<<t)-1,
r.hold+=n<<r.bits,r.bits+=t,P)):L}function h(e){if(xe){var t,n;for(p=new g.Buf32(512),
b=new g.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;
for(;288>t;)e.lens[t++]=8;for(n=9,w(new a(k,e.lens,0,288,p,0,n,e.work)),t=0;32>t;)e.lens[t++]=5;
n=5,w(new a(C,e.lens,0,32,b,0,n,e.work)),xe=!1}e.lencode=p,e.lenbits=9,e.distcode=b,
e.distbits=5}function v(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,
a.wnext=0,a.whave=0,a.window=new g.Buf8(a.wsize)),r>=a.wsize?(g.arraySet(a.window,t,n-a.wsize,a.wsize,0),
a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),g.arraySet(a.window,t,n-r,i,a.wnext),
r-=i,r?(g.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),
a.whave<a.wsize&&(a.whave+=i))),0}function f(e,t){var n,i,o,s,l,u,c,d,f,m,p,b,me,pe,be,ge,ye,xe,_e,we,Se,ke,Ce,Re,Me=0,Ee=new g.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
n=e.state,n.mode===Y&&(n.mode=X),l=e.next_out_index,o=e.next_out,c=e.avail_out,s=e.next_in_index,
i=e.next_in,u=e.avail_in,d=n.hold,f=n.bits,m=u,p=c,ke=P;e:for(;;)switch(n.mode){case j:
if(0===n.wrap){n.mode=X;break}for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}
if(2&n.wrap&&35615===d){n.check=0,Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0),
d=0,f=0,n.mode=z;break}if(n.flags=0,n.head&&(n.head.done=-1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){
e.msg="incorrect header check",n.mode=he;break}if((15&d)!==V){e.msg="unknown compression method",
n.mode=he;break}if(d>>>=4,f-=4,Se=(15&d)+8,0===n.wbits)n.wbits=Se;else if(Se>n.wbits){
e.msg="invalid window size",n.mode=he;break}n.dmax=1<<Se,e.adler=n.check=1,n.mode=512&d?q:Y,
d=0,f=0;break;case z:for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(n.flags=d,
(255&n.flags)!==V){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){
e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Ee[0]=255&d,
Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0)),d=0,f=0,n.mode=I;case I:for(;32>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}n.head&&(n.head.time=d),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,
Ee[2]=d>>>16&255,Ee[3]=d>>>24&255,n.check=x(n.check,Ee,4,0)),d=0,f=0,n.mode=D;case D:
for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),
512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0)),d=0,f=0,n.mode=G;
case G:if(1024&n.flags){for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}n.length=d,
n.head&&(n.head.extra_len=d),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=x(n.check,Ee,2,0)),
d=0,f=0}else n.head&&(n.head.extra=null);n.mode=B;case B:if(1024&n.flags){if(b=n.length,
b>u&&(b=u),b){if(n.head&&n.head.extra)throw Se=n.head.extra_len-n.length,"Review & implement right";
512&n.flags&&(n.check=x(n.check,i,b,s)),u-=b,s+=b,n.length-=b}if(n.length)break e;
}n.length=0,n.mode=U;case U:if(2048&n.flags){if(0===u)break e;b=0;do Se=i[s+b++],
n.head&&n.head.name&&n.length<n.head.name_max&&(n.head.name[n.length++]=Se);while(Se&&u>b);
if(512&n.flags&&(n.check=x(n.check,i,b,s)),u-=b,s+=b,Se)break e}else n.head&&(n.head.name=null);
n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===u)break e;b=0;do Se=i[s+b++],n.head&&n.head.comment&&n.length<n.head.comm_max&&(n.head.comment[n.length++]=Se);while(Se&&u>b);
if(512&n.flags&&(n.check=x(n.check,i,b,s)),u-=b,s+=b,Se)break e}else n.head&&(n.head.comment=null);
n.mode=F;case F:if(512&n.flags){for(;16>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8;
}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}d=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,
n.head.done=1),e.adler=n.check=0,n.mode=Y;break;case q:for(;32>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}e.adler=n.check=r(d),d=0,f=0,n.mode=W;case W:if(0===n.havedict)return e.next_out_index=l,
e.avail_out=c,e.next_in_index=s,e.avail_in=u,n.hold=d,n.bits=f,T;e.adler=n.check=1,
n.mode=Y;case Y:if(t===M||t===E)break e;case X:if(n.last){d>>>=7&f,f-=7&f,n.mode=ue;
break}for(;3>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}switch(n.last=1&d,d>>>=1,
f-=1,3&d){case 0:n.mode=Z;break;case 1:if(h(n),n.mode=ne,t===E){d>>>=2,f-=2;break e;
}break;case 2:n.mode=Q;break;case 3:e.msg="invalid block type",n.mode=he}d>>>=2,f-=2;
break;case Z:for(d>>>=7&f,f-=7&f;32>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if((65535&d)!==(d>>>16^65535)){
e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&d,d=0,f=0,
n.mode=K,t===E)break e;case K:n.mode=J;case J:if(b=n.length){if(b>u&&(b=u),b>c&&(b=c),
0===b)break e;g.arraySet(o,i,s,b,l),u-=b,s+=b,c-=b,l+=b,n.length-=b;break}n.mode=Y;
break;case Q:for(;14>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(n.nlen=(31&d)+257,
d>>>=5,f-=5,n.ndist=(31&d)+1,d>>>=5,f-=5,n.ncode=(15&d)+4,d>>>=4,f-=4,n.nlen>286||n.ndist>30){
e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:
for(;n.have<n.ncode;){for(;3>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}n.lens[Pe[n.have++]]=7&d,
d>>>=3,f-=3}for(;n.have<19;)n.lens[Pe[n.have++]]=0;if(g.arraySet(n.lencode,n.codes,0,n.codes.length,0),
n.lenbits=7,Ce=new a(S,n.lens,0,19,n.lencode,0,n.lenbits,n.work),ke=w(Ce),n.lenbits=Ce.bits,
ke){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){
for(;Me=n.lencode[d&(1<<n.lenbits)-1],be=Me>>>24,ge=Me>>>16&255,ye=65535&Me,!(f>=be);){
if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(16>ye)d>>>=be,f-=be,n.lens[n.have++]=ye;else{
if(16===ye){for(Re=be+2;Re>f;){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(d>>>=be,
f-=be,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}Se=n.lens[n.have-1],
b=3+(3&d),d>>>=2,f-=2}else if(17===ye){for(Re=be+3;Re>f;){if(0===u)break e;u--,d+=i[s++]<<f,
f+=8}d>>>=be,f-=be,Se=0,b=3+(7&d),d>>>=3,f-=3}else{for(Re=be+7;Re>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}d>>>=be,f-=be,Se=0,b=11+(127&d),d>>>=7,f-=7}if(n.have+b>n.nlen+n.ndist){
e.msg="invalid bit length repeat",n.mode=he;break}for(;b--;)n.lens[n.have++]=Se}}
if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",
n.mode=he;break}if(g.arraySet(n.lencode,n.codes,0,n.codes.length,0),n.lenbits=9,Ce=new a(k,n.lens,0,n.nlen,n.lencode,0,n.lenbits,n.work),
ke=w(Ce),n.lenbits=Ce.bits,ke){e.msg="invalid literal/lengths set",n.mode=he;break;
}if(n.distbits=6,g.arraySet(n.distcode,n.codes,0,n.codes.length,0),Ce=new a(C,n.lens,n.nlen,n.ndist,n.distcode,0,n.distbits,n.work),
ke=w(Ce),n.distbits=Ce.bits,ke){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,
t===E)break e;case ne:n.mode=re;case re:if(u>=6&&c>=258){e.next_out_index=l,e.avail_out=c,
e.next_in_index=s,e.avail_in=u,n.hold=d,n.bits=f,_(e,p),l=e.next_out_index,o=e.next_out,
c=e.avail_out,s=e.next_in_index,i=e.next_in,u=e.avail_in,d=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);
break}for(n.back=0;Me=n.lencode[d&(1<<n.lenbits)-1],be=Me>>>24,ge=Me>>>16&255,ye=65535&Me,
!(f>=be);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(ge&&0===(240&ge)){for(xe=be,
_e=ge,we=ye;Me=n.lencode[we+((d&(1<<xe+_e)-1)>>xe)],be=Me>>>24,ge=Me>>>16&255,ye=65535&Me,
!(f>=xe+be);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}d>>>=xe,f-=xe,n.back+=xe}if(d>>>=be,
f-=be,n.back+=be,n.length=ye,0===ge){n.mode=le;break}if(32&ge){n.back=-1,n.mode=Y;
break}if(64&ge){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&ge,
n.mode=ie;case ie:if(n.extra){for(Re=n.extra;Re>f;){if(0===u)break e;u--,d+=i[s++]<<f,
f+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,
n.mode=ae;case ae:for(;Me=n.distcode[d&(1<<n.distbits)-1],be=Me>>>24,ge=Me>>>16&255,
ye=65535&Me,!(f>=be);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}if(0===(240&ge)){for(xe=be,
_e=ge,we=ye;Me=n.distcode[we+((d&(1<<xe+_e)-1)>>xe)],be=Me>>>24,ge=Me>>>16&255,ye=65535&Me,
!(f>=xe+be);){if(0===u)break e;u--,d+=i[s++]<<f,f+=8}d>>>=xe,f-=xe,n.back+=xe}if(d>>>=be,
f-=be,n.back+=be,64&ge){e.msg="invalid distance code",n.mode=he;break}n.offset=ye,
n.extra=15&ge,n.mode=oe;case oe:if(n.extra){for(Re=n.extra;Re>f;){if(0===u)break e;
u--,d+=i[s++]<<f,f+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra;
}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=se;
case se:if(0===c)break e;if(b=p-c,n.offset>b){if(b=n.offset-b,b>n.whave&&n.sane){
e.msg="invalid distance too far back",n.mode=he;break}b>n.wnext?(b-=n.wnext,me=n.wsize-b):me=n.wnext-b,
b>n.length&&(b=n.length),pe=n.window}else pe=o,me=l-n.offset,b=n.length;b>c&&(b=c),
c-=b,n.length-=b;do o[l++]=pe[me++];while(--b);0===n.length&&(n.mode=re);break;case le:
if(0===c)break e;o[l++]=n.length,c--,n.mode=re;break;case ue:if(n.wrap){for(;32>f;){
if(0===u)break e;u--,d|=i[s++]<<f,f+=8}if(p-=c,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=n.flags?x(n.check,o,p,l-p):y(n.check,o,p,l-p)),
p=c,(n.flags?d:r(d))!==n.check){e.msg="incorrect data check",n.mode=he;break}d=0,
f=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;32>f;){if(0===u)break e;u--,d+=i[s++]<<f,
f+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}
d=0,f=0}n.mode=de;case de:ke=A;break e;case he:ke=N;break e;case ve:return $;case fe:
default:return L}return e.next_out_index=l,e.avail_out=c,e.next_in_index=s,e.avail_in=u,
n.hold=d,n.bits=f,(n.wsize||p!==e.avail_out&&n.mode<he&&(n.mode<ue||t!==R))&&v(e,e.next_out,e.next_out_index,p-e.avail_out)?(n.mode=ve,
$):(m-=e.avail_in,p-=e.avail_out,e.total_in+=m,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=n.flags?x(n.check,o,p,e.next_out_index-p):y(n.check,o,p,e.next_out_index-p)),
e.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===ne||n.mode===K?256:0),
(0===m&&0===p||t===R)&&ke===P&&(ke=O),ke)}function m(e){var t=e.state;return t.window&&(t.window=null),
e.state=null,P}var p,b,g=e("./utils"),y=e("./adler32"),x=e("./crc32"),_=e("./inffast"),w=e("./inftrees"),S=0,k=1,C=2,R=4,M=5,E=6,P=0,A=1,T=2,L=-2,N=-3,$=-4,O=-5,V=8,j=1,z=2,I=3,D=4,G=5,B=6,U=7,H=8,F=9,q=10,W=11,Y=12,X=13,Z=14,K=15,J=16,Q=17,ee=18,te=19,ne=20,re=21,ie=22,ae=23,oe=24,se=25,le=26,ue=27,ce=28,de=29,he=30,ve=31,fe=32,me=852,pe=592,be=me+pe,ge=15,ye=ge,xe=!0;
n.inflateReset=s,n.inflateReset2=l,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=u,
n.inflatePrime=d,n.inflate=f,n.inflateEnd=m,n.inflateInfo="pako inflate (from Nodeca project)";
},{"./adler32":4,"./crc32":6,"./inffast":8,"./inftrees":10,"./utils":13}],10:[function(e,t,n){
var r=e("./utils"),i=15,a=852,o=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];
t.exports=function(e){var t,n,f,m,p,b,g,y,x,_=e.type,w=e.lens,S=e.codes,k=e.table,C=e.bits,R=e.work,M=0,E=0,P=0,A=0,T=0,L=0,N=0,$=0,O=0,V=0,j=null,z=0,I=new r.Buf16(i+1),D=new r.Buf16(i+1),G=null,B=0;
for(M=0;i>=M;M++)I[M]=0;for(E=0;S>E;E++)I[w[e.lens_index+E]]++;for(T=C,A=i;A>=1&&0===I[A];A--);
if(T>A&&(T=A),0===A)return k[e.table_index++]=20971520,k[e.table_index++]=20971520,
e.bits=1,0;for(P=1;A>P&&0===I[P];P++);for(P>T&&(T=P),$=1,M=1;i>=M;M++)if($<<=1,$-=I[M],
0>$)return-1;if($>0&&(_===s||1!==A))return-1;for(D[1]=0,M=1;i>M;M++)D[M+1]=D[M]+I[M];
for(E=0;S>E;E++)0!==w[e.lens_index+E]&&(R[D[w[e.lens_index+E]]++]=E);switch(_){case s:
j=G=R,b=19;break;case l:j=c,z-=257,G=d,B-=257,b=256;break;default:j=h,G=v,b=-1}if(V=0,
E=0,M=P,p=e.table_index,L=T,N=0,f=-1,O=1<<T,m=O-1,_===l&&O>a||_===u&&O>o)return 1;
for(var U=0;;){U++,g=M-N,R[E]<b?(y=0,x=R[E]):R[E]>b?(y=G[B+R[E]],x=j[z+R[E]]):(y=96,
x=0),t=1<<M-N,n=1<<L,P=n;do n-=t,k[p+(V>>N)+n]=g<<24|y<<16|x|0;while(0!==n);for(t=1<<M-1;V&t;)t>>=1;
if(0!==t?(V&=t-1,V+=t):V=0,E++,0===--I[M]){if(M===A)break;M=w[e.lens_index+R[E]]}
if(M>T&&(V&m)!==f){for(0===N&&(N=T),p+=P,L=M-N,$=1<<L;A>L+N&&($-=I[L+N],!(0>=$));)L++,
$<<=1;if(O+=1<<L,_===l&&O>a||_===u&&O>o)return 1;f=V&m,k[f]=T<<24|L<<16|p-e.table_index;
}}return 0!==V&&(k[p+V]=M-N<<24|64<<16|0),e.table_index+=O,e.bits=T,0}},{"./utils":13
}],11:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error",
"-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error",
"-6":"incompatible version"}},{}],12:[function(e,t,n){function r(e){for(var t=e.length;--t;)e[t]=0;
}function i(e){return 256>e?oe[e]:oe[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,
e.pending_buf[e.pending++]=t>>>8&255}function o(e,t,n){e.bi_valid>W-n?(e.bi_buf|=t<<e.bi_valid&65535,
a(e,e.bi_buf),e.bi_buf=t>>W-e.bi_valid,e.bi_valid+=n-W):(e.bi_buf|=t<<e.bi_valid&65535,
e.bi_valid+=n)}function s(e,t,n){o(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do n|=1&e,
e>>>=1,n<<=1;while(--t>0);return n>>>1}function u(e){16===e.bi_valid?(a(e,e.bi_buf),
e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,
e.bi_buf>>=8,e.bi_valid-=8)}function c(e,t){var n,r,i,a,o,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;
for(a=0;q>=a;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;F>n;n++)r=e.heap[n],
a=l[2*l[2*r+1]+1]+1,a>f&&(a=f,m++),l[2*r+1]=a,r>u||(e.bl_count[a]++,o=0,r>=v&&(o=h[r-v]),
s=l[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(c[2*r+1]+o)));if(0!==m){do{for(a=f-1;0===e.bl_count[a];)a--;
e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(a=f;0!==a;a--)for(r=e.bl_count[a];0!==r;)i=e.heap[--n],
i>u||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}function d(e,t,n){
var r,i,a=new Array(q+1),o=0;for(r=1;q>=r;r++)a[r]=o=o+n[r-1]<<1;for(i=0;t>=i;i++){
var s=e[2*i+1];0!==s&&(e[2*i]=l(a[s]++,s))}}function h(){var e,t,n,r,i,a=new Array(q+1);
for(n=0,r=0;D-1>r;r++)for(le[r]=n,e=0;e<1<<Q[r];e++)se[n++]=r;for(se[n-1]=r,i=0,r=0;16>r;r++)for(ue[r]=i,
e=0;e<1<<ee[r];e++)oe[i++]=r;for(i>>=7;U>r;r++)for(ue[r]=i<<7,e=0;e<1<<ee[r]-7;e++)oe[256+i++]=r;
for(t=0;q>=t;t++)a[t]=0;for(e=0;143>=e;)ie[2*e+1]=8,e++,a[8]++;for(;255>=e;)ie[2*e+1]=9,
e++,a[9]++;for(;279>=e;)ie[2*e+1]=7,e++,a[7]++;for(;287>=e;)ie[2*e+1]=8,e++,a[8]++;
for(d(ie,B+1,a),e=0;U>e;e++)ae[2*e+1]=5,ae[2*e]=l(e,5);ce=new ve(ie,Q,G+1,B,q),de=new ve(ae,ee,0,U,q),
he=new ve(new Array(0),te,0,H,Y)}function v(e){var t;for(t=0;B>t;t++)e.dyn_ltree[2*t]=0;
for(t=0;U>t;t++)e.dyn_dtree[2*t]=0;for(t=0;H>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*X]=1,
e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function f(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),
e.bi_buf=0,e.bi_valid=0}function m(e,t,n,r){f(e),r&&(a(e,n),a(e,~n)),A.arraySet(e.pending_buf,e.window,t,n,e.pending),
e.pending+=n}function p(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n];
}function b(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&p(t,e.heap[i+1],e.heap[i],e.depth)&&i++,
!p(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function g(e,t,n){
var r,a,l,u,c=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],
a=e.pending_buf[e.l_buf+c],c++,0===r?s(e,a,t):(l=se[a],s(e,l+G+1,t),u=Q[l],0!==u&&(a-=le[l],
o(e,a,u)),r--,l=i(r),s(e,l,n),u=ee[l],0!==u&&(r-=ue[l],o(e,r,u)));while(c<e.last_lit);
s(e,X,t)}function y(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;
for(e.heap_len=0,e.heap_max=F,n=0;l>n;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;
for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>u?++u:0,a[2*i]=1,e.depth[i]=0,e.opt_len--,
s&&(e.static_len-=o[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)b(e,a,n);i=l;
do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,
e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,
a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,b(e,a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],
c(e,t),d(a,u,e.bl_count)}function x(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,
u=3),t[2*(n+1)+1]=65535,r=0;n>=r;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(u>s?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,
e.bl_tree[2*Z]++):10>=s?e.bl_tree[2*K]++:e.bl_tree[2*J]++,s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,
u=3):(l=7,u=4))}function _(e,t,n){var r,i,a=-1,l=t[1],u=0,c=7,d=4;for(0===l&&(c=138,
d=3),r=0;n>=r;r++)if(i=l,l=t[2*(r+1)+1],!(++u<c&&i===l)){if(d>u){do s(e,i,e.bl_tree);while(0!==--u);
}else 0!==i?(i!==a&&(s(e,i,e.bl_tree),u--),s(e,Z,e.bl_tree),o(e,u-3,2)):10>=u?(s(e,K,e.bl_tree),
o(e,u-3,3)):(s(e,J,e.bl_tree),o(e,u-11,7));u=0,a=i,0===l?(c=138,d=3):i===l?(c=6,d=3):(c=7,
d=4)}}function w(e){var t;for(x(e,e.dyn_ltree,e.l_desc.max_code),x(e,e.dyn_dtree,e.d_desc.max_code),
y(e,e.bl_desc),t=H-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,
t}function S(e,t,n,r){var i;for(o(e,t-257,5),o(e,n-1,5),o(e,r-4,4),i=0;r>i;i++)o(e,e.bl_tree[2*ne[i]+1],3);
_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,n-1)}function k(e){var t,n=4093624447;for(t=0;31>=t;t++,
n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return L;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;
for(t=32;G>t;t++)if(0!==e.dyn_ltree[2*t])return N;return L}function C(e){me||(h(),
me=!0),e.l_desc=new fe(e.dyn_ltree,ce),e.d_desc=new fe(e.dyn_dtree,de),e.bl_desc=new fe(e.bl_tree,he),
e.bi_buf=0,e.bi_valid=0,v(e)}function R(e,t,n,r){o(e,(O<<1)+(r?1:0),3),m(e,t,n,!0);
}function M(e){o(e,V<<1,3),s(e,X,ie),u(e)}function E(e,t,n,r){var i,a,s=0;e.level>0?(e.strm.data_type===$&&(e.strm.data_type=k(e)),
y(e,e.l_desc),y(e,e.d_desc),s=w(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,i>=a&&(i=a)):i=a=n+5,
i>=n+4&&-1!==t?R(e,t,n,r):e.strategy===T||a===i?(o(e,(V<<1)+(r?1:0),3),g(e,ie,ae)):(o(e,(j<<1)+(r?1:0),3),
S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),g(e,e.dyn_ltree,e.dyn_dtree)),v(e),
r&&f(e)}function P(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,
e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,
t--,e.dyn_ltree[2*(se[n]+G+1)]++,e.dyn_dtree[2*i(t)]++),e.last_lit===e.lit_bufsize-1;
}var A=e("./utils"),T=4,L=0,N=1,$=2,O=0,V=1,j=2,z=3,I=258,D=29,G=256,B=G+1+D,U=30,H=19,F=2*B+1,q=15,W=16,Y=7,X=256,Z=16,K=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,ie=new Array(2*(B+2));
r(ie);var ae=new Array(2*U);r(ae);var oe=new Array(re);r(oe);var se=new Array(I-z+1);
r(se);var le=new Array(D);r(le);var ue=new Array(U);r(ue);var ce,de,he,ve=function(e,t,n,r,i){
this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,
this.has_stree=e&&e.length},fe=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t;
},me=!1;n._tr_init=C,n._tr_stored_block=R,n._tr_flush_block=E,n._tr_tally=P,n._tr_align=M;
},{"./utils":13}],13:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;
n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){
var n=t.shift();if(n){if("object"!==$traceurRuntime["typeof"](n))throw new TypeError(n+"must be non-object");
for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){
return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){
if(t.subarray)return void e.set(t.subarray(n,n+r),i);for(var a=0;r>a;a++)e[i+a]=t[n+a];
},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;n>t;t++)r+=e[t].length;
for(o=new Uint8Array(r),i=0,t=0,n=e.length;n>t;t++)a=e[t],o.set(a,i),i+=a.length;return o;
}},a={arraySet:function(e,t,n,r,i){for(var a=0;r>a;a++)e[i+a]=t[n+a]},flattenChunks:function(e){
return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,
n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a));
},n.setTyped(r)},{}],14:[function(e,t,n){function r(){this.next_in=null,this.next_in_index=0,
this.avail_in=0,this.total_in=0,this.next_out=null,this.next_out_index=0,this.avail_out=0,
this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r;
},{}]},{},[1])(1)});var e=window.pako;return{get default(){return e}}}),$traceurRuntime.registerModule("libs/paper",[],function(){
"use strict";var e=new function(t){var n=new function(){function e(e,t,r,i,o){function s(a,s){
s=s||(s=u(t,a))&&(s.get?s:s.value),"string"==typeof s&&"#"===s[0]&&(s=e[s.substring(1)]||s);
var c,h="function"==typeof s,v=s,f=o||h&&!s.base?s&&s.get?a in e:e[a]:null;o&&f||(h&&f&&(s.base=f),
h&&i!==!1&&(c=a.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),
v&&!h&&v.get&&"function"==typeof v.get&&n.isPlainObject(v)||(v={value:v,writable:!0
}),(u(e,a)||{configurable:!0}).configurable&&(v.configurable=!0,v.enumerable=r),d(e,a,v));
}var l={};if(t){for(var c in t)t.hasOwnProperty(c)&&!a.test(c)&&s(c);for(var c in l){
var h=l[c],v=e["set"+h],f=e["get"+h]||v&&e["is"+h];!f||i!==!0&&0!==f.length||s(c,{
get:f,set:v})}}return e}function r(e,t,n){return e&&("length"in e&&!e.getLength&&"number"==typeof e.length?o:s).call(e,t,n=n||e),
n}function i(e,t,n){for(var r in t)!t.hasOwnProperty(r)||n&&n[r]||(e[r]=t[r]);return e;
}var a=/^(statics|enumerable|beans|preserve)$/,o=[].forEach||function(e,t){for(var n=0,r=this.length;r>n;n++)e.call(t,this[n],n,this);
},s=function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this);
},l=Object.create||function(e){return{__proto__:e}},u=Object.getOwnPropertyDescriptor||function(e,t){
var n=e.__lookupGetter__&&e.__lookupGetter__(t);return n?{get:n,set:e.__lookupSetter__(t),
enumerable:!0,configurable:!0}:e.hasOwnProperty(t)?{value:e[t],enumerable:!0,configurable:!0,
writable:!0}:null},c=Object.defineProperty||function(e,t,n){return(n.get||n.set)&&e.__defineGetter__?(n.get&&e.__defineGetter__(t,n.get),
n.set&&e.__defineSetter__(t,n.set)):e[t]=n.value,e},d=function(e,t,n){return delete e[t],
c(e,t,n)};return e(function(){for(var e=0,t=arguments.length;t>e;e++)i(this,arguments[e]);
},{inject:function(t){if(t){var n=t.statics===!0?t:t.statics,r=t.beans,i=t.preserve;
n!==t&&e(this.prototype,t,t.enumerable,r,i),e(this,n,!0,r,i)}for(var a=1,o=arguments.length;o>a;a++)this.inject(arguments[a]);
return this},extend:function(){for(var t,n,r=this,i=0,a=arguments.length;a>i&&!(t=arguments[i].initialize);i++);
return t=t||function(){r.apply(this,arguments)},n=t.prototype=l(this.prototype),d(n,"constructor",{
value:t,writable:!0,configurable:!0}),e(t,this,!0),arguments.length&&this.inject.apply(t,arguments),
t.base=r,t}},!0).inject({inject:function(){for(var t=0,n=arguments.length;n>t;t++){
var r=arguments[t];r&&e(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){
var e=l(this);return e.inject.apply(e,arguments)},each:function(e,t){return r(this,e,t);
},set:function(e){return i(this,e)},clone:function(){return new this.constructor(this);
},statics:{each:r,create:l,define:d,describe:u,set:i,clone:function(e){return i(new e.constructor,e);
},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===n||"Object"===t.name);
},pick:function(e,n){return e!==t?e:n}}})};"undefined"!=typeof module&&(module.exports=n),
n.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+n.each(this,function(e,t){
if(!/^_/.test(t)){var n="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);
this.push(t+": "+("number"===n?o.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }";
},getClassName:function(){return this._class||""},exportJSON:function(e){return n.exportJSON(this,e);
},toJSON:function(){return n.serialize(this)},_set:function(e,r,i){if(e&&(i||n.isPlainObject(e))){
for(var a=Object.keys(e._filtering||e),o=0,s=a.length;s>o;o++){var l=a[o];if(!r||!r[l]){
var u=e[l];u!==t&&(this[l]=u)}}return!0}},statics:{exports:{enumerable:!0},extend:function ne(){
var e=ne.base.apply(this,arguments),t=e.prototype._class;return t&&!n.exports[t]&&(n.exports[t]=e),
e},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);
if(e&&t&&"object"===("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))&&"object"===("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))){
if(Array.isArray(e)&&Array.isArray(t)){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!n.equals(e[r],t[r]))return!1;
}else{var i=Object.keys(e),r=i.length;if(r!==Object.keys(t).length)return!1;for(;r--;){
var a=i[r];if(!t.hasOwnProperty(a)||!n.equals(e[a],t[a]))return!1}}return!0}return!1;
},read:function(e,r,i,a){if(this===n){var o=this.peek(e,r);return e.__index++,o}var s=this.prototype,l=s._readIndex,u=r||l&&e.__index||0;
a||(a=e.length-u);var c=e[u];return c instanceof this||i&&i.readNull&&null==c&&1>=a?(l&&(e.__index=u+1),
c&&i&&i.clone?c.clone():c):(c=n.create(this.prototype),l&&(c.__read=!0),c=c.initialize.apply(c,u>0||a<e.length?Array.prototype.slice.call(e,u,u+a):e)||c,
l&&(e.__index=u+c.__read,c.__read=t),c)},peek:function(e,t){return e[e.__index=t||e.__index||0];
},remain:function(e){return e.length-(e.__index||0)},readAll:function(e,t,n){for(var r,i=[],a=t||0,o=e.length;o>a;a++)i.push(Array.isArray(r=e[a])?this.read(r,0,n):this.read(e,a,n,1));
return i},readNamed:function(e,r,i,a,o){var s=this.getNamed(e,r),l=s!==t;if(l){var u=e._filtered;
u||(u=e._filtered=n.create(e[0]),u._filtering=e[0]),u[r]=t}return this.read(l?[s]:e,i,a,o);
},getNamed:function(e,r){var i=e[0];return e._hasObject===t&&(e._hasObject=1===e.length&&n.isPlainObject(i)),
e._hasObject?r?i[r]:e._filtered||i:void 0},hasNamed:function(e,t){return!!this.getNamed(e,t);
},isPlainValue:function(e,t){return this.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e;
},serialize:function(e,t,r,i){t=t||{};var a,s=!i;if(s&&(t.formatter=new o(t.precision),
i={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,r=this.references[n];
if(!r){this.length++;var i=t.call(e),a=e._class;a&&i[0]!==a&&i.unshift(a),this.definitions[n]=i,
r=this.references[n]=[n]}return r}}),e&&e._serialize){a=e._serialize(t,i);var l=e._class;
!l||r||a._compact||a[0]===l||a.unshift(l)}else if(Array.isArray(e)){a=[];for(var u=0,c=e.length;c>u;u++)a[u]=n.serialize(e[u],t,r,i);
r&&(a._compact=!0)}else if(n.isPlainObject(e)){a={};for(var d=Object.keys(e),u=0,c=d.length;c>u;u++){
var h=d[u];a[h]=n.serialize(e[h],t,r,i)}}else a="number"==typeof e?t.formatter.number(e,t.precision):e;
return s&&i.length>0?[["dictionary",i.definitions],a]:a},deserialize:function(e,t,r,i){
var a=e,o=!r;if(r=r||{},Array.isArray(e)){var s=e[0],l="dictionary"===s;if(1==e.length&&/^#/.test(s))return r.dictionary[s];
s=n.exports[s],a=[],i&&(r.dictionary=a);for(var u=s?1:0,c=e.length;c>u;u++)a.push(n.deserialize(e[u],t,r,l));
if(s){var d=a;t?a=t(s,d):(a=n.create(s.prototype),s.apply(a,d))}}else if(n.isPlainObject(e)){
a={},i&&(r.dictionary=a);for(var h in e)a[h]=n.deserialize(e[h],t,r)}return o&&e&&e.length&&"dictionary"===e[0][0]?a[1]:a;
},exportJSON:function(e,t){var r=n.serialize(e,t);return t&&t.asString===!1?r:JSON.stringify(r);
},importJSON:function(e,t){return n.deserialize("string"==typeof e?JSON.parse(e):e,function(e,r){
var i=t&&t.constructor===e,a=i?t:n.create(e.prototype),o=i?a._initialize||a._set:e;
if(1===r.length&&a instanceof y&&(i||!(a instanceof _))){var s=r[0];n.isPlainObject(s)&&(s.insert=!1);
}return o.apply(a,r),i&&(t=null),a})},splice:function(e,n,r,i){var a=n&&n.length,o=r===t;
r=o?e.length:r,r>e.length&&(r=e.length);for(var s=0;a>s;s++)n[s]._index=r+s;if(o)return e.push.apply(e,n),
[];var l=[r,i];n&&l.push.apply(l,n);for(var u=e.splice.apply(e,l),s=0,c=u.length;c>s;s++)u[s]._index=t;
for(var s=r+a,c=e.length;c>s;s++)e[s]._index=s;return u},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){
return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){
return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();
}}});var r={on:function(e,t){if("string"!=typeof e)n.each(e,function(e,t){this.on(t,e);
},this);else{var r=this._eventTypes,i=r&&r[e],a=this._callbacks=this._callbacks||{};
a=a[e]=a[e]||[],-1===a.indexOf(t)&&(a.push(t),i&&i.install&&1===a.length&&i.install.call(this,e));
}return this},off:function(e,t){if("string"!=typeof e)return void n.each(e,function(e,t){
this.off(t,e)},this);var r,i=this._eventTypes,a=i&&i[e],o=this._callbacks&&this._callbacks[e];
return o&&(!t||-1!==(r=o.indexOf(t))&&1===o.length?(a&&a.uninstall&&a.uninstall.call(this,e),
delete this._callbacks[e]):-1!==r&&o.splice(r,1)),this},once:function(e,t){return this.on(e,function(){
t.apply(this,arguments),this.off(e,t)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];
if(!n)return!1;var r=[].slice.call(arguments,1);n=n.slice();for(var i=0,a=n.length;a>i;i++)if(n[i].apply(this,r)===!1){
t&&t.stop&&t.stop();break}return!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e]);
},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._callbacks,n=e?"install":"uninstall";
for(var r in t)if(t[r].length>0){var i=this._eventTypes,a=i&&i[r],o=a&&a[n];o&&o.call(this,r);
}},statics:{inject:function re(e){var t=e._events;if(t){var r={};n.each(t,function(t,i){
var a="string"==typeof t,o=a?t:i,s=n.capitalize(o),l=o.substring(2).toLowerCase();
r[l]=a?{}:t,o="_"+o,e["get"+s]=function(){return this[o]},e["set"+s]=function(e){
var t=this[o];t&&this.off(l,t),e&&this.on(l,e),this[o]=e}}),e._eventTypes=r}return re.base.apply(this,arguments);
}}},i=n.extend({_class:"PaperScope",initialize:function ie(){e=this,this.settings=new n({
applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],
this.palettes=[],this._id=ie._id++,ie._scopes[this._id]=this;var t=ie.prototype;if(!this.support){
var r=J.getContext(1,1);t.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:Q.nativeModes
},J.release(r)}if(!this.browser){var i=navigator.userAgent.toLowerCase(),a=(/(win)/.exec(i)||/(mac)/.exec(i)||/(linux)/.exec(i)||[])[0],o=t.browser={
platform:a};a&&(o[a]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(e,t,n,r,i){
if(!o.chrome){var a="opera"===t?r:n;"trident"===t&&(a=i,t="msie"),o.version=a,o.versionNumber=parseFloat(a),
o.name=t,o[t]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.9.25",
getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this;
},execute:function(t,n,r){e.PaperScript.execute(t,this,n,r),U.updateFocus()},install:function(e){
var t=this;n.each(["project","view","tool"],function(r){n.define(e,r,{configurable:!0,
get:function(){return t[r]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(e[r]=this[r]);
},setup:function(t){return e=this,this.project=new b(t),this},activate:function(){
e=this},clear:function(){for(var e=this.projects,t=this.tools,n=this.palettes,r=e.length-1;r>=0;r--)e[r].remove();
for(var r=t.length-1;r>=0;r--)t[r].remove();for(var r=n.length-1;r>=0;r--)n[r].remove();
},remove:function(){this.clear(),delete i._scopes[this._id]},statics:new function(){
function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n);
}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),
hasAttribute:e("has")}}}),a=n.extend(r,{initialize:function(t){this._scope=e,this._index=this._scope[this._list].push(this)-1,
!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;
var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,
this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this;
},remove:function(){return null==this._index?!1:(n.splice(this._scope[this._list],null,this._index,1),
this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,
!0)},getView:function(){return this._scope.getView()}}),o=n.extend({initialize:function(e){
this.precision=n.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){
return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){
return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y);
},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},
rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});o.instance=new o;
var s=new function(){function e(e,t,n){return t>e?t:e>n?n:e}var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],n=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,i=Math.sqrt,a=Math.pow,o=1e-12,l=1.12e-16;
return{TOLERANCE:1e-6,EPSILON:o,MACHINE_EPSILON:l,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:2e-7,
WINDING_EPSILON:2e-7,TRIGONOMETRIC_EPSILON:1e-7,CLIPPING_EPSILON:1e-7,KAPPA:4*(i(2)-1)/3,
isZero:function(e){return e>=-o&&o>=e},clamp:e,integrate:function(e,r,i,a){for(var o=t[a-2],s=n[a-2],l=.5*(i-r),u=l+r,c=0,d=a+1>>1,h=1&a?s[c++]*e(u):0;d>c;){
var v=l*o[c];h+=s[c++]*(e(u+v)+e(u-v))}return l*h},findRoot:function(e,t,n,i,a,o,s){
for(var l=0;o>l;l++){var u=e(n),c=u/t(n),d=n-c;if(r(c)<s)return d;u>0?(a=n,n=i>=d?.5*(i+a):d):(i=n,
n=d>=a?.5*(i+a):d)}return n},solveQuadratic:function(t,n,s,u,c,d){var h,v,f=0,m=c-o,p=d+o,b=1/0,g=n;
if(n/=-2,v=n*n-t*s,0!==v&&r(v)<l){var y=a(r(t*n*s),1/3);if(1e-8>y){var x=a(10,r(Math.floor(Math.log(y)*Math.LOG10E)));
isFinite(x)||(x=0),t*=x,n*=x,s*=x,v=n*n-t*s}}if(r(t)<o){if(r(g)<o)return r(s)<o?-1:0;
h=-s/g}else if(v>=-l){var _=0>v?0:i(v),w=n+(0>n?-_:_);0===w?(h=s/t,b=-h):(h=w/t,b=s/w);
}return isFinite(h)&&(null==c||h>m&&p>h)&&(u[f++]=null==c?h:e(h,c,d)),b!==h&&isFinite(b)&&(null==c||b>m&&p>b)&&(u[f++]=null==c?b:e(b,c,d)),
f},solveCubic:function(t,n,u,c,d,h,v){var f,m,p,b=0;if(r(t)<o)t=n,m=u,p=c,f=1/0;else if(r(c)<o)m=n,
p=u,f=0;else{var g,y,x,_,w,S,k,C=1+l;if(f=-(n/t)/3,k=t*f,m=k+n,p=m*f+u,x=(k+m)*f+p,
y=p*f+c,_=y/t,w=a(r(_),1/3),S=0>_?-1:1,_=-x/t,w=_>0?1.3247179572*Math.max(w,i(_)):w,
g=f-S*w,g!==f){do f=g,k=t*f,m=k+n,p=m*f+u,x=(k+m)*f+p,y=p*f+c,g=0===x?f:f-y/x/C;while(S*g>S*f);
r(t)*f*f>r(c/f)&&(p=-c/f,m=(p-u)/f)}}var b=s.solveQuadratic(t,m,p,d,h,v);return isFinite(f)&&(0===b||f!==d[b-1])&&(null==h||f>h-o&&v+o>f)&&(d[b++]=null==h?f:e(f,h,v)),
b}}},l={_id:1,_pools:{},get:function(e){if(e){var t=e._class,n=this._pools[t];return n||(n=this._pools[t]={
_id:1}),n._id++}return this._id++}},u=n.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){
var n="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);if("number"===n){
var r="number"==typeof t;this.x=e,this.y=r?t:e,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===e?(this.x=this.y=0,
this.__read&&(this.__read=null===e?1:0)):(Array.isArray(e)?(this.x=e[0],this.y=e.length>1?e[1]:e[0]):null!=e.x?(this.x=e.x,
this.y=e.y):null!=e.width?(this.x=e.width,this.y=e.height):null!=e.angle?(this.x=e.length,
this.y=0,this.setAngle(e.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1));
},set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1;
},clone:function(){return new u(this.x,this.y)},toString:function(){var e=o.instance;
return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){
var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){
return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){
var t=this._angle||0;this.set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();
s.isZero(n)&&this.getAngle(),this.set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI;
},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",
setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=u.read(arguments),t=this.getLength()*e.getLength();
if(s.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(-1>n?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);
},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();
this.set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3;
}},{beans:!1,getDirectedAngle:function(){var e=u.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI;
},getDistance:function(){var e=u.read(arguments),t=e.x-this.x,r=e.y-this.y,i=t*t+r*r,a=n.read(arguments);
return a?i:Math.sqrt(i)},normalize:function(e){e===t&&(e=1);var n=this.getLength(),r=0!==n?e/n:0,i=new u(this.x*r,this.y*r);
return r>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(0===e)return this.clone();
e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new u(n.x*i-n.y*r,n.x*r+n.y*i),
t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){
var e=u.read(arguments);return new u(this.x+e.x,this.y+e.y)},subtract:function(){
var e=u.read(arguments);return new u(this.x-e.x,this.y-e.y)},multiply:function(){
var e=u.read(arguments);return new u(this.x*e.x,this.y*e.y)},divide:function(){var e=u.read(arguments);
return new u(this.x/e.x,this.y/e.y)},modulo:function(){var e=u.read(arguments);return new u(this.x%e.x,this.y%e.y);
},negate:function(){return new u(-this.x,-this.y)},isInside:function(){return v.read(arguments).contains(this);
},isClose:function(){var e=u.read(arguments),t=n.read(arguments);return this.getDistance(e)<t;
},isCollinear:function(){var e=u.read(arguments);return u.isCollinear(this.x,this.y,e.x,e.y);
},isColinear:"#isCollinear",isOrthogonal:function(){var e=u.read(arguments);return u.isOrthogonal(this.x,this.y,e.x,e.y);
},isZero:function(){return s.isZero(this.x)&&s.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y);
},dot:function(){var e=u.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){
var e=u.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=u.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);
return new u(e.x*t,e.y*t)},statics:{min:function(){var e=u.read(arguments),t=u.read(arguments);
return new u(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=u.read(arguments),t=u.read(arguments);
return new u(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new u(Math.random(),Math.random());
},isCollinear:function(e,t,n,r){return Math.abs(e*r-t*n)<=1e-7*Math.sqrt((e*e+t*t)*(n*n+r*r));
},isOrthogonal:function(e,t,n,r){return Math.abs(e*n+t*r)<=1e-7*Math.sqrt((e*e+t*t)*(n*n+r*r));
}}},n.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){
return new u(t(this.x),t(this.y))}},{})),c=u.extend({initialize:function(e,t,n,r){
this._x=e,this._y=t,this._owner=n,this._setter=r},set:function(e,t,n){return this._x=e,
this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x;
},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y;
},setY:function(e){this._y=e,this._owner[this._setter](this)}}),d=n.extend({_class:"Size",
_readIndex:!0,initialize:function(e,t){var n="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);
if("number"===n){var r="number"==typeof t;this.width=e,this.height=r?t:e,this.__read&&(this.__read=r?2:1);
}else"undefined"===n||null===e?(this.width=this.height=0,this.__read&&(this.__read=null===e?1:0)):(Array.isArray(e)?(this.width=e[0],
this.height=e.length>1?e[1]:e[0]):null!=e.width?(this.width=e.width,this.height=e.height):null!=e.x?(this.width=e.x,
this.height=e.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1));
},set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1;
},clone:function(){return new d(this.width,this.height)},toString:function(){var e=o.instance;
return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){
var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){
var e=d.read(arguments);return new d(this.width+e.width,this.height+e.height)},subtract:function(){
var e=d.read(arguments);return new d(this.width-e.width,this.height-e.height)},multiply:function(){
var e=d.read(arguments);return new d(this.width*e.width,this.height*e.height)},divide:function(){
var e=d.read(arguments);return new d(this.width/e.width,this.height/e.height)},modulo:function(){
var e=d.read(arguments);return new d(this.width%e.width,this.height%e.height)},negate:function(){
return new d(-this.width,-this.height)},isZero:function(){return s.isZero(this.width)&&s.isZero(this.height);
},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){
return new d(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){
return new d(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){
return new d(Math.random(),Math.random())}}},n.each(["round","ceil","floor","abs"],function(e){
var t=Math[e];this[e]=function(){return new d(t(this.width),t(this.height))}},{})),h=d.extend({
initialize:function(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r;
},set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),
this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,
this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){
this._height=e,this._owner[this._setter](this)}}),v=n.extend({_class:"Rectangle",
_readIndex:!0,beans:!0,initialize:function(e,r,i,a){var o="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e),s=0;
if("number"===o?(this.x=e,this.y=r,this.width=i,this.height=a,s=4):"undefined"===o||null===e?(this.x=this.y=this.width=this.height=0,
s=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this.x=e[0],this.y=e[1],
this.width=e[2],this.height=e[3],s=1):e.x!==t||e.width!==t?(this.x=e.x||0,this.y=e.y||0,
this.width=e.width||0,this.height=e.height||0,s=1):e.from===t&&e.to===t&&(this.x=this.y=this.width=this.height=0,
this._set(e),s=1)),!s){var l=u.readNamed(arguments,"from"),c=n.peek(arguments);if(this.x=l.x,
this.y=l.y,c&&c.x!==t||n.hasNamed(arguments,"to")){var h=u.readNamed(arguments,"to");
this.width=h.x-l.x,this.height=h.y-l.y,this.width<0&&(this.x=h.x,this.width=-this.width),
this.height<0&&(this.y=h.y,this.height=-this.height)}else{var v=d.read(arguments);
this.width=v.width,this.height=v.height}s=arguments.__index}this.__read&&(this.__read=s);
},set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},
clone:function(){return new v(this.x,this.y,this.width,this.height)},equals:function(e){
var t=n.isPlainValue(e)?v.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1;
},toString:function(){var e=o.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }";
},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)];
},getPoint:function(e){var t=e?u:c;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){
var e=u.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?d:h;return new t(this.width,this.height,this,"setSize");
},setSize:function(){var e=d.read(arguments);this._fixX&&(this.x+=(this.width-e.width)*this._fixX),
this._fixY&&(this.y+=(this.height-e.height)*this._fixY),this.width=e.width,this.height=e.height,
this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(e){
this._fixW||(this.width-=e-this.x),this.x=e,this._fixX=0},getTop:function(){return this.y;
},setTop:function(e){this._fixH||(this.height-=e-this.y),this.y=e,this._fixY=0},getRight:function(){
return this.x+this.width},setRight:function(e){this._fixX!==t&&1!==this._fixX&&(this._fixW=0),
this._fixW?this.x=e-this.width:this.width=e-this.x,this._fixX=1},getBottom:function(){
return this.y+this.height},setBottom:function(e){this._fixY!==t&&1!==this._fixY&&(this._fixH=0),
this._fixH?this.y=e-this.height:this.height=e-this.y,this._fixY=1},getCenterX:function(){
return this.x+.5*this.width},setCenterX:function(e){this.x=e-.5*this.width,this._fixX=.5;
},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(e){this.y=e-.5*this.height,
this._fixY=.5},getCenter:function(e){var t=e?u:c;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter");
},setCenter:function(){var e=u.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),
this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height;
},contains:function(e){return e&&e.width!==t||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(v.read(arguments)):this._containsPoint(u.read(arguments));
},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height;
},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height;
},intersects:function(){var e=v.read(arguments);return e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x+this.width&&e.y<this.y+this.height;
},touches:function(){var e=v.read(arguments);return e.x+e.width>=this.x&&e.y+e.height>=this.y&&e.x<=this.x+this.width&&e.y<=this.y+this.height;
},intersect:function(){var e=v.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);
return new v(t,n,r-t,i-n)},unite:function(){var e=v.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);
return new v(t,n,r-t,i-n)},include:function(){var e=u.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);
return new v(t,n,r-t,i-n)},expand:function(){var e=d.read(arguments),t=e.width,n=e.height;
return new v(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,n){
return this.expand(this.width*e-this.width,this.height*(n===t?e:n)-this.height)}},n.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){
var n=e.join(""),r=/^[RL]/.test(n);t>=4&&(e[1]+=r?"Y":"X");var i=e[r?0:1],a=e[r?1:0],o="get"+i,s="get"+a,l="set"+i,d="set"+a,h="get"+n,v="set"+n;
this[h]=function(e){var t=e?u:c;return new t(this[o](),this[s](),this,v)},this[v]=function(){
var e=u.read(arguments);this[l](e.x),this[d](e.y)}},{beans:!0})),f=v.extend({initialize:function(e,t,n,r,i,a){
this.set(e,t,n,r,!0),this._owner=i,this._setter=a},set:function(e,t,n,r,i){return this._x=e,
this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){
var e=v.prototype;return n.each(["x","y","width","height"],function(e){var t=n.capitalize(e),r="_"+e;
this["get"+t]=function(){return this[r]},this["set"+t]=function(e){this[r]=e,this._dontNotify||this._owner[this._setter](this);
}},n.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){
var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,
this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected;
},setSelected:function(e){var t=this._owner;t.setSelected&&(t._boundsSelected=e,t.setSelected(e||t._selectedSegmentState>0));
}}))}),m=n.extend({_class:"Matrix",initialize:function ae(e){var t=arguments.length,n=!0;
if(6===t?this.set.apply(this,arguments):1===t?e instanceof ae?this.set(e._a,e._c,e._b,e._d,e._tx,e._ty):Array.isArray(e)?this.set.apply(this,e):n=!1:0===t?this.reset():n=!1,
!n)throw new Error("Unsupported matrix parameters")},set:function(e,t,n,r,i,a,o){
return this._a=e,this._c=t,this._b=n,this._d=r,this._tx=i,this._ty=a,o||this._changed(),
this},_serialize:function(e){return n.serialize(this.getValues(),e)},_changed:function(){
var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(9))},clone:function(){
return new m(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(e){
return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty||!1;
},toString:function(){var e=o.instance;return"[["+[e.number(this._a),e.number(this._b),e.number(this._tx)].join(", ")+"], ["+[e.number(this._c),e.number(this._d),e.number(this._ty)].join(", ")+"]]";
},reset:function(e){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,
e||this._changed(),this},apply:function(e,t){var r=this._owner;return r?(r.transform(null,!0,n.pick(e,!0),t),
this.isIdentity()):!1},translate:function(){var e=u.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._b,
this._ty+=t*this._c+n*this._d,this._changed(),this},scale:function(){var e=u.read(arguments),t=u.read(arguments,0,{
readNull:!0});return t&&this.translate(t),this._a*=e.x,this._c*=e.x,this._b*=e.y,
this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){
e*=Math.PI/180;var t=u.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),a=Math.sin(e),o=n-n*i+r*a,s=r-n*a-r*i,l=this._a,c=this._b,d=this._c,h=this._d;
return this._a=i*l+a*c,this._b=-a*l+i*c,this._c=i*d+a*h,this._d=-a*d+i*h,this._tx+=o*l+s*c,
this._ty+=o*d+s*h,this._changed(),this},shear:function(){var e=u.read(arguments),t=u.read(arguments,0,{
readNull:!0});t&&this.translate(t);var n=this._a,r=this._c;return this._a+=e.y*this._b,
this._c+=e.y*this._d,this._b+=e.x*n,this._d+=e.x*r,t&&this.translate(t.negate()),
this._changed(),this},skew:function(){var e=u.read(arguments),t=u.read(arguments,0,{
readNull:!0}),n=Math.PI/180,r=new u(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(r,t);
},concatenate:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,a=e._a,o=e._b,s=e._c,l=e._d,u=e._tx,c=e._ty;
return this._a=a*t+s*n,this._b=o*t+l*n,this._c=a*r+s*i,this._d=o*r+l*i,this._tx+=u*t+c*n,
this._ty+=u*r+c*i,this._changed(),this},preConcatenate:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,a=this._tx,o=this._ty,s=e._a,l=e._b,u=e._c,c=e._d,d=e._tx,h=e._ty;
return this._a=s*t+l*r,this._b=s*n+l*i,this._c=u*t+c*r,this._d=u*n+c*i,this._tx=s*a+l*o+d,
this._ty=u*a+c*o+h,this._changed(),this},chain:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,a=this._tx,o=this._ty,s=e._a,l=e._b,u=e._c,c=e._d,d=e._tx,h=e._ty;
return new m(s*t+u*n,s*r+u*i,l*t+c*n,l*r+c*i,a+d*t+h*n,o+d*r+h*i)},isIdentity:function(){
return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty;
},orNullIfIdentity:function(){return this.isIdentity()?null:this},isInvertible:function(){
return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant();
},transform:function(e,t,n){return arguments.length<3?this._transformPoint(u.read(arguments)):this._transformCoordinates(e,t,n);
},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return t||(t=new u),t.set(r*this._a+i*this._b+this._tx,r*this._c+i*this._d+this._ty,n);
},_transformCoordinates:function(e,t,n){for(var r=0,i=0,a=2*n;a>r;){var o=e[r++],s=e[r++];
t[i++]=o*this._a+s*this._b+this._tx,t[i++]=o*this._c+s*this._d+this._ty}return t},
_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,a=[t,n,r,n,r,i,t,i];
return this._transformCoordinates(a,a,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),a=i.slice(),o=2;8>o;o++){
var s=r[o],l=1&o;s<i[l]?i[l]=s:s>a[l]&&(a[l]=s)}return t||(t=new v),t.set(i[0],i[1],a[0]-i[0],a[1]-i[1],n);
},inverseTransform:function(){return this._inverseTransform(u.read(arguments))},_getDeterminant:function(){
var e=this._a*this._d-this._b*this._c;return isFinite(e)&&!s.isZero(e)&&isFinite(this._tx)&&isFinite(this._ty)?e:null;
},_inverseTransform:function(e,t,n){var r=this._getDeterminant();if(!r)return null;
var i=e.x-this._tx,a=e.y-this._ty;return t||(t=new u),t.set((i*this._d-a*this._b)/r,(a*this._a-i*this._c)/r,n);
},decompose:function(){var e=this._a,t=this._b,n=this._c,r=this._d;if(s.isZero(e*r-t*n))return null;
var i=Math.sqrt(e*e+t*t);e/=i,t/=i;var a=e*n+t*r;n-=e*a,r-=t*a;var o=Math.sqrt(n*n+r*r);
return n/=o,r/=o,a/=o,t*n>e*r&&(e=-e,t=-t,a=-a,i=-i),{scaling:new u(i,o),rotation:180*-Math.atan2(t,e)/Math.PI,
shearing:a}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty];
},getTranslation:function(){return new u(this._tx,this._ty)},getScaling:function(){
return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation;
},inverted:function(){var e=this._getDeterminant();return e&&new m(this._d/e,-this._c/e,-this._b/e,this._a/e,(this._b*this._ty-this._d*this._tx)/e,(this._c*this._tx-this._a*this._ty)/e);
},shiftless:function(){return new m(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(e){
this.isIdentity()||e.transform(this._a,this._c,this._b,this._d,this._tx,this._ty);
}},n.each(["a","c","b","d","tx","ty"],function(e){var t=n.capitalize(e),r="_"+e;this["get"+t]=function(){
return this[r]},this["set"+t]=function(e){this[r]=e,this._changed()}},{})),p=n.extend({
_class:"Line",initialize:function(e,t,n,r,i){var a=!1;arguments.length>=4?(this._px=e,
this._py=t,this._vx=n,this._vy=r,a=i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,
a=n),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new u(this._px,this._py);
},getVector:function(){return new u(this._vx,this._vy)},getLength:function(){return this.getVector().getLength();
},intersect:function(e,t){return p.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t);
},getSide:function(e,t){return p.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t);
},getDistance:function(e){return Math.abs(p.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0));
},isCollinear:function(e){return u.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){
return u.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,r,i,a,o,l,c,d){
c||(n-=e,r-=t,o-=i,l-=a);var h=n*l-r*o;if(!s.isZero(h)){var v=e-i,f=t-a,m=(o*f-l*v)/h,p=(n*f-r*v)/h,b=1e-12,g=-b,y=1+b;
if(d||m>g&&y>m&&p>g&&y>p)return d||(m=0>=m?0:m>=1?1:m),new u(e+m*n,t+m*r)}},getSide:function(e,t,n,r,i,a,o,s){
o||(n-=e,r-=t);var l=i-e,u=a-t,c=l*r-u*n;return 0!==c||s||(c=(l*n+l*n)/(n*n+r*r),
c>=0&&1>=c&&(c=0)),0>c?-1:c>0?1:0},getSignedDistance:function(e,t,n,r,i,a,o){return o||(n-=e,
r-=t),0===n?r>0?i-e:e-i:0===r?0>n?a-t:t-a:((i-e)*r-(a-t)*n)/Math.sqrt(n*n+r*r)}}}),b=a.extend({
_class:"Project",_list:"projects",_reference:"project",initialize:function(e){a.call(this,!0),
this._children=[],this._namedChildren={},this._activeLayer=null,this.symbols=[],this._currentStyle=new D(null,null,this),
this._view=U.create(this,e||J.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,
this._updateVersion=0},_serialize:function(e,t){return n.serialize(this._children,e,!0,t);
},_changed:function(e,t){1&e&&(this._needsUpdate=!0);var n=this._changes;if(n&&t){
var r=this._changesById,i=t._id,a=r[i];a?a.flags|=e:n.push(r[i]={item:t,flags:e});
}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove();this.symbols=[];
},isEmpty:function(){return 0===this._children.length},remove:function oe(){return oe.base.call(this)?(this._view&&this._view.remove(),
!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle;
},setCurrentStyle:function(e){this._currentStyle.initialize(e)},getIndex:function(){
return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){
return this._children},getActiveLayer:function(){return this._activeLayer||new _({
project:this})},getSelectedItems:function(){var e=this._selectedItems,t=[];for(var n in e){
var r=e[n];r.isInserted()?t.push(r):(this._selectedItemCount--,delete e[n])}return t;
},_updateSelection:function(e){var t=e._id,n=this._selectedItems;e._selected?n[t]!==e&&(this._selectedItemCount++,
n[t]=e):n[t]===e&&(this._selectedItemCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;n>t;t++)e[t].setFullySelected(!0);
},deselectAll:function(){var e=this._selectedItems;for(var t in e)e[t].setFullySelected(!1);
},hitTest:function(){for(var e=u.read(arguments),t=C.getOptions(n.read(arguments)),r=this._children,i=r.length-1;i>=0;i--){
var a=r[i]._hitTest(e,t);if(a)return a}return null},addLayer:function(e){return this.insertLayer(t,e);
},insertLayer:function(e,t){return t instanceof _?(t._remove(!1,!0),n.splice(this._children,[t],e,0),
t._setProject(this,!0),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)):t=null,
t},_insertItem:function(e,n,r,i){return n=this.insertLayer(e,n)||(this._activeLayer||this._insertItem(t,new _(y.NO_INSERT),!0,!0)).insertChild(e,n,r),
i&&n.activate&&n.activate(),n},getItems:function(e){return y._getItems(this,e)},getItem:function(e){
return y._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();
var t=this._activeLayer;return n.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){
var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var r in n){
var i=n[r];for(var a in t){var o=t[a];o&&o!=n&&delete o[i._id]}i.remove()}t[e]=null;
}}},draw:function(e,t,r){this._updateVersion++,e.save(),t.applyToContext(e);for(var i=this._children,a=new n({
offset:new u(0,0),pixelRatio:r,viewMatrix:t.isIdentity()?null:t,matrices:[new m],
updateMatrix:!0}),o=0,s=i.length;s>o;o++)i[o].draw(e,a);if(e.restore(),this._selectedItemCount>0){
e.save(),e.strokeWidth=1;var l=this._selectedItems,c=this._scope.settings.handleSize,d=this._updateVersion;
for(var h in l)l[h]._drawSelection(e,t,c,l,d);e.restore()}}}),g=n.extend({_class:"Symbol",
initialize:function(t,n){this._id=l.get(),this.project=e.project,this.project.symbols.push(this),
t&&this.setDefinition(t,n)},_serialize:function(e,t){return t.add(this,function(){
return n.serialize([this._class,this._definition],e,!1,t)})},_changed:function(e){
8&e&&y._clearBoundsCache(this),1&e&&this.project._changed(e)},getDefinition:function(){
return this._definition},setDefinition:function(e,t){e._parentSymbol&&(e=e.clone()),
this._definition&&(this._definition._parentSymbol=null),this._definition=e,e.remove(),
e.setSelected(!1),t||e.setPosition(new u),e._parentSymbol=this,this._changed(9)},
place:function(e){return new k(this,e)},clone:function(){return new g(this._definition.clone(!1));
},equals:function(e){return e===this||e&&this.definition.equals(e.definition)||!1;
}}),y=n.extend(r,{statics:{extend:function se(e){return e._serializeFields&&(e._serializeFields=new n(this.prototype._serializeFields,e._serializeFields)),
se.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,
_canApplyMatrix:!0,_canScaleStroke:!1,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{
name:null,applyMatrix:null,matrix:new m,pivot:null,locked:!1,visible:!0,blendMode:"normal",
opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(r,i){
var a=r&&n.isPlainObject(r),o=a&&r.internal===!0,s=this._matrix=new m,u=a&&r.project||e.project;
return this._id=o?null:l.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&e.settings.applyMatrix,
i&&s.translate(i),s._owner=this,this._style=new D(u._currentStyle,this,u),o||a&&r.insert===!1?this._setProject(u):(a&&r.parent||u)._insertItem(t,this,!0,!0),
a&&r!==y.NO_INSERT&&this._set(r,{internal:!0,insert:!0,project:!0,parent:!0},!0),
a},_events:n.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(e){
this[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){
this.getView()._countItemEvent(e,-1)}}},{onFrame:{install:function(){this.getView()._animateItem(this,!0);
},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{}}),_serialize:function(e,t){
function r(r){for(var o in r){var s=a[o];n.equals(s,"leading"===o?1.2*r.fontSize:r[o])||(i[o]=n.serialize(s,e,"data"!==o,t));
}}var i={},a=this;return r(this._serializeFields),this instanceof x||r(this._style._defaults),
[this._class,i]},_changed:function(e){var n=this._parentSymbol,r=this._parent||n,i=this._project;
8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=t),r&&40&e&&y._clearBoundsCache(r),
2&e&&y._clearBoundsCache(this),i&&i._changed(e,this),n&&n._changed(e)},set:function(e){
return e&&this._set(e),this},getId:function(){return this._id},getName:function(){
return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");
var n=this._getOwner();if(e&&n){var r=n._children,i=n._namedChildren;(i[e]=i[e]||[]).push(this),
e in r||(r[e]=this)}this._name=e||t,this._changed(128)},getStyle:function(){return this._style;
},setStyle:function(e){this.getStyle().set(e)}},n.each(["locked","visible","blendMode","opacity","guide"],function(e){
var t=n.capitalize(e),e="_"+e;this["get"+t]=function(){return this[e]},this["set"+t]=function(t){
t!=this[e]&&(this[e]=t,this._changed("_locked"===e?128:129))}},{}),{beans:!0,_locked:!1,
_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;n>t;t++)if(e[t].isSelected())return!0;
return this._selected},setSelected:function(e,t){if(!t&&this._selectChildren)for(var n=this._children,r=0,i=n.length;i>r;r++)n[r].setSelected(e);
if((e=!!e)^this._selected){this._selected=e;var a=this._project;a&&(a._updateSelection(this),
this._changed(129))}},_selected:!1,isFullySelected:function(){var e=this._children;
if(e&&this._selected){for(var t=0,n=e.length;n>t;t++)if(!e[t].isFullySelected())return!1;
return!0}return this._selected},setFullySelected:function(e){var t=this._children;
if(t)for(var n=0,r=t.length;r>n;n++)t[n].setFullySelected(e);this.setSelected(e,!0);
},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,
e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024));
},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},
setData:function(e){this._data=e},getPosition:function(e){var t=this._position,n=e?u:c;
if(!t){var r=this._pivot;t=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0);
}return new n(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(u.read(arguments).subtract(this.getPosition(!0)));
},getPivot:function(e){var t=this._pivot;if(t){var n=e?u:c;t=new n(t.x,t.y,this,"setPivot");
}return t},setPivot:function(){this._pivot=u.read(arguments,0,{clone:!0,readNull:!0
}),this._position=t},_pivot:null},n.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalHandleBounds","internalRoughBounds"],function(e){
var t="get"+n.capitalize(e),r=e.match(/^internal(.*)$/),i=r?"get"+r[1]:null;this[t]=function(n){
var r=this._boundsGetter,a=!i&&("string"==typeof r?r:r&&r[t])||t,o=this._getCachedBounds(a,n,this,i);
return"bounds"===e?new f(o.x,o.y,o.width,o.height,this,"setBounds"):o}},{beans:!0,
_getBounds:function(e,t,n){var r=this._children;if(!r||0===r.length)return new v;y._updateBoundsCache(this,n);
for(var i=1/0,a=-i,o=i,s=a,l=0,u=r.length;u>l;l++){var c=r[l];if(c._visible&&!c.isEmpty()){
var d=c._getCachedBounds(e,t&&t.chain(c._matrix),n);i=Math.min(d.x,i),o=Math.min(d.y,o),
a=Math.max(d.x+d.width,a),s=Math.max(d.y+d.height,s)}}return isFinite(i)?new v(i,o,a-i,s-o):new v;
},setBounds:function(){var e=v.read(arguments),t=this.getBounds(),n=new m,r=e.getCenter();
n.translate(r),e.width==t.width&&e.height==t.height||n.scale(0!==t.width?e.width/t.width:1,0!==t.height?e.height/t.height:1),
r=t.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getCachedBounds:function(e,t,n,r){
t=t&&t.orNullIfIdentity();var i=r?null:this._matrix.orNullIfIdentity(),a=(!t||t.equals(i))&&e;
if(y._updateBoundsCache(this._parent||this._parentSymbol,n),a&&this._bounds&&this._bounds[a])return this._bounds[a].clone();
var o=this._getBounds(r||e,t||i,n);if(a){this._bounds||(this._bounds={});var s=this._bounds[a]=o.clone();
s._internal=!!r}return o},statics:{_updateBoundsCache:function(e,t){if(e){var n=t._id,r=e._boundsCache=e._boundsCache||{
ids:{},list:[]};r.ids[n]||(r.list.push(t),r.ids[n]=t)}},_clearBoundsCache:function(e){
var n=e._boundsCache;if(n){e._bounds=e._position=e._boundsCache=t;for(var r=0,i=n.list,a=i.length;a>r;r++){
var o=i[r];o!==e&&(o._bounds=o._position=t,o._boundsCache&&y._clearBoundsCache(o));
}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose();
},getRotation:function(){var e=this._decomposed||this._decompose();return e&&e.rotation;
},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;
this.rotate(e-t),n.rotation=e,this._decomposed=n}},getScaling:function(e){var t=this._decomposed||this._decompose(),n=t&&t.scaling,r=e?u:c;
return n&&new r(n.x,n.y,this,"setScaling")},setScaling:function(){var e=this.getScaling();
if(e){var t=u.read(arguments,0,{clone:!0}),n=this._decomposed;this.scale(t.x/e.x,t.y/e.y),
n.scaling=t,this._decomposed=n}},getMatrix:function(){return this._matrix},setMatrix:function(){
var e=this._matrix;e.initialize.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix,n=this._project._updateVersion;
if(t&&t._updateVersion!==n&&(t=null),!t){t=this._globalMatrix=this._matrix.clone();
var r=this._parent;r&&t.preConcatenate(r.getGlobalMatrix(!0)),t._updateVersion=n}
return e?t:t.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){
(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",
setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project;
},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),
this._project=e;for(var n=this._children,r=0,i=n&&n.length;i>r;r++)n[r]._setProject(e);
t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function le(e){
le.base.call(this,e);for(var t=this._children,n=0,r=t&&t.length;r>n;n++)t[n]._installEvents(e);
},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof _)return e;return null;
},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this);
},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e,t){
this.removeChildren(),this.addChildren(e,t)},getFirstChild:function(){return this._children&&this._children[0]||null;
},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null;
},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null;
},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null;
},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1;
},_equals:function(e){return n.equals(this._children,e._children)},clone:function(e){
var n=new this.constructor(y.NO_INSERT),r=this._children;r&&n.copyAttributes(this),
n.copyContent(this),r||n.copyAttributes(this),(e===t||e)&&n.insertAbove(this);var i=this._name,a=this._parent;
if(i&&a){for(var r=a._children,o=i,s=1;r[i];)i=o+" "+s++;i!==o&&n.setName(i)}return n;
},copyContent:function(e){for(var t=e._children,n=0,r=t&&t.length;r>n;n++)this.addChild(t[n].clone(!1),!0);
},copyAttributes:function(e,t){this.setStyle(e._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,a=r.length;a>i;i++){
var o=r[i];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.initialize(e._matrix),
this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelected(e._selected);
var s=e._data,l=e._name;this._data=s?n.clone(s):null,l&&this.setName(l)},rasterize:function(e,r){
var i=this.getStrokeBounds(),a=(e||this.getView().getResolution())/72,o=i.getTopLeft().floor(),s=i.getBottomRight().ceil(),l=new d(s.subtract(o)),u=new S(y.NO_INSERT);
if(!l.isZero()){var c=J.getCanvas(l.multiply(a)),h=c.getContext("2d"),v=(new m).scale(a).translate(o.negate());
h.save(),v.applyToContext(h),this.draw(h,new n({matrices:[v]})),h.restore(),u.setCanvas(c);
}return u.transform((new m).translate(o.add(l.divide(2))).scale(1/a)),(r===t||r)&&u.insertAbove(this),
u},contains:function(){return!!this._contains(this._matrix._inverseTransform(u.read(arguments)));
},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;
return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return v.read(arguments).contains(this.getBounds());
},_asPathItem:function(){return new T.Rectangle({rectangle:this.getInternalBounds(),
matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof y?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1;
},hitTest:function(){return this._hitTest(u.read(arguments),C.getOptions(n.read(arguments)));
},_hitTest:function(e,t){function r(t,r){var i=v["get"+r]();return e.subtract(i).divide(l).length<=1?new C(t,h,{
name:n.hyphenate(r),point:i}):void 0}if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;
var i=this._matrix,a=t._totalMatrix,o=this.getView(),s=t._totalMatrix=a?a.chain(i):this.getGlobalMatrix().preConcatenate(o._matrix),l=t._tolerancePadding=new d(T._getPenPadding(1,s.inverted())).multiply(Math.max(t.tolerance,1e-6));
if(e=i._inverseTransform(e),!e||!this._children&&!this.getInternalRoughBounds().expand(l.multiply(2))._containsPoint(e))return null;
var u,c=!(t.guides&&!this._guide||t.selected&&!this._selected||t.type&&t.type!==n.hyphenate(this._class)||t["class"]&&!(this instanceof t["class"])),h=this;
if(c&&(t.center||t.bounds)&&this._parent){var v=this.getInternalBounds();if(t.center&&(u=r("center","Center")),
!u&&t.bounds)for(var f=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],m=0;8>m&&!u;m++)u=r("bounds",f[m]);
}var p=!u&&this._children;if(p)for(var b=this._getChildHitTestOptions(t),m=p.length-1;m>=0&&!u;m--)u=p[m]._hitTest(e,b);
return!u&&c&&(u=this._hitTestSelf(e,t)),u&&u.point&&(u.point=i.transform(u.point)),
t._totalMatrix=a,u},_getChildHitTestOptions:function(e){return e},_hitTestSelf:function(e,t){
return t.fill&&this.hasFill()&&this._contains(e)?new C("fill",this):void 0},matches:function(e,t){
function r(e,t){for(var i in e)if(e.hasOwnProperty(i)){var a=e[i],o=t[i];if(n.isPlainObject(a)&&n.isPlainObject(o)){
if(!r(a,o))return!1}else if(!n.equals(a,o))return!1}return!0}var i="undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e);
if("object"===i){for(var a in e)if(e.hasOwnProperty(a)&&!this.matches(a,e[a]))return!1;
return!0}if("function"===i)return e(this);if("match"===e)return t(this);var o=/^(empty|editable)$/.test(e)?this["is"+n.capitalize(e)]():"type"===e?n.hyphenate(this._class):this[e];
if("class"===e){if("function"==typeof t)return this instanceof t;o=this._class}return t instanceof RegExp?t.test(o):"function"==typeof t?!!t(o):n.isPlainObject(t)?r(t,o):n.equals(o,t);
},getItems:function(e){return y._getItems(this,e,this._matrix)},getItem:function(e){
return y._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function ue(e,t,r,i,a){
if(!i){var o="object"===("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))&&t,s=o&&o.overlapping,l=o&&o.inside,u=s||l,c=u&&v.read([u]);
i={items:[],recursive:o&&o.recursive!==!1,inside:!!l,overlapping:!!s,rect:c,path:s&&new T.Rectangle({
rectangle:c,insert:!1})},o&&(t=n.set({},t,{recursive:!0,inside:!0,overlapping:!0}));
}var d=e._children,h=i.items,c=i.rect;r=c&&(r||new m);for(var f=0,p=d&&d.length;p>f;f++){
var b=d[f],g=r&&r.chain(b._matrix),y=!0;if(c){var u=b.getBounds(g);if(!c.intersects(u))continue;
c.contains(u)||i.overlapping&&(u.contains(c)||i.path.intersects(b,g))||(y=!1)}if(y&&b.matches(t)&&(h.push(b),
a))break;if(i.recursive!==!1&&ue(b,t,g,i,a),a&&h.length>0)break}return h}}},{importJSON:function(e){
var t=n.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e,n){
return this.insertChild(t,e,n)},insertChild:function(e,t,n){var r=t?this.insertChildren(e,[t],n):null;
return r&&r[0]},addChildren:function(e,t){return this.insertChildren(this._children.length,e,t);
},insertChildren:function(e,t,r,i){var a=this._children;if(a&&t&&t.length>0){t=Array.prototype.slice.apply(t);
for(var o=t.length-1;o>=0;o--){var s=t[o];if(!i||s instanceof i){var l=s._parent===this&&s._index<e;
s._remove(!1,!0)&&l&&e--}else t.splice(o,1)}n.splice(a,t,e,0);for(var u=this._project,c=u&&u._changes,o=0,d=t.length;d>o;o++){
var s=t[o];s._parent=this,s._setProject(this._project,!0),s._name&&s.setName(s._name),
c&&this._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",
insertAbove:function(e,t){var n=e&&e._getOwner();return n?n._insertItem(e._index+1,this,t):null;
},insertBelow:function(e,t){var n=e&&e._getOwner();return n?n._insertItem(e._index,this,t):null;
},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null;
},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(t,this):null;
},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",
moveBelow:"#insertBelow",copyTo:function(e){return e._insertItem(t,this.clone(!1));
},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);
return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n.copyAttributes(this),
n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],a=i?i.indexOf(this):-1;
-1!==a&&(t[r]==this&&delete t[r],i.splice(a,1),i.length?t[r]=i[0]:delete n[r])}},
_remove:function(e,t){var r=this._getOwner(),i=this._project,a=this._index;return r&&null!=a?(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),
this._name&&this._removeNamed(),n.splice(r._children,null,a,1),this._installEvents(!1),
e&&i._changes&&this._changed(5),t&&r._changed(11,this),this._parent=null,!0):!1},
remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);
return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;
e=e||0,t=n.pick(t,this._children.length);for(var r=n.splice(this._children,null,e,t-e),i=r.length-1;i>=0;i--)r[i]._remove(!0,!1);
return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){
if(this._children){this._children.reverse();for(var e=0,t=this._children.length;t>e;e++)this._children[e]._index=e;
this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length;
},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent;
}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){
return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow();
},_getOrder:function(e){function t(e){var t=[];do t.unshift(e);while(e=e._parent);
return t}for(var n=t(this),r=t(e),i=0,a=Math.min(n.length,r.length);a>i;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;
return 0},hasChildren:function(){return this._children&&this._children.length>0},
isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){
return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){
return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){
for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1;
},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){
for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;
t=t._parent}return!1}},n.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;
this[e]=function(){var r=(t?n:u).read(arguments),i=u.read(arguments,0,{readNull:!0
});return this.transform((new m)[e](r,i||this.getPosition(!0)))}},{translate:function(){
var e=new m;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n,r){
e&&e.isIdentity()&&(e=null);var i=this._matrix,a=(t||this._applyMatrix)&&(!i.isIdentity()||e||t&&n&&this._children);
if(!e&&!a)return this;if(e&&i.preConcatenate(e),a=a&&this._transformContent(i,n,r)){
var o=this._pivot,s=this._style,l=s.getFillColor(!0),u=s.getStrokeColor(!0);o&&i._transformPoint(o,o,!0),
l&&l.transform(i),u&&u.transform(i),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0);
}var c=this._bounds,d=this._position;this._changed(9);var h=c&&e&&e.decompose();if(h&&!h.shearing&&h.rotation%90===0){
for(var v in c){var f=c[v];!a&&f._internal||e._transformBounds(f,f)}var m=this._boundsGetter,f=c[m&&m.getBounds||m||"getBounds"];
f&&(this._position=f.getCenter(!0)),this._bounds=c}else e&&d&&(this._position=e._transformPoint(d,d));
return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,a=r.length;a>i;i++)r[i].transform(e,!0,t,n);
return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(u.read(arguments));
},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(u.read(arguments));
},parentToLocal:function(){return this._matrix._inverseTransform(u.read(arguments));
},localToParent:function(){return this._matrix._transformPoint(u.read(arguments));
},fitBounds:function(e,t){e=v.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,a=(t?r>i:i>r)?e.width/n.width:e.height/n.height,o=new v(new u,new d(n.width*a,n.height*a));
o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(t){var n=this._style,r=n.getFillColor(),i=n.getStrokeColor(),a=n.getShadowColor();
if(r&&(t.fillStyle=r.toCanvasStyle(t)),i){var o=n.getStrokeWidth();if(o>0){t.strokeStyle=i.toCanvasStyle(t),
t.lineWidth=o;var s=n.getStrokeJoin(),l=n.getStrokeCap(),u=n.getMiterLimit();if(s&&(t.lineJoin=s),
l&&(t.lineCap=l),u&&(t.miterLimit=u),e.support.nativeDash){var c=n.getDashArray(),d=n.getDashOffset();
c&&c.length&&("setLineDash"in t?(t.setLineDash(c),t.lineDashOffset=d):(t.mozDash=c,
t.mozDashOffset=d))}}}if(a){var h=n.getShadowBlur();if(h>0){t.shadowColor=a.toCanvasStyle(t),
t.shadowBlur=h;var v=this.getShadowOffset();t.shadowOffsetX=v.x,t.shadowOffsetY=v.y;
}}},draw:function(e,t,n){function r(e){return o?o.chain(e):e}var i=this._updateVersion=this._project._updateVersion;
if(this._visible&&0!==this._opacity){var a=t.matrices,o=t.viewMatrix,s=this._matrix,l=a[a.length-1].chain(s);
if(l.isInvertible()){a.push(l),t.updateMatrix&&(l._updateVersion=i,this._globalMatrix=l);
var u,c,d,h=this._blendMode,v=this._opacity,f="normal"===h,m=Q.nativeModes[h],p=f&&1===v||t.dontStart||t.clip||(m||f&&1>v)&&this._canComposite(),b=t.pixelRatio||1;
if(!p){var g=this.getStrokeBounds(r(l));if(!g.width||!g.height)return;d=t.offset,
c=t.offset=g.getTopLeft().floor(),u=e,e=J.getContext(g.getSize().ceil().add(1).multiply(b)),
1!==b&&e.scale(b,b)}e.save();var y=n?n.chain(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r(l),x=!p&&t.clipItem,_=!y||x;
if(p?(e.globalAlpha=v,m&&(e.globalCompositeOperation=h)):_&&e.translate(-c.x,-c.y),
_&&(p?s:r(l)).applyToContext(e),x&&t.clipItem.draw(e,t.extend({clip:!0})),y){e.setTransform(b,0,0,b,0,0);
var w=t.offset;w&&e.translate(-w.x,-w.y)}this._draw(e,t,y),e.restore(),a.pop(),t.clip&&!t.dontFinish&&e.clip(),
p||(Q.process(h,e,u,v,c.subtract(d).multiply(b)),J.release(e),t.offset=d)}}},_isUpdated:function(e){
var t=this._parent;if(t instanceof L)return t._isUpdated(e);var n=this._updateVersion===e;
return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){
if((this._drawSelected||this._boundsSelected)&&this._isUpdated(i)){var a,o=this.getSelectedColor(!0)||(a=this.getLayer())&&a.getSelectedColor(!0),s=t.chain(this.getGlobalMatrix(!0));
if(e.strokeStyle=e.fillStyle=o?o.toCanvasStyle(e):"#009dec",this._drawSelected&&this._drawSelected(e,s,r),
this._boundsSelected){var l=n/2,u=s._transformCorners(this.getInternalBounds());e.beginPath();
for(var c=0;8>c;c++)e[0===c?"moveTo":"lineTo"](u[c],u[++c]);e.closePath(),e.stroke();
for(var c=0;8>c;c++)e.fillRect(u[c]-l,u[++c]-l,n,n)}}},_canComposite:function(){return!1;
}},n.each(["down","drag","up","move"],function(e){this["removeOn"+n.capitalize(e)]=function(){
var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){
var n="mouse"+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this;
}return this}})),x=y.extend({_class:"Group",_selectChildren:!0,_serializeFields:{
children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments);
},_changed:function ce(e){ce.base.call(this,e),1026&e&&(this._clipItem=t)},_getClipItem:function(){
var e=this._clipItem;if(e===t){e=null;for(var n=this._children,r=0,i=n.length;i>r;r++)if(n[r]._clipMask){
e=n[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem();
},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_draw:function(e,t){
var n=t.clip,r=!n&&this._getClipItem(),i=!0;if(t=t.extend({clipItem:r,clip:!1}),n?(e.beginPath(),
t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0})),i)for(var a=this._children,o=0,s=a.length;s>o;o++){
var l=a[o];l!==r&&l.draw(e,t)}}}),_=x.extend({_class:"Layer",initialize:function(){
x.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project;
},isInserted:function de(){return this._parent?de.base.call(this):null!=this._index;
},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){return null;
}}),w=y.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,
_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e){
this._initialize(e)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&n.equals(this._radius,e._radius);
},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius);
},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",
setShape:"#setType",getSize:function(){var e=this._size;return new h(e.width,e.height,this,"setSize");
},setSize:function(){var e=d.read(arguments);if(this._size){if(!this._size.equals(e)){
var t=this._type,n=e.width,r=e.height;if("rectangle"===t){var i=d.min(this._radius,e.divide(2));
this._radius.set(i.width,i.height)}else"circle"===t?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===t&&this._radius.set(n/2,r/2);
this._size.set(n,r),this._changed(9)}}else this._size=e.clone()},getRadius:function(){
var e=this._radius;return"circle"===this._type?e:new h(e.width,e.height,this,"setRadius");
},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;
var n=2*e;this._radius=e,this._size.set(n,n)}else if(e=d.read(arguments),this._radius){
if(this._radius.equals(e))return;if(this._radius.set(e.width,e.height),"rectangle"===t){
var n=d.max(this._size,e.multiply(2));this._size.set(n.width,n.height)}else"ellipse"===t&&this._size.set(2*e.width,2*e.height);
}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(r){
var i=new(T[n.capitalize(this._type)])({center:new u,size:this._size,radius:this._radius,
insert:!1});return i.copyAttributes(this),e.settings.applyMatrix&&i.setApplyMatrix(!0),
(r===t||r)&&i.insertAbove(this),i},toShape:"#clone",_draw:function(e,t,n){var r=this._style,i=r.hasFill(),a=r.hasStroke(),o=t.dontFinish||t.clip,s=!n;
if(i||a||o){var l=this._type,u=this._radius,c="circle"===l;if(t.dontStart||e.beginPath(),
s&&c)e.arc(0,0,u,0,2*Math.PI,!0);else{var d=c?u:u.width,h=c?u:u.height,v=this._size,f=v.width,m=v.height;
if(s&&"rectangle"===l&&0===d&&0===h)e.rect(-f/2,-m/2,f,m);else{var p=f/2,b=m/2,g=.44771525016920644,y=d*g,x=h*g,_=[-p,-b+h,-p,-b+x,-p+y,-b,-p+d,-b,p-d,-b,p-y,-b,p,-b+x,p,-b+h,p,b-h,p,b-x,p-y,b,p-d,b,-p+d,b,-p+y,b,-p,b-x,-p,b-h];
n&&n.transform(_,_,32),e.moveTo(_[0],_[1]),e.bezierCurveTo(_[2],_[3],_[4],_[5],_[6],_[7]),
p!==d&&e.lineTo(_[8],_[9]),e.bezierCurveTo(_[10],_[11],_[12],_[13],_[14],_[15]),b!==h&&e.lineTo(_[16],_[17]),
e.bezierCurveTo(_[18],_[19],_[20],_[21],_[22],_[23]),p!==d&&e.lineTo(_[24],_[25]),
e.bezierCurveTo(_[26],_[27],_[28],_[29],_[30],_[31])}}e.closePath()}o||!i&&!a||(this._setStyles(e),
i&&(e.fill(r.getFillRule()),e.shadowBlur=0),a&&e.stroke())},_canComposite:function(){
return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new v(this._size).setCenter(0,0),r="getStrokeBounds"===e&&this.hasStroke()&&this.getStrokeWidth(),i=r&&this.getStrokeScaling();
return r&&i&&(n=n.expand(r)),t&&(n=t._transformBounds(n)),r&&!i&&(n=n.expand(r)),
n}},new function(){function e(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),a=0;4>a;a++){
var o=new u(1&a?1:-1,a>1?1:-1),s=o.multiply(i),l=s.subtract(o.multiply(r)),c=new v(s,l);
if((n?c.expand(n):c).contains(t))return l}}function t(e,t){var n=e.getAngleInRadians(),r=2*t.width,i=2*t.height,a=r*Math.sin(n),o=i*Math.cos(n);
return r*i/(2*Math.sqrt(a*a+o*o))}return{_contains:function n(t){if("rectangle"===this._type){
var r=e(this,t);return r?t.subtract(r).divide(this._radius).getLength()<=1:n.base.call(this,t);
}return t.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,i){var a=!1;
if(this.hasStroke()){var o=this._type,s=this._radius,l=this.getStrokeWidth()+2*i.tolerance;
if("rectangle"===o){var u=e(this,n,l);if(u){var c=n.subtract(u);a=2*Math.abs(c.getLength()-t(c,s))<=l;
}else{var d=new v(this._size).setCenter(0,0),h=d.expand(l),f=d.expand(-l);a=h._containsPoint(n)&&!f._containsPoint(n);
}}else"ellipse"===o&&(s=t(n,s)),a=2*Math.abs(n.getLength()-s)<=l}return a?new C("stroke",this):r.base.apply(this,arguments);
}}},{statics:new function(){function e(e,t,r,i,a){var o=new w(n.getNamed(a));return o._type=e,
o._size=r,o._radius=i,o.translate(t)}return{Circle:function(){var t=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"radius");
return e("circle",t,new d(2*r),r,arguments)},Rectangle:function(){var t=v.readNamed(arguments,"rectangle"),n=d.min(d.readNamed(arguments,"radius"),t.getSize(!0).divide(2));
return e("rectangle",t.getCenter(!0),t.getSize(!0),n,arguments)},Ellipse:function(){
var t=w._readEllipse(arguments),n=t.radius;return e("ellipse",t.center,n.multiply(2),n,arguments);
},_readEllipse:function(e){var t,r;if(n.hasNamed(e,"radius"))t=u.readNamed(e,"center"),
r=d.readNamed(e,"radius");else{var i=v.readNamed(e,"rectangle");t=i.getCenter(!0),
r=i.getSize(!0).divide(2)}return{center:t,radius:r}}}}}),S=y.extend({_class:"Raster",
_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{
crossOrigin:null,source:null},initialize:function(e,n){this._initialize(e,n!==t&&u.read(arguments,1))||("string"==typeof e?this.setSource(e):this.setImage(e)),
this._size||(this._size=new d,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource();
},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this.setImage(t);else if(n){
var r=J.getCanvas(e._size);r.getContext("2d").drawImage(n,0,0),this.setImage(r)}this._crossOrigin=e._crossOrigin;
},getSize:function(){var e=this._size;return new h(e?e.width:0,e?e.height:0,this,"setSize");
},setSize:function(){var e=d.read(arguments);if(!e.equals(this._size))if(e.width>0&&e.height>0){
var t=this.getElement();this.setImage(J.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height);
}else this._canvas&&J.release(this._canvas),this._size=e.clone()},getWidth:function(){
return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight());
},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){
this.setSize(this.getWidth(),e)},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height;
},getResolution:function(){var e=this._matrix,t=new u(0,0).transform(e),n=new u(1,0).transform(e).subtract(t),r=new u(0,1).transform(e).subtract(t);
return new d(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){
return this._image},setImage:function(e){this._canvas&&J.release(this._canvas),e&&e.getContext?(this._image=null,
this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=e&&e.complete),
this._size=new d(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,
this._changed(521)},getCanvas:function(){if(!this._canvas){var e=J.getContext(this._size);
try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){J.release(e);
}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),
e&&(this._image=null,this._changed(513)),this._context},setContext:function(e){this._context=e;
},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(t){
function n(){var t=i.getView();t&&(e=t._scope,i.setImage(r),i.emit("load"),t.update());
}var r,i=this,a=this._crossOrigin;r=document.getElementById(t)||new Image,a&&(r.crossOrigin=a),
r.naturalWidth&&r.naturalHeight?setTimeout(n,0):(B.add(r,{load:n}),r.src||(r.src=t)),
this.setImage(r)},getCrossOrigin:function(){return this._image&&this._image.crossOrigin||this._crossOrigin||"";
},setCrossOrigin:function(e){this._crossOrigin=e,this._image&&(this._image.crossOrigin=e);
},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,
getSubCanvas:function(){var e=v.read(arguments),t=J.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),
t.canvas},getSubRaster:function(){var e=v.read(arguments),t=new S(y.NO_INSERT);return t.setImage(this.getSubCanvas(e)),
t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.preConcatenate(this._matrix),
t.insertAbove(this),t},toDataURL:function(){var e=this._image&&this._image.src;if(/^data:/.test(e))return e;
var t=this.getCanvas();return t?t.toDataURL.apply(t,arguments):null},drawImage:function(e){
var t=u.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){
var t,r;e?e instanceof A?(r=e,t=e.getBounds()):e.width?t=new v(e):e.x&&(t=new v(e.x-.5,e.y-.5,1,1)):t=this.getBounds();
var i=32,a=Math.min(t.width,i),o=Math.min(t.height,i),s=S._sampleContext;s?s.clearRect(0,0,i+1,i+1):s=S._sampleContext=J.getContext(new d(i)),
s.save();var l=(new m).scale(a/t.width,o/t.height).translate(-t.x,-t.y);l.applyToContext(s),
r&&r.draw(s,new n({clip:!0,matrices:[l]})),this._matrix.applyToContext(s);var u=this.getElement(),c=this._size;
u&&s.drawImage(u,-c.width/2,-c.height/2),s.restore();for(var h=s.getImageData(.5,.5,Math.ceil(a),Math.ceil(o)).data,f=[0,0,0],p=0,b=0,g=h.length;g>b;b+=4){
var y=h[b+3];p+=y,y/=255,f[0]+=h[b]*y,f[1]+=h[b+1]*y,f[2]+=h[b+2]*y}for(var b=0;3>b;b++)f[b]/=p;
return p?j.read(f):null},getPixel:function(){var e=u.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;
return new j("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=u.read(arguments),t=j.read(arguments),n=t._convert("rgb"),r=t._alpha,i=this.getContext(!0),a=i.createImageData(1,1),o=a.data;
o[0]=255*n[0],o[1]=255*n[1],o[2]=255*n[2],o[3]=null!=r?255*r:255,i.putImageData(a,e.x,e.y);
},createImageData:function(){var e=d.read(arguments);return this.getContext().createImageData(e.width,e.height);
},getImageData:function(){var e=v.read(arguments);return e.isEmpty()&&(e=new v(this._size)),
this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){
var t=u.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){
var n=new v(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(e){
if(this._contains(e)){var t=this;return new C("pixel",t,{offset:e.add(t._size.divide(2)).round(),
color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e){var t=this.getElement();
t&&(e.globalAlpha=this._opacity,e.drawImage(t,-this._size.width/2,-this._size.height/2));
},_canComposite:function(){return!0}}),k=y.extend({_class:"PlacedSymbol",_applyMatrix:!1,
_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,
_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==t&&u.read(arguments,1))||this.setSymbol(e instanceof g?e:new g(e));
},_equals:function(e){return this._symbol===e._symbol},copyContent:function(e){this.setSymbol(e._symbol);
},getSymbol:function(){return this._symbol},setSymbol:function(e){this._symbol=e,
this._changed(9)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(e,t,n){
var r=this.symbol._definition;return r._getCachedBounds(e,t&&t.chain(r._matrix),n);
},_hitTestSelf:function(e,t){var n=this._symbol._definition._hitTest(e,t);return n&&(n.item=this),
n},_draw:function(e,t){this.symbol._definition.draw(e,t)}}),C=n.extend({_class:"HitResult",
initialize:function(e,t,n){this.type=e,this.item=t,n&&(n.enumerable=!0,this.inject(n));
},statics:{getOptions:function(t){return new n({type:null,tolerance:e.settings.hitTolerance,
fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1
},t)}}}),R=n.extend({_class:"Segment",beans:!0,initialize:function(e,n,r,i,a,o){var s,l,u,c=arguments.length;
0===c||(1===c?e&&"point"in e?(s=e.point,l=e.handleIn,u=e.handleOut):s=e:2===c&&"number"==typeof e?s=arguments:3>=c?(s=e,
l=n,u=r):(s=e!==t?[e,n]:null,l=r!==t?[r,i]:null,u=a!==t?[a,o]:null)),new M(s,this,"_point"),
new M(l,this,"_handleIn"),new M(u,this,"_handleOut")},_serialize:function(e){return n.serialize(this.hasHandles()?[this._point,this._handleIn,this._handleOut]:this._point,e,!0);
},_changed:function(e){var t=this._path;if(t){var n,r=t._curves,i=this._index;r&&(e&&e!==this._point&&e!==this._handleIn||!(n=i>0?r[i-1]:t._closed?r[r.length-1]:null)||n._changed(),
e&&e!==this._point&&e!==this._handleOut||!(n=r[i])||n._changed()),t._changed(25)}
},getPoint:function(){return this._point},setPoint:function(){var e=u.read(arguments);
this._point.set(e.x,e.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){
var e=u.read(arguments);this._handleIn.set(e.x,e.y)},getHandleOut:function(){return this._handleOut;
},setHandleOut:function(){var e=u.read(arguments);this._handleOut.set(e.x,e.y)},hasHandles:function(){
return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){
this._handleIn.set(0,0),this._handleOut.set(0,0)},_selectionState:0,isSelected:function(e){
var t=this._selectionState;return e?e===this._point?!!(4&t):e===this._handleIn?!!(1&t):e===this._handleOut?!!(2&t):!1:!!(7&t);
},setSelected:function(e,t){var n=this._path,e=!!e,r=this._selectionState,i=r,a=t?t===this._point?4:t===this._handleIn?1:t===this._handleOut?2:0:7;
e?r|=a:r&=~a,this._selectionState=r,n&&r!==i&&(n._updateSelection(this,i,r),n._changed(129));
},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){
return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,
e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new P(e,this===e._segment1?0:1):null;
},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null;
},smooth:function(e,n,r){var i=e||{},a=i.type,o=i.factor,s=this.getPrevious(),l=this.getNext(),c=(s||this)._point,d=this._point,h=(l||this)._point,v=c.getDistance(d),f=d.getDistance(h);
if(a&&"catmull-rom"!==a){if("geometric"!==a)throw new Error("Smoothing method '"+a+"' not supported.");
if(s&&l){var m=c.subtract(h),p=o===t?.4:o,b=p*v/(v+f);n||this.setHandleIn(m.multiply(b)),
r||this.setHandleOut(m.multiply(b-p))}}else{var g=o===t?.5:o,y=Math.pow(v,g),x=y*y,_=Math.pow(f,g),w=_*_;
if(!n&&s){var S=2*w+3*_*y+x,k=3*_*(_+y);this.setHandleIn(0!==k?new u((w*c._x+S*d._x-x*h._x)/k-d._x,(w*c._y+S*d._y-x*h._y)/k-d._y):new u);
}if(!r&&l){var S=2*x+3*y*_+w,k=3*y*(y+_);this.setHandleOut(0!==k?new u((x*h._x+S*d._x-w*c._x)/k-d._x,(x*h._y+S*d._y-w*c._y)/k-d._y):new u);
}}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null;
},isFirst:function(){return 0===this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1;
},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e._x,r=e._y;e.set(t._x,t._y),
t.set(n,r)},reversed:function(){return new R(this._point,this._handleOut,this._handleIn);
},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},
clone:function(){return new R(this._point,this._handleIn,this._handleOut)},equals:function(e){
return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1;
},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),
this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }";
},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed();
},_transformCoordinates:function(e,t,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,a=n&&this._handleOut.isZero()?null:this._handleOut,o=r._x,s=r._y,l=2;
return t[0]=o,t[1]=s,i&&(t[l++]=i._x+o,t[l++]=i._y+s),a&&(t[l++]=a._x+o,t[l++]=a._y+s),
e&&(e._transformCoordinates(t,t,l/2),o=t[0],s=t[1],n?(r._x=o,r._y=s,l=2,i&&(i._x=t[l++]-o,
i._y=t[l++]-s),a&&(a._x=t[l++]-o,a._y=t[l++]-s)):(i||(t[l++]=o,t[l++]=s),a||(t[l++]=o,
t[l++]=s))),t}}),M=u.extend({initialize:function(e,n,r){var i,a,o;if(e)if((i=e[0])!==t)a=e[1];else{
var s=e;(i=s.x)===t&&(s=u.read(arguments),i=s.x),a=s.y,o=s.selected}else i=a=0;this._x=i,
this._y=a,this._owner=n,n[r]=this,o&&this.setSelected(!0)},set:function(e,t){return this._x=e,
this._y=t,this._owner._changed(this),this},_serialize:function(e){var t=e.formatter,n=t.number(this._x),r=t.number(this._y);
return this.isSelected()?{x:n,y:r,selected:!0}:[n,r]},getX:function(){return this._x;
},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y;
},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){return s.isZero(this._x)&&s.isZero(this._y);
},setSelected:function(e){this._owner.setSelected(e,this)},isSelected:function(){
return this._owner.isSelected(this)}}),E=n.extend({_class:"Curve",initialize:function(e,t,n,r,i,a,o,s){
var l,u,c,d,h,v,f=arguments.length;3===f?(this._path=e,l=t,u=n):0===f?(l=new R,u=new R):1===f?"segment1"in e?(l=new R(e.segment1),
u=new R(e.segment2)):"point1"in e?(c=e.point1,h=e.handle1,v=e.handle2,d=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],
d=[e[6],e[7]],h=[e[2]-e[0],e[3]-e[1]],v=[e[4]-e[6],e[5]-e[7]]):2===f?(l=new R(e),
u=new R(t)):4===f?(c=e,h=t,v=n,d=r):8===f&&(c=[e,t],d=[o,s],h=[n-e,r-t],v=[i-o,a-s]),
this._segment1=l||new R(c,null,h),this._segment2=u||new R(d,v,null)},_serialize:function(e){
return n.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0);
},_changed:function(){this._length=this._bounds=t},clone:function(){return new E(this._segment1,this._segment2);
},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),
this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),
"{ "+e.join(", ")+" }"},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;
e=t.remove(),e&&this._segment1._handleOut.set(n.x,n.y)}return e},getPoint1:function(){
return this._segment1._point},setPoint1:function(){var e=u.read(arguments);this._segment1._point.set(e.x,e.y);
},getPoint2:function(){return this._segment2._point},setPoint2:function(){var e=u.read(arguments);
this._segment2._point.set(e.x,e.y)},getHandle1:function(){return this._segment1._handleOut;
},setHandle1:function(){var e=u.read(arguments);this._segment1._handleOut.set(e.x,e.y);
},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var e=u.read(arguments);
this._segment2._handleIn.set(e.x,e.y)},getSegment1:function(){return this._segment1;
},getSegment2:function(){return this._segment2},getPath:function(){return this._path;
},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;
return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){
var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null;
},isFirst:function(){return 0===this._segment1._index},isLast:function(){var e=this._path;
return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected();
},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),
this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){
return E.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;8>n;n+=2)t.push(new u(e[n],e[n+1]));
return t},getLength:function(){return null==this._length&&(this._length=E.getLength(this.getValues(),0,1)),
this._length},getArea:function(){return E.getArea(this.getValues())},getLine:function(){
return new p(this._segment1._point,this._segment2._point)},getPart:function(e,t){
return new E(E.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return E.getLength(this.getValues(),e,t);
},getIntersections:function(e){return E._getIntersections(this.getValues(),e&&e!==this?e.getValues():null,this,e,[],{});
},_getParameter:function(e,n){return n?e:e&&e.curve===this?e.parameter:e===t&&n===t?.5:this.getParameterAt(e,0);
},divide:function(e,t,n){var r=this._getParameter(e,t),i=4e-7,a=1-i,o=null;if(r>=i&&a>=r){
var s=E.subdivide(this.getValues(),r),l=s[0],c=s[1],d=n||this.hasHandles(),h=this._segment1,v=this._segment2,f=this._path;
d&&(h._handleOut.set(l[2]-l[0],l[3]-l[1]),v._handleIn.set(c[4]-c[6],c[5]-c[7]));var m=l[6],p=l[7],b=new R(new u(m,p),d&&new u(l[4]-m,l[5]-p),d&&new u(c[2]-m,c[3]-p));
f?(f.insert(h._index+1,b),o=this.getNext()):(this._segment2=b,o=new E(b,v))}return o;
},split:function(e,t){return this._path?this._path.split(this._segment1._index,this._getParameter(e,t)):null;
},reversed:function(){return new E(this._segment2.reversed(),this._segment1.reversed());
},clearHandles:function(){this._segment1._handleOut.set(0,0),this._segment2._handleIn.set(0,0);
},statics:{getValues:function(e,t,n){var r=e._point,i=e._handleOut,a=t._handleIn,o=t._point,s=[r._x,r._y,r._x+i._x,r._y+i._y,o._x+a._x,o._y+a._y,o._x,o._y];
return n&&n._transformCoordinates(s,s,4),s},subdivide:function(e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7];
n===t&&(n=.5);var d=1-n,h=d*r+n*a,v=d*i+n*o,f=d*a+n*s,m=d*o+n*l,p=d*s+n*u,b=d*l+n*c,g=d*h+n*f,y=d*v+n*m,x=d*f+n*p,_=d*m+n*b,w=d*g+n*x,S=d*y+n*_;
return[[r,i,h,v,g,y,w,S],[w,S,x,_,p,b,u,c]]},solveCubic:function(e,t,n,r,i,a){var o=e[t],l=e[t+2],u=e[t+4],c=e[t+6],d=3*(l-o),h=3*(u-l)-d,v=c-o-d-h;
return s.solveCubic(v,h,d,o-n,r,i,a)},getParameterOf:function(e,t){var n=new u(e[0],e[1]),r=new u(e[6],e[7]),i=1e-12,a=t.isClose(n,i)?0:t.isClose(r,i)?1:null;
if(null!==a)return a;for(var o=[t.x,t.y],s=[],l=2e-7,c=0;2>c;c++)for(var d=E.solveCubic(e,c,o[c],s,0,1),h=0;d>h;h++)if(a=s[h],
t.isClose(E.getPoint(e,a),l))return a;return t.isClose(n,l)?0:t.isClose(r,l)?1:null;
},getNearestParameter:function(e,t){function n(n){if(n>=0&&1>=n){var r=t.getDistance(E.getPoint(e,n),!0);
if(v>r)return v=r,f=n,!0}}if(E.isStraight(e)){var r=e[0],i=e[1],a=e[6],o=e[7],s=a-r,l=o-i,c=s*s+l*l;
if(0===c)return 0;var d=((t.x-r)*s+(t.y-i)*l)/c;return 1e-12>d?0:d>.999999999999?1:E.getParameterOf(e,new u(r+d*s,i+d*l));
}for(var h=100,v=1/0,f=0,m=0;h>=m;m++)n(m/h);for(var p=1/(2*h);p>4e-7;)n(f-p)||n(f+p)||(p/=2);
return f},getPart:function(e,t,n){var r=t>n;if(r){var i=t;t=n,n=i}return t>0&&(e=E.subdivide(e,t)[1]),
1>n&&(e=E.subdivide(e,(n-t)/(1-t))[0]),r?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e;
},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=3*i-2*n-l,d=3*a-2*r-u,h=3*o-2*l-n,v=3*s-2*u-r;
return Math.max(c*c,h*h)+Math.max(d*d,v*v)<10*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[6],i=e[7],a=(e[2]+t)/2,o=(e[3]+n)/2,s=(e[4]+e[6])/2,l=(e[5]+e[7])/2;
return 6*((t-a)*(o+n)+(a-s)*(l+o)+(s-r)*(i+l))/10},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;2>i;i++)E._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);
return new v(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,a,o,l,u){
function c(e,t){var n=e-t,r=e+t;n<o[i]&&(o[i]=n),r>l[i]&&(l[i]=r)}var d=3*(t-n)-e+r,h=2*(e+n)-4*t,v=t-e,f=s.solveQuadratic(d,h,v,u),m=4e-7,p=1-m;
c(r,0);for(var b=0;f>b;b++){var g=u[b],y=1-g;g>m&&p>g&&c(y*y*y*e+3*y*y*g*t+3*y*g*g*n+g*g*g*r,a);
}}}},n.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(e){
this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];if(!t){var n=this._path;
t=this._bounds[e]=T[e]([this._segment1,this._segment2],!1,n&&n.getStyle())}return t.clone();
}},{}),n.each({isStraight:function(e,t,n){if(t.isZero()&&n.isZero())return!0;if(e.isZero())return!1;
if(t.isCollinear(e)&&n.isCollinear(e)){var r=e.dot(e),i=e.dot(t)/r,a=e.dot(n)/r;return i>=0&&1>=i&&0>=a&&a>=-1;
}return!1},isLinear:function(e,t,n){var r=e.divide(3);return t.equals(r)&&n.negate().equals(r);
}},function(e,t){this[t]=function(){var t=this._segment1,n=this._segment2;return e(n._point.subtract(t._point),t._handleOut,n._handleIn);
},this.statics[t]=function(t){var n=t[0],r=t[1],i=t[6],a=t[7];return e(new u(i-n,a-r),new u(t[2]-n,t[3]-r),new u(t[4]-i,t[5]-a));
}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero();
},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine());
},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).y)<1e-7;
},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).x)<1e-7;
}}),{beans:!1,getParameterAt:function(e,t){return E.getParameterAt(this.getValues(),e,t);
},getParameterOf:function(){return E.getParameterOf(this.getValues(),u.read(arguments));
},getLocationAt:function(e,t){var n=t?e:this.getParameterAt(e);return null!=n&&n>=0&&1>=n?new P(this,n):null;
},getLocationOf:function(){return this.getLocationAt(this.getParameterOf(u.read(arguments)),!0);
},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null;
},getNearestLocation:function(){var e=u.read(arguments),t=this.getValues(),n=E.getNearestParameter(t,e),r=E.getPoint(t,n);
return new P(this,n,r,null,e.getDistance(r))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint();
}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];
return n.each(e,function(e){this[e+"At"]=function(t,n){var r=this.getValues();return E[e](r,n?t:E.getParameterAt(r,t,0));
}},{statics:{evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=9*(r-a)+3*(s-t),c=6*(t+a)-12*r,d=3*(r-t),h=9*(i-o)+3*(l-n),v=6*(n+o)-12*i,f=3*(i-n);
return function(e){var t=(u*e+c)*e+d,n=(h*e+v)*e+f;return Math.sqrt(t*t+n*n)}}function n(e,t){
return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function r(e,t,n,r){if(null==t||0>t||t>1)return null;
var i,a,o=e[0],l=e[1],c=e[2],d=e[3],h=e[4],v=e[5],f=e[6],m=e[7],p=4e-7,b=1-p,g=s.isZero;
if(g(c-o)&&g(d-l)&&(c=o,d=l),g(h-f)&&g(v-m)&&(h=f,v=m),0===n&&(p>t||t>b)){var y=p>t;
i=y?o:f,a=y?l:m}else{var x=3*(c-o),_=3*(h-c)-x,w=f-o-x-_,S=3*(d-l),k=3*(v-d)-S,C=m-l-S-k;
if(0===n)i=((w*t+_)*t+x)*t+o,a=((C*t+k)*t+S)*t+l;else{if(p>t?(i=x,a=S):t>b?(i=3*(f-h),
a=3*(m-v)):(i=(3*w*t+2*_)*t+x,a=(3*C*t+2*k)*t+S),r){0===i&&0===a&&(p>t||t>b)&&(i=h-c,
a=v-d);var R=Math.sqrt(i*i+a*a);R&&(i/=R,a/=R)}if(3===n){var M=6*w*t+2*_,E=6*C*t+2*k,P=Math.pow(i*i+a*a,1.5);
i=0!==P?(i*E-a*M)/P:0,a=0}}}return 2===n?new u(a,-i):new u(i,a)}return{statics:{getLength:function(r,i,a){
if(i===t&&(i=0),a===t&&(a=1),0===i&&1===a&&E.isStraight(r)){var o=r[6]-r[0],l=r[7]-r[1];
return Math.sqrt(o*o+l*l)}var u=e(r);return s.integrate(u,i,a,n(i,a))},getParameterAt:function(r,i,a){
function o(e){return m+=s.integrate(h,a,e,n(a,e)),a=e,m-i}if(a===t&&(a=0>i?1:0),0===i)return a;
var l=Math.abs,u=i>0,c=u?a:0,d=u?1:a,h=e(r),v=s.integrate(h,c,d,n(c,d));if(l(i-v)<1e-12)return u?d:c;
if(l(i)>v)return null;var f=i/v,m=0;return s.findRoot(o,h,a+f,c,d,32,1e-12)},getPoint:function(e,t){
return r(e,t,0,!1)},getTangent:function(e,t){return r(e,t,1,!0)},getWeightedTangent:function(e,t){
return r(e,t,1,!1)},getNormal:function(e,t){return r(e,t,2,!0)},getWeightedNormal:function(e,t){
return r(e,t,2,!1)},getCurvature:function(e,t){return r(e,t,3,!1).x}}}},new function(){
function e(e,t,n,r,i,a,o,s,l,u,c){var d=!c&&t.excludeStart,h=!c&&t.excludeEnd,v=4e-7,f=1-v;
if(null==i&&(i=E.getParameterOf(n,a)),null!==i&&i>=(d?v:0)&&(h?f:1)>=i&&(null==l&&(l=E.getParameterOf(o,u)),
null!==l&&l>=(h?v:0)&&(d?f:1)>=l)){var m=t.renormalize;if(m){var p=m(i,l);i=p[0],
l=p[1]}var b=new P(r,i,a||E.getPoint(n,i),c),g=new P(s,l,u||E.getPoint(o,l),c),y=b.getPath()===g.getPath()&&b.getIndex()>g.getIndex(),x=y?g:b,_=t.include;
b._intersection=g,g._intersection=b,_&&!_(x)||P.insert(e,x,!0)}}function t(i,a,o,s,l,u,c,d,h,v,f,m){
if(!(++m>=26)){var b,g,y=a[0],x=a[1],_=a[6],w=a[7],S=p.getSignedDistance,k=S(y,x,_,w,a[2],a[3]),C=S(y,x,_,w,a[4],a[5]),R=k*C>0?.75:4/9,M=R*Math.min(0,k,C),P=R*Math.max(0,k,C),A=S(y,x,_,w,i[0],i[1]),T=S(y,x,_,w,i[2],i[3]),L=S(y,x,_,w,i[4],i[5]),N=S(y,x,_,w,i[6],i[7]),$=n(A,T,L,N),O=$[0],V=$[1];
if((0!==k||0!==C||0!==A||0!==T||0!==L||0!==N)&&null!=(b=r(O,V,M,P))&&null!=(g=r(O.reverse(),V.reverse(),M,P))){
var j=c+(d-c)*b,z=c+(d-c)*g;if(Math.max(v-h,z-j)<1e-7){var I=(j+z)/2,D=(h+v)/2;i=o.getValues(),
a=s.getValues(),e(l,u,f?a:i,f?s:o,f?D:I,null,f?i:a,f?o:s,f?I:D,null)}else if(i=E.getPart(i,b,g),
g-b>.8)if(z-j>v-h){var G=E.subdivide(i,.5),I=(j+z)/2;t(a,G[0],s,o,l,u,h,v,j,I,!f,m),
t(a,G[1],s,o,l,u,h,v,I,z,!f,m)}else{var G=E.subdivide(a,.5),D=(h+v)/2;t(G[0],i,s,o,l,u,h,D,j,z,!f,m),
t(G[1],i,s,o,l,u,D,v,j,z,!f,m)}else t(a,i,s,o,l,u,h,v,j,z,!f,m)}}}function n(e,t,n,r){
var i,a=[0,e],o=[1/3,t],s=[2/3,n],l=[1,r],u=t-(2*e+r)/3,c=n-(e+2*r)/3;if(0>u*c)i=[[a,o,l],[a,s,l]];else{
var d=u/c;i=[d>=2?[a,o,l]:.5>=d?[a,s,l]:[a,o,s,l],[a,l]]}return 0>(u||c)?i.reverse():i;
}function r(e,t,n,r){return e[0][1]<n?i(e,!0,n):t[0][1]>r?i(t,!1,r):e[0][0]}function i(e,t,n){
for(var r=e[0][0],i=e[0][1],a=1,o=e.length;o>a;a++){var s=e[a][0],l=e[a][1];if(t?l>=n:n>=l)return l===n?s:r+(n-i)*(s-r)/(l-i);
r=s,i=l}return null}function a(t,n,r,i,a,o){for(var l=E.isStraight(t),u=l?n:t,c=l?t:n,d=c[0],h=c[1],v=c[6],f=c[7],m=v-d,p=f-h,b=Math.atan2(-p,m),g=Math.sin(b),y=Math.cos(b),x=[],_=0;8>_;_+=2){
var w=u[_]-d,S=u[_+1]-h;x.push(w*y-S*g,w*g+S*y)}for(var k=[],C=E.solveCubic(x,1,0,k,0,1),_=0;C>_;_++){
var R=k[_],M=E.getPoint(u,R),P=E.getParameterOf(c,M);if(null!==P){var A=E.getPoint(c,P),T=l?P:R,L=l?R:P;
(!o.excludeEnd||L>s.CURVETIME_EPSILON)&&e(a,o,t,r,T,l?A:M,n,i,L,l?M:A)}}}function o(t,n,r,i,a,o){
var s=p.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);s&&e(a,o,t,r,null,s,n,i,null,s);
}return{statics:{_getIntersections:function(n,r,i,s,l,c){if(!r)return E._getSelfIntersection(n,i,l,c);
var d=2e-7,h=n[0],v=n[1],f=n[6],m=n[7],p=r[0],b=r[1],g=r[6],y=r[7],x=(3*n[2]+h)/4,_=(3*n[3]+v)/4,w=(3*n[4]+f)/4,S=(3*n[5]+m)/4,k=(3*r[2]+p)/4,C=(3*r[3]+b)/4,R=(3*r[4]+g)/4,M=(3*r[5]+y)/4,P=Math.min,A=Math.max;
if(!(A(h,x,w,f)+d>P(p,k,R,g)&&P(h,x,w,f)-d<A(p,k,R,g)&&A(v,_,S,m)+d>P(b,C,M,y)&&P(v,_,S,m)-d<A(b,C,M,y)))return l;
var T=E.getOverlaps(n,r);if(T){for(var L=0;2>L;L++){var N=T[L];e(l,c,n,i,N[0],null,r,s,N[1],null,!0);
}return l}var $=E.isStraight(n),O=E.isStraight(r),V=$&&O,j=l.length;if((V?o:$||O?a:t)(n,r,i,s,l,c,0,1,0,1,0,0),
V&&l.length>j)return l;var z=new u(h,v),I=new u(f,m),D=new u(p,b),G=new u(g,y);return z.isClose(D,d)&&e(l,c,n,i,0,z,r,s,0,D),
!c.excludeStart&&z.isClose(G,d)&&e(l,c,n,i,0,z,r,s,1,G),!c.excludeEnd&&I.isClose(D,d)&&e(l,c,n,i,1,I,r,s,0,D),
I.isClose(G,d)&&e(l,c,n,i,1,I,r,s,1,G),l},_getSelfIntersection:function(e,t,n,r){
var i=e[0],a=e[1],o=e[2],l=e[3],c=e[4],d=e[5],h=e[6],v=e[7],f=new p(i,a,h,v,!1),m=f.getSide(new u(o,l),!0),b=f.getSide(new u(c,d),!0);
if(m===b){var g=(i-c)*(l-v)+(o-h)*(d-a);if(g*m>0)return n}var y=h-3*c+3*o-i,x=c-2*o+i,_=o-i,w=v-3*d+3*l-a,S=d-2*l+a,k=l-a,C=w*_-y*k,R=w*x-y*S,M=S*_-x*k;
if(0>C*C-4*R*M){var P,A=[],T=s.solveCubic(y*y+w*w,3*(y*x+w*S),2*(x*x+S*S)+y*_+w*k,x*_+S*k,A,0,1);
if(T>0){for(var L=0,N=0;T>L;L++){var $=Math.abs(t.getCurvatureAt(A[L],!0));$>N&&(N=$,
P=A[L])}var O=E.subdivide(e,P);r.excludeEnd=!0,r.renormalize=function(e,t){return[e*P,t*(1-P)+P];
},E._getIntersections(O[0],O[1],t,t,n,r)}}return n},getOverlaps:function(e,t){function n(e){
var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var r=Math.abs,i=4e-7,a=2e-7,o=E.isStraight(e),s=E.isStraight(t),l=o&&s,c=n(e)<n(t),d=c?t:e,h=c?e:t,v=new p(d[0],d[1],d[6],d[7]);
if(v.getDistance(new u(h[0],h[1]))<a&&v.getDistance(new u(h[6],h[7]))<a)!l&&v.getDistance(new u(d[2],d[3]))<a&&v.getDistance(new u(d[4],d[5]))<a&&v.getDistance(new u(h[2],h[3]))<a&&v.getDistance(new u(h[4],h[5]))<a&&(o=s=l=!0);else if(l)return null;
if(o^s)return null;for(var f=[e,t],m=[],b=0,g=0;2>b&&m.length<2;b+=0===g?0:1,g=1^g){
var y=E.getParameterOf(f[1^b],new u(f[b][0===g?0:6],f[b][0===g?1:7]));if(null!=y){
var x=0===b?[g,y]:[y,g];(0===m.length||r(x[0]-m[0][0])>i&&r(x[1]-m[0][1])>i)&&m.push(x);
}if(1===b&&0===m.length)break}if(2!==m.length)m=null;else if(!l){var _=E.getPart(e,m[0][0],m[1][0]),w=E.getPart(t,m[0][1],m[1][1]);
(r(w[2]-_[2])>a||r(w[3]-_[3])>a||r(w[4]-_[4])>a||r(w[5]-_[5])>a)&&(m=null)}return m;
}}}}),P=n.extend({_class:"CurveLocation",beans:!0,initialize:function he(e,t,n,r,i){
if(t>.9999996){var a=e.getNext();a&&(t=0,e=a)}this._id=l.get(he),this._setCurve(e),
this._parameter=t,this._point=n||e.getPointAt(t,!0),this._overlap=r,this._distance=i,
this._intersection=this._next=this._prev=null},_setCurve:function(e){var t=e._path;
this._path=t,this._version=t?t._version:0,this._curve=e,this._segment=null,this._segment1=e._segment1,
this._segment2=e._segment2},_setSegment:function(e){this._setCurve(e.getCurve()),
this._segment=e,this._parameter=e===this._segment1?0:1,this._point=e._point.clone();
},getSegment:function(){var e=this.getCurve(),t=this._segment;if(!t){var n=this.getParameter();
0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),
this._segment=t}return t},getCurve:function(){function e(e){var t=e&&e.getCurve();
return t&&null!=(n._parameter=t.getParameterOf(n._point))?(n._setCurve(t),n._segment=e,
t):void 0}var t=this._path,n=this;return t&&t._version!==this._version&&(this._parameter=this._curve=this._offset=null),
this._curve||e(this._segment)||e(this._segment1)||e(this._segment2.getPrevious());
},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){
var e=this.getCurve();return e&&e.getIndex()},getParameter:function(){var e=this.getCurve(),t=this._parameter;
return e&&null==t?this._parameter=e.getParameterOf(this._point):t},getPoint:function(){
return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();
if(t&&null!=n)for(var r=t.getCurves(),i=0;n>i;i++)e+=r[i].getLength();this._offset=e+=this.getCurveOffset();
}return e},getCurveOffset:function(){var e=this.getCurve(),t=this.getParameter();return null!=t&&e&&e.getPartLength(0,t);
},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance;
},divide:function(){var e=this.getCurve(),t=null;return e&&(t=e.divide(this.getParameter(),!0),
t&&this._setSegment(t._segment1)),t},split:function(){var e=this.getCurve();return e?e.split(this.getParameter(),!0):null;
},equals:function(e,t){var n=this===e,r=2e-7;if(!n&&e instanceof P&&this.getPath()===e.getPath()&&this.getPoint().isClose(e.getPoint(),r)){
var i=this.getCurve(),a=e.getCurve(),o=Math.abs,s=o((i.isLast()&&a.isFirst()?-1:i.getIndex())+this.getParameter()-((a.isLast()&&i.isFirst()?-1:a.getIndex())+e.getParameter()));
n=(4e-7>s||(s=o(this.getOffset()-e.getOffset()))<r||o(this.getPath().getLength()-s)<r)&&(t||!this._intersection&&!e._intersection||this._intersection&&this._intersection.equals(e._intersection,!0));
}return n},toString:function(){var e=[],t=this.getPoint(),n=o.instance;t&&e.push("point: "+t);
var r=this.getIndex();null!=r&&e.push("index: "+r);var i=this.getParameter();return null!=i&&e.push("parameter: "+n.number(i)),
null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }";
},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){
var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()));
}return!1},isCrossing:function(){function e(e,t,n){return n>t?e>t&&n>e:e>t&&180>=e||e>=-180&&n>e;
}var t=this._intersection;if(!t)return!1;var n=this.getParameter(),r=t.getParameter(),i=4e-7,a=1-i,o=n>i&&a>n,s=r>i&&a>r;
if(o&&s)return!this.isTouching();var l=this.getCurve(),u=i>=n?l.getPrevious():l,c=t.getCurve(),d=i>=r?c.getPrevious():c;
if(n>=a&&(l=l.getNext()),r>=a&&(c=c.getNext()),!(u&&l&&d&&c))return!1;if(o||s){var h=o?l:c;
if(h.isStraight()){var v=h.getLine(),f=o?d:u,m=o?c:l,p=f.isStraight(),b=m.isStraight();
if(p||b)return p&&v.intersect(f.getLine())||b&&v.intersect(m.getLine())}}var g=l.getTangentAt(o?n:i,!0),y=(o?g:u.getTangentAt(a,!0)).negate(),x=c.getTangentAt(s?r:i,!0),_=(s?x:d.getTangentAt(a,!0)).negate(),w=y.getAngle(),S=g.getAngle(),k=_.getAngle(),C=x.getAngle();
return!!(o?e(w,k,C)^e(S,k,C)&&e(w,C,k)^e(S,C,k):e(k,w,S)^e(C,w,S)&&e(k,S,w)^e(C,S,w));
},hasOverlap:function(){return!!this._overlap}},n.each(E.evaluateMethods,function(e){
var t=e+"At";this[e]=function(){var e=this.getParameter(),n=this.getCurve();return null!=e&&n&&n[t](e,!0);
}},{preserve:!0}),new function(){function e(e,t,n){function r(n,r){for(var a=n+r;a>=-1&&i>=a;a+=r){
var o=e[(a%i+i)%i];if(!t.getPoint().isClose(o.getPoint(),2e-7))break;if(t.equals(o))return o;
}return null}for(var i=e.length,a=0,o=i-1;o>=a;){var s=a+o>>>1,l=e[s],u=void 0;if(n&&(u=t.equals(l)?l:r(s,-1)||r(s,1)))return t._overlap&&(u._overlap=u._intersection._overlap=!0),
u;var c=t.getPath(),d=l.getPath(),h=c===d?t.getIndex()+t.getParameter()-(l.getIndex()+l.getParameter()):c._id-d._id;
0>h?o=s-1:a=s+1}return e.splice(a,0,t),t}return{statics:{insert:e,expand:function(t){
for(var n=t.slice(),r=t.length-1;r>=0;r--)e(n,t[r]._intersection,!1);return n}}}}),A=y.extend({
_class:"PathItem",_canScaleStroke:!0,initialize:function(){},getIntersections:function(e,t,n,r){
var i=this===e||!e,a=this._matrix.orNullIfIdentity(),o=i?a:(n||e._matrix).orNullIfIdentity();
if(!i&&!this.getBounds(a).touches(e.getBounds(o)))return[];for(var s,e,l=this.getCurves(),u=i?l:e.getCurves(),c=l.length,d=i?c:u.length,h=[],v=[],f=0;d>f;f++)h[f]=u[f].getValues(o);
for(var f=0;c>f;f++){var m=l[f],p=i?h[f]:m.getValues(a),b=m.getPath();b!==e&&(e=b,
s=[],v.push(s)),i&&E._getSelfIntersection(p,m,s,{include:t,excludeStart:1===c&&m.getPoint1().equals(m.getPoint2())
});for(var g=i?f+1:0;d>g;g++){if(r&&s.length)return s;var y=u[g];E._getIntersections(p,h[g],m,y,s,{
include:t,excludeStart:i&&m.getPrevious()===y,excludeEnd:i&&m.getNext()===y})}}s=[];
for(var f=0,x=v.length;x>f;f++)s.push.apply(s,v[f]);return s},getCrossings:function(e){
return this.getIntersections(e,function(e){return e._overlap||e.isCrossing()})},_asPathItem:function(){
return this},setPathData:function(e){function t(e,t){var n=+r[e];return s&&(n+=l[t]),
n}function n(e){return new u(t(e,"x"),t(e+1,"y"))}var r,i,a,o=e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),s=!1,l=new u,c=new u;
this.clear();for(var h=0,v=o&&o.length;v>h;h++){var f=o[h],m=f[0],p=m.toLowerCase();
r=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var b=r&&r.length;switch(s=m===p,
"z"!==i||/[mz]/.test(p)||this.moveTo(l=c),p){case"m":case"l":for(var g="m"===p,y=0;b>y;y+=2)this[0===y&&g?"moveTo":"lineTo"](l=n(y));
a=l,g&&(c=l);break;case"h":case"v":for(var x="h"===p?"x":"y",y=0;b>y;y++)l[x]=t(y,x),
this.lineTo(l);a=l;break;case"c":for(var y=0;b>y;y+=6)this.cubicCurveTo(n(y),a=n(y+2),l=n(y+4));
break;case"s":for(var y=0;b>y;y+=4)this.cubicCurveTo(/[cs]/.test(i)?l.multiply(2).subtract(a):l,a=n(y),l=n(y+2)),
i=p;break;case"q":for(var y=0;b>y;y+=4)this.quadraticCurveTo(a=n(y),l=n(y+2));break;
case"t":for(var y=0;b>y;y+=2)this.quadraticCurveTo(a=/[qt]/.test(i)?l.multiply(2).subtract(a):l,l=n(y)),
i=p;break;case"a":for(var y=0;b>y;y+=7)this.arcTo(l=n(y+5),new d(+r[y],+r[y+1]),+r[y+2],+r[y+4],+r[y+3]);
break;case"z":this.closePath(!0)}i=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke());
},_contains:function(e){var t=e.isInside(this.getInternalHandleBounds())&&this._getWinding(e);
return!!("evenodd"===this.getFillRule()?1&t:t)}}),T=A.extend({_class:"Path",_serializeFields:{
segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;
var n=Array.isArray(e)?"object"===$traceurRuntime["typeof"](e[0])?e:arguments:!e||e.size!==t||e.x===t&&e.point===t?null:arguments;
n&&n.length>0?this.setSegments(n):(this._curves=t,this._selectedSegmentState=0,n||"string"!=typeof e||(this.setPathData(e),
e=null)),this._initialize(!n&&e)},_equals:function(e){return this._closed===e._closed&&n.equals(this._segments,e._segments);
},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed;var n=e._clockwise;
n!==t&&(this._clockwise=n)},_changed:function ve(e){if(ve.base.call(this,e),8&e){
if(this._length=this._area=this._clockwise=this._monoCurves=t,16&e)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;r>n;n++)this._curves[n]._changed();
}else 32&e&&(this._bounds=t)},getStyle:function(){var e=this._parent;return(e instanceof L?e:this)._style;
},getSegments:function(){return this._segments},setSegments:function(e){var n=this.isFullySelected();
this._segments.length=0,this._selectedSegmentState=0,this._curves=t,e&&e.length>0&&this._add(R.readAll(e)),
n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0];
},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){
var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);
for(var r=0;n>r;r++)e[r]=new E(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){
return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1];
},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){
if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new E(this,this._segments[t-1],this._segments[0]));
}this._changed(25)}}},{beans:!0,getPathData:function(e,t){function n(t,n){t._transformCoordinates(e,m,!1),
r=m[0],i=m[1],p?(b.push("M"+f.pair(r,i)),p=!1):(l=m[2],u=m[3],l===r&&u===i&&c===a&&d===s?n||b.push("l"+f.pair(r-a,i-s)):b.push("c"+f.pair(c-a,d-s)+" "+f.pair(l-a,u-s)+" "+f.pair(r-a,i-s))),
a=r,s=i,c=m[4],d=m[5]}var r,i,a,s,l,u,c,d,h=this._segments,v=h.length,f=new o(t),m=new Array(6),p=!0,b=[];
if(0===v)return"";for(var g=0;v>g;g++)n(h[g]);return this._closed&&v>0&&(n(h[0],!0),
b.push("z")),b.join("")}},{isEmpty:function(){return 0===this._segments.length},_transformContent:function(e){
for(var t=this._segments,n=new Array(6),r=0,i=t.length;i>r;r++)t[r]._transformCoordinates(e,n,!0);
return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,a=null==t,t=a?n.length:t,o=0;i>o;o++){
var s=e[o];s._path&&(s=e[o]=s.clone()),s._path=this,s._index=t+o,s._selectionState&&this._updateSelection(s,0,s._selectionState);
}if(a)n.push.apply(n,e);else{n.splice.apply(n,[t,0].concat(e));for(var o=t+i,l=n.length;l>o;o++)n[o]._index=o;
}if(r){var u=this._countCurves(),c=t>0&&t+i-1===u?t-1:t,d=c,h=Math.min(c+i,u);e._curves&&(r.splice.apply(r,[c,0].concat(e._curves)),
d+=e._curves.length);for(var o=d;h>o;o++)r.splice(o,0,new E(this,null,null));this._adjustCurves(c,h);
}return this._changed(25),e},_adjustCurves:function(e,t){for(var n,r=this._segments,i=this._curves,a=e;t>a;a++)n=i[a],
n._path=this,n._segment1=r[a],n._segment2=r[a+1]||r[0],n._changed();(n=i[this._closed&&0===e?r.length-1:e-1])&&(n._segment2=r[e]||r[0],
n._changed()),(n=i[t])&&(n._segment1=r[t],n._changed())},_countCurves:function(){
var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){return arguments.length>1&&"number"!=typeof e?this._add(R.readAll(arguments)):this._add([R.read(arguments)])[0];
},insert:function(e,t){return arguments.length>2&&"number"!=typeof t?this._add(R.readAll(arguments,1),e):this._add([R.read(arguments,1)],e)[0];
},addSegment:function(){return this._add([R.read(arguments)])[0]},insertSegment:function(e){
return this._add([R.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(R.readAll(e));
},insertSegments:function(e,t){return this._add(R.readAll(t),e)},removeSegment:function(e){
return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,r){e=e||0,
t=n.pick(t,this._segments.length);var i=this._segments,a=this._curves,o=i.length,s=i.splice(e,t-e),l=s.length;
if(!l)return s;for(var u=0;l>u;u++){var c=s[u];c._selectionState&&this._updateSelection(c,c._selectionState,0),
c._index=c._path=null}for(var u=e,d=i.length;d>u;u++)i[u]._index=u;if(a){for(var h=e>0&&t===o+(this._closed?1:0)?e-1:e,a=a.splice(h,l),u=a.length-1;u>=0;u--)a[u]._path=null;
r&&(s._curves=a.slice(1)),this._adjustCurves(h,h)}return this._changed(25),s},clear:"#removeSegments",
hasHandles:function(){for(var e=this._segments,t=0,n=e.length;n>t;t++)if(e[t].hasHandles())return!0;
return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;n>t;t++)e[t].clearHandles();
},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,r=e.length;r>n;n++)t+=e[n].getLength();
this._length=t}return this._length},getArea:function(){if(null==this._area){for(var e=this._segments,t=e.length,n=t-1,r=0,i=0,a=this._closed?t:n;a>i;i++)r+=E.getArea(E.getValues(e[i],e[n>i?i+1:0]));
this._area=r}return this._area},isClockwise:function(){return this._clockwise!==t?this._clockwise:this.getArea()>=0;
},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse(),this._clockwise=e;
},isFullySelected:function(){var e=this._segments.length;return this._selected&&e>0&&this._selectedSegmentState===7*e;
},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelected:function fe(e){
e||this._selectSegments(!1),fe.base.call(this,e)},_selectSegments:function(e){var t=this._segments.length;
this._selectedSegmentState=e?7*t:0;for(var n=0;t>n;n++)this._segments[n]._selectionState=e?7:0;
},_updateSelection:function(e,t,n){e._selectionState=n;var r=this._selectedSegmentState+=n-t;
r>0&&this.setSelected(!0)},flatten:function(e){for(var t=new N(this,64,.1),n=0,r=t.length/Math.ceil(t.length/e),i=t.length+(this._closed?-r:r)/2,a=[];i>=n;)a.push(new R(t.getPointAt(n))),
n+=r;this.setSegments(a)},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,r=n?2e-7:0,i=t.length-1;i>=0;i--){
var a=t[i];!a.hasHandles()&&(a.getLength()<r||n&&a.isCollinear(a.getNext()))&&a.remove();
}return this},simplify:function(e){if(this._segments.length>2){var t=new $(this,e||2.5);
this.setSegments(t.fit())}},split:function(e,t){if(null===t)return null;if(1===arguments.length){
var n=e;if("number"==typeof n&&(n=this.getLocationAt(n)),!n)return null;e=n.index,
t=n.parameter}var r=4e-7,i=1-r;t>=i&&(e++,t--);var a=this.getCurves();if(e>=0&&e<a.length){
t>=r&&a[e++].divide(t,!0);var o,s=this.removeSegments(e,this._segments.length,!0);
return this._closed?(this.setClosed(!1),o=this):(o=new T(y.NO_INSERT),o.insertAbove(this,!0),
o.copyAttributes(this)),o._add(s,0),this.addSegment(s[0]),o}return null},reverse:function(){
this._segments.reverse();for(var e=0,n=this._segments.length;n>e;e++){var r=this._segments[e],i=r._handleIn;
r._handleIn=r._handleOut,r._handleOut=i,r._index=e}this._curves=null,this._clockwise!==t&&(this._clockwise=!this._clockwise),
this._changed(9)},join:function(e){if(e){var t=e._segments,n=this.getLastSegment(),r=e.getLastSegment();
if(!r)return this;n&&n._point.equals(r._point)&&e.reverse();var i=e.getFirstSegment();
if(n&&n._point.equals(i._point))n.setHandleOut(i._handleOut),this._add(t.slice(1));else{
var a=this.getFirstSegment();a&&a._point.equals(i._point)&&e.reverse(),r=e.getLastSegment(),
a&&a._point.equals(r._point)?(a.setHandleIn(r._handleIn),this._add(t.slice(0,t.length-1),0)):this._add(t.slice());
}e._closed&&this._add([t[0]]),e.remove()}var o=this.getFirstSegment(),s=this.getLastSegment();
return o!==s&&o._point.equals(s._point)&&(o.setHandleIn(s._handleIn),s.remove(),this.setClosed(!0)),
this},toShape:function(e){function n(e,t){var n=h[e],r=n.getNext(),i=h[t],a=i.getNext();
return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&a._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(a._point.subtract(i._point));
}function r(e){var t=h[e],n=t.getPrevious(),r=t.getNext();return n._handleOut.isZero()&&t._handleIn.isZero()&&t._handleOut.isZero()&&r._handleIn.isZero()&&t._point.subtract(n._point).isOrthogonal(r._point.subtract(t._point));
}function i(e){var t=h[e],n=t.getNext(),r=t._handleOut,i=n._handleIn,a=.5522847498307936;
if(r.isOrthogonal(i)){var o=t._point,l=n._point,u=new p(o,r,!0).intersect(new p(l,i,!0),!0);
return u&&s.isZero(r.getLength()/u.subtract(o).getLength()-a)&&s.isZero(i.getLength()/u.subtract(l).getLength()-a);
}return!1}function a(e,t){return h[e]._point.getDistance(h[t]._point)}if(!this._closed)return null;
var o,l,u,c,h=this._segments;if(!this.hasHandles()&&4===h.length&&n(0,2)&&n(1,3)&&r(1)?(o=w.Rectangle,
l=new d(a(0,3),a(0,1)),c=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&i(0)&&i(2)&&i(4)&&i(6)&&n(1,5)&&n(3,7)?(o=w.Rectangle,
l=new d(a(1,6),a(0,3)),u=l.subtract(new d(a(0,7),a(1,2))).divide(2),c=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&i(0)&&i(1)&&i(2)&&i(3)&&(s.isZero(a(0,2)-a(1,3))?(o=w.Circle,
u=a(0,2)/2):(o=w.Ellipse,u=new d(a(2,0)/2,a(3,1)/2)),c=h[1]._point),o){var v=this.getPosition(!0),f=new o({
center:v,size:l,radius:u,insert:!1});return f.copyAttributes(this,!0),f._matrix.preConcatenate(this._matrix),
f.rotate(c.subtract(v).getAngle()+90),(e===t||e)&&f.insertAbove(this),f}return null;
},toPath:"#clone",_hitTestSelf:function(e,t){function n(t,n){return e.subtract(t).divide(n).length<=1;
}function r(e,r,i){if(!t.selected||r.isSelected()){var a=e._point;if(r!==a&&(r=r.add(a)),
n(r,x))return new C(i,f,{segment:e,point:r})}}function i(e,n){return(n||t.segments)&&r(e,e._point,"segment")||!n&&t.handles&&(r(e,e._handleIn,"handle-in")||r(e,e._handleOut,"handle-out"));
}function a(e){d.add(e)}function o(t){if(("round"!==s||"round"!==l)&&(d=new T({internal:!0,
closed:!0}),g||t._index>0&&t._index<b-1?"round"!==s&&(t._handleIn.isZero()||t._handleOut.isZero())&&T._addBevelJoin(t,s,k,c,a,!0):"round"!==l&&T._addSquareCap(t,l,k,a,!0),
!d.isEmpty())){var r;return d.contains(e)||(r=d.getNearestLocation(e))&&n(r.getPoint(),y);
}return n(t._point,x)}var s,l,c,d,h,v,f=this,m=this.getStyle(),p=this._segments,b=p.length,g=this._closed,y=t._tolerancePadding,x=y,_=t.stroke&&m.hasStroke(),w=t.fill&&m.hasFill(),S=t.curves,k=_?m.getStrokeWidth()/2:w&&t.tolerance>0||S?0:null;
if(null!==k&&(k>0?(s=m.getStrokeJoin(),l=m.getStrokeCap(),c=k*m.getMiterLimit(),x=y.add(new u(k,k))):s=l="round"),
!t.ends||t.segments||g){if(t.segments||t.handles)for(var R=0;b>R;R++)if(v=i(p[R]))return v;
}else if(v=i(p[0],!0)||i(p[b-1],!0))return v;if(null!==k){if(h=this.getNearestLocation(e)){
var M=h.getParameter();0===M||1===M&&b>1?o(h.getSegment())||(h=null):n(h.getPoint(),x)||(h=null);
}if(!h&&"miter"===s&&b>1)for(var R=0;b>R;R++){var E=p[R];if(e.getDistance(E._point)<=c&&o(E)){
h=E.getLocation();break}}}return!h&&w&&this._contains(e)||h&&!_&&!S?new C("fill",this):h?new C(_?"stroke":"curve",this,{
location:h,point:h.getPoint()}):null}},n.each(E.evaluateMethods,function(e){this[e+"At"]=function(t,n){
var r=this.getLocationAt(t,n);return r&&r[e]()}},{beans:!1,getLocationOf:function(){
for(var e=u.read(arguments),t=this.getCurves(),n=0,r=t.length;r>n;n++){var i=t[n].getLocationOf(e);
if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);
return e?e.getOffset():null},getLocationAt:function(e,t){var n=this.getCurves(),r=0;
if(t){var i=~~e,a=n[i];return a?a.getLocationAt(e-i,!0):null}for(var o=0,s=n.length;s>o;o++){
var l=r,a=n[o];if(r+=a.getLength(),r>e)return a.getLocationAt(e-l)}return n.length>0&&e<=this.getLength()?new P(n[n.length-1],1):null;
},getNearestLocation:function(){for(var e=u.read(arguments),t=this.getCurves(),n=1/0,r=null,i=0,a=t.length;a>i;i++){
var o=t[i].getNearestLocation(e);o._distance<n&&(n=o._distance,r=o)}return r},getNearestPoint:function(){
return this.getNearestLocation.apply(this,arguments).getPoint()},smooth:function(e){
function n(e,t){var n=e&&e.index;if(null!=n){var i=e.path;if(i&&i!==r)throw new Error(e._class+" "+n+" of "+i+" is not part of "+r);
t&&e instanceof E&&n++}else n="number"==typeof e?e:t;return Math.min(0>n&&l?n%s:0>n?n+s:n,s-1);
}var r=this,i=e||{},a=i.type||"asymmetric",o=this._segments,s=o.length,l=this._closed,u=l&&i.from===t&&i.to===t,c=n(i.from,0),d=n(i.to,s-1);
if(c>d)if(l)c-=s;else{var h=c;c=d,d=h}if(/^(?:asymmetric|continuous)$/.test(a)){var v="asymmetric"===a,f=Math.min,m=d-c+1,p=m-1,b=u?f(m,4):1,g=b,y=b,x=[];
if(l||(g=f(1,c),y=f(1,s-d-1)),p+=g+y,1>=p)return;for(var _=0,w=c-g;p>=_;_++,w++)x[_]=o[(0>w?w+s:w)%s]._point;
for(var S=x[0]._x+2*x[1]._x,k=x[0]._y+2*x[1]._y,C=2,R=p-1,M=[S],P=[k],A=[C],T=[],L=[],_=1;p>_;_++){
var N=R>_,$=N?1:v?1:2,O=N?4:v?2:7,V=N?4:v?3:8,j=N?2:v?0:1,z=$/C;C=A[_]=O-z,S=M[_]=V*x[_]._x+j*x[_+1]._x-z*S,
k=P[_]=V*x[_]._y+j*x[_+1]._y-z*k}T[R]=M[R]/A[R],L[R]=P[R]/A[R];for(var _=p-2;_>=0;_--)T[_]=(M[_]-T[_+1])/A[_],
L[_]=(P[_]-L[_+1])/A[_];T[p]=(3*x[p]._x-T[R])/2,L[p]=(3*x[p]._y-L[R])/2;for(var _=g,I=p-y,w=c;I>=_;_++,
w++){var D=o[0>w?w+s:w],G=D._point,B=T[_]-G._x,U=L[_]-G._y;(u||I>_)&&D.setHandleOut(B,U),
(u||_>g)&&D.setHandleIn(-B,-U)}}else for(var _=c;d>=_;_++)o[0>_?_+s:_].smooth(i,!u&&_===c,!u&&_===d);
}}),new function(){function t(e,t,n,r){function i(t){var n=o[t],r=o[t+1];d==n&&h==r||(e.beginPath(),
e.moveTo(d,h),e.lineTo(n,r),e.stroke(),e.beginPath(),e.arc(n,r,a,0,2*Math.PI,!0),
e.fill())}for(var a=r/2,o=new Array(6),s=0,l=t.length;l>s;s++){var u=t[s];u._transformCoordinates(n,o,!1);
var c=u._selectionState,d=o[0],h=o[1];if(1&c&&i(2),2&c&&i(4),e.fillRect(d-a,h-a,r,r),
!(4&c)){var v=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(d-a+1,h-a+1,r-2,r-2),e.fillStyle=v;
}}}function n(e,t,n){function r(t){if(n)t._transformCoordinates(n,f,!1),i=f[0],a=f[1];else{
var r=t._point;i=r._x,a=r._y}if(m)e.moveTo(i,a),m=!1;else{if(n)l=f[2],u=f[3];else{
var h=t._handleIn;l=i+h._x,u=a+h._y}l===i&&u===a&&c===o&&d===s?e.lineTo(i,a):e.bezierCurveTo(c,d,l,u,i,a);
}if(o=i,s=a,n)c=f[4],d=f[5];else{var h=t._handleOut;c=o+h._x,d=s+h._y}}for(var i,a,o,s,l,u,c,d,h=t._segments,v=h.length,f=new Array(6),m=!0,p=0;v>p;p++)r(h[p]);
t._closed&&v>0&&r(h[0])}return{_draw:function(t,r,i){function a(e){return d[(e%h+h)%h];
}var o=r.dontStart,s=r.dontFinish||r.clip,l=this.getStyle(),u=l.hasFill(),c=l.hasStroke(),d=l.getDashArray(),h=!e.support.nativeDash&&c&&d&&d.length;
if(o||t.beginPath(),(u||c&&!h||s)&&(n(t,this,i),this._closed&&t.closePath()),!s&&(u||c)&&(this._setStyles(t),
u&&(t.fill(l.getFillRule()),t.shadowBlur=0),c)){if(h){o||t.beginPath();var v,f=new N(this,32,.25,i),m=f.length,p=-l.getDashOffset(),b=0;
for(p%=m;p>0;)p-=a(b--)+a(b--);for(;m>p;)v=p+a(b++),(p>0||v>0)&&f.drawPart(t,Math.max(p,0),Math.max(v,0)),
p=v+a(b++)}t.stroke()}},_drawSelected:function(r,i){r.beginPath(),n(r,this,i),r.stroke(),
t(r,this._segments,i,e.settings.handleSize)}}},new function(){function e(e){var t=e._segments;
if(0===t.length)throw new Error("Use a moveTo() command first");return t[t.length-1];
}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),
e.length||this._add([new R(u.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.");
},lineTo:function(){this._add([new R(u.read(arguments))])},cubicCurveTo:function(){
var t=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=e(this);i.setHandleOut(t.subtract(i._point)),
this._add([new R(r,n.subtract(r))])},quadraticCurveTo:function(){var t=u.read(arguments),n=u.read(arguments),r=e(this)._point;
this.cubicCurveTo(t.add(r.subtract(t).multiply(1/3)),t.add(n.subtract(t).multiply(1/3)),n);
},curveTo:function(){var t=u.read(arguments),r=u.read(arguments),i=n.pick(n.read(arguments),.5),a=1-i,o=e(this)._point,s=t.subtract(o.multiply(a*a)).subtract(r.multiply(i*i)).divide(2*i*a);
if(s.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);
this.quadraticCurveTo(s,r)},arcTo:function(){var t,r,i,a,o,s=e(this),l=s._point,c=u.read(arguments),h=n.peek(arguments),v=n.pick(h,!0);
if("boolean"==typeof v)var f=l.add(c).divide(2),t=f.add(f.subtract(l).rotate(v?-90:90));else if(n.remain(arguments)<=2)t=c,
c=u.read(arguments);else{var b=d.read(arguments);if(b.isZero())return this.lineTo(c);
var g=n.read(arguments),v=!!n.read(arguments),y=!!n.read(arguments),f=l.add(c).divide(2),x=l.subtract(f).rotate(-g),_=x.x,w=x.y,S=Math.abs,k=S(b.width),C=S(b.height),M=k*k,E=C*C,P=_*_,A=w*w,T=Math.sqrt(P/M+A/E);
if(T>1&&(k*=T,C*=T,M=k*k,E=C*C),T=(M*E-M*A-E*P)/(M*A+E*P),S(T)<1e-12&&(T=0),0>T)throw new Error("Cannot create an arc with the given arguments");
r=new u(k*w/C,-C*_/k).multiply((y===v?-1:1)*Math.sqrt(T)).rotate(g).add(f),o=(new m).translate(r).rotate(g).scale(k,C),
a=o._inverseTransform(l),i=a.getDirectedAngle(o._inverseTransform(c)),!v&&i>0?i-=360:v&&0>i&&(i+=360);
}if(t){var L=new p(l.add(t).divide(2),t.subtract(l).rotate(90),!0),N=new p(t.add(c).divide(2),c.subtract(t).rotate(90),!0),$=new p(l,c),O=$.getSide(t);
if(r=L.intersect(N,!0),!r){if(!O)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments");
}a=l.subtract(r),i=a.getDirectedAngle(c.subtract(r));var V=$.getSide(r);0===V?i=O*Math.abs(i):O===V&&(i+=0>i?360:-360);
}for(var j=Math.abs(i),z=j>=360?4:Math.ceil(j/90),I=i/z,D=I*Math.PI/360,G=4/3*Math.sin(D)/(1+Math.cos(D)),B=[],U=0;z>=U;U++){
var x=c,H=null;if(z>U&&(H=a.rotate(90).multiply(G),o?(x=o._transformPoint(a),H=o._transformPoint(a.add(H)).subtract(x)):x=r.add(a)),
0===U)s.setHandleOut(H);else{var F=a.rotate(-90).multiply(G);o&&(F=o._transformPoint(a.add(F)).subtract(x)),
B.push(new R(x,F,H))}a=a.rotate(I)}this._add(B)},lineBy:function(){var t=u.read(arguments),n=e(this)._point;
this.lineTo(n.add(t))},curveBy:function(){var t=u.read(arguments),r=u.read(arguments),i=n.read(arguments),a=e(this)._point;
this.curveTo(a.add(t),a.add(r),i)},cubicCurveBy:function(){var t=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=e(this)._point;
this.cubicCurveTo(i.add(t),i.add(n),i.add(r))},quadraticCurveBy:function(){var t=u.read(arguments),n=u.read(arguments),r=e(this)._point;
this.quadraticCurveTo(r.add(t),r.add(n))},arcBy:function(){var t=e(this)._point,r=t.add(u.read(arguments)),i=n.pick(n.peek(arguments),!0);
"boolean"==typeof i?this.arcTo(r,i):this.arcTo(r,t.add(u.read(arguments)))},closePath:function(e){
this.setClosed(!0),e&&this.join()}}},{_getBounds:function(e,t){return T[e](this._segments,this._closed,this.getStyle(),t);
},statics:{getBounds:function(e,t,n,r,i){function a(e){e._transformCoordinates(r,s,!1);
for(var t=0;2>t;t++)E._addBounds(l[t],l[t+4],s[t+2],s[t],t,i?i[t]:0,u,c,d);var n=l;
l=s,s=n}var o=e[0];if(!o)return new v;for(var s=new Array(6),l=o._transformCoordinates(r,new Array(6),!1),u=l.slice(0,2),c=u.slice(),d=new Array(2),h=1,f=e.length;f>h;h++)a(e[h]);
return t&&a(o),new v(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,r){
function i(e){h=h.include(r?r._transformPoint(e,e):e)}function a(e){h=h.unite(b.setCenter(r?r._transformPoint(e._point):e._point));
}function o(e,t){var n=e._handleIn,r=e._handleOut;"round"===t||!n.isZero()&&!r.isZero()&&n.isCollinear(r)?a(e):T._addBevelJoin(e,t,u,p,i);
}function s(e,t){"round"===t?a(e):T._addSquareCap(e,t,u,i)}if(!n.hasStroke())return T.getBounds(e,t,n,r);
for(var l=e.length-(t?0:1),u=n.getStrokeWidth()/2,c=T._getPenPadding(u,r),h=T.getBounds(e,t,n,r,c),f=n.getStrokeJoin(),m=n.getStrokeCap(),p=u*n.getMiterLimit(),b=new v(new d(c).multiply(2)),g=1;l>g;g++)o(e[g],f);
return t?o(e[0],f):l>0&&(s(e[0],m),s(e[e.length-1],m)),h},_getPenPadding:function(e,t){
if(!t)return[e,e];var n=t.shiftless(),r=n.transform(new u(e,0)),i=n.transform(new u(0,e)),a=r.getAngleInRadians(),o=r.getLength(),s=i.getLength(),l=Math.sin(a),c=Math.cos(a),d=Math.tan(a),h=Math.atan2(s*d,o),v=Math.atan2(s,d*o);
return[Math.abs(o*Math.cos(h)*c+s*Math.sin(h)*l),Math.abs(s*Math.sin(v)*c+o*Math.cos(v)*l)];
},_addBevelJoin:function(e,t,n,r,i,a){var o=e.getCurve(),s=o.getPrevious(),l=o.getPointAt(0,!0),c=s.getNormalAt(1,!0),d=o.getNormalAt(0,!0),h=c.getDirectedAngle(d)<0?-n:n;
if(c.setLength(h),d.setLength(h),a&&(i(l),i(l.add(c))),"miter"===t){var v=new p(l.add(c),new u(-c.y,c.x),!0).intersect(new p(l.add(d),new u(-d.y,d.x),!0),!0);
if(v&&l.getDistance(v)<=r&&(i(v),!a))return}a||i(l.add(c)),i(l.add(d))},_addSquareCap:function(e,t,n,r,i){
var a=e._point,o=e.getLocation(),s=o.getNormal().multiply(n);i&&(r(a.subtract(s)),
r(a.add(s))),"square"===t&&(a=a.add(s.rotate(0===o.getParameter()?-90:90))),r(a.add(s)),
r(a.subtract(s))},getHandleBounds:function(e,t,n,r,i,a){for(var o=new Array(6),s=1/0,l=-s,u=s,c=l,d=0,h=e.length;h>d;d++){
var f=e[d];f._transformCoordinates(r,o,!1);for(var m=0;6>m;m+=2){var p=0===m?a:i,b=p?p[0]:0,g=p?p[1]:0,y=o[m],x=o[m+1],_=y-b,w=y+b,S=x-g,k=x+g;
s>_&&(s=_),w>l&&(l=w),u>S&&(u=S),k>c&&(c=k)}}return new v(s,u,l-s,c-u)},getRoughBounds:function(e,t,n,r){
var i=n.hasStroke()?n.getStrokeWidth()/2:0,a=i;return i>0&&("miter"===n.getStrokeJoin()&&(a=i*n.getMiterLimit()),
"square"===n.getStrokeCap()&&(a=Math.max(a,i*Math.sqrt(2)))),T.getHandleBounds(e,t,n,r,T._getPenPadding(i,r),T._getPenPadding(a,r));
}}});T.inject({statics:new function(){function e(e,t,r){var i=n.getNamed(r),a=new T(i&&i.insert===!1&&y.NO_INSERT);
return a._add(e),a._closed=t,a.set(i)}function t(t,n,r){for(var a=new Array(4),o=0;4>o;o++){
var s=i[o];a[o]=new R(s._point.multiply(n).add(t),s._handleIn.multiply(n),s._handleOut.multiply(n));
}return e(a,!0,r)}var r=.5522847498307936,i=[new R([-1,0],[0,r],[0,-r]),new R([0,-1],[-r,0],[r,0]),new R([1,0],[0,-r],[0,r]),new R([0,1],[r,0],[-r,0])];
return{Line:function(){return e([new R(u.readNamed(arguments,"from")),new R(u.readNamed(arguments,"to"))],!1,arguments);
},Circle:function(){var e=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"radius");
return t(e,new d(r),arguments)},Rectangle:function(){var t,n=v.readNamed(arguments,"rectangle"),i=d.readNamed(arguments,"radius",0,{
readNull:!0}),a=n.getBottomLeft(!0),o=n.getTopLeft(!0),s=n.getTopRight(!0),l=n.getBottomRight(!0);
if(!i||i.isZero())t=[new R(a),new R(o),new R(s),new R(l)];else{i=d.min(i,n.getSize(!0).divide(2));
var u=i.width,c=i.height,h=u*r,f=c*r;t=[new R(a.add(u,0),null,[-h,0]),new R(a.subtract(0,c),[0,f]),new R(o.add(0,c),null,[0,-f]),new R(o.add(u,0),[-h,0],null),new R(s.subtract(u,0),null,[h,0]),new R(s.add(0,c),[0,-f],null),new R(l.subtract(0,c),null,[0,f]),new R(l.subtract(u,0),[h,0])];
}return e(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=w._readEllipse(arguments);
return t(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=u.readNamed(arguments,"from"),t=u.readNamed(arguments,"through"),r=u.readNamed(arguments,"to"),i=n.getNamed(arguments),a=new T(i&&i.insert===!1&&y.NO_INSERT);
return a.moveTo(e),a.arcTo(t,r),a.set(i)},RegularPolygon:function(){for(var t=u.readNamed(arguments,"center"),r=n.readNamed(arguments,"sides"),i=n.readNamed(arguments,"radius"),a=360/r,o=r%3===0,s=new u(0,o?-i:i),l=o?-1:.5,c=new Array(r),d=0;r>d;d++)c[d]=new R(t.add(s.rotate((d+l)*a)));
return e(c,!0,arguments)},Star:function(){for(var t=u.readNamed(arguments,"center"),r=2*n.readNamed(arguments,"points"),i=n.readNamed(arguments,"radius1"),a=n.readNamed(arguments,"radius2"),o=360/r,s=new u(0,-1),l=new Array(r),c=0;r>c;c++)l[c]=new R(t.add(s.rotate(o*c).multiply(c%2?a:i)));
return e(l,!0,arguments)}}}});var L=A.extend({_class:"CompoundPath",_serializeFields:{
children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments));
},insertChildren:function me(e,n,r){for(var i=n.length-1;i>=0;i--){var a=n[i];a instanceof L&&(n.splice.apply(n,[i,1].concat(a.removeChildren())),
a.remove())}n=me.base.call(this,e,n,r,T);for(var i=0,o=!r&&n&&n.length;o>i;i++){var a=n[i];
a._clockwise===t&&a.setClockwise(0===a._index)}return n},reverse:function(){for(var e=this._children,t=0,n=e.length;n>t;t++)e[t].reverse();
},reduce:function pe(e){for(var t=this._children,n=t.length-1;n>=0;n--){var r=t[n].reduce(e);
r.isEmpty()&&r.remove()}if(0===t.length){var r=new T(y.NO_INSERT);return r.copyAttributes(this),
r.insertAbove(this),this.remove(),r}return pe.base.call(this)},smooth:function(e){
for(var t=this._children,n=0,r=t.length;r>n;n++)t[n].smooth(e)},isClockwise:function(){
var e=this.getFirstChild();return e&&e.isClockwise()},setClockwise:function(e){this.isClockwise()!==!!e&&this.reverse();
},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment();
},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment();
},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;r>n;n++)t.push.apply(t,e[n].getCurves());
return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve();
},getLastCurve:function(){var e=this.getLastChild();return e&&e.getFirstCurve()},
getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;r>n;n++)t+=e[n].getArea();
return t}},{beans:!0,getPathData:function(e,t){for(var n=this._children,r=[],i=0,a=n.length;a>i;i++){
var o=n[i],s=o._matrix;r.push(o.getPathData(e&&!s.isIdentity()?e.chain(s):e,t))}return r.join(" ");
}},{_getChildHitTestOptions:function(e){return e["class"]===T||"path"===e.type?e:new n(e,{
fill:!1})},_draw:function(e,t,n){var r=this._children;if(0!==r.length){t=t.extend({
dontStart:!0,dontFinish:!0}),e.beginPath();for(var i=0,a=r.length;a>i;i++)r[i].draw(e,t,n);
if(!t.clip){this._setStyles(e);var o=this._style;o.hasFill()&&(e.fill(o.getFillRule()),
e.shadowBlur=0),o.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,a=r.length;a>i;i++){
var o=r[i],s=o._matrix;n[o._id]||o._drawSelected(e,s.isIdentity()?t:t.chain(s))}}
},new function(){function e(e,t){var n=e._children;if(t&&0===n.length)throw new Error("Use a moveTo() command first");
return n[n.length-1]}var t={moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new T(y.NO_INSERT);
n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),r=u.read(arguments);
this.moveTo(n?r.add(n._point):r)},closePath:function(t){e(this,!0).closePath(t)}};
return n.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(n){
t[n]=function(){var t=e(this,!0);t[n].apply(t,arguments)}}),t});A.inject(new function(){
function e(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return t?n.resolveCrossings():n;
}function t(e,t,n){return e.insertAbove(n&&t.isSibling(n)&&t.getIndex()<n.getIndex()?n:t),
e.copyAttributes(t,!0),e}function r(e,t,n){var r=new e(y.NO_INSERT);return r.addChildren(t,!0),
n&&(r=r.reduce({simplify:!0})),r}function i(n,i,o){function s(e){for(var t=0,n=e.length;n>t;t++){
var r=e[t];p.push.apply(p,r._segments),b.push.apply(b,r._getMonoCurves())}}var u=v[o];
if(u[o]=!0,!n._children&&!n._closed)return a(n,i,u);var c=e(n,!0),f=i&&n!==i&&e(i,!0);
f&&(u.subtract||u.exclude)^f.isClockwise()!==c.isClockwise()&&f.reverse();var m=l(P.expand(c.getCrossings(f))),p=[],b=[],g=!0,x=!0;
s(c._children||[c]),f&&s(f._children||[f]);for(var _=0,w=m.length;w>_;_++)d(m[_]._segment,c,f,b,u);
for(var _=0,w=p.length;w>_;_++){var S=p[_],k=S._intersection;null==S._winding&&d(S,c,f,b,u),
k&&k._overlap||(g=!1,u[S._winding]&&(x=!1))}return t(g?(u.unite||u.intersect)&&n.getArea()?n.clone(!1):new T(y.NO_INSERT):r(L,h(p,u,x),!g),n,i);
}function a(n,i,a){function o(e){return l.contains(e.getPointAt(e.getLength()/2))^c?(d.unshift(e),
!0):void 0}if(!i||!i._children&&!i._closed||!a.subtract&&!a.intersect)return null;
for(var s=e(n,!1),l=e(i,!1),u=s.getCrossings(l),c=a.subtract,d=[],h=u.length-1;h>=0;h--){
var v=u[h].split();v&&(o(v)&&v.getFirstSegment().setHandleIn(0,0),s.getLastSegment().setHandleOut(0,0));
}return o(s),t(r(x,d),n,i)}function o(e,t){for(var n=e;n;){if(n===t)return;n=n._prev;
}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._prev;)t=t._prev;e._next=t,
t._prev=e}}function l(e,t){for(var n,r,i=t&&[],a=4e-7,s=1-a,l=!1,u=[],c=e.length-1;c>=0;c--){
var d=e[c];if(t){if(!t(d))continue;i.unshift(d)}var h=d._curve,v=d._parameter,f=v,m=void 0;
if(h!==n?l=!h.hasHandles():r>0&&(v/=r),a>v)m=h._segment1;else if(v>s)m=h._segment2;else{
var p=h.divide(v,!0,!0);l&&u.push(h,p),m=p._segment1}d._setSegment(m);var b=m._intersection,g=d._intersection;
if(b){o(b,g);for(var y=b;y;)o(y._intersection,b),y=y._next}else m._intersection=g;
n=h,r=f}for(var c=0,x=u.length;x>c;c++)u[c].clearHandles();return i||e}function c(e,t,n){
var r=2e-7,i=e.x,a=e.y,o=0,s=0,l=t.length,d=[],h=Math.abs;if(n){for(var v=-(1/0),f=1/0,m=a-r,p=a+r,b=0;l>b;b++)for(var g=t[b].values,y=E.solveCubic(g,0,i,d,0,1),x=y-1;x>=0;x--){
var _=E.getPoint(g,d[x]).y;m>_&&_>v?v=_:_>p&&f>_&&(f=_)}v=(v+a)/2,f=(f+a)/2,v>-(1/0)&&(o=c(new u(i,v),t)),
1/0>f&&(s=c(new u(i,f),t))}else for(var w,S=i-r,k=i+r,C=0;l>C;){w=C;var R=t[w],M=R.last,P=M.winding,A=M.values[6];
C=w+R.length;for(var b=w;C>b;b++){var R=t[b],T=R.winding,g=R.values,L=g[1],N=g[7];
if(T&&(a>=L&&N>=a||a>=N&&L>=a)){var $=a===L?g[0]:a===N?g[6]:1===E.solveCubic(g,1,a,d,0,1)?E.getPoint(g,d[0]).x:null;
if(null!=$){var O=T===-P;(a!==L||O||0>($-i)*(A-i))&&(S>$?o+=T:$>k?s+=T:a===L&&O&&(++o,
++s))}P=T,A=g[6]}}}return Math.max(h(o),h(s))}function d(e,t,n,r,i){var a=[],o=e,s=0,l=0;
do{var u=e.getCurve(),d=u.getLength();a.push({segment:e,curve:u,length:d}),s+=d,e=e.getNext();
}while(e&&!e._intersection&&e!==o);for(var h=0;3>h;h++)for(var d=s*(h+1)/4,v=0,f=a.length;f>v;v++){
var m=a[v],p=m.length;if(p>=d){var u=m.curve,b=u._path,g=b._parent,y=u.getParameterAt(d),x=u.getPointAt(y,!0),_=Math.abs(u.getTangentAt(y,!0).y)<1e-7;
g instanceof L&&(b=g),i.subtract&&n&&(b===t&&n._getWinding(x,_)||b===n&&!t._getWinding(x,_))||(l+=c(x,r,_));
break}d-=p}for(var w=Math.round(l/3),v=a.length-1;v>=0;v--)a[v].segment._winding=w;
}function h(e,t,n){function r(e){return!(e._visited||t&&!t[e._winding])}function i(e){
return e===o||e===l}function a(e,n){if(!e._next)return e;for(;e;){var a=e._segment,o=a.getNext(),s=o._intersection;
if(i(a)||i(o)||!a._visited&&!o._visited&&(!t||(!n||r(a))&&(!(n&&s&&s._overlap)&&r(o)||!n&&s&&r(s._segment))))return e;
e=e._next}return null}for(var o,l,u=[],c=0,d=e.length;d>c;c++){var h=null,v=!1,f=e[c],m=f._intersection,p=void 0;
if(!(!r(f)||!n&&m&&f._winding&&m._overlap)){for(o=l=null;;){p=h&&f._handleIn,m=m&&(a(m,!0)||a(m,!1))||m;
var b=m&&m._segment;if(i(f)?v=!0:b&&(i(b)?(v=!0,f=b):r(b)&&(t&&t.intersect&&m._overlap&&(f._visited=!0),
f=b)),v||f._visited){f._visited=!0;break}if(n&&!r(f))break;h||(h=new T(y.NO_INSERT),
o=f,l=b),h.add(new R(f._point,p,f._handleOut)),f._visited=!0,f=f.getNext(),m=f._intersection;
}if(v)h.firstSegment.setHandleIn(p),h.setClosed(!0);else if(h){var g=h.getLength();
g>=2e-7&&console.error("Boolean operation resulted in open path","segments =",h._segments.length,"length =",g),
h=null}h&&(h._segments.length>8||!s.isZero(h.getArea()))&&(u.push(h),h=null)}}return u;
}var v={unite:{0:!0,1:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0}};return{
_getWinding:function(e,t){return c(e,this._getMonoCurves(),t)},unite:function(e){
return i(this,e,"unite")},intersect:function(e){return i(this,e,"intersect")},subtract:function(e){
return i(this,e,"subtract")},exclude:function(e){return i(this,e,"exclude")},divide:function(e){
return t(r(x,[this.subtract(e),this.intersect(e)],!0),this,e)},resolveCrossings:function(){
function e(e){var t=e&&e._intersection;return t&&t._overlap}var t=this._children,r=t||[this],i=!1,a=!1,o=this.getIntersections(null,function(e){
return e._overlap&&(i=!0)||e.isCrossing()&&(a=!0)});if(o=P.expand(o),i)for(var s=l(o,function(e){
return e._overlap}),u=s.length-1;u>=0;u--){var c=s[u]._segment,d=c.getPrevious(),v=c.getNext();
if(c._path&&e(d)&&e(v)){c.remove(),d._handleOut.set(0,0),v._handleIn.set(0,0);var f=d.getCurve();
f.isStraight()&&0===f.getLength()&&d.remove()}}a&&(l(o,i&&function(e){var t=e.getCurve(),n=e._intersection._curve,r=e._segment;
return t&&n&&t._path&&n._path?!0:void(r&&(r._intersection=null))}),r=h(n.each(r,function(e){
this.push.apply(this,e._segments)},[])));var m,p=r.length;if(p>1){r=r.slice().sort(function(e,t){
return t.getBounds().getArea()-e.getBounds().getArea()});for(var b=r[0],g=[b],x={},_="nonzero"===this.getFillRule(),w=_&&n.each(r,function(e){
this.push(e.isClockwise()?1:-1)},[]),u=1;p>u;u++){for(var S=r[u],k=S.getInteriorPoint(),C=!1,R=null,M=!1,E=u-1;E>=0&&!R;E--)if(r[E].contains(k)){
if(_&&!C&&(w[u]+=w[E],w[u]&&w[E])){M=x[u]=!0;break}C=!0,R=!x[E]&&r[E]}M||(S.setClockwise(R?!R.isClockwise():b.isClockwise()),
g.push(S))}r=g,p=g.length}return p>1&&t?(r!==t&&this.setChildren(r,!0),m=this):1!==p||t||(r[0]!==this&&this.setSegments(r[0].removeSegments()),
m=this),m||(m=new L(y.NO_INSERT),m.addChildren(r,!0),m=m.reduce(),m.copyAttributes(this),
this.replaceWith(m)),m}}}),T.inject({_getMonoCurves:function(){function e(e){var t=e[1],i=e[7],a=Math.abs((t-i)/(e[0]-e[6]))<2e-7?0:t>i?-1:1,o={
values:e,winding:a};r.push(o),a&&(n=o)}function t(t){if(0!==E.getLength(t)){var n=t[1],r=t[3],i=t[5],a=t[7];
if(E.isStraight(t)||n>=r==r>=i&&r>=i==i>=a)e(t);else{var o=3*(r-i)-n+a,l=2*(n+i)-4*r,u=r-n,c=4e-7,d=1-c,h=[],v=s.solveQuadratic(o,l,u,h,c,d);
if(0===v)e(t);else{h.sort();var f=h[0],m=E.subdivide(t,f);e(m[0]),v>1&&(f=(h[1]-f)/(1-f),
m=E.subdivide(m[1],f),e(m[0])),e(m[1])}}}}var n,r=this._monoCurves;if(!r){r=this._monoCurves=[];
for(var i=this.getCurves(),a=this._segments,o=0,l=i.length;l>o;o++)t(i[o].getValues());
if(!this._closed&&a.length>1){var u=a[a.length-1]._point,c=a[0]._point,d=u._x,h=u._y,v=c._x,f=c._y;
t([d,h,d,h,v,f,v,f])}if(r.length>0){var m=r[0];m.length=r.length,m.last=n}}return r;
},getInteriorPoint:function(){var e=this.getBounds(),t=e.getCenter(!0);if(!this.contains(t)){
for(var n=this._getMonoCurves(),r=[],i=t.y,a=[],o=0,s=n.length;s>o;o++){var l=n[o].values;
if(1===n[o].winding&&i>=l[1]&&i<=l[7]||i>=l[7]&&i<=l[1])for(var u=E.solveCubic(l,1,i,r,0,1),c=u-1;c>=0;c--)a.push(E.getPoint(l,r[c]).x);
if(a.length>1)break}t.x=(a[0]+a[1])/2}return t}}),L.inject({_getMonoCurves:function(){
for(var e=this._children,t=[],n=0,r=e.length;r>n;n++)t.push.apply(t,e[n]._getMonoCurves());
return t}});var N=n.extend({_class:"PathIterator",initialize:function(e,t,n,r){function i(e,t){
var n=E.getValues(e,t,r);s.push(n),a(n,e._index,0,1)}function a(e,t,r,i){if(i-r>c&&!E.isFlatEnough(e,n||.25)){
var o=E.subdivide(e,.5),s=(r+i)/2;a(o[0],t,r,s),a(o[1],t,s,i)}else{var d=e[6]-e[0],h=e[7]-e[1],v=Math.sqrt(d*d+h*h);
v>1e-6&&(u+=v,l.push({offset:u,value:i,index:t}))}}for(var o,s=[],l=[],u=0,c=1/(t||32),d=e._segments,h=d[0],v=1,f=d.length;f>v;v++)o=d[v],
i(h,o),h=o;e._closed&&i(o,d[0]),this.curves=s,this.parts=l,this.length=u,this.index=0;
},getParameterAt:function(e){for(var t,n=this.index;t=n,!(0===n||this.parts[--n].offset<e););
for(var r=this.parts.length;r>t;t++){var i=this.parts[t];if(i.offset>=e){this.index=t;
var a=this.parts[t-1],o=a&&a.index==i.index?a.value:0,s=a?a.offset:0;return{value:o+(i.value-o)*(e-s)/(i.offset-s),
index:i.index}}}var i=this.parts[this.parts.length-1];return{value:1,index:i.index
}},drawPart:function(e,t,n){t=this.getParameterAt(t),n=this.getParameterAt(n);for(var r=t.index;r<=n.index;r++){
var i=E.getPart(this.curves[r],r==t.index?t.value:0,r==n.index?n.value:1);r==t.index&&e.moveTo(i[0],i[1]),
e.bezierCurveTo.apply(e,i.slice(2))}}},n.each(E.evaluateMethods,function(e){this[e+"At"]=function(t,n){
var r=this.getParameterAt(t);return E[e](this.curves[r.index],r.value,n)}},{})),$=n.extend({
initialize:function(e,t){for(var n,r=this.points=[],i=e._segments,a=0,o=i.length;o>a;a++){
var s=i[a].point.clone();n&&n.equals(s)||(r.push(s),n=s)}e._closed&&(this.closed=!0,
r.unshift(r[r.length-1]),r.push(r[1])),this.error=t},fit:function(){var e=this.points,t=e.length,n=this.segments=t>0?[new R(e[0])]:[];
return t>1&&this.fitCubic(0,t-1,e[1].subtract(e[0]).normalize(),e[t-2].subtract(e[t-1]).normalize()),
this.closed&&(n.shift(),n.pop()),n},fitCubic:function(e,t,n,r){if(t-e==1){var i=this.points[e],a=this.points[t],o=i.getDistance(a)/3;
return void this.addCurve([i,i.add(n.normalize(o)),a.add(r.normalize(o)),a])}for(var s,l=this.chordLengthParameterize(e,t),u=Math.max(this.error,this.error*this.error),c=!0,d=0;4>=d;d++){
var h=this.generateBezier(e,t,l,n,r),v=this.findMaxError(e,t,h,l);if(v.error<this.error&&c)return void this.addCurve(h);
if(s=v.index,v.error>=u)break;c=this.reparameterize(e,t,l,h),u=v.error}var f=this.points[s-1].subtract(this.points[s]),m=this.points[s].subtract(this.points[s+1]),p=f.add(m).divide(2).normalize();
this.fitCubic(e,s,n,p),this.fitCubic(s,t,p.negate(),r)},addCurve:function(e){var t=this.segments[this.segments.length-1];
t.setHandleOut(e[1].subtract(e[0])),this.segments.push(new R(e[3],e[2].subtract(e[3])));
},generateBezier:function(e,t,n,r,i){for(var a=1e-12,o=this.points[e],s=this.points[t],l=[[0,0],[0,0]],u=[0,0],c=0,d=t-e+1;d>c;c++){
var h=n[c],v=1-h,f=3*h*v,m=v*v*v,p=f*v,b=f*h,g=h*h*h,y=r.normalize(p),x=i.normalize(b),_=this.points[e+c].subtract(o.multiply(m+p)).subtract(s.multiply(b+g));
l[0][0]+=y.dot(y),l[0][1]+=y.dot(x),l[1][0]=l[0][1],l[1][1]+=x.dot(x),u[0]+=y.dot(_),
u[1]+=x.dot(_)}var w,S,k=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(Math.abs(k)>a){var C=l[0][0]*u[1]-l[1][0]*u[0],R=u[0]*l[1][1]-u[1]*l[0][1];
w=R/k,S=C/k}else{var M=l[0][0]+l[0][1],E=l[1][0]+l[1][1];w=S=Math.abs(M)>a?u[0]/M:Math.abs(E)>a?u[1]/E:0;
}var P,A,T=s.getDistance(o),L=a*T;if(L>w||L>S)w=S=T/3;else{var N=s.subtract(o);P=r.normalize(w),
A=i.normalize(S),P.dot(N)-A.dot(N)>T*T&&(w=S=T/3,P=A=null)}return[o,o.add(P||r.normalize(w)),s.add(A||i.normalize(S)),s];
},reparameterize:function(e,t,n,r){for(var i=e;t>=i;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e]);
for(var i=1,a=n.length;a>i;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(e,t,n){
for(var r=[],i=[],a=0;2>=a;a++)r[a]=e[a+1].subtract(e[a]).multiply(3);for(var a=0;1>=a;a++)i[a]=r[a+1].subtract(r[a]).multiply(2);
var o=this.evaluate(3,e,n),s=this.evaluate(2,r,n),l=this.evaluate(1,i,n),u=o.subtract(t),c=s.dot(s)+u.dot(l);
return Math.abs(c)<1e-6?n:n-u.dot(s)/c},evaluate:function(e,t,n){for(var r=t.slice(),i=1;e>=i;i++)for(var a=0;e-i>=a;a++)r[a]=r[a].multiply(1-n).add(r[a+1].multiply(n));
return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;t>=r;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);
for(var r=1,i=t-e;i>=r;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),a=0,o=e+1;t>o;o++){
var s=this.evaluate(3,n,r[o-e]),l=s.subtract(this.points[o]),u=l.x*l.x+l.y*l.y;u>=a&&(a=u,
i=o)}return{error:a,index:i}}}),O=y.extend({_class:"TextItem",_boundsSelected:!0,
_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",
initialize:function(e){this._content="",this._lines=[];var r=e&&n.isPlainObject(e)&&e.x===t&&e.y===t;
this._initialize(r&&e,!r&&u.read(arguments))},_equals:function(e){return this._content===e._content;
},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content;
},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),
this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",
setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"
}),V=O.extend({_class:"PointText",initialize:function(){O.apply(this,arguments)},
getPoint:function(){var e=this._matrix.getTranslation();return new c(e.x,e.y,this,"setPoint");
},setPoint:function(){var e=u.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()));
},_draw:function(e){if(this._content){this._setStyles(e);var t=this._lines,n=this._style,r=n.hasFill(),i=n.hasStroke(),a=n.getLeading(),o=e.shadowBlur;
e.font=n.getFontStyle(),e.textAlign=n.getJustification();for(var s=0,l=t.length;l>s;s++){
e.shadowBlur=o;var u=t[s];r&&(e.fillText(u,0,0),e.shadowBlur=0),i&&e.strokeText(u,0,0),
e.translate(0,a)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,a=n.getJustification(),o=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),r),l=0;
"left"!==a&&(l-=s/("center"===a?2:1));var u=new v(l,i?-.75*o:0,s,i*o);return t?t._transformBounds(u,u):u;
}}),j=n.extend(new function(){function e(e){var n,r=e.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);
if(r){n=[0,0,0];for(var i=0;3>i;i++){var o=r[i+1];n[i]=parseInt(1==o.length?o+o:o,16)/255;
}}else if(r=e.match(/^rgba?\((.*)\)$/)){n=r[1].split(",");for(var i=0,s=n.length;s>i;i++){
var o=+n[i];n[i]=3>i?o/255:o}}else{var l=a[e];if(!l){t||(t=J.getContext(1,1),t.globalCompositeOperation="copy"),
t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var u=t.getImageData(0,0,1,1).data;
l=a[e]=[u[0]/255,u[1]/255,u[2]/255]}n=l.slice()}return n}var t,r={gray:["gray"],rgb:["red","green","blue"],
hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]
},i={},a={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(e,t,n){
var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=0===a?0:60*(r==e?(t-n)/a+(n>t?6:0):r==t?(n-e)/a+2:(e-t)/a+4);
return[o,0===r?0:a/r,r]},"hsb-rgb":function(e,t,n){e=(e/60%6+6)%6;var r=Math.floor(e),i=e-r,r=s[r],a=[n,n*(1-t),n*(1-t*i),n*(1-t*(1-i))];
return[a[r[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=0===a,s=o?0:60*(r==e?(t-n)/a+(n>t?6:0):r==t?(n-e)/a+2:(e-t)/a+4),l=(r+i)/2,u=o?0:.5>l?a/(r+i):a/(2-r-i);
return[s,u,l]},"hsl-rgb":function(e,t,n){if(e=(e/360%1+1)%1,0===t)return[n,n,n];for(var r=[e+1/3,e,e-1/3],i=.5>n?n*(1+t):n+t-n*t,a=2*n-i,o=[],s=0;3>s;s++){
var l=r[s];0>l&&(l+=1),l>1&&(l-=1),o[s]=1>6*l?a+6*(i-a)*l:1>2*l?i:2>3*l?a+(i-a)*(2/3-l)*6:a;
}return o},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){
return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e];
},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return n.each(r,function(e,t){
i[t]=[],n.each(e,function(e,a){var o=n.capitalize(e),s=/^(hue|saturation)$/.test(e),l=i[t][a]="gradient"===e?function(e){
var t=this._components[0];return e=z.read(Array.isArray(e)?e:arguments,0,{readNull:!0
}),t!==e&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:"gradient"===t?function(){
return u.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:e;
};this["get"+o]=function(){return this._type===t||s&&/^hs[bl]$/.test(this._type)?this._components[a]:this._convert(t)[a];
},this["set"+o]=function(e){this._type===t||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(t),
this._properties=r[t],this._type=t),this._components[a]=l.call(this,e),this._changed();
}},this)},{_class:"Color",_readIndex:!0,initialize:function d(t){var n,a,o,s,u=Array.prototype.slice,c=arguments,h=0;
Array.isArray(t)&&(c=t,t=c[0]);var v=null!=t&&("undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t));
if("string"===v&&t in r&&(n=t,t=c[1],Array.isArray(t)?(a=t,o=c[2]):(this.__read&&(h=1),
c=u.call(c,1),v="undefined"==typeof t?"undefined":$traceurRuntime["typeof"](t))),
!a){if(s="number"===v?c:"object"===v&&null!=t.length?t:null){n||(n=s.length>=3?"rgb":"gray");
var f=r[n].length;o=s[f],this.__read&&(h+=s===arguments?f+(null!=o?1:0):1),s.length>f&&(s=u.call(s,0,f));
}else if("string"===v)n="rgb",a=e(t),4===a.length&&(o=a[3],a.length--);else if("object"===v)if(t.constructor===d){
if(n=t._type,a=t._components.slice(),o=t._alpha,"gradient"===n)for(var m=1,p=a.length;p>m;m++){
var b=a[m];b&&(a[m]=b.clone())}}else if(t.constructor===z)n="gradient",s=c;else{n="hue"in t?"lightness"in t?"hsl":"hsb":"gradient"in t||"stops"in t||"radial"in t?"gradient":"gray"in t?"gray":"rgb";
var g=r[n],y=i[n];this._components=a=[];for(var m=0,p=g.length;p>m;m++){var x=t[g[m]];
null==x&&0===m&&"gradient"===n&&"stops"in t&&(x={stops:t.stops,radial:t.radial}),
x=y[m].call(this,x),null!=x&&(a[m]=x)}o=t.alpha}this.__read&&n&&(h=1)}if(this._type=n||"rgb",
this._id=l.get(d),!a){this._components=a=[];for(var y=i[this._type],m=0,p=y.length;p>m;m++){
var x=y[m].call(this,s&&s[m]);null!=x&&(a[m]=x)}}this._components=a,this._properties=r[this._type],
this._alpha=o,this.__read&&(this.__read=h)},_serialize:function(e,t){var r=this.getComponents();
return n.serialize(/^(gray|rgb)$/.test(this._type)?r:[this._type].concat(r),e,!0,t);
},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65);
},_convert:function(e){var t;return this._type===e?this._components.slice():(t=c[this._type+"-"+e])?t.apply(this,this._components):c["rgb-"+e].apply(this,c[this._type+"-rgb"].apply(this,this._components));
},convert:function(e){return new j(e,this._convert(e),this._alpha)},getType:function(){
return this._type},setType:function(e){this._components=this._convert(e),this._properties=r[e],
this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),
e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){
this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){
return null!=this._alpha},equals:function(e){var t=n.isPlainValue(e,!0)?j.read(arguments):e;
return t===this||t&&this._class===t._class&&this._type===t._type&&this._alpha===t._alpha&&n.equals(this._components,t._components)||!1;
},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,r=o.instance,i=0,a=e.length;a>i;i++){
var s=this._components[i];null!=s&&t.push(e[i]+": "+(n?s:r.number(s)))}return null!=this._alpha&&t.push("alpha: "+r.number(this._alpha)),
"{ "+t.join(", ")+" }"},toCSS:function(e){function t(e){return Math.round(255*(0>e?0:e>1?1:e));
}var n=this._convert("rgb"),r=e||null==this._alpha?1:this._alpha;return n=[t(n[0]),t(n[1]),t(n[2])],
1>r&&n.push(0>r?0:r),e?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")";
},toCanvasStyle:function(e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();
var t,n=this._components,r=n[0],i=r._stops,a=n[1],o=n[2];if(r._radial){var s=o.getDistance(a),l=n[3];
if(l){var u=l.subtract(a);u.getLength()>s&&(l=a.add(u.normalize(s-.1)))}var c=l||a;
t=e.createRadialGradient(c.x,c.y,0,a.x,a.y,s)}else t=e.createLinearGradient(a.x,a.y,o.x,o.y);
for(var d=0,h=i.length;h>d;d++){var v=i[d];t.addColorStop(v._rampPoint,v._color.toCanvasStyle());
}return this._canvasStyle=t},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,r=t.length;r>n;n++){
var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:r,random:function(){
var e=Math.random;return new j(e(),e(),e())}}})},new function(){var e={add:function(e,t){
return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},
divide:function(e,t){return e/t}};return n.each(e,function(e,t){this[t]=function(t){
t=j.read(arguments);for(var n=this._type,r=this._components,i=t._convert(n),a=0,o=r.length;o>a;a++)i[a]=e(r[a],i[a]);
return new j(n,i,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})}),z=n.extend({
_class:"Gradient",initialize:function(e,t){this._id=l.get(),e&&this._set(e)&&(e=t=null),
this._stops||this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1);
},_serialize:function(e,t){return t.add(this,function(){return n.serialize([this._stops,this._radial],e,!0,t);
})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;t>e;e++)this._owners[e]._changed();
},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){
var n=this._owners?this._owners.indexOf(e):-1;-1!=n&&(this._owners.splice(n,1),0===this._owners.length&&(this._owners=t));
},clone:function(){for(var e=[],t=0,n=this._stops.length;n>t;t++)e[t]=this._stops[t].clone();
return new z(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){
if(this.stops)for(var n=0,r=this._stops.length;r>n;n++)this._stops[n]._owner=t;if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");
this._stops=I.readAll(e,0,{clone:!0});for(var n=0,r=this._stops.length;r>n;n++){var i=this._stops[n];
i._owner=this,i._defaultRamp&&i.setRampPoint(n/(r-1))}this._changed()},getRadial:function(){
return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){
if(e===this)return!0;if(e&&this._class===e._class&&this._stops.length===e._stops.length){
for(var t=0,n=this._stops.length;n>t;t++)if(!this._stops[t].equals(e._stops[t]))return!1;
return!0}return!1}}),I=n.extend({_class:"GradientStop",initialize:function(e,n){if(e){
var r,i;n===t&&Array.isArray(e)?(r=e[0],i=e[1]):e.color?(r=e.color,i=e.rampPoint):(r=e,
i=n),this.setColor(r),this.setRampPoint(i)}},clone:function(){return new I(this._color.clone(),this._rampPoint);
},_serialize:function(e,t){return n.serialize([this._color,this._rampPoint],e,!0,t);
},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){
return this._rampPoint},setRampPoint:function(e){this._defaultRamp=null==e,this._rampPoint=e||0,
this._changed()},getColor:function(){return this._color},setColor:function(e){this._color=j.read(arguments),
this._color===e&&(this._color=e.clone()),this._color._owner=this,this._changed()},
equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._rampPoint==e._rampPoint||!1;
}}),D=n.extend(new function(){var e={fillColor:t,fillRule:"nonzero",strokeColor:t,
strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,
dashOffset:0,dashArray:[],shadowColor:t,shadowBlur:0,shadowOffset:new u,selectedColor:t,
fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,
justification:"left"},r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,
miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9
},i={beans:!0},a={_defaults:e,_textDefaults:new n(e,{fillColor:new j}),beans:!0};return n.each(e,function(e,o){
var s=/Color$/.test(o),l="shadowOffset"===o,c=n.capitalize(o),d=r[o],h="set"+c,v="get"+c;
a[h]=function(e){var n=this._owner,r=n&&n._children;if(r&&r.length>0&&!(n instanceof L))for(var i=0,a=r.length;a>i;i++)r[i]._style[h](e);else{
var l=this._values[o];l!==e&&(s&&(l&&(l._owner=t),e&&e.constructor===j&&(e._owner&&(e=e.clone()),
e._owner=n)),this._values[o]=e,n&&n._changed(d||65))}},a[v]=function(e){var r,i=this._owner,a=i&&i._children;
if(!a||0===a.length||e||i instanceof L){var r=this._values[o];if(r===t)r=this._defaults[o],
r&&r.clone&&(r=r.clone());else{var c=s?j:l?u:null;!c||r&&r.constructor===c||(this._values[o]=r=c.read([r],0,{
readNull:!0,clone:!0}),r&&s&&(r._owner=i))}return r}for(var d=0,h=a.length;h>d;d++){
var f=a[d]._style[v]();if(0===d)r=f;else if(!n.equals(r,f))return t}return r},i[v]=function(e){
return this._style[v](e)},i[h]=function(e){this._style[h](e)}}),n.each({Font:"FontFamily",
WindingRule:"FillRule"},function(e,t){var n="get"+t,r="set"+t;a[n]=i[n]="#get"+e,
a[r]=i[r]="#set"+e}),y.inject(i),a},{_class:"Style",initialize:function(t,n,r){this._values={},
this._owner=n,this._project=n&&n._project||r||e.project,n instanceof O&&(this._defaults=this._textDefaults),
t&&this.set(t)},set:function(e){var t=e instanceof D,n=t?e._values:e;if(n)for(var r in n)if(r in this._defaults){
var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}},equals:function(e){return e===this||e&&this._class===e._class&&n.equals(this._values,e._values)||!1;
},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0;
},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){
return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily();
},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function be(){var e=be.base.call(this),t=this.getFontSize();
return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),null!=e?e:1.2*t}}),G=new function(){
function e(e,t,n,r){for(var i=["","webkit","moz","Moz","ms","o"],a=t[0].toUpperCase()+t.substring(1),o=0;6>o;o++){
var s=i[o],l=s?s+a:t;if(l in e){if(!n)return e[l];e[l]=r;break}}}return{getStyles:function(e){
var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"");
},getBounds:function(e,t){var n,r=e.ownerDocument,i=r.body,a=r.documentElement;try{
n=e.getBoundingClientRect()}catch(o){n={left:0,top:0,width:0,height:0}}var s=n.left-(a.clientLeft||i.clientLeft||0),l=n.top-(a.clientTop||i.clientTop||0);
if(!t){var u=r.defaultView;s+=u.pageXOffset||a.scrollLeft||i.scrollLeft,l+=u.pageYOffset||a.scrollTop||i.scrollTop;
}return new v(s,l,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;
return new v(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){
return G.getBounds(e,t).getPoint()},getSize:function(e){return G.getBounds(e,!0).getSize();
},isInvisible:function(e){return G.getSize(e).equals(new d(0,0))},isInView:function(e){
return!G.isInvisible(e)&&G.getViewportBounds(e).intersects(G.getBounds(e,!0))},isInserted:function(e){
return document.body.contains(e)},getPrefixed:function(t,n){return e(t,n)},setPrefixed:function(t,n,r){
if("object"===("undefined"==typeof n?"undefined":$traceurRuntime["typeof"](n)))for(var i in n)e(t,i,!0,n[i]);else e(t,n,!0,r);
}}},B={add:function(e,t){for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;o>a;a++)e.addEventListener(i[a],r,!1);
},remove:function(e,t){for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;o>a;a++)e.removeEventListener(i[a],r,!1);
},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;
return new u(t.pageX||t.clientX+document.documentElement.scrollLeft,t.pageY||t.clientY+document.documentElement.scrollTop);
},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){
return e.relatedTarget||e.toElement},getOffset:function(e,t){return B.getPoint(e).subtract(G.getOffset(t||B.getTarget(e)));
}};B.requestAnimationFrame=new function(){function e(){for(var t=a.length-1;t>=0;t--){
var s=a[t],l=s[0],u=s[1];(!u||("true"==i.getAttribute(u,"keepalive")||o)&&G.isInView(u))&&(a.splice(t,1),
l())}n&&(a.length?n(e):r=!1)}var t,n=G.getPrefixed(window,"requestAnimationFrame"),r=!1,a=[],o=!0;
return B.add(window,{focus:function(){o=!0},blur:function(){o=!1}}),function(i,o){
a.push([i,o]),n?r||(n(e),r=!0):t||(t=setInterval(e,1e3/60))}};var U=n.extend(r,{_class:"View",
initialize:function ge(e,t){function n(e){return t[e]||parseInt(t.getAttribute(e),10);
}function r(){var e=G.getSize(t);return e.isNaN()||e.isZero()?new d(n("width"),n("height")):e;
}this._project=e,this._scope=e._scope,this._element=t;var a;this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),
this._id=t.getAttribute("id"),null==this._id&&t.setAttribute("id",this._id="view-"+ge._id++),
B.add(t,this._viewEvents);var o="none";if(G.setPrefixed(t.style,{userDrag:o,userSelect:o,
touchCallout:o,contentZooming:o,tapHighlightColor:"rgba(0,0,0,0)"}),i.hasAttribute(t,"resize")){
var s=this;B.add(window,this._windowEvents={resize:function(){s.setViewSize(r())}
})}if(this._setViewSize(a=r()),i.hasAttribute(t,"stats")&&"undefined"!=typeof Stats){
this._stats=new Stats;var l=this._stats.domElement,u=l.style,c=G.getOffset(t);u.position="absolute",
u.left=c.x+"px",u.top=c.y+"px",document.body.appendChild(l)}ge._views.push(this),
ge._viewsById[this._id]=this,this._viewSize=a,(this._matrix=new m)._owner=this,this._zoom=1,
ge._focused||(ge._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={};
},remove:function(){if(!this._project)return!1;U._focused===this&&(U._focused=null),
U._views.splice(U._views.indexOf(this),1),delete U._viewsById[this._id];var e=this._project;
return e._view===this&&(e._view=null),B.remove(this._element,this._viewEvents),B.remove(window,this._windowEvents),
this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},
!0},_events:n.each(["onResize","onMouseDown","onMouseUp","onMouseMove","onMouseDrag","onMouseEnter","onMouseLeave"],function(e){
this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause();
}}}),_animate:!1,_time:0,_count:0,_requestFrame:function(){var e=this;B.requestAnimationFrame(function(){
e._requested=!1,e._animate&&(e._requestFrame(),e._handleFrame())},this._element),
this._requested=!0},_handleFrame:function(){e=this._scope;var t=Date.now()/1e3,r=this._before?t-this._before:0;
this._before=t,this._handlingFrame=!0,this.emit("frame",new n({delta:r,time:this._time+=r,
count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update();
},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0
},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],
0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){
for(var t in this._frameItems){var r=this._frameItems[t];r.item.emit("frame",new n(e,{
time:r.time+=e.delta,count:r.count++}))}},_update:function(){this._project._needsUpdate=!0,
this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(){
this._project._changed(2049),this._bounds=null},getElement:function(){return this._element;
},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio;
},getViewSize:function(){var e=this._viewSize;return new h(e.width,e.height,this,"setViewSize");
},setViewSize:function(){var e=d.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._viewSize.set(e.width,e.height),
this._setViewSize(e),this.emit("resize",{size:e,delta:t}),this._changed(),this.update());
},_setViewSize:function(e){var t=this._element;t.width=e.width,t.height=e.height},
getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new v(new u,this._viewSize))),
this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){
return this.getBounds().getCenter()},setCenter:function(){var e=u.read(arguments);
this.translate(this.getCenter().subtract(e))},getZoom:function(){return this._zoom;
},setZoom:function(e){this.transform((new m).scale(e/this._zoom,this.getCenter())),
this._zoom=e},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;
e.initialize.apply(e,arguments)},isVisible:function(){return G.isInView(this._element);
},isInserted:function(){return G.isInserted(this._element)}},n.each(["rotate","scale","shear","skew"],function(e){
var t="rotate"===e;this[e]=function(){var r=(t?n:u).read(arguments),i=u.read(arguments,0,{
readNull:!0});return this.transform((new m)[e](r,i||this.getCenter(!0)))}},{translate:function(){
var e=new m;return this.transform(e.translate.apply(e,arguments))},transform:function(e){
this._matrix.concatenate(e)},scrollBy:function(){this.translate(u.read(arguments).negate());
}}),{play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){
this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(u.read(arguments));
},viewToProject:function(){return this._matrix._inverseTransform(u.read(arguments));
},getEventPoint:function(e){return this.viewToProject(B.getOffset(e,this._element));
}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return"string"==typeof t&&(t=document.getElementById(t)),
new H(e,t)}}},new function(){function n(e){var t=B.getTarget(e);return t.getAttribute&&U._viewsById[t.getAttribute("id")];
}function r(){var e=U._focused;if(!e||!e.isVisible())for(var t=0,n=U._views.length;n>t;t++)if((e=U._views[t]).isVisible()){
U._focused=l=e;break}}function i(e,t,n){e._handleEvent("mousemove",t,n)}function a(e,t,n,r,i,a){
function o(e,t){if(e.responds(t)){if(s||(s=new Y(t,n,r,l,i?r.subtract(i):null)),e.emit(t,s)&&(R=!0,
s.stopped))return!0}else{var a=M[t];if(a)return o(e,a)}}for(var s,l=e;e&&e!==a;){
if(o(e,t))return!0;e=e._parent}return!1}function o(e,t,n,r,i,o){return R=!1,_&&a(_,n,r,i,o)||t&&t!==_&&!t.isDescendant(_)&&a(t,M[n]||n,r,i,o,_)||a(e,n,r,i,o);
}var s,l,u,c,d,h=!1,v=!1,f=window.navigator;f.pointerEnabled||f.msPointerEnabled?(u="pointerdown MSPointerDown",
c="pointermove MSPointerMove",d="pointerup pointercancel MSPointerUp MSPointerCancel"):(u="touchstart",
c="touchmove",d="touchend touchcancel","ontouchstart"in window&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(u+=" mousedown",
c+=" mousemove",d+=" mouseup"));var m={},p={mouseout:function(e){var t=U._focused,n=B.getRelatedTarget(e);
if(t&&(!n||"HTML"===n.nodeName)){var r=B.getOffset(e,t._element),a=r.x,o=Math.abs,s=o(a),l=1<<25,u=s-l;
r.x=o(u)<s?u*(0>a?-1:1):a,i(t,e,t.viewToProject(r))}},scroll:r};m[u]=function(e){
var t=U._focused=n(e);h=!0,t._handleEvent("mousedown",e)},p[c]=function(e){var t=U._focused;
if(!v){var a=n(e);a?t!==a&&(t&&i(t,e),s||(s=t),t=U._focused=l=a):l&&l===t&&(s&&!s.isInserted()&&(s=null),
t=U._focused=s,s=null,r())}t&&i(t,e)},p[u]=function(){v=!0},p[d]=function(e){var t=U._focused;
t&&h&&t._handleEvent("mouseup",e),v=h=!1},B.add(document,p),B.add(window,{load:r});
var b,g,y,x,_,w,S,k,C,R=!1,M={doubleclick:"click",mousedrag:"mousemove"},E={mousedown:{
mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,
doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},P=!1;
return{_viewEvents:m,_handleEvent:function(n,r,i){function s(e){return d._itemEvents[e]||d.responds(e)||c&&c.responds(e);
}var l=this._itemEvents[n],u=e.project,c=this._scope.tool,d=this;"mousemove"===n&&h&&(n="mousedrag"),
u&&u.removeOn(n),i||(i=this.getEventPoint(r));var v=this.getBounds().contains(i),f=v&&l&&this._project.hitTest(i,{
tolerance:0,fill:!0,stroke:!0}),m=f&&f.item||t,p=!1,M=!1,E={};E[n.substr(5)]=!0;var A=E.move||E.drag,T=A&&n||"mousemove";
T&&(m!==x&&(x&&a(x,"mouseleave",r,i),m&&a(m,"mouseenter",r,i)),x=m,A&&P^v&&(a(this,v?"mouseenter":"mouseleave",r,i),
C=v?this:null,p=!0),(v||E.drag&&!g.equals(i))&&(M=o(this,m,T,r,i,g),p=!0),P=v),!A&&(p=E.down&&v||E.up&&b)&&(M=o(this,m,n,r,i,b),
E.down?(m&&(k=m===w&&Date.now()-S<300,y=w=m,_=!M&&m),b=g=i):E.up&&(!M&&m&&m===y&&(S=Date.now(),
a(m,k?"doubleclick":"click",r,i,b),k=!1),y=_=null),P=!1),g=i,p&&c&&(R=c._handleEvent(n,r,i,E)||R),
(R&&(!A||s("mousedrag"))||E.down&&s("mouseup"))&&r.preventDefault(),this.update();
},_countItemEvent:function(e,t){var n=this._itemEvents;for(var r in E)n[r]=(n[r]||0)+(E[r][e]||0)*t;
},statics:{updateFocus:r}}}),H=U.extend({_class:"CanvasView",initialize:function(e,t){
if(!(t instanceof HTMLCanvasElement)){var n=d.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));
t=J.getCanvas(n)}if(this._context=t.getContext("2d"),this._pixelRatio=1,!/^off|false$/.test(i.getAttribute(t,"hidpi"))){
var r=window.devicePixelRatio||1,a=G.getPrefixed(this._context,"backingStorePixelRatio")||1;
this._pixelRatio=r/a}U.call(this,e,t)},_setViewSize:function(e){var t=this._element,n=this._pixelRatio,r=e.width,a=e.height;
if(t.width=r*n,t.height=a*n,1!==n){if(!i.hasAttribute(t,"resize")){var o=t.style;o.width=r+"px",
o.height=a+"px"}this._context.scale(n,n)}},getPixelSize:function(t){var n,r=e.browser;
if(r&&r.firefox){var i=this._element.parentNode,a=document.createElement("div");a.style.fontSize=t,
i.appendChild(a),n=parseFloat(G.getStyles(a).fontSize),i.removeChild(a)}else{var o=this._context,s=o.font;
o.font=t+" serif",n=parseFloat(o.font),o.font=s}return n},getTextWidth:function(e,t){
var n=this._context,r=n.font,i=0;n.font=e;for(var a=0,o=t.length;o>a;a++)i=Math.max(i,n.measureText(t[a]).width);
return n.font=r,i},update:function(e){var t=this._project;if(!t||!e&&!t._needsUpdate)return!1;
var n=this._context,r=this._viewSize;return n.clearRect(0,0,r.width+1,r.height+1),
t.draw(n,this._matrix,this._pixelRatio),t._needsUpdate=!1,!0}}),F=n.extend({_class:"Event",
initialize:function(e){this.event=e},prevented:!1,stopped:!1,preventDefault:function(){
this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,
this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault();
},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return W.modifiers;
}}),q=F.extend({_class:"KeyEvent",initialize:function(e,t,n,r){F.call(this,r),this.type=e?"keydown":"keyup",
this.key=t,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }";
}}),W=new function(){function t(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t?String.fromCharCode(e.keyCode):t,
o[t]||(t.length>1?n.hyphenate(t):t.toLowerCase())}function r(t,a,o,s){var d,h=t?"keydown":"keyup",v=U._focused,f=v&&v.isVisible()&&v._scope,m=f&&f.tool;
if(l[a]=t,t?u[a]=o:delete u[a],a.length>1&&(d=n.camelize(a))in c){c[d]=t;var p=e.browser;
if("meta"===d&&p&&p.mac)if(t)i={};else{for(var b in i)b in u&&r(!1,b,i[b],s);i=null;
}}else t&&i&&(i[a]=o);m&&m.responds(h)&&(e=f,m.emit(h,new q(t,a,o,s)),v&&v.update());
}var i,a,o={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",
Del:"delete",Win:"meta",Esc:"escape"},s={tab:"	",space:" ",enter:"\r"},l={},u={},c=new n({
shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){
return this.alt}},command:{get:function(){var t=e.browser;return t&&t.mac?this.meta:this.control;
}}});return B.add(document,{keydown:function(n){var i=t(n),o=e.browser;i.length>1||o&&o.chrome&&(n.altKey||o.mac&&n.metaKey||!o.mac&&n.ctrlKey)?r(!0,i,s[i]||(i.length>1?"":i),n):a=i;
},keypress:function(e){if(a){var n=t(e),i=e.charCode,o=i>=32?String.fromCharCode(i):n.length>1?"":n;
n!==a&&(n=o.toLowerCase()),r(!0,n,o,e),a=null}},keyup:function(e){var n=t(e);n in u&&r(!1,n,u[n],e);
}}),B.add(window,{blur:function(e){for(var t in u)r(!1,t,u[t],e)}}),{modifiers:c,
isDown:function(e){return!!l[e]}}},Y=F.extend({_class:"MouseEvent",initialize:function(e,t,n,r,i){
F.call(this,t),this.type=e,this.point=n,this.target=r,this.delta=i},toString:function(){
return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }";
}}),X=F.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,
this.type=t,this.event=n},_choosePoint:function(e,t){return e?e:t?t.clone():null},
getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){
this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint);
},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint);
},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint;
},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta;
},setDelta:function(e){this._delta=e},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count;
},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e;
},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());
if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;
this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){
return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }";
}}),Z=a.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],
initialize:function(e){a.call(this),this._firstMove=!0,this._count=0,this._downCount=-1,
this._set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){
this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e);
},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){
this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e);
},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null;
},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleEvent:function(t,n,r,i){
function a(e,t,n){var a=h._point,o=r;if(e)h._count=0;else{if(o.equals(a))return!1;
if(null!=t||null!=n){var u=o.subtract(a),c=u.getLength();if((t||0)>c)return!1;n&&(o=a.add(u.normalize(Math.min(c,n))));
}h._count++}return l&&(h._point=o,h._lastPoint=s||i.drag?e&&s?o:a:h._downPoint||o),
i.down&&(h._downPoint=o,h._downCount++),!0}function o(e){l&&(d=h.emit(t,new X(h,t,n))||d,
h._firstMove=e)}e=this._scope;var s=i.move||i.drag&&!this.responds(t);s&&(t="mousemove");
var l=this.responds(t),u=this.minDistance,c=this.maxDistance,d=!1,h=this;if(i.down)a(l),
o(!1);else if(i.up)a(!1,null,c),o(!0);else if(l)for(;a(this._firstMove,u,c);)o(!1);
return d}}),K={request:function(e,n,r,i){i=i===t?!0:i;var a=window.ActiveXObject||XMLHttpRequest,o=new a("Microsoft.XMLHTTP");
return o.open(e.toUpperCase(),n,i),"overrideMimeType"in o&&o.overrideMimeType("text/plain"),
o.onreadystatechange=function(){if(4===o.readyState){var e=o.status;if(0!==e&&200!==e)throw new Error("Could not load "+n+" (Error "+e+")");
r.call(o,o.responseText)}},o.send(null)}},J={canvases:[],getCanvas:function(e,t){
var n,r=!0;"object"===("undefined"==typeof e?"undefined":$traceurRuntime["typeof"](e))&&(t=e.height,
e=e.width),n=this.canvases.length?this.canvases.pop():document.createElement("canvas");
var i=n.getContext("2d");return n.width===e&&n.height===t?r&&i.clearRect(0,0,e+1,t+1):(n.width=e,
n.height=t),i.save(),n},getContext:function(e,t){return this.getCanvas(e,t).getContext("2d");
},release:function(e){var t=e.canvas?e.canvas:e;t.getContext("2d").restore(),this.canvases.push(t);
}},Q=new function(){function e(e,t,n){return.2989*e+.587*t+.114*n}function t(t,n,r,i){
var a=i-e(t,n,r);v=t+a,f=n+a,m=r+a;var i=e(v,f,m),o=p(v,f,m),s=b(v,f,m);if(0>o){var l=i-o;
v=i+(v-i)*i/l,f=i+(f-i)*i/l,m=i+(m-i)*i/l}if(s>255){var u=255-i,c=s-i;v=i+(v-i)*u/c,
f=i+(f-i)*u/c,m=i+(m-i)*u/c}}function r(e,t,n){return b(e,t,n)-p(e,t,n)}function i(e,t,n,r){
var i,a=[e,t,n],o=b(e,t,n),s=p(e,t,n);s=s===e?0:s===t?1:2,o=o===e?0:o===t?1:2,i=0===p(s,o)?1===b(s,o)?2:1:0,
a[o]>a[s]?(a[i]=(a[i]-a[s])*r/(a[o]-a[s]),a[o]=r):a[i]=a[o]=0,a[s]=0,v=a[0],f=a[1],
m=a[2]}var a,o,s,l,u,c,d,h,v,f,m,p=Math.min,b=Math.max,g=Math.abs,y={multiply:function(){
v=u*a/255,f=c*o/255,m=d*s/255},screen:function(){v=u+a-u*a/255,f=c+o-c*o/255,m=d+s-d*s/255;
},overlay:function(){v=128>u?2*u*a/255:255-2*(255-u)*(255-a)/255,f=128>c?2*c*o/255:255-2*(255-c)*(255-o)/255,
m=128>d?2*d*s/255:255-2*(255-d)*(255-s)/255},"soft-light":function(){var e=a*u/255;
v=e+u*(255-(255-u)*(255-a)/255-e)/255,e=o*c/255,f=e+c*(255-(255-c)*(255-o)/255-e)/255,
e=s*d/255,m=e+d*(255-(255-d)*(255-s)/255-e)/255},"hard-light":function(){v=128>a?2*a*u/255:255-2*(255-a)*(255-u)/255,
f=128>o?2*o*c/255:255-2*(255-o)*(255-c)/255,m=128>s?2*s*d/255:255-2*(255-s)*(255-d)/255;
},"color-dodge":function(){v=0===u?0:255===a?255:p(255,255*u/(255-a)),f=0===c?0:255===o?255:p(255,255*c/(255-o)),
m=0===d?0:255===s?255:p(255,255*d/(255-s))},"color-burn":function(){v=255===u?255:0===a?0:b(0,255-255*(255-u)/a),
f=255===c?255:0===o?0:b(0,255-255*(255-c)/o),m=255===d?255:0===s?0:b(0,255-255*(255-d)/s);
},darken:function(){v=a>u?u:a,f=o>c?c:o,m=s>d?d:s},lighten:function(){v=u>a?u:a,f=c>o?c:o,
m=d>s?d:s},difference:function(){v=u-a,0>v&&(v=-v),f=c-o,0>f&&(f=-f),m=d-s,0>m&&(m=-m);
},exclusion:function(){v=u+a*(255-u-u)/255,f=c+o*(255-c-c)/255,m=d+s*(255-d-d)/255;
},hue:function(){i(a,o,s,r(u,c,d)),t(v,f,m,e(u,c,d))},saturation:function(){i(u,c,d,r(a,o,s)),
t(v,f,m,e(u,c,d))},luminosity:function(){t(u,c,d,e(a,o,s))},color:function(){t(a,o,s,e(u,c,d));
},add:function(){v=p(u+a,255),f=p(c+o,255),m=p(d+s,255)},subtract:function(){v=b(u-a,0),
f=b(c-o,0),m=b(d-s,0)},average:function(){v=(u+a)/2,f=(c+o)/2,m=(d+s)/2},negation:function(){
v=255-g(255-a-u),f=255-g(255-o-c),m=255-g(255-s-d)}},x=this.nativeModes=n.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){
this[e]=!0},{}),_=J.getContext(1,1);n.each(y,function(e,t){var n="darken"===t,r=!1;
_.save();try{_.fillStyle=n?"#300":"#a00",_.fillRect(0,0,1,1),_.globalCompositeOperation=t,
_.globalCompositeOperation===t&&(_.fillStyle=n?"#a00":"#300",_.fillRect(0,0,1,1),
r=_.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(i){}_.restore(),x[t]=r}),J.release(_),
this.process=function(e,t,n,r,i){var p=t.canvas,b="normal"===e;if(b||x[e])n.save(),
n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,b||(n.globalCompositeOperation=e),n.drawImage(p,i.x,i.y),
n.restore();else{var g=y[e];if(!g)return;for(var _=n.getImageData(i.x,i.y,p.width,p.height),w=_.data,S=t.getImageData(0,0,p.width,p.height).data,k=0,C=w.length;C>k;k+=4){
a=S[k],u=w[k],o=S[k+1],c=w[k+1],s=S[k+2],d=w[k+2],l=S[k+3],h=w[k+3],g();var R=l*r/255,M=1-R;
w[k]=R*v+M*u,w[k+1]=R*f+M*c,w[k+2]=R*m+M*d,w[k+3]=l*r+M*h}n.putImageData(_,i.x,i.y);
}}},ee=n.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],
strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],
strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"
},function(e,t){return!t&&(e instanceof A||e instanceof w||e instanceof O)}],miterLimit:["stroke-miterlimit","number"],
dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],
fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],
justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],
opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){
var r=n.capitalize(t),i=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:i,
fromSVG:i&&n.each(i,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+r,set:"set"+r
}},{}),te={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"
};return new function(){function e(e,t){for(var n in t){var r=t[n],i=te[n];"number"==typeof r&&(r=w.number(r)),
i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}return e}function t(t,n){return e(document.createElementNS("http://www.w3.org/2000/svg",t),n);
}function r(e,t,r){var i=new n,a=e.getTranslation();if(t){e=e.shiftless();var o=e._inverseTransform(a);
i[r?"cx":"x"]=o.x,i[r?"cy":"y"]=o.y,a=null}if(!e.isIdentity()){var l=e.decompose();
if(l&&!l.shearing){var u=[],c=l.rotation,d=l.scaling;a&&!a.isZero()&&u.push("translate("+w.point(a)+")"),
s.isZero(d.x-1)&&s.isZero(d.y-1)||u.push("scale("+w.point(d)+")"),c&&u.push("rotate("+w.number(c)+")"),
i.transform=u.join(" ")}else i.transform="matrix("+e.getValues().join(",")+")"}return i;
}function i(n,i){for(var a=r(n._matrix),o=n._children,s=t("g",a),l=0,u=o.length;u>l;l++){
var c=o[l],d=x(c,i);if(d)if(c.isClipMask()){var h=t("clipPath");h.appendChild(d),
p(c,h,"clip"),e(s,{"clip-path":"url(#"+h.id+")"})}else s.appendChild(d)}return s}
function a(e,n){var i=r(e._matrix,!0),a=e.getSize(),o=e.getImage();return i.x-=a.width/2,
i.y-=a.height/2,i.width=a.width,i.height=a.height,i.href=n.embedImages===!1&&o&&o.src||e.toDataURL(),
t("image",i)}function l(e,n){var i=n.matchShapes;if(i){var a=e.toShape(!1);if(a)return u(a,n);
}var o,s=e._segments,l=r(e._matrix);if(0===s.length)return null;if(i&&!e.hasHandles())if(s.length>=3){
o=e._closed?"polygon":"polyline";for(var c=[],d=0,h=s.length;h>d;d++)c.push(w.point(s[d]._point));
l.points=c.join(" ")}else{o="line";var v=s[0]._point,f=s[s.length-1]._point;l.set({
x1:v.x,y1:v.y,x2:f.x,y2:f.y})}else o="path",l.d=e.getPathData(null,n.precision);return t(o,l);
}function u(e){var n=e._type,i=e._radius,a=r(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){
n="rect";var o=e._size,s=o.width,l=o.height;a.x-=s/2,a.y-=l/2,a.width=s,a.height=l,
i.isZero()&&(i=null)}return i&&("circle"===n?a.r=i:(a.rx=i.width,a.ry=i.height)),
t(n,a)}function c(e,n){var i=r(e._matrix),a=e.getPathData(null,n.precision);return a&&(i.d=a),
t("path",i)}function d(e,n){var i=r(e._matrix,!0),a=e.getSymbol(),o=m(a,"symbol"),s=a.getDefinition(),l=s.getBounds();
return o||(o=t("symbol",{viewBox:w.rectangle(l)}),o.appendChild(x(s,n)),p(a,o,"symbol")),
i.href="#"+o.id,i.x+=l.x,i.y+=l.y,i.width=w.number(l.width),i.height=w.number(l.height),
i.overflow="visible",t("use",i)}function h(e){var n=m(e,"color");if(!n){var r,i=e.getGradient(),a=i._radial,o=e.getOrigin().transform(),s=e.getDestination().transform();
if(a){r={cx:o.x,cy:o.y,r:o.getDistance(s)};var l=e.getHighlight();l&&(l=l.transform(),
r.fx=l.x,r.fy=l.y)}else r={x1:o.x,y1:o.y,x2:s.x,y2:s.y};r.gradientUnits="userSpaceOnUse",
n=t((a?"radial":"linear")+"Gradient",r);for(var u=i._stops,c=0,d=u.length;d>c;c++){
var h=u[c],v=h._color,f=v.getAlpha();r={offset:h._rampPoint,"stop-color":v.toCSS(!0)
},1>f&&(r["stop-opacity"]=f),n.appendChild(t("stop",r))}p(e,n,"color")}return"url(#"+n.id+")";
}function v(e){var n=t("text",r(e._matrix,!0));return n.textContent=e._content,n}
function f(t,r,i){var a={},o=!i&&t.getParent(),s=[];return null!=t._name&&(a.id=t._name),
n.each(ee,function(e){var r=e.get,i=e.type,l=t[r]();if(e.exportFilter?e.exportFilter(t,l):!o||!n.equals(o[r](),l)){
if("color"===i&&null!=l){var u=l.getAlpha();1>u&&(a[e.attribute+"-opacity"]=u)}"style"===i?s.push(e.attribute+": "+l):a[e.attribute]=null==l?"none":"number"===i?w.number(l):"color"===i?l.gradient?h(l,t):l.toCSS(!0):"array"===i?l.join(","):"lookup"===i?e.toSVG[l]:l;
}}),s.length&&(a.style=s.join(";")),1===a.opacity&&delete a.opacity,t._visible||(a.visibility="hidden"),
e(r,a)}function m(e,t){return S||(S={ids:{},svgs:{}}),e&&S.svgs[t+"-"+e._id]}function p(e,t,n){
S||m();var r=S.ids[n]=(S.ids[n]||0)+1;t.id=n+"-"+r,S.svgs[n+"-"+e._id]=t}function g(e,n){
var r=e,i=null;if(S){r="svg"===e.nodeName.toLowerCase()&&e;for(var a in S.svgs)i||(r||(r=t("svg"),
r.appendChild(e)),i=r.insertBefore(t("defs"),r.firstChild)),i.appendChild(S.svgs[a]);
S=null}return n.asString?(new XMLSerializer).serializeToString(r):r}function x(e,t,n){
var r=k[e._class],i=r&&r(e,t);if(i){var a=t.onExport;a&&(i=a(e,i,t)||i);var o=JSON.stringify(e._data);
o&&"{}"!==o&&"null"!==o&&i.setAttribute("data-paper-data",o)}return i&&f(e,i,n)}function _(e){
return e||(e={}),w=new o(e.precision),e}var w,S,k={Group:i,Layer:i,Raster:a,Path:l,
Shape:u,CompoundPath:c,PlacedSymbol:d,PointText:v};y.inject({exportSVG:function(e){
return e=_(e),g(x(this,e,!0),e)}}),b.inject({exportSVG:function(e){e=_(e);var n=this._children,i=this.getView(),a=i.getViewSize(),o=t("svg",{
x:0,y:0,width:a.width,height:a.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg",
"xmlns:xlink":"http://www.w3.org/1999/xlink"}),s=o,l=i._matrix;l.isIdentity()||(s=o.appendChild(t("g",r(l))));
for(var u=0,c=n.length;c>u;u++)s.appendChild(x(n[u],e,!0));return g(o,e)}})},new function(){
function r(e,t,n,r){var i=te[t],a=i?e.getAttributeNS(i,t):e.getAttribute(t);return"null"===a&&(a=null),
null==a?r?null:n?"":0:n?a:parseFloat(a)}function i(e,t,n,i){return t=r(e,t,!1,i),
n=r(e,n,!1,i),!i||null!=t&&null!=n?new u(t,n):null}function a(e,t,n,i){return t=r(e,t,!1,i),
n=r(e,n,!1,i),!i||null!=t&&null!=n?new d(t,n):null}function o(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?C(e)||e:"lookup"===t?n[e]:e;
}function s(e,t,n,r){var i=e.childNodes,a="clippath"===t,o=new x,s=o._project,l=s._currentStyle,u=[];
if(a||(o=k(o,e,r),s._currentStyle=o._style.clone()),r)for(var c=e.querySelectorAll("defs"),d=0,h=c.length;h>d;d++)R(c[d],n,!1);
for(var d=0,h=i.length;h>d;d++){var v=i[d],f=void 0;1!==v.nodeType||"defs"===v.nodeName.toLowerCase()||!(f=R(v,n,!1))||f instanceof g||u.push(f);
}return o.addChildren(u),a&&(o=k(o.reduce(),e,r)),s._currentStyle=l,(a||"defs"===t)&&(o.remove(),
o=null),o}function l(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,a=n.length;a>i;i+=2)r.push(new u(parseFloat(n[i]),parseFloat(n[i+1])));
var o=new T(r);return"polygon"===t&&o.closePath(),o}function c(e){var t=e.getAttribute("d"),n={
pathData:t};return(t.match(/m/gi)||[]).length>1||/z\S+/i.test(t)?new L(n):new T(n);
}function h(e,t){var n,a=(r(e,"href",!0)||"").substring(1),o="radialgradient"===t;
if(a)n=P[a].getGradient();else{for(var s=e.childNodes,l=[],u=0,c=s.length;c>u;u++){
var d=s[u];1===d.nodeType&&l.push(k(new I,d))}n=new z(l,o)}var h,v,f;return o?(h=i(e,"cx","cy"),
v=h.add(r(e,"r"),0),f=i(e,"fx","fy",!0)):(h=i(e,"x1","y1"),v=i(e,"x2","y2")),k(new j(n,h,v,f),e),
null}function f(e,t,n,r){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),a=new m,o=0,s=i.length;s>o;o++){
var l=i[o];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],d=u[1].split(/[\s,]+/g),h=0,v=d.length;v>h;h++)d[h]=parseFloat(d[h]);
switch(c){case"matrix":a.concatenate(new m(d[0],d[1],d[2],d[3],d[4],d[5]));break;case"rotate":
a.rotate(d[0],d[1],d[2]);break;case"translate":a.translate(d[0],d[1]);break;case"scale":
a.scale(d);break;case"skewX":a.skew(d[0],0);break;case"skewY":a.skew(0,d[0])}}e.transform(a);
}function p(e,t,n){var r=e["fill-opacity"===n?"getFillColor":"getStrokeColor"]();r&&r.setAlpha(parseFloat(t));
}function _(e,r,i){var a=e.attributes[r],o=a&&a.value;if(!o){var s=n.camelize(r);o=e.style[s],
o||i.node[s]===i.parent[s]||(o=i.node[s])}return o?"none"===o?null:o:t}function k(e,r,i){
var a={node:G.getStyles(r)||{},parent:!i&&G.getStyles(r.parentNode)||{}};return n.each(E,function(i,o){
var s=_(r,o,a);s!==t&&(e=n.pick(i(e,s,o,r,a),e))}),e}function C(e){var t=e&&e.match(/\((?:["'#]*)([^"')]+)/);
return t&&P[t[1]]}function R(t,r,i){function a(t){e=s;var n=R(t,r,i),a=r.onLoad,o=s.project&&s.getView();
a&&a.call(this,n),o.update()}if(!t)return null;r?"function"==typeof r&&(r={onLoad:r
}):r={};var o=t,s=e;if(i)if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){
var l=new FileReader;return l.onload=function(){a(l.result)},l.readAsText(t)}}else{
if(o=document.getElementById(t),!o)return K.request("get",t,a);t=null}if("string"==typeof t&&(o=(new DOMParser).parseFromString(t,"image/svg+xml")),
!o.nodeName)throw new Error("Unsupported SVG source: "+t);var u,c=o.nodeName.toLowerCase(),d=M[c],h=o.getAttribute&&o.getAttribute("data-paper-data"),v=s.settings,f=v.applyMatrix;
if(v.applyMatrix=!1,u=d&&d(o,c,r,i)||null,v.applyMatrix=f,u){"#document"===c||u instanceof x||(u=k(u,o,i));
var m=r.onImport;m&&(u=m(o,u,r)||u),r.expandShapes&&u instanceof w&&(u.remove(),u=u.toPath()),
h&&(u._data=JSON.parse(h))}return i&&(P={},u&&n.pick(r.applyMatrix,f)&&u.matrix.apply(!0,!0)),
u}var M={"#document":function(e,t,n,r){for(var i=e.childNodes,a=0,o=i.length;o>a;a++){
var s=i[a];if(1===s.nodeType){var l=s.nextSibling;document.body.appendChild(s);var u=R(s,n,r);
return l?e.insertBefore(s,l):e.appendChild(s),u}}},g:s,svg:s,clippath:s,polygon:l,
polyline:l,path:c,lineargradient:h,radialgradient:h,image:function(e){var t=new S(r(e,"href",!0));
return t.on("load",function(){var t=a(e,"width","height");this.setSize(t);var n=this._matrix._transformPoint(i(e,"x","y").add(t.divide(2)));
this.translate(n)}),t},symbol:function(e,t,n,r){return new g(s(e,t,n,r),!0)},defs:s,
use:function(e){var t=(r(e,"href",!0)||"").substring(1),n=P[t],a=i(e,"x","y");return n?n instanceof g?n.place(a):n.clone().translate(a):null;
},circle:function(e){return new w.Circle(i(e,"cx","cy"),r(e,"r"))},ellipse:function(e){
return new w.Ellipse({center:i(e,"cx","cy"),radius:a(e,"rx","ry")})},rect:function(e){
var t=i(e,"x","y"),n=a(e,"width","height"),r=a(e,"rx","ry");return new w.Rectangle(new v(t,n),r);
},line:function(e){return new T.Line(i(e,"x1","y1"),i(e,"x2","y2"))},text:function(e){
var t=new V(i(e,"x","y").add(i(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),
t}},E=n.set(n.each(ee,function(e){this[e.attribute]=function(t,n){if(t[e.set](o(n,e.type,e.fromSVG)),
"color"===e.type&&t instanceof w){var r=t[e.get]();r&&r.transform((new m).translate(t.getPosition(!0).negate()));
}}},{}),{id:function(e,t){P[t]=e,e.setName&&e.setName(t)},"clip-path":function(e,t){
var n=C(t);if(n){if(n=n.clone(),n.setClipMask(!0),!(e instanceof x))return new x(n,e);
e.insertChild(0,n)}},gradientTransform:f,transform:f,"fill-opacity":p,"stroke-opacity":p,
visibility:function(e,t){e.setVisible("visible"===t)},display:function(e,t){e.setVisible(null!==t);
},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){
e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){var n=t.match(/(.*)%$/);
e.setRampPoint(n?n[1]/100:parseFloat(t))},viewBox:function(e,t,n,r,i){var s=new v(o(t,"array")),l=a(r,"width","height",!0);
if(e instanceof x){var u=l?s.getSize().divide(l):1,c=(new m).translate(s.getPoint()).scale(u);
e.transform(c.inverted())}else if(e instanceof g){l&&s.setSize(l);var d="visible"!=_(r,"overflow",i),h=e._definition;
d&&!s.contains(h.getBounds())&&(d=new w.Rectangle(s).transform(h._matrix),d.setClipMask(!0),
h.addChild(d))}}}),P={};y.inject({importSVG:function(e,t){return this.addChild(R(e,t,!0));
}}),b.inject({importSVG:function(e,t){return this.activate(),R(e,t,!0)}})},n.exports.PaperScript=function(){
function t(e,t,n){var r=p[t];if(e&&e[r]){var i=e[r](n);return"!="===t?!i:i}switch(t){
case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":
return e%n;case"==":return e==n;case"!=":return e!=n}}function r(e,t){var n=b[e];if(n&&t&&t[n])return t[n]();
switch(e){case"+":return+t;case"-":return-t}}function a(e,t){return m.acorn.parse(e,t);
}function o(t,n,r){function i(e){for(var t=0,n=c.length;n>t;t++){var r=c[t];if(r[0]>=e)break;
e+=r[1]}return e}function o(e){return t.substring(i(e.range[0]),i(e.range[1]))}function s(e,n){
return t.substring(i(e.range[1]),i(n.range[0]))}function l(e,n){for(var r=i(e.range[0]),a=i(e.range[1]),o=0,s=c.length-1;s>=0;s--)if(r>c[s][0]){
o=s+1;break}c.splice(o,0,[r,n.length-a+r]),t=t.substring(0,r)+n+t.substring(a)}function u(e,t){
if(e){for(var n in e)if("range"!==n&&"loc"!==n){var r=e[n];if(Array.isArray(r))for(var i=0,a=r.length;a>i;i++)u(r[i],e);else r&&"object"===("undefined"==typeof r?"undefined":$traceurRuntime["typeof"](r))&&u(r,e);
}switch(e.type){case"UnaryExpression":if(e.operator in b&&"Literal"!==e.argument.type){
var c=o(e.argument);l(e,'$__("'+e.operator+'", '+c+")")}break;case"BinaryExpression":
if(e.operator in p&&"Literal"!==e.left.type){var d=o(e.left),h=o(e.right),v=s(e.left,e.right),f=e.operator;
l(e,"__$__("+d+","+v.replace(new RegExp("\\"+f),'"'+f+'"')+", "+h+")")}break;case"UpdateExpression":
case"AssignmentExpression":var m=t&&t.type;if(!("ForStatement"===m||"BinaryExpression"===m&&/^[=!<>]/.test(t.operator)||"MemberExpression"===m&&t.computed))if("UpdateExpression"===e.type){
var c=o(e.argument),g="__$__("+c+', "'+e.operator[0]+'", 1)',y=c+" = "+g;e.prefix||"AssignmentExpression"!==m&&"VariableDeclarator"!==m||(o(t.left||t.id)===c&&(y=g),
y=c+"; "+y),l(e,y)}else if(/^.=$/.test(e.operator)&&"Literal"!==e.left.type){var d=o(e.left),h=o(e.right);
l(e,d+" = __$__("+d+', "'+e.operator[0]+'", '+h+")")}}}}if(!t)return"";r=r||{},n=n||"";
var c=[],d=null,h=e.browser,v=h.versionNumber,f=/\r\n|\n|\r/gm,m=0;if(h.chrome&&v>=30||h.webkit&&v>=537.76||h.firefox&&v>=23){
if(0===window.location.href.indexOf(n)){var g=document.getElementsByTagName("html")[0].innerHTML;
m=g.substr(0,g.indexOf(t)+1).match(f).length+1}var y=["AAAA"];y.length=(t.match(f)||[]).length+1+m,
d={version:3,file:n,names:[],mappings:y.join(";AACA"),sourceRoot:"",sources:[n]};var x=r.source||!n&&t;
x&&(d.sourcesContent=[x])}return u(a(t,{ranges:!0})),d&&(t=new Array(m+1).join("\n")+t+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+"\n//# sourceURL="+(n||"paperscript")),
t}function s(i,a,s,l){function c(e,t){for(var n in e)!t&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(i)||(p.push(n),
b.push(e[n]))}e=a;var d,h=a.getView(),v=/\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(i)?new Z:null,f=v?v._events:[],m=["onFrame","onResize"].concat(f),p=[],b=[];
i=o(i,s,l),c({__$__:t,$__:r,paper:a,view:h,tool:v},!0),c(a),m=n.each(m,function(e){
new RegExp("\\s+"+e+"\\b").test(i)&&(p.push(e),this.push(e+": "+e))},[]).join(", "),
m&&(i+="\nreturn { "+m+" };");var g=e.browser;if(g.chrome||g.firefox){var y=document.createElement("script"),x=document.head||document.getElementsByTagName("head")[0];
g.firefox&&(i="\n"+i),y.appendChild(document.createTextNode("paper._execute = function("+p+") {"+i+"\n}")),
x.appendChild(y),d=e._execute,delete e._execute,x.removeChild(y)}else d=Function(p,i);
var _=d.apply(a,b)||{};n.each(f,function(e){var t=_[e];t&&(v[e]=t)}),h&&(_.onResize&&h.setOnResize(_.onResize),
h.emit("resize",{size:h.size,delta:new u}),_.onFrame&&h.setOnFrame(_.onFrame),h.update());
}function l(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==i.getAttribute(e,"ignore")){
var t=i.getAttribute(e,"canvas"),n=document.getElementById(t),r=e.src||e.getAttribute("data-src"),a=i.hasAttribute(e,"async"),o="data-paper-scope";
if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var l=i.get(n.getAttribute(o))||(new i).setup(n);
return n.setAttribute(o,l._id),r?K.request("get",r,function(e){s(e,l,r)},a):s(e.innerHTML,l,e.baseURI),
e.setAttribute("data-paper-ignore","true"),l}}function c(){n.each(document.getElementsByTagName("script"),l);
}function h(e){return e?l(e):c()}var v,f,m=this;!function(e,t){return"object"==("undefined"==typeof v?"undefined":$traceurRuntime["typeof"](v))&&"object"==("undefined"==typeof module?"undefined":$traceurRuntime["typeof"](module))?t(v):"function"==typeof f&&f.amd?f(["exports"],t):void t(e.acorn||(e.acorn={}));
}(this,function(e){function t(e){de=e||{};for(var t in me)Object.prototype.hasOwnProperty.call(de,t)||(de[t]=me[t]);
fe=de.sourceFile||null}function n(e,t){var n=pe(he,e);t+=" ("+n.line+":"+n.column+")";
var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=be,r}function r(e){function t(e){
if(1==e.length)return n+="return str === "+JSON.stringify(e[0])+";";n+="switch(str){";
for(var t=0;t<e.length;++t)n+="case "+JSON.stringify(e[t])+":";n+="return true}return false;";
}e=e.split(" ");var n="",r=[];e:for(var i=0;i<e.length;++i){for(var a=0;a<r.length;++a)if(r[a][0].length==e[i].length){
r[a].push(e[i]);continue e}r.push([e[i]])}if(r.length>3){r.sort(function(e,t){return t.length-e.length;
}),n+="switch(str.length){";for(var i=0;i<r.length;++i){var o=r[i];n+="case "+o[0].length+":",
t(o)}n+="}"}else t(e);return new Function("str",n)}function i(){this.line=Ce,this.column=be-Re;
}function a(){Ce=1,be=Re=0,ke=!0,u()}function o(e,t){ye=be,de.locations&&(_e=new i),
we=e,u(),Se=t,ke=e.beforeExpr}function s(){var e=de.onComment&&de.locations&&new i,t=be,r=he.indexOf("*/",be+=2);
if(-1===r&&n(be-2,"Unterminated comment"),be=r+2,de.locations){Zt.lastIndex=t;for(var a=void 0;(a=Zt.exec(he))&&a.index<be;)++Ce,
Re=a.index+a[0].length}de.onComment&&de.onComment(!0,he.slice(t+2,r),t,be,e,de.locations&&new i);
}function l(){for(var e=be,t=de.onComment&&de.locations&&new i,n=he.charCodeAt(be+=2);ve>be&&10!==n&&13!==n&&8232!==n&&8233!==n;)++be,
n=he.charCodeAt(be);de.onComment&&de.onComment(!1,he.slice(e+2,be),e,be,t,de.locations&&new i);
}function u(){for(;ve>be;){var e=he.charCodeAt(be);if(32===e)++be;else if(13===e){
++be;var t=he.charCodeAt(be);10===t&&++be,de.locations&&(++Ce,Re=be)}else if(10===e||8232===e||8233===e)++be,
de.locations&&(++Ce,Re=be);else if(e>8&&14>e)++be;else if(47===e){var t=he.charCodeAt(be+1);
if(42===t)s();else{if(47!==t)break;l()}}else if(160===e)++be;else{if(!(e>=5760&&Ht.test(String.fromCharCode(e))))break;
++be}}}function c(){var e=he.charCodeAt(be+1);return e>=48&&57>=e?k(!0):(++be,o(xt));
}function d(){var e=he.charCodeAt(be+1);return ke?(++be,_()):61===e?x(kt,2):x(wt,1);
}function h(){var e=he.charCodeAt(be+1);return 61===e?x(kt,2):x(Vt,1)}function v(e){
var t=he.charCodeAt(be+1);return t===e?x(124===e?Mt:Et,2):61===t?x(kt,2):x(124===e?Pt:Tt,1);
}function f(){var e=he.charCodeAt(be+1);return 61===e?x(kt,2):x(At,1)}function m(e){
var t=he.charCodeAt(be+1);return t===e?45==t&&62==he.charCodeAt(be+2)&&Xt.test(he.slice(Ee,be))?(be+=3,
l(),u(),y()):x(Ct,2):61===t?x(kt,2):x(Ot,1)}function p(e){var t=he.charCodeAt(be+1),n=1;
return t===e?(n=62===e&&62===he.charCodeAt(be+2)?3:2,61===he.charCodeAt(be+n)?x(kt,n+1):x($t,n)):33==t&&60==e&&45==he.charCodeAt(be+2)&&45==he.charCodeAt(be+3)?(be+=4,
l(),u(),y()):(61===t&&(n=61===he.charCodeAt(be+2)?3:2),x(Nt,n))}function b(e){var t=he.charCodeAt(be+1);
return 61===t?x(Lt,61===he.charCodeAt(be+2)?3:2):x(61===e?St:Rt,1)}function g(e){
switch(e){case 46:return c();case 40:return++be,o(mt);case 41:return++be,o(pt);case 59:
return++be,o(gt);case 44:return++be,o(bt);case 91:return++be,o(dt);case 93:return++be,
o(ht);case 123:return++be,o(vt);case 125:return++be,o(ft);case 58:return++be,o(yt);
case 63:return++be,o(_t);case 48:var t=he.charCodeAt(be+1);if(120===t||88===t)return S();
case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return k(!1);
case 34:case 39:return C(e);case 47:return d(e);case 37:case 42:return h();case 124:
case 38:return v(e);case 94:return f();case 43:case 45:return m(e);case 60:case 62:
return p(e);case 61:case 33:return b(e);case 126:return x(Rt,1)}return!1}function y(e){
if(e?be=ge+1:ge=be,de.locations&&(xe=new i),e)return _();if(be>=ve)return o(ze);var t=he.charCodeAt(be);
if(Kt(t)||92===t)return E();var r=g(t);if(r===!1){var a=String.fromCharCode(t);if("\\"===a||Wt.test(a))return E();
n(be,"Unexpected character '"+a+"'")}return r}function x(e,t){var n=he.slice(be,be+t);
be+=t,o(e,n)}function _(){for(var e=void 0,t=void 0,r="",i=be;;){be>=ve&&n(i,"Unterminated regular expression");
var a=he.charAt(be);if(Xt.test(a)&&n(i,"Unterminated regular expression"),e)e=!1;else{
if("["===a)t=!0;else if("]"===a&&t)t=!1;else if("/"===a&&!t)break;e="\\"===a}++be;
}var r=he.slice(i,be);++be;var s=M();s&&!/^[gmsiy]*$/.test(s)&&n(i,"Invalid regexp flag");
try{var l=new RegExp(r,s)}catch(u){u instanceof SyntaxError&&n(i,u.message),n(u)}
return o(Oe,l)}function w(e,t){for(var n=be,r=0,i=0,a=null==t?1/0:t;a>i;++i){var o=void 0,s=he.charCodeAt(be);
if(o=s>=97?s-97+10:s>=65?s-65+10:s>=48&&57>=s?s-48:1/0,o>=e)break;++be,r=r*e+o}return be===n||null!=t&&be-n!==t?null:r;
}function S(){be+=2;var e=w(16);return null==e&&n(ge+2,"Expected hexadecimal number"),
Kt(he.charCodeAt(be))&&n(be,"Identifier directly after number"),o($e,e)}function k(e){
var t=be,r=!1,i=48===he.charCodeAt(be);e||null!==w(10)||n(t,"Invalid number"),46===he.charCodeAt(be)&&(++be,
w(10),r=!0);var a=he.charCodeAt(be);(69===a||101===a)&&(a=he.charCodeAt(++be),(43===a||45===a)&&++be,
null===w(10)&&n(t,"Invalid number"),r=!0),Kt(he.charCodeAt(be))&&n(be,"Identifier directly after number");
var s,l=he.slice(t,be);return r?s=parseFloat(l):i&&1!==l.length?/[89]/.test(l)||Le?n(t,"Invalid number"):s=parseInt(l,8):s=parseInt(l,10),
o($e,s)}function C(e){be++;for(var t="";;){be>=ve&&n(ge,"Unterminated string constant");
var r=he.charCodeAt(be);if(r===e)return++be,o(Ve,t);if(92===r){r=he.charCodeAt(++be);
var i=/^[0-7]+/.exec(he.slice(be,be+3));for(i&&(i=i[0]);i&&parseInt(i,8)>255;)i=i.slice(0,-1);
if("0"===i&&(i=null),++be,i)Le&&n(be-2,"Octal literal in strict mode"),t+=String.fromCharCode(parseInt(i,8)),
be+=i.length-1;else switch(r){case 110:t+="\n";break;case 114:t+="\r";break;case 120:
t+=String.fromCharCode(R(2));break;case 117:t+=String.fromCharCode(R(4));break;case 85:
t+=String.fromCharCode(R(8));break;case 116:t+="	";break;case 98:t+="\b";break;case 118:
t+="\x0B";break;case 102:t+="\f";break;case 48:t+="\x00";break;case 13:10===he.charCodeAt(be)&&++be;
case 10:de.locations&&(Re=be,++Ce);break;default:t+=String.fromCharCode(r)}}else(13===r||10===r||8232===r||8233===r)&&n(ge,"Unterminated string constant"),
t+=String.fromCharCode(r),++be}}function R(e){var t=w(16,e);return null===t&&n(ge,"Bad character escape sequence"),
t}function M(){zt=!1;for(var e=void 0,t=!0,r=be;;){var i=he.charCodeAt(be);if(Jt(i))zt&&(e+=he.charAt(be)),
++be;else{if(92!==i)break;zt||(e=he.slice(r,be)),zt=!0,117!=he.charCodeAt(++be)&&n(be,"Expecting Unicode escape sequence \\uXXXX"),
++be;var a=R(4),o=String.fromCharCode(a);o||n(be-1,"Invalid Unicode escape"),(t?Kt(a):Jt(a))||n(be-4,"Invalid Unicode escape"),
e+=o}t=!1}return zt?e:he.slice(r,be)}function E(){var e=M(),t=je;return!zt&&Ut(e)&&(t=ct[e]),
o(t,e)}function P(){Me=ge,Ee=ye,Pe=_e,y()}function A(e){if(Le=e,be=ge,de.locations)for(;Re>be;)Re=he.lastIndexOf("\n",Re-2)+1,
--Ce;u(),y()}function T(){this.type=null,this.start=ge,this.end=null}function L(){
this.start=xe,this.end=null,null!==fe&&(this.source=fe)}function N(){var e=new T;return de.locations&&(e.loc=new L),
de.directSourceFile&&(e.sourceFile=de.directSourceFile),de.ranges&&(e.range=[ge,0]),
e}function $(e){var t=new T;return t.start=e.start,de.locations&&(t.loc=new L,t.loc.start=e.loc.start),
de.ranges&&(t.range=[e.range[0],0]),t}function O(e,t){return e.type=t,e.end=Ee,de.locations&&(e.loc.end=Pe),
de.ranges&&(e.range[1]=Ee),e}function V(e){return de.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value;
}function j(e){return we===e?(P(),!0):void 0}function z(){return!de.strictSemicolons&&(we===ze||we===ft||Xt.test(he.slice(Ee,ge)));
}function I(){j(gt)||z()||G()}function D(e){we===e?P():G()}function G(){n(ge,"Unexpected token");
}function B(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&n(e.start,"Assigning to rvalue"),
Le&&"Identifier"===e.type&&Bt(e.name)&&n(e.start,"Assigning to "+e.name+" in strict mode");
}function U(e){Me=Ee=be,de.locations&&(Pe=new i),Ae=Le=null,Te=[],y();var t=e||N(),n=!0;
for(e||(t.body=[]);we!==ze;){var r=H();t.body.push(r),n&&V(r)&&A(!0),n=!1}return O(t,"Program");
}function H(){(we===wt||we===kt&&"/="==Se)&&y(!0);var e=we,t=N();switch(e){case Ie:
case Be:P();var r=e===Ie;j(gt)||z()?t.label=null:we!==je?G():(t.label=ce(),I());for(var i=0;i<Te.length;++i){
var a=Te[i];if(null==t.label||a.name===t.label.name){if(null!=a.kind&&(r||"loop"===a.kind))break;
if(t.label&&r)break}}return i===Te.length&&n(t.start,"Unsyntactic "+e.keyword),O(t,r?"BreakStatement":"ContinueStatement");
case Ue:return P(),I(),O(t,"DebuggerStatement");case Fe:return P(),Te.push(Qt),t.body=H(),
Te.pop(),D(nt),t.test=F(),I(),O(t,"DoWhileStatement");case Ye:if(P(),Te.push(Qt),
D(mt),we===gt)return W(t,null);if(we===tt){var o=N();return P(),X(o,!0),O(o,"VariableDeclaration"),
1===o.declarations.length&&j(ut)?Y(t,o):W(t,o)}var o=Z(!1,!0);return j(ut)?(B(o),
Y(t,o)):W(t,o);case Xe:return P(),le(t,!0);case Ze:return P(),t.test=F(),t.consequent=H(),
t.alternate=j(qe)?H():null,O(t,"IfStatement");case Ke:return Ae||de.allowReturnOutsideFunction||n(ge,"'return' outside of function"),
P(),j(gt)||z()?t.argument=null:(t.argument=Z(),I()),O(t,"ReturnStatement");case Je:
P(),t.discriminant=F(),t.cases=[],D(vt),Te.push(en);for(var s=void 0,l=void 0;we!=ft;)if(we===De||we===He){
var u=we===De;s&&O(s,"SwitchCase"),t.cases.push(s=N()),s.consequent=[],P(),u?s.test=Z():(l&&n(Me,"Multiple default clauses"),
l=!0,s.test=null),D(yt)}else s||G(),s.consequent.push(H());return s&&O(s,"SwitchCase"),
P(),Te.pop(),O(t,"SwitchStatement");case Qe:return P(),Xt.test(he.slice(Ee,ge))&&n(Ee,"Illegal newline after throw"),
t.argument=Z(),I(),O(t,"ThrowStatement");case et:if(P(),t.block=q(),t.handler=null,
we===Ge){var c=N();P(),D(mt),c.param=ce(),Le&&Bt(c.param.name)&&n(c.param.start,"Binding "+c.param.name+" in strict mode"),
D(pt),c.guard=null,c.body=q(),t.handler=O(c,"CatchClause")}return t.guardedHandlers=Ne,
t.finalizer=j(We)?q():null,t.handler||t.finalizer||n(t.start,"Missing catch or finally clause"),
O(t,"TryStatement");case tt:return P(),X(t),I(),O(t,"VariableDeclaration");case nt:
return P(),t.test=F(),Te.push(Qt),t.body=H(),Te.pop(),O(t,"WhileStatement");case rt:
return Le&&n(ge,"'with' in strict mode"),P(),t.object=F(),t.body=H(),O(t,"WithStatement");
case vt:return q();case gt:return P(),O(t,"EmptyStatement");default:var d=Se,h=Z();
if(e===je&&"Identifier"===h.type&&j(yt)){for(var i=0;i<Te.length;++i)Te[i].name===d&&n(h.start,"Label '"+d+"' is already declared");
var v=we.isLoop?"loop":we===Je?"switch":null;return Te.push({name:d,kind:v}),t.body=H(),
Te.pop(),t.label=h,O(t,"LabeledStatement")}return t.expression=h,I(),O(t,"ExpressionStatement");
}}function F(){D(mt);var e=Z();return D(pt),e}function q(e){var t,n=N(),r=!0,i=!1;
for(n.body=[],D(vt);!j(ft);){var a=H();n.body.push(a),r&&e&&V(a)&&(t=i,A(i=!0)),r=!1;
}return i&&!t&&A(!1),O(n,"BlockStatement")}function W(e,t){return e.init=t,D(gt),
e.test=we===gt?null:Z(),D(gt),e.update=we===pt?null:Z(),D(pt),e.body=H(),Te.pop(),
O(e,"ForStatement")}function Y(e,t){return e.left=t,e.right=Z(),D(pt),e.body=H(),
Te.pop(),O(e,"ForInStatement")}function X(e,t){for(e.declarations=[],e.kind="var";;){
var r=N();if(r.id=ce(),Le&&Bt(r.id.name)&&n(r.id.start,"Binding "+r.id.name+" in strict mode"),
r.init=j(St)?Z(!0,t):null,e.declarations.push(O(r,"VariableDeclarator")),!j(bt))break;
}return e}function Z(e,t){var n=K(t);if(!e&&we===bt){var r=$(n);for(r.expressions=[n];j(bt);)r.expressions.push(K(t));
return O(r,"SequenceExpression")}return n}function K(e){var t=J(e);if(we.isAssign){
var n=$(t);return n.operator=Se,n.left=t,P(),n.right=K(e),B(t),O(n,"AssignmentExpression");
}return t}function J(e){var t=Q(e);if(j(_t)){var n=$(t);return n.test=t,n.consequent=Z(!0),
D(yt),n.alternate=Z(!0,e),O(n,"ConditionalExpression")}return t}function Q(e){return ee(te(),-1,e);
}function ee(e,t,n){var r=we.binop;if(null!=r&&(!n||we!==ut)&&r>t){var i=$(e);i.left=e,
i.operator=Se;var a=we;P(),i.right=ee(te(),r,n);var o=O(i,a===Mt||a===Et?"LogicalExpression":"BinaryExpression");
return ee(o,t,n)}return e}function te(){if(we.prefix){var e=N(),t=we.isUpdate;return e.operator=Se,
e.prefix=!0,ke=!0,P(),e.argument=te(),t?B(e.argument):Le&&"delete"===e.operator&&"Identifier"===e.argument.type&&n(e.start,"Deleting local variable in strict mode"),
O(e,t?"UpdateExpression":"UnaryExpression")}for(var r=ne();we.postfix&&!z();){var e=$(r);
e.operator=Se,e.prefix=!1,e.argument=r,B(r),P(),r=O(e,"UpdateExpression")}return r;
}function ne(){return re(ie())}function re(e,t){if(j(xt)){var n=$(e);return n.object=e,
n.property=ce(!0),n.computed=!1,re(O(n,"MemberExpression"),t)}if(j(dt)){var n=$(e);
return n.object=e,n.property=Z(),n.computed=!0,D(ht),re(O(n,"MemberExpression"),t);
}if(!t&&j(mt)){var n=$(e);return n.callee=e,n.arguments=ue(pt,!1),re(O(n,"CallExpression"),t);
}return e}function ie(){switch(we){case at:var e=N();return P(),O(e,"ThisExpression");
case je:return ce();case $e:case Ve:case Oe:var e=N();return e.value=Se,e.raw=he.slice(ge,ye),
P(),O(e,"Literal");case ot:case st:case lt:var e=N();return e.value=we.atomValue,
e.raw=we.keyword,P(),O(e,"Literal");case mt:var t=xe,n=ge;P();var r=Z();return r.start=n,
r.end=ye,de.locations&&(r.loc.start=t,r.loc.end=_e),de.ranges&&(r.range=[n,ye]),D(pt),
r;case dt:var e=N();return P(),e.elements=ue(ht,!0,!0),O(e,"ArrayExpression");case vt:
return oe();case Xe:var e=N();return P(),le(e,!1);case it:return ae();default:G();
}}function ae(){var e=N();return P(),e.callee=re(ie(),!0),j(mt)?e.arguments=ue(pt,!1):e.arguments=Ne,
O(e,"NewExpression")}function oe(){var e=N(),t=!0,r=!1;for(e.properties=[],P();!j(ft);){
if(t)t=!1;else if(D(bt),de.allowTrailingCommas&&j(ft))break;var i=void 0,a={key:se()
},o=!1;if(j(yt)?(a.value=Z(!0),i=a.kind="init"):de.ecmaVersion>=5&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)?(o=r=!0,
i=a.kind=a.key.name,a.key=se(),we!==mt&&G(),a.value=le(N(),!1)):G(),"Identifier"===a.key.type&&(Le||r))for(var s=0;s<e.properties.length;++s){
var l=e.properties[s];if(l.key.name===a.key.name){var u=i==l.kind||o&&"init"===l.kind||"init"===i&&("get"===l.kind||"set"===l.kind);
u&&!Le&&"init"===i&&"init"===l.kind&&(u=!1),u&&n(a.key.start,"Redefinition of property");
}}e.properties.push(a)}return O(e,"ObjectExpression")}function se(){return we===$e||we===Ve?ie():ce(!0);
}function le(e,t){we===je?e.id=ce():t?G():e.id=null,e.params=[];var r=!0;for(D(mt);!j(pt);)r?r=!1:D(bt),
e.params.push(ce());var i=Ae,a=Te;if(Ae=!0,Te=[],e.body=q(!0),Ae=i,Te=a,Le||e.body.body.length&&V(e.body.body[0]))for(var o=e.id?-1:0;o<e.params.length;++o){
var s=0>o?e.id:e.params[o];if((Gt(s.name)||Bt(s.name))&&n(s.start,"Defining '"+s.name+"' in strict mode"),
o>=0)for(var l=0;o>l;++l)s.name===e.params[l].name&&n(s.start,"Argument name clash in strict mode");
}return O(e,t?"FunctionDeclaration":"FunctionExpression")}function ue(e,t,n){for(var r=[],i=!0;!j(e);){
if(i)i=!1;else if(D(bt),t&&de.allowTrailingCommas&&j(e))break;n&&we===bt?r.push(null):r.push(Z(!0));
}return r}function ce(e){var t=N();return e&&"everywhere"==de.forbidReserved&&(e=!1),
we===je?(!e&&(de.forbidReserved&&(3===de.ecmaVersion?It:Dt)(Se)||Le&&Gt(Se))&&-1==he.slice(ge,ye).indexOf("\\")&&n(ge,"The keyword '"+Se+"' is reserved"),
t.name=Se):e&&we.keyword?t.name=we.keyword:G(),ke=!1,P(),O(t,"Identifier")}e.version="0.5.0";
var de,he,ve,fe;e.parse=function(e,n){return he=String(e),ve=he.length,t(n),a(),U(de.program);
};var me=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,
forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,
program:null,sourceFile:null,directSourceFile:null},pe=e.getLineInfo=function(e,t){
for(var n=1,r=0;;){Zt.lastIndex=r;var i=Zt.exec(e);if(!(i&&i.index<t))break;++n,r=i.index+i[0].length;
}return{line:n,column:t-r}};e.tokenize=function(e,n){function r(e){return Ee=ye,y(e),
i.start=ge,i.end=ye,i.startLoc=xe,i.endLoc=_e,i.type=we,i.value=Se,i}he=String(e),
ve=he.length,t(n),a();var i={};return r.jumpTo=function(e,t){if(be=e,de.locations){
Ce=1,Re=Zt.lastIndex=0;for(var n=void 0;(n=Zt.exec(he))&&n.index<e;)++Ce,Re=n.index+n[0].length;
}ke=t,u()},r};var be,ge,ye,xe,_e,we,Se,ke,Ce,Re,Me,Ee,Pe,Ae,Te,Le,Ne=[],$e={type:"num"
},Oe={type:"regexp"},Ve={type:"string"},je={type:"name"},ze={type:"eof"},Ie={keyword:"break"
},De={keyword:"case",beforeExpr:!0},Ge={keyword:"catch"},Be={keyword:"continue"},Ue={
keyword:"debugger"},He={keyword:"default"},Fe={keyword:"do",isLoop:!0},qe={keyword:"else",
beforeExpr:!0},We={keyword:"finally"},Ye={keyword:"for",isLoop:!0},Xe={keyword:"function"
},Ze={keyword:"if"},Ke={keyword:"return",beforeExpr:!0},Je={keyword:"switch"},Qe={
keyword:"throw",beforeExpr:!0},et={keyword:"try"},tt={keyword:"var"},nt={keyword:"while",
isLoop:!0},rt={keyword:"with"},it={keyword:"new",beforeExpr:!0},at={keyword:"this"
},ot={keyword:"null",atomValue:null},st={keyword:"true",atomValue:!0},lt={keyword:"false",
atomValue:!1},ut={keyword:"in",binop:7,beforeExpr:!0},ct={"break":Ie,"case":De,"catch":Ge,
"continue":Be,"debugger":Ue,"default":He,"do":Fe,"else":qe,"finally":We,"for":Ye,
"function":Xe,"if":Ze,"return":Ke,"switch":Je,"throw":Qe,"try":et,"var":tt,"while":nt,
"with":rt,"null":ot,"true":st,"false":lt,"new":it,"in":ut,"instanceof":{keyword:"instanceof",
binop:7,beforeExpr:!0},"this":at,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0
},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,
beforeExpr:!0}},dt={type:"[",beforeExpr:!0},ht={type:"]"},vt={type:"{",beforeExpr:!0
},ft={type:"}"},mt={type:"(",beforeExpr:!0},pt={type:")"},bt={type:",",beforeExpr:!0
},gt={type:";",beforeExpr:!0},yt={type:":",beforeExpr:!0},xt={type:"."},_t={type:"?",
beforeExpr:!0},wt={binop:10,beforeExpr:!0},St={isAssign:!0,beforeExpr:!0},kt={isAssign:!0,
beforeExpr:!0},Ct={postfix:!0,prefix:!0,isUpdate:!0},Rt={prefix:!0,beforeExpr:!0},Mt={
binop:1,beforeExpr:!0},Et={binop:2,beforeExpr:!0},Pt={binop:3,beforeExpr:!0},At={
binop:4,beforeExpr:!0},Tt={binop:5,beforeExpr:!0},Lt={binop:6,beforeExpr:!0},Nt={
binop:7,beforeExpr:!0},$t={binop:8,beforeExpr:!0},Ot={binop:9,prefix:!0,beforeExpr:!0
},Vt={binop:10,beforeExpr:!0};e.tokTypes={bracketL:dt,bracketR:ht,braceL:vt,braceR:ft,
parenL:mt,parenR:pt,comma:bt,semi:gt,colon:yt,dot:xt,question:_t,slash:wt,eq:St,name:je,
eof:ze,num:$e,regexp:Oe,string:Ve};for(var jt in ct)e.tokTypes["_"+jt]=ct[jt];var zt,It=r("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Dt=r("class enum extends super const export import"),Gt=r("implements interface let package private protected public static yield"),Bt=r("eval arguments"),Ut=r("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ht=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ft="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",qt="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Wt=new RegExp("["+Ft+"]"),Yt=new RegExp("["+Ft+qt+"]"),Xt=/[\n\r\u2028\u2029]/,Zt=/\r\n|[\n\r\u2028\u2029]/g,Kt=e.isIdentifierStart=function(e){
return 65>e?36===e:91>e?!0:97>e?95===e:123>e?!0:e>=170&&Wt.test(String.fromCharCode(e));
},Jt=e.isIdentifierChar=function(e){return 48>e?36===e:58>e?!0:65>e?!1:91>e?!0:97>e?95===e:123>e?!0:e>=170&&Yt.test(String.fromCharCode(e));
},Qt={kind:"loop"},en={kind:"switch"}});var p={"+":"__add","-":"__subtract","*":"__multiply",
"/":"__divide","%":"__modulo","==":"equals","!=":"equals"},b={"-":"__negate","+":null
},g=n.each(["add","subtract","multiply","divide","modulo","negate"],function(e){this["__"+e]="#"+e;
},{});return u.inject(g),d.inject(g),j.inject(g),"complete"===document.readyState?setTimeout(c):B.add(window,{
load:c}),{compile:o,execute:s,load:h,parse:a}}.call(this),e=new(i.inject(n.exports,{
enumerable:!0,Base:n,Numerical:s,Key:W})),"function"==typeof define&&define.amd?define("paper",e):"object"===("undefined"==typeof module?"undefined":$traceurRuntime["typeof"](module))&&module&&(module.exports=e),
e};e.setup(document.createElement("canvas"));var t=e;return{get default(){return t;
}}}),$traceurRuntime.registerModule("libs/path-data-parser",[],function(){"use strict";
var e={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",
c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},t=function(){function t(e){this._string=e,
this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces();
}return $traceurRuntime.createClass(t,{parseSegment:function(){var t=this._string[this._currentIndex],n=e[t]?e[t]:null;
if(null===n){if(null===this._prevCommand)return null;if(n=("+"===t||"-"===t||"."===t||t>="0"&&"9">=t)&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null,
null===n)return null}else this._currentIndex+=1;this._prevCommand=n;var r=null,i=n.toUpperCase();
return"H"===i||"V"===i?r=[this._parseNumber()]:"M"===i||"L"===i||"T"===i?r=[this._parseNumber(),this._parseNumber()]:"S"===i||"Q"===i?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===i?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===i?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===i&&(this._skipOptionalSpaces(),
r=[]),null===r||r.indexOf(null)>=0?null:{type:n,values:r}},hasMoreData:function(){
return this._currentIndex<this._endIndex},peekSegmentType:function(){var t=this._string[this._currentIndex];
return e[t]?e[t]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;
var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];
return" ">=e&&(" "===e||"\n"===e||"	"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){
for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;
return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){
return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex]?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,
this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){
var e=0,t=0,n=1,r=0,i=1,a=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,
i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")&&"."!==this._string[this._currentIndex])return null;
for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;
if(this._currentIndex!==s)for(var l=this._currentIndex-1,u=1;l>=s;)t+=u*(this._string[l]-"0"),
l-=1,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){
if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;
for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)n*=10,
r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==o&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){
if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,
a=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;
for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)e*=10,
e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=t+r;return c*=i,
e&&(c*=Math.pow(10,a*e)),o===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),
c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];
if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),
e}},{})}();return{get default(){return t}}}),$traceurRuntime.registerModule("utils/array",[],function(){
"use strict";var e=function(e,t){var n=void 0!==arguments[2]?arguments[2]:!1;if(e.length!==t.length)return!1;
if(n)for(var r in e){var i=e[r];if(i!==t[r])return!1}else{for(var a=0;a<e.length;a+=1)if(!t.includes(e[a]))return!1;
for(var a=0;a<t.length;a+=1)if(!e.includes(t[a]))return!1}return!0},t=function(e){
return $traceurRuntime.spread(new Set(e))},n=function(e,t){if(0===e.length)return!1;
for(var n=0;n<e.length;n+=1)if(e[n]!==t)return!1;return!0},r=function(e){for(var t=1;t<e.length;t+=1)if(e[t]!==e[0])return!1;
return!0};return{get compareArrays(){return e},get removeDuplicates(){return t},get includesOnly(){
return n},get valuesEqual(){return r}}}),$traceurRuntime.registerModule("utils/artwork-compression",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/pako","utils/artwork-compression"))["default"],t=function(t){
for(var n=[],r=0,i=t.length;i>r;r+=1)n.push(t[r].charCodeAt(0));var a=new Uint8Array(n);
return e.gzip(a)},n=function(t){try{for(var n=e.inflate(t),r="",i=0,a=n.length;a>i;i+=1){
var o=String.fromCharCode(n[i]);r+=o}return r}catch(s){return null}};return{get compressArtwork(){
return t},get uncompressArtwork(){return n}}}),$traceurRuntime.registerModule("utils/artwork-export",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/artwork-export")).createElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./node","utils/artwork-export")).normalizeWhitespace,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./string","utils/artwork-export")).collapseWhitespace,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/artwork-export")).namespaces,i=function(r){
var i=void 0!==arguments[1]?arguments[1]:"xml",s=void 0!==arguments[2]?arguments[2]:2;
r=r.cloneNode(!0);for(var l,u=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT);l=u.nextNode();)if("defs"===l.localName)0===l.children.length&&l.remove();else if("style"===l.localName)""===n(l.textContent)&&l.remove();else if("_title"===l.localName){
var c=e("svg:title");c.innerHTML=l.innerHTML;var d=!0,h=!1,v=void 0;try{for(var f=void 0,m=l.attributes[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){
var p=f.value,b=p.name,g=p.value;c.setAttribute(b,g)}}catch(y){h=!0,v=y}finally{try{
d||null==m["return"]||m["return"]()}finally{if(h)throw v}}l.replace(c)}a(r,i),t(r,s);
var x=o(r,i);return x},a=function(e,t){if("xml"===t){for(var n,i=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),a=!1,o=!1;n=i.nextNode();)if(n.localName.startsWith("bx-")){
var s=document.createElementNS(r.bx,"bx:"+n.localName.substring(3)),l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=$traceurRuntime.spread(n.attributes)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;s.setAttribute(v.name,v.value)}}catch(f){u=!0,c=f}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=$traceurRuntime.spread(n.childNodes)[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;s.append(x)}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}n.replace(s),o=!0}else{var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=$traceurRuntime.spread(n.attributes)[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value,E=M.name,P=M.value;if("href"===E||"_href"===E)n.removeAttribute(E),
n.setAttribute("xlink:href",P),a=!0;else if(E.startsWith("data-bx-")){var A=E.substring(8);
n.setAttributeNS(r.bx,"bx:"+A,P),n.removeAttribute(E),o=!0}}}catch(T){S=!0,k=T}finally{
try{w||null==R["return"]||R["return"]()}finally{if(S)throw k}}}e.setAttributeNS(r.xmlns,"xmlns",r.svg),
a&&e.setAttributeNS(r.xmlns,"xmlns:xlink",r.xlink),o&&e.setAttributeNS(r.xmlns,"xmlns:bx",r.bx);
}else if("html"===t)for(var L,N=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT);L=N.nextNode();){
var $=!0,O=!1,V=void 0;try{for(var j=void 0,z=$traceurRuntime.spread(L.attributes)[Symbol.iterator]();!($=(j=z.next()).done);$=!0){
var I=j.value;"href"===I.name&&(L.setAttribute("xlink:href",L.getAttribute("href")),
L.removeAttribute("href"))}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]();
}finally{if(O)throw V}}}},o=function(e,t){var n;if("xml"===t){var r=new XMLSerializer,i='<?xml version="1.0" encoding="utf-8"?>\n';
n=i+r.serializeToString(e)}else if("html"===t){var a="<!doctype html>\n";n=a+e.outerHTML,
n=n.replaceAll(' xmlns:xlink="http://www.w3.org/1999/xlink"',"")}return n=n.replaceAll("url(&quot;","url("),
n=n.replaceAll("&quot;)",")")};return{get exportArtwork(){return i}}}),$traceurRuntime.registerModule("utils/artwork-general",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/array","utils/artwork-general")).removeDuplicates,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","utils/artwork-general")).compareElements,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/variables","utils/artwork-general")).urlValueAcceptingPropertyNames,r=function(e){
var t=new DOMParser,n=t.parseFromString(e,"text/html");return null!==n.querySelector("svg");
},i=function(r,i){var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=r.querySelectorAll("use")[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;if(""!==c.href.baseVal){var d=r.querySelector(c.href.baseVal),h=i.querySelector(c.href.baseVal);
d&&h&&t(d,h)&&d.remove()}}}catch(v){o=!0,s=v}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}var f=$traceurRuntime.spread(r.querySelectorAll("pattern:not([href])")),m=$traceurRuntime.spread(i.querySelectorAll("pattern:not([href])")),p=!0,b=!1,g=void 0;
try{for(var y=function(){var e=x.value,n=m.find(function(t){return t.id===e.id});n&&t(e,n)&&e.remove();
},x=void 0,_=f[Symbol.iterator]();!(p=(x=_.next()).done);p=!0)y()}catch(w){b=!0,g=w;
}finally{try{p||null==_["return"]||_["return"]()}finally{if(b)throw g}}var S=$traceurRuntime.spread(r.querySelectorAll("style")),k=$traceurRuntime.spread(i.querySelectorAll("style")),C=!0,R=!1,M=void 0;
try{for(var E=void 0,P=S[Symbol.iterator]();!(C=(E=P.next()).done);C=!0){var A=E.value,T=!0,L=!1,N=void 0;
try{for(var $=void 0,O=k[Symbol.iterator]();!(T=($=O.next()).done);T=!0){var V=$.value;
A.textContent===V.textContent&&A.remove()}}catch(j){L=!0,N=j}finally{try{T||null==O["return"]||O["return"]();
}finally{if(L)throw N}}}}catch(z){R=!0,M=z}finally{try{C||null==P["return"]||P["return"]();
}finally{if(R)throw M}}var I=$traceurRuntime.spread(r.querySelectorAll("[id]")).map(function(e){
return e.id}),D=$traceurRuntime.spread(i.querySelectorAll("[id]")).map(function(e){
return e.id});r.id&&I.push(r.id),i.id&&D.push(i.id);var G=I.filter(function(e){return D.includes(e);
});G=e(G),G.remove("bx-google-fonts");var B=!0,U=!1,H=void 0;try{for(var F=void 0,q=G[Symbol.iterator]();!(B=(F=q.next()).done);B=!0){
var W=F.value,Y=r.id===W?r:r.querySelector("#"+W),X=void 0;X="linearGradient"===Y.localName||"radialGradient"===Y.localName?"gradient":"clipPath"===Y.localName?"path":Y.localName;
for(var Z=void 0,K=1;;){var J=X+"-"+K;if(null===r.querySelector("#"+J)&&null===i.querySelector("#"+J)&&r.id!==J&&i.id!==J){
Z=J;break}K+=1}for(var Q=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT),ee=null;ee=Q.nextNode();){
ee.id===W&&(ee.id=Z),ee.href&&ee.href.baseVal==="#"+W&&ee.setAttribute("href","#"+Z);
var te=!0,ne=!1,re=void 0;try{for(var ie=void 0,ae=n[Symbol.iterator]();!(te=(ie=ae.next()).done);te=!0){
var oe=ie.value,se=ee.style.getPropertyValue(oe);if(se&&se.startsWith("url(")){var le=se.substring(6,se.length-2);
le===W&&ee.style.setProperty(oe,"url(#"+Z+")")}}}catch(ue){ne=!0,re=ue}finally{try{
te||null==ae["return"]||ae["return"]()}finally{if(ne)throw re}}}}}catch(ce){U=!0,
H=ce}finally{try{B||null==q["return"]||q["return"]()}finally{if(U)throw H}}};return{
get isArtworkString(){return r},get prepareArtworkForInsertion(){return i}}}),$traceurRuntime.registerModule("utils/artwork-import",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/array","utils/artwork-import")).removeDuplicates,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/element","utils/artwork-import")),n=t.createElement,r=t.getOutermostSVGElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/font","utils/artwork-import")),a=i.isGoogleFontsImportRule,o=i.parseGoogleFontsURL,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/gradient","utils/artwork-import")),l=s.hasOwnStops,u=s.getGradientAttribute,c=s.getGradientComputedStops,d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/artwork-import")).normalize,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/pattern","utils/artwork-import")),v=h.getFurthestAncestorPattern,f=h.getInheritedPatternAttributes,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-shapes","utils/artwork-import")).validateShapeData,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./style","utils/artwork-import")).reflectStyleElementCSSOM,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/artwork-import")).contentSchemas,g=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,y=SVGLength.SVG_LENGTHTYPE_PERCENTAGE,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>',_=function(e){
for(var t,r=E(e)||E(x),i=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,a=document.createNodeIterator(r,i);t=a.nextNode();)if(t.nodeType!==Node.ELEMENT_NODE){
var o=b[t.parentNode.nodeName]||[];o.includes(t.nodeName)===!1&&t.remove()}else if(t.localName.includes(":"))if(t.localName.startsWith("bx:")){
var s=t.localName.split(":")[1],l=document.createElement("bx-"+s),u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=$traceurRuntime.spread(t.attributes)[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;l.setAttribute(f.name,f.value)}}catch(p){c=!0,d=p}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}var g=!0,y=!1,_=void 0;try{for(var P=void 0,A=$traceurRuntime.spread(t.childNodes)[Symbol.iterator]();!(g=(P=A.next()).done);g=!0){
var T=P.value;l.append(T)}}catch(L){y=!0,_=L}finally{try{g||null==A["return"]||A["return"]();
}finally{if(y)throw _}}t.replace(l)}else t.remove();else{if("title"===t.localName){
var N=n("svg:_title");N.innerHTML=t.innerHTML;var $=!0,O=!1,V=void 0;try{for(var j=void 0,z=t.attributes[Symbol.iterator]();!($=(j=z.next()).done);$=!0){
var I=j.value,D=I.name,G=I.value;N.setAttribute(D,G)}}catch(B){O=!0,V=B}finally{try{
$||null==z["return"]||z["return"]()}finally{if(O)throw V}}t.replace(N);continue}if(t!==r){
var U=b[t.parentNode.localName]||[];if(U.includes(t.localName)===!1){t.remove();continue;
}}var H=!0,F=!1,q=void 0;try{for(var W=void 0,Y=$traceurRuntime.spread(t.attributes)[Symbol.iterator]();!(H=(W=Y.next()).done);H=!0){
var X=W.value,Z=X.name,K=X.value;if(Z.includes(":"))if(t.removeAttribute(Z),Z.startsWith("bx:"))Z="data-bx-"+Z.split(":")[1],
t.setAttribute(Z,K);else{if("xlink:href"!==Z||t.hasAttribute("href")!==!1)continue;
Z="href",t.setAttribute(Z,K)}Z.startsWith("data-")?"data-bx-shape"===Z&&m(t)===!1&&t.removeAttribute(Z):"href"===Z&&"a"===t.localName&&(t.removeAttribute(Z),
t.setAttribute("_href",K))}}catch(J){F=!0,q=J}finally{try{H||null==Y["return"]||Y["return"]();
}finally{if(F)throw q}}}var Q=!0,ee=!1,te=void 0;try{for(var ne=void 0,re=r.querySelectorAll("text")[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){
var ie=ne.value;w(ie)}}catch(ae){ee=!0,te=ae}finally{try{Q||null==re["return"]||re["return"]();
}finally{if(ee)throw te}}var oe=!0,se=!1,le=void 0;try{for(var ue=void 0,ce=r.querySelectorAll("linearGradient")[Symbol.iterator]();!(oe=(ue=ce.next()).done);oe=!0){
var de=ue.value;S(de)}}catch(he){se=!0,le=he}finally{try{oe||null==ce["return"]||ce["return"]();
}finally{if(se)throw le}}var ve=!0,fe=!1,me=void 0;try{for(var pe=void 0,be=r.querySelectorAll("radialGradient")[Symbol.iterator]();!(ve=(pe=be.next()).done);ve=!0){
var ge=pe.value;k(ge)}}catch(ye){fe=!0,me=ye}finally{try{ve||null==be["return"]||be["return"]();
}finally{if(fe)throw me}}var xe=!0,_e=!1,we=void 0;try{for(var Se=void 0,ke=r.querySelectorAll("pattern")[Symbol.iterator]();!(xe=(Se=ke.next()).done);xe=!0){
var Ce=Se.value;C(Ce)}}catch(Re){_e=!0,we=Re}finally{try{xe||null==ke["return"]||ke["return"]();
}finally{if(_e)throw we}}var Me=!0,Ee=!1,Pe=void 0;try{for(var Ae=void 0,Te=r.querySelectorAll("use")[Symbol.iterator]();!(Me=(Ae=Te.next()).done);Me=!0){
var Le=Ae.value;R(Le)}}catch(Ne){Ee=!0,Pe=Ne}finally{try{Me||null==Te["return"]||Te["return"]();
}finally{if(Ee)throw Pe}}return M(r),document.importNode(r,!0),r},w=function(e){var t=e.querySelectorAll("textPath"),n=e.querySelectorAll("tspan"),r=t.length>0?t[0]:null,i=e.hasAttribute("width")||e.hasAttribute("height")?"pre-wrap":"pre";
e.style.setProperty("white-space",i);var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=$traceurRuntime.spread([e],n)[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value;c.x.baseVal.numberOfItems>1&&c.setAttribute("x",c.x.baseVal[0].valueAsString),
c.y.baseVal.numberOfItems>1&&c.setAttribute("y",c.y.baseVal[0].valueAsString),c.removeAttribute("dx"),
c.removeAttribute("dy"),c.removeAttribute("rotate")}}catch(d){o=!0,s=d}finally{try{
a||null==u["return"]||u["return"]()}finally{if(o)throw s}}if(t.length>1){var h=!0,v=!1,f=void 0;
try{for(var m=void 0,p=t[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){var b=m.value;
b!==r&&b.remove()}}catch(g){v=!0,f=g}finally{try{h||null==p["return"]||p["return"]();
}finally{if(v)throw f}}}if(r){r.parentElement!==e&&e.append(r);var y=!0,x=!1,_=void 0;
try{for(var w=void 0,S=$traceurRuntime.spread(e.childNodes)[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){
var k=w.value;["a","tspan","#text"].includes(k.localName)&&k.remove()}}catch(C){x=!0,
_=C}finally{try{y||null==S["return"]||S["return"]()}finally{if(x)throw _}}if(r.hasAttribute("style")){
var R=!0,M=!1,E=void 0;try{for(var P=void 0,A=r.style[Symbol.iterator]();!(R=(P=A.next()).done);R=!0){
var T=P.value,L=e.style.getPropertyValue(T),N=r.style.getPropertyValue(T);L!==N&&e.setProperty(T,N);
}}catch($){M=!0,E=$}finally{try{R||null==A["return"]||A["return"]()}finally{if(M)throw E;
}}r.removeAttribute("style")}}},S=function(e){if(""!==e.href.baseVal){if(l(e)===!1){
var t=c(e),n=!0,r=!1,i=void 0;try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;e.append(s.cloneNode())}}catch(h){r=!0,i=h}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}}var v=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod","style"],f=!0,m=!1,p=void 0;
try{for(var b=void 0,x=v[Symbol.iterator]();!(f=(b=x.next()).done);f=!0){var _=b.value;
if(e.hasAttribute(_)===!1){var w=u(e,_);null!==w&&e.setAttribute(_,w)}}}catch(S){
m=!0,p=S}finally{try{f||null==x["return"]||x["return"]()}finally{if(m)throw p}}e.removeAttribute("href");
}var k=0,C=$traceurRuntime.spread(e.children).filter(function(e){return"stop"===e.localName;
}),R=!0,M=!1,E=void 0;try{for(var P=void 0,A=C[Symbol.iterator]();!(R=(P=A.next()).done);R=!0){
var T=P.value,L=T.offset.baseVal;k>L&&(L=k),L=d(L,0,1,4),k=L,T.setAttribute("offset",L);
}}catch(N){M=!0,E=N}finally{try{R||null==A["return"]||A["return"]()}finally{if(M)throw E;
}}e.gradientUnits.baseVal===g&&(e.x1.baseVal.unitType===y&&e.setAttribute("x1",e.x1.baseVal.valueInSpecifiedUnits/100),
e.y1.baseVal.unitType===y&&e.setAttribute("y1",e.y1.baseVal.valueInSpecifiedUnits/100),
e.x2.baseVal.unitType===y&&e.setAttribute("x2",e.x2.baseVal.valueInSpecifiedUnits/100),
e.y2.baseVal.unitType===y&&e.setAttribute("y2",e.y2.baseVal.valueInSpecifiedUnits/100));
},k=function(e){if(""!==e.href.baseVal){if(l(e)===!1){var t=c(e),n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
e.append(s.cloneNode())}}catch(h){r=!0,i=h}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}}var v=["r","cx","cx","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod","style"],f=!0,m=!1,p=void 0;
try{for(var b=void 0,x=v[Symbol.iterator]();!(f=(b=x.next()).done);f=!0){var _=b.value;
if(e.hasAttribute(_)===!1){var w=u(e,_);null!==w&&e.setAttribute(_,w)}}}catch(S){
m=!0,p=S}finally{try{f||null==x["return"]||x["return"]()}finally{if(m)throw p}}e.removeAttribute("href");
}var k=0,C=$traceurRuntime.spread(e.children).filter(function(e){return"stop"===e.localName;
}),R=!0,M=!1,E=void 0;try{for(var P=void 0,A=C[Symbol.iterator]();!(R=(P=A.next()).done);R=!0){
var T=P.value,L=T.offset.baseVal;k>L&&(L=k),L=d(L,0,1,4),k=L,T.setAttribute("offset",L);
}}catch(N){M=!0,E=N}finally{try{R||null==A["return"]||A["return"]()}finally{if(M)throw E;
}}e.removeAttribute("fx"),e.removeAttribute("fy"),e.removeAttribute("fr"),e.gradientUnits.baseVal===g&&(e.r.baseVal.unitType===y&&e.setAttribute("r",e.r.baseVal.valueInSpecifiedUnits/100),
e.cx.baseVal.unitType===y&&e.setAttribute("cx",e.cx.baseVal.valueInSpecifiedUnits/100),
e.cy.baseVal.unitType===y&&e.setAttribute("cy",e.cy.baseVal.valueInSpecifiedUnits/100));
},C=function(e){var t=r(e);if(e.hasAttribute("id")===!1){for(var n=0;null!==t.querySelector("#pattern-"+n);)n+=1;
e.setAttribute("id","pattern-"+n)}if(e.hasAttribute("href")){var i=e.getAttribute("href"),a=t.querySelector(i);
a||e.removeAttribute("href")}if(e.hasAttribute("href")&&e.children.length>0){var o=f(e),s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,m=h.name,p=h.value;
e.setAttribute(m,p)}}catch(b){l=!0,u=b}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}e.removeAttribute("href")}if(e.hasAttribute("href")){var x=e.getAttribute("href"),_=t.querySelector(x);
if(_.hasAttribute("href")){var w=v(e),S=f(e),k=!0,C=!1,R=void 0;try{for(var M=void 0,E=S[Symbol.iterator]();!(k=(M=E.next()).done);k=!0){
var P=M.value,A=P.name,T=P.value;w.hasAttribute(A)===!1&&e.setAttribute(A,T)}}catch(L){
C=!0,R=L}finally{try{k||null==E["return"]||E["return"]()}finally{if(C)throw R}}e.setAttribute("href","#"+w.id);
}}if(e.hasAttribute("href")){var N=["x","y","width","height","viewBox","preserveAspectRatio","patternUnits","patternContentUnits"],$=!0,O=!1,V=void 0;
try{for(var j=void 0,z=N[Symbol.iterator]();!($=(j=z.next()).done);$=!0){var I=j.value;
e.hasAttribute(I)&&e.removeAttribute(I)}}catch(D){O=!0,V=D}finally{try{$||null==z["return"]||z["return"]();
}finally{if(O)throw V}}}e.hasAttribute("href")===!1&&e.patternUnits.baseVal===g&&(e.hasAttribute("x")&&e.x.baseVal.unitType===y&&e.setAttribute("x",e.x.baseVal.valueInSpecifiedUnits/100),
e.hasAttribute("y")&&e.y.baseVal.unitType===y&&e.setAttribute("y",e.y.baseVal.valueInSpecifiedUnits/100),
e.hasAttribute("width")&&e.width.baseVal.unitType===y&&e.setAttribute("width",e.width.baseVal.valueInSpecifiedUnits/100),
e.hasAttribute("height")&&e.height.baseVal.unitType===y&&e.setAttribute("height",e.height.baseVal.valueInSpecifiedUnits/100));
},R=function(e){var t=r(e),n=t.querySelector(e.href.baseVal);if(n&&"symbol"!==n.localName){
var i=SVGMatrix.fromMatrix(n.transform.baseVal.consolidate().matrix);i.multiplySelf(e.transform.baseVal.consolidate().matrix),
i.translateSelf(e.x.baseVal.value,e.y.baseVal.value);var a=n.cloneNode(!0);a.setAttribute("transform",i);
var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=e.style[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value,h=a.style.getPropertyValue(d),v=e.style.getPropertyValue(d);""===h&&a.style.setProperty(d,v);
}}catch(f){s=!0,l=f}finally{try{o||null==c["return"]||c["return"]()}finally{if(s)throw l;
}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=a.querySelectorAll("*[id]")[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;x.removeAttribute("id")}}catch(_){p=!0,b=_}finally{try{m||null==y["return"]||y["return"]();
}finally{if(p)throw b}}a.id=e.id,e.replace(a)}},M=function(t){var r,i,s,l=null,u=[],c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=t.querySelectorAll("style")[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){
for(var m=v.value,b=[],g=0,y=m.sheet.rules.length;y>g;g+=1){var x=m.sheet.rules[g];
if(a(x)){var _=!0,w=!1,S=void 0;try{for(var k=function(){var e=C.value,t=(i=e[Symbol.iterator](),
(s=i.next()).done?void 0:s.value),n=(s=i.next()).done?void 0:s.value,a=u.find(function(e){
return e.family===t});a?(r=a.faces).push.apply(r,$traceurRuntime.spread(n)):u.push({
family:t,faces:n})},C=void 0,R=o(x.href)[Symbol.iterator]();!(_=(C=R.next()).done);_=!0)k();
}catch(M){w=!0,S=M}finally{try{_||null==R["return"]||R["return"]()}finally{if(w)throw S;
}}b.push(g)}}if(b.length>0){var E=!0,P=!1,A=void 0;try{for(var T=void 0,L=b.reverse()[Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var N=T.value;m.sheet.deleteRule(N)}}catch($){P=!0,A=$}finally{try{E||null==L["return"]||L["return"]();
}finally{if(P)throw A}}p(m),0===m.sheet.rules.length&&(null===l?l=m:m.remove())}}
}catch(O){d=!0,h=O}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h;
}}if(u.length>0){if(null===l){l=n("svg:style");var V=t.querySelector("defs");null===V&&(V=n("svg:defs"),
t.prepend(V)),V.insertBefore(l,V.querySelector("style"))}var j="@import url(https://fonts.googleapis.com/css?family=";
u.sort(function(e,t){return e.family>t.family});var z=!0,I=!1,D=void 0;try{for(var G=void 0,B=u[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value,H=U,F=H.family,q=H.faces;q=e(q),q.sort(),U!==u[0]&&(j+="|"),j+=F.replaceAll(" ","+")+":"+q.join(",");
}}catch(W){I=!0,D=W}finally{try{z||null==B["return"]||B["return"]()}finally{if(I)throw D;
}}j+=");",l.textContent=j,l.id="bx-google-fonts"}},E=function(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.querySelector("svg")||null;
return r};return{get importArtwork(){return _}}}),$traceurRuntime.registerModule("utils/artwork-rasterization",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./artwork-export","utils/artwork-rasterization")).exportArtwork,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/artwork-rasterization")).createElement,n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./time","utils/artwork-rasterization")).sleep,
function(n){var r=void 0!==arguments[1]?arguments[1]:"png",i=void 0!==arguments[2]?arguments[2]:1,a=void 0!==arguments[3]?arguments[3]:"rgba(0, 0, 0, 0)";
return new Promise(function(o){var s=e(n,"xml"),l=t("canvas"),u=l.getContext("2d"),c=new Blob([s],{
type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(c),h=new Image;h.src=d,
h.addEventListener("load",function(){l.width=h.naturalWidth,l.height=h.naturalHeight,
"jpeg"===r&&(u.fillStyle="white",u.fillRect(0,0,h.naturalWidth,h.naturalHeight)),
u.fillStyle=a,u.fillRect(0,0,h.naturalWidth,h.naturalHeight),u.drawImage(h,0,0);var e=null;
"png"===r?e=l.toDataURL("image/png",i):"jpeg"===r&&(e=l.toDataURL("image/jpeg",i)),
o(e),URL.revokeObjectURL(d)})})}),r=function(n,r,i){n=n.cloneNode(!0),n.setAttribute("width","1000000px"),
n.setAttribute("height","100px"),n.setAttribute("viewBox","0 0 1000000 100");var a=t("svg:g");
a.style.setProperty("opacity","0");var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=n.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;a.append(d)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}n.append(a);var v=$traceurRuntime.spread(n.querySelectorAll("symbol")),f={},m=1e5,p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=v[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value,w=t("svg:use");
w.setAttribute("width","100"),w.setAttribute("height","100"),w.setAttribute("x",m),
w.href.baseVal="#"+_.id,n.append(w),f[_.id]=m,m+=200}}catch(S){b=!0,g=S}finally{try{
p||null==x["return"]||x["return"]()}finally{if(b)throw g}}var k=e(n,"xml"),C=t("canvas"),R=C.getContext("2d"),M=new Blob([k],{
type:"image/svg+xml;charset=utf-8"}),E=URL.createObjectURL(M),P=new Image,A=function(e){
for(var t=0===v.length;e.timeRemaining()>20&&t===!1;){var n=v.pop(),a=f[n.id];t=0===v.length,
R.clearRect(0,0,100,100),R.drawImage(P,-a,0),r(n.id,C.toDataURL("image/png"),t)}t===!1?requestIdleCallback(A):(URL.revokeObjectURL(E),
i&&i())};P.addEventListener("load",function(){C.width=100,C.height=100,requestIdleCallback(A);
}),P.src=E},i=function(n,r,i){n=n.cloneNode(!0),n.setAttribute("width","1000000px"),
n.setAttribute("height","100px"),n.setAttribute("viewBox","0 0 1000000 100");var a=t("svg:g");
a.style.setProperty("opacity","0");var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=n.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;a.append(d)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}n.append(a);var v={},f=1e5,m=$traceurRuntime.spread(n.querySelectorAll("pattern"));
m=m.filter(function(e){return e.hasAttribute("href")===!1});var p=!0,b=!1,g=void 0;
try{for(var y=void 0,x=m[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){var _=y.value;
_.removeAttribute("patternTransform");var w=t("svg:rect");w.setAttribute("width","100"),
w.setAttribute("height","100"),w.setAttribute("x",f),w.setAttribute("fill",'url("#'+_.id+'")'),
n.append(w),v[_.id]=f,f+=200}}catch(S){b=!0,g=S}finally{try{p||null==x["return"]||x["return"]();
}finally{if(b)throw g}}var k=e(n,"xml"),C=t("canvas"),R=C.getContext("2d"),M=new Blob([k],{
type:"image/svg+xml;charset=utf-8"}),E=URL.createObjectURL(M),P=new Image,A=function(e){
for(var t=0===m.length;e.timeRemaining()>20&&t===!1;){var n=m.pop(),a=v[n.id];t=0===m.length,
R.clearRect(0,0,100,100),R.drawImage(P,-a,0),r(n.id,C.toDataURL("image/png"),t)}t===!1?requestIdleCallback(A):(URL.revokeObjectURL(E),
i&&i())};P.addEventListener("load",function(){C.width=100,C.height=100,requestIdleCallback(A);
}),P.src=E};return{get rasterizeArtwork(){return n},get getSymbolThumbnails(){return r;
},get getPatternThumbnails(){return i}}}),$traceurRuntime.registerModule("utils/attribute",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/attribute")),t=e.attributeSchemas,n=e.propertySchemas,r=e.eventAttributeNames,i=e.svgElementNames,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./dom-value","utils/attribute")).parseValue,o=n.map(function(e){
return e.presentationAttributeName}).filter(function(e){return e}),s=function(e,i,o){
if(i.startsWith("data-"))return!0;if(i.startsWith("on")&&r.includes(i))return!0;var s=[],l=t.find(function(t){
return t.name===i&&t.appliesTo.includes(e.localName)});if(l)s=l.values;else{var u=n.find(function(t){
return t.presentationAttributeName===i&&t.appliesTo.includes(e.localName)});u&&(s=u.values);
}var c=!0,d=!1,h=void 0;try{for(var v,f=function(){var e=m.value,t=a(e.type,o);if(null!==t)if("token"===e.type){
if(e.tokens.includes(t))return{v:!0}}else if("tokens"===e.type){var n=t.find(function(t){
return!e.tokens.includes(t)});if(void 0===n)return{v:!0}}else if("number"===e.type){
var r=void 0===e.min?-(1/0):e.min,i=void 0===e.max?1/0:e.max;if(t>=r&&i>=t)return{
v:!0}}else{if("percentage"!==e.type&&"length"!==e.type)return{v:!0};var s=void 0===e.min?-(1/0):e.min,l=void 0===e.max?1/0:e.max;
if(t[0]>=s&&t[0]<=l)return{v:!0}}},m=void 0,p=s[Symbol.iterator]();!(c=(m=p.next()).done);c=!0)if(v=f(),
"object"===("undefined"==typeof v?"undefined":$traceurRuntime["typeof"](v)))return v.v;
}catch(b){d=!0,h=b}finally{try{c||null==p["return"]||p["return"]()}finally{if(d)throw h;
}}return!1},l=function(e){var n,a,s=l.__index;if(!s){s={};var u=!0,c=!1,d=void 0;try{
for(var h=void 0,v=i[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var f=h.value;
s[f]=[],(n=s[f]).push.apply(n,$traceurRuntime.spread(o)),(a=s[f]).push.apply(a,$traceurRuntime.spread(r));
}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d;
}}var p=!0,b=!1,g=void 0;try{for(var y=void 0,x=t[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){
var _=y.value,w=!0,S=!1,k=void 0;try{for(var C=void 0,R=_.appliesTo[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value;s[M].push(_.name)}}catch(E){S=!0,k=E}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw k}}}}catch(P){b=!0,g=P}finally{try{p||null==x["return"]||x["return"]();
}finally{if(b)throw g}}l.__index=s}return s[e.localName]||[]},u=function(e){var t,n,r=e.split("="),i=(t=r[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),a=(n=t.next()).done?void 0:n.value;if(void 0===i)return["",""];
if(i=i.trim(),void 0===a)a="";else{if(a=a.trim(),a.length<2)return["",""];if('"'!==a[0]&&"'"!==a[0])return["",""];
if(a[0]!==a[a.length-1])return["",""];a=a.substr(1,a.length-2)}return[i,a]};return{
get validateAttribute(){return s},get getValidAttributeNames(){return l},get splitAttributeText(){
return u}}}),$traceurRuntime.registerModule("utils/bbox",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./rect","utils/bbox")).combineRects,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./text","utils/bbox")),n=t.getGlobalOffset,r=t.getRenderedTextNodes,i={
fill:!0,stroke:!0,marker:!0,clipped:!0},a=function(t){var a,o,s,l,u,c=void 0!==arguments[1]?arguments[1]:i;
if("tspan"===t.localName){var d=r(t),h=document.createRange();if(d.length>0&&(h.setStart(d[0],0),
h.setEnd(d[d.length-1],d[d.length-1].length)),h.collapsed===!1){for(var v=h.startContainer.closest("text"),f=(a=n(h.startContainer,h.startOffset)[Symbol.iterator](),
a.next(),(o=a.next()).done?void 0:o.value),m=(s=n(h.endContainer,h.endOffset)[Symbol.iterator](),
s.next(),(l=s.next()).done?void 0:l.value),p=[],b=f;m>b;b+=1){var g=v.getExtentOfChar(b);
p.push(g)}u=e(p)}else u=new SVGRect(0,0,0,0)}else if("use"===t.localName){var y=t.getBBox(),x=y.x,_=y.y,w=y.width,S=y.height;
u=new SVGRect(t.hasAttribute("x")?t.x.baseVal.value:x,t.hasAttribute("y")?t.y.baseVal.value:_,t.hasAttribute("width")?t.width.baseVal.value:w,t.hasAttribute("height")?t.height.baseVal.value:S);
}else u=t.getBBox(c);return u},o=function(e){var t=e.getBoundingClientRect();return new SVGRect(t.left,t.top,t.width,t.height);
};return{get getUserBBox(){return a},get getClientBBox(){return o}}}),$traceurRuntime.registerModule("utils/color",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/string-scanner","utils/color"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/color")),n=t.normalize,r=t.round,i=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./random","utils/color")).getRandomNumber,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./type","utils/color")).isNumber),a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/color")).namedColors,o=Math,s=o.min,l=o.max,u=o.floor,c=Number,d=c.parseFloat,h=c.parseInt,v=function(){
return"#"+Math.floor(16777215*Math.random()).toString(16)},f=function(e){var t=void 0!==arguments[1]?arguments[1]:"rgba",n=$traceurRuntime.getModule("classes/color")["default"];
if("rgba"===t){var r=k(e,"rgba"),i=r.r,a=r.g,o=r.b,s=r.a;return new n(i,a,o,s,"rgba");
}var l=k(e,"hsla"),u=l.h,c=l.s,d=l.l,h=l.a;return new n(u,c,d,h,"hsla")},m=function(e){
try{k(e)}catch(t){return!1}return!0},p=function(e){if(e=e.toLowerCase(),"#"!==e[0])return!1;
if(4!==e.length&&7!==e.length)return!1;e=e.substring(1);var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=!0,r=!1,i=void 0;
try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if(!t.includes(s))return!1}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return!0},b=function(e,t,n){e/=360,t/=100,n/=100;var r=e,i=(2-t)*n,a=t*n;
return 1>=i?0===i?a=0:a/=i:2===i?a=0:a/=2-i,i/=2,r=360*r,a=100*l(0,s(1,a)),i=100*l(0,s(1,i)),
[r,a,i]},g=function(e,t,n){e/=360,t/=100,n=n/100*2,t*=1>=n?n:2-n;var r,i,a=e;return r=n+t===0?0:2*t/(n+t),
i=(n+t)/2,a=360*a,r=100*l(0,s(1,r)),i=100*l(0,s(1,i)),[a,r,i]},y=function(e,t,r){
e/=360,t/=100,r/=100;var i,a,o;if(0===t)i=a=o=r;else{var s,l,u=function(e,t,n){return 0>n&&(n+=1),
n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e};s=.5>r?r*(1+t):r+t-r*t,
l=2*r-s,i=u(l,s,e+1/3),a=u(l,s,e),o=u(l,s,e-1/3)}return i=n(255*i,0,255,0),a=n(255*a,0,255,0),
o=n(255*o,0,255,0),[i,a,o]},x=function(e,t,r){e/=255,t/=255,r/=255;var i,a,o,u=l(e,t,r),c=s(e,t,r);
if(i=a=o=(u+c)/2,u===c)i=a=0;else{var d=u-c;if(a=o>.5?d/(2-u-c):d/(u+c),u===e){var h;
h=r>t?6:0,i=(t-r)/d+h}else u===t?i=(r-e)/d+2:u===r&&(i=(e-t)/d+4)}return i=n(i/6*360,0,360,0),
a=n(100*a,0,100,1),o=n(100*o,0,100,1),[i,a,o]},_=function(e,t,n){e/=360,t/=100,n/=100;
var r=u(6*e),i=6*e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=0,c=0,d=0;return r%6===0?(l=n,
c=s,d=a):r%6===1?(l=o,c=n,d=a):r%6===2?(l=a,c=n,d=s):r%6===3?(l=a,c=o,d=n):r%6===4?(l=s,
c=a,d=n):r%6===5&&(l=n,c=a,d=o),l=255*l,c=255*c,d=255*d,[l,c,d]},w=function(e,t,n){
e/=255,t/=255,n/=255;var r=l(e,t,n),i=s(e,t,n),a=0,o=0,u=r,c=r-i;return o=0===r?0:c/r,
r===i?a=0:(r===e?a=(t-n)/c+(n>t?6:0):r===t?a=(n-e)/c+2:r===n&&(a=(e-t)/c+4),a/=6),
a=360*a,o=100*o,u=100*u,[a,o,u]},S=function(e,t){var n=k(e),r=C(n,t);return r},k=function(e){
var t,r,o,s,l,u=void 0!==arguments[1]?arguments[1]:"auto",c=e.trim(),v=R(c);if(7===v.length&&"rgb("===v[0].text&&"NUM"===v[1].type&&","===v[2].text&&"NUM"===v[3].type&&","===v[4].text&&"NUM"===v[5].type&&")"===v[6].text)l={
r:d(v[1].text),g:d(v[3].text),b:d(v[5].text),a:1};else if(7===v.length&&"rgb("===v[0].text&&"PERCENTAGE"===v[1].type&&","===v[2].text&&"PERCENTAGE"===v[3].type&&","===v[4].text&&"PERCENTAGE"===v[5].type&&")"===v[6].text)l={
r:d(v[1].text)/100*255,g:d(v[3].text)/100*255,b:d(v[5].text)/100*255,a:1};else if(9===v.length&&"rgba("===v[0].text&&"NUM"===v[1].type&&","===v[2].text&&"NUM"===v[3].type&&","===v[4].text&&"NUM"===v[5].type&&","===v[6].text&&"NUM"===v[7].type&&")"===v[8].text)l={
r:d(v[1].text),g:d(v[3].text),b:d(v[5].text),a:d(v[7].text)};else if(9===v.length&&"rgb("===v[0].text&&"PERCENTAGE"===v[1].type&&","===v[2].text&&"PERCENTAGE"===v[3].type&&","===v[4].text&&"PERCENTAGE"===v[5].type&&","===v[6].text&&"NUM"===v[7].type&&")"===v[8].text)l={
r:d(v[1].text)/100*255,g:d(v[3].text)/100*255,b:d(v[5].text)/100*255,a:d(v[7].text)
};else if(7===v.length&&"hsl("===v[0].text&&"NUM"===v[1].type&&","===v[2].text&&"PERCENTAGE"===v[3].type&&","===v[4].text&&"PERCENTAGE"===v[5].type&&")"===v[6].text)l={
h:d(v[1].text),s:d(v[3].text),l:d(v[5].text),a:1};else if(9===v.length&&"hsla("===v[0].text&&"NUM"===v[1].type&&","===v[2].text&&"PERCENTAGE"===v[3].type&&","===v[4].text&&"PERCENTAGE"===v[5].type&&","===v[6].text&&"NUM"===v[7].type&&")"===v[8].text)l={
h:d(v[1].text),s:d(v[3].text),l:d(v[5].text),a:d(v[7].text)};else if("HEX"===v[0].type&&void 0===v[1]){
var f,m,p,b=v[0].text.substring(1);3===b.length?(f=b[0]+b[0],m=b[1]+b[1],p=b[2]+b[2]):(f=b[0]+b[1],
m=b[2]+b[3],p=b[4]+b[5]),l={r:h(f,16),g:h(m,16),b:h(p,16),a:1}}else a[c]&&(l={r:a[c][0],
g:a[c][1],b:a[c][2],a:1});if(!l)throw l=null,new Error('Invalid color string: "'+e+'"');
if(i(l.r)?(l.r=n(l.r,0,255,0),l.g=n(l.g,0,255,0),l.b=n(l.b,0,255,0),l.a=n(l.a,0,1,2)):i(l.h)&&(l.h=n(l.h,0,360,0),
l.s=n(l.s,0,100,1),l.l=n(l.l,0,100,1),l.a=n(l.a,0,1,2)),"rgba"===u&&i(l.h)){var g=y(l.h,l.s,l.l),_=(t=g[Symbol.iterator](),
(r=t.next()).done?void 0:r.value),w=(r=t.next()).done?void 0:r.value,S=(r=t.next()).done?void 0:r.value,k=l.a;
l={r:_,g:w,b:S,a:k}}else if("hsla"===u&&i(l.r)){var C=x(l.r,l.g,l.b),M=(o=C[Symbol.iterator](),
(s=o.next()).done?void 0:s.value),E=(s=o.next()).done?void 0:s.value,P=(s=o.next()).done?void 0:s.value,A=l.a;
l={h:M,s:E,l:P,a:A}}return l},C=function(e){var t,a,o,s,l,u,c=void 0!==arguments[1]?arguments[1]:"rgba",d=null;
if(["rgb","rgba","rgb%","rgba%","hex"].includes(c)){var h,v,f,m;if(i(e.r)?(h=e.r,
v=e.g,f=e.b,m=e.a):(t=y(e.h,e.s,e.l),a=t[Symbol.iterator](),h=(o=a.next()).done?void 0:o.value,
v=(o=a.next()).done?void 0:o.value,f=(o=a.next()).done?void 0:o.value,t,m=e.a),"rgb%"!==c&&"rgba%"!==c||(h=r(h/255*100,1),
v=r(v/255*100,1),f=r(f/255*100,1)),h=n(h,0,255,0),v=n(v,0,255,0),f=n(f,0,255,0),m=n(m,0,1,2),
"rgb"===c)d="rgb("+h+", "+v+", "+f+")";else if("rgba"===c)d="rgba("+h+", "+v+", "+f+", "+m+")";else if("rgb%"===c)d="rgb("+h+"%, "+v+"%, "+f+"%)";else if("rgba%"===c)d="rgb("+h+"%, "+v+"%, "+f+"%, "+m+")";else if("hex"===c){
var p=h.toString(16),b=v.toString(16),g=f.toString(16);1===p.length&&(p="0"+p),1===b.length&&(b="0"+b),
1===g.length&&(g="0"+g),d="#"+p+b+g}}else if("hsl"===c||"hsla"===c){var _,w,S,k;i(e.h)?(_=e.h,
w=e.s,S=e.l,k=e.a):(s=x(e.r,e.g,e.b),l=s[Symbol.iterator](),_=(u=l.next()).done?void 0:u.value,
w=(u=l.next()).done?void 0:u.value,S=(u=l.next()).done?void 0:u.value,s,k=e.a),_=n(_,0,360,0),
w=n(w,0,100,1),S=n(S,0,100,1),k=n(k,0,1,2),"hsl"===c?d="hsl("+_+", "+w+"%, "+S+"%)":"hsla"===c&&(d="hsla("+_+", "+w+"%, "+S+"%, "+k+")");
}return d},R=function(t){for(var n=[],r=new e(t.toLowerCase()),i=function(){var e=r.read();
!function(){if("r"===e||"h"===e){var t=e;if(e+r.peek(3)==="rgb("?t+=r.read(3):e+r.peek(4)==="rgba("?t+=r.read(4):e+r.peek(3)==="hsl("?t+=r.read(3):e+r.peek(4)==="hsla("&&(t+=r.read(4)),
t!==e)return void n.push({type:"FUNCTION",text:t})}if("#"===e){if(p(e+r.peek(6))){
var i=e+r.read(6);return void n.push({type:"HEX",text:i})}if(p(e+r.peek(3)))return t=e+r.read(3),
void n.push({type:"HEX",text:t})}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(e)){
for(var a=e;;){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(r.peek()))break;
a+=r.read()}return void("%"===r.peek()?(a+=r.read(),n.push({type:"PERCENTAGE",text:a
})):n.push({type:"NUM",text:a}))}/\u0009|\u000a|\u000c|\u000d|\u0020/.test(e)||n.push({
type:"CHAR",text:e})}()};null!==r.peek();)i();return n};return{get getRandomHexColorString(){
return v},get parseColor(){return f},get isValidColorString(){return m},get isHexColorString(){
return p},get hsvToHsl(){return b},get hslToHsv(){return g},get hslToRgb(){return y;
},get rgbToHsl(){return x},get hsvToRgb(){return _},get rgbToHsv(){return w},get formatColorString(){
return S},get stringToColor(){return k},get colorToString(){return C}}}),$traceurRuntime.registerModule("utils/curves-general",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/curves-general")).degToRad,t=Math,n=t.abs,r=t.sin,i=t.asin,a=t.cos,o=t.acos,s=t.tan,l=t.pow,u=t.sqrt,c=t.PI,d=function(e,t,n,r,i){
var a=(t.x-e.x)*i+e.x,o=(t.y-e.y)*i+e.y,s=(n.x-t.x)*i+t.x,l=(n.y-t.y)*i+t.y,u=(r.x-n.x)*i+n.x,c=(r.y-n.y)*i+n.y,d=(s-a)*i+a,h=(l-o)*i+o,v=(u-s)*i+s,f=(c-l)*i+l,m=(v-d)*i+d,p=(f-h)*i+h,b=[new SVGPoint(e.x,e.y),new SVGPoint(a,o),new SVGPoint(d,h),new SVGPoint(m,p)],g=[new SVGPoint(m,p),new SVGPoint(v,f),new SVGPoint(u,c),new SVGPoint(r.x,r.y)];
return[b,g]},h=function(e,t,r,i,s){var d=function(e){return n(e)<1e-11?0:e>0?1:-1;
},h=function(e,t,n,r){var i=(n-e)*(n-e),a=(r-t)*(r-t);return u(i+a)},v=function(e,t,n,r,i){
var a=-e+3*t-3*n+r,o=3*e-6*t+3*n,s=-3*e+3*t,l=-i+e;0===a&&(a=1e-10);var u=[3,-1];f(u,o/a,s/a,l/a);
var c=[],d=!0,h=!1,v=void 0;try{for(var m=void 0,p=u[Symbol.iterator]();!(d=(m=p.next()).done);d=!0){
var b=m.value;b>=0&&1>=b&&c.push(b)}}catch(g){h=!0,v=g}finally{try{d||null==p["return"]||p["return"]();
}finally{if(h)throw v}}return c},f=function(e,t,r,i){var s=(l(t,2)-3*r)/9,h=(2*l(t,3)-9*t*r+27*i)/54;
if(l(h,2)<l(s,3)){var v=o(h/u(l(s,3)))/3;return e.splice(0,0,-2*u(s)*a(v)-t/3),e.splice(1,0,-2*u(s)*a(v+4*c/3)-t/3),
e.splice(2,0,-2*u(s)*a(v-4*c/3)-t/3),3}var f=-d(h)*l(n(h)+u(l(h,2)-l(s,3)),1/3),m=0==d(f)?0:s/f;
return e.splice(0,0,f+m-t/3),e.splice(1,0,-.5*(f+m)-t/3),e.splice(2,0,.5*u(3)*n(f-m)),
e[2]+1===1?2:1},m=$traceurRuntime.spread(v(t.x,r.x,i.x,s.x,e.x),v(t.y,r.y,i.y,s.y,e.y));
if(0===m.length)return-1;var p=-1,b=3,g=!0,y=!1,x=void 0;try{for(var _=void 0,w=m[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){
var S=_.value,k=l(1-S,3)*t.x+3*l(1-S,2)*S*r.x+3*(1-S)*l(S,2)*i.x+l(S,3)*s.x,C=l(1-S,3)*t.y+3*l(1-S,2)*S*r.y+3*(1-S)*l(S,2)*i.y+l(S,3)*s.y,R=h(e.x,e.y,k,C);
b>R&&(p=S,b=R)}}catch(M){y=!0,x=M}finally{try{g||null==w["return"]||w["return"]();
}finally{if(y)throw x}}return p},v=function(t,o,l,d,h,f,m,p,b,g){var y,x,_,w,S=[],k=e(m),C=function(e,t,n){
var i=e*a(n)-t*r(n),o=e*r(n)+t*a(n);return{x:i,y:o}};if(g)y=g[0],x=g[1],_=g[2],w=g[3];else{
var R=C(t,o,-k);t=R.x,o=R.y;var M=C(l,d,-k);l=M.x,d=M.y;var E=(t-l)/2,P=(o-d)/2,A=E*E/(h*h)+P*P/(f*f);
A>1&&(A=u(A),h=A*h,f=A*f);var T;T=p===b?-1:1;var L=h*h,N=f*f,$=L*N-L*P*P-N*E*E,O=L*P*P+N*E*E,V=T*u(n($/O));
_=V*h*P/f+(t+l)/2,w=V*-f*E/h+(o+d)/2,y=i(((o-w)/f).toFixed(9)),x=i(((d-w)/f).toFixed(9)),
_>t&&(y=c-y),_>l&&(x=c-x),0>y&&(y=2*c+y),0>x&&(x=2*c+x),b&&y>x&&(y-=2*c),!b&&x>y&&(x-=2*c);
}var j=x-y;if(n(j)>120*c/180){var z=x,I=l,D=d;x=b&&x>y?y+120*c/180*1:y+120*c/180*-1,
l=_+h*a(x),d=w+f*r(x),S=v(l,d,I,D,h,f,m,0,b,[x,z,_,w])}j=x-y;var G=a(y),B=r(y),U=a(x),H=r(x),F=s(j/4),q=4/3*h*F,W=4/3*f*F,Y=[t,o],X=[t+q*B,o-W*G],Z=[l+q*H,d-W*U],K=[l,d];
if(X[0]=2*Y[0]-X[0],X[1]=2*Y[1]-X[1],g)return[X,Z,K].concat(S);S=[X,Z,K].concat(S).join().split(",");
var J=[],Q=[];return S.forEach(function(e,t){t%2?Q.push(C(S[t-1],S[t],k).y):Q.push(C(S[t],S[t+1],k).x),
6===Q.length&&(J.push(Q),Q=[])}),J},f=function(e){var t=void 0!==arguments[1]?arguments[1]:1,n=0,r=0;
if(e.length-1>2)for(var i=2;i<e.length;i+=1){var a=getPerpendicularDistance(e[i],e[1],e[e.length-1]);
a>r&&(n=i,r=a)}var o;if(r>t){var s=f(e.slice(1,n),t),l=f(e.slice(n),t);o=s.concat(l);
}else o=e;return o};return{get splitCurve(){return d},get getCubicCurveTParam(){return h;
},get arcToCubicCurves(){return v},get getRamerDouglasPeuckerPoints(){return f}}}),
$traceurRuntime.registerModule("utils/curves-schneider",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/curves-schneider"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/curves-schneider")).getDistanceBetweenPoints,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../utils/vector","utils/curves-schneider")),r=n.subtractVectors,i=n.sumVectors,a=n.vectorsDotProduct,o=Math,s=o.abs,l=o.floor,u=o.max,c=function(t,n){
var i=r(new e(t[1]),new e(t[0])),a=r(new e(t[t.length-3]),new e(t[t.length-2]));i=i.normalize(),
a=a.normalize();var o=d(t,0,t.length-1,i,a,n);return o},d=function(n,a,o,s,l,c){var m,p;
if(o-a===1){var g=n[a],y=n[o],x=t(g,y)/3,_=new e(g),w=new e(y),S=i(_,s.scale(x)),k=i(w,l.scale(x)),C=[g,new SVGPoint(S.x,S.y),new SVGPoint(k.x,k.y),y];
return[C]}for(var R,M=v(n,a,o),E=u(c,c*c),P=0;4>=P;P+=1){var A=h(n,a,o,M,s,l),T=b(n,a,o,A,M),L=(m=T[Symbol.iterator](),
(p=m.next()).done?void 0:p.value),N=(p=m.next()).done?void 0:p.value;if(c>L)return[A];
if(R=N,L>=E)break;f(n,a,o,M,A),E=L}var $=r(new e(n[R-1]),new e(n[R])),O=r(new e(n[R]),new e(n[R+1])),V=i($,O).multiply(.5).normalize(),j=d(n,a,R,s,V,c),z=d(n,R,o,V.multiply(-1),l,c),I=j.concat(z);
return I},h=function(n,o,l,u,c,d){for(var h=n[o],v=n[l],f=new e(h),m=new e(v),p=[[0,0],[0,0]],b=[0,0],g=l-o+1,y=0;g>y;y+=1){
var x=u[y],_=1-x,w=3*x*_,S=_*_*_,k=w*_,C=w*x,R=x*x*x,M=c.scale(k),E=d.scale(C);p[0][0]+=a(M,M),
p[0][1]+=a(M,E),p[1][0]=p[0][1],p[1][1]+=a(E,E);var P=r(new e(n[o+y]),f.multiply(S+k));
P=r(P,m.multiply(C+R)),b[0]+=a(M,P),b[1]+=a(E,P)}var A,T,L=p[0][0]*p[1][1]-p[1][0]*p[0][1],N=1e-6;
if(s(L)>N){var $=p[0][0]*b[1]-p[1][0]*b[0],O=b[0]*p[1][1]-b[1]*p[0][1];A=O/L,T=$/L;
}else{var V=p[0][0]+p[0][1],j=p[1][0]+p[1][1];A=T=s(V)>N?b[0]/V:s(j)>N?b[1]/j:0}var z=t(v,h);
N*=z,(N>A||N>T)&&(A=T=z/3);var I=i(f,c.scale(A)),D=i(m,d.scale(T)),G=[h,new SVGPoint(I.x,I.y),new SVGPoint(D.x,D.y),v];
return G},v=function(e,n,r){for(var i=[0],a=n+1;r>=a;a+=1)i[a-n]=i[a-n-1]+t(e[a],e[a-1]);
for(var o=1,s=r-n;s>=o;o+=1)i[o]/=i[r-n];return i},f=function(e,t,n,r,i){for(var a=[],o=t;n>=o;o+=1)a[o-t]=m(i,e[o],r[o-t]);
return a},m=function(t,n,i){for(var o=[],l=[],u=0;2>=u;u+=1){var c=r(new e(t[u+1]),new e(t[u]));
o[u]=c.multiply(3)}for(var d=0;1>=d;d++){var h=r(o[d+1],o[d]);l[d]=h.multiply(2)}
var v=p(3,t,i),f=p(2,o,i),m=p(1,l,i),b=r(v,new e(n)),g=a(f,f)+a(b,m);return s(g)<1e-6?i:i-a(b,f)/g;
},p=function(t,n,r){for(var a=function(){var t=0,r=[],i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value;r[t++]=new e(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]();
}finally{if(a)throw o}}return r}(),o=1;t>=o;o+=1)for(var s=0;t-o>=s;s+=1)a[s]=i(a[s].multiply(1-r),a[s+1].multiply(r));
return a[0]},b=function(t,n,i,a,o){for(var s=l((i-n+1)/2),u=0,c=n+1;i>c;c++){var d=r(p(3,a,o[c-n]),new e(t[c])),h=d.length;
h>=u&&(u=h,s=c)}return[u,s]};return{get getSchneiderCurves(){return c}}}),$traceurRuntime.registerModule("utils/dom-value",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/tokens-scanner","utils/dom-value"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/css-parser","utils/dom-value"))["default"],n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/path-data-parser","utils/dom-value"))["default"],r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./color","utils/dom-value")).parseColor,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./node","utils/dom-value")).isDOMWhitespace,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/dom-value")).serializePathData,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/dom-value")),s=o.lengthUnits,l=o.angleUnits,u=o.alignValues,c=t,d=c.tokenize,h=c.EOFToken,v=Number.isInteger,f=window.parseValue=function(e,t){
switch(e){case"integer":return p(t);case"number":return b(t);case"number-list":return g(t);
case"number-optional-number":return y(t);case"percentage":return x(t);case"length":
return _(t);case"angle":return w(t);case"string":return S(t);case"ident":return k(t);
case"url":return C(t);case"href":return R(t);case"color":return M(t);case"token":
return E(t);case"token-list":return P(t);case"aspect-ratio":return A(t);case"dasharray":
return T(t);case"path-data":return L(t);case"view-box":return N(t);case"style-attribute":
return $(t);case"id-attribute":return O(t);case"class-attribute":return V(t);case"transform-list":
return j(t);case"filter-function-list":return z(t);case"font-family":return I(t);case"any":
return t}return null},m=window.normalizeValue=function(e,t){var n=f(e,t);if(null===n)return null;
switch(e){case"integer":return n+"";case"number":return n+"";case"number-list":return n.join(" ");
case"number-optional-number":return n.join(" ");case"percentage":return n+"%";case"length":
return n[0]+n[1];case"angle":return n+"";case"string":return'"'+n+'"';case"ident":
return n;case"url":return'url("'+n+'")';case"href":return n;case"color":return n.toString();
case"token":return n;case"token-list":return n.join(" ");case"aspect-ratio":return n.join(" ");
case"dasharray":return n.join(" ");case"path-data":return a(n);case"view-box":return n.join(" ");
case"style-attribute":return n;case"id-attribute":return n;case"class-attribute":
return n.join(" ");case"transform-list":return n;case"filter-function-list":return n;
case"font-family":return D(n);case"any":return n}return null},p=function(e){var t=b(e);
return v(t)?t:null},b=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"NUMBER"===r.currentToken.tokenType){
var i=r.currentToken.value;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}return null},g=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n),i=[];
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"EOF"===r.currentToken.tokenType)return i;
if("NUMBER"===r.currentToken.tokenType)for(i.push(r.currentToken.value);;){r.read();
var a=!1,o=!1;if("WHITESPACE"===r.currentToken.tokenType&&(a=!0,r.read()),","===r.currentToken.tokenType&&(o=!0,
r.read()),"WHITESPACE"===r.currentToken.tokenType&&(a=!0,r.read()),"NUMBER"!==r.currentToken.tokenType){
if("EOF"===r.currentToken.tokenType&&o===!1)return i;break}i.push(r.currentToken.value);
}return null},y=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n),i=[];
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"EOF"===r.currentToken.tokenType)return i;
if("NUMBER"===r.currentToken.tokenType){i.push(r.currentToken.value),r.read();var a=!1,o=!1;
if("WHITESPACE"===r.currentToken.tokenType&&(a=!0,r.read()),","===r.currentToken.tokenType&&(o=!0,
r.read()),"WHITESPACE"===r.currentToken.tokenType&&(a=!0,r.read()),"NUMBER"===r.currentToken.tokenType){
if(i.push(r.currentToken.value),r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}else if("EOF"===r.currentToken.tokenType&&o===!1)return i;
}return null},x=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"PERCENTAGE"===r.currentToken.tokenType){
var i=r.currentToken.value;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}return null},_=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"DIMENSION"===r.currentToken.tokenType&&s.includes(r.currentToken.unit)){
var i=[r.currentToken.value,r.currentToken.unit];if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}return null},w=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"DIMENSION"===r.currentToken.tokenType&&l.includes(r.currentToken.unit)){
var i=[r.currentToken.value,r.currentToken.unit];if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}return null},S=function(e){if(e=e.trim(),
e.length>=2&&e[0]===e[e.length-1]){var t=d(e);if(1===t.length){var n=t[0];if("STRING"===n.tokenType)return n.value;
}}return null},k=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"IDENT"===r.currentToken.tokenType){
var i=r.currentToken.value;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}return null},C=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"URL"===r.currentToken.tokenType){
var i=r.currentToken.value;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return i}else if("FUNCTION"===r.currentToken.tokenType&&"url"===r.currentToken.value&&(r.read(),
"WHITESPACE"===r.currentToken.tokenType&&r.read(),"STRING"===r.currentToken.tokenType)){
var a=r.currentToken.value;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
")"===r.currentToken.tokenType&&(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType))return a.trim()}return null},R=function(e){return C('url("'+e+'")');
},M=function(e){var t;try{t=r(e)}catch(n){t=null}return t},E=function(e){var t="",n=!0,r=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;
t+=i(l)?" ":l}}catch(u){r=!0,a=u}finally{try{n||null==s["return"]||s["return"]()}finally{
if(r)throw a}}var c=t.trim().replace(/\s+/g," ").split(" ");return 1===c.length?c[0]:null;
},P=function(e){var t="",n=!0,r=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t+=i(l)?" ":l}}catch(u){r=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw a}}var c=t.trim().replace(/\s+/g," ").split(" ");return c.length>0?c:null;
},A=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n);if(r.read(),
"WHITESPACE"===r.currentToken.tokenType&&r.read(),"IDENT"===r.currentToken.tokenType&&u.includes(r.currentToken.value)){
var i=r.currentToken.value,a=null;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"EOF"===r.currentToken.tokenType)return[i,a];if("IDENT"===r.currentToken.tokenType&&["meet","slice"].includes(r.currentToken.value)&&(a=r.currentToken.value,
r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"EOF"===r.currentToken.tokenType))return[i,a];
}return null},T=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n),i=[];
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"NUMBER"===r.currentToken.tokenType)i.push({
value:r.currentToken.value,unit:null});else if("PERCENTAGE"===r.currentToken.tokenType)i.push({
value:r.currentToken.value,unit:"%"});else{if("LENGTH"!==r.currentToken.tokenType)return null;
i.push({value:r.currentToken.value,unit:r.currentToken.unit})}for(;;){var a=!1,o=!1;
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&(a=!0,r.read()),","===r.currentToken.tokenType&&(o=!0,
r.read()),"WHITESPACE"===r.currentToken.tokenType&&(a=!0,r.read()),"NUMBER"===r.currentToken.tokenType){
if(!a&&!o)return null;i.push({value:r.currentToken.value,unit:null})}else if("PERCENTAGE"===r.currentToken.tokenType){
if(!a&&!o)return null;i.push({value:r.currentToken.value,unit:"%"})}else{if("DIMENSION"!==r.currentToken.tokenType)return"EOF"===r.currentToken.tokenType?o?null:i:null;
if(!a&&!o||!s.includes(r.currentToken.unit))return null;i.push({value:r.currentToken.value,
unit:r.currentToken.unit})}}return null},L=function(e){var t=new n(e),r=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){
var i=t.parseSegment();if(null===i)break;r.push(i)}return r.length>0?r:null},N=function(t){
var n,r,i,a,o=$traceurRuntime.spread(d(t),[new h]),s=new e(o);return s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),
"NUMBER"!==s.currentToken.tokenType?null:(n=s.currentToken.value,s.read(),"WHITESPACE"!==s.currentToken.tokenType&&","!==s.currentToken.tokenType?null:("WHITESPACE"===s.currentToken.tokenType&&s.read(),
","===s.currentToken.tokenType&&s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),
"NUMBER"!==s.currentToken.tokenType?null:(r=s.currentToken.value,s.read(),"WHITESPACE"!==s.currentToken.tokenType&&","!==s.currentToken.tokenType?null:("WHITESPACE"===s.currentToken.tokenType&&s.read(),
","===s.currentToken.tokenType&&s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),
"NUMBER"===s.currentToken.tokenType&&s.currentToken.value>=0?(i=s.currentToken.value,
s.read(),"WHITESPACE"!==s.currentToken.tokenType&&","!==s.currentToken.tokenType?null:("WHITESPACE"===s.currentToken.tokenType&&s.read(),
","===s.currentToken.tokenType&&s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),
"NUMBER"===s.currentToken.tokenType&&s.currentToken.value>=0?(a=s.currentToken.value,
s.read(),"WHITESPACE"===s.currentToken.tokenType&&(token=s.read()),"EOF"===s.currentToken.tokenType?[n,r,i,a]:null):null)):null))));
},$=function(e){var n;try{n=t.parseAListOfDeclarations(e)}catch(r){n=null}return e;
},O=function(e){var t="",n=!0,r=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t+=i(l)?" ":l}}catch(u){r=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw a}}var c=t.trim().replace(/\s+/g," ").split(" ");return 1===c.length?c[0]:null;
},V=function(e){var t="",n=!0,r=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){
var l=o.value;t+=i(l)?" ":l}}catch(u){r=!0,a=u}finally{try{n||null==s["return"]||s["return"]();
}finally{if(r)throw a}}var c=t.trim().replace(/\s+/g," ").split(" ");return c.length>0?c:null;
},j=function(e){return e},z=function(e){return e},I=function(t){var n=$traceurRuntime.spread(d(t),[new h]),r=new e(n),i=[];
if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),"STRING"!==r.currentToken.tokenType&&"IDENT"!==r.currentToken.tokenType)return null;
for(i.push(r.currentToken.value);;){var a=!1;if(r.read(),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
","===r.currentToken.tokenType&&(a=!0,r.read()),"WHITESPACE"===r.currentToken.tokenType&&r.read(),
"STRING"!==r.currentToken.tokenType&&"IDENT"!==r.currentToken.tokenType)return"EOF"===r.currentToken.tokenType?a?null:i:null;
if(!a)return null;i.push(r.currentToken.value)}return null},D=function(e){var t=e.map(function(e){
return null===k(e)&&(e='"'+e+'"'),e});return t.join(", ")};return{get parseValue(){
return f},get normalizeValue(){return m}}}),$traceurRuntime.registerModule("utils/element",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./rect","utils/element")),t=(e.transformRect,
e.rectIntersectsRect),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/element")),r=n.namespaces,i=n.graphicsElementNames,a=Number.parseInt,o=function(e){
var t,n,i,a,o=void 0!==arguments[1]?arguments[1]:null,s=e.split(":"),l=null;if(1===s.length){
var u=(t=s[Symbol.iterator](),(n=t.next()).done?void 0:n.value);l=document.createElement(u,o);
}else if(2===s.length){var c=s,d=(i=c[Symbol.iterator](),(a=i.next()).done?void 0:a.value),h=(a=i.next()).done?void 0:a.value;
"svg"===d&&(l=document.createElementNS(r.svg,h,o))}return l},s=function(e,t){var n=void 0!==arguments[2]?arguments[2]:null;
if(null===n){var r=t;return document.registerElement(e,r)}var i=t,a=n;return document.registerElement(i,{
"extends":e,prototype:a.prototype})},l=function(e){for(var t="svg"===e.localName?e:null,n=e.ownerSVGElement;n;n=n.ownerSVGElement)t=n;
return t},u=function(e){for(var t in e.parentElement.children){var n=e.parentElement.children[t];
if(n===e)return a(t)}},c=function(e,t){if(e.localName!==t.localName)return!1;if(e.namespaceURI!==t.namespaceURI)return!1;
if(e.textContent!==t.textContent)return!1;if(e.children.length!==t.children.length)return!1;
if(e.attributes.length!==t.attributes.length)return!1;var n=!0,r=!1,i=void 0;try{
for(var a=void 0,o=e.attributes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;
if("style"===s.name){if(e.style.cssText!==t.style.cssText)return!1}else if(e.getAttribute(s.name)!==t.getAttribute(s.name))return!1;
}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}for(var u=0;u<e.children.length;u+=1)if(c(e.children[u],t.children[u])===!1)return!1;
return!0},d=function(e){var t=void 0!==arguments[1]?arguments[1]:!1,n=[],r=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;
if("g"===u.localName||"a"===u.localName){var c=$traceurRuntime.spread(u.children);
n=$traceurRuntime.spread(n,d(c,t))}else if(i.includes(u.localName)&&(n.push(u),"text"===u.localName&&t)){
var h=$traceurRuntime.spread(u.children);n=$traceurRuntime.spread(n,d(h,t))}}}catch(v){
a=!0,o=v}finally{try{r||null==l["return"]||l["return"]()}finally{if(a)throw o}}return n;
},h=function(e){var t=[],n=["path","text","rect","circle","ellipse","line","polyline","polygon","use"],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=l.localName;
n.includes(u)?t.push(l):"g"!==u&&"a"!==u||(t=$traceurRuntime.spread(t,h(l.children)));
}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a;
}}return t},v=function(e,t){for(;e=e.parentNode;)if(e.contains&&e.contains(t))return e;
return null},f=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t.push(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return t.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t));
}),t},m=function(e){var t=[];e=f(e);var n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;if(s===e[0])t.push([s]);else{var l=!1,u=!0,c=!1,d=void 0;try{for(var h=void 0,v=t[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var m=h.value;s.parentElement===m[0].parentElement&&(m.push(s),l=!0)}}catch(p){c=!0,
d=p}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}l===!1&&t.push([s]);
}}}catch(b){r=!0,i=b}finally{try{n||null==o["return"]||o["return"]()}finally{if(r)throw i;
}}return t},p=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;t.push(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}for(;t.length>1;){var u=t[0].compareDocumentPosition(t[1]);
4===u||20===u?t.remove(t[0]):t.remove(t[1])}return t[0]},b=function(e){var t=l(e),n=$traceurRuntime.getModule("./utils/bbox").getClientBBox,r=(t.getScreenCTM().inverse(),
n(e)),i=t.getIntersectionList(r,t);return i=Array.from(i),i.remove(e),i},g=function(e,n){
if(!e.transform||!n.transform)return!1;var r=$traceurRuntime.getModule("./utils/bbox").getClientBBox,i=(e.getScreenCTM().inverse(),
r(e)),a=(n.getScreenCTM().inverse(),r(n));return t(i,a)},y=function(e){var t=[],n=[],r=!0,i=!1,a=void 0;
try{for(var o=function(){var r=s.value,i=[],a=function(t){var r=!0,o=!1,s=void 0;try{
for(var l=void 0,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value,d=!i.includes(c)&&!n.includes(c);
c!==t&&d&&g(c,t)&&(i.push(c),n.push(c),a(c))}}catch(h){o=!0,s=h}finally{try{r||null==u["return"]||u["return"]();
}finally{if(o)throw s}}};a(r),i.length>0&&t.push(f(i))},s=void 0,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)o();
}catch(u){i=!0,a=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw a;
}}var c=!0,d=!1,h=void 0;try{for(var v=void 0,m=e[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){
var p=v.value;n.includes(p)||t.push([p])}}catch(b){d=!0,h=b}finally{try{c||null==m["return"]||m["return"]();
}finally{if(d)throw h}}return t},x=function(e){if(e.isConnected)return function(){};
for(var t=null,n=e;n;n=n.parentNode||n.host)t=n;var r="\n      position: fixed;\n      top: -200px;\n      left: -200px;\n      width: 100px;\n      height: 100px;\n      opacity: 0;\n      display: block;\n    ",i=document.createElement("div");
i.setAttribute("style",r),i.createShadowRoot(),i.shadowRoot.append(t),document.body.append(i);
var a=function(){t.remove(),i.remove()};return a},_=function(e,t){t.parentElement.insertBefore(e,t.nextSibling);
},w=function(e,t){var n=void 0!==arguments[2]?arguments[2]:[],r=!0,i=!1,a=void 0;try{
for(var o=void 0,s=e.attributes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=l.name,c=l.value;
n.includes(u)===!1&&t.setAttribute(u,c)}}catch(d){i=!0,a=d}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var h=!0,v=!1,f=void 0;try{for(var m=void 0,p=t.attributes[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){
var b=m.value.name;e.hasAttribute(b)===!1&&n.includes(b)===!1&&t.removeAttribute(b);
}}catch(g){v=!0,f=g}finally{try{h||null==p["return"]||p["return"]()}finally{if(v)throw f;
}}};return{get createElement(){return o},get registerElement(){return s},get getOutermostSVGElement(){
return l},get getElementIndex(){return u},get compareElements(){return c},get queryGraphicsElements(){
return d},get queryClippingElements(){return h},get getCommonAncestor(){return v},
get sortByDomPosition(){return f},get sortBySiblingElements(){return m},get getTopStackedElement(){
return p},get getIntersectingElements(){return b},get isElementIntersectingElement(){
return g},get sortByIntersectingElements(){return y},get connectElement(){return x;
},get insertElementAfter(){return _},get mirrorAttributes(){return w}}}),$traceurRuntime.registerModule("utils/event",[],function(){
"use strict";var e=Math,t=e.sqrt,n=e.pow,r=function(e,r){var i=void 0!==arguments[2]?arguments[2]:3,a=t(n(r.clientX-e.clientX,2)+n(r.clientY-e.clientY,2));
return!(i>a&&r.timeStamp-e.timeStamp<50)};return{get isPointerMoveIntentional(){return r;
}}}),$traceurRuntime.registerModule("utils/font",[],function(){"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/opentype","utils/font"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/font")).fontWeightsByMatchingOrder,n=Math,r=n.tan,i=n.PI,a=function(e){
switch(e){case"normal":return"400";case"bold":return"700";default:return e}},o=function(e){
var t=a(e);switch(t){case"100":return"Thin";case"200":return"Extra-Light";case"300":
return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";
case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:
return"Normal"}},s=function(e,n){var r=!0,i=!1,a=void 0;try{for(var o=void 0,s=t[e][Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;if(n.includes(l))return l}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}},l=function(e){switch(e){case"regular":return"400";case"bold":
return"700";case"italic":return"400italic";case"bolditalic":return"700italic";case"r":
return"400";case"b":return"700";case"i":return"400italic";default:return e}},u=function(e){
var n=void 0!==arguments[1]?arguments[1]:"400",r=void 0!==arguments[2]?arguments[2]:"normal",i=function(e,t){
var n=e.filter(function(e){return"normal"===t?e.endsWith("italic")===!1:"italic"===t||"oblique"===t?e.endsWith("italic")===!0:void 0;
});return 0===n.length&&(n=$traceurRuntime.spread(e)),n},a=function(e,n){var r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=t[n][Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=e[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var f=h.value;
if(f.substring(0,3)===l)return f}}catch(m){c=!0,d=m}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}}}catch(p){i=!0,a=p}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return e[0]},o=i(e,r),s=a(o,n);return s},c=function(e){if(e.type===CSSRule.IMPORT_RULE&&e.href){
var t=new URL(e.href);if("fonts.googleapis.com"===t.host)return!0}return!1},d=function(e){
var t,n;e=new URL(e);var r=e.search.split("?family=")[1].split("&")[0],i=r.split("|"),a=[],o=!0,s=!1,u=void 0;
try{for(var c=void 0,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,v=h.split(":"),f=(t=v[Symbol.iterator](),
(n=t.next()).done?void 0:n.value),m=(n=t.next()).done?void 0:n.value,p=f.replaceAll("+"," "),b=void 0;
b=m?m.split(",").map(function(e){return l(e)}).sort():["400"],a.push([p,b])}}catch(g){
s=!0,u=g}finally{try{o||null==d["return"]||d["return"]()}finally{if(s)throw u}}return a;
},h=function(t){return new Promise(function(n){e.load(t,function(e,t){return n(e?null:t);
})})},v=function(e){var t;if("M"===e.type||"L"===e.type){var n=e,r=n.type,i=n.x,a=n.y;
t={type:r,x:i,y:a}}else if("Q"===e.type){var o=e,s=o.type,l=o.x1,u=o.y1,c=o.x,d=o.y;
t={type:s,x1:l,y1:u,x:c,y:d}}else if("C"===e.type){var h=e,v=h.type,f=h.x1,m=h.y1,p=h.x2,b=h.y2,g=h.x,y=h.y;
t={type:v,x1:f,y1:m,x2:p,y2:b,x:g,y:y}}else"Z"===e.type&&(t={type:"Z"});return t},f=function(t,n){
var a=i*n/180,o=new SVGMatrix([1,0,r(a),1,0,0]),s=[],l=!0,u=!1,c=void 0;try{for(var d=void 0,h=t.commands[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){
var v=d.value;if("M"===v.type){var f=new SVGPoint(v.x,v.y).matrixTransform(o);s.push({
type:"M",x:f.x,y:f.y})}else if("L"===v.type){var m=new SVGPoint(v.x,v.y).matrixTransform(o);
s.push({type:"L",x:m.x,y:m.y})}else if("Q"===v.type){var p=new SVGPoint(v.x1,v.y1).matrixTransform(o),b=new SVGPoint(v.x,v.y).matrixTransform(o);
s.push({type:"Q",x1:p.x,y1:p.y,x:b.x,y:b.y})}else if("C"===v.type){var g=(new SVGPoint(v.x1,v.y1).matrixTransform(o),
new SVGPoint(v.x2,v.y2).matrixTransform(o),new SVGPoint(v.x,v.y).matrixTransform(o));
s.push({type:"C",x1:controlPoint1.x,y1:controlPoint1.y,x2:controlPoint2.x,y2:controlPoint2.y,
x:g.x,y:g.y})}else"Z"===v.type&&s.push({type:"Z"})}}catch(y){u=!0,c=y}finally{try{
l||null==h["return"]||h["return"]()}finally{if(u)throw c}}var x=new e.Path;return x.commands=s,
x.fill=t.fill,x.stroke=t.stroke,x.strokeWidth=t.strokeWidth,x},m=function(t,n,r,i){
var a=[],o=!0,s=!1,l=void 0;try{for(var u=void 0,c=t.commands[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;a.push(v(d))}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}a.push({type:"M",x:0,y:i}),a.push({type:"L",x:n,y:i}),a.push({
type:"L",x:n,y:i-r}),a.push({type:"L",x:0,y:i-r}),a.push({type:"Z"});var f=new e.Path;
return f.commands=a,f.fill=t.fill,f.stroke=t.stroke,f.strokeWidth=t.strokeWidth,f;
},p=function(t,n){for(var r=new e.Path,i=0;i<t.commands.length;i+=1){var a=t.commands[i];
"M"===a.type?r.moveTo(a.x*n,-a.y*n):"L"===a.type?r.lineTo(a.x*n,-a.y*n):"Q"===a.type?r.quadraticCurveTo(a.x1*n,-a.y1*n,a.x*n,-a.y*n):"C"===a.type?r.curveTo(a.x1*n,-a.y1*n,a.x2*n,-a.y2*n,a.x*n,-a.y*n):"Z"===a.type&&r.closePath();
}return r},b=function(e,t,n,r,i,a){var o=e.path;if(i&&(o=f(o,14)),r){var s=t.ascender/20;
r.includes("underline")&&(o=m(o,e.advanceWidth,s,t.descender/3)),r.includes("overline")&&(o=m(o,e.advanceWidth,s,t.ascender-s)),
r.includes("line-through")&&(o=m(o,e.advanceWidth,s,(t.ascender+t.descender)/2))}
return o=p(o,1/t.unitsPerEm*n)};return{get normalizeFontWeight(){return a},get formatFontWeightForDisplay(){
return o},get matchFontWeight(){return s},get normalizeGoogleFontFace(){return l},
get matchGoogleFontFace(){return u},get isGoogleFontsImportRule(){return c},get parseGoogleFontsURL(){
return d},get getOpenTypeFont(){return h},get getOpenTypeGlyphPath(){return b}}}),
$traceurRuntime.registerModule("utils/geometry",[],function(){"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/geometry"))["default"],t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/geometry")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./vector","utils/geometry")),r=n.sumVectors,i=n.vectorsDotProduct,a=Math,o=a.sin,s=a.cos,l=a.acos,u=a.atan2,c=a.abs,d=a.sqrt,h=a.pow,v=a.PI,f=Number.isNaN,m=function(e){
var t=e*(180/v);return t},p=function(e){var t=v*e/180;return t},b=function(e,n){var r=void 0!==arguments[2]?arguments[2]:null;
return null!==r?t(e.x,r)===t(n.x,r)&&t(e.y,r)===t(n.y,r):e.x===n.x&&e.y===n.y},g=function(t,n,r){
var a=void 0!==arguments[3]?arguments[3]:0;if(0===a){var o=(t.x*(n.y-r.y)+n.x*(r.y-t.y)+r.x*(t.y-n.y))/2;
return 0===o}var s=new e(t,n),u=new e(n,r),c=i(s,u),d=l(c/(s.length*u.length));if(f(d))return!0;
var h=m(d);return a>h},y=function(e,t){var n=t.x-e.x;n*=n;var r=t.y-e.y;r*=r;var i=d(n+r);
return i},x=function(e,t){var n=(e.x+t.x)/2,r=(e.y+t.y)/2;return new SVGPoint(n,r);
},_=function(t,n,a){var o,s=void 0!==arguments[3]?arguments[3]:!0,l=new SVGPoint(0,0),u=new SVGPoint(t.x,t.y),c=new SVGPoint(n.x,n.y),d=a,h=new e(l,u),v=new e(u,c),f=new e(u,d),m=i(f,v),p=i(v,v);
o=0!==p?m/p:0,s===!1&&(0>o?o=0:o>1&&(o=1));var b=r(h,v.multiply(o)),g=new SVGPoint(b.x,b.y);
return[g,o]},w=function(e,t){var n=void 0!==arguments[2]?arguments[2]:.5,r=t.x-e.x,i=t.y-e.y,a=new SVGPoint(e.x+n*r,e.y+n*i);
return a},S=function(t,n){for(var r=void 0!==arguments[2]?arguments[2]:22.5,i=new SVGPoint(t.x,t.y-1e3),a=C(t,i,n),l=[],u=-180;180>=u;u+=r)l.push(u);
var d=1/0,h=!0,v=!1,f=void 0;try{for(var m=void 0,b=l[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){
var g=m.value,x=g-a;c(x)<c(d)&&(d=x)}}catch(_){v=!0,f=_}finally{try{h||null==b["return"]||b["return"]();
}finally{if(v)throw f}}a+=d;var w=p(a-90),S=y(t,n),k=new e(s(w),o(w));k.length=S;var R=new SVGPoint(t.x+k.x,t.y+k.y);
return[R,a]},k=function(t,n){var r=void 0!==arguments[2]?arguments[2]:90,i=new SVGPoint(t.x,t.y-1e3),a=C(t,i,n),l=r-a;
a+=l;var u=p(a-90),c=y(t,n),d=new e(s(u),o(u));d.length=c;var h=new SVGPoint(t.x+d.x,t.y+d.y);
return h},C=function(t,n,r){var i=new e(t,n),a=new e(t,r),o=u(a.y,a.x)-u(i.y,i.x),s=R(m(o));
return s},R=function(e){for(;-180>e;)e+=360;for(;e>180;)e-=360;return e},M=function(e){
for(var t=void 0!==arguments[1]?arguments[1]:15,n=R(e),r=[],i=-180;180>=i;i+=t)r.push(i);
var a=r.reduce(function(e,t){return c(t-n)<c(e-n)?t:e});return a},E=function(e,t,n){
var r=(n.y-t.y)/(n.x-t.x),i=t.y-r*t.x,a=c(r*e.x-e.y+i)/d(h(r,2)+1);return a};return{
get radToDeg(){return m},get degToRad(){return p},get comparePoints(){return b},get checkCollinearity(){
return g},get getDistanceBetweenPoints(){return y},get getPointBetweenTwoPoints(){
return x},get getNearestPointOnLine(){return _},get getPointAtFraction(){return w;
},get snapPointToAngleMultiple(){return S},get snapPointToAngle(){return k},get getRotationAngleFromPoints(){
return C},get normalizeRotationAngle(){return R},get snapRotationAngle(){return M;
},get getPerpendicularDistance(){return E}}}),$traceurRuntime.registerModule("utils/gradient",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/gradient")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./color","utils/gradient")).parseColor,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/gradient")),r=n.createElement,i=n.getOutermostSVGElement,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/gradient")),o=(a.round,
a.normalize,$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-general","utils/gradient")).getTransformFromPoints),s=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,l=function(e){
var t=!0,n=!1,r=void 0;try{for(var i=void 0,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){
var o=i.value;if("stop"===o.localName)return!0}}catch(s){n=!0,r=s}finally{try{t||null==a["return"]||a["return"]();
}finally{if(n)throw r}}return!1},u=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a=void 0,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){
var s=a.value;"stop"===s.localName&&t.push(s)}}catch(l){r=!0,i=l}finally{try{n||null==o["return"]||o["return"]();
}finally{if(r)throw i}}return t},c=function(e){for(var t=i(e),n=e,r=[];n;){var a=u(n);
if(a.length>0){r=a;break}if(""===e.href.baseVal)break;var o=t.querySelector(n.href.baseVal);
if(!o)break;n=o}return r},d=function(e){for(var t=document.createNodeIterator(i(e),NodeFilter.SHOW_ELEMENT),n=null,r=[];n=t.nextNode();){
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=["fill","stroke"][Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=n.style.getPropertyValue(c);if(d&&d.startsWith("url(")){var h=d.substring(6,d.length-2);
h===e.id&&r.includes(n)===!1&&r.push(n)}}}catch(v){o=!0,s=v}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}}return r},h=function(t,n){if(t.gradientUnits.baseVal===s){
var r=SVGMatrix.fromMatrix(t.gradientTransform.baseVal.consolidate().matrix),i=n.getScreenCTM(),a=n.getScreenCTM().inverse(),l=e(n),u=new SVGPoint(t.cx.baseVal.valueInSpecifiedUnits,t.cy.baseVal.valueInSpecifiedUnits),c=new SVGPoint(t.cx.baseVal.valueInSpecifiedUnits+t.r.baseVal.valueInSpecifiedUnits,t.cy.baseVal.valueInSpecifiedUnits),d=new SVGPoint(t.cx.baseVal.valueInSpecifiedUnits,t.cy.baseVal.valueInSpecifiedUnits-t.r.baseVal.valueInSpecifiedUnits),h=u.matrixTransform(r),v=c.matrixTransform(r),f=d.matrixTransform(r),m=new SVGPoint(l.x+h.x*l.width,l.y+h.y*l.height),p=new SVGPoint(l.x+v.x*l.width,l.y+v.y*l.height),b=new SVGPoint(l.x+f.x*l.width,l.y+f.y*l.height),g=m.matrixTransform(i),y=p.matrixTransform(i),x=b.matrixTransform(i);
u=new SVGPoint(0,0),c=new SVGPoint(100,0),d=new SVGPoint(0,-100);var _=o(u,c,d,g,y,x),w=new SVGMatrix;
w.multiplySelf(a),w.multiplySelf(_),t.setAttribute("gradientUnits","userSpaceOnUse"),
t.setAttribute("gradientTransform",w),t.setAttribute("cx","0"),t.setAttribute("cy","0"),
t.setAttribute("r","100")}},v=function(e,n){var i,a,o=r("canvas");o.width=i=100,o.height=a=10;
var s=o.getContext("2d");s.clearRect(0,0,i,a);var l=s.createLinearGradient(0,0,i,0),c=!0,d=!1,h=void 0;
try{for(var v=void 0,f=u(e)[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var m=v.value;
l.addColorStop(m.offset.baseVal,m.style.getPropertyValue("stop-color")||"#000")}}catch(p){
d=!0,h=p}finally{try{c||null==f["return"]||f["return"]()}finally{if(d)throw h}}s.fillStyle=l,
s.fillRect(0,0,i,a);var b=s.getImageData(n*i,0,1,1).data,g="rgb("+b[0]+", "+b[1]+", "+b[2]+")",y=t(g,"hsla");
return y},f=function(e){var t,n;if(0===e.length)return!1;if(1===e.length)return!0;
var r=e,i=(t=r[Symbol.iterator](),(n=t.next()).done?void 0:n.value),a=$traceurRuntime.iteratorToArray(t),o=Symbol(),s=!0,l=!1,c=void 0;
try{for(var d=void 0,h=e[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var v=d.value;
v[o]=u(v)}}catch(f){l=!0,c=f}finally{try{s||null==h["return"]||h["return"]()}finally{
if(l)throw c}}var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=a[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;if(x[o].length!==i[o].length)return!1}}catch(_){p=!0,b=_}finally{try{
m||null==y["return"]||y["return"]()}finally{if(p)throw b}}for(var w=0;w<i[o].length;w+=1){
var S=i[o][w],k=!0,C=!1,R=void 0;try{for(var M=void 0,E=a[Symbol.iterator]();!(k=(M=E.next()).done);k=!0){
var P=M.value,A=P[o][w];if(A.offset.baseVal!==S.offset.baseVal)return!1;if(A.style.getPropertyValue("stop-color")!==S.style.getPropertyValue("stop-color"))return!1;
}}catch(T){C=!0,R=T}finally{try{k||null==E["return"]||E["return"]()}finally{if(C)throw R;
}}}return!0},m=function(e,t){var n=null;if(e.hasAttribute(t))n=e.getAttribute(t);else if(""!==e.href.baseVal){
var r=i(e).querySelector(e.href.baseVal);r&&(n=m(r,t))}return n};return{get hasOwnStops(){
return l},get getGradientOwnStops(){return u},get getGradientComputedStops(){return c;
},get getGradientUsers(){return d},get convertRadialGradientToUserSpace(){return h;
},get getGradientColorAtOffset(){return v},get compareGradients(){return f},get getGradientAttribute(){
return m}}}),$traceurRuntime.registerModule("utils/image",[],function(){"use strict";
var e=function(e){return new Promise(function(t){var n=new Image;n.onload=function(){
t({width:n.naturalWidth,height:n.naturalHeight})},n.src=e})};return{get extractImageSize(){
return e}}}),$traceurRuntime.registerModule("utils/json",[],function(){"use strict";
var e=function(e){var t=null;try{t=JSON.stringify(e)}catch(n){return console.error("Failed to generate JSON string",n),
t}return t},t=function(e){var t=void 0!==arguments[1]?arguments[1]:!0,n=null;try{
n=JSON.parse(e)}catch(r){return void(t&&console.error("Failed to parse JSON string",e,r));
}return n};return{get toJSON(){return e},get fromJSON(){return t}}}),$traceurRuntime.registerModule("utils/markup",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/markup")).namespaces,t=function(e){
var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.append(n.firstChild);
return t.childElementCount>1?t:1===t.childElementCount?t.children[0]:null},n=function(t){
var n=document.createDocumentFragment(),r=document.createElementNS(e.svg,"svg");for(r.innerHTML=t;r.firstChild;)n.append(r.firstChild);
return n.childElementCount>1?n:1===n.childElementCount?n.children[0]:null};return{
get parseHTML(){return t},get parseSVG(){return n}}}),$traceurRuntime.registerModule("utils/math",[],function(){
"use strict";var e=Math,t=e.max,n=e.pow,r=function(e){var t=void 0!==arguments[1]?arguments[1]:0,r=n(10,t);
return Math.round(e*r)/r},i=function(e,t){var n=void 0!==arguments[2]?arguments[2]:1/0,i=void 0!==arguments[3]?arguments[3]:null;
return null!==i&&(e=r(e,i)),t>e?e=t:e>n&&(e=n),e},a=function(e){return 0>e?-1:e>0?1:0;
},o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=0;r<e.length;r+=1)n+=e[r];
return n/e.length},s=function(e){var n,r=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
return n=r?t(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0};return{get round(){return r;
},get normalize(){return i},get signum(){return a},get average(){return o},get countDecimalPlaces(){
return s}}}),$traceurRuntime.registerModule("utils/matrix",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/matrix")).round,t=function(e,t){
return e.a===t.a&&e.b===t.b&&e.c===t.c&&e.d===t.d&&e.e===t.e&&e.f===t.f},n=function(t,n){
var r=e(t.a,n),i=e(t.b,n),a=e(t.c,n),o=e(t.d,n),s=e(t.e,n),l=e(t.f,n);return new SVGMatrix([r,i,a,o,s,l]);
};return{get compareMatrixes(){return t},get roundMatrix(){return n}}}),$traceurRuntime.registerModule("utils/node",[],function(){
"use strict";var e=function(e){for(var t=e;t;t=t.parentNode)if(t instanceof ShadowRoot||t===window.document)return t;
},t=function(e){var t=void 0!==arguments[1]?arguments[1]:2;a(e);for(var n="",r={text:!0,
textPath:!0,tspan:!0},i=0;t>i;i+=1)n+=" ";var o=function(e){var t=void 0!==arguments[1]?arguments[1]:2;
if(!r[e.localName]){var i=!0,a=!1,s=void 0;try{for(var l=void 0,u=e.children[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){
var c=l.value,d=e.firstChild===c,h=e.lastChild===c;if(d===!0){var v=document.createTextNode("\n");
c.parentNode.insertBefore(v,c)}for(var f="",m=0;t>m;m+=1)f+=n;var p=document.createTextNode(f);
if(e.insertBefore(p,c),h===!0){var b=document.createTextNode("\n");e.appendChild(b);
for(var g="",y=0;t-1>y;y+=1)g+=n;var x=document.createTextNode(g);e.appendChild(x);
}else{var _=document.createTextNode("\n");e.insertBefore(_,c.nextSibling)}c.childElementCount>0&&o(c,t+1);
}}catch(w){a=!0,s=w}finally{try{i||null==u["return"]||u["return"]()}finally{if(a)throw s;
}}}};o(e,1)},n=function(e){return!/[^\t\n\r ]/.test(e)},r=function(e){return e.replace(/^[\t\n\r ]+|[\t\n\r ]+$/g,"");
},i=function(e){for(var t=e;t;t=t.parentNode||t.host)if(t===document)return!0;return!1;
},a=function(e){for(var t,r=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null),i={
text:!0,textPath:!0,tspan:!0};t=r.nextNode();)i[t.parentElement.localName]||n(t.textContent)&&t.remove();
};return{get closestShadowRoot(){return e},get normalizeWhitespace(){return t},get isDOMWhitespace(){
return n},get trimDOMWhitespace(){return r},get isConnectedToActiveDocument(){return i;
}}}),$traceurRuntime.registerModule("utils/object",[],function(){"use strict";var e=function(e){
return JSON.parse(JSON.stringify(e))},t=function(e,t){return JSON.stringify(e)===JSON.stringify(t);
};return{get cloneObject(){return e},get compareObjects(){return t}}}),$traceurRuntime.registerModule("utils/paint",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./array","utils/paint")).includesOnly,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./color","utils/paint")).isValidColorString,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/paint")).getOutermostSVGElement,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./gradient","utils/paint")).compareGradients,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./pattern","utils/paint")).comparePatterns,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/paint")).paintServerElementNames,o=function(e){
var r=void 0!==arguments[1]?arguments[1]:"fill",i="none";if("inherit"===e.style.getPropertyValue(r))i="inherit";else{
var a=getComputedStyle(e).getPropertyValue(r);if(t(a))i="solid";else if(a&&a.startsWith("url(")){
var o=a.substring(5,a.length-2),s=n(e).querySelector(o),l=s?s.localName:null;"linearGradient"!==l&&"radialGradient"!==l&&"pattern"!==l||(i=l);
}}return i},s=function(e){var t=void 0!==arguments[1]?arguments[1]:"fill",r=null,i=getComputedStyle(e).getPropertyValue(t);
if(i&&i.toLowerCase().startsWith("url(")&&i.endsWith(")")){var o=i.substring(5,i.length-2),s=n(e).querySelector(o);
s&&a.includes(s.localName)&&(r=s)}return r},l=function(e){var t=void 0!==arguments[1]?arguments[1]:"fill",n=null,r=!0,i=!1,a=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=o(u,t);
if(u!==e[0]&&n!==c)return!1;n=c}}catch(d){i=!0,a=d}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw a}}return null!==n},u=function(t){var n=void 0!==arguments[1]?arguments[1]:"fill",a=[],o=[],l=!0,u=!1,c=void 0;
try{for(var d=void 0,h=t[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value,f=getComputedStyle(v).getPropertyValue(n),m=s(v);
a.push(f),o.push(m)}}catch(p){u=!0,c=p}finally{try{l||null==h["return"]||h["return"]();
}finally{if(u)throw c}}if(a.legth<=1)return!1;if(e(a,a[0]))return!1;var b=o.filter(function(e){
return e&&"linearGradient"===e.localName}),g=o.filter(function(e){return e&&"radialGradient"===e.localName;
}),y=o.filter(function(e){return e&&"pattern"===e.localName});return b.length===t.length&&r(b)?!1:g.length===t.length&&r(g)?!1:y.length!==t.length||!i.apply(void 0,$traceurRuntime.spread(y));
},c=function(t){var n=void 0!==arguments[1]?arguments[1]:"fill",r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=getComputedStyle(u).getPropertyValue(n);
r.push(c)}}catch(d){a=!0,o=d}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}return 0===r.legth?!0:!!e(r,r[0])},d=function(e,t){if(t&&t.startsWith('url("#')&&t.endsWith('")')){
var n=t.substring(5,t.length-2),r=e.querySelector(n);if(r)return r}return null};return{
get getPaintType(){return o},get getPaintServer(){return s},get isSamePaintType(){
return l},get isMixedPaint(){return u},get isSamePaint(){return c},get getDefFromURL(){
return d}}}),$traceurRuntime.registerModule("utils/path-boolops",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/path-boolops")).round,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/path-boolops")),n=t.serializePathData,r=t.deserializePathData,i=t.normalizePathData,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/paper","utils/path-boolops"))["default"],o=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"unite",n)},s=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"subtract",n)},l=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"intersect",n)},u=function(e,t){
var n=void 0!==arguments[2]?arguments[2]:3;return c(e,t,"exclude",n)},c=function(t,a,o,s){
var l=d(n(t)),u=d(n(a)),c=l[o](u),h=[];if(c){var v=c.exportSVG().getAttribute("d");
h=r(v),h=i(h);var f=!0,m=!1,p=void 0;try{for(var b=void 0,g=h[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){
var y=b.value;y.values=y.values.map(function(t){return e(t,s)})}}catch(x){m=!0,p=x;
}finally{try{f||null==g["return"]||g["return"]()}finally{if(m)throw p}}}return h},d=function(e){
var t,n=(e.match(/M/g)||[]).length>1;if(n){t=new a.CompoundPath(e);var r=!0,i=!1,o=void 0;
try{for(var s=void 0,l=t.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){
var u=s.value;u.closed||u.closePath()}}catch(c){i=!0,o=c}finally{try{r||null==l["return"]||l["return"]();
}finally{if(i)throw o}}}else t=new a.Path(e),t.closed||t.closePath();return t};return{
get unite(){return o},get subtract(){return s},get intersect(){return l},get exclude(){
return u}}}),$traceurRuntime.registerModule("utils/path-conversion",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/path-conversion")).createElement,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/path-conversion")).round,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-shapes","utils/path-conversion")),r=(n.getShapeData,
n.setShapeData,n.shapeDataToPathData,$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./string","utils/path-conversion")).collapseWhitespace,
function(n){var r=void 0!==arguments[1]?arguments[1]:6,i=e("svg:path"),a=n.getPathData(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d.values=d.values.map(function(e){return t(e,r)})}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}i.setPathData(a);var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=n.attributes[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;["x","y","width","height","rx","ry"].includes(g.name)===!1&&i.setAttribute(g.name,g.value);
}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m;
}}return i.innerHTML=n.innerHTML,i}),i=function(n){var r=void 0!==arguments[1]?arguments[1]:6,i=e("svg:path"),a=n.getPathData(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d.values=d.values.map(function(e){return t(e,r)})}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}i.setPathData(a);var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=n.attributes[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;["cx","cy","r"].includes(g.name)||i.setAttribute(g.name,g.value)}}catch(y){
f=!0,m=y}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m}}return i.innerHTML=n.innerHTML,
i},a=function(n){var r=void 0!==arguments[1]?arguments[1]:6,i=e("svg:path"),a=n.getPathData(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d.values=d.values.map(function(e){return t(e,r)})}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}i.setPathData(a);var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=n.attributes[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;["cx","cy","rx","ry"].includes(g.name)||i.setAttribute(g.name,g.value);
}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m;
}}return i.innerHTML=n.innerHTML,i},o=function(n){var r=void 0!==arguments[1]?arguments[1]:6,i=e("svg:path"),a=n.getPathData(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d.values=d.values.map(function(e){return t(e,r)})}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}i.setPathData(a);var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=n.attributes[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;["x1","y1","x2","y2"].includes(g.name)||i.setAttribute(g.name,g.value);
}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m;
}}return i.innerHTML=n.innerHTML,i},s=function(n){var r=void 0!==arguments[1]?arguments[1]:6,i=e("svg:path"),a=n.getPathData(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d.values=d.values.map(function(e){return t(e,r)})}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}i.setPathData(a);var v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=n.attributes[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;"points"!==g.name&&i.setAttribute(g.name,g.value)}}catch(y){f=!0,m=y;
}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m}}return i.innerHTML=n.innerHTML,
i},l=function(n){var r=void 0!==arguments[1]?arguments[1]:6,i=e("svg:path"),a=n.getPathData(),o=!0,s=!1,l=void 0;
try{for(var u=void 0,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;
d.values=d.values.map(function(e){return t(e,r)})}}catch(h){s=!0,l=h}finally{try{
o||null==c["return"]||c["return"]()}finally{if(s)throw l}}i.setPathData(n.getPathData());
var v=!0,f=!1,m=void 0;try{for(var p=void 0,b=n.attributes[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;"points"!==g.name&&i.setAttribute(g.name,g.value)}}catch(y){f=!0,m=y;
}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m}}return i.innerHTML=n.innerHTML,
i};return{get rectToPath(){return r},get circleToPath(){return i},get ellipseToPath(){
return a},get lineToPath(){return o},get polylineToPath(){return s},get polygonToPath(){
return l}}}),$traceurRuntime.registerModule("utils/path-general",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/path-general")).namespaces,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../libs/path-data-parser","utils/path-general"))["default"],
Math.pow),n=document.createElementNS(e.svg,"path"),r=function(e){return n.setPathData(e),
n.getAttribute("d")},i=function(e){return n.setAttribute("d",e),n.getPathData()},a=function(e){
return n.setPathData(e),n.getPathData({normalize:!0})},o=function(e){if(!e.find(function(e){
return"C"===e.type||"L"===e.type}))return[];var t=[],n=null,r=0,i=0,a=0,o=0,s=!0,l=!1,u=void 0;
try{for(var c=void 0,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;
"M"===h.type?("M"===n&&t.pop(),t.push(h),r=h.values[0],i=h.values[1],a=h.values[0],
o=h.values[1]):"L"===h.type?("Z"===n&&t.push({type:"M",values:[a,o]}),t.push(h),r=h.values[0],
i=h.values[1]):"C"===h.type?("Z"===n&&t.push({type:"M",values:[a,o]}),t.push(h),r=h.values[4],
i=h.values[5]):"Z"===h.type&&(r===a&&i===o||t.push({type:"L",values:[a,o]}),t.push(h),
r=a,i=o),n=h.type}}catch(v){l=!0,u=v}finally{try{s||null==d["return"]||d["return"]();
}finally{if(l)throw u}}return t},s=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1){
if(e[n].type!==t[n].type){if("z"===e[n].type.toLowerCase()&&"z"===t[n].type.toLowerCase())continue;
return!1}var r=e[n].values?e[n].values:[],i=t[n].values?t[n].values:[];if(r.length!==i.length)return!1;
for(var a=0;a<r.length;a+=1)if(r[a]!==i[a])return!1}return!0},l=function(e){var t=[],n=[],r=!0,i=!1,a=void 0;
try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;
"C"===l.type||"L"===l.type?n.push(l):"M"===l.type?(n.length>0&&(t.push(n),n=[]),n.push(l)):"Z"===l.type&&(n.push(l),
t.push(n),n=[])}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}return n.length>0&&t.push(n),t},u=function(e,n){for(var r=e.getTotalLength(),i=e.getPathData(),a=r/i.length*.125,o=null,s=null,l=1/0,u=function(e){
return t(e.x-n.x,2)+t(e.y-n.y,2)},c=0;r>=c;c+=a){var d=e.getPointAtLength(c),h=u(d);
l>h&&(o=d,s=c,l=h)}for(a*=.5;a>.5;){var v=s-a,f=e.getPointAtLength(v),m=u(f);if(v>=0&&l>m)o=f,
s=v,l=m;else{var p=s+a,b=e.getPointAtLength(p),g=u(b);r>=p&&l>g?(o=b,s=p,l=g):a*=.5;
}}return[o,s,l]},c=function(e){var t,n,r,i,a=o(e.getPathData({normalize:!0})),s=l(a),u=!0,c=!1,d=void 0;
try{for(var h=void 0,v=s[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){for(var f=h.value,m=f[0],p=[],b=null,g=1;g<f.length;g+=1){
var y=f[g];"Z"===y.type?b=y:p.push(y)}var x=m.values[0],_=m.values[1];"C"===p[p.length-1].type?(m.values[0]=p[p.length-1].values[4],
m.values[1]=p[p.length-1].values[5]):(m.values[0]=p[p.length-1].values[0],m.values[1]=p[p.length-1].values[1]);
var w=!0,S=!1,k=void 0;try{for(var C=void 0,R=p[Symbol.iterator]();!(w=(C=R.next()).done);w=!0){
var M=C.value;if("L"===M.type){var E=M.values,P=(t=E[Symbol.iterator](),(n=t.next()).done?void 0:n.value),A=(n=t.next()).done?void 0:n.value;
M.values=[x,_],x=P,_=A}else if("C"===M.type){var T=M.values,L=(r=T[Symbol.iterator](),
(i=r.next()).done?void 0:i.value),N=(i=r.next()).done?void 0:i.value,$=(i=r.next()).done?void 0:i.value,O=(i=r.next()).done?void 0:i.value,V=(i=r.next()).done?void 0:i.value,j=(i=r.next()).done?void 0:i.value;
M.values=[$,O,L,N,x,_],x=V,_=j}}}catch(z){S=!0,k=z}finally{try{w||null==R["return"]||R["return"]();
}finally{if(S)throw k}}p.reverse(),f.length=0,f.push(m);var I=!0,D=!1,G=void 0;try{
for(var B=void 0,U=p[Symbol.iterator]();!(I=(B=U.next()).done);I=!0){var H=B.value;
f.push(H)}}catch(F){D=!0,G=F}finally{try{I||null==U["return"]||U["return"]()}finally{
if(D)throw G}}b&&f.push(b)}}catch(q){c=!0,d=q}finally{try{u||null==v["return"]||v["return"]();
}finally{if(c)throw d}}s.reverse(),a=[];var W=!0,Y=!1,X=void 0;try{for(var Z=void 0,K=s[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){
var J=Z.value,Q=!0,ee=!1,te=void 0;try{for(var ne=void 0,re=J[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){
var ie=ne.value;a.push(ie)}}catch(ae){ee=!0,te=ae}finally{try{Q||null==re["return"]||re["return"]();
}finally{if(ee)throw te}}}}catch(oe){Y=!0,X=oe}finally{try{W||null==K["return"]||K["return"]();
}finally{if(Y)throw X}}e.setPathData(a)};return{get serializePathData(){return r},
get deserializePathData(){return i},get normalizePathData(){return a},get harmonizePathData(){
return o},get comparePathData(){return s},get getPathDataBySubpath(){return l},get getNearestPointOnPath(){
return u},get reversePath(){return c}}}),$traceurRuntime.registerModule("utils/path-shapes",[],function(){
"use strict";var e=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/path-shapes")).degToRad,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/path-shapes")).round),t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/path-shapes")).comparePathData,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./random","utils/path-shapes")).getHash),n=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/path-shapes"))["default"],
Math),r=n.sin,i=n.cos,a=n.PI,o={triangle:1,rect:1,"n-gon":1,star:1,ring:1},s=function(e){
var t,n,r=null;if(e.hasAttribute("data-bx-shape")){var i=e.getAttribute("data-bx-shape"),a=i.trim().split(/[\s+,]+/);
if(a.length>=3){var o=a[0],s=a.slice(1,a.length-1),l=a[a.length-1];if(l.includes("@")){
var u=l.split("@");t=u[Symbol.iterator](),(n=t.next()).done?void 0:n.value,(n=t.next()).done?void 0:n.value;
s=s.map(function(e){return parseFloat(e)}),r={type:o,values:s}}}}return r},l=function(e,n){
var r=void 0!==arguments[2]?arguments[2]:9,i=c(n,r);if(i){e.setPathData(i);var a=e.getAttribute("d"),s=n.type+" "+n.values.join(" ")+" "+o[n.type],l=t(a+" / "+s).toString(32);
s+="@"+l,e.setAttribute("data-bx-shape",s)}},u=function(e){var n,r,i=!1;if(e.hasAttribute("data-bx-shape")){
var a=e.getAttribute("d"),o=e.getAttribute("data-bx-shape"),s=o.trim().split(/[\s+,]+/);
if(s.length>=3){var l=s[0],u=s.slice(1,s.length-1),c=s[s.length-1];if(c.includes("@")){
var d=c.split("@"),h=(n=d[Symbol.iterator](),(r=n.next()).done?void 0:r.value),v=(r=n.next()).done?void 0:r.value;
v===t(a+" / "+l+" "+u.join(" ")+" "+h).toString(32)&&(i=!0)}}}return i},c=function(e){
var t=void 0!==arguments[1]?arguments[1]:6,n=null;return"triangle"===e.type?n=d(e,t):"rect"===e.type?n=h(e,t):"n-gon"===e.type?n=v(e,t):"star"===e.type?n=f(e,t):"ring"===e.type&&(n=m(e,t)),
n},d=function(t,n){var r,i,a=t.values,o=(r=a[Symbol.iterator](),(i=r.next()).done?void 0:i.value),s=(i=r.next()).done?void 0:i.value,l=(i=r.next()).done?void 0:i.value,u=(i=r.next()).done?void 0:i.value,c=(i=r.next()).done?void 0:i.value,d=(i=r.next()).done?void 0:i.value,h=[];
if(0===d)h.push({type:"M",values:[o+l*c,s]}),h.push({type:"L",values:[o+l,s+u]}),
h.push({type:"L",values:[o,s+u]}),h.push({type:"L",values:[o+l*c,s]});else for(var v=[{
x:o+l*c,y:s},{x:o+l,y:s+u},{x:o,y:s+u}],f=0;f<v.length;f+=1){var m=v[f],p=v[f+1]||v[0],b=v[f-1]||v[v.length-1],g={
x:m.x+(b.x-m.x)*d,y:m.y+(b.y-m.y)*d},y={x:m.x+(p.x-m.x)*d,y:m.y+(p.y-m.y)*d},x={x:m.x,
y:m.y};h.push({type:0===f?"M":"L",values:[g.x,g.y]}),h.push({type:"Q",values:[x.x,x.y,y.x,y.y]
})}h.push({type:"Z",values:[]});var _=!0,w=!1,S=void 0;try{for(var k=void 0,C=h[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
var R=k.value;R.values=R.values.map(function(t){return e(t,n)})}}catch(M){w=!0,S=M;
}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S}}return h},h=function(t,n){
var r,i,a=t.values,o=(r=a[Symbol.iterator](),(i=r.next()).done?void 0:i.value),s=(i=r.next()).done?void 0:i.value,l=(i=r.next()).done?void 0:i.value,u=(i=r.next()).done?void 0:i.value,c=(i=r.next()).done?void 0:i.value,d=(i=r.next()).done?void 0:i.value,h=(i=r.next()).done?void 0:i.value,v=(i=r.next()).done?void 0:i.value,f=(i=r.next()).done?void 0:i.value,m=(i=r.next()).done?void 0:i.value,p=(i=r.next()).done?void 0:i.value,b=(i=r.next()).done?void 0:i.value;
void 0===f&&(f=c),void 0===m&&(m=d),void 0===p&&(p=h),void 0===b&&(b=v),c=c>l/2?l/2:c,
d=d>l/2?l/2:d,h=h>l/2?l/2:h,v=v>l/2?l/2:v,f=f>u/2?u/2:f,m=m>u/2?u/2:m,p=p>u/2?u/2:p,
b=b>u/2?u/2:b;var g=[{type:"M",values:[o+c,s]},{type:"H",values:[o+l-d]},{type:"A",
values:[d,m,0,0,1,o+l,s+m]},{type:"V",values:[s+u-p]},{type:"A",values:[h,p,0,0,1,o+l-h,s+u]
},{type:"H",values:[o+v]},{type:"A",values:[v,b,0,0,1,o,s+u-b]},{type:"V",values:[s+f]
},{type:"A",values:[c,f,0,0,1,o+c,s]},{type:"Z",values:[]}];g=g.filter(function(e){
return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]});var y=!0,x=!1,_=void 0;try{
for(var w=void 0,S=g[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var k=w.value;
k.values=k.values.map(function(t){return e(t,n)})}}catch(C){x=!0,_=C}finally{try{
y||null==S["return"]||S["return"]()}finally{if(x)throw _}}return g},v=function(t,n){
var o,s,l=t.values,u=(o=l[Symbol.iterator](),(s=o.next()).done?void 0:s.value),c=(s=o.next()).done?void 0:s.value,d=(s=o.next()).done?void 0:s.value,h=(s=o.next()).done?void 0:s.value,v=(s=o.next()).done?void 0:s.value,f=(s=o.next()).done?void 0:s.value,m=[];
if(0===f)for(var p=0;v>p;p+=1){var b=2*a*(p/v)-a/2,g=d*i(b)+u,y=h*r(b)+c;0===p?m.push({
type:"M",values:[g,y]}):m.push({type:"L",values:[g,y]})}else{for(var x=[],_=0;v>_;_+=1){
var w=2*a*(_/v)-a/2;x.push({x:d*i(w)+u,y:h*r(w)+c})}for(var S=0;S<x.length;S+=1){
var k=x[S],C=x[S+1]||x[0],R=x[S-1]||x[x.length-1],M={x:k.x+(R.x-k.x)*f,y:k.y+(R.y-k.y)*f
},E={x:k.x+(C.x-k.x)*f,y:k.y+(C.y-k.y)*f},P={x:k.x,y:k.y};m.push({type:0===S?"M":"L",
values:[M.x,M.y]}),m.push({type:"Q",values:[P.x,P.y,E.x,E.y]})}}m.push({type:"Z",
values:[]});var A=!0,T=!1,L=void 0;try{for(var N=void 0,$=m[Symbol.iterator]();!(A=(N=$.next()).done);A=!0){
var O=N.value;O.values=O.values.map(function(t){return e(t,n)})}}catch(V){T=!0,L=V;
}finally{try{A||null==$["return"]||$["return"]()}finally{if(T)throw L}}return m},f=function(t,n){
for(var o,s,l=t.values,u=(o=l[Symbol.iterator](),(s=o.next()).done?void 0:s.value),c=(s=o.next()).done?void 0:s.value,d=(s=o.next()).done?void 0:s.value,h=(s=o.next()).done?void 0:s.value,v=(s=o.next()).done?void 0:s.value,f=(s=o.next()).done?void 0:s.value,m=[],p=0;f>p;p+=1){
var b=2*a*(p/f)-a/2,g=d*i(b)+u,y=h*r(b)+c;0===p?m.push({type:"M",values:[g,y]}):m.push({
type:"L",values:[g,y]}),b=2*a*(p/f)+a/f-a/2,g=v*d*i(b)+u,y=v*h*r(b)+c,m.push({type:"L",
values:[g,y]})}m.push({type:"Z",values:[]});var x=!0,_=!1,w=void 0;try{for(var S=void 0,k=m[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){
var C=S.value;C.values=C.values.map(function(t){return e(t,n)})}}catch(R){_=!0,w=R;
}finally{try{x||null==k["return"]||k["return"]()}finally{if(_)throw w}}return m},m=function(t,n){
var r,i,a=t.values,o=(r=a[Symbol.iterator](),(i=r.next()).done?void 0:i.value),s=(i=r.next()).done?void 0:i.value,l=(i=r.next()).done?void 0:i.value,u=(i=r.next()).done?void 0:i.value,c=(i=r.next()).done?void 0:i.value,d=(i=r.next()).done?void 0:i.value,h=[{
type:"M",values:[o,s]},{type:"m",values:[-c,0]},{type:"a",values:[c,d,0,1,0,2*c,0]
},{type:"a",values:[c,d,0,1,0,-(2*c),0]},{type:"Z",values:[]},{type:"M",values:[o,s]
},{type:"m",values:[-l,0]},{type:"a",values:[l,u,0,0,1,2*l,0]},{type:"a",values:[l,u,0,0,1,-(2*l),0]
},{type:"Z",values:[]}],v=!0,f=!1,m=void 0;try{for(var p=void 0,b=h[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){
var g=p.value;g.values=g.values.map(function(t){return e(t,n)})}}catch(y){f=!0,m=y;
}finally{try{v||null==b["return"]||b["return"]()}finally{if(f)throw m}}return h},p=function(e,t,n,o,s,l){
var u=2*a*(e/l)-a/2,c=o*i(u)+t,d=s*r(u)+n;return new SVGPoint(c,d)},b=function(e,t,n,o,s,l,u){
var c,d=a*(e/u)-a/2;return c=e%2===0?new SVGPoint(o*i(d)+t,s*r(d)+n):new SVGPoint(l*o*i(d)+t,l*s*r(d)+n);
};return{get getShapeData(){return s},get setShapeData(){return l},get validateShapeData(){
return u},get shapeDataToPathData(){return c},get getNGonShapeVertexPoint(){return p;
},get getStarShapeVertexPoint(){return b}}}),$traceurRuntime.registerModule("utils/pattern",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/pattern")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/pattern")),n=t.createElement,r=t.getOutermostSVGElement,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./matrix","utils/pattern")).roundMatrix,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-general","utils/pattern")).getTransformFromPoints,o=SVGUnitTypes,s=o.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,l=o.SVG_UNIT_TYPE_USERSPACEONUSE,u=(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,
function(e){for(var t,i,a=r(e),o=e.hasAttribute("href")?e.getAttribute("href").substring(1):e.id,s=0;1/0>s&&(t=o+"-"+s,
a.querySelector("#"+t));s+=1);return e.hasAttribute("href")?(i=e.cloneNode(),i.setAttribute("id",t)):(i=n("svg:pattern"),
i.setAttribute("id",t),i.setAttribute("href","#"+e.id)),i}),c=function(e){for(var t=document.createNodeIterator(r(e),NodeFilter.SHOW_ELEMENT),n=null,i=[];n=t.nextNode();){
var a=!0,o=!1,s=void 0;try{for(var l=void 0,u=["fill","stroke"][Symbol.iterator]();!(a=(l=u.next()).done);a=!0){
var c=l.value,d=n.style.getPropertyValue(c);if(d&&d.startsWith("url(")){var h=d.substring(6,d.length-2);
h===e.id&&i.includes(n)===!1&&i.push(n)}}}catch(v){o=!0,s=v}finally{try{a||null==u["return"]||u["return"]();
}finally{if(o)throw s}}}return i},d=function(e){var t=null;if(e.hasAttribute("href")){
var n=e.getAttribute("href"),i=r(e).querySelector(n);i&&"pattern"===i.localName&&i!==e&&(t=i);
}return t},h=function(e){for(var t=r(i),n=[],i=e;i;){var a=i.getAttribute("href"),o=a?t.querySelector(a):null;
if(!o||"pattern"!==o.localName||o===e||n.includes(o))break;i=o,n.push(o)}return n.length>0?n[n.length-1]:null;
},v=function(e){for(var t=r(e),n=[],i={},a=e,o=["x","y","width","height","viewBox","preserveAspectRatio","patternUnits","patternContentUnits","patternTransform"];a;){
var s=a.getAttribute("href"),l=s?t.querySelector(s):null;if(!l||"pattern"!==l.localName||l===e||n.includes(l))break;
a=l,n.push(l)}var u=!0,c=!1,d=void 0;try{for(var h=void 0,v=o[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){
var f=h.value;if(e.hasAttribute(f)===!1){var m=!0,p=!1,b=void 0;try{for(var g=void 0,y=n[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){
var x=g.value;if(x.hasAttribute(f)){i[f]=x.getAttribute(f);break}}}catch(_){p=!0,
b=_}finally{try{m||null==y["return"]||y["return"]()}finally{if(p)throw b}}}}}catch(w){
c=!0,d=w}finally{try{u||null==v["return"]||v["return"]()}finally{if(c)throw d}}return i;
},f=function(t,n){var r,o,u,c,h,v,f=void 0!==arguments[2]?arguments[2]:null,m=t.hasAttribute("href")?d(t):t,p=e(n);
if(m.patternUnits.baseVal===l)r=new SVGPoint(m.x.baseVal.value,m.y.baseVal.value),
o=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value),u=new SVGPoint(m.x.baseVal.value+m.width.baseVal.value,m.y.baseVal.value+m.height.baseVal.value),
c=new SVGPoint(p.x+p.width/2-m.width.baseVal.value/2,p.y+p.height/2-m.height.baseVal.value/2),
h=new SVGPoint(p.x+p.width/2+m.width.baseVal.value/2,p.y+p.height/2-m.height.baseVal.value/2),
v=new SVGPoint(p.x+p.width/2+m.width.baseVal.value/2,p.y+p.height/2+m.height.baseVal.value/2);else if(m.patternUnits.baseVal===s){
var b=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),g=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits),y=new SVGPoint(m.x.baseVal.valueInSpecifiedUnits+m.width.baseVal.valueInSpecifiedUnits,m.y.baseVal.valueInSpecifiedUnits+m.height.baseVal.valueInSpecifiedUnits);
r=new SVGPoint(p.x+b.x*p.width,p.y+b.y*p.height),o=new SVGPoint(p.x+g.x*p.width,p.y+g.y*p.height),
u=new SVGPoint(p.x+y.x*p.width,p.y+y.y*p.height),c=new SVGPoint(p.x+p.width/2-p.width*m.width.baseVal.valueInSpecifiedUnits/2,p.y+p.height/2-p.height*m.height.baseVal.valueInSpecifiedUnits/2),
h=new SVGPoint(p.x+p.width/2+p.width*m.width.baseVal.valueInSpecifiedUnits/2,p.y+p.height/2-p.height*m.height.baseVal.valueInSpecifiedUnits/2),
v=new SVGPoint(p.x+p.width/2+p.width*m.width.baseVal.valueInSpecifiedUnits/2,p.y+p.height/2+p.height*m.height.baseVal.valueInSpecifiedUnits/2);
}var x=a(r,o,u,c,h,v);null!==f&&(x=i(x,f)),t.setAttribute("patternTransform",x.toString());
},m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=n.hasAttribute("href")?d(n):n,i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
if(u!==n){var c=u.hasAttribute("href")?d(u):u;if(c!==r)return!1}}}catch(h){a=!0,o=h;
}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}return!0};return{
get createDerivedPattern(){return u},get getPatternUsers(){return c},get getParentPattern(){
return d},get getFurthestAncestorPattern(){return h},get getInheritedPatternAttributes(){
return v},get centerPattern(){return f},get comparePatterns(){return m}}}),$traceurRuntime.registerModule("utils/random",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/random")).round,t=Math.floor,n=function(){
var t=void 0!==arguments[0]?arguments[0]:0,n=void 0!==arguments[1]?arguments[1]:100,r=void 0!==arguments[2]?arguments[2]:0,i=t+Math.random()*(n-t);
return e(i,r)},r=function(){for(var e=void 0!==arguments[0]?arguments[0]:10,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz!@#$%^&*()_+-={}[]:<>,.",n="",r=0;e>r;r+=1){
var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n},i=function(e){
for(var t=void 0!==arguments[1]?arguments[1]:"hex",n=2166136261,r=0,i=e.length;i>r;r+=1)n^=e.charCodeAt(r),
n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24);return n>>>=0,"hex"===t&&(n=("0000000"+n.toString(16)).substr(-8)),
n},a=function(e){for(var r=e.length;--r;){var i=n(0,1,5),a=t(i*(r+1)),o=e[a];e[a]=e[r],
e[r]=o}return e};return{get getRandomNumber(){return n},get getRandomString(){return r;
},get getHash(){return i},get shuffle(){return a}}}),$traceurRuntime.registerModule("utils/rect",[],function(){
"use strict";var e=Math,t=e.min,n=e.max,r=function(e,r){var i=[new SVGPoint(e.x,e.y),new SVGPoint(e.x+e.width,e.y),new SVGPoint(e.x+e.width,e.y+e.height),new SVGPoint(e.x,e.y+e.height)],a=i.map(function(e){
return e.matrixTransform(r)}),o=a.map(function(e){return e.x}),s=a.map(function(e){
return e.y}),l=t.apply(void 0,$traceurRuntime.spread(o)),u=t.apply(void 0,$traceurRuntime.spread(s)),c=n.apply(void 0,$traceurRuntime.spread(o)),d=n.apply(void 0,$traceurRuntime.spread(s));
return new SVGRect(l,u,c-l,d-u)},i=function(e){var t=[],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value,u=l.width*l.height;t.push(u)}}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}var d=n.apply(void 0,$traceurRuntime.spread(t)),h=t.indexOf(d),v=e[h];
return v},a=function(e){if(0===e.length)return new SVGRect(0,0,0,0);if(1===e.length){
var t=e[0];return new SVGRect(t.x,t.y,t.width,t.height)}var n=[],r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
n.push(new SVGPoint(u.x,u.y)),r.push(new SVGPoint(u.x+u.width,u.y+u.height))}}catch(c){
a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}var d=SVGPoint.fromPoint(n[0]),h=SVGPoint.fromPoint(r[0]),v=!0,f=!1,m=void 0;
try{for(var p=void 0,b=n[Symbol.iterator]();!(v=(p=b.next()).done);v=!0){var g=p.value;
g.x<d.x&&(d.x=g.x),g.y<d.y&&(d.y=g.y)}}catch(y){f=!0,m=y}finally{try{v||null==b["return"]||b["return"]();
}finally{if(f)throw m}}var x=!0,_=!1,w=void 0;try{for(var S=void 0,k=r[Symbol.iterator]();!(x=(S=k.next()).done);x=!0){
var C=S.value;C.x>h.x&&(h.x=C.x),C.y>h.y&&(h.y=C.y)}}catch(R){_=!0,w=R}finally{try{
x||null==k["return"]||k["return"]()}finally{if(_)throw w}}var M=new SVGRect(d.x,d.y,h.x-d.x,h.y-d.y);
return M},o=function(e,t){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height;
},s=function(e,t){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},l=function(e,t){
return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom};return{
get transformRect(){return r},get getBiggestRect(){return i},get combineRects(){return a;
},get rectContainsRect(){return o},get rectContainsPoint(){return s},get rectIntersectsRect(){
return l}}}),$traceurRuntime.registerModule("utils/reflect",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/reflect")).createElement,t=e("svg:svg"),n=function(e){
return e.trim().split(/[\s+,]+/)},r=Math,i=(r.min,r.max,Number.parseFloat),a={1:"none",
2:"xMinYMin",3:"xMidYMin",4:"xMaxYMin",5:"xMinYMid",6:"xMidYMid",7:"xMaxYMid",8:"xMinYMax",
9:"xMidYMax",10:"xMaxYMax"},o={none:1,xMinYMin:2,xMidYMin:3,xMaxYMin:4,xMinYMid:5,
xMidYMid:6,xMaxYMid:7,xMinYMax:8,xMidYMax:9,xMaxYMax:10},s={meet:1,slice:2},l=function(e){
var r=void 0!==arguments[1]?arguments[1]:"viewBox",a=t.createSVGRect(),o=new Proxy(a,{
ownKeys:function(){return["x","y","width","height","top","bottom","left","right"];
},getPrototypeOf:function(e){return SVGRect.prototype},getOwnPropertyDescriptor:function(e,t){
var n;if(["x","y","width","height"].includes(t)){var r=this.get(e,t);n={value:r,writable:!0,
configurable:!0,enumerable:!0}}else if(["top","bottom","left","right"].includes(t)){
var i=this.get(e,t);n={value:i,writable:!1,configurable:!0,enumerable:!0}}return n;
},get:function(t,o){var s;if(["x","y","width","height","top","bottom","left","right"].includes(o))if(e.hasAttribute(r)){
var l=n(e.getAttribute(r));l=l.map(function(e){return i(e)}),a.x=l[0]||0,a.y=l[1]||0,
a.width=l[2]||0,a.height=l[3]||0,s=a[o]}else s=0;else"__proto__"===o&&(s=this.getPrototypeOf(t));
return s},set:function(t,i,a){var o,s,l=e.hasAttribute(r)?n(e.getAttribute(r)):["0","0","0","0"],u=l,c=(o=u[Symbol.iterator](),
(s=o.next()).done?void 0:s.value),d=(s=o.next()).done?void 0:s.value,h=(s=o.next()).done?void 0:s.value,v=(s=o.next()).done?void 0:s.value;
return"x"===i?e.setAttribute(r,a+" "+d+" "+h+" "+v):"y"===i?e.setAttribute(r,c+" "+a+" "+h+" "+v):"width"===i?e.setAttribute(r,c+" "+d+" "+a+" "+v):"height"===i&&e.setAttribute(r,c+" "+d+" "+h+" "+a),
["x","y","width","height"].includes(i)}});return o},u=function(e){var n=void 0!==arguments[1]?arguments[1]:"x",r=t.createSVGLength(),i=new Proxy(r,{
ownKeys:function(){return["value","valueAsString","valueInSpecifiedUnits","unitType"];
},getPrototypeOf:function(e){return SVGLength.prototype},getOwnPropertyDescriptor:function(e,t){
var n;if("unitType"===t){var r=this.get(e,t);n={value:r,writable:!1,configurable:!0,
enumerable:!0}}else if("value"===t||"valueAsString"===t||"valueInSpecifiedUnits"===t){
var i=this.get(e,t);n={value:i,writable:!0,configurable:!0,enumerable:!0}}return n;
},get:function(t,i){var a;return"value"!==i&&"valueAsString"!==i&&"valueInSpecifiedUnits"!==i&&"unitType"!==i||(r.valueAsString=e.hasAttribute(n)?e.getAttribute(n):""),
"value"===i?a=r.value:"valueAsString"===i?a=r.valueAsString:"valueInSpecifiedUnits"===i?a=r.valueInSpecifiedUnits:"unitType"===i?a=r.unitType:"__proto__"===i&&(a=this.getPrototypeOf(t)),
a},set:function(t,i,a){return"value"===i?(r.valueAsString=e.hasAttribute(n)?e.getAttribute(n):"",
r.value=a,e.setAttribute(n,r.valueAsString)):"valueInSpecifiedUnits"===i?(r.valueAsString=e.hasAttribute(n)?e.getAttribute(n):"",
r.valueInSpecifiedUnits=a,e.setAttribute(n,r.valueAsString)):"valueAsString"===i&&(r.valueAsString=a,
e.setAttribute(n,r.valueAsString)),["value","valueInSpecifiedUnits","valueAsString"].includes(i);
}});return i},c=function(e){var t=void 0!==arguments[1]?arguments[1]:"preserveAspectRatio",r=new Proxy({},{
ownKeys:function(){return["align","meetOrSlice"]},getPrototypeOf:function(e){return SVGPreserveAspectRatio.prototype;
},getOwnPropertyDescriptor:function(e,t){var n;if("align"===t||"meetOrSlice"===t){
var r=this.get(e,t);n={value:r,writable:!0,configurable:!0,enumerable:!0}}return n;
},get:function(r,i){var a;if("align"===i)if(e.hasAttribute(t)){var l=n(e.getAttribute(t))[0];
a=o[l]||o.xMidYMid}else a=o.xMidYMid;else if("meetOrSlice"===i)if(e.hasAttribute(t)){
var u=n(e.getAttribute(t))[1];a=s[u]||s.meet}else a=s.meet;else"__proto__"===i&&(a=this.getPrototypeOf(r));
return a},set:function(n,r,i){if("meetOrSlice"===r){var o=a[this.get(n,"align")];i===s.slice&&(o+=" slice"),
e.setAttribute(t,o)}else if("align"===r){var l=a[i]||"xMidYMid";this.get(n,"meetOrSlice")===s.slice&&(l+=" slice"),
e.setAttribute(t,l)}return["meetOrSlice","align"].includes(r)}});return r};return{
get createReflectedSVGRect(){return l},get createReflectedSVGLength(){return u},get createReflectedSVGPreserveAspectRatio(){
return c}}}),$traceurRuntime.registerModule("utils/string",[],function(){"use strict";
var e=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},t=function(e){return e.replace(/(\-[a-z])/g,function(e){
return e.toUpperCase().replace("-","")})},n=function(e){return e.replace(/([A-Z])/g,function(e){
return"-"+e.toLowerCase()})},r=function(e){return e===e.toLowerCase()},i=function(e){
return e.replace(/\s+/g," ").trim()},a=function(e){return e.sort(function(e,t){return e.id.localeCompare(t.id);
})};return{get capitalize(){return e},get toCamelCase(){return t},get toDashCase(){
return n},get isLowerCase(){return r},get collapseWhitespace(){return i},get sortAlphabetically(){
return a}}}),$traceurRuntime.registerModule("utils/style",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/style")).propertySchemas,t=function(t,n){
var r=e.find(function(e){return e.name===t}),i=r.presentationAttributeName||null;i&&n.hasAttribute(i)&&(""===n.style.getPropertyValue(t)&&n.style.setProperty(t,n.getAttribute(i)),
n.removeAttribute(i));var a=n.style.getPropertyValue(t);if(""!==a){var o=getComputedStyle(n).getPropertyValue(t);
n.style.removeProperty(t);var s=getComputedStyle(n).getPropertyValue(t);o!==s&&n.style.setProperty(t,a);
}},n=function(e){var t="",n=e.sheet.rules[0],r=!0,i=!1,a=void 0;try{for(var o=void 0,s=e.sheet.rules[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){
var l=o.value;l!==n&&(t+="\n"),t+=l.cssText}}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]();
}finally{if(i)throw a}}e.textContent=t};return{get reduceProperty(){return t},get reflectStyleElementCSSOM(){
return n}}}),$traceurRuntime.registerModule("utils/text",[],function(){"use strict";
var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./element","utils/text")).createElement,t=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./node","utils/text")).isConnectedToActiveDocument,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./object","utils/text")).compareObjects),n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/text")).propertySchemas,r=Object.keys,i=n.map(function(e){
return e.presentationAttributeName}).filter(function(e){return e}),a=function(t){
var n,a,o,s,c=void 0!==arguments[1]?arguments[1]:null,d=t.querySelector("textPath")||t,h=v(t),f=c&&t.contains(c.commonAncestorContainer),m=-1,p=-1;
if(f){var b=(n=l(c.startContainer,c.startOffset)[Symbol.iterator](),n.next(),(a=n.next()).done?void 0:a.value),g=(o=l(c.endContainer,c.endOffset)[Symbol.iterator](),
o.next(),(s=o.next()).done?void 0:s.value);m=b,p=g}if(f&&m!==p){var y=0,x=[],_=!0,w=!1,S=void 0;
try{for(var k=void 0,C=h.childItems[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){
for(var R=k.value,M=(R.textContent.length,y),E=(y+R.textContent.length,m-M),P=p-M,A="",T=0;T<R.textContent.length;T+=1)T!==E&&T!==P||(A+="★❤"),
A+=R.textContent[T];var L=!0,N=!1,$=void 0;try{for(var O=void 0,V=A.split("★❤")[Symbol.iterator]();!(L=(O=V.next()).done);L=!0){
var j=O.value;j.length>0&&x.push({textContent:j,href:R.href,inheritedProperties:R.inheritedProperties,
nonInheritedProperties:R.nonInheritedProperties})}}catch(z){N=!0,$=z}finally{try{
L||null==V["return"]||V["return"]()}finally{if(N)throw $}}y+=R.textContent.length;
}}catch(I){w=!0,S=I}finally{try{_||null==C["return"]||C["return"]()}finally{if(w)throw S;
}}h.childItems=x}t.removeAttribute("style");var D=!0,G=!1,B=void 0;try{for(var U=void 0,H=i[Symbol.iterator]();!(D=(U=H.next()).done);D=!0){
var F=U.value;t.hasAttribute(F)&&t.removeAttribute(F)}}catch(q){G=!0,B=q}finally{
try{D||null==H["return"]||H["return"]()}finally{if(G)throw B}}var W=getComputedStyle(t),Y=!0,X=!1,Z=void 0;
try{for(var K=void 0,J=r(h.rootItem.inheritedProperties)[Symbol.iterator]();!(Y=(K=J.next()).done);Y=!0){
var Q=K.value;W.getPropertyValue(Q)!==h.rootItem.inheritedProperties[Q]&&t.style.setProperty(Q,h.rootItem.inheritedProperties[Q]);
}}catch(ee){X=!0,Z=ee}finally{try{Y||null==J["return"]||J["return"]()}finally{if(X)throw Z;
}}var te=!0,ne=!1,re=void 0;try{for(var ie=void 0,ae=r(h.rootItem.nonInheritedProperties)[Symbol.iterator]();!(te=(ie=ae.next()).done);te=!0){
var oe=ie.value;W.getPropertyValue(oe)!==h.rootItem.nonInheritedProperties[oe]&&t.style.setProperty(oe,h.rootItem.nonInheritedProperties[oe]);
}}catch(se){ne=!0,re=se}finally{try{te||null==ae["return"]||ae["return"]()}finally{
if(ne)throw re}}var le=!0,ue=!1,ce=void 0;try{for(var de=void 0,he=$traceurRuntime.spread(d.childNodes)[Symbol.iterator]();!(le=(de=he.next()).done);le=!0){
var ve=de.value;"tspan"!==ve.nodeName&&"a"!==ve.nodeName&&"#text"!==ve.nodeName||ve.remove();
}}catch(fe){ue=!0,ce=fe}finally{try{le||null==he["return"]||he["return"]()}finally{
if(ue)throw ce}}if(h.childItems.length>0){var me=!0,pe=!1,be=void 0;try{for(var ge=void 0,ye=h.childItems[Symbol.iterator]();!(me=(ge=ye.next()).done);me=!0){
var xe=ge.value,_e=e("svg:tspan");d.append(_e);var we=getComputedStyle(_e),Se=!0,ke=!1,Ce=void 0;
try{for(var Re=void 0,Me=r(xe.inheritedProperties)[Symbol.iterator]();!(Se=(Re=Me.next()).done);Se=!0){
var Ee=Re.value;we.getPropertyValue(Ee)!==xe.inheritedProperties[Ee]&&_e.style.setProperty(Ee,xe.inheritedProperties[Ee]);
}}catch(Pe){ke=!0,Ce=Pe}finally{try{Se||null==Me["return"]||Me["return"]()}finally{
if(ke)throw Ce}}var Ae=!0,Te=!1,Le=void 0;try{for(var Ne=void 0,$e=r(xe.nonInheritedProperties)[Symbol.iterator]();!(Ae=(Ne=$e.next()).done);Ae=!0){
var Oe=Ne.value;we.getPropertyValue(Oe)!==xe.nonInheritedProperties[Oe]&&_e.style.setProperty(Oe,xe.nonInheritedProperties[Oe]);
}}catch(Ve){Te=!0,Le=Ve}finally{try{Ae||null==$e["return"]||$e["return"]()}finally{
if(Te)throw Le}}if(xe.href){var je=e("svg:a");je.setAttribute("_href",xe.href),je.textContent=xe.textContent,
_e.append(je)}else _e.textContent=xe.textContent}}catch(ze){pe=!0,be=ze}finally{try{
me||null==ye["return"]||ye["return"]()}finally{if(pe)throw be}}}if(f){var Ie=0,De=null,Ge=!0,Be=!1,Ue=void 0;
try{for(var He=void 0,Fe=u(t)[Symbol.iterator]();!(Ge=(He=Fe.next()).done);Ge=!0){
for(var qe=He.value,We=0;We<=qe.textContent.length;We+=1,Ie+=1)Ie===m&&c.setStart(qe,We),
Ie===p&&(0===We&&De?c.setEnd(De,De.textContent.length):c.setEnd(qe,We));Ie-=1,De=qe;
}}catch(Ye){Be=!0,Ue=Ye}finally{try{Ge||null==Fe["return"]||Fe["return"]()}finally{
if(Be)throw Ue}}}},o=function(e,t){var n,r,i,o,s=e.querySelector("textPath")||e,c=t&&e.contains(t.commonAncestorContainer),d=-1,h=-1;
if(c){var v=(n=l(t.startContainer,t.startOffset)[Symbol.iterator](),n.next(),(r=n.next()).done?void 0:r.value),f=(i=l(t.endContainer,t.endOffset)[Symbol.iterator](),
i.next(),(o=i.next()).done?void 0:o.value);d=v,h=f}a(e,null);var m=s.querySelectorAll("tspan"),p=1===m.length?m[0]:null;
if(p&&0===p.style.length){var b=!0,g=!1,y=void 0;try{for(var x=void 0,_=p.childNodes[Symbol.iterator]();!(b=(x=_.next()).done);b=!0){
var w=x.value;s.append(w)}}catch(S){g=!0,y=S}finally{try{b||null==_["return"]||_["return"]();
}finally{if(g)throw y}}p.remove()}if(c){var k=0,C=null,R=!0,M=!1,E=void 0;try{for(var P=void 0,A=u(e)[Symbol.iterator]();!(R=(P=A.next()).done);R=!0){
for(var T=P.value,L=0;L<=T.textContent.length;L+=1,k+=1)k===d&&t.setStart(T,L),k===h&&(0===L&&C?t.setEnd(C,C.textContent.length):t.setEnd(T,L));
k-=1,C=T}}catch(N){M=!0,E=N}finally{try{R||null==A["return"]||A["return"]()}finally{
if(M)throw E}}}},s=function(e,t){var n=null,r=null,i=0,a=0,o=!0,s=!1,l=void 0;try{
for(var c=void 0,d=u(e)[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){for(var h=c.value,v=0;v<=h.textContent.length;v+=1,
a+=1)a===t&&(0===v&&n?(r=n,i=n.textContent.length):(r=h,i=v));a-=1,n=h}}catch(f){
s=!0,l=f}finally{try{o||null==d["return"]||d["return"]()}finally{if(s)throw l}}return[r,i];
},l=function(e,t){var n=e.closest("text"),r=0,i=-1,a=!0,o=!1,s=void 0;try{for(var l=void 0,c=u(n)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){
var d=l.value;if(d===e){i=r+t;break}r+=d.length}}catch(h){o=!0,s=h}finally{try{a||null==c["return"]||c["return"]();
}finally{if(o)throw s}}return[n,i]},u=function(e){var t=[];if(e.closest("text")){
for(var n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);r.nextNode();)n.push(r.currentNode);
var i=!0,a=!1,o=void 0;try{for(var s=void 0,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){
var u=s.value,c=u.parentElement;if("text"===c.localName||"tspan"===c.localName||"textPath"===c.localName)c.getNumberOfChars()>0&&t.push(u);else if("a"===c.localName){
var d=c.getBBox();0===d.x&&0===d.y&&0===d.width&&0===d.height||t.push(u)}}}catch(h){
a=!0,o=h}finally{try{i||null==l["return"]||l["return"]()}finally{if(a)throw o}}}return t;
},c=function(e){var t=u(e),n=t.map(function(e){return e.textContent}).join("").split("");
return n},d=function(e){var t=void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.commonAncestorContainer.closest("text"));
var n=t.querySelector("textPath"),r=n||t,i=r.querySelectorAll("tspan"),a=[];if(i.length>0){
if(e){var o=!0,s=!1,l=void 0;try{for(var u=void 0,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){
var d=u.value;e.intersectsNode(d)&&a.push(d)}}catch(h){s=!0,l=h}finally{try{o||null==c["return"]||c["return"]();
}finally{if(s)throw l}}}if(a.length>0){var v=e.direction,f="backward"===v?a[a.length-1]:a[0],m=a.filter(function(e){
return e!==f});a=$traceurRuntime.spread([f],m)}}return a},h=function(e){var t=getComputedStyle(e),r={},i={},a=!0,o=!1,s=void 0;
try{for(var l=void 0,u=n[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;
if(c.appliesTo.includes("text")||c.appliesTo.includes("tspan")){if("font"===c.name||"display"===c.name)continue;
c.inheritable===!0?r[c.name]=t.getPropertyValue(c.name):c.inheritable===!1&&(i[c.name]=t.getPropertyValue(c.name));
}}}catch(d){o=!0,s=d}finally{try{a||null==u["return"]||u["return"]()}finally{if(o)throw s;
}}return[r,i]},v=function(e){var n,i,a,o,s,l,c={rootItem:null,childItems:[]},d=h(e),v=(n=d[Symbol.iterator](),
(i=n.next()).done?void 0:i.value),f=(i=n.next()).done?void 0:i.value,m={inheritedProperties:v,
nonInheritedProperties:f};c.rootItem=m;var p=!0,b=!1,g=void 0;try{for(var y=void 0,x=u(e)[Symbol.iterator]();!(p=(y=x.next()).done);p=!0){
var _=y.value,w={textContent:_.textContent,href:null,inheritedProperties:{},nonInheritedProperties:{}
},S=_.closest("tspan, text"),k=h(S),C=(a=k[Symbol.iterator](),(o=a.next()).done?void 0:o.value),R=(o=a.next()).done?void 0:o.value;
w.inheritedProperties=C,S!==e&&(w.nonInheritedProperties=R);for(var M=_.parentNode;M!==e;M=M.parentNode)if("a"===M.localName&&M.hasAttribute("_href")){
w.href=M.getAttribute("_href");break}c.childItems.push(w)}}catch(E){b=!0,g=E}finally{
try{p||null==x["return"]||x["return"]()}finally{if(b)throw g}}var P=!0,A=!1,T=void 0;
try{for(var L=void 0,N=c.childItems[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){
var $=L.value,O=!0,V=!1,j=void 0;try{for(var z=void 0,I=r($.inheritedProperties)[Symbol.iterator]();!(O=(z=I.next()).done);O=!0){
var D=z.value;m.inheritedProperties[D]===$.inheritedProperties[D]&&delete $.inheritedProperties[D];
}}catch(G){V=!0,j=G}finally{try{O||null==I["return"]||I["return"]()}finally{if(V)throw j;
}}}}catch(B){A=!0,T=B}finally{try{P||null==N["return"]||N["return"]()}finally{if(A)throw T;
}}if(c.childItems.length>0){var U=c.childItems,H=(s=U[Symbol.iterator](),(l=s.next()).done?void 0:l.value),F=$traceurRuntime.iteratorToArray(s),q=!0,W=!1,Y=void 0;
try{for(var X=void 0,Z=r(H.inheritedProperties)[Symbol.iterator]();!(q=(X=Z.next()).done);q=!0){
var K=X.value,J=!0,Q=!0,ee=!1,te=void 0;try{for(var ne=void 0,re=F[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){
var ie=ne.value;ie.inheritedProperties[K]!==H.inheritedProperties[K]&&(J=!1)}}catch(ae){
ee=!0,te=ae}finally{try{Q||null==re["return"]||re["return"]()}finally{if(ee)throw te;
}}if(J){c.rootItem.inheritedProperties[K]=H.inheritedProperties[K];var oe=!0,se=!1,le=void 0;
try{for(var ue=void 0,ce=c.childItems[Symbol.iterator]();!(oe=(ue=ce.next()).done);oe=!0){
var de=ue.value;delete de.inheritedProperties[K]}}catch(he){se=!0,le=he}finally{try{
oe||null==ce["return"]||ce["return"]()}finally{if(se)throw le}}}}}catch(ve){W=!0,
Y=ve}finally{try{q||null==Z["return"]||Z["return"]()}finally{if(W)throw Y}}}if(c.childItems.length>1){
var fe=[],me=null,pe=!0,be=!1,ge=void 0;try{for(var ye=void 0,xe=c.childItems[Symbol.iterator]();!(pe=(ye=xe.next()).done);pe=!0){
var _e=ye.value;me&&me.href===_e.href&&t(me.nonInheritedProperties,_e.nonInheritedProperties)&&t(me.inheritedProperties,_e.inheritedProperties)?me.textContent+=_e.textContent:(fe.push(_e),
me=_e)}}catch(we){be=!0,ge=we}finally{try{pe||null==xe["return"]||xe["return"]()}finally{
if(be)throw ge}}c.childItems=fe}return c};return{get spanifyText(){return a},get reduceText(){
return o},get getLocalOffset(){return s},get getGlobalOffset(){return l},get getRenderedTextNodes(){
return u},get getRenderedChars(){return c},get getTspansIntersectedByRange(){return d;
}}}),$traceurRuntime.registerModule("utils/time",[],function(){"use strict";var e=($traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./type","utils/time")).isNumber,
function(e){var t=void 0!==arguments[1]?arguments[1]:500,n=arguments[2],r=null,i=null,a=null,o=0,s=function(){
o=new Date,i=null,a=e.apply(n,r)},l=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];
var c=new Date,d=t-(c-o);return r=l,0>=d?(clearTimeout(i),i=null,o=c,a=e.apply(n,r)):i||(i=setTimeout(s,d)),
a};return l}),t=function(e,t,n){var r=void 0!==arguments[3]?arguments[3]:!1,i=null,a=null,o=function(){
for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var l=function(){i=null,
r||(a=e.apply(n,o))},u=r&&!i;return clearTimeout(i),i=setTimeout(l,t),u&&(a=e.apply(n,o)),
a};return o},n=function(e){return new Promise(function(t,n){setTimeout(function(){
return t()},e)})},r=function(e){return new Promise(function(t,n){var r=function(n){
n.timeRemaining()>=e?t():requestIdleCallback(r)};requestIdleCallback(r)})},i=function(e){
requestAnimationFrame(e)},a=function(e){return e/1e3/60/60/24},o=function(){return Date.now();
},s=function(){var e=new Date,t=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),s=t+"-"+n+"-"+r+"T"+i+":"+a+":"+o;
return s};return{get throttle(){return e},get debounce(){return t},get sleep(){return n;
},get sleepUntilIdle(){return r},get nextTick(){return i},get milisecondsToDays(){
return a},get getTimeStamp(){return o},get getISOTimestamp(){return s}}}),$traceurRuntime.registerModule("utils/transform-decomposition",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/transform-decomposition")).radToDeg,t=Math,n=t.abs,r=t.sqrt,i=t.asin,a=(t.sin,
t.cos),o=(t.tan,t.atan2),s=1e-8,l=function(t){var n={},r=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];
if(0==r[3][3])return null;for(var s=0;4>s;s++)for(var l=0;4>l;l++)r[s][l]/=r[3][3];
for(var u=[],c=0;4>c;c++){u[c]=[];for(var h=0;4>h;h++)u[c][h]=r[c][h]}for(var _=0;3>_;_++)u[_][3]=0;
if(u[3][3]=1,0==d(u))return null;if(0!==r[0][3]||0!==r[1][3]||0!==r[2][3]){var w=[0,0,0,0];
w[0]=r[0][3],w[1]=r[1][3],w[2]=r[2][3],w[3]=r[3][3];var S=v(u),k=f(S),C=m(w,k);n.perspectiveX=C[0],
n.perspectiveY=C[1],n.perspectiveZ=C[2],n.perspectiveW=C[3],r[0][3]=r[1][3]=r[2][3]=0,
r[3][3]=1}else n.perspectiveX=0,n.perspectiveY=0,n.perspectiveZ=0,n.perspectiveW=1;
n.translateX=r[3][0],r[3][0]=0,n.translateY=r[3][1],r[3][1]=0,n.translateZ=r[3][2],
r[3][2]=0;for(var R=[[],[],[]],M=[0,0,0],E=0;3>E;E++)R[E][0]=r[E][0],R[E][1]=r[E][1],
R[E][2]=r[E][2];if(n.scaleX=p(R[0]),b(R[0],1),n.skewXY=g(R[0],R[1]),y(R[1],R[0],R[1],1,-n.skewXY),
n.scaleY=p(R[1]),b(R[1],1),n.skewXY/=n.scaleY,n.skewXZ=g(R[0],R[2]),y(R[2],R[0],R[2],1,-n.skewXZ),
n.skewYZ=g(R[1],R[2]),y(R[2],R[1],R[2],1,-n.skewYZ),n.scaleZ=p(R[2]),b(R[2],1),n.skewXZ/=n.scaleZ,
n.skewYZ/=n.scaleZ,x(R[1],R[2],M),g(R[0],M)<0){n.scaleX*=-1,n.scaleY*=-1,n.scaleZ*=-1;
for(var P=0;3>P;P++)R[P][0]*=-1,R[P][1]*=-1,R[P][2]*=-1}var A=0,T=i(-R[0][2]),L=0;
return 0!==a(T)?(A=o(R[1][2],R[2][2]),L=o(R[0][1],R[0][0])):A=o(-R[2][0],R[1][1]),
n.rotateX=e(A),n.rotateY=e(T),n.rotateZ=e(L),n},u=function(e,t,n,r){return e*r-t*n;
},c=function(e,t,n,r,i,a,o,s,l){return e*u(i,a,s,l)-r*u(t,n,s,l)+o*u(t,n,i,a)},d=function(e){
var t=e[0][0],n=e[0][1],r=e[0][2],i=e[0][3],a=e[1][0],o=e[1][1],s=e[1][2],l=e[1][3],u=e[2][0],d=e[2][1],h=e[2][2],v=e[2][3],f=e[3][0],m=e[3][1],p=e[3][2],b=e[3][3];
return t*c(o,d,m,s,h,p,l,v,b)-n*c(a,u,f,s,h,p,l,v,b)+r*c(a,u,f,o,d,m,l,v,b)-i*c(a,u,f,o,d,m,s,h,p);
},h=function(e){var t=[[],[],[],[]],n=e[0][0],r=e[0][1],i=e[0][2],a=e[0][3],o=e[1][0],s=e[1][1],l=e[1][2],u=e[1][3],d=e[2][0],h=e[2][1],v=e[2][2],f=e[2][3],m=e[3][0],p=e[3][1],b=e[3][2],g=e[3][3];
t[0][0]=c(s,h,p,l,v,b,u,f,g),t[1][0]=-c(o,d,m,l,v,b,u,f,g),t[2][0]=c(o,d,m,s,h,p,u,f,g),
t[3][0]=-c(o,d,m,s,h,p,l,v,b),t[0][1]=-c(r,h,p,i,v,b,a,f,g),t[1][1]=c(n,d,m,i,v,b,a,f,g),
t[2][1]=-c(n,d,m,r,h,p,a,f,g),t[3][1]=c(n,d,m,r,h,p,i,v,b),t[0][2]=c(r,s,p,i,l,b,a,u,g),
t[1][2]=-c(n,o,m,i,l,b,a,u,g),t[2][2]=c(n,o,m,r,s,p,a,u,g),t[3][2]=-c(n,o,m,r,s,p,i,l,b),
t[0][3]=-c(r,s,h,i,l,v,a,u,f),t[1][3]=c(n,o,d,i,l,v,a,u,f),t[2][3]=-c(n,o,d,r,s,h,a,u,f),
t[3][3]=c(n,o,d,r,s,h,i,l,v)},v=function(e){var t=h(e),r=d(e);if(n(r)<s)return!1;for(var i=0;4>i;i++)for(var a=0;4>a;a++)t[i][a]=t[i][a]/r;
return t},f=function(e){for(var t=[[],[],[],[]],n=0;4>n;n++)for(var r=0;4>r;r++)t[n][r]=e[r][n];
return t},m=function(e,t){var n=[];return n[0]=e[0]*t[0][0]+e[1]*t[1][0]+e[2]*t[2][0]+e[3]*t[3][0],
n[1]=e[0]*t[0][1]+e[1]*t[1][1]+e[2]*t[2][1]+e[3]*t[3][1],n[2]=e[0]*t[0][2]+e[1]*t[1][2]+e[2]*t[2][2]+e[3]*t[3][2],
n[3]=e[0]*t[0][3]+e[1]*t[1][3]+e[2]*t[2][3]+e[3]*t[3][3],n},p=function(e){return r(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);
},b=function(e,t){var n=p(e);if(0!=n){var r=t/n;e[0]*=r,e[1]*=r,e[2]*=r}},g=function(e,t){
return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},y=function(e,t,n,r,i){n[0]=r*e[0]+i*t[0],n[1]=r*e[1]+i*t[1],
n[2]=r*e[2]+i*t[2]},x=function(e,t,n){n[0]=e[1]*t[2]-e[2]*t[1],n[1]=e[2]*t[0]-e[0]*t[2],
n[2]=e[0]*t[1]-e[1]*t[0]};return{get decomposeTransform(){return l}}}),$traceurRuntime.registerModule("utils/transform-general",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/transform-general")),t=e.getUserBBox,n=e.getClientBBox,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./geometry","utils/transform-general")),i=r.degToRad,a=r.getRotationAngleFromPoints,o=r.getDistanceBetweenPoints,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-general","utils/transform-general")).normalizePathData,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./matrix","utils/transform-general")).roundMatrix,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/transform-general")).round,c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./rect","utils/transform-general")).combineRects,d=Math,h=(d.abs,
d.tan),v=Number.parseFloat,f=function(e,t,n,r,i,a){var o=function(e){return e[0][0]*(e[1][1]*e[2][2]-e[1][2]*e[2][1])-e[0][1]*(e[1][0]*e[2][2]-e[1][2]*e[2][0])+e[0][2]*(e[1][0]*e[2][1]-e[1][1]*e[2][0]);
},s=o([[e.x,e.y,1],[t.x,t.y,1],[n.x,n.y,1]]),l=o([[r.x,e.y,1],[i.x,t.y,1],[a.x,n.y,1]]),u=o([[r.y,e.y,1],[i.y,t.y,1],[a.y,n.y,1]]),c=o([[e.x,r.x,1],[t.x,i.x,1],[n.x,a.x,1]]),d=o([[e.x,r.y,1],[t.x,i.y,1],[n.x,a.y,1]]),h=o([[e.x,e.y,r.x],[t.x,t.y,i.x],[n.x,n.y,a.x]]),v=o([[e.x,e.y,r.y],[t.x,t.y,i.y],[n.x,n.y,a.y]]);
return new SVGMatrix([l/s,u/s,c/s,d/s,h/s,v/s])},m=function(e,t){return t.getScreenCTM().inverse().multiply(e.getScreenCTM());
},p=function(e){var t,n;if(e.hasAttribute("data-bx-origin")){var r=e.getAttribute("data-bx-origin").split(" ");
t=v(r[0]),n=v(r[1])}else t=.5,n=.5;return new SVGPoint(t,n)},b=function(e,t){var n=void 0!==arguments[2]?arguments[2]:6,r=u(t.x,n),i=u(t.y,n);
e.setAttribute("data-bx-origin",r+" "+i)},g=function(e){var n=t(e),r=p(e),i=P(r,n);
return i},y=function(e){var t=e.getScreenCTM(),n=g(e),r=(SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),
n.matrixTransform(t));return r},x=function(e){var t=void 0!==arguments[1]?arguments[1]:!1,r=e.map(function(e){
return y(e)}),i=r[0],a=!0,s=!0,l=!1,u=void 0;try{for(var d=void 0,h=r[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){
var v=d.value,f=o(v,i);if(f>3){a=!1;break}}}catch(m){l=!0,u=m}finally{try{s||null==h["return"]||h["return"]();
}finally{if(l)throw u}}var p=null;if(a)if(t){var b=function(){var t=0,r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
r[t++]=n(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}return r}(),g=c(b);p=new SVGPoint((r[0].x-g.x)/g.width,(r[0].y-g.y)/g.height);
}else p=r[0];else if(t)p=new SVGPoint(.5,.5);else{var x=function(){var t=0,r=[],i=!0,a=!1,o=void 0;
try{for(var s=void 0,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;
r[t++]=n(u)}}catch(c){a=!0,o=c}finally{try{i||null==l["return"]||l["return"]()}finally{
if(a)throw o}}return r}(),_=c(x);p=new SVGPoint(_.x+_.width/2,_.y+_.height/2)}return p;
},_=function(e){var n=e.getScreenCTM(),r=(n.inverse(),g(e)),i=r.matrixTransform(e.getScreenCTM()),o=(t(e),
i),s=new SVGPoint(i.x-100,i.y),l=new SVGPoint(r.x-100,r.y).matrixTransform(e.getScreenCTM()),u=a(o,s,l);
return u},w=function(e){var n=m(e,e.parentElement),r=(n.inverse(),g(e)),i=r.matrixTransform(n),o=(t(e),
i),s=new SVGPoint(i.x-100,i.y),l=new SVGPoint(r.x-100,r.y).matrixTransform(n),u=a(o,s,l);
return u},S=function(e){var t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null,r=_(e),i=SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),a=e.getScreenCTM(),o=a.inverse(),s=g(e),u=s.matrixTransform(a),c=SVGMatrix.fromMatrix(i);
c.multiplySelf(o),c.rotateSelf(-r+t,u.x,u.y),c.multiplySelf(a),null!==n&&(c=l(c,n)),
c.isIdentity()===!1?e.setAttribute("transform",c.toString()):e.removeAttribute("transform");
},k=function(e){var t=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null,r=_(e),i=SVGMatrix.fromMatrix(e.transform.baseVal.consolidate().matrix),a=m(e,e.parentElement),o=a.inverse(),s=g(e),u=s.matrixTransform(a),c=SVGMatrix.fromMatrix(i);
c.multiplySelf(o),c.rotateSelf(-r+t,u.x,u.y),c.multiplySelf(a),null!==n&&(c=l(c,n)),
c.isIdentity()===!1?e.setAttribute("transform",c.toString()):e.removeAttribute("transform");
},C=function(e,t){var n=void 0!==arguments[2]?arguments[2]:3,r=s(e),i=!0,a=!1,o=void 0;
try{for(var l=void 0,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;
if("M"===d.type||"L"===d.type){var h=new SVGPoint(d.values[0],d.values[1]).matrixTransform(t);
d.values=[h.x,h.y]}else if("C"===d.type){var v=new SVGPoint(d.values[0],d.values[1]).matrixTransform(t),f=new SVGPoint(d.values[2],d.values[3]).matrixTransform(t),m=new SVGPoint(d.values[4],d.values[5]).matrixTransform(t);
d.values=[v.x,v.y,f.x,f.y,m.x,m.y]}d.values=d.values.map(function(e){return u(e,n);
})}}catch(p){a=!0,o=p}finally{try{i||null==c["return"]||c["return"]()}finally{if(a)throw o;
}}return r},R=function(e,t,n){var r=void 0!==arguments[3]?arguments[3]:0,a=void 0!==arguments[4]?arguments[4]:0,o=SVGMatrix.fromMatrix(e),s=i(t),l=i(n),u=new SVGMatrix;
return u=M(u,h(s),h(l)),o=E(o,r,a),o.multiplySelf(u),o=E(o,-r,-a)},M=function(e,t,n){
var r=SVGMatrix.fromMatrix(e),i=r.a,a=r.b;return r.a+=n*r.c,r.b+=n*r.d,r.c+=t*i,r.d+=t*a,
r},E=function(e,t,n){var r=SVGMatrix.fromMatrix(e);return r.e=r.e+t*r.a+n*r.c,r.f=r.f+t*r.b+n*r.d,
r},P=function(e,t){var n=new SVGPoint(t.x+e.x*t.width,t.y+e.y*t.height);return n},A=function(e,t){
var n=new SVGPoint((e.x-t.x)/t.width,(e.y-t.y)/t.height);return n};return{get getTransformFromPoints(){
return f},get getTransformToElement(){return m},get getTransformOriginBBoxPoint(){
return p},get setTransformOriginBBoxPoint(){return b},get getTransformOriginUserPoint(){
return g},get getTransformOriginClientPoint(){return y},get getComputedTransformOriginClientPoint(){
return x},get getElementRotationAngle(){return _},get getElementRotationLocalAngle(){
return w},get setElementRotationAngle(){return S},get setElementRotationLocalAngle(){
return k},get transformPathData(){return C},get skew(){return R},get bboxPointToUserPoint(){
return P},get userPointToBBoxPoint(){return A}}}),$traceurRuntime.registerModule("utils/transform-reduction",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./bbox","utils/transform-reduction")).getUserBBox,t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./math","utils/transform-reduction")),n=t.round,r=(t.signum,
$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./matrix","utils/transform-reduction")).roundMatrix),i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./paint","utils/transform-reduction")).getPaintServer,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./path-shapes","utils/transform-reduction")),o=a.getShapeData,s=a.setShapeData,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./pattern","utils/transform-reduction")),u=l.createDerivedPattern,c=l.getParentPattern,d=l.getPatternUsers,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-decomposition","utils/transform-reduction")).decomposeTransform,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./variables","utils/transform-reduction")).paintableElementNames,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./transform-general","utils/transform-reduction")),m=f.getTransformFromPoints,p=f.getTransformOriginClientPoint,b=f.getElementRotationAngle,g=f.setElementRotationAngle,y=f.transformPathData,x=f.userPointToBBoxPoint,_=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/transform-reduction"))["default"],w=Math,S=w.abs,k=(w.min,
w.max,Number.parseFloat),C=SVGUnitTypes,R=C.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,M=C.SVG_UNIT_TYPE_USERSPACEONUSE,E=Symbol(),P=Symbol(),A=Symbol(),T=Symbol(),L=Symbol(),N=Symbol(),$=Symbol(),O=Symbol(),V=Symbol(),j=Symbol(),z=Symbol(),I=function(e){
var t=void 0!==arguments[1]?arguments[1]:{};if(e.hasAttribute("transform")!==!1){
void 0===t.geometryPrecision&&(t.geometryPrecision=3),void 0===t.transformPrecision&&(t.transformPrecision=3),
void 0===t.preserveStrokeWidth&&(t.preserveStrokeWidth=!0),void 0===t.preserveRectRadii&&(t.preserveRectRadii=!0),
void 0===t.preserveRotation&&(t.preserveRotation=!0),void 0===t.transformDirection&&(t.transformDirection="bottom-right");
var n=e.localName;if("g"===n)D(e,t);else if("rect"===n)G(e,t);else if("circle"===n)B(e,t);else if("ellipse"===n)U(e,t);else if("text"===n)Q(e,t);else if("image"===n)J(e,t);else if("line"===n)H(e,t);else if("polyline"===n)F(e,t);else if("polygon"===n)F(e,t);else if("path"===n)if(e.hasAttribute("data-bx-shape")){
var r=o(e).type;"triangle"===r?W(e,t):"rect"===r?Y(e,t):"n-gon"===r?X(e,t):"star"===r?Z(e,t):"ring"===r?K(e,t):q(e,t);
}else q(e,t)}},D=function(e,t){var n=t.transformPrecision,i=r(e.transform.baseVal.consolidate().matrix,n);
i.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",i.toString());
},G=function(e,t){var i,a,o=e.transform.baseVal.consolidate().matrix,s=t,l=s.geometryPrecision,u=s.transformPrecision,c=s.preserveRectRadii;
if(o.is2D){var d=h(o),v=d.scaleX,f=d.scaleY,p=e.x.baseVal.value,b=e.y.baseVal.value,g=e.width.baseVal.value,y=e.height.baseVal.value,x=e.rx.baseVal.value,_=e.ry.baseVal.value,w=new SVGPoint(p,b).matrixTransform(o),k=new SVGPoint(p+g,b).matrixTransform(o),C=new SVGPoint(p,b+y).matrixTransform(o);
p*=v,b*=f,g*=S(v),y*=S(f),c===!1&&(x*=S(v),_*=S(f));var R=new SVGPoint(p,b),M=new SVGPoint(p+g,b),E=new SVGPoint(p,b+y),P=m(R,M,E,w,k,C);
P=r(P,u),1===S(P.a)&&0===P.b&&0===P.c&&1===S(P.d)&&(p=1===P.a?p+P.e:p-P.e,b=1===P.d?b+P.f:b-P.f,
P.e=0,P.f=0),ee(e);var A=!0,T=!1,L=void 0;try{for(var N=void 0,$=[["x",p],["y",b],["width",g],["height",y],["rx",x],["ry",_]][Symbol.iterator]();!(A=(N=$.next()).done);A=!0){
var O=N.value,V=(i=O[Symbol.iterator](),(a=i.next()).done?void 0:a.value),j=(a=i.next()).done?void 0:a.value;
j=n(j,l),0===j?e.removeAttribute(V):e.setAttribute(V,j)}}catch(z){T=!0,L=z}finally{
try{A||null==$["return"]||$["return"]()}finally{if(T)throw L}}P.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",P.toString()),
te(e,t)}else o.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(o,u).toString());
},B=function(e,t){var i,a,o=e.transform.baseVal.consolidate().matrix,s=h(o),l=s.scaleX,u=s.scaleY,c=t,d=c.geometryPrecision,v=c.transformPrecision;
if(o.is2D&&l===u){var f=l,p=e.cx.baseVal.value,b=e.cy.baseVal.value,g=e.r.baseVal.value,y=new SVGPoint(p,b).matrixTransform(o),x=new SVGPoint(p+g,b).matrixTransform(o),w=new SVGPoint(p,b-g).matrixTransform(o);
p*=f,b*=f,g*=f;var k=new SVGPoint(p,b),C=new SVGPoint(p+g,b),R=new SVGPoint(p,b-g),M=m(k,C,R,y,x,w);
M=r(M,v),1===S(M.a)&&0===M.b&&0===M.c&&1===S(M.d)&&(k=k.matrixTransform(M),C=C.matrixTransform(M),
R=R.matrixTransform(M),M.e=0,M.f=0),p=n(k.x,d),b=n(k.y,d),g=n(new _(k,C).length,d),
ee(e),M.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",M.toString());
var E=!0,P=!1,A=void 0;try{for(var T=void 0,L=[["cx",p],["cy",b],["r",g]][Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var N=T.value,$=(i=N[Symbol.iterator](),(a=i.next()).done?void 0:a.value),O=(a=i.next()).done?void 0:a.value;
0===O?e.removeAttribute($):e.setAttribute($,O)}}catch(V){P=!0,A=V}finally{try{E||null==L["return"]||L["return"]();
}finally{if(P)throw A}}te(e,t)}else o.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(o,v).toString());
},U=function(e,t){var i,a,o=e.transform.baseVal.consolidate().matrix,s=t,l=s.geometryPrecision,u=s.transformPrecision;
if(o.is2D){var c=h(o),d=c.scaleX,v=c.scaleY,f=e.cx.baseVal.value,p=e.cy.baseVal.value,b=e.rx.baseVal.value,g=e.ry.baseVal.value,y=new SVGPoint(f,p).matrixTransform(o),x=new SVGPoint(f+b,p).matrixTransform(o),w=new SVGPoint(f,p-g).matrixTransform(o);
f*=d,p*=v,b*=d,g*=v;var k=new SVGPoint(f,p),C=new SVGPoint(f+b,p),R=new SVGPoint(f,p-g),M=m(k,C,R,y,x,w);
M=r(M,u),1===S(M.a)&&0===M.b&&0===M.c&&1===S(M.d)&&(k=k.matrixTransform(M),C=C.matrixTransform(M),
R=R.matrixTransform(M),M.e=0,M.f=0),f=n(k.x,l),p=n(k.y,l),b=n(new _(k,C).length,l),
g=n(new _(k,R).length,l),ee(e),M.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",M.toString());
var E=!0,P=!1,A=void 0;try{for(var T=void 0,L=[["cx",f],["cy",p],["rx",b],["ry",g]][Symbol.iterator]();!(E=(T=L.next()).done);E=!0){
var N=T.value,$=(i=N[Symbol.iterator](),(a=i.next()).done?void 0:a.value),O=(a=i.next()).done?void 0:a.value;
0===O?e.removeAttribute($):e.setAttribute($,O)}}catch(V){P=!0,A=V}finally{try{E||null==L["return"]||L["return"]();
}finally{if(P)throw A}}te(e,t)}else o.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(o,u));
},H=function(t,i){var a=t.transform.baseVal.consolidate().matrix,o=i,s=o.geometryPrecision,l=o.transformPrecision,u=o.preserveRotation;
if(a.is2D)if(u){var c=b(t);ee(t),g(t,b(t.parentElement));var d=t.transform.baseVal.consolidate().matrix,h=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),v=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),f=h.matrixTransform(d),m=v.matrixTransform(d);
t.setAttribute("x1",n(f.x,s)),t.setAttribute("y1",n(f.y,s)),t.setAttribute("x2",n(m.x,s)),
t.setAttribute("y2",n(m.y,s)),t.removeAttribute("transform"),g(t,c,l),te(t,i)}else{
var y=p(t),_=t.transform.baseVal.consolidate().matrix,w=new SVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),S=new SVGPoint(t.x2.baseVal.value,t.y2.baseVal.value),k=w.matrixTransform(_),C=S.matrixTransform(_);
if(ee(t),t.setAttribute("x1",n(k.x,s)),t.setAttribute("y1",n(k.y,s)),t.setAttribute("x2",n(C.x,s)),
t.setAttribute("y2",n(C.y,s)),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){
var R=e(t),M=t.getScreenCTM().inverse(),E=y.matrixTransform(M),P=x(E,R),A=n(P.x,s),T=n(P.y,s);
t.setAttribute("data-bx-origin",A+" "+T)}te(t,i)}else a.isIdentity()?t.removeAttribute("transform"):t.setAttribute("transform",r(a,l));
},F=function(t,i){var a=t.transform.baseVal.consolidate().matrix,o=i,s=o.geometryPrecision,l=o.transformPrecision,u=o.preserveRotation;
if(a.is2D)if(u){var c=b(t);ee(t),g(t,b(t.parentElement));var d=t.transform.baseVal.consolidate().matrix,h=[],v=!0,f=!1,m=void 0;
try{for(var y=void 0,_=t.points[Symbol.iterator]();!(v=(y=_.next()).done);v=!0){var w=y.value,S=w.matrixTransform(d),k=S.x,C=S.y;
h.push(n(k,s),n(C,s))}}catch(R){f=!0,m=R}finally{try{v||null==_["return"]||_["return"]();
}finally{if(f)throw m}}t.setAttribute("points",h.join(" ")),t.removeAttribute("transform"),
g(t,c,l),te(t,i)}else{var M=p(t),E=[],P=!0,A=!1,T=void 0;try{for(var L=void 0,N=t.points[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){
var $=L.value,O=$.matrixTransform(a),V=O.x,j=O.y;E.push(n(V,s),n(j,s))}}catch(z){
A=!0,T=z}finally{try{P||null==N["return"]||N["return"]()}finally{if(A)throw T}}if(ee(t),
t.setAttribute("points",E.join(" ")),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){
var I=e(t),D=t.getScreenCTM().inverse(),G=M.matrixTransform(D),B=x(G,I),U=n(B.x,s),H=n(B.y,s);
t.setAttribute("data-bx-origin",U+" "+H)}te(t,i)}else a.isIdentity()?t.removeAttribute("transform"):t.setAttribute("transform",r(a,l));
},q=function(t,i){var a=t.transform.baseVal.consolidate().matrix,o=i,s=o.geometryPrecision,l=o.transformPrecision,u=o.preserveRotation;
if(a.is2D)if(u){var c=b(t);ee(t),g(t,b(t.parentElement));var d=t.transform.baseVal.consolidate().matrix,h=t.getPathData(),v=y(h,d,s);
t.setPathData(v),t.removeAttribute("transform"),g(t,c,l),te(t,i)}else{var f=p(t),m=t.getPathData(),_=y(m,a,s);
if(ee(t),t.setPathData(_),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){
var w=e(t),S=t.getScreenCTM().inverse(),k=f.matrixTransform(S),C=x(k,w),R=n(C.x,s),M=n(C.y,s);
t.setAttribute("data-bx-origin",R+" "+M)}te(t,i)}else a.isIdentity()?t.removeAttribute("transform"):t.setAttribute("transform",r(a,l));
},W=function(e,t){var i,a,l=e.transform.baseVal.consolidate().matrix,u=t,c=u.geometryPrecision,d=u.transformPrecision;
if(l.is2D){var v=h(l),f=v.scaleX,p=v.scaleY,b=o(e).values,g=(i=b[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),y=(a=i.next()).done?void 0:a.value,x=(a=i.next()).done?void 0:a.value,_=(a=i.next()).done?void 0:a.value,w=(a=i.next()).done?void 0:a.value,k=(a=i.next()).done?void 0:a.value,C=new SVGPoint(g,y).matrixTransform(l),R=new SVGPoint(g+x,y).matrixTransform(l),M=new SVGPoint(g,y+_).matrixTransform(l);
g*=f,y*=p,x*=S(f),_*=S(p);var E=new SVGPoint(g,y),P=new SVGPoint(g+x,y),A=new SVGPoint(g,y+_),T=m(E,P,A,C,R,M);
T=r(T,d),1===S(T.a)&&0===T.b&&0===T.c&&1===S(T.d)&&(0===T.e&&0===T.f||(g=1===T.a?g+T.e:g-T.e,
y=1===T.d?y+T.f:y-T.f,T.e=0,T.f=0));var L=[g,y,x,_,w,k].map(function(e){return n(e,c);
}),N={type:"triangle",values:L};ee(e),s(e,N,c),T.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",T.toString()),
te(e,t)}else l.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(l,d));
},Y=function(e,t){var i,a,l=e.transform.baseVal.consolidate().matrix,u=t,c=u.geometryPrecision,d=u.transformPrecision,v=u.preserveRectRadii;
if(l.is2D){var f=h(l),p=f.scaleX,b=f.scaleY,g=o(e).values,y=(i=g[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),x=(a=i.next()).done?void 0:a.value,_=(a=i.next()).done?void 0:a.value,w=(a=i.next()).done?void 0:a.value,k=(a=i.next()).done?void 0:a.value,C=(a=i.next()).done?void 0:a.value,R=(a=i.next()).done?void 0:a.value,M=(a=i.next()).done?void 0:a.value,E=(a=i.next()).done?void 0:a.value,P=(a=i.next()).done?void 0:a.value,A=(a=i.next()).done?void 0:a.value,T=(a=i.next()).done?void 0:a.value,L=new SVGPoint(y,x).matrixTransform(l),N=new SVGPoint(y+_,x).matrixTransform(l),$=new SVGPoint(y,x+w).matrixTransform(l);
void 0===E&&(E=k),void 0===P&&(P=C),void 0===A&&(A=R),void 0===T&&(T=M),y*=p,x*=b,
_*=S(p),w*=S(b),v===!1&&(k*=S(p),C*=S(p),R*=S(p),M*=S(p),E*=S(b),P*=S(b),A*=S(b),
T*=S(b));var O=new SVGPoint(y,x),V=new SVGPoint(y+_,x),j=new SVGPoint(y,x+w),z=m(O,V,j,L,N,$);
z=r(z,d),1===S(z.a)&&0===z.b&&0===z.c&&1===S(z.d)&&(0===z.e&&0===z.f||(y=1===z.a?y+z.e:y-z.e,
x=1===z.d?x+z.f:x-z.f,z.e=0,z.f=0));var I;I=k===E&&C===P&&R===A&&M===T?[y,x,_,w,k,C,R,M]:[y,x,_,w,k,C,R,M,E,P,A,T],
I=I.map(function(e){return n(e,c)}),ee(e),s(e,{type:"rect",values:I},c),z.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",z.toString()),
te(e,t)}else l.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(l,d));
},X=function(e,t){var i,a,l=e.transform.baseVal.consolidate().matrix,u=t,c=u.geometryPrecision,d=u.transformPrecision;
if(l.is2D){var v=h(l),f=v.scaleX,p=v.scaleY,b=o(e).values,g=(i=b[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),y=(a=i.next()).done?void 0:a.value,x=(a=i.next()).done?void 0:a.value,_=(a=i.next()).done?void 0:a.value,w=(a=i.next()).done?void 0:a.value,k=(a=i.next()).done?void 0:a.value,C=new SVGPoint(g,y).matrixTransform(l),R=new SVGPoint(g+x,y).matrixTransform(l),M=new SVGPoint(g,y+_).matrixTransform(l);
x*=S(f),_*=S(p);var E=new SVGPoint(g,y),P=new SVGPoint(g+x,y),A=new SVGPoint(g,y+_),T=m(E,P,A,C,R,M);
T=r(T,d),1===S(T.a)&&0===T.b&&0===T.c&&1===S(T.d)&&(0===T.e&&0===T.f||(g=1===T.a?g+T.e:g-T.e,
y=1===T.d?y+T.f:y-T.f,T.e=0,T.f=0));var L=[g,y,x,_,w,k];L=L.map(function(e){return n(e,c);
}),ee(e),s(e,{type:"n-gon",values:L},c),T.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",T.toString()),
te(e,t)}else l.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(l,d));
},Z=function(e,t){var i,a,l=e.transform.baseVal.consolidate().matrix,u=t,c=u.geometryPrecision,d=u.transformPrecision;
if(l.is2D){var v=h(l),f=v.scaleX,p=v.scaleY,b=o(e).values,g=(i=b[Symbol.iterator](),
(a=i.next()).done?void 0:a.value),y=(a=i.next()).done?void 0:a.value,x=(a=i.next()).done?void 0:a.value,_=(a=i.next()).done?void 0:a.value,w=(a=i.next()).done?void 0:a.value,k=(a=i.next()).done?void 0:a.value,C=new SVGPoint(g,y).matrixTransform(l),R=new SVGPoint(g+x,y).matrixTransform(l),M=new SVGPoint(g,y+_).matrixTransform(l);
x*=S(f),_*=S(p);var E=new SVGPoint(g,y),P=new SVGPoint(g+x,y),A=new SVGPoint(g,y+_),T=m(E,P,A,C,R,M);
T=r(T,d),1===S(T.a)&&0===T.b&&0===T.c&&1===S(T.d)&&(0===T.e&&0===T.f||(g=1===T.a?g+T.e:g-T.e,
y=1===T.d?y+T.f:y-T.f,T.e=0,T.f=0));var L=[g,y,x,_,w,k].map(function(e){return n(e,c);
});ee(e),s(e,{type:"star",values:L},c),T.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",T.toString()),
te(e,t)}else l.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(l,d));
},K=function(e,t){var i,a,l=e.transform.baseVal.consolidate().matrix,u=t,c=u.geometryPrecision,d=u.transformPrecision;
if(l.is2D){var v=o(e).values,f=(i=v[Symbol.iterator](),(a=i.next()).done?void 0:a.value),p=(a=i.next()).done?void 0:a.value,b=(a=i.next()).done?void 0:a.value,g=(a=i.next()).done?void 0:a.value,y=(a=i.next()).done?void 0:a.value,x=(a=i.next()).done?void 0:a.value,_=h(l),w=_.scaleX,k=_.scaleY,C=new SVGPoint(f,p).matrixTransform(l),R=new SVGPoint(f+y,p).matrixTransform(l),M=new SVGPoint(f,p+x).matrixTransform(l);
b*=S(w),g*=S(k),y*=S(w),x*=S(k);var E=new SVGPoint(f,p),P=new SVGPoint(f+y,p),A=new SVGPoint(f,p+x),T=m(E,P,A,C,R,M);
T=r(T,d),1===S(T.a)&&0===T.b&&0===T.c&&1===S(T.d)&&(0===T.e&&0===T.f||(f=1===T.a?f+T.e:f-T.e,
p=1===T.d?p+T.f:p-T.f,T.e=0,T.f=0));var L=[f,p,b,g,y,x].map(function(e){return n(e,c);
});ee(e),s(e,{type:"ring",values:L},c),T.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",T.toString()),
te(e,t)}else l.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(l,d));
},J=function(e,t){var i,a,o=t,s=o.geometryPrecision,l=o.transformPrecision,u=(o.preserveRectRadii,
e.transform.baseVal.consolidate().matrix),c=h(u),d=c.scaleX,v=c.scaleY;if(!u.is2D||d!==v&&"none"!==e.getAttribute("preserveAspectRatio"))u.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(u,l));else{
var f=e.x.baseVal.value,p=e.y.baseVal.value,b=e.width.baseVal.value,g=e.height.baseVal.value,y=new SVGPoint(f,p).matrixTransform(u),x=new SVGPoint(f+b,p).matrixTransform(u),_=new SVGPoint(f,p+g).matrixTransform(u);
f*=d,p*=v,b*=S(d),g*=S(v);var w=new SVGPoint(f,p),k=new SVGPoint(f+b,p),C=new SVGPoint(f,p+g),R=m(w,k,C,y,x,_);
R=r(R,l),1===S(R.a)&&0===R.b&&0===R.c&&1===S(R.d)&&(0===R.e&&0===R.f||(f=1===R.a?f+R.e:f-R.e,
p=1===R.d?p+R.f:p-R.f,R.e=0,R.f=0)),ee(e);var M=!0,E=!1,P=void 0;try{for(var A=void 0,T=[["x",f],["y",p],["width",b],["height",g]][Symbol.iterator]();!(M=(A=T.next()).done);M=!0){
var L=A.value,N=(i=L[Symbol.iterator](),(a=i.next()).done?void 0:a.value),$=(a=i.next()).done?void 0:a.value;
$=n($,s),0===$?e.removeAttribute(N):e.setAttribute(N,$)}}catch(O){E=!0,P=O}finally{
try{M||null==T["return"]||T["return"]()}finally{if(E)throw P}}R.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",R.toString()),
te(e,t)}},Q=function(e,t){var i=t,a=i.geometryPrecision,o=i.transformPrecision,s=$traceurRuntime.spread(e.children).find(function(e){
return"textPath"===e.localName}),l=s?body.canvas.artboards.querySelector(s.href.baseVal):null;
if(l){var u=r(e.transform.baseVal.consolidate().matrix,o);u.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",u.toString());
}else{var c=e.transform.baseVal.consolidate().matrix,d=h(c),v=d.scaleX,f=d.scaleY;
if(c.is2D&&v===f){var p=0===e.x.baseVal.length?0:e.x.baseVal.getItem(0).value,b=0===e.y.baseVal.length?0:e.y.baseVal.getItem(0).value,g=e.getBBox().width,y=e.getBBox().height,x=new SVGPoint(p,b).matrixTransform(c),_=new SVGPoint(p+g,b).matrixTransform(c),w=new SVGPoint(p,b+y).matrixTransform(c);
p*=v,b*=f,g*=S(v),y*=S(f);var C=new SVGPoint(p,b),R=new SVGPoint(p+g,b),M=new SVGPoint(p,b+y),E=m(C,R,M,x,_,w);
E=r(E,o),1===S(E.a)&&0===E.b&&0===E.c&&1===S(E.d)&&(0===E.e&&0===E.f||(p=1===E.a?p+E.e:p-E.e,
b=1===E.d?b+E.f:b-E.f,E.e=0,E.f=0)),ee(e);var P=!0,A=!1,T=void 0;try{for(var L=void 0,N=e.querySelectorAll("tspan")[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){
var $=L.value;ee($)}}catch(O){A=!0,T=O}finally{try{P||null==N["return"]||N["return"]();
}finally{if(A)throw T}}e.setAttribute("x",n(p,a)),e.setAttribute("y",n(b,a)),E.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",E.toString()),
te(e,t);var V=e.querySelectorAll("tspan");if(0===V.length){var j=getComputedStyle(e).getPropertyValue("font-size");
j=k(j),j=n(j*f,1),e.style.setProperty("font-size",j)}else{var z=!0,I=!1,D=void 0;try{
for(var G=void 0,B=e.querySelectorAll("tspan")[Symbol.iterator]();!(z=(G=B.next()).done);z=!0){
var U=G.value,H=getComputedStyle(U).getPropertyValue("font-size");H=k(H),H=n(H*f,1),
U.style.setProperty("font-size",H);var F=getComputedStyle(U).getPropertyValue("word-spacing");
F=k(F),F=n(F*f,2),U.style.setProperty("word-spacing",F);var q=getComputedStyle(U).getPropertyValue("letter-spacing");
q=k(q),q=n(q*f,2),U.style.setProperty("letter-spacing",q),te(U,t)}}catch(W){I=!0,
D=W}finally{try{z||null==B["return"]||B["return"]()}finally{if(I)throw D}}}}else c.isIdentity()?e.removeAttribute("transform"):e.setAttribute("transform",r(c,o));
}},ee=function(t){var n=t.getScreenCTM();if(v.includes(t.localName)){var r=[i(t,"fill"),i(t,"stroke")],a=r.filter(function(e){
return e&&e.localName.endsWith("Gradient")}),o=r.filter(function(e){return e&&"pattern"===e.localName;
}),s=h(t.transform.baseVal.consolidate().matrix),l=s.scaleX,u=s.scaleY;t[E]=l,t[P]=u;
var d=!0,f=!1,m=void 0;try{for(var p=void 0,b=a[Symbol.iterator]();!(d=(p=b.next()).done);d=!0){
var g=p.value,y=g.gradientTransform.baseVal.consolidate().matrix;if(g.gradientUnits.baseVal===M)if("linearGradient"===g.localName){
var x=new SVGPoint(g.x1.baseVal.value,g.y1.baseVal.value),w=new SVGPoint(g.x2.baseVal.value,g.y2.baseVal.value),S=new _(x,w).getNormalVector(),k=S.transformPoint(x),C=x.matrixTransform(y),I=w.matrixTransform(y),D=k.matrixTransform(y);
g[A]=C.matrixTransform(n),g[T]=I.matrixTransform(n),g[L]=D.matrixTransform(n)}else if("radialGradient"===g.localName){
var G=new SVGPoint(g.cx.baseVal.value,g.cy.baseVal.value),B=new SVGPoint(g.cx.baseVal.value+g.r.baseVal.value,g.cy.baseVal.value),U=new SVGPoint(g.cx.baseVal.value,g.cy.baseVal.value-g.r.baseVal.value),H=G.matrixTransform(y),F=B.matrixTransform(y),q=U.matrixTransform(y);
g[N]=H.matrixTransform(n),g[$]=F.matrixTransform(n),g[O]=q.matrixTransform(n)}}}catch(W){
f=!0,m=W}finally{try{d||null==b["return"]||b["return"]()}finally{if(f)throw m}}var Y=!0,X=!1,Z=void 0;
try{for(var K=void 0,J=o[Symbol.iterator]();!(Y=(K=J.next()).done);Y=!0){var Q=K.value,ee=Q.hasAttribute("href")?c(Q):Q,te=SVGMatrix.fromMatrix(Q.patternTransform.baseVal.consolidate().matrix);
if(ee.patternUnits.baseVal===M){var ne=new SVGPoint(ee.x.baseVal.value,ee.y.baseVal.value),re=new SVGPoint(ee.x.baseVal.value+ee.width.baseVal.value,ee.y.baseVal.value),ie=new SVGPoint(ee.x.baseVal.value+ee.width.baseVal.value,ee.y.baseVal.value+ee.height.baseVal.value),ae=ne.matrixTransform(te),oe=re.matrixTransform(te),se=ie.matrixTransform(te);
Q[V]=ae.matrixTransform(n),Q[j]=oe.matrixTransform(n),Q[z]=se.matrixTransform(n)}else if(ee.patternUnits.baseVal===R){
var le=t.getScreenCTM(),ue=e(t),ce=new SVGPoint(ee.x.baseVal.valueInSpecifiedUnits,ee.y.baseVal.valueInSpecifiedUnits),de=new SVGPoint(ee.x.baseVal.valueInSpecifiedUnits+ee.width.baseVal.valueInSpecifiedUnits,ee.y.baseVal.valueInSpecifiedUnits),he=new SVGPoint(ee.x.baseVal.valueInSpecifiedUnits+ee.width.baseVal.valueInSpecifiedUnits,ee.y.baseVal.valueInSpecifiedUnits+ee.height.baseVal.valueInSpecifiedUnits),ve=new SVGPoint(ue.x+ce.x*ue.width,ue.y+ce.y*ue.height),fe=new SVGPoint(ue.x+de.x*ue.width,ue.y+de.y*ue.height),me=new SVGPoint(ue.x+he.x*ue.width,ue.y+he.y*ue.height),pe=ve.matrixTransform(te),be=fe.matrixTransform(te),ge=me.matrixTransform(te),ye=pe.matrixTransform(le),xe=be.matrixTransform(le),_e=ge.matrixTransform(le);
Q[V]=ye,Q[j]=xe,Q[z]=_e}}}catch(we){X=!0,Z=we}finally{try{Y||null==J["return"]||J["return"]();
}finally{if(X)throw Z}}}},te=function(t,a){var o=t.getScreenCTM().inverse(),s=a,l=s.geometryPrecision,h=s.preserveStrokeWidth,f=s.transformPrecision,p=s.transformDirection;
if(v.includes(t.localName)){var b=[i(t,"fill"),i(t,"stroke")],g=b.filter(function(e){
return e&&e.localName.endsWith("Gradient")}),y=b.filter(function(e){return e&&"pattern"===e.localName;
});if(h===!1){var x=t[E],w=t[P],C=getComputedStyle(t).getPropertyValue("stroke-width");
C=k(C),C*="left"===p||"right"===p?S(x):"top"===p||"bottom"===p?S(w):(S(x)+S(w))/2,
C=n(C,l),t.style.setProperty("stroke-width",C)}var I=!0,D=!1,G=void 0;try{for(var B=void 0,U=g[Symbol.iterator]();!(I=(B=U.next()).done);I=!0){
var H=B.value;if(H.gradientUnits.baseVal===M){var F=void 0;if("linearGradient"===H.localName){
var q=new SVGPoint(H.x1.baseVal.value,H.y1.baseVal.value),W=new SVGPoint(H.x2.baseVal.value,H.y2.baseVal.value),Y=new _(q,W).getNormalVector().transformPoint(q);
F=m(q,W,Y,H[A].matrixTransform(o),H[T].matrixTransform(o),H[L].matrixTransform(o));
}else if("radialGradient"===H.localName){var X=new SVGPoint(H.cx.baseVal.value,H.cy.baseVal.value),Z=new SVGPoint(H.cx.baseVal.value+H.r.baseVal.value,H.cy.baseVal.value),K=new SVGPoint(H.cx.baseVal.value,H.cy.baseVal.value-H.r.baseVal.value);
F=m(X,Z,K,H[N].matrixTransform(o),H[$].matrixTransform(o),H[O].matrixTransform(o));
}F=r(F,f),H.setAttribute("gradientTransform",F.toString())}}}catch(J){D=!0,G=J}finally{
try{I||null==U["return"]||U["return"]()}finally{if(D)throw G}}var Q=!0,ee=!1,te=void 0;
try{for(var ne=void 0,re=y[Symbol.iterator]();!(Q=(ne=re.next()).done);Q=!0){var ie=ne.value,ae=ie.hasAttribute("href")?c(ie):ie,oe=SVGMatrix.fromMatrix(ie.patternTransform.baseVal.consolidate().matrix),se=d(ie),le=ie[V],ue=ie[j],ce=ie[z];
if(se.length>1){var de=u(ie);ie.after(de);var he=!0,ve=!1,fe=void 0;try{for(var me=void 0,pe=["fill","stroke"][Symbol.iterator]();!(he=(me=pe.next()).done);he=!0){
var be=me.value;t.style.getPropertyValue(be)==='url("#'+ie.id+'")'&&t.style.setProperty(be,'url("#'+de.id+'")');
}}catch(ge){ve=!0,fe=ge}finally{try{he||null==pe["return"]||pe["return"]()}finally{
if(ve)throw fe}}ie=de}if(ae.patternUnits.baseVal===M){var ye=new SVGPoint(ae.x.baseVal.value,ae.y.baseVal.value),xe=new SVGPoint(ae.x.baseVal.value+ae.width.baseVal.value,ae.y.baseVal.value),_e=new SVGPoint(ae.x.baseVal.value+ae.width.baseVal.value,ae.y.baseVal.value+ae.height.baseVal.value),we=m(ye,xe,_e,le.matrixTransform(o),ue.matrixTransform(o),ce.matrixTransform(o));
oe=r(we,f),ie.setAttribute("patternTransform",oe.toString())}else if(ae.patternUnits.baseVal===R){
var Se=e(t),ke=new SVGPoint(ae.x.baseVal.valueInSpecifiedUnits,ae.y.baseVal.valueInSpecifiedUnits),Ce=new SVGPoint(ae.x.baseVal.valueInSpecifiedUnits+ae.width.baseVal.valueInSpecifiedUnits,ae.y.baseVal.valueInSpecifiedUnits),Re=new SVGPoint(ae.x.baseVal.valueInSpecifiedUnits+ae.width.baseVal.valueInSpecifiedUnits,ae.y.baseVal.valueInSpecifiedUnits+ae.height.baseVal.valueInSpecifiedUnits),Me=new SVGPoint(Se.x+ke.x*Se.width,Se.y+ke.y*Se.height),Ee=new SVGPoint(Se.x+Ce.x*Se.width,Se.y+Ce.y*Se.height),Pe=new SVGPoint(Se.x+Re.x*Se.width,Se.y+Re.y*Se.height),Ae=le.matrixTransform(o),Te=ue.matrixTransform(o),Le=ce.matrixTransform(o),Ne=Ae.matrixTransform(oe.inverse()),$e=Te.matrixTransform(oe.inverse()),Oe=Le.matrixTransform(oe.inverse()),Ve=m(Me,Ee,Pe,Ne,$e,Oe);
oe=oe.multiply(Ve),oe=r(oe,f),ie.setAttribute("patternTransform",oe.toString())}}
}catch(je){ee=!0,te=je}finally{try{Q||null==re["return"]||re["return"]()}finally{
if(ee)throw te}}}};return{get reduceTransform(){return I}}}),$traceurRuntime.registerModule("utils/type",[],function(){
"use strict";var e=Number,t=e.isFinite,n=e.isNaN,r=e.parseFloat,i=function(e){return n(e)?!1:"number"==typeof e;
},a=function(e){return e===!!e},o=function(e){var i=r(e);return n(i)===!1&&t(i)};return{
get isNumber(){return i},get isBoolean(){return a},get isNumeric(){return o}}}),$traceurRuntime.registerModule("utils/variables",[],function(){
"use strict";var e={bx:"https://boxy-svg.com",html:"http://www.w3.org/1999/xhtml",
svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"
},t=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],n=["context-menu","help","pointer","progress","wait ","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out "],r=["alert","alertdialog","application","article","banner","button","cell","checkbox","columnheader","combobox","command","complementary","composite","contentinfo","definition","dialog","directory","document","feed","figure","form","grid","gridcell","group","heading","img","input","landmark","link","list","listbox","listitem","log","main","marquee","math","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","presentation","progressbar","radio","radiogroup","range","region","roletype","row","rowgroup","rowheader","scrollbar","search","searchbox","section","sectionhead","select","separator","slider","spinbutton","status","structure","switch","tab","table","tablist","tabpanel","term","textbox","timer","toolbar","tooltip","tree","treegrid","treeitem","widget","window"],i=["em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","q","in","pc","pt","px"],a=["deg","grad","rad","turn"],o=["none","xMinYMin","xMidYMin","xMaxYMin","xMinYMid","xMidYMid","xMaxYMid","xMinYMax","xMidYMax","xMaxYMax"],s=["circle","ellipse","line","path","polygon","polyline","rect"],l=$traceurRuntime.spread(s,["image","text","textPath","tspan"]),u=["solidcolor","linearGradient","radialGradient","pattern"],c=$traceurRuntime.spread(s,["text","textPath","tspan"]),d=["desc","_title"],h=["svg","g","defs","symbol","use"],v=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],f=["feFuncA","feFuncB","feFuncG","feFuncR"],m=["feDistantLight","fePointLight","feSpotLight"],p=$traceurRuntime.spread(l,["a","g","svg","symbol","use","view"]),b=$traceurRuntime.spread(l,u,d,h,v,f,m,["a","marker","mask","feMergeNode","filter","clipPath","stop","script","style","view"]),g=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragexit","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onpointerdown","onpointermove","onpointerup","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","onpointerlockchange","onpointerlockerror","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onselectionchange","onshow","onsort","onstalled","onsubmit","onsuspend","ontimeupdate","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontoggle","onunload","onvolumechange","onwaiting"],y=["direction","dominant-baseline","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],x=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],_={
aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],
azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],
blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],
cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],
cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],
darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],
darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],
darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],
darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],
darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],
deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],
firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],
gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],
gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],
khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],
lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],
lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],
lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],
lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],
linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],
mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],
mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],
moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],
olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],
orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],
palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],
pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],
salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],
sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],
slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],
steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],
turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],
whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},w={100:["100","200","300","400","500","600","700","800","900"],
200:["200","100","300","400","500","600","700","800","900"],300:["300","200","100","400","500","600","700","800","900"],
400:["400","500","300","200","100","600","700","800","900"],500:["500","400","300","200","100","600","700","800","900"],
600:["600","700","800","900","500","400","300","200","100"],700:["700","800","900","600","500","400","300","200","100"],
800:["800","900","700","600","500","400","300","200","100"],900:["900","800","700","600","500","400","300","200","100"]
},S={a:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view","#text"]),
_title:["#text"],circle:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),
clipPath:$traceurRuntime.spread(d,s,["text","use","script","style"]),defs:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),
desc:["#text"],ellipse:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),
feBlend:$traceurRuntime.spread(d,["script","style"]),feColorMatrix:$traceurRuntime.spread(d,["script","style"]),
feComponentTransfer:$traceurRuntime.spread(d,f,["script","style"]),feComposite:$traceurRuntime.spread(d,["script","style"]),
feConvolveMatrix:$traceurRuntime.spread(d,["script","style"]),feDiffuseLighting:$traceurRuntime.spread(d,m,["script","style"]),
feDisplacementMap:$traceurRuntime.spread(d,["script","style"]),feDistantLight:$traceurRuntime.spread(d,["script","style"]),
feDropShadow:$traceurRuntime.spread(d,["script","style"]),feFlood:$traceurRuntime.spread(d,["script","style"]),
feFuncR:$traceurRuntime.spread(d,["script","style"]),feFuncG:$traceurRuntime.spread(d,["script","style"]),
feFuncB:$traceurRuntime.spread(d,["script","style"]),feFuncA:$traceurRuntime.spread(d,["script","style"]),
feGaussianBlur:$traceurRuntime.spread(d,["script","style"]),feImage:$traceurRuntime.spread(d,["script","style"]),
feMerge:$traceurRuntime.spread(d,["feMergeNode","script","style"]),feMergeNode:$traceurRuntime.spread(d,["script","style"]),
feMorphology:$traceurRuntime.spread(d,["script","style"]),feOffset:$traceurRuntime.spread(d,["script","style"]),
fePointLight:$traceurRuntime.spread(d,["script","style"]),feSpecularLighting:$traceurRuntime.spread(d,["feDistantLight","fePointLight","feSpotLight","script","style"]),
feSpotLight:$traceurRuntime.spread(d,["script","style"]),feTile:$traceurRuntime.spread(d,["script","style"]),
feTurbulence:$traceurRuntime.spread(d,["script","style"]),filter:$traceurRuntime.spread(v,d,["script","style"]),
g:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),
image:$traceurRuntime.spread(d,["clipPath","mask","script","style"]),line:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),
linearGradient:$traceurRuntime.spread(d,["script","stop","style"]),marker:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),
mask:$traceurRuntime.spread(d,s,h,u,["a","clipPath","filter","image","marker","mask","script","style","text","view","text"]),
path:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),pattern:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),
polygon:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),
polyline:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),
radialGradient:$traceurRuntime.spread(d,["script","stop","style"]),rect:$traceurRuntime.spread(d,u,["clipPath","marker","mask","script","style"]),
script:["#text"],solidcolor:$traceurRuntime.spread(d,["script","style"]),stop:$traceurRuntime.spread(d,["script","style"]),
style:["#text"],svg:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),
symbol:$traceurRuntime.spread(d,u,s,h,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),
text:$traceurRuntime.spread(d,u,["a","clipPath","marker","mask","script","style","tspan","textPath","#text"]),
textPath:$traceurRuntime.spread(d,u,["a","clipPath","marker","mask","script","style","tspan","#text"]),
tspan:$traceurRuntime.spread(d,u,["a","script","style","tspan","#text"]),use:$traceurRuntime.spread(d,u,["clipPath","mask","script","style"]),
view:$traceurRuntime.spread(d,["script","style"])},k=[{name:"amplitude",values:[{
type:"number"}],appliesTo:$traceurRuntime.spread(f)},{name:"aria-activedescendant",
values:[{type:"id-reference"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-atomic",
values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-autocomplete",values:[{type:"token",tokens:["inline","list","both","none"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-busy",values:[{type:"token",tokens:["true","false"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-checked",values:[{type:"token",
tokens:["true","false","mixed"]}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-colcount",
values:[{type:"integer",min:-1}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-colindex",
values:[{type:"integer",min:1}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-colspan",
values:[{type:"integer",min:1}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-controls",
values:[{type:"id-reference-list"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-current",
values:[{type:"token",tokens:["page","step","location","date","time","true","false"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-describedby",values:[{type:"id-reference-list"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-details",values:[{type:"id-reference"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-disabled",values:[{type:"token",
tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-dropeffect",
values:[{type:"token-list",tokens:["copy","execute","link","move","none","popup"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-errormessage",values:[{type:"id-reference"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-expanded",values:[{type:"token",
tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-flowto",
values:[{type:"id-reference-list"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-grabbed",
values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-haspopup",values:[{type:"token",tokens:["true","false","menu","listbox","tree","grid","dialog"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-hidden",values:[{type:"token",
tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-invalid",
values:[{type:"token",tokens:["true","false","grammar","spelling"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-label",values:[{type:"string"}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-labelledby",values:[{type:"id-reference-list"}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-level",values:[{type:"integer"}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-live",values:[{type:"token",tokens:["assertive","polite","off"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-modal",values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-multiline",values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-multiselectable",values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-orientation",values:[{type:"token",tokens:["horizontal","vertical"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-owns",values:[{type:"id-reference-list"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-placeholder",values:[{type:"string"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-posinset",values:[{type:"integer"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-pressed",values:[{type:"token",
tokens:["true","false","mixed"]}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-readonly",
values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-relevant",values:[{type:"token-list",tokens:["additions","removals","text","all"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-required",values:[{type:"token",
tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-roledescription",
values:[{type:"string"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-rowcount",
values:[{type:"integer"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-rowindex",
values:[{type:"integer"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-rowspan",
values:[{type:"integer"}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-selected",
values:[{type:"token",tokens:["true","false"]}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-setsize",values:[{type:"integer"}],appliesTo:$traceurRuntime.spread(p)
},{name:"aria-sort",values:[{type:"token",tokens:["ascending","descending","none","other"]
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-valuemax",values:[{type:"number"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-valuemin",values:[{type:"number"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-valuenow",values:[{type:"number"
}],appliesTo:$traceurRuntime.spread(p)},{name:"aria-valuetext",values:[{type:"string"
}],appliesTo:$traceurRuntime.spread(p)},{name:"azimuth",values:[{type:"number"}],
appliesTo:["feDistantLight"]},{name:"baseFrequency",values:[{type:"number-optional-number",
min:0}],appliesTo:["feTurbulence"]},{name:"bias",values:[{type:"number"}],appliesTo:["feConvolveMatrix"]
},{name:"class",values:[{type:"class-attribute"}],appliesTo:$traceurRuntime.spread(b)
},{name:"clipPathUnits",values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]
}],appliesTo:["clipPath"]},{name:"crossorigin",values:[{type:"token",tokens:["anonymous","use-credentials"]
}],appliesTo:["feImage","image","script"]},{name:"cx",values:[{type:"number"},{type:"percentage"
},{type:"length"}],appliesTo:["radialGradient","circle","ellipse"]},{name:"cy",values:[{
type:"number"},{type:"percentage"},{type:"length"}],appliesTo:["radialGradient","circle","ellipse"]
},{name:"d",values:[{type:"path-data"}],appliesTo:["path","textPath"]},{name:"diffuseConstant",
values:[{type:"number",min:0}],appliesTo:["feDiffuseLighting"]},{name:"divisor",values:[{
type:"number"}],appliesTo:["feConvolveMatrix"]},{name:"download",values:[{type:"boolean"
}],appliesTo:["a"]},{name:"dx",values:[{type:"number"}],appliesTo:["feDropShadow","feOffset"]
},{name:"dy",values:[{type:"number"}],appliesTo:["feDropShadow","feOffset"]},{name:"edgeMode",
values:[{type:"token-list",tokens:["duplicate","wrap","none"]}],appliesTo:["feConvolveMatrix","feGaussianBlur"]
},{name:"elevation",values:[{type:"number"}],appliesTo:["feDistantLight"]},{name:"exponent",
values:[{type:"number"}],appliesTo:$traceurRuntime.spread(f)},{name:"filterUnits",
values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]}],appliesTo:["filter"]
},{name:"fr",values:[{type:"length"},{type:"percentage"}],appliesTo:["radialGradient"]
},{name:"fx",values:[{type:"length"},{type:"percentage"}],appliesTo:["radialGradient"]
},{name:"fy",values:[{type:"length"},{type:"percentage"}],appliesTo:["radialGradient"]
},{name:"gradientUnits",values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]
}],appliesTo:["linearGradient","radialGradient"]},{name:"gradientTransform",values:[{
type:"transform-list"}],appliesTo:["linearGradient","radialGradient"]},{name:"height",
values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:$traceurRuntime.spread(v,["filter","mask","pattern","svg","rect","image"])
},{name:"href",values:[{type:"href"}],appliesTo:["a","feImage","image","linearGradient","radialGradient","pattern","script","textPath","use"]
},{name:"hreflang",values:[{type:"language-tag"}],appliesTo:["a"]},{name:"id",values:[{
type:"id-attribute"}],appliesTo:$traceurRuntime.spread(b)},{name:"in",values:[{type:"token",
tokens:["SourceGraphic","SourceAlpha","BackgroundImage","BackgroundAlpha","FillPaint","StrokePaint"]
},{type:"ident"}],appliesTo:["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feGaussianBlur","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile"]
},{name:"in2",values:[{type:"token",tokens:["SourceGraphic","SourceAlpha","BackgroundImage","BackgroundAlpha","FillPaint","StrokePaint"]
},{type:"ident"}],appliesTo:["feBlend","feComposite","feDisplacementMap"]},{name:"intercept",
values:[{type:"number"}],appliesTo:$traceurRuntime.spread(f)},{name:"k1",values:[{
type:"number"}],appliesTo:["feComposite"]},{name:"k2",values:[{type:"number"}],appliesTo:["feComposite"]
},{name:"k3",values:[{type:"number"}],appliesTo:["feComposite"]},{name:"k4",values:[{
type:"number"}],appliesTo:["feComposite"]},{name:"kernelMatrix",values:[{type:"number-list"
}],appliesTo:["feConvolveMatrix"]},{name:"kernelUnitLength",values:[{type:"number-optional-number"
}],appliesTo:["feConvolveMatrix","feDiffuseLighting","feSpecularLighting"]},{name:"lang",
values:[{type:"language-tag"}],appliesTo:$traceurRuntime.spread(b)},{name:"lengthAdjust",
values:[{type:"token",tokens:["spacing","spacingAndGlyphs"]}],appliesTo:["text","textPath","tspan"]
},{name:"limitingConeAngle",values:[{type:"number"}],appliesTo:["feSpotLight"]},{
name:"markerHeight",values:[{type:"length",min:0},{type:"percentage",min:0},{type:"number",
min:0}],appliesTo:["marker"]},{name:"markerUnits",values:[{type:"token",tokens:["strokeWidth","userSpaceOnUse"]
}],appliesTo:["marker"]},{name:"markerWidth",values:[{type:"length",min:0},{type:"percentage",
min:0},{type:"number",min:0}],appliesTo:["marker"]},{name:"maskContentUnits",values:[{
type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]}],appliesTo:["mask"]},{
name:"maskUnits",values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]
}],appliesTo:["mask"]},{name:"media",values:[{type:"media-query-list"}],appliesTo:["style"]
},{name:"method",values:[{type:"token",tokens:["align","stretch"]}],appliesTo:["textPath"]
},{name:"mode",values:[{type:"token",tokens:$traceurRuntime.spread(t)}],appliesTo:["feBlend"]
},{name:"numOctaves",values:[{type:"integer"}],appliesTo:["feTurbulence"]},{name:"offset",
values:[{type:"number"}],appliesTo:$traceurRuntime.spread(f)},{name:"offset",values:[{
type:"number"},{type:"percentage"}],appliesTo:["stop"]},{name:"operator",values:[{
type:"token",tokens:["over","in","out","atop","xor","lighter","arithmetic"]}],appliesTo:["feComposite"]
},{name:"operator",values:[{type:"token",tokens:["erode","dilate"]}],appliesTo:["feMorphology"]
},{name:"order",values:[{type:"number-optional-number"}],appliesTo:["feConvolveMatrix"]
},{name:"orient",values:[{type:"token",tokens:["auto","auto-start-reverse"]},{type:"angle"
},{type:"number"}],appliesTo:["marker"]},{name:"path",values:[{type:"path-data"}],
appliesTo:["textPath"]},{name:"pathLength",values:[{type:"number"}],appliesTo:["circle","ellipse","line","path","polygon","polyline","rect"]
},{name:"patternContentUnits",values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]
}],appliesTo:["pattern"]},{name:"patternTransform",values:[{type:"transform-list"
}],appliesTo:["pattern"]},{name:"patternUnits",values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]
}],appliesTo:["pattern"]},{name:"points",values:[{type:"points"}],appliesTo:["polygon","polyline"]
},{name:"pointsAtX",values:[{type:"number"}],appliesTo:["feSpotLight"]},{name:"pointsAtY",
values:[{type:"number"}],appliesTo:["feSpotLight"]},{name:"pointsAtZ",values:[{type:"number"
}],appliesTo:["feSpotLight"]},{name:"preserveAlpha",values:[{type:"token",tokens:["true","false"]
}],appliesTo:["feConvolveMatrix"]},{name:"preserveAspectRatio",values:[{type:"aspect-ratio"
}],appliesTo:["feImage","image","marker","pattern","svg","symbol","view"]},{name:"primitiveUnits",
values:[{type:"token",tokens:["userSpaceOnUse","objectBoundingBox"]}],appliesTo:["filter"]
},{name:"r",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",
min:0}],appliesTo:["radialGradient","circle"]},{name:"rx",values:[{type:"number",
min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["ellipse","rect"]
},{name:"ry",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",
min:0}],appliesTo:["ellipse","rect"]},{name:"radius",values:[{type:"number-optional-number",
min:0}],appliesTo:["feMorphology"]},{name:"refX",values:[{type:"number",min:0},{type:"percentage",
min:0},{type:"length",min:0},{type:"token",tokens:["center","left","right"]}],appliesTo:["marker","symbol"]
},{name:"refY",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",
min:0},{type:"token",tokens:["center","top","bottom"]}],appliesTo:["marker","symbol"]
},{name:"rel",values:[{type:"token-list",tokens:["alternate","author","bookmark","external","help","license","next","nofollow","noopener","noreferrer","prev","search","tag"]
}],appliesTo:["a"]},{name:"result",values:[{type:"ident"}],appliesTo:$traceurRuntime.spread(v)
},{name:"role",values:[{type:"token-list",tokens:$traceurRuntime.spread(r)}],appliesTo:$traceurRuntime.spread(p)
},{name:"scale",values:[{type:"number"}],appliesTo:["feDisplacementMap"]},{name:"seed",
values:[{type:"number"}],appliesTo:["feTurbulence"]},{name:"side",values:[{type:"token",
tokens:["left","right"]}],appliesTo:["textPath"]},{name:"slope",values:[{type:"number"
}],appliesTo:$traceurRuntime.spread(f)},{name:"spacing",values:[{type:"token",tokens:["auto","exact"]
}],appliesTo:["textPath"]},{name:"specularConstant",values:[{type:"number"}],appliesTo:["feSpecularLighting"]
},{name:"specularExponent",values:[{type:"number"}],appliesTo:["feSpecularLighting","feSpotLight"]
},{name:"spreadMethod",values:[{type:"token",tokens:["pad","reflect","repeat"]}],
appliesTo:["linearGradient","radialGradient"]},{name:"startOffset",values:[{type:"number"
},{type:"percentage"},{type:"length"}],appliesTo:["textPath"]},{name:"stdDeviation",
values:[{type:"number-optional-number"}],appliesTo:["feDropShadow","feGaussianBlur"]
},{name:"stitchTiles",values:[{type:"token",tokens:["stitch","noStitch"]}],appliesTo:["feTurbulence"]
},{name:"style",values:[{type:"style-attribute"}],appliesTo:$traceurRuntime.spread(b)
},{name:"surfaceScale",values:[{type:"number"}],appliesTo:["feDiffuseLighting","feSpecularLighting"]
},{name:"tabindex",values:[{type:"integer"}],appliesTo:$traceurRuntime.spread(b)},{
name:"tableValues",values:[{type:"number-list"}],appliesTo:$traceurRuntime.spread(f)
},{name:"target",values:[{type:"token",tokens:["_self","_parent","_top","_blank"]
}],appliesTo:["a"]},{name:"targetX",values:[{type:"integer"}],appliesTo:["feConvolveMatrix"]
},{name:"targetY",values:[{type:"integer"}],appliesTo:["feConvolveMatrix"]},{name:"textLength",
values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"]
},{name:"transform",values:[{type:"transform-list"}],appliesTo:["circle","ellipse","line","path","polygon","polyline","rect","image","text","tspan","use","a","g","svg"]
},{name:"type",values:[{type:"any"}],appliesTo:["a"]},{name:"type",values:[{type:"token",
tokens:["matrix","saturate","hueRotate","luminanceToAlpha"]}],appliesTo:["feColorMatrix"]
},{name:"type",values:[{type:"token",tokens:["identity","table","discrete","linear","gamma"]
}],appliesTo:$traceurRuntime.spread(f)},{name:"type",values:[{type:"token",tokens:["fractalNoise","turbulence"]
}],appliesTo:["feTurbulence"]},{name:"type",values:[{type:"any"},{type:"token",tokens:["module"]
}],appliesTo:["script"]},{name:"type",values:[{type:"any"}],appliesTo:["style"]},{
name:"values",values:[{type:"number-list"}],appliesTo:["feColorMatrix"]},{name:"viewBox",
values:[{type:"view-box"}],appliesTo:["marker","pattern","svg","symbol","view"]},{
name:"width",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",
min:0}],appliesTo:$traceurRuntime.spread(v,["filter","mask","pattern","svg","rect","image"])
},{name:"x",values:[{type:"number"},{type:"percentage"},{type:"length"}],appliesTo:$traceurRuntime.spread(v,["filter","mask","pattern","text","tspan","svg","rect","image"])
},{name:"x",values:[{type:"number"}],appliesTo:["fePointLight","feSpotLight"]},{name:"x1",
values:[{type:"number"},{type:"percentage"},{type:"length"}],appliesTo:["line","linearGradient"]
},{name:"x2",values:[{type:"number"},{type:"percentage"},{type:"length"}],appliesTo:["line","linearGradient"]
},{name:"xChannelSelector",values:[{type:"token",tokens:["R","G","B","A"]}],appliesTo:["feDisplacementMap"]
},{name:"y",values:[{type:"number"},{type:"percentage"},{type:"length"}],appliesTo:$traceurRuntime.spread(v,["filter","mask","pattern","text","tspan","svg","rect","image"])
},{name:"y",values:[{type:"number"}],appliesTo:["fePointLight","feSpotLight"]},{name:"y1",
values:[{type:"number"},{type:"percentage"},{type:"length"}],appliesTo:["line","linearGradient"]
},{name:"y2",values:[{type:"number"},{type:"percentage"},{type:"length"}],appliesTo:["line","linearGradient"]
},{name:"yChannelSelector",values:[{type:"token",tokens:["R","G","B","A"]}],appliesTo:["feDisplacementMap"]
},{name:"z",values:[{type:"number"}],appliesTo:["fePointLight","feSpotLight"]}],C=[{
name:"alignment-baseline",presentationAttributeName:"alignment-baseline",values:[{
type:"token",tokens:["baseline","text-bottom","alphabetic","ideographic","middle","central","mathematical","text-top","bottom","center","top","inherit","initial","unset"]
}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{
name:"baseline-shift",presentationAttributeName:"baseline-shift",values:[{type:"number"
},{type:"percentage"},{type:"length"},{type:"token",tokens:["sub","super","inherit","initial","unset"]
}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{
name:"clip-path",presentationAttributeName:"clip-path",values:[{type:"url"},{type:"token",
tokens:["fill-box","stroke-box","view-box","none","inherit","initial","unset"]}],
appliesTo:$traceurRuntime.spread(l,["svg","g","a","use"]),animatable:!1,inheritable:!1
},{name:"clip-rule",presentationAttributeName:"clip-rule",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["use"]),animatable:!1,inheritable:!0},{name:"color",
presentationAttributeName:"color",values:[{type:"color"},{type:"token",tokens:["inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use"]),animatable:!0,inheritable:!0
},{name:"color-interpolation",presentationAttributeName:"color-interpolation",values:[{
type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use","linearGradient","radialGradient"]),
animatable:!0,inheritable:!0},{name:"color-interpolation-filters",presentationAttributeName:"color-interpolation-filters",
values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(v),animatable:!1,inheritable:!0},{name:"color-rendering",
presentationAttributeName:"color-rendering",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use","linearGradient","radialGradient"]),
animatable:!0,inheritable:!0},{name:"cursor",presentationAttributeName:"cursor",values:[{
type:"url"},{type:"token",tokens:$traceurRuntime.spread(n,["inherit","initial","unset"])
}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use"]),animatable:!1,inheritable:!0
},{name:"direction",values:[{type:"token",tokens:["ltr","rtl","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],presentationAttributeName:"direction",animatable:!1,
inheritable:!0},{name:"display",presentationAttributeName:"display",values:[{type:"token",
tokens:["none","inline","block","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(l,["textPath","tspan","svg","g","a","use"]),
animatable:!1,inheritable:!1},{name:"dominant-baseline",presentationAttributeName:"dominant-baseline",
values:[{type:"token",tokens:["auto","use-script","no-change","reset-size","ideographic","alphabetic","hanging","mathematical","central","middle","text-after-edge","text-before-edge","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"fill",
presentationAttributeName:"fill",values:[{type:"color"},{type:"url"},{type:"token",
tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(c),
animatable:!0,inheritable:!0},{name:"fill-opacity",presentationAttributeName:"fill-opacity",
values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"fill-rule",
presentationAttributeName:"fill-rule",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"filter",
presentationAttributeName:"filter",values:[{type:"filter-function-list"},{type:"token",
tokens:["none","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(l,["textPath","tspan","g","a","svg","use"]),
animatable:!0,inheritable:!1},{name:"flood-color",presentationAttributeName:"flood-color",
values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]
}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"flood-opacity",presentationAttributeName:"flood-opacity",
values:[{type:"number",min:0},{type:"percentage",min:0},{type:"token",tokens:["inherit","initial","unset"]
}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"font",presentationAttributeName:"font",
values:[{type:"font"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],
animatable:!0,inheritable:!0},{name:"font-family",presentationAttributeName:"font-family",
values:[{type:"font-family"},{type:"token",tokens:["inherit","initial","unset"]}],
appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-size",
presentationAttributeName:"font-size",values:[{type:"token",tokens:["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller","inherit","initial","unset"]
},{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"],
animatable:!0,inheritable:!0},{name:"font-stretch",presentationAttributeName:"font-stretch",
values:[{type:"token",tokens:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-style",
presentationAttributeName:"font-style",values:[{type:"token",tokens:["normal","italic","oblique","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-variant",
presentationAttributeName:"font-variant",values:[{type:"token",tokens:["normal","small-caps","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-weight",
presentationAttributeName:"font-weight",values:[{type:"token",tokens:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"image-rendering",
presentationAttributeName:"image-rendering",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]
}],appliesTo:["image"],animatable:!0,inheritable:!0},{name:"isolation",presentationAttributeName:null,
values:[{type:"token",tokens:["isolate","auto","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use","symbol","marker","textPath","tspan"]),
animatable:!1,inheritable:!1},{name:"letter-spacing",presentationAttributeName:"letter-spacing",
values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"lighting-color",
presentationAttributeName:"lighting-color",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]
}],appliesTo:["feDiffuseLighting","feSpecularLighting"],animatable:!0,inheritable:!1
},{name:"line-height",presentationAttributeName:"line-height",values:[{type:"number",
min:0},{type:"percentage",min:0},{type:"length",min:0},{type:"token",tokens:["normal","inherit","initial","unset"]
}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!0},{
name:"marker",presentationAttributeName:"marker",values:[{type:"url"},{type:"token",
tokens:["none","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(s),
animatable:!0,inheritable:!0},{name:"marker-start",presentationAttributeName:"marker-start",
values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],
appliesTo:$traceurRuntime.spread(s),animatable:!0,inheritable:!0},{name:"marker-mid",
presentationAttributeName:"marker-mid",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(s),animatable:!0,inheritable:!0},{name:"marker-end",
presentationAttributeName:"marker-end",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(s),animatable:!0,inheritable:!0},{name:"mask",
presentationAttributeName:"mask",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["g","a","svg","use"]),animatable:!0,inheritable:!1
},{name:"mix-blend-mode",presentationAttributeName:null,values:[{type:"token",tokens:$traceurRuntime.spread(t,["inherit","initial","unset"])
}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use","symbol","marker","textPath","tspan"]),
animatable:!1,inheritable:!1},{name:"opacity",presentationAttributeName:"opacity",
values:[{type:"number"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use","symbol","marker","textPath","tspan"]),
animatable:!0,inheritable:!1},{name:"overflow",presentationAttributeName:"overflow",
values:[{type:"token",tokens:["visible","hidden","scroll","auto","inherit","initial","unset"]
}],appliesTo:["svg","symbol","pattern","marker","image"],inheritable:!1,animatable:!0
},{name:"paint-order",presentationAttributeName:null,values:[{type:"token",tokens:["normal"]
},{type:"token-list",tokens:["fill","stroke","markers"]}],appliesTo:$traceurRuntime.spread(c),
inheritable:!0,animatable:!0},{name:"pointer-events",presentationAttributeName:"pointer-events",
values:[{type:"token",tokens:["bounding-box","visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["svg","g","a","use"]),inheritable:!0,animatable:!0
},{name:"shape-rendering",presentationAttributeName:"shape-rendering",values:[{type:"token",
tokens:["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(s),animatable:!0,inheritable:!0},{name:"stop-color",
presentationAttributeName:"stop-color",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]
}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stop-opacity",presentationAttributeName:"stop-opacity",
values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]
}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stroke",presentationAttributeName:"stroke",
values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"stroke-dasharray",
presentationAttributeName:"stroke-dasharray",values:[{type:"dasharray"},{type:"token",
tokens:["none","inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(c),
animatable:!0,inheritable:!0},{name:"stroke-dashoffset",presentationAttributeName:"stroke-dasharray",
values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"stroke-linecap",
presentationAttributeName:"stroke-linecap",values:[{type:"token",tokens:["butt","round","square","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"stroke-linejoin",
presentationAttributeName:"stroke-linejoin",values:[{type:"token",tokens:["miter","round","bevel","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"stroke-miterlimit",
presentationAttributeName:"stroke-miterlimit",values:[{type:"number",min:1},{type:"token",
tokens:["inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(c),animatable:!0,
inheritable:!0},{name:"stroke-opacity",presentationAttributeName:"stroke-opacity",
values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(c),animatable:!0,inheritable:!0},{name:"stroke-width",
presentationAttributeName:"stroke-width",values:[{type:"number"},{type:"percentage"
},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:$traceurRuntime.spread(c),
animatable:!0,inheritable:!0},{name:"text-anchor",presentationAttributeName:"text-anchor",
values:[{type:"token",tokens:["start","middle","end","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"text-decoration",
presentationAttributeName:"text-decoration",values:[{type:"token-list",tokens:["underline","overline","line-through"]
},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],
animatable:!0,inheritable:!1},{name:"text-rendering",presentationAttributeName:"text-rendering",
values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit","initial","unset"]
}],appliesTo:["text"],animatable:!0,inheritable:!0},{name:"text-transform",presentationAttributeName:null,
values:[{type:"token",tokens:["capitalize","uppercase","lowercase","none","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!0},{name:"unicode-bidi",
presentationAttributeName:"unicode-bidi",values:[{type:"token",tokens:["normal","embed","bidi-override","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!1},{name:"vector-effect",
presentationAttributeName:"vector-effect",values:[{type:"token",tokens:["non-scaling-stroke","none","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["use"]),animatable:!0,inheritable:!1},{name:"visibility",
presentationAttributeName:"visibility",values:[{type:"token",tokens:["visible","hidden","inherit","initial","unset"]
}],appliesTo:$traceurRuntime.spread(l,["use","text","textPath","tspan"]),animatable:!0,
inheritable:!0},{name:"word-spacing",presentationAttributeName:"word-spacing",values:[{
type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"white-space",
presentationAttributeName:"white-space",values:[{type:"token",tokens:["normal","pre","nowrap","pre-wrap","pre-line","inherit","initial","unset"]
}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"writing-mode",
presentationAttributeName:"writing-mode",values:[{type:"token",tokens:["horizontal-tb","vertical-lr","vertical-rl","inherit","initial","unset"]
}],appliesTo:["text","tspan","textPath"],animatable:!1,inheritable:!0}];return{get namespaces(){
return e},get lengthUnits(){return i},get angleUnits(){return a},get alignValues(){
return o},get shapeElementNames(){return s},get graphicsElementNames(){return l},
get paintServerElementNames(){return u},get paintableElementNames(){return c},get filterPrimitiveElementNames(){
return v},get svgElementNames(){return b},get eventAttributeNames(){return g},get textSpecificPropertyNames(){
return y},get urlValueAcceptingPropertyNames(){return x},get namedColors(){return _;
},get fontWeightsByMatchingOrder(){return w},get contentSchemas(){return S},get attributeSchemas(){
return k},get propertySchemas(){return C}}}),$traceurRuntime.registerModule("utils/vector",[],function(){
"use strict";var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../classes/vector","utils/vector"))["default"],t=function(e,t){
return e.x*t.x+e.y*t.y},n=function(t,n){return new e(t.x-n.x,t.y-n.y)},r=function(t,n){
return new e(t.x+n.x,t.y+n.y)},i=function(e,t){return e.x===t.x&&e.y===t.y};return{
get vectorsDotProduct(){return t},get subtractVectors(){return n},get sumVectors(){
return r},get compareVectors(){return i}}});