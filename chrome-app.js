var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}

"use strict";function _templateObject601(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;box-sizing:border-box;display:flex;flex-flow:column}#header{border-bottom-width:1px;border-bottom-style:solid;-webkit-app-region:drag}#menubar{border:none;width:auto}#menubar[data-expaneded]{z-index:9999}#menubar[data-expaneded] *{z-index:99999}#menubar x-menuitem{-webkit-app-region:no-drag!important}#menubar x-shortcut[hidden]{display:none}#titlebar-buttons{margin-left:auto;-webkit-app-region:no-drag!important}#tabs{width:auto;height:30px;padding-top:5px;outline:0}#tabs[disabled]{opacity:.5;pointer-events:none}#tabs x-doctab:focus{box-shadow:none}#main{flex:1;width:100%;position:relative}#main>*{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}#main>:not(:defined),#main>[hidden]{contain:strict;visibility:visible;opacity:0;z-index:-100;touch-action:none}#sign-in-dialog::backdrop{pointer-events:none}#trial-dialog::backdrop{pointer-events:none}"]);_templateObject601=function _templateObject601(){return data;};return data;}function _templateObject600(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-box><x-menubar id=\"menubar\"></x-menubar><x-buttons id=\"titlebar-buttons\" tracking=\"-1\"><x-button id=\"minimize-button\" skin=\"titlebar\"><x-icon name=\"minimize-window\"></x-icon></x-button><x-button id=\"maximize-button\" skin=\"titlebar\"><x-icon name=\"maximize-window\"></x-icon></x-button><x-button id=\"close-button\" skin=\"titlebar\"><x-icon name=\"close-window\"></x-icon></x-button></x-buttons></x-box><x-doctabs id=\"tabs\"></x-doctabs></header><div id=\"main\"></div><div id=\"dialogs\"><dialog id=\"install-dialog\"><bx-chromeinstallform></bx-chromeinstallform></dialog><dialog id=\"sign-in-dialog\"><bx-chromesigninform></bx-chromesigninform></dialog><dialog id=\"trial-dialog\"><bx-chrometrialform></bx-chrometrialform></dialog></div><x-notification id=\"notification\" timeout=\"800\"></x-notification><x-contextmenu id=\"context-menu\" disabled=\"disabled\"></x-contextmenu></template>"]);_templateObject600=function _templateObject600(){return data;};return data;}function _templateObject599(){var data=_taggedTemplateLiteral([":host{width:480px}"]);_templateObject599=function _templateObject599(){return data;};return data;}function _templateObject598(){var data=_taggedTemplateLiteral(["<template><h2 id=\"message\"></h2><div id=\"detail\"></div></template>"]);_templateObject598=function _templateObject598(){return data;};return data;}function _templateObject597(){var data=_taggedTemplateLiteral([":host{width:370px}"]);_templateObject597=function _templateObject597(){return data;};return data;}function _templateObject596(){var data=_taggedTemplateLiteral(["<template><x-button id=\"close-button\" toggled><x-label>Close</x-label></x-button></template>"]);_templateObject596=function _templateObject596(){return data;};return data;}function _templateObject595(){var data=_taggedTemplateLiteral(["<template><h2>Trial period ended</h2><p>To purchase the app please visit <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject595=function _templateObject595(){return data;};return data;}function _templateObject594(){var data=_taggedTemplateLiteral([":host{width:400px}#progressbar{margin:14px 0 10px 0}"]);_templateObject594=function _templateObject594(){return data;};return data;}function _templateObject593(){var data=_taggedTemplateLiteral(["<template><h3>Validating license</h3><x-progressbar id=\"progressbar\"></x-progressbar><p>Please sign in to Chrome to continue.</p></template>"]);_templateObject593=function _templateObject593(){return data;};return data;}function _templateObject592(){var data=_taggedTemplateLiteral([":host{width:440px}#ok-button{width:100%;height:39px}#ok-button:hover{filter:brightness(.9)}"]);_templateObject592=function _templateObject592(){return data;};return data;}function _templateObject591(){var data=_taggedTemplateLiteral(["<template><x-button id=\"ok-button\" toggled><x-label>OK</x-label></x-button></template>"]);_templateObject591=function _templateObject591(){return data;};return data;}function _templateObject590(){var data=_taggedTemplateLiteral(["<template><h2>Warning</h2><p>Chrome Web Store version of Boxy SVG is optimized for <strong>Chrome OS</strong> and it will stop working on other operating systems soon.</p><p>To continue using the app on <strong>Windows</strong>, <strong>macOS</strong> or <strong>Linux</strong>, please follow the download links provided on <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject590=function _templateObject590(){return data;};return data;}function _templateObject589(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:relative;width:100%}:host(:focus){outline:0}:host([hidden]){display:none}#form-view{display:flex;flex-flow:column;width:100%;height:100%}:host([throbber]) #form-view{display:block;visibility:hidden}#header{border-bottom:1px solid transparent}#header:empty{display:none}#main{flex:1;box-sizing:border-box;width:100%;padding:20px;position:relative;overflow:auto}h2{margin:0 0 12px 0}h3:first-child{margin-top:0}p{font-size:13px}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:10px 20px;border-top:1px solid transparent}#footer:empty{display:none}#footer x-button+x-button{margin-left:8px}#footer x-button:first-child{margin-left:auto}#throbber-view{display:none;flex-flow:column;position:absolute;top:0;left:0;width:100%;height:100%;padding:0 20px;align-items:center;justify-content:center;box-sizing:border-box}:host([throbber]) #throbber-view{display:flex}"]);_templateObject589=function _templateObject589(){return data;};return data;}function _templateObject588(){var data=_taggedTemplateLiteral(["<template><div id=\"form-view\"><header id=\"header\" part=\"header\"></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></div><div id=\"throbber-view\"><x-throbber id=\"throbber\"></x-throbber></div></template>"]);_templateObject588=function _templateObject588(){return data;};return data;}function _templateObject587(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;contain:strict}:host(:focus){outline:0}*{margin:0;padding:0;box-sizing:border-box}#container{width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;position:relative;position:relative;overflow:hidden;text-align:center;font-size:10px;user-select:none}#container a{color:var(--text-color);text-decoration:none}#container a:hover{cursor:pointer;text-decoration:underline}#logo{margin:14px 0 2px}#app-name{font-size:16px;font-weight:700;margin-bottom:2px;cursor:text;width:100%;user-select:text}#version{font-size:12px;margin:0 0 12px 0;cursor:text;width:100%;user-select:text}#main{width:300px;height:135px;overflow:auto;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;font-size:12px;padding-left:7px;padding-bottom:8px;flex:1;cursor:text;user-select:text}:host-context(bx-chromeapp) #main{border-left-width:1px;border-left-style:solid;border-right-width:1px;border-right-style:solid}#main h3{font-weight:700;margin:20px 0 6px 0;font-size:12px;text-transform:uppercase;opacity:.8}#main h3:first-child{margin-top:15px}#main li,#main ul{margin:0;padding:0}#main dt,#main dt a{font-weight:600}#main dd{margin-bottom:9px}#main #frameworks li:not(:last-child),#main #libraries li:not(:last-child){margin-bottom:3px}#copyright{width:100%;margin:10px 0 11px 0;font-size:11px;cursor:text;user-select:text}"]);_templateObject587=function _templateObject587(){return data;};return data;}function _templateObject586(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header part=\"header\"><img id=\"logo\" src=\"/images/logos/logo-full.svg\" width=\"80px\" height=\"80px\"><h1 id=\"app-name\">Boxy SVG</h1><h2 id=\"version\">Version 0.0.0</h2></header><main id=\"main\" part=\"main\"></main><footer part=\"footer\"><h2 id=\"copyright\">\xA9 2012-"," <a href=\"http://foksa.name/\">Jaros\u0142aw Foksa</a></h2></footer></div></template>"]);_templateObject586=function _templateObject586(){return data;};return data;}function _templateObject585(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#container{width:100%;height:100%}#titlebar{position:absolute;top:0;left:0;width:100%;height:28px;display:none}:host-context(bx-macapp) #titlebar{display:block;-webkit-app-region:drag}#sidebar{display:flex;flex-flow:column;height:100%;border-right:1px solid transparent;padding-top:10px;box-sizing:border-box}:host-context(bx-macapp) #sidebar{padding-top:28px}#sidebar-separator-2{margin:auto 0 0 0}#sidebar-buttons x-button x-icon{margin:0}#sidebar-buttons x-button x-label{margin-left:12px}@media all and (max-width:770px){#sidebar-buttons x-button x-label{display:none}}#sidebar #logout-button{margin:10px;width:calc(100% - 20px)}@media all and (max-width:770px){#sidebar #logout-button x-icon{margin:0}#sidebar #logout-button x-label{display:none}}#main{width:100%;height:100%;padding:30px 30px;box-sizing:border-box;overflow:auto}"]);_templateObject585=function _templateObject585(){return data;};return data;}function _templateObject584(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\"><sidebar id=\"sidebar\" part=\"sidebar\"><x-buttons id=\"sidebar-buttons\" tracking=\"1\" vertical><x-button skin=\"nav\" value=\"general\" toggled><x-icon name=\"prefs-general\"></x-icon><x-label>General</x-label></x-button><x-button skin=\"nav\" value=\"ui\"><x-icon name=\"prefs-ui\"></x-icon><x-label>UI</x-label></x-button><x-button skin=\"nav\" value=\"markup\"><x-icon name=\"prefs-markup\"></x-icon><x-label>Markup</x-label></x-button><x-button skin=\"nav\" value=\"garbage-collector\"><x-icon name=\"prefs-garbage-collector\"></x-icon><x-label>Garbage Collector</x-label></x-button><x-button skin=\"nav\" value=\"keyboard\"><x-icon name=\"prefs-keyboard\"></x-icon><x-label>Keyboard</x-label></x-button><hr id=\"sidebar-separator-1\"><x-button skin=\"nav\" value=\"profile\" id=\"profile-button\"><x-icon name=\"prefs-profile\"></x-icon><x-label>Public profile</x-label></x-button><x-button skin=\"nav\" value=\"auth\" id=\"auth-button\"><x-icon name=\"prefs-auth\"></x-icon><x-label>Authentication</x-label></x-button><x-button skin=\"nav\" value=\"subscription\" id=\"subscription-button\"><x-icon name=\"prefs-subscription\"></x-icon><x-label>Subscription</x-label></x-button><x-button skin=\"nav\" value=\"delete-account\" id=\"delete-account-button\"><x-icon name=\"prefs-delete-account\"></x-icon><x-label>Delete account</x-label></x-button></x-buttons><hr id=\"sidebar-separator-2\"><x-button id=\"logout-button\" title=\"Log out\" condensed><x-icon name=\"logout\"></x-icon><x-label>Log out</x-label></x-button></sidebar><main id=\"main\"><bx-generalsettings id=\"general-settings\" data-name=\"general\"></bx-generalsettings><bx-uisettings id=\"ui-settings\" data-name=\"ui\"></bx-uisettings><bx-markupsettings id=\"markup-settings\" data-name=\"markup\"></bx-markupsettings><bx-garbagecollectorsettings id=\"garbage-collector-settings\" data-name=\"garbage-collector\"></bx-garbagecollectorsettings><bx-keyboardsettings id=\"keyboard-settings\" data-name=\"keyboard\"></bx-keyboardsettings><bx-profilesettings id=\"profile-settings\" data-name=\"profile\"></bx-profilesettings><bx-authsettings id=\"auth-settings\" data-name=\"auth\"></bx-authsettings><bx-subscriptionsettings id=\"subscription-settings\" data-name=\"subscription\"></bx-subscriptionsettings><bx-deleteaccountsettings id=\"delete-account-settings\" data-name=\"delete-account\"></bx-deleteaccountsettings></main></x-box><div id=\"titlebar\"></div></template>"]);_templateObject584=function _templateObject584(){return data;};return data;}function _templateObject583(){var data=_taggedTemplateLiteral(["#default-view{width:100%;height:100%}#password-input{flex:1;max-width:none;margin-right:8px}#progress-view{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:30px}#progress-view[hidden]{display:none}#progress-label{margin-top:14px}"]);_templateObject583=function _templateObject583(){return data;};return data;}function _templateObject582(){var data=_taggedTemplateLiteral(["<template><h2>Delete account</h2><div id=\"default-view\"><section id=\"delete-account-section\"><h3>Warning</h3><p>Once you delete your account, <strong>there is no going back</strong>. All your files will be removed from boxy-svg.com servers. Your paid subscription will be canceled if you have one.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">Enter your password</x-label></x-input><x-button id=\"delete-account-button\" disabled=\"disabled\"><x-label>Delete account</x-label></x-button></x-box></section></div><div id=\"progress-view\" hidden><x-progressbar id=\"progress-bar\"></x-progressbar><x-label id=\"progress-label\">Connecting to server...</x-label></div></template>"]);_templateObject582=function _templateObject582(){return data;};return data;}function _templateObject581(){var data=_taggedTemplateLiteral(["#info-section>p{line-height:1.4;margin:3px}#plan-section{margin:18px 0 26px 0}#plan-select-block{margin-top:10px}#subscription-buttons{margin-top:10px}#subscription-buttons>x-button{flex:1;min-width:fit-content;margin-left:10px}#subscription-buttons>x-button:first-child{margin-left:0}#progress-bar{margin-top:30px}"]);_templateObject581=function _templateObject581(){return data;};return data;}function _templateObject580(){var data=_taggedTemplateLiteral(["<template><h2>Subscription</h2><main id=\"main\"><section id=\"info-section\"><p><strong>Current plan:</strong> <span id=\"subscription-plan-span\">Fetching\u2026</span></p><p><strong>Status:</strong> <span id=\"subscription-status-span\">Fetching\u2026</span></p></section><section id=\"plan-section\"><bx-planselectblock id=\"plan-select-block\"></bx-planselectblock></section><section id=\"buttons-section\"><x-box id=\"subscription-buttons\"><x-button id=\"billing-button\" condensed disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label>Update billing\u2026</x-label></x-button><x-button id=\"cancel-button\" condensed disabled=\"disabled\"><x-icon name=\"cancel\"></x-icon><x-label>Cancel subscription\u2026</x-label></x-button><x-button id=\"subscribe-button\" condensed toggled disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label id=\"subscribe-button-label\">Subscribe</x-label></x-button></x-box></section></main><x-progressbar id=\"progress-bar\" hidden></x-progressbar></template>"]);_templateObject580=function _templateObject580(){return data;};return data;}function _templateObject579(){var data=_taggedTemplateLiteral([":host{display:block}:host([disabled]){opacity:.5;pointer-events:none;user-select:none}table{width:100%;border-collapse:collapse;font-size:13px;overflow:visible}table tr{height:35px;border-radius:inherit}table[data-size=large] tr{height:38px}table td{padding:0 10px;box-sizing:border-box}table p:first-child{margin-top:0}table p:last-child{margin-bottom:0}thead{border-radius:inherit}thead td:nth-child(2){padding:0}thead td:nth-child(3){padding:0;border-top-right-radius:inherit}thead td x-radio{margin:0 auto}thead td x-radio x-label{font-weight:700;font-size:15px}tbody x-icon[part=no-icon],tbody x-icon[part=yes-icon]{margin:0 auto}tbody #cloud-button{width:100%;height:100%}tbody #cloud-button[disabled]{opacity:1}tbody #cloud-button::part(arrow){display:none}tbody #cloud-button x-icon{width:17px;height:17px}tbody #cloud-button[computedsize=large] x-icon{width:21px;height:21px}tbody #cloud-button x-popover{width:300px;user-select:none}tbody #cloud-button x-popover p{margin:0}tfoot td:nth-child(2){padding:0}tfoot .help-button{margin-left:auto}tfoot .help-button::part(arrow){display:none}tfoot x-popover p:not(:first-child){margin-top:8px}tfoot x-popover ul{margin:8px 0 0 5px;padding:0;list-style:none}tfoot x-popover li{position:relative;margin:0;padding-left:13px}tfoot x-popover li:before{position:absolute;left:0;content:\"\u2022\";font-weight:700}#quantity-td{position:relative}#quantity-help-button x-popover{width:345px}#quantity-input{position:absolute;top:0;left:0;width:100%;height:100%;max-width:none;padding-left:4px;background:0 0;border:none}#quantity-input[disabled]{background:0 0;opacity:1}#quantity-input[disabled] x-stepper{visibility:hidden}#discount-td{padding:0 10px}#discount-help-button x-popover{width:280px}#billing-td{position:relative}#billing-select{position:absolute;top:0;left:0;width:100%;height:100%;background:0 0;border:none;text-align:start}#billing-select[disabled]{opacity:1}#billing-select[disabled]::before{display:none}#billing-select[disabled]::part(arrow){display:none}#price-td{font-weight:700;padding:0 10px}#price-help-button x-popover{width:305px}"]);_templateObject579=function _templateObject579(){return data;};return data;}function _templateObject578(){var data=_taggedTemplateLiteral(["<template><table id=\"table\"><thead id=\"table-head\"><tr><td>Plan</td><td><x-radios><x-radio id=\"standard-plan-radio\" size=\"small\"><x-label>Standard</x-label></x-radio></x-radios></td><td><x-radios><x-radio id=\"premium-plan-radio\" size=\"small\"><x-label>Premium</x-label></x-radio></x-radios></td></tr></thead><tbody id=\"table-body\"><tr><td>Use online as a web app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Install and use offline as a desktop app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save SVG files to your disk</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save and host SVG files in the cloud</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-button skin=\"flat\" id=\"cloud-button\"><x-icon part=\"yes-icon\" name=\"feature-supported-asterisk\"></x-icon><x-popover modal><main><p>You can keep up to 10 GB of data in the cloud for free. Unlimited storage space can be purchased separately.</p></main></x-popover></x-button></td></tr><tr><td>Export SVG files to PDF</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Sync app preferences between devices</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr></tbody><tfoot id=\"table-foot\"><tr><td><x-box><span>Users</span><x-button id=\"quantity-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Number of users belonging to your organization that should be able to use the app simultaneously.</p><p>You can freely assign and unassign licenses to users at any time by entering their email addresses in <a id=\"auth-anchor\" href=\"?dialog=preferences\u2192auth\">\"Preferences \u2192 Authentication\"</a>.</p></main></x-popover></x-button></x-box></td><td id=\"quantity-td\" colspan=\"2\"><x-numberinput id=\"quantity-input\" value=\"1\" min=\"1\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></td></tr><tr><td><x-box><span>Volume discount</span><x-button id=\"discount-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>A discount is granted when you purchase a subscription for many users:</p><ul><li>10% discount - for 10 or more users</li><li>20% discount - for 30 or more users</li><li>30% discount - for 100 or more users</li></ul></main></x-popover></x-button></x-box></td><td id=\"discount-td\" colspan=\"2\"><span id=\"discount-span\">None</span></td></tr><tr><td>Billing</td><td id=\"billing-td\" colspan=\"2\"><x-select id=\"billing-select\" disabled=\"disabled\"><x-menu><x-menuitem value=\"monthly\"><x-label>Monthly</x-label></x-menuitem><x-menuitem value=\"yearly\" toggled><x-label>Yearly</x-label></x-menuitem></x-menu></x-select></td></tr><tr><td><x-box><span>Price</span><x-button id=\"price-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Depending on your current tax residence, an additional VAT or sales tax might be applied.</p><p>When changing an existing subscription plan, the total amount due will be prorated.</p></main></x-popover></x-button></x-box></td><td id=\"price-td\" colspan=\"2\"><span id=\"price-span\">9.99</span> USD</td></tr></tfoot></table></template>"]);_templateObject578=function _templateObject578(){return data;};return data;}function _templateObject577(){var data=_taggedTemplateLiteral(["#email-section>x-box{margin-top:4px}#email-input{flex:1;max-width:none}#email-change-button,#email-verify-button{margin-left:6px}#email-throbber{width:24px;height:24px;margin-left:6px}#password-section>x-box{margin-top:4px}#password-input{flex:1;max-width:none;margin-right:6px}#password-change-button{width:143px}#password-throbber{width:24px;height:24px;margin-left:6px}#users-change-box{margin-top:8px;width:100%}#users-change-button{flex:1}#users-change-throbber{margin-left:8px}"]);_templateObject577=function _templateObject577(){return data;};return data;}function _templateObject576(){var data=_taggedTemplateLiteral(["<template><h2>Authentication</h2><section id=\"email-section\"><h3>E-mail</h3><p>E-mail address used for password recovery and communication with Boxy SVG team.</p><x-box><x-input id=\"email-input\" type=\"email\"></x-input><x-button id=\"email-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-button id=\"email-verify-button\"><x-label>Verify</x-label></x-button><x-throbber id=\"email-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"password-section\"><h3>Password</h3><p>The password used to sign into Boxy SVG.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022</x-label></x-input><x-button id=\"password-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"password-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"users-section\" hidden><h3>Users</h3><p>Enter email addresses of the users belonging to your organization. To increase the allowed number of users please adjust your <a id=\"subscription-anchor\" href=\"?dialog=preferences\u2192subscription\">subscription plan</a>.</p><bx-userseditor id=\"users-editor\"></bx-userseditor><x-box id=\"users-change-box\"><x-button id=\"users-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"users-change-throbber\" hidden></x-throbber></x-box></section></template>"]);_templateObject576=function _templateObject576(){return data;};return data;}function _templateObject575(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;max-height:182px;overflow:hidden;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#main{width:100%;overflow-y:auto}#table{width:100%;display:block;table-layout:auto;overflow:auto;border-collapse:collapse;user-select:none;border:none;box-shadow:none}#table tr{height:30px;box-sizing:border-box}#table[data-size=small] tr{height:24px}#table[data-size=large] tr{height:34px}#table td{border-width:1px;border-style:solid}#table td:first-child{border-left:none}#table td:last-child{border-right:none}#table tr:first-child td{border-top:none}#table tr:last-child td{border-bottom:none}#table td.index-cell{width:auto;padding:0 6px;box-sizing:border-box;text-align:end;font-size:12px}#table td.value-cell{width:100%;padding:0 6px}#table td.value-cell .label{width:100%;padding:0 2px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:12px}#table tr[data-disabled] td.value-cell .label{opacity:.6}#table td.value-cell .input{width:100%;max-width:none;height:100%;border:none;font-size:12px;padding:2px 0;color:var(--text-color)}#table td.value-cell .input::part(input){padding:0 2px}#table td.value-cell .input:focus{outline:0}"]);_templateObject575=function _templateObject575(){return data;};return data;}function _templateObject574(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><table id=\"table\"><tbody id=\"tbody\"></tbody></table></main></template>"]);_templateObject574=function _templateObject574(){return data;};return data;}function _templateObject573(){var data=_taggedTemplateLiteral(["#avatar{width:120px;height:120px}#avatar-edit-button{width:120px;margin-top:8px}#name-section{position:relative}#name-section>x-box{margin-top:4px}#name-input{flex:1;max-width:none;margin-right:6px;position:relative}#name-throbber{position:absolute;top:2px;right:0}#website-section{position:relative}#website-section>x-box{margin-top:4px}#website-input{flex:1;max-width:none;margin-right:6px;position:relative}#website-throbber{position:absolute;top:2px;right:0}#bio-section{position:relative}#bio-section>x-box{margin-top:4px}#bio-editor{flex:1;max-width:none;height:46px;min-height:0}#bio-change-button{height:46px;margin-left:6px}#bio-throbber{position:absolute;top:2px;right:0}"]);_templateObject573=function _templateObject573(){return data;};return data;}function _templateObject572(){var data=_taggedTemplateLiteral(["<template><h2>Public profile</h2><section id=\"avatar-section\"><h3>Avatar</h3><p>Image to be shown next to your posts.</p><bx-avatar id=\"avatar\" part=\"avatar\" transparent></bx-avatar><x-button id=\"avatar-edit-button\" toggled><x-label>Edit</x-label></x-button></section><hr><section id=\"name-section\"><h3 id=\"name-heading\">Name</h3><p>Your real name or a nick name.</p><x-throbber id=\"name-throbber\" hidden></x-throbber><x-box><x-input id=\"name-input\"></x-input><x-button id=\"name-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"website-section\"><h3 id=\"website-heading\">Website</h3><p>URL to your personal or company website.</p><x-throbber id=\"website-throbber\" hidden></x-throbber><x-box><x-input id=\"website-input\" type=\"url\"></x-input><x-button id=\"website-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"bio-section\"><h3 id=\"bio-heading\">Bio</h3><p>Write one or two sentences about yourself.</p><x-throbber id=\"bio-throbber\" hidden></x-throbber><x-box><x-texteditor id=\"bio-editor\" maxlength=\"300\"></x-texteditor><x-button id=\"bio-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section></template>"]);_templateObject572=function _templateObject572(){return data;};return data;}function _templateObject571(){var data=_taggedTemplateLiteral([":host{display:block;width:28px;height:28px;box-sizing:border-box;border-width:1px;border-style:solid;user-select:none}:host([transparent]){background:var(--checkboard-background)}:host([hidden]){display:none}#img{width:100%;height:100%;-webkit-user-drag:none}"]);_templateObject571=function _templateObject571(){return data;};return data;}function _templateObject570(){var data=_taggedTemplateLiteral(["<template><img id=\"img\" hidden></template>"]);_templateObject570=function _templateObject570(){return data;};return data;}function _templateObject569(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;outline:0}#main{display:flex;flex-flow:column;height:100%}#tabs{width:100%}#tabs>x-tab{flex:1}#views{display:flex;flex-flow:column;flex:1;height:100%;min-height:0;margin-top:16px}#views .view{width:100%;height:100%}"]);_templateObject569=function _templateObject569(){return data;};return data;}function _templateObject568(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><h2>Keyboard</h2><x-tabs id=\"tabs\" centered><x-tab value=\"shortcuts\" selected=\"selected\"><x-label>Shortcuts</x-label></x-tab><x-tab value=\"modifiers\"><x-label>Modifier keys</x-label></x-tab></x-tabs><div id=\"views\"><div id=\"shortcuts-view\" class=\"view\"><bx-shortcutseditor id=\"shortcuts-editor\"></bx-shortcutseditor></div><div id=\"modifiers-view\" class=\"view\" hidden><section id=\"space-modifier-section\"><h3>Space key</h3><x-radios id=\"space-modifier-radios\"><x-radio value=\"togglePreviousTool\" toggled><x-label>Toggle previous tool</x-label></x-radio><x-radio value=\"pan\"><x-label>Pan the canvas</x-label></x-radio></x-radios></section></div></div></main></template>"]);_templateObject568=function _templateObject568(){return data;};return data;}function _templateObject567(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;border-width:1px;border-style:solid;outline:0;flex-flow:column;flex:1;height:100%}#header{display:flex;align-items:center;min-height:30px;border-bottom-width:1px;border-bottom-style:solid;font-size:14px;font-weight:500}#header div:first-child{min-width:50%;margin-left:10px}#header div:last-child{margin-left:5px}#items{overflow:auto;height:100%;outline:0}.item{display:flex;width:100%;height:30px;align-items:center;font-size:13px;user-select:none;box-sizing:border-box;border:2px solid transparent;color:var(--text-color)}#items[data-size=small] .item{height:24px}#items[data-size=large] .item{height:34px}.item[data-conflicting]{color:var(--error-color)}.item[data-selected]{background:var(--accent-color);color:#fff}.item[data-selected][data-conflicting]{background:var(--error-color)}.item[data-user-shortcut]{font-weight:900}.item[hidden]{display:none}.item .command-label{min-width:50%;padding:8px 10px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item .shortcut-label{width:100%}.item[data-editable] .shortcut-label{padding:2px 8px;background:#fff;color:var(--dark-accent-color);font-size:12px;line-height:1;font-size:11px;font-weight:500;text-transform:uppercase}.item[data-editable][data-conflicting] .shortcut-label{color:var(--error-color)}.item .reset-button{margin:0 4px;padding:3px 7px;min-width:fit-content}.item .reset-button[hidden]{display:block;visibility:hidden}.item[data-editable] .reset-button{visibility:hidden}#footer{width:100%;padding:7px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #filter-buttons{margin-left:10px}"]);_templateObject567=function _templateObject567(){return data;};return data;}function _templateObject566(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><div>Command</div><div>Shortcut</div></header><main id=\"items\" tabindex=\"0\"></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter symbols\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-buttons id=\"filter-buttons\" tracking=\"1\"><x-button skin=\"recessed\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button skin=\"recessed\" value=\"custom\"><x-label>Custom</x-label></x-button><x-button skin=\"recessed\" value=\"conflicting\"><x-label>Conflicting <span id=\"conflicting-items-counter\"></span></x-label></x-button></x-buttons></x-box></footer></template>"]);_templateObject566=function _templateObject566(){return data;};return data;}function _templateObject565(){var data=_taggedTemplateLiteral(["#defs-section x-box>x-icon{width:26px;height:26px;overflow:visible}#defs-section x-box>x-icon[computedsize=small]{width:22px;height:22px}#defs-section x-box>x-icon[computedsize=large]{width:30px;height:30px}#defs-section x-box>x-label{width:80px;margin-left:8px}#defs-section x-box+x-box{margin-top:10px}#defs-section x-buttons{flex:1}#defs-section x-buttons>x-button{flex:1}"]);_templateObject565=function _templateObject565(){return data;};return data;}function _templateObject564(){var data=_taggedTemplateLiteral(["<template><h2>Garbage Collector</h2><section id=\"defs-section\"><h3 id=\"intro\">Auto-remove unused defs</h3><x-box><x-icon name=\"defs-colors\"></x-icon><x-label>Colors</x-label><x-buttons id=\"colors-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-gradients\"></x-icon><x-label>Gradients</x-label><x-buttons id=\"gradients-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-patterns\"></x-icon><x-label>Patterns</x-label><x-buttons id=\"patterns-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-markers\"></x-icon><x-label>Markers</x-label><x-buttons id=\"markers-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-symbols\"></x-icon><x-label>Symbols</x-label><x-buttons id=\"symbols-buttons\" tracking=\"1\"><x-button value=\"unpinned\"><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\" toggled><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-filters\"></x-icon><x-label>Filters</x-label><x-buttons id=\"filters-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-fonts\"></x-icon><x-label>Fonts</x-label><x-buttons id=\"fonts-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject564=function _templateObject564(){return data;};return data;}function _templateObject563(){var data=_taggedTemplateLiteral(["<template><h2>Markup</h2><section id=\"geometry-precision-section\"><h3>Geometry precision</h3><p>Precision, in number of decimal places, to be used by attributes defining shape geometry such as <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>, <code>r</code> or <code>d</code>.</p><x-slider id=\"geometry-precision-slider\" value=\"3\" min=\"0\" max=\"6\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label></x-slider></section><hr><section id=\"transform-precision-section\"><h3>Transform precision</h3><p>Precision, in number of decimal places, to be used by <code>transform</code> attribute.</p><x-slider id=\"transform-precision-slider\" value=\"6\" min=\"5\" max=\"12\" step=\"1\"><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label><x-label value=\"9\">9</x-label><x-label value=\"10\">10</x-label><x-label value=\"11\">11</x-label><x-label value=\"12\">12</x-label></x-slider></section><hr><section id=\"indentation-section\"><h3>Indentation</h3><p>Number of spaces used to indent SVG code.</p><x-slider id=\"indentation-slider\" value=\"2\" min=\"0\" max=\"8\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label></x-slider></section></template>"]);_templateObject563=function _templateObject563(){return data;};return data;}function _templateObject562(){var data=_taggedTemplateLiteral(["#theme-select{width:100%}#colors-section section{margin-top:10px}#accent-color-box{margin-top:4px}#accent-color-preset-select{flex:1}#accent-color-select{margin-left:6px}#color-scheme-select{width:100%}#widgets-size-select{width:100%}"]);_templateObject562=function _templateObject562(){return data;};return data;}function _templateObject561(){var data=_taggedTemplateLiteral(["<template><h2>UI</h2><section id=\"theme-section\"><h3>Theme</h3><x-select id=\"theme-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-theme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"cupertino\" id=\"cupertino-theme-select-item\"><x-label>Cupertino</x-label></x-menuitem><x-menuitem value=\"fluent\"><x-label>Fluent</x-label></x-menuitem><x-menuitem value=\"vanilla\"><x-label>Vanilla</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"colors-section\"><h3>Colors</h3><section id=\"color-scheme-subsection\"><h4>Color scheme</h4><x-select id=\"color-scheme-select\"><x-menu id=\"color-scheme-menu\"><x-menuitem value=\"auto\"><x-label id=\"auto-color-scheme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section><section id=\"accent-color-subsection\"><h4>Accent color</h4><x-box id=\"accent-color-box\"><x-select id=\"accent-color-preset-select\"><x-menu id=\"accent-color-preset-menu\"><x-menuitem value=\"auto\" toggled><x-swatch id=\"auto-accent-color-preset-swatch\"></x-swatch><x-label id=\"auto-accent-color-preset-label\"></x-label></x-menuitem><hr><x-menuitem value=\"blue\"><x-swatch></x-swatch><x-label>Blue</x-label></x-menuitem><x-menuitem value=\"purple\"><x-swatch></x-swatch><x-label>Purple</x-label></x-menuitem><x-menuitem value=\"pink\"><x-swatch></x-swatch><x-label>Pink</x-label></x-menuitem><x-menuitem value=\"red\"><x-swatch></x-swatch><x-label>Red</x-label></x-menuitem><x-menuitem value=\"orange\"><x-swatch></x-swatch><x-label>Orange</x-label></x-menuitem><x-menuitem value=\"yellow\"><x-swatch></x-swatch><x-label>Yellow</x-label></x-menuitem><x-menuitem value=\"green\"><x-swatch></x-swatch><x-label>Green</x-label></x-menuitem><x-menuitem value=\"graphite\"><x-swatch></x-swatch><x-label>Graphite</x-label></x-menuitem><hr><x-menuitem value=\"custom\"><x-icon name=\"color-wheel\"></x-icon><x-label>Other</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"accent-color-select\"><x-popover modal><x-wheelcolorpicker></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section></section><hr><section id=\"size-section\"><h3>Size</h3><section id=\"widgets-size-subsection\"><h4>Widgets size</h4><x-select id=\"widgets-size-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-widgets-size-label\"></x-label></x-menuitem><hr><x-menuitem value=\"medium\" toggled><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"large\"><x-label>Large</x-label></x-menuitem></x-menu></x-select></section></section><hr><section id=\"menubar-section\"><h3>Menubar</h3><x-checkbox id=\"show-install-button-checkbox\"><x-label>Show \"Install\" button</x-label></x-checkbox><x-checkbox id=\"show-cloud-button-checkbox\"><x-label>Show \"Cloud\" button</x-label></x-checkbox></section><hr><section id=\"docks-section\"><h3>Docks</h3><x-checkbox id=\"show-dock-tooltips-checkbox\"><x-label>Show tooltips</x-label></x-checkbox></section><hr><section id=\"canvas-section\"><h3>Canvas</h3><x-checkbox id=\"limit-scrollable-area-checkbox\"><x-label>Limit scrollable area</x-label></x-checkbox><x-checkbox id=\"show-view-outline-above-objects-checkbox\"><x-label>Show view outline above objects</x-label></x-checkbox></section></template>"]);_templateObject561=function _templateObject561(){return data;};return data;}function _templateObject560(){var data=_taggedTemplateLiteral(["#hardware-acceleration-checkbox{margin-top:10px}#recent-files-select{width:100%}"]);_templateObject560=function _templateObject560(){return data;};return data;}function _templateObject559(){var data=_taggedTemplateLiteral(["<template><h2>General</h2><section id=\"hardware-acceleration-section\"><h3>Hardware acceleration</h3><p>You should disable hardware acceleration if you are running the app inside a virtual machine or on older hardware and you observe graphical glitches such as flickering or disappearing widgets. <strong>Requires app restart.</strong></p><x-checkbox id=\"hardware-acceleration-checkbox\" toggled><x-label>Hardware acceleration</x-label></x-checkbox></section><hr id=\"hr-1\" hidden><section id=\"recent-files-section\" hidden><h3>Recent files</h3><p>Limit the number of files shown by \"File -> Open Recent\" menu.</p><x-select id=\"recent-files-select\"><x-menu id=\"recent-files-menu\"><x-menuitem value=\"5\"><x-label>5</x-label></x-menuitem><x-menuitem value=\"10\"><x-label>10</x-label></x-menuitem><x-menuitem value=\"15\"><x-label>15</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>20</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>30</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>50</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject559=function _templateObject559(){return data;};return data;}function _templateObject558(){var data=_taggedTemplateLiteral([":host{display:none;width:100%}:host([enabled]){display:block}h2:first-child{margin-top:0}p{font-size:13px;line-height:1.4;margin:5px 0 8px 0}section+hr{margin:20px 0}section[hidden]+hr{display:none}"]);_templateObject558=function _templateObject558(){return data;};return data;}function _templateObject557(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#main{display:flex;width:100%;height:100%}#board{flex:1}#breadcrumb{position:absolute;top:5px;left:44px}#breadcrumb[computedsize=large]{left:50px}"]);_templateObject557=function _templateObject557(){return data;};return data;}function _templateObject556(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><bx-toolsdock id=\"tools-dock\"></bx-toolsdock><bx-board id=\"board\"></bx-board><bx-offscreenboard id=\"offscreen-board\"></bx-offscreenboard><bx-primarypanelsdock id=\"primary-panels-dock\"><bx-fillpanel id=\"fill-panel\" name=\"Fill\"></bx-fillpanel><bx-strokepanel id=\"stroke-panel\" name=\"Stroke\"></bx-strokepanel><bx-compositingpanel id=\"compositing-panel\" name=\"Compositing\"></bx-compositingpanel><bx-typographypanel id=\"typography-panel\" name=\"Typography\"></bx-typographypanel><bx-geometrypanel id=\"geometry-panel\" name=\"Geometry\"></bx-geometrypanel><bx-metapanel id=\"meta-panel\" name=\"Meta\"></bx-metapanel><bx-shapepanel id=\"shape-panel\" name=\"Shape\"></bx-shapepanel><bx-arrangementpanel id=\"arrangement-panel\" name=\"Arrangement\"></bx-arrangementpanel><bx-objectspanel id=\"objects-panel\" name=\"Objects\"></bx-objectspanel><bx-defspanel id=\"defs-panel\" name=\"Defs\"></bx-defspanel><bx-librarypanel id=\"library-panel\" name=\"Library\"></bx-librarypanel><bx-generatorspanel id=\"generators-panel\" name=\"Generators\"></bx-generatorspanel><bx-exportpanel id=\"export-panel\" name=\"Export\"></bx-exportpanel><bx-historypanel id=\"history-panel\" name=\"History\"></bx-historypanel></bx-primarypanelsdock><bx-secondarypanelsdock id=\"secondary-panels-dock\"><bx-elementspanel id=\"elements-panel\" name=\"Elements\"></bx-elementspanel><bx-codepanel id=\"code-panel\" name=\"Code\" hidden></bx-codepanel><bx-animationpanel id=\"animation-panel\" name=\"Animation\" hidden></bx-animationpanel></bx-secondarypanelsdock><bx-editorbreadcrumb id=\"breadcrumb\"></bx-editorbreadcrumb></main><bx-colorgrabber id=\"color-grabber\"></bx-colorgrabber><bx-objectgrabber id=\"object-grabber\"></bx-objectgrabber></template>"]);_templateObject556=function _templateObject556(){return data;};return data;}function _templateObject555(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject555=function _templateObject555(){return data;};return data;}function _templateObject554(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject554=function _templateObject554(){return data;};return data;}function _templateObject553(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject553=function _templateObject553(){return data;};return data;}function _templateObject552(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject552=function _templateObject552(){return data;};return data;}function _templateObject551(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#container{display:flex;width:100%;height:100%}#main{flex:1}"]);_templateObject551=function _templateObject551(){return data;};return data;}function _templateObject550(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\"><bx-dominspector id=\"dom-inspector\"></bx-dominspector></main><aside id=\"sidebar\"><bx-csscascadeinspector id=\"css-cascade-inspector\"></bx-csscascadeinspector></aside></div></template>"]);_templateObject550=function _templateObject550(){return data;};return data;}function _templateObject549(){var data=_taggedTemplateLiteral([":host{position:relative;display:block;width:240px;height:100%;outline:0;border-left-width:1px;border-left-style:solid;contain:size layout style;--property-name-color:rgb(200, 0, 0);--property-value-color:currentColor}#main{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#cascade-view{flex:1;padding:8px}#cascade-items{font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word;user-select:text}.cascade-item .heading{display:block;margin:8px 0 2px 0;padding:1px 4px;user-select:none;font-family:BlinkMacSystemFont,Roboto,\"Helvetica Neue\",\"Lucida Grande\",Arial,sans-serif;font-size:11px;font-weight:500}.cascade-item .heading:empty{display:none}.cascade-item .heading code{font-size:inherit;padding:0 4px;display:inline-block}.cascade-item .selector[disabled]{opacity:.65}.cascade-item .property-item{display:flex;align-items:center}.cascade-item .checkbox{margin:0 5px 0 1px;width:13px;height:13px;visibility:hidden}.cascade-item .property-item .name{color:var(--property-name-color);cursor:text;line-height:12px}.cascade-item .property-item .value{color:var(--property-value-color);cursor:text}#autocompletion-list{position:fixed;border-width:1px;border-style:solid;white-space:pre;overflow:auto;z-index:999999}#autocompletion-list .item{padding:2px 4px}#autocompletion-list .item:hover{background:var(--selection-background-color)}#autocompletion-list .item[data-selected]{background:var(--accent-color);color:#fff}span[contenteditable]{display:inline-block;text-overflow:clip;user-select:text;-webkit-user-modify:read-write-plaintext-only}span[contenteditable]:empty:not([ghost]){padding:0 1px 0 2px}span[contenteditable]::after{content:attr(ghost);opacity:.5}#resize-grippie{position:absolute;top:0;left:0;width:5px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject549=function _templateObject549(){return data;};return data;}function _templateObject548(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"cascade-view\"><div id=\"cascade-items\"></div></div><div id=\"computed-view\"></div></main><div id=\"resize-grippie\"></div></template>"]);_templateObject548=function _templateObject548(){return data;};return data;}function _templateObject547(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;outline:0;contain:size layout style;--bracket-color:#881280;--tag-color:#881280;--attribute-color:#a894a6;--attribute-name-color:#994500;--attribute-value-color:#1919a7;--highlight-color:#bb38b2}#main{position:relative;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#tree{padding:1px 0;font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word}.item{position:relative;margin-left:22px;z-index:2;color:var(--text-color)}.item[data-selected]{color:#fff}.item[data-dragover]{z-index:3}.item[hidden]{display:none}span[contenteditable]{text-overflow:clip;min-width:.5ex;-webkit-user-select:text;-webkit-user-modify:read-write-plaintext-only}.item[data-type=text]{word-break:break-all}.item[data-type=text][data-selected]>.content::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=text][data-dragover=afterend]::after,.item[data-type=text][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--light-accent-color);pointer-events:none}.item[data-type=element]>.icon{fill:currentColor;vertical-align:middle;padding:3px;position:absolute;top:2px;left:-19px;transform:rotate(0);z-index:2}.item[data-type=element][data-expanded]>.icon{transform:rotate(90deg)}.item[data-type=element]>.icon>path{pointer-events:none}.item[data-type=element]>.tag{position:relative;border-top:1px solid transparent;border-bottom:1px solid transparent}.item[data-type=element]>.tag>.closing-bracket,.item[data-type=element]>.tag>.opening-bracket{color:var(--bracket-color)}.item[data-type=element][data-selected]>.tag>.closing-bracket,.item[data-type=element][data-selected]>.tag>.opening-bracket{color:inherit;opacity:.5}.item[data-type=element]>.tag>.opening-bracket[disabled]{opacity:.45}.item[data-type=element]>.tag>.tag-name{color:var(--tag-color)}.item[data-type=element][data-selected]>.tag>.tag-name{color:inherit}.item[data-type=element]>.tag>.tag-name[disabled]{opacity:.45}.item[data-type=element]>.tag .attributes{line-height:1}.item[data-type=element]>.tag .attribute{transition:background .25s;margin-left:6px;color:var(--attribute-color)}.item[data-type=element][data-selected]>.tag .attribute{color:rgba(255,255,255,.7)}.item[data-type=element]>.tag .attribute[highlighted]{background:var(--highlight-color)}.item[data-type=element]>.tag .attribute[disabled]{font-weight:700;opacity:.45}.item[data-type=element]>.tag .attribute .name{color:var(--attribute-name-color)}.item[data-type=element][data-selected]>.tag .attribute .name{color:inherit}.item[data-type=element]>.tag .attribute .value{color:var(--attribute-value-color)}.item[data-type=element][data-selected]>.tag .attribute .value{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis{padding-left:4px;text-decoration:underline;letter-spacing:-2px;cursor:pointer}.item[data-type=element][data-selected]>.tag .attribute .ellipsis{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis:hover{text-decoration:none}.item[data-type=element]>.tag .attribute[highlighted] *{color:#fff}.item[data-type=element][data-selected]>.tag::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=element][data-dragover=afterbegin]>.subtree::before,.item[data-type=element][data-dragover=beforeend]>.subtree::after{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none;margin-left:22px}.item[data-type=element][data-dragover=afterend]::after,.item[data-type=element][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none}"]);_templateObject547=function _templateObject547(){return data;};return data;}function _templateObject546(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"tree\"></div></main></template>"]);_templateObject546=function _templateObject546(){return data;};return data;}function _templateObject545(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;width:100%;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0}#items .item{padding:3px 20px;font-size:13px}#items .item[data-selected]{color:#fff;background:var(--accent-color)}#placeholder{padding:10px 20px 0;opacity:.6;box-sizing:border-box;font-size:12px}#footer{width:100%;padding:13px 20px 14px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer x-buttons{width:100%}#footer x-buttons x-button{flex:1}#footer #slider{margin-top:10px}"]);_templateObject545=function _templateObject545(){return data;};return data;}function _templateObject544(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">History</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No history items.</div></main><footer id=\"footer\" part=\"footer\"><x-buttons><x-button id=\"undo-button\" condensed disabled=\"disabled\"><x-icon name=\"undo\"></x-icon><x-label>Undo</x-label></x-button><x-button id=\"redo-button\" condensed disabled=\"disabled\"><x-icon name=\"redo\"></x-icon><x-label>Redo</x-label></x-button><x-button id=\"clear-button\" condensed disabled=\"disabled\"><x-icon name=\"clear\"></x-icon><x-label>Clear</x-label></x-button></x-buttons><x-slider id=\"slider\"></x-slider></footer></template>"]);_templateObject544=function _templateObject544(){return data;};return data;}function _templateObject543(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #format-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}#footer{padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer #export-button{width:100%}#footer #progress-bar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject543=function _templateObject543(){return data;};return data;}function _templateObject542(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Export</h2><x-select id=\"format-select\"><x-menu><x-menuitem value=\"png\" toggled><x-label>PNG</x-label></x-menuitem><x-menuitem value=\"jpeg\"><x-label>JPEG</x-label></x-menuitem><x-menuitem value=\"gif\"><x-label>GIF</x-label></x-menuitem><x-menuitem value=\"webp\"><x-label>WebP</x-label></x-menuitem><hr><x-menuitem value=\"svg\"><x-label>SVG</x-label></x-menuitem><x-menuitem value=\"svgz\"><x-label>SVGZ</x-label></x-menuitem><x-menuitem value=\"html\"><x-label>HTML</x-label></x-menuitem><x-menuitem value=\"pdf\" id=\"pdf-menu-item\"><x-label>PDF</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"><x-button id=\"export-button\" size=\"larger\" disabled=\"disabled\"><x-icon name=\"export-panel\"></x-icon><x-label id=\"export-label\">Export</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></footer></template>"]);_templateObject542=function _templateObject542(){return data;};return data;}function _templateObject541(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:18px}#height-input,#width-input{width:100%}#height-box,#width-box{flex:1}#height-unit-select,#width-unit-select{margin-top:5px;width:100%}#lock-size-button{align-self:center;margin:20px 0 0 0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#background-subsection{margin-top:18px}#background-select x-popover{--align:right}#normalize-subsection{margin-top:18px}"]);_templateObject541=function _templateObject541(){return data;};return data;}function _templateObject540(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4 id=\"area-heading\">Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"width-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"height-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox></section></template>"]);_templateObject540=function _templateObject540(){return data;};return data;}function _templateObject539(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#normalize-subsection{margin-top:18px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject539=function _templateObject539(){return data;};return data;}function _templateObject538(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox></section></template>"]);_templateObject538=function _templateObject538(){return data;};return data;}function _templateObject537(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject537=function _templateObject537(){return data;};return data;}function _templateObject536(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject536=function _templateObject536(){return data;};return data;}function _templateObject535(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}"]);_templateObject535=function _templateObject535(){return data;};return data;}function _templateObject534(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject534=function _templateObject534(){return data;};return data;}function _templateObject533(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject533=function _templateObject533(){return data;};return data;}function _templateObject532(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject532=function _templateObject532(){return data;};return data;}function _templateObject531(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#dithering-subsection{margin-top:16px}#dithering-select{width:100%}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}#background-subsection>x-checkbox{margin-top:7px}"]);_templateObject531=function _templateObject531(){return data;};return data;}function _templateObject530(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"dithering-subsection\"><h4 id=\"dithering-heading\">Dithering</h4><x-select id=\"dithering-select\"><x-menu><x-menuitem value=\"none\" toggled><x-label>None</x-label></x-menuitem><x-menuitem value=\"floyd-steinberg\"><x-label>Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"false-floyd-steinberg\"><x-label>False Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"stucki\"><x-label>Stucki</x-label></x-menuitem><x-menuitem value=\"atkinson\"><x-label>Atkinson</x-label></x-menuitem></x-menu></x-select></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect><x-checkbox id=\"transparent-checkbox\"><x-label>Treat this color as transparency</x-label></x-checkbox></section></template>"]);_templateObject530=function _templateObject530(){return data;};return data;}function _templateObject529(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject529=function _templateObject529(){return data;};return data;}function _templateObject528(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject528=function _templateObject528(){return data;};return data;}function _templateObject527(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#dpi-subsection{margin-top:16px}#dpi-subsection x-box{width:100%}#dpi-heading{margin-bottom:0}#dpi-slider{flex:1}#dpi-input{width:60px;margin-left:10px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject527=function _templateObject527(){return data;};return data;}function _templateObject526(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"dpi-subsection\"><h4 id=\"dpi-heading\">DPI</h4><x-box><x-slider id=\"dpi-slider\" value=\"96\" min=\"1\" max=\"400\" step=\"1\"></x-slider><x-numberinput id=\"dpi-input\" value=\"96\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject526=function _templateObject526(){return data;};return data;}function _templateObject525(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}h3:first-child,h4:first-child{margin-top:0}#options-section{padding:16px 20px 16px 20px}#preview-section{padding:16px 20px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;user-select:none;background:var(--checkboard-background);border-width:1px;border-style:solid}#preview[hidden]{display:none}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject525=function _templateObject525(){return data;};return data;}function _templateObject524(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject524=function _templateObject524(){return data;};return data;}function _templateObject523(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #generator-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}"]);_templateObject523=function _templateObject523(){return data;};return data;}function _templateObject522(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Generators</h2><x-select id=\"generator-select\"><x-menu><x-menuitem value=\"bx-barcodegenerator\"><x-label>Barcode</x-label></x-menuitem><x-menuitem value=\"bx-qrcodegenerator\"><x-label>QR code</x-label></x-menuitem><hr><x-menuitem value=\"bx-parliamentchartgenerator\"><x-label>Parliament chart</x-label></x-menuitem><x-menuitem value=\"bx-triangulatedsurfacegenerator\"><x-label>Triangulated surface</x-label></x-menuitem><x-menuitem value=\"bx-jigsawpuzzlegenerator\"><x-label>Jigsaw puzzle</x-label></x-menuitem><hr><x-menuitem value=\"bx-rasterizegenerator\"><x-label>Rasterize</x-label></x-menuitem><x-menuitem value=\"bx-vectorizegenerator\"><x-label>Vectorize</x-label></x-menuitem><hr><x-menuitem value=\"bx-pixelategenerator\"><x-label>Pixelate</x-label></x-menuitem><x-menuitem value=\"bx-triangulategenerator\"><x-label>Triangulate</x-label></x-menuitem><x-menuitem value=\"bx-primitivizegenerator\"><x-label>Primitivize</x-label></x-menuitem><hr><x-menuitem value=\"bx-resizeviewgenerator\"><x-label>Resize view to fit objects</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main></template>"]);_templateObject522=function _templateObject522(){return data;};return data;}function _templateObject521(){var data=_taggedTemplateLiteral(["section section{display:flex;flex-flow:column}#shapes-type-buttons{width:100%}#shapes-type-buttons x-button{flex:1}#shapes-number-subsection{margin-top:8px}#shapes-number-subsection x-box{width:100%}#shapes-number-heading{margin-bottom:0}#shapes-number-slider{flex:1}#shapes-number-input{margin-left:10px;width:60px}#shapes-alpha-subsection x-box{width:100%}#shapes-alpha-heading{margin-bottom:0}#shapes-alpha-slider{flex:1}#shapes-alpha-input{margin-left:10px;width:60px}#auto-adjust-shapes-alpha-box{margin-top:2px}#auto-adjust-shapes-alpha-box x-label{font-size:12px}#working-size-subsection h5{margin-bottom:0}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#shapes-per-iteration-subsection h5{margin-bottom:0}#shapes-per-iteration-slider{flex:1}#shapes-per-iteration-input{margin-left:10px;width:60px}#max-mutations-subsection h5{margin-bottom:0}#max-mutations-slider{flex:1}#max-mutations-input{margin-left:10px;width:60px}#seed-subsection h5{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#overflow-subsection{margin-top:8px}#overflow-buttons{width:100%}#overflow-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject521=function _templateObject521(){return data;};return data;}function _templateObject520(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label id=\"generate-label\">Primitivize</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></template>"]);_templateObject520=function _templateObject520(){return data;};return data;}function _templateObject519(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"shapes-section\"><h4 id=\"shapes-heading\">Shapes</h4><section id=\"shapes-type-subsection\"><h5 id=\"shapes-type-heading\">Type</h5><x-buttons id=\"shapes-type-buttons\" tracking=\"3\"><x-button value=\"triangles\" condensed><x-label>Triangles</x-label></x-button><x-button value=\"rectangles\" condensed><x-label>Rectangles</x-label></x-button></x-buttons></section><section id=\"shapes-number-subsection\"><h5 id=\"shapes-number-heading\">Number</h5><x-box id=\"shapes-number-box\"><x-slider id=\"shapes-number-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shapes-number-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-alpha-subsection\"><h5 id=\"shapes-alpha-heading\">Alpha</h5><x-box id=\"shapes-alpha-box\"><x-slider id=\"shapes-alpha-slider\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shapes-alpha-input\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"auto-adjust-shapes-alpha-box\"><x-checkbox id=\"auto-adjust-shapes-alpha-checkbox\"><x-label>Auto-adjust alpha</x-label></x-checkbox></x-box></section></section><hr><section id=\"algorithm-subsection\"><h4 id=\"algorithm-heading\">Algorithm</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"1000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-per-iteration-subsection\"><h5 id=\"shapes-per-iteration-heading\">Shapes per iteration</h5><x-box id=\"shapes-per-iteration-box\"><x-slider id=\"shapes-per-iteration-slider\" min=\"1\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"shapes-per-iteration-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"max-mutations-subsection\"><h5 id=\"max-mutations-heading\">Max mutations</h5><x-box id=\"max-mutations-box\"><x-slider id=\"max-mutations-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"max-mutations-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h5 id=\"seed-heading\">Seed</h5><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><section id=\"render-as-subsection\"><h5 id=\"render-as-heading\">Render as</h5><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section><section id=\"overflow-subsection\"><h5 id=\"overflow-heading\">Overflow</h5><x-buttons id=\"overflow-buttons\" tracking=\"1\"><x-button value=\"cut\" condensed><x-label>Cut</x-label></x-button><x-button value=\"visible\" condensed><x-label>Visible</x-label></x-button></x-buttons></section></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\"></svg></section></template>"]);_templateObject519=function _templateObject519(){return data;};return data;}function _templateObject518(){var data=_taggedTemplateLiteral(["#cell-size-subsection{display:flex;flex-flow:column}#cell-size-subsection h4{margin-bottom:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-subsection{margin-top:10px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject518=function _templateObject518(){return data;};return data;}function _templateObject517(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Triangulate</x-label></x-button></template>"]);_templateObject517=function _templateObject517(){return data;};return data;}function _templateObject516(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" min=\"2\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"polygons\" condensed><x-label>Polygons</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject516=function _templateObject516(){return data;};return data;}function _templateObject515(){var data=_taggedTemplateLiteral(["#grid-subsection{margin-top:14px}#grid-subsection h4{margin-top:0}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#pixel-size-subsection{margin-top:14px}#pixel-size-heading{margin:0}#pixel-size-slider{flex:1}#pixel-size-input{margin-left:10px;width:60px}#pixel-shape-subsection{margin-top:10px}#pixel-shape-buttons{width:100%}#pixel-shape-buttons x-button{flex:1}#render-as-subsection{margin-top:14px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject515=function _templateObject515(){return data;};return data;}function _templateObject514(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Pixelate</x-label></x-button></template>"]);_templateObject514=function _templateObject514(){return data;};return data;}function _templateObject513(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"pixel-size-subsection\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"pixel-shape-subsection\" vertical><h4 id=\"pixel-shape-heading\">Pixel shape</h4><x-buttons id=\"pixel-shape-buttons\" tracking=\"1\"><x-button value=\"rectangle\" condensed><x-label>Rectangle</x-label></x-button><x-button value=\"ellipse\" condensed><x-label>Ellipse</x-label></x-button></x-buttons></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject513=function _templateObject513(){return data;};return data;}function _templateObject512(){var data=_taggedTemplateLiteral(["#preset-select{width:100%}#working-size-subsection{display:flex;flex-flow:column}#working-size-subsection h5{margin-bottom:0}#working-size-box{width:100%}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#blur-subsection{display:flex;margin-top:4px}#blur-radius-box{flex:1;margin-right:4px}#blur-radius-input{width:100%}#blur-delta-box{flex:1;margin-left:4px}#blur-delta-input{width:100%}#number-of-colors-box{flex:1}#number-of-colors-input{width:100%}#min-color-ratio-box{flex:1;margin:0 8px}#min-color-ratio-input{width:100%}#color-quant-cycles-box{flex:1}#color-quant-cycles-input{width:100%}#color-sampling-box{margin-top:8px}#color-sampling-buttons{width:100%}#color-sampling-buttons x-button{flex:1}#ltres-box{flex:1}#ltres-input{width:100%}#qtres-box{flex:1;margin:0 8px}#qtres-input{width:100%}#path-omit-box{flex:1}#path-omit-input{width:100%}#right-angle-enhance-checkbox{margin-top:6px}#right-angle-enhance-checkbox x-label{font-size:12px}#stroke-width-box x-box{width:100%}#stroke-width-heading{margin-bottom:0}#stroke-width-slider{flex:1}#stroke-width-input{margin-left:10px;width:60px}#line-filter-checkbox{margin-top:6px}#line-filter-checkbox x-label{font-size:12px}#ignore-white-checkbox{margin-top:6px}#ignore-white-checkbox x-label{font-size:12px}#preview{height:160px}#preview-label{text-align:center;font-weight:600;font-size:12px;opacity:.7}"]);_templateObject512=function _templateObject512(){return data;};return data;}function _templateObject511(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Vectorize</x-label></x-button></template>"]);_templateObject511=function _templateObject511(){return data;};return data;}function _templateObject510(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"preset-subsection\"><h4 id=\"preset-heading\">Preset</h4><x-select id=\"preset-select\"><x-menu><x-menuitem value=\"default\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"blackAndWhite\"><x-label>Black and white</x-label></x-menuitem><x-menuitem value=\"grayscale\"><x-label>Grayscale</x-label></x-menuitem><x-menuitem value=\"posterized\"><x-label>Posterized</x-label></x-menuitem><x-menuitem value=\"curvy\"><x-label>Curvy</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"detailed\"><x-label>Detailed</x-label></x-menuitem><x-menuitem value=\"smoothed\"><x-label>Smoothed</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"preprocessing-subsection\"><h4 id=\"preprocessing-heading\">Preprocessing</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"2000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-subsection\"><x-box id=\"blur-radius-box\" vertical><h5 id=\"blur-radius-heading\">Blur radius</h5><x-numberinput id=\"blur-radius-input\" min=\"0\" step=\"1\" title=\"Blur radius\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"blur-delta-box\" vertical><h5 id=\"blur-delta-heading\">Blur delta</h5><x-numberinput id=\"blur-delta-input\" min=\"0\" step=\"1\" condensed title=\"RGBA delta treshold for selective Gaussian blur preprocessing\"><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"color-subsection\"><h4 id=\"color-heading\">Color quantization</h4><x-box><x-box id=\"number-of-colors-box\" vertical><h5 id=\"number-of-colors-heading\">Colors</h5><x-numberinput id=\"number-of-colors-input\" min=\"1\" step=\"1\" title=\"Number of colors to use\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"min-color-ratio-box\" vertical><h5 id=\"min-color-ratio-heading\">Min ratio</h5><x-numberinput id=\"min-color-ratio-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will randomize a color if fewer pixels than TOTAL PIXELS * MIN RATIO has it\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"color-quant-cycles-box\" vertical><h5 id=\"color-quant-cycles-heading\">Cycles</h5><x-numberinput id=\"color-quant-cycles-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will be repeated this many times\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"color-sampling-box\" vertical><h5 id=\"color-sampling-heading\">Sampling</h5><x-buttons id=\"color-sampling-buttons\" tracking=\"1\"><x-button value=\"2\" condensed><x-label>Deterministic</x-label></x-button><x-button value=\"1\" condensed><x-label>Random</x-label></x-button><x-button value=\"0\" condensed><x-label>None</x-label></x-button></x-buttons></x-box></section><hr><section id=\"tracing-subsection\"><h4 id=\"tracing-heading\">Tracing</h4><x-box><x-box id=\"ltres-box\" vertical><h5 id=\"ltres-heading\">L treshold</h5><x-numberinput id=\"ltres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for straight lines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"qtres-box\" vertical><h5 id=\"qtres-heading\">Q treshold</h5><x-numberinput id=\"qtres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for quadratic splines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"path-omit-box\" vertical><h5 id=\"path-omit-heading\">Path omit</h5><x-numberinput id=\"path-omit-input\" min=\"0\" step=\"1\" condensed title=\"Edge node paths shorter than this will be discarded for noise reduction\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"right-angle-enhance-checkbox\"><x-label id=\"right-angle-enhance-label\">Enhance right angle corners</x-label></x-checkbox></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><x-box id=\"stroke-width-box\" vertical><h5 id=\"stroke-width-heading\">Stroke width</h5><x-box><x-slider id=\"stroke-width-slider\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"stroke-width-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"line-filter-checkbox\"><x-label>Enable line filter for noise reduction</x-label></x-checkbox><x-checkbox id=\"ignore-white-checkbox\"><x-label>Ignore white</x-label></x-checkbox></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\" hidden></svg><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject510=function _templateObject510(){return data;};return data;}function _templateObject509(){var data=_taggedTemplateLiteral(["#view-select{width:100%}#area-subsection{margin-top:14px}#area-buttons{width:100%}#area-buttons x-button{flex:1}#padding-subsection{margin-top:14px}#padding-heading{margin:0}#padding-input{width:240px;margin:0 auto}#origin-subsection{margin-top:14px}#origin-heading{margin:0;flex:1}#origin-switch{margin:0}#origin-box{display:flex;margin-top:14px}#origin-x-box{flex:1;margin-right:6px}#origin-y-box{flex:1;margin-left:6px}#origin-x-input,#origin-y-input{width:100%;margin-top:4px}#origin-x-label,#origin-y-label{font-size:12px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;background-image:none}#preview-table{width:100%;margin-top:14px;font-size:12px}#preview-table td:first-child{text-align:end;font-weight:700}#preview-table td:last-child{width:50%}"]);_templateObject509=function _templateObject509(){return data;};return data;}function _templateObject508(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Resize</x-label></x-button></template>"]);_templateObject508=function _templateObject508(){return data;};return data;}function _templateObject507(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"view-subsection\"><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"area-subsection\"><h4 id=\"area-heading\">Objects</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button id=\"all-area-button\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button id=\"selected-area-button\" value=\"selected\"><x-label>Selected</x-label></x-button></x-buttons></section><section id=\"padding-subsection\"><h4 id=\"padding-heading\">Padding</h4><bx-edgeinput id=\"padding-input\"></bx-edgeinput></section><section id=\"origin-subsection\"><x-box id=\"origin-heading-box\"><h4 id=\"origin-heading\">Origin</h4><x-switch id=\"origin-switch\" size=\"smaller\"></x-switch></x-box><x-box id=\"origin-box\"><x-box id=\"origin-x-box\" vertical><x-label id=\"origin-x-label\">X</x-label><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><x-label id=\"origin-y-label\">Y</x-label><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box></x-box></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><image id=\"preview\" part=\"preview\"></image><table id=\"preview-table\"><tr><td>X:</td><td id=\"preview-x-td\">0</td></tr><tr><td>Y:</td><td id=\"preview-y-td\">0</td></tr><tr><td>Width:</td><td id=\"preview-width-td\">100</td></tr><tr><td>Height:</td><td id=\"preview-height-td\">100</td></tr></table></section></template>"]);_templateObject507=function _templateObject507(){return data;};return data;}function _templateObject506(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}:host([hidden]){display:none}#main{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:2px}x-box{width:100%;margin:10px 0;justify-content:space-between}x-button{width:72px}x-numberinput{width:72px}"]);_templateObject506=function _templateObject506(){return data;};return data;}function _templateObject505(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-numberinput id=\"top-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-box><x-numberinput id=\"left-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-button id=\"uniform-button\" condensed togglable><x-label>Uniform</x-label></x-button><x-numberinput id=\"right-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-numberinput id=\"bottom-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></main></template>"]);_templateObject505=function _templateObject505(){return data;};return data;}function _templateObject504(){var data=_taggedTemplateLiteral(["#format-buttons{width:100%}#format-buttons x-button{flex:1}#ppu-subsection{margin-top:14px}#ppu-subsection x-box{width:100%}#ppu-heading{margin-bottom:0}#ppu-slider{flex:1}#ppu-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#compression-subsection{margin-top:10px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:10px}#background-select x-popover{--align:right}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject504=function _templateObject504(){return data;};return data;}function _templateObject503(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Rasterize</x-label></x-button></template>"]);_templateObject503=function _templateObject503(){return data;};return data;}function _templateObject502(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4 id=\"format-heading\">Format</h4><x-buttons id=\"format-buttons\" tracking=\"1\"><x-button id=\"png-format-button\" value=\"png\" toggled><x-label>PNG</x-label></x-button><x-button id=\"jpeg-format-button\" value=\"jpeg\"><x-label>JPEG</x-label></x-button></x-buttons></section><section id=\"ppu-subsection\"><h4 id=\"ppu-heading\">Pixels per unit</h4><x-box id=\"ppu-box\"><x-slider id=\"ppu-slider\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\"></x-slider><x-numberinput id=\"ppu-input\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"colors-rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"colors-palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject502=function _templateObject502(){return data;};return data;}function _templateObject501(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#grid-subsection{margin-top:14px}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#tab-size-subsection{margin-top:14px}#tab-size-subsection h4{margin:0}#tab-size-slider{flex:1}#tab-size-input{width:60px;margin-left:10px}#jitter-subsection{margin-top:10px}#jitter-subsection h4{margin:0}#jitter-slider{flex:1}#jitter-input{width:60px;margin-left:10px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#preview{height:160px}"]);_templateObject501=function _templateObject501(){return data;};return data;}function _templateObject500(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject500=function _templateObject500(){return data;};return data;}function _templateObject499(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"500\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"tab-size-subsection\"><h4 id=\"tab-size-heading\">Tab size</h4><x-box id=\"tab-size-box\"><x-slider id=\"tab-size-slider\" value=\"10\" min=\"10\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"tab-size-input\" value=\"10\" min=\"10\" max=\"30\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"jitter-subsection\"><h4 id=\"jitter-heading\">Jitter</h4><x-box id=\"jitter-box\"><x-slider id=\"jitter-slider\" value=\"0\" min=\"0\" max=\"15\" step=\"1\"></x-slider><x-numberinput id=\"jitter-input\" value=\"0\" min=\"0\" max=\"15\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject499=function _templateObject499(){return data;};return data;}function _templateObject498(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#cell-size-subsection{margin-top:14px}#cell-size-subsection h4{margin:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-subsection h4{margin:0}#colors-box{margin-top:7px}#colors-subsection x-colorselect{flex:1;margin:0 3px}#colors-subsection x-colorselect:first-child{margin-left:0}#colors-subsection x-colorselect:last-child{margin-right:0}#colors-subsection x-popover{--align:left}#random-colors-button{width:100%;margin-top:7px}#preview{height:160px;shape-rendering:crispEdges}"]);_templateObject498=function _templateObject498(){return data;};return data;}function _templateObject497(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject497=function _templateObject497(){return data;};return data;}function _templateObject496(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"600\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-on\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"100\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"100\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-box id=\"colors-box\"><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect></x-box><x-button id=\"random-colors-button\" condensed><x-label>Generate random colors</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject496=function _templateObject496(){return data;};return data;}function _templateObject495(){var data=_taggedTemplateLiteral(["#hall-radius-subsection h4{margin:0}#hall-radius-slider{flex:1}#hall-radius-input{width:60px;margin-left:10px}#seat-radius-subsection{margin-top:10px}#seat-radius-subsection h4{margin:0}#seat-radius-slider{flex:1}#seat-radius-input{width:60px;margin-left:10px}#parties-subsection{margin-top:10px}#parties-box .party-box{width:100%}#parties-box .party-box+.party-box{margin-top:8px}#parties-box x-popover{--align:left}#parties-box x-numberinput{flex:1;margin:0 8px}#parties-box x-icon{width:12px;height:12px}#add-party-button{width:100%;margin-top:8px}#add-party-button x-icon{width:11px;height:11px}#preview{height:160px}"]);_templateObject495=function _templateObject495(){return data;};return data;}function _templateObject494(){var data=_taggedTemplateLiteral(["<template><x-box class=\"party-box\"><x-colorselect value=\"#4b4ba7\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-numberinput value=\"10\" min=\"1\" suffix=\" seat(s)\" condensed><x-stepper></x-stepper></x-numberinput><x-button class=\"delete-button\" condensed><x-icon name=\"trash\"></x-icon></x-button></x-box></template>"]);_templateObject494=function _templateObject494(){return data;};return data;}function _templateObject493(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject493=function _templateObject493(){return data;};return data;}function _templateObject492(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"hall-radius-subsection\"><h4 id=\"hall-radius-heading\">Hall radius</h4><x-box id=\"hall-radius-box\"><x-slider id=\"hall-radius-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hall-radius-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seat-radius-subsection\"><h4 id=\"seat-radius-heading\">Seat radius</h4><x-box id=\"seat-radius-box\"><x-slider id=\"seat-radius-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seat-radius-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"parties-subsection\"><h4>Parties</h4><x-box id=\"parties-box\" vertical></x-box><x-button id=\"add-party-button\"><x-icon name=\"plus\"></x-icon><x-label>Add</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject492=function _templateObject492(){return data;};return data;}function _templateObject491(){var data=_taggedTemplateLiteral(["#mode-select{width:100%}#charset-subsection{margin-top:14px}#charset-select{width:100%}#error-correction-subsection{margin-top:14px}#error-correction-buttons{width:100%}#error-correction-buttons x-button{flex:1}#value-subsection{margin-top:14px}#value-input{max-width:none}"]);_templateObject491=function _templateObject491(){return data;};return data;}function _templateObject490(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject490=function _templateObject490(){return data;};return data;}function _templateObject489(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"mode-subsection\"><h4>Mode</h4><x-select id=\"mode-select\"><x-menu><x-menuitem value=\"Byte\"><x-label>Byte</x-label></x-menuitem><x-menuitem value=\"Alphanumeric\"><x-label>Alphanumeric</x-label></x-menuitem><x-menuitem value=\"Numeric\"><x-label>Numeric</x-label></x-menuitem><x-menuitem value=\"Kanji\"><x-label>Kanji</x-label></x-menuitem></x-menu></x-select></section><section id=\"charset-subsection\"><h4>Charset</h4><x-select id=\"charset-select\"><x-menu><x-menuitem value=\"default\"><x-label>ISO 8859-1</x-label></x-menuitem><x-menuitem value=\"UTF-8\"><x-label>UTF-8</x-label></x-menuitem><x-menuitem value=\"SJIS\"><x-label>SJIS</x-label></x-menuitem></x-menu></x-select></section><section id=\"error-correction-subsection\"><h4>Error correction</h4><x-buttons id=\"error-correction-buttons\" tracking=\"1\"><x-button value=\"L\"><x-label>7%</x-label></x-button><x-button value=\"M\"><x-label>15%</x-label></x-button><x-button value=\"Q\"><x-label>25%</x-label></x-button><x-button value=\"H\"><x-label>30%</x-label></x-button></x-buttons></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" validation=\"instant\"></x-input></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject489=function _templateObject489(){return data;};return data;}function _templateObject488(){var data=_taggedTemplateLiteral(["#format-select{width:100%}#value-subsection{margin-top:14px}#value-input{max-width:none}#display-value-box{margin-top:8px}#label-subsection{margin-top:14px}#label-header{display:flex;align-items:center}#label-heading{margin:0;flex:1}#label-position-box{margin-top:8px}#label-position-label{font-size:11px;font-weight:500;margin:0 0 4px 0}#label-position-buttons{width:100%}#label-position-buttons x-button{flex:1}"]);_templateObject488=function _templateObject488(){return data;};return data;}function _templateObject487(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject487=function _templateObject487(){return data;};return data;}function _templateObject486(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4>Format</h4><x-select id=\"format-select\"><x-menu><x-menuitem value=\"CODE128\" toggled><x-label>CODE 128</x-label></x-menuitem><x-menuitem value=\"CODE39\"><x-label>CODE 39</x-label></x-menuitem><hr><x-menuitem value=\"EAN2\"><x-label>EAN-2</x-label></x-menuitem><x-menuitem value=\"EAN5\"><x-label>EAN-5</x-label></x-menuitem><x-menuitem value=\"EAN8\"><x-label>EAN-8</x-label></x-menuitem><x-menuitem value=\"EAN13\"><x-label>EAN-13</x-label></x-menuitem><x-menuitem value=\"UPC\"><x-label>UPC</x-label></x-menuitem><hr><x-menuitem value=\"MSI\"><x-label>MSI</x-label></x-menuitem><x-menuitem value=\"MSI10\"><x-label>MSI10</x-label></x-menuitem><x-menuitem value=\"MSI11\"><x-label>MSI11</x-label></x-menuitem><x-menuitem value=\"MSI1010\"><x-label>MSI1010</x-label></x-menuitem><x-menuitem value=\"MSI1110\"><x-label>MSI1110</x-label></x-menuitem><hr><x-menuitem value=\"codabar\"><x-label>Codabar</x-label></x-menuitem><x-menuitem value=\"pharmacode\"><x-label>Pharmacode</x-label></x-menuitem><x-menuitem value=\"ITF14\"><x-label>ITF14</x-label></x-menuitem></x-menu></x-select></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" value=\"9999\" validation=\"instant\"></x-input></section><section id=\"label-subsection\"><header id=\"label-header\"><h4 id=\"label-heading\">Label</h4><x-switch id=\"label-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"label-position-box\" vertical><x-label id=\"label-position-label\">Position</x-label><x-buttons id=\"label-position-buttons\" tracking=\"1\"><x-button id=\"label-position-left-button\" value=\"left\" condensed><x-label>Left</x-label></x-button><x-button id=\"label-position-center-button\" value=\"center\" condensed toggled><x-label>Center</x-label></x-button><x-button id=\"label-position-right-button\" value=\"right\" condensed><x-label>Right</x-label></x-button><x-button id=\"label-position-inset-button\" value=\"inset\" condensed><x-label>Inset</x-label></x-button></x-buttons></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject486=function _templateObject486(){return data;};return data;}function _templateObject485(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}:host(:focus){outline:0}:host([hidden]){display:none}h3:first-child{margin-top:0}section>hr{margin:14px 0}#main{flex:1;box-sizing:border-box;width:100%;overflow:auto}#options-section{padding:16px 20px}#preview-section{padding:16px 20px}#preview{width:100%;height:100px;user-select:none;border-width:1px;border-style:solid}#preview[hidden]{display:none}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer:empty{display:none}#footer x-button{width:100%}#footer x-progressbar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject485=function _templateObject485(){return data;};return data;}function _templateObject484(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></template>"]);_templateObject484=function _templateObject484(){return data;};return data;}function _templateObject483(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#main{display:flex;width:100%;height:100%;min-height:100px;flex:1}#main>*{flex:1}"]);_templateObject483=function _templateObject483(){return data;};return data;}function _templateObject482(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Library</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button skin=\"flat\" value=\"colors-library-browser\"><x-icon name=\"library-colors\"></x-icon></x-button><x-button skin=\"flat\" value=\"gradients-library-browser\"><x-icon name=\"library-gradients\"></x-icon></x-button><x-button skin=\"flat\" value=\"fonts-library-browser\"><x-icon name=\"library-fonts\"></x-icon></x-button><x-button skin=\"flat\" value=\"bitmaps-library-browser\"><x-icon name=\"library-bitmaps\"></x-icon></x-button><x-button skin=\"flat\" value=\"vectors-library-browser\"><x-icon name=\"library-vectors\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorslibrarybrowser id=\"colors-library-browser\"></bx-colorslibrarybrowser><bx-gradientslibrarybrowser id=\"gradients-library-browser\"></bx-gradientslibrarybrowser><bx-fontslibrarybrowser id=\"fonts-library-browser\"></bx-fontslibrarybrowser><bx-bitmapslibrarybrowser id=\"bitmaps-library-browser\"></bx-bitmapslibrarybrowser><bx-vectorslibrarybrowser id=\"vectors-library-browser\"></bx-vectorslibrarybrowser></main></template>"]);_templateObject482=function _templateObject482(){return data;};return data;}function _templateObject481(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:230px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-license-label,#meta-name-label,#meta-user-label{font-size:13px;font-weight:700}#meta-license-value,#meta-name-value,#meta-user-value{font-size:13px;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject481=function _templateObject481(){return data;};return data;}function _templateObject480(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Vectors</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"cloud\" id=\"cloud-provider-select-item\"><x-icon name=\"cloud\"></x-icon><x-label>Cloud</x-label></x-menuitem><hr id=\"cloud-provider-select-separator\"><x-menuitem value=\"pixabay\" toggled><x-icon name=\"pixabay\"></x-icon><x-label>Pixabay</x-label></x-menuitem><x-menuitem value=\"wikimedia\"><x-icon name=\"wikimedia\"></x-icon><x-label>Wikimedia</x-label></x-menuitem><hr><x-menuitem value=\"fluent-icons\"><x-icon name=\"fluent-design\"></x-icon><x-label>Fluent Icons</x-label></x-menuitem><x-menuitem value=\"material-icons\"><x-icon name=\"material-design\"></x-icon><x-label>Material Icons</x-label></x-menuitem><hr><x-menuitem value=\"google-emojis\"><x-icon name=\"google\"></x-icon><x-label>Google Emojis</x-label></x-menuitem><x-menuitem value=\"twitter-emojis\"><x-icon name=\"twitter\"></x-icon><x-label>Twitter Emojis</x-label></x-menuitem><hr></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-name\"><span id=\"meta-name-label\">Name</span>: <span id=\"meta-name-value\"></span></div><div id=\"meta-user\"><span id=\"meta-user-label\"></span>: <span id=\"meta-user-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject480=function _templateObject480(){return data;};return data;}function _templateObject479(){var data=_taggedTemplateLiteral(["#category-select{width:100%}#skin-tone-select{width:100%}"]);_templateObject479=function _templateObject479(){return data;};return data;}function _templateObject478(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"smileys-and-emotions\"><x-label>Smileys & Emotion</x-label></x-menuitem><x-menuitem value=\"people-and-body\"><x-label>People & Body</x-label></x-menuitem><x-menuitem value=\"animals-and-nature\"><x-label>Animals & Nature</x-label></x-menuitem><x-menuitem value=\"food-and-drinks\"><x-label>Food & Drink</x-label></x-menuitem><x-menuitem value=\"travel-and-places\"><x-label>Travel & Places</x-label></x-menuitem><x-menuitem value=\"activities\"><x-label>Activities</x-label></x-menuitem><x-menuitem value=\"objects\"><x-label>Objects</x-label></x-menuitem><x-menuitem value=\"symbols\"><x-label>Symbols</x-label></x-menuitem><x-menuitem value=\"flags\"><x-label>Flags</x-label></x-menuitem></x-menu></x-select></section><section id=\"skin-tone-section\"><h4>Skin tone</h4><x-select id=\"skin-tone-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"medium-light\"><x-label>Medium Light</x-label></x-menuitem><x-menuitem value=\"medium\"><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"medium-dark\"><x-label>Medium Dark</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject478=function _templateObject478(){return data;};return data;}function _templateObject477(){var data=_taggedTemplateLiteral(["#category-select{width:100%}#skin-tone-select{width:100%}"]);_templateObject477=function _templateObject477(){return data;};return data;}function _templateObject476(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"smileys-and-emotions\"><x-label>Smileys & Emotion</x-label></x-menuitem><x-menuitem value=\"people-and-body\"><x-label>People & Body</x-label></x-menuitem><x-menuitem value=\"animals-and-nature\"><x-label>Animals & Nature</x-label></x-menuitem><x-menuitem value=\"food-and-drinks\"><x-label>Food & Drink</x-label></x-menuitem><x-menuitem value=\"travel-and-places\"><x-label>Travel & Places</x-label></x-menuitem><x-menuitem value=\"activities\"><x-label>Activities</x-label></x-menuitem><x-menuitem value=\"objects\"><x-label>Objects</x-label></x-menuitem><x-menuitem value=\"symbols\"><x-label>Symbols</x-label></x-menuitem><x-menuitem value=\"flags\"><x-label>Flags</x-label></x-menuitem></x-menu></x-select></section><section id=\"skin-tone-section\"><h4>Skin tone</h4><x-select id=\"skin-tone-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"medium-light\"><x-label>Medium Light</x-label></x-menuitem><x-menuitem value=\"medium\"><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"medium-dark\"><x-label>Medium Dark</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject476=function _templateObject476(){return data;};return data;}function _templateObject475(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}#category-select{width:100%}"]);_templateObject475=function _templateObject475(){return data;};return data;}function _templateObject474(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem><x-menuitem value=\"outlined\"><x-label>Outlined</x-label></x-menuitem><x-menuitem value=\"round\"><x-label>Rounded</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"two-tone\"><x-label>Two Tone</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"action\"><x-label>Action</x-label></x-menuitem><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"av\"><x-label>Audio & Video</x-label></x-menuitem><x-menuitem value=\"communication\"><x-label>Communication</x-label></x-menuitem><x-menuitem value=\"content\"><x-label>Content</x-label></x-menuitem><x-menuitem value=\"device\"><x-label>Device</x-label></x-menuitem><x-menuitem value=\"editor\"><x-label>Editor</x-label></x-menuitem><x-menuitem value=\"file\"><x-label>File</x-label></x-menuitem><x-menuitem value=\"hardware\"><x-label>Hardware</x-label></x-menuitem><x-menuitem value=\"home\"><x-label>Home</x-label></x-menuitem><x-menuitem value=\"image\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"maps\"><x-label>Maps</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"notification\"><x-label>Notification</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"social\"><x-label>Social</x-label></x-menuitem><x-menuitem value=\"toggle\"><x-label>Toggle</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject474=function _templateObject474(){return data;};return data;}function _templateObject473(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}"]);_templateObject473=function _templateObject473(){return data;};return data;}function _templateObject472(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"regular\"><x-label>Regular</x-label></x-menuitem><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject472=function _templateObject472(){return data;};return data;}function _templateObject471(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject471=function _templateObject471(){return data;};return data;}function _templateObject470(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}#orientation-select{width:100%}#category-select{width:100%}"]);_templateObject470=function _templateObject470(){return data;};return data;}function _templateObject469(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select></section><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject469=function _templateObject469(){return data;};return data;}function _templateObject468(){var data=_taggedTemplateLiteral([":host{width:235px}#scope-buttons{width:100%}#scope-buttons>x-button{flex:1}"]);_templateObject468=function _templateObject468(){return data;};return data;}function _templateObject467(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"scope-section\"><h4>Scope</h4><x-buttons id=\"scope-buttons\" tracking=\"1\"><x-button value=\"personal\" toggled><x-label>Personal</x-label></x-button><x-button value=\"org\"><x-label>Organization</x-label></x-button></x-buttons></section></main></template>"]);_templateObject467=function _templateObject467(){return data;};return data;}function _templateObject466(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-license{margin-top:2px}#meta-license-label,#meta-user-label{font-weight:700;font-size:13px}#meta-license-value,#meta-user-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject466=function _templateObject466(){return data;};return data;}function _templateObject465(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Bitmaps</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"pexels\"><x-icon name=\"pexels\"></x-icon><x-label>Pexels</x-label></x-menuitem><x-menuitem value=\"pixabay\" toggled><x-icon name=\"pixabay\"></x-icon><x-label>Pixabay</x-label></x-menuitem><x-menuitem value=\"unsplash\" id=\"unsplash-menu-item\"><x-icon name=\"unsplash\"></x-icon><x-label>Unsplash</x-label></x-menuitem><x-menuitem value=\"wikimedia\"><x-icon name=\"wikimedia\"></x-icon><x-label>Wikimedia</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-user\"><span id=\"meta-user-label\"></span>: <span id=\"meta-user-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject465=function _templateObject465(){return data;};return data;}function _templateObject464(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject464=function _templateObject464(){return data;};return data;}function _templateObject463(){var data=_taggedTemplateLiteral(["#quality-select{width:100%}#orientation-select{width:100%}"]);_templateObject463=function _templateObject463(){return data;};return data;}function _templateObject462(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"960\"><x-label>960px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject462=function _templateObject462(){return data;};return data;}function _templateObject461(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}#quality-select{width:100%}#orientation-select{width:100%}#category-select{width:100%}"]);_templateObject461=function _templateObject461(){return data;};return data;}function _templateObject460(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select></section><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject460=function _templateObject460(){return data;};return data;}function _templateObject459(){var data=_taggedTemplateLiteral(["#quality-select{width:100%}#orientation-select{width:100%}"]);_templateObject459=function _templateObject459(){return data;};return data;}function _templateObject458(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"960\"><x-label>960px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject458=function _templateObject458(){return data;};return data;}function _templateObject457(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#refresh-button{margin-left:4px;margin-right:-14px}#refresh-button x-icon{width:13px;height:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;color:var(--text-color);align-items:center;box-sizing:border-box;min-height:31px;padding:3px 20px;opacity:.75;overflow:hidden;background:0 0;touch-action:pan-y}#items .item[data-selected]{color:#fff;background:var(--accent-color);opacity:1}#items .item[hidden]{display:none}#items .item .thumbnail{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none;font-size:20px;line-height:1;white-space:pre;color:inherit}#items .item[data-provider=google-fonts]{align-items:stretch}#items .item[data-provider=google-fonts] .thumbnail{width:100%;background-color:currentColor;-webkit-mask-repeat:no-repeat;-webkit-mask-origin:content-box}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:60px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-category,#meta-license,#meta-subsets,#meta-weights{margin-top:2px}#meta-category-label,#meta-family-label,#meta-license-label,#meta-subsets-label,#meta-weights-label{font-weight:700;font-size:13px}#meta-category-value,#meta-family-value,#meta-license-value,#meta-subsets-value,#meta-weights-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-google-fonts-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-google-fonts-button{width:100%}#meta-embed-button,#meta-link-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject457=function _templateObject457(){return data;};return data;}function _templateObject456(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"google-fonts\" toggled><x-icon name=\"google-fonts\"></x-icon><x-label>Google Fonts</x-label></x-menuitem><x-menuitem value=\"local-fonts\" toggled><x-icon id=\"local-fonts-icon\" name=\"os-","\"></x-icon><x-label>Local Fonts</x-label></x-menuitem></x-menu></x-select><x-button id=\"refresh-button\" skin=\"flat\" title=\"Refresh\" toggled><x-icon name=\"refresh\"></x-icon></x-button></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-family\"><span id=\"meta-family-label\">Family: </span><span id=\"meta-family-value\"></span></div><div id=\"meta-weights\"><span id=\"meta-weights-label\">Weights: </span><span id=\"meta-weights-value\"></span></div><div id=\"meta-subsets\"><span id=\"meta-subsets-label\">Subsets: </span><span id=\"meta-subsets-value\"></span></div><div id=\"meta-category\"><span id=\"meta-category-label\">Category: </span><span id=\"meta-category-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer id=\"meta-footer\" part=\"footer\"><a id=\"meta-google-fonts-anchor\" target=\"_blank\"><x-button id=\"meta-google-fonts-button\"><x-label>View on Google Fonts</x-label></x-button></a><x-button id=\"meta-link-button\" toggled><x-label>Add to Defs (Link)</x-label></x-button><x-button id=\"meta-embed-button\" toggled><x-label>Add to Defs (Embed)</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject456=function _templateObject456(){return data;};return data;}function _templateObject455(){var data=_taggedTemplateLiteral(["#sort-select{width:100%}#category-select{width:100%}#subset-select{width:100%}"]);_templateObject455=function _templateObject455(){return data;};return data;}function _templateObject454(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-select id=\"sort-select\"><x-menu id=\"sort-menu\"><x-menuitem value=\"alphabetical\" toggled><x-label>Alphabetical</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popular</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Latest</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu id=\"category-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"subset-section\"><h4>Subset</h4><x-select id=\"subset-select\"><x-menu id=\"subset-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section></main></template>"]);_templateObject454=function _templateObject454(){return data;};return data;}function _templateObject453(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-name-label{font-weight:700;font-size:13px}#meta-name-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-tags-label{font-weight:700;font-size:13px}#meta-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject453=function _templateObject453(){return data;};return data;}function _templateObject452(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"ui-gradients\" toggled><x-icon name=\"ui-gradients\"></x-icon><x-label>uiGradients</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-name\"><span id=\"meta-name-label\">Name:</span> <span id=\"meta-name-value\"></span></div><div id=\"meta-tags\"><span id=\"meta-tags-label\">Tags:</span> <span id=\"meta-tags-value\"></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed hidden><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject452=function _templateObject452(){return data;};return data;}function _templateObject451(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-tags-label{font-weight:700;font-size:13px}#meta-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject451=function _templateObject451(){return data;};return data;}function _templateObject450(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"color-hunt\" toggled><x-icon name=\"color-hunt\"></x-icon><x-label>Color Hunt</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-tags\"><span id=\"meta-tags-label\">Tags:</span> <span id=\"meta-tags-value\"></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject450=function _templateObject450(){return data;};return data;}function _templateObject449(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}"]);_templateObject449=function _templateObject449(){return data;};return data;}function _templateObject448(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\"><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section></main></template>"]);_templateObject448=function _templateObject448(){return data;};return data;}function _templateObject447(){var data=_taggedTemplateLiteral([":host{display:block;padding:10px;width:175px;box-sizing:border-box}h4{margin-top:0}#main>section{margin-top:12px}#main>section:first-child,#main>section[hidden]+section{margin-top:0}"]);_templateObject447=function _templateObject447(){return data;};return data;}function _templateObject446(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#buttons #markers-button{overflow:visible}#buttons #markers-button x-icon{overflow:visible}#main{display:flex;width:100%;height:100%;min-height:38px;flex:1}#main>*{flex:1}"]);_templateObject446=function _templateObject446(){return data;};return data;}function _templateObject445(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Defs</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button id=\"colors-button\" skin=\"flat\" value=\"colors-browser\"><x-icon name=\"defs-colors\"></x-icon></x-button><x-button id=\"gradients-button\" skin=\"flat\" value=\"gradients-browser\"><x-icon name=\"defs-gradients\"></x-icon></x-button><x-button id=\"patterns-button\" skin=\"flat\" value=\"patterns-browser\"><x-icon name=\"defs-patterns\"></x-icon></x-button><x-button id=\"markers-button\" skin=\"flat\" value=\"markers-browser\"><x-icon name=\"defs-markers\"></x-icon></x-button><x-button id=\"symbols-button\" skin=\"flat\" value=\"symbols-browser\"><x-icon name=\"defs-symbols\"></x-icon></x-button><x-button id=\"filters-button\" skin=\"flat\" value=\"filters-browser\"><x-icon name=\"defs-filters\"></x-icon></x-button><x-button id=\"fonts-button\" skin=\"flat\" value=\"fonts-browser\"><x-icon name=\"defs-fonts\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorsbrowser id=\"colors-browser\"></bx-colorsbrowser><bx-gradientsbrowser id=\"gradients-browser\"></bx-gradientsbrowser><bx-patternsbrowser id=\"patterns-browser\"></bx-patternsbrowser><bx-markersbrowser id=\"markers-browser\"></bx-markersbrowser><bx-symbolsbrowser id=\"symbols-browser\"></bx-symbolsbrowser><bx-filtersbrowser id=\"filters-browser\"></bx-filtersbrowser><bx-fontsbrowser id=\"fonts-browser\"></bx-fontsbrowser></main></template>"]);_templateObject445=function _templateObject445(){return data;};return data;}function _templateObject444(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.family-item{width:100%;position:relative;z-index:0}.family-item>.background{position:absolute;top:0;left:0;width:100%;height:38px;z-index:-1}.family-item[data-selected]>.background{background:var(--accent-color)}.family-item>.main{position:relative;z-index:1;display:flex;height:38px;align-items:center;box-sizing:border-box;padding-right:10px}.family-item>.main>.label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:24px;font-weight:400}.family-item[data-selected]>.main>.label{color:#fff}.family-item .unlink-button{margin-right:6px}.family-item .unlink-button x-icon{width:14px;height:14px;opacity:.7}.family-item .counter-button{margin-right:6px}.family-item .pin-button[toggled]{color:currentColor}.family-item .pin-button x-icon{width:16px;height:16px;opacity:.2}.family-item .pin-button[toggled] x-icon{opacity:.7}.font-items-outer{overflow:hidden}.font-items{transform-origin:0 0}.font-items[hidden]{display:none}.font-item{padding:0 28px 0 42px;overflow:hidden;white-space:nowrap}.font-item[data-selected]{background:var(--accent-color);color:#fff}.font-item .label{text-overflow:ellipsis;overflow:hidden}.family-item>.main>.arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center}.family-item[data-selected]>.main>.arrow-button{color:#fff}.family-item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.family-item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.family-item path{fill:currentColor}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject444=function _templateObject444(){return data;};return data;}function _templateObject443(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No fonts found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"add-button\" title=\"New font\"><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-from-disk\" id=\"add-from-disk-menu-item\"><x-label>Add Fonts from Disk\u2026</x-label></x-menuitem><x-menuitem value=\"add-from-library\" id=\"add-from-library-menu-item\"><x-label>Add Fonts from Library\u2026</x-label></x-menuitem></x-menu><x-icon name=\"plus\"></x-icon></x-button></x-box></footer></x-box></template>"]);_templateObject443=function _templateObject443(){return data;};return data;}function _templateObject442(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#filter-inspector-popover{width:600px;height:400px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject442=function _templateObject442(){return data;};return data;}function _templateObject441(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Filters</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No filters found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"filter-inspector-popover\"><bx-filterinspector id=\"filter-inspector\"></bx-filterinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New filter\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-filter\"><x-label>Add Filter</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject441=function _templateObject441(){return data;};return data;}function _templateObject440(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;outline:0;contain:size layout style;--edge-color:#696869;--node-background-color:#d0d0d0;--node-foreground-color:#949494}#main{position:relative;box-sizing:border-box;overflow:hidden;flex:1}#graph-backdrop{fill:none;stroke:none}#graph-nodes .node{color:var(--node-foreground-color);transition:.2s transform linear}#graph-nodes .node[data-highlighted],#graph-nodes .node[data-selected]{color:var(--dark-accent-color)}#graph-nodes .node[data-disabled]{opacity:.5}#graph-nodes .node .background{fill:var(--node-background-color);stroke:currentColor;stroke-width:2px}#graph-nodes .node[data-highlighted] .background,#graph-nodes .node[data-selected] .background{fill:var(--accent-color)}#graph-nodes .node x-icon{width:100%;height:100%;color:currentColor}#graph-edges .edge-inline{fill:none;stroke:var(--edge-color);stroke-width:2px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#edge-marker);transition:.2s d linear}#graph-edges .edge[data-selected] .edge-inline{stroke:var(--accent-color);stroke-width:3px;marker-end:url(#selected-edge-marker)}#graph-edges .edge[data-disabled]{opacity:.3}#graph-edges .edge-outline{fill:none;stroke:transparent;stroke-width:12px;stroke-linejoin:round;stroke-miterlimit:10}#edge-marker{fill:var(--edge-color)}#selected-edge-marker{fill:var(--accent-color)}#graph-edges .label-text{font-size:11px;font-weight:700;display:none;color:#fff;background:var(--edge-color);font-family:inherit;text-align:center;vertical-align:middle;border-radius:12px;transition:.2s x linear,.2s y linear}#graph-edges .edge[data-selected] .label-text{background:var(--accent-color);display:initial}#graph-edges .edge[data-labeled] .label-text{display:initial}#graph-ghost-edge{fill:none;stroke:var(--accent-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#selected-edge-marker);pointer-events:none}#canvas-buttons{position:absolute;right:10px;bottom:10px}#zoom-button{border-radius:0;padding:0 10px}#zoom-button>x-icon{width:12px;height:12px}#add-primitive-button{border-radius:0;padding:0 10px}#add-primitive-button::part(arrow){display:none}#add-primitive-button>x-icon{width:12px;height:12px}#add-primitive-button>x-menu{--align:end}#sidebar{display:flex;flex-flow:column;width:220px;height:100%;min-width:220px;max-width:400px;box-sizing:border-box;border-left-width:1px;border-left-style:solid;position:relative}#sidebar-header{padding:10px;box-sizing:border-box;border-bottom-width:1px;border-bottom-style:solid}#sidebar-header>h2{margin:0;padding:0;font-size:21px}#sidebar-content{overflow:auto}#sidebar-content>p{padding:0 10px;font-size:13px}#sidebar-resize-grippie{position:absolute;top:0;left:-3px;width:6px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject440=function _templateObject440(){return data;};return data;}function _templateObject439(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><svg id=\"canvas\" width=\"1440px\" height=\"900px\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\"><defs><marker id=\"edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker><marker id=\"selected-edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker></defs><g id=\"graph-group\"><rect id=\"graph-backdrop\"></rect><g id=\"graph-edges\"></g><g id=\"graph-nodes\"></g></g></svg><x-buttons id=\"canvas-buttons\"><x-button id=\"zoom-button\" title=\"Zoom to fit all primitives\" condensed><x-icon name=\"zoom\"></x-icon></x-button><x-button id=\"add-primitive-button\" title=\"Add primitive\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-primitive-menu\" title=\"\"><x-menuitem value=\"SourceGraphic\" id=\"source-graphic-menu-item\"><x-icon name=\"filter-source-graphic\"></x-icon><x-label>Source Graphic</x-label></x-menuitem><x-menuitem value=\"SourceAlpha\" id=\"source-alpha-menu-item\"><x-icon name=\"filter-source-alpha\"></x-icon><x-label>Source Alpha</x-label></x-menuitem><hr><x-menuitem value=\"feBlend\"><x-icon name=\"filter-blend\"></x-icon><x-label>Blend</x-label></x-menuitem><x-menuitem value=\"feComposite\"><x-icon name=\"filter-composite\"></x-icon><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"feMerge\"><x-icon name=\"filter-merge\"></x-icon><x-label>Merge</x-label></x-menuitem><hr><x-menuitem value=\"feFlood\"><x-icon name=\"filter-flood\"></x-icon><x-label>Flood</x-label></x-menuitem><x-menuitem value=\"feImage\"><x-icon name=\"filter-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"feTile\"><x-icon name=\"filter-tile\"></x-icon><x-label>Tile</x-label></x-menuitem><x-menuitem value=\"feTurbulence\"><x-icon name=\"filter-turbulence\"></x-icon><x-label>Turbulence</x-label></x-menuitem><hr><x-menuitem value=\"feColorMatrix\"><x-icon name=\"filter-color-matrix\"></x-icon><x-label>Color Matrix</x-label></x-menuitem><x-menuitem value=\"feComponentTransfer\"><x-icon name=\"filter-component-transfer\"></x-icon><x-label>Component Transfer</x-label></x-menuitem><hr><x-menuitem value=\"feConvolveMatrix\"><x-icon name=\"filter-convolve-matrix\"></x-icon><x-label>Convolve Matrix</x-label></x-menuitem><x-menuitem value=\"feDisplacementMap\"><x-icon name=\"filter-displacement-map\"></x-icon><x-label>Displacement Map</x-label></x-menuitem><x-menuitem value=\"feGaussianBlur\"><x-icon name=\"filter-gaussian-blur\"></x-icon><x-label>Gaussian Blur</x-label></x-menuitem><x-menuitem value=\"feMorphology\"><x-icon name=\"filter-morphology\"></x-icon><x-label>Morphology</x-label></x-menuitem><x-menuitem value=\"feDropShadow\"><x-icon name=\"filter-drop-shadow\"></x-icon><x-label>Drop Shadow</x-label></x-menuitem><x-menuitem value=\"feOffset\"><x-icon name=\"filter-offset\"></x-icon><x-label>Offset</x-label></x-menuitem><hr><x-menuitem value=\"feSpecularLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Specular Lighting</x-label></x-menuitem><x-menuitem value=\"feDiffuseLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Diffuse Lighting</x-label></x-menuitem></x-menu></x-button></x-buttons></main><aside id=\"sidebar\" part=\"sidebar\"><div id=\"sidebar-header\" part=\"sidebar-header\"><h2 id=\"sidebar-heading\"></h2></div><div id=\"sidebar-content\"></div><div id=\"sidebar-resize-grippie\"></div></aside></template>"]);_templateObject439=function _templateObject439(){return data;};return data;}function _templateObject438(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}"]);_templateObject438=function _templateObject438(){return data;};return data;}function _templateObject437(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Diffuse constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject437=function _templateObject437(){return data;};return data;}function _templateObject436(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}#exponent-section h4{margin-bottom:0}#exponent-slider{flex:1}#exponent-input{margin-left:6px;width:54px}"]);_templateObject436=function _templateObject436(){return data;};return data;}function _templateObject435(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Specular constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"exponent-section\"><h4>Specular exponent</h4><x-box id=\"exponent-box\"><x-slider id=\"exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject435=function _templateObject435(){return data;};return data;}function _templateObject434(){var data=_taggedTemplateLiteral(["#surface-scale-section h4{margin-bottom:0}#surface-scale-slider{flex:1}#surface-scale-input{margin-left:6px;width:54px}#color-select x-popover{--align:right}#source-type-buttons{width:100%}#source-type-buttons x-button{flex:1}#source-position-subsection x-numberinput{width:100%}#source-position-x-box,#source-position-y-box,#source-position-z-box{flex:1}#source-position-y-box{margin:0 4px}#source-target-subsection x-numberinput{width:100%}#source-target-x-box,#source-target-y-box,#source-target-z-box{flex:1}#source-target-y-box{margin:0 4px}#source-cone-subsection h5{margin-bottom:0}#source-cone-slider{flex:1}#source-cone-input{margin-left:6px;width:54px}#source-exponent-subsection h5{margin-bottom:0}#source-exponent-slider{flex:1}#source-exponent-input{margin-left:6px;width:54px}#source-azimuth-subsection h5{margin-bottom:0}#source-azimuth-slider{flex:1}#source-azimuth-input{margin-left:6px;width:54px}#source-elevation-subsection h5{margin-bottom:0}#source-elevation-slider{flex:1}#source-elevation-input{margin-left:6px;width:54px}"]);_templateObject434=function _templateObject434(){return data;};return data;}function _templateObject433(){var data=_taggedTemplateLiteral(["<template><section id=\"surface-scale-section\"><h4>Surface scale</h4><x-box id=\"surface-scale-box\"><x-slider id=\"surface-scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"surface-scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><hr><section id=\"source-section\"><h4>Light source</h4><section id=\"source-type-subsection\"><h5>Type</h5><x-buttons id=\"source-type-buttons\" tracking=\"1\"><x-button value=\"fePointLight\" toggled><x-label>Point</x-label></x-button><x-button value=\"feSpotLight\"><x-label>Spot</x-label></x-button><x-button value=\"feDistantLight\"><x-label>Distant</x-label></x-button></x-buttons></section><section id=\"source-position-subsection\"><x-box><x-box id=\"source-position-x-box\" vertical><h5>X</h5><x-numberinput id=\"source-position-x-input\" value=\"0\" data-name=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-y-box\" vertical><h5>Y</h5><x-numberinput id=\"source-position-y-input\" value=\"0\" data-name=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-z-box\" vertical><h5>Z</h5><x-numberinput id=\"source-position-z-input\" value=\"0\" data-name=\"z\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-target-subsection\"><x-box><x-box id=\"source-target-x-box\" vertical><h5>Target X</h5><x-numberinput id=\"source-target-x-input\" value=\"0\" data-name=\"pointsAtX\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-y-box\" vertical><h5>Target Y</h5><x-numberinput id=\"source-target-y-input\" value=\"0\" data-name=\"pointsAtY\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-z-box\" vertical><h5>Target Z</h5><x-numberinput id=\"source-target-z-input\" value=\"0\" data-name=\"pointsAtZ\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-cone-subsection\"><h5>Limiting cone angle</h5><x-box id=\"source-cone-box\"><x-slider id=\"source-cone-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-cone-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-exponent-subsection\"><h5>Specular exponent</h5><x-box id=\"source-exponent-box\"><x-slider id=\"source-exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"source-exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-azimuth-subsection\"><h5>Azimuth</h5><x-box id=\"source-azimuth-box\"><x-slider id=\"source-azimuth-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-azimuth-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-elevation-subsection\"><h5>Elevation</h5><x-box id=\"source-elevation-box\"><x-slider id=\"source-elevation-slider\" value=\"0\" min=\"0\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"source-elevation-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section></template>"]);_templateObject433=function _templateObject433(){return data;};return data;}function _templateObject432(){var data=_taggedTemplateLiteral(["#delta-section x-label{margin-bottom:3px;font-size:12px}#delta-section x-numberinput{width:100%}#delta-section #x-box,#delta-section #y-box{flex:1}#delta-section #x-box{margin-right:7px}#delta-section #y-box{margin-left:7px}"]);_templateObject432=function _templateObject432(){return data;};return data;}function _templateObject431(){var data=_taggedTemplateLiteral(["<template><section id=\"delta-section\"><h4>Delta</h4><x-box><x-box id=\"x-box\" vertical><x-label>X</x-label><x-numberinput id=\"x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject431=function _templateObject431(){return data;};return data;}function _templateObject430(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#offset-section x-label{margin-bottom:3px;font-size:12px}#offset-section x-numberinput{width:100%}#offset-x-box,#offset-y-box{flex:1}#offset-x-box{margin-right:13px}#offset-y-box{margin-left:13px}#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject430=function _templateObject430(){return data;};return data;}function _templateObject429(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"offset-section\"><h4>Offset</h4><x-box><x-box id=\"offset-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"offset-x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"offset-y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject429=function _templateObject429(){return data;};return data;}function _templateObject428(){var data=_taggedTemplateLiteral(["#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section x-label{margin-bottom:3px;font-size:12px}#radius-section x-numberinput{width:100%}#radius-x-box,#radius-y-box{flex:1}#radius-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-lock-button[toggled]{opacity:.9}#radius-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject428=function _templateObject428(){return data;};return data;}function _templateObject427(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4>Radius</h4><x-box><x-box id=\"radius-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"radius-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"radius-lock-button\" togglable skin=\"flat\"><x-icon id=\"radius-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"radius-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"radius-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject427=function _templateObject427(){return data;};return data;}function _templateObject426(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject426=function _templateObject426(){return data;};return data;}function _templateObject425(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject425=function _templateObject425(){return data;};return data;}function _templateObject424(){var data=_taggedTemplateLiteral(["#scale-section h4{margin-bottom:0}#scale-slider{flex:1}#scale-input{margin-left:6px;width:54px}#x-channel-buttons{width:100%}#x-channel-buttons x-button{flex:1}#y-channel-buttons{width:100%}#y-channel-buttons x-button{flex:1}"]);_templateObject424=function _templateObject424(){return data;};return data;}function _templateObject423(){var data=_taggedTemplateLiteral(["<template><section id=\"scale-section\"><h4>Scale</h4><x-box id=\"scale-box\"><x-slider id=\"scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"x-channel-section\"><h4>X channel</h4><x-buttons id=\"x-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section><section id=\"y-channel-section\"><h4>Y channel</h4><x-buttons id=\"y-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section></template>"]);_templateObject423=function _templateObject423(){return data;};return data;}function _templateObject422(){var data=_taggedTemplateLiteral(["#kernel-values-table{display:block;margin-top:8px;--order-x:3;--order-y:3}#kernel-values-table .row-box{margin-top:-1px}#kernel-values-table .row-box:first-child{margin-top:0}#kernel-values-table x-numberinput{margin-left:-1px;text-align:center;min-width:calc(100% / var(--order-x));flex:1}#kernel-values-table x-numberinput:first-child{margin-left:0}#kernel-values-table x-numberinput[data-target=true]{background:#f5f4ce}#kernel-buttons-box{margin-top:5px}#kernel-buttons-box x-icon{width:13px;height:13px;opacity:.8}#kernel-column-buttons{margin-left:auto}#target-section x-label{margin-bottom:3px;font-size:12px}#target-section x-numberinput{width:100%}#target-x-box,#target-y-box{flex:1}#target-x-box{margin-right:7px}#target-y-box{margin-left:7px}#divisor-section h4{margin-bottom:0}#divisor-switch{margin:0}#divisor-box{margin-top:6px}#divisor-slider{flex:1}#divisor-input{margin-left:6px;width:54px}#bias-section h4{margin-bottom:0}#bias-slider{flex:1}#bias-input{margin-left:6px;width:54px}#edge-mode-buttons{width:100%}#edge-mode-buttons x-button{flex:1}#preserve-section x-checkbox{margin:5px 0}"]);_templateObject422=function _templateObject422(){return data;};return data;}function _templateObject421(){var data=_taggedTemplateLiteral(["<template><section id=\"kernel-section\"><h4>Kernel</h4><div id=\"kernel-values-table\"></div><x-box id=\"kernel-buttons-box\"><x-buttons id=\"kernel-row-buttons\"><x-button id=\"kernel-remove-row-button\" value=\"row-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-up\"></x-icon></x-button><x-button id=\"kernel-add-row-button\" value=\"row-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-down\"></x-icon></x-button></x-buttons><x-buttons id=\"kernel-column-buttons\"><x-button id=\"kernel-remove-column-button\" value=\"column-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-left\"></x-icon></x-button><x-button id=\"kernel-add-column-button\" value=\"column-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-right\"></x-icon></x-button></x-buttons></x-box></section><section id=\"target-section\"><h4>Target</h4><x-box id=\"target-box\"><x-box id=\"target-x-box\" vertical><x-label id=\"target-x-label\">X</x-label><x-numberinput id=\"target-x-input\" data-name=\"targetX\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><x-label id=\"target-y-label\">Y</x-label><x-numberinput id=\"target-y-input\" data-name=\"targetY\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"divisor-section\"><x-box><h4 id=\"divisor-heading\">Divisor</h4><x-switch id=\"divisor-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"divisor-box\"><x-slider id=\"divisor-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"divisor-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"bias-section\"><h4>Bias</h4><x-box id=\"bias-box\"><x-slider id=\"bias-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"bias-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"edge-mode-section\"><h4>Edge mode</h4><x-buttons id=\"edge-mode-buttons\" tracking=\"1\"><x-button value=\"duplicate\" condensed toggled><x-label>Duplicate</x-label></x-button><x-button value=\"wrap\" condensed><x-label>Wrap</x-label></x-button><x-button value=\"none\" condensed><x-label>None</x-label></x-button></x-buttons></section><section id=\"preserve-section\"><h4>Preserve</h4><x-checkbox id=\"preserve-alpha-checkbox\" toggled><x-label>Alpha</x-label></x-checkbox></section></template>"]);_templateObject421=function _templateObject421(){return data;};return data;}function _templateObject420(){var data=_taggedTemplateLiteral(["#component-buttons{width:100%;margin-top:8px}#component-buttons x-button{flex:1}#type-select{width:100%}#linear-slope-section h4{margin-bottom:0}#linear-slope-slider{flex:1}#linear-slope-input{margin-left:6px;width:54px}#linear-intercept-section h4{margin-bottom:0}#linear-intercept-slider{flex:1}#linear-intercept-input{margin-left:6px;width:54px}#gamma-amplitude-section h4{margin-bottom:0}#gamma-amplitude-slider{flex:1}#gamma-amplitude-input{margin-left:6px;width:54px}#gamma-exponent-section h4{margin-bottom:0}#gamma-exponent-slider{flex:1}#gamma-exponent-input{margin-left:6px;width:54px}#gamma-offset-section h4{margin-bottom:0}#gamma-offset-slider{flex:1}#gamma-offset-input{margin-left:6px;width:54px}#table-values-box{margin-top:1px;flex-wrap:wrap}#table-values-section x-numberinput{margin-top:-1px;margin-left:-1px;width:auto;min-width:calc(20% + 1px);text-align:center}"]);_templateObject420=function _templateObject420(){return data;};return data;}function _templateObject419(){var data=_taggedTemplateLiteral(["<template><section id=\"component-section\"><h4>Component</h4><x-buttons id=\"component-buttons\" tracking=\"1\"><x-button value=\"feFuncR\" condensed toggled><x-label>Red</x-label></x-button><x-button value=\"feFuncG\" condensed><x-label>Green</x-label></x-button><x-button value=\"feFuncB\" condensed><x-label>Blue</x-label></x-button><x-button value=\"feFuncA\" condensed><x-label>Alpha</x-label></x-button></x-buttons></section><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"identity\" toggled><x-label>Identity</x-label></x-menuitem><x-menuitem value=\"linear\"><x-label>Linear</x-label></x-menuitem><x-menuitem value=\"gamma\"><x-label>Gamma</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"discrete\"><x-label>Discrete table</x-label></x-menuitem></x-menu></x-select></section><section id=\"linear-slope-section\" hidden><h4>Slope</h4><x-box id=\"linear-slope-box\"><x-slider id=\"linear-slope-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-slope-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"linear-intercept-section\" hidden><h4>Intercept</h4><x-box id=\"linear-intercept-box\"><x-slider id=\"linear-intercept-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-intercept-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-amplitude-section\" hidden><h4>Amplitude</h4><x-box id=\"gamma-amplitude-box\"><x-slider id=\"gamma-amplitude-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-amplitude-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-exponent-section\" hidden><h4>Exponent</h4><x-box id=\"gamma-exponent-box\"><x-slider id=\"gamma-exponent-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-exponent-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-offset-section\" hidden><h4>Offset</h4><x-box id=\"gamma-offset-box\"><x-slider id=\"gamma-offset-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-offset-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"table-values-section\" hidden><h4>Values</h4><x-box id=\"table-values-box\"><x-numberinput value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput></x-box></section></template>"]);_templateObject419=function _templateObject419(){return data;};return data;}function _templateObject418(){var data=_taggedTemplateLiteral(["#type-select{width:100%}#matrix-values-section .row-box{margin-top:-1px}#matrix-values-section .row-box:first-child{margin-top:0}#matrix-values-section x-numberinput{min-width:calc(100%/5);margin-left:-1px;text-align:center}#matrix-values-section x-numberinput:first-child{margin-left:0}#saturate-value-section h4{margin-bottom:0}#saturate-value-section x-box{width:100%}#saturate-value-section x-slider{flex:1}#saturate-value-section x-numberinput{width:60px;margin-left:10px}#hue-rotate-value-section h4{margin-bottom:0}#hue-rotate-value-section x-box{width:100%}#hue-rotate-value-section x-slider{flex:1}#hue-rotate-value-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject418=function _templateObject418(){return data;};return data;}function _templateObject417(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"matrix\" toggled><x-label>Matrix</x-label></x-menuitem><x-menuitem value=\"saturate\"><x-label>Saturate</x-label></x-menuitem><x-menuitem value=\"hueRotate\"><x-label>Hue rotate</x-label></x-menuitem><x-menuitem value=\"luminanceToAlpha\"><x-label>Luminance to alpha</x-label></x-menuitem></x-menu></x-select></section><section id=\"matrix-values-section\"><h4>Values</h4><x-box class=\"row-box\"><x-numberinput id=\"matrix-0-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-1-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-2-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-3-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-4-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-5-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-6-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-7-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-8-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-9-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-10-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-11-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-12-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-13-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-14-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-15-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-16-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-17-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-18-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-19-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-20-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-21-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-22-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-23-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-24-input\" value=\"1\" step=\"0.01\" disabled=\"disabled\"></x-numberinput></x-box></section><section id=\"saturate-value-section\"><h4>Value</h4><x-box id=\"saturate-value-box\"><x-slider id=\"saturate-value-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturate-value-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hue-rotate-value-section\"><h4 id=\"hue-rotate-value-heading\">Value</h4><x-box id=\"hue-rotate-value-box\"><x-slider id=\"hue-rotate-value-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"hue-rotate-value-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject417=function _templateObject417(){return data;};return data;}function _templateObject416(){var data=_taggedTemplateLiteral(["#type-buttons{width:100%}#type-buttons x-button{flex:1}#frequency-section #frequency-value-box x-label{margin-bottom:3px;font-size:12px}#frequency-section #frequency-value-box x-numberinput{width:100%}#frequency-x-box,#frequency-y-box{flex:1}#frequency-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#frequency-lock-button[toggled]{opacity:.9}#frequency-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#frequency-stitch-checkbox{margin-top:8px}#frequency-stitch-checkbox x-label{font-size:12px}#octaves-section h4{margin-bottom:0}#octaves-slider{flex:1}#octaves-input{margin-left:6px;width:54px}#seed-section h4{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:6px;width:54px}"]);_templateObject416=function _templateObject416(){return data;};return data;}function _templateObject415(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-buttons id=\"type-buttons\" tracking=\"1\"><x-button value=\"turbulence\" toggled><x-label>Turbulence</x-label></x-button><x-button value=\"fractalNoise\"><x-label>Noise</x-label></x-button></x-buttons></section><section id=\"frequency-section\"><h4>Base frequency</h4><x-box id=\"frequency-value-box\"><x-box id=\"frequency-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"frequency-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"frequency-lock-button\" togglable skin=\"flat\"><x-icon id=\"frequency-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"frequency-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"frequency-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"frequency-stitch-checkbox\"><x-label>Stitch tiles</x-label></x-checkbox></section><section id=\"octaves-section\"><h4>Number of octaves</h4><x-box id=\"octaves-box\"><x-slider id=\"octaves-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"octaves-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-section\"><h4>Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject415=function _templateObject415(){return data;};return data;}function _templateObject414(){var data=_taggedTemplateLiteral(["#source-thumbnail{width:54px;height:54px;min-width:54px;margin-right:8px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#source-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none;visibility:hidden}#source-thumbnail-img[src]{visibility:visible}#source-column-right{flex:1}#source-href-input{max-width:none}#source-import-button{margin-top:8px;width:100%}"]);_templateObject414=function _templateObject414(){return data;};return data;}function _templateObject413(){var data=_taggedTemplateLiteral(["<template><section id=\"source-section\"><h4>Source</h4><x-box><div id=\"source-thumbnail\" part=\"thumbnail\" class=\"left\"><img id=\"source-thumbnail-img\"></div><div id=\"source-column-right\"><x-input id=\"source-href-input\"><x-label>Href</x-label></x-input><x-button id=\"source-import-button\" toggled><x-label>Import from Disk</x-label></x-button></div></x-box></section></template>"]);_templateObject413=function _templateObject413(){return data;};return data;}function _templateObject412(){var data=_taggedTemplateLiteral(["#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject412=function _templateObject412(){return data;};return data;}function _templateObject411(){var data=_taggedTemplateLiteral(["<template><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject411=function _templateObject411(){return data;};return data;}function _templateObject410(){var data=_taggedTemplateLiteral(["#operator-select{width:100%}#parameters-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#parameters-section x-numberinput{width:100%}#parameters-section #k1-box,#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{flex:1;min-width:0}#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{margin-left:4px}"]);_templateObject410=function _templateObject410(){return data;};return data;}function _templateObject409(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-select id=\"operator-select\"><x-menu><x-menuitem value=\"over\" toggled><x-label>Over</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>In</x-label></x-menuitem><x-menuitem value=\"atop\"><x-label>Atop</x-label></x-menuitem><x-menuitem value=\"out\"><x-label>Out</x-label></x-menuitem><x-menuitem value=\"xor\"><x-label>Xor</x-label></x-menuitem><x-menuitem value=\"arithmetic\"><x-label>Arithmetic</x-label></x-menuitem></x-menu></x-select></section><section id=\"parameters-section\" hidden><h4 id=\"parameters-heading\">Parameters</h4><x-box id=\"parameters-box\"><x-box id=\"k1-box\" vertical><x-label id=\"k1-heading\">k1</x-label><x-numberinput id=\"k1-input\" value=\"0\" step=\"0.1\" data-parameter=\"k1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k2-box\" vertical><x-label id=\"k2-heading\">k2</x-label><x-numberinput id=\"k2-input\" value=\"0\" step=\"0.1\" data-parameter=\"k2\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k3-box\" vertical><x-label id=\"k3-heading\">k3</x-label><x-numberinput id=\"k3-input\" value=\"0\" step=\"0.1\" data-parameter=\"k3\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k4-box\" vertical><x-label id=\"k4-heading\">k4</x-label><x-numberinput id=\"k4-input\" value=\"0\" step=\"0.1\" data-parameter=\"k4\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject409=function _templateObject409(){return data;};return data;}function _templateObject408(){var data=_taggedTemplateLiteral(["#blend-mode-select{width:100%}"]);_templateObject408=function _templateObject408(){return data;};return data;}function _templateObject407(){var data=_taggedTemplateLiteral(["<template><section id=\"blend-mode-section\"><h4>Blend Mode</h4><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\"><x-label>Normal</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"darken\" toggled><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject407=function _templateObject407(){return data;};return data;}function _templateObject406(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main h5{margin:0 0 4px 0;font-size:12px;font-weight:400}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>section>section+section{margin-top:14px}#main>hr{margin:14px 0}#main>hr:first-child{display:none}#subregion-section{position:relative}#subregion-section>x-box{justify-content:space-between}#subregion-section>x-box:not(:first-child){margin-top:8px}#subregion-section>x-box>x-box{width:calc(50% - 13px)}#subregion-section x-box>x-box>x-numberinput{width:100%}#subregion-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#subregion-lock-button[toggled]{opacity:.9}#subregion-lock-button x-icon{width:18px;height:18px}"]);_templateObject406=function _templateObject406(){return data;};return data;}function _templateObject405(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><hr><section id=\"subregion-section\"><h4>Subregion</h4><x-box><x-box id=\"subregion-x-box\" vertical><h5>X</h5><x-numberinput id=\"subregion-x-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"subregion-y-box\" vertical><h5>Y</h5><x-numberinput id=\"subregion-y-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"subregion-width-box\" vertical><h5>Width</h5><x-numberinput id=\"subregion-width-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"subregion-lock-button\" togglable skin=\"flat\"><x-icon id=\"subregion-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"subregion-height-box\" vertical><h5>Height</h5><x-numberinput id=\"subregion-height-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject405=function _templateObject405(){return data;};return data;}function _templateObject404(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#slot-buttons{width:100%}#slot-buttons>x-button{flex:1}"]);_templateObject404=function _templateObject404(){return data;};return data;}function _templateObject403(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"slot-section\"><h4>Input slot</h4><x-buttons id=\"slot-buttons\" tracking=\"1\"><x-button value=\"1\" condensed toggled><x-label>1</x-label></x-button><x-button value=\"2\" condensed><x-label>2</x-label></x-button><x-button value=\"3\" condensed><x-label>3</x-label></x-button></x-buttons></section></main></template>"]);_templateObject403=function _templateObject403(){return data;};return data;}function _templateObject402(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>hr{margin:14px 0}#filter-units-select{width:100%}#primitive-units-select{width:100%}#region-section{position:relative}#region-section>x-box{justify-content:space-between}#region-section>x-box:not(:first-child){margin-top:8px}#region-section>x-box>x-box{width:calc(50% - 13px)}#region-section>x-box>x-box>x-label{margin-bottom:3px;font-size:12px}#region-section x-box>x-box>x-numberinput{width:100%}#region-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#region-lock-button[toggled]{opacity:.9}#region-lock-button x-icon{width:18px;height:18px}"]);_templateObject402=function _templateObject402(){return data;};return data;}function _templateObject401(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"filter-units-section\"><h4>Filter units</h4><x-select id=\"filter-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><section id=\"primitive-units-section\"><h4>Primitive units</h4><x-select id=\"primitive-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"region-section\"><h4>Region</h4><x-box><x-box id=\"region-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"region-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"region-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"region-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"region-width-box\" vertical><x-label>Width</x-label><x-numberinput id=\"region-width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"region-lock-button\" togglable skin=\"flat\"><x-icon id=\"region-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"region-height-box\" vertical><x-label>Height</x-label><x-numberinput id=\"region-height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject401=function _templateObject401(){return data;};return data;}function _templateObject400(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject400=function _templateObject400(){return data;};return data;}function _templateObject399(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Symbols</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No symbols found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New symbol\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-symbol\"><x-label>Add Symbol</x-label></x-menuitem><x-menuitem value=\"add-symbol-from-objects\" id=\"add-symbol-from-objects-menu-item\"><x-label>Add Symbol from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject399=function _templateObject399(){return data;};return data;}function _templateObject398(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject398=function _templateObject398(){return data;};return data;}function _templateObject397(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Markers</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New marker\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-marker\"><x-label>Add Marker</x-label></x-menuitem><x-menuitem value=\"add-marker-from-objects\" id=\"add-marker-from-objects-menu-item\"><x-label>Add Marker from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject397=function _templateObject397(){return data;};return data;}function _templateObject396(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject396=function _templateObject396(){return data;};return data;}function _templateObject395(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Patterns</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No patterns found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Pattern\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-pattern\"><x-label>Add Pattern</x-label></x-menuitem><x-menuitem value=\"add-pattern-from-objects\" id=\"add-pattern-from-objects-menu-item\"><x-label>Add Pattern from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject395=function _templateObject395(){return data;};return data;}function _templateObject394(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#gradient-inspector-popover{width:250px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject394=function _templateObject394(){return data;};return data;}function _templateObject393(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"gradient-inspector-popover\"><bx-gradientinspector id=\"gradient-inspector\"></bx-gradientinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add gradient\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-gradient\"><x-label>Add Gradient</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-fill\" id=\"add-gradient-from-fill-menu-item\"><x-label>Add Gradient from Selected Object Fill</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-stroke\" id=\"add-gradient-from-stroke-menu-item\"><x-label>Add Gradient from Selected Object Stroke</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject393=function _templateObject393(){return data;};return data;}function _templateObject392(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;padding:16px;outline:0;box-sizing:border-box}h4{margin:17px 0 9px 0}#main{width:100%;height:100%;display:flex;flex-flow:column}#gradient-section h4{margin-top:0}#gradient-slider{position:relative;width:100%;height:40px;border-width:1px;border-style:solid;touch-action:pan-y;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;background:var(--checkboard-background);--marker-width:18px}#left-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;left:0;background:#000}#right-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;right:0;background:#000}#gradient-slider #track{width:100%;height:100%;position:relative;display:flex;align-items:center}#gradient-slider #markers{position:absolute;top:-3px;left:0;width:100%;height:calc(100% + 6px)}#gradient-slider .marker{position:absolute;left:0;width:var(--marker-width);height:100%;box-sizing:border-box;background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 1px #000;transform:translateX(-50%)}#gradient-slider .marker[data-selected]{border:3px solid #93d2ff}#gradient-slider[data-dragging] .marker{transition:height .1s ease,top .1s ease}#stop-color-picker{width:100%}#stop-offset-section h4{margin-bottom:2px}#stop-offset-section x-box{width:100%}#stop-offset-slider{flex:1}#stop-offset-input{margin-left:6px;width:58px}#placeholder-section{flex:1;display:flex;align-items:center;justify-content:center;margin-top:16px}#placeholder-section[hidden]{display:none}#placeholder-section x-label{opacity:.6;box-sizing:border-box;font-size:13px}"]);_templateObject392=function _templateObject392(){return data;};return data;}function _templateObject391(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"gradient-section\"><h4>Gradient</h4><div id=\"gradient-slider\" part=\"gradient-slider\"><div id=\"left-gradient-slider-edge\"></div><div id=\"right-gradient-slider-edge\"></div><div id=\"track\"><div id=\"markers\"></div></div></div></section><section id=\"stop-color-section\"><h4>Stop color</h4><bx-colorpicker id=\"stop-color-picker\" type=\"rect\" format=\"hex\" alphaslider formatselect></bx-colorpicker></section><section id=\"stop-offset-section\"><h4>Stop offset</h4><x-box><x-slider id=\"stop-offset-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-offset-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"placeholder-section\"><x-label>No gradient stops selected</x-label></section></main></template>"]);_templateObject391=function _templateObject391(){return data;};return data;}function _templateObject390(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:var(--error-color)}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#color-picker-popover{width:220px;--align:left}#color-picker-popover>main{box-sizing:border-box;padding:13px 16px 16px 16px}#color-picker-popover h4{margin-top:0}#color-picker-popover #color-picker{width:100%}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject390=function _templateObject390(){return data;};return data;}function _templateObject389(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No colors found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"color-picker-popover\"><main><h4>Color</h4><bx-colorpicker id=\"color-picker\" value=\"#ffffff\" alphaslider></bx-colorpicker></main></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Color\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-color\"><x-label>Add Color</x-label></x-menuitem><x-menuitem value=\"add-color-from-fill\" id=\"add-color-from-fill-menu-item\"><x-label>Add Colors from Selected Objects Fill</x-label></x-menuitem><x-menuitem value=\"add-color-from-stroke\" id=\"add-color-from-stroke-menu-item\"><x-label>Add Colors from Selected Objects Stroke</x-label></x-menuitem><hr><x-menuitem value=\"add-color-from-library\" id=\"add-color-from-library\"><x-label>Add Colors from Library\u2026</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject389=function _templateObject389(){return data;};return data;}function _templateObject388(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;overflow:auto}"]);_templateObject388=function _templateObject388(){return data;};return data;}function _templateObject387(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header id=\"header\" part=\"header\"><h2>Objects</h2></header><main id=\"main\"><bx-objectsbrowser id=\"objects-browser\"></bx-objectsbrowser></main></div></template>"]);_templateObject387=function _templateObject387(){return data;};return data;}function _templateObject386(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#main{flex:1;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0;position:relative}#drop-marker{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-marker[hidden]{display:none}#drop-marker #drop-marker-circle{width:8px;height:8px;box-sizing:border-box;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}.item{position:relative}.item>.background{position:absolute;z-index:0;top:0;left:0;width:100%;height:20px}.item[data-selected]>.background{background:var(--accent-color)}.item[data-invalid]>.background{background:var(--error-color)}.item>.main{position:relative;z-index:1;padding:0 0 0 24px;display:flex;align-items:center}.item[data-selected]>.main{color:#fff}.item>.children-outer{overflow:hidden}.item>.children-outer .children{transform-origin:0 0}.item .action-buttons{margin-left:auto;display:flex}.item x-input{height:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px;color:var(--text-color)}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:1px;color:var(--error-color);z-index:100;pointer-events:none}.item use{fill:currentColor}.item>.main .label{margin-left:10px;font-size:13px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item>.main .label[data-custom]{font-weight:700}.item>.main .object-icon{width:15px;height:15px;min-width:15px}.item .arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none}.item[data-expandable]>.main .arrow-button{visibility:visible;pointer-events:all}.item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.item .lock-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3}.item>.main:hover .lock-button{visibility:visible;pointer-events:all}.item[data-locked]>.main .lock-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .lock-icon{width:15px;height:15px;min-width:15px}.item .visibility-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3;padding-right:4px}.item>.main:hover .visibility-button{visibility:visible;pointer-events:all}.item[data-hidden]>.main .visibility-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .visibility-icon{width:15px;height:15px;min-width:15px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#footer #add-menu h3{padding:5px 0 5px 8px;margin:0;font-size:11px;text-transform:uppercase}"]);_templateObject386=function _templateObject386(){return data;};return data;}function _templateObject385(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\" tabindex=\"0\"><div id=\"items\"></div><div id=\"drop-marker\" hidden><div id=\"drop-marker-circle\"></div></div><x-contextmenu id=\"context-menu\" disabled=\"disabled\"><x-menu><x-menuitem id=\"group-menu-item\" value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem id=\"ungroup-menu-item\" value=\"ungroup\"><x-label>Ungroup</x-label></x-menuitem><x-menuitem id=\"enter-group-menu-item\" value=\"enterGroup\"><x-label>Enter group</x-label></x-menuitem></x-menu></x-contextmenu></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\"><h3>Add object</h3><x-menuitem value=\"g\"><x-icon name=\"object-group\"></x-icon><x-label>Group</x-label></x-menuitem><x-menuitem value=\"a\"><x-icon name=\"object-link\"></x-icon><x-label>Link</x-label></x-menuitem><x-menuitem value=\"image\"><x-icon name=\"object-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"path\"><x-icon name=\"object-path\"></x-icon><x-label>Path</x-label></x-menuitem><x-menuitem value=\"text\"><x-icon name=\"object-text\"></x-icon><x-label>Text</x-label></x-menuitem><x-menuitem value=\"rect\"><x-icon name=\"object-rect\"></x-icon><x-label>Rectangle</x-label></x-menuitem><x-menuitem value=\"circle\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Circle</x-label></x-menuitem><x-menuitem value=\"ellipse\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Ellipse</x-label></x-menuitem><x-menuitem value=\"ring\"><x-icon name=\"object-ring\"></x-icon><x-label>Ring</x-label></x-menuitem><x-menuitem value=\"pie\"><x-icon name=\"object-pie\"></x-icon><x-label>Pie</x-label></x-menuitem><x-menuitem value=\"crescent\"><x-icon name=\"object-crescent\"></x-icon><x-label>Crescent</x-label></x-menuitem><x-menuitem value=\"triangle\"><x-icon name=\"object-triangle\"></x-icon><x-label>Triangle</x-label></x-menuitem><x-menuitem value=\"n-gon\"><x-icon name=\"object-n-gon\"></x-icon><x-label>N-gon</x-label></x-menuitem><x-menuitem value=\"star\"><x-icon name=\"object-star\"></x-icon><x-label>Star</x-label></x-menuitem><x-menuitem value=\"cog\"><x-icon name=\"object-cog\"></x-icon><x-label>Cog</x-label></x-menuitem><x-menuitem value=\"cross\"><x-icon name=\"object-cross\"></x-icon><x-label>Cross</x-label></x-menuitem><x-menuitem value=\"spiral\"><x-icon name=\"object-spiral\"></x-icon><x-label>Spiral</x-label></x-menuitem><x-menuitem value=\"line\"><x-icon name=\"object-line\"></x-icon><x-label>Line</x-label></x-menuitem><x-menuitem value=\"polyline\"><x-icon name=\"object-polyline\"></x-icon><x-label>Polyline</x-label></x-menuitem><x-menuitem value=\"polygon\"><x-icon name=\"object-polygon\"></x-icon><x-label>Polygon</x-label></x-menuitem></x-menu></x-button></x-box></footer></div></template>"]);_templateObject385=function _templateObject385(){return data;};return data;}function _templateObject384(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#align-section{padding:10px 20px 18px 20px}#move-buttons{width:110px;align-items:center}#move-buttons>x-box{width:100%;justify-content:space-between}#move-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#move-buttons x-icon{width:24px;height:24px}#move-buttons[data-side=outside] x-icon{transform:rotate(180deg)}#move-buttons #arrange-bottom-button{margin:0}#center-buttons,#stretch-buttons{margin-left:26px}#center-buttons x-button,#stretch-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#center-buttons x-button:last-child,#stretch-buttons x-button:last-child{margin-bottom:0}#center-buttons x-icon,#stretch-buttons x-icon{width:24px;height:24px}#align-options-subsection{margin-top:14px}#align-options-subsection h4{margin-bottom:6px}#align-options-subsection x-select{flex:1}#align-options-subsection x-button{margin-left:8px;padding:2px 9px}#align-options-subsection x-button x-icon{width:15px;height:15px}#transform-section{padding:16px 20px 18px 20px}#transform-section x-button{height:30px;margin-right:11px;flex:1}#transform-section x-button:last-child{margin-right:0}#transform-section x-button x-icon{width:17px;height:17px}#transform-section #flip-buttons,#transform-section #transform-buttons{margin-top:11px}#order-section{padding:16px 20px 18px 20px}#order-section #order-buttons-2{margin-top:11px}#order-section x-button{height:30px;margin-right:11px;flex:1}#order-section x-button:last-child{margin-right:0}#order-section x-button x-icon{width:17px;height:17px}#group-section{padding:16px 20px 18px 20px}#group-section x-button{height:30px;margin-right:11px;flex:1}#group-section x-button:last-child{margin-right:0}#group-section x-button x-icon{width:17px;height:17px}#distribute-section{padding:16px 20px 18px 20px}#distance-buttons{flex:1}#distance-buttons x-button{width:100%}#distance-input{margin-left:6px;width:53px}#distribute-actions-subsection{margin-top:14px}#distribute-buttons-box{width:100%;justify-content:space-between}#distribute-buttons-box x-button{height:30px;flex:1;margin-right:11px}#distribute-buttons-box x-button:last-child{margin-right:0}#distribute-buttons-box x-button x-icon{width:22px;height:22px}"]);_templateObject384=function _templateObject384(){return data;};return data;}function _templateObject383(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Arrangement</h2><section id=\"align-section\"><h3 id=\"align-section-heading\">Align</h3><section id=\"align-actions-subsection\"><x-box id=\"align-buttons\"><x-box id=\"move-buttons\" vertical data-side=\"inside\"><x-button id=\"arrange-top-button\" value=\"move-top-inside\" condensed><x-icon name=\"align-top\"></x-icon></x-button><x-box><x-button id=\"arrange-left-button\" value=\"move-left-inside\" condensed><x-icon name=\"align-left\"></x-icon></x-button><x-button id=\"arrange-right-button\" value=\"move-right-inside\" condensed><x-icon name=\"align-right\"></x-icon></x-button></x-box><x-button id=\"arrange-bottom-button\" value=\"move-bottom-inside\" condensed><x-icon name=\"align-bottom\"></x-icon></x-button></x-box><x-box id=\"center-buttons\" vertical><x-button id=\"center-button\" value=\"center\" condensed><x-icon name=\"center\"></x-icon></x-button><x-button id=\"center-horizontally-button\" value=\"horizontal-center\" condensed><x-icon name=\"center-horizontally\"></x-icon></x-button><x-button id=\"center-vertically-button\" value=\"vertical-center\" condensed><x-icon name=\"center-vertically\"></x-icon></x-button></x-box><x-box id=\"stretch-buttons\" vertical><x-button id=\"stretch-button\" value=\"stretch\" condensed><x-icon name=\"stretch\"></x-icon></x-button><x-button id=\"stretch-horizontally-button\" value=\"horizontal-stretch\" condensed><x-icon name=\"stretch-horizontally\"></x-icon></x-button><x-button id=\"stretch-vertically-button\" value=\"vertical-stretch\" condensed><x-icon name=\"stretch-vertically\"></x-icon></x-button></x-box></x-box></section><section id=\"align-options-subsection\"><h4 id=\"align-options-heading\">Relative to</h4><x-box><x-select id=\"align-to-select\"><x-menu><x-menuitem value=\"default-view\" toggled><x-label>Default view</x-label></x-menuitem><x-menuitem value=\"nearest-view\" toggled><x-label>Nearest view</x-label></x-menuitem><x-menuitem value=\"first-selected\" toggled><x-label>First selected</x-label></x-menuitem><x-menuitem value=\"last-selected\" toggled><x-label>Last selected</x-label></x-menuitem><x-menuitem value=\"selection\" toggled><x-label>Selection</x-label></x-menuitem></x-menu></x-select><x-button id=\"align-as-group-button\" title=\"Treat selection as group\" condensed togglable><x-icon name=\"group\"></x-icon></x-button></x-box></section></section><hr><section id=\"transform-section\"><h3 id=\"transform-heading\">Transform</h3><x-box id=\"rotate-buttons\"><x-button id=\"rotate-counterclockwise-button\" value=\"rotateCounterclockwise\"><x-icon name=\"rotate-counterclockwise\"></x-icon><x-label>-90\xB0</x-label></x-button><x-button id=\"rotate-clockwise-button\" value=\"rotateClockwise\"><x-icon name=\"rotate-clockwise\"></x-icon><x-label>+90\xB0</x-label></x-button></x-box><x-box id=\"flip-buttons\"><x-button id=\"flip-horizontally-button\" value=\"flipX\"><x-icon name=\"flip-x\"></x-icon><x-label>Flip X</x-label></x-button><x-button id=\"flip-vertically-button\" value=\"flipY\"><x-icon name=\"flip-y\"></x-icon><x-label>Flip Y</x-label></x-button></x-box><x-box id=\"transform-buttons\"><x-button id=\"remove-transform-button\" value=\"removeTransform\"><x-icon name=\"trash\"></x-icon><x-label>Remove</x-label></x-button><x-button id=\"reduce-transform-button\" value=\"reduceTransform\"><x-icon name=\"reduce-transform\"></x-icon><x-label>Reduce</x-label></x-button></x-box></section><hr><section id=\"order-section\"><h3 id=\"order-section-heading\">Z-order</h3><x-box id=\"order-buttons-1\"><x-button id=\"raise-button\" value=\"raise\"><x-icon name=\"raise\"></x-icon><x-label>Raise</x-label></x-button><x-button id=\"lower-button\" value=\"lower\"><x-icon name=\"lower\"></x-icon><x-label>Lower</x-label></x-button></x-box><x-box id=\"order-buttons-2\"><x-button id=\"front-button\" value=\"raiseToFront\"><x-icon name=\"raise-to-front\"></x-icon><x-label>Front</x-label></x-button><x-button id=\"back-button\" value=\"lowerToBack\"><x-icon name=\"lower-to-back\"></x-icon><x-label>Back</x-label></x-button></x-box></section><hr><section id=\"group-section\"><h3 id=\"group-section-heading\">Group</h3><x-box id=\"group-buttons\"><x-button id=\"group-button\" value=\"group\"><x-icon name=\"group\"></x-icon><x-label>Group</x-label></x-button><x-button id=\"ungroup-button\" value=\"ungroup\"><x-icon name=\"ungroup\"></x-icon><x-label>Ungroup</x-label></x-button></x-box></section><hr><section id=\"distribute-section\"><h3 id=\"distribute-heading\">Distribute</h3><section id=\"distribute-distance-subsection\"><h4 id=\"distribute-distance-heading\">Distance</h4><x-box><x-buttons id=\"distance-buttons\" tracking=\"1\"><x-button id=\"auto-distance-button\" value=\"auto\" condensed><x-label>Auto</x-label></x-button><x-button id=\"manual-distance-button\" value=\"manual\" condensed><x-label>Manual</x-label></x-button></x-buttons><x-numberinput id=\"distance-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"distribute-actions-subsection\"><h4 id=\"distribute-actions-heading\">Actions</h4><x-box id=\"distribute-buttons-box\"><x-button id=\"distribute-horizontally-button\" value=\"horizontal\" title=\"Distribute horizontaly\" condensed><x-icon name=\"distribute-horizontally\"></x-icon></x-button><x-button id=\"distribute-vertically-button\" value=\"vertical\" title=\"Distribute vertically\" condensed><x-icon name=\"distribute-vertically\"></x-icon></x-button><x-button id=\"distribute-centers-horizontally-button\" value=\"centers-horizontal\" title=\"Distribute centers horizontally\" condensed><x-icon name=\"distribute-centers-horizontally\"></x-icon></x-button><x-button id=\"distribute-centers-vertically-button\" value=\"centers-vertical\" title=\"Distribute centers vertically\" condensed><x-icon name=\"distribute-centers-vertically\"></x-icon></x-button></x-box></section></section></template>"]);_templateObject383=function _templateObject383(){return data;};return data;}function _templateObject382(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}x-button{width:100%;height:30px}#general-section{padding:10px 20px 20px 20px}#general-section>x-box{margin-top:8px}#general-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#reorient-button x-icon{width:20px;height:20px}#reverse-button x-icon{width:20px;height:20px}#convert-section{padding:10px 20px 20px 20px}#stroke-to-path-button{margin-top:10px}#boolops-section{padding:15px 20px 20px 20px}#boolop-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#boolop-buttons x-button x-icon{width:20px;height:20px;margin-right:8px}#path-section{padding:15px 20px 20px 20px}#path-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#path-buttons #close-path-button x-icon,#path-buttons #join-paths-button x-icon,#path-buttons #open-path-button x-icon,#path-buttons #split-path-button x-icon{width:30px;height:30px;margin-right:8px}#node-section{padding:15px 20px 20px 20px}#node-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#node-section x-button x-icon{width:28px;height:28px;margin-right:8px}"]);_templateObject382=function _templateObject382(){return data;};return data;}function _templateObject381(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Shape</h2><section id=\"general-section\"><x-box id=\"general-buttons\"><x-button id=\"reorient-button\"><x-icon name=\"reorient\"></x-icon><x-label>Reorient</x-label></x-button><x-button id=\"reverse-button\"><x-icon name=\"reverse\"></x-icon><x-label>Reverse</x-label></x-button></x-box></section><hr><section id=\"convert-section\"><h3 id=\"convert-section-heading\">Convert</h3><x-button id=\"shape-to-path-button\"><x-icon name=\"shape-to-path\"></x-icon><x-label>Shape to Path</x-label></x-button><x-button id=\"stroke-to-path-button\"><x-icon name=\"stroke-to-path\"></x-icon><x-label>Stroke to Path</x-label></x-button></section><hr><section id=\"boolops-section\"><h3 id=\"boolops-section-heading\">Boolops</h3><x-box id=\"boolop-buttons\" vertical><x-button id=\"unite-button\"><x-icon name=\"boolop-unite\"></x-icon><x-label>Unite</x-label></x-button><x-button id=\"intersect-button\"><x-icon name=\"boolop-intersect\"></x-icon><x-label>Intersect</x-label></x-button><x-button id=\"subtract-button\"><x-icon name=\"boolop-subtract\"></x-icon><x-label>Subtract</x-label></x-button><x-button id=\"exclude-button\"><x-icon name=\"boolop-exclude\"></x-icon><x-label>Exclude</x-label></x-button></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-box id=\"path-buttons\"><x-button id=\"join-paths-button\"><x-icon name=\"compound-path-join\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-path-button\"><x-icon name=\"compound-path-split\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"open-path-button\"><x-icon name=\"open-path\"></x-icon><x-label>Open</x-label></x-button><x-button id=\"close-path-button\"><x-icon name=\"close-path\"></x-icon><x-label>Close</x-label></x-button><x-button id=\"inset-path-button\"><x-icon name=\"inset-path\"></x-icon><x-label>Inset</x-label></x-button><x-button id=\"outset-path-button\"><x-icon name=\"outset-path\"></x-icon><x-label>Outset</x-label></x-button><x-button id=\"simplify-path-button\"><x-icon name=\"simplify-path\"></x-icon><x-label>Simplify</x-label></x-button><x-button id=\"complexify-path-button\" condensed><x-icon name=\"complexify-path\"></x-icon><x-label>Complexify</x-label></x-button></x-box></section><hr><section id=\"node-section\"><h3 id=\"node-section-heading\">Node</h3><x-box id=\"node-buttons\"><x-button id=\"join-nodes-button\"><x-icon name=\"join-nodes\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-node-button\"><x-icon name=\"split-node\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"delete-node-button\"><x-icon name=\"delete-node\"></x-icon><x-label>Delete</x-label></x-button><x-button id=\"break-node-button\"><x-icon name=\"break-node\"></x-icon><x-label>Break</x-label></x-button></x-box></section></template>"]);_templateObject381=function _templateObject381(){return data;};return data;}function _templateObject380(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#accessibility-section{padding:10px 20px 20px 20px}#title-section{padding:10px 20px 20px 20px}#title-heading{margin-bottom:4px}#title-input{width:100%;max-width:none}#desc-box{margin-top:14px}#desc-heading{margin-bottom:4px}#desc-editor{width:100%;height:120px;max-width:none}#language-box{margin-top:14px}#language-heading{margin-bottom:4px}#language-select{width:100%}#role-box{margin-top:14px}#role-heading{margin-bottom:4px}#role-select{width:100%}#tab-index-box{margin-top:14px}#tab-index-heading{margin-bottom:0}#tab-index-box>x-box{width:100%}#tab-index-slider{flex:1;--track-tint-color:transparent}#tab-index-input{width:50px;margin-left:12px}#link-section{padding:15px 20px 20px 20px}#link-button{border-top-right-radius:0;border-bottom-right-radius:0;z-index:1}#link-button x-icon{width:14px;height:14px}#link-input{flex:1;margin-left:-1px;max-width:none}#link-input[error]{z-index:2}#link-target-checkbox{margin-top:8px}#scripting-section{padding:15px 20px 20px 20px}#id-box{margin-top:8px}#id-heading{margin-bottom:4px}#id-input{width:100%;max-width:none}#classes-box{margin-top:20px}#classes-heading{margin-bottom:4px}#classes-input{width:100%}"]);_templateObject380=function _templateObject380(){return data;};return data;}function _templateObject379(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Meta</h2><section id=\"accessibility-section\"><h3 id=\"accessibility-heading\">Accessibility</h3><x-box id=\"title-box\" vertical><h4 id=\"title-heading\">Title</h4><x-input id=\"title-input\" spellcheck></x-input></x-box><x-box id=\"desc-box\" vertical><h4 id=\"desc-heading\">Description</h4><x-texteditor id=\"desc-editor\" spellcheck></x-texteditor></x-box><x-box id=\"language-box\" vertical><h4 id=\"language-heading\">Language</h4><x-select id=\"language-select\"><x-menu id=\"language-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"af\"><x-label>Afrikaans</x-label></x-menuitem><x-menuitem value=\"sq\"><x-label>Albanian</x-label></x-menuitem><x-menuitem value=\"ar\"><x-label>Arabic</x-label></x-menuitem><x-menuitem value=\"hy\"><x-label>Armenian</x-label></x-menuitem><x-menuitem value=\"az\"><x-label>Azeri</x-label></x-menuitem><x-menuitem value=\"eu\"><x-label>Basque</x-label></x-menuitem><x-menuitem value=\"be\"><x-label>Belarusian</x-label></x-menuitem><x-menuitem value=\"bg\"><x-label>Bulgarian</x-label></x-menuitem><x-menuitem value=\"ca\"><x-label>Catalan</x-label></x-menuitem><x-menuitem value=\"zh\"><x-label>Chinese</x-label></x-menuitem><x-menuitem value=\"hr\"><x-label>Croatian</x-label></x-menuitem><x-menuitem value=\"cs\"><x-label>Czech</x-label></x-menuitem><x-menuitem value=\"da\"><x-label>Danish</x-label></x-menuitem><x-menuitem value=\"nl\"><x-label>Dutch</x-label></x-menuitem><x-menuitem value=\"en\"><x-label>English</x-label></x-menuitem><x-menuitem value=\"et\"><x-label>Estonian</x-label></x-menuitem><x-menuitem value=\"fa\"><x-label>Farsi</x-label></x-menuitem><x-menuitem value=\"fi\"><x-label>Finnish</x-label></x-menuitem><x-menuitem value=\"fr\"><x-label>French</x-label></x-menuitem><x-menuitem value=\"gl\"><x-label>Galician</x-label></x-menuitem><x-menuitem value=\"de\"><x-label>German</x-label></x-menuitem><x-menuitem value=\"ka\"><x-label>Georgian</x-label></x-menuitem><x-menuitem value=\"el\"><x-label>Greek</x-label></x-menuitem><x-menuitem value=\"he\"><x-label>Hebrew</x-label></x-menuitem><x-menuitem value=\"hi\"><x-label>Hindi</x-label></x-menuitem><x-menuitem value=\"hu\"><x-label>Hungarian</x-label></x-menuitem><x-menuitem value=\"is\"><x-label>Icelandic</x-label></x-menuitem><x-menuitem value=\"id\"><x-label>Indonesian</x-label></x-menuitem><x-menuitem value=\"it\"><x-label>Italian</x-label></x-menuitem><x-menuitem value=\"ja\"><x-label>Japanese</x-label></x-menuitem><x-menuitem value=\"kk\"><x-label>Kazakh</x-label></x-menuitem><x-menuitem value=\"ko\"><x-label>Korean</x-label></x-menuitem><x-menuitem value=\"lv\"><x-label>Latvian</x-label></x-menuitem><x-menuitem value=\"lt\"><x-label>Lithuanian</x-label></x-menuitem><x-menuitem value=\"mt\"><x-label>Maltese</x-label></x-menuitem><x-menuitem value=\"mn\"><x-label>Mongolian</x-label></x-menuitem><x-menuitem value=\"nb\"><x-label>Norwegian</x-label></x-menuitem><x-menuitem value=\"pl\"><x-label>Polish</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Portuguese</x-label></x-menuitem><x-menuitem value=\"ro\"><x-label>Romanian</x-label></x-menuitem><x-menuitem value=\"ru\"><x-label>Russian</x-label></x-menuitem><x-menuitem value=\"sk\"><x-label>Slovak</x-label></x-menuitem><x-menuitem value=\"sl\"><x-label>Slovenian</x-label></x-menuitem><x-menuitem value=\"es\"><x-label>Spanish</x-label></x-menuitem><x-menuitem value=\"sv\"><x-label>Swedish</x-label></x-menuitem><x-menuitem value=\"th\"><x-label>Thai</x-label></x-menuitem><x-menuitem value=\"tr\"><x-label>Turkish</x-label></x-menuitem><x-menuitem value=\"uk\"><x-label>Ukrainian</x-label></x-menuitem><x-menuitem value=\"ur\"><x-label>Urdu</x-label></x-menuitem><x-menuitem value=\"uz\"><x-label>Uzbek</x-label></x-menuitem><x-menuitem value=\"vi\"><x-label>Vietnamese</x-label></x-menuitem><x-menuitem value=\"cy\"><x-label>Welsh</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"role-box\" vertical><h4 id=\"role-heading\">Role</h4><x-select id=\"role-select\"><x-menu id=\"role-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"alertdialog\"><x-label>Alert Dialog</x-label></x-menuitem><x-menuitem value=\"application\"><x-label>Application</x-label></x-menuitem><x-menuitem value=\"article\"><x-label>Article</x-label></x-menuitem><x-menuitem value=\"banner\"><x-label>Banner</x-label></x-menuitem><x-menuitem value=\"button\"><x-label>Button</x-label></x-menuitem><x-menuitem value=\"cell\"><x-label>Cell</x-label></x-menuitem><x-menuitem value=\"checkbox\"><x-label>Checkbox</x-label></x-menuitem><x-menuitem value=\"columnheader\"><x-label>Column header</x-label></x-menuitem><x-menuitem value=\"combobox\"><x-label>Combobox</x-label></x-menuitem><x-menuitem value=\"command\"><x-label>Command</x-label></x-menuitem><x-menuitem value=\"complementary\"><x-label>Complementary</x-label></x-menuitem><x-menuitem value=\"composite\"><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"contentinfo\"><x-label>Content info</x-label></x-menuitem><x-menuitem value=\"definition\"><x-label>Definition</x-label></x-menuitem><x-menuitem value=\"dialog\"><x-label>Dialog</x-label></x-menuitem><x-menuitem value=\"directory\"><x-label>Directory</x-label></x-menuitem><x-menuitem value=\"document\"><x-label>Document</x-label></x-menuitem><x-menuitem value=\"feed\"><x-label>Feed</x-label></x-menuitem><x-menuitem value=\"figure\"><x-label>Figure</x-label></x-menuitem><x-menuitem value=\"form\"><x-label>Form</x-label></x-menuitem><x-menuitem value=\"graphics-document\"><x-label>Graphics document</x-label></x-menuitem><x-menuitem value=\"graphics-object\"><x-label>Graphics object</x-label></x-menuitem><x-menuitem value=\"graphics-symbol\"><x-label>Graphics symbol</x-label></x-menuitem><x-menuitem value=\"grid\"><x-label>Grid</x-label></x-menuitem><x-menuitem value=\"gridcell\"><x-label>Gridcell</x-label></x-menuitem><x-menuitem value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem value=\"heading\"><x-label>Heading</x-label></x-menuitem><x-menuitem value=\"img\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"input\"><x-label>Input</x-label></x-menuitem><x-menuitem value=\"landmark\"><x-label>Landmark</x-label></x-menuitem><x-menuitem value=\"link\"><x-label>Link</x-label></x-menuitem><x-menuitem value=\"list\"><x-label>List</x-label></x-menuitem><x-menuitem value=\"listbox\"><x-label>Listbox</x-label></x-menuitem><x-menuitem value=\"listitem\"><x-label>List item</x-label></x-menuitem><x-menuitem value=\"log\"><x-label>Log</x-label></x-menuitem><x-menuitem value=\"main\"><x-label>Main</x-label></x-menuitem><x-menuitem value=\"marquee\"><x-label>Marquee</x-label></x-menuitem><x-menuitem value=\"math\"><x-label>Math</x-label></x-menuitem><x-menuitem value=\"menu\"><x-label>Menu</x-label></x-menuitem><x-menuitem value=\"menubar\"><x-label>Menubar</x-label></x-menuitem><x-menuitem value=\"menuitem\"><x-label>Menu item</x-label></x-menuitem><x-menuitem value=\"menuitemcheckbox\"><x-label>Menu item (checkbox)</x-label></x-menuitem><x-menuitem value=\"menuitemradio\"><x-label>Menu item (radio)</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"none\"><x-label>None</x-label></x-menuitem><x-menuitem value=\"note\"><x-label>Note</x-label></x-menuitem><x-menuitem value=\"option\"><x-label>Option</x-label></x-menuitem><x-menuitem value=\"presentation\"><x-label>Presentation</x-label></x-menuitem><x-menuitem value=\"progressbar\"><x-label>Progressbar</x-label></x-menuitem><x-menuitem value=\"radio\"><x-label>Radio</x-label></x-menuitem><x-menuitem value=\"radiogroup\"><x-label>Radio group</x-label></x-menuitem><x-menuitem value=\"range\"><x-label>Range</x-label></x-menuitem><x-menuitem value=\"region\"><x-label>Region</x-label></x-menuitem><x-menuitem value=\"roletype\"><x-label>Role type</x-label></x-menuitem><x-menuitem value=\"row\"><x-label>Row</x-label></x-menuitem><x-menuitem value=\"rowgroup\"><x-label>Row group</x-label></x-menuitem><x-menuitem value=\"rowheader\"><x-label>Row header</x-label></x-menuitem><x-menuitem value=\"scrollbar\"><x-label>Scrollbar</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"searchbox\"><x-label>Searchbox</x-label></x-menuitem><x-menuitem value=\"section\"><x-label>Section</x-label></x-menuitem><x-menuitem value=\"sectionhead\"><x-label>Section head</x-label></x-menuitem><x-menuitem value=\"select\"><x-label>Select</x-label></x-menuitem><x-menuitem value=\"separator\"><x-label>Separator</x-label></x-menuitem><x-menuitem value=\"slider\"><x-label>Slider</x-label></x-menuitem><x-menuitem value=\"spinbutton\"><x-label>Spin button</x-label></x-menuitem><x-menuitem value=\"status\"><x-label>Status</x-label></x-menuitem><x-menuitem value=\"structure\"><x-label>Structure</x-label></x-menuitem><x-menuitem value=\"switch\"><x-label>Switch</x-label></x-menuitem><x-menuitem value=\"tab\"><x-label>Tab</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"tablist\"><x-label>Tab list</x-label></x-menuitem><x-menuitem value=\"tabpanel\"><x-label>Tab panel</x-label></x-menuitem><x-menuitem value=\"term\"><x-label>Term</x-label></x-menuitem><x-menuitem value=\"textbox\"><x-label>Textbox</x-label></x-menuitem><x-menuitem value=\"timer\"><x-label>Timer</x-label></x-menuitem><x-menuitem value=\"toolbar\"><x-label>Toolbar</x-label></x-menuitem><x-menuitem value=\"tooltip\"><x-label>Tooltip</x-label></x-menuitem><x-menuitem value=\"tree\"><x-label>Tree</x-label></x-menuitem><x-menuitem value=\"treegrid\"><x-label>Tree grid</x-label></x-menuitem><x-menuitem value=\"treeitem\"><x-label>Tree item</x-label></x-menuitem><x-menuitem value=\"widget\"><x-label>Widget</x-label></x-menuitem><x-menuitem value=\"window\"><x-label>Window</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"tab-index-box\" vertical><h4 id=\"tab-index-heading\">Tab index</h4><x-box><x-slider id=\"tab-index-slider\" value=\"-1\" min=\"-1\" max=\"20\"></x-slider><x-numberinput id=\"tab-index-input\" value=\"-1\" step=\"1\" precision=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"link-section\"><h3 id=\"link-section-heading\">Link</h3><x-box id=\"link-box\"><x-button id=\"link-button\" value=\"link\" togglable><x-icon name=\"link\"></x-icon><x-label>Link</x-label></x-button><x-input id=\"link-input\"><x-label>URL</x-label></x-input></x-box><x-checkbox id=\"link-target-checkbox\"><x-label>Open in a new tab</x-label></x-checkbox></section><hr><section id=\"scripting-section\"><h3 id=\"scripting-heading\">Scripting</h3><x-box id=\"id-box\" vertical><h4 id=\"id-heading\">ID</h4><x-input id=\"id-input\" validation=\"instant\"></x-input></x-box><x-box id=\"classes-box\" vertical><h4 id=\"classes-heading\">Classes</h4><x-tagsinput id=\"classes-input\" delimiter=\" \"></x-tagsinput></x-box></section></template>"]);_templateObject379=function _templateObject379(){return data;};return data;}function _templateObject378(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}h2{margin:16px 20px -8px 20px}[hidden]{display:none}#main{flex:1;overflow:auto;outline:0;position:relative}#footer{display:flex;align-items:center;width:100%;padding:10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer[hidden]{display:none}#space-buttons{width:100%;max-width:none}#space-buttons>x-button{flex:1}"]);_templateObject378=function _templateObject378(){return data;};return data;}function _templateObject377(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\"><h2 id=\"panel-heading\">Geometry</h2><div id=\"inspectors\"><bx-circlegeometryinspector></bx-circlegeometryinspector><hr><bx-ellipsegeometryinspector></bx-ellipsegeometryinspector><hr><bx-coggeometryinspector></bx-coggeometryinspector><hr><bx-crossgeometryinspector></bx-crossgeometryinspector><hr><bx-piegeometryinspector></bx-piegeometryinspector><hr><bx-ringgeometryinspector></bx-ringgeometryinspector><hr><bx-rectgeometryinspector></bx-rectgeometryinspector><hr><bx-crescentgeometryinspector></bx-crescentgeometryinspector><hr><bx-trianglegeometryinspector></bx-trianglegeometryinspector><hr><bx-ngongeometryinspector></bx-ngongeometryinspector><hr><bx-spiralgeometryinspector></bx-spiralgeometryinspector><hr><bx-stargeometryinspector></bx-stargeometryinspector><hr><bx-arrowgeometryinspector></bx-arrowgeometryinspector><hr><bx-nodegeometryinspector></bx-nodegeometryinspector><hr><bx-imagegeometryinspector></bx-imagegeometryinspector><hr><bx-linegeometryinspector></bx-linegeometryinspector><hr><bx-chargeometryinspector></bx-chargeometryinspector><hr><bx-objectgeometryinspector></bx-objectgeometryinspector><hr><bx-guidegeometryinspector></bx-guidegeometryinspector><hr><bx-gridgeometryinspector></bx-gridgeometryinspector><hr><bx-svggeometryinspector></bx-svggeometryinspector><hr><bx-symbolgeometryinspector></bx-symbolgeometryinspector><hr><bx-patterngeometryinspector></bx-patterngeometryinspector><hr><bx-markergeometryinspector></bx-markergeometryinspector><hr><bx-viewgeometryinspector></bx-viewgeometryinspector></div></main><footer id=\"footer\" part=\"footer\"><x-buttons id=\"space-buttons\" tracking=\"1\"><x-button value=\"canvas\" condensed toggled><x-label>Canvas space</x-label></x-button><x-button value=\"viewport\" condensed><x-label>Viewport space</x-label></x-button></x-buttons></footer></div></template>"]);_templateObject377=function _templateObject377(){return data;};return data;}function _templateObject376(){var data=_taggedTemplateLiteral(["#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject376=function _templateObject376(){return data;};return data;}function _templateObject375(){var data=_taggedTemplateLiteral(["<template><h3>View</h3><section id=\"viewbox-section\"><h4 id=\"viewbox-heading\">View box</h4><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject375=function _templateObject375(){return data;};return data;}function _templateObject374(){var data=_taggedTemplateLiteral(["#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-slider{flex:1}#shift-section x-numberinput{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section>x-box{width:100%}#corner-section x-slider{flex:1}#corner-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject374=function _templateObject374(){return data;};return data;}function _templateObject373(){var data=_taggedTemplateLiteral(["<template><h3>Triangle</h3><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject373=function _templateObject373(){return data;};return data;}function _templateObject372(){var data=_taggedTemplateLiteral(["#arch-section{margin-top:14px}#arch-section h4{margin-bottom:0}#arch-section x-box{width:100%}#arch-section x-slider{flex:1}#arch-section x-numberinput{width:80px;margin-left:10px}#hollow-section{margin-top:14px}#hollow-section h4{margin-bottom:0}#hollow-section>x-box{width:100%}#hollow-section x-slider{flex:1}#hollow-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject372=function _templateObject372(){return data;};return data;}function _templateObject371(){var data=_taggedTemplateLiteral(["<template><h3>Crescent</h3><section id=\"arch-section\"><h4 id=\"arch-heading\">Arch</h4><x-box><x-slider id=\"arch-slider\" value=\"0\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" value=\"0\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-section\"><h4 id=\"hollow-heading\">Hollow</h4><x-box><x-slider id=\"hollow-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject371=function _templateObject371(){return data;};return data;}function _templateObject370(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject370=function _templateObject370(){return data;};return data;}function _templateObject369(){var data=_taggedTemplateLiteral(["<template><h3>Symbol</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject369=function _templateObject369(){return data;};return data;}function _templateObject368(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{display:block;flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject368=function _templateObject368(){return data;};return data;}function _templateObject367(){var data=_taggedTemplateLiteral(["<template><h3>SVG</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"px\" toggled><x-label>Pixels (px)</x-label></x-menuitem><x-menuitem value=\"cm\"><x-label>Centimeters (cm)</x-label></x-menuitem><x-menuitem value=\"mm\"><x-label>Millimeters (mm)</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>Inches (in)</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Points (pt)</x-label></x-menuitem><x-menuitem value=\"pc\"><x-label>Picas (pc)</x-label></x-menuitem><x-menuitem value=\"q\"><x-label>Quarter-millimeters (Q)</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject367=function _templateObject367(){return data;};return data;}function _templateObject366(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section x-slider{flex:1}#arms-section x-numberinput{width:54px;margin-left:10px}#depth-section{margin-top:14px}#depth-section h4{margin-bottom:0}#depth-section x-box{width:100%}#depth-section x-slider{flex:1}#depth-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject366=function _templateObject366(){return data;};return data;}function _templateObject365(){var data=_taggedTemplateLiteral(["<template><h3>Star</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"depth-section\"><h4 id=\"depth-heading\">Depth</h4><x-box><x-slider id=\"depth-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"depth-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject365=function _templateObject365(){return data;};return data;}function _templateObject364(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#angle-section{display:flex;justify-content:space-between;margin-top:14px}#angle-section x-box{width:calc(50% - 13px)}#angle-section x-numberinput{width:100%}"]);_templateObject364=function _templateObject364(){return data;};return data;}function _templateObject363(){var data=_taggedTemplateLiteral(["<template><h3>Spiral</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-section\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject363=function _templateObject363(){return data;};return data;}function _templateObject362(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#r1-section{display:flex;margin-top:14px}#r1-section x-numberinput{width:100%}#r1-section x-box{flex:1}#r1-section #r1-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r1-section #r1-aspect-ratio-button[toggled]{opacity:.9}#r1-section #r1-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#r2-section{display:flex;margin-top:14px}#r2-section x-numberinput{width:100%}#r2-section x-box{flex:1}#r2-section #r2-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r2-section #r2-aspect-ratio-button[toggled]{opacity:.9}#r2-section #r2-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject362=function _templateObject362(){return data;};return data;}function _templateObject361(){var data=_taggedTemplateLiteral(["<template><h3>Ring</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r1-section\"><x-box id=\"r1x-box\" vertical><h4 id=\"r1x-heading\">Inner radius X</h4><x-numberinput id=\"r1x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r1-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r1-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r1y-box\" vertical><h4 id=\"r1y-heading\">Inner radius Y</h4><x-numberinput id=\"r1y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-section\"><x-box id=\"r2x-box\" vertical><h4 id=\"r2x-heading\">Outer radius X</h4><x-numberinput id=\"r2x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r2-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r2-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r2y-box\" vertical><h4 id=\"r2y-heading\">Outer radius Y</h4><x-numberinput id=\"r2y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject361=function _templateObject361(){return data;};return data;}function _templateObject360(){var data=_taggedTemplateLiteral(["#corner-radius-section x-label{margin:0 0 5px 0;font-size:11px;font-weight:500}#corner-radius-section x-numberinput{width:100%}#corner-radius-section #r12-box{justify-content:space-between}#corner-radius-section #r43-box{margin-top:12px;justify-content:space-between}#corner-radius-section #r1-box,#corner-radius-section #r4-box{flex:1;margin-right:13px}#corner-radius-section #r2-box,#corner-radius-section #r3-box{flex:1;margin-left:13px}"]);_templateObject360=function _templateObject360(){return data;};return data;}function _templateObject359(){var data=_taggedTemplateLiteral(["<template><h3>Rectangle</h3><section id=\"corner-radius-section\"><h4 id=\"corner-radius-heading\">Corner radius</h4><x-box id=\"r12-box\"><x-box id=\"r1-box\" vertical><x-label id=\"r1-heading\">Top left</x-label><x-numberinput id=\"r1-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><x-label id=\"r2-heading\">Top right</x-label><x-numberinput id=\"r2-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"r43-box\"><x-box id=\"r4-box\" vertical><x-label id=\"r4-heading\">Bottom left</x-label><x-numberinput id=\"r4-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><x-label id=\"r3-heading\">Bottom right</x-label><x-numberinput id=\"r3-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject359=function _templateObject359(){return data;};return data;}function _templateObject358(){var data=_taggedTemplateLiteral(["#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#start-angle-section{margin-top:14px}#start-angle-section h4{margin-bottom:0}#start-angle-section x-box{width:100%}#start-angle-section x-slider{flex:1}#start-angle-section x-numberinput{margin-left:10px;width:80px}#end-angle-section{margin-top:14px}#end-angle-section h4{margin-bottom:0}#end-angle-section x-box{width:100%}#end-angle-section x-slider{flex:1}#end-angle-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject358=function _templateObject358(){return data;};return data;}function _templateObject357(){var data=_taggedTemplateLiteral(["<template><h3>Pie</h3><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"start-angle-section\"><h4 id=\"start-angle-heading\">Start angle</h4><x-box><x-slider id=\"start-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-angle-section\"><h4 id=\"end-angle-heading\">End angle</h4><x-box><x-slider id=\"end-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject357=function _templateObject357(){return data;};return data;}function _templateObject356(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject356=function _templateObject356(){return data;};return data;}function _templateObject355(){var data=_taggedTemplateLiteral(["<template><h3>Pattern</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject355=function _templateObject355(){return data;};return data;}function _templateObject354(){var data=_taggedTemplateLiteral(["#position-section{display:flex;margin-top:14px}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#origin-section{display:flex;margin-top:14px}#origin-section x-numberinput{width:100%}#origin-section #origin-x-box{flex:1;margin-right:13px}#origin-section #origin-y-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-slider{flex:1}#rotation-input{margin-left:10px;width:80px}#rotation-section>x-box{width:100%}"]);_templateObject354=function _templateObject354(){return data;};return data;}function _templateObject353(){var data=_taggedTemplateLiteral(["<template><h3>Object</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"origin-section\"><x-box id=\"origin-x-box\" vertical><h4 id=\"origin-x-heading\">Origin X</h4><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><h4 id=\"origin-y-heading\">Origin Y</h4><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject353=function _templateObject353(){return data;};return data;}function _templateObject352(){var data=_taggedTemplateLiteral(["section{margin-top:14px;display:flex}section[hidden]{display:none}#node-point-section x-numberinput{width:100%}#node-point-section #x-box{flex:1;margin-right:13px}#node-point-section #y-box{flex:1;margin-left:13px}#control-point-1-section x-numberinput{width:100%}#control-point-1-section #x1-box{flex:1;margin-right:13px}#control-point-1-section #y1-box{flex:1;margin-left:13px}#control-point-2-section x-numberinput{width:100%}#control-point-2-section #x2-box{flex:1;margin-right:13px}#control-point-2-section #y2-box{flex:1;margin-left:13px}"]);_templateObject352=function _templateObject352(){return data;};return data;}function _templateObject351(){var data=_taggedTemplateLiteral(["<template><h3>Node</h3><section id=\"node-point-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-1-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">X1</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Y1</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-2-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">X2</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">Y2</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject351=function _templateObject351(){return data;};return data;}function _templateObject350(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section #arms-slider{flex:1}#arms-section #arms-input{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section x-box{width:100%}#corner-section #corner-slider{flex:1}#corner-section #corner-input{width:54px;margin-left:10px}"]);_templateObject350=function _templateObject350(){return data;};return data;}function _templateObject349(){var data=_taggedTemplateLiteral(["<template><h3>N-gon</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"5\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"5\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject349=function _templateObject349(){return data;};return data;}function _templateObject348(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{display:block;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}#ref-section{margin-top:20px}#ref-section-heading{margin-bottom:7px}#ref-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#ref-box x-numberinput{width:100%}#ref-box #ref-x-box{flex:1;margin-right:13px}#ref-box #ref-y-box{flex:1;margin-left:13px}#orient-section{margin-top:20px}#orient-heading-box{margin-bottom:8px}#orient-heading{flex:1;margin:0}#orient-input{margin-left:12px;min-width:60px}"]);_templateObject348=function _templateObject348(){return data;};return data;}function _templateObject347(){var data=_taggedTemplateLiteral(["<template><h3>Marker</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"userSpaceOnUse\" toggled><x-label>User</x-label></x-menuitem><x-menuitem value=\"strokeWidth\"><x-label>Stroke width</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" condensed data-property=\"x\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" condensed data-property=\"y\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section><section id=\"ref-section\"><h4 id=\"ref-section-heading\">Reference point</h4><x-box id=\"ref-box\"><x-box id=\"ref-x-box\" vertical><x-label id=\"ref-x-heading\">X</x-label><x-numberinput id=\"ref-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"ref-y-box\" vertical><x-label id=\"ref-y-heading\">Y</x-label><x-numberinput id=\"ref-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"orient-section\"><x-box id=\"orient-heading-box\"><h4 id=\"orient-heading\">Orient</h4><x-switch id=\"orient-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"orient-box\"><x-slider id=\"orient-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"orient-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject347=function _templateObject347(){return data;};return data;}function _templateObject346(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:80px;height:80px;box-sizing:border-box;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#buttons{width:100%;height:100%}#buttons .button{position:absolute;width:22px;height:22px;min-height:22px;padding:0}.button[value=xMinYMin]{left:-1px;top:-1px}.button[value=xMidYMin]{top:-1px;left:50%;transform:translate(-50%,0)}.button[value=xMaxYMin]{top:-1px;right:-1px}.button[value=xMinYMid]{top:50%;left:-1px;transform:translate(0,-50%)}.button[value=xMidYMid]{top:50%;left:50%;transform:translate(-50%,-50%)}.button[value=xMaxYMid]{top:50%;right:-1px;transform:translate(0,-50%)}.button[value=xMinYMax]{left:-1px;bottom:-1px}.button[value=xMidYMax]{left:50%;bottom:-1px;transform:translate(-50%,0)}.button[value=xMaxYMax]{right:-1px;bottom:-1px}"]);_templateObject346=function _templateObject346(){return data;};return data;}function _templateObject345(){var data=_taggedTemplateLiteral(["<template><div id=\"buttons\"><x-button class=\"button\" part=\"button\" value=\"xMinYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMax\"></x-button></div></template>"]);_templateObject345=function _templateObject345(){return data;};return data;}function _templateObject344(){var data=_taggedTemplateLiteral(["#start-point-section{display:flex;margin-top:14px}#start-point-section x-numberinput{width:100%}#start-point-section #x1-box{flex:1;margin-right:13px}#start-point-section #y1-box{flex:1;margin-left:13px}#end-point-section{display:flex;margin-top:14px}#end-point-section x-numberinput{width:100%}#end-point-section #x2-box{flex:1;margin-right:13px}#end-point-section #y2-box{flex:1;margin-left:13px}#length-section{margin-top:14px}#length-section x-numberinput{width:100%}"]);_templateObject344=function _templateObject344(){return data;};return data;}function _templateObject343(){var data=_taggedTemplateLiteral(["<template><h3>Line</h3><section id=\"start-point-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">Start X</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Start Y</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-point-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">End X</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">End Y</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"length-section\"><h4 id=\"length-heading\">Length</h4><x-numberinput id=\"length-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject343=function _templateObject343(){return data;};return data;}function _templateObject342(){var data=_taggedTemplateLiteral(["#natural-size-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#natural-size-section x-numberinput{width:100%}#natural-size-section #natural-size-box{justify-content:space-between}#natural-size-section #natural-width-box{flex:1;margin-right:13px}#natural-size-section #natural-height-box{flex:1;margin-left:13px}"]);_templateObject342=function _templateObject342(){return data;};return data;}function _templateObject341(){var data=_taggedTemplateLiteral(["<template><h3>Image</h3><section id=\"natural-size-section\"><h4 id=\"natural-size-heading\">Natural size</h4><x-box id=\"natural-size-box\"><x-box id=\"natural-width-box\" vertical><x-label id=\"natural-width-heading\">Width</x-label><x-numberinput id=\"natural-width-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"natural-height-box\" vertical><x-label id=\"natural-height-heading\">Height</x-label><x-numberinput id=\"natural-height-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject341=function _templateObject341(){return data;};return data;}function _templateObject340(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}"]);_templateObject340=function _templateObject340(){return data;};return data;}function _templateObject339(){var data=_taggedTemplateLiteral(["<template><h3>Guide</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"orientation-section\"><h4>Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section></template>"]);_templateObject339=function _templateObject339(){return data;};return data;}function _templateObject338(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject338=function _templateObject338(){return data;};return data;}function _templateObject337(){var data=_taggedTemplateLiteral(["<template><h3>Grid</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject337=function _templateObject337(){return data;};return data;}function _templateObject336(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;margin-top:14px}#radius-section x-numberinput{width:100%}#radius-section #rx-box,#radius-section #ry-box{flex:1}#radius-section #aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-section #aspect-ratio-button[toggled]{opacity:.9}#radius-section #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject336=function _templateObject336(){return data;};return data;}function _templateObject335(){var data=_taggedTemplateLiteral(["<template><h3>Ellipse</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"rx-box\" vertical><h4 id=\"rx-heading\">Radius X</h4><x-numberinput id=\"rx-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"ry-box\" vertical><h4 id=\"ry-heading\">Radius Y</h4><x-numberinput id=\"ry-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject335=function _templateObject335(){return data;};return data;}function _templateObject334(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#arm-thickness-section{display:flex;margin-top:14px}#arm-thickness-section x-numberinput{width:100%}#arm-thickness-section #horizontal-arm-thickness-box{flex:1;margin-right:13px}#arm-thickness-section #vertical-arm-thickness-box{flex:1;margin-left:13px}#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject334=function _templateObject334(){return data;};return data;}function _templateObject333(){var data=_taggedTemplateLiteral(["<template><h3>Cross</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arm-thickness-section\"><x-box id=\"horizontal-arm-thickness-box\" vertical><h4 id=\"horizontal-arm-thickness-heading\">Arm 1 thickness</h4><x-numberinput id=\"horizontal-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"vertical-arm-thickness-box\" vertical><h4 id=\"vertical-arm-thickness-heading\">Arm 2 thickness</h4><x-numberinput id=\"vertical-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject333=function _templateObject333(){return data;};return data;}function _templateObject332(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(33.3333% - 3px)}#radius-section x-numberinput{width:100%}#splay-section{margin-top:14px}#splay-section h4{margin-bottom:0}#splay-section x-box{width:100%}#splay-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}#teeth-section{margin-top:14px}#teeth-section h4{margin-bottom:0}#teeth-section x-box{width:100%}#teeth-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject332=function _templateObject332(){return data;};return data;}function _templateObject331(){var data=_taggedTemplateLiteral(["<template><h3>Cog</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Radius 1</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Radius 2</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><h4 id=\"r3-heading\">Radius 3</h4><x-numberinput id=\"r3-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-section\"><h4 id=\"splay-heading\">Splay</h4><x-box><x-slider id=\"splay-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-section\"><h4 id=\"teeth-heading\">Teeth</h4><x-box><x-slider id=\"teeth-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject331=function _templateObject331(){return data;};return data;}function _templateObject330(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{margin-top:14px}#radius-input{width:100%}"]);_templateObject330=function _templateObject330(){return data;};return data;}function _templateObject329(){var data=_taggedTemplateLiteral(["<template><h3>Circle</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-numberinput id=\"radius-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject329=function _templateObject329(){return data;};return data;}function _templateObject328(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #dx-box{flex:1;margin-right:13px}#position-section #dy-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-section x-box{width:100%}#rotation-section x-slider{flex:1}#rotation-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject328=function _templateObject328(){return data;};return data;}function _templateObject327(){var data=_taggedTemplateLiteral(["<template><h3>Character</h3><section id=\"position-section\"><x-box id=\"dx-box\" vertical><h4 id=\"dx-heading\">Delta X</h4><x-numberinput id=\"dx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"dy-box\" vertical><h4 id=\"dy-heading\">Delta Y</h4><x-numberinput id=\"dy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box id=\"rotation-box\"><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject327=function _templateObject327(){return data;};return data;}function _templateObject326(){var data=_taggedTemplateLiteral(["#base-thickness-section{margin-top:6px}#base-thickness-section h4{margin-bottom:0}#base-thickness-section x-box{width:100%}#base-thickness-section x-slider{flex:1}#base-thickness-section x-numberinput{width:80px;margin-left:10px}#head-thickness-section{margin-top:14px}#head-thickness-section h4{margin-bottom:0}#head-thickness-section x-box{width:100%}#head-thickness-section x-slider{flex:1}#head-thickness-section x-numberinput{width:80px;margin-left:10px}#head-length-section{margin-top:14px}#head-length-section h4{margin-bottom:0}#head-length-section x-box{width:100%}#head-length-section x-slider{flex:1}#head-length-section x-numberinput{width:80px;margin-left:10px}#head-inset-section{margin-top:14px}#head-inset-section h4{margin-bottom:0}#head-inset-section x-box{width:100%}#head-inset-section x-slider{flex:1}#head-inset-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject326=function _templateObject326(){return data;};return data;}function _templateObject325(){var data=_taggedTemplateLiteral(["<template><h3>Arrow</h3><section id=\"base-thickness-section\"><h4>Base thickness</h4><x-box><x-slider id=\"base-thickness-slider\"></x-slider><x-numberinput id=\"base-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-section\"><h4>Head thickness</h4><x-box><x-slider id=\"head-thickness-slider\"></x-slider><x-numberinput id=\"head-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-section\"><h4>Head length</h4><x-box><x-slider id=\"head-length-slider\"></x-slider><x-numberinput id=\"head-length-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-section\"><h4>Head inset</h4><x-box><x-slider id=\"head-inset-slider\"></x-slider><x-numberinput id=\"head-inset-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject325=function _templateObject325(){return data;};return data;}function _templateObject324(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;padding:18px 20px;box-sizing:border-box}:host([hidden]){display:none}h3{margin:0 0 14px 0}h4{margin-top:0}x-numberinput{max-width:none}x-switch{margin:0}"]);_templateObject324=function _templateObject324(){return data;};return data;}function _templateObject323(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}#font-section{padding:10px 20px 20px 20px}#font-family-subsection{margin-bottom:15px}#font-family-popover{padding:0;width:240px;height:100%;max-height:400px}#font-family-button{width:100%}#font-family-button[mixed]{opacity:1}#font-family-label{flex:1;font-size:20px;line-height:20px;text-align:start}#font-family-button[mixed] #font-family-label{opacity:.75}#font-face-subsection{margin-bottom:15px}#font-face-box{width:100%}#font-weight-select{width:100%;min-width:10px}#font-style-button{min-width:fit-content;height:26px;font-style:italic;margin:0 0 0 8px}#font-size-box{width:100%}#font-size-slider{flex:1}#font-size-input{margin-left:6px;width:54px}#text-section x-button x-icon{width:20px;height:20px}#text-anchor-box{margin-top:14px}#text-anchor-buttons{width:100%}#text-anchor-buttons x-button{flex:1}#text-anchor-buttons x-button x-label{font-size:12px}#text-decoration-buttons{width:100%}#text-decoration-buttons x-button{padding:0 7px;height:28px;flex:1}#text-decoration-buttons x-label{font-weight:600;font-size:12px;text-align:center}#underline-button x-label{text-decoration:underline}#overline-button x-label{text-decoration:overline;line-height:2}#line-through-button x-label{text-decoration:line-through}#text-transform-box{width:100%;margin-top:14px}#text-transform-buttons{width:100%}#text-transform-buttons x-button{padding:0 5px;height:28px;flex:1}#text-transform-buttons x-label{font-weight:600;font-size:12px;text-align:center}#text-on-path-button{width:100%;text-align:center;height:28px}#path-start-offset-box{margin-top:14px}#path-start-offset-heading{margin-bottom:0}#path-start-offset-inner-box{width:100%}#path-start-offset-slider{flex:1}#path-start-offset-input{margin-left:6px;width:54px}#letter-spacing-box{margin-bottom:6px}#letter-spacing-heading{margin-bottom:0}#letter-spacing-inner-box{width:100%}#letter-spacing-slider{flex:1}#letter-spacing-input{margin-left:6px;width:54px}#word-spacing-box{margin-bottom:6px}#word-spacing-heading{margin-bottom:0}#word-spacing-inner-box{width:100%}#word-spacing-slider{flex:1}#word-spacing-input{margin-left:6px;width:54px}#line-spacing-heading{margin-bottom:0}#line-spacing-inner-box{width:100%}#line-spacing-slider{flex:1}#line-spacing-input{margin-left:6px;width:54px}"]);_templateObject323=function _templateObject323(){return data;};return data;}function _templateObject322(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Typography</h2><section id=\"font-section\"><h3 id=\"font-section-heading\">Font</h3><x-box id=\"font-family-subsection\" vertical><h4 id=\"font-family-heading\">Family</h4><x-button id=\"font-family-button\" size=\"larger\"><x-label id=\"font-family-label\">Arial</x-label><x-popover id=\"font-family-popover\" modal><bx-fontfamilypicker id=\"font-family-picker\"></bx-fontfamilypicker></x-popover></x-button></x-box><x-box id=\"font-face-subsection\" vertical><h4 id=\"font-face-heading\">Face</h4><x-box id=\"font-face-box\"><x-select id=\"font-weight-select\"><x-menu id=\"font-weight-menu\"><x-menuitem value=\"100\"><x-label>100 - Thin</x-label></x-menuitem><x-menuitem value=\"200\"><x-label>200 - Extra-Light</x-label></x-menuitem><x-menuitem value=\"300\"><x-label>300 - Light</x-label></x-menuitem><x-menuitem value=\"400\" selected=\"true\"><x-label>400 - Normal</x-label></x-menuitem><x-menuitem value=\"500\"><x-label>500 - Medium</x-label></x-menuitem><x-menuitem value=\"600\"><x-label>600 - Semi-Bold</x-label></x-menuitem><x-menuitem value=\"700\"><x-label>700 - Bold</x-label></x-menuitem><x-menuitem value=\"800\"><x-label>800 - Extra-Bold</x-label></x-menuitem><x-menuitem value=\"900\"><x-label>900 - Ultra-Bold</x-label></x-menuitem></x-menu></x-select><x-button id=\"font-style-button\" condensed togglable><x-label>Italic</x-label></x-button></x-box></x-box><x-box id=\"font-size-subsection\" vertical><h4 id=\"font-size-heading\">Size</h4><x-box id=\"font-size-box\"><x-slider id=\"font-size-slider\" value=\"13\" min=\"1\" max=\"150\" step=\"1\"></x-slider><x-numberinput id=\"font-size-input\" value=\"13\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"text-section\"><h3 id=\"text-section-heading\">Text</h3><x-box id=\"text-decoration-box\" vertical><h4 id=\"text-decoration-heading\">Decoration</h4><x-buttons id=\"text-decoration-buttons\" tracking=\"2\"><x-button id=\"underline-button\" value=\"underline\"><x-label>Underline</x-label></x-button><x-button id=\"line-through-button\" value=\"line-through\"><x-label>Line-through</x-label></x-button><x-button id=\"overline-button\" value=\"overline\"><x-label>Overline</x-label></x-button></x-buttons></x-box><x-box id=\"text-transform-box\" vertical><h4 id=\"text-transform-heading\">Transform</h4><x-buttons id=\"text-transform-buttons\" tracking=\"0\"><x-button id=\"capitalize-button\" value=\"capitalize\"><x-label>Capitalize</x-label></x-button><x-button id=\"uppercase-button\" value=\"uppercase\"><x-label>UPPERCASE</x-label></x-button><x-button id=\"lowercase-button\" value=\"lowercase\"><x-label>lowercase</x-label></x-button></x-buttons></x-box><x-box id=\"text-anchor-box\" vertical><h4 id=\"text-anchor-heading\">Anchor</h4><x-buttons id=\"text-anchor-buttons\" tracking=\"1\"><x-button id=\"start-text-anchor-button\" value=\"start\" toggled><x-label>Start</x-label></x-button><x-button id=\"middle-text-anchor-button\" value=\"middle\"><x-label>Middle</x-label></x-button><x-button id=\"end-text-anchor-button\" value=\"end\"><x-label>End</x-label></x-button></x-buttons></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-button id=\"text-on-path-button\" togglable><x-label>Text on path</x-label></x-button><x-box id=\"path-start-offset-box\" vertical><h4 id=\"path-start-offset-heading\">Start offset</h4><x-box id=\"path-start-offset-inner-box\"><x-slider id=\"path-start-offset-slider\" value=\"0\" min=\"-500\" max=\"500\" step=\"1\"></x-slider><x-numberinput id=\"path-start-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"spacing-section\"><h3 id=\"spacing-section-heading\">Spacing</h3><x-box id=\"letter-spacing-box\" vertical><h4 id=\"letter-spacing-heading\">Letter</h4><x-box id=\"letter-spacing-inner-box\"><x-slider id=\"letter-spacing-slider\" value=\"0\" min=\"-20\" max=\"20\" step=\"0.1\"></x-slider><x-numberinput id=\"letter-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"word-spacing-box\" vertical><h4 id=\"word-spacing-heading\">Word</h4><x-box id=\"word-spacing-inner-box\"><x-slider id=\"word-spacing-slider\" value=\"0\" min=\"-100\" max=\"100\" step=\"0.1\"></x-slider><x-numberinput id=\"word-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"line-spacing-box\" vertical><h4 id=\"line-spacing-heading\">Line</h4><x-box id=\"line-spacing-inner-box\"><x-slider id=\"line-spacing-slider\" value=\"0\" min=\"-3\" max=\"3\" step=\"0.1\"></x-slider><x-numberinput id=\"line-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject322=function _templateObject322(){return data;};return data;}function _templateObject321(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;box-sizing:border-box}:host(:focus){outline:0}h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#header{padding:5px;border-bottom-width:1px;border-bottom-style:solid}#provider-buttons{width:100%}#provider-buttons x-button{flex:1}#provider-buttons x-icon{width:14px;height:14px}#main{flex:1;width:100%;height:100%;min-height:1px;position:relative}#defs-items{width:100%;height:100%;box-sizing:border-box;flex:1;outline:0;overflow:auto}#defs-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#defs-items .item[data-selected]{color:#fff;background:var(--accent-color)}#defs-items .item .label{text-overflow:ellipsis;white-space:pre;font-size:20px}#local-items{width:100%;height:100%;box-sizing:border-box;flex:1;outline:0;overflow:auto}#local-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#local-items .item[data-disabled]{opacity:.4;pointer-events:none}#local-items .item[data-selected]{color:#fff;background:var(--accent-color)}#local-items .item .label{overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:20px}#placeholder{padding:5px 7px;font-size:12px;opacity:.6}#footer{padding:5px;border-top-width:1px;border-top-style:solid}#filter-input{flex:1;max-width:none;border-top-right-radius:0;border-bottom-right-radius:0}#footer #manage-button{width:100%;margin-bottom:5px}#footer #manage-button x-icon{width:14px;height:14px}"]);_templateObject321=function _templateObject321(){return data;};return data;}function _templateObject320(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-buttons id=\"provider-buttons\" tracking=\"1\"><x-button value=\"defs\" condensed toggled><x-icon name=\"defs-panel\"></x-icon><x-label>Defs</x-label></x-button><x-button value=\"local\" condensed><x-icon name=\"os-","\"></x-icon><x-label>Local</x-label></x-button></x-buttons></header><main id=\"main\" part=\"main\"><div id=\"defs-items\" class=\"items\"></div><div id=\"local-items\" class=\"items\"></div><div id=\"placeholder\" hidden></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-input id=\"filter-input\" placeholder=\"Filter\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input></footer></template>"]);_templateObject320=function _templateObject320(){return data;};return data;}function _templateObject319(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}section[hidden]+hr{display:none}#filter-section{padding:10px 20px 15px}#filter-select{width:100%}#filter-settings-wrapper:not(:empty){margin-top:14px}#filter-convert-button{width:100%;margin-top:14px}#filter-edit-button{width:100%;margin-top:14px}#blend-mode-select{width:100%}#isolation-checkbox{margin-top:10px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#cover-buttons>x-button{flex:1}#cover-buttons>x-button:last-child{margin-left:8px}"]);_templateObject319=function _templateObject319(){return data;};return data;}function _templateObject318(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Compositing</h2><section id=\"filter-section\"><h3 id=\"filter-section-heading\">Filter</h3><bx-filterselect id=\"filter-select\"></bx-filterselect><div id=\"filter-settings-wrapper\"></div><x-button id=\"filter-convert-button\"><x-label>Convert to custom filter</x-label></x-button><x-button id=\"filter-edit-button\"><x-label>Edit custom filter\u2026</x-label></x-button></section><hr><section id=\"blend-mode-section\"><h3 id=\"blend-mode-section-heading\">Blend mode</h3><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\" toggled><x-label>Normal</x-label></x-menuitem><hr><x-menuitem value=\"darken\"><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"color-burn\"><x-label>Color Burn</x-label></x-menuitem><hr><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"color-dodge\"><x-label>Color Dodge</x-label></x-menuitem><hr><x-menuitem value=\"overlay\"><x-label>Overlay</x-label></x-menuitem><x-menuitem value=\"soft-light\"><x-label>Soft Light</x-label></x-menuitem><x-menuitem value=\"hard-light\"><x-label>Hard Light</x-label></x-menuitem><hr><x-menuitem value=\"difference\"><x-label>Difference</x-label></x-menuitem><x-menuitem value=\"exclusion\"><x-label>Exclusion</x-label></x-menuitem><hr><x-menuitem value=\"hue\"><x-label>Hue</x-label></x-menuitem><x-menuitem value=\"saturation\"><x-label>Saturation</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"isolation-checkbox\"><x-label id=\"isolation-label\">Isolate</x-label></x-checkbox></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"cover-section\"><h3 id=\"cover-section-heading\">Cover</h3><x-box id=\"cover-buttons\"><x-button id=\"clip-button\" togglable><x-icon name=\"object-clip\"></x-icon><x-label>Clip</x-label></x-button><x-button id=\"mask-button\" togglable><x-icon name=\"object-mask\"></x-icon><x-label>Mask</x-label></x-button></x-box></section></template>"]);_templateObject318=function _templateObject318(){return data;};return data;}function _templateObject317(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#colors-section{margin-top:14px;display:flex}#colors-section>x-box{flex:1}#colors-section>x-box:first-child{margin-right:7px}#colors-section>x-box:last-child{margin-left:7px}#colors-section x-colorselect{width:100%}#colors-section x-popover{--align:right}#gamma-section{margin-top:14px}#gamma-section h4{margin-bottom:0}#gamma-section x-box{width:100%}#gamma-section x-slider{flex:1}#gamma-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject317=function _templateObject317(){return data;};return data;}function _templateObject316(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"colors-section\"><x-box id=\"shadows-color-box\" vertical><h4 id=\"shadows-color-heading\">Shadows color</h4><x-colorselect id=\"shadows-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"shadows-color-popover\" modal><bx-colorpicker id=\"shadows-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box><x-box id=\"highlights-color-box\" vertical><h4 id=\"highlights-color-heading\">Highlights color</h4><x-colorselect id=\"highlights-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"highlights-color-popover\" modal><bx-colorpicker id=\"highlights-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box></section><section id=\"gamma-section\"><h4 id=\"gamma-heading\">Gamma correction</h4><x-box id=\"gamma-box\"><x-slider id=\"gamma-slider\" value=\"0\" min=\"0\" max=\"4\" step=\"0.1\"></x-slider><x-numberinput id=\"gamma-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject316=function _templateObject316(){return data;};return data;}function _templateObject315(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#channels-section{margin-top:14px}#channels-buttons{width:100%}#channels-buttons x-button{flex:1}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#saturation-section{margin-top:14px}#saturation-section h4{margin-bottom:0}#saturation-section x-box{width:100%}#saturation-section x-slider{flex:1}#saturation-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject315=function _templateObject315(){return data;};return data;}function _templateObject314(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"channels-section\"><h4 id=\"channels-heading\">Channels</h4><x-buttons id=\"channels-buttons\" tracking=\"2\"><x-button value=\"r\" toggled><x-label>Red</x-label></x-button><x-button value=\"g\"><x-label>Green</x-label></x-button><x-button value=\"b\"><x-label>Blue</x-label></x-button></x-buttons></section><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"5\" min=\"1\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"5\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"saturation-section\"><h4 id=\"saturation-heading\">Saturation</h4><x-box id=\"saturation-box\"><x-slider id=\"saturation-slider\" value=\"0.9\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturation-input\" value=\"0.9\" min=\"0\" max=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject314=function _templateObject314(){return data;};return data;}function _templateObject313(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject313=function _templateObject313(){return data;};return data;}function _templateObject312(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject312=function _templateObject312(){return data;};return data;}function _templateObject311(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject311=function _templateObject311(){return data;};return data;}function _templateObject310(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject310=function _templateObject310(){return data;};return data;}function _templateObject309(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject309=function _templateObject309(){return data;};return data;}function _templateObject308(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject308=function _templateObject308(){return data;};return data;}function _templateObject307(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#angle-section{margin-top:14px}#angle-section h4{margin-bottom:0}#angle-section x-box{width:100%}#angle-section x-slider{flex:1}#angle-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject307=function _templateObject307(){return data;};return data;}function _templateObject306(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"angle-section\"><h4 id=\"angle-heading\">Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject306=function _templateObject306(){return data;};return data;}function _templateObject305(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:60px;margin-left:10px}"]);_templateObject305=function _templateObject305(){return data;};return data;}function _templateObject304(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject304=function _templateObject304(){return data;};return data;}function _templateObject303(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject303=function _templateObject303(){return data;};return data;}function _templateObject302(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject302=function _templateObject302(){return data;};return data;}function _templateObject301(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject301=function _templateObject301(){return data;};return data;}function _templateObject300(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject300=function _templateObject300(){return data;};return data;}function _templateObject299(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#balance-section{margin-top:14px}#balance-section h4{margin-bottom:0}#balance-section x-box{width:100%}#balance-section x-slider{flex:1}#balance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject299=function _templateObject299(){return data;};return data;}function _templateObject298(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"balance-section\"><h4 id=\"balance-heading\">Balance</h4><x-box id=\"balance-box\"><x-slider id=\"balance-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"balance-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject298=function _templateObject298(){return data;};return data;}function _templateObject297(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#operator-section{margin-top:14px}#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject297=function _templateObject297(){return data;};return data;}function _templateObject296(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"operator-section\"><h4 id=\"operator-heading\">Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject296=function _templateObject296(){return data;};return data;}function _templateObject295(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#pixel-size-section{margin-top:14px}#pixel-size-section h4{margin-bottom:0}#pixel-size-section x-box{width:100%}#pixel-size-section x-slider{flex:1}#pixel-size-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject295=function _templateObject295(){return data;};return data;}function _templateObject294(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"pixel-size-section\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" value=\"10\" min=\"1\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" value=\"10\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject294=function _templateObject294(){return data;};return data;}function _templateObject293(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#frequency-section{margin-top:14px}#frequency-section h4{margin-bottom:0}#frequency-section x-box{width:100%}#frequency-section x-slider{flex:1}#frequency-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject293=function _templateObject293(){return data;};return data;}function _templateObject292(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"frequency-section\"><h4 id=\"frequency-heading\">Frequency</h4><x-box id=\"frequency-box\"><x-slider id=\"frequency-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"frequency-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject292=function _templateObject292(){return data;};return data;}function _templateObject291(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}#distance-section{margin-top:14px}#distance-section h4{margin-bottom:0}#distance-section x-box{width:100%}#distance-section x-slider{flex:1}#distance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject291=function _templateObject291(){return data;};return data;}function _templateObject290(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"orientation-section\"><h4 id=\"orientation-heading\">Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section><section id=\"distance-section\"><h4 id=\"distance-heading\">Distance</h4><x-box id=\"distance-box\"><x-slider id=\"distance-slider\" value=\"10\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"distance-input\" value=\"10\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject290=function _templateObject290(){return data;};return data;}function _templateObject289(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject289=function _templateObject289(){return data;};return data;}function _templateObject288(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject288=function _templateObject288(){return data;};return data;}function _templateObject287(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#width-section{margin-top:14px}#width-section h4{margin-bottom:0}#width-section x-box{width:100%}#width-section x-slider{flex:1}#width-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject287=function _templateObject287(){return data;};return data;}function _templateObject286(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"width-section\"><h4 id=\"width-heading\">Width</h4><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject286=function _templateObject286(){return data;};return data;}function _templateObject285(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#target-section{display:flex;margin-top:14px}#target-section x-box{width:100%}#target-section x-box:first-child{margin-right:8px}#target-section x-box:last-child{margin-left:8px}#target-section x-numberinput{width:100%}#cone-angle-section{margin-top:14px}#cone-angle-section h4{margin-bottom:0}#cone-angle-section x-box{width:100%}#cone-angle-section x-slider{flex:1}#cone-angle-section x-numberinput{width:54px;margin-left:10px}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject285=function _templateObject285(){return data;};return data;}function _templateObject284(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"target-section\"><x-box id=\"target-x-box\" vertical><h4 id=\"target-x-heading\">Target X</h4><x-numberinput id=\"target-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><h4 id=\"target-y-heading\">Target Y</h4><x-numberinput id=\"target-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-z-box\" vertical><h4 id=\"target-z-heading\">Target Z</h4><x-numberinput id=\"target-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cone-angle-section\"><h4 id=\"cone-angle-heading\">Cone angle</h4><x-box id=\"cone-angle-box\"><x-slider id=\"cone-angle-slider\" value=\"0\" min=\"1\" max=\"90\" step=\"1\"></x-slider><x-numberinput id=\"cone-angle-input\" value=\"0\" min=\"1\" max=\"90\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject284=function _templateObject284(){return data;};return data;}function _templateObject283(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject283=function _templateObject283(){return data;};return data;}function _templateObject282(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject282=function _templateObject282(){return data;};return data;}function _templateObject281(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#choke-section{margin-top:14px}#choke-section h4{margin-bottom:0}#choke-section x-box{width:100%}#choke-section x-slider{flex:1}#choke-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject281=function _templateObject281(){return data;};return data;}function _templateObject280(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"choke-section\"><h4 id=\"choke-heading\">Choke</h4><x-box id=\"choke-box\"><x-slider id=\"choke-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"choke-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject280=function _templateObject280(){return data;};return data;}function _templateObject279(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#spread-section{margin-top:14px}#spread-section h4{margin-bottom:0}#spread-section x-box{width:100%}#spread-section x-slider{flex:1}#spread-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject279=function _templateObject279(){return data;};return data;}function _templateObject278(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-section\"><h4 id=\"spread-heading\">Spread</h4><x-box id=\"spread-box\"><x-slider id=\"spread-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"spread-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject278=function _templateObject278(){return data;};return data;}function _templateObject277(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#expand-button{width:100%;padding:0 10px;justify-content:start}#expand-button>x-box{flex:1}#expand-button-thumbnail{width:27px;height:27px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#expand-button-thumbnail[hidden]{display:none}:host([mixed]) #expand-button-thumbnail{opacity:.7}#expand-button-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none}#expand-button-label{text-align:start;margin-left:7px}:host([mixed]) #expand-button-label{opacity:.7}#popover{flex-flow:column;width:240px;min-height:79px}#popover[open]{display:flex}#popover>#main{display:flex;flex-flow:column;padding:0;box-sizing:border-box}#items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#items .placeholder{padding:9px 10px;opacity:.6;box-sizing:border-box;font-size:12px}#items h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#items .item[data-selected]{background:var(--accent-color)}#items .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#items .item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}#items .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#items .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;min-height:fit-content;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{margin-left:4px}#footer #developer-mode-button x-icon{width:11px;height:11px}#custom-filters-mirror,#preset-filters-mirror{width:0;height:0;display:block}"]);_templateObject277=function _templateObject277(){return data;};return data;}function _templateObject276(){var data=_taggedTemplateLiteral(["<template><x-button id=\"expand-button\" size=\"larger\" disabled=\"disabled\"><x-box><div id=\"expand-button-thumbnail\" part=\"thumbnail\"><img id=\"expand-button-thumbnail-img\" src=\"","\"></div><x-label id=\"expand-button-label\">None</x-label></x-box><x-popover id=\"popover\" modal><main id=\"main\"><div id=\"items\"><div id=\"none-item\" class=\"item\" data-value=\"none\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">None</div></div><div id=\"preset-items-container\"><h4 id=\"preset-items-heading\" part=\"heading\">Preset filters</h4><div id=\"preset-items\"><div class=\"item\" data-value=\"drop-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"inner-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"point-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"spot-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"outline\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"gaussian-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"motion-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"warp\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"pixelete\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"morphology\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"black-and-white\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"grayscale\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"sepia\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"saturate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"hue-rotate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"invert\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"brightness\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"contrast\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"posterize\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"duotone\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"x-ray\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div></div></div><div id=\"custom-items-container\"><h4 id=\"custom-items-heading\" part=\"heading\">Custom filters</h4><div id=\"custom-items\"></div><div id=\"custom-items-placeholder\" class=\"placeholder\" hidden>No filters found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button></footer></x-popover></x-button><svg id=\"custom-filters-mirror\"></svg> <svg id=\"preset-filters-mirror\"></svg></template>"]);_templateObject276=function _templateObject276(){return data;};return data;}function _templateObject275(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:15px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#width-section{padding:15px 20px 17px 20px}#width-slider{flex:1}#width-input{margin-left:6px;width:54px}#non-scaling-stroke-checkbox{margin-top:5px}#line-section{padding:15px 20px 17px 20px}#line-cap-join-subsection{display:flex}#line-join-box{margin-left:38px}#miter-limit-subsection{margin-top:24px}#miter-limit-box h4{margin-bottom:2px}#miter-limit-box{width:100%}#miter-limit-slider{flex:1}#miter-limit-input{margin-left:6px;width:54px}#dash-section{padding:15px 20px 20px 20px}#dash-array-select{width:100%;margin-bottom:10px}#dash-array-inputs{width:100%}#dash-array-inputs>x-box{width:40px;margin-left:-1px;flex:1}#dash-array-inputs>x-box:first-child{margin-left:0}#dash-array-inputs x-numberinput{width:100%;text-align:center;--inner-padding:0 3px}#dash-array-inputs x-label{align-self:center;margin-right:4px;font-weight:900;opacity:.9}#dash-array-inputs x-label[disabled]{opacity:.4}#dash-array-inputs x-label.gap{opacity:.2}#dash-array-inputs x-label.gap[disabled]{opacity:.1}#dash-offset-box{margin-top:16px}#dash-offset-box h4{margin-bottom:2px}#dash-offset-inner-box{width:100%}#dash-offset-slider{flex:1}#dash-offset-input{margin-left:6px;width:54px}#marker-section{padding:15px 20px 20px 20px}#markers-box{justify-content:space-between}#markers-box>x-box{width:calc(33% - 4px)}"]);_templateObject275=function _templateObject275(){return data;};return data;}function _templateObject274(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Stroke</h2><section id=\"paint-section\"><bx-paintinspector id=\"stroke-paint-inspector\" context=\"stroke\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"width-section\"><h3 id=\"width-section-heading\">Width</h3><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"1\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"1\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-checkbox id=\"non-scaling-stroke-checkbox\"><x-label>Non-scaling stroke</x-label></x-checkbox></section><hr><section id=\"line-section\"><h3 id=\"line-section-heading\">Line</h3><section id=\"line-cap-join-subsection\"><x-box id=\"line-cap-box\" vertical><h4 id=\"line-cap-box-heading\">Cap</h4><x-buttons id=\"line-cap-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"butt-line-cap-button\" value=\"butt\" title=\"Butt cap\" skin=\"flat\"><x-icon name=\"cap-butt\"></x-icon></x-button><x-button id=\"round-line-cap-button\" value=\"round\" title=\"Round cap\" skin=\"flat\"><x-icon name=\"cap-round\"></x-icon></x-button><x-button id=\"square-line-cap-button\" value=\"square\" title=\"Square cap\" skin=\"flat\"><x-icon name=\"cap-square\"></x-icon></x-button></x-buttons></x-box><x-box id=\"line-join-box\" vertical><h4 id=\"line-join-box-heading\">Join</h4><x-buttons id=\"line-join-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"miter-line-join-button\" value=\"miter\" title=\"Miter join\" skin=\"flat\"><x-icon name=\"join-miter\"></x-icon></x-button><x-button id=\"round-line-join-button\" value=\"round\" title=\"Round join\" skin=\"flat\"><x-icon name=\"join-round\"></x-icon></x-button><x-button id=\"bevel-line-join-button\" value=\"bevel\" title=\"Bevel join\" skin=\"flat\"><x-icon name=\"join-bevel\"></x-icon></x-button></x-buttons></x-box></section><section id=\"miter-limit-subsection\"><h4 id=\"miter-limit-heading\">Miter limit</h4><x-box id=\"miter-limit-box\"><x-slider id=\"miter-limit-slider\" value=\"1\" min=\"1\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"miter-limit-input\" value=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dash-section\"><h3 id=\"dash-section-heading\">Dash</h3><x-box id=\"dash-array-box\" vertical><h4 id=\"dash-array-box-heading\">Array</h4><x-select id=\"dash-array-select\"><x-menu>","</x-menu></x-select><x-box id=\"dash-array-inputs\"><x-box vertical><x-numberinput id=\"dash-1-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-2-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-3-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-4-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-5-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-6-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box></x-box></x-box><x-box id=\"dash-offset-box\" vertical><h4 id=\"dash-offset-heading\">Offset</h4><x-box id=\"dash-offset-inner-box\"><x-slider id=\"dash-offset-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"dash-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"marker-section\"><h3 id=\"marker-section-heading\">Marker</h3><x-box id=\"markers-box\"><x-box vertical><h4 id=\"marker-start-heading\">Start</h4><bx-markerselect id=\"marker-start-select\" class=\"marker-select\" data-position=\"start\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-mid-heading\">Mid</h4><bx-markerselect id=\"marker-mid-select\" class=\"marker-select\" data-position=\"mid\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-end-heading\">End</h4><bx-markerselect id=\"marker-end-select\" class=\"marker-select\" data-position=\"end\"></bx-markerselect></x-box></x-box></section></template>"]);_templateObject274=function _templateObject274(){return data;};return data;}function _templateObject273(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;pointer-events:none;opacity:.5}:host([enabled]){pointer-events:initial;opacity:1}:host([hidden]){display:none}:host(:focus){outline:0}#button{width:100%;padding:2px 8px;justify-content:start}#button-thumbnail{width:20px;height:20px;min-width:20px;margin:0 auto;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{visibility:hidden}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:200px;flex-flow:column}#popover #items{width:100%;height:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;padding:4px;border-top-width:1px;border-top-style:solid}#footer>x-button{flex:1}#footer>x-button+x-button{margin-left:3px}#placeholder{padding:10px;opacity:.6;box-sizing:border-box;font-size:12px}"]);_templateObject273=function _templateObject273(){return data;};return data;}function _templateObject272(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\"><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" hidden><use id=\"button-thumbnail-use\" width=\"100%\" height=\"100%\"></use></svg><x-popover id=\"popover\" modal><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers defined.</div><div id=\"footer\" part=\"footer\"><x-button id=\"clear-button\" condensed><x-label>Clear</x-label></x-button><x-button id=\"manage-button\" condensed><x-label>Manage\u2026</x-label></x-button></div></x-popover></x-button></template>"]);_templateObject272=function _templateObject272(){return data;};return data;}function _templateObject271(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:14px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#rule-section{padding:10px 20px 20px 20px}"]);_templateObject271=function _templateObject271(){return data;};return data;}function _templateObject270(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Fill</h2><section id=\"paint-section\"><bx-paintinspector id=\"fill-paint-inspector\" context=\"fill\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"rule-section\"><h3 id=\"rule-section-heading\">Rule</h3><x-buttons id=\"rule-buttons\" tracking=\"1\"><x-button id=\"non-zero-rule-button\" value=\"nonzero\" title=\"Non-zero\" skin=\"flat\" toggled><x-icon name=\"fill-rule-non-zero\"></x-icon></x-button><x-button id=\"even-odd-rule-button\" value=\"evenodd\" title=\"Even-odd\" skin=\"flat\"><x-icon name=\"fill-rule-even-odd\"></x-icon></x-button></x-buttons></section></template>"]);_templateObject270=function _templateObject270(){return data;};return data;}function _templateObject269(){var data=_taggedTemplateLiteral([":host{display:block}#color-select-section{margin-top:20px}#color-unlink-button{width:100%;margin-top:14px}#color-unlink-button x-icon{width:14px;height:14px}#gradient-select-section{margin-top:20px}#gradient-unlink-button{width:100%;margin-top:14px}#gradient-unlink-button x-icon{width:14px;height:14px}#pattern-select-section{margin-top:20px}#color-section{position:relative;margin-top:20px}#color-section-heading{flex:1}#color-section-heading[hidden]{display:block;visibility:hidden}#color-picker-type-buttons x-button{min-height:0;margin-left:6px;border-radius:0}#color-picker-type-buttons x-button x-icon{width:18px;height:18px}#color-picker-type-buttons x-button[computedsize=small] x-icon{width:16px;height:16px}#color-section #color-picker{width:100%;margin-top:4px}#color-section #color-picker-hint{margin:4px 0 0 0;font-size:12px;font-weight:500;line-height:1;opacity:.8}#color-section #color-picker-hint span{text-decoration:underline}#color-section #color-picker-hint span:hover{cursor:pointer}#stop-opacity-section{margin-top:20px}#stop-opacity-section-heading{margin-bottom:0}#stop-opacity-slider{flex:1}#stop-opacity-input{margin-left:6px;width:54px}#spread-method-section{margin-top:20px}#spread-method-buttons{width:100%}#spread-method-buttons x-button{flex:1}#paint-order-section{margin-top:20px}"]);_templateObject269=function _templateObject269(){return data;};return data;}function _templateObject268(){var data=_taggedTemplateLiteral(["<template><h3 id=\"section-heading\">Paint</h3><section id=\"paint-type-section\"><h4 id=\"paint-type-heading\">Type</h4><x-buttons id=\"paint-type-buttons\" tracking=\"1\"><x-button value=\"solid\" title=\"Solid Color\" skin=\"flat\"><x-icon name=\"paint-solid\"></x-icon></x-button><x-button value=\"linear-gradient\" title=\"Linear Gradient\" skin=\"flat\"><x-icon name=\"paint-linear-gradient\"></x-icon></x-button><x-button value=\"radial-gradient\" title=\"Radial Gradient\" skin=\"flat\"><x-icon name=\"paint-radial-gradient\"></x-icon></x-button><x-button value=\"pattern\" title=\"Pattern\" skin=\"flat\"><x-icon name=\"paint-pattern\"></x-icon></x-button><x-button value=\"none\" title=\"None\" skin=\"flat\"><x-icon name=\"paint-none\"></x-icon></x-button><x-button id=\"inherit-paint-button\" value=\"inherit\" title=\"Inherit\" skin=\"flat\" hidden><x-icon name=\"paint-inherit\"></x-icon></x-button></x-buttons></section><section id=\"color-select-section\" hidden><h4>Color</h4><bx-colorselect id=\"color-select\"></bx-colorselect><x-button id=\"color-unlink-button\"><x-label>Convert to ad hoc color</x-label></x-button></section><section id=\"gradient-select-section\" hidden><h4>Gradient</h4><bx-gradientselect id=\"gradient-select\"></bx-gradientselect><x-button id=\"gradient-unlink-button\"><x-label>Convert to ad hoc gradient</x-label></x-button></section><section id=\"pattern-select-section\" hidden><h4>Pattern</h4><bx-patternselect id=\"pattern-select\"></bx-patternselect></section><section id=\"color-section\" hidden><x-box><h4 id=\"color-section-heading\">Color</h4><x-buttons id=\"color-picker-type-buttons\" tracking=\"1\"><x-button value=\"rect\" skin=\"flat\" size=\"smaller\" toggled><x-icon name=\"color-picker-rect\"></x-icon></x-button><x-button value=\"wheel\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-wheel\"></x-icon></x-button><x-button value=\"bars\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-bars\"></x-icon></x-button></x-buttons></x-box><bx-colorpicker id=\"color-picker\" alphaslider formatselect></bx-colorpicker><p id=\"color-picker-hint\">Select stop to recolor with <span id=\"edit-tool-span\">Edit Tool</span>.</p></section><section id=\"stop-opacity-section\" hidden><h4 id=\"stop-opacity-section-heading\">Stop opacity</h4><x-box><x-slider id=\"stop-opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-method-section\" hidden><h4>Spread</h4><x-buttons id=\"spread-method-buttons\" tracking=\"1\"><x-button id=\"pad-spread-method-button\" value=\"pad\"><x-label>Pad</x-label></x-button><x-button id=\"repeat-spread-method-button\" value=\"repeat\"><x-label>Repeat</x-label></x-button><x-button id=\"reflect-spread-method-button\" value=\"reflect\"><x-label>Reflect</x-label></x-button></x-buttons></section><section id=\"paint-order-section\" hidden><h4 id=\"paint-order-heading\">Order</h4><bx-paintorderswitch id=\"paint-order-switch\" context=\"fill\"></bx-paintorderswitch></section></template>"]);_templateObject268=function _templateObject268(){return data;};return data;}function _templateObject267(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;width:100%;height:32px;padding:1px;border-width:1px;border-style:solid;touch-action:pan-y}:host(:focus){outline:0}:host([computedsize=large]){height:38px}#thumbs{width:100%;height:100%;position:relative}.thumb{width:33.333%;height:100%;padding:0 10px;position:absolute;display:flex;flex:1;justify-content:center;align-items:center;box-sizing:border-box;z-index:0;color:#fff;font-size:11px}#thumbs[data-animate] .thumb{transition:left .2s ease-in-out,background .2s ease-in-out}.thumb[data-socket=\"1\"]{left:0}.thumb[data-socket=\"2\"]{left:33.333%}.thumb[data-socket=\"3\"]{left:66.666%}.thumb[data-dragged]{z-index:1}.thumb[data-toggled]{font-weight:700}"]);_templateObject267=function _templateObject267(){return data;};return data;}function _templateObject266(){var data=_taggedTemplateLiteral(["<template><x-box id=\"thumbs\"><div id=\"fill-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"fill\" data-socket=\"1\">Fill</div><div id=\"stroke-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"stroke\" data-socket=\"2\">Stroke</div><div id=\"markers-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"markers\" data-socket=\"3\">Markers</div></x-box></template>"]);_templateObject266=function _templateObject266(){return data;};return data;}function _templateObject265(){var data=_taggedTemplateLiteral([":host{display:block;width:250px;box-sizing:border-box}:host([hidden]){display:none}#main{width:100%;height:100%}#main>*{width:100%}#wheel-picker{--wheel-max-width:234px}#format-select{margin-left:4px;min-width:73px;display:none}:host([formatselect]) #format-select{display:block}x-box{margin-top:15px}#input{max-width:none;flex:1}#grab-button{margin:0 0 0 5px}#grab-button[computedsize=large]{min-width:38px}#grab-button x-icon{width:14px;height:14px}#grab-button[computedsize=large] x-icon{width:16px;height:16px}"]);_templateObject265=function _templateObject265(){return data;};return data;}function _templateObject264(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"pickers\"><x-rectcolorpicker id=\"rect-picker\"></x-rectcolorpicker><x-wheelcolorpicker id=\"wheel-picker\" hidden></x-wheelcolorpicker><x-barscolorpicker id=\"bars-picker\" hidden></x-barscolorpicker></div><x-box><x-input id=\"input\" type=\"color\"></x-input><x-select id=\"format-select\" condensed><x-menu><x-menuitem value=\"hex\" toggled><x-label>Hex</x-label></x-menuitem><x-menuitem value=\"rgb\"><x-label>RGB</x-label></x-menuitem><x-menuitem value=\"rgba\"><x-label>RGBA</x-label></x-menuitem><x-menuitem value=\"hsl\"><x-label>HSL</x-label></x-menuitem><x-menuitem value=\"hsla\"><x-label>HSLA</x-label></x-menuitem></x-menu></x-select><x-button id=\"grab-button\" condensed togglable><x-icon name=\"grab-color\"></x-icon></x-button></x-box></main></template>"]);_templateObject264=function _templateObject264(){return data;};return data;}function _templateObject263(){var data=_taggedTemplateLiteral([":host{display:block;margin:0 0 15px 0;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:26px;height:26px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}#mirror{width:0;height:0;display:block}"]);_templateObject263=function _templateObject263(){return data;};return data;}function _templateObject262(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\" hidden><rect width=\"50\" height=\"50\"></rect></svg><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button><svg id=\"mirror\"></svg></template>"]);_templateObject262=function _templateObject262(){return data;};return data;}function _templateObject261(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject261=function _templateObject261(){return data;};return data;}function _templateObject260(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject260=function _templateObject260(){return data;};return data;}function _templateObject259(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject259=function _templateObject259(){return data;};return data;}function _templateObject258(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No colors found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject258=function _templateObject258(){return data;};return data;}function _templateObject257(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:absolute;width:calc(100% - 76px);height:250px;bottom:-1px;left:38px;transition:transform .2s cubic-bezier(.4,0,.2,1);transform:translateY(100%);will-change:transform}:host([value]){transform:translateY(0)}::slotted(:not([enabled])){display:none}#main{width:100%;height:100%;display:flex;justify-content:center}#buttons{position:absolute;top:-21px;height:20px;z-index:1}#buttons x-button{padding:0 12px;min-height:23px;border-bottom-left-radius:0;border-bottom-right-radius:0}#panels{width:100%;height:100%;box-sizing:border-box}#resize-grippie{display:none;position:absolute;width:100%;height:14px;background:0 0;top:-13px;left:0;cursor:row-resize;touch-action:none}:host([value]) #resize-grippie{display:block}"]);_templateObject257=function _templateObject257(){return data;};return data;}function _templateObject256(){var data=_taggedTemplateLiteral(["<template><div id=\"main\"><div id=\"resize-grippie\"></div><x-buttons id=\"buttons\" tracking=\"0\"></x-buttons><div id=\"panels\"><slot></slot></div></div></template>"]);_templateObject256=function _templateObject256(){return data;};return data;}function _templateObject255(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;box-sizing:border-box;z-index:1;will-change:transform}::slotted(:not([enabled])){display:none}#buttons{position:relative;width:fit-content;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;left:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#main{position:absolute;top:0;height:100%;transform:translateX(9999px);transition:transform .2s cubic-bezier(.4,0,.2,1);background:inherit;border-left:1px solid var(--border-color);z-index:-1;will-change:transform}:host([value]) #main{transform:translateX(0)!important;z-index:2}:host([animating]) #main{contain:strict;z-index:-1}#panels{height:100%}#resize-grippie{display:none;position:absolute;width:10px;height:100%;background:0 0;top:0;left:-5px;cursor:col-resize;z-index:2;touch-action:pan-y}:host([value]) #resize-grippie{display:block}"]);_templateObject255=function _templateObject255(){return data;};return data;}function _templateObject254(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"0\" vertical></x-buttons><div id=\"main\"><div id=\"resize-grippie\"></div><div id=\"panels\"><slot></slot></div></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject254=function _templateObject254(){return data;};return data;}function _templateObject253(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box}#buttons{position:relative;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;right:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#buttons #cog-tool-button>x-icon{width:19px;height:19px}x-popover{--align:right}:host-context(bx-macapp) #transform-tool-popover{margin-top:-4px}"]);_templateObject253=function _templateObject253(){return data;};return data;}function _templateObject252(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"1\" vertical><x-button id=\"transform-tool-button\" skin=\"dock\" value=\"transform-tool\" data-tooltip=\"Transform\" toggled><x-icon name=\"transform-tool\"></x-icon></x-button><x-button id=\"edit-tool-button\" skin=\"dock\" value=\"edit-tool\" data-tooltip=\"Edit\"><x-icon name=\"edit-tool\"></x-icon></x-button><x-button id=\"pan-tool-button\" skin=\"dock\" value=\"pan-tool\" data-tooltip=\"Pan\"><x-icon name=\"pan-tool\"></x-icon></x-button><x-button id=\"quad-bezier-tool-button\" skin=\"dock\" value=\"quad-bezier-tool\" data-tooltip=\"Quad Bezier\"><x-icon name=\"quad-bezier-tool\"></x-icon></x-button><x-button id=\"cubic-bezier-tool-button\" skin=\"dock\" value=\"cubic-bezier-tool\" data-tooltip=\"Cubic Bezier\"><x-icon name=\"cubic-bezier-tool\"></x-icon></x-button><x-button id=\"arc-tool-button\" skin=\"dock\" value=\"arc-tool\" data-tooltip=\"Arc\"><x-icon name=\"arc-tool\"></x-icon></x-button><x-button id=\"freehand-tool-button\" skin=\"dock\" value=\"freehand-tool\" data-tooltip=\"Freehand\"><x-icon name=\"freehand-tool\"></x-icon></x-button><x-button id=\"blob-tool-button\" skin=\"dock\" value=\"blob-tool\" data-tooltip=\"Blob\"><x-icon name=\"blob-tool\"></x-icon></x-button><x-button id=\"text-tool-button\" skin=\"dock\" value=\"text-tool\" data-tooltip=\"Text\"><x-icon name=\"text-tool\"></x-icon></x-button><x-button id=\"text-path-tool-button\" skin=\"dock\" value=\"text-path-tool\" data-tooltip=\"Text path\"><x-icon name=\"text-path-tool\"></x-icon></x-button><x-button id=\"view-tool-button\" skin=\"dock\" value=\"view-tool\" data-tooltip=\"View\"><x-icon name=\"view-tool\"></x-icon></x-button><x-button id=\"rect-tool-button\" skin=\"dock\" value=\"rect-tool\" data-tooltip=\"Rectangle\"><x-icon name=\"rect-tool\"></x-icon></x-button><x-button id=\"circle-tool-button\" skin=\"dock\" value=\"circle-tool\" data-tooltip=\"Circle\"><x-icon name=\"circle-tool\"></x-icon></x-button><x-button id=\"ellipse-tool-button\" skin=\"dock\" value=\"ellipse-tool\" data-tooltip=\"Ellipse\"><x-icon name=\"ellipse-tool\"></x-icon></x-button><x-button id=\"ring-tool-button\" skin=\"dock\" value=\"ring-tool\" data-tooltip=\"Ring\"><x-icon name=\"ring-tool\"></x-icon></x-button><x-button id=\"pie-tool-button\" skin=\"dock\" value=\"pie-tool\" data-tooltip=\"Pie\"><x-icon name=\"pie-tool\"></x-icon></x-button><x-button id=\"crescent-tool-button\" skin=\"dock\" value=\"crescent-tool\" data-tooltip=\"Crescent\"><x-icon name=\"crescent-tool\"></x-icon></x-button><x-button id=\"triangle-tool-button\" skin=\"dock\" value=\"triangle-tool\" data-tooltip=\"Triangle\"><x-icon name=\"triangle-tool\"></x-icon></x-button><x-button id=\"n-gon-tool-button\" skin=\"dock\" value=\"n-gon-tool\" data-tooltip=\"N-gon\"><x-icon name=\"n-gon-tool\"></x-icon></x-button><x-button id=\"star-tool-button\" skin=\"dock\" value=\"star-tool\" data-tooltip=\"Star\"><x-icon name=\"star-tool\"></x-icon></x-button><x-button id=\"cog-tool-button\" skin=\"dock\" value=\"cog-tool\" data-tooltip=\"Cog\"><x-icon name=\"cog-tool\"></x-icon></x-button><x-button id=\"arrow-tool-button\" skin=\"dock\" value=\"arrow-tool\" data-tooltip=\"Arrow\"><x-icon name=\"arrow-tool\"></x-icon></x-button><x-button id=\"cross-tool-button\" skin=\"dock\" value=\"cross-tool\" data-tooltip=\"Cross\"><x-icon name=\"cross-tool\"></x-icon></x-button><x-button id=\"spiral-tool-button\" skin=\"dock\" value=\"spiral-tool\" data-tooltip=\"Spiral\"><x-icon name=\"spiral-tool\"></x-icon></x-button><x-button id=\"line-tool-button\" skin=\"dock\" value=\"line-tool\" data-tooltip=\"Line\"><x-icon name=\"line-tool\"></x-icon></x-button><x-button id=\"polyline-tool-button\" skin=\"dock\" value=\"polyline-tool\" data-tooltip=\"Polyline\"><x-icon name=\"polyline-tool\"></x-icon></x-button><x-button id=\"polygon-tool-button\" skin=\"dock\" value=\"polygon-tool\" data-tooltip=\"Polygon\"><x-icon name=\"polygon-tool\"></x-icon></x-button></x-buttons><div id=\"popovers\"><x-popover id=\"transform-tool-popover\"><bx-transformsettings></bx-transformsettings></x-popover><x-popover id=\"edit-tool-popover\"><bx-editsettings></bx-editsettings></x-popover><x-popover id=\"quad-bezier-tool-popover\"><bx-quadbeziersettings></bx-quadbeziersettings></x-popover><x-popover id=\"cubic-bezier-tool-popover\"><bx-cubicbeziersettings></bx-cubicbeziersettings></x-popover><x-popover id=\"arc-tool-popover\"><bx-arcsettings></bx-arcsettings></x-popover><x-popover id=\"freehand-tool-popover\"><bx-freehandsettings></bx-freehandsettings></x-popover><x-popover id=\"blob-tool-popover\"><bx-blobsettings></bx-blobsettings></x-popover><x-popover id=\"text-tool-popover\"><bx-textsettings></bx-textsettings></x-popover><x-popover id=\"text-path-tool-popover\"><bx-textpathsettings></bx-textpathsettings></x-popover><x-popover id=\"view-tool-popover\"><bx-viewsettings></bx-viewsettings></x-popover><x-popover id=\"rect-tool-popover\"><bx-rectsettings></bx-rectsettings></x-popover><x-popover id=\"circle-tool-popover\"><bx-circlesettings></bx-circlesettings></x-popover><x-popover id=\"ellipse-tool-popover\"><bx-ellipsesettings></bx-ellipsesettings></x-popover><x-popover id=\"ring-tool-popover\"><bx-ringsettings></bx-ringsettings></x-popover><x-popover id=\"pie-tool-popover\"><bx-piesettings></bx-piesettings></x-popover><x-popover id=\"crescent-tool-popover\"><bx-crescentsettings></bx-crescentsettings></x-popover><x-popover id=\"triangle-tool-popover\"><bx-trianglesettings></bx-trianglesettings></x-popover><x-popover id=\"n-gon-tool-popover\"><bx-ngonsettings></bx-ngonsettings></x-popover><x-popover id=\"star-tool-popover\"><bx-starsettings></bx-starsettings></x-popover><x-popover id=\"cog-tool-popover\"><bx-cogsettings></bx-cogsettings></x-popover><x-popover id=\"arrow-tool-popover\"><bx-arrowsettings></bx-arrowsettings></x-popover><x-popover id=\"cross-tool-popover\"><bx-crosssettings></bx-crosssettings></x-popover><x-popover id=\"spiral-tool-popover\"><bx-spiralsettings></bx-spiralsettings></x-popover><x-popover id=\"line-tool-popover\"><bx-linesettings></bx-linesettings></x-popover><x-popover id=\"polyline-tool-popover\"><bx-polylinesettings></bx-polylinesettings></x-popover><x-popover id=\"polygon-tool-popover\"><bx-polygonsettings></bx-polygonsettings></x-popover></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject252=function _templateObject252(){return data;};return data;}function _templateObject251(){var data=_taggedTemplateLiteral(["<template><h2>Polygon</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject251=function _templateObject251(){return data;};return data;}function _templateObject250(){var data=_taggedTemplateLiteral(["<template><h2>Polyline</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject250=function _templateObject250(){return data;};return data;}function _templateObject249(){var data=_taggedTemplateLiteral(["<template><h2>Line</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject249=function _templateObject249(){return data;};return data;}function _templateObject248(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}#angle-subsection{display:flex;justify-content:space-between;margin-top:14px}#angle-subsection x-box{width:calc(50% - 5px)}#angle-subsection x-numberinput{width:100%}"]);_templateObject248=function _templateObject248(){return data;};return data;}function _templateObject247(){var data=_taggedTemplateLiteral(["<template><h2>Spiral</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"start-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"end-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"outline-shape\"></bx-stylepicker></section></template>"]);_templateObject247=function _templateObject247(){return data;};return data;}function _templateObject246(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#thickness-subsection{margin-top:6px}#thickness-subsection h4{margin-bottom:0}#thickness-box{width:100%}#thickness-input{margin-left:10px;width:100px}#shift-subsection{margin-top:14px}#shift-subsection h4{margin-bottom:0}#shift-box{width:100%}#shift-input{margin-left:10px;width:100px}"]);_templateObject246=function _templateObject246(){return data;};return data;}function _templateObject245(){var data=_taggedTemplateLiteral(["<template><h2>Cross</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"thickness-subsection\"><h4>Arm thickness</h4><x-box id=\"thickness-box\"><x-slider id=\"thickness-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"thickness-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-100\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-100\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject245=function _templateObject245(){return data;};return data;}function _templateObject244(){var data=_taggedTemplateLiteral(["#base-thickness-subsection{margin-top:6px}#base-thickness-subsection h4{margin-bottom:0}#base-thickness-box{width:100%}#base-thickness-input{margin-left:10px;width:100px}#head-thickness-subsection{margin-top:14px}#head-thickness-subsection h4{margin-bottom:0}#head-thickness-box{width:100%}#head-thickness-input{margin-left:10px;width:100px}#head-length-subsection{margin-top:14px}#head-length-subsection h4{margin-bottom:0}#head-length-box{width:100%}#head-length-input{margin-left:10px;width:100px}#head-inset-subsection{margin-top:14px}#head-inset-subsection h4{margin-bottom:0}#head-inset-box{width:100%}#head-inset-input{margin-left:10px;width:100px}"]);_templateObject244=function _templateObject244(){return data;};return data;}function _templateObject243(){var data=_taggedTemplateLiteral(["<template><h2>Arrow</h2><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"base-thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-size-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-inset-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"base-thickness-subsection\"><h4>Base thickness</h4><x-box id=\"base-thickness-box\"><x-slider id=\"base-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"base-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-subsection\"><h4>Head thickness</h4><x-box id=\"head-thickness-box\"><x-slider id=\"head-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"head-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-subsection\"><h4>Head length</h4><x-box id=\"head-length-box\"><x-slider id=\"head-length-slider\" min=\"1\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-length-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-subsection\"><h4>Head inset</h4><x-box id=\"head-inset-box\"><x-slider id=\"head-inset-slider\" min=\"0\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-inset-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject243=function _templateObject243(){return data;};return data;}function _templateObject242(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r2-subsection,#r3-subsection,#splay-subsection,#teeth-subsection{margin-top:14px}#r1-subsection h4,#r2-subsection h4,#r3-subsection h4,#splay-subsection h4,#teeth-subsection h4{margin-bottom:0}#r1-subsection x-box,#r2-subsection x-box,#r3-subsection x-box,#splay-subsection x-box,#teeth-subsection x-box{width:100%}#r1-subsection x-numberinput,#r2-subsection x-numberinput,#r3-subsection x-numberinput,#splay-subsection x-numberinput,#teeth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject242=function _templateObject242(){return data;};return data;}function _templateObject241(){var data=_taggedTemplateLiteral(["<template><h2>Cog</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"splay-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r2-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r3-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Radius 1</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-subsection\"><h4>Radius 2</h4><x-box id=\"r2-box\"><x-slider id=\"r2-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r2-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r3-subsection\"><h4>Radius 3</h4><x-box id=\"r3-box\"><x-slider id=\"r3-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r3-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-subsection\"><h4>Splay</h4><x-box id=\"splay-box\"><x-slider id=\"splay-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-subsection\"><h4>Teeth</h4><x-box id=\"teeth-box\"><x-slider id=\"teeth-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject241=function _templateObject241(){return data;};return data;}function _templateObject240(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#depth-subsection{margin-top:6px}#arms-subsection{margin-top:14px}#arms-subsection h4,#depth-subsection h4{margin-bottom:0}#arms-subsection x-box,#depth-subsection x-box{width:100%}#arms-subsection x-numberinput,#depth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject240=function _templateObject240(){return data;};return data;}function _templateObject239(){var data=_taggedTemplateLiteral(["<template><h2>Star</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"depth-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"depth-subsection\"><h4>Depth</h4><x-box id=\"depth-box\"><x-slider id=\"depth-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"depth-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject239=function _templateObject239(){return data;};return data;}function _templateObject238(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arms-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#arms-subsection h4,#corner-subsection h4{margin-bottom:0}#arms-subsection x-box,#corner-subsection x-box{width:100%}#arms-subsection x-numberinput,#corner-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject238=function _templateObject238(){return data;};return data;}function _templateObject237(){var data=_taggedTemplateLiteral(["<template><h2>N-gon</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject237=function _templateObject237(){return data;};return data;}function _templateObject236(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#shift-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#corner-subsection h4,#shift-subsection h4{margin-bottom:0}#corner-subsection x-box,#shift-subsection x-box{width:100%}#corner-subsection x-numberinput,#shift-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject236=function _templateObject236(){return data;};return data;}function _templateObject235(){var data=_taggedTemplateLiteral(["<template><h2>Triangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject235=function _templateObject235(){return data;};return data;}function _templateObject234(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arch-subsection{margin-top:6px}#hollow-subsection{margin-top:14px}#arch-subsection h4,#hollow-subsection h4{margin-bottom:0}#arch-subsection x-box,#hollow-subsection x-box{width:100%}#arch-subsection x-numberinput,#hollow-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject234=function _templateObject234(){return data;};return data;}function _templateObject233(){var data=_taggedTemplateLiteral(["<template><h2>Crescent</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"arch-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"hollow-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arch-subsection\"><h4>Arch</h4><x-box id=\"arch-box\"><x-slider id=\"arch-slider\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-subsection\"><h4>Hollow</h4><x-box id=\"hollow-box\"><x-slider id=\"hollow-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject233=function _templateObject233(){return data;};return data;}function _templateObject232(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject232=function _templateObject232(){return data;};return data;}function _templateObject231(){var data=_taggedTemplateLiteral(["<template><h2>Pie</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject231=function _templateObject231(){return data;};return data;}function _templateObject230(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject230=function _templateObject230(){return data;};return data;}function _templateObject229(){var data=_taggedTemplateLiteral(["<template><h2>Ring</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject229=function _templateObject229(){return data;};return data;}function _templateObject228(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}"]);_templateObject228=function _templateObject228(){return data;};return data;}function _templateObject227(){var data=_taggedTemplateLiteral(["<template><h2>Ellipse</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject227=function _templateObject227(){return data;};return data;}function _templateObject226(){var data=_taggedTemplateLiteral(["<template><h2>Circle</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject226=function _templateObject226(){return data;};return data;}function _templateObject225(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}#r-subsection{margin-top:6px}#r-subsection h4{margin-bottom:0}#r-subsection x-box{width:100%}#r-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject225=function _templateObject225(){return data;};return data;}function _templateObject224(){var data=_taggedTemplateLiteral(["<template><h2>Rectangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><rect id=\"geometry-preview-shape\" class=\"shape\"></rect><circle id=\"r-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r-subsection\"><h4>Corner radius</h4><x-box id=\"r-box\"><x-slider id=\"r-slider\" min=\"0\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"r-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject224=function _templateObject224(){return data;};return data;}function _templateObject223(){var data=_taggedTemplateLiteral(["<template><h2>View</h2><section id=\"options-section\"><h3>Options</h3><x-checkbox id=\"move-objects-checkbox\"><x-label>Move objects with view</x-label></x-checkbox><x-checkbox id=\"show-ids-checkbox\"><x-label>Show IDs</x-label></x-checkbox></section></template>"]);_templateObject223=function _templateObject223(){return data;};return data;}function _templateObject222(){var data=_taggedTemplateLiteral(["#smoothing-input{width:80px;margin-left:8px}"]);_templateObject222=function _templateObject222(){return data;};return data;}function _templateObject221(){var data=_taggedTemplateLiteral(["<template><h2>Freehand</h2><section id=\"smoothing-section\"><h3>Smoothing</h3><x-box><x-slider id=\"smoothing-slider\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"smoothing-input\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject221=function _templateObject221(){return data;};return data;}function _templateObject220(){var data=_taggedTemplateLiteral(["<template><h2>Arc</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject220=function _templateObject220(){return data;};return data;}function _templateObject219(){var data=_taggedTemplateLiteral(["<template><h2>Cubic Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject219=function _templateObject219(){return data;};return data;}function _templateObject218(){var data=_taggedTemplateLiteral(["<template><h2>Quad Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject218=function _templateObject218(){return data;};return data;}function _templateObject217(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}"]);_templateObject217=function _templateObject217(){return data;};return data;}function _templateObject216(){var data=_taggedTemplateLiteral(["<template><h2>Edit</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section></template>"]);_templateObject216=function _templateObject216(){return data;};return data;}function _templateObject215(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}#selection-mode-buttons{width:100%;margin:4px 0 0 0}#selection-mode-buttons x-button{height:25px;flex:1}"]);_templateObject215=function _templateObject215(){return data;};return data;}function _templateObject214(){var data=_taggedTemplateLiteral(["<template><h2>Transform</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section><hr><section id=\"selection-mode-section\"><h3>Selection mode</h3><x-buttons id=\"selection-mode-buttons\" tracking=\"1\"><x-button value=\"contain\" condensed toggled><x-label>Contain</x-label></x-button><x-button value=\"intersect\" condensed><x-label>Intersect</x-label></x-button></x-buttons></section><hr><section id=\"transform-preserve-section\"><h3>Preserve</h3><x-checkbox id=\"preserve-stroke-width-checkbox\" toggled><x-label>Stroke width</x-label></x-checkbox><x-checkbox id=\"preserve-rect-radii-checkbox\" toggled><x-label>Rectangle radii</x-label></x-checkbox><x-checkbox id=\"preserve-rotation-checkbox\" toggled><x-label>Rotation</x-label></x-checkbox><x-checkbox id=\"preserve-aspect-ratio-checkbox\"><x-label>Aspect ratio</x-label></x-checkbox></section></template>"]);_templateObject214=function _templateObject214(){return data;};return data;}function _templateObject213(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:fit-content;height:27px;contain:style layout;box-sizing:border-box}:host([computedsize=large]){height:34px}#items{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.item{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:fit-content;height:100%;padding:0 8px;position:relative;border-width:1px;border-style:solid}.item:not(:first-child){margin-left:-1px}.item:focus{z-index:1}.item .inner{display:flex;align-items:center;justify-content:center;height:100%;box-sizing:border-box}.item .icon{width:15px;height:15px;fill:currentColor}.item .label{font-size:11px;margin-left:5px}"]);_templateObject213=function _templateObject213(){return data;};return data;}function _templateObject212(){var data=_taggedTemplateLiteral(["<template><div id=\"items\"></div></template>"]);_templateObject212=function _templateObject212(){return data;};return data;}function _templateObject211(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}"]);_templateObject211=function _templateObject211(){return data;};return data;}function _templateObject210(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><bx-tooltip id=\"tooltip\">Move cursor over object</bx-tooltip></main></template>"]);_templateObject210=function _templateObject210(){return data;};return data;}function _templateObject209(){var data=_taggedTemplateLiteral([":host{position:absolute;z-index:99999;padding:5px 7px;font-size:12px;line-height:1;pointer-events:none;border-width:1px;border-style:solid}:host([hidden]){display:none}"]);_templateObject209=function _templateObject209(){return data;};return data;}function _templateObject208(){var data=_taggedTemplateLiteral(["<template><slot></slot></template>"]);_templateObject208=function _templateObject208(){return data;};return data;}function _templateObject207(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}#lens{width:100px;height:100px;position:fixed;top:-200px;left:-200px;background:#fff;border:4px solid #333;box-shadow:2px 6px 20px rgba(0,0,0,.3);border-radius:100px;overflow:hidden}#lens-inner{position:relative;width:100%;height:100%}#lens #tooltip{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;visibility:hidden}#lens[offscreen] #tooltip{visibility:visible}#lens #tooltip p{color:rgba(0,0,0,.7);line-height:1;padding:0;margin:0}#lens #grid{width:100px;height:100px;background:#d4d4d4}#lens[offscreen] #grid{display:none}#grid #center-rect{stroke:red;stroke-width:1.5}#lens[offscreen] #grid #center-rect{stroke-width:0}"]);_templateObject207=function _templateObject207(){return data;};return data;}function _templateObject206(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><div id=\"lens\" part=\"lens\"><div id=\"lens-inner\"><svg id=\"grid\"></svg><div id=\"tooltip\"><p>Move</p><p>cursor</p><p>over</p><p>canvas</p></div></div></div></main></template>"]);_templateObject206=function _templateObject206(){return data;};return data;}function _templateObject205(){var data=_taggedTemplateLiteral([":host{position:fixed;right:0;bottom:0;width:0;height:0;opacity:0;contain:strict}"]);_templateObject205=function _templateObject205(){return data;};return data;}function _templateObject204(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"></main></template>"]);_templateObject204=function _templateObject204(){return data;};return data;}function _templateObject203(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:hidden;outline:0;contain:strict;position:relative;--canvas-background-color:gray}#vector-layer{touch-action:none}#workspaces{font-family:sans-serif;font-weight:400;user-select:none}#workspaces>[data-bx-workspace]:not(:last-child){display:none!important}#workspaces :focus{outline:0}#workspaces>#whitespace{opacity:0}#vector-canvas>#background-rect{fill:var(--canvas-background-color);pointer-events:none}#vector-canvas[data-transparent]>#background-rect{fill:transparent}#vector-canvas>#background-outlines{pointer-events:none;display:none}#vector-canvas[data-outlines]>#background-outlines{display:inline}#vector-canvas>#background-outlines rect{fill:#fff;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-outlines=above]>#background-outlines rect{stroke:none}#vector-canvas[data-transparent]>#background-outlines rect{fill:none;stroke:rgba(0,0,0,.3)}#vector-canvas>#foreground-outlines{display:none;pointer-events:none}#vector-canvas[data-outlines=above]>#foreground-outlines{display:inline}#vector-canvas>#foreground-outlines rect{fill:none;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-transparent] #foreground-outlines rect{stroke:rgba(0,0,0,.3)}#huds>*{display:none;contain:layout style paint}#huds>[drawing],#huds>[enabled]{display:initial}#pixel-canvas{pointer-events:none;position:absolute;opacity:.4;top:0;left:0;width:100%;height:100%}"]);_templateObject203=function _templateObject203(){return data;};return data;}function _templateObject202(){var data=_taggedTemplateLiteral(["<template><svg id=\"vector-layer\" preserveAspectRatio=\"none\"><filter id=\"grippie-shadow\" width=\"100\" height=\"100\"><feGaussianBlur id=\"grippie-fe-blur\" in=\"SourceAlpha\" result=\"blur-out\" stdDeviation=\"1\"/><feOffset id=\"grippie-fe-offset\" in=\"blur-out\" result=\"the-shadow\" dx=\"1\" dy=\"1\"/><feBlend in=\"SourceGraphic\" in2=\"the-shadow\" mode=\"normal\"/></filter><g id=\"vector-canvas\" transform=\"translate(0, 0)\"><rect id=\"background-rect\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g id=\"background-outlines\"></g><g id=\"workspaces\"><rect id=\"whitespace\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g data-bx-workspace=\"master\"></g></g><g id=\"foreground-outlines\"></g><g id=\"huds\"></g></g></svg><div id=\"pixel-layer\"><canvas id=\"pixel-canvas\" hidden></canvas></div><bx-rulers id=\"rulers\" disabled=\"disabled\"></bx-rulers><div id=\"contexts\"><bx-transformselectcontext id=\"transform-select-context\"></bx-transformselectcontext><bx-directselectcontext id=\"direct-select-context\"></bx-directselectcontext><bx-pancontext id=\"pan-context\"></bx-pancontext><bx-textcontext id=\"text-context\"></bx-textcontext><bx-textpathcontext id=\"text-path-context\"></bx-textpathcontext><bx-cubicbeziercontext id=\"cubic-bezier-context\"></bx-cubicbeziercontext><bx-quadbeziercontext id=\"quad-bezier-context\"></bx-quadbeziercontext><bx-arccontext id=\"arc-context\"></bx-arccontext><bx-shapecontext id=\"shape-context\"></bx-shapecontext><bx-freehandcontext id=\"freehand-context\"></bx-freehandcontext><bx-blobcontext id=\"blob-context\"></bx-blobcontext><bx-linecontext id=\"line-context\"></bx-linecontext><bx-polylinecontext id=\"polyline-context\"></bx-polylinecontext><bx-polygoncontext id=\"polygon-context\"></bx-polygoncontext><bx-viewcontext id=\"view-context\"></bx-viewcontext></div></template>"]);_templateObject202=function _templateObject202(){return data;};return data;}function _templateObject201(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}#font-size-dynamics-section{margin-top:10px}#font-size-dynamics-param-select{flex:1}#font-size-dynamics-variance-input{width:54px;margin-left:6px}#glyph-rotation-dynamics-section{margin-top:10px}#glyph-rotation-dynamics-param-select{flex:1}#glyph-rotation-dynamics-variance-input{width:54px;margin-left:6px}#opacity-dynamics-section{margin-top:10px}#opacity-dynamics-param-select{flex:1}#opacity-dynamics-variance-input{width:54px;margin-left:6px}"]);_templateObject201=function _templateObject201(){return data;};return data;}function _templateObject200(){var data=_taggedTemplateLiteral(["<template><h2>Text path</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"font-size-dynamics-section\"><h4>Font size</h4><x-box><x-select id=\"font-size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"font-size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"glyph-rotation-dynamics-section\"><h4>Glyph roration</h4><x-box><x-select id=\"glyph-rotation-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"glyph-rotation-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"opacity-dynamics-section\"><h4>Opacity</h4><x-box><x-select id=\"opacity-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"opacity-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject200=function _templateObject200(){return data;};return data;}function _templateObject199(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}"]);_templateObject199=function _templateObject199(){return data;};return data;}function _templateObject198(){var data=_taggedTemplateLiteral(["<template><h2>Text</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject198=function _templateObject198(){return data;};return data;}function _templateObject197(){var data=_taggedTemplateLiteral(["#mode-buttons{width:100%;margin:4px 0 0 0}#mode-buttons x-button{height:25px;flex:1}#size-subsection{margin-top:4px}#size-subsection h4{margin:0}#size-box{width:100%}#size-input{margin-left:10px;width:100px}#roundness-subsection{margin-top:7px}#roundness-subsection h4{margin:0}#roundness-box{width:100%}#roundness-input{margin-left:10px;width:100px}#angle-subsection{margin-top:7px}#angle-subsection h4{margin:0}#angle-box{width:100%}#angle-input{margin-left:10px;width:100px}#size-dynamics-section{margin-top:10px}#size-dynamics-param-select{flex:1}#size-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#roundness-dynamics-section{margin-top:10px}#roundness-dynamics-param-select{flex:1}#roundness-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#angle-dynamics-section{margin-top:10px}#angle-dynamics-param-select{flex:1}#angle-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}"]);_templateObject197=function _templateObject197(){return data;};return data;}function _templateObject196(){var data=_taggedTemplateLiteral(["<template><h2>Blob</h2><section id=\"mode-section\"><h3>Mode</h3><x-buttons id=\"mode-buttons\" tracking=\"1\"><x-button value=\"draw\"><x-label>Draw</x-label></x-button><x-button value=\"erase\"><x-label>Erase</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 100 100\"><line class=\"grid-line\" x1=\"10\" y1=\"50\" x2=\"90\" y2=\"50\"></line><line class=\"grid-line\" x1=\"50\" y1=\"10\" x2=\"50\" y2=\"90\"></line><ellipse id=\"geometry-preview-shape\" class=\"shape\" cx=\"50\" cy=\"50\" rx=\"35\" ry=\"35\"></ellipse><circle id=\"geometry-preview-grippie\" class=\"grippie\" cx=\"50\" cy=\"50\" r=\"5\"></circle></svg><section id=\"size-subsection\"><h4>Size</h4><x-box id=\"size-box\"><x-slider id=\"size-slider\" value=\"30\" min=\"1\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"size-input\" value=\"30\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-subsection\"><h4>Roundness</h4><x-box id=\"roundness-box\"><x-slider id=\"roundness-slider\" value=\"100\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"roundness-input\" value=\"100\" min=\"1\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><h4>Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" min=\"-180\" max=\"180\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"size-dynamics-section\"><h4>Size</h4><x-box><x-select id=\"size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-dynamics-section\"><h4>Roundness</h4><x-box><x-select id=\"roundness-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"roundness-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-dynamics-section\"><h4>Angle</h4><x-box><x-select id=\"angle-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"angle-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject196=function _templateObject196(){return data;};return data;}function _templateObject195(){var data=_taggedTemplateLiteral([":host{display:block;width:220px;box-sizing:border-box;overflow:auto}h2{margin:14px 0 0;padding:0 14px}h3:first-child{margin-top:0}section{padding:12px 14px}section section{padding:0}#geometry-preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#geometry-preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#geometry-preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#geometry-preview .grippie{fill:currentColor}"]);_templateObject195=function _templateObject195(){return data;};return data;}function _templateObject194(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;box-sizing:border-box}#main{display:flex;align-items:center;justify-content:flex-start}#thumbnail{width:70px;height:70px;box-sizing:border-box;border-width:1px;border-style:solid;-webkit-user-drag:none}#buttons{flex:1;margin-left:8px}#buttons x-button{width:100%}#buttons x-button:first-child{margin-bottom:6px}"]);_templateObject194=function _templateObject194(){return data;};return data;}function _templateObject193(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><svg id=\"thumbnail\" part=\"thumbnail\" viewBox=\"0 0 100 100\"><rect id=\"thumbnail-rect\" x=\"15\" y=\"15\" width=\"70\" height=\"70\"></rect></svg><x-box vertical id=\"buttons\"><x-button id=\"grab-button\" size=\"medium\" togglable><x-icon name=\"grab-color\"></x-icon><x-label>Grab</x-label></x-button><x-button id=\"reset-button\" size=\"medium\"><x-icon name=\"reset\"></x-icon><x-label>Reset</x-label></x-button></x-box></main></template>"]);_templateObject193=function _templateObject193(){return data;};return data;}function _templateObject192(){var data=_taggedTemplateLiteral([":host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;--size:14px}:host([enabled]){display:block}main{position:relative;width:100%;height:100%}#corner-ruler{pointer-events:all;position:absolute;left:0;top:0;width:var(--size);height:var(--size);box-sizing:border-box;border-width:0 1px 1px 0;border-style:none solid solid none}#horizontal-ruler,#vertical-ruler{pointer-events:all;position:relative;box-sizing:border-box;touch-action:pinch-zoom}#horizontal-ruler{position:absolute;top:0;width:100%;height:var(--size);border-width:0 0 1px 0;border-style:none none solid none}#vertical-ruler{position:absolute;top:0;width:var(--size);height:100%;border-width:0 1px 0 0;border-style:none solid none none;writing-mode:vertical-lr}#horizontal-ruler>div,#vertical-ruler>div{position:absolute;font-size:9px;box-sizing:border-box;pointer-events:none;user-select:none}#horizontal-ruler>div{width:0;height:100%;top:0;left:0;padding:0 0 0 3px;border-width:0 0 0 1px;border-style:none none none solid}#vertical-ruler>div{width:100%;height:0;top:0;left:0;padding:3px 0 0 0;border-width:1px 0 0 0;border-style:solid none none none}"]);_templateObject192=function _templateObject192(){return data;};return data;}function _templateObject191(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"horizontal-ruler\" class=\"ruler\" part=\"ruler horizontal-ruler\" data-type=\"horizontal\"></div><div id=\"vertical-ruler\" class=\"ruler\" part=\"ruler vertical-ruler\" data-type=\"vertical\"></div><div id=\"corner-ruler\" class=\"ruler\" part=\"ruler corner-ruler\" data-type=\"corner\"></div></main></template>"]);_templateObject191=function _templateObject191(){return data;};return data;}function _templateObject190(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject190=function _templateObject190(){return data;};return data;}function _templateObject189(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"huesat-slider\">\n          <img id=\"huesat-image\"></img>\n          <div id=\"huesat-marker\"></div>\n        </div>\n\n        <div id=\"value-slider\">\n          <div id=\"value-slider-track\">\n            <div id=\"value-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject189=function _templateObject189(){return data;};return data;}function _templateObject188(){var data=_taggedTemplateLiteral([":host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}"]);_templateObject188=function _templateObject188(){return data;};return data;}function _templateObject187(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"spin\" viewBox=\"0 0 100 100\">\n        <rect transform=\"rotate(  0 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 30 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 60 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 90 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(120 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(150 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(180 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(210 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(240 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(270 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(300 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(330 50 50) translate(0 -38)\"></rect>\n      </svg>\n    </template>\n  "]);_templateObject187=function _templateObject187(){return data;};return data;}function _templateObject186(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"ring\" viewBox=\"0 0 100 100\">\n        <ellipse ry=\"40\" rx=\"40\" cy=\"50\" cx=\"50\" stroke-width=\"10\"/>\n      </svg>\n    </template>\n  "]);_templateObject186=function _templateObject186(){return data;};return data;}function _templateObject185(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) \" \"}"]);_templateObject185=function _templateObject185(){return data;};return data;}function _templateObject184(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n      </main>\n    </template>\n  "]);_templateObject184=function _templateObject184(){return data;};return data;}function _templateObject183(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject183=function _templateObject183(){return data;};return data;}function _templateObject182(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tags\">\n          <slot></slot>\n          <span id=\"input\" part=\"input\" spellcheck=\"false\" tabindex=\"0\"></span>\n        </div>\n      </main>\n\n      <x-popover id=\"suggestions-popover\" part=\"suggestions\">\n        <div id=\"suggested-tags\"></div>\n      </x-popover>\n    </template>\n  "]);_templateObject182=function _templateObject182(){return data;};return data;}function _templateObject181(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}"]);_templateObject181=function _templateObject181(){return data;};return data;}function _templateObject180(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject180=function _templateObject180(){return data;};return data;}function _templateObject179(){var data=_taggedTemplateLiteral([":host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path(\"M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z\");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}"]);_templateObject179=function _templateObject179(){return data;};return data;}function _templateObject178(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"container\">\n        <div id=\"scope\" part=\"scope\">\n          <slot id=\"scope-slot\" name=\"scope\"></slot>\n        </div>\n\n        <main id=\"main\" part=\"main\">\n          <slot></slot>\n\n          <svg id=\"remove-button\" part=\"remove-button\" viewBox=\"0 0 100 100\">\n            <path id=\"remove-button-path\"></path>\n          </svg>\n        </main>\n      </div>\n    </template>\n  "]);_templateObject178=function _templateObject178(){return data;};return data;}function _templateObject177(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}"]);_templateObject177=function _templateObject177(){return data;};return data;}function _templateObject176(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject176=function _templateObject176(){return data;};return data;}function _templateObject175(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}"]);_templateObject175=function _templateObject175(){return data;};return data;}function _templateObject174(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n      <div id=\"content\">\n        <slot></slot>\n      </div>\n    </template>\n  "]);_templateObject174=function _templateObject174(){return data;};return data;}function _templateObject173(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}"]);_templateObject173=function _templateObject173(){return data;};return data;}function _templateObject172(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-track\" part=\"indicator-track\">\n            <div id=\"indicator-thumb\" part=\"indicator-thumb\"></div>\n          </div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject172=function _templateObject172(){return data;};return data;}function _templateObject171(){var data=_taggedTemplateLiteral([":host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}"]);_templateObject171=function _templateObject171(){return data;};return data;}function _templateObject170(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"preview\"></div>\n    </template>\n  "]);_templateObject170=function _templateObject170(){return data;};return data;}function _templateObject169(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=\"\"]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z\" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z\" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}"]);_templateObject169=function _templateObject169(){return data;};return data;}function _templateObject168(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"decrement-button\" part=\"decrement-button\" class=\"button\">\n        <svg id=\"decrement-arrow\" part=\"decrement-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"decrement-arrow-path\"></path>\n        </svg>\n      </div>\n\n      <div id=\"increment-button\" part=\"increment-button\" class=\"button\">\n        <svg id=\"increment-arrow\" part=\"increment-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"increment-arrow-path\"></path>\n        </svg>\n      </div>\n    </template>\n  "]);_templateObject168=function _templateObject168(){return data;};return data;}function _templateObject167(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}"]);_templateObject167=function _templateObject167(){return data;};return data;}function _templateObject166(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tracks-and-thumbs\">\n          <div id=\"groove-track\" part=\"track groove-track\"></div>\n          <div id=\"buffer-track\" part=\"track buffer-track\"></div>\n          <div id=\"range-track\" part=\"track range-track\"></div>\n          <div id=\"thumbs\">\n            <div id=\"start-thumb\" class=\"thumb\" part=\"thumb start-thumb\" data-value=\"start\" tabindex=\"0\"></div>\n            <div id=\"end-thumb\" class=\"thumb\" part=\"thumb end-thumb\" data-value=\"end\" tabindex=\"0\"></div>\n          </div>\n        </div>\n\n        <div id=\"ticks\"></div>\n\n        <div id=\"labels\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject166=function _templateObject166(){return data;};return data;}function _templateObject165(){var data=_taggedTemplateLiteral([":host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}"]);_templateObject165=function _templateObject165(){return data;};return data;}function _templateObject164(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\"></main>\n    </template>\n  "]);_templateObject164=function _templateObject164(){return data;};return data;}function _templateObject163(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path(\"M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z\")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}"]);_templateObject163=function _templateObject163(){return data;};return data;}function _templateObject162(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"button\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n      </div>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject162=function _templateObject162(){return data;};return data;}function _templateObject161(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject161=function _templateObject161(){return data;};return data;}function _templateObject160(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"satlight-slider\">\n          <div id=\"satlight-marker\"></div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject160=function _templateObject160(){return data;};return data;}function _templateObject159(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}"]);_templateObject159=function _templateObject159(){return data;};return data;}function _templateObject158(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-dot\" part=\"indicator-dot\"></div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject158=function _templateObject158(){return data;};return data;}function _templateObject157(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value=\"-1\"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}"]);_templateObject157=function _templateObject157(){return data;};return data;}function _templateObject156(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"determinate-bar\" part=\"bar\"></div>\n\n      <div id=\"indeterminate-bars\">\n        <div id=\"primary-indeterminate-bar\" part=\"bar\"></div>\n        <div id=\"secondary-indeterminate-bar\" part=\"bar\"></div>\n      </div>\n    </template>\n  "]);_templateObject156=function _templateObject156(){return data;};return data;}function _templateObject155(){var data=_taggedTemplateLiteral([":host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:\"\"}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path(\"M 0 100, L 50 0, L 100 100\")}#arrow[data-align=top] path{d:path(\"M 0 0, L 50 100, L 100 0\")}#arrow[data-align=left] path{d:path(\"M 0 0, L 100 50, L 00 100\")}#arrow[data-align=right] path{d:path(\"M 100 0, L 0 50, L 100 100\")}"]);_templateObject155=function _templateObject155(){return data;};return data;}function _templateObject154(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n      <slot></slot>\n    </template>\n  "]);_templateObject154=function _templateObject154(){return data;};return data;}function _templateObject153(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:\"\"}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject153=function _templateObject153(){return data;};return data;}function _templateObject152(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"editor-container\">\n          <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n        </div>\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject152=function _templateObject152(){return data;};return data;}function _templateObject151(){var data=_taggedTemplateLiteral([":host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}"]);_templateObject151=function _templateObject151(){return data;};return data;}function _templateObject150(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject150=function _templateObject150(){return data;};return data;}function _templateObject149(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path(\"M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z\");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}"]);_templateObject149=function _templateObject149(){return data;};return data;}function _templateObject148(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n\n      <svg id=\"checkmark\" part=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path></path>\n      </svg>\n\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" hidden>\n        <path></path>\n      </svg>\n    </template>\n  "]);_templateObject148=function _templateObject148(){return data;};return data;}function _templateObject147(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}"]);_templateObject147=function _templateObject147(){return data;};return data;}function _templateObject146(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"backdrop\" hidden>\n        <path id=\"backdrop-path\"></path>\n      </svg>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject146=function _templateObject146(){return data;};return data;}function _templateObject145(){var data=_taggedTemplateLiteral([":host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}"]);_templateObject145=function _templateObject145(){return data;};return data;}function _templateObject144(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot id=\"slot\"></slot>\n    </template>\n  "]);_templateObject144=function _templateObject144(){return data;};return data;}function _templateObject143(){var data=_taggedTemplateLiteral([":host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}"]);_templateObject143=function _templateObject143(){return data;};return data;}function _templateObject142(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject142=function _templateObject142(){return data;};return data;}function _templateObject141(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject141=function _templateObject141(){return data;};return data;}function _templateObject140(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <input id=\"input\" spellcheck=\"false\" part=\"input\"></input>\n      </main>\n    </template>\n  "]);_templateObject140=function _templateObject140(){return data;};return data;}function _templateObject139(){var data=_taggedTemplateLiteral([":host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}"]);_templateObject139=function _templateObject139(){return data;};return data;}function _templateObject138(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"svg\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" width=\"0px\" height=\"0px\"></svg>\n    </template>\n  "]);_templateObject138=function _templateObject138(){return data;};return data;}function _templateObject137(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path(\"M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z\");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}"]);_templateObject137=function _templateObject137(){return data;};return data;}function _templateObject136(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n\n      <svg id=\"open-button\" part=\"open-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"open-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject136=function _templateObject136(){return data;};return data;}function _templateObject135(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path(\"M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z\")}:host([edited]) #close-button{d:path(\"M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z\")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}"]);_templateObject135=function _templateObject135(){return data;};return data;}function _templateObject134(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n\n      <slot></slot>\n\n      <svg id=\"close-button\" part=\"close-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"close-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject134=function _templateObject134(){return data;};return data;}function _templateObject133(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;width:0;height:0;z-index:1001}"]);_templateObject133=function _templateObject133(){return data;};return data;}function _templateObject132(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject132=function _templateObject132(){return data;};return data;}function _templateObject131(){var data=_taggedTemplateLiteral([":host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}"]);_templateObject131=function _templateObject131(){return data;};return data;}function _templateObject130(){var data=_taggedTemplateLiteral(["\n    <template>\n      <input tabindex=\"-1\" id=\"input\" type=\"color\" value=\"#ffffff\">\n      <slot></slot>\n    </template>\n  "]);_templateObject130=function _templateObject130(){return data;};return data;}function _templateObject129(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z\")}:host([mixed]) #indicator{d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z\")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}"]);_templateObject129=function _templateObject129(){return data;};return data;}function _templateObject128(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"ripples\"></div>\n\n          <svg id=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject128=function _templateObject128(){return data;};return data;}function _templateObject127(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}"]);_templateObject127=function _templateObject127(){return data;};return data;}function _templateObject126(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject126=function _templateObject126(){return data;};return data;}function _templateObject125(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}"]);_templateObject125=function _templateObject125(){return data;};return data;}function _templateObject124(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject124=function _templateObject124(){return data;};return data;}function _templateObject123(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path(\"M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z\")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}"]);_templateObject123=function _templateObject123(){return data;};return data;}function _templateObject122(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject122=function _templateObject122(){return data;};return data;}function _templateObject121(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}"]);_templateObject121=function _templateObject121(){return data;};return data;}function _templateObject120(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject120=function _templateObject120(){return data;};return data;}function _templateObject119(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject119=function _templateObject119(){return data;};return data;}function _templateObject118(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\" part=\"slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"saturation-slider\" part=\"slider\">\n          <div id=\"saturation-slider-track\">\n            <div id=\"saturation-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"lightness-slider\" part=\"slider\">\n          <div id=\"lightness-slider-track\">\n            <div id=\"lightness-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\" part=\"slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject118=function _templateObject118(){return data;};return data;}function _templateObject117(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}"]);_templateObject117=function _templateObject117(){return data;};return data;}function _templateObject116(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}"]);_templateObject116=function _templateObject116(){return data;};return data;}function _templateObject115(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" tabindex=\"1\">\n            <path></path>\n          </svg>\n        </div>\n\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject115=function _templateObject115(){return data;};return data;}function _templateObject114(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject114=function _templateObject114(){return data;};return data;}function _templateObject113(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject113=function _templateObject113(){return data;};return data;}function _templateObject112(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject112=function _templateObject112(){return data;};return data;}function _templateObject111(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject111=function _templateObject111(){return data;};return data;}function _templateObject110(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject110=function _templateObject110(){return data;};return data;}function _templateObject109(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject109=function _templateObject109(){return data;};return data;}function _templateObject108(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject108=function _templateObject108(){return data;};return data;}function _templateObject107(){var data=_taggedTemplateLiteral(["<x-doctab title=\"","\"><x-label>","</x-label></x-doctab>"]);_templateObject107=function _templateObject107(){return data;};return data;}function _templateObject106(){var data=_taggedTemplateLiteral(["<bx-preferences></bx-preferences>"]);_templateObject106=function _templateObject106(){return data;};return data;}function _templateObject105(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Preferences\" value=\"preferences\"><x-label>Preferences</x-label></x-doctab>"]);_templateObject105=function _templateObject105(){return data;};return data;}function _templateObject104(){var data=_taggedTemplateLiteral(["<bx-about></bx-about>"]);_templateObject104=function _templateObject104(){return data;};return data;}function _templateObject103(){var data=_taggedTemplateLiteral(["<x-doctab title=\"About\" value=\"about\"><x-label>About</x-label></x-doctab>"]);_templateObject103=function _templateObject103(){return data;};return data;}function _templateObject102(){var data=_taggedTemplateLiteral(["<dialog id=\"message-dialog\" data-param=\"message\"></dialog>"]);_templateObject102=function _templateObject102(){return data;};return data;}function _templateObject101(){var data=_taggedTemplateLiteral(["<x-input class=\"input\" part=\"input\" value=\"","\" validation=\"instant\"></x-input>"]);_templateObject101=function _templateObject101(){return data;};return data;}function _templateObject100(){var data=_taggedTemplateLiteral(["",""]);_templateObject100=function _templateObject100(){return data;};return data;}function _templateObject99(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject99=function _templateObject99(){return data;};return data;}function _templateObject98(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"presentation-attributes\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject98=function _templateObject98(){return data;};return data;}function _templateObject97(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject97=function _templateObject97(){return data;};return data;}function _templateObject96(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-element\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject96=function _templateObject96(){return data;};return data;}function _templateObject95(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject95=function _templateObject95(){return data;};return data;}function _templateObject94(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-attribute\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">element.style</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject94=function _templateObject94(){return data;};return data;}function _templateObject93(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\"></span>: <span class=\"value\">initial</span>;</div></div>"]);_templateObject93=function _templateObject93(){return data;};return data;}function _templateObject92(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject92=function _templateObject92(){return data;};return data;}function _templateObject91(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject91=function _templateObject91(){return data;};return data;}function _templateObject90(){var data=_taggedTemplateLiteral(["<g>"]);_templateObject90=function _templateObject90(){return data;};return data;}function _templateObject89(){var data=_taggedTemplateLiteral(["",""]);_templateObject89=function _templateObject89(){return data;};return data;}function _templateObject88(){var data=_taggedTemplateLiteral(["",""]);_templateObject88=function _templateObject88(){return data;};return data;}function _templateObject87(){var data=_taggedTemplateLiteral(["",""]);_templateObject87=function _templateObject87(){return data;};return data;}function _templateObject86(){var data=_taggedTemplateLiteral(["",""]);_templateObject86=function _templateObject86(){return data;};return data;}function _templateObject85(){var data=_taggedTemplateLiteral(["",""]);_templateObject85=function _templateObject85(){return data;};return data;}function _templateObject84(){var data=_taggedTemplateLiteral(["",""]);_templateObject84=function _templateObject84(){return data;};return data;}function _templateObject83(){var data=_taggedTemplateLiteral(["",""]);_templateObject83=function _templateObject83(){return data;};return data;}function _templateObject82(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject82=function _templateObject82(){return data;};return data;}function _templateObject81(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img loading=\"lazy\" style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject81=function _templateObject81(){return data;};return data;}function _templateObject80(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject80=function _templateObject80(){return data;};return data;}function _templateObject79(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img loading=\"lazy\" style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject79=function _templateObject79(){return data;};return data;}function _templateObject78(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" data-family=\"","\" data-provider=\"","\"><div class=\"thumbnail\" style=\"font-family: ",";\">","</div></div>"]);_templateObject78=function _templateObject78(){return data;};return data;}function _templateObject77(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" data-family=\"","\" data-provider=\"","\"><div class=\"thumbnail\" style=\"-webkit-mask-image: url(",");\"></div></div>"]);_templateObject77=function _templateObject77(){return data;};return data;}function _templateObject76(){var data=_taggedTemplateLiteral(["",""]);_templateObject76=function _templateObject76(){return data;};return data;}function _templateObject75(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject75=function _templateObject75(){return data;};return data;}function _templateObject74(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" style=\"background: ",";\"></div>"]);_templateObject74=function _templateObject74(){return data;};return data;}function _templateObject73(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject73=function _templateObject73(){return data;};return data;}function _templateObject72(){var data=_taggedTemplateLiteral(["",""]);_templateObject72=function _templateObject72(){return data;};return data;}function _templateObject71(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject71=function _templateObject71(){return data;};return data;}function _templateObject70(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" style=\"background: ",";\"></div>"]);_templateObject70=function _templateObject70(){return data;};return data;}function _templateObject69(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject69=function _templateObject69(){return data;};return data;}function _templateObject68(){var data=_taggedTemplateLiteral(["<div class=\"font-item item\"><div class=\"label\" style=\"","\">","</div></div>"]);_templateObject68=function _templateObject68(){return data;};return data;}function _templateObject67(){var data=_taggedTemplateLiteral(["<div class=\"family-item item\" data-family=\"","\" ","><div class=\"background\"></div><div class=\"main\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><path d=\"M 0.736 20.259 L 49.999 87.816 L 99.264 20.259 Z\"/></svg></div><div class=\"label\" style=\"font-family: '","'\">","</div><x-button class=\"unlink-button\" title=\"This font family is linked from ",". Click to embed it into the SVG file.\" skin=\"flat\" ","><x-icon name=\"link\"></x-icon></x-button><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" size=\"smaller\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div><div class=\"font-items-outer\"><div class=\"font-items\" hidden></div></div></div>"]);_templateObject67=function _templateObject67(){return data;};return data;}function _templateObject66(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"/images/logos/logo-full.svg\" style=\"filter: url(#",")\"></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin filter (prevent garbage collector from auto-removing the filter when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject66=function _templateObject66(){return data;};return data;}function _templateObject65(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject65=function _templateObject65(){return data;};return data;}function _templateObject64(){var data=_taggedTemplateLiteral(["\n            <g class=\"edge\">\n              <path class=\"edge-outline\"></path>\n              <path class=\"edge-inline\"></path>\n              <foreignObject\n                class=\"label-text\"\n                width=\"","\"\n                height=\"","\"\n                style=\"line-height: ","px;\">\n              </foreignObject>\n            </g>\n          "]);_templateObject64=function _templateObject64(){return data;};return data;}function _templateObject63(){var data=_taggedTemplateLiteral(["\n            <g class=\"node\" data-name=\"","\">\n              <rect class=\"background\" width=\"40\" height=\"40\"></rect>\n              <foreignObject x=\"7\" y=\"7\" width=\"26\" height=\"26\">\n                <x-icon name=\"","\"></x-icon>\n              </foreignObject>\n            </g>\n          "]);_templateObject63=function _templateObject63(){return data;};return data;}function _templateObject62(){var data=_taggedTemplateLiteral(["<path id=\"graph-ghost-edge\"></path>"]);_templateObject62=function _templateObject62(){return data;};return data;}function _templateObject61(){var data=_taggedTemplateLiteral(["\n            <g transform=\"translate(0 ",")\">\n              <title>Page ","</title>\n            </g>\n          "]);_templateObject61=function _templateObject61(){return data;};return data;}function _templateObject60(){var data=_taggedTemplateLiteral(["<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"></svg>"]);_templateObject60=function _templateObject60(){return data;};return data;}function _templateObject59(){var data=_taggedTemplateLiteral(["<x-button value=\"","\" condensed toggled><x-label>","</x-label></x-button>"]);_templateObject59=function _templateObject59(){return data;};return data;}function _templateObject58(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin symbol (prevent garbage collector from auto-removing the symbol when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject58=function _templateObject58(){return data;};return data;}function _templateObject57(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject57=function _templateObject57(){return data;};return data;}function _templateObject56(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ",">","</svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin marker (prevent garbage collector from auto-removing the marker when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject56=function _templateObject56(){return data;};return data;}function _templateObject55(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject55=function _templateObject55(){return data;};return data;}function _templateObject54(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin pattern (prevent garbage collector from auto-removing the pattern when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject54=function _templateObject54(){return data;};return data;}function _templateObject53(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject53=function _templateObject53(){return data;};return data;}function _templateObject52(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin gradient (prevent garbage collector from auto-removing the gradient when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject52=function _templateObject52(){return data;};return data;}function _templateObject51(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject51=function _templateObject51(){return data;};return data;}function _templateObject50(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin color (prevent garbage collector from auto-removing the color when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject50=function _templateObject50(){return data;};return data;}function _templateObject49(){var data=_taggedTemplateLiteral(["\n        <linearGradient id=\"","\">\n          <stop style=\"stop-color: ",";\"></stop>\n        </linearGradient>\n      "]);_templateObject49=function _templateObject49(){return data;};return data;}function _templateObject48(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject48=function _templateObject48(){return data;};return data;}function _templateObject47(){var data=_taggedTemplateLiteral(["",""]);_templateObject47=function _templateObject47(){return data;};return data;}function _templateObject46(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-depth=\"","\"><div class=\"background\"></div><div class=\"main\" style=\"padding-left: ","px;\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#arrow\" width=\"100%\" height=\"100%\"></use></svg></div><svg class=\"object-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\"></div><div class=\"action-buttons\"><div class=\"lock-button\"><svg class=\"lock-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#lock-on\" width=\"100%\" height=\"100%\"></use></svg></div><div class=\"visibility-button\"><svg class=\"visibility-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#visibility-hidden\" width=\"100%\" height=\"100%\"></use></svg></div></div></div><div class=\"children-outer\"><div class=\"children\"></div></div></div>"]);_templateObject46=function _templateObject46(){return data;};return data;}function _templateObject45(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label>","</x-label></x-input>"]);_templateObject45=function _templateObject45(){return data;};return data;}function _templateObject44(){var data=_taggedTemplateLiteral(["<path style=\"fill: none; stroke: black;\"></path>"]);_templateObject44=function _templateObject44(){return data;};return data;}function _templateObject43(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject43=function _templateObject43(){return data;};return data;}function _templateObject42(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject42=function _templateObject42(){return data;};return data;}function _templateObject41(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject41=function _templateObject41(){return data;};return data;}function _templateObject40(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject40=function _templateObject40(){return data;};return data;}function _templateObject39(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject39=function _templateObject39(){return data;};return data;}function _templateObject38(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject38=function _templateObject38(){return data;};return data;}function _templateObject37(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject37=function _templateObject37(){return data;};return data;}function _templateObject36(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject36=function _templateObject36(){return data;};return data;}function _templateObject35(){var data=_taggedTemplateLiteral(["\n            <text x=\"","\" y=\"","\" style=\"font-size: 20px;\">Enter your text here</text>\n          "]);_templateObject35=function _templateObject35(){return data;};return data;}function _templateObject34(){var data=_taggedTemplateLiteral(["\n            <path\n              style=\"fill: none; stroke: black;\"\n              d=\"M "," "," C "," "," "," ","   "," ","\">\n            </path>\n          "]);_templateObject34=function _templateObject34(){return data;};return data;}function _templateObject33(){var data=_taggedTemplateLiteral(["\n            <polygon\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polygon>\n          "]);_templateObject33=function _templateObject33(){return data;};return data;}function _templateObject32(){var data=_taggedTemplateLiteral(["\n            <polyline\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polyline>\n          "]);_templateObject32=function _templateObject32(){return data;};return data;}function _templateObject31(){var data=_taggedTemplateLiteral(["\n            <line\n              style=\"stroke: black;\"\n              x1=\"","\"\n              y1=\"","\"\n              x2=\"","\"\n              y2=\"","\">\n            </line>\n          "]);_templateObject31=function _templateObject31(){return data;};return data;}function _templateObject30(){var data=_taggedTemplateLiteral(["\n            <ellipse\n              cx=\"","\"\n              cy=\"","\"\n              rx=\"50\"\n              ry=\"50\">\n            </ellipse>\n          "]);_templateObject30=function _templateObject30(){return data;};return data;}function _templateObject29(){var data=_taggedTemplateLiteral(["\n            <circle\n              cx=\"","\"\n              cy=\"","\"\n              r=\"50\">\n            </circle>\n          "]);_templateObject29=function _templateObject29(){return data;};return data;}function _templateObject28(){var data=_taggedTemplateLiteral(["\n            <rect\n              x=\"","\"\n              y=\"","\"\n              width=\"","\"\n              height=\"","\">\n            </rect>\n          "]);_templateObject28=function _templateObject28(){return data;};return data;}function _templateObject27(){var data=_taggedTemplateLiteral(["\n            <image\n              x=\"","\"\n              y=\"","\"\n              width=\"100\"\n              height=\"100\"\n              href=\"","\">\n            </image>\n          "]);_templateObject27=function _templateObject27(){return data;};return data;}function _templateObject26(){var data=_taggedTemplateLiteral(["<a></a>"]);_templateObject26=function _templateObject26(){return data;};return data;}function _templateObject25(){var data=_taggedTemplateLiteral(["<g></g>"]);_templateObject25=function _templateObject25(){return data;};return data;}function _templateObject24(){var data=_taggedTemplateLiteral(["<path id=\"","\" d=\"","\"></path>"]);_templateObject24=function _templateObject24(){return data;};return data;}function _templateObject23(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-provider=\"local\" data-family=\"","\" ","><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject23=function _templateObject23(){return data;};return data;}function _templateObject22(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-provider=\"defs\" data-family=\"","\"><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject22=function _templateObject22(){return data;};return data;}function _templateObject21(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"#","\"><div class=\"thumbnail\"><img src=\"","\" style=\"filter: url(#",");\"></div><div class=\"label\">#","</div></div>"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div></div>"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><div class=\"inner\"><x-icon class=\"icon\" name=\"","\"></x-icon><div class=\"label\">","</div></div></div>"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral(["<bx-grid x=\"0\" y=\"0\" width=\"100\" height=\"100\"></bx-grid>"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral(["<defs></defs>"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"marker\">","</g>"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"pattern\">","</g>"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"symbol\">","</g>"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"master\"></g>"]);_templateObject11=function _templateObject11(){return data;};return data;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _templateObject10(){var data=_taggedTemplateLiteral(["<tspan x=\"","\" dy=\"","em\">","</tspan>"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral(["<line class=\"repr\" x1=\"","\" y1=\"","\" x2=\"","\" y2=\"","\"></line>"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral(["<bx-guide x=\"","\" y=\"","\" angle=\"","\"></bx-guide>"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral(["\n      <g class=\"repr\" transform=\"translate(",", ",") rotate(",")\" data-selected>\n        <line class=\"outer-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <line class=\"inner-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <circle class=\"grippie\" cx=\"0\" cy=\"0\" r=\"","\"></rect>\n      </g>\n    "]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral(["\n                    @font-face {\n                      font-family: \"","\";\n                      font-style: ",";\n                      font-weight: ",";\n                      font-display: ",";\n                      font-unicode-range: ",";\n                      src: url(",");\n                    }\n                  "]);_templateObject6=function _templateObject6(){return data;};return data;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _templateObject5(){var data=_taggedTemplateLiteral(["",""]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label slot=\"scope\">","</x-label>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral(["<x-doctab><x-label>Untitled</x-label></x-doctab>"]);_templateObject2=function _templateObject2(){return data;};return data;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _templateObject(){var data=_taggedTemplateLiteral(["",""]);_templateObject=function _templateObject(){return data;};return data;}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest();}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2064){throw _e2064;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2065){didErr=true;err=_e2065;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}!function(){"use strict";var _temp2,_temp3;SVGUseElement.prototype.getBBox=function(){var t=SVGGraphicsElement.prototype.getBBox.call(this);return t.x+=this.x.baseVal.value,t.y+=this.y.baseVal.value,t;};var t=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),e="596389",i="650791",s="522135",n='This is an Adobe\xae Illustrator\xae file that was saved without PDF content. To import this file in other applications, it should be re-saved from Adobe Illustrator with the "Create PDF Compatible File" option turned on.',o="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l={bx:"https://boxy-svg.com",html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},a=["px","cm","mm","in","pt","pc","q"],h={px:1,"in":96,cm:96/2.54,mm:96/2.54/10,q:96/2.54/40,pt:96/72,pc:16};var r=["em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","q","in","pc","pt","px"];var d=["none","xMinYMin","xMidYMin","xMaxYMin","xMinYMid","xMidYMid","xMaxYMid","xMinYMax","xMidYMax","xMaxYMax"],c=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],p={"sans-serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",monospace:"Monospace"},u={arabic:"Arabic",bengali:"Bengali","chinese-hongkong":"Chinese (Hong Kong)","chinese-simplified":"Chinese (simplified)","chinese-traditional":"Chinese (traditional)",cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic (extended)",devanagari:"Devanagari",greek:"Greek","greek-ext":"Greek (extended)",gujarati:"Gujarati",gurmukhi:"Gurmukhi",hebrew:"Hebrew",japanese:"Japanese",kannada:"Kannada",khmer:"Khmer",korean:"Korean",latin:"Latin","latin-ext":"Latin (extended)",malayalam:"Malayalam",myanmar:"Myanmar",oriya:"Oriya",sinhala:"Sinhala",tamil:"Tamil",thai:"Thai",telugu:"Telugu",tibetan:"Tibetan",vietnamese:"Vietnamese"},x={arabic:"U+600-6FF, U+200C-200E, U+2010-2011, U+204F, U+2E41, U+FB50-FDFF, U+FE80-FEFC",bengali:"U+964-965, U+981-9FB, U+200C-200D, U+20B9, U+25CC",cyrillic:"U+400-45F, U+490-491, U+4B0-4B1, U+2116","cyrillic-ext":"U+460-52F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F",devanagari:"U+900-97F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB",greek:"U+370-3FF","greek-ext":"U+1F00-1FFF",gujarati:"U+964-965, U+A80-AFF, U+200C-200D, U+20B9, U+25CC, U+A830-A839",gurmukhi:"U+964-965, U+A01-A75, U+200C-200D, U+20B9, U+25CC, U+262C, U+A830-A839",hebrew:"U+590-5FF, U+20AA, U+25CC, U+FB1D-FB4F",kannada:"U+964-965, U+C82-CF2, U+200C-200D, U+20B9, U+25CC",khmer:"U+1780-17FF, U+200C, U+25CC",latin:"U+0-FF, U+131, U+152-153, U+2BB-2BC, U+2C6, U+2DA, U+2DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD","latin-ext":"U+100-24F, U+259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF",malayalam:"U+307, U+323, U+964-965, U+D02-D7F, U+200C-200D, U+20B9, U+25CC",myanmar:"U+1000-109F, U+200C-200D, U+25CC",oriya:"U+964-965, U+B01-B77, U+200C-200D, U+20B9, U+25CC",sinhala:"U+964-965, U+D82-DF4, U+200C-200D, U+25CC",tamil:"U+964-965, U+B82-BFA, U+200C-200D, U+20B9, U+25CC",thai:"U+E01-E5B, U+200C-200D, U+25CC",telugu:"U+951-952, U+964-965, U+C00-C7F, U+1CDA, U+200C-200D, U+25CC",tibetan:"U+F00-FFF, U+200C-200D, U+25CC",vietnamese:"U+102-103, U+110-111, U+128-129, U+168-169, U+1A0-1A1, U+1AF-1B0, U+1EA0-1EF9, U+20AB"},b=["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong"],m={"drop-shadow":"Drop Shadow","inner-shadow":"Inner Shadow","point-light":"Point Light","spot-light":"Spot Light",outline:"Outline","gaussian-blur":"Gaussian Blur","motion-blur":"Motion Blur",warp:"Warp",pixelete:"Pixelete",morphology:"Morphology","black-and-white":"Black and White",grayscale:"Grayscale",sepia:"Sepia",saturate:"Saturate","hue-rotate":"Hue Rotate",invert:"Invert",brightness:"Brightness",contrast:"Contrast",posterize:"Posterize",duotone:"Duotone","x-ray":"X-ray"},g=["circle","ellipse","line","path","polygon","polyline","rect"],f=["text","textPath","tspan"],w=[].concat(g,f,["image"]),v=[].concat(g,["image","text","g","a","svg","use"]),y=[].concat(w,["svg","g","a","use"]),k=[].concat(g,f),S=["solidcolor","linearGradient","radialGradient","pattern"],_=["desc","bx-title"],C=["svg","g","defs","symbol","use"],M=[].concat(g,["text","use"]),P=[].concat(w,["clipPath","a","g"]),D=[].concat(w,["a","g"]),z=[].concat(w,["a","g"]),O=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],E=["rect","circle","ellipse","line","path","polygon","polyline","image","text","tspan","use","svg","a","g"],T=["path","line","polyline","polygon"],A={fill:"#d8d8d8"},$={fill:"none",stroke:"black","stroke-width":"1px"},I={fill:"#333333","font-size":"28px","font-family":'"Arial", sans-serif'},L={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"},R=["direction","dominant-baseline","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],B=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],G=[["#264653","#2a9d8f","#e9c46a","#f4a261","#e76f51"],["#e63946","#f1faee","#a8dadc","#457b9d","#1d3557"],["#ffcdb2","#ffb4a2","#e5989b","#b5838d","#6d6875"],["#000000","#14213d","#fca311","#e5e5e5","#ffffff"],["#003049","#d62828","#f77f00","#fcbf49","#eae2b7"],["#f4f1de","#e07a5f","#3d405b","#81b29a","#f2cc8f"],["#606c38","#283618","#fefae0","#dda15e","#bc6c25"],["#006d77","#83c5be","#edf6f9","#ffddd2","#e29578"],["#ef476f","#ffd166","#06d6a0","#118ab2","#073b4c"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d90429"],["#ffb5a7","#fcd5ce","#f8edeb","#f9dcc4","#fec89a"],["#ffbe0b","#fb5607","#ff006e","#8338ec","#3a86ff"],["#f6bd60","#f7ede2","#f5cac3","#84a59d","#f28482"],["#8ecae6","#219ebc","#023047","#ffb703","#fb8500"],["#d8e2dc","#ffe5d9","#ffcad4","#f4acb7","#9d8189"],["#3d5a80","#98c1d9","#e0fbfc","#ee6c4d","#293241"],["#22223b","#4a4e69","#9a8c98","#c9ada7","#f2e9e4"],["#05668d","#028090","#00a896","#02c39a","#f0f3bd"],["#8e9aaf","#cbc0d3","#efd3d7","#feeafa","#dee2ff"],["#cdb4db","#ffc8dd","#ffafcc","#bde0fe","#a2d2ff"],["#011627","#fdfffc","#2ec4b6","#e71d36","#ff9f1c"],["#1a535c","#4ecdc4","#f7fff7","#ff6b6b","#ffe66d"],["#ffa69e","#faf3dd","#b8f2e6","#aed9e0","#5e6472"],["#ccd5ae","#e9edc9","#fefae0","#faedcd","#d4a373"],["#335c67","#fff3b0","#e09f3e","#9e2a2b","#540b0e"],["#cad2c5","#84a98c","#52796f","#354f52","#2f3e46"],["#355070","#6d597a","#b56576","#e56b6f","#eaac8b"],["#ff9f1c","#ffbf69","#ffffff","#cbf3f0","#2ec4b6"],["#5f0f40","#9a031e","#fb8b24","#e36414","#0f4c5c"],["#f08080","#f4978e","#f8ad9d","#fbc4ab","#ffdab9"],["#555b6e","#89b0ae","#bee3db","#faf9f9","#ffd6ba"],["#0081a7","#00afb9","#fdfcdc","#fed9b7","#f07167"],["#f72585","#7209b7","#3a0ca3","#4361ee","#4cc9f0"],["#03045e","#0077b6","#00b4d8","#90e0ef","#caf0f8"],["#463f3a","#8a817c","#bcb8b1","#f4f3ee","#e0afa0"],["#353535","#3c6e71","#ffffff","#d9d9d9","#284b63"],["#ecf8f8","#eee4e1","#e7d8c9","#e6beae","#b2967d"],["#283d3b","#197278","#edddd4","#c44536","#772e25"],["#d4e09b","#f6f4d2","#cbdfbd","#f19c79","#a44a3f"],["#cfdbd5","#e8eddf","#f5cb5c","#242423","#333533"],["#7bdff2","#b2f7ef","#eff7f6","#f7d6e0","#f2b5d4"],["#50514f","#f25f5c","#ffe066","#247ba0","#70c1b3"],["#9c89b8","#f0a6ca","#efc3e6","#f0e6ef","#b8bedd"],["#588b8b","#ffffff","#ffd5c2","#f28f3b","#c8553d"],["#c9cba3","#ffe1a8","#e26d5c","#723d46","#472d30"],["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"],["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93"],["#ffffff","#84dcc6","#a5ffd6","#ffa69e","#ff686b"],["#0b132b","#1c2541","#3a506b","#5bc0be","#6fffe9"],["#390099","#9e0059","#ff0054","#ff5400","#ffbd00"],["#f7b267","#f79d65","#f4845f","#f27059","#f25c54"],["#00296b","#003f88","#00509d","#fdc500","#ffd500"],["#6f1d1b","#bb9457","#432818","#99582a","#ffe6a7"],["#70d6ff","#ff70a6","#ff9770","#ffd670","#e9ff70"],["#fe938c","#e6b89c","#ead2ac","#9cafb7","#4281a4"],["#dad7cd","#a3b18a","#588157","#3a5a40","#344e41"],["#fffcf2","#ccc5b9","#403d39","#252422","#eb5e28"],["#ffffff","#00171f","#003459","#007ea7","#00a8e8"],["#233d4d","#fe7f2d","#fcca46","#a1c181","#619b8a"],["#0d3b66","#faf0ca","#f4d35e","#ee964b","#f95738"],["#ff99c8","#fcf6bd","#d0f4de","#a9def9","#e4c1f9"],["#4f000b","#720026","#ce4257","#ff7f51","#ff9b54"],["#001427","#708d81","#f4d58d","#bf0603","#8d0801"],["#eee2df","#eed7c5","#c89f9c","#c97c5d","#b36a5e"],["#220901","#621708","#941b0c","#bc3908","#f6aa1c"],["#0d1b2a","#1b263b","#415a77","#778da9","#e0e1dd"],["#f7d1cd","#e8c2ca","#d1b3c4","#b392ac","#735d78"],["#6b9080","#a4c3b2","#cce3de","#eaf4f4","#f6fff8"],["#386641","#6a994e","#a7c957","#f2e8cf","#bc4749"],["#ffac81","#ff928b","#fec3a6","#efe9ae","#cdeac0"],["#540d6e","#ee4266","#ffd23f","#3bceac","#0ead69"],["#ecc8af","#e7ad99","#ce796b","#c18c5d","#495867"],["#16697a","#489fb5","#82c0cc","#ede7e3","#ffa62b"],["#ed6a5a","#f4f1bb","#9bc1bc","#5ca4a9","#e6ebe0"],["#64a6bd","#90a8c3","#ada7c9","#d7b9d5","#f4cae0"],["#565264","#706677","#a6808c","#ccb7ae","#d6cfcb"],["#2d3142","#bfc0c0","#ffffff","#ef8354","#4f5d75"],["#495867","#577399","#bdd5ea","#f7f7ff","#fe5f55"],["#2d3142","#4f5d75","#bfc0c0","#ffffff","#ef8354"],["#177e89","#084c61","#db3a34","#ffc857","#323031"],["#f9dbbd","#ffa5ab","#da627d","#a53860","#450920"],["#227c9d","#17c3b2","#ffcb77","#fef9ef","#fe6d73"],["#114b5f","#1a936f","#88d498","#c6dabf","#f3e9d2"],["#9381ff","#b8b8ff","#f8f7ff","#ffeedd","#ffd8be"],["#ffbc42","#d81159","#8f2d56","#218380","#73d2de"],["#bee9e8","#62b6cb","#1b4965","#cae9ff","#5fa8d3"],["#3d348b","#7678ed","#f7b801","#f18701","#f35b04"],["#07beb8","#3dccc7","#68d8d6","#9ceaef","#c4fff9"],["#dcdcdd","#c5c3c6","#46494c","#4c5c68","#1985a1"],["#fdc5f5","#f7aef8","#b388eb","#8093f1","#72ddf7"],["#bce784","#5dd39e","#348aa7","#525174","#513b56"],["#001524","#15616d","#ffecd1","#ff7d00","#78290f"],["#231942","#5e548e","#9f86c0","#be95c4","#e0b1cb"],["#461220","#8c2f39","#b23a48","#fcb9b2","#fed0bb"],["#f9c80e","#f86624","#ea3546","#662e9b","#43bccd"],["#c9e4ca","#87bba2","#55828b","#3b6064","#364958"],["#0a0908","#22333b","#eae0d5","#c6ac8f","#5e503f"],["#132a13","#31572c","#4f772d","#90a955","#ecf39e"],["#edeec9","#dde7c7","#bfd8bd","#98c9a3","#77bfa3"],["#0c0f0a","#ff206e","#fbff12","#41ead4","#ffffff"],["#f0ead2","#dde5b6","#adc178","#a98467","#6c584c"],["#d0b8ac","#f3d8c7","#efe5dc","#fbfefb","#ffffff"],["#cc5803","#e2711d","#ff9505","#ffb627","#ffc971"],["#edafb8","#f7e1d7","#dedbd2","#b0c4b1","#4a5759"],["#ee6055","#60d394","#aaf683","#ffd97d","#ff9b85"],["#5bc0eb","#fde74c","#9bc53d","#e55934","#fa7921"],["#3c1642","#086375","#1dd3b0","#affc41","#b2ff9e"],["#e0fbfc","#c2dfe3","#9db4c0","#5c6b73","#253237"],["#90f1ef","#ffd6e0","#ffef9f","#c1fba4","#7bf1a8"],["#ef6351","#f38375","#f7a399","#fbc3bc","#ffe3e0"],["#000814","#001d3d","#003566","#ffc300","#ffd60a"],["#2c6e49","#4c956c","#fefee3","#ffc9b9","#d68c45"],["#484a47","#5c6d70","#a37774","#e88873","#e0ac9d"],["#edae49","#d1495b","#00798c","#30638e","#003d5b"],["#202c39","#283845","#b8b08d","#f2d492","#f29559"],["#0b3954","#087e8b","#bfd7ea","#ff5a5f","#c81d25"],["#e7ecef","#274c77","#6096ba","#a3cef1","#8b8c89"],["#ff6700","#ebebeb","#c0c0c0","#3a6ea5","#004e98"],["#083d77","#ebebd3","#f4d35e","#ee964b","#f95738"],["#250902","#38040e","#640d14","#800e13","#ad2831"],["#dd6e42","#e8dab2","#4f6d7a","#c0d6df","#eaeaea"],["#fbfbf2","#e5e6e4","#cfd2cd","#a6a2a2","#847577"],["#ffc09f","#ffee93","#fcf5c7","#a0ced9","#adf7b6"],["#a3a380","#d6ce93","#efebce","#d8a48f","#bb8588"],["#00a6fb","#0582ca","#006494","#003554","#051923"],["#cebebe","#ece2d0","#d5b9b2","#a26769","#6d2e46"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d80032"],["#780116","#f7b538","#db7c26","#d8572a","#c32f27"],["#ff6b35","#f7c59f","#efefd0","#004e89","#1a659e"],["#d7263d","#f46036","#2e294e","#1b998b","#c5d86d"],["#8cb369","#f4e285","#f4a259","#5b8e7d","#bc4b51"],["#d3f8e2","#e4c1f9","#f694c1","#ede7b1","#a9def9"],["#006ba6","#0496ff","#ffbc42","#d81159","#8f2d56"],["#ffd6ff","#e7c6ff","#c8b6ff","#b8c0ff","#bbd0ff"],["#55dde0","#33658a","#2f4858","#f6ae2d","#f26419"],["#002642","#840032","#e59500","#e5dada","#02040f"],["#585123","#eec170","#f2a65a","#f58549","#772f1a"],["#e8d6cb","#d0ada7","#ad6a6c","#5d2e46","#b58db6"],["#011627","#f71735","#41ead4","#fdfffc","#ff9f1c"],["#cc8b86","#f9eae1","#7d4f50","#d1be9c","#aa998f"],["#7a6c5d","#2a3d45","#ddc9b4","#bcac9b","#c17c74"],["#0a1128","#001f54","#034078","#1282a2","#fefcfb"],["#ffffff","#ffcad4","#b0d0d3","#c08497","#f7af9d"],["#d88c9a","#f2d0a9","#f1e3d3","#99c1b9","#8e7dbe"],["#05668d","#427aa1","#ebf2fa","#679436","#a5be00"],["#2f4858","#33658a","#86bbd8","#f6ae2d","#f26419"],["#f8ffe5","#06d6a0","#1b9aaa","#ef476f","#ffc43d"],["#25ced1","#ffffff","#fceade","#ff8a5b","#ea526f"],["#6f2dbd","#a663cc","#b298dc","#b8d0eb","#b9faf8"],["#031d44","#04395e","#70a288","#dab785","#d5896f"],["#1a1423","#372549","#774c60","#b75d69","#eacdc2"],["#f79256","#fbd1a2","#7dcfb6","#00b2ca","#1d4e89"],["#223843","#eff1f3","#dbd3d8","#d8b4a0","#d77a61"],["#114b5f","#028090","#e4fde1","#456990","#f45b69"],["#160f29","#246a73","#368f8b","#f3dfc1","#ddbea8"],["#06aed5","#086788","#f0c808","#fff1d0","#dd1c1a"],["#f3e9dc","#c08552","#5e3023","#895737","#dab49d"],["#b0d0d3","#c08497","#f7af9d","#f7e3af","#f3eec3"],["#b09e99","#fee9e1","#fad4c0","#64b6ac","#c0fdfb"],["#292f36","#4ecdc4","#f7fff7","#ff6b6b","#ffe66d"],["#0d1321","#1d2d44","#3e5c76","#748cab","#f0ebd8"],["#1f2041","#4b3f72","#ffc857","#119da4","#19647e"],["#f2d7ee","#d3bcc0","#a5668b","#69306d","#0e103d"],["#a4243b","#d8c99b","#d8973c","#bd632f","#273e47"],["#ff5e5b","#d8d8d8","#ffffea","#00cecb","#ffed66"],["#2364aa","#3da5d9","#73bfb8","#fec601","#ea7317"],["#f6511d","#ffb400","#00a6ed","#7fb800","#0d2c54"],["#efc7c2","#ffe5d4","#bfd3c1","#68a691","#694f5d"],["#022b3a","#1f7a8c","#bfdbf7","#e1e5f2","#ffffff"],["#11151c","#212d40","#364156","#7d4e57","#d66853"],["#000000","#2f4550","#586f7c","#b8dbd9","#f4f4f9"],["#586ba4","#324376","#f5dd90","#f68e5f","#f76c5e"],["#26547c","#ef476f","#ffd166","#06d6a0","#fffcf9"],["#033f63","#28666e","#7c9885","#b5b682","#fedc97"],["#ea8c55","#c75146","#ad2e24","#81171b","#540804"],["#809bce","#95b8d1","#b8e0d2","#d6eadf","#eac4d5"],["#01161e","#124559","#598392","#aec3b0","#eff6e0"],["#533747","#5f506b","#6a6b83","#76949f","#86bbbd"],["#b8d8ba","#d9dbbc","#fcddbc","#ef959d","#69585f"],["#666a86","#788aa3","#92b6b1","#b2c9ab","#e8ddb5"],["#faa275","#ff8c61","#ce6a85","#985277","#5c374c"],["#faf3dd","#c8d5b9","#8fc0a9","#68b0ab","#4a7c59"],["#004e64","#00a5cf","#9fffcb","#25a18e","#7ae582"],["#133c55","#386fa4","#59a5d8","#84d2f6","#91e5f6"],["#432371","#714674","#9f6976","#cc8b79","#faae7b"],["#ddd8c4","#a3c9a8","#84b59f","#69a297","#50808e"],["#d8dbe2","#a9bcd0","#58a4b0","#373f51","#1b1b1e"],["#ddfff7","#93e1d8","#ffa69e","#aa4465","#462255"],["#042a2b","#5eb1bf","#cdedf6","#ef7b45","#d84727"],["#33658a","#86bbd8","#2f4858","#f6ae2d","#f26419"]],U={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},F={100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],900:["900","800","700","600","500","400","300","200","100"]},N={a:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view","#text"]),"bx-title":["#text"],circle:[].concat(_,S,["clipPath","marker","mask","script","style"]),clipPath:[].concat(_,g,["text","use","script","style"]),defs:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view","bx-grid","bx-guide"]),desc:["#text"],ellipse:[].concat(_,S,["clipPath","marker","mask","script","style"]),feBlend:[].concat(_,["script","style"]),feColorMatrix:[].concat(_,["script","style"]),feComponentTransfer:[].concat(_,["feFuncA","feFuncB","feFuncG","feFuncR","script","style"]),feComposite:[].concat(_,["script","style"]),feConvolveMatrix:[].concat(_,["script","style"]),feDiffuseLighting:[].concat(_,["feDistantLight","fePointLight","feSpotLight","script","style"]),feDisplacementMap:[].concat(_,["script","style"]),feDistantLight:[].concat(_,["script","style"]),feDropShadow:[].concat(_,["script","style"]),feFlood:[].concat(_,["script","style"]),feFuncR:[].concat(_,["script","style"]),feFuncG:[].concat(_,["script","style"]),feFuncB:[].concat(_,["script","style"]),feFuncA:[].concat(_,["script","style"]),feGaussianBlur:[].concat(_,["script","style"]),feImage:[].concat(_,["script","style"]),feMerge:[].concat(_,["feMergeNode","script","style"]),feMergeNode:[].concat(_,["script","style"]),feMorphology:[].concat(_,["script","style"]),feOffset:[].concat(_,["script","style"]),fePointLight:[].concat(_,["script","style"]),feSpecularLighting:[].concat(_,["feDistantLight","fePointLight","feSpotLight","script","style"]),feSpotLight:[].concat(_,["script","style"]),feTile:[].concat(_,["script","style"]),feTurbulence:[].concat(_,["script","style"]),filter:[].concat(O,_,["script","style"]),g:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),image:[].concat(_,["clipPath","mask","script","style"]),line:[].concat(_,S,["clipPath","marker","mask","script","style"]),linearGradient:[].concat(_,["script","stop","style"]),marker:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),mask:[].concat(_,g,C,S,["a","clipPath","filter","image","marker","mask","script","style","text","view","text"]),path:[].concat(_,S,["clipPath","marker","mask","script","style"]),pattern:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),polygon:[].concat(_,S,["clipPath","marker","mask","script","style"]),polyline:[].concat(_,S,["clipPath","marker","mask","script","style"]),radialGradient:[].concat(_,["script","stop","style"]),rect:[].concat(_,S,["clipPath","marker","mask","script","style"]),script:["#text"],solidcolor:[].concat(_,["script","style"]),stop:[].concat(_,["script","style"]),style:["#text"],svg:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),symbol:[].concat(_,S,g,C,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),text:[].concat(_,S,["a","clipPath","marker","mask","script","style","tspan","textPath","#text"]),textPath:[].concat(_,S,["a","clipPath","marker","mask","script","style","tspan","#text"]),tspan:[].concat(_,S,["a","script","style","tspan","#text"]),use:[].concat(_,S,["clipPath","mask","script","style"]),view:[].concat(_,["script","style"])},V=[{name:"alignment-baseline",presentationAttributeName:"alignment-baseline",initialValue:"baseline",values:[{type:"token",tokens:["baseline","text-bottom","alphabetic","ideographic","middle","central","mathematical","text-top","bottom","center","top","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"baseline-shift",presentationAttributeName:"baseline-shift",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["sub","super","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"clip-path",presentationAttributeName:"clip-path",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["fill-box","stroke-box","view-box","none","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"clip-rule",presentationAttributeName:"clip-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(w,["use"]),animatable:!1,inheritable:!0},{name:"color",presentationAttributeName:"color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),animatable:!0,inheritable:!0},{name:"color-interpolation",presentationAttributeName:"color-interpolation",initialValue:"sRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"color-interpolation-filters",presentationAttributeName:"color-interpolation-filters",initialValue:"linearRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(O),animatable:!1,inheritable:!0},{name:"color-rendering",presentationAttributeName:"color-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"cursor",presentationAttributeName:"cursor",initialValue:"auto",values:[{type:"url"},{type:"token",tokens:["context-menu","help","pointer","progress","wait ","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out ","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),animatable:!1,inheritable:!0},{name:"direction",initialValue:"ltr",values:[{type:"token",tokens:["ltr","rtl","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],presentationAttributeName:"direction",animatable:!1,inheritable:!0},{name:"display",presentationAttributeName:"display",initialValue:"inline",values:[{type:"token",tokens:["none","inline","block","inherit","initial","unset"]}],appliesTo:[].concat(w,["textPath","tspan","svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"dominant-baseline",presentationAttributeName:"dominant-baseline",initialValue:"auto",values:[{type:"token",tokens:["auto","use-script","no-change","reset-size","ideographic","alphabetic","hanging","mathematical","central","middle","text-after-edge","text-before-edge","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"fill",presentationAttributeName:"fill",initialValue:"#000",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"fill-opacity",presentationAttributeName:"fill-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"fill-rule",presentationAttributeName:"fill-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"filter",presentationAttributeName:"filter",initialValue:"none",values:[{type:"filter-function-list"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w,["textPath","tspan","g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"flood-color",presentationAttributeName:"flood-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"flood-opacity",presentationAttributeName:"flood-opacity",initialValue:"1",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"font",presentationAttributeName:"font",initialValue:null,values:[{type:"font"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-family",presentationAttributeName:"font-family",initialValue:null,values:[{type:"font-family"},{type:"token",tokens:["cursive","fantasy","monospace","sans-serif","serif","system-ui","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-size",presentationAttributeName:"font-size",initialValue:"medium",values:[{type:"token",tokens:["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller","inherit","initial","unset"]},{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-stretch",presentationAttributeName:"font-stretch",initialValue:"normal",values:[{type:"token",tokens:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-style",presentationAttributeName:"font-style",initialValue:"normal",values:[{type:"token",tokens:["normal","italic","oblique","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-variant",presentationAttributeName:"font-variant",initialValue:"normal",values:[{type:"token",tokens:["normal","small-caps","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-weight",presentationAttributeName:"font-weight",initialValue:"normal",values:[{type:"token",tokens:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"image-rendering",presentationAttributeName:"image-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:["image"],animatable:!0,inheritable:!0},{name:"isolation",presentationAttributeName:null,initialValue:"auto",values:[{type:"token",tokens:["isolate","auto","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"letter-spacing",presentationAttributeName:"letter-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"lighting-color",presentationAttributeName:"lighting-color",initialValue:"#fff",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feDiffuseLighting","feSpecularLighting"],animatable:!0,inheritable:!1},{name:"line-height",presentationAttributeName:"line-height",initialValue:"normal",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!0},{name:"marker",presentationAttributeName:"marker",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"marker-start",presentationAttributeName:"marker-start",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"marker-mid",presentationAttributeName:"marker-mid",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"marker-end",presentationAttributeName:"marker-end",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"mask",presentationAttributeName:"mask",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w,["g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"mix-blend-mode",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"opacity",presentationAttributeName:"opacity",initialValue:"1",values:[{type:"number"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!0,inheritable:!1},{name:"overflow",presentationAttributeName:"overflow",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","scroll","auto","inherit","initial","unset"]}],appliesTo:["svg","symbol","pattern","marker","image"],inheritable:!1,animatable:!0},{name:"paint-order",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal"]},{type:"token-list",tokens:["fill","stroke","markers"]}],appliesTo:[].concat(k),inheritable:!0,animatable:!0},{name:"pointer-events",presentationAttributeName:"pointer-events",initialValue:"auto",values:[{type:"token",tokens:["bounding-box","visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),inheritable:!0,animatable:!0},{name:"shape-rendering",presentationAttributeName:"shape-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"stop-color",presentationAttributeName:"stop-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stop-opacity",presentationAttributeName:"stop-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stroke",presentationAttributeName:"stroke",initialValue:"none",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-dasharray",presentationAttributeName:"stroke-dasharray",initialValue:"none",values:[{type:"dasharray"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-dashoffset",presentationAttributeName:"stroke-dashoffset",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-linecap",presentationAttributeName:"stroke-linecap",initialValue:"butt",values:[{type:"token",tokens:["butt","round","square","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-linejoin",presentationAttributeName:"stroke-linejoin",initialValue:"miter",values:[{type:"token",tokens:["miter","round","bevel","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-miterlimit",presentationAttributeName:"stroke-miterlimit",initialValue:"4",values:[{type:"number",min:1},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-opacity",presentationAttributeName:"stroke-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-width",presentationAttributeName:"stroke-width",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"text-anchor",presentationAttributeName:"text-anchor",initialValue:"start",values:[{type:"token",tokens:["start","middle","end","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"text-decoration",presentationAttributeName:"text-decoration",initialValue:"none",values:[{type:"token-list",tokens:["underline","overline","line-through"]},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!1},{name:"text-rendering",presentationAttributeName:"text-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit","initial","unset"]}],appliesTo:["text"],animatable:!0,inheritable:!0},{name:"text-transform",presentationAttributeName:null,initialValue:"none",values:[{type:"token",tokens:["capitalize","uppercase","lowercase","none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!0},{name:"unicode-bidi",presentationAttributeName:"unicode-bidi",initialValue:"normal",values:[{type:"token",tokens:["normal","embed","bidi-override","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!1},{name:"vector-effect",presentationAttributeName:"vector-effect",initialValue:"none",values:[{type:"token",tokens:["non-scaling-stroke","none","inherit","initial","unset"]}],appliesTo:[].concat(w,["use"]),animatable:!0,inheritable:!1},{name:"visibility",presentationAttributeName:"visibility",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","inherit","initial","unset"]}],appliesTo:[].concat(w,["text","textPath","tspan"]),animatable:!0,inheritable:!0},{name:"word-spacing",presentationAttributeName:"word-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"white-space",presentationAttributeName:"white-space",initialValue:"normal",values:[{type:"token",tokens:["normal","pre","nowrap","pre-wrap","pre-line","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"writing-mode",presentationAttributeName:"writing-mode",initialValue:"horizontal-tb",values:[{type:"token",tokens:["horizontal-tb","vertical-lr","vertical-rl","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath"],animatable:!1,inheritable:!0}],j=V.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;}),H=function H(t){var e=null;if(P.includes(t.localName)){var _i2=getComputedStyle(t).clipPath;if(_i2){var _s2=_i2.substring(6,_i2.length-2),_n2=Li(t).querySelector("#"+CSS.escape(_s2))||null;_n2&&"clipPath"===_n2.localName&&(e=_n2);}}return e;},W=function W(t){var e=null;if(z.includes(t.localName)){var _i3=getComputedStyle(t).mask;if(_i3){var _s3=_i3.substring(6,_i3.length-2),_n3=Li(t).querySelector("#"+CSS.escape(_s3))||null;_n3&&"mask"===_n3.localName&&(e=_n3);}}return e;},Y=Number.isFinite,q=Number.isNaN,X=Number.parseFloat,Z=function Z(t){return!q(t)&&"number"==typeof t;},K=Math.sqrt;var Q="Invalid argument passed to Vector contstructor";var J=/*#__PURE__*/function(){function J(){_classCallCheck(this,J);for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key];}if(0===t.length)this.x=0,this.y=0;else if(1===t.length){if(!Z(t[0].x)||!Z(t[0].y))throw new Error(Q);this.x=t[0].x,this.y=t[0].y;}else{if(2!==t.length)throw new Error(Q);if(Z(t[0])&&Z(t[1]))this.x=t[0],this.y=t[1];else{if(!(t[0]instanceof DOMPoint&&t[1]instanceof DOMPoint))throw new Error(Q);{var _e2=t[0],_i4=t[1];this.x=_i4.x-_e2.x,this.y=_i4.y-_e2.y;}}}}_createClass(J,[{key:"getNormalVector",value:function getNormalVector(){return new J(-this.y,this.x);}},{key:"getOppositeVector",value:function getOppositeVector(){return new J(-this.x,-this.y);}},{key:"negate",value:function negate(){return this.multiply(-1);}},{key:"multiply",value:function multiply(t){return new J(this.x*t,this.y*t);}},{key:"multiplySelf",value:function multiplySelf(t){return this.x=this.x*t,this.y=this.y*t,this;}},{key:"divide",value:function divide(t){return new J(this.x/t,this.y/t);}},{key:"divideSelf",value:function divideSelf(t){return this.x=this.x/t,this.y=this.y/t,this;}},{key:"normalize",value:function normalize(){return 0===this.length?new J(this):new J(this.x/this.length,this.y/this.length);}},{key:"scale",value:function scale(t){return 0===this.length?new J(this):(t/=this.length,new J(this.x*t,this.y*t));}},{key:"transformPoint",value:function transformPoint(t){return new DOMPoint(t.x+this.x,t.y+this.y);}},{key:"transformRect",value:function transformRect(t){return new DOMRect(t.x+this.x,t.y+this.y,t.width,t.height);}},{key:"matrixTransform",value:function matrixTransform(t){var e=new DOMPoint(0,0).matrixTransform(t),i=new DOMPoint(this.x,this.y).matrixTransform(t);return new J(e,i);}},{key:"toString",value:function toString(){return"(".concat(this.x,", ").concat(this.y,")");}},{key:"length",get:function get(){return K(this.x*this.x+this.y*this.y);},set:function set(t){0!==this.length&&(t/=this.length,this.x=this.x*t,this.y=this.y*t);}}],[{key:"fromVector",value:function fromVector(t){return new J(t.x,t.y);}}]);return J;}();var tt=function tt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Math.pow(10,e);return Math.round((t+Number.EPSILON)*i)/i;},et=function et(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=tt(t,s)),t<e?t=e:t>i&&(t=i),t;},it=function it(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e?t.every(function(e,i){return 0===i||t[i-1]<=e;}):t.every(function(e,i){return 0===i||t[i-1]<e;});},st=Math.pow,nt=document.createElementNS("http://www.w3.org/2000/svg","path"),ot=function ot(t){return nt.setPathData(t),nt.getAttribute("d");},lt=function lt(t){return nt.setAttribute("d",t),nt.getPathData();},at=function at(t){return nt.setPathData(t),nt.getPathData({normalize:!0});},ht=function ht(t){if(!t.find(function(t){return"C"===t.type||"L"===t.type;}))return[];var e=[],i=null,s=0,n=0,o=0,l=0;var _iterator=_createForOfIteratorHelper(t),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _a2=_step.value;if("M"===_a2.type)"M"===i&&e.pop(),e.push(_a2),s=_a2.values[0],n=_a2.values[1],o=_a2.values[0],l=_a2.values[1];else if("L"===_a2.type){if("Z"===i)e.push({type:"M",values:[o,l]});else if(_a2.values[0]===s&&_a2.values[1]===n)continue;e.push(_a2),s=_a2.values[0],n=_a2.values[1];}else"C"===_a2.type?("Z"===i&&e.push({type:"M",values:[o,l]}),e.push(_a2),s=_a2.values[4],n=_a2.values[5]):"Z"===_a2.type&&(s===o&&n===l||e.push({type:"L",values:[o,l]}),e.push(_a2),s=o,n=l);i=_a2.type;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return e;},rt=function rt(t){return t.map(function(t){return{type:t.type,values:_toConsumableArray(t.values)};});},dt=function dt(t){var e=[],i=[];var _iterator2=_createForOfIteratorHelper(t),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s4=_step2.value;"C"===_s4.type||"L"===_s4.type?i.push(_s4):"M"===_s4.type?(i.length>0&&(e.push(i),i=[]),i.push(_s4)):"Z"===_s4.type&&(i.push(_s4),e.push(i),i=[]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return i.length>0&&e.push(i),e;},ct=function ct(t){var e=ht(t.getPathData({normalize:!0})),i=dt(e);var _iterator3=_createForOfIteratorHelper(i),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _t2=_step3.value;var _e3=pt(_t2);_t2.length=0,_t2.push.apply(_t2,_toConsumableArray(_e3));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}i.reverse(),e=[];var _iterator4=_createForOfIteratorHelper(i),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _t3=_step4.value;var _iterator5=_createForOfIteratorHelper(_t3),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _i5=_step5.value;e.push(_i5);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}t.setPathData(e);},pt=function pt(t){var e=(t=rt(t))[0],i=[],s=null;for(var _e4=1;_e4<t.length;_e4+=1){var _n4=t[_e4];"Z"===_n4.type?s=_n4:i.push(_n4);}var n=e.values[0],o=e.values[1];"C"===i[i.length-1].type?(e.values[0]=i[i.length-1].values[4],e.values[1]=i[i.length-1].values[5]):(e.values[0]=i[i.length-1].values[0],e.values[1]=i[i.length-1].values[1]);for(var _i7=0,_i6=i;_i7<_i6.length;_i7++){var _t4=_i6[_i7];if("L"===_t4.type){var _t4$values=_slicedToArray(_t4.values,2),_e5=_t4$values[0],_i8=_t4$values[1];_t4.values=[n,o],n=_e5,o=_i8;}else if("C"===_t4.type){var _t4$values2=_slicedToArray(_t4.values,6),_e6=_t4$values2[0],_i9=_t4$values2[1],_s5=_t4$values2[2],_l2=_t4$values2[3],_a3=_t4$values2[4],_h2=_t4$values2[5];_t4.values=[_s5,_l2,_e6,_i9,n,o],n=_a3,o=_h2;}}i.reverse();var l=[];l.push(e);for(var _i11=0,_i10=i;_i11<_i10.length;_i11++){var _t5=_i10[_i11];l.push(_t5);}return s&&l.push(s),l;},ut=function ut(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator6=_createForOfIteratorHelper(dt(e)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _t6=_step6.value;"Z"===_t6[_t6.length-1].type&&_t6.pop();var _iterator7=_createForOfIteratorHelper(_t6),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e7=_step7.value;i.push(_e7);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}t.setPathData(i);},xt=function xt(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator8=_createForOfIteratorHelper(dt(e)),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _t7=_step8.value;if(_t7.length>1){"Z"!==_t7[_t7.length-1].type&&_t7.push({type:"Z",values:[]});}var _iterator9=_createForOfIteratorHelper(_t7),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _e8=_step9.value;i.push(_e8);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}t.setPathData(i);},bt=function bt(t){var e=t.getPathData({normalize:!0});var _iterator10=_createForOfIteratorHelper(dt(e)),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t8=_step10.value;if("Z"===_t8[_t8.length-1].type)return!0;}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return!1;},mt=function mt(t){var e=t.getPathData({normalize:!0});var _iterator11=_createForOfIteratorHelper(dt(e)),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _t9=_step11.value;if(_t9.length>1){if("Z"!==_t9[_t9.length-1].type)return!0;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return!1;},gt=function gt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=ot(ht(at(t))),n=((s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s)).offsetStroke(e/2),o=[];if(n){var _t10=n.exportSVG().getAttribute("d");o=lt(_t10),o=at(o);var _iterator12=_createForOfIteratorHelper(o),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _t11=_step12.value;_t11.values=_t11.values.map(function(t){return tt(t,i);});}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}return o;},ft=function ft(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=ot(ht(at(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);for(var _t12=1;_t12<=i;_t12+=1){o=o.offset(e);}var l=lt(o.exportSVG().getAttribute("d"));l=at(l);var _iterator13=_createForOfIteratorHelper(l),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _t13=_step13.value;_t13.values=_t13.values.map(function(t){return tt(t,s);});}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return l;},wt=function wt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=ot(ht(at(t))),n=(s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s);n.simplify(e);var o=lt(n.exportSVG().getAttribute("d"));o=at(o);var _iterator14=_createForOfIteratorHelper(o),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _t14=_step14.value;_t14.values=_t14.values.map(function(t){return tt(t,i);});}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return o;},vt=function vt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var i=ot(ht(at(t))),s=(i.match(/M/g)||[]).length>1?new paper.CompoundPath(i):new paper.Path(i);for(var _i12=0,_arr2=_toConsumableArray(s.curves);_i12<_arr2.length;_i12++){var _t15=_arr2[_i12];_t15.divideAt(new paper.CurveLocation(_t15,.5));}t=lt(s.exportSVG().getAttribute("d")),t=at(t);var _iterator15=_createForOfIteratorHelper(t),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _i13=_step15.value;_i13.values=_i13.values.map(function(t){return tt(t,e);});}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return t;},yt=function yt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"catmull-rom";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.4;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=ot(ht(at(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);o.smooth({type:e,factor:i});var l=lt(o.exportSVG().getAttribute("d"));l=at(l);var _iterator16=_createForOfIteratorHelper(l),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _t16=_step16.value;_t16.values=_t16.values.map(function(t){return tt(t,s);});}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return l;},kt=function kt(t,e){var i=t.getTotalLength(),s=i/t.getPathData().length*.125,n=null,o=null,l=Infinity,a=function a(t){return st(t.x-e.x,2)+st(t.y-e.y,2);};for(var _e9=0;_e9<=i;_e9+=s){var _i14=DOMPoint.fromPoint(t.getPointAtLength(_e9)),_s6=a(_i14);_s6<l&&(n=_i14,o=_e9,l=_s6);}for(s*=.5;s>.5;){var _e10=o-s,_h3=DOMPoint.fromPoint(t.getPointAtLength(_e10)),_r2=a(_h3);if(_e10>=0&&_r2<l)n=_h3,o=_e10,l=_r2;else{var _e11=o+s,_h4=DOMPoint.fromPoint(t.getPointAtLength(_e11)),_r3=a(_h4);_e11<=i&&_r3<l?(n=_h4,o=_e11,l=_r3):s*=.5;}}return[n,o,l];},St=function St(t,e){var i=[],s=[];var _iterator17=_createForOfIteratorHelper(e),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _t17=_step17.value;"C"===_t17.type||"L"===_t17.type?s.push(_t17):"M"===_t17.type?(s.length>0&&(i.push(s),s=[]),s.push(_t17)):"Z"===_t17.type&&(s.push(_t17),i.push(s),s=[]);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}return s.length>0&&i.push(s),i.find(function(e){return e.includes(t);})||null;},_t=function _t(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var s="sharp";if(t&&e&&"C"===t.type&&"C"===e.type){var _n5=new DOMPoint(t.values[4],t.values[5]),_o2=new DOMPoint(e.values[0],e.values[1]),_l3=new DOMPoint(t.values[2],t.values[3]);if(!1===ze(_n5,_o2)&&!1===ze(_n5,_l3)&&!0===Ee(_o2,_n5,_l3,i)){var _t18=new J(_n5,_o2),_e12=new J(_n5,_l3);s=tt(_t18.length,2)===tt(_e12.length,2)?"symmetric-smooth":"smooth";}}return s;},Ct=function Ct(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(e.values[4],e.values[5]),n=new DOMPoint(t.values[0],t.values[1]),o=new DOMPoint(e.values[2],e.values[3]),l=new J(s,n),a=new J(s,o),h=l.getOppositeVector();!1===i&&(h.length=a.length),e.values[2]=s.x+h.x,e.values[3]=s.y+h.y;},Mt=function Mt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(t.values[4],t.values[5]),n=new DOMPoint(t.values[2],t.values[3]),o=new DOMPoint(e.values[0],e.values[1]),l=new J(s,n),a=new J(s,o),h=l.getOppositeVector();!1===i&&(h.length=a.length),e.values[0]=s.x+h.x,e.values[1]=s.y+h.y;},Pt=function Pt(t,e,i){var s;"M"===t.type||"L"===t.type?s=new DOMPoint(t.values[0],t.values[1]):"C"===t.type&&(s=new DOMPoint(t.values[4],t.values[5]));var n=new DOMPoint(i.values[4],i.values[5]),o=new DOMPoint(e.values[4],e.values[5]),l=new J(o,s),a=new J(o,n),h=l.length/a.length,r=new J(h*a.x-l.x,h*a.y-l.y).normalize();e.values[2]=o.x+-r.x*(l.length/3),e.values[3]=o.y+-r.y*(l.length/3),i.values[0]=o.x+r.x*(a.length/3),i.values[1]=o.y+r.y*(a.length/3);},Dt=function Dt(t){var e=null;var _iterator18=_createForOfIteratorHelper(t),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _i15=_step18.value;if("L"===_i15.type){var _i15$values=_slicedToArray(_i15.values,2),_t19=_i15$values[0],_s7=_i15$values[1],_n6="C"===e.type?e.values[4]:e.values[0],_o3="C"===e.type?e.values[5]:e.values[1];_i15.type="C",_i15.values=[_n6,_o3,_t19,_s7,_t19,_s7];}e=_i15;}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}},zt=function zt(t){var e=null;var _iterator19=_createForOfIteratorHelper(t),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _i16=_step19.value;if("C"===_i16.type){var _i16$values=_slicedToArray(_i16.values,6),_t20=_i16$values[0],_s8=_i16$values[1],_n7=_i16$values[2],_o4=_i16$values[3],_l4=_i16$values[4],_a4=_i16$values[5],_h5="C"===e.type?e.values[4]:e.values[0],_r4="C"===e.type?e.values[5]:e.values[1];_t20===_h5&&_s8===_r4&&_n7===_l4&&_o4===_a4&&(_i16.type="L",_i16.values=[_l4,_a4]);}e=_i16;}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}},Ot=function Ot(t,e){var i=St(t,e);return"Z"===i[i.length-1].type;},Et=function Et(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i;if((t.match(/M/g)||[]).length>1){if(i=new paper.CompoundPath(t),e){var _iterator20=_createForOfIteratorHelper(i.children),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t21=_step20.value;_t21.closed||_t21.closePath();}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}else i=new paper.Path(t),e&&(i.closed||i.closePath());return i;};var Tt=/*#__PURE__*/function(){function Tt(t){_classCallCheck(this,Tt);this._=t,this.currentToken=null,this.position=0;}_createClass(Tt,[{key:"read",value:function read(){var t=this._[this.position];return this.currentToken=t,"EOF"===t.tokenType||(this.position+=1),t;}},{key:"reset",value:function reset(t){this.position=t;}}]);return Tt;}();var _window=window,At=_window.tokenize,$t=_window.EOFToken;var It=/*#__PURE__*/function(){_createClass(It,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"unit",get:function get(){return this._e;},set:function set(t){this._e=t;}},{key:"isAbsolute",get:function get(){return a.includes(this.unit);}},{key:"type",get:function get(){return"<length>";}}]);function It(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"px";_classCallCheck(this,It);this._t=t,this._e=e;}_createClass(It,[{key:"toString",value:function toString(){return this.value+this.unit;}},{key:"toLength",value:function toLength(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"px";var e=this.unit,i=t;if(e===i)return new It(this.value,this.unit);if(!1===a.includes(e)||!1===a.includes(i))throw new DOMException("Can't convert relative <length> units.","OperationError");{this.value;var _t22=null,_s9=null;return"px"===e?_s9=this.value:"cm"===e?_s9=this._t*(96/2.54):"mm"===e?_s9=this._t*(96/2.54/10):"in"===e?_s9=96*this._t:"pt"===e?_s9=this._t*(96/72):"pc"===e?_s9=16*this._t:"q"===e&&(_s9=this._t*(96/2.54/40)),"px"===i?_t22=_s9:"cm"===i?_t22=_s9/(96/2.54):"mm"===i?_t22=_s9/(96/2.54/10):"in"===i?_t22=_s9/96:"pt"===i?_t22=_s9/(96/72):"pc"===i?_t22=_s9/16:"q"===i&&(_t22=_s9/(96/2.54/40)),new It(_t22,i);}}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(At(t)),[new $t()]),s=new Tt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"DIMENSION"===s.currentToken.tokenType){var _s$currentToken=s.currentToken,_t23=_s$currentToken.value,_i17=_s$currentToken.unit;if(!1===r.includes(_i17)){if(e)throw new DOMException("Unknown unit identifier \"".concat(_i17,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new It(_t23,_i17);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException("Expected DIMENSION token.","SyntaxError");return null;}}]);return It;}();var _window2=window,Lt=_window2.tokenize,Rt=_window2.EOFToken;var Bt=/*#__PURE__*/function(){_createClass(Bt,[{key:"align",get:function get(){return this._i;},set:function set(t){this._i=t;}},{key:"meetOrSlice",get:function get(){return this._s;},set:function set(t){this._s=t;}},{key:"type",get:function get(){return"<preserve-aspect-ratio>";}}]);function Bt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"xMidYMid";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"meet";_classCallCheck(this,Bt);this._i=t,this._s=e;}_createClass(Bt,[{key:"toString",value:function toString(){return"meet"===this.meetOrSlice?"".concat(this.align):"".concat(this.align," ").concat(this.meetOrSlice);}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Lt(t)),[new Rt()]),s=new Tt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _t24=s.currentToken.value;if(!1===d.includes(_t24)){if(e)throw new DOMException("Unknown align value \"".concat(_t24,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Bt(_t24,"meet");if("IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _i18=s.currentToken.value;if("meet"!==_i18&&"slice"!==_i18){if(e)throw new DOMException("Unknown meetOrSlice value \"".concat(_i18,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Bt(_t24,_i18);}}}}]);return Bt;}();var _window3=window,Gt=_window3.tokenize,Ut=_window3.EOFToken;var Ft=/*#__PURE__*/function(){_createClass(Ft,[{key:"type",get:function get(){return"<view-box>";}},{key:"x",get:function get(){return this.Bs;},set:function set(t){this.Bs=t;}},{key:"y",get:function get(){return this.Gs;},set:function set(t){this.Gs=t;}},{key:"width",get:function get(){return this.Us;},set:function set(t){this.Us=t;}},{key:"height",get:function get(){return this.Fs;},set:function set(t){this.Fs=t;}}]);function Ft(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Ft);this.x=t,this.y=e,this.width=i,this.height=s;}_createClass(Ft,[{key:"toString",value:function toString(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height);}},{key:"toRect",value:function toRect(){return new DOMRect(this.x,this.y,this.width,this.height);}}],[{key:"fromRect",value:function fromRect(t){return new Ft(t.x,t.y,t.width,t.height);}},{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,n,o,l=[].concat(_toConsumableArray(Gt(t)),[new Ut()]),a=new Tt(l);if(a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"NUMBER"!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(i=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"NUMBER"!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(s=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),!("NUMBER"===a.currentToken.tokenType&&a.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(n=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),!("NUMBER"===a.currentToken.tokenType&&a.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(o=a.currentToken.value,a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"EOF"===a.currentToken.tokenType)return new Ft(i,s,n,o);if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}}]);return Ft;}();var Nt=function Nt(t,e){return t.is2D?new DOMMatrix([tt(t.a,e),tt(t.b,e),tt(t.c,e),tt(t.d,e),tt(t.e,e),tt(t.f,e)]):new DOMMatrix([tt(t.m11,e),tt(t.m12,e),tt(t.m13,e),tt(t.m14,e),tt(t.m21,e),tt(t.m22,e),tt(t.m23,e),tt(t.m24,e),tt(t.m31,e),tt(t.m32,e),tt(t.m33,e),tt(t.m34,e),tt(t.m41,e),tt(t.m42,e),tt(t.m43,e),tt(t.m44,e)]);},Vt=Math.abs,jt=Math.tan,Ht=Number.parseFloat,Wt=function Wt(t){var e=null;return e="linearGradient"===t.localName||"radialGradient"===t.localName?t.gradientTransform.baseVal.consolidate():"pattern"===t.localName?t.patternTransform.baseVal.consolidate():t.transform.baseVal.consolidate(),e?DOMMatrix.fromMatrix(e.matrix):new DOMMatrix();},Yt=function Yt(t,e){var i=e.getScreenCTM().inverse().multiply(t.getScreenCTM());return DOMMatrix.fromMatrix(i);},qt=function qt(t){var e=t.getScreenCTM();return DOMMatrix.fromMatrix(e);},Xt=function Xt(t,e,i,s,n,o){var l=function l(t){return t[0][0]*(t[1][1]*t[2][2]-t[1][2]*t[2][1])-t[0][1]*(t[1][0]*t[2][2]-t[1][2]*t[2][0])+t[0][2]*(t[1][0]*t[2][1]-t[1][1]*t[2][0]);},a=l([[t.x,t.y,1],[e.x,e.y,1],[i.x,i.y,1]]),h=l([[s.x,t.y,1],[n.x,e.y,1],[o.x,i.y,1]]),r=l([[s.y,t.y,1],[n.y,e.y,1],[o.y,i.y,1]]),d=l([[t.x,s.x,1],[e.x,n.x,1],[i.x,o.x,1]]),c=l([[t.x,s.y,1],[e.x,n.y,1],[i.x,o.y,1]]),p=l([[t.x,t.y,s.x],[e.x,e.y,n.x],[i.x,i.y,o.x]]),u=l([[t.x,t.y,s.y],[e.x,e.y,n.y],[i.x,i.y,o.y]]);return 0===a?new DOMMatrix([1,0,0,1,0,0]):new DOMMatrix([h/a,r/a,d/a,c/a,p/a,u/a]);},Zt=function Zt(t,e){var i=new DOMPoint(t.x,t.y),s=new DOMPoint(t.x+t.width,t.y),n=new DOMPoint(t.x,t.y+t.height),o=new DOMPoint(e.x,e.y),l=new DOMPoint(e.x+e.width,e.y),a=new DOMPoint(e.x,e.y+e.height);return Xt(i,s,n,o,l,a);},Kt=function Kt(t){var e=new DOMMatrix(),i=null;if(t.hasAttribute("viewBox")&&(i=Ft.fromString(t.getAttribute("viewBox"))),i){var _s10=It.fromString(t.style.width||t.getAttribute("width")||""),_n8=It.fromString(t.style.height||t.getAttribute("height")||"");if(_s10&&_n8&&h[_s10.unit]&&h[_n8.unit]){var _o5=Bt.fromString(t.getAttribute("preserveAspectRatio")||"xMidYMid meet");_s10.value*=h[_s10.unit],_n8.value*=h[_n8.unit];var _l5=_s10.value/i.width,_a5=_n8.value/i.height;"none"!==_o5.align&&"meet"===_o5.meetOrSlice?_l5>_a5?_l5=_a5:_a5>_l5&&(_a5=_l5):"none"!==_o5.align&&"slice"===_o5.meetOrSlice&&(_l5<_a5?_l5=_a5:_a5<_l5&&(_a5=_l5));var _r5=0-i.x*_l5,_d2=0-i.y*_a5;_o5.align.includes("xMid")&&(_r5+=(_s10.value-i.width*_l5)/2),_o5.align.includes("xMax")&&(_r5+=_s10.value-i.width*_l5),_o5.align.includes("YMid")&&(_d2+=(_n8.value-i.height*_a5)/2),_o5.align.includes("YMax")&&(_d2+=_n8.value-i.height*_a5),e.translateSelf(_r5,_d2),e.scaleSelf(_l5,_a5);}}return e;},Qt=function Qt(t,e){var i=new DOMMatrix();if(""===t&&(t="px"),""===e&&(e="px"),t!==e){var _s11=1;if("px"===t)_s11=1;else if("cm"===t)_s11=96/2.54*1;else if("mm"===t)_s11=96/2.54/10*1;else if("in"===t)_s11=96;else if("pt"===t)_s11=96/72*1;else if("pc"===t)_s11=16;else{if("q"!==t)throw new Error("Can't transform relative units.","OperationError");_s11=96/2.54/40*1;}if("px"===e)_s11/=1;else if("cm"===e)_s11/=96/2.54;else if("mm"===e)_s11/=96/2.54/10;else if("in"===e)_s11/=96;else if("pt"===e)_s11/=96/72;else if("pc"===e)_s11/=16;else{if("q"!==e)throw new Error("Can't transform relative units.","OperationError");_s11/=96/2.54/40;}i.scaleSelf(_s11,_s11);}return i;},Jt=function Jt(t){var e,i;if(t.hasAttribute("data-bx-origin")){var _s12=t.getAttribute("data-bx-origin").split(" ");e=Ht(_s12[0]),i=Ht(_s12[1]);}else e=.5,i=.5;return new DOMPoint(e,i);},te=function te(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;var s=tt(e.x,i),n=tt(e.y,i);t.setAttribute("data-bx-origin","".concat(s," ").concat(n));},ee=function ee(t){var e=Ei(t),i=Jt(t);return de(i,e);},ie=function ie(t){var e=qt(t);return ee(t).matrixTransform(e);},se=function se(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.map(function(t){return ie(t);}),s=i[0],n=!0;var _iterator21=_createForOfIteratorHelper(i),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var _t25=_step21.value;if(Te(_t25,s)>3){n=!1;break;}}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}var o=null;if(n){if(e){var _e13=t.map(function(t){return Ti(t);}),_s13=We(_e13);o=new DOMPoint((i[0].x-_s13.x)/_s13.width,(i[0].y-_s13.y)/_s13.height);}else o=i[0];}else if(e)o=new DOMPoint(.5,.5);else{var _e14=t.map(function(t){return Ti(t);}),_i19=We(_e14);o=new DOMPoint(_i19.x+_i19.width/2,_i19.y+_i19.height/2);}return o;},ne=function ne(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=0;if(y.includes(t.localName)){qt(t).inverse();null===e&&(e=ee(t));var _s14=e.matrixTransform(qt(t)),_n9=(Ei(t),_s14),_o6=new DOMPoint(_s14.x-100,_s14.y),_l6=new DOMPoint(e.x-100,e.y).matrixTransform(qt(t));i=Ge(_n9,_o6,_l6);}return i;},oe=function oe(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=ne(t),o=Wt(t),l=qt(t),a=l.inverse();null===s&&(s=ee(t));var h=s.matrixTransform(l),r=DOMMatrix.fromMatrix(o);r.multiplySelf(a),r.translateSelf(h.x,h.y),r.rotateSelf(-n+e),r.translateSelf(-h.x,-h.y),r.multiplySelf(l),null!==i&&(r=Nt(r,i)),!1===r.isIdentity?t.setAttribute("transform",r.toString()):t.removeAttribute("transform");},le=function le(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var s=at(t);var _iterator22=_createForOfIteratorHelper(s),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _t26=_step22.value;if("M"===_t26.type||"L"===_t26.type){var _i20=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e);_t26.values=[_i20.x,_i20.y];}else if("C"===_t26.type){var _i21=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e),_s15=new DOMPoint(_t26.values[2],_t26.values[3]).matrixTransform(e),_n10=new DOMPoint(_t26.values[4],_t26.values[5]).matrixTransform(e);_t26.values=[_i21.x,_i21.y,_s15.x,_s15.y,_n10.x,_n10.y];}_t26.values=_t26.values.map(function(t){return tt(t,i);});}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return s;},ae=function ae(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=DOMMatrix.fromMatrix(t),l=Ve(e),a=Ve(i),h=new DOMMatrix();return h=he(h,jt(l),jt(a)),o=re(o,s,n),o.multiplySelf(h),o=re(o,-s,-n),o;},he=function he(t,e,i){var s=DOMMatrix.fromMatrix(t),n=s.a,o=s.b;return s.a+=i*s.c,s.b+=i*s.d,s.c+=e*n,s.d+=e*o,s;},re=function re(t,e,i){var s=DOMMatrix.fromMatrix(t);return s.e=s.e+e*s.a+i*s.c,s.f=s.f+e*s.b+i*s.d,s;},de=function de(t,e){return new DOMPoint(e.x+t.x*e.width,e.y+t.y*e.height);},ce=function ce(t,e){return new DOMPoint(0===e.width?0:(t.x-e.x)/e.width,0===e.height?0:(t.y-e.y)/e.height);},pe=Math.atan2,ue=function ue(t,e){return t.x*e.x+t.y*e.y;},xe=function xe(t,e){return new J(t.x-e.x,t.y-e.y);},be=function be(t,e){return new J(t.x+e.x,t.y+e.y);},me=function me(t,e){return Ne(pe(e.y,e.x)-pe(t.y,t.x));},ge=Math.sin,fe=Math.cos,we=Math.acos,ve=Math.atan2,ye=Math.abs,ke=Math.sqrt,Se=Math.pow,_e=Math.PI,Ce=Math.min,Me=Math.max,Pe=Number.isNaN,De=document.createElementNS("http://www.w3.org/2000/svg","svg"),ze=function ze(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?tt(t.x,i)===tt(e.x,i)&&tt(t.y,i)===tt(e.y,i):t.x===e.x&&t.y===e.y;},Oe=function Oe(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMPoint(tt(t.x,e),tt(t.y,e),tt(t.z,e),tt(t.w,e));},Ee=function Ee(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(0===s){return 0===(t.x*(e.y-i.y)+e.x*(i.y-t.y)+i.x*(t.y-e.y))/2;}{var _n11=new J(t,e),_o7=new J(e,i),_l7=ue(_n11,_o7),_a6=we(_l7/(_n11.length*_o7.length));if(Pe(_a6))return!0;return Ne(_a6)<s;}},Te=function Te(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,ke(i+s);},Ae=function Ae(t,e){var i=(t.x+e.x)/2,s=(t.y+e.y)/2;return new DOMPoint(i,s);},$e=function $e(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n,o=new DOMPoint(0,0),l=new DOMPoint(t.x,t.y),a=new DOMPoint(e.x,e.y),h=i,r=new J(o,l),d=new J(l,a),c=new J(l,h),p=ue(c,d),u=ue(d,d);n=0!==u?p/u:0,!1===s&&(n<0?n=0:n>1&&(n=1));var x=be(r,d.multiply(n));return[new DOMPoint(x.x,x.y),n];},Ie=function Ie(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.5;var s=e.x-t.x,n=e.y-t.y;return new DOMPoint(t.x+i*s,t.y+i*n);},Le=function Le(t){var e=De.createSVGPoint();return e.x=t.x,e.y=t.y,e;},Re=function Re(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var s=new DOMPoint(t.x,t.y-1e3),n=Ge(t,s,e),o=[];for(var _t27=-180;_t27<=180;_t27+=i){o.push(_t27);}var l=Infinity;for(var _i22=0,_o8=o;_i22<_o8.length;_i22++){var _t28=_o8[_i22];var _e15=_t28-n;ye(_e15)<ye(l)&&(l=_e15);}n+=l;var a=Ve(n-90),h=Te(t,e),r=new J(fe(a),ge(a));return r.length=h,[new DOMPoint(t.x+r.x,t.y+r.y),n];},Be=function Be(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:90;var s=new DOMPoint(t.x,t.y-1e3),n=Ge(t,s,e);n+=i-n;var o=Ve(n-90),l=Te(t,e),a=new J(fe(o),ge(o));return a.length=l,new DOMPoint(t.x+a.x,t.y+a.y);},Ge=function Ge(t,e,i){var s=new J(t,e),n=new J(t,i),o=ve(n.y,n.x)-ve(s.y,s.x);return Ue(Ne(o));},Ue=function Ue(t){for(;t<-180;){t+=360;}for(;t>180;){t-=360;}return t;},Fe=function Fe(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;var i=Ue(t),s=[];for(var _t29=-180;_t29<=180;_t29+=e){s.push(_t29);}return s.reduce(function(t,e){return ye(e-i)<ye(t-i)?e:t;});},Ne=function Ne(t){return t*(180/_e);},Ve=function Ve(t){return _e*t/180;},je=function je(t,e){return new DOMRect(tt(t.x,e),tt(t.y,e),tt(t.width,e),tt(t.height,e));},He=function He(t,e){var i=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)].map(function(t){return t.matrixTransform(e);}),s=i.map(function(t){return t.x;}),n=i.map(function(t){return t.y;}),o=Ce.apply(void 0,_toConsumableArray(s)),l=Ce.apply(void 0,_toConsumableArray(n)),a=Me.apply(void 0,_toConsumableArray(s)),h=Me.apply(void 0,_toConsumableArray(n));return new DOMRect(o,l,a-o,h-l);},We=function We(t){if(0===t.length)return new DOMRect(0,0,0,0);if(1===t.length){var _e16=t[0];return new DOMRect(_e16.x,_e16.y,_e16.width,_e16.height);}{var _e17=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.x;}))),_i23=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.y;}))),_s16=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.x+t.width;}))),_n12=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.y+t.height;})));return new DOMRect(_e17,_i23,_s16-_e17,_n12-_i23);}},Ye=function Ye(t,e){var i,s=function s(t,e,i,_s17){return 8&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.height-t.y)/(e.y-t.y),_s17.height):4&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.y-t.y)/(e.y-t.y),_s17.y):2&i?new DOMPoint(_s17.width,t.y+(e.y-t.y)*(_s17.width-t.x)/(e.x-t.x)):1&i?new DOMPoint(_s17.x,t.y+(e.y-t.y)*(_s17.x-t.x)/(e.x-t.x)):null;},n=function n(t,e){var i=0;return t.x<e.x?i|=1:t.x>e.width&&(i|=2),t.y<e.y?i|=4:t.y>e.height&&(i|=8),i;};for(var _o9=1;_o9<=8;_o9*=2){var _l8=e[e.length-1],_a7=!(n(_l8,t)&_o9);i=[];for(var _h6=0;_h6<e.length;_h6++){var _r6=e[_h6],_d3=!(n(_r6,t)&_o9);_d3!==_a7&&i.push(s(_l8,_r6,_o9,t)),_d3&&i.push(_r6),_l8=_r6,_a7=_d3;}if(!(e=i).length)break;}return i;},qe=function qe(t,e){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height;},Xe=function Xe(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;},Ze=function Ze(t,e){var _iterator23=_createForOfIteratorHelper(t),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _i25=_step23.value;if(Xe(e,_i25))return _i25;}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}{var _i24=new DOMPoint(e.x+e.width/2,e.y+e.height/2),_s18=Infinity,_n13=null;var _iterator24=_createForOfIteratorHelper(t),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _e18=_step24.value;var _t30=new DOMPoint(_e18.x+_e18.width/2,_e18.y+_e18.height/2),_o10=Te(_i24,_t30);_o10<_s18&&(_s18=_o10,_n13=_e18);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return _n13;}},Ke=function Ke(t,e,i){var s=new J(e,t);return s.length=i,s.transformPoint(e);},Qe=function Qe(t,e,i){return Je(t,e,new DOMPoint(i.x,i.y),new DOMPoint(i.right,i.y))||Je(t,e,new DOMPoint(i.right,i.y),new DOMPoint(i.right,i.bottom))||Je(t,e,new DOMPoint(i.right,i.bottom),new DOMPoint(i.x,i.bottom))||Je(t,e,new DOMPoint(i.x,i.bottom),new DOMPoint(i.x,i.y));},Je=function Je(t,e,i,s){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1e-7;var o=ei(t,e,i,s);return!!o&&o.x+n>=Ce(i.x,s.x)&&o.x-n<=Me(i.x,s.x)&&o.y+n>=Ce(i.y,s.y)&&o.y-n<=Me(i.y,s.y);},ti=function ti(t,e){var i=e.y-t.y,s=t.x-e.x;return[i,s,i*t.x+s*t.y];},ei=function ei(t,e,i,s){var _ti=ti(t,e),_ti2=_slicedToArray(_ti,3),n=_ti2[0],o=_ti2[1],l=_ti2[2],_ti3=ti(i,s),_ti4=_slicedToArray(_ti3,3),a=_ti4[0],h=_ti4[1],r=_ti4[2],d=n*h-a*o,c=null;return 0!==d&&(c=new DOMPoint((h*l-o*r)/d,(n*r-a*l)/d)),c;},ii=function ii(t,e){var i=e.x,s=e.y,n=!1;for(var _e19=0,_o11=t.length-1;_e19<t.length;_o11=_e19++){var _l9=t[_e19].x,_a8=t[_e19].y,_h7=t[_o11].x,_r7=t[_o11].y;_a8>s!=_r7>s&&i<(_h7-_l9)*(s-_a8)/(_r7-_a8)+_l9&&(n=!n);}return n;},si=function si(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i)for(var s in t){if(t[s]!==e[s])return!1;}else{for(var n=0;n<t.length;n+=1){if(!e.includes(t[n]))return!1;}for(n=0;n<e.length;n+=1){if(!t.includes(e[n]))return!1;}}return!0;},ni=function ni(t){return _toConsumableArray(new Set(t));},oi=function oi(t,e){if(0===t.length)return!1;for(var i=0;i<t.length;i+=1){if(t[i]!==e)return!1;}return!0;},li=function li(t,e){return JSON.stringify(t)===JSON.stringify(e);},ai=function ai(t,e,i){return t.split(e).join(i);},hi=function hi(t){return t.replace(/(^|[\s-])(\w)/g,function(t,e,i){return e+i.toUpperCase();});},ri=function ri(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","");});},di=function di(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();});},ci=function ci(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML;},pi=function pi(t){return DOMPurify.sanitize(t,{ALLOWED_TAGS:["p","h3","h4","ul","ol","li","blockquote","figure","figcaption","pre","code","img","hr","br","a","strong","em","del","u","code","mark","#text"],ALLOWED_ATTR:["alt","data-language","data-type","hidden","href","rel","spellcheck","start","src","style","title"],ALLOW_DATA_ATTR:!1});},ui=function ui(t){var e="\xE0\xE1\xE4\xE2\xE3\xE5\xE8\xE9\xEB\xEA\xEC\xED\xEF\xEE\xF2\xF3\xF6\xF4\xF9\xFA\xFC\xFB\xF1\xE7\xDF\xFF\u0153\xE6\u0155\u015B\u0144\u1E55\u1E83\u01F5\u01F9\u1E3F\u01D8\u1E8D\u017A\u1E27\xB7/_,:;",i=new RegExp(e.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,"-").replace(i,function(t){return"aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------".charAt(e.indexOf(t));}).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");},xi=Object.keys,bi="\u200B",mi=function mi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=wi(t),s=e&&t.contains(e.commonAncestorContainer),n=s?Pi(e.startContainer,e.startOffset)[1]:-1,o=s?Pi(e.endContainer,e.endOffset)[1]:-1;if(s&&n!==o){var _t31=[];var _iterator25=_createForOfIteratorHelper(i.childItems),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e20=_step25.value;var _i26=null;if(n>=_e20.startOffset&&o<=_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]:n>=_e20.startOffset&&n<_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset)]:o>_e20.startOffset&&o<=_e20.endOffset&&(_i26=[_e20.textContent.slice(0,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]),null===_i26)_t31.push(_e20);else{var _s19=_e20.startOffset,_n14=0;var _iterator26=_createForOfIteratorHelper(_i26),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _o12=_step26.value;if(_o12.length>0){var _i27={textContent:_o12,href:_e20.href,inheritableProperties:_e20.inheritableProperties,nonInheritableProperties:_e20.nonInheritableProperties,startOffset:_s19,endOffset:_s19+_o12.length,x:[],y:[],dx:[],dy:[],rotate:[]};for(var _t32=0;_t32<_o12.length;_t32+=1){_i27.x.push(_e20.x[_n14]),_i27.y.push(_e20.y[_n14]),_i27.dx.push(_e20.dx[_n14]),_i27.dy.push(_e20.dy[_n14]),_i27.rotate.push(_e20.rotate[_n14]),_n14+=1;}_t31.push(_i27),_s19+=_o12.length;}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}i.childItems=_t31;}t.removeAttribute("x"),t.removeAttribute("y"),t.removeAttribute("dx"),t.removeAttribute("dy"),t.removeAttribute("rotate"),t.setAttribute("style","");var _iterator27=_createForOfIteratorHelper(j),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e30=_step27.value;t.hasAttribute(_e30)&&t.removeAttribute(_e30);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}{var _e21=getComputedStyle(t);var _iterator28=_createForOfIteratorHelper(xi(i.rootItem.inheritableProperties)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _s20=_step28.value;_e21.getPropertyValue(_s20)!==i.rootItem.inheritableProperties[_s20]&&t.style.setProperty(_s20,i.rootItem.inheritableProperties[_s20]);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}var _iterator29=_createForOfIteratorHelper(xi(i.rootItem.nonInheritableProperties)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _s21=_step29.value;_e21.getPropertyValue(_s21)!==i.rootItem.nonInheritableProperties[_s21]&&t.style.setProperty(_s21,i.rootItem.nonInheritableProperties[_s21]);}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}{var _e22=t.querySelector("textPath")||t;for(var _i28=0,_arr3=_toConsumableArray(_e22.childNodes);_i28<_arr3.length;_i28++){var _t33=_arr3[_i28];"tspan"!==_t33.nodeName&&"a"!==_t33.nodeName&&"#text"!==_t33.nodeName||_t33.remove();}if(i.childItems.length>0){var _iterator30=_createForOfIteratorHelper(i.childItems),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _t34=_step30.value;var _i29=Ii("svg:tspan");if(_e22.append(_i29),_t34.href){var _e23=Ii("svg:a");_e23.setAttribute("_href",_t34.href),_e23.textContent=_t34.textContent,_i29.append(_e23);}else _i29.textContent=_t34.textContent;{var _e24=getComputedStyle(_i29);var _iterator31=_createForOfIteratorHelper(xi(_t34.inheritableProperties)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _s22=_step31.value;_e24.getPropertyValue(_s22)!==_t34.inheritableProperties[_s22]&&_i29.style.setProperty(_s22,_t34.inheritableProperties[_s22]);}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}var _iterator32=_createForOfIteratorHelper(xi(_t34.nonInheritableProperties)),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _s23=_step32.value;_e24.getPropertyValue(_s23)!==_t34.nonInheritableProperties[_s23]&&_i29.style.setProperty(_s23,_t34.nonInheritableProperties[_s23]);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}{var _e25=_t34.x.filter(function(t){return"auto"!==t;});_e25.length>0&&_i29.setAttribute("x",_e25.join(" "));}{var _e26=_t34.y.filter(function(t){return"auto"!==t;});_e26.length>0&&_i29.setAttribute("y",_e26.join(" "));}{var _e27=_toConsumableArray(_t34.dx);for(var _t35=_e27.length-1;_t35>=0&&"0"===_e27[_t35];_t35-=1){_e27.pop();}_e27.length>0&&_i29.setAttribute("dx",_e27.join(" "));}{var _e28=_toConsumableArray(_t34.dy);for(var _t36=_e28.length-1;_t36>=0&&"0"===_e28[_t36];_t36-=1){_e28.pop();}_e28.length>0&&_i29.setAttribute("dy",_e28.join(" "));}{var _e29=_toConsumableArray(_t34.rotate);for(var _t37=_e29.length-1;_t37>=0&&_e29[_t37]===_e29[_t37-1];_t37-=1){_e29.pop();}1===_e29.length&&"0"===_e29[0]&&(_e29=[]),_e29.length>0&&_i29.setAttribute("rotate",_e29.join(" "));}}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}if(s){var _i30=0,_s24=null;var _iterator33=_createForOfIteratorHelper(vi(t)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _l10=_step33.value;for(var _t38=0;_t38<=_l10.textContent.length;_t38+=1,_i30+=1){_i30===n&&e.setStart(_l10,_t38),_i30===o&&(0===_t38&&_s24?e.setEnd(_s24,_s24.textContent.length):e.setEnd(_l10,_t38));}_i30-=1,_s24=_l10;}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},gi=function gi(t,e){var i=e&&t.contains(e.commonAncestorContainer),s=i?Pi(e.startContainer,e.startOffset)[1]:-1,n=i?Pi(e.endContainer,e.endOffset)[1]:-1;{mi(t,null);var _e31=t.querySelector("textPath")||t,_i31=_e31.querySelectorAll("tspan"),_s25=1===_i31.length?_i31[0]:null;if(_s25&&0===_s25.style.length){var _iterator34=_createForOfIteratorHelper(_s25.childNodes),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _t39=_step34.value;_e31.append(_t39);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}for(var _i32=0,_arr4=["x","y","dx","dy","rotate"];_i32<_arr4.length;_i32++){var _e32=_arr4[_i32];_s25.hasAttribute(_e32)&&t.setAttribute(_e32,_s25.getAttribute(_e32));}_s25.remove();}}if(i){var _i33=0,_o13=null;var _iterator35=_createForOfIteratorHelper(vi(t)),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _l11=_step35.value;for(var _t40=0;_t40<=_l11.textContent.length;_t40+=1,_i33+=1){_i33===s&&e.setStart(_l11,_t40),_i33===n&&(0===_t40&&_o13?e.setEnd(_o13,_o13.textContent.length):e.setEnd(_l11,_t40));}_i33-=1,_o13=_l11;}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}}},fi=function fi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;null===e&&(e=t.commonAncestorContainer.closest("text"));var i=(e.querySelector("textPath")||e).querySelectorAll("tspan"),s=[];if(i.length>0){if(t){var _iterator36=_createForOfIteratorHelper(i),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _e33=_step36.value;t.intersectsNode(_e33)&&s.push(_e33);}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}}if(s.length>0){var _e34="backward"===t.direction?s[s.length-1]:s[0],_i34=s.filter(function(t){return t!==_e34;});s=[_e34].concat(_toConsumableArray(_i34));}}return s;},wi=window.getTextModel=function(t){var e={rootItem:null,childItems:[]};{var _Si=Si(t),_Si2=_slicedToArray(_Si,2),_i35=_Si2[0],_s26=_Si2[1],_n15={inheritableProperties:_i35,nonInheritableProperties:_s26};e.rootItem=_n15;}{var _i36=0;var _iterator37=_createForOfIteratorHelper(vi(t)),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _s27=_step37.value;var _n16={textContent:_s27.textContent,href:null,inheritableProperties:{},nonInheritableProperties:{},isLineBreak:!1,x:[],y:[],dx:[],dy:[],rotate:[],startOffset:_i36,endOffset:_i36+_s27.length};if(_i36+=_s27.length,_s27.textContent===bi&&(_n16.isLineBreak=!0),!1===_n16.isLineBreak)for(var _e35=_s27.parentNode;_e35!==t;_e35=_e35.parentNode){if("a"===_e35.localName&&_e35.hasAttribute("_href")){_n16.href=_e35.getAttribute("_href");break;}}if(!1===_n16.isLineBreak){var _e36=_s27.closest("tspan, text"),_Si3=Si(_e36),_Si4=_slicedToArray(_Si3,2),_i37=_Si4[0],_o14=_Si4[1];_n16.inheritableProperties=_i37,_e36!==t&&(_n16.nonInheritableProperties=_o14);}{var _e37=[],_i38=[],_o15=[],_l12=[],_a9=[];for(var _n17=_s27.parentNode;t.contains(_n17);_n17=_n17.parentNode){if("tspan"===_n17.localName||"text"===_n17.localName){var _t41=0;var _iterator38=_createForOfIteratorHelper(vi(_n17)),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _e42=_step38.value;if(_e42===_s27)break;_t41+=_e42.length;}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}for(var _i39=_t41,_o16=0;_n17.x.baseVal.length,_o16<_s27.length;_i39+=1,_o16+=1){void 0===_e37[_o16]&&void 0!==_n17.x.baseVal[_i39]&&(_e37[_o16]=_n17.x.baseVal[_i39].valueAsString);}for(var _e38=_t41,_o17=0;_n17.y.baseVal.length,_o17<_s27.length;_e38+=1,_o17+=1){void 0===_i38[_o17]&&void 0!==_n17.y.baseVal[_e38]&&(_i38[_o17]=_n17.y.baseVal[_e38].valueAsString);}for(var _e39=_t41,_i40=0;_n17.dx.baseVal.length,_i40<_s27.length;_e39+=1,_i40+=1){void 0===_o15[_i40]&&void 0!==_n17.dx.baseVal[_e39]&&(_o15[_i40]=_n17.dx.baseVal[_e39].valueAsString);}for(var _e40=_t41,_i41=0;_n17.dy.baseVal.length,_i41<_s27.length;_e40+=1,_i41+=1){void 0===_l12[_i41]&&void 0!==_n17.dy.baseVal[_e40]&&(_l12[_i41]=_n17.dy.baseVal[_e40].valueAsString);}for(var _e41=_t41,_i42=0;_n17.rotate.baseVal.length,_i42<_s27.length;_e41+=1,_i42+=1){void 0===_a9[_i42]&&void 0!==_n17.rotate.baseVal[_e41]&&(_a9[_i42]="".concat(_n17.rotate.baseVal[_e41].value));}}}var _h8="0";for(var _t42=0;_t42<_s27.length;_t42+=1){void 0===_e37[_t42]&&(_e37[_t42]="auto"),void 0===_i38[_t42]&&(_i38[_t42]="auto"),void 0===_o15[_t42]&&(_o15[_t42]="0"),void 0===_l12[_t42]&&(_l12[_t42]="0"),void 0===_a9[_t42]&&(_a9[_t42]=_h8),_h8=_a9[_t42];}_n16.x=_e37,_n16.y=_i38,_n16.dx=_o15,_n16.dy=_l12,_n16.rotate=_a9;}e.childItems.push(_n16);}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}}var _iterator39=_createForOfIteratorHelper(e.childItems),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _t47=_step39.value;var _iterator44=_createForOfIteratorHelper(xi(_t47.inheritableProperties)),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _i46=_step44.value;e.rootItem.inheritableProperties[_i46]===_t47.inheritableProperties[_i46]&&delete _t47.inheritableProperties[_i46];}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}{var _t43=e.childItems.filter(function(t){return!t.isLineBreak;});if(_t43.length>0){var _t44=_toArray(_t43),_i43=_t44[0],_s28=_t44.slice(1);var _iterator40=_createForOfIteratorHelper(xi(_i43.inheritableProperties)),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _t45=_step40.value;var _n18=!0;var _iterator41=_createForOfIteratorHelper(_s28),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _e43=_step41.value;_e43.inheritableProperties[_t45]!==_i43.inheritableProperties[_t45]&&(_n18=!1);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}if(_n18){e.rootItem.inheritableProperties[_t45]=_i43.inheritableProperties[_t45];var _iterator42=_createForOfIteratorHelper(e.childItems),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _i44=_step42.value;delete _i44.inheritableProperties[_t45];}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}}}if(e.childItems.length>1){var _t46=[],_i45=null;var _iterator43=_createForOfIteratorHelper(e.childItems),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _i45$x,_i45$y,_i45$dx,_i45$dy,_i45$rotate;var _s29=_step43.value;_i45&&_i45.href===_s29.href&&li(_i45.nonInheritableProperties,_s29.nonInheritableProperties)&&li(_i45.inheritableProperties,_s29.inheritableProperties)&&(!1===_i45.x.includes("auto")||0===_s29.x.length||oi(_s29.x,"auto"))&&(!1===_i45.y.includes("auto")||0===_s29.y.length||oi(_s29.y,"auto"))&&!1===_i45.isLineBreak&&!1===_s29.isLineBreak?(_i45.textContent+=_s29.textContent,(_i45$x=_i45.x).push.apply(_i45$x,_toConsumableArray(_s29.x)),(_i45$y=_i45.y).push.apply(_i45$y,_toConsumableArray(_s29.y)),(_i45$dx=_i45.dx).push.apply(_i45$dx,_toConsumableArray(_s29.dx)),(_i45$dy=_i45.dy).push.apply(_i45$dy,_toConsumableArray(_s29.dy)),(_i45$rotate=_i45.rotate).push.apply(_i45$rotate,_toConsumableArray(_s29.rotate)),_i45.endOffset=_s29.endOffset):(_t46.push(_s29),_i45=_s29);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}e.childItems=_t46;}return e;},vi=function vi(t){var e=[];if(t.closest("text")){var _i47=[],_s30=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;_s30.nextNode();){_i47.push(_s30.currentNode);}for(var _i49=0,_i48=_i47;_i49<_i48.length;_i49++){var _t48=_i48[_i49];var _i50=_t48.parentElement;if("text"===_i50.localName||"tspan"===_i50.localName||"textPath"===_i50.localName)_i50.getNumberOfChars()>0&&e.push(_t48);else if("a"===_i50.localName){var _s31=_i50.getBBox();0===_s31.x&&0===_s31.y&&0===_s31.width&&0===_s31.height||e.push(_t48);}}}return e;},yi=function yi(t){var e=vi(t),i=[];var _iterator45=_createForOfIteratorHelper(e),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _t49=_step45.value;var _e44=_t49.closest("*"),_s32=getComputedStyle(_e44).textTransform,_n19=_t49.textContent;"uppercase"===_s32?_n19=_n19.toUpperCase():"lowercase"===_s32?_n19=_n19.toLowerCase():"capitalize"===_s32&&(_n19=hi(_n19)),i.push.apply(i,_toConsumableArray(_n19.split("")));}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}return i;},ki=function ki(t){var e=vi(t),i=0,s=0;for(var _s33=e[0].parentElement;t.contains(_s33);_s33=_s33.parentElement){if(("tspan"===_s33.localName||"text"===_s33.localName)&&_s33.x.baseVal.length>0){i=_s33.x.baseVal[0].value;break;}}for(var _i51=e[0].parentElement;t.contains(_i51);_i51=_i51.parentElement){if(("tspan"===_i51.localName||"text"===_i51.localName)&&_i51.y.baseVal.length>0){s=_i51.y.baseVal[0].value;break;}}return new DOMPoint(i,s);},Si=function Si(t){var e=getComputedStyle(t),i={},s={};var _iterator46=_createForOfIteratorHelper(V),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _t50=_step46.value;if(_t50.appliesTo.includes("text")||_t50.appliesTo.includes("tspan")||_t50.appliesTo.includes("textPath")){if("font"===_t50.name||"display"===_t50.name)continue;!0===_t50.inheritable?i[_t50.name]=e.getPropertyValue(_t50.name):!1===_t50.inheritable&&(s[_t50.name]=e.getPropertyValue(_t50.name));}}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}return[i,s];},_i=function _i(t){return"tspan"===t.localName&&t.textContent===bi;},Ci=function Ci(t){if("text"===t.localName){var _iterator47=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _e45=_step47.value;if(_i(_e45))return!0;}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}}return!1;},Mi=function Mi(t){var e=0;var _iterator48=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _i52=_step48.value;if(_i(_i52)&&_i52.dy.baseVal.length>0&&_i52.dy.baseVal[0].unitType===SVGLength.SVG_LENGTHTYPE_EMS){var _t51=_i52.dy.baseVal[0].valueInSpecifiedUnits;e=tt(_t51-1,2);break;}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}return e;},Pi=function Pi(t,e){var i=t.closest("text"),s=0,n=-1;var _iterator49=_createForOfIteratorHelper(vi(i)),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _o18=_step49.value;if(_o18===t){n=s+e;break;}s+=_o18.length;}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}return[i,n];},Di=function Di(t,e){var i=null,s=null,n=0,o=0;var _iterator50=_createForOfIteratorHelper(vi(t)),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _l13=_step50.value;for(var _t52=0;_t52<=_l13.textContent.length;_t52+=1,o+=1){o===e&&(0===_t52&&i?(s=i,n=i.textContent.length):(s=_l13,n=_t52));}o-=1,i=_l13;}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return[s,n];},zi=function zi(t){var e={x:[],y:[],dx:[],dy:[],rotate:[]};var _iterator51=_createForOfIteratorHelper(vi(t)),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _e$x,_e$y,_e$dx,_e$dy,_e$rotate;var _i53=_step51.value;var _s34=[],_n20=[],_o19=[],_l14=[],_a10=[];for(var _e46=_i53.parentNode;t.contains(_e46);_e46=_e46.parentNode){if("tspan"===_e46.localName||"text"===_e46.localName){var _t53=0;var _iterator52=_createForOfIteratorHelper(vi(_e46)),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _s39=_step52.value;if(_s39===_i53)break;_t53+=_s39.length;}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}for(var _n21=_t53,_o20=0;_e46.x.baseVal.length,_o20<_i53.length;_n21+=1,_o20+=1){void 0===_s34[_o20]&&void 0!==_e46.x.baseVal[_n21]&&(_s34[_o20]=_e46.x.baseVal[_n21].value);}for(var _s35=_t53,_o21=0;_e46.y.baseVal.length,_o21<_i53.length;_s35+=1,_o21+=1){void 0===_n20[_o21]&&void 0!==_e46.y.baseVal[_s35]&&(_n20[_o21]=_e46.y.baseVal[_s35].value);}for(var _s36=_t53,_n22=0;_e46.dx.baseVal.length,_n22<_i53.length;_s36+=1,_n22+=1){void 0===_o19[_n22]&&void 0!==_e46.dx.baseVal[_s36]&&(_o19[_n22]=_e46.dx.baseVal[_s36].value);}for(var _s37=_t53,_n23=0;_e46.dy.baseVal.length,_n23<_i53.length;_s37+=1,_n23+=1){void 0===_l14[_n23]&&void 0!==_e46.dy.baseVal[_s37]&&(_l14[_n23]=_e46.dy.baseVal[_s37].value);}for(var _s38=_t53,_n24=0;_e46.rotate.baseVal.length,_n24<_i53.length;_s38+=1,_n24+=1){void 0===_a10[_n24]&&void 0!==_e46.rotate.baseVal[_s38]&&(_a10[_n24]=_e46.rotate.baseVal[_s38].value);}}}{var _t54=0;for(var _e47=0;_e47<_i53.length;_e47+=1){void 0===_s34[_e47]&&(_s34[_e47]="auto"),void 0===_n20[_e47]&&(_n20[_e47]="auto"),void 0===_o19[_e47]&&(_o19[_e47]=0),void 0===_l14[_e47]&&(_l14[_e47]=0),void 0===_a10[_e47]&&(_a10[_e47]=_t54),_t54=_a10[_e47];}}(_e$x=e.x).push.apply(_e$x,_s34),(_e$y=e.y).push.apply(_e$y,_n20),(_e$dx=e.dx).push.apply(_e$dx,_o19),(_e$dy=e.dy).push.apply(_e$dy,_l14),(_e$rotate=e.rotate).push.apply(_e$rotate,_a10);}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}return e;},Oi=function Oi(t,e,i,s,n,o){var l=yi(t).filter(function(t){return t!==bi;}),a=e.layout(l.join("")),h=o?-14:0,r=1/e.head.unitsPerEm*i,d={moveTo:"M",lineTo:"L",quadraticCurveTo:"Q",bezierCurveTo:"C",closePath:"Z"},c=e.hhea.ascent,p=e.hhea.descent,u=c/20,x=[],b=[],m=[];for(var _e48=0,_i54=0;_e48<a.glyphs.length;_e48+=1){var _s40=a.glyphs[_e48],_n25=t.getStartPositionOfChar(_i54),_o22=t.getRotationOfChar(_i54);b.push(_n25),m.push(_o22),_i54+=_s40.codePoints.length;}for(var _t55=0;_t55<a.glyphs.length;_t55+=1){var _e49=a.glyphs[_t55],_i55=_e49.advanceWidth,_n26=b[_t55],_o23=m[_t55],_l15=_e49.path.commands.map(function(_ref){var t=_ref.command,e=_ref.args;return{type:d[t],values:_toConsumableArray(e)};});if(s.includes("underline")){var _t56=_i55,_e50=u,_s41=p/3;_l15.push({type:"M",values:[0,_s41]},{type:"L",values:[_t56,_s41]},{type:"L",values:[_t56,_s41-_e50]},{type:"L",values:[0,_s41-_e50]},{type:"Z",values:[]});}if(s.includes("overline")){var _t57=_i55,_e51=u,_s42=c-u;_l15.push({type:"M",values:[0,_s42]},{type:"L",values:[_t57,_s42]},{type:"L",values:[_t57,_s42-_e51]},{type:"L",values:[0,_s42-_e51]},{type:"Z",values:[]});}if(s.includes("line-through")){var _t58=_i55,_e52=u,_s43=(c+p)/2;_l15.push({type:"M",values:[0,_s43]},{type:"L",values:[_t58,_s43]},{type:"L",values:[_t58,_s43-_e52]},{type:"L",values:[0,_s43-_e52]},{type:"Z",values:[]});}var _iterator53=_createForOfIteratorHelper(_l15),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _t59=_step53.value;var _e53=new DOMMatrix();if(_e53.translateSelf(_n26.x,_n26.y),_e53.rotateSelf(_o23),_e53=ae(_e53,h,0,0,0),_e53.scaleSelf(r,-r,1,0,0),"M"===_t59.type){var _t59$values=_slicedToArray(_t59.values,2),_i56=_t59$values[0],_s44=_t59$values[1],_n27=new DOMPoint(_i56,_s44).matrixTransform(_e53);_t59.values=[_n27.x,_n27.y];}else if("L"===_t59.type){var _t59$values2=_slicedToArray(_t59.values,2),_i57=_t59$values2[0],_s45=_t59$values2[1],_n28=new DOMPoint(_i57,_s45).matrixTransform(_e53);_t59.values=[_n28.x,_n28.y];}else if("Q"===_t59.type){var _t59$values3=_slicedToArray(_t59.values,4),_i58=_t59$values3[0],_s46=_t59$values3[1],_n29=_t59$values3[2],_o24=_t59$values3[3],_l16=new DOMPoint(_i58,_s46).matrixTransform(_e53),_a11=new DOMPoint(_n29,_o24).matrixTransform(_e53);_t59.values=[_l16.x,_l16.y,_a11.x,_a11.y];}else if("C"===_t59.type){var _t59$values4=_slicedToArray(_t59.values,6),_i59=_t59$values4[0],_s47=_t59$values4[1],_n30=_t59$values4[2],_o25=_t59$values4[3],_l17=_t59$values4[4],_a12=_t59$values4[5],_h9=new DOMPoint(_i59,_s47).matrixTransform(_e53),_r8=new DOMPoint(_n30,_o25).matrixTransform(_e53),_d4=new DOMPoint(_l17,_a12).matrixTransform(_e53);_t59.values=[_h9.x,_h9.y,_r8.x,_r8.y,_d4.x,_d4.y];}x.push(_t59);}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}}return x;},Ei=function Ei(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=new DOMRect(0,0,0,0),s=e?H(t):null;if(s){i=function(t,e){var i=Math.max(t.left,e.left),s=Math.min(t.right,e.right),n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom);return new DOMRect(i,n,s-i,o-n);}(Ei(t,!1),He(DOMRect.fromRect(s.getBBox()),Wt(s)));}else if("tspan"===t.localName){var _e54=vi(t),_s48=document.createRange();if(_e54.length>0&&(_s48.setStart(_e54[0],0),_s48.setEnd(_e54[_e54.length-1],_e54[_e54.length-1].length)),!1===_s48.collapsed){var _t60=_s48.startContainer.closest("text"),_Pi=Pi(_s48.startContainer,_s48.startOffset),_Pi2=_slicedToArray(_Pi,2),_e55=_Pi2[1],_Pi3=Pi(_s48.endContainer,_s48.endOffset),_Pi4=_slicedToArray(_Pi3,2),_n31=_Pi4[1],_o26=[];for(var _i60=_e55;_i60<_n31;_i60+=1){var _e56=_t60.getExtentOfChar(_i60);_o26.push(_e56);}i=We(_o26);}}else i="use"===t.localName?new DOMRect(0,0,t.width.baseVal.value,t.height.baseVal.value):DOMRect.fromRect(t.getBBox());return i;},Ti=function Ti(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=qt(t),s=Ei(t,e);return He(s,i);},Ai=Number.parseInt,$i=function $i(t){var e=document.createDocumentFragment(),i=document.createElementNS(l.svg,"svg");for(i.innerHTML=t;i.firstChild;){e.append(i.firstChild);}return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null;},Ii=function Ii(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i61=_slicedToArray(i,1),_t61=_i61[0];s=document.createElement(_t61,e);}else if(2===i.length){var _i62=_slicedToArray(i,2),_t62=_i62[0],_n32=_i62[1];"svg"===_t62&&(s=document.createElementNS(l.svg,_n32,e));}return s;},Li=function Li(t){var e="svg"===t.localName?t:null;for(var _i63=t.ownerSVGElement;_i63;_i63=_i63.ownerSVGElement){e=_i63;}return e;},Ri=function Ri(t){for(var _e57 in t.parentElement.children){if(t.parentElement.children[_e57]===t)return Ai(_e57);}},Bi=function Bi(t,e){if(t.localName!==e.localName)return!1;if(t.namespaceURI!==e.namespaceURI)return!1;if(t.textContent!==e.textContent)return!1;if(t.children.length!==e.children.length)return!1;if(t.attributes.length!==e.attributes.length)return!1;var _iterator54=_createForOfIteratorHelper(t.attributes),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _i65=_step54.value;if("style"===_i65.name){if(t.style.cssText!==e.style.cssText)return!1;}else if(t.getAttribute(_i65.name)!==e.getAttribute(_i65.name))return!1;}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}for(var _i64=0;_i64<t.children.length;_i64+=1){if(!1===Bi(t.children[_i64],e.children[_i64]))return!1;}return!0;},Gi=function Gi(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Gi(t.getRootNode().host,e):s;},Ui=function Ui(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s=function s(t,e){return{x:t,y:e,translate:function translate(i,n){return s(t+i,e+n);}};},n=function n(t,e){return{start:t,length:e,end:t+e};},o=function o(t,i){return!1===e||i.start<t.end&&t.start<i.end?Math.max(t.end-i.length,Math.min(i.start,t.start)):(t.start+t.end-i.length)/2;},l=function l(t,e){for(;t;){e=e.translate(t.offsetLeft,t.offsetTop),t=t.offsetParent;}return e;},a=l(t,s(0,0)),h=s(t.offsetWidth,t.offsetHeight),r=t.parentNode;for(;r instanceof HTMLElement;){i=l(r,s(r.clientLeft,r.clientTop)),r.scrollLeft=o(n(a.x-i.x,h.x),n(r.scrollLeft,r.clientWidth)),r.scrollTop=o(n(a.y-i.y,h.y),n(r.scrollTop,r.clientHeight)),a=a.translate(-r.scrollLeft,-r.scrollTop),r=r.parentNode;}},Fi=function Fi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[];var _iterator55=_createForOfIteratorHelper(t),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _s49=_step55.value;if("g"===_s49.localName||"a"===_s49.localName){var _t63=_toConsumableArray(_s49.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Fi(_t63,e)));}else if(w.includes(_s49.localName)&&(i.push(_s49),"text"===_s49.localName&&e)){var _t64=_toConsumableArray(_s49.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Fi(_t64,e)));}}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}return i;},Ni=function Ni(t,e){for(;t=t.parentNode;){if(t.contains&&t.contains(e))return t;}return null;},Vi=function Vi(t){var e=[];var _iterator56=_createForOfIteratorHelper(t),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _i66=_step56.value;e.push(_i66);}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}return e.sort(function(t,e){return 3-(6&t.compareDocumentPosition(e));}),e;},ji=function ji(t){var e=[];t=Vi(t);var _iterator57=_createForOfIteratorHelper(t),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _i67=_step57.value;if(_i67===t[0])e.push([_i67]);else{var _t65=!1;var _iterator58=_createForOfIteratorHelper(e),_step58;try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var _s50=_step58.value;_i67.parentElement===_s50[0].parentElement&&(_s50.push(_i67),_t65=!0);}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}!1===_t65&&e.push([_i67]);}}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}return e;},Hi=function Hi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"designer";var i=null;if("developer"===e)"rect"===t.localName?i="<rect>":"circle"===t.localName?i="<circle>":"ellipse"===t.localName?i="<ellipse>":"line"===t.localName?i="<line>":"polyline"===t.localName?i="<polyline>":"polygon"===t.localName?i="<polygon>":"text"===t.localName?i="<text>":"image"===t.localName?i="<image>":"use"===t.localName?i="<use>":"svg"===t.localName?i="<svg>":"a"===t.localName?i="<a>":"g"===t.localName?i="master"===t.getAttribute("data-bx-workspace")?"<svg>":"symbol"===t.getAttribute("data-bx-workspace")?"<symbol>":"pattern"===t.getAttribute("data-bx-workspace")?"<pattern>":"marker"===t.getAttribute("data-bx-workspace")?"<marker>":"<g>":"path"===t.localName?i="<path>":"clipPath"===t.localName?i="<clipPath>":"mask"===t.localName?i="<mask>":"view"===t.localName?i="<view>":"bx-guide"===t.localName&&(i="<bx:guide>");else if("designer"===e)if("rect"===t.localName)i="Rectangle";else if("circle"===t.localName)i="Circle";else if("ellipse"===t.localName)i="Ellipse";else if("line"===t.localName)i="Line";else if("polyline"===t.localName)i="Polyline";else if("polygon"===t.localName)i="Polygon";else if("text"===t.localName)i="Text";else if("image"===t.localName)i="Image";else if("use"===t.localName)i="Symbol instance";else if("svg"===t.localName)i="SVG";else if("a"===t.localName)i="Link";else if("g"===t.localName)i="master"===t.getAttribute("data-bx-workspace")?"SVG":"symbol"===t.getAttribute("data-bx-workspace")?"Symbol":"pattern"===t.getAttribute("data-bx-workspace")?"Pattern":"marker"===t.getAttribute("data-bx-workspace")?"Marker":"Group";else if("path"===t.localName){var _e58=t.getAttribute("data-bx-shape");if(_e58){var _t66=_e58.substring(0,_e58.indexOf(" "));i="rect"===_t66?"Rectangle":hi(_t66);}else i="Path";}else"clipPath"===t.localName?i="Clip":"mask"===t.localName?i="Mask":"view"===t.localName?i="View":"bx-guide"===t.localName&&(i="Guide");return i;},Wi=function Wi(t){var e=null;if("rect"===t.localName)e="object-rect";else if("circle"===t.localName)e="object-circle";else if("ellipse"===t.localName)e="object-ellipse";else if("line"===t.localName)e="object-line";else if("polyline"===t.localName)e="object-polyline";else if("polygon"===t.localName)e="object-polygon";else if("text"===t.localName)e="object-text";else if("image"===t.localName)e="object-image";else if("a"===t.localName)e="object-link";else if("use"===t.localName)e="object-symbol";else if("svg"===t.localName)e="object-svg";else if("g"===t.localName)e="master"===t.getAttribute("data-bx-workspace")?"object-svg":"symbol"===t.getAttribute("data-bx-workspace")?"object-symbol":"pattern"===t.getAttribute("data-bx-workspace")?"object-pattern":"marker"===t.getAttribute("data-bx-workspace")?"object-marker":"object-group";else if("path"===t.localName){var _i68=t.getAttribute("data-bx-shape");e=_i68?"object-"+_i68.substring(0,_i68.indexOf(" ")):"object-path";}else"clipPath"===t.localName?e="object-clip":"mask"===t.localName?e="object-mask":"view"===t.localName?e="object-view":"bx-guide"===t.localName&&(e="object-guide");return e;},Yi=function Yi(t,e){if(!t.transform||!e.transform)return!1;var i=Ti(t),s=Ti(e);return Xe(i,s);},qi=function qi(t){var e=[],i=[];var _iterator59=_createForOfIteratorHelper(t),_step59;try{var _loop=function _loop(){var s=_step59.value;var n=[],o=function o(e){var _iterator61=_createForOfIteratorHelper(t),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _s51=_step61.value;var _t67=!n.includes(_s51)&&!i.includes(_s51);_s51!==e&&_t67&&Yi(_s51,e)&&(n.push(_s51),i.push(_s51),o(_s51));}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}};o(s),n.length>0&&e.push(Vi(n));};for(_iterator59.s();!(_step59=_iterator59.n()).done;){_loop();}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}var _iterator60=_createForOfIteratorHelper(t),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _s52=_step60.value;i.includes(_s52)||e.push([_s52]);}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}return e;},Xi=function Xi(t){if(0===t.length)return!1;for(var _e59=0;_e59<t.length;_e59+=1){var _i69=t.charCodeAt(_e59);if(!1===(_i69>=65&&_i69<=90||_i69>=97&&_i69<=122)){if(0===_e59)return!1;if(!1===(_i69>=48&&_i69<=57||45===_i69||46===_i69||95===_i69))return!1;}}return!0;},Zi=function Zi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"element-";var i=document;for(var _e60=t.parentNode;_e60;_e60=_e60.parentNode){if(_e60.nodeType===Node.DOCUMENT_FRAGMENT_NODE||_e60.nodeType===Node.DOCUMENT_NODE){i=_e60;break;}}for(var _t68=0;_t68<Infinity;_t68+=1){var _s53=e+_t68;if(!i.querySelector("#".concat(_s53)))return _s53;}},Ki=document.createElement("template"),Qi=function Qi(t){var i=[];for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}for(var _s54=0;_s54<t.length;_s54+=1){i.push(t[_s54]),void 0!==e[_s54]&&i.push(e[_s54]);}var s=i.join("");Ki.innerHTML=s;var n=document.importNode(Ki.content,!0);return 1===n.children.length?n.firstElementChild:n;},Ji=function Ji(t){var i=[];for(var _len3=arguments.length,e=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){e[_key3-1]=arguments[_key3];}for(var _s55=0;_s55<t.length;_s55+=1){i.push(t[_s55]),void 0!==e[_s55]&&i.push(e[_s55]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},ts=function ts(t){var i=[];for(var _len4=arguments.length,e=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}for(var _s56=0;_s56<t.length;_s56+=1){i.push(t[_s56]),void 0!==e[_s56]&&i.push(e[_s56]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Ki.innerHTML=s;var n=document.importNode(Ki.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i70=0,_arr5=_toConsumableArray(o.childNodes);_i70<_arr5.length;_i70++){var _t69=_arr5[_i70];n.appendChild(_t69);}return o.remove(),n;},es=function es(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,a=function a(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len5=arguments.length,h=new Array(_len5),_key5=0;_key5<_len5;_key5++){h[_key5]=arguments[_key5];}return s=h,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(a,d)),o;};},is=function is(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len6=arguments.length,l=new Array(_len6),_key6=0;_key6<_len6;_key6++){l[_key6]=arguments[_key6];}var a=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),a&&(o=t.apply(i,l)),o;};},ss=function ss(t,e){var i,s=!1;return function(){return s||(s=!0,i=t.apply(e||this,arguments),t=null),i;};},ns=function ns(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},os=new Promise(function(t){requestIdleCallback(t);});var ls=/*#__PURE__*/function(){function ls(t){_classCallCheck(this,ls);this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1};}_createClass(ls,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s57=0;_s57<t;_s57+=1){var _t70=this.text[i+_s57];if(void 0===_t70)break;e+=_t70,this.cursor+=1,"\n"===_t70?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i71=0;_i71<t;_i71+=1){var _t71=this.text[this.cursor+_i71];if(void 0===_t71)break;e+=_t71;}return""===e?null:e;}},{key:"eatSpaces",value:function eatSpaces(){var t="";for(;" "===this.peek();){t+=this.read();}return t;}},{key:"eatWhitespace",value:function eatWhitespace(){var t="";for(;" "===this.peek()||"\n"===this.peek();){t+=this.read();}return t;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.t={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$t=this.t,t=_this$t.cursor,e=_this$t.line,i=_this$t.column;this.cursor=t,this.line=e,this.column=i;}}]);return ls;}();var as=Math.max,hs=Math.pow,rs=Math.sqrt,ds=Math.PI,cs=function cs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=hs(10,e);return Math.round(t*i)/i;},ps=function ps(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMRect(cs(t.x,e),cs(t.y,e),cs(t.width,e),cs(t.height,e));},us=function us(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=cs(t,s)),t<e?t=e:t>i&&(t=i),t;},xs=function xs(t){if(isFinite(t)){var _e61=1,_i72=0;for(;Math.round(t*_e61)/_e61!==t;){_e61*=10,_i72+=1;}return _i72;}return 0;},bs=function bs(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,rs(i+s);},ms=function ms(t){return ds*t/180;},gs=Math.min,fs=Math.max,ws=Math.floor,vs=Math.pow,ys=Math.atan2,ks=Math.PI,Ss=Math.sqrt,_s=function _s(t,e,i){var s,n,o,l=fs(t/=255,e/=255,i/=255),a=gs(t,e,i);if(s=n=o=(l+a)/2,l===a)s=n=0;else{var _h10=l-a;if(n=o>.5?_h10/(2-l-a):_h10/(l+a),l===t){var _t72;_t72=e<i?6:0,s=(e-i)/_h10+_t72;}else l===e?s=(i-t)/_h10+2:l===i&&(s=(t-e)/_h10+4);}return s=us(s/6*360,0,360,0),n=us(100*n,0,100,1),o=us(100*o,0,100,1),[s,n,o];},Cs=function Cs(t,e,i){var s,n,o;if(t/=360,i/=100,0==(e/=100))s=n=o=i;else{var _l18,_a13,_h11=function _h11(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l18=i<.5?i*(1+e):i+e-i*e,_a13=2*i-_l18,s=_h11(_a13,_l18,t+1/3),n=_h11(_a13,_l18,t),o=_h11(_a13,_l18,t-1/3);}return s=us(255*s,0,255,0),n=us(255*n,0,255,0),o=us(255*o,0,255,0),[s,n,o];},Ms=function Ms(t,e,i){e/=100,i/=100;var s=ws(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),a=i*(1-(1-n)*e),h=0,r=0,d=0;return s%6==0?(h=i,r=a,d=o):s%6==1?(h=l,r=i,d=o):s%6==2?(h=o,r=i,d=a):s%6==3?(h=o,r=l,d=i):s%6==4?(h=a,r=o,d=i):s%6==5&&(h=i,r=o,d=l),h*=255,r*=255,d*=255,[h,r,d];},_Ps=function Ps(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t73,_t74,_Cs,_Cs2,_Ms,_Ms2;var _n33,_o27,_l19,_a14;if("rgba"===e?(_t73=t,_t74=_slicedToArray(_t73,4),_n33=_t74[0],_o27=_t74[1],_l19=_t74[2],_a14=_t74[3],_t73):"hsla"===e?((_Cs=Cs.apply(void 0,_toConsumableArray(t)),_Cs2=_slicedToArray(_Cs,3),_n33=_Cs2[0],_o27=_Cs2[1],_l19=_Cs2[2],_Cs),_a14=t[3]):"hsva"===e&&((_Ms=Ms.apply(void 0,_toConsumableArray(t)),_Ms2=_slicedToArray(_Ms,3),_n33=_Ms2[0],_o27=_Ms2[1],_l19=_Ms2[2],_Ms),_a14=t[3]),"rgb%"===i||"rgba%"===i?(_n33=us(_n33/255*100,0,100,1),_o27=us(_o27/255*100,0,100,1),_l19=us(_l19/255*100,0,100,1),_a14=us(_a14,0,1,2)):(_n33=us(_n33,0,255,0),_o27=us(_o27,0,255,0),_l19=us(_l19,0,255,0),_a14=us(_a14,0,1,2)),"rgb"===i)s="rgb(".concat(_n33,", ").concat(_o27,", ").concat(_l19,")");else if("rgba"===i)s="rgba(".concat(_n33,", ").concat(_o27,", ").concat(_l19,", ").concat(_a14,")");else if("rgb%"===i)s="rgb(".concat(_n33,"%, ").concat(_o27,"%, ").concat(_l19,"%)");else if("rgba%"===i)s="rgb(".concat(_n33,"%, ").concat(_o27,"%, ").concat(_l19,"%, ").concat(_a14,")");else if("hex"===i){var _t75=_n33.toString(16),_e62=_o27.toString(16),_i73=_l19.toString(16);1===_t75.length&&(_t75="0"+_t75),1===_e62.length&&(_e62="0"+_e62),1===_i73.length&&(_i73="0"+_i73),s="#"+_t75+_e62+_i73;}}else if("hsl"===i||"hsla"===i){var _t76,_t77,_ref2,_ref3,_s58,_s59;var _n34,_o28,_l20,_a15;"hsla"===e?(_t76=t,_t77=_slicedToArray(_t76,4),_n34=_t77[0],_o28=_t77[1],_l20=_t77[2],_a15=_t77[3],_t76):"hsva"===e?((_ref2=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*fs(0,gs(1,o)),n=100*fs(0,gs(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref3=_slicedToArray(_ref2,3),_n34=_ref3[0],_o28=_ref3[1],_l20=_ref3[2],_ref2),_a15=t[3]):"rgba"===e&&((_s58=_s.apply(void 0,_toConsumableArray(t)),_s59=_slicedToArray(_s58,3),_n34=_s59[0],_o28=_s59[1],_l20=_s59[2],_s58),_a15=t[3]),_n34=us(_n34,0,360,0),_o28=us(_o28,0,100,1),_l20=us(_l20,0,100,1),_a15=us(_a15,0,1,2),"hsl"===i?s="hsl(".concat(_n34,", ").concat(_o28,"%, ").concat(_l20,"%)"):"hsla"===i&&(s="hsla(".concat(_n34,", ").concat(_o28,"%, ").concat(_l20,"%, ").concat(_a15,")"));}return s;},Ds=function Ds(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=new As().parse(t,i);return _Ps(s,i,e);},zs=function zs(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator62=_createForOfIteratorHelper(t),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _i74=_step62.value;if(!e.includes(_i74))return!1;}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}return!0;},Os=function Os(){return new Promise(function(t){if(Os.url)t(Os.url);else if(Os.callbacks)Os.callbacks.push(t);else{Os.callbacks=[t];var _e63=300,_i75=document.createElement("canvas"),_s60=_i75.getContext("2d"),_n35=_s60.createImageData(_e63,_e63),_o29=_n35.data,_l21=_e63/2,_a16=0;_i75.width=_e63,_i75.height=_e63;for(var _t78=0;_t78<_e63;_t78++){for(var _i76=0;_i76<_e63;_i76++){var _e64=_i76-_l21,_s61=_t78-_l21,_n36=vs(_e64,2)+vs(_s61,2),_h12=(ys(_s61,_e64)+ks)/(2*ks)*360,_r9=Ss(_n36)/_l21*100,_Ms3=Ms(_h12,_r9,100),_Ms4=_slicedToArray(_Ms3,3),_d5=_Ms4[0],_c2=_Ms4[1],_p2=_Ms4[2],_u2=_n36>vs(_l21,2)?0:255;_o29[_a16++]=_d5,_o29[_a16++]=_c2,_o29[_a16++]=_p2,_o29[_a16++]=_u2;}}_s60.putImageData(_n35,0,0),_i75.toBlob(function(t){Os.url=URL.createObjectURL(t);var _iterator63=_createForOfIteratorHelper(Os.callbacks),_step63;try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var _t79=_step63.value;_t79(Os.url);}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}});}});},Es=Number.parseFloat,Ts=Number.parseInt;var As=/*#__PURE__*/function(){function As(){_classCallCheck(this,As);}_createClass(As,[{key:"parse",value:function parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=this.h(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[Es(i[1].text),Es(i[3].text),Es(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[Es(i[1].text)/100*255,Es(i[3].text)/100*255,Es(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Es(i[1].text),Es(i[3].text),Es(i[5].text),Es(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Es(i[1].text)/100*255,Es(i[3].text)/100*255,Es(i[5].text)/100*255,Es(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[Es(i[1].text),Es(i[3].text),Es(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[Es(i[1].text),Es(i[3].text),Es(i[5].text),Es(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t80,_e65,_n37,_o30=i[0].text.substring(1);3===_o30.length?(_t80=_o30[0]+_o30[0],_e65=_o30[1]+_o30[1],_n37=_o30[2]+_o30[2]):(_t80=_o30[0]+_o30[1],_e65=_o30[2]+_o30[3],_n37=_o30[4]+_o30[5]),s=[Ts(_t80,16),Ts(_e65,16),Ts(_n37,16),1];}else As.i[t]&&(s=[As.i[t][0],As.i[t][1],As.i[t][2],1]);if(s){var _s62=s,_s63=_slicedToArray(_s62,4),_t81=_s63[0],_i77=_s63[1],_n38=_s63[2],_o31=_s63[3];if(_t81=us(_t81,0,255,0),_i77=us(_i77,0,255,0),_n38=us(_n38,0,255,0),_o31=us(_o31,0,1,2),"hsla"===e){var _s65=_s(_t81,_i77,_n38),_s66=_slicedToArray(_s65,3),_e66=_s66[0],_s64=_s66[1],_l22=_s66[2];return[_e66,_s64,_l22,_o31];}if("hsva"===e){var _ref4=function(t,e,i){var s=fs(t/=255,e/=255,i/=255),n=gs(t,e,i),o=0,l=0,a=s,h=s-n;return l=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,l*=100,a*=100,[o,l,a];}(_t81,_i77,_n38),_ref5=_slicedToArray(_ref4,3),_e67=_ref5[0],_s67=_ref5[1],_l23=_ref5[2];return[_e67,_s67,_l23,_o31];}return[_t81,_i77,_n38,_o31];}if(n){var _n39=n,_n40=_slicedToArray(_n39,4),_t82=_n40[0],_i78=_n40[1],_s68=_n40[2],_o32=_n40[3];if(_t82=us(_t82,0,360,0),_i78=us(_i78,0,100,1),_s68=us(_s68,0,100,1),_o32=us(_o32,0,1,2),"hsla"===e)return[_t82,_i78,_s68,_o32];if("hsva"===e){var _ref6=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*fs(0,gs(1,s)),n=100*fs(0,gs(1,n)),[o,s,n];}(_t82,_i78,_s68),_ref7=_slicedToArray(_ref6,3),_e68=_ref7[0],_n41=_ref7[1],_l24=_ref7[2];return[_e68,_n41,_l24,_o32];}{var _Cs3=Cs(_t82,_i78,_s68),_Cs4=_slicedToArray(_Cs3,3),_e69=_Cs4[0],_n42=_Cs4[1],_l25=_Cs4[2];return[_e69,_n42,_l25,_o32];}}throw new Error("Invalid color string: \"".concat(t,"\""));}},{key:"h",value:function h(t){var e=[],i=new ls(t.toLowerCase());var _loop2=function _loop2(){var t=i.read();(function(){if("r"===t||"h"===t){var _s69=t;if(t+i.peek(3)==="rgb("?_s69+=i.read(3):t+i.peek(4)==="rgba("?_s69+=i.read(4):t+i.peek(3)==="hsl("?_s69+=i.read(3):t+i.peek(4)==="hsla("&&(_s69+=i.read(4)),_s69!==t)return void e.push({type:"FUNCTION",text:_s69});}if("#"===t){if(zs(t+i.peek(6))){var _s70=t+i.read(6);return void e.push({type:"HEX",text:_s70});}if(zs(t+i.peek(3))){var _s71=t+i.read(3);return void e.push({type:"HEX",text:_s71});}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s72=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s72+=i.read();}"%"===i.peek()?(_s72+=i.read(),e.push({type:"PERCENTAGE",text:_s72})):e.push({type:"NUM",text:_s72});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop2();}return e;}}]);return As;}();_defineProperty(As,"i",{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var $s=document.createElement("template"),Is=function Is(t){var i=[];for(var _len7=arguments.length,e=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){e[_key7-1]=arguments[_key7];}for(var _s73=0;_s73<t.length;_s73+=1){i.push(t[_s73]),void 0!==e[_s73]&&i.push(e[_s73]);}var s=i.join("");$s.innerHTML=s;var n=document.importNode($s.content,!0);return 1===n.children.length?n.firstElementChild:n;},Ls=function Ls(t){var i=[];for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){e[_key8-1]=arguments[_key8];}for(var _s74=0;_s74<t.length;_s74+=1){i.push(t[_s74]),void 0!==e[_s74]&&i.push(e[_s74]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Rs=function Rs(t){var i=[];for(var _len9=arguments.length,e=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){e[_key9-1]=arguments[_key9];}for(var _s75=0;_s75<t.length;_s75+=1){i.push(t[_s75]),void 0!==e[_s75]&&i.push(e[_s75]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");$s.innerHTML=s;var n=document.importNode($s.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i79=0,_arr6=_toConsumableArray(o.childNodes);_i79<_arr6.length;_i79++){var _t83=_arr6[_i79];n.appendChild(_t83);}return o.remove(),n;},Bs={},Gs=function Gs(t){return new Promise(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(e){var _i80,_iterator64,_step64,_e70;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Bs[t]){_context.next=4;break;}Bs[t].iconset?e(Bs[t].iconset):Bs[t].callbacks.push(e);_context.next=18;break;case 4:Bs[t]={callbacks:[e],iconset:null};_i80=null;_context.prev=6;_context.next=9;return fetch(t);case 9:_context.next=11;return _context.sent.text();case 11:_i80=_context.sent;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_i80=null;case 17:if(_i80){Bs[t].iconset=Rs(_templateObject(),_i80);_iterator64=_createForOfIteratorHelper(Bs[t].callbacks);try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){_e70=_step64.value;_e70(Bs[t].iconset);}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}}else console.error("Xel failed to fetch the iconset: ".concat(t));case 18:case"end":return _context.stop();}}},_callee,null,[[6,14]]);}));return function(_x2){return _ref8.apply(this,arguments);};}());};var Us=new(_temp2=/*#__PURE__*/function(_ref9){_inherits(_temp2,_ref9);var _super=_createSuper(_temp2);_createClass(_temp2,[{key:"theme",get:function get(){return this.l;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t);}},{key:"accentColor",get:function get(){return this.u;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t);}},{key:"size",get:function get(){return this.p;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t);}},{key:"iconset",get:function get(){return this.m;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t);}},{key:"whenThemeReady",get:function get(){var _this2=this;return new Promise(function(t){null===_this2.g?t():_this2.g.push(t);});}},{key:"whenIconsetReady",get:function get(){var _this3=this;return new Promise(function(t){null===_this3.v?t():_this3.v.push(t);});}},{key:"themeStyleSheet",get:function get(){return this.k;}},{key:"iconsetElement",get:function get(){return this.Ns;}},{key:"presetAccentColors",get:function get(){var t={};var _iterator65=_createForOfIteratorHelper(this.k.cssRules),_step65;try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var _e71=_step65.value;if(1===_e71.type&&"body"===_e71.selectorText&&_e71.styleMap.has("--preset-accent-colors")){var _i81=_e71.styleMap.get("--preset-accent-colors");if(_i81&&_i81[0]){var _e72=_i81[0].split(",").map(function(t){return t.trim();}).map(function(t){return t.split(" ");});t=Object.fromEntries(_e72);}break;}}}catch(err){_iterator65.e(err);}finally{_iterator65.f();}return t;}}]);function _temp2(){var _temp,_this;_classCallCheck(this,_temp2);(_temp=_this=_super.call(this),_defineProperty(_assertThisInitialized(_this),"l",null),_defineProperty(_assertThisInitialized(_this),"u",null),_defineProperty(_assertThisInitialized(_this),"p",null),_defineProperty(_assertThisInitialized(_this),"m",null),_defineProperty(_assertThisInitialized(_this),"k",new CSSStyleSheet()),_defineProperty(_assertThisInitialized(_this),"Ns",null),_defineProperty(_assertThisInitialized(_this),"g",[]),_defineProperty(_assertThisInitialized(_this),"v",[]),_temp),document.adoptedStyleSheets=[_this.k];var _this$C=_this.C(),t=_this$C.theme,e=_this$C.accentColor,i=_this$C.size,s=_this$C.iconset;_this.l=t,_this.u=e,_this.p=i,_this.m=s,null!==_this.l&&_this.S(_this.l),null!==_this.m&&_this.A(_this.m),new MutationObserver(function(t){return _this.L(t);}).observe(document.head,{attributes:!0,subtree:!0});return _this;}_createClass(_temp2,[{key:"L",value:function L(t){var _this4=this;var e=this.l,i=this.u,s=this.p,n=this.m,_this$C2=this.C(),o=_this$C2.theme,l=_this$C2.accentColor,a=_this$C2.size,h=_this$C2.iconset;this.l=o,this.u=l,this.p=a,this.m=h,this.l!==e&&this.S(this.l).then(function(){_this4.dispatchEvent(new CustomEvent("themechange"));}),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==n&&this.A(this.m).then(function(){_this4.dispatchEvent(new CustomEvent("iconsetchange"));});}},{key:"M",value:function M(t){var _this5=this;return new Promise(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(e){var i,s,_iterator66,_step66,_step66$value,_t84,_e73,_i82;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(t);case 2:i=_context2.sent;_context2.next=5;return i.text();case 5:s=_context2.sent;_iterator66=_createForOfIteratorHelper(_this5.D(s));_context2.prev=7;_iterator66.s();case 9:if((_step66=_iterator66.n()).done){_context2.next=17;break;}_step66$value=_slicedToArray(_step66.value,2),_t84=_step66$value[0],_e73=_step66$value[1];_context2.next=13;return _this5.M(_t84);case 13:_i82=_context2.sent;s=s.replace(_e73,_i82);case 15:_context2.next=9;break;case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2["catch"](7);_iterator66.e(_context2.t0);case 22:_context2.prev=22;_iterator66.f();return _context2.finish(22);case 25:e(s);case 26:case"end":return _context2.stop();}}},_callee2,null,[[7,19,22,25]]);}));return function(_x3){return _ref10.apply(this,arguments);};}());}},{key:"S",value:function S(t){var _this6=this;return new Promise(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(e){var i,_iterator67,_step67,_t85;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:null===_this6.g&&(_this6.g=[]);_context3.next=3;return _this6.M(t);case 3:i=_context3.sent;_context3.next=6;return _this6.k.replace(i);case 6:_this6.T();_this6.$();if(!(null!==_this6.g)){_context3.next=12;break;}_iterator67=_createForOfIteratorHelper(_this6.g);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){_t85=_step67.value;_t85();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}_this6.g=null;case 12:e();case 13:case"end":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref11.apply(this,arguments);};}());}},{key:"A",value:function A(t){var _this7=this;return new Promise(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(e){var i,_iterator68,_step68,_t86;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:null===_this7.v&&(_this7.v=[]);_context4.next=3;return Gs(t);case 3:i=_context4.sent;_this7.Ns=i;_iterator68=_createForOfIteratorHelper(_this7.v);try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){_t86=_step68.value;_t86();}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}_this7.v=null,e();case 8:case"end":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref12.apply(this,arguments);};}());}},{key:"$",value:function(){var _$=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var t,e;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.whenThemeReady;case 2:t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e));case 4:case"end":return _context5.stop();}}},_callee5,this);}));function $(){return _$.apply(this,arguments);}return $;}()},{key:"T",value:function(){var _T=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var t,_As$parse,_As$parse2,e,i,s,n,o;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.whenThemeReady;case 2:t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);_As$parse=new As().parse(t,"hsla"),_As$parse2=_slicedToArray(_As$parse,4),e=_As$parse2[0],i=_As$parse2[1],s=_As$parse2[2],n=_As$parse2[3],o=_toConsumableArray(this.k.cssRules).reverse().find(function(t){return 1===t.type&&"body"===t.selectorText;});o.styleMap.set("--accent-color-h",e),o.styleMap.set("--accent-color-s","".concat(i,"%")),o.styleMap.set("--accent-color-l","".concat(s,"%")),o.styleMap.set("--accent-color-a",n);case 6:case"end":return _context6.stop();}}},_callee6,this);}));function T(){return _T.apply(this,arguments);}return T;}()},{key:"C",value:function C(){var t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null};}},{key:"D",value:function D(t){var e=[],i=-1;for(;;){var _s76=t.indexOf("@import",i);if(!(_s76>-1))break;{var _n43=t.indexOf(";",_s76),_o33=0,_l26=t.indexOf(".css",_s76)+".css".length,_a17=t.indexOf("'",_s76),_h13=t.indexOf('"',_s76);if(_a17>_s76&&_a17<_n43)_o33=_a17+1;else if(_h13>_s76&&_h13<_n43)_o33=_h13+1;else{var _e74=t.indexOf("url(",_s76);_e74>_s76&&_e74<_n43&&(_o33=_e74+"url(".length);}var _r10=t.substring(_o33,_l26);e.push([_r10,t.substring(_s76,_n43+1)]),i=_l26;}}return e;}}]);return _temp2;}((_temp3=/*#__PURE__*/function(){function _temp3(){_classCallCheck(this,_temp3);_defineProperty(this,"o",{});}_createClass(_temp3,[{key:"addEventListener",value:function addEventListener(t,e){this.o||(this.o={});var i=this.o[t];i||(this.o[t]=i=[]),i.push(e),i.length>1e4&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1){this.o[t][s]!==e&&i.push(this.o[t][s]);}this.o[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.o)return;var e=this.o[t.type];if(!e)return;var i=null;for(var _s77=e.length-1;_s77>=0;_s77-=1){var _n44=void 0,_o34=e[_s77];try{_n44=_o34.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n44)break;}if(i)throw i;}}]);return _temp3;}(),_temp3)),_temp2)();if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get:function get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse";}}),Element.prototype.setPointerCapture){var _t87=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){var _this8=this;_t87.call(this,e);var i=getComputedStyle(this).cursor,s=[];for(var _t88=this.parentNode||this.host;_t88&&_t88!==document;_t88=_t88.parentNode||_t88.host){if(_t88.nodeType===document.DOCUMENT_FRAGMENT_NODE){var _e75=document.createElementNS(_t88.host.namespaceURI,"style");_e75.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t88.append(_e75),s.push(_e75);}else if(_t88.nodeType===document.DOCUMENT_NODE){var _e76=document.createElement("style");_e76.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t88.head.append(_e76),s.push(_e76);}}var n=function n(){window.removeEventListener("pointerup",n,!0),_this8.removeEventListener("lostpointercapture",n);var _iterator69=_createForOfIteratorHelper(s),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _t89=_step69.value;_t89.remove();}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}};window.addEventListener("pointerup",n,!0),this.addEventListener("lostpointercapture",n);};}Object.defineProperty(Animation.prototype,"finished",{get:function get(){var _this9=this;return new Promise(function(t){"finished"===_this9.playState?t():_this9.addEventListener("finish",function(){return t();},{once:!0});});}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t);}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild);}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this);}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling);}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null;}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this);});var Fs=HTMLDialogElement.prototype.showModal,Ns=HTMLDialogElement.prototype.close,Vs=[],js={get open(){return this.hasAttribute("open");},showModal:function showModal(){var _arguments=arguments,_this10=this;return new Promise(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(t){var _t91,_t92,_t93,_e77,_i83,_s78,_t94,_t95,_e78,_i85,_t96,_e79,_i87,_s79,_n45;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!0!==_this10.open&&!1!==_this10.isConnected)){_context7.next=25;break;}_context7.t0=_this10.P;if(!_context7.t0){_context7.next=5;break;}_context7.next=5;return _this10.P.finished;case 5:_context7.t1=_this10.R;if(!_context7.t1){_context7.next=9;break;}_context7.next=9;return _this10.R.finished;case 9:Fs.apply(_this10,_arguments);document.body.style.overflow="hidden",Vs.push(_this10),_this10.addEventListener("close",_t91=function _t90(e){e.target===_this10&&(_this10.removeEventListener("close",_t91),Vs=Vs.filter(function(t){return t!==_this10;}),0===Vs.length&&(document.body.style.overflow=null));});_t92=_this10.querySelector("[autofocus]");_t92?_t92.focus():_this10.focus();if(!1===_this10.hasAttribute("hidden")){_t93=getComputedStyle(_this10),_e77=_t93.getPropertyValue("transition-property"),_i83=1e3*parseFloat(_t93.getPropertyValue("transition-duration")),_s78=_t93.getPropertyValue("transition-timing-function");if("transform"===_e77){_t94=_this10.getBoundingClientRect();"0px"===getComputedStyle(_this10).left&&"0px"!==getComputedStyle(_this10).right?_this10.P=_this10.animate({transform:["translateX(-".concat(_t94.right,"px)"),"translateX(0px)"]},{duration:_i83,easing:_s78}):"0px"===getComputedStyle(_this10).right&&"0px"!==getComputedStyle(_this10).left?_this10.P=_this10.animate({transform:["translateX(".concat(_t94.width,"px)"),"translateX(0px)"]},{duration:_i83,easing:_s78}):_this10.P=_this10.animate({transform:["translateY(-".concat(_t94.bottom,"px)"),"translateY(0px)"]},{duration:_i83,easing:_s78});}}_this10.addEventListener("keydown",_t95=function _t95(t){"Escape"===t.key&&t.preventDefault();}),document.addEventListener("keydown",_e78=function _e78(t){"Escape"===t.key&&t.target===document.body&&t.preventDefault();}),_this10.addEventListener("close",_i85=function _i84(s){s.target===_this10&&(_this10.removeEventListener("close",_i85),_this10.removeEventListener("keydown",_t95),document.removeEventListener("keydown",_e78));});_s79=!0,_n45=function _n45(t){var e=_this10.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height;};_this10.addEventListener("pointerdown",_t96=function _t96(t){_s79=!1===_n45(t);}),_this10.addEventListener("click",_e79=function _e79(t){t.target===_this10&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===_s79&&!1===_n45(t)&&!0===_this10.hasAttribute("open")&&(_this10.close(),_this10.dispatchEvent(new CustomEvent("userclose")));}),_this10.addEventListener("close",_i87=function _i86(s){s.target===_this10&&(_this10.removeEventListener("pointerdown",_t96),_this10.removeEventListener("click",_e79),_this10.removeEventListener("close",_i87));});_context7.t2=_this10.P;if(!_context7.t2){_context7.next=22;break;}_context7.next=21;return _this10.P.finished;case 21:_this10.P=null;case 22:t();_context7.next=26;break;case 25:t();case 26:case"end":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref13.apply(this,arguments);};}());},close:function close(){var _arguments2=arguments,_this11=this;return new Promise(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(t){var _t97,_e80,_i88,_s80,_n46,_t98;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.t0=_this11.P;if(!_context8.t0){_context8.next=4;break;}_context8.next=4;return _this11.P.finished;case 4:_context8.t1=_this11.R;if(!_context8.t1){_context8.next=8;break;}_context8.next=8;return _this11.R.finished;case 8:if(!(!1===_this11.hasAttribute("hidden"))){_context8.next=16;break;}_t97=getComputedStyle(_this11),_e80=_t97.getPropertyValue("transition-property"),_i88=_t97.getPropertyValue("transition-duration")||"0s",_s80=1e3*parseFloat(_i88),_n46=_t97.getPropertyValue("transition-timing-function")||"ease";if(!("transform"===_e80)){_context8.next=16;break;}_t98=_this11.getBoundingClientRect();"0px"===getComputedStyle(_this11).left&&"0px"!==getComputedStyle(_this11).right?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(-".concat(_t98.right,"px)")]},{duration:_s80,easing:_n46}):"0px"===getComputedStyle(_this11).right&&"0px"!==getComputedStyle(_this11).left?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(".concat(_t98.width,"px)")]},{duration:_s80,easing:_n46}):_this11.R=_this11.animate({transform:["translateY(0px)","translateY(-".concat(_t98.bottom+50,"px)")]},{duration:_s80,easing:_n46});_context8.next=15;return _this11.R.finished;case 15:_this11.R=null;case 16:_this11.hasAttribute("open")&&Ns.apply(_this11,_arguments2),t();case 17:case"end":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref14.apply(this,arguments);};}());}};for(var _i89=0,_Object$entries=Object.entries(Object.getOwnPropertyDescriptors(js));_i89<_Object$entries.length;_i89++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i89],2),_t99=_Object$entries$_i[0],_e81=_Object$entries$_i[1];Object.defineProperty(HTMLDialogElement.prototype,_t99,_e81);}var Hs=/*#__PURE__*/function(_HTMLElement){_inherits(Hs,_HTMLElement);var _super2=_createSuper(Hs);_createClass(Hs,[{key:"expanded",get:function get(){return this.hasAttribute("expanded");},set:function set(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Hs(){var _temp4,_this12;_classCallCheck(this,Hs);(_temp4=_this12=_super2.call(this),_defineProperty(_assertThisInitialized(_this12),"I",{}),_defineProperty(_assertThisInitialized(_this12),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this12),"O",null),_defineProperty(_assertThisInitialized(_this12),"B",null),_defineProperty(_assertThisInitialized(_this12),"H",null),_temp4),_this12._shadowRoot=_this12.attachShadow({mode:"closed"}),_this12._shadowRoot.adoptedStyleSheets=[Hs._shadowStyleSheet],_this12._shadowRoot.append(document.importNode(Hs._shadowTemplate.content,!0));var _iterator70=_createForOfIteratorHelper(_this12._shadowRoot.querySelectorAll("[id]")),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _t100=_step70.value;_this12.I[_t100.id]=_t100;}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}_this12.O=new ResizeObserver(function(){return _this12.F();}),_this12.addEventListener("click",function(t){return _this12.N(t);}),_this12.I.arrow.addEventListener("keydown",function(t){return _this12.q(t);});return _this12;}_createClass(Hs,[{key:"connectedCallback",value:function connectedCallback(){var _this13=this;this.U(),Us.addEventListener("sizechange",this.B=function(){return _this13.U();}),this.O.observe(this);}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B),this.O.unobserve(this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U());}},{key:"expand",value:function expand(){var _this14=this;return new Promise(/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(t){var _t101,_e82,_i90;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(!1===_this14.expanded)){_context9.next=10;break;}_t101=_this14.getBoundingClientRect();_this14.H&&_this14.H.finish(),_this14.expanded=!0,_this14.removeAttribute("animating");_e82=_this14.getBoundingClientRect();_this14.setAttribute("animating","");_i90=_this14.animate({height:[_t101.height+"px",_e82.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this14.H=_i90;_context9.next=9;return _i90.finished;case 9:_this14.H===_i90&&_this14.removeAttribute("animating");case 10:t();case 11:case"end":return _context9.stop();}}},_callee9);}));return function(_x8){return _ref15.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this15=this;return new Promise(/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(t){var _t102,_e83,_i91;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(!0===_this15.expanded)){_context10.next=10;break;}_t102=_this15.getBoundingClientRect();_this15.H&&_this15.H.finish(),_this15.expanded=!1,_this15.removeAttribute("animating");_e83=_this15.getBoundingClientRect();_this15.setAttribute("animating","");_i91=_this15.animate({height:[_t102.height+"px",_e83.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this15.H=_i91;_context10.next=9;return _i91.finished;case 9:_this15.H===_i91&&_this15.removeAttribute("animating");case 10:t();case 11:case"end":return _context10.stop();}}},_callee10);}));return function(_x9){return _ref16.apply(this,arguments);};}());}},{key:"F",value:function F(){var t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null;}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"q",value:function q(t){"Enter"===t.key&&this.querySelector("header").click();}},{key:"N",value:function N(t){var e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))));}}]);return Hs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hs,"observedAttributes",["expanded","size"]);_defineProperty(Hs,"_shadowTemplate",Is(_templateObject115()));_defineProperty(Hs,"_shadowStyleSheet",Ls(_templateObject116()));customElements.define("x-accordion",Hs);var Ws=/*#__PURE__*/function(_HTMLElement2){_inherits(Ws,_HTMLElement2);var _super3=_createSuper(Ws);_createClass(Ws,[{key:"ownerElement",get:function get(){return this.j?this.j:document.body.firstElementChild;},set:function set(t){this.j=t;}}]);function Ws(){var _temp5,_this16;_classCallCheck(this,Ws);(_temp5=_this16=_super3.call(this),_defineProperty(_assertThisInitialized(_this16),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this16),"j",null),_temp5),_this16._shadowRoot=_this16.attachShadow({mode:"closed"}),_this16._shadowRoot.adoptedStyleSheets=[Ws._shadowStyleSheet],_this16.addEventListener("pointerdown",function(t){return t.preventDefault();});return _this16;}_createClass(Ws,[{key:"connectedCallback",value:function connectedCallback(){this.addEventListener("wheel",this.K=function(t){return t.preventDefault();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.removeEventListener("wheel",this.K);}},{key:"show",value:function show(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;var e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{var _t103=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=_t103-1;}if(this.style.top=i+"px",this.style.left=s+"px",t)return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished;}},{key:"hide",value:function hide(){var _this17=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(t){var _t104=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return _t104.finished.then(function(){_this17.remove();}),_t104.finished;}this.remove();}}]);return Ws;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ws,"_shadowStyleSheet",Ls(_templateObject117()));customElements.define("x-backdrop",Ws);var Ys=/*#__PURE__*/function(_HTMLElement3){_inherits(Ys,_HTMLElement3);var _super4=_createSuper(Ys);_createClass(Ys,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Ys(){var _temp6,_this18;_classCallCheck(this,Ys);(_temp6=_this18=_super4.call(this),_defineProperty(_assertThisInitialized(_this18),"X",0),_defineProperty(_assertThisInitialized(_this18),"V",0),_defineProperty(_assertThisInitialized(_this18),"Z",80),_defineProperty(_assertThisInitialized(_this18),"G",1),_defineProperty(_assertThisInitialized(_this18),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this18),"I",{}),_defineProperty(_assertThisInitialized(_this18),"B",null),_defineProperty(_assertThisInitialized(_this18),"Y",!1),_defineProperty(_assertThisInitialized(_this18),"W",!1),_defineProperty(_assertThisInitialized(_this18),"J",!1),_defineProperty(_assertThisInitialized(_this18),"tt",!1),_temp6),_this18._shadowRoot=_this18.attachShadow({mode:"closed"}),_this18._shadowRoot.adoptedStyleSheets=[Ys._shadowStyleSheet],_this18._shadowRoot.append(document.importNode(Ys._shadowTemplate.content,!0));var _iterator71=_createForOfIteratorHelper(_this18._shadowRoot.querySelectorAll("[id]")),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _t105=_step71.value;_this18.I[_t105.id]=_t105;}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}_this18.I["hue-slider"].addEventListener("pointerdown",function(t){_this18.et(t);}),_this18.I["saturation-slider"].addEventListener("pointerdown",function(t){_this18.it(t);}),_this18.I["lightness-slider"].addEventListener("pointerdown",function(t){_this18.st(t);}),_this18.I["alpha-slider"].addEventListener("pointerdown",function(t){_this18.ht(t);});return _this18;}_createClass(Ys,[{key:"connectedCallback",value:function connectedCallback(){var _this19=this;this.nt(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this19.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=us(this.X,0,360,0)/360*100+"%";}},{key:"rt",value:function rt(){this.I["saturation-slider-marker"].style.left=us(this.V,0,100,2)+"%";}},{key:"ut",value:function ut(){this.I["lightness-slider-marker"].style.left=us(this.Z,0,100,2)+"%";}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=us(100*(1-this.G),0,100,2)+"%";}},{key:"dt",value:function dt(){var t=this.X;this.I["saturation-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", 0%, 50%), hsl(").concat(t,", 100%, 50%)\n    )");}},{key:"ct",value:function ct(){var t=this.X,e=this.V;this.I["lightness-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", ").concat(e,"%, 0%), hsl(").concat(t,", ").concat(e,"%, 50%), hsl(").concat(t,", ").concat(e,"%, 100%)\n    )");}},{key:"gt",value:function gt(){var t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, 1), hsla(").concat(t,", ").concat(e,"%, ").concat(i,"%, 0))\n    ");}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt){var _As$parse3=new As().parse(this.value,"hsla"),_As$parse4=_slicedToArray(_As$parse3,4),_t106=_As$parse4[0],_e84=_As$parse4[1],_i92=_As$parse4[2],_s81=_As$parse4[3];this.X=_t106,this.V=_e84,this.Z=_i92,this.G=_s81,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"et",value:function et(t){var _this20=this;if(1!==t.buttons)return;var e,_i93,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=us(e,0,360,0),e!==_this20.X&&(_this20.X=e,_this20.value=_Ps([_this20.X,_this20.V,_this20.Z,_this20.G],"hsla","hsla"),_this20.at(),_this20.dt(),_this20.ct(),_this20.gt(),_this20.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i93=function i(){_this20.I["hue-slider"].removeEventListener("pointermove",e),_this20.I["hue-slider"].removeEventListener("lostpointercapture",_i93),_this20.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this20.Y=!1;});}},{key:"it",value:function it(t){var _this21=this;if(1!==t.buttons)return;var e,_i94,s=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=us(e,0,100,0),e!==_this21.V&&(_this21.V=e,_this21.value=_Ps([_this21.X,_this21.V,_this21.Z,_this21.G],"hsla","hsla"),_this21.rt(),_this21.dt(),_this21.ct(),_this21.gt(),_this21.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["saturation-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["saturation-slider"].addEventListener("lostpointercapture",_i94=function i(){_this21.I["saturation-slider"].removeEventListener("pointermove",e),_this21.I["saturation-slider"].removeEventListener("lostpointercapture",_i94),_this21.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this21.W=!1;});}},{key:"st",value:function st(t){var _this22=this;if(1!==t.buttons)return;var e,_i95,s=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=us(e,0,100,0),e!==_this22.Z&&(_this22.Z=e,_this22.value=_Ps([_this22.X,_this22.V,_this22.Z,_this22.G],"hsla","hsla"),_this22.ut(),_this22.dt(),_this22.ct(),_this22.gt(),_this22.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["lightness-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["lightness-slider"].addEventListener("lostpointercapture",_i95=function i(){_this22.I["lightness-slider"].removeEventListener("pointermove",e),_this22.I["lightness-slider"].removeEventListener("lostpointercapture",_i95),_this22.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this22.J=!1;});}},{key:"ht",value:function ht(t){var _this23=this;if(1!==t.buttons)return;var e,_i96,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=us(e,0,1,2),e!==_this23.G&&(_this23.G=e,_this23.value=_Ps([_this23.X,_this23.V,_this23.Z,_this23.G],"hsla","hsla"),_this23.bt(),_this23.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i96=function i(){_this23.I["alpha-slider"].removeEventListener("pointermove",e),_this23.I["alpha-slider"].removeEventListener("lostpointercapture",_i96),_this23.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this23.tt=!1;});}}]);return Ys;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ys,"observedAttributes",["value","size"]);_defineProperty(Ys,"_shadowTemplate",Is(_templateObject118()));_defineProperty(Ys,"_shadowStyleSheet",Ls(_templateObject119()));customElements.define("x-barscolorpicker",Ys);var qs=/*#__PURE__*/function(_HTMLElement4){_inherits(qs,_HTMLElement4);var _super5=_createSuper(qs);_createClass(qs,[{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}}]);function qs(){var _temp7,_this24;_classCallCheck(this,qs);(_temp7=_this24=_super5.call(this),_defineProperty(_assertThisInitialized(_this24),"_shadowRoot",null),_temp7),_this24._shadowRoot=_this24.attachShadow({mode:"closed"}),_this24._shadowRoot.adoptedStyleSheets=[qs._shadowStyleSheet],_this24._shadowRoot.append(document.importNode(qs._shadowTemplate.content,!0));return _this24;}return qs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qs,"_shadowTemplate",Is(_templateObject120()));_defineProperty(qs,"_shadowStyleSheet",Ls(_templateObject121()));customElements.define("x-box",qs);var Xs=function Xs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i97=_slicedToArray(i,1),_t107=_i97[0];s=null===e?document.createElement(_t107):document.createElement(_t107,e);}else if(2===i.length){var _i98=_slicedToArray(i,2),_t108=_i98[0],_e85=_i98[1];"svg"===_t108&&(s=document.createElementNS("http://www.w3.org/2000/svg",_e85));}return s;},Zs=function Zs(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Zs(t.getRootNode().host,e):s;},Ks=function Ks(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},Qs=function Qs(){return Date.now();},Js=function Js(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,a=function a(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len10=arguments.length,h=new Array(_len10),_key10=0;_key10<_len10;_key10++){h[_key10]=arguments[_key10];}return s=h,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(a,d)),o;};},tn=function tn(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len11=arguments.length,l=new Array(_len11),_key11=0;_key11<_len11;_key11++){l[_key11]=arguments[_key11];}var a=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),a&&(o=t.apply(i,l)),o;};},en=Math.max;var sn=/*#__PURE__*/function(_HTMLElement5){_inherits(sn,_HTMLElement5);var _super6=_createSuper(sn);_createClass(sn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"skin",get:function get(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;},set:function set(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"expanded",get:function get(){return this.hasAttribute("expanded");}},{key:"expandable",get:function get(){return this.xt()||this.ft();}},{key:"ownerButtons",get:function get(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement;}return null;}}]);function sn(){var _temp8,_this25;_classCallCheck(this,sn);(_temp8=_this25=_super6.call(this),_defineProperty(_assertThisInitialized(_this25),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this25),"I",{}),_defineProperty(_assertThisInitialized(_this25),"wt",!1),_defineProperty(_assertThisInitialized(_this25),"vt",null),_defineProperty(_assertThisInitialized(_this25),"yt",0),_defineProperty(_assertThisInitialized(_this25),"B",null),_temp8),_this25._shadowRoot=_this25.attachShadow({mode:"closed"}),_this25._shadowRoot.adoptedStyleSheets=[sn._shadowStyleSheet],_this25._shadowRoot.append(document.importNode(sn._shadowTemplate.content,!0));var _iterator72=_createForOfIteratorHelper(_this25._shadowRoot.querySelectorAll("[id]")),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _t109=_step72.value;_this25.I[_t109.id]=_t109;}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}_this25.addEventListener("pointerdown",function(t){return _this25.zt(t);}),_this25.addEventListener("click",function(t){return _this25.N(t);}),_this25.addEventListener("keydown",function(t){return _this25.kt(t);}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return customElements.whenDefined("x-backdrop");case 2:_this25.I.backdrop=Xs("x-backdrop");_this25.I.backdrop.style.background="rgba(0, 0, 0, 0)";case 4:case"end":return _context11.stop();}}},_callee11);}))();return _this25;}_createClass(sn,[{key:"connectedCallback",value:function connectedCallback(){var _this26=this;this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.Vs(),this.Ct(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this26.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"expand",value:function expand(){var _this27=this;return new Promise(/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(t){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!_this27.xt()){_context12.next=5;break;}_context12.next=3;return _this27.St();case 3:_context12.next=9;break;case 5:_context12.t0=_this27.ft();if(!_context12.t0){_context12.next=9;break;}_context12.next=9;return _this27.Et();case 9:t();case 10:case"end":return _context12.stop();}}},_callee12);}));return function(_x10){return _ref18.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this28=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(e){return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!_this28.At()){_context13.next=5;break;}_context13.next=3;return _this28.Lt(t);case 3:_context13.next=9;break;case 5:_context13.t0=_this28.Tt();if(!_context13.t0){_context13.next=9;break;}_context13.next=9;return _this28.Mt(t);case 9:e();case 10:case"end":return _context13.stop();}}},_callee13);}));return function(_x11){return _ref19.apply(this,arguments);};}());}},{key:"St",value:function St(){var _this29=this;return new Promise(/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(t){var _t110;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!_this29.xt()){_context14.next=9;break;}_t110=_this29.querySelector(":scope > x-menu");_this29.wt=_this29.matches(":focus");_this29.setAttribute("expanded","");_this29.I.backdrop.ownerElement=_t110;_this29.I.backdrop.show(!1);_context14.next=8;return _t110.openNextToElement(_this29,"vertical",3);case 8:_t110.focus();case 9:t();case 10:case"end":return _context14.stop();}}},_callee14);}));return function(_x12){return _ref20.apply(this,arguments);};}());}},{key:"Lt",value:function Lt(){var _this30=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(e){var _e86,_t111;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(!_this30.At()){_context15.next=17;break;}_e86=_this30.querySelector(":scope > x-menu");_e86.setAttribute("closing","");_context15.next=5;return t;case 5:_context15.next=7;return _e86.close();case 7:_this30.I.backdrop.hide(!1);_this30.removeAttribute("expanded");_this30.replaceWith(_this30);if(!_this30.wt){_context15.next=14;break;}_this30.focus();_context15.next=16;break;case 14:_t111=Zs(_this30.parentNode,"[tabindex]");_t111&&_t111.focus();case 16:_e86.removeAttribute("closing");case 17:e();case 18:case"end":return _context15.stop();}}},_callee15);}));return function(_x13){return _ref21.apply(this,arguments);};}());}},{key:"xt",value:function xt(){var t=!1;if(!1===this.disabled){var _e87=this.querySelector(":scope > x-menu");_e87&&!1===_e87.hasAttribute("opened")&&!1===_e87.hasAttribute("closing")&&null!==_e87.querySelector("x-menuitem")&&(t=!0);}return t;}},{key:"At",value:function At(){var t=!1;if(!1===this.disabled){var _e88=this.querySelector(":scope > x-menu");_e88&&_e88.opened&&(t=!0);}return t;}},{key:"Et",value:function Et(){var _this31=this;return new Promise(/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(t){var _t112;return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!_this31.ft()){_context16.next=6;break;}_t112=_this31.querySelector(":scope > x-popover");_this31.wt=_this31.matches(":focus");_this31.setAttribute("expanded","");_context16.next=6;return _t112.open(_this31);case 6:t();case 7:case"end":return _context16.stop();}}},_callee16);}));return function(_x14){return _ref22.apply(this,arguments);};}());}},{key:"Mt",value:function Mt(){var _this32=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref23=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(e){var _e89,_t113;return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!_this32.Tt()){_context17.next=16;break;}_e89=_this32.querySelector(":scope > x-popover");_e89.setAttribute("closing","");_context17.next=5;return t;case 5:_context17.next=7;return _e89.close();case 7:_this32.removeAttribute("expanded");_e89.modal&&_this32.replaceWith(_this32);if(!_this32.wt){_context17.next=13;break;}_this32.focus();_context17.next=15;break;case 13:_t113=Zs(_this32.parentNode,"[tabindex]");_t113&&_t113.focus();case 15:_e89.removeAttribute("closing");case 16:e();case 17:case"end":return _context17.stop();}}},_callee17);}));return function(_x15){return _ref23.apply(this,arguments);};}());}},{key:"ft",value:function ft(){var t=!1;if(!1===this.disabled){var _e90=this.querySelector(":scope > x-popover");_e90&&!1===_e90.hasAttribute("opened")&&(t=!0);}return t;}},{key:"Tt",value:function Tt(){var t=!1;if(!1===this.disabled){var _e91=this.querySelector(":scope > x-popover");_e91&&_e91.opened&&(t=!0);}return t;}},{key:"Dt",value:function Dt(){var _this33=this;return new Promise(function(t){_this33.$t()&&_this33.querySelector(":scope > dialog").showModal(),t();});}},{key:"$t",value:function $t(){var t=!1;if(!1===this.disabled){var _e92=this.querySelector(":scope > dialog");_e92&&!1===_e92.hasAttribute("open")&&!1===_e92.hasAttribute("closing")&&(t=!0);}return t;}},{key:"Pt",value:function Pt(){var _this34=this;return new Promise(function(t){_this34.Rt()&&(_this34.querySelector(":scope > x-notification").opened=!0),t();});}},{key:"Rt",value:function Rt(){var t=!1;if(!1===this.disabled){var _e93=this.querySelector(":scope > x-notification");!_e93||_e93.hasAttribute("opened")||_e93.hasAttribute("closing")||(t=!0);}return t;}},{key:"Vs",value:function Vs(){var t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none";}},{key:"Ct",value:function Ct(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.vt=t,t.target===this.I.backdrop)this.It(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ot(t);}}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.I.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Bt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ht(t);}}},{key:"It",value:function It(t){this.collapse();}},{key:"Ot",value:function(){var _Ot=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(t){var _this35=this;var _t114,_t115,_e94,_i99,_e95,_e96,_i100,_s82,_n47,_o35,_l27,_t117,_a18,_h14,_t118,_t119,_e97,_i101,_s83,_n48,_o36,_l28,_a19;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:if(!(1===t.buttons)){_context20.next=49;break;}if(!this.querySelector(":scope > dialog[open]")){_context20.next=5;break;}t.preventDefault();_context20.next=47;break;case 5:if(!(!1!==this.contains(t.target))){_context20.next=47;break;}if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){_t114=Zs(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t114?_t114.focus():_this35.blur();},{once:!0});}if(!1===this.xt()&&!1===this.ft()&&!1===this.Tt()){_t115=Date.now(),_e94=!0,_i99=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var s;return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_e94=!1;s=Date.now()-_t115;_context18.t0=s<_i99;if(!_context18.t0){_context18.next=6;break;}_context18.next=6;return Ks(_i99-s);case 6:_this35.removeAttribute("pressed");case 7:case"end":return _context18.stop();}}},_callee18);})),{once:!0}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var _t116;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(!_this35.ownerButtons){_context19.next=19;break;}if(!(0===_this35.ownerButtons.tracking||2===_this35.ownerButtons.tracking)){_context19.next=6;break;}_context19.next=4;return Ks(10);case 4:_context19.next=17;break;case 6:if(!(1!==_this35.ownerButtons.tracking||!1!==_this35.toggled&&!_this35.mixed)){_context19.next=15;break;}if(!(3===_this35.ownerButtons.tracking)){_context19.next=13;break;}_t116=_toConsumableArray(_this35.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});_context19.t0=!1===_this35.toggled||_t116.length>1;if(!_context19.t0){_context19.next=13;break;}_context19.next=13;return Ks(10);case 13:_context19.next=17;break;case 15:_context19.next=17;return Ks(10);case 17:_context19.next=23;break;case 19:_context19.t1=_this35.togglable;if(!_context19.t1){_context19.next=23;break;}_context19.next=23;return Ks(10);case 23:_e94&&_this35.setAttribute("pressed","");case 24:case"end":return _context19.stop();}}},_callee19);}))();}this.xt()?"touch"!==t.pointerType&&this.St():this.ft()?"touch"!==t.pointerType&&this.Et():this.Tt()&&this.Mt();_e95=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_e95)){_context20.next=27;break;}_e96=this.I.ripples.getBoundingClientRect(),_i100=1.5*en(_e96.width,_e96.height),_s82=t.clientY-_e96.y-_i100/2,_n47=t.clientX-_e96.x-_i100/2,_o35=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_l27=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)_l27=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)_l27=!1;else if(3===this.ownerButtons.tracking){_t117=_toConsumableArray(this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});(!1===this.toggled||_t117.length>1)&&(_l27=!1);}}else this.togglable&&(_l27=!1);_a18=Xs("div");_a18.setAttribute("part","ripple"),_a18.setAttribute("class","ripple pointer-down-ripple"),_a18.setAttribute("style","width: ".concat(_i100,"px; height: ").concat(_i100,"px; top: ").concat(_s82,"px; left: ").concat(_n47,"px;")),this.I.ripples.append(_a18),this.I.ripples.style.contain="strict";_h14=_a18.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=18;return _o35;case 18:if(!_l27){_context20.next=24;break;}_context20.next=21;return _h14.finished;case 21:_t118=_a18.animate({opacity:[getComputedStyle(_a18).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=24;return _t118.finished;case 24:_a18.remove();_context20.next=47;break;case 27:if(!("unbounded-ripple"===_e95)){_context20.next=47;break;}_t119=this.I.ripples.getBoundingClientRect(),_e97=1.25*_t119.height,_i101=_t119.y+_t119.height/2-_t119.y-_e97/2,_s83=_t119.x+_t119.width/2-_t119.x-_e97/2,_n48=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_o36=Xs("div");_o36.setAttribute("part","ripple");_o36.setAttribute("class","ripple pointer-down-ripple");_o36.setAttribute("style","width: ".concat(_e97,"px; height: ").concat(_e97,"px; top: ").concat(_i101,"px; left: ").concat(_s83,"px;"));this.I.ripples.append(_o36);this.I.ripples.style.contain="none";_o36.hidden=!0;_context20.next=37;return Ks(20);case 37:_o36.hidden=!1;_l28=_o36.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=41;return _n48;case 41:_context20.next=43;return _l28.finished;case 43:_a19=_o36.animate({opacity:[getComputedStyle(_o36).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=46;return _a19.finished;case 46:_o36.remove();case 47:_context20.next=50;break;case 49:t.preventDefault();case 50:case"end":return _context20.stop();}}},_callee20,this);}));function Ot(_x16){return _Ot.apply(this,arguments);}return Ot;}()},{key:"Ht",value:function(){var _Ht=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(t){var e,_t120,_t121,_e98,_i102,_s84,_n49,_o37,_l29,_t122,_t123,_e99,_i103,_s85,_n50;return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:e=this.querySelector(":scope > x-menu, :scope > x-popover");if(!e){_context21.next=5;break;}if(!e.hasAttribute("closing")){_context21.next=4;break;}return _context21.abrupt("return");case 4:e.focus();case 5:if(!(!1===this.Tt()&&(this.$t()?this.Dt():this.Rt()&&this.Pt()),this.vt&&"touch"===this.vt.pointerType&&(this.xt()?this.St():this.ft()&&this.Et()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context21.next=34;break;}_t120=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t120)){_context21.next=22;break;}_t121=this.I.ripples.getBoundingClientRect(),_e98=1.5*en(_t121.width,_t121.height),_i102=_t121.y+_t121.height/2-_t121.y-_e98/2,_s84=_t121.x+_t121.width/2-_t121.x-_e98/2,_n49=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(_n49=!1):this.togglable&&(_n49=!1);_o37=Xs("div");_o37.setAttribute("part","ripple"),_o37.setAttribute("class","ripple click-ripple"),_o37.setAttribute("style","width: ".concat(_e98,"px; height: ").concat(_e98,"px; top: ").concat(_i102,"px; left: ").concat(_s84,"px;")),this.I.ripples.append(_o37),this.I.ripples.style.contain="strict";_l29=_o37.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(!_n49){_context21.next=19;break;}_context21.next=16;return _l29.finished;case 16:_t122=_o37.animate({opacity:[getComputedStyle(_o37).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context21.next=19;return _t122.finished;case 19:_o37.remove();_context21.next=34;break;case 22:if(!("unbounded-ripple"===_t120)){_context21.next=34;break;}_t123=this.I.ripples.getBoundingClientRect(),_e99=1.35*_t123.height,_i103=_t123.y+_t123.height/2-_t123.y-_e99/2,_s85=_t123.x+_t123.width/2-_t123.x-_e99/2,_n50=Xs("div");_n50.setAttribute("part","ripple");_n50.setAttribute("class","ripple");_n50.setAttribute("style","width: ".concat(_e99,"px; height: ").concat(_e99,"px; top: ").concat(_i103,"px; left: ").concat(_s85,"px;"));this.I.ripples.append(_n50);this.I.ripples.style.contain="none";_context21.next=31;return _n50.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 31:_context21.next=33;return _n50.animate({opacity:[getComputedStyle(_n50).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 33:_n50.remove();case 34:case"end":return _context21.stop();}}},_callee21,this);}));function Ht(_x17){return _Ht.apply(this,arguments);}return Ht;}()},{key:"Bt",value:function Bt(t){var e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd);}},{key:"kt",value:function kt(t){var _this36=this;!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):this.$t()?(t.preventDefault(),this.Dt()):this.Rt()?(t.preventDefault(),this.Pt()):this.matches(":focus")&&(this.Tt()?this.Mt():this.At()?this.Lt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.xt()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusLastMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.At()||this.Tt())&&(t.preventDefault(),this.collapse()));}}]);return sn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sn,"observedAttributes",["disabled","size"]);_defineProperty(sn,"_shadowTemplate",Is(_templateObject122()));_defineProperty(sn,"_shadowStyleSheet",Ls(_templateObject123()));customElements.define("x-button",sn);var nn=Array.isArray;var on=/*#__PURE__*/function(_HTMLElement6){_inherits(on,_HTMLElement6);var _super7=_createSuper(on);_createClass(on,[{key:"tracking",get:function get(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1;},set:function set(t){this.setAttribute("tracking",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"value",get:function get(){if(2===this.tracking||3===this.tracking)return this.Ft().filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!=t;});if(1===this.tracking||0===this.tracking){var _t124=this.Ft().find(function(t){return t.toggled;});return _t124&&void 0!==_t124.value?_t124.value:null;}return-1===this.tracking?null:void 0;},set:function set(t){if(2===this.tracking||3===this.tracking){var _e100=this.Ft();if(nn(t)){var _iterator73=_createForOfIteratorHelper(_e100),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _i104=_step73.value;_i104.toggled=t.includes(_i104.value);}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}}else{var _iterator74=_createForOfIteratorHelper(_e100),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _i105=_step74.value;_i105.toggled=_i105.value===t;}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}}else if(1===this.tracking||0===this.tracking){var _e101=this.Ft(),_i106=_e101.find(function(e){return e.value===t;});var _iterator75=_createForOfIteratorHelper(_e101),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _t125=_step75.value;_t125.toggled=_t125===_i106;}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}}}]);function on(){var _temp9,_this37;_classCallCheck(this,on);(_temp9=_this37=_super7.call(this),_defineProperty(_assertThisInitialized(_this37),"_shadowRoot",null),_temp9),_this37._shadowRoot=_this37.attachShadow({mode:"closed"}),_this37._shadowRoot.adoptedStyleSheets=[on._shadowStyleSheet],_this37._shadowRoot.append(document.importNode(on._shadowTemplate.content,!0)),_this37.addEventListener("click",function(t){return _this37.N(t);},!0),_this37.addEventListener("keydown",function(t){return _this37.kt(t);});return _this37;}_createClass(on,[{key:"connectedCallback",value:function connectedCallback(){var _iterator76=_createForOfIteratorHelper(this.children),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _t126=_step76.value;if("x-button"===_t126.localName){"none"!==getComputedStyle(_t126).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break;}}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}}},{key:"Ft",value:function Ft(){return _toConsumableArray(this.querySelectorAll(":scope > x-button, :scope > x-box > x-button"));}},{key:"N",value:function N(t){if(0!==t.button)return;var e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){var _t127=this.Ft().filter(function(t){return t!==e;});if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;var _iterator77=_createForOfIteratorHelper(_t127),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _e102=_step77.value;_e102.toggled=!1,_e102.mixed=!1;}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;var _iterator78=_createForOfIteratorHelper(_t127),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _e103=_step78.value;_e103.toggled=!1,_e103.mixed=!1;}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){var _i107=_t127.filter(function(t){return!0===t.toggled;});(!1===e.toggled||_i107.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})));}}}},{key:"kt",value:function kt(t){var e=t.key;if("ArrowRight"===e){var _t128=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t128&&(_t128.nextElementSibling?_t128.nextElementSibling.focus():_t128!==_t128.parentElement.firstElementChild&&_t128.parentElement.firstElementChild.focus());}else if("ArrowLeft"===e){var _t129=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t129&&(_t129.previousElementSibling?_t129.previousElementSibling.focus():_t129!==_t129.parentElement.lastElementChild&&_t129.parentElement.lastElementChild.focus());}}}]);return on;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(on,"_shadowTemplate",Is(_templateObject124()));_defineProperty(on,"_shadowStyleSheet",Ls(_templateObject125()));customElements.define("x-buttons",on);var ln=/*#__PURE__*/function(_HTMLElement7){_inherits(ln,_HTMLElement7);var _super8=_createSuper(ln);function ln(){var _temp10,_this38;_classCallCheck(this,ln);(_temp10=_this38=_super8.call(this),_defineProperty(_assertThisInitialized(_this38),"_shadowRoot",null),_temp10),_this38._shadowRoot=_this38.attachShadow({mode:"closed"}),_this38._shadowRoot.adoptedStyleSheets=[ln._shadowStyleSheet],_this38._shadowRoot.append(document.importNode(ln._shadowTemplate.content,!0));return _this38;}return ln;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ln,"_shadowTemplate",Is(_templateObject126()));_defineProperty(ln,"_shadowStyleSheet",Ls(_templateObject127()));customElements.define("x-card",ln);var an=/*#__PURE__*/function(_HTMLElement8){_inherits(an,_HTMLElement8);var _super9=_createSuper(an);_createClass(an,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function an(){var _temp11,_this39;_classCallCheck(this,an);(_temp11=_this39=_super9.call(this),_defineProperty(_assertThisInitialized(_this39),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this39),"I",{}),_defineProperty(_assertThisInitialized(_this39),"yt",0),_defineProperty(_assertThisInitialized(_this39),"B",null),_temp11),_this39._shadowRoot=_this39.attachShadow({mode:"closed"}),_this39._shadowRoot.adoptedStyleSheets=[an._shadowStyleSheet],_this39._shadowRoot.append(document.importNode(an._shadowTemplate.content,!0));var _iterator79=_createForOfIteratorHelper(_this39._shadowRoot.querySelectorAll("[id]")),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _t130=_step79.value;_this39.I[_t130.id]=_t130;}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}_this39.addEventListener("pointerdown",function(t){return _this39.zt(t);}),_this39.addEventListener("click",function(t){return _this39.N(t);}),_this39.addEventListener("keydown",function(t){return _this39.kt(t);});return _this39;}_createClass(an,[{key:"connectedCallback",value:function connectedCallback(){var _this40=this;Us.addEventListener("sizechange",this.B=function(){return _this40.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e104=Zs(this.parentNode,"[tabindex]");_e104&&_e104.focus();}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e105=Xs("div");_e105.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(_e105);var _i108=_e105.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var t;return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return _i108.finished;case 2:t=_e105.animate({opacity:[getComputedStyle(_e105).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context22.next=5;return t.finished;case 5:_e105.remove();case 6:case"end":return _context22.stop();}}},_callee22);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(t){var _t131;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(!(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context23.next=9;break;}_t131=Xs("div");_t131.setAttribute("class","ripple");this.I.ripples.append(_t131);_context23.next=6;return _t131.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 6:_context23.next=8;return _t131.animate({opacity:[getComputedStyle(_t131).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 8:_t131.remove();case 9:case"end":return _context23.stop();}}},_callee23,this);}));function N(_x18){return _N.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return an;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(an,"observedAttributes",["toggled","disabled","size"]);_defineProperty(an,"_shadowTemplate",Is(_templateObject128()));_defineProperty(an,"_shadowStyleSheet",Ls(_templateObject129()));customElements.define("x-checkbox",an);var hn=/*#__PURE__*/function(_HTMLElement9){_inherits(hn,_HTMLElement9);var _super10=_createSuper(hn);_createClass(hn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function hn(){var _temp12,_this41;_classCallCheck(this,hn);(_temp12=_this41=_super10.call(this),_defineProperty(_assertThisInitialized(_this41),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this41),"I",{}),_defineProperty(_assertThisInitialized(_this41),"Ut",!1),_defineProperty(_assertThisInitialized(_this41),"wt",!1),_defineProperty(_assertThisInitialized(_this41),"B",null),_defineProperty(_assertThisInitialized(_this41),"yt",0),_defineProperty(_assertThisInitialized(_this41),"Gt",tn(function(){_this41.Ut&&(_this41.Ut=!1,_this41.value=_this41.I.input.value,_this41.dispatchEvent(new CustomEvent("changeend")));},400)),_temp12),_this41._shadowRoot=_this41.attachShadow({mode:"closed"}),_this41._shadowRoot.adoptedStyleSheets=[hn._shadowStyleSheet],_this41._shadowRoot.append(document.importNode(hn._shadowTemplate.content,!0));var _iterator80=_createForOfIteratorHelper(_this41._shadowRoot.querySelectorAll("[id]")),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _t132=_step80.value;_this41.I[_t132.id]=_t132;}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}_this41.addEventListener("click",function(t){return _this41.N(t);}),_this41.addEventListener("keydown",function(t){return _this41.kt(t);}),_this41.addEventListener("pointerdown",function(t){return _this41.zt(t);}),_this41.addEventListener("change",function(t){return _this41.jt(t);}),_this41.I.input.addEventListener("change",function(t){return _this41.Kt(t);});return _this41;}_createClass(hn,[{key:"connectedCallback",value:function connectedCallback(){var _this42=this;var t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",Ds(this.value,"rgba")),this.Ct(),this.U(),this.Xt(),Us.addEventListener("sizechange",this.B=function(){return _this42.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"Vt",value:function(){var _Vt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(){var _t133;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(!(!1===this.hasAttribute("expanded"))){_context24.next=9;break;}_t133=this.querySelector("x-popover");_context24.t0=_t133;if(!_context24.t0){_context24.next=9;break;}this.wt=this.matches(":focus");this.setAttribute("expanded","");_context24.next=8;return _t133.open(this);case 8:_t133.focus();case 9:case"end":return _context24.stop();}}},_callee24,this);}));function Vt(){return _Vt.apply(this,arguments);}return Vt;}()},{key:"Zt",value:function(){var _Zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var t,_t134,_t135,_args25=arguments;return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:t=_args25.length>0&&_args25[0]!==undefined?_args25[0]:null;if(!this.hasAttribute("expanded")){_context25.next=15;break;}_t134=this.querySelector("x-popover");if(!_t134){_context25.next=15;break;}_t134.setAttribute("closing","");_context25.next=7;return _t134.close();case 7:this.removeAttribute("expanded");if(!this.wt){_context25.next=12;break;}this.focus();_context25.next=14;break;case 12:_t135=Zs(this.parentNode,"[tabindex]");_t135&&_t135.focus();case 14:_t134.removeAttribute("closing");case 15:case"end":return _context25.stop();}}},_callee25,this);}));function Zt(){return _Zt.apply(this,arguments);}return Zt;}()},{key:"Xt",value:function Xt(){var _As$parse5=new As().parse(this.value,"rgba"),_As$parse6=_slicedToArray(_As$parse5,4),t=_As$parse6[0],e=_As$parse6[1],i=_As$parse6[2],s=_As$parse6[3];this.I.input.value=_Ps([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s;}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.Ut||this.Xt();var t=_toConsumableArray(this.querySelectorAll("*")).find(function(t){return t.localName.endsWith("colorpicker");});t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"));}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"jt",value:function jt(t){t.target!==this&&(this.value=Ds(t.target.value,"rgba"),this.Xt());}},{key:"Kt",value:function Kt(){!1===this.Ut&&(this.Ut=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Gt();}},{key:"zt",value:function zt(t){t.target===this&&t.preventDefault();}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Zt()):(t.preventDefault(),this.Vt()));}},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e106=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),_e106?this.hasAttribute("expanded")?this.Zt():this.Vt():this.I.input.click();}else"Escape"===t.code?this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Zt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault();}}]);return hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hn,"observedAttributes",["value","disabled","size"]);_defineProperty(hn,"_shadowTemplate",Is(_templateObject130()));_defineProperty(hn,"_shadowStyleSheet",Ls(_templateObject131()));customElements.define("x-colorselect",hn);var rn=/*#__PURE__*/function(_HTMLElement10){_inherits(rn,_HTMLElement10);var _super11=_createSuper(rn);_createClass(rn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function rn(){var _temp13,_this43;_classCallCheck(this,rn);(_temp13=_this43=_super11.call(this),_defineProperty(_assertThisInitialized(_this43),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this43),"I",{}),_defineProperty(_assertThisInitialized(_this43),"Yt",null),_defineProperty(_assertThisInitialized(_this43),"Wt",null),_defineProperty(_assertThisInitialized(_this43),"Jt",null),_temp13),_this43._shadowRoot=_this43.attachShadow({mode:"closed"}),_this43._shadowRoot.adoptedStyleSheets=[rn._shadowStyleSheet],_this43._shadowRoot.append(document.importNode(rn._shadowTemplate.content,!0)),_this43.I.backdrop=Xs("x-backdrop"),_this43.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this43.I.backdrop.addEventListener("contextmenu",function(t){return _this43.Qt(t);}),_this43.I.backdrop.addEventListener("pointerdown",function(t){return _this43.It(t);}),_this43.addEventListener("blur",function(t){return _this43.te();}),_this43.addEventListener("keydown",function(t){return _this43.kt(t);},!0),_this43.addEventListener("click",function(t){return _this43.N(t);});return _this43;}_createClass(rn,[{key:"connectedCallback",value:function connectedCallback(){var _this44=this;this.Yt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Wt=function(){_this44.te();}),this.Yt.addEventListener("contextmenu",this.Jt=function(t){_this44.ee(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("blur",this.Wt),this.Yt.removeEventListener("contextmenu",this.Jt),this.Yt=null;}},{key:"open",value:function open(t,e){var i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus());}},{key:"close",value:function close(){var _this45=this;return new Promise(/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(t){var e,_t136;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:e=_this45.querySelector("x-menu");if(!(e&&!0===e.opened)){_context26.next=7;break;}_context26.next=4;return e.close();case 4:_this45.I.backdrop.hide(!1);_t136=Zs(_this45.parentNode,"[tabindex]");_t136&&_t136.focus();case 7:t();case 8:case"end":return _context26.stop();}}},_callee26);}));return function(_x19){return _ref27.apply(this,arguments);};}());}},{key:"te",value:function te(){this.close();}},{key:"ee",value:function ee(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY));}},{key:"Qt",value:function Qt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then(function(){var e=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=document.elementFromPoint(t,e);if(i&&s)for(;;){var _i109=s.shadowRoot||s._shadowRoot;if(!_i109)break;{var _n51=_i109.elementFromPoint(t,e);if(_n51.getRootNode()!==_i109&&(_n51=null),!_n51||_n51===s)break;s=_n51;}}return s;}(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i);});}},{key:"It",value:function It(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close());}},{key:"N",value:function(){var _N2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(t){var e,_t137;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:e=t.target.closest("x-menuitem");if(!(e&&!1===e.disabled)){_context27.next=13;break;}_t137=e.querySelector("x-menu");if(!_t137){_context27.next=7;break;}_t137.opened?_t137.close():_t137.openNextToElement(e,"horizontal");_context27.next=13;break;case 7:this.setAttribute("closing","");_context27.next=10;return e.whenTriggerEnd;case 10:_context27.next=12;return this.close();case 12:this.removeAttribute("closing");case 13:case"end":return _context27.stop();}}},_callee27,this);}));function N(_x20){return _N2.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Escape"===t.key?this.querySelector("x-menu").opened&&(t.preventDefault(),this.close()):"Tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem());}}]);return rn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rn,"_shadowTemplate",Is(_templateObject132()));_defineProperty(rn,"_shadowStyleSheet",Ls(_templateObject133()));customElements.define("x-contextmenu",rn);var dn=Math.max;var cn=/*#__PURE__*/function(_HTMLElement11){_inherits(cn,_HTMLElement11);var _super12=_createSuper(cn);_createClass(cn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"edited",get:function get(){return this.hasAttribute("edited");},set:function set(t){t?this.setAttribute("edited",""):this.removeAttribute("edited");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"ownerTabs",get:function get(){return this.closest("x-doctabs");}}]);function cn(){var _temp14,_this46;_classCallCheck(this,cn);(_temp14=_this46=_super12.call(this),_defineProperty(_assertThisInitialized(_this46),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this46),"I",{}),_defineProperty(_assertThisInitialized(_this46),"B",null),_temp14),_this46._shadowRoot=_this46.attachShadow({mode:"closed"}),_this46._shadowRoot.adoptedStyleSheets=[cn._shadowStyleSheet],_this46._shadowRoot.append(document.importNode(cn._shadowTemplate.content,!0));var _iterator81=_createForOfIteratorHelper(_this46._shadowRoot.querySelectorAll("[id]")),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _t138=_step81.value;_this46.I[_t138.id]=_t138;}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}_this46.addEventListener("pointerdown",function(t){return _this46.zt(t);}),_this46.addEventListener("click",function(t){return _this46.N(t);}),_this46.I["close-button"].addEventListener("pointerdown",function(t){return _this46.ie(t);}),_this46.I["close-button"].addEventListener("click",function(t){return _this46.se(t);});return _this46;}_createClass(cn,[{key:"connectedCallback",value:function connectedCallback(){var _this47=this;this.Ct(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this47.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U());}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this48=this;return new Promise(/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(e){var _e107,_i110,_s86;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:if(!("0px"!==_this48.I["selection-indicator"].style.height)){_context28.next=7;break;}_e107=_this48.getBoundingClientRect(),_i110=t.getBoundingClientRect();_this48.setAttribute("animatingindicator","");_s86=_this48.I["selection-indicator"].animate([{left:"0px",width:_e107.width+"px"},{left:_i110.left-_e107.left+"px",width:_i110.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context28.next=6;return _s86.finished;case 6:_this48.removeAttribute("animatingindicator");case 7:e();case 8:case"end":return _context28.stop();}}},_callee28);}));return function(_x21){return _ref28.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var _this49=this;if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e108=Zs(this.parentNode,"[tabindex]");_e108&&_e108.focus();}{var _e109=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref29=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(t){var _t139,_i111;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(!(!0===_this49.selected)){_context29.next=6;break;}_t139=Date.now()-_e109,_i111=100;_context29.t0=_t139<_i111;if(!_context29.t0){_context29.next=6;break;}_context29.next=6;return Ks(_i111-_t139);case 6:_this49.removeAttribute("pressed");case 7:case"end":return _context29.stop();}}},_callee29);}));return function(_x22){return _ref29.apply(this,arguments);};}(),{once:!0});}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e110=this.I.ripples.getBoundingClientRect(),_i112=1.5*dn(_e110.width,_e110.height),_s87=t.clientY-_e110.y-_i112/2,_n52=t.clientX-_e110.x-_i112/2,_o38=Xs("div");_o38.setAttribute("class","ripple pointer-down-ripple"),_o38.setAttribute("style","width: ".concat(_i112,"px; height: ").concat(_i112,"px; top: ").concat(_s87,"px; left: ").concat(_n52,"px;")),this.I.ripples.append(_o38);var _l30=_o38.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var t,e;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return _l30.finished;case 2:t=getComputedStyle(_o38).opacity,e=_o38.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context30.next=5;return e.finished;case 5:_o38.remove();case 6:case"end":return _context30.stop();}}},_callee30);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(t){var _t140,_e111,_i113,_s88,_n53,_o39,_l31,_a20;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:if(!(0===t.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context31.next=10;break;}_t140=this.I.ripples.getBoundingClientRect(),_e111=1.5*dn(_t140.width,_t140.height),_i113=_t140.y+_t140.height/2-_t140.y-_e111/2,_s88=_t140.x+_t140.width/2-_t140.x-_e111/2,_n53=Xs("div");_n53.setAttribute("class","ripple click-ripple"),_n53.setAttribute("style","width: ".concat(_e111,"px; height: ").concat(_e111,"px; top: ").concat(_i113,"px; left: ").concat(_s88,"px;")),this.I.ripples.append(_n53);_o39=_n53.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=6;return _o39.finished;case 6:_l31=getComputedStyle(_n53).opacity,_a20=_n53.animate({opacity:[_l31,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=9;return _a20.finished;case 9:_n53.remove();case 10:case"end":return _context31.stop();}}},_callee31,this);}));function N(_x23){return _N3.apply(this,arguments);}return N;}()},{key:"ie",value:function ie(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e112=Zs(this.parentNode,"[tabindex]");_e112&&_e112.focus();}t.stopPropagation();}}},{key:"se",value:function se(t){if(0!==t.button)return;t.stopPropagation();var e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this);}}]);return cn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cn,"observedAttributes",["selected","disabled","size"]);_defineProperty(cn,"_shadowTemplate",Is(_templateObject134()));_defineProperty(cn,"_shadowStyleSheet",Ls(_templateObject135()));customElements.define("x-doctab",cn);var pn=Number.parseInt;var un=/*#__PURE__*/function(_HTMLElement12){_inherits(un,_HTMLElement12);var _super13=_createSuper(un);_createClass(un,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"maxTabs",get:function get(){return this.hasAttribute("maxtabs")?pn(this.getAttribute("maxtabs")):20;},set:function set(t){this.setAttribute("maxtabs",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function un(){var _temp15,_this50;_classCallCheck(this,un);(_temp15=_this50=_super13.call(this),_defineProperty(_assertThisInitialized(_this50),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this50),"I",{}),_defineProperty(_assertThisInitialized(_this50),"B",null),_defineProperty(_assertThisInitialized(_this50),"he",!1),_defineProperty(_assertThisInitialized(_this50),"ne",!1),_temp15),_this50._shadowRoot=_this50.attachShadow({mode:"closed",delegatesFocus:!1}),_this50._shadowRoot.adoptedStyleSheets=[un._shadowStyleSheet],_this50._shadowRoot.append(document.importNode(un._shadowTemplate.content,!0));var _iterator82=_createForOfIteratorHelper(_this50._shadowRoot.querySelectorAll("[id]")),_step82;try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var _t141=_step82.value;_this50.I[_t141.id]=_t141;}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}_this50.addEventListener("pointerdown",function(t){return _this50.zt(t);}),_this50.addEventListener("keydown",function(t){return _this50.kt(t);}),_this50.I["open-button"].addEventListener("click",function(t){return _this50.oe(t);});return _this50;}_createClass(un,[{key:"connectedCallback",value:function connectedCallback(){var _this51=this;this.U(),Us.addEventListener("sizechange",this.B=function(){return _this51.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U();}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"openTab",value:function openTab(t){var _this52=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref31=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(i,s){var _s89,_iterator83,_step83,_t142,_e113;return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!(_this52.querySelectorAll("x-doctab").length>=_this52.maxTabs)){_context32.next=4;break;}s("Can't open more than ".concat(_this52.maxTabs," tabs."));_context32.next=24;break;case 4:_s89=0;_iterator83=_createForOfIteratorHelper(_this52.children);try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){_t142=_step83.value;_e113=pn(_t142.style.order);!Number.isNaN(_e113)&&_e113>_s89&&(_s89=_e113);}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}t.style.order=_s89;if(!(!1===e)){_context32.next=12;break;}t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,_this52.append(t),i(t);_context32.next=24;break;case 12:_context32.t0=!0===e;if(!_context32.t0){_context32.next=24;break;}t.style.transition=null;t.style.maxWidth="0px";t.style.padding="0px";t.setAttribute("opening","");_this52.append(t);_context32.next=21;return Ks(30);case 21:t.addEventListener("transitionend",function(){t.removeAttribute("opening"),i(t);},{once:!0});t.style.maxWidth=null;t.style.padding=null;case 24:case"end":return _context32.stop();}}},_callee32);}));return function(_x24,_x25){return _ref31.apply(this,arguments);};}());}},{key:"closeTab",value:function closeTab(t){var _this53=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref32=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(i){var s,n,o,_iterator84,_step84,_t143,_e114,_i114,_t144,_iterator85,_step85,_t145;return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:s=_this53.getTabsByScreenIndex().filter(function(t){return!1===t.hasAttribute("closing");}),n=t.getBoundingClientRect().width,o=_this53.le(t);if(t.setAttribute("closing",""),o<s.length-1){_iterator84=_createForOfIteratorHelper(_this53.children);try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){_t143=_step84.value;!1===_t143.hasAttribute("closing")&&(_t143.style.transition="none",_t143.style.maxWidth=n+"px");}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}}if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",_this53.he=!0,t.selected){_e114=s[s.indexOf(t)-1],_i114=s[s.indexOf(t)+1];t.selected=!1,_i114?_i114.selected=!0:_e114&&(_e114.selected=!0);}if(t.matches(":focus")){_t144=_this53.querySelector("x-doctab[selected]");_t144?_t144.focus():_this53.focus();}t.style.maxWidth="0px";t.style.padding="0px";_context33.t0=e;if(!_context33.t0){_context33.next=10;break;}_context33.next=10;return Ks(150);case 10:t.remove();_this53.he=!1;t.removeAttribute("closing");i();if(_this53.ne){_context33.next=21;break;}_this53.ne=!0;_context33.next=18;return _this53.ae(3);case 18:_this53.ne=!1;_iterator85=_createForOfIteratorHelper(_this53.children);try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){_t145=_step85.value;_t145.style.transition=null,_t145.style.maxWidth=null,_t145.style.order=_this53.le(_t145);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}case 21:case"end":return _context33.stop();}}},_callee33);}));return function(_x26){return _ref32.apply(this,arguments);};}());}},{key:"selectPreviousTab",value:function selectPreviousTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.re(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectNextTab",value:function selectNextTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.de(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectTab",value:function selectTab(t){var e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0;}},{key:"moveSelectedTabLeft",value:function moveSelectedTabLeft(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator86=_createForOfIteratorHelper(this.children),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _t146=_step86.value;_t146.style.order=this.le(_t146);}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}if(0===pn(t.style.order)){var _iterator87=_createForOfIteratorHelper(this.children),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _e115=_step87.value;_e115.style.order=_e115===t?this.childElementCount-1:pn(_e115.style.order)-1;}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}}else{var _i115=this.ue(e-1);_i115.style.order=pn(_i115.style.order)+1,t.style.order=pn(t.style.order)-1;}}},{key:"moveSelectedTabRight",value:function moveSelectedTabRight(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator88=_createForOfIteratorHelper(this.children),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _t147=_step88.value;_t147.style.order=this.le(_t147);}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}if(pn(t.style.order)===this.childElementCount-1){var _iterator89=_createForOfIteratorHelper(this.children),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _e116=_step89.value;_e116.style.order=_e116===t?0:pn(_e116.style.order)+1;}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}}else{var _i116=this.ue(e+1);_i116.style.order=pn(_i116.style.order)-1,t.style.order=pn(t.style.order)+1;}}},{key:"ae",value:function ae(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;return new Promise(function(e){var i,s,n,o=null,l=function l(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",n);};window.addEventListener("pointermove",i=function i(_i117){if(null===o)o={x:_i117.clientX,y:_i117.clientY};else{var _s90={x:_i117.clientX,y:_i117.clientY};bs(o,_s90)>=t&&(l(),e());}}),window.addEventListener("pointerout",s=function s(t){null===t.toElement&&(l(),e());}),window.addEventListener("blur",n=function n(){l(),e();});});}},{key:"getTabsByScreenIndex",value:function getTabsByScreenIndex(){var t=Symbol();var _iterator90=_createForOfIteratorHelper(this.children),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _e117=_step90.value;_e117[t]=this.le(_e117);}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}return _toConsumableArray(this.children).sort(function(e,i){return e[t]>i[t];});}},{key:"le",value:function le(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{var _t148=e.width/2;for(var _s91=1;_s91<this.maxTabs;_s91+=1){if(e.left-i.left>=_t148&&e.left-i.left<_t148+e.width)return _s91>this.childElementCount-1?this.childElementCount-1:_s91;_t148+=e.width;}}}},{key:"ue",value:function ue(t){var _iterator91=_createForOfIteratorHelper(this.children),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _e118=_step91.value;if(this.le(_e118)===t)return _e118;}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}return null;}},{key:"re",value:function re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t149=n-1;_t149>=0;_t149-=1){var _i118=s[_t149];if(!e||!_i118.disabled){o=_i118;break;}}if(i&&null===o)for(var _t150=s.length-1;_t150>n;_t150-=1){var _i119=s[_t150];if(!e||!_i119.disabled){o=_i119;break;}}return o;}},{key:"de",value:function de(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t151=n+1;_t151<s.length;_t151+=1){var _i120=s[_t151];if(!e||!_i120.disabled){o=_i120;break;}}if(i&&null===o)for(var _t152=0;_t152<n;_t152+=1){var _i121=s[_t152];if(!e||!_i121.disabled){o=_i121;break;}}return o;}},{key:"zt",value:function zt(t){1===t.buttons&&!this.he&&t.target.closest("x-doctab")&&this.ce(t);}},{key:"ce",value:function(){var _ce=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(t){var _this54=this;var _e119,_i122,s,n,o;return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:if(!(!1===t.isPrimary)){_context34.next=2;break;}return _context34.abrupt("return");case 2:s=t.target.closest("x-doctab"),n=this.querySelector("x-doctab[selected]");n!==s&&(n?n.animateSelectionIndicator(s).then(function(){_this54.selectTab(s),_this54.dispatchEvent(new CustomEvent("select",{detail:s}));}):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);o=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",_e119=function e(n){var l=new DOMPoint(n.clientX,n.clientY),a=n.timeStamp-t.timeStamp,h=bs(o,l)>3||a>80;n.isPrimary&&h&&(_this54.removeEventListener("pointermove",_e119),_this54.removeEventListener("lostpointercapture",_i122),_this54.pe(t,s));}),this.addEventListener("lostpointercapture",_i122=function i(){_this54.removeEventListener("pointermove",_e119),_this54.removeEventListener("lostpointercapture",_i122);});case 6:case"end":return _context34.stop();}}},_callee34,this);}));function ce(_x27){return _ce.apply(this,arguments);}return ce;}()},{key:"pe",value:function pe(t,e){var _this55=this;var i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),n=Symbol(),o=Symbol(),l=Symbol();e.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");var _iterator92=_createForOfIteratorHelper(this.children),_step92;try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var _t157=_step92.value;var _i123=this.le(_t157);_t157[o]=_i123,_t157[n]=_i123,_t157[l]=_t157.getBoundingClientRect().left-s.left,_t157!==e&&(_t157.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)");}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}var a=function a(t,s){if(s>t+1)for(var _e120=t;_e120<s;_e120+=1){a(_e120,_e120+1);}else if(s<t-1)for(var _e121=t;_e121>s;_e121-=1){a(_e121,_e121-1);}else{var _iterator93=_createForOfIteratorHelper(_this55.children),_step93;try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){var _n54=_step93.value;if(_n54!==e){_n54[o]===s&&(_n54[o]=t);var _e122=-_n54[l];for(var _t153=0;_t153<_n54[o];_t153+=1){_e122+=i.width;}_n54.style.transform=0===_e122?null:"translate("+_e122+"px)";}}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}}},h=function h(n){if(n.isPrimary){var _h15=n.clientX-t.clientX;_h15+e[l]<=0?_h15=-e[l]:_h15+e[l]+i.width>s.width&&(_h15=s.width-e[l]-i.width),e.style.transform="translate("+_h15+"px)";var _r11=_this55.le(e);if(_r11!==e[o]){var _t154=e[o];e[o]=_r11,a(_t154,e[o]);}}},r=/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(t){var s,_t155,_iterator94,_step94,_t156;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:_this55.removeEventListener("pointermove",h),_this55.removeEventListener("lostpointercapture",r);s=-e[l];for(_t155=0;_t155<e[o];_t155+=1){s+=i.width;}e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)";e.style.transform="translate("+s+"px)";e[n]!==e[o]&&_this55.dispatchEvent(new CustomEvent("rearrange"));_context35.next=8;return Ks(150);case 8:e.style.zIndex=null;_this55.I["open-button"].style.opacity=null;_iterator94=_createForOfIteratorHelper(_this55.children);try{for(_iterator94.s();!(_step94=_iterator94.n()).done;){_t156=_step94.value;_t156.style.transition="none",_t156.style.transform="translate(0px, 0px)",_t156.style.order=_t156[o];}}catch(err){_iterator94.e(err);}finally{_iterator94.f();}case 12:case"end":return _context35.stop();}}},_callee35);}));return function r(_x28){return _ref33.apply(this,arguments);};}();this.addEventListener("pointermove",h),this.addEventListener("lostpointercapture",r);}},{key:"oe",value:function oe(t){if(0===t.button){var _t158=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(_t158),!1===_t158.defaultPrevented){var _t159=Is(_templateObject2());_t159.style.order=this.childElementCount,this.openTab(_t159),this.selectTab(_t159);}}}},{key:"kt",value:function kt(t){var _this56=this;if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){var _e123=this.querySelector('x-doctab[tabindex="0"]'),_i124=this.querySelector("x-doctab[selected]");t.preventDefault(),_e123.click(),_e123!==_i124&&(_i124?_i124.animateSelectionIndicator(_e123).then(function(){_this56.selectTab(_e123),_this56.dispatchEvent(new CustomEvent("select",{detail:_e123}));}):(this.selectTab(_e123),this.dispatchEvent(new CustomEvent("select",{detail:_e123}))));}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();var _e124=this.querySelector('x-doctab[tabindex="0"]'),_i125=this.re(_e124);_i125&&(t.preventDefault(),_e124.tabIndex=-1,_i125.tabIndex=0,_i125.focus());}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();var _e125=this.querySelector('x-doctab[tabindex="0"]'),_i126=this.de(_e125);_i126&&(t.preventDefault(),_e125.tabIndex=-1,_i126.tabIndex=0,_i126.focus());}}}]);return un;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(un,"observedAttributes",["size"]);_defineProperty(un,"_shadowTemplate",Is(_templateObject136()));_defineProperty(un,"_shadowStyleSheet",Ls(_templateObject137()));customElements.define("x-doctabs",un);var xn=/*#__PURE__*/function(_HTMLElement13){_inherits(xn,_HTMLElement13);var _super14=_createSuper(xn);_createClass(xn,[{key:"name",get:function get(){return this.hasAttribute("name")?this.getAttribute("name"):"";},set:function set(t){this.setAttribute("name",t);}},{key:"iconset",get:function get(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset");},set:function set(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function xn(){var _temp16,_this57;_classCallCheck(this,xn);(_temp16=_this57=_super14.call(this),_defineProperty(_assertThisInitialized(_this57),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this57),"I",{}),_defineProperty(_assertThisInitialized(_this57),"me",null),_defineProperty(_assertThisInitialized(_this57),"B",null),_temp16),_this57._shadowRoot=_this57.attachShadow({mode:"closed"}),_this57._shadowRoot.adoptedStyleSheets=[xn._shadowStyleSheet],_this57._shadowRoot.append(document.importNode(xn._shadowTemplate.content,!0));var _iterator95=_createForOfIteratorHelper(_this57._shadowRoot.querySelectorAll("[id]")),_step95;try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var _t160=_step95.value;_this57.I[_t160.id]=_t160;}}catch(err){_iterator95.e(err);}finally{_iterator95.f();}return _this57;}_createClass(xn,[{key:"connectedCallback",value:function connectedCallback(){var _this58=this;Us.addEventListener("iconsetchange",this.me=function(){_this58.nt();}),Us.addEventListener("sizechange",this.B=function(){_this58.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("iconsetchange",this.me),Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function(){var _nt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var _t161,_e126;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:if(!(""===this.name)){_context36.next=4;break;}this.I.svg.innerHTML="";_context36.next=16;break;case 4:_t161=null;if(!this.iconset){_context36.next=12;break;}_context36.next=8;return Gs(this.iconset);case 8:_e126=_context36.sent;_e126&&(_t161=_e126.querySelector("#"+CSS.escape(this.name)));_context36.next=15;break;case 12:_context36.next=14;return Us.whenIconsetReady;case 14:_t161=Us.iconsetElement.querySelector("#"+CSS.escape(this.name));case 15:_t161?(this.I.svg.setAttribute("viewBox",_t161.getAttribute("viewBox")),this.I.svg.innerHTML=_t161.innerHTML):this.I.svg.innerHTML="";case 16:case"end":return _context36.stop();}}},_callee36,this);}));function nt(){return _nt.apply(this,arguments);}return nt;}()},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return xn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xn,"observedAttributes",["name","iconset","size"]);_defineProperty(xn,"_shadowTemplate",Is(_templateObject138()));_defineProperty(xn,"_shadowStyleSheet",Ls(_templateObject139()));customElements.define("x-icon",xn);var bn=/*#__PURE__*/function(_HTMLElement14){_inherits(bn,_HTMLElement14);var _super15=_createSuper(bn);_createClass(bn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"text";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.I.input.value;},set:function set(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be());}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"readOnly",get:function get(){return this.hasAttribute("readonly");},set:function set(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function bn(){var _temp17,_this59;_classCallCheck(this,bn);(_temp17=_this59=_super15.call(this),_defineProperty(_assertThisInitialized(_this59),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this59),"I",{}),_defineProperty(_assertThisInitialized(_this59),"yt",0),_defineProperty(_assertThisInitialized(_this59),"B",null),_temp17),_this59._shadowRoot=_this59.attachShadow({mode:"closed",delegatesFocus:!0}),_this59._shadowRoot.adoptedStyleSheets=[bn._shadowStyleSheet],_this59._shadowRoot.append(document.importNode(bn._shadowTemplate.content,!0));var _iterator96=_createForOfIteratorHelper(_this59._shadowRoot.querySelectorAll("[id]")),_step96;try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var _t162=_step96.value;_this59.I[_t162.id]=_t162;}}catch(err){_iterator96.e(err);}finally{_iterator96.f();}_this59.addEventListener("focusin",function(t){return _this59.ge(t);}),_this59.addEventListener("focusout",function(t){return _this59.xe(t);}),_this59.addEventListener("keydown",function(t){return _this59.kt(t);}),_this59.I.input.addEventListener("change",function(t){return _this59.Kt(t);}),_this59.I.input.addEventListener("input",function(t){return _this59.fe(t);}),_this59.I.input.addEventListener("search",function(t){return _this59.we(t);});return _this59;}_createClass(bn,[{key:"connectedCallback",value:function connectedCallback(){var _this60=this;this.Ct(),this.U(),this.be(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),Us.addEventListener("sizechange",this.B=function(){return _this60.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"type"===t?this.ve():"value"===t?this.ot():"spellcheck"===t?this.ye():"maxlength"===t?this.ze():"readonly"===t?this.ke():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.Ce();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===function(t){try{new As().parse(t);}catch(t){return!1;}return!0;}(this.I.input.value)?this.error="Invalid color":this.error=null;}},{key:"selectAll",value:function selectAll(){this.I.input.select();}},{key:"clear",value:function clear(){this.value="",this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ve",value:function ve(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type;}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll();}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"ze",value:function ze(){this.I.input.maxLength=this.maxLength;}},{key:"ke",value:function ke(){this.I.input.readOnly=this.readOnly,this.Ct();}},{key:"qt",value:function qt(){this.I.input.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"Ce",value:function Ce(){this.U();}},{key:"ge",value:function ge(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate();}},{key:"kt",value:function kt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate());}},{key:"fe",value:function fe(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.be(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}));}},{key:"Kt",value:function Kt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"we",value:function we(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}]);return bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bn,"observedAttributes",["type","value","spellcheck","maxlength","readonly","disabled","validation","size"]);_defineProperty(bn,"_shadowTemplate",Is(_templateObject140()));_defineProperty(bn,"_shadowStyleSheet",Ls(_templateObject141()));customElements.define("x-input",bn);var mn=/*#__PURE__*/function(_HTMLElement15){_inherits(mn,_HTMLElement15);var _super16=_createSuper(mn);_createClass(mn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function mn(){var _temp18,_this61;_classCallCheck(this,mn);(_temp18=_this61=_super16.call(this),_defineProperty(_assertThisInitialized(_this61),"_shadowRoot",null),_temp18),_this61._shadowRoot=_this61.attachShadow({mode:"closed"}),_this61._shadowRoot.adoptedStyleSheets=[mn._shadowStyleSheet],_this61._shadowRoot.append(document.importNode(mn._shadowTemplate.content,!0));return _this61;}return mn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mn,"_shadowTemplate",Is(_templateObject142()));_defineProperty(mn,"_shadowStyleSheet",Ls(_templateObject143()));customElements.define("x-label",mn);var gn=Math.abs;var fn=/*#__PURE__*/function(_HTMLElement16){_inherits(fn,_HTMLElement16);var _super17=_createSuper(fn);_createClass(fn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}}]);function fn(){var _temp19,_this62;_classCallCheck(this,fn);(_temp19=_this62=_super17.call(this),_defineProperty(_assertThisInitialized(_this62),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this62),"I",{}),_defineProperty(_assertThisInitialized(_this62),"Se",[]),_defineProperty(_assertThisInitialized(_this62),"Ee",null),_defineProperty(_assertThisInitialized(_this62),"Ae",null),_defineProperty(_assertThisInitialized(_this62),"Le",0),_defineProperty(_assertThisInitialized(_this62),"Te",0),_defineProperty(_assertThisInitialized(_this62),"Me",!1),_defineProperty(_assertThisInitialized(_this62),"De",!1),_defineProperty(_assertThisInitialized(_this62),"$e",null),_temp19),_this62._shadowRoot=_this62.attachShadow({mode:"closed"}),_this62._shadowRoot.adoptedStyleSheets=[fn._shadowStyleSheet],_this62._shadowRoot.append(document.importNode(fn._shadowTemplate.content,!0));var _iterator97=_createForOfIteratorHelper(_this62._shadowRoot.querySelectorAll("[id]")),_step97;try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){var _t163=_step97.value;_this62.I[_t163.id]=_t163;}}catch(err){_iterator97.e(err);}finally{_iterator97.f();}_this62.addEventListener("pointerdown",function(t){return _this62.zt(t);}),_this62.addEventListener("pointerover",function(t){return _this62.Pe(t);}),_this62.addEventListener("pointerout",function(t){return _this62.Re(t);}),_this62.addEventListener("pointermove",function(t){return _this62.Ie(t);}),_this62.addEventListener("keydown",function(t){return _this62.kt(t);}),_this62.addEventListener("wheel",function(t){return _this62.Oe(t);},{passive:!1}),_this62.addEventListener("scroll",function(t){return _this62.Be(t);},{passive:!0});return _this62;}_createClass(fn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"opened"===t&&this.He();}},{key:"openOverElement",value:function openOverElement(t,e){var _this63=this;return new Promise(/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee37(i){var s,_i127,_n55,_o40,_l32,_a21,_h16,_t164,_e127,_t165,_e128,_t166,_this63$Ne,_this63$Ne2,_e129,_i128,_s92,_t167,_e130;return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:s=_this63.querySelectorAll(":scope > x-menuitem");if(!(s.length>0)){_context37.next=12;break;}_this63.Me=!0,_this63.$e=Qs(),_this63.Fe(),_this63.setAttribute("opened","");_i127=_toConsumableArray(s).find(function(t){return t.contains(e);})||s[0],_n55=_this63.getBoundingClientRect(),_o40=t.getBoundingClientRect(),_l32=e.getBoundingClientRect(),_a21=0,_h16=0;if(_i127.focus(),0===_n55.top&&0===_n55.left||(_a21=-_n55.left,_h16=-_n55.top),_this63.style.left=_o40.x-(_l32.x-_n55.x)+_a21+"px",_this63.style.top=_o40.y-(_l32.y-_n55.y)+_h16+"px",_n55=_this63.getBoundingClientRect(),_n55.left<7&&(_this63.style.left=7+_a21+"px",_n55=_this63.getBoundingClientRect()),7-_n55.top>0&&(_this63.style.height=_n55.bottom-7+"px",_this63.style.top=7+_h16+"px",_this63.scrollTop=9999,_n55=_this63.getBoundingClientRect()),_n55.bottom+7>window.innerHeight){_t164=_n55.bottom-window.innerHeight,_e127=_n55.height-_t164-7;_this63.style.height=_e127+"px";}if(_n55.right+7>window.innerWidth){_t165=_n55.right-window.innerWidth,_e128=_n55.width-_t165-7;_this63.style.width="".concat(_e128,"px");}_t166=getComputedStyle(_this63).getPropertyValue("--open-transition"),_this63$Ne=_this63.Ne(_t166),_this63$Ne2=_slicedToArray(_this63$Ne,3),_e129=_this63$Ne2[0],_i128=_this63$Ne2[1],_s92=_this63$Ne2[2];if(!("transform"===_e129)){_context37.next=11;break;}_t167=_this63.getBoundingClientRect(),_e130=_o40.y+_o40.height/2-_t167.top;_context37.next=11;return _this63.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:["0 ".concat(_e130,"px"),"0 ".concat(_e130,"px")]},{duration:_i128,easing:_s92}).finished;case 11:_this63.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this63})),_this63.Te=_h16;case 12:i();case 13:case"end":return _context37.stop();}}},_callee37);}));return function(_x29){return _ref34.apply(this,arguments);};}());}},{key:"openOverLabel",value:function openOverLabel(t){var _this64=this;return new Promise(/*#__PURE__*/function(){var _ref35=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee38(e){var i,_e131,_s93;return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:i=_this64.querySelectorAll(":scope > x-menuitem");if(!(i.length>0)){_context38.next=8;break;}_this64.Fe(),_this64.setAttribute("opened",""),_this64.Me=!0,_this64.$e=Qs();_e131=_toConsumableArray(i).find(function(e){var i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent);});_e131||(_e131=i[0]);_s93=_e131.querySelector("x-label");_context38.next=8;return _this64.openOverElement(t,_s93);case 8:e();case 9:case"end":return _context38.stop();}}},_callee38);}));return function(_x30){return _ref35.apply(this,arguments);};}());}},{key:"openNextToElement",value:function openNextToElement(t){var _this65=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"horizontal";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(/*#__PURE__*/function(){var _ref36=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee39(s){var n,o,l,a,h,_t168,_t169,_e132,_t170,_e133,_e134,_this65$Ne,_this65$Ne2,_i129,_s94,_n56,_e135,_t171,_t172,_t173,_t174,_t175,_t176,_this65$Ne3,_this65$Ne4,_i130,_s95,_n57;return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_this65.Me=!1,_this65.$e=Qs(),_this65.Fe(),_this65.setAttribute("opened",""),_this65.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this65})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");n=getComputedStyle(_this65).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),l=_this65.getBoundingClientRect(),a=0,h=0;if(!(0===l.top&&0===l.left||(a=-l.left,h=-l.top),"horizontal"===e)){_context39.next=18;break;}_this65.style.top=o.top+h+"px",_this65.style.left=o.left+o.width+i+a+"px";_t168="right";_t169=_this65.getBoundingClientRect();_t169.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t169.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");_e132=_this65.getBoundingClientRect();_e132.left+_e132.width+7>window.innerWidth&&(o.left>_e132.width+7?(_this65.style.left=o.left-_e132.width+a+"px",_t168="left"):o.left>window.innerWidth-(o.left+o.width)?(_this65.style.left=7+a+"px",_t168="left"):(_this65.style.left=window.innerWidth-_e132.width-7+a+"px",_t168="right"));_t170=_this65.getBoundingClientRect();if(_t170.top+_t170.height+7>window.innerHeight){_e133=_t170.top+_t170.height+7-window.innerHeight;_this65.style.top=_t170.top-_e133+h+"px";}_e134=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne=_this65.Ne(_e134),_this65$Ne2=_slicedToArray(_this65$Ne,3),_i129=_this65$Ne2[0],_s94=_this65$Ne2[1],_n56=_this65$Ne2[2];_context39.t0="transform"===_i129;if(!_context39.t0){_context39.next=16;break;}_context39.next=16;return _this65.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===_t168?"100% 0":"0 0","left"===_t168?"100% 0":"0 0"]},{duration:_s94,easing:_n56}).finished;case 16:_context39.next=30;break;case 18:if(!("vertical"===e)){_context39.next=30;break;}_this65.style.top=o.top+o.height+i+h+"px",_this65.style.left="0px";_e135="bottom";_t171=_this65.getBoundingClientRect();_t171.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t171.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");if(t.parentElement&&"x-menubar"===t.parentElement.localName){_t172=_this65.getBoundingClientRect();_t172.top+_t172.height+7>window.innerHeight&&(_this65.style.height=window.innerHeight-(o.top+o.height)-10+"px");}else{_t173=_this65.getBoundingClientRect();_t173.top+_t173.height+7>window.innerHeight&&(o.top>_t173.height+7?(_this65.style.top=o.top-_t173.height-i+h+"px",_e135="top"):o.top>window.innerHeight-(o.top+o.height)?(_this65.style.top=7+h+"px",_e135="top"):(_this65.style.top=window.innerHeight-_t173.height-7+h+"px",_e135="bottom"));}if("start"===n){_this65.style.left=o.left+a+"px";{_t174=_this65.getBoundingClientRect();_t174.left+_t174.width+7>window.innerWidth&&(_this65.style.left=o.left+o.width-_t174.width+a+"px");}_this65.getBoundingClientRect().left<7&&(_this65.style.left=7+a+"px");}else if("end"===n){_this65.style.left=o.left+o.width-l.width+a+"px",_this65.getBoundingClientRect().left<7&&(_this65.style.left=o.left+a+"px");{_t175=_this65.getBoundingClientRect();_t175.left+_t175.width+7>window.innerWidth&&(_this65.style.left=window.innerWidth-7+a+"px");}}_t176=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne3=_this65.Ne(_t176),_this65$Ne4=_slicedToArray(_this65$Ne3,3),_i130=_this65$Ne4[0],_s95=_this65$Ne4[1],_n57=_this65$Ne4[2];_context39.t1="transform"===_i130;if(!_context39.t1){_context39.next=30;break;}_context39.next=30;return _this65.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===_e135?"0 100%":"0 0","top"===_e135?"0 100%":"0 0"]},{duration:_s95,easing:_n57}).finished;case 30:_this65.Te=h,s();case 31:case"end":return _context39.stop();}}},_callee39);}));return function(_x31){return _ref36.apply(this,arguments);};}());}},{key:"openAtPoint",value:function openAtPoint(t,e){var _this66=this;return new Promise(/*#__PURE__*/function(){var _ref37=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee40(i){var s,n,o,_t177,_this66$Ne,_this66$Ne2,_e136,_i131,_s96;return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:_this66.Me=!1,_this66.$e=Qs(),_this66.Fe(),_this66.setAttribute("opened",""),_this66.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this66}));s=_this66.getBoundingClientRect(),n=0,o=0;0===s.top&&0===s.left||(n=-s.left,o=-s.top),_this66.style.left=t+n+"px",_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,_this66.style.left=t+n+"px",s=_this66.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.top<7&&(e=7,_this66.style.top=e+o+"px",_this66.style.height=window.innerHeight-7-7+"px"));_t177=getComputedStyle(_this66).getPropertyValue("--open-transition"),_this66$Ne=_this66.Ne(_t177),_this66$Ne2=_slicedToArray(_this66$Ne,3),_e136=_this66$Ne2[0],_i131=_this66$Ne2[1],_s96=_this66$Ne2[2];_context40.t0="transform"===_e136;if(!_context40.t0){_context40.next=8;break;}_context40.next=8;return _this66.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished;case 8:_this66.Te=o,i();case 9:case"end":return _context40.stop();}}},_callee40);}));return function(_x32){return _ref37.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this67=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref38=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee41(e){var _e137,_t178,_this67$Ne,_this67$Ne2,_e138,_i132,_s97,_iterator98,_step98,_t179,_e139;return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:if(!_this67.opened){_context41.next=13;break;}_this67.removeAttribute("opened"),_this67.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this67}));_e137=_this67.closest("x-menuitem");if(!(_e137&&_e137.removeAttribute("expanded"),t)){_context41.next=11;break;}_this67.setAttribute("animating","");_t178=getComputedStyle(_this67).getPropertyValue("--close-transition"),_this67$Ne=_this67.Ne(_t178),_this67$Ne2=_slicedToArray(_this67$Ne,3),_e138=_this67$Ne2[0],_i132=_this67$Ne2[1],_s97=_this67$Ne2[2];_context41.t0="opacity"===_e138;if(!_context41.t0){_context41.next=10;break;}_context41.next=10;return _this67.animate({opacity:["1","0"]},{duration:_i132,easing:_s97}).finished;case 10:_this67.removeAttribute("animating");case 11:_iterator98=_createForOfIteratorHelper(_this67.querySelectorAll(":scope > x-menuitem"));try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){_t179=_step98.value;_e139=_t179.querySelector("x-menu[opened]");_e139&&_e139.close();}}catch(err){_iterator98.e(err);}finally{_iterator98.f();}case 13:e();case 14:case"end":return _context41.stop();}}},_callee41);}));return function(_x33){return _ref38.apply(this,arguments);};}());}},{key:"focusNextMenuItem",value:function focusNextMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e140=null;for(var _i133=t.nextElementSibling;_i133;_i133=_i133.nextElementSibling){if("x-menuitem"===_i133.localName&&!1===_i133.disabled&&!1===_i133.hidden){_e140=_i133;break;}}if(null===_e140&&null!=t.parentElement){var _iterator99=_createForOfIteratorHelper(t.parentElement.children),_step99;try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var _i134=_step99.value;if("x-menuitem"===_i134.localName&&!1===_i134.disabled&&!1===_i134.hidden){_e140=_i134;break;}}}catch(err){_iterator99.e(err);}finally{_iterator99.f();}}if(_e140){_e140.focus();var _i135=t.querySelector("x-menu");_i135&&_i135.close();}}else this.focusFirstMenuItem();}},{key:"focusPreviousMenuItem",value:function focusPreviousMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e141=null;for(var _i136=t.previousElementSibling;_i136;_i136=_i136.previousElementSibling){if("x-menuitem"===_i136.localName&&!1===_i136.disabled&&!1===_i136.hidden){_e141=_i136;break;}}if(null===_e141&&null!=t.parentElement){var _iterator100=_createForOfIteratorHelper(_toConsumableArray(t.parentElement.children).reverse()),_step100;try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){var _i137=_step100.value;if("x-menuitem"===_i137.localName&&!1===_i137.disabled&&!1===_i137.hidden){_e141=_i137;break;}}}catch(err){_iterator100.e(err);}finally{_iterator100.f();}}if(_e141){_e141.focus();var _i138=t.querySelector("x-menu");_i138&&_i138.close();}}else this.focusLastMenuItem();}},{key:"focusFirstMenuItem",value:function focusFirstMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus();}},{key:"focusLastMenuItem",value:function focusLastMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus();}},{key:"qe",value:function qe(t){var _this68=this;var e=0;{var _t180=this.Se[this.Se.length-1],_i139=this.Se[0];if(this.querySelector("x-menu[opened]")&&_t180){_i139||(_i139=_t180);var _s98=this.getBoundingClientRect(),_n58={x:_s98.left,y:_s98.top-75},_o41={x:_s98.left+_s98.width,y:_n58.y},_l33={x:_s98.left,y:_s98.top+_s98.height+75},_a22={x:_s98.left+_s98.width,y:_l33.y},_h17=!0;if((_i139.x<_s98.left||_i139.x>_a22.x||_i139.y<_s98.top||_i139.y>_a22.y)&&(_h17=!1),this.Ae&&_t180.x===this.Ae.x&&_t180.y===this.Ae.y&&(_h17=!1),_h17){var _s99,_n59;_s99=_o41,_n59=_a22;var _l34=function _l34(t,e){return(e.y-t.y)/(e.x-t.x);},_h18=_l34(_t180,_s99),_r12=_l34(_t180,_n59),_d6=_l34(_i139,_s99),_c3=_l34(_i139,_n59);_h18<_d6&&_r12>_c3?(this.Ae=_t180,e=300):this.Ae=null;}}}e>0?this.Ee=setTimeout(function(){_this68.qe(t);},e):t();}},{key:"Ue",value:function Ue(){this.Ee&&(clearTimeout(this.Ee),this.Ee=null);}},{key:"Fe",value:function Fe(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null;}},{key:"je",value:function je(){return this.matches("*[closing], *[closing] x-menu");}},{key:"Ne",value:function Ne(t){var _t$trim$split=t.trim().split(" "),_t$trim$split2=_toArray(_t$trim$split),e=_t$trim$split2[0],i=_t$trim$split2[1],s=_t$trim$split2.slice(2);return[i,parseFloat(e),s.join(" ")];}},{key:"He",value:function He(){this.setAttribute("aria-hidden",!this.opened);}},{key:"zt",value:function zt(t){var _this69=this;if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e142=t.target.closest("x-menuitem");_e142&&!1===_e142.disabled&&_e142.closest("x-menu")===this?!1===_e142.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var t,_e143,i,s,_iterator101,_step101,_t181,_e144;return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:t=_this69.querySelector(":scope > x-menuitem:focus");if(t){_e143=t.querySelector("x-menu");_e143&&_e143.close();}_e142.closest("x-menu");i=_e142.querySelector("x-menu"),s=_toConsumableArray(_this69.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e142;});_context42.t0=i;if(!_context42.t0){_context42.next=9;break;}_context42.next=8;return Ks(60);case 8:_e142.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e142,"horizontal");case 9:_iterator101=_createForOfIteratorHelper(s);try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){_t181=_step101.value;_e144=_t181.querySelector("x-menu");_e144&&_e144.close();}}catch(err){_iterator101.e(err);}finally{_iterator101.f();}case 11:case"end":return _context42.stop();}}},_callee42);}))):this.qe(function(){_this69.focus();});}}}},{key:"Pe",value:function Pe(t){var _this70=this;if(!this.je()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e145=t.target.closest("x-menuitem");_e145&&!1===_e145.disabled&&_e145.closest("x-menu")===this?!1===_e145.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){var t,_e146,i,s,_iterator102,_step102,_t182,_e147;return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:t=_this70.querySelector(":scope > x-menuitem:focus");if(t){_e146=t.querySelector("x-menu");_e146&&_e146.close();}_e145.focus(),_e145.closest("x-menu");i=_e145.querySelector("x-menu"),s=_toConsumableArray(_this70.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e145;});_context43.t0=i;if(!_context43.t0){_context43.next=9;break;}_context43.next=8;return Ks(60);case 8:_e145.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e145,"horizontal");case 9:_iterator102=_createForOfIteratorHelper(s);try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){_t182=_step102.value;_e147=_t182.querySelector("x-menu");_e147&&_e147.close();}}catch(err){_iterator102.e(err);}finally{_iterator102.f();}case 11:case"end":return _context43.stop();}}},_callee43);}))):this.qe(function(){_this70.focus();});}}}},{key:"Re",value:function Re(t){t.relatedTarget&&Zs(t.relatedTarget,"x-menu")===this||!0===this.De&&this.Xe();}},{key:"Ke",value:function Ke(){this.je()||(this.De=!0,this.Ue());}},{key:"Xe",value:function Xe(){this.je()||(this.De=!1,this.Ue(),this.focus());}},{key:"Ie",value:function Ie(t){this.Se.push({x:t.clientX,y:t.clientY}),this.Se.length>3&&this.Se.shift();}},{key:"Oe",value:function Oe(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.De=!0):this.De=!1;}},{key:"Be",value:function Be(){if(this.Me){var _t183=this.scrollTop-this.Le;if(this.Le=this.scrollTop,Qs()-this.$e>100){var _e148=this.getBoundingClientRect();_t183<0?_e148.bottom+gn(_t183)<=window.innerHeight-7?this.style.height=_e148.height+gn(_t183)+"px":this.style.height=window.innerHeight-14+"px":_t183>0&&(_e148.top-_t183>=7?(this.style.top=this.Te+_e148.top-_t183+"px",this.style.height=_e148.height+_t183+"px",this.scrollTop=0,this.Le=0):(this.style.top=7+this.Te+"px",this.style.height=window.innerHeight-14+"px"));}}}},{key:"kt",value:function kt(t){if(this.je())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){var _e149=this.querySelector("x-menuitem:focus");if(_e149){var _i140=_e149.querySelector("x-menu");if(_i140){t.preventDefault(),t.stopPropagation(),!1===_i140.opened&&_i140.openNextToElement(_e149,"horizontal");var _s100=_i140.querySelector("x-menuitem:not([disabled]):not([hidden])");_s100&&_s100.focus();}}}else if("ArrowLeft"===t.code){var _e150=this.querySelector("x-menuitem:focus");if(_e150){var _i141=_e150.closest("x-menu").closest("x-menuitem");_i141&&_i141.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),_i141.focus(),this.close());}}}}]);return fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fn,"observedAttributes",["opened"]);_defineProperty(fn,"_shadowTemplate",Is(_templateObject144()));_defineProperty(fn,"_shadowStyleSheet",Ls(_templateObject145()));customElements.define("x-menu",fn);var wn=/*#__PURE__*/function(_HTMLElement17){_inherits(wn,_HTMLElement17);var _super18=_createSuper(wn);_createClass(wn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function wn(){var _temp20,_this71;_classCallCheck(this,wn);(_temp20=_this71=_super18.call(this),_defineProperty(_assertThisInitialized(_this71),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this71),"I",{}),_defineProperty(_assertThisInitialized(_this71),"Ve",!1),_defineProperty(_assertThisInitialized(_this71),"Ze",null),_defineProperty(_assertThisInitialized(_this71),"B",null),_temp20),_this71._shadowRoot=_this71.attachShadow({mode:"closed"}),_this71._shadowRoot.adoptedStyleSheets=[wn._shadowStyleSheet],_this71._shadowRoot.append(document.importNode(wn._shadowTemplate.content,!0));var _iterator103=_createForOfIteratorHelper(_this71._shadowRoot.querySelectorAll("[id]")),_step103;try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var _t184=_step103.value;_this71.I[_t184.id]=_t184;}}catch(err){_iterator103.e(err);}finally{_iterator103.f();}_this71.addEventListener("focusout",function(t){return _this71.xe(t);}),_this71._shadowRoot.addEventListener("pointerover",function(t){return _this71.Ge(t);}),_this71._shadowRoot.addEventListener("click",function(t){return _this71.Ye(t);}),_this71._shadowRoot.addEventListener("wheel",function(t){return _this71.We(t);}),_this71._shadowRoot.addEventListener("keydown",function(t){return _this71.Je(t);});return _this71;}_createClass(wn,[{key:"connectedCallback",value:function connectedCallback(){var _this72=this;this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),Us.addEventListener("sizechange",this.B=function(){_this72.U();}),window.addEventListener("orientationchange",this.Ze=function(){_this72.Qe();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ze);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ti",value:function ti(t){var e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.Ve=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");var _i142=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem > x-menu")).filter(function(t){return t!==e;});var _iterator104=_createForOfIteratorHelper(_i142),_step104;try{for(_iterator104.s();!(_step104=_iterator104.n()).done;){var _t185=_step104.value;_t185&&_t185.close(!1);}}catch(err){_iterator104.e(err);}finally{_iterator104.f();}}{var _this$getBoundingClie=this.getBoundingClientRect(),_t186=_this$getBoundingClie.x,_e151=_this$getBoundingClie.y,_i143=_this$getBoundingClie.width,_s101=_this$getBoundingClie.height;this.I["backdrop-path"].setAttribute("d","\n          M 0 0\n          L ".concat(window.innerWidth," 0\n          L ").concat(window.innerWidth," ").concat(window.innerHeight,"\n          L 0 ").concat(window.innerHeight,"\n          L 0 0\n          M ").concat(_t186," ").concat(_e151,"\n          L ").concat(_t186+_i143," ").concat(_e151,"\n          L ").concat(_t186+_i143," ").concat(_e151+_s101,"\n          L ").concat(_t186," ").concat(_e151+_s101,"\n        ")),this.I.backdrop.removeAttribute("hidden");}}}},{key:"ei",value:function ei(){var _this73=this;return new Promise(/*#__PURE__*/function(){var _ref41=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(t){var _t187,_iterator105,_step105,_e152,e;return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:_this73.Ve=!1,_this73.style.touchAction=null,_this73.I.backdrop.setAttribute("hidden",""),_this73.I["backdrop-path"].setAttribute("d","");_t187=_this73.querySelectorAll(":scope > x-menuitem > x-menu[opened]");_iterator105=_createForOfIteratorHelper(_t187);_context44.prev=3;_iterator105.s();case 5:if((_step105=_iterator105.n()).done){_context44.next=11;break;}_e152=_step105.value;_context44.next=9;return _e152.close(!0);case 9:_context44.next=5;break;case 11:_context44.next=16;break;case 13:_context44.prev=13;_context44.t0=_context44["catch"](3);_iterator105.e(_context44.t0);case 16:_context44.prev=16;_iterator105.f();return _context44.finish(16);case 19:e=_this73.querySelector("x-menuitem:focus");e&&e.blur(),t();case 21:case"end":return _context44.stop();}}},_callee44,null,[[3,13,16,19]]);}));return function(_x34){return _ref41.apply(this,arguments);};}());}},{key:"ii",value:function ii(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){var _i144=t.indexOf(e),_s102=t[_i144-1]||t[t.length-1];this.ti(_s102);}}},{key:"si",value:function si(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){var _i145=t.indexOf(e),_s103=t[_i145+1]||t[0];this.ti(_s103);}}},{key:"qt",value:function qt(){this.setAttribute("aria-disabled",this.disabled);}},{key:"xe",value:function xe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ei();}},{key:"Qe",value:function Qe(){this.ei();}},{key:"We",value:function We(t){var e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault();}},{key:"Ye",value:function(){var _Ye=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(t){var e,i,_t188;return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:if(!this.hasAttribute("closing")){_context45.next=2;break;}return _context45.abrupt("return");case 2:e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!(!e||!1!==e.disabled||i&&!i.contains(e))){_context45.next=7;break;}t.target===this.I["backdrop-path"]&&(this.ei(),t.preventDefault(),t.stopPropagation());_context45.next=22;break;case 7:_t188=e.querySelector("x-menu");if(!(e.parentElement===this)){_context45.next=12;break;}_t188&&(_t188.opened?this.ei():this.ti(e));_context45.next=22;break;case 12:if(!_t188){_context45.next=16;break;}_t188.opened&&!1===_t188.opened&&_t188.openNextToElement(e,"horizontal");_context45.next=22;break;case 16:this.setAttribute("closing","");_context45.next=19;return e.whenTriggerEnd;case 19:_context45.next=21;return this.ei();case 21:this.removeAttribute("closing");case 22:case"end":return _context45.stop();}}},_callee45,this);}));function Ye(_x35){return _Ye.apply(this,arguments);}return Ye;}()},{key:"Ge",value:function Ge(t){if(this.hasAttribute("closing"))return;var e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.Ve&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.ti(e):e.focus());}},{key:"Je",value:function Je(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){var _e153=this.querySelector(":scope > x-menuitem:focus");_e153&&(t.preventDefault(),_e153.click());}else if("Escape"===t.code)this.Ve&&(t.preventDefault(),this.ei());else if("Tab"===t.code){var _t189=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(_t189){_t189.focus();var _e154=_t189.querySelector(":scope > x-menu");_e154&&(_e154.tabIndex=-1,_e154.close().then(function(){_e154.tabIndex=-1;}));}}else if("ArrowRight"===t.code)this.si();else if("ArrowLeft"===t.code)this.ii();else if("ArrowDown"===t.code){var _e155=this.querySelector("x-menuitem:focus > x-menu");_e155&&(t.preventDefault(),_e155.focusFirstMenuItem());}else if("ArrowUp"===t.code){var _e156=this.querySelector("x-menuitem:focus > x-menu");_e156&&(t.preventDefault(),_e156.focusLastMenuItem());}}}]);return wn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wn,"observedAttributes",["disabled","size"]);_defineProperty(wn,"_shadowTemplate",Is(_templateObject146()));_defineProperty(wn,"_shadowStyleSheet",Ls(_templateObject147()));customElements.define("x-menubar",wn);var vn=Math.max;var yn=/*#__PURE__*/function(_HTMLElement18){_inherits(yn,_HTMLElement18);var _super19=_createSuper(yn);_createClass(yn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t));}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"whenTriggerEnd",get:function get(){var _this75=this;return new Promise(function(t){0===_this75.I.ripples.childElementCount&&!1===_this75.hi?t():_this75.ni.push(t);});}}]);function yn(){var _temp21,_this74;_classCallCheck(this,yn);(_temp21=_this74=_super19.call(this),_defineProperty(_assertThisInitialized(_this74),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this74),"I",{}),_defineProperty(_assertThisInitialized(_this74),"yt",0),_defineProperty(_assertThisInitialized(_this74),"hi",!1),_defineProperty(_assertThisInitialized(_this74),"ni",[]),_defineProperty(_assertThisInitialized(_this74),"oi",!1),_defineProperty(_assertThisInitialized(_this74),"B",null),_defineProperty(_assertThisInitialized(_this74),"li",new MutationObserver(function(){return _this74.ai();})),_temp21),_this74._shadowRoot=_this74.attachShadow({mode:"closed"}),_this74._shadowRoot.adoptedStyleSheets=[yn._shadowStyleSheet],_this74._shadowRoot.append(document.importNode(yn._shadowTemplate.content,!0)),_this74.addEventListener("pointerdown",function(t){return _this74.zt(t);}),_this74.addEventListener("click",function(t){return _this74.N(t);}),_this74.addEventListener("keydown",function(t){return _this74.kt(t);});var _iterator106=_createForOfIteratorHelper(_this74._shadowRoot.querySelectorAll("[id]")),_step106;try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){var _t190=_step106.value;_this74.I[_t190.id]=_t190;}}catch(err){_iterator106.e(err);}finally{_iterator106.f();}return _this74;}_createClass(yn,[{key:"connectedCallback",value:function connectedCallback(){var _this76=this;this.ai(),this.Ct(),this.U(),this.li.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),Us.addEventListener("sizechange",this.B=function(){return _this76.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.li.disconnect(),Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"ai",value:function ai(){"x-menubar"===this.parentElement.localName?this.I.arrow.setAttribute("hidden",""):this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","");}},{key:"Ct",value:function Ct(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(t){var _this77=this;var _e157,_i146,_e158,_i147,_s104,_n60,_o42,_l35,_a23,_h19,_iterator107,_step107,_t191;return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:if(!(this.oi=this.matches(":focus"),1!==t.buttons)){_context47.next=2;break;}return _context47.abrupt("return",!1);case 2:if(!this.matches("[closing] x-menuitem")){_context47.next=4;break;}return _context47.abrupt("return",(t.preventDefault(),void t.stopPropagation()));case 4:if(!(t.target.closest("x-menuitem")===this)){_context47.next=23;break;}this.setPointerCapture(t.pointerId);_e157=Date.now(),_i146=!0;this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){var s,n;return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:_i146=!1;s=Date.now()-_e157,n="touch"===t.pointerType?600:150;_context46.t0=s<n;if(!_context46.t0){_context46.next=6;break;}_context46.next=6;return Ks(n-s);case 6:_this77.removeAttribute("pressed");case 7:case"end":return _context46.stop();}}},_callee46);})),{once:!0}),_i146&&this.setAttribute("pressed","");if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context47.next=23;break;}_e158=this.I.ripples.getBoundingClientRect(),_i147=1.5*vn(_e158.width,_e158.height),_s104=t.clientY-_e158.y-_i147/2,_n60=t.clientX-_e158.x-_i147/2,_o42=new Promise(function(t){return _this77.addEventListener("lostpointercapture",t,{once:!0});}),_l35=Xs("div");_l35.setAttribute("part","ripple"),_l35.setAttribute("class","ripple pointer-down-ripple"),_l35.setAttribute("style","width: ".concat(_i147,"px; height: ").concat(_i147,"px; top: ").concat(_s104,"px; left: ").concat(_n60,"px;")),this.I.ripples.append(_l35),this.setPointerCapture(t.pointerId);_a23=_l35.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=14;return _o42;case 14:_context47.next=16;return _a23.finished;case 16:_h19=_l35.animate({opacity:[getComputedStyle(_l35).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=19;return _h19.finished;case 19:_l35.remove();if(!(0===this.I.ripples.childElementCount)){_context47.next=23;break;}_iterator107=_createForOfIteratorHelper(this.ni);try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){_t191=_step107.value;_t191();}}catch(err){_iterator107.e(err);}finally{_iterator107.f();}case 23:case"end":return _context47.stop();}}},_callee47,this);}));function zt(_x36){return _zt.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(t){var _t192,_t193,_t194,_e159,_i148,_s105,_n61,_o43,_l36,_iterator108,_step108,_t195,_iterator109,_step109,_t196,_iterator110,_step110,_t197;return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(t.button>0||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem")){_context48.next=50;break;}if(this.togglable){_t192=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(_t192),!1===_t192.defaultPrevented&&(this.toggled=!this.toggled);}if(this.querySelector(":scope > x-menu")){_context48.next=50;break;}_t193=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t193)){_context48.next=21;break;}if(!(null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context48.next=19;break;}_t194=this.I.ripples.getBoundingClientRect(),_e159=1.5*vn(_t194.width,_t194.height),_i148=_t194.y+_t194.height/2-_t194.y-_e159/2,_s105=_t194.x+_t194.width/2-_t194.x-_e159/2,_n61=Xs("div");_n61.setAttribute("part","ripple"),_n61.setAttribute("class","ripple click-ripple"),_n61.setAttribute("style","width: ".concat(_e159,"px; height: ").concat(_e159,"px; top: ").concat(_i148,"px; left: ").concat(_s105,"px;")),this.I.ripples.append(_n61);_o43=_n61.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=11;return _o43.finished;case 11:_l36=_n61.animate({opacity:[getComputedStyle(_n61).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=14;return _l36.finished;case 14:_n61.remove();if(!(0===this.I.ripples.childElementCount)){_context48.next=19;break;}_iterator108=_createForOfIteratorHelper(this.ni);try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){_t195=_step108.value;_t195();}}catch(err){_iterator108.e(err);}finally{_iterator108.f();}this.ni=[];case 19:_context48.next=50;break;case 21:if(!("blink"===_t193)){_context48.next=43;break;}this.hi=!0;if(!this.oi){_context48.next=32;break;}this.parentElement.focus();_context48.next=27;return Ks(150);case 27:this.focus();_context48.next=30;return Ks(150);case 30:_context48.next=38;break;case 32:this.focus();_context48.next=35;return Ks(150);case 35:this.parentElement.focus();_context48.next=38;return Ks(150);case 38:_iterator109=_createForOfIteratorHelper(this.ni);try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){_t196=_step109.value;_t196();}}catch(err){_iterator109.e(err);}finally{_iterator109.f();}this.ni=[],this.hi=!1;_context48.next=50;break;case 43:if(!("none"===_t193)){_context48.next=50;break;}this.hi=!0;_context48.next=47;return Ks(150);case 47:_iterator110=_createForOfIteratorHelper(this.ni);try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){_t197=_step110.value;_t197();}}catch(err){_iterator110.e(err);}finally{_iterator110.f();}this.ni=[],this.hi=!1;case 50:case"end":return _context48.stop();}}},_callee48,this);}));function N(_x37){return _N4.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()));}}]);return yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yn,"observedAttributes",["disabled","size"]);_defineProperty(yn,"_shadowTemplate",Is(_templateObject148()));_defineProperty(yn,"_shadowStyleSheet",Ls(_templateObject149()));customElements.define("x-menuitem",yn);var kn=/*#__PURE__*/function(_HTMLElement19){_inherits(kn,_HTMLElement19);var _super20=_createSuper(kn);_createClass(kn,[{key:"opened",get:function get(){return this.hasAttribute("opened");},set:function set(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.ri=0;}},{key:"timeout",get:function get(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0;},set:function set(t){this.setAttribute("timeout",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function kn(){var _temp22,_this78;_classCallCheck(this,kn);(_temp22=_this78=_super20.call(this),_defineProperty(_assertThisInitialized(_this78),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this78),"ri",0),_defineProperty(_assertThisInitialized(_this78),"di",null),_defineProperty(_assertThisInitialized(_this78),"B",null),_defineProperty(_assertThisInitialized(_this78),"ui",null),_temp22),_this78._shadowRoot=_this78.attachShadow({mode:"closed"}),_this78._shadowRoot.adoptedStyleSheets=[kn._shadowStyleSheet],_this78._shadowRoot.append(document.importNode(kn._shadowTemplate.content,!0));return _this78;}_createClass(kn,[{key:"connectedCallback",value:function connectedCallback(){var _this79=this;this.setAttribute("tabindex","0"),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this79.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.ci():this.pi():"size"===t&&this.U());}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ci",value:function ci(){var _this80=this;if(this.isConnected){var _t198=0-this.getBoundingClientRect().height-10+"px",_e160=getComputedStyle(this).bottom;this.animate({bottom:[_t198,_e160]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});}{this.ri=0,this.di=setInterval(function(){_this80.ri+=100,_this80.timeout>0&&_this80.ri>_this80.timeout&&(_this80.opened=!1);},100);var _t199=Qs();window.addEventListener("pointerdown",this.ui=function(e){var i=Qs(),s=_this80.getBoundingClientRect();i-_t199>10&&!1===function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height;}(s,new DOMPoint(e.clientX,e.clientY))&&(_this80.opened=!1);},!0);}}},{key:"pi",value:function(){var _pi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var _t200,_e161,_i149;return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(!(clearInterval(this.di),this.isConnected)){_context49.next=6;break;}this.setAttribute("animating","");_t200=getComputedStyle(this).bottom,_e161=0-this.getBoundingClientRect().height-10+"px",_i149=this.animate({bottom:[_t200,_e161]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context49.next=5;return _i149.finished;case 5:this.removeAttribute("animating");case 6:window.removeEventListener("pointerdown",this.ui,!0);case 7:case"end":return _context49.stop();}}},_callee49,this);}));function pi(){return _pi.apply(this,arguments);}return pi;}()}]);return kn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kn,"observedAttributes",["opened","size"]);_defineProperty(kn,"_shadowTemplate",Is(_templateObject150()));_defineProperty(kn,"_shadowStyleSheet",Ls(_templateObject151()));customElements.define("x-notification",kn);var Sn=Number.isFinite,_n=Number.isNaN,Cn=Number.parseFloat,Mn=Number.isFinite;var Pn=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];var Dn=/*#__PURE__*/function(_HTMLElement20){_inherits(Dn,_HTMLElement20);var _super21=_createSuper(Dn);_createClass(Dn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity;},set:function set(t){Mn(t)?this.setAttribute("min",t):this.removeAttribute("min");}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity;},set:function set(t){Mn(t)?this.setAttribute("max",t):this.removeAttribute("max");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"precision",get:function get(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20;},set:function set(t){this.setAttribute("precision",t);}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"prefix",get:function get(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):"";},set:function set(t){this.setAttribute("prefix",t);}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Dn(){var _temp23,_this81;_classCallCheck(this,Dn);(_temp23=_this81=_super21.call(this),_defineProperty(_assertThisInitialized(_this81),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this81),"I",{}),_defineProperty(_assertThisInitialized(_this81),"yt",0),_defineProperty(_assertThisInitialized(_this81),"B",null),_defineProperty(_assertThisInitialized(_this81),"mi",!1),_defineProperty(_assertThisInitialized(_this81),"bi",!1),_defineProperty(_assertThisInitialized(_this81),"gi",!1),_defineProperty(_assertThisInitialized(_this81),"xi",!1),_defineProperty(_assertThisInitialized(_this81),"fi",!1),_defineProperty(_assertThisInitialized(_this81),"wi",!1),_defineProperty(_assertThisInitialized(_this81),"Pi",tn(function(){!_this81.bi||_this81.gi||_this81.xi||_this81.fi||(_this81.bi=!1,_this81.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));},500)),_temp23),_this81._shadowRoot=_this81.attachShadow({mode:"closed",delegatesFocus:!0}),_this81._shadowRoot.adoptedStyleSheets=[Dn._shadowStyleSheet],_this81._shadowRoot.append(document.importNode(Dn._shadowTemplate.content,!0));var _iterator111=_createForOfIteratorHelper(_this81._shadowRoot.querySelectorAll("[id]")),_step111;try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _t201=_step111.value;_this81.I[_t201.id]=_t201;}}catch(err){_iterator111.e(err);}finally{_iterator111.f();}_this81._shadowRoot.addEventListener("pointerdown",function(t){return _this81.vi(t);}),_this81._shadowRoot.addEventListener("wheel",function(t){return _this81.Oe(t);}),_this81.I.editor.addEventListener("paste",function(t){return _this81.yi(t);}),_this81.I.editor.addEventListener("input",function(t){return _this81.zi(t);}),_this81.addEventListener("pointerdown",function(t){return _this81.zt(t);}),_this81.addEventListener("keydown",function(t){return _this81.kt(t);}),_this81.addEventListener("keyup",function(t){return _this81.ki(t);}),_this81.addEventListener("keypress",function(t){return _this81.Hs(t);}),_this81.addEventListener("incrementstart",function(t){return _this81.Ci(t);}),_this81.addEventListener("decrementstart",function(t){return _this81.Si(t);}),_this81.addEventListener("focusin",function(t){return _this81.ge(t);}),_this81.addEventListener("focusout",function(t){return _this81.xe(t);});return _this81;}_createClass(Dn,[{key:"connectedCallback",value:function connectedCallback(){var _this82=this;this.Ct(),this.U(),this.nt(),Us.addEventListener("sizechange",this.B=function(){return _this82.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ei():"max"===t?this.Ai():"prefix"===t?this.Li():"suffix"===t?this.Ti():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null;}},{key:"Mi",value:function Mi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i+=t?10*this.step:this.step,i=us(i,this.min,this.max,xs(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"Di",value:function Di(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i-=t?10*this.step:this.step,i=us(i,this.min,this.max,xs(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"$i",value:function $i(){this.bi||(this.bi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));}},{key:"Ri",value:function Ri(){var t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=us(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate();}},{key:"nt",value:function nt(){this.wi&&this.validate(),this.Ii(),this.be(),this.Oi();}},{key:"Ii",value:function Ii(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent="";}},{key:"be",value:function be(){var t=null;if(this.matches(":focus")){var _e162=this.I.editor.textContent;t=""===_e162.trim()?null:parseFloat(_e162);}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Oi",value:function Oi(){var t=this.querySelector("x-stepper");if(t){var _e163=this.value>this.min,_i150=this.value<this.max;!0===_i150&&!0===_e163?t.removeAttribute("disabled"):!1===_i150&&!1===_e163?t.setAttribute("disabled",""):!1===_i150?t.setAttribute("disabled","increment"):!1===_e163&&t.setAttribute("disabled","decrement");}}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.nt();}},{key:"Ei",value:function Ei(){this.Oi();}},{key:"Ai",value:function Ai(){this.Oi();}},{key:"Li",value:function Li(){this.I.editor.setAttribute("data-prefix",this.prefix);}},{key:"Ti",value:function Ti(){this.I.editor.setAttribute("data-suffix",this.suffix);}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.wi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ri(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));}},{key:"zi",value:function zi(){this.error=null,this.be(),this.Oi();}},{key:"Oe",value:function Oe(t){this.matches(":focus")&&(t.preventDefault(),this.$i(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.Pi());}},{key:"N",value:function N(t){t.preventDefault();}},{key:"zt",value:function zt(t){"x-stepper"===t.target.localName&&t.preventDefault();}},{key:"vi",value:function vi(t){var _this83=this;if(1===t.buttons&&!1!==t.isPrimary){if(t.target===this.I.editor&&!1===this.I.editor.matches(":focus")){t.preventDefault();var _e164,_i153,_s106=this.value,_n62=t.clientX,_o44=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(t.pointerId),this.I.editor.addEventListener("pointermove",_e164=function _e164(e){var i=new DOMPoint(e.clientX,e.clientY),l=e.timeStamp-t.timeStamp,a=e.clientX!==_n62,h=bs(_o44,i)>3||l>80;if(_n62=e.clientX,a&&h&&e.isPrimary){!1===_this83.mi&&(_this83.mi=!0,_this83.bi=!0,_this83.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));var _i152=e.clientX-t.clientX,_n63=_s106+_i152*_this83.step;_n63=us(_n63,_this83.min,_this83.max,xs(_this83.step)),_this83.value=_n63,_this83.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}),this.I.editor.addEventListener("lostpointercapture",_i153=function _i151(){_this83.I.editor.removeEventListener("pointermove",_e164),_this83.I.editor.removeEventListener("lostpointercapture",_i153),_this83.style.cursor=null,!0===_this83.mi?(_this83.mi=!1,_this83.bi=!1,_this83.dispatchEvent(new CustomEvent("changeend",{detail:_this83.value!==_s106,bubbles:!0}))):(_this83.I.editor.focus(),document.execCommand("selectAll"));});}}else t.preventDefault();}},{key:"Ci",value:function Ci(t){var _this84=this;var e,_i154;this.matches(":focus")&&this.Ri(),this.fi=!0,this.addEventListener("increment",e=function e(t){_this84.$i(),_this84.Mi(t.detail.shiftKey),_this84.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this84.Pi(),_this84.nt();}),this.addEventListener("incrementend",_i154=function i(t){_this84.fi=!1,_this84.removeEventListener("increment",e),_this84.removeEventListener("incrementend",_i154);});}},{key:"Si",value:function Si(t){var _this85=this;var e,_i155;this.matches(":focus")&&this.Ri(),this.fi=!0,this.addEventListener("decrement",e=function e(t){_this85.$i(),_this85.Di(t.detail.shiftKey),_this85.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this85.Pi(),_this85.nt();}),this.addEventListener("decrementend",_i155=function i(t){_this85.fi=!1,_this85.removeEventListener("decrement",e),_this85.removeEventListener("decrementend",_i155);});}},{key:"kt",value:function kt(t){"ArrowDown"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"Backspace"===t.code?this.xi=!0:"Enter"===t.code&&(this.Ri(),document.execCommand("selectAll"));}},{key:"ki",value:function ki(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.gi=!1,this.Pi()):"Backspace"===t.code&&(this.xi=!1);}},{key:"Hs",value:function Hs(t){!1===Pn.includes(t.key)&&t.preventDefault();}},{key:"yi",value:function(){var _yi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(t){var e;return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:t.preventDefault();e=t.clipboardData.getData("text/plain").trim();_context50.t0=function(t){var e=Cn(t);return!1===_n(e)&&Sn(e);}(e);if(!_context50.t0){_context50.next=7;break;}_context50.next=6;return Ks(1);case 6:document.execCommand("insertText",!1,e);case 7:case"end":return _context50.stop();}}},_callee50);}));function yi(_x38){return _yi.apply(this,arguments);}return yi;}()}]);return Dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dn,"observedAttributes",["value","min","max","prefix","suffix","disabled","size"]);_defineProperty(Dn,"_shadowTemplate",Is(_templateObject152()));_defineProperty(Dn,"_shadowStyleSheet",Ls(_templateObject153()));customElements.define("x-numberinput",Dn);var zn=/*#__PURE__*/function(_HTMLElement21){_inherits(zn,_HTMLElement21);var _super22=_createSuper(zn);_createClass(zn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}},{key:"modal",get:function get(){return this.hasAttribute("modal");},set:function set(t){t?this.setAttribute("modal",""):this.removeAttribute("modal");}}]);function zn(){var _temp24,_this86;_classCallCheck(this,zn);(_temp24=_this86=_super22.call(this),_defineProperty(_assertThisInitialized(_this86),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this86),"I",{}),_defineProperty(_assertThisInitialized(_this86),"Bi",null),_defineProperty(_assertThisInitialized(_this86),"Hi",null),_temp24),_this86._shadowRoot=_this86.attachShadow({mode:"closed"}),_this86._shadowRoot.adoptedStyleSheets=[zn._shadowStyleSheet],_this86._shadowRoot.append(document.importNode(zn._shadowTemplate.content,!0));var _iterator112=_createForOfIteratorHelper(_this86._shadowRoot.querySelectorAll("[id]")),_step112;try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var _t202=_step112.value;_this86.I[_t202.id]=_t202;}}catch(err){_iterator112.e(err);}finally{_iterator112.f();}_this86.I.backdrop=Xs("x-backdrop"),_this86.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this86.I.backdrop.ownerElement=_assertThisInitialized(_this86),_this86.I.backdrop.addEventListener("click",function(t){t.preventDefault();}),_this86.I.backdrop.addEventListener("pointerdown",function(t){_this86.hasAttribute("animating")&&t.stopPropagation();});return _this86;}_createClass(zn,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=-1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide());}},{key:"open",value:function open(t){var _this87=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref43=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee51(i){var _t203,_this87$Ne,_this87$Ne2,_e165,_i156,_s107;return regeneratorRuntime.wrap(function _callee51$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:if(!(!1===_this87.opened)){_context51.next=8;break;}if(!(_this87.modal&&_this87.I.backdrop.show(!1),_this87.setAttribute("opened",""),_this87.Fi(),_this87.Ni(t),_this87.Bi=function(t){var e=function e(t){return t&&t!==document.body?function(t){var e=getComputedStyle(t,null);return /(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"));}(t)?t:e(t.parentElement||t.parentNode.host):document.body;};return e(t);}(_this87),_this87.Bi&&_this87.Bi.addEventListener("scroll",_this87.Hi=function(){_this87.close();},{once:!0}),e)){_context51.next=7;break;}_t203=getComputedStyle(_this87).getPropertyValue("--open-transition"),_this87$Ne=_this87.Ne(_t203),_this87$Ne2=_slicedToArray(_this87$Ne,3),_e165=_this87$Ne2[0],_i156=_this87$Ne2[1],_s107=_this87$Ne2[2];_context51.t0="transform"===_e165;if(!_context51.t0){_context51.next=7;break;}_context51.next=7;return _this87.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:_i156,easing:_s107}).finished;case 7:_this87.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this87}));case 8:i();case 9:case"end":return _context51.stop();}}},_callee51);}));return function(_x39){return _ref43.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this88=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref44=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee52(e){var _t204,_this88$Ne,_this88$Ne2,_e166,_i157,_s108;return regeneratorRuntime.wrap(function _callee52$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:if(!(!0===_this88.opened&&(_this88.removeAttribute("opened"),_this88.I.backdrop.hide(),_this88.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this88})),_this88.Bi.removeEventListener("scroll",_this88.Hi),t))){_context52.next=8;break;}_t204=getComputedStyle(_this88).getPropertyValue("--close-transition"),_this88$Ne=_this88.Ne(_t204),_this88$Ne2=_slicedToArray(_this88$Ne,3),_e166=_this88$Ne2[0],_i157=_this88$Ne2[1],_s108=_this88$Ne2[2];_this88.setAttribute("animating","");_context52.t0="opacity"===_e166;if(!_context52.t0){_context52.next=7;break;}_context52.next=7;return _this88.animate({opacity:["1","0"]},{duration:_i157,easing:_s108}).finished;case 7:_this88.removeAttribute("animating");case 8:e();case 9:case"end":return _context52.stop();}}},_callee52);}));return function(_x40){return _ref44.apply(this,arguments);};}());}},{key:"Ni",value:function Ni(t){var _this89=this;var e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{var _e167=ps(this.getBoundingClientRect());0===_e167.top&&0===_e167.left||(s=-_e167.left,n=-_e167.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect();}if("bottom"===e||"top"===e){var _t205=function _t205(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","bottom");var e=ps(_this89.getBoundingClientRect()),s=ps(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.bottom+2+i+"px",_this89.style.top=n+o.bottom+2+s.height+"px",e=ps(_this89.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){var _t206=e.height-l;l=0,_this89.style.maxHeight=_t206+"px";}return l;},_l37=function _l37(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","top");var e=ps(_this89.getBoundingClientRect()),s=ps(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.top-2-i-s.height+"px",_this89.style.top=n+o.top-2-s.height-e.height+"px",e=ps(_this89.getBoundingClientRect()),l=-(e.top-8),t&&l>0){var _t207=e.height-l;l=0,_this89.style.maxHeight=_t207+"px",_this89.style.top=n+o.top-2-s.height-_t207+"px";}return l;},_a24=function _a24(){_this89.style.maxWidth=null;var t=ps(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+o.left+o.width/2-t.width/2+"px",t=ps(_this89.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i];},_h20=function _h20(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=ps(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+window.innerWidth-8-e.width+"px",e=ps(_this89.getBoundingClientRect()),i=-(e.left-8),t&&i>0){var _t208=e.width-i;i=0,_this89.style.maxWidth=_t208+"px",_this89.style.left=s+window.innerWidth-8-_t208+"px";}return i;},_r13=function _r13(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=ps(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+8+"px",e=ps(_this89.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){var _t209=e.width-i;i=0,_this89.style.maxWidth=_t209+"px";}return i;};if("bottom"===e){var _e168=_t205();if(_e168>0){var _i158=_l37();_i158>0&&(_i158>_e168?_t205(!0):_l37(!0));}}else if("top"===e){var _e169=_l37();if(_e169>0){var _i159=_t205();_i159>0&&(_i159>_e169?_l37(!0):_t205(!0));}}{var _a25=_a24(),_a26=_slicedToArray(_a25,2),_t210=_a26[0],_e170=_a26[1];_e170>0?(_t210=_h20(),_t210>0&&_h20(!0)):_t210>0&&(_e170=_r13(),_e170>0&&_r13(!0));}}else if("right"===e||"left"===e){var _t211=function _t211(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","right");var e=ps(_this89.getBoundingClientRect()),n=ps(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.right+2+i+"px",_this89.style.left=s+o.right+2+n.width+"px",e=ps(_this89.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){var _t212=e.width-l;l=0,_this89.style.maxWidth=_t212+"px";}return l;},_l38=function _l38(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","left");var e=ps(_this89.getBoundingClientRect()),n=ps(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.left-2-i-n.width+"px",_this89.style.left=s+o.left-2-n.width-e.width+"px",e=ps(_this89.getBoundingClientRect()),l=-(e.left-8),t&&l>0){var _t213=e.width-l;l=0,_this89.style.maxWidth=_t213+"px",_this89.style.left=s+o.left-2-n.width-_t213+"px";}return l;},_a27=function _a27(){_this89.style.maxHeight=null;var t=ps(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+o.top+o.height/2-t.height/2+"px",t=ps(_this89.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i];},_h21=function _h21(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=ps(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+window.innerHeight-8-e.height+"px",e=ps(_this89.getBoundingClientRect()),i=-(e.top-8),t&&i>0){var _t214=e.height-i;i=0,_this89.style.maxHeight=_t214+"px",_this89.style.top=n+window.innerHeight-8-_t214+"px";}return i;},_r14=function _r14(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=ps(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+8+"px",e=ps(_this89.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){var _t215=e.height-i;i=0,_this89.style.maxHeight=_t215+"px";}return i;};if("right"===e){var _e171=_t211();if(_e171>0){var _i160=_l38();_i160>0&&(_i160>_e171?_t211(!0):_l38(!0));}}else if("left"===e){var _e172=_l38();if(_e172>0){var _i161=_t211();_i161>0&&(_i161>_e172?_l38(!0):_t211(!0));}}{var _a28=_a27(),_a29=_slicedToArray(_a28,2),_t216=_a29[0],_e173=_a29[1];_e173>0?(_t216=_h21(),_t216>0&&_h21(!0)):_t216>0&&(_e173=_r14(),_e173>0&&_r14(!0));}}}},{key:"Fi",value:function Fi(){{var _getComputedStyle=getComputedStyle(this),_t217=_getComputedStyle.backgroundColor,_e174=_getComputedStyle.borderColor,_i162=_getComputedStyle.borderWidth;this.I["arrow-path"].style.fill=_t217,this.I["arrow-path"].style.stroke=_e174,this.I["arrow-path"].style.strokeWidth=_i162;}}},{key:"Ne",value:function Ne(t){var _t$trim$split3=t.trim().split(" "),_t$trim$split4=_toArray(_t$trim$split3),e=_t$trim$split4[0],i=_t$trim$split4[1],s=_t$trim$split4.slice(2);return[i,parseFloat(e),s.join(" ")];}}]);return zn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zn,"observedAttributes",["modal"]);_defineProperty(zn,"_shadowTemplate",Is(_templateObject154()));_defineProperty(zn,"_shadowStyleSheet",Ls(_templateObject155()));customElements.define("x-popover",zn);var On=/*#__PURE__*/function(_HTMLElement22){_inherits(On,_HTMLElement22);var _super23=_createSuper(On);_createClass(On,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1;},set:function set(t){this.setAttribute("max",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function On(){var _temp25,_this90;_classCallCheck(this,On);(_temp25=_this90=_super23.call(this),_defineProperty(_assertThisInitialized(_this90),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this90),"I",{}),_defineProperty(_assertThisInitialized(_this90),"qi",null),_defineProperty(_assertThisInitialized(_this90),"B",null),_temp25),_this90._shadowRoot=_this90.attachShadow({mode:"closed"}),_this90._shadowRoot.adoptedStyleSheets=[On._shadowStyleSheet],_this90._shadowRoot.append(document.importNode(On._shadowTemplate.content,!0));var _iterator113=_createForOfIteratorHelper(_this90._shadowRoot.querySelectorAll("[id]")),_step113;try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var _t218=_step113.value;_this90.I[_t218.id]=_t218;}}catch(err){_iterator113.e(err);}finally{_iterator113.f();}return _this90;}_createClass(On,[{key:"connectedCallback",value:function connectedCallback(){var _this91=this;Us.addEventListener("sizechange",this.B=function(){return _this91.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.qi){var _iterator114=_createForOfIteratorHelper(this.qi),_step114;try{for(_iterator114.s();!(_step114=_iterator114.n()).done;){var _t219=_step114.value;_t219.cancel();}}catch(err){_iterator114.e(err);}finally{_iterator114.f();}this.qi=null;}}else this.qi||(this.qi=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})]);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return On;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(On,"observedAttributes",["value","max","disabled","size"]);_defineProperty(On,"_shadowTemplate",Is(_templateObject156()));_defineProperty(On,"_shadowStyleSheet",Ls(_templateObject157()));customElements.define("x-progressbar",On);var En=/*#__PURE__*/function(_HTMLElement23){_inherits(En,_HTMLElement23);var _super24=_createSuper(En);_createClass(En,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function En(){var _temp26,_this92;_classCallCheck(this,En);(_temp26=_this92=_super24.call(this),_defineProperty(_assertThisInitialized(_this92),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this92),"I",{}),_defineProperty(_assertThisInitialized(_this92),"yt",0),_defineProperty(_assertThisInitialized(_this92),"B",null),_temp26),_this92._shadowRoot=_this92.attachShadow({mode:"closed"}),_this92._shadowRoot.adoptedStyleSheets=[En._shadowStyleSheet],_this92._shadowRoot.append(document.importNode(En._shadowTemplate.content,!0));var _iterator115=_createForOfIteratorHelper(_this92._shadowRoot.querySelectorAll("[id]")),_step115;try{for(_iterator115.s();!(_step115=_iterator115.n()).done;){var _t220=_step115.value;_this92.I[_t220.id]=_t220;}}catch(err){_iterator115.e(err);}finally{_iterator115.f();}_this92.addEventListener("click",function(t){return _this92.N(t);}),_this92.addEventListener("pointerdown",function(t){return _this92.zt(t);}),_this92.addEventListener("keydown",function(t){return _this92.kt(t);});return _this92;}_createClass(En,[{key:"connectedCallback",value:function connectedCallback(){var _this93=this;Us.addEventListener("sizechange",this.B=function(){return _this93.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0));}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"N",value:function N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})));}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e175=Zs(this.parentNode,"[tabindex]");_e175&&_e175.focus();}}},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return En;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(En,"observedAttributes",["toggled","disabled","size"]);_defineProperty(En,"_shadowTemplate",Is(_templateObject158()));_defineProperty(En,"_shadowStyleSheet",Ls(_templateObject159()));customElements.define("x-radio",En);var Tn=/*#__PURE__*/function(_HTMLElement24){_inherits(Tn,_HTMLElement24);var _super25=_createSuper(Tn);_createClass(Tn,[{key:"value",get:function get(){var t=this.querySelector("x-radio[toggled]");return t?t.value:null;},set:function set(t){var _iterator116=_createForOfIteratorHelper(this.querySelectorAll("x-radio")),_step116;try{for(_iterator116.s();!(_step116=_iterator116.n()).done;){var _e176=_step116.value;_e176.toggled=_e176.value===t&&null!==t;}}catch(err){_iterator116.e(err);}finally{_iterator116.f();}}}]);function Tn(){var _temp27,_this94;_classCallCheck(this,Tn);(_temp27=_this94=_super25.call(this),_defineProperty(_assertThisInitialized(_this94),"_shadowRoot",null),_temp27),_this94._shadowRoot=_this94.attachShadow({mode:"closed"}),_this94._shadowRoot.innerHTML="<slot></slot>",_this94.addEventListener("click",function(t){return _this94.N(t);},!0),_this94.addEventListener("keydown",function(t){return _this94.kt(t);});return _this94;}_createClass(Tn,[{key:"connectedCallback",value:function connectedCallback(){var _this95=this;this.setAttribute("role","radiogroup");var t=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this95;}),e=t.find(function(t){return t.toggled&&!t.disabled;})||t.find(function(t){return!t.disabled;});var _iterator117=_createForOfIteratorHelper(t),_step117;try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _i163=_step117.value;_i163.setAttribute("tabindex",_i163===e?"0 ":"-1"),_i163.setAttribute("aria-checked",_i163===e);}}catch(err){_iterator117.e(err);}finally{_iterator117.f();}}},{key:"N",value:function N(t){var _this96=this;var e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){var _t221=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this96&&t!==e;});if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;var _iterator118=_createForOfIteratorHelper(_t221),_step118;try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _e177=_step118.value;_e177.toggled=!1,_e177.tabIndex=-1;}}catch(err){_iterator118.e(err);}finally{_iterator118.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}}},{key:"kt",value:function kt(t){var _this97=this;var e=t.key;if("ArrowDown"===e||"ArrowRight"===e){var _e178=_toConsumableArray(this.querySelectorAll("x-radio")),_i164=_e178.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s109=_e178.find(function(t){return t.matches(":focus");});if(_s109){var _e179=_i164.indexOf(_s109),_n64=_i164.length>1?_i164[_e179+1]||_i164[0]:null;_n64&&(t.preventDefault(),_n64.focus(),_n64.tabIndex=0,_s109.tabIndex=-1);}}else if("ArrowUp"===e||"ArrowLeft"===e){var _e180=_toConsumableArray(this.querySelectorAll("x-radio")),_i165=_e180.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s110=_e180.find(function(t){return t.matches(":focus");});if(_s110){var _e181=_i165.indexOf(_s110),_n65=_i165[_i165.length-1],_o45=_i165.length>1?_i165[_e181-1]||_n65:null;_o45&&(t.preventDefault(),_o45.focus(),_o45.tabIndex=0,_s110.tabIndex=-1);}}}}]);return Tn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define("x-radios",Tn);var An=/*#__PURE__*/function(_HTMLElement25){_inherits(An,_HTMLElement25);var _super26=_createSuper(An);_createClass(An,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function An(){var _temp28,_this98;_classCallCheck(this,An);(_temp28=_this98=_super26.call(this),_defineProperty(_assertThisInitialized(_this98),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this98),"I",{}),_defineProperty(_assertThisInitialized(_this98),"B",null),_defineProperty(_assertThisInitialized(_this98),"X",0),_defineProperty(_assertThisInitialized(_this98),"V",0),_defineProperty(_assertThisInitialized(_this98),"Ui",100),_defineProperty(_assertThisInitialized(_this98),"G",1),_defineProperty(_assertThisInitialized(_this98),"Y",!1),_defineProperty(_assertThisInitialized(_this98),"ji",!1),_defineProperty(_assertThisInitialized(_this98),"tt",!1),_temp28),_this98._shadowRoot=_this98.attachShadow({mode:"closed"}),_this98._shadowRoot.adoptedStyleSheets=[An._shadowStyleSheet],_this98._shadowRoot.append(document.importNode(An._shadowTemplate.content,!0));var _iterator119=_createForOfIteratorHelper(_this98._shadowRoot.querySelectorAll("[id]")),_step119;try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var _t222=_step119.value;_this98.I[_t222.id]=_t222;}}catch(err){_iterator119.e(err);}finally{_iterator119.f();}_this98.I["hue-slider"].addEventListener("pointerdown",function(t){return _this98.et(t);}),_this98.I["satlight-slider"].addEventListener("pointerdown",function(t){return _this98.Ki(t);}),_this98.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this98.ht(t);});return _this98;}_createClass(An,[{key:"connectedCallback",value:function connectedCallback(){var _this99=this;this.nt(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this99.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.Xi(),this.Vi(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=us(this.X,0,360,0)/360*100+"%";}},{key:"Xi",value:function Xi(){var t=this.V/100*100,e=100-this.Ui/100*100;this.I["satlight-marker"].style.left="".concat(t,"%"),this.I["satlight-marker"].style.top="".concat(e,"%");}},{key:"Vi",value:function Vi(){var t=_Ps([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background="linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=us(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _Ms$map=Ms(this.X,this.V,this.Ui).map(function(t){return cs(t,0);}),_Ms$map2=_slicedToArray(_Ms$map,3),t=_Ms$map2[0],e=_Ms$map2[1],i=_Ms$map2[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.ji&&!1===this.tt){var _As$parse7=new As().parse(this.value,"hsva"),_As$parse8=_slicedToArray(_As$parse7,4),_t223=_As$parse8[0],_e182=_As$parse8[1],_i166=_As$parse8[2],_s111=_As$parse8[3];this.X=_t223,this.V=_e182,this.Ui=_i166,this.G=_s111,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"Ki",value:function Ki(t){var _this100=this;if(1!==t.buttons)return;var e,_i167,s=this.I["satlight-slider"].getBoundingClientRect();this.ji=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=us(i,0,100,2),n=us(n,0,100,2),_this100.V=i,_this100.Ui=100-n,_this100.value=_Ps([_this100.X,_this100.V,_this100.Ui,_this100.G],"hsva","hsla"),_this100.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this100.Xi(),_this100.Vi(),_this100.gt();};n(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["satlight-slider"].addEventListener("lostpointercapture",_i167=function i(t){_this100.I["satlight-slider"].removeEventListener("pointermove",e),_this100.I["satlight-slider"].removeEventListener("lostpointercapture",_i167),_this100.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this100.ji=!1;});}},{key:"et",value:function et(t){var _this101=this;if(1!==t.buttons)return;var e,_i168,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=us(e,0,360,0),e!==_this101.X&&(_this101.X=e,_this101.value=_Ps([_this101.X,_this101.V,_this101.Ui,_this101.G],"hsva","hsla"),_this101.at(),_this101.Vi(),_this101.Xi(),_this101.gt(),_this101.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i168=function i(){_this101.I["hue-slider"].removeEventListener("pointermove",e),_this101.I["hue-slider"].removeEventListener("lostpointercapture",_i168),_this101.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this101.Y=!1;});}},{key:"ht",value:function ht(t){var _this102=this;if(1!==t.buttons)return;var e,_i169,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=us(e,0,1,2),e!==_this102.G&&(_this102.G=e,_this102.value=_Ps([_this102.X,_this102.V,_this102.Ui,_this102.G],"hsva","hsla"),_this102.bt(),_this102.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i169=function i(){_this102.I["alpha-slider"].removeEventListener("pointermove",e),_this102.I["alpha-slider"].removeEventListener("lostpointercapture",_i169),_this102.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this102.tt=!1;});}}]);return An;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(An,"observedAttributes",["value","size"]);_defineProperty(An,"_shadowTemplate",Is(_templateObject160()));_defineProperty(An,"_shadowStyleSheet",Ls(_templateObject161()));customElements.define("x-rectcolorpicker",An);var $n=Symbol();var In=/*#__PURE__*/function(_HTMLElement26){_inherits(In,_HTMLElement26);var _super27=_createSuper(In);_createClass(In,[{key:"value",get:function get(){var t=this.querySelector("x-menuitem[toggled]");return t?t.value:null;},set:function set(t){var _iterator120=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem")),_step120;try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var _e183=_step120.value;_e183.toggled=_e183.value===t&&null!==t;}}catch(err){_iterator120.e(err);}finally{_iterator120.f();}}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function In(){var _temp29,_this103;_classCallCheck(this,In);(_temp29=_this103=_super27.call(this),_defineProperty(_assertThisInitialized(_this103),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this103),"I",{}),_defineProperty(_assertThisInitialized(_this103),"yt",0),_defineProperty(_assertThisInitialized(_this103),"wt",!1),_defineProperty(_assertThisInitialized(_this103),"Zi",null),_defineProperty(_assertThisInitialized(_this103),"Gi",null),_defineProperty(_assertThisInitialized(_this103),"B",null),_defineProperty(_assertThisInitialized(_this103),"Yi",new MutationObserver(function(t){return _this103.Wi(t);})),_defineProperty(_assertThisInitialized(_this103),"O",new ResizeObserver(function(){return _this103.Ji();})),_defineProperty(_assertThisInitialized(_this103),"os",Js(_this103.es,300,_assertThisInitialized(_this103))),_temp29),_this103._shadowRoot=_this103.attachShadow({mode:"closed"}),_this103._shadowRoot.adoptedStyleSheets=[In._shadowStyleSheet],_this103._shadowRoot.append(document.importNode(In._shadowTemplate.content,!0));var _iterator121=_createForOfIteratorHelper(_this103._shadowRoot.querySelectorAll("[id]")),_step121;try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var _t224=_step121.value;_this103.I[_t224.id]=_t224;}}catch(err){_iterator121.e(err);}finally{_iterator121.f();}_this103.I.backdrop=Xs("x-backdrop"),_this103.I.backdrop.style.opacity="0",_this103.I.backdrop.ownerElement=_assertThisInitialized(_this103),_this103.I.backdrop.addEventListener("click",function(t){return _this103.Qi(t);}),_this103.addEventListener("pointerdown",function(t){return _this103.zt(t);}),_this103.addEventListener("toggle",function(t){return _this103.ts(t);}),_this103.addEventListener("click",function(t){return _this103.N(t);}),_this103.addEventListener("keydown",function(t){return _this103.kt(t);});return _this103;}_createClass(In,[{key:"connectedCallback",value:function connectedCallback(){var _this104=this;this.Yi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.es(),this.Ct(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this104.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Yi.disconnect(),this.O.disconnect(),Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"Vt",value:function Vt(){var _this105=this;if(!1===this.ss())return;this.wt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Zi=function(){_this105.Zt();}),window.addEventListener("blur",this.Gi=function(){_this105.Zt();});var t=this.querySelector(":scope > x-menu");{var _e184=null;var _iterator122=_createForOfIteratorHelper(t.querySelectorAll("x-menuitem")),_step122;try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var _i170=_step122.value;_i170.togglable=!0,_i170.toggled&&(null===_e184?_e184=_i170:_i170.toggled=!1);}}catch(err){_iterator122.e(err);}finally{_iterator122.f();}}if(t.querySelector("x-menuitem[toggled]")){var _e185=this.I.button.querySelector("x-label")||this.I.button.firstElementChild,_i171=_e185[$n];t.openOverElement(_e185,_i171);}else{var _e186=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.I.button,_e186);}{var _e187=t.getBoundingClientRect(),_i172=this.I.button.getBoundingClientRect(),_s112=parseFloat(getComputedStyle(this).paddingRight);_e187.right-_s112<_i172.right&&(t.style.minWidth=_i172.right-_e187.left+_s112+"px");}{var _t225=this.getBoundingClientRect();_t225.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-_t225.left-7+"px");}}},{key:"Zt",value:function(){var _Zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){var t,e,_t226,_args53=arguments;return regeneratorRuntime.wrap(function _callee53$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:t=_args53.length>0&&_args53[0]!==undefined?_args53[0]:null;if(!(!1===this.hs())){_context53.next=3;break;}return _context53.abrupt("return");case 3:e=this.querySelector(":scope > x-menu");e.setAttribute("closing","");_context53.next=7;return t;case 7:this.I.backdrop.hide(!1);if(!this.wt){_context53.next=12;break;}this.focus();_context53.next=14;break;case 12:_t226=Zs(this.parentNode,"[tabindex]");_t226&&_t226.focus();case 14:window.removeEventListener("resize",this.Zi);window.removeEventListener("blur",this.Gi);_context53.next=18;return e.close();case 18:e.removeAttribute("closing");case 19:case"end":return _context53.stop();}}},_callee53,this);}));function Zt(){return _Zt2.apply(this,arguments);}return Zt;}()},{key:"ss",value:function ss(){if(this.disabled)return!1;{var _t227=this.querySelector(":scope > x-menu"),_e188=_t227.querySelector("x-menuitem");return null!==_t227&&!1===_t227.opened&&!1===_t227.hasAttribute("closing")&&null!==_e188;}}},{key:"hs",value:function hs(){if(this.disabled)return!1;{var _t228=this.querySelector(":scope > x-menu");return _t228.querySelector("x-menuitem"),null!==_t228&&!0===_t228.opened&&!1===_t228.hasAttribute("closing");}}},{key:"es",value:function es(){var t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){var _iterator123=_createForOfIteratorHelper(t.children),_step123;try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _e189=_step123.value;var _t229=_e189.cloneNode(!0);_t229[$n]=_e189,_t229.removeAttribute("id"),_t229.removeAttribute("style"),this.I.button.append(_t229);}}catch(err){_iterator123.e(err);}finally{_iterator123.f();}this.ns();}this.I.button.append(this.I["arrow-container"]);}},{key:"ns",value:function ns(){var _iterator124=_createForOfIteratorHelper(this.I.button.children),_step124;try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var _t230=_step124.value;if(_t230!==this.I["arrow-container"]){var _getComputedStyle2=getComputedStyle(_t230[$n]),_e190=_getComputedStyle2.width,_i173=_getComputedStyle2.height,_s113=_getComputedStyle2.margin,_n66=_getComputedStyle2.padding,_o46=_getComputedStyle2.border,_l39=_getComputedStyle2.borderRadius;["x-icon","x-swatch","img","svg"].includes(_t230[$n].localName)&&(_t230.style.width=_e190,_t230.style.height=_i173,_t230.style.minWidth=_e190,_t230.style.borderRadius=_l39),_t230.style.margin=_s113,_t230.style.padding=_n66,_t230.style.border=_o46;}}}catch(err){_iterator124.e(err);}finally{_iterator124.f();}}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);{this.setAttribute("role","button");var _t231=this.querySelector(":scope > x-menu");if(_t231){_t231.setAttribute("role","listbox");var _iterator125=_createForOfIteratorHelper(_t231.querySelectorAll("x-menuitem")),_step125;try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var _e191=_step125.value;_e191.setAttribute("role","option");}}catch(err){_iterator125.e(err);}finally{_iterator125.f();}}}}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Wi",value:function Wi(t){var _iterator126=_createForOfIteratorHelper(t),_step126;try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){var _e192=_step126.value;"attributes"===_e192.type&&"x-menuitem"===_e192.target.localName&&"toggled"===_e192.attributeName&&this.os();}}catch(err){_iterator126.e(err);}finally{_iterator126.f();}}},{key:"Ji",value:function Ji(){this.ns();}},{key:"zt",value:function zt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault();}},{key:"N",value:function(){var _N5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee54(t){var _e193,_t232,_i174,_iterator127,_step127,_t233;return regeneratorRuntime.wrap(function _callee54$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:if(!(0===t.button)){_context54.next=14;break;}if(!this.ss()){_context54.next=5;break;}this.Vt();_context54.next=14;break;case 5:if(!this.hs()){_context54.next=14;break;}_e193=t.target.closest("x-menuitem");if(!_e193){_context54.next=14;break;}_t232=this.value,_i174=_e193.value;_iterator127=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem"));try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){_t233=_step127.value;_t233.toggled=_t233===_e193;}}catch(err){_iterator127.e(err);}finally{_iterator127.f();}_context54.next=13;return this.Zt(_e193.whenTriggerEnd);case 13:(_t232!==_i174||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:_t232,newValue:_i174}})));case 14:case"end":return _context54.stop();}}},_callee54,this);}));function N(_x41){return _N5.apply(this,arguments);}return N;}()},{key:"ts",value:function ts(t){t.preventDefault();}},{key:"Qi",value:function Qi(t){this.Zt();}},{key:"kt",value:function kt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.ss()&&(t.preventDefault(),this.Vt()):"Escape"===t.key&&this.hs()&&(t.preventDefault(),this.Zt()));}}]);return In;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(In,"observedAttributes",["disabled","size"]);_defineProperty(In,"_shadowTemplate",Is(_templateObject162()));_defineProperty(In,"_shadowStyleSheet",Ls(_templateObject163()));customElements.define("x-select",In);var Ln=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),Rn=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];var Bn=/*#__PURE__*/function(_HTMLElement27){_inherits(Bn,_HTMLElement27);var _super28=_createSuper(Bn);_createClass(Bn,[{key:"value",get:function get(){var t=[];if(this.hasAttribute("value")){var _e194=this.getAttribute("value").replace("++","+PLUS").split("+");_e194=_e194.map(function(t){return t.trim().replace("PLUS","+");}).filter(function(t){return""!==t;}),t=_e194;}return t;},set:function set(t){this.setAttribute("value",t.join("+"));}},{key:"modKeys",get:function get(){return this.value.filter(function(t){return Rn.includes(t);});}},{key:"normalKey",get:function get(){var t=this.value.find(function(t){return!1===Rn.includes(t);});return void 0===t?null:t;}}]);function Bn(){var _temp30,_this106;_classCallCheck(this,Bn);(_temp30=_this106=_super28.call(this),_defineProperty(_assertThisInitialized(_this106),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this106),"I",{}),_temp30),_this106._shadowRoot=_this106.attachShadow({mode:"closed"}),_this106._shadowRoot.adoptedStyleSheets=[Bn._shadowStyleSheet],_this106._shadowRoot.append(document.importNode(Bn._shadowTemplate.content,!0));var _iterator128=_createForOfIteratorHelper(_this106._shadowRoot.querySelectorAll("[id]")),_step128;try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var _t234=_step128.value;_this106.I[_t234.id]=_t234;}}catch(err){_iterator128.e(err);}finally{_iterator128.f();}return _this106;}_createClass(Bn,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t&&this.nt();}},{key:"nt",value:function nt(){var t="";this.value;var e=this.modKeys,i=this.normalKey;if(Ln){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="\u2325"),e.includes("Shift")&&(t+="\u21E7"),e.includes("Control")&&(t+="\u2318"),e.includes("Symbol")&&(t+="\u263A");var _s114={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326"};void 0!==i&&(t+=_s114[i]||i);}else{var _s115=[];e.includes("Control")&&_s115.push("Ctrl"),e.includes("Alt")&&_s115.push("Alt"),e.includes("Meta")&&_s115.push("Meta"),e.includes("Shift")&&_s115.push("Shift"),e.includes("Symbol")&&_s115.push("Symbol");var _n67={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&_s115.push(_n67[i]||i),t=_s115.join("+");}this.I.main.textContent=t;}}]);return Bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bn,"observedAttributes",["value"]);_defineProperty(Bn,"_shadowTemplate",Is(_templateObject164()));_defineProperty(Bn,"_shadowStyleSheet",Ls(_templateObject165()));customElements.define("x-shortcut",Bn);var Gn=function Gn(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i){for(var _i175 in t){if(t[_i175]!==e[_i175])return!1;}}else{for(var _i176=0;_i176<t.length;_i176+=1){if(!e.includes(t[_i176]))return!1;}for(var _i177=0;_i177<e.length;_i177+=1){if(!t.includes(e[_i177]))return!1;}}return!0;},Un=function Un(t,e){return cs(cs(t/e)*e,xs(e));};var Fn=/*#__PURE__*/function(_HTMLElement28){_inherits(Fn,_HTMLElement28);var _super29=_createSuper(Fn);_createClass(Fn,[{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0;},set:function set(t){this.setAttribute("min",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100;},set:function set(t){this.setAttribute("max",t);}},{key:"value",get:function get(){if(this.hasAttribute("value")){var _t235=this.getAttribute("value").split(/[ ,]+/);return _t235.length>=2?_t235.map(function(t){return parseFloat(t);}).slice(0,2):parseFloat(_t235[0]);}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min;},set:function set(t){var _this108=this;Array.isArray(t)?((t=t.map(function(t){return us(t,_this108.min,_this108.max);})).length=2,this.setAttribute("value",t.join(" "))):(t=us(t,this.min,this.max),this.setAttribute("value",t));}},{key:"buffer",get:function get(){if(this.hasAttribute("buffer")){var _t236=this.getAttribute("buffer").split(/[ ,]+/);return _t236.length>=2?_t236.map(function(t){return parseFloat(t);}).slice(0,2):[0,parseFloat(_t236[0])];}return[0,0];},set:function set(t){var _this109=this;(t=t.map(function(t){return us(t,_this109.min,_this109.max);})).length=2,this.setAttribute("buffer",t.join(" "));}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"dragging",get:function get(){return this.getAttribute("dragging");}}]);function Fn(){var _temp31,_this107;_classCallCheck(this,Fn);(_temp31=_this107=_super29.call(this),_defineProperty(_assertThisInitialized(_this107),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this107),"I",{}),_defineProperty(_assertThisInitialized(_this107),"yt",0),_defineProperty(_assertThisInitialized(_this107),"B",null),_defineProperty(_assertThisInitialized(_this107),"Yi",new MutationObserver(function(t){return _this107.Wi(t);})),_defineProperty(_assertThisInitialized(_this107),"ls",new ResizeObserver(function(){return _this107.rs();})),_defineProperty(_assertThisInitialized(_this107),"bs",Js(_this107.cs,500,_assertThisInitialized(_this107))),_temp31),_this107._shadowRoot=_this107.attachShadow({mode:"closed",delegatesFocus:!0}),_this107._shadowRoot.adoptedStyleSheets=[Fn._shadowStyleSheet],_this107._shadowRoot.append(document.importNode(Fn._shadowTemplate.content,!0));var _iterator129=_createForOfIteratorHelper(_this107._shadowRoot.querySelectorAll("[id]")),_step129;try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var _t237=_step129.value;_this107.I[_t237.id]=_t237;}}catch(err){_iterator129.e(err);}finally{_iterator129.f();}_this107._shadowRoot.addEventListener("pointerdown",function(t){return _this107.vi(t);}),_this107.addEventListener("pointerdown",function(t){return _this107.zt(t);}),_this107.addEventListener("keydown",function(t){return _this107.kt(t);});return _this107;}_createClass(Fn,[{key:"connectedCallback",value:function connectedCallback(){var _this110=this;this.setAttribute("value",this.value),Us.addEventListener("sizechange",this.B=function(){return _this110.U();}),this.ls.observe(this.I["start-thumb"]),this.Yi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.ds(),this.us(),this.cs(),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B),this.ls.unobserve(this.I["start-thumb"]),this.Yi.disconnect();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.ps():"min"===t?this.Ei():"max"===t?this.Ai():"size"===t&&this.lt());}},{key:"ot",value:function ot(){this.ds(),this.us();}},{key:"ps",value:function ps(){this.ds();}},{key:"Ei",value:function Ei(){this.ds(),this.us(),this.cs();}},{key:"Ai",value:function Ai(){this.ds(),this.us(),this.cs();}},{key:"lt",value:function lt(){this.U();}},{key:"Wi",value:function Wi(t){var _iterator130=_createForOfIteratorHelper(t),_step130;try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var _e195=_step130.value;if("attributes"===_e195.type&&_e195.target===this)return;this.bs();}}catch(err){_iterator130.e(err);}finally{_iterator130.f();}}},{key:"rs",value:function rs(){var t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px");}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e196=Zs(this.parentNode,"[tabindex]");_e196&&_e196.focus();}}},{key:"vi",value:function vi(t){var _this111=this;if(1!==t.buttons||!1===t.isPrimary)return;var e,_i179,s=null,_this$I$startThumb$g=this.I["start-thumb"].getBoundingClientRect(),n=_this$I$startThumb$g.width,o=_this$I$startThumb$g.height,l=this.I.main.getBoundingClientRect(),a=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.I["end-thumb"].hidden)s=this.I["start-thumb"];else{var _e197=this.I["start-thumb"].getBoundingClientRect(),_i178=this.I["end-thumb"].getBoundingClientRect(),_n68=new DOMPoint(_e197.x+_e197.width/2,_e197.y+_e197.height/2),_o47=new DOMPoint(_i178.x+_i178.width/2,_i178.y+_i178.height/2),_l40=new DOMPoint(t.clientX,t.clientY),_a30=bs(_l40,_n68),_h22=bs(_l40,_o47);s=_a30<=_h22?this.I["start-thumb"]:this.I["end-thumb"];}var h=function h(t,e){var i=0;if(_this111.vertical){var _t238=l.y+l.height-o/2-e;_t238=us(_t238,0,l.height-o),i=_t238/(l.height-o)*(_this111.max-_this111.min)+_this111.min;}else{var _e198=t-(l.x+n/2);_e198=us(_e198,0,l.width-n),i=_e198/(l.width-n)*(_this111.max-_this111.min)+_this111.min;}if(i=Un(i,_this111.step),Array.isArray(_this111.value)){var _this111$value=_slicedToArray(_this111.value,2),_t239=_this111$value[0],_e199=_this111$value[1];s===_this111.I["start-thumb"]?(i>=_e199&&(i=_e199),i!==_t239&&(_this111.value=[i,_e199],!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===_this111.I["end-thumb"]&&(i<=_t239&&(i=_t239),i!==_e199&&(_this111.value=[_t239,i],!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0}))));}else _this111.value!==i&&(_this111.value=i,!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),h(t.clientX,t.clientY);var _iterator131=_createForOfIteratorHelper(this.I.thumbs.children),_step131;try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){var _t240=_step131.value;_t240.style.zIndex=_t240===s?"1":"0";}}catch(err){_iterator131.e(err);}finally{_iterator131.f();}s.addEventListener("pointermove",e=function e(t){t.isPrimary&&h(t.clientX,t.clientY);}),s.addEventListener("lostpointercapture",_i179=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i179),_this111.removeAttribute("dragging"),a&&_this111.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));});}},{key:"kt",value:function kt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e200=this.value;if(Array.isArray(this.value)){var _this$value=_slicedToArray(this.value,2),_i180=_this$value[0],_s116=_this$value[1];this._shadowRoot.activeElement===this.I["start-thumb"]?t.shiftKey?_i180-=10*this.step:_i180-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s116-=10*this.step:_s116-=this.step,_s116<=_i180&&(_s116=_i180)),this.value=[_i180,_s116],!1===Gn(_e200,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,_e200!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e201=this.value;if(Array.isArray(this.value)){var _this$value2=_slicedToArray(this.value,2),_i181=_this$value2[0],_s117=_this$value2[1];this._shadowRoot.activeElement===this.I["start-thumb"]?(t.shiftKey?_i181+=10*this.step:_i181+=this.step,_i181>=_s117&&(_i181=_s117)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s117+=10*this.step:_s117+=this.step),this.value=[_i181,_s117],!1===Gn(_e201,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,_e201!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}}},{key:"us",value:function us(){if(Array.isArray(this.value)){var _this$value3=_slicedToArray(this.value,2),_t241=_this$value3[0],_e202=_this$value3[1];{var _e203=(_t241-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_e203+"%",this.I["start-thumb"].hidden=!1):(this.I["start-thumb"].style.left=_e203+"%",this.I["start-thumb"].hidden=!1);}{var _t242=(_e202-this.min)/(this.max-this.min)*100;this.vertical?(this.I["end-thumb"].style.top=100-_t242+"%",this.I["end-thumb"].hidden=!1):(this.I["end-thumb"].style.left=_t242+"%",this.I["end-thumb"].hidden=!1);}}else{var _t243=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_t243+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0):(this.I["start-thumb"].style.left=_t243+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0);}}},{key:"ds",value:function ds(){if(Array.isArray(this.value)){var _this$value4=_slicedToArray(this.value,2),_t244=_this$value4[0],_e204=_this$value4[1],_i182=(_t244-this.min)/(this.max-this.min)*100,_s118=(_e204-this.min)/(this.max-this.min)*100;this.vertical?(this.I["range-track"].style.bottom="".concat(_i182,"%"),this.I["range-track"].style.height=_s118-_i182+"%"):(this.I["range-track"].style.left="".concat(_i182,"%"),this.I["range-track"].style.width=_s118-_i182+"%");}else{var _t245=(this.value-this.min)/(this.max-this.min)*100,_e205=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?_t245>=_e205?(this.I["range-track"].style.bottom="".concat(_e205,"%"),this.I["range-track"].style.height=_t245-_e205+"%"):(this.I["range-track"].style.bottom="".concat(_t245,"%"),this.I["range-track"].style.height=_e205-_t245+"%"):_t245>=_e205?(this.I["range-track"].style.left="".concat(_e205,"%"),this.I["range-track"].style.width=_t245-_e205+"%"):(this.I["range-track"].style.left="".concat(_t245,"%"),this.I["range-track"].style.width=_e205-_t245+"%");}{var _this$buffer=_slicedToArray(this.buffer,2),_t246=_this$buffer[0],_e206=_this$buffer[1],_i183=(_t246-this.min)/(this.max-this.min)*100,_s119=(_e206-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=_i183+"%",this.I["buffer-track"].style.height=_s119-_i183+"%"):(this.I["buffer-track"].style.left=_i183+"%",this.I["buffer-track"].style.width=_s119-_i183+"%");}}},{key:"cs",value:function(){var _cs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){var _iterator132,_step132,_t247;return regeneratorRuntime.wrap(function _callee55$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:_context55.next=2;return customElements.whenDefined("x-label");case 2:this.I.ticks.innerHTML="";_iterator132=_createForOfIteratorHelper(this.querySelectorAll(":scope > x-label"));try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){_t247=_step132.value;this.vertical?_t247.style.top=100-(_t247.value-this.min)/(this.max-this.min)*100+"%":_t247.style.left=(_t247.value-this.min)/(this.max-this.min)*100+"%",_t247===this.firstElementChild?_t247.style.position="relative":_t247.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"top: ".concat(_t247.style.top,"\"></div>")):this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"left: ".concat(_t247.style.left,"\"></div>"));}}catch(err){_iterator132.e(err);}finally{_iterator132.f();}case 5:case"end":return _context55.stop();}}},_callee55,this);}));function cs(){return _cs.apply(this,arguments);}return cs;}()},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fn,"observedAttributes",["value","buffer","min","max","size"]);_defineProperty(Fn,"_shadowTemplate",Is(_templateObject166()));_defineProperty(Fn,"_shadowStyleSheet",Ls(_templateObject167()));customElements.define("x-slider",Fn);var Nn=/*#__PURE__*/function(_HTMLElement29){_inherits(Nn,_HTMLElement29);var _super30=_createSuper(Nn);_createClass(Nn,[{key:"disabled",get:function get(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement");},set:function set(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t);}}]);function Nn(){var _temp32,_this112;_classCallCheck(this,Nn);(_temp32=_this112=_super30.call(this),_defineProperty(_assertThisInitialized(_this112),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this112),"I",{}),_defineProperty(_assertThisInitialized(_this112),"gs",null),_temp32),_this112._shadowRoot=_this112.attachShadow({mode:"closed"}),_this112._shadowRoot.adoptedStyleSheets=[Nn._shadowStyleSheet],_this112._shadowRoot.append(document.importNode(Nn._shadowTemplate.content,!0));var _iterator133=_createForOfIteratorHelper(_this112._shadowRoot.querySelectorAll("[id]")),_step133;try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var _t248=_step133.value;_this112.I[_t248.id]=_t248;}}catch(err){_iterator133.e(err);}finally{_iterator133.f();}_this112._shadowRoot.addEventListener("pointerdown",function(t){return _this112.zt(t);});return _this112;}_createClass(Nn,[{key:"connectedCallback",value:function connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.gs=this.parentElement,this.gs.setAttribute("hasstepper",""));}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.gs&&(null===this.gs.querySelector(":scope > x-stepper")&&this.gs.removeAttribute("hasstepper",""),this.gs=null);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t&&this.qt();}},{key:"qt",value:function qt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"));}},{key:"zt",value:function zt(t){var _this113=this;var e=t.target.closest(".button"),i=null;if(e===this.I["increment-button"]?i="increment":e===this.I["decrement-button"]&&(i="decrement"),1===t.buttons&&null!==i){{var _s120=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref45=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee56(t){var i;return regeneratorRuntime.wrap(function _callee56$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:i=Date.now()-_s120;_context56.t0=i<100;if(!_context56.t0){_context56.next=5;break;}_context56.next=5;return Ks(100-i);case 5:e.removeAttribute("data-pressed");_this113.removeAttribute("pressed");case 7:case"end":return _context56.stop();}}},_callee56);}));return function(_x42){return _ref45.apply(this,arguments);};}(),{once:!0});}{var _e207=null,_s121=Date.now(),_n69=t.shiftKey;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n69}})),this.addEventListener("lostpointercapture",function(t){clearInterval(_e207),_this113.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}));},{once:!0}),_e207=setInterval(function(){Date.now()-_s121>500&&_this113.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n69}}));},100);}}}}]);return Nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nn,"observedAttributes",["disabled"]);_defineProperty(Nn,"_shadowTemplate",Is(_templateObject168()));_defineProperty(Nn,"_shadowStyleSheet",Ls(_templateObject169()));customElements.define("x-stepper",Nn);var Vn=/*#__PURE__*/function(_HTMLElement30){_inherits(Vn,_HTMLElement30);var _super31=_createSuper(Vn);_createClass(Vn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"white";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Vn(){var _temp33,_this114;_classCallCheck(this,Vn);(_temp33=_this114=_super31.call(this),_defineProperty(_assertThisInitialized(_this114),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this114),"I",{}),_defineProperty(_assertThisInitialized(_this114),"B",null),_temp33),_this114._shadowRoot=_this114.attachShadow({mode:"closed"}),_this114._shadowRoot.adoptedStyleSheets=[Vn._shadowStyleSheet],_this114._shadowRoot.append(document.importNode(Vn._shadowTemplate.content,!0));var _iterator134=_createForOfIteratorHelper(_this114._shadowRoot.querySelectorAll("[id]")),_step134;try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var _t249=_step134.value;_this114.I[_t249.id]=_t249;}}catch(err){_iterator134.e(err);}finally{_iterator134.f();}return _this114;}_createClass(Vn,[{key:"connectedCallback",value:function connectedCallback(){var _this115=this;this.xs(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this115.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.xs():"size"===t&&this.U();}},{key:"xs",value:function xs(){this.I.preview.style.background=this.value;}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Vn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vn,"observedAttributes",["value","size"]);_defineProperty(Vn,"_shadowTemplate",Is(_templateObject170()));_defineProperty(Vn,"_shadowStyleSheet",Ls(_templateObject171()));customElements.define("x-swatch",Vn);var jn=/*#__PURE__*/function(_HTMLElement31){_inherits(jn,_HTMLElement31);var _super32=_createSuper(jn);_createClass(jn,[{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function jn(){var _temp34,_this116;_classCallCheck(this,jn);(_temp34=_this116=_super32.call(this),_defineProperty(_assertThisInitialized(_this116),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this116),"I",{}),_defineProperty(_assertThisInitialized(_this116),"yt",0),_defineProperty(_assertThisInitialized(_this116),"B",null),_temp34),_this116._shadowRoot=_this116.attachShadow({mode:"closed"}),_this116._shadowRoot.adoptedStyleSheets=[jn._shadowStyleSheet],_this116._shadowRoot.append(document.importNode(jn._shadowTemplate.content,!0));var _iterator135=_createForOfIteratorHelper(_this116._shadowRoot.querySelectorAll("[id]")),_step135;try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _t250=_step135.value;_this116.I[_t250.id]=_t250;}}catch(err){_iterator135.e(err);}finally{_iterator135.f();}_this116.addEventListener("pointerdown",function(t){return _this116.zt(t);}),_this116.addEventListener("click",function(t){return _this116.N(t);}),_this116.addEventListener("keydown",function(t){return _this116.kt(t);});return _this116;}_createClass(jn,[{key:"connectedCallback",value:function connectedCallback(){var _this117=this;Us.addEventListener("sizechange",this.B=function(){return _this117.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e208=Zs(this.parentNode,"[tabindex]");_e208&&_e208.focus();}}else t.preventDefault();}},{key:"N",value:function(){var _N6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee57(t){return regeneratorRuntime.wrap(function _callee57$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"));case 1:case"end":return _context57.stop();}}},_callee57,this);}));function N(_x43){return _N6.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(jn,"_shadowTemplate",Is(_templateObject172()));_defineProperty(jn,"_shadowStyleSheet",Ls(_templateObject173()));customElements.define("x-switch",jn);var Hn=Math.max;var Wn=/*#__PURE__*/function(_HTMLElement32){_inherits(Wn,_HTMLElement32);var _super33=_createSuper(Wn);_createClass(Wn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Wn(){var _temp35,_this118;_classCallCheck(this,Wn);(_temp35=_this118=_super33.call(this),_defineProperty(_assertThisInitialized(_this118),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this118),"I",{}),_defineProperty(_assertThisInitialized(_this118),"B",null),_temp35),_this118._shadowRoot=_this118.attachShadow({mode:"closed"}),_this118._shadowRoot.adoptedStyleSheets=[Wn._shadowStyleSheet],_this118._shadowRoot.append(document.importNode(Wn._shadowTemplate.content,!0));var _iterator136=_createForOfIteratorHelper(_this118._shadowRoot.querySelectorAll("[id]")),_step136;try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var _t251=_step136.value;_this118.I[_t251.id]=_t251;}}catch(err){_iterator136.e(err);}finally{_iterator136.f();}_this118.addEventListener("pointerdown",function(t){return _this118.zt(t);}),_this118.addEventListener("click",function(t){return _this118.N(t);});return _this118;}_createClass(Wn,[{key:"connectedCallback",value:function connectedCallback(){var _this119=this;this.Ct(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this119.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this120=this;return new Promise(/*#__PURE__*/function(){var _ref46=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee58(e){var _e209,_i184,_s122;return regeneratorRuntime.wrap(function _callee58$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:if(!("0px"!==_this120.I["selection-indicator"].style.height)){_context58.next=4;break;}_e209=_this120.getBoundingClientRect(),_i184=t.getBoundingClientRect(),_s122=_this120.I["selection-indicator"].animate([{left:"0px",width:_e209.width+"px"},{left:_i184.left-_e209.left+"px",width:_i184.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context58.next=4;return _s122.finished;case 4:e();case 5:case"end":return _context58.stop();}}},_callee58);}));return function(_x44){return _ref46.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1");}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee60(t){var _this121=this;var _e210,_e211,_e212,_i186,_s123,_n70,_o48,_l41,_a31,_h23,_r15;return regeneratorRuntime.wrap(function _callee60$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:if(!1===this.matches(":focus")){t.preventDefault();_e210=Zs(this.parentNode,"[tabindex]");_e210&&_e210.focus();}if(!(1===t.buttons)){_context60.next=24;break;}_e211=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref47=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee59(t){var _t252,_i185;return regeneratorRuntime.wrap(function _callee59$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:if(!(!0===_this121.selected)){_context59.next=6;break;}_t252=Date.now()-_e211,_i185=100;_context59.t0=_t252<_i185;if(!_context59.t0){_context59.next=6;break;}_context59.next=6;return Ks(_i185-_t252);case 6:_this121.removeAttribute("pressed");case 7:case"end":return _context59.stop();}}},_callee59);}));return function(_x46){return _ref47.apply(this,arguments);};}(),{once:!0});if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context60.next=24;break;}_e212=this.I.ripples.getBoundingClientRect(),_i186=1.5*Hn(_e212.width,_e212.height),_s123=t.clientY-_e212.y-_i186/2,_n70=t.clientX-_e212.x-_i186/2,_o48=new Promise(function(t){return _this121.addEventListener("lostpointercapture",t,{once:!0});}),_l41=Xs("div");_l41.setAttribute("part","ripple");_l41.setAttribute("class","ripple pointer-down-ripple");_l41.setAttribute("style","width: ".concat(_i186,"px; height: ").concat(_i186,"px; top: ").concat(_s123,"px; left: ").concat(_n70,"px;"));this.I.ripples.append(_l41);this.setPointerCapture(t.pointerId);_l41.hidden=!0;_context60.next=14;return Ks(10);case 14:_l41.hidden=!1;_a31=_l41.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=18;return _o48;case 18:_context60.next=20;return _a31.finished;case 20:_h23=getComputedStyle(_l41).opacity,_r15=_l41.animate({opacity:[_h23,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=23;return _r15.finished;case 23:_l41.remove();case 24:case"end":return _context60.stop();}}},_callee60,this);}));function zt(_x45){return _zt2.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee61(t){var _t253,_e213,_i187,_s124,_n71,_o49,_l42,_a32;return regeneratorRuntime.wrap(function _callee61$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:if(!(null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context61.next=10;break;}_t253=this.I.ripples.getBoundingClientRect(),_e213=1.5*Hn(_t253.width,_t253.height),_i187=_t253.y+_t253.height/2-_t253.y-_e213/2,_s124=_t253.x+_t253.width/2-_t253.x-_e213/2,_n71=Xs("div");_n71.setAttribute("part","ripple"),_n71.setAttribute("class","ripple click-ripple"),_n71.setAttribute("style","width: ".concat(_e213,"px; height: ").concat(_e213,"px; top: ").concat(_i187,"px; left: ").concat(_s124,"px;")),this.I.ripples.append(_n71);_o49=_n71.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=6;return _o49.finished;case 6:_l42=getComputedStyle(_n71).opacity,_a32=_n71.animate({opacity:[_l42,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=9;return _a32.finished;case 9:_n71.remove();case 10:case"end":return _context61.stop();}}},_callee61,this);}));function N(_x47){return _N7.apply(this,arguments);}return N;}()}]);return Wn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wn,"observedAttributes",["selected","disabled","size"]);_defineProperty(Wn,"_shadowTemplate",Is(_templateObject174()));_defineProperty(Wn,"_shadowStyleSheet",Ls(_templateObject175()));customElements.define("x-tab",Wn);var Yn=/*#__PURE__*/function(_HTMLElement33){_inherits(Yn,_HTMLElement33);var _super34=_createSuper(Yn);_createClass(Yn,[{key:"value",get:function get(){var t=this.querySelector("x-tab[selected]");return t?t.value:null;},set:function set(t){var e=_toConsumableArray(this.querySelectorAll("x-tab")),i=null===t?null:e.find(function(e){return e.value===t;});var _iterator137=_createForOfIteratorHelper(e),_step137;try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){var _t254=_step137.value;_t254.selected=_t254===i;}}catch(err){_iterator137.e(err);}finally{_iterator137.f();}}}]);function Yn(){var _temp36,_this122;_classCallCheck(this,Yn);(_temp36=_this122=_super34.call(this),_defineProperty(_assertThisInitialized(_this122),"_shadowRoot",null),_temp36),_this122._shadowRoot=_this122.attachShadow({mode:"closed"}),_this122._shadowRoot.adoptedStyleSheets=[Yn._shadowStyleSheet],_this122._shadowRoot.append(document.importNode(Yn._shadowTemplate.content,!0)),_this122.addEventListener("click",function(t){return _this122.N(t);}),_this122.addEventListener("keydown",function(t){return _this122.kt(t);});return _this122;}_createClass(Yn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","tablist");}},{key:"N",value:function(){var _N8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee62(t){var _e214,_i188,_s125,_iterator138,_step138,_t255;return regeneratorRuntime.wrap(function _callee62$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:if(!(0===t.button&&t.target.closest("x-tab"))){_context62.next=10;break;}_e214=this.querySelectorAll("x-tab"),_i188=t.target.closest("x-tab"),_s125=this.querySelector("x-tab[selected]");if(!(_i188!==_s125)){_context62.next=10;break;}_context62.t0=_s125;if(!_context62.t0){_context62.next=7;break;}_context62.next=7;return _s125.animateSelectionIndicator(_i188);case 7:_iterator138=_createForOfIteratorHelper(_e214);try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){_t255=_step138.value;_t255.selected=_t255===_i188;}}catch(err){_iterator138.e(err);}finally{_iterator138.f();}this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));case 10:case"end":return _context62.stop();}}},_callee62,this);}));function N(_x48){return _N8.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e215=t.target;_e215.querySelector("x-label"),t.preventDefault(),_e215.click();}else if("ArrowLeft"===t.code){var _e216=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i189=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i189&&_e216.length>0){var _t256=_e216.indexOf(_i189),_s126=_e216[_t256-1]||_e216[_e216.length-1];_i189.tabIndex=-1,_s126.tabIndex=0,_s126.focus();}}else if("ArrowRight"===t.code){var _e217=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i190=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i190&&_e217.length>0){var _t257=_e217.indexOf(_i190),_s127=_e217[_t257+1]||_e217[0];_i190.tabIndex=-1,_s127.tabIndex=0,_s127.focus();}}}}]);return Yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yn,"_shadowTemplate",Is(_templateObject176()));_defineProperty(Yn,"_shadowStyleSheet",Ls(_templateObject177()));customElements.define("x-tabs",Yn);var qn=/*#__PURE__*/function(_HTMLElement34){_inherits(qn,_HTMLElement34);var _super35=_createSuper(qn);_createClass(qn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"removable",get:function get(){return this.hasAttribute("removable");},set:function set(t){t?this.setAttribute("removable",""):this.removeAttribute("removable");}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function qn(){var _temp37,_this123;_classCallCheck(this,qn);(_temp37=_this123=_super35.call(this),_defineProperty(_assertThisInitialized(_this123),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this123),"I",{}),_defineProperty(_assertThisInitialized(_this123),"B",null),_temp37),_this123._shadowRoot=_this123.attachShadow({mode:"closed"}),_this123._shadowRoot.adoptedStyleSheets=[qn._shadowStyleSheet],_this123._shadowRoot.append(document.importNode(qn._shadowTemplate.content,!0));var _iterator139=_createForOfIteratorHelper(_this123._shadowRoot.querySelectorAll("[id]")),_step139;try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var _t258=_step139.value;_this123.I[_t258.id]=_t258;}}catch(err){_iterator139.e(err);}finally{_iterator139.f();}_this123.I["scope-slot"].addEventListener("slotchange",function(){return _this123.fs();}),_this123.I["remove-button"].addEventListener("click",function(t){return _this123.ws(t);});return _this123;}_createClass(qn,[{key:"connectedCallback",value:function connectedCallback(){var _this124=this;this.U(),this.fs(),Us.addEventListener("sizechange",this.B=function(){return _this124.U();}),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1;}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.U();}},{key:"ws",value:function ws(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}));}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"fs",value:function fs(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","");}}]);return qn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qn,"observedAttributes",["disabled","size"]);_defineProperty(qn,"_shadowTemplate",Is(_templateObject178()));_defineProperty(qn,"_shadowStyleSheet",Ls(_templateObject179()));customElements.define("x-tag",qn);var Xn=/*#__PURE__*/function(_HTMLElement35){_inherits(Xn,_HTMLElement35);var _super36=_createSuper(Xn);_createClass(Xn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});},set:function set(t){var e=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});var _iterator140=_createForOfIteratorHelper(e),_step140;try{for(_iterator140.s();!(_step140=_iterator140.n()).done;){var _i191=_step140.value;_i191.toggled=t.includes(_i191.value);}}catch(err){_iterator140.e(err);}finally{_iterator140.f();}}}]);function Xn(){var _temp38,_this125;_classCallCheck(this,Xn);(_temp38=_this125=_super36.call(this),_defineProperty(_assertThisInitialized(_this125),"_shadowRoot",null),_temp38),_this125._shadowRoot=_this125.attachShadow({mode:"closed"}),_this125._shadowRoot.adoptedStyleSheets=[Xn._shadowStyleSheet],_this125._shadowRoot.append(document.importNode(Xn._shadowTemplate.content,!0)),_this125.addEventListener("pointerdown",function(t){return _this125.zt(t);}),_this125.addEventListener("click",function(t){return _this125.N(t);}),_this125.addEventListener("keydown",function(t){return _this125.kt(t);});return _this125;}_createClass(Xn,[{key:"zt",value:function zt(t){var _this126=this;if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){var _t259=Zs(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t259?_t259.focus():_this126.blur();},{once:!0});}}else t.preventDefault();}},{key:"N",value:function N(t){var e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})));}},{key:"kt",value:function kt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){var _e218=this.querySelector("x-tag:focus");_e218&&(t.preventDefault(),_e218.click());}else if("ArrowRight"===t.key){var _t260=this.querySelector("x-tag:focus");_t260&&(_t260.nextElementSibling?_t260.nextElementSibling.focus():_t260!==_t260.parentElement.firstElementChild&&_t260.parentElement.firstElementChild.focus());}else if("ArrowLeft"===t.key){var _t261=this.querySelector("x-tag:focus");_t261&&(_t261.previousElementSibling?_t261.previousElementSibling.focus():_t261!==_t261.parentElement.lastElementChild&&_t261.parentElement.lastElementChild.focus());}}}]);return Xn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xn,"_shadowTemplate",Is(_templateObject180()));_defineProperty(Xn,"_shadowStyleSheet",Ls(_templateObject181()));customElements.define("x-tags",Xn);var Zn=/*#__PURE__*/function(_HTMLElement36){_inherits(Zn,_HTMLElement36);var _super37=_createSuper(Zn);_createClass(Zn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});}},{key:"delimiter",get:function get(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):",";},set:function set(t){this.setAttribute("delimiter",t);}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"suggestions",get:function get(){return this.hasAttribute("suggestions");},set:function set(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Zn(){var _temp39,_this127;_classCallCheck(this,Zn);(_temp39=_this127=_super37.call(this),_defineProperty(_assertThisInitialized(_this127),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this127),"I",{}),_defineProperty(_assertThisInitialized(_this127),"yt",0),_defineProperty(_assertThisInitialized(_this127),"B",null),_temp39),_this127._shadowRoot=_this127.attachShadow({mode:"closed",delegatesFocus:!0}),_this127._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Zn._shadowStyleSheet],_this127._shadowRoot.append(document.importNode(Zn._shadowTemplate.content,!0));var _iterator141=_createForOfIteratorHelper(_this127._shadowRoot.querySelectorAll("[id]")),_step141;try{for(_iterator141.s();!(_step141=_iterator141.n()).done;){var _t262=_step141.value;_this127.I[_t262.id]=_t262;}}catch(err){_iterator141.e(err);}finally{_iterator141.f();}_this127.addEventListener("focusout",function(t){return _this127.matches(":focus-within")?null:_this127.te(t);}),_this127.I.input.addEventListener("focusin",function(t){return _this127.vs(t);}),_this127.I.input.addEventListener("focusout",function(t){return _this127.ys(t);}),_this127._shadowRoot.addEventListener("pointerdown",function(t){return _this127.vi(t);}),_this127._shadowRoot.addEventListener("remove",function(t){return _this127.ws(t);}),_this127._shadowRoot.addEventListener("keydown",function(t){return _this127.kt(t);}),_this127.I.input.addEventListener("input",function(t){return _this127.fe(t);});return _this127;}_createClass(Zn,[{key:"connectedCallback",value:function connectedCallback(){var _this128=this;this.zs(),this.Ct(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this128.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ye():"disabled"===t?this.qt():"size"===t&&this.lt());}},{key:"clear",value:function clear(){var t=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});if(t.length>0){var _iterator142=_createForOfIteratorHelper(t),_step142;try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _e219=_step142.value;_e219.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:_e219}));}}catch(err){_iterator142.e(err);}finally{_iterator142.f();}this.error=null,this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("change"));}}},{key:"getSuggestions",value:function getSuggestions(t){return[];}},{key:"Ws",value:function Ws(){var t=new Range();t.selectNodeContents(this.I.input);var e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e;}},{key:"Cs",value:function Cs(){var t=this.I.input.textContent.trim();if(this.I.input.textContent="",t.length>0&&!1===this.value.includes(t)){var _e220;if(t.includes(":")){var _t$split$map=t.split(":").map(function(t){return t.trim();}),_t$split$map2=_slicedToArray(_t$split$map,2),_i192=_t$split$map2[0],_s128=_t$split$map2[1];_e220=Is(_templateObject3(),t,_i192,_s128);}else _e220=Is(_templateObject4(),t,t);this.append(_e220),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("add",{detail:_e220})),this.dispatchEvent(new CustomEvent("change"));}}},{key:"vi",value:function vi(t){if(t.target===this.I.main||t.target===this.I.tags)t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Ss();else if(t.target===this.I.input)this.I.input.setAttribute("contenteditable",""),this.ks();else if(t.target.closest("x-popover")){t.preventDefault();var _e221=t.target.closest("x-tag");_e221&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(_e221),this.dispatchEvent(new CustomEvent("add",{detail:_e221})),this.dispatchEvent(new CustomEvent("change")));}else t.target.closest("x-tag")&&(this.I.input.focus(),this.Cs());}},{key:"ws",value:function ws(t){t.stopPropagation();var e=t.target;e.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"));}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"te",value:function te(){this.required&&0===_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).length&&(this.error="This field is required");}},{key:"vs",value:function(){var _vs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){return regeneratorRuntime.wrap(function _callee63$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:this.I.input.setAttribute("contenteditable","");this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));_context63.next=4;return Ks(10);case 4:this.I.input.matches(":focus")&&(this.Ss(),this.ks());case 5:case"end":return _context63.stop();}}},_callee63,this);}));function vs(){return _vs.apply(this,arguments);}return vs;}()},{key:"ys",value:function ys(){this.Cs(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close();}},{key:"fe",value:function fe(t){this.I.input.textContent.includes(this.delimiter)&&this.Cs(),this.zs(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.ks(t.inputType);}},{key:"kt",value:function kt(t){if("Enter"===t.key)t.target===this.I.input&&(t.preventDefault(),this.Cs());else if("Backspace"===t.key){if(t.target===this.I.input){if(0===this.I.input.textContent.length){var _t263=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_e222=_t263[_t263.length-1]||null;_e222&&(_e222.remove(),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_e222})),this.dispatchEvent(new CustomEvent("change")));}}else if("x-tag"===t.target.localName){var _e223=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_i193=t.target,_s129=_e223.indexOf(_i193),_n72=_e223[_s129+1]||null,_o50=_e223[_s129-1]||null;_n72?_n72.focus():_o50?_o50.focus():this.I.input.focus(),_i193.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_i193})),this.dispatchEvent(new CustomEvent("change"));}}else if("ArrowDown"===t.key){if(this.I["suggestions-popover"].opened){var _e224=_toConsumableArray(this.I["suggested-tags"].children);if(_e224.length>1){t.preventDefault();var _i194=null;{var _t264=_e224.find(function(t){return t.toggled;});if(_t264){_t264.toggled=!1;var _s130=_e224.indexOf(_t264);_i194=_e224[_s130+1]||_e224[0];}else _i194=_e224[0];}_i194.toggled=!0,_i194.scrollIntoViewIfNeeded();{var _t265=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e225=_i194.querySelector("x-label").textContent;this.I.input.textContent=_e225,this.Ss(_t265,_e225.length);}}}}else if("ArrowUp"===t.key&&this.I["suggestions-popover"].opened){var _e226=_toConsumableArray(this.I["suggested-tags"].children);if(_e226.length>1){t.preventDefault();var _i195=null;{var _t266=_e226.find(function(t){return t.toggled;});if(_t266){_t266.toggled=!1;var _s131=_e226.indexOf(_t266);_i195=_e226[_s131-1]||_e226[_e226.length-1];}else _i195=_e226[_e226.length-1];}_i195.toggled=!0,_i195.scrollIntoViewIfNeeded();{var _t267=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e227=_i195.querySelector("x-label").textContent;this.I.input.textContent=_e227,this.Ss(_t267,_e227.length);}}}}},{key:"nt",value:function nt(){this.zs();}},{key:"zs",value:function zs(){var t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.I.input.textContent.length>0);}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Ss",value:function Ss(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.I.input.textContent.length;var i=new Range();0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));var s=window.getSelection();s.removeAllRanges(),s.addRange(i);}},{key:"ks",value:function ks(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"insertText";if(this.suggestions){var _e228=this.I.input.textContent,_i196=this._shadowRoot.getSelection().getRangeAt(0);!1===_i196.collapsed&&(_e228=_e228.substring(0,_i196.startOffset));var _s132=this.getSuggestions(_e228);if(_s132.length>0&&"deleteContentBackward"!==t){var _t268=this.I.input.textContent,_e229=_s132[0].querySelector("x-label").textContent,_i197=this.I.input.firstChild;_i197&&(_i197.textContent=_e229,this.Ss(_t268.length,_e229.length));}if(0===_s132.length)this.I["suggested-tags"].innerHTML="",!0===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close();else{var _this$I$suggestedTag;var _i198=this.Ws();this.I["suggested-tags"].innerHTML="",(_this$I$suggestedTag=this.I["suggested-tags"]).append.apply(_this$I$suggestedTag,_toConsumableArray(_s132)),"deleteContentBackward"!==t&&_e228.length>0&&(_s132[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(_i198),this.I["suggested-tags"].scrollTop=0;}}}}]);return Zn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zn,"observedAttributes",["spellcheck","disabled","size"]);_defineProperty(Zn,"_shadowTemplate",Is(_templateObject182()));_defineProperty(Zn,"_shadowStyleSheet",Ls(_templateObject183()));customElements.define("x-tagsinput",Zn);var Kn=/*#__PURE__*/function(_HTMLElement37){_inherits(Kn,_HTMLElement37);var _super38=_createSuper(Kn);_createClass(Kn,[{key:"value",get:function get(){return this.I.editor.textContent;},set:function set(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be();}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Kn(){var _temp40,_this129;_classCallCheck(this,Kn);(_temp40=_this129=_super38.call(this),_defineProperty(_assertThisInitialized(_this129),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this129),"I",{}),_defineProperty(_assertThisInitialized(_this129),"yt",0),_defineProperty(_assertThisInitialized(_this129),"B",null),_temp40),_this129._shadowRoot=_this129.attachShadow({mode:"closed",delegatesFocus:!0}),_this129._shadowRoot.adoptedStyleSheets=[Kn._shadowStyleSheet],_this129._shadowRoot.append(document.importNode(Kn._shadowTemplate.content,!0));var _iterator143=_createForOfIteratorHelper(_this129._shadowRoot.querySelectorAll("[id]")),_step143;try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var _t269=_step143.value;_this129.I[_t269.id]=_t269;}}catch(err){_iterator143.e(err);}finally{_iterator143.f();}_this129.addEventListener("focusin",function(t){return _this129.ge(t);}),_this129.addEventListener("focusout",function(t){return _this129.xe(t);}),_this129.I.editor.addEventListener("click",function(t){return _this129.Es(t);}),_this129.I.editor.addEventListener("input",function(t){return _this129.zi(t);});return _this129;}_createClass(Kn,[{key:"connectedCallback",value:function connectedCallback(){var _this130=this;this.be(),this.Ct(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),Us.addEventListener("sizechange",this.B=function(){return _this130.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ye():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll");}},{key:"ye",value:function ye(){this.I.editor.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.As=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.As&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})));}},{key:"Es",value:function Es(t){t.detail>=4&&document.execCommand("selectAll");}},{key:"zi",value:function zi(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.be(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate();}}]);return Kn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kn,"observedAttributes",["value","spellcheck","disabled","validation","size"]);_defineProperty(Kn,"_shadowTemplate",Is(_templateObject184()));_defineProperty(Kn,"_shadowStyleSheet",Ls(_templateObject185()));customElements.define("x-texteditor",Kn);var Qn=/*#__PURE__*/function(_HTMLElement38){_inherits(Qn,_HTMLElement38);var _super39=_createSuper(Qn);_createClass(Qn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"ring";},set:function set(t){this.setAttribute("type",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Qn(){var _temp41,_this131;_classCallCheck(this,Qn);(_temp41=_this131=_super39.call(this),_defineProperty(_assertThisInitialized(_this131),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this131),"B",null),_temp41),_this131._shadowRoot=_this131.attachShadow({mode:"closed"}),_this131._shadowRoot.adoptedStyleSheets=[Qn._shadowStyleSheet];return _this131;}_createClass(Qn,[{key:"connectedCallback",value:function connectedCallback(){var _this132=this;this.nt(),this.U(),Us.addEventListener("sizechange",this.B=function(){return _this132.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){var t=this._shadowRoot.firstElementChild,e="ring"===this.type?Qn.Ls:Qn.Ts;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type);}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Qn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qn,"observedAttributes",["type","size"]);_defineProperty(Qn,"Ls",Is(_templateObject186()));_defineProperty(Qn,"Ts",Is(_templateObject187()));_defineProperty(Qn,"_shadowStyleSheet",Ls(_templateObject188()));customElements.define("x-throbber",Qn);var Jn=Math.PI,to=Math.sqrt,eo=Math.atan2,io=Math.sin,so=Math.cos,no=Math.pow;var oo=/*#__PURE__*/function(_HTMLElement39){_inherits(oo,_HTMLElement39);var _super40=_createSuper(oo);_createClass(oo,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function oo(){var _temp42,_this133;_classCallCheck(this,oo);(_temp42=_this133=_super40.call(this),_defineProperty(_assertThisInitialized(_this133),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this133),"I",{}),_defineProperty(_assertThisInitialized(_this133),"B",null),_defineProperty(_assertThisInitialized(_this133),"X",0),_defineProperty(_assertThisInitialized(_this133),"V",0),_defineProperty(_assertThisInitialized(_this133),"Ui",100),_defineProperty(_assertThisInitialized(_this133),"G",1),_defineProperty(_assertThisInitialized(_this133),"Ms",!1),_defineProperty(_assertThisInitialized(_this133),"Ds",!1),_defineProperty(_assertThisInitialized(_this133),"tt",!1),_temp42),_this133._shadowRoot=_this133.attachShadow({mode:"closed"}),_this133._shadowRoot.adoptedStyleSheets=[oo._shadowStyleSheet],_this133._shadowRoot.append(document.importNode(oo._shadowTemplate.content,!0));var _iterator144=_createForOfIteratorHelper(_this133._shadowRoot.querySelectorAll("[id]")),_step144;try{for(_iterator144.s();!(_step144=_iterator144.n()).done;){var _t270=_step144.value;_this133.I[_t270.id]=_t270;}}catch(err){_iterator144.e(err);}finally{_iterator144.f();}_this133.I["huesat-slider"].addEventListener("pointerdown",function(t){return _this133.$s(t);}),_this133.I["value-slider"].addEventListener("pointerdown",function(t){return _this133.Ps(t);}),_this133.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this133.ht(t);});return _this133;}_createClass(oo,[{key:"connectedCallback",value:function(){var _connectedCallback=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var _this134=this;return regeneratorRuntime.wrap(function _callee64$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:this.nt();this.U();_context64.t0=""===this.I["huesat-image"].src;if(!_context64.t0){_context64.next=7;break;}_context64.next=6;return Os();case 6:this.I["huesat-image"].src=_context64.sent;case 7:Us.addEventListener("sizechange",this.B=function(){return _this134.U();});case 8:case"end":return _context64.stop();}}},_callee64,this);}));function connectedCallback(){return _connectedCallback.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.Rs(),this.Is(),this.Os(),this.bt(),this.gt();}},{key:"Rs",value:function Rs(){var t=this.X,e=this.V,i=100,s=ms(t),n=e/100*i/2,o=(i-(50+n*so(s)))/i*100,l=(50-n*io(s))/i*100;this.I["huesat-marker"].style.left=o+"%",this.I["huesat-marker"].style.top=l+"%";}},{key:"Is",value:function Is(){this.I["value-slider-marker"].style.left=100-us(this.Ui,0,100,2)+"%";}},{key:"Os",value:function Os(){var t=_Ps([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background="linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=us(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _Ms$map3=Ms(this.X,this.V,this.Ui).map(function(t){return cs(t,0);}),_Ms$map4=_slicedToArray(_Ms$map3,3),t=_Ms$map4[0],e=_Ms$map4[1],i=_Ms$map4[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Ms&&!1===this.Ds&&!1===this.tt){var _As$parse9=new As().parse(this.value,"hsva"),_As$parse10=_slicedToArray(_As$parse9,4),_t271=_As$parse10[0],_e230=_As$parse10[1],_i199=_As$parse10[2],_s133=_As$parse10[3];this.X=_t271,this.V=_e230,this.Ui=_i199,this.G=_s133,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"$s",value:function $s(t){var _this135=this;if(1!==t.buttons)return;var e,_i200,s=this.I["huesat-slider"].getBoundingClientRect();this.Ms=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=s.width/2,n=t-s.left-i,o=e-s.top-i,l=no(n,2)+no(o,2),a=eo(o,n);l>no(i,2)&&(n=i*so(a),o=i*io(a),l=no(n,2)+no(o,2),a=eo(o,n)),_this135.X=cs((a+Jn)/(2*Jn)*360,3),_this135.V=cs(to(l)/i*100,3),_this135.value=_Ps([_this135.X,_this135.V,_this135.Ui,_this135.G],"hsva","hsla"),_this135.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this135.Rs(),_this135.Os(),_this135.gt();};n(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["huesat-slider"].addEventListener("lostpointercapture",_i200=function i(t){_this135.I["huesat-slider"].removeEventListener("pointermove",e),_this135.I["huesat-slider"].removeEventListener("lostpointercapture",_i200),_this135.I["huesat-slider"].style.cursor=null,_this135.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this135.Ms=!1;});}},{key:"Ps",value:function Ps(t){var _this136=this;if(1!==t.buttons)return;var e,_i201,s=this.I["value-slider-track"].getBoundingClientRect();this.Ds=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=100-(t-s.x)/s.width*100;e=us(e,0,100,2),e!==_this136.Ui&&(_this136.Ui=e,_this136.value=_Ps([_this136.X,_this136.V,_this136.Ui,_this136.G],"hsva","hsla"),_this136.Is(),_this136.gt(),_this136.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["value-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["value-slider"].addEventListener("lostpointercapture",_i201=function i(){_this136.I["value-slider"].removeEventListener("pointermove",e),_this136.I["value-slider"].removeEventListener("lostpointercapture",_i201),_this136.I["value-slider"].style.cursor=null,_this136.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this136.Ds=!1;});}},{key:"ht",value:function ht(t){var _this137=this;if(1!==t.buttons)return;var e,_i202,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=us(e,0,1,2),e!==_this137.G&&(_this137.G=e,_this137.value=_Ps([_this137.X,_this137.V,_this137.Ui,_this137.G],"hsva","hsla"),_this137.bt(),_this137.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i202=function i(){_this137.I["alpha-slider"].removeEventListener("pointermove",e),_this137.I["alpha-slider"].removeEventListener("lostpointercapture",_i202),_this137.I["alpha-slider"].style.cursor=null,_this137.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this137.tt=!1;});}}]);return oo;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(oo,"observedAttributes",["value","size"]);_defineProperty(oo,"_shadowTemplate",Is(_templateObject189()));_defineProperty(oo,"_shadowStyleSheet",Ls(_templateObject190()));customElements.define("x-wheelcolorpicker",oo);var lo=/*#__PURE__*/function(_HTMLElement40){_inherits(lo,_HTMLElement40);var _super41=_createSuper(lo);_createClass(lo,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lo(){var _this138;_classCallCheck(this,lo);_this138=_super41.call(this),_this138.Ys=es(_this138.qs,20,_assertThisInitialized(_this138)),_this138.Xs=es(_this138.qs,500,_assertThisInitialized(_this138)),_this138.Zs=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4],_this138._shadowRoot=_this138.attachShadow({mode:"closed"}),_this138._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,lo._shadowStyleSheet],_this138._shadowRoot.append(document.importNode(lo._shadowTemplate.content,!0));var _iterator145=_createForOfIteratorHelper(_this138._shadowRoot.querySelectorAll("[id]")),_step145;try{for(_iterator145.s();!(_step145=_iterator145.n()).done;){var _t272=_step145.value;_this138["#"+_t272.id]=_t272;}}catch(err){_iterator145.e(err);}finally{_iterator145.f();}_this138.addEventListener("contextmenu",function(t){return _this138.Ks(t);});return _this138;}_createClass(lo,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(!0===this.enabled?this.tn():this.en());}},{key:"getRulerTypeFromPoint",value:function getRulerTypeFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);i.getRootNode()!==this._shadowRoot&&(i=null);var s=i?i.closest(".ruler"):null;return s?s.getAttribute("data-type"):null;}},{key:"tn",value:function tn(){var _this139=this;window.addEventListener("resize",this.sn=function(){_this139.Ys();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this139.ln(t.detail);}),this.Js.board.addEventListener("zoomchange",this.an=function(){_this139.Ys();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this139.Xs();}),this.rn=this.Qs.getConfig("bx-rulers:space","canvas"),this.qs();}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("zoomchange",this.an),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"ln",value:function ln(_ref48){var t=_ref48.key,e=_ref48.value;"bx-rulers:space"===t&&(this.rn=e,this.qs());}},{key:"Ks",value:function(){var _Ks=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee65(t){var e,i,s,n;return regeneratorRuntime.wrap(function _callee65$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:t.preventDefault();i=this.Js.board.getComputedViewportWidth(),s=this.Js.board.getComputedViewportHeight();e=null===i&&null===s?[{label:"Canvas space",value:"canvas",toggled:!0},{label:"Viewport space",value:"viewport",disabled:!0}]:[{label:"Canvas space",value:"canvas",toggled:"canvas"===this.rn},{label:"Viewport space",value:"viewport",toggled:"viewport"===this.rn}];_context65.next=5;return this.Qs.openContextMenu(e);case 5:n=_context65.sent;null!==n&&this.Qs.setConfig("bx-rulers:space",n);case 7:case"end":return _context65.stop();}}},_callee65,this);}));function Ks(_x49){return _Ks.apply(this,arguments);}return Ks;}()},{key:"qs",value:function qs(){var t=this.Js.board,e=t.scale,i=this.rn,s=0,n=0,o=0,l=0;{var _e231=qt(t.vectorCanvas);if(0!==_e231.a*_e231.d-_e231.b*_e231.c){var _i203=He(t.getBoundingClientRect(),_e231.inverse());s=_i203.x,n=_i203.y;}}if("viewport"===i&&(o=t.getComputedViewportWidth(),l=t.getComputedViewportHeight(),null===o&&null===l&&(i="canvas")),"canvas"===i){var _t273=1;{var _i204=50/e;if(e>0==!1)return;for(var _e232=0;_e232<this.Zs.length;_e232+=1){var _s134=this.Zs[_e232];if(_t273=_s134,_i204<=_s134)break;}}{var _i205=[],_n73=this.clientWidth;this["#horizontal-ruler"].hidden=!1;for(var _o51=tt(s,0);_o51<Infinity;_o51+=1){if(_t273>=1&&_o51%_t273==0){var _t274=(_o51-s)*e;if(_t274>_n73)break;_i205.push([_t274,_o51]);}}for(;this["#horizontal-ruler"].children.length<_i205.length;){var _t275=Ii("div");_t275.part.add("tick"),this["#horizontal-ruler"].append(_t275);}for(var _t276=0;_t276<_i205.length;_t276+=1){var _i205$_t=_slicedToArray(_i205[_t276],2),_e233=_i205$_t[0],_s135=_i205$_t[1],_n74=this["#horizontal-ruler"].children[_t276];_n74.style.display=null,_n74.style.transform="translateX(".concat(_e233,"px)"),_n74.textContent=_s135;}for(var _t277=_i205.length;_t277<this["#horizontal-ruler"].children.length;_t277+=1){this["#horizontal-ruler"].children[_t277].style.display="none";}}{var _i206=[],_s136=this.clientHeight;this["#vertical-ruler"].hidden=!1;for(var _o52=tt(n,0);_o52<Infinity;_o52+=1){if(_o52%_t273==0){var _t278=(_o52-n)*e;if(_t278>_s136)break;_i206.push([_t278,_o52]);}}for(;this["#vertical-ruler"].children.length<_i206.length;){var _t279=Ii("div");_t279.part.add("tick"),this["#vertical-ruler"].append(_t279);}for(var _t280=0;_t280<_i206.length;_t280+=1){var _i206$_t=_slicedToArray(_i206[_t280],2),_e234=_i206$_t[0],_s137=_i206$_t[1],_n75=this["#vertical-ruler"].children[_t280];_n75.style.display=null,_n75.style.transform="translateY(".concat(_e234,"px)"),_n75.textContent=_s137;}for(var _t281=_i206.length;_t281<this["#vertical-ruler"].children.length;_t281+=1){this["#vertical-ruler"].children[_t281].style.display="none";}}}else if("viewport"===i){var _i207=null;if(_i207=t.currentWorkspace.hasAttribute("viewBox")?Ft.fromString(t.currentWorkspace.getAttribute("viewBox")).toRect():new DOMRect(0,0,null===o?0:o.toLength("px").value,null===l?0:l.toLength("px").value),null===o)this["#horizontal-ruler"].hidden=!0;else{this["#horizontal-ruler"].hidden=!1;var _t282=1,_n76=_i207.width/o.value;{var _i208=50/e/_n76;for(var _e235=0;_e235<this.Zs.length;_e235+=1){var _s138=this.Zs[_e235];if(_t282=_s138,_i208<=_s138)break;}}var _l43=[],_a33=this.clientWidth;for(var _i209=tt(s/_n76,0);_i209<Infinity;_i209+=1){if(_t282>=1&&_i209%_t282==0){var _t283=(_i209*_n76-s)*e;if(_t283>_a33)break;_l43.push([_t283,_i209+o.unit]);}}for(;this["#horizontal-ruler"].children.length<_l43.length;){var _t284=Ii("div");_t284.part.add("tick"),this["#horizontal-ruler"].append(_t284);}for(var _t285=0;_t285<_l43.length;_t285+=1){var _l43$_t=_slicedToArray(_l43[_t285],2),_e236=_l43$_t[0],_i210=_l43$_t[1],_s139=this["#horizontal-ruler"].children[_t285];_s139.style.display=null,_s139.style.transform="translateX(".concat(_e236,"px)"),_s139.textContent=_i210;}for(var _t286=_l43.length;_t286<this["#horizontal-ruler"].children.length;_t286+=1){this["#horizontal-ruler"].children[_t286].style.display="none";}}if(null===l)this["#vertical-ruler"].hidden=!0;else{this["#vertical-ruler"].hidden=!1;var _t287=1,_s140=_i207.height/l.value;{var _i211=50/e/_s140;for(var _e237=0;_e237<this.Zs.length;_e237+=1){var _s141=this.Zs[_e237];if(_t287=_s141,_i211<=_s141)break;}}var _o53=[],_a34=this.clientHeight;for(var _i212=tt(n/_s140,0);_i212<Infinity;_i212+=1){if(_t287>=1&&_i212%_t287==0){var _t288=(_i212*_s140-n)*e;if(_t288>_a34)break;_o53.push([_t288,_i212+l.unit]);}}for(;this["#vertical-ruler"].children.length<_o53.length;){var _t289=Ii("div");_t289.part.add("tick"),this["#vertical-ruler"].append(_t289);}for(var _t290=0;_t290<_o53.length;_t290+=1){var _o53$_t=_slicedToArray(_o53[_t290],2),_e238=_o53$_t[0],_i213=_o53$_t[1],_s142=this["#vertical-ruler"].children[_t290];_s142.style.display=null,_s142.style.transform="translateY(".concat(_e238,"px)"),_s142.textContent=_i213;}for(var _t291=_o53.length;_t291<this["#vertical-ruler"].children.length;_t291+=1){this["#vertical-ruler"].children[_t291].style.display="none";}}}}}]);return lo;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lo,"observedAttributes",["enabled"]);_defineProperty(lo,"_shadowTemplate",Qi(_templateObject191()));_defineProperty(lo,"_shadowStyleSheet",Ji(_templateObject192()));customElements.define("bx-rulers",lo);var ao=/*#__PURE__*/function(){function ao(){_classCallCheck(this,ao);this.dn=!1,this.cn=!1,this.pn=!1,this.un=!1,this.xn=null;for(var _len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}for(var _i214=0,_t292=t;_i214<_t292.length;_i214++){var _e239=_t292[_i214];"Control"===_e239?this.ctrl=!0:"Alt"===_e239?this.alt=!0:"Shift"===_e239?this.shift=!0:"Meta"===_e239?this.meta=!0:this.key=_e239;}}_createClass(ao,[{key:"matches",value:function matches(){var e=!1,i=!1,s=!1,n=!1,o=null;for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}for(var _i215=0,_t293=t;_i215<_t293.length;_i215++){var _l44=_t293[_i215];"Control"===_l44?e=!0:"Alt"===_l44?i=!0:"Shift"===_l44?s=!0:"Meta"===_l44?n=!0:o=_l44;}return e===this.ctrl&&i===this.alt&&n===this.meta&&s===this.shift&&o===this.key;}},{key:"includes",value:function includes(t){return"Control"===t?this.ctrl:"Alt"===t?this.alt:"Shift"===t?this.shift:"Meta"===t?this.meta:this.key===t;}},{key:"compare",value:function compare(t){return this.ctrl===t.ctrl&&this.alt===t.alt&&this.shift===t.shift&&this.meta===t.meta&&this.key===t.key;}},{key:"isVoid",value:function isVoid(){return!1===this.ctrl&&!1===this.alt&&!1===this.shift&&!1===this.meta&&null===this.key;}},{key:"toDisplayString",value:function toDisplayString(){var e="";if(t){this.meta&&(e+="^"),this.alt&&(e+="\u2325"),this.shift&&(e+="\u21E7"),this.ctrl&&(e+="\u2318");var _t294={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326",Tab:"\u21E5"};null!==this.key&&(e+=_t294[this.key]||this.key);}else{var _t295=[];this.ctrl&&_t295.push("Ctrl"),this.alt&&_t295.push("Alt"),this.shift&&_t295.push("Shift"),this.meta&&_t295.push("Meta");var _i216={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==this.key&&_t295.push(_i216[this.key]||this.key),e=_t295.join("+");}return e;}},{key:"toJSON",value:function toJSON(){return this.toString();}},{key:"toElement",value:function toElement(){var t=Ii("x-shortcut"),e=[];return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta&&e.push("Meta"),null!==this.key&&e.push(key),t.value=e,t;}},{key:"toString",value:function toString(){var t=[];return this.ctrl&&t.push("Control"),this.alt&&t.push("Alt"),this.shift&&t.push("Shift"),this.meta&&t.push("Meta"),null!==this.key&&t.push(this.key),t.join("+");}},{key:"ctrl",get:function get(){return this.dn;},set:function set(t){this.dn=t;}},{key:"alt",get:function get(){return this.cn;},set:function set(t){this.cn=t;}},{key:"shift",get:function get(){return this.pn;},set:function set(t){this.pn=t;}},{key:"meta",get:function get(){return this.un;},set:function set(t){this.un=t;}},{key:"key",get:function get(){return this.xn;},set:function set(t){this.xn=t;}}],[{key:"fromEvent",value:function fromEvent(e){var i=new ao();if(i.ctrl=t?e.metaKey:e.ctrlKey,i.alt=e.altKey,i.shift=e.shiftKey,i.meta=t?e.ctrlKey:e.metaKey,i.key=null,e instanceof KeyboardEvent){var _t296=e.key;" "===_t296&&(_t296="Space"),_t296&&"Control"!==_t296&&"Alt"!==_t296&&"Shift"!==_t296&&"Meta"!==_t296&&(1===_t296.length?i.key=_t296.toUpperCase():i.key=_t296);}return i;}},{key:"fromElement",value:function fromElement(t){var e=new ao();return e.ctrl=t.modKeys.includes("Control"),e.alt=t.modKeys.includes("Alt"),e.shift=t.modKeys.includes("Shift"),e.meta=t.modKeys.includes("Meta"),e.key=t.normalKey,e;}},{key:"fromString",value:function fromString(t){return _construct(ao,_toConsumableArray(t.split("+").filter(function(t){return""!==t;})));}}]);return ao;}();var _window4=window,ho=_window4.tokenize,ro=_window4.EOFToken;var co=/*#__PURE__*/function(){_createClass(co,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"origin",get:function get(){return new URL(this._t).origin;}},{key:"type",get:function get(){return"<url>";}}]);function co(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";_classCallCheck(this,co);this._t=t;}_createClass(co,[{key:"toString",value:function toString(){return"url(".concat(this.value,")");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(ho(t)),[new ro()]),s=new Tt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"URL"===s.currentToken.tokenType){var _t297=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new co(_t297);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if("FUNCTION"===s.currentToken.tokenType&&"url"===s.currentToken.value){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"===s.currentToken.tokenType){var _t298=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),")"===s.currentToken.tokenType){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new co(_t298.trim());if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException('Expected ")" token.',"SyntaxError");return null;}if(e)throw new DOMException("Expected STRING token.","SyntaxError");return null;}if(e)throw new DOMException("Expected URL or FUNCTION token.","SyntaxError");return null;}}]);return co;}();window.BXURL=co;var po=/*#__PURE__*/function(){function po(t){_classCallCheck(this,po);this.text=t,this.cursor=0,this.line=1,this.column=1,this.bn={cursor:0,line:1,column:1};}_createClass(po,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s143=0;_s143<t;_s143+=1){var _t299=this.text[i+_s143];if(void 0===_t299)break;e+=_t299,this.cursor+=1,"\n"===_t299?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i217=0;_i217<t;_i217+=1){var _t300=this.text[this.cursor+_i217];if(void 0===_t300)break;e+=_t300;}return""===e?null:e;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.bn={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$bn=this.bn,t=_this$bn.cursor,e=_this$bn.line,i=_this$bn.column;this.cursor=t,this.line=e,this.column=i;}}]);return po;}();var uo=Math.min,xo=Math.max,bo=Math.floor,mo=Number.parseFloat,go=Number.parseInt,fo=function fo(t,e,i){var s,n,o,l=xo(t/=255,e/=255,i/=255),a=uo(t,e,i);if(s=n=o=(l+a)/2,l===a)s=n=0;else{var _h24=l-a;if(n=o>.5?_h24/(2-l-a):_h24/(l+a),l===t){var _t301;_t301=e<i?6:0,s=(e-i)/_h24+_t301;}else l===e?s=(i-t)/_h24+2:l===i&&(s=(t-e)/_h24+4);}return s=et(s/6*360,0,360,0),n=et(100*n,0,100,1),o=et(100*o,0,100,1),[s,n,o];},wo=function wo(t,e,i){var s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{var _l45,_a35,_h25=function _h25(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l45=i<.5?i*(1+e):i+e-i*e,_a35=2*i-_l45,s=_h25(_a35,_l45,t+1/3),n=_h25(_a35,_l45,t),o=_h25(_a35,_l45,t-1/3);}return s=et(255*s,0,255,0),n=et(255*n,0,255,0),o=et(255*o,0,255,0),[s,n,o];},vo=function vo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=ko(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[mo(i[1].text),mo(i[3].text),mo(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[mo(i[1].text)/100*255,mo(i[3].text)/100*255,mo(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[mo(i[1].text),mo(i[3].text),mo(i[5].text),mo(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[mo(i[1].text)/100*255,mo(i[3].text)/100*255,mo(i[5].text)/100*255,mo(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[mo(i[1].text),mo(i[3].text),mo(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[mo(i[1].text),mo(i[3].text),mo(i[5].text),mo(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t302,_e240,_n77,_o54=i[0].text.substring(1);3===_o54.length?(_t302=_o54[0]+_o54[0],_e240=_o54[1]+_o54[1],_n77=_o54[2]+_o54[2]):(_t302=_o54[0]+_o54[1],_e240=_o54[2]+_o54[3],_n77=_o54[4]+_o54[5]),s=[go(_t302,16),go(_e240,16),go(_n77,16),1];}else U[t]&&(s=[U[t][0],U[t][1],U[t][2],1]);if(s){var _s144=s,_s145=_slicedToArray(_s144,4),_t303=_s145[0],_i218=_s145[1],_n78=_s145[2],_o55=_s145[3];if(_t303=et(_t303,0,255,0),_i218=et(_i218,0,255,0),_n78=et(_n78,0,255,0),_o55=et(_o55,0,1,2),"hsla"===e){var _fo=fo(_t303,_i218,_n78),_fo2=_slicedToArray(_fo,3),_e241=_fo2[0],_s146=_fo2[1],_l46=_fo2[2];return[_e241,_s146,_l46,_o55];}if("hsva"===e){var _ref49=function(t,e,i){var s=xo(t/=255,e/=255,i/=255),n=uo(t,e,i),o=0,l=0,a=s,h=s-n;return l=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,l*=100,a*=100,[o,l,a];}(_t303,_i218,_n78),_ref50=_slicedToArray(_ref49,3),_e242=_ref50[0],_s147=_ref50[1],_l47=_ref50[2];return[_e242,_s147,_l47,_o55];}return[_t303,_i218,_n78,_o55];}if(n){var _n79=n,_n80=_slicedToArray(_n79,4),_t304=_n80[0],_i219=_n80[1],_s148=_n80[2],_o56=_n80[3];if(_t304=et(_t304,0,360,0),_i219=et(_i219,0,100,1),_s148=et(_s148,0,100,1),_o56=et(_o56,0,1,2),"hsla"===e)return[_t304,_i219,_s148,_o56];if("hsva"===e){var _ref51=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*xo(0,uo(1,s)),n=100*xo(0,uo(1,n)),[o,s,n];}(_t304,_i219,_s148),_ref52=_slicedToArray(_ref51,3),_e243=_ref52[0],_n81=_ref52[1],_l48=_ref52[2];return[_e243,_n81,_l48,_o56];}{var _wo=wo(_t304,_i219,_s148),_wo2=_slicedToArray(_wo,3),_e244=_wo2[0],_n82=_wo2[1],_l49=_wo2[2];return[_e244,_n82,_l49,_o56];}}throw new Error("Invalid color string: \"".concat(t,"\""));},yo=function yo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t305,_t306,_wo3,_wo4,_ref53,_ref54;var _n83,_o57,_l50,_a36;if("rgba"===e?(_t305=t,_t306=_slicedToArray(_t305,4),_n83=_t306[0],_o57=_t306[1],_l50=_t306[2],_a36=_t306[3],_t305):"hsla"===e?((_wo3=wo.apply(void 0,_toConsumableArray(t)),_wo4=_slicedToArray(_wo3,3),_n83=_wo4[0],_o57=_wo4[1],_l50=_wo4[2],_wo3),_a36=t[3]):"hsva"===e&&((_ref53=function(t,e,i){e/=100,i/=100;var s=bo(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),a=i*(1-(1-n)*e),h=0,r=0,d=0;return s%6==0?(h=i,r=a,d=o):s%6==1?(h=l,r=i,d=o):s%6==2?(h=o,r=i,d=a):s%6==3?(h=o,r=l,d=i):s%6==4?(h=a,r=o,d=i):s%6==5&&(h=i,r=o,d=l),h*=255,r*=255,d*=255,[h,r,d];}.apply(void 0,_toConsumableArray(t)),_ref54=_slicedToArray(_ref53,3),_n83=_ref54[0],_o57=_ref54[1],_l50=_ref54[2],_ref53),_a36=t[3]),"rgb%"===i||"rgba%"===i?(_n83=et(_n83/255*100,0,100,1),_o57=et(_o57/255*100,0,100,1),_l50=et(_l50/255*100,0,100,1),_a36=et(_a36,0,1,2)):(_n83=et(_n83,0,255,0),_o57=et(_o57,0,255,0),_l50=et(_l50,0,255,0),_a36=et(_a36,0,1,2)),"rgb"===i)s="rgb(".concat(_n83,", ").concat(_o57,", ").concat(_l50,")");else if("rgba"===i)s="rgba(".concat(_n83,", ").concat(_o57,", ").concat(_l50,", ").concat(_a36,")");else if("rgb%"===i)s="rgb(".concat(_n83,"%, ").concat(_o57,"%, ").concat(_l50,"%)");else if("rgba%"===i)s="rgb(".concat(_n83,"%, ").concat(_o57,"%, ").concat(_l50,"%, ").concat(_a36,")");else if("hex"===i){var _t307=_n83.toString(16),_e245=_o57.toString(16),_i220=_l50.toString(16);1===_t307.length&&(_t307="0"+_t307),1===_e245.length&&(_e245="0"+_e245),1===_i220.length&&(_i220="0"+_i220),s="#"+_t307+_e245+_i220;}}else if("hsl"===i||"hsla"===i){var _t308,_t309,_ref55,_ref56,_fo3,_fo4;var _n84,_o58,_l51,_a37;"hsla"===e?(_t308=t,_t309=_slicedToArray(_t308,4),_n84=_t309[0],_o58=_t309[1],_l51=_t309[2],_a37=_t309[3],_t308):"hsva"===e?((_ref55=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*xo(0,uo(1,o)),n=100*xo(0,uo(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref56=_slicedToArray(_ref55,3),_n84=_ref56[0],_o58=_ref56[1],_l51=_ref56[2],_ref55),_a37=t[3]):"rgba"===e&&((_fo3=fo.apply(void 0,_toConsumableArray(t)),_fo4=_slicedToArray(_fo3,3),_n84=_fo4[0],_o58=_fo4[1],_l51=_fo4[2],_fo3),_a37=t[3]),_n84=et(_n84,0,360,0),_o58=et(_o58,0,100,1),_l51=et(_l51,0,100,1),_a37=et(_a37,0,1,2),"hsl"===i?s="hsl(".concat(_n84,", ").concat(_o58,"%, ").concat(_l51,"%)"):"hsla"===i&&(s="hsla(".concat(_n84,", ").concat(_o58,"%, ").concat(_l51,"%, ").concat(_a37,")"));}return s;},ko=function ko(t){var e=[],i=new po(t.toLowerCase());var _loop3=function _loop3(){var t=i.read();(function(){if("r"===t||"h"===t){var _s149=t;if(t+i.peek(3)==="rgb("?_s149+=i.read(3):t+i.peek(4)==="rgba("?_s149+=i.read(4):t+i.peek(3)==="hsl("?_s149+=i.read(3):t+i.peek(4)==="hsla("&&(_s149+=i.read(4)),_s149!==t)return void e.push({type:"FUNCTION",text:_s149});}if("#"===t){if(_o(t+i.peek(6))){var _s150=t+i.read(6);return void e.push({type:"HEX",text:_s150});}if(_o(t+i.peek(3)))return text=t+i.read(3),void e.push({type:"HEX",text:text});}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s151=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s151+=i.read();}"%"===i.peek()?(_s151+=i.read(),e.push({type:"PERCENTAGE",text:_s151})):e.push({type:"NUM",text:_s151});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop3();}return e;},So=function So(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=vo(t,i);return yo(s,i,e);},_o=function _o(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator146=_createForOfIteratorHelper(t),_step146;try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var _i221=_step146.value;if(!e.includes(_i221))return!1;}}catch(err){_iterator146.e(err);}finally{_iterator146.f();}return!0;},Co=function Co(t){try{vo(t);}catch(t){return!1;}return!0;},Mo=function Mo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Li(t));var _n85=e.querySelector(s.href.baseVal);if(!_n85||"linearGradient"!==_n85.localName&&"radialGradient"!==_n85.localName||_n85===t||!1!==i.includes(_n85))break;i.push(_n85),s=_n85;}return i;},Po=function Po(t){var _iterator147=_createForOfIteratorHelper(Mo(t)),_step147;try{for(_iterator147.s();!(_step147=_iterator147.n()).done;){var _e246=_step147.value;if(To(_e246))return _e246;}}catch(err){_iterator147.e(err);}finally{_iterator147.f();}return null;},Do=function Do(t){return To(t)?t:Po(t);},zo=function zo(t){return Eo(t)?t:function(t){var _iterator148=_createForOfIteratorHelper(Mo(t)),_step148;try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var _e247=_step148.value;if(Eo(_e247))return _e247;}}catch(err){_iterator148.e(err);}finally{_iterator148.f();}return null;}(t);},Oo=function Oo(t){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _e248=_toConsumableArray(t.querySelectorAll(":scope > stop"));return 1===_e248.length&&!1===_e248[0].hasAttribute("offset");}return!1;},Eo=function Eo(t){return null!==t.querySelector(":scope > stop")||!1===t.hasAttribute("href");},To=function To(t){var e=[];"linearGradient"===t.localName?e=["x1","y1","x2","y2","href","gradientUnits","gradientTransform","href"]:"radialGradient"===t.localName&&(e=["cx","cy","r","fx","fy","fr","href","gradientUnits","gradientTransform","href"]);for(var _i222=0,_e249=e;_i222<_e249.length;_i222++){var _i223=_e249[_i222];if(t.hasAttribute(_i223))return!1;}return!0!==Oo(t);},Ao=function Ao(t){var e=[t].concat(_toConsumableArray(Mo(t))),i={};{var _t310=null;var _iterator149=_createForOfIteratorHelper(e),_step149;try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var _i224=_step149.value;if(_i224.hasAttribute("gradientUnits")){_t310=_i224.gradientUnits.baseVal;break;}}}catch(err){_iterator149.e(err);}finally{_iterator149.f();}null===_t310&&(_t310=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.gradientUnits=_t310;}{var _t311=null;var _iterator150=_createForOfIteratorHelper(e),_step150;try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _i225=_step150.value;if(_i225.hasAttribute("gradientTransform")){_t311=DOMMatrix.fromMatrix(_i225.gradientTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator150.e(err);}finally{_iterator150.f();}null===_t311&&(_t311=new DOMMatrix()),i.gradientTransform=_t311;}{var _t312=null;var _iterator151=_createForOfIteratorHelper(e),_step151;try{for(_iterator151.s();!(_step151=_iterator151.n()).done;){var _i226=_step151.value;if(_i226.hasAttribute("spreadMethod")){_t312=_i226.spreadMethod.baseVal;break;}}}catch(err){_iterator151.e(err);}finally{_iterator151.f();}null===_t312&&(_t312=SVGGradientElement.SVG_SPREADMETHOD_PAD),i.spreadMethod=_t312;}if("linearGradient"===t.localName)for(var _i227=0,_arr7=["x1","y1","x2","y2"];_i227<_arr7.length;_i227++){var _t313=_arr7[_i227];var _s152=null;var _iterator152=_createForOfIteratorHelper(e),_step152;try{for(_iterator152.s();!(_step152=_iterator152.n()).done;){var _i228=_step152.value;if("linearGradient"===_i228.localName&&_i228.hasAttribute(_t313)){_s152={value:_i228[_t313].baseVal.value,valueInSpecifiedUnits:_i228[_t313].baseVal.valueInSpecifiedUnits,valueAsString:_i228[_t313].baseVal.valueAsString,unitType:_i228[_t313].baseVal.unitType};break;}}}catch(err){_iterator152.e(err);}finally{_iterator152.f();}null===_s152&&("x1"===_t313||"y1"===_t313||"y2"===_t313?_s152={value:0,valueInSpecifiedUnits:0,valueAsString:"0%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}:"x2"===_t313&&(_s152={value:screen.width,valueInSpecifiedUnits:100,valueAsString:"100%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE})),i[_t313]=_s152;}else if("radialGradient"===t.localName){for(var _i229=0,_arr8=["cx","cy","r"];_i229<_arr8.length;_i229++){var _t314=_arr8[_i229];var _s153=null;var _iterator153=_createForOfIteratorHelper(e),_step153;try{for(_iterator153.s();!(_step153=_iterator153.n()).done;){var _i230=_step153.value;if("radialGradient"===_i230.localName&&_i230.hasAttribute(_t314)){_s153={value:_i230[_t314].baseVal.value,valueInSpecifiedUnits:_i230[_t314].baseVal.valueInSpecifiedUnits,valueAsString:_i230[_t314].baseVal.valueAsString,unitType:_i230[_t314].baseVal.unitType};break;}}}catch(err){_iterator153.e(err);}finally{_iterator153.f();}null===_s153&&(_s153={value:screen.width/2,valueInSpecifiedUnits:50,valueAsString:"50%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}),i[_t314]=_s153;}for(var _i231=0,_arr9=["fx","fy","fr"];_i231<_arr9.length;_i231++){var _t315=_arr9[_i231];var _s154=null;var _iterator154=_createForOfIteratorHelper(e),_step154;try{for(_iterator154.s();!(_step154=_iterator154.n()).done;){var _i232=_step154.value;if("radialGradient"===_i232.localName&&_i232.hasAttribute(_t315)){_s154={value:_i232[_t315].baseVal.value,valueInSpecifiedUnits:_i232[_t315].baseVal.valueInSpecifiedUnits,valueAsString:_i232[_t315].baseVal.valueAsString,unitType:_i232[_t315].baseVal.unitType};break;}}}catch(err){_iterator154.e(err);}finally{_iterator154.f();}null===_s154&&("fx"===_t315?_s154={value:i.cx.value,valueInSpecifiedUnits:i.cx.valueInSpecifiedUnits,valueAsString:i.cx.valueAsString,unitType:i.cx.unitType}:"fy"===_t315?_s154={value:i.cy.value,valueInSpecifiedUnits:i.cy.valueInSpecifiedUnits,valueAsString:i.cy.valueAsString,unitType:i.cy.unitType}:"fr"===_t315&&(_s154={value:i.r.value,valueInSpecifiedUnits:i.r.valueInSpecifiedUnits,valueAsString:i.r.valueAsString,unitType:i.r.unitType})),i[_t315]=_s154;}}return i;},$o=function $o(t){var e=[];for(var _i233=0,_arr10=[t].concat(_toConsumableArray(Mo(t)));_i233<_arr10.length;_i233++){var _i234=_arr10[_i233];var _t316=Ro(_i234);if(_t316.length>0){e=_t316;break;}}return e;},Io=function Io(t,e){var i=null;if(t.hasAttribute(e))i=t.getAttribute(e);else{var _s155=Mo(t);var _iterator155=_createForOfIteratorHelper(_s155),_step155;try{for(_iterator155.s();!(_step155=_iterator155.n()).done;){var _t317=_step155.value;if(_t317.hasAttribute(e)){i=_t317.getAttribute(e);break;}}}catch(err){_iterator155.e(err);}finally{_iterator155.f();}}return i;},Lo=function Lo(t,e){var i=Ii("canvas"),s=100;i.width=s,i.height=10;var n=i.getContext("2d");n.clearRect(0,0,s,10);var o=n.createLinearGradient(0,0,s,0);var _iterator156=_createForOfIteratorHelper($o(t)),_step156;try{for(_iterator156.s();!(_step156=_iterator156.n()).done;){var _e250=_step156.value;o.addColorStop(_e250.offset.baseVal,_e250.style.getPropertyValue("stop-color")||"#000");}}catch(err){_iterator156.e(err);}finally{_iterator156.f();}n.fillStyle=o,n.fillRect(0,0,s,10);var l=n.getImageData(e*s,0,1,1).data;return"rgb(".concat(l[0],", ").concat(l[1],", ").concat(l[2],")");},Ro=function Ro(t){var e=[];var _iterator157=_createForOfIteratorHelper(t.children),_step157;try{for(_iterator157.s();!(_step157=_iterator157.n()).done;){var _i235=_step157.value;"stop"===_i235.localName&&e.push(_i235);}}catch(err){_iterator157.e(err);}finally{_iterator157.f();}return e;},Bo=function Bo(t){var _getComputedStyle3=getComputedStyle(t),e=_getComputedStyle3.stopColor,i=_getComputedStyle3.stopOpacity,_vo=vo(e,"rgba"),_vo2=_slicedToArray(_vo,4),s=_vo2[0],n=_vo2[1],o=_vo2[2],l=_vo2[3];return l*=parseFloat(i),"rgba(".concat(s,", ").concat(n,", ").concat(o,", ").concat(l,")");},Go=function Go(t){var e=null;if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i236=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i236.length&&!1===_i236[0].hasAttribute("offset")&&(e=getComputedStyle(_i236[0]).stopColor);}return e;},Uo=function Uo(t,e){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i237=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i237.length&&!1===_i237[0].hasAttribute("offset")&&(_i237[0].style.stopColor=e);}},Fo=function Fo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t318=_toArray(t),_e251=_t318[0],_i238=_t318.slice(1),_s156=Symbol(),_n86=Symbol(),_o59=Symbol();var _iterator158=_createForOfIteratorHelper(t),_step158;try{for(_iterator158.s();!(_step158=_iterator158.n()).done;){var _e253=_step158.value;_e253[_s156]=$o(_e253),!1===_e253.isConnected&&console.warn("compareGradientsResolvedStops() might return incorrect results for disconnected gradients.");}}catch(err){_iterator158.e(err);}finally{_iterator158.f();}var _iterator159=_createForOfIteratorHelper(_i238),_step159;try{for(_iterator159.s();!(_step159=_iterator159.n()).done;){var _t320=_step159.value;if(_t320[_s156].length!==_e251[_s156].length)return!1;}}catch(err){_iterator159.e(err);}finally{_iterator159.f();}var _iterator160=_createForOfIteratorHelper(t),_step160;try{for(_iterator160.s();!(_step160=_iterator160.n()).done;){var _e254=_step160.value;var _iterator162=_createForOfIteratorHelper(_e254[_s156]),_step162;try{for(_iterator162.s();!(_step162=_iterator162.n()).done;){var _t321=_step162.value;var _getComputedStyle4=getComputedStyle(_t321),_e255=_getComputedStyle4.stopColor,_i240=_getComputedStyle4.stopOpacity;_t321[_n86]=_e255,_t321[_o59]=_i240;}}catch(err){_iterator162.e(err);}finally{_iterator162.f();}}}catch(err){_iterator160.e(err);}finally{_iterator160.f();}for(var _t319=0;_t319<_e251[_s156].length;_t319+=1){var _l52=_e251[_s156][_t319];var _iterator161=_createForOfIteratorHelper(_i238),_step161;try{for(_iterator161.s();!(_step161=_iterator161.n()).done;){var _e252=_step161.value;var _i239=_e252[_s156][_t319];if(_i239.offset.baseVal!==_l52.offset.baseVal)return!1;if(_i239[_n86]!==_l52[_n86])return!1;if(_i239[_o59]!==_l52[_o59])return!1;}}catch(err){_iterator161.e(err);}finally{_iterator161.f();}}return!0;}},_SVGUnitTypes=SVGUnitTypes,No=_SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,Vo=_SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,jo=function jo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Li(t));var _n87=e.querySelector(s.href.baseVal);if(!_n87||"pattern"!==_n87.localName||_n87===t||!1!==i.includes(_n87))break;i.push(_n87),s=_n87;}return i;},Ho=function Ho(t){return Yo(t)?t:function(t){var e=jo(t),i=null;var _iterator163=_createForOfIteratorHelper(e),_step163;try{for(_iterator163.s();!(_step163=_iterator163.n()).done;){var _t322=_step163.value;Yo(_t322)&&(i=_t322);}}catch(err){_iterator163.e(err);}finally{_iterator163.f();}return i;}(t);},Wo=function Wo(t){var e=null;if(""!==t.href.baseVal){var _i241=Li(t).querySelector(t.href.baseVal);_i241&&_i241!==t&&"pattern"===_i241.localName&&(e=_i241);}return e;},Yo=function Yo(t){return!1===t.hasAttribute("href")||!0===qo(t);},qo=function qo(t){var _iterator164=_createForOfIteratorHelper(t.children),_step164;try{for(_iterator164.s();!(_step164=_iterator164.n()).done;){var _e256=_step164.value;if("title"!==_e256.localName&&"desc"!==_e256.localName&&"metadata"!==_e256.localName)return!0;}}catch(err){_iterator164.e(err);}finally{_iterator164.f();}return!1;},Xo=function Xo(t){var e=[];for(var _i242=0,_arr11=[t].concat(_toConsumableArray(jo(t)));_i242<_arr11.length;_i242++){var _i243=_arr11[_i242];if(qo(_i243)){e=_toConsumableArray(_i243.children);break;}}return e;},Zo=function Zo(t){var e=[t].concat(_toConsumableArray(jo(t))),i={};{var _t323=null;var _iterator165=_createForOfIteratorHelper(e),_step165;try{for(_iterator165.s();!(_step165=_iterator165.n()).done;){var _i244=_step165.value;if(_i244.hasAttribute("patternUnits")){_t323=_i244.patternUnits.baseVal;break;}}}catch(err){_iterator165.e(err);}finally{_iterator165.f();}null===_t323&&(_t323=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.patternUnits=_t323;}{var _t324=null;var _iterator166=_createForOfIteratorHelper(e),_step166;try{for(_iterator166.s();!(_step166=_iterator166.n()).done;){var _i245=_step166.value;if(_i245.hasAttribute("patternContentUnits")){_t324=_i245.patternContentUnits.baseVal;break;}}}catch(err){_iterator166.e(err);}finally{_iterator166.f();}null===_t324&&(_t324=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE),i.patternContentUnits=_t324;}{var _t325=null;var _iterator167=_createForOfIteratorHelper(e),_step167;try{for(_iterator167.s();!(_step167=_iterator167.n()).done;){var _i246=_step167.value;if(_i246.hasAttribute("patternTransform")){_t325=DOMMatrix.fromMatrix(_i246.patternTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator167.e(err);}finally{_iterator167.f();}null===_t325&&(_t325=new DOMMatrix()),i.patternTransform=_t325;}{var _t326=null;var _iterator168=_createForOfIteratorHelper(e),_step168;try{for(_iterator168.s();!(_step168=_iterator168.n()).done;){var _i247=_step168.value;if(_i247.hasAttribute("viewBox")){_t326=DOMRect.fromRect(_i247.viewBox.baseVal);break;}}}catch(err){_iterator168.e(err);}finally{_iterator168.f();}null===_t326&&(_t326=new DOMRect()),i.viewBox=_t326;}{var _t327=null;var _iterator169=_createForOfIteratorHelper(e),_step169;try{for(_iterator169.s();!(_step169=_iterator169.n()).done;){var _i248=_step169.value;if(_i248.hasAttribute("preserveAspectRatio")){_t327=_i248.preserveAspectRatio.baseVal;break;}}}catch(err){_iterator169.e(err);}finally{_iterator169.f();}null===_t327&&(_t327={align:SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID,meetOrSlice:SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET}),i.preserveAspectRatio=_t327;}for(var _i249=0,_arr12=["x","y","width","height"];_i249<_arr12.length;_i249++){var _t328=_arr12[_i249];var _s157=null;var _iterator170=_createForOfIteratorHelper(e),_step170;try{for(_iterator170.s();!(_step170=_iterator170.n()).done;){var _i250=_step170.value;if(_i250.hasAttribute(_t328)){_s157={value:_i250[_t328].baseVal.value,valueInSpecifiedUnits:_i250[_t328].baseVal.valueInSpecifiedUnits,valueAsString:_i250[_t328].baseVal.valueAsString,unitType:_i250[_t328].baseVal.unitType};break;}}}catch(err){_iterator170.e(err);}finally{_iterator170.f();}null===_s157&&(_s157={value:0,valueInSpecifiedUnits:0,valueAsString:"0",unitType:SVGLength.SVG_LENGTHTYPE_NUMBER}),i[_t328]=_s157;}return i;},Ko=function Ko(t){var e=Li(t),i=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _getComputedStyle5=getComputedStyle(s),_e257=_getComputedStyle5.fill,_i251=_getComputedStyle5.stroke;for(var _i252=0,_arr13=[_e257,_i251];_i252<_arr13.length;_i252++){var _o60=_arr13[_i252];if(_o60.startsWith('url("#')){_o60.substring(6,_o60.length-2)===t.id&&!1===n.includes(s)&&n.push(s);}}}}return n;},Qo=function Qo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t329=_toArray(t),_e258=_t329[0],_i253=_t329.slice(1),_s158=Symbol();var _iterator171=_createForOfIteratorHelper(t),_step171;try{for(_iterator171.s();!(_step171=_iterator171.n()).done;){var _e259=_step171.value;_e259[_s158]=Xo(_e259);}}catch(err){_iterator171.e(err);}finally{_iterator171.f();}var _iterator172=_createForOfIteratorHelper(_i253),_step172;try{for(_iterator172.s();!(_step172=_iterator172.n()).done;){var _t330=_step172.value;if(!1===si(_t330[_s158],_e258[_s158],!0))return!1;}}catch(err){_iterator172.e(err);}finally{_iterator172.f();}return!0;}},Jo=function Jo(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s,n,o,l,a,h,r=Zo(t),d=Ei(e);if(r.patternUnits===Vo)s=new DOMPoint(r.x.value,r.y.value),n=new DOMPoint(r.x.value+r.width.value,r.y.value),o=new DOMPoint(r.x.value+r.width.value,r.y.value+r.height.value),l=new DOMPoint(d.x+d.width/2-r.width.value/2,d.y+d.height/2-r.height.value/2),a=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2-r.height.value/2),h=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2+r.height.value/2);else if(r.patternUnits===No){var _t331=r.x.valueInSpecifiedUnits,_e260=r.y.valueInSpecifiedUnits,_i254=r.width.valueInSpecifiedUnits,_c4=r.height.valueInSpecifiedUnits;r.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t331/=100),r.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e260/=100),r.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i254/=100),r.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c4/=100);var _p3=new DOMPoint(_t331,_e260),_u3=new DOMPoint(_t331+_i254,_e260),_x50=new DOMPoint(_t331+_i254,_e260+_c4);s=new DOMPoint(d.x+_p3.x*d.width,d.y+_p3.y*d.height),n=new DOMPoint(d.x+_u3.x*d.width,d.y+_u3.y*d.height),o=new DOMPoint(d.x+_x50.x*d.width,d.y+_x50.y*d.height),l=new DOMPoint(d.x+d.width/2-d.width*_i254/2,d.y+d.height/2-d.height*_c4/2),a=new DOMPoint(d.x+d.width/2+d.width*_i254/2,d.y+d.height/2-d.height*_c4/2),h=new DOMPoint(d.x+d.width/2+d.width*_i254/2,d.y+d.height/2+d.height*_c4/2);}var c=Xt(s,n,o,l,a,h);null!==i&&(c=Nt(c,i)),t.setAttribute("patternTransform",c.toString());},tl=function tl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i="none";if("inherit"===t.style.getPropertyValue(e))i="inherit";else{var _s159=getComputedStyle(t).getPropertyValue(e);if(Co(_s159))i="solid";else{var _e261=co.fromString(_s159);if(_e261){var _s160=Li(t).querySelector(_e261.value),_n88=_s160?_s160.localName:null;"linearGradient"===_n88&&Oo(_s160)?i="solid":"linearGradient"!==_n88&&"radialGradient"!==_n88&&"pattern"!==_n88||(i=_n88);}}}return i;},el=function el(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=null,s=getComputedStyle(t).getPropertyValue(e),n=co.fromString(s);if(n){var _e262=Li(t).querySelector(n.value);_e262&&S.includes(_e262.localName)&&(i=_e262);}return i;},il=function il(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=[],s=[];var _iterator173=_createForOfIteratorHelper(t),_step173;try{for(_iterator173.s();!(_step173=_iterator173.n()).done;){var _n90=_step173.value;var _t332=getComputedStyle(_n90).getPropertyValue(e),_o61=el(_n90);i.push(_t332),s.push(_o61);}}catch(err){_iterator173.e(err);}finally{_iterator173.f();}if(i.legth<=1)return!1;if(oi(i,i[0]))return!1;{var _e263=s.filter(function(t){return t&&"linearGradient"===t.localName;}),_i255=s.filter(function(t){return t&&"radialGradient"===t.localName;}),_n89=s.filter(function(t){return t&&"pattern"===t.localName;});return(_e263.length!==t.length||!Fo(_e263))&&(_i255.length!==t.length||!Fo(_i255))&&(_n89.length!==t.length||!Qo(_n89));}},sl=function sl(t,e){var i=co.fromString(e);if(i){var _e264=t.querySelector(i.value);if(_e264)return _e264;}return null;},nl=["text","textPath","tspan"],ol=["fill","fill-opacity","fill-rule","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","vector-effect"],ll=["opacity","mix-blend-mode","isolation"],al=["font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","text-decoration","text-transform"],hl=function hl(t){var e=[];return k.includes(t.localName)&&e.push.apply(e,ol),w.includes(t.localName)&&e.push.apply(e,ll),nl.includes(t.localName)&&e.push.apply(e,al),e;},rl=function rl(t,e){var i=getComputedStyle(t),s=hl(t);!1===t.isConnected&&console.warn("setAppearance() called with a disconnected element.");var _iterator174=_createForOfIteratorHelper(s),_step174;try{for(_iterator174.s();!(_step174=_iterator174.n()).done;){var _n91=_step174.value;var _s161=e[_n91];if(void 0===_s161)t.style[_n91]=null,t.removeAttribute(_n91);else if("fill"===_n91||"stroke"===_n91){if(_s161.startsWith("<linearGradient")||_s161.startsWith("<radialGradient")){var _e265=Li(t),_i256=_e265.querySelector("defs"),_o62=ts(_templateObject5(),_s161);_o62.id=Zi(_e265,"gradient-"),(_i256||_e265).append(_o62),t.style[_n91]="url(#".concat(_o62.id,")");}else i[_n91]!==_s161&&(t.style[_n91]=_s161);}else i[_n91]!==_s161&&(t.style[_n91]=_s161);}}catch(err){_iterator174.e(err);}finally{_iterator174.f();}},dl={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var cl=/*#__PURE__*/function(_HTMLElement41){_inherits(cl,_HTMLElement41);var _super42=_createSuper(cl);_createClass(cl,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function cl(){var _this140;_classCallCheck(this,cl);_this140=_super42.call(this),_this140.mn=null,_this140.gn=!1;return _this140;}_createClass(cl,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this141=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.fn=function(t){_this141.wn(t);}),t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this141.yn(t);}),t.pathHud.addEventListener("nodeclick",this.kn=function(t){_this141.Sn(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"en",value:function en(){var t=this.Js.board;this.mn=null,this.gn=!1,t.pathHud.passive=!1,t.cubicBezierSegHud.hide(),t.removeEventListener("keydown",this.fn),t.workspaces.removeEventListener("pointerdown",this.vn),t.pathHud.removeEventListener("nodeclick",this.kn);}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);this.mn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.mn=null,this.gn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.cubicBezierSegHud.hide());}},{key:"yn",value:function yn(t){var _this142=this;var e,_i257,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i257=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i257);var o=n<4;_this142._n(t,o);});}},{key:"_n",value:function _n(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.mn){if(e){i.undoManager.checkpoint("Draw path segment");var _e266=t.clientX,_s162=t.clientY,_n92=i.currentContainer||i.currentWorkspace,_o63=this.Qs.getConfig("bx-cubicbeziersettings:style")||dl,_l53=Ii("svg:path");_n92.append(_l53),rl(_l53,_o63);var _a38=qt(_l53).inverse(),_DOMPoint$matrixTrans=new DOMPoint(_e266,_s162).matrixTransform(_a38),_h26=_DOMPoint$matrixTrans.x,_r16=_DOMPoint$matrixTrans.y,_d7=[{type:"M",values:[_h26,_r16]}];for(var _i258=0,_d8=_d7;_i258<_d8.length;_i258++){var _t333=_d8[_i258];_t333.values=_t333.values.map(function(t){return tt(t,i.geometryPrecision);});}_l53.setPathData(_d7),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l53]),this.gn=!1,this.mn=_l53,i.pathHud.passive=!0,i.cubicBezierSegHud.show(_l53,"end");}}else if(this.mn)if(!1===this.gn){var _t334=_toConsumableArray(this.mn.getPathData({normalize:!0}));_t334.length>1&&i.undoManager.checkpoint("Draw path segment"),i.cubicBezierSegHud.curved?_t334.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_t334.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]});var _iterator175=_createForOfIteratorHelper(_t334),_step175;try{for(_iterator175.s();!(_step175=_iterator175.n()).done;){var _e267=_step175.value;_e267.values=_e267.values.map(function(t){return tt(t,i.geometryPrecision);});}}catch(err){_iterator175.e(err);}finally{_iterator175.f();}this.mn.setPathData(_t334);}else{i.undoManager.checkpoint("Draw path segment");var _t335=this.mn.getPathData({normalize:!0}),_e268=[];_e268.push({type:"M",values:[i.cubicBezierSegHud.startPoint.x,i.cubicBezierSegHud.startPoint.y]}),i.cubicBezierSegHud.curved?_e268.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_e268.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}),_e268.push.apply(_e268,_toConsumableArray(_t335.slice(1)));for(var _i259=0,_e269=_e268;_i259<_e269.length;_i259++){var _t336=_e269[_i259];_t336.values=_t336.values.map(function(t){return tt(t,i.geometryPrecision);});}this.mn.setPathData(_e268);}}},{key:"Sn",value:function Sn(t,e,i){var s=!1,n=this.Js.board;if(this.mn)if(e===this.mn){if("start"===t||"end"===t){var _e270=this.mn,_i260=_e270.getPathData({normalize:!0}),_o64=_i260[0],_l54=_i260[_i260.length-1];if(!1===this.gn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t337=_toConsumableArray(_i260);n.cubicBezierSegHud.curved?_t337.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o64.values[0],_o64.values[1]]}):_t337.push({type:"L",values:[_o64.values[0],_o64.values[1]]}),_t337.push({type:"Z",values:[]});var _iterator176=_createForOfIteratorHelper(_t337),_step176;try{for(_iterator176.s();!(_step176=_iterator176.n()).done;){var _e271=_step176.value;_e271.values=_e271.values.map(function(t){return tt(t,n.geometryPrecision);});}}catch(err){_iterator176.e(err);}finally{_iterator176.f();}_e270.setPathData(_t337);}else if(this.gn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t338=[];_t338.push({type:"M",values:["C"===_l54.type?_l54.values[4]:_l54.values[0],"C"===_l54.type?_l54.values[5]:_l54.values[1]]}),n.cubicBezierSegHud.curved?_t338.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o64.values[0],_o64.values[1]]}):_t338.push({type:"L",values:[_o64.values[0],_o64.values[1]]}),_t338.push.apply(_t338,_toConsumableArray(_i260.slice(1))),_t338.push({type:"Z",values:[]});for(var _i261=0,_t339=_t338;_i261<_t339.length;_i261++){var _e272=_t339[_i261];_e272.values=_e272.values.map(function(t){return tt(t,n.geometryPrecision);});}_e270.setPathData(_t338);}this.mn=null,this.gn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i262=e,_o65=this.mn,_l55=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i262.id),"\"]")),_a39=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o65.id),"\"]")),_h27=_o65.getPathData({normalize:!0});if(_h27.length>1){var _e273;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.gn&&"end"===t||!0===this.gn&&"start"===t)&&ct(_i262),_a39&&_l55?(_e273=Yt(_l55.closest("text"),_a39.closest("text")),_e273.multiplySelf(Wt(_o65)),_e273.multiplySelf(Wt(_i262))):_a39&&!_l55?(_e273=Yt(_i262,_a39.closest("text")),_e273.multiplySelf(Wt(_o65))):!_a39&&_l55?(_e273=Yt(_l55.closest("text"),_o65),_e273.multiplySelf(Wt(_i262))):_e273=Yt(_i262,_o65),!1===this.gn){var _t340=_toConsumableArray(_h27),_s163=le(_i262.getPathData({normalize:!0}),_e273),_l56=_s163[0];n.cubicBezierSegHud.curved?_t340.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l56.values[0],_l56.values[1]]}):_t340.push({type:"L",values:[_l56.values[0],_l56.values[1]]}),_t340.push.apply(_t340,_toConsumableArray(_s163.slice(1)));var _iterator177=_createForOfIteratorHelper(_t340),_step177;try{for(_iterator177.s();!(_step177=_iterator177.n()).done;){var _e274=_step177.value;_e274.values=_e274.values.map(function(t){return tt(t,n.geometryPrecision);});}}catch(err){_iterator177.e(err);}finally{_iterator177.f();}_o65.setPathData(_t340),_i262.setPathData([]),_i262.remove();}else if(!0===this.gn){var _t341=[],_s164=le(_i262.getPathData({normalize:!0}),_e273),_l57=_h27[0];_t341.push.apply(_t341,_toConsumableArray(_s164)),n.cubicBezierSegHud.curved?_t341.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l57.values[0],_l57.values[1]]}):_t341.push({type:"L",values:[_l57.values[0],_l57.values[1]]}),_t341.push.apply(_t341,_toConsumableArray(_h27.slice(1)));for(var _i263=0,_t342=_t341;_i263<_t342.length;_i263++){var _e275=_t342[_i263];_e275.values=_e275.values.map(function(t){return tt(t,n.geometryPrecision);});}_o65.setPathData(_t341),_i262.setPathData([]),_i262.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i262;}),s=!0;}this.mn=null,this.gn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide();}if(!1===s&&null===this.mn&&!0===i)if("start"===t){var _t343=this.Cn(e);this.mn=e,this.gn=!0,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"start",_t343);}else if("end"===t){var _t344=this.Cn(e);this.mn=e,this.gn=!1,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"end",_t344);}}},{key:"Cn",value:function Cn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator178=_createForOfIteratorHelper(e),_step178;try{for(_iterator178.s();!(_step178=_iterator178.n()).done;){var _i264=_step178.value;if(_i264.href.baseVal==="#"+t.id)return _i264;}}catch(err){_iterator178.e(err);}finally{_iterator178.f();}}return null;}}]);return cl;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cl,"observedAttributes",["enabled"]);customElements.define("bx-cubicbeziercontext",cl);var pl=function pl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=t+(s?new Math.seedrandom(s):Math.random)()*(e-t);return tt(n,i);},ul=function ul(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var i=2166136261;for(var _e276=0,_s165=t.length;_e276<_s165;_e276+=1){i^=t.charCodeAt(_e276),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);}return i>>>=0,"hex"===e&&(i=("0000000"+i.toString(16)).substr(-8)),i;},xl=Math.sin,bl=Math.cos,ml=Math.tan,gl=Math.PI;var fl={rect:1,ring:1,pie:1,crescent:1,triangle:1,"n-gon":1,star:1,cog:1,arrow:1,cross:1,spiral:1};var wl=function wl(t){var e=null;if(t.hasAttribute("data-bx-shape")){var _i265=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_i265.length>=3){var _t345=_i265[0],_s166=_i265.slice(1,_i265.length-1),_n93=_i265[_i265.length-1];if(_n93.includes("@")){var _n93$split=_n93.split("@"),_n93$split2=_slicedToArray(_n93$split,2),_i266=_n93$split2[0],_o66=_n93$split2[1];_s166=_s166.map(function(t){return parseFloat(t);}),e={type:_t345,values:_s166};}}}return e;},_vl=function vl(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9;var s=kl(e,i);if(s){t.setPathData(s);var _n94=e.values.map(function(t){return tt(t,i);}),_o67=t.getAttribute("d"),_l58="".concat(e.type," ").concat(_n94.join(" ")," ").concat(fl[e.type]);_l58+="@"+ul("".concat(_o67," / ").concat(_l58)).toString(32),t.setAttribute("data-bx-shape",_l58);}},yl=function yl(t){var e=!1;if(t.hasAttribute("data-bx-shape")){var _i267=t.getAttribute("d"),_s167=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_s167.length>=3){var _t346=_s167[0],_n95=_s167.slice(1,_s167.length-1),_o68=_s167[_s167.length-1];if(_o68.includes("@")){var _o68$split=_o68.split("@"),_o68$split2=_slicedToArray(_o68$split,2),_s168=_o68$split2[0],_l59=_o68$split2[1];_l59===ul("".concat(_i267," / ").concat(_t346," ").concat(_n95.join(" ")," ").concat(_s168)).toString(32)&&(e=!0);}}}return e;},kl=function kl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.type?i=Sl(t,e):"ring"===t.type?i=_l(t,e):"pie"===t.type?i=Cl(t,e):"crescent"===t.type?i=Ml(t,e):"triangle"===t.type?i=Pl(t,e):"n-gon"===t.type?i=Dl(t,e):"star"===t.type?i=zl(t,e):"cog"===t.type?i=Ol(t,e):"arrow"===t.type?i=El(t,e):"cross"===t.type?i=Tl(t,e):"spiral"===t.type&&(i=Al(t,e)),i;},Sl=function Sl(t,e){var _t$values=_slicedToArray(t.values,12),i=_t$values[0],s=_t$values[1],n=_t$values[2],o=_t$values[3],l=_t$values[4],a=_t$values[5],h=_t$values[6],r=_t$values[7],d=_t$values[8],c=_t$values[9],p=_t$values[10],u=_t$values[11];void 0===d&&(d=l),void 0===c&&(c=a),void 0===p&&(p=h),void 0===u&&(u=r),l=l>n/2?n/2:l,a=a>n/2?n/2:a,h=h>n/2?n/2:h,r=r>n/2?n/2:r,d=d>o/2?o/2:d,c=c>o/2?o/2:c,p=p>o/2?o/2:p,u=u>o/2?o/2:u;var x=[{type:"M",values:[i+l,s]},{type:"H",values:[i+n-a]},{type:"A",values:[a,c,0,0,1,i+n,s+c]},{type:"V",values:[s+o-p]},{type:"A",values:[h,p,0,0,1,i+n-h,s+o]},{type:"H",values:[i+r]},{type:"A",values:[r,u,0,0,1,i,s+o-u]},{type:"V",values:[s+d]},{type:"A",values:[l,d,0,0,1,i+l,s]},{type:"Z",values:[]}];x=x.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1];});var _iterator179=_createForOfIteratorHelper(x),_step179;try{for(_iterator179.s();!(_step179=_iterator179.n()).done;){var _t347=_step179.value;_t347.values=_t347.values.map(function(t){return tt(t,e);});}}catch(err){_iterator179.e(err);}finally{_iterator179.f();}return x;},_l=function _l(t,e){var _t$values2=_slicedToArray(t.values,6),i=_t$values2[0],s=_t$values2[1],n=_t$values2[2],o=_t$values2[3],l=_t$values2[4],a=_t$values2[5],h=[{type:"M",values:[i,s]},{type:"m",values:[-l,0]},{type:"a",values:[l,a,0,1,0,2*l,0]},{type:"a",values:[l,a,0,1,0,-2*l,0]},{type:"Z",values:[]},{type:"M",values:[i,s]},{type:"m",values:[-n,0]},{type:"a",values:[n,o,0,0,1,2*n,0]},{type:"a",values:[n,o,0,0,1,-2*n,0]},{type:"Z",values:[]}];for(var _i268=0,_h28=h;_i268<_h28.length;_i268++){var _t348=_h28[_i268];_t348.values=_t348.values.map(function(t){return tt(t,e);});}return h;},Cl=function Cl(t,e){var _t$values3=_slicedToArray(t.values,6),i=_t$values3[0],s=_t$values3[1],n=_t$values3[2],o=_t$values3[3],l=_t$values3[4],a=_t$values3[5],h=Ve(l),r=Ve(a),d=a-l,c=d>=180||d>=-180&&d<=0?1:0,p=[{type:"M",values:[i+o*xl(h),s+o*-bl(h)]},{type:"A",values:[o,o,0,c,1,i+o*xl(r),s+o*-bl(r)]},{type:"L",values:[i+n*xl(r),s+n*-bl(r)]}];if(n>0){var _t349=i+n*xl(h),_e277=s+n*-bl(h);p.push({type:"A",values:[n,n,0,c,0,_t349,_e277]});}p.push({type:"Z",values:[]});for(var _i269=0,_p4=p;_i269<_p4.length;_i269++){var _t350=_p4[_i269];_t350.values=_t350.values.map(function(t){return tt(t,e);});}return p;},Ml=function Ml(t,e){var _t$values4=_slicedToArray(t.values,5),i=_t$values4[0],s=_t$values4[1],n=_t$values4[2],o=_t$values4[3],l=_t$values4[4],a=Ue(90-o/2),h=Ve(a),r=Ue(a+o),d=Ve(r),c=r-a,p=c>=180||c>=-180&&c<=0?1:0,u=new DOMPoint(i+n*xl(h),s+n*-bl(h)),x=new DOMPoint(i+n*xl(d),s+n*-bl(d)),b=new DOMPoint(i-n+2*n*l,s),m=[];m.push({type:"M",values:[u.x,u.y]}),m.push({type:"A",values:[n,n,0,p,1,x.x,x.y]}),!0===Ee(u,x,b)?m.push({type:"L",values:[u.x,u.y]}):m.push(function(t,e,i){if(!0===Ee(t,e,i))throw new Error("Given points are colinear");{var _s169=Te(e,i),_n96=Te(i,t),_o69=Te(t,e),_l60=we((_s169*_s169+_n96*_n96-_o69*_o69)/(2*_s169*_n96)),_a40=_s169*_n96*_o69/4/(.5*_s169*_n96*ge(_l60));return{type:"A",values:[_a40,_a40,0,+(_e/2>_l60),+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0),e.x,e.y]};}}(x,u,b)),m.push({type:"Z",values:[]});for(var _i270=0,_m2=m;_i270<_m2.length;_i270++){var _t351=_m2[_i270];_t351.values=_t351.values.map(function(t){return tt(t,e);});}return m;},Pl=function Pl(t,e){var _t$values5=_slicedToArray(t.values,6),i=_t$values5[0],s=_t$values5[1],n=_t$values5[2],o=_t$values5[3],l=_t$values5[4],a=_t$values5[5],h=[];if(0===a)h.push({type:"M",values:[i+n*l,s]}),h.push({type:"L",values:[i+n,s+o]}),h.push({type:"L",values:[i,s+o]}),h.push({type:"L",values:[i+n*l,s]});else{var _t352=[{x:i+n*l,y:s},{x:i+n,y:s+o},{x:i,y:s+o}];for(var _e278=0;_e278<_t352.length;_e278+=1){var _i271=_t352[_e278],_s170=_t352[_e278+1]||_t352[0],_n97=_t352[_e278-1]||_t352[_t352.length-1],_o70={x:_i271.x+(_n97.x-_i271.x)*a,y:_i271.y+(_n97.y-_i271.y)*a},_l61={x:_i271.x+(_s170.x-_i271.x)*a,y:_i271.y+(_s170.y-_i271.y)*a},_r17={x:_i271.x,y:_i271.y};h.push({type:0===_e278?"M":"L",values:[_o70.x,_o70.y]}),h.push({type:"Q",values:[_r17.x,_r17.y,_l61.x,_l61.y]});}}h.push({type:"Z",values:[]});for(var _i272=0,_h29=h;_i272<_h29.length;_i272++){var _t353=_h29[_i272];_t353.values=_t353.values.map(function(t){return tt(t,e);});}return h;},Dl=function Dl(t,e){var _t$values6=_slicedToArray(t.values,6),i=_t$values6[0],s=_t$values6[1],n=_t$values6[2],o=_t$values6[3],l=_t$values6[4],a=_t$values6[5],h=[];if(0===a)for(var _t354=0;_t354<l;_t354+=1){var _e279=2*gl*(_t354/l)-gl/2,_a41=n*bl(_e279)+i,_r18=o*xl(_e279)+s;0===_t354?h.push({type:"M",values:[_a41,_r18]}):h.push({type:"L",values:[_a41,_r18]});}else{var _t355=[];for(var _e280=0;_e280<l;_e280+=1){var _a42=2*gl*(_e280/l)-gl/2;_t355.push({x:n*bl(_a42)+i,y:o*xl(_a42)+s});}for(var _e281=0;_e281<_t355.length;_e281+=1){var _i273=_t355[_e281],_s171=_t355[_e281+1]||_t355[0],_n98=_t355[_e281-1]||_t355[_t355.length-1],_o71={x:_i273.x+(_n98.x-_i273.x)*a,y:_i273.y+(_n98.y-_i273.y)*a},_l62={x:_i273.x+(_s171.x-_i273.x)*a,y:_i273.y+(_s171.y-_i273.y)*a},_r19={x:_i273.x,y:_i273.y};h.push({type:0===_e281?"M":"L",values:[_o71.x,_o71.y]}),h.push({type:"Q",values:[_r19.x,_r19.y,_l62.x,_l62.y]});}}h.push({type:"Z",values:[]});for(var _i274=0,_h30=h;_i274<_h30.length;_i274++){var _t356=_h30[_i274];_t356.values=_t356.values.map(function(t){return tt(t,e);});}return h;},zl=function zl(t,e){var _t$values7=_slicedToArray(t.values,6),i=_t$values7[0],s=_t$values7[1],n=_t$values7[2],o=_t$values7[3],l=_t$values7[4],a=_t$values7[5],h=[];for(var _t357=0;_t357<a;_t357+=1){var _e282=2*gl*(_t357/a)-gl/2,_r20=n*bl(_e282)+i,_d9=o*xl(_e282)+s;0===_t357?h.push({type:"M",values:[_r20,_d9]}):h.push({type:"L",values:[_r20,_d9]}),_e282=2*gl*(_t357/a)+gl/a-gl/2,_r20=l*n*bl(_e282)+i,_d9=l*o*xl(_e282)+s,h.push({type:"L",values:[_r20,_d9]});}h.push({type:"Z",values:[]});for(var _i275=0,_h31=h;_i275<_h31.length;_i275++){var _t358=_h31[_i275];_t358.values=_t358.values.map(function(t){return tt(t,e);});}return h;},Ol=function Ol(t,e){var _t$values8=_slicedToArray(t.values,7),i=_t$values8[0],s=_t$values8[1],n=_t$values8[2],o=_t$values8[3],l=_t$values8[4],a=_t$values8[5],h=_t$values8[6],r=360/h,d=r/4,c=ml(Ve(d-a*d))*l,p=[];for(var _t359=0;_t359<h;_t359+=1){var _e283=r*_t359-90,_n99=_e283+d+a*d,_h32=_e283+r-d-a*d,_u4=Ve(_e283),_x51=Ve(_n99),_b2=Ve(_h32);p.push({type:0===_t359?"M":"L",values:[i+l*bl(_u4)+xl(_u4)*c,s+l*xl(_u4)-bl(_u4)*c]}),p.push({type:"L",values:[i+l*bl(_u4)-xl(_u4)*c,s+l*xl(_u4)+bl(_u4)*c]}),p.push({type:"L",values:[i+o*bl(_x51),s+o*xl(_x51)]}),p.push({type:"A",values:[o,o,0,0,1,i+o*bl(_b2),s+o*xl(_b2)]});}p.push({type:"Z",values:[]}),p.push({type:"M",values:[i,s-n]}),p.push({type:"A",values:[n,n,0,0,0,i,s+n]}),p.push({type:"A",values:[n,n,0,0,0,i,s-n]});for(var _i276=0,_p5=p;_i276<_p5.length;_i276++){var _t360=_p5[_i276];_t360.values=_t360.values.map(function(t){return tt(t,e);});}return p;},El=function El(t,e){var _t$values9=_slicedToArray(t.values,7),i=_t$values9[0],s=_t$values9[1],n=_t$values9[2],o=_t$values9[3],l=_t$values9[4],a=_t$values9[5],h=_t$values9[6];a>n&&(a=n),h<0?h=0:h>a&&(h=a);var r=[{type:"M",values:[i,s+o/2-l/2]},{type:"H",values:[i+n-a+h]},{type:"L",values:[i+n-a,s]},{type:"L",values:[i+n,s+o/2]},{type:"L",values:[i+n-a,s+o]},{type:"L",values:[i+n-a+h,s+o/2+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o/2-l/2]},{type:"Z",values:[]}];for(var _i277=0,_r21=r;_i277<_r21.length;_i277++){var _t361=_r21[_i277];_t361.values=_t361.values.map(function(t){return tt(t,e);});}return r;},Tl=function Tl(t,e){var _t$values10=_slicedToArray(t.values,7),i=_t$values10[0],s=_t$values10[1],n=_t$values10[2],o=_t$values10[3],l=_t$values10[4],a=_t$values10[5],h=_t$values10[6],r=[{type:"M",values:[i+n/2-a/2,s]},{type:"H",values:[i+n/2+a/2]},{type:"V",values:[s+o*h-l/2]},{type:"H",values:[i+n]},{type:"V",values:[s+o*h+l/2]},{type:"H",values:[i+n/2+a/2]},{type:"V",values:[s+o]},{type:"H",values:[i+n/2-a/2]},{type:"V",values:[s+o*h+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o*h-l/2]},{type:"H",values:[i+n/2-a/2]},{type:"Z",values:[]}];for(var _i278=0,_r22=r;_i278<_r22.length;_i278++){var _t362=_r22[_i278];_t362.values=_t362.values.map(function(t){return tt(t,e);});}return r;},Al=function Al(t,e){var _t$values11=_slicedToArray(t.values,6),i=_t$values11[0],s=_t$values11[1],n=_t$values11[2],o=_t$values11[3],l=_t$values11[4],a=_t$values11[5],h=30;l<0&&(l=0),a<l+1&&(a=l+1),a-l<h&&(h=a-l),n>=o&&(n=o-.01);var r=n,d=(o-n)/(a/360)/Math.PI/2,c=l*Math.PI/180,p=c,u=a*Math.PI/180,x=h*Math.PI/180,b=r+d*c,m=r+d*p,g=[],f={x:i+m*Math.cos(p),y:s+m*Math.sin(p)},w=(d*Math.sin(c)+(r+d*p)*Math.cos(c))/(d*Math.cos(c)-(r+d*p)*Math.sin(c)),v=w;g.push({type:"M",values:[f.x,f.y]});do{c+x+x>u&&(x=u-p),c=p,p+=x,b=m,m=r+d*p,f.x=i+m*Math.cos(p),f.y=s+m*Math.sin(p);var _t363=r+d*p;w=v,v=(d*Math.sin(p)+_t363*Math.cos(p))/(d*Math.cos(p)-_t363*Math.sin(p));var _e284=-(w*b*Math.cos(c)-b*Math.sin(c)),_n100=(-(v*m*Math.cos(p)-m*Math.sin(p))-_e284)/(w-v),_o72={x:_n100,y:w*_n100+_e284};_o72.x+=i,_o72.y+=s,g.push({type:"Q",values:[_o72.x,_o72.y,f.x,f.y]});}while(c+x<u);{var _t364=new DOMMatrix().translateSelf(i,s).rotateSelf(-90).translateSelf(-i,-s);for(var _i279=0,_g2=g;_i279<_g2.length;_i279++){var _e285=_g2[_i279];if("M"===_e285.type){var _e285$values=_slicedToArray(_e285.values,2),_i280=_e285$values[0],_s172=_e285$values[1],_n101=new DOMPoint(_i280,_s172).matrixTransform(_t364);_e285.values=[_n101.x,_n101.y];}else if("Q"===_e285.type){var _e285$values2=_slicedToArray(_e285.values,4),_i281=_e285$values2[0],_s173=_e285$values2[1],_n102=_e285$values2[2],_o73=_e285$values2[3],_l63=new DOMPoint(_i281,_s173).matrixTransform(_t364),_a43=new DOMPoint(_n102,_o73).matrixTransform(_t364);_e285.values=[_l63.x,_l63.y,_a43.x,_a43.y];}}}for(var _i282=0,_g3=g;_i282<_g3.length;_i282++){var _t365=_g3[_i282];_t365.values=_t365.values.map(function(t){return tt(t,e);});}return g;},$l=function $l(t,e,i,s,n,o){var l=2*gl*(t/o)-gl/2,a=s*bl(l)+e,h=n*xl(l)+i;return new DOMPoint(a,h);},Il=function Il(t,e,i,s,n,o,l){var a,h=gl*(t/l)-gl/2;return a=t%2==0?new DOMPoint(s*bl(h)+e,n*xl(h)+i):new DOMPoint(o*s*bl(h)+e,o*n*xl(h)+i),a;},Ll=function Ll(t,e,i,s,n,o,l){var a={};{var _h33=ei(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o+l,e+s/2-n/2+100),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));a.minBaseThickness=1,a.maxBaseThickness=2*(e+s/2-_h33.y),a.maxBaseThickness=et(a.maxBaseThickness,1,s);}{var _h34=ei(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i-o,e+100));a.minHeadThickness=2*(e+s/2-_h34.y),a.maxHeadThickness=Infinity;}{var _h35=new J(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e)),_r23=ei(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i+_h35.x,e+s/2+_h35.y),new DOMPoint(0,e+s/2-s/2),new DOMPoint(100,e+s/2-s/2));a.minHeadLength=_r23?t+i-_r23.x:0,a.maxHeadLength=i,a.minHeadLength<1&&(a.minHeadLength=1);}{var _l64=ei(new DOMPoint(0,e+s/2-n/2),new DOMPoint(100,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));a.minHeadInset=0,a.maxHeadInset=_l64.x-(t+i-o);}return a;},Rl=function Rl(t,e,i,s,n,o,l){var a={minHorizontalArmThickness:1};return a.maxHorizontalArmThickness=Math.min(s*l*2,2*(s-s*l)),a.minShift=n/2/s,a.maxShift=(s-n/2)/s,a;},Bl=function Bl(t,e,i,s,n,o){var l,a;n<0&&(n=0),o<n+1&&(o=n+1),i>=s&&(i=s-.01);{var _a44=(s-i)/(o/360),_h36=n*Math.PI/180,_r24=i+_a44/Math.PI/2*_h36,_d10=new DOMMatrix().translateSelf(t,e).rotateSelf(-90).translateSelf(-t,-e);l=new DOMPoint(t+_r24*Math.cos(_h36),e+_r24*Math.sin(_h36)),l=l.matrixTransform(_d10);}{var _i283=new DOMMatrix().translateSelf(t,e).rotateSelf(o).translateSelf(-t,-e);a=new DOMPoint(t,e-s).matrixTransform(_i283);}return[l,a];},Gl=Math.abs,Ul=Math.sqrt,Fl=Math.asin,Nl=Math.sin,Vl=Math.cos,jl=Math.tan,Hl=Math.atan2;var Wl=function Wl(t){var e={},i=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];if(0==i[3][3])return null;for(var _t366=0;_t366<4;_t366++){for(var _e286=0;_e286<4;_e286++){i[_t366][_e286]/=i[3][3];}}var s=[];for(var _t367=0;_t367<4;_t367++){s[_t367]=[];for(var _e287=0;_e287<4;_e287++){s[_t367][_e287]=i[_t367][_e287];}}for(var _t368=0;_t368<3;_t368++){s[_t368][3]=0;}if(s[3][3]=1,0==Xl(s))return null;if(0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){var _t369=[0,0,0,0];_t369[0]=i[0][3],_t369[1]=i[1][3],_t369[2]=i[2][3],_t369[3]=i[3][3];var _n103=Zl(s),_o74=Kl(_n103),_l65=Ql(_t369,_o74);e.perspectiveX=_l65[0],e.perspectiveY=_l65[1],e.perspectiveZ=_l65[2],e.perspectiveW=_l65[3],i[0][3]=i[1][3]=i[2][3]=0,i[3][3]=1;}else e.perspectiveX=0,e.perspectiveY=0,e.perspectiveZ=0,e.perspectiveW=1;e.translateX=i[3][0],i[3][0]=0,e.translateY=i[3][1],i[3][1]=0,e.translateZ=i[3][2],i[3][2]=0;var n=[[],[],[]],o=[0,0,0];for(var _t370=0;_t370<3;_t370++){n[_t370][0]=i[_t370][0],n[_t370][1]=i[_t370][1],n[_t370][2]=i[_t370][2];}if(e.scaleX=Jl(n[0]),ta(n[0],1),e.skewXY=ea(n[0],n[1]),ia(n[1],n[0],n[1],1,-e.skewXY),e.scaleY=Jl(n[1]),ta(n[1],1),e.skewXY/=e.scaleY,e.skewXZ=ea(n[0],n[2]),ia(n[2],n[0],n[2],1,-e.skewXZ),e.skewYZ=ea(n[1],n[2]),ia(n[2],n[1],n[2],1,-e.skewYZ),e.scaleZ=Jl(n[2]),ta(n[2],1),e.skewXZ/=e.scaleZ,e.skewYZ/=e.scaleZ,sa(n[1],n[2],o),ea(n[0],o)<0){e.scaleX*=-1,e.scaleY*=-1,e.scaleZ*=-1;for(var _t371=0;_t371<3;_t371++){n[_t371][0]*=-1,n[_t371][1]*=-1,n[_t371][2]*=-1;}}var l=0,a=Fl(-n[0][2]),h=0;return 0!==Vl(a)?(l=Hl(n[1][2],n[2][2]),h=Hl(n[0][1],n[0][0])):l=Hl(-n[2][0],n[1][1]),e.rotateX=Ne(l),e.rotateY=Ne(a),e.rotateZ=Ne(h),e;},Yl=function Yl(t,e,i,s){return t*s-e*i;},ql=function ql(t,e,i,s,n,o,l,a,h){return t*Yl(n,o,a,h)-s*Yl(e,i,a,h)+l*Yl(e,i,n,o);},Xl=function Xl(t){var e=t[0][0],i=t[0][1],s=t[0][2],n=t[0][3],o=t[1][0],l=t[1][1],a=t[1][2],h=t[1][3],r=t[2][0],d=t[2][1],c=t[2][2],p=t[2][3],u=t[3][0],x=t[3][1],b=t[3][2],m=t[3][3];return e*ql(l,d,x,a,c,b,h,p,m)-i*ql(o,r,u,a,c,b,h,p,m)+s*ql(o,r,u,l,d,x,h,p,m)-n*ql(o,r,u,l,d,x,a,c,b);},Zl=function Zl(t){var e=function(t){var e=[[],[],[],[]],i=t[0][0],s=t[0][1],n=t[0][2],o=t[0][3],l=t[1][0],a=t[1][1],h=t[1][2],r=t[1][3],d=t[2][0],c=t[2][1],p=t[2][2],u=t[2][3],x=t[3][0],b=t[3][1],m=t[3][2],g=t[3][3];e[0][0]=ql(a,c,b,h,p,m,r,u,g),e[1][0]=-ql(l,d,x,h,p,m,r,u,g),e[2][0]=ql(l,d,x,a,c,b,r,u,g),e[3][0]=-ql(l,d,x,a,c,b,h,p,m),e[0][1]=-ql(s,c,b,n,p,m,o,u,g),e[1][1]=ql(i,d,x,n,p,m,o,u,g),e[2][1]=-ql(i,d,x,s,c,b,o,u,g),e[3][1]=ql(i,d,x,s,c,b,n,p,m),e[0][2]=ql(s,a,b,n,h,m,o,r,g),e[1][2]=-ql(i,l,x,n,h,m,o,r,g),e[2][2]=ql(i,l,x,s,a,b,o,r,g),e[3][2]=-ql(i,l,x,s,a,b,n,h,m),e[0][3]=-ql(s,a,c,n,h,p,o,r,u),e[1][3]=ql(i,l,d,n,h,p,o,r,u),e[2][3]=-ql(i,l,d,s,a,c,o,r,u),e[3][3]=ql(i,l,d,s,a,c,n,h,p);}(t),i=Xl(t);if(Gl(i)<1e-8)return!1;for(var _t372=0;_t372<4;_t372++){for(var _s174=0;_s174<4;_s174++){e[_t372][_s174]=e[_t372][_s174]/i;}}return e;},Kl=function Kl(t){var e=[[],[],[],[]];for(var _i284=0;_i284<4;_i284++){for(var _s175=0;_s175<4;_s175++){e[_i284][_s175]=t[_s175][_i284];}}return e;},Ql=function Ql(t,e){var i=[];return i[0]=t[0]*e[0][0]+t[1]*e[1][0]+t[2]*e[2][0]+t[3]*e[3][0],i[1]=t[0]*e[0][1]+t[1]*e[1][1]+t[2]*e[2][1]+t[3]*e[3][1],i[2]=t[0]*e[0][2]+t[1]*e[1][2]+t[2]*e[2][2]+t[3]*e[3][2],i[3]=t[0]*e[0][3]+t[1]*e[1][3]+t[2]*e[2][3]+t[3]*e[3][3],i;},Jl=function Jl(t){return Ul(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);},ta=function ta(t,e){var i=Jl(t);if(0!=i){var _s176=e/i;t[0]*=_s176,t[1]*=_s176,t[2]*=_s176;}},ea=function ea(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];},ia=function ia(t,e,i,s,n){i[0]=s*t[0]+n*e[0],i[1]=s*t[1]+n*e[1],i[2]=s*t[2]+n*e[2];},sa=function sa(t,e,i){i[0]=t[1]*e[2]-t[2]*e[1],i[1]=t[2]*e[0]-t[0]*e[2],i[2]=t[0]*e[1]-t[1]*e[0];},na=Math.abs,oa=Math.min,la=Math.max,aa=Number.parseFloat;var _SVGUnitTypes2=SVGUnitTypes,ha=_SVGUnitTypes2.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,ra=_SVGUnitTypes2.SVG_UNIT_TYPE_USERSPACEONUSE;var da=Symbol(),ca=Symbol(),pa=Symbol(),ua=Symbol(),xa=Symbol(),ba=Symbol(),ma=Symbol(),ga=Symbol(),fa=Symbol(),wa=Symbol(),va=Symbol(),ya=Symbol(),ka=function ka(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!1===t.hasAttribute("transform"))return;void 0===e.geometryPrecision&&(e.geometryPrecision=3),void 0===e.transformPrecision&&(e.transformPrecision=3),void 0===e.preserveStrokeWidth&&(e.preserveStrokeWidth=!0),void 0===e.preserveRectRadii&&(e.preserveRectRadii=!0),void 0===e.preserveRotation&&(e.preserveRotation=!0),void 0===e.transformDirection&&(e.transformDirection="bottom-right");var i=t.localName;if("g"===i)Sa(t,e);else if("a"===i)_a(t,e);else if("rect"===i)Ca(t,e);else if("circle"===i)Ma(t,e);else if("ellipse"===i)Pa(t,e);else if("text"===i)ja(t,e);else if("image"===i)Va(t,e);else if("line"===i)Da(t,e);else if("polyline"===i)za(t,e);else if("polygon"===i)za(t,e);else if("use"===i)Oa(t,e);else if("path"===i)if(t.hasAttribute("data-bx-shape")){var _wl=wl(t),_i285=_wl.type;"rect"===_i285?$a(t,e):"ring"===_i285?Ra(t,e):"pie"===_i285?Ba(t,e):"crescent"===_i285?Ta(t,e):"triangle"===_i285?Aa(t,e):"n-gon"===_i285?Ia(t,e):"star"===_i285?La(t,e):"cog"===_i285?Ga(t,e):"arrow"===_i285?Ua(t,e):"cross"===_i285?Fa(t,e):"spiral"===_i285?Na(t,e):Ea(t,e);}else Ea(t,e);},Sa=function Sa(t,_ref57){var e=_ref57.transformPrecision;var i=Nt(Wt(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},_a=function _a(t,_ref58){var e=_ref58.transformPrecision;var i=Nt(Wt(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},Ca=function Ca(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Wl=Wl(i),_l66=_Wl.scaleX,_a45=_Wl.scaleY,_h37=t.x.baseVal.value,_r25=t.y.baseVal.value,_d11=t.width.baseVal.value,_c5=t.height.baseVal.value,_p6=t.rx.baseVal.value,_u5=t.ry.baseVal.value,_x52=new DOMPoint(_h37,_r25).matrixTransform(i),_b3=new DOMPoint(_h37+_d11,_r25).matrixTransform(i),_m3=new DOMPoint(_h37,_r25+_c5).matrixTransform(i);_h37*=_l66,_r25*=_a45,_d11*=na(_l66),_c5*=na(_a45),!1===o&&(_p6*=na(_l66),_u5*=na(_a45));var _g4=new DOMPoint(_h37,_r25),_f2=new DOMPoint(_h37+_d11,_r25),_w2=new DOMPoint(_h37,_r25+_c5),_v=Xt(_g4,_f2,_w2,_x52,_b3,_m3);_v=Nt(_v,n),1===na(_v.a)&&0===_v.b&&0===_v.c&&1===na(_v.d)&&(_h37=1===_v.a?_h37+_v.e:_h37-_v.e,_r25=1===_v.d?_r25+_v.f:_r25-_v.f,_v.e=0,_v.f=0),Ha(t);for(var _i286=0,_arr14=[["x",_h37],["y",_r25],["width",_d11],["height",_c5],["rx",_p6],["ry",_u5]];_i286<_arr14.length;_i286++){var _arr14$_i=_slicedToArray(_arr14[_i286],2),_e288=_arr14$_i[0],_i287=_arr14$_i[1];_i287=tt(_i287,s),0===_i287?t.removeAttribute(_e288):t.setAttribute(_e288,_i287);}_v.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n).toString());},Ma=function Ma(t,e){var i=Wt(t),_Wl2=Wl(i),s=_Wl2.scaleX,n=_Wl2.scaleY,o=e.geometryPrecision,l=e.transformPrecision,a=e.preserveRotation;if(i.is2D&&tt(s,o)===tt(n,o)){if(!1===a){var _s177=new DOMPoint(t.cx.baseVal.value,t.cy.baseVal.value),_n104=new DOMPoint(t.cx.baseVal.value+t.r.baseVal.value,t.cy.baseVal.value),_l67=_s177.matrixTransform(i),_a46=_n104.matrixTransform(i),_h38=new J(_l67,_a46).length;Ha(t),t.setAttribute("cx",tt(_l67.x,o)),t.setAttribute("cy",tt(_l67.y,o)),t.setAttribute("r",tt(_h38,o)),t.removeAttribute("transform"),Wa(t,e);}else{var _n105=s,_a47=t.cx.baseVal.value,_h39=t.cy.baseVal.value,_r26=t.r.baseVal.value,_d12=new DOMPoint(_a47,_h39).matrixTransform(i),_c6=new DOMPoint(_a47+_r26,_h39).matrixTransform(i),_p7=new DOMPoint(_a47,_h39+_r26).matrixTransform(i);_r26*=na(_n105);var _u6=new DOMPoint(_a47,_h39),_x53=new DOMPoint(_a47+_r26,_h39),_b4=new DOMPoint(_a47,_h39+_r26),_m4=Xt(_u6,_x53,_b4,_d12,_c6,_p7);_m4=Nt(_m4,l),1===na(_m4.a)&&0===_m4.b&&0===_m4.c&&1===na(_m4.d)&&(0===_m4.e&&0===_m4.f||(_a47=1===_m4.a?_a47+_m4.e:_a47-_m4.e,_h39=1===_m4.d?_h39+_m4.f:_h39-_m4.f,_r26=new J(new DOMPoint(_a47,_h39),new DOMPoint(_a47+_r26,_h39)).length,_m4.e=0,_m4.f=0)),Ha(t),_m4.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_m4.toString());for(var _i288=0,_arr15=[["cx",_a47],["cy",_h39],["r",_r26]];_i288<_arr15.length;_i288++){var _arr15$_i=_slicedToArray(_arr15[_i288],2),_e289=_arr15$_i[0],_i289=_arr15$_i[1];_i289=tt(_i289,o),0===_i289?t.removeAttribute(_e289):t.setAttribute(_e289,_i289);}Wa(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,l).toString());},Pa=function Pa(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Wl3=Wl(i),_o75=_Wl3.scaleX,_l68=_Wl3.scaleY,_a48=t.cx.baseVal.value,_h40=t.cy.baseVal.value,_r27=t.rx.baseVal.value,_d13=t.ry.baseVal.value,_c7=new DOMPoint(_a48,_h40).matrixTransform(i),_p8=new DOMPoint(_a48+_r27,_h40).matrixTransform(i),_u7=new DOMPoint(_a48,_h40+_d13).matrixTransform(i);_r27*=na(_o75),_d13*=na(_l68);var _x54=new DOMPoint(_a48,_h40),_b5=new DOMPoint(_a48+_r27,_h40),_m5=new DOMPoint(_a48,_h40+_d13),_g5=Xt(_x54,_b5,_m5,_c7,_p8,_u7);_g5=Nt(_g5,n),1===na(_g5.a)&&0===_g5.b&&0===_g5.c&&1===na(_g5.d)&&(0===_g5.e&&0===_g5.f||(_a48=1===_g5.a?_a48+_g5.e:_a48-_g5.e,_h40=1===_g5.d?_h40+_g5.f:_h40-_g5.f,_r27=new J(new DOMPoint(_a48,_h40),new DOMPoint(_a48+_r27,_h40)).length,_d13=new J(new DOMPoint(_a48,_h40),new DOMPoint(_a48,_h40+_d13)).length,_g5.e=0,_g5.f=0)),Ha(t),_g5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g5.toString());for(var _i290=0,_arr16=[["cx",_a48],["cy",_h40],["rx",_r27],["ry",_d13]];_i290<_arr16.length;_i290++){var _arr16$_i=_slicedToArray(_arr16[_i290],2),_e290=_arr16$_i[0],_i291=_arr16$_i[1];_i291=tt(_i291,s),0===_i291?t.removeAttribute(_e290):t.setAttribute(_e290,_i291);}Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Da=function Da(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i292=ne(t);Ha(t),oe(t,ne(t.parentElement));var _o76=Wt(t),_l69=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_a49=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_h41=_l69.matrixTransform(_o76),_r28=_a49.matrixTransform(_o76);t.setAttribute("x1",tt(_h41.x,s)),t.setAttribute("y1",tt(_h41.y,s)),t.setAttribute("x2",tt(_r28.x,s)),t.setAttribute("y2",tt(_r28.y,s)),t.removeAttribute("transform"),oe(t,_i292,n),Wa(t,e);}else{var _i293=ie(t),_n106=Wt(t),_o77=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_l70=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_a50=_o77.matrixTransform(_n106),_h42=_l70.matrixTransform(_n106);if(Ha(t),t.setAttribute("x1",tt(_a50.x,s)),t.setAttribute("y1",tt(_a50.y,s)),t.setAttribute("x2",tt(_h42.x,s)),t.setAttribute("y2",tt(_h42.y,s)),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e291=Ei(t),_n107=qt(t).inverse(),_o78=_i293.matrixTransform(_n107),_l71=ce(_o78,_e291),_a51=tt(_l71.x,s),_h43=tt(_l71.y,s);t.setAttribute("data-bx-origin","".concat(_a51," ").concat(_h43));}Wa(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},za=function za(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i294=ne(t);Ha(t),oe(t,ne(t.parentElement));var _o79=Wt(t),_l72=[];var _iterator180=_createForOfIteratorHelper(t.points),_step180;try{for(_iterator180.s();!(_step180=_iterator180.n()).done;){var _e292=_step180.value;var _DOMPoint$fromPoint$m=DOMPoint.fromPoint(_e292).matrixTransform(_o79),_t373=_DOMPoint$fromPoint$m.x,_i295=_DOMPoint$fromPoint$m.y;_l72.push(tt(_t373,s),tt(_i295,s));}}catch(err){_iterator180.e(err);}finally{_iterator180.f();}t.setAttribute("points",_l72.join(" ")),t.removeAttribute("transform"),oe(t,_i294,n),Wa(t,e);}else{var _n108=ie(t),_o80=[];var _iterator181=_createForOfIteratorHelper(t.points),_step181;try{for(_iterator181.s();!(_step181=_iterator181.n()).done;){var _e294=_step181.value;var _DOMPoint$fromPoint$m2=DOMPoint.fromPoint(_e294).matrixTransform(i),_t374=_DOMPoint$fromPoint$m2.x,_n109=_DOMPoint$fromPoint$m2.y;_o80.push(tt(_t374,s),tt(_n109,s));}}catch(err){_iterator181.e(err);}finally{_iterator181.f();}if(Ha(t),t.setAttribute("points",_o80.join(" ")),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e293=Ei(t),_i296=qt(t).inverse(),_o81=_n108.matrixTransform(_i296),_l73=ce(_o81,_e293),_a52=tt(_l73.x,s),_h44=tt(_l73.y,s);t.setAttribute("data-bx-origin","".concat(_a52," ").concat(_h44));}Wa(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Oa=function Oa(t,e){var i=e.transformPrecision;if(t.hasAttribute("transform")){var _e295=Wt(t);_e295=Nt(_e295,i),_e295.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e295.toString());}},Ea=function Ea(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i297=ne(t);Ha(t),oe(t,ne(t.parentElement));var _o82=Wt(t),_l74=t.getPathData(),_a53=le(_l74,_o82,s);t.setPathData(_a53),t.removeAttribute("transform"),oe(t,_i297,n),Wa(t,e);}else{var _n110=ie(t),_o83=t.getPathData(),_l75=le(_o83,i,s);if(Ha(t),t.setPathData(_l75),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e296=Ei(t),_i298=qt(t).inverse(),_o84=_n110.matrixTransform(_i298),_l76=ce(_o84,_e296),_a54=tt(_l76.x,s),_h45=tt(_l76.y,s);t.setAttribute("data-bx-origin","".concat(_a54," ").concat(_h45));}Wa(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Ta=function Ta(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Wl4=Wl(i),_o85=_Wl4.scaleX,_l77=_Wl4.scaleY;if(_o85===_l77){var _wl$values=_slicedToArray(wl(t).values,5),_l78=_wl$values[0],_a55=_wl$values[1],_h46=_wl$values[2],_r29=_wl$values[3],_d14=_wl$values[4],_c8=new DOMPoint(_l78,_a55).matrixTransform(i),_p9=new DOMPoint(_l78+_h46,_a55).matrixTransform(i),_u8=new DOMPoint(_l78,_a55+_h46).matrixTransform(i);_h46*=na(_o85);var _x55=new DOMPoint(_l78,_a55),_b6=new DOMPoint(_l78+_h46,_a55),_m6=new DOMPoint(_l78,_a55+_h46),_g6=Xt(_x55,_b6,_m6,_c8,_p9,_u8);_g6=Nt(_g6,n),1===na(_g6.a)&&0===_g6.b&&0===_g6.c&&1===na(_g6.d)&&(0===_g6.e&&0===_g6.f||(_l78=1===_g6.a?_l78+_g6.e:_l78-_g6.e,_a55=1===_g6.d?_a55+_g6.f:_a55-_g6.f,_g6.e=0,_g6.f=0));var _f3=[_l78,_a55,_h46,_r29,_d14];_f3=_f3.map(function(t){return tt(t,s);}),Ha(t),_vl(t,{type:"crescent",values:_f3},s),_g6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g6.toString()),Wa(t,e);}else t.setAttribute("transform",Nt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Aa=function Aa(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Wl5=Wl(i),_o86=_Wl5.scaleX,_l79=_Wl5.scaleY,_wl$values2=_slicedToArray(wl(t).values,6),_a56=_wl$values2[0],_h47=_wl$values2[1],_r30=_wl$values2[2],_d15=_wl$values2[3],_c9=_wl$values2[4],_p10=_wl$values2[5],_u9=new DOMPoint(_a56,_h47).matrixTransform(i),_x56=new DOMPoint(_a56+_r30,_h47).matrixTransform(i),_b7=new DOMPoint(_a56,_h47+_d15).matrixTransform(i);_a56*=_o86,_h47*=_l79,_r30*=na(_o86),_d15*=na(_l79);var _m7=new DOMPoint(_a56,_h47),_g7=new DOMPoint(_a56+_r30,_h47),_f4=new DOMPoint(_a56,_h47+_d15),_w3=Xt(_m7,_g7,_f4,_u9,_x56,_b7);_w3=Nt(_w3,n),1===na(_w3.a)&&0===_w3.b&&0===_w3.c&&1===na(_w3.d)&&(0===_w3.e&&0===_w3.f||(_a56=1===_w3.a?_a56+_w3.e:_a56-_w3.e,_h47=1===_w3.d?_h47+_w3.f:_h47-_w3.f,_w3.e=0,_w3.f=0));var _v2={type:"triangle",values:[_a56,_h47,_r30,_d15,_c9,_p10].map(function(t){return tt(t,s);})};Ha(t),_vl(t,_v2,s),_w3.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w3.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},$a=function $a(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Wl6=Wl(i),_l80=_Wl6.scaleX,_a57=_Wl6.scaleY,_wl$values3=_slicedToArray(wl(t).values,12),_h48=_wl$values3[0],_r31=_wl$values3[1],_d16=_wl$values3[2],_c10=_wl$values3[3],_p11=_wl$values3[4],_u10=_wl$values3[5],_x57=_wl$values3[6],_b8=_wl$values3[7],_m8=_wl$values3[8],_g8=_wl$values3[9],_f5=_wl$values3[10],_w4=_wl$values3[11],_v3=new DOMPoint(_h48,_r31).matrixTransform(i),_y=new DOMPoint(_h48+_d16,_r31).matrixTransform(i),_k=new DOMPoint(_h48,_r31+_c10).matrixTransform(i);void 0===_m8&&(_m8=_p11),void 0===_g8&&(_g8=_u10),void 0===_f5&&(_f5=_x57),void 0===_w4&&(_w4=_b8),_h48*=_l80,_r31*=_a57,_d16*=na(_l80),_c10*=na(_a57),!1===o&&(_p11*=na(_l80),_u10*=na(_l80),_x57*=na(_l80),_b8*=na(_l80),_m8*=na(_a57),_g8*=na(_a57),_f5*=na(_a57),_w4*=na(_a57));var _S,_2=new DOMPoint(_h48,_r31),_C=new DOMPoint(_h48+_d16,_r31),_M=new DOMPoint(_h48,_r31+_c10),_P=Xt(_2,_C,_M,_v3,_y,_k);_P=Nt(_P,n),1===na(_P.a)&&0===_P.b&&0===_P.c&&1===na(_P.d)&&(0===_P.e&&0===_P.f||(_h48=1===_P.a?_h48+_P.e:_h48-_P.e,_r31=1===_P.d?_r31+_P.f:_r31-_P.f,_P.e=0,_P.f=0)),_S=_p11===_m8&&_u10===_g8&&_x57===_f5&&_b8===_w4?[_h48,_r31,_d16,_c10,_p11,_u10,_x57,_b8]:[_h48,_r31,_d16,_c10,_p11,_u10,_x57,_b8,_m8,_g8,_f5,_w4],_S=_S.map(function(t){return tt(t,s);}),Ha(t),_vl(t,{type:"rect",values:_S},s),_P.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_P.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Ia=function Ia(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Wl7=Wl(i),_o87=_Wl7.scaleX,_l81=_Wl7.scaleY,_wl$values4=_slicedToArray(wl(t).values,6),_a58=_wl$values4[0],_h49=_wl$values4[1],_r32=_wl$values4[2],_d17=_wl$values4[3],_c11=_wl$values4[4],_p12=_wl$values4[5],_u11=new DOMPoint(_a58,_h49).matrixTransform(i),_x58=new DOMPoint(_a58+_r32,_h49).matrixTransform(i),_b9=new DOMPoint(_a58,_h49+_d17).matrixTransform(i);_r32*=na(_o87),_d17*=na(_l81);var _m9=new DOMPoint(_a58,_h49),_g9=new DOMPoint(_a58+_r32,_h49),_f6=new DOMPoint(_a58,_h49+_d17),_w5=Xt(_m9,_g9,_f6,_u11,_x58,_b9);_w5=Nt(_w5,n),1===na(_w5.a)&&0===_w5.b&&0===_w5.c&&1===na(_w5.d)&&(0===_w5.e&&0===_w5.f||(_a58=1===_w5.a?_a58+_w5.e:_a58-_w5.e,_h49=1===_w5.d?_h49+_w5.f:_h49-_w5.f,_w5.e=0,_w5.f=0));var _v4=[_a58,_h49,_r32,_d17,_c11,_p12];_v4=_v4.map(function(t){return tt(t,s);}),Ha(t),_vl(t,{type:"n-gon",values:_v4},s),_w5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w5.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},La=function La(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Wl8=Wl(i),_o88=_Wl8.scaleX,_l82=_Wl8.scaleY,_wl$values5=_slicedToArray(wl(t).values,6),_a59=_wl$values5[0],_h50=_wl$values5[1],_r33=_wl$values5[2],_d18=_wl$values5[3],_c12=_wl$values5[4],_p13=_wl$values5[5],_u12=new DOMPoint(_a59,_h50).matrixTransform(i),_x59=new DOMPoint(_a59+_r33,_h50).matrixTransform(i),_b10=new DOMPoint(_a59,_h50+_d18).matrixTransform(i);_r33*=na(_o88),_d18*=na(_l82);var _m10=new DOMPoint(_a59,_h50),_g10=new DOMPoint(_a59+_r33,_h50),_f7=new DOMPoint(_a59,_h50+_d18),_w6=Xt(_m10,_g10,_f7,_u12,_x59,_b10);_w6=Nt(_w6,n),1===na(_w6.a)&&0===_w6.b&&0===_w6.c&&1===na(_w6.d)&&(0===_w6.e&&0===_w6.f||(_a59=1===_w6.a?_a59+_w6.e:_a59-_w6.e,_h50=1===_w6.d?_h50+_w6.f:_h50-_w6.f,_w6.e=0,_w6.f=0));var _v5=[_a59,_h50,_r33,_d18,_c12,_p13].map(function(t){return tt(t,s);});Ha(t),_vl(t,{type:"star",values:_v5},s),_w6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w6.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Ra=function Ra(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _wl$values6=_slicedToArray(wl(t).values,6),_o89=_wl$values6[0],_l83=_wl$values6[1],_a60=_wl$values6[2],_h51=_wl$values6[3],_r34=_wl$values6[4],_d19=_wl$values6[5],_Wl9=Wl(i),_c13=_Wl9.scaleX,_p14=_Wl9.scaleY,_u13=new DOMPoint(_o89,_l83).matrixTransform(i),_x60=new DOMPoint(_o89+_r34,_l83).matrixTransform(i),_b11=new DOMPoint(_o89,_l83+_d19).matrixTransform(i);_a60*=na(_c13),_h51*=na(_p14),_r34*=na(_c13),_d19*=na(_p14);var _m11=new DOMPoint(_o89,_l83),_g11=new DOMPoint(_o89+_r34,_l83),_f8=new DOMPoint(_o89,_l83+_d19),_w7=Xt(_m11,_g11,_f8,_u13,_x60,_b11);_w7=Nt(_w7,n),1===na(_w7.a)&&0===_w7.b&&0===_w7.c&&1===na(_w7.d)&&(0===_w7.e&&0===_w7.f||(_o89=1===_w7.a?_o89+_w7.e:_o89-_w7.e,_l83=1===_w7.d?_l83+_w7.f:_l83-_w7.f,_w7.e=0,_w7.f=0));var _v6=[_o89,_l83,_a60,_h51,_r34,_d19].map(function(t){return tt(t,s);});Ha(t),_vl(t,{type:"ring",values:_v6},s),_w7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w7.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Ba=function Ba(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Ga=function Ga(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Ua=function Ua(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Wl10=Wl(i),_o90=_Wl10.scaleX,_l84=_Wl10.scaleY,_wl$values7=_slicedToArray(wl(t).values,7),_a61=_wl$values7[0],_h52=_wl$values7[1],_r35=_wl$values7[2],_d20=_wl$values7[3],_c14=_wl$values7[4],_p15=_wl$values7[5],_u14=_wl$values7[6],_x61=new DOMPoint(_a61,_h52).matrixTransform(i),_b12=new DOMPoint(_a61+_r35,_h52).matrixTransform(i),_m12=new DOMPoint(_a61,_h52+_d20).matrixTransform(i);_a61*=_o90,_h52*=_l84,_r35*=na(_o90),_d20*=na(_l84),_p15*=na(_o90),_u14*=na(_o90),_c14*=na(_l84);var _g12=new DOMPoint(_a61,_h52),_f9=new DOMPoint(_a61+_r35,_h52),_w8=new DOMPoint(_a61,_h52+_d20),_v7=Xt(_g12,_f9,_w8,_x61,_b12,_m12);_v7=Nt(_v7,n),1===na(_v7.a)&&0===_v7.b&&0===_v7.c&&1===na(_v7.d)&&(_a61=1===_v7.a?_a61+_v7.e:_a61-_v7.e,_h52=1===_v7.d?_h52+_v7.f:_h52-_v7.f,_v7.e=0,_v7.f=0),Ha(t),_vl(t,{type:"arrow",values:[_a61,_h52,_r35,_d20,_c14,_p15,_u14]},s),_v7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v7.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n).toString());},Fa=function Fa(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Wl11=Wl(i),_o91=_Wl11.scaleX,_l85=_Wl11.scaleY,_wl$values8=_slicedToArray(wl(t).values,7),_a62=_wl$values8[0],_h53=_wl$values8[1],_r36=_wl$values8[2],_d21=_wl$values8[3],_c15=_wl$values8[4],_p16=_wl$values8[5],_u15=_wl$values8[6],_x62=new DOMPoint(_a62,_h53).matrixTransform(i),_b13=new DOMPoint(_a62+_r36,_h53).matrixTransform(i),_m13=new DOMPoint(_a62,_h53+_d21).matrixTransform(i);_a62*=_o91,_h53*=_l85,_r36*=na(_o91),_d21*=na(_l85),_c15*=na(_l85),_p16*=na(_o91);var _g13=new DOMPoint(_a62,_h53),_f10=new DOMPoint(_a62+_r36,_h53),_w9=new DOMPoint(_a62,_h53+_d21),_v8=Xt(_g13,_f10,_w9,_x62,_b13,_m13);_v8=Nt(_v8,n),1===na(_v8.a)&&0===_v8.b&&0===_v8.c&&1===na(_v8.d)&&(_a62=1===_v8.a?_a62+_v8.e:_a62-_v8.e,_h53=1===_v8.d?_h53+_v8.f:_h53-_v8.f,_v8.e=0,_v8.f=0),Ha(t),_vl(t,{type:"cross",values:[_a62,_h53,_r36,_d21,_c15,_p16,_u15]},s),_v8.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v8.toString()),Wa(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n).toString());},Na=function Na(t,e){var i=Wt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Wl12=Wl(i),_o92=_Wl12.scaleX,_l86=_Wl12.scaleY;if(_o92===_l86){var _wl$values9=_slicedToArray(wl(t).values,6),_l87=_wl$values9[0],_a63=_wl$values9[1],_h54=_wl$values9[2],_r37=_wl$values9[3],_d22=_wl$values9[4],_c16=_wl$values9[5],_p17=new DOMPoint(_l87,_a63).matrixTransform(i),_u16=new DOMPoint(_l87+_r37,_a63).matrixTransform(i),_x63=new DOMPoint(_l87,_a63+_r37).matrixTransform(i);_h54*=na(_o92),_r37*=na(_o92);var _b14=new DOMPoint(_l87,_a63),_m14=new DOMPoint(_l87+_r37,_a63),_g14=new DOMPoint(_l87,_a63+_r37),_f11=Xt(_b14,_m14,_g14,_p17,_u16,_x63);_f11=Nt(_f11,n),1===na(_f11.a)&&0===_f11.b&&0===_f11.c&&1===na(_f11.d)&&(0===_f11.e&&0===_f11.f||(_l87=1===_f11.a?_l87+_f11.e:_l87-_f11.e,_a63=1===_f11.d?_a63+_f11.f:_a63-_f11.f,_f11.e=0,_f11.f=0));var _w10=[_l87,_a63,_h54,_r37,_d22,_c16];_w10=_w10.map(function(t){return tt(t,s);}),Ha(t),_vl(t,{type:"spiral",values:_w10},s),_f11.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_f11.toString()),Wa(t,e);}else t.setAttribute("transform",Nt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(i,n));},Va=function Va(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=Wt(t),_Wl13=Wl(n),o=_Wl13.scaleX,l=_Wl13.scaleY;if(!n.is2D||o!==l&&"none"!==t.getAttribute("preserveAspectRatio"))n.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(n,s));else{var _a64=t.x.baseVal.value,_h55=t.y.baseVal.value,_r38=t.width.baseVal.value,_d23=t.height.baseVal.value,_c17=new DOMPoint(_a64,_h55).matrixTransform(n),_p18=new DOMPoint(_a64+_r38,_h55).matrixTransform(n),_u17=new DOMPoint(_a64,_h55+_d23).matrixTransform(n);_a64*=o,_h55*=l,_r38*=na(o),_d23*=na(l);var _x64=new DOMPoint(_a64,_h55),_b15=new DOMPoint(_a64+_r38,_h55),_m15=new DOMPoint(_a64,_h55+_d23),_g15=Xt(_x64,_b15,_m15,_c17,_p18,_u17);_g15=Nt(_g15,s),1===na(_g15.a)&&0===_g15.b&&0===_g15.c&&1===na(_g15.d)&&(0===_g15.e&&0===_g15.f||(_a64=1===_g15.a?_a64+_g15.e:_a64-_g15.e,_h55=1===_g15.d?_h55+_g15.f:_h55-_g15.f,_g15.e=0,_g15.f=0)),Ha(t);for(var _i299=0,_arr17=[["x",_a64],["y",_h55],["width",_r38],["height",_d23]];_i299<_arr17.length;_i299++){var _arr17$_i=_slicedToArray(_arr17[_i299],2),_e297=_arr17$_i[0],_s178=_arr17$_i[1];_s178=tt(_s178,i),0===_s178?t.removeAttribute(_e297):t.setAttribute(_e297,_s178);}_g15.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g15.toString()),Wa(t,e);}},ja=function ja(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=_toConsumableArray(t.children).find(function(t){return"textPath"===t.localName;}),o=null;if(n){o=Li(n).querySelector(n.href.baseVal);}if(o){var _e298=Nt(Wt(t),s);_e298.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e298.toString());}else{var _n111=Wt(t),_Wl14=Wl(_n111),_o93=_Wl14.scaleX,_l88=_Wl14.scaleY;if(_n111.is2D&&_o93===_l88&&!1===Ci(t)){(function(){var _ref59=function(t){var e=0,i=0,s=0,n=0,o=vi(t)[0]||null;if(o){var _l89=[];for(var _e299=o.parentElement;_e299!==t;_e299=_e299.parentElement){"tspan"!==_e299.localName&&"textPath"!==_e299.localName||_l89.push(_e299);}_l89.push(t),_l89.reverse();for(var _i300=0,_l90=_l89;_i300<_l90.length;_i300++){var _t375=_l90[_i300];_t375.x.baseVal.length>0&&(e=_t375.x.baseVal[0].value),_t375.y.baseVal.length>0&&(i=_t375.y.baseVal[0].value),_t375.dx.baseVal.length>0&&(s=_t375.dx.baseVal[0].value),_t375.dy.baseVal.length>0&&(n=_t375.dy.baseVal[0].value);}}return[e+s,i+n];}(t),_ref60=_slicedToArray(_ref59,2),a=_ref60[0],h=_ref60[1],r=Ei(t).width,d=Ei(t).height,c=new DOMPoint(a,h).matrixTransform(_n111),p=new DOMPoint(a+r,h).matrixTransform(_n111),u=new DOMPoint(a,h+d).matrixTransform(_n111),x=a*_o93,b=h*_l88,m=r*na(_o93),g=d*na(_l88),f=new DOMPoint(x,b),w=new DOMPoint(x+m,b),v=new DOMPoint(x,b+g),y=Xt(f,w,v,c,p,u);y=Nt(y,s),1===na(y.a)&&0===y.b&&0===y.c&&1===na(y.d)&&(0===y.e&&0===y.f||(x=1===y.a?x+y.e:x-y.e,b=1===y.d?b+y.f:b-y.f,y.e=0,y.f=0)),Ha(t);var _iterator182=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step182;try{for(_iterator182.s();!(_step182=_iterator182.n()).done;){var _e303=_step182.value;Ha(_e303);}}catch(err){_iterator182.e(err);}finally{_iterator182.f();}var k=x-a,S=b-h,_=_toConsumableArray(t.x.baseVal).map(function(t){return tt(t.value+k,i);}),C=_toConsumableArray(t.y.baseVal).map(function(t){return tt(t.value+S,i);});if(x=tt(x,i),b=tt(b,i),_.length>0)t.setAttribute("x",_.join(" "));else{var _e300=tt(k,i);0===_e300?t.removeAttribute("x"):t.setAttribute("x",_e300);}if(C.length>0)t.setAttribute("y",C.join(" "));else{var _e301=tt(S,i);0===_e301?t.removeAttribute("y"):t.setAttribute("y",_e301);}var _iterator183=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step183;try{for(_iterator183.s();!(_step183=_iterator183.n()).done;){var _e304=_step183.value;var _t377=_toConsumableArray(_e304.x.baseVal).map(function(t){return tt(t.value+k,i);}),_s180=_toConsumableArray(_e304.y.baseVal).map(function(t){return tt(t.value+S,i);});_t377.length>0&&_e304.setAttribute("x",_t377.join(" ")),_s180.length>0&&_e304.setAttribute("y",_s180.join(" "));}}catch(err){_iterator183.e(err);}finally{_iterator183.f();}if(y.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",y.toString()),Wa(t,e),0===t.querySelectorAll("tspan").length){var _e302=getComputedStyle(t).getPropertyValue("font-size");_e302=aa(_e302),_e302=tt(_e302*_l88,1),t.style.setProperty("font-size",_e302);}else{var _iterator184=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step184;try{for(_iterator184.s();!(_step184=_iterator184.n()).done;){var _i301=_step184.value;var _t376=getComputedStyle(_i301).getPropertyValue("font-size");_t376=aa(_t376),_t376=tt(_t376*_l88,1),_i301.style.setProperty("font-size",_t376);var _s179=getComputedStyle(_i301).getPropertyValue("word-spacing");_s179=aa(_s179),_s179=tt(_s179*_l88,2),_i301.style.setProperty("word-spacing",_s179);var _n112=getComputedStyle(_i301).getPropertyValue("letter-spacing");_n112=aa(_n112),_n112=tt(_n112*_l88,2),_i301.style.setProperty("letter-spacing",_n112),Wa(_i301,e);}}catch(err){_iterator184.e(err);}finally{_iterator184.f();}}})();}else _n111.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Nt(_n111,s));}},Ha=function Ha(t){var e=qt(t);if((P.includes(t.localName)||z.includes(t.localName))&&(H(t)||W(t))&&(t[da]=Ei(t,!1)),k.includes(t.localName)){var _i302=[el(t,"fill"),el(t,"stroke")],_s181=_i302.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_n113=_i302.filter(function(t){return t&&"pattern"===t.localName;}),_Wl15=Wl(Wt(t)),_o94=_Wl15.scaleX,_l91=_Wl15.scaleY;t[ca]=_o94,t[pa]=_l91;var _iterator185=_createForOfIteratorHelper(_s181),_step185;try{for(_iterator185.s();!(_step185=_iterator185.n()).done;){var _t378=_step185.value;var _i303=Ao(_t378);if(_i303.gradientUnits===ra)if("linearGradient"===_t378.localName){var _s182=new DOMPoint(_i303.x1.value,_i303.y1.value),_n114=new DOMPoint(_i303.x2.value,_i303.y2.value),_o95=new J(_s182,_n114).getNormalVector().transformPoint(_s182),_l92=_s182.matrixTransform(_i303.gradientTransform),_a65=_n114.matrixTransform(_i303.gradientTransform),_h56=_o95.matrixTransform(_i303.gradientTransform);_t378[ua]=_l92.matrixTransform(e),_t378[xa]=_a65.matrixTransform(e),_t378[ba]=_h56.matrixTransform(e);}else if("radialGradient"===_t378.localName){var _s183=new DOMPoint(_i303.cx.value,_i303.cy.value),_n115=new DOMPoint(_i303.cx.value+_i303.r.value,_i303.cy.value),_o96=new DOMPoint(_i303.cx.value,_i303.cy.value-_i303.r.value),_l93=_s183.matrixTransform(_i303.gradientTransform),_a66=_n115.matrixTransform(_i303.gradientTransform),_h57=_o96.matrixTransform(_i303.gradientTransform);_t378[ma]=_l93.matrixTransform(e),_t378[ga]=_a66.matrixTransform(e),_t378[fa]=_h57.matrixTransform(e);}}}catch(err){_iterator185.e(err);}finally{_iterator185.f();}var _iterator186=_createForOfIteratorHelper(_n113),_step186;try{for(_iterator186.s();!(_step186=_iterator186.n()).done;){var _i304=_step186.value;var _s184=Zo(_i304);if(_s184.patternUnits===ra){var _t379=new DOMPoint(_s184.x.value,_s184.y.value),_n116=new DOMPoint(_s184.x.value+_s184.width.value,_s184.y.value),_o97=new DOMPoint(_s184.x.value+_s184.width.value,_s184.y.value+_s184.height.value),_l94=_t379.matrixTransform(_s184.patternTransform),_a67=_n116.matrixTransform(_s184.patternTransform),_h58=_o97.matrixTransform(_s184.patternTransform);_i304[wa]=_l94.matrixTransform(e),_i304[va]=_a67.matrixTransform(e),_i304[ya]=_h58.matrixTransform(e);}else if(_s184.patternUnits===ha){var _e305=qt(t),_n117=Ei(t),_o98=_s184.x.valueInSpecifiedUnits,_l95=_s184.y.valueInSpecifiedUnits,_a68=_s184.width.valueInSpecifiedUnits,_h59=_s184.height.valueInSpecifiedUnits;_s184.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o98/=100),_s184.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l95/=100),_s184.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a68/=100),_s184.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h59/=100);var _r39=new DOMPoint(_o98,_l95),_d24=new DOMPoint(_o98+_a68,_l95),_c18=new DOMPoint(_o98+_a68,_l95+_h59),_p19=new DOMPoint(_n117.x+_r39.x*_n117.width,_n117.y+_r39.y*_n117.height),_u18=new DOMPoint(_n117.x+_d24.x*_n117.width,_n117.y+_d24.y*_n117.height),_x65=new DOMPoint(_n117.x+_c18.x*_n117.width,_n117.y+_c18.y*_n117.height),_b16=_p19.matrixTransform(_s184.patternTransform),_m16=_u18.matrixTransform(_s184.patternTransform),_g16=_x65.matrixTransform(_s184.patternTransform),_f12=_b16.matrixTransform(_e305),_w11=_m16.matrixTransform(_e305),_v9=_g16.matrixTransform(_e305);_i304[wa]=_f12,_i304[va]=_w11,_i304[ya]=_v9;}}}catch(err){_iterator186.e(err);}finally{_iterator186.f();}}},Wa=function Wa(t,e){var i=qt(t).inverse(),s=e.geometryPrecision,n=e.preserveStrokeWidth,o=e.transformPrecision,l=e.transformDirection;if(P.includes(t.localName)){var _i305=getComputedStyle(t).clipPath,_s185=_i305&&"none"!==_i305?_i305.substring(6,_i305.length-2):"",_n118=_s185?Li(t).querySelector("#"+CSS.escape(_s185)):null;if(_n118){var _i306=t[da],_s186=Ei(t,!1),_o99=Zt(_i306,_s186);_o99=_o99.multiply(Wt(_n118));var _iterator187=_createForOfIteratorHelper(_n118.children),_step187;try{for(_iterator187.s();!(_step187=_iterator187.n()).done;){var _t380=_step187.value;M.includes(_t380.localName)&&(_t380.setAttribute("transform",_o99.multiply(Wt(_t380)).toString()),ka(_t380,e));}}catch(err){_iterator187.e(err);}finally{_iterator187.f();}_n118.removeAttribute("transform");}}if(z.includes(t.localName)){var _i307=getComputedStyle(t).mask,_s187=_i307&&"none"!==_i307?_i307.substring(6,_i307.length-2):"",_n119=_s187?Li(t).querySelector("#"+CSS.escape(_s187)):null;if(_n119){var _i308=t[da],_s188=Ei(t,!1),_o100=Zt(_i308,_s188);var _iterator188=_createForOfIteratorHelper(_n119.children),_step188;try{for(_iterator188.s();!(_step188=_iterator188.n()).done;){var _t381=_step188.value;D.includes(_t381.localName)&&(_t381.setAttribute("transform",_o100.multiply(Wt(_t381)).toString()),ka(_t381,e));}}catch(err){_iterator188.e(err);}finally{_iterator188.f();}_n119.removeAttribute("transform");}}if(k.includes(t.localName)){var _e306=[el(t,"fill"),el(t,"stroke")],_a69=_e306.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_h60=_e306.filter(function(t){return t&&"pattern"===t.localName;});if(!1===n){var _e307=t[ca],_i309=t[pa],_n120=getComputedStyle(t).getPropertyValue("stroke-width");_n120=aa(_n120),_n120*="left"===l||"right"===l?na(_e307):"top"===l||"bottom"===l?na(_i309):(na(_e307)+na(_i309))/2,_n120=tt(_n120,s),t.style.setProperty("stroke-width",_n120);}var _iterator189=_createForOfIteratorHelper(_a69),_step189;try{for(_iterator189.s();!(_step189=_iterator189.n()).done;){var _t382=_step189.value;var _e308=Ao(_t382);if(_e308.gradientUnits===ra){var _s189=void 0;if("linearGradient"===_t382.localName){var _n121=new DOMPoint(_e308.x1.value,_e308.y1.value),_o101=new DOMPoint(_e308.x2.value,_e308.y2.value),_l96=new J(_n121,_o101).getNormalVector().transformPoint(_n121);_s189=Xt(_n121,_o101,_l96,_t382[ua].matrixTransform(i),_t382[xa].matrixTransform(i),_t382[ba].matrixTransform(i));}else if("radialGradient"===_t382.localName){var _n122=new DOMPoint(_e308.cx.value,_e308.cy.value),_o102=new DOMPoint(_e308.cx.value+_e308.r.value,_e308.cy.value),_l97=new DOMPoint(_e308.cx.value,_e308.cy.value-_e308.r.value);_s189=Xt(_n122,_o102,_l97,_t382[ma].matrixTransform(i),_t382[ga].matrixTransform(i),_t382[fa].matrixTransform(i));}_s189=Nt(_s189,o),_t382.setAttribute("gradientTransform",_s189.toString());}}}catch(err){_iterator189.e(err);}finally{_iterator189.f();}var _iterator190=_createForOfIteratorHelper(_h60),_step190;try{for(_iterator190.s();!(_step190=_iterator190.n()).done;){var _e309=_step190.value;var _s190=Zo(_e309),_n123=(_e309.hasAttribute("href")&&Wo(_e309),Ko(_e309)),_l98=_e309[wa],_a70=_e309[va],_h61=_e309[ya];if(_n123.length>1){var _i310=void 0;{var _t383=Li(_e309),_s191="";for(var _i311=0;_i311<Infinity&&(_s191=_e309.id+"-"+_i311,_t383.querySelector("#".concat(_s191)));_i311+=1){;}_i310=Ii("svg:pattern"),_i310.setAttribute("id",_s191),_i310.setAttribute("href","#"+_e309.id),_e309.after(_i310);}for(var _i312=0,_arr18=["fill","stroke"];_i312<_arr18.length;_i312++){var _s192=_arr18[_i312];t.style.getPropertyValue(_s192)==="url(\"#".concat(_e309.id,"\")")&&t.style.setProperty(_s192,"url(\"#".concat(_i310.id,"\")"));}_e309=_i310;}if(_s190.patternUnits===ra){var _t384=new DOMPoint(_s190.x.value,_s190.y.value),_n124=new DOMPoint(_s190.x.value+_s190.width.value,_s190.y.value),_r40=new DOMPoint(_s190.x.value+_s190.width.value,_s190.y.value+_s190.height.value),_d25=Xt(_t384,_n124,_r40,_l98.matrixTransform(i),_a70.matrixTransform(i),_h61.matrixTransform(i)),_c19=Nt(_d25,o);_e309.setAttribute("patternTransform",_c19.toString());}else if(_s190.patternUnits===ha){var _n125=Ei(t),_r41=_s190.x.valueInSpecifiedUnits,_d26=_s190.y.valueInSpecifiedUnits,_c20=_s190.width.valueInSpecifiedUnits,_p20=_s190.height.valueInSpecifiedUnits;_s190.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_r41/=100),_s190.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d26/=100),_s190.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c20/=100),_s190.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p20/=100);var _u19=new DOMPoint(_r41,_d26),_x66=new DOMPoint(_r41+_c20,_d26),_b17=new DOMPoint(_r41+_c20,_d26+_p20),_m17=new DOMPoint(_n125.x+_u19.x*_n125.width,_n125.y+_u19.y*_n125.height),_g17=new DOMPoint(_n125.x+_x66.x*_n125.width,_n125.y+_x66.y*_n125.height),_f13=new DOMPoint(_n125.x+_b17.x*_n125.width,_n125.y+_b17.y*_n125.height),_w12=_l98.matrixTransform(i),_v10=_a70.matrixTransform(i),_y2=_h61.matrixTransform(i),_k2=_w12.matrixTransform(_s190.patternTransform.inverse()),_S2=_v10.matrixTransform(_s190.patternTransform.inverse()),_3=_y2.matrixTransform(_s190.patternTransform.inverse()),_C2=Xt(_m17,_g17,_f13,_k2,_S2,_3),_M2=_s190.patternTransform.multiply(_C2);_M2=Nt(_M2,o),_e309.setAttribute("patternTransform",_M2.toString());}}}catch(err){_iterator190.e(err);}finally{_iterator190.f();}}},Ya=Math.abs;var qa=/*#__PURE__*/function(_HTMLElement42){_inherits(qa,_HTMLElement42);var _super43=_createSuper(qa);function qa(){_classCallCheck(this,qa);return _super43.apply(this,arguments);}_createClass(qa,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this143=this;this.Mn.style.cursor=null,this.Mn.workspaces.addEventListener("contextmenu",this.Pn=function(t){_this143.Dn(t);}),this.Mn.workspaces.addEventListener("pointerdown",this.zn=function(t){_this143.yn(t);});}},{key:"en",value:function en(){this.Mn.workspaces.removeEventListener("contextmenu",this.Pn),this.Mn.workspaces.removeEventListener("pointerdown",this.zn);}},{key:"Dn",value:function Dn(t){}},{key:"yn",value:function yn(t){var _this144=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e310,_i313,s=t.target,n=new DOMPoint(t.clientX,t.clientY);this.On=!1,window.addEventListener("pointermove",_e310=function e(i){var s=new DOMPoint(i.clientX,i.clientY);if(i.pointerId!==t.pointerId||_this144.Qs.pointers.length>1||Te(n,s)<3)return;window.removeEventListener("pointermove",_e310),_this144.On=!0;var o=new J(i.clientX-t.clientX,i.clientY-t.clientY),l=Ya(o.x)>Ya(o.y)?"horizontal":"vertical";_this144.En(t,i,l);}),window.addEventListener("pointerup",_i313=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e310),window.removeEventListener("pointerup",_i313);var l=new DOMPoint(o.clientX,o.clientY);Te(n,l)<3&&_this144._n(s,o);});}},{key:"_n",value:function _n(t,e){if(0!==e.button||this.On)return;var i=this.Mn.getHitWorkspaceElements(e.clientX,e.clientY);if(i.length>0){var _t385=i[i.length-1];2===this.Qs.pointerClickCount?this.Js.toggleTool("transform-tool"):this.Mn.isSelectableElement(_t385)&&this.Tn(_t385);}else this.An(e);}},{key:"Tn",value:function Tn(t){var e=this.Mn,_this$Qs$modKeys=this.Qs.modKeys,i=_this$Qs$modKeys.ctrl,s=_this$Qs$modKeys.alt,n=_this$Qs$modKeys.shift,o=this.$n(t),l=e.selectedElements.includes(t);var _iterator191=_createForOfIteratorHelper(o),_step191;try{for(_iterator191.s();!(_step191=_iterator191.n()).done;){var _t387=_step191.value;e.selectedElements.includes(_t387)&&(l=!0);}}catch(err){_iterator191.e(err);}finally{_iterator191.f();}if(!1===n){var _i314=null;for(var _s193=t.parentElement;_s193!==e.currentWorkspace;_s193=_s193.parentElement){if("g"===_s193.localName||"a"===_s193.localName){_i314=_s193;break;}}e.currentContainer=_i314,e.selectedElements=[t];}else if(!0===n){var _i315=e.currentContainer,_s194=e.selectedElements;if(_s194=_s194.includes(t)?_s194.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s194),[t]),0===_s194.length)_i315=null;else for(var _t386=_s194[0].parentElement;_t386!==e.currentWorkspace;_t386=_t386.parentElement){if("g"===_t386.localName||"a"===_t386.localName){_i315=_t386;break;}}e.currentContainer=_i315,e.selectedElements=_s194;}}},{key:"An",value:function An(t){if(0!==t.button)return;var _this$Qs$modKeys2=this.Qs.modKeys,e=_this$Qs$modKeys2.ctrl,i=_this$Qs$modKeys2.shift;e||i||(this.Mn.currentContainer=null,this.Mn.selectedElements=[]);}},{key:"En",value:function(){var _En=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee66(t,e,i){var s,n,o,_t388,_t389;return regeneratorRuntime.wrap(function _callee66$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:s=t.clientX,n=t.clientY,o=this.Qs.getConfig("bx-editsettings:selectionShape","rect");if(!(this.Qs.modKeys.ctrl&&("polygon"===o?o="rect":"rect"===o&&(o="polygon")),"rect"===o)){_context66.next=8;break;}_context66.next=4;return this.Mn.rubberBandHud.grabSelection(s,n,"rect");case 4:_t388=_context66.sent;this.Mn.pathHud.rubberBandSelectionCallback(_t388);_context66.next=13;break;case 8:if(!("polygon"===o)){_context66.next=13;break;}_context66.next=11;return this.Mn.rubberBandHud.grabSelection(s,n,"polygon");case 11:_t389=_context66.sent;this.Mn.pathHud.rubberBandSelectionCallback(_t389);case 13:case"end":return _context66.stop();}}},_callee66,this);}));function En(_x67,_x68,_x69){return _En.apply(this,arguments);}return En;}()},{key:"$n",value:function $n(t){var e=[];if(t!==this.Mn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Mn.currentWorkspace;){"g"!==(t=t.parentElement).localName&&"a"!==t.localName||e.unshift(t);}return e;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return qa;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qa,"observedAttributes",["enabled"]);customElements.define("bx-directselectcontext",qa);var Xa=/*#__PURE__*/function(_HTMLElement43){_inherits(Xa,_HTMLElement43);var _super44=_createSuper(Xa);function Xa(){_classCallCheck(this,Xa);return _super44.apply(this,arguments);}_createClass(Xa,[{key:"connectedCallback",value:function connectedCallback(){this.In=!1,this.Ln=!1,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this145=this;this.Mn.style.cursor="-webkit-grab",this.Mn.workspaces.addEventListener("pointerdown",this.zn=function(t){_this145.yn(t);}),window.addEventListener("keydown",this.fn=function(t){return _this145.wn(t);}),window.addEventListener("keyup",this.Rn=function(t){return _this145.Bn(t);});}},{key:"en",value:function en(){this.Mn.workspaces.removeEventListener("pointerdown",this.zn),this.Qs.removeEventListener("pointerschange",this.Gn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Fn),window.removeEventListener("keydown",this.fn),window.removeEventListener("keyup",this.Rn);}},{key:"yn",value:function yn(t){var _this146=this;if(0!==t.button||!1===t.isPrimary||this.Qs.pointers.length>1)return;this.Mn.style.cursor="-webkit-grabbing",this.Ln=!0;var e=new DOMPoint(t.clientX,t.clientY),i=e;window.addEventListener("pointermove",this.Un=function(s){if(s.pointerId!==t.pointerId)return;var n=new DOMPoint(s.clientX,s.clientY),o=s.timeStamp-t.timeStamp;if(Te(e,n)>=3||o>80){var _t390=new J(i,n);!1===_this146.In&&_this146.Mn.Nn(_t390.x,_t390.y),i=n;}}),window.addEventListener("pointerup",this.Fn=function(e){e.pointerId===t.pointerId&&(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Fn),_this146.Qs.removeEventListener("pointerschange",_this146.Gn),_this146.Ln=!1,!1===_this146.In&&(_this146.Mn.style.cursor="-webkit-grab"));}),this.Qs.addEventListener("pointerschange",this.Gn=function(){1===_this146.Qs.pointers.length&&!1!==_this146.Qs.pointers.has(t.pointerId)||(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Fn),_this146.Qs.removeEventListener("pointerschange",_this146.Gn),_this146.Ln=!1,!1===_this146.In&&(_this146.Mn.style.cursor="-webkit-grab"));});}},{key:"wn",value:function wn(t){if("Space"===t.code){"pan"===this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool")&&(this.In=!0,this.Mn.style.cursor="-webkit-grabbing");}}},{key:"Bn",value:function Bn(t){"Space"===t.code&&(this.In=!1,!1===this.Ln&&(this.Mn.style.cursor="-webkit-grab"));}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Xa;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xa,"observedAttributes",["enabled"]);customElements.define("bx-pancontext",Xa);var Za=Math.abs,Ka=Math.floor,Qa=Math.max,Ja=function Ja(t,e){var i=xe(new J(t[1]),new J(t[0])),s=xe(new J(t[t.length-3]),new J(t[t.length-2]));return i=i.normalize(),s=s.normalize(),th(t,0,t.length-1,i,s,e);},th=function th(t,e,i,s,n,o){if(i-e==1){var _o103=t[e],_l99=t[i],_a71=Te(_o103,_l99)/3,_h62=new J(_o103),_r42=new J(_l99),_d27=be(_h62,s.scale(_a71)),_c21=be(_r42,n.scale(_a71));return[[_o103,new DOMPoint(_d27.x,_d27.y),new DOMPoint(_c21.x,_c21.y),_l99]];}var l,a=ih(t,e,i),h=Qa(o,o*o);for(var _r43=0;_r43<=4;_r43+=1){var _r44=eh(t,e,i,a,s,n),_lh=lh(t,e,i,_r44,a),_lh2=_slicedToArray(_lh,2),_d28=_lh2[0],_c22=_lh2[1];if(_d28<o)return[_r44];if(l=_c22,_d28>=h)break;sh(t,e,i,a,_r44),h=_d28;}var r=xe(new J(t[l-1]),new J(t[l])),d=xe(new J(t[l]),new J(t[l+1])),c=be(r,d).multiply(.5).normalize(),p=th(t,e,l,s,c,o),u=th(t,l,i,c.multiply(-1),n,o);return p.concat(u);},eh=function eh(t,e,i,s,n,o){var l=t[e],a=t[i],h=new J(l),r=new J(a),d=[[0,0],[0,0]],c=[0,0],p=i-e+1;for(var _i316=0;_i316<p;_i316+=1){var _l100=s[_i316],_a72=1-_l100,_p21=3*_l100*_a72,_u20=_a72*_a72*_a72,_x70=_p21*_a72,_b18=_p21*_l100,_m18=_l100*_l100*_l100,_g18=n.scale(_x70),_f14=o.scale(_b18);d[0][0]+=ue(_g18,_g18),d[0][1]+=ue(_g18,_f14),d[1][0]=d[0][1],d[1][1]+=ue(_f14,_f14);var _w13=new J(t[e+_i316]);_w13=xe(_w13,h.multiply(_u20+_x70)),_w13=xe(_w13,r.multiply(_b18+_m18)),c[0]+=ue(_g18,_w13),c[1]+=ue(_f14,_w13);}var u,x,b=d[0][0]*d[1][1]-d[1][0]*d[0][1],m=1e-6;if(Za(b)>m){var _t391=d[0][0]*c[1]-d[1][0]*c[0];u=(c[0]*d[1][1]-c[1]*d[0][1])/b,x=_t391/b;}else{var _t392=d[0][0]+d[0][1],_e311=d[1][0]+d[1][1];u=x=Za(_t392)>m?c[0]/_t392:Za(_e311)>m?c[1]/_e311:0;}var g=Te(a,l);m*=g,(u<m||x<m)&&(u=x=g/3);var f=be(h,n.scale(u)),w=be(r,o.scale(x));return[l,new DOMPoint(f.x,f.y),new DOMPoint(w.x,w.y),a];},ih=function ih(t,e,i){var s=[0];for(var _n126=e+1;_n126<=i;_n126+=1){s[_n126-e]=s[_n126-e-1]+Te(t[_n126],t[_n126-1]);}for(var _t393=1,_n127=i-e;_t393<=_n127;_t393+=1){s[_t393]/=s[i-e];}return s;},sh=function sh(t,e,i,s,n){var o=[];for(var _l101=e;_l101<=i;_l101+=1){o[_l101-e]=nh(n,t[_l101],s[_l101-e]);}return o;},nh=function nh(t,e,i){var s=[],n=[];for(var _e312=0;_e312<=2;_e312+=1){var _i317=xe(new J(t[_e312+1]),new J(t[_e312]));s[_e312]=_i317.multiply(3);}for(var _t394=0;_t394<=1;_t394++){var _e313=xe(s[_t394+1],s[_t394]);n[_t394]=_e313.multiply(2);}var o=oh(3,t,i),l=oh(2,s,i),a=oh(1,n,i),h=xe(o,new J(e)),r=ue(l,l)+ue(h,a);return Za(r)<1e-6?i:i-ue(h,l)/r;},oh=function oh(t,e,i){var s=e.map(function(t){return new J(t);});for(var n=1;n<=t;n+=1){for(var o=0;o<=t-n;o+=1){s[o]=be(s[o].multiply(1-i),s[o+1].multiply(i));}}return s[0];},lh=function lh(t,e,i,s,n){var o=Ka((i-e+1)/2),l=0;for(var _a73=e+1;_a73<i;_a73++){var _i318=xe(oh(3,s,n[_a73-e]),new J(t[_a73])).length;_i318>=l&&(l=_i318,o=_a73);}return[l,o];},ah={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var hh=/*#__PURE__*/function(_HTMLElement44){_inherits(hh,_HTMLElement44);var _super45=_createSuper(hh);_createClass(hh,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hh(){_classCallCheck(this,hh);return _super45.call(this);}_createClass(hh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function(){var _tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee67(){var _this147=this;return regeneratorRuntime.wrap(function _callee67$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:this.Vn=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),this.Mn.pathHud.passive=!0,this.Mn.style.cursor="crosshair",this.Qs.addEventListener("configchange",this.nn=function(t){_this147.ln(t.detail);}),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this147.yn(t);}),this.Mn.pathHud.addEventListener("pointerdown",this.jn=function(t){_this147.Hn(t);});case 1:case"end":return _context67.stop();}}},_callee67,this);}));function tn(){return _tn.apply(this,arguments);}return tn;}()},{key:"en",value:function en(){this.Mn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.nn),this.Mn.workspaces.removeEventListener("pointerdown",this.vn),this.Mn.pathHud.removeEventListener("pointerdown",this.jn),this.Mn.freehandHud.hide();}},{key:"ln",value:function ln(_ref61){var t=_ref61.key,e=_ref61.value;"bx-freehandsettings:smoothing"===t&&null!==e&&(this.Vn=e);}},{key:"Hn",value:function Hn(t){var _this148=this;var e=this.Mn,i=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY);if(i){var _s195,_n130,_o104=i.index,_l102=i.path,_a74=dt(_l102.getPathData());{var _t395=-1;var _iterator192=_createForOfIteratorHelper(_a74),_step192;try{for(_iterator192.s();!(_step192=_iterator192.n()).done;){var _e314=_step192.value;var _iterator193=_createForOfIteratorHelper(_e314),_step193;try{for(_iterator193.s();!(_step193=_iterator193.n()).done;){var _n129=_step193.value;if(_t395+=1,_t395===i.index){_s195=_e314;break;}}}catch(err){_iterator193.e(err);}finally{_iterator193.f();}}}catch(err){_iterator192.e(err);}finally{_iterator192.f();}}e.freehandHud.show(_l102,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_n130=function _n128(t){e.removeEventListener("pointerup",_n130);var h=e.freehandHud.points,r=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),d=r?r.index:null,c=r?r.path:null,p=null,u=null,x=!1;if(c){p=c===_l102?_a74:dt(c.getPathData());{var _t396=-1;var _iterator194=_createForOfIteratorHelper(p),_step194;try{for(_iterator194.s();!(_step194=_iterator194.n()).done;){var _e315=_step194.value;var _iterator195=_createForOfIteratorHelper(_e315),_step195;try{for(_iterator195.s();!(_step195=_iterator195.n()).done;){var _i319=_step195.value;if(_t396+=1,_t396===r.index){u=_e315;break;}}}catch(err){_iterator195.e(err);}finally{_iterator195.f();}}}catch(err){_iterator194.e(err);}finally{_iterator194.f();}}c===_l102&&d===_o104&&(x=!0);}if(h.length>0&&!1===x)if(_this148.Mn.undoManager.checkpoint("Add path segments"),r){var _ref62;if(_s195===u){if("start"===i.position){var _s196;var _t398=pt(_s195);_s195.length=0,(_s196=_s195).push.apply(_s196,_toConsumableArray(_t398));}if(1===h.length||2===h.length)_s195.push({type:"L",values:[h[h.length-1].x,h[h.length-1].y]});else if(h.length>=3){var _iterator196=_createForOfIteratorHelper(Ja(h,6*_this148.Vn/e.scale)),_step196;try{for(_iterator196.s();!(_step196=_iterator196.n()).done;){var _t399=_step196.value;_s195.push({type:"C",values:[_t399[1].x,_t399[1].y,_t399[2].x,_t399[2].y,_t399[3].x,_t399[3].y]});}}catch(err){_iterator196.e(err);}finally{_iterator196.f();}}_s195.push({type:"Z",values:[]});}else{var _s198;if("start"===i.position){var _s197;var _t401=pt(_s195);_s195.length=0,(_s197=_s195).push.apply(_s197,_toConsumableArray(_t401));}var _t400=le(u,Yt(c,_l102));if("end"===r.position&&(_t400=pt(_t400)),1===h.length||2===h.length)_s195.push({type:"L",values:[h[h.length-1].x,h[h.length-1].y]});else if(h.length>=3){var _iterator197=_createForOfIteratorHelper(Ja(h,6*_this148.Vn/e.scale)),_step197;try{for(_iterator197.s();!(_step197=_iterator197.n()).done;){var _t402=_step197.value;_s195.push({type:"C",values:[_t402[1].x,_t402[1].y,_t402[2].x,_t402[2].y,_t402[3].x,_t402[3].y]});}}catch(err){_iterator197.e(err);}finally{_iterator197.f();}}(_s198=_s195).push.apply(_s198,_toConsumableArray(_t400.slice(1))),u.length=0;}var _iterator198=_createForOfIteratorHelper(_s195),_step198;try{for(_iterator198.s();!(_step198=_iterator198.n()).done;){var _t404=_step198.value;_t404.values=_t404.values.map(function(t){return tt(t,e.geometryPrecision);});}}catch(err){_iterator198.e(err);}finally{_iterator198.f();}var _t397=(_ref62=[]).concat.apply(_ref62,_toConsumableArray(_a74));if(_l102.setPathData(_t397),c!==_l102){var _ref63;var _t403=(_ref63=[]).concat.apply(_ref63,_toConsumableArray(p));c.setPathData(_t403),0===_t403.length&&(c.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==c;}));}}else{var _ref64;if("start"===i.position){var _s199;var _t406=pt(_s195);_s195.length=0,(_s199=_s195).push.apply(_s199,_toConsumableArray(_t406));}if(1===h.length||2===h.length)_s195.push({type:"L",values:[h[h.length-1].x,h[h.length-1].y]});else if(h.length>=3){var _iterator199=_createForOfIteratorHelper(Ja(h,6*_this148.Vn/e.scale)),_step199;try{for(_iterator199.s();!(_step199=_iterator199.n()).done;){var _t407=_step199.value;_s195.push({type:"C",values:[_t407[1].x,_t407[1].y,_t407[2].x,_t407[2].y,_t407[3].x,_t407[3].y]});}}catch(err){_iterator199.e(err);}finally{_iterator199.f();}}var _iterator200=_createForOfIteratorHelper(_s195),_step200;try{for(_iterator200.s();!(_step200=_iterator200.n()).done;){var _t408=_step200.value;_t408.values=_t408.values.map(function(t){return tt(t,e.geometryPrecision);});}}catch(err){_iterator200.e(err);}finally{_iterator200.f();}var _t405=(_ref64=[]).concat.apply(_ref64,_toConsumableArray(_a74));_l102.setPathData(_t405);}e.freehandHud.clear(),e.freehandHud.hide();});}}},{key:"yn",value:function yn(t){var _this149=this;if(1!==t.buttons)return;var _e316,_i320,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e316=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Te(s,n)<3||(window.removeEventListener("pointermove",_e316),_this149.En(t));}),window.addEventListener("pointerup",_i320=function i(t){window.removeEventListener("pointermove",_e316),window.removeEventListener("pointerup",_i320);});}},{key:"En",value:function En(t){var _this150=this;var e=this.Mn,i=e.currentContainer||e.currentWorkspace,s=this.Qs.getConfig("bx-freehandsettings:style",ah);e.undoManager.checkpoint("Freehand path");var n=Ii("svg:path");n.style.stroke="black",n.style.fill="none",i.append(n);var _o105,l=qt(n).inverse(),a=t.clientX,h=t.clientY,_DOMPoint$matrixTrans2=new DOMPoint(a,h).matrixTransform(l),r=_DOMPoint$matrixTrans2.x,d=_DOMPoint$matrixTrans2.y,c=[{type:"M",values:[r,d]}];n.setPathData(c),rl(n,s),e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[n]),e.freehandHud.show(n,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_o105=function o(t){e.removeEventListener("pointerup",_o105);var i=e.freehandHud.points,s=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),l=s?s.path:null,a=null,h=null;if(i.length>0)if(null===l){n.getAttribute("d");if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _t409=Ja(i,6*_this150.Vn/e.scale);var _iterator201=_createForOfIteratorHelper(_t409),_step201;try{for(_iterator201.s();!(_step201=_iterator201.n()).done;){var _e317=_step201.value;c.push({type:"C",values:[_e317[1].x,_e317[1].y,_e317[2].x,_e317[2].y,_e317[3].x,_e317[3].y]});}}catch(err){_iterator201.e(err);}finally{_iterator201.f();}}n.setPathData(c),e.freehandHud.clear(),e.freehandHud.hide();}else{var _ref65;{var _t411=Yt(l,n);l.setAttribute("transform",_t411.toString()),ka(l,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision,preserveRotation:!1});}{a=dt(l.getPathData());var _t412=-1;var _iterator202=_createForOfIteratorHelper(a),_step202;try{for(_iterator202.s();!(_step202=_iterator202.n()).done;){var _e318=_step202.value;var _iterator203=_createForOfIteratorHelper(_e318),_step203;try{for(_iterator203.s();!(_step203=_iterator203.n()).done;){var _i321=_step203.value;if(_t412+=1,_t412===s.index){h=_e318;break;}}}catch(err){_iterator203.e(err);}finally{_iterator203.f();}}}catch(err){_iterator202.e(err);}finally{_iterator202.f();}}if("end"===s.position){var _h63;var _t413=pt(h);h.length=0,(_h63=h).push.apply(_h63,_toConsumableArray(_t413));}if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _iterator204=_createForOfIteratorHelper(Ja(i,6*_this150.Vn/e.scale)),_step204;try{for(_iterator204.s();!(_step204=_iterator204.n()).done;){var _t414=_step204.value;c.push({type:"C",values:[_t414[1].x,_t414[1].y,_t414[2].x,_t414[2].y,_t414[3].x,_t414[3].y]});}}catch(err){_iterator204.e(err);}finally{_iterator204.f();}}c.push.apply(c,_toConsumableArray(h.slice(1))),h.length=0;var _iterator205=_createForOfIteratorHelper(c),_step205;try{for(_iterator205.s();!(_step205=_iterator205.n()).done;){var _t415=_step205.value;_t415.values=_t415.values.map(function(t){return tt(t,e.geometryPrecision);});}}catch(err){_iterator205.e(err);}finally{_iterator205.f();}n.setPathData(c);var _t410=(_ref65=[]).concat.apply(_ref65,_toConsumableArray(a));l.setPathData(_t410),0===_t410.length&&(l.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==l;}));}e.freehandHud.clear(),e.freehandHud.hide();});}}]);return hh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hh,"observedAttributes",["enabled"]);customElements.define("bx-freehandcontext",hh);var rh=/*#__PURE__*/function(_HTMLElement45){_inherits(rh,_HTMLElement45);var _super46=_createSuper(rh);_createClass(rh,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t,this.qs();}},{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"shape";},set:function set(t){this.setAttribute("type",t);}}]);function rh(){var _this151;_classCallCheck(this,rh);_this151=_super46.call(this),_this151._t=null,_this151._shadowRoot=_this151.attachShadow({mode:"closed"}),_this151._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,rh._shadowStyleSheet],_this151._shadowRoot.append(document.importNode(rh._shadowTemplate.content,!0));var _iterator206=_createForOfIteratorHelper(_this151._shadowRoot.querySelectorAll("[id]")),_step206;try{for(_iterator206.s();!(_step206=_iterator206.n()).done;){var _t416=_step206.value;_this151["#"+_t416.id]=_t416;}}catch(err){_iterator206.e(err);}finally{_iterator206.f();}_this151["#grab-button"].addEventListener("toggle",function(){return _this151.Wn();}),_this151["#reset-button"].addEventListener("click",function(){return _this151.Yn();});return _this151;}_createClass(rh,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.qs();}},{key:"Wn",value:function(){var _Wn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){var t;return regeneratorRuntime.wrap(function _callee68$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:_context68.next=2;return this.Js.objectGrabber.grab();case 2:t=_context68.sent;this["#grab-button"].toggled=!1,t&&(this._t=function(t){var e={},i=getComputedStyle(t),s=hl(t);!1===t.isConnected&&console.warn("getAppearance() called with a disconnected element.");var _iterator207=_createForOfIteratorHelper(s),_step207;try{for(_iterator207.s();!(_step207=_iterator207.n()).done;){var _n131=_step207.value;if("fill"===_n131||"stroke"===_n131){var _s200=el(t,_n131);if(_s200){var _t417=_s200.localName;if("linearGradient"===_t417||"radialGradient"===_t417){var _i322="";var _iterator208=_createForOfIteratorHelper($o(_s200)),_step208;try{for(_iterator208.s();!(_step208=_iterator208.n()).done;){var _t418=_step208.value;var _e319=_t418.offset.baseVal,_s201=getComputedStyle(_t418).stopColor,_n132=getComputedStyle(_t418).stopOpacity,_o106="stop-color: ".concat(_s201,";");"1"!==_n132&&(_o106+=" stop-opacity: ".concat(_n132)),_i322+="<stop offset=\"".concat(_e319,"\" style=\"").concat(_o106,"\"></stop>");}}catch(err){_iterator208.e(err);}finally{_iterator208.f();}"linearGradient"===_t417?e[_n131]="<linearGradient x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">".concat(_i322,"</linearGradient>"):"radialGradient"===_t417&&(e[_n131]="<radialGradient r=\"0.8\">".concat(_i322,"</radialGradient>"));}else"pattern"===_t417&&(e[_n131]="black");}else e[_n131]=i[_n131];}else"font-family"===_n131&&i[_n131].startsWith('"')&&i[_n131].endsWith('"')?e[_n131]=i[_n131].slice(1,-1):e[_n131]=i[_n131];}}catch(err){_iterator207.e(err);}finally{_iterator207.f();}return e;}(t),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs());case 4:case"end":return _context68.stop();}}},_callee68,this);}));function Wn(){return _Wn.apply(this,arguments);}return Wn;}()},{key:"Yn",value:function Yn(){this._t=null,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs();}},{key:"qs",value:function qs(){if(this["#reset-button"].disabled=null===this.value,null===this.value){var _t419;"text"===this.type?_t419=I:"shape"===this.type?_t419=A:"outline-shape"===this.type?_t419=$:"path"===this.type&&(_t419=L),rl(this["#thumbnail-rect"],_t419);}else rl(this["#thumbnail-rect"],this.value);}}]);return rh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rh,"_shadowTemplate",Qi(_templateObject193()));_defineProperty(rh,"_shadowStyleSheet",Ji(_templateObject194()));customElements.define("bx-stylepicker",rh);var dh=/*#__PURE__*/function(_HTMLElement46){_inherits(dh,_HTMLElement46);var _super47=_createSuper(dh);_createClass(dh,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function dh(){var _this152;_classCallCheck(this,dh);_this152=_super47.call(this),_this152._shadowRoot=_this152.attachShadow({mode:"closed"}),_this152._shadowRoot.append(document.importNode(_this152.constructor._shadowTemplate.content,!0)),_this152._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,dh._shadowStyleSheet,_this152.constructor._shadowStyleSheet];var _iterator209=_createForOfIteratorHelper(_this152._shadowRoot.querySelectorAll("[id]")),_step209;try{for(_iterator209.s();!(_step209=_iterator209.n()).done;){var _t420=_step209.value;_this152["#"+_t420.id]=_t420;}}catch(err){_iterator209.e(err);}finally{_iterator209.f();}_this152.setAttribute("extends","bx-toolsettings");return _this152;}_createClass(dh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){}},{key:"en",value:function en(){}}]);return dh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dh,"observedAttributes",["enabled"]);_defineProperty(dh,"_shadowStyleSheet",Ji(_templateObject195()));var ch={size:{param:"pressure",variance:.5}},ph={fill:"rgb(166, 209, 48)",stroke:"rgb(129, 151, 57)","stroke-width":"2px"},uh='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n';var xh=/*#__PURE__*/function(_dh){_inherits(xh,_dh);var _super48=_createSuper(xh);function xh(){var _this153;_classCallCheck(this,xh);_this153=_super48.call(this),_this153["#mode-buttons"].addEventListener("toggle",function(){return _this153.qn();}),_this153["#geometry-preview"].addEventListener("pointerdown",function(t){return _this153.Xn(t);}),_this153["#size-box"].addEventListener("changestart",function(){return _this153.Zn();}),_this153["#roundness-box"].addEventListener("changestart",function(){return _this153.Kn();}),_this153["#angle-box"].addEventListener("changestart",function(){return _this153.Qn();}),_this153["#size-dynamics-param-select"].addEventListener("change",function(t){return _this153.Jn(t);}),_this153["#size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.Jn(t);}),_this153["#roundness-dynamics-param-select"].addEventListener("change",function(t){return _this153.Jn(t);}),_this153["#roundness-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.Jn(t);}),_this153["#angle-dynamics-param-select"].addEventListener("change",function(t){return _this153.Jn(t);}),_this153["#angle-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.Jn(t);}),_this153["#style-picker"].addEventListener("change",function(){return _this153.eo();});return _this153;}_createClass(xh,[{key:"tn",value:function tn(){var _this154=this;this.io(),this.so(),this.Qs.addEventListener("configchange",this.nn=function(t){_this154.ln(t);});}},{key:"en",value:function en(){this.Qs.removeEventListener("configchange",this.nn);}},{key:"ln",value:function ln(t){var _t$detail=t.detail,e=_t$detail.key,i=_t$detail.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||(this.io(),this.so());}},{key:"qn",value:function qn(){this.Qs.setConfig("bx-blobsettings:mode",this["#mode-buttons"].value);}},{key:"Xn",value:function Xn(t){var _this155=this;if(1!==t.buttons)return;var e,_i324,s=qt(this["#geometry-preview"]).inverse(),n=new DOMPoint(50,50),o=this["#size-slider"].value,l=this["#roundness-slider"].value,a=this["#angle-slider"].value;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);if(t.shiftKey)o=Te(n,e)/(_this155["#roundness-slider"].value/100),o=et(o,1,40,0);else{var _t421=_this155["#size-slider"].value,_i323=Te(n,e);l=_i323/_t421*100,l=et(l,1,100,0);}a=Ge(n,new DOMPoint(50,0),e),a=et(a,-180,180,0),_this155["#size-slider"].value=o,_this155["#size-input"].value=o,_this155["#roundness-slider"].value=l,_this155["#roundness-input"].value=l,_this155["#angle-slider"].value=a,_this155["#angle-input"].value=a,_this155.so();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i324=function i(){_this155["#geometry-preview"].removeEventListener("pointermove",e),_this155["#geometry-preview"].removeEventListener("lostpointercapture",_i324),_this155.Qs.setConfig("bx-blobsettings:size",o),_this155.Qs.setConfig("bx-blobsettings:roundness",l),_this155.Qs.setConfig("bx-blobsettings:angle",a);});}},{key:"Zn",value:function Zn(){var _this156=this;var t,_e320;this["#size-box"].addEventListener("change",t=function t(_t422){_t422.target===_this156["#size-slider"]?_this156["#size-input"].value=_this156["#size-slider"].value:_t422.target===_this156["#size-input"]&&(_this156["#size-slider"].value=_this156["#size-input"].value),_this156.so();}),this["#size-box"].addEventListener("changeend",_e320=function e(){_this156["#size-box"].removeEventListener("change",t),_this156["#size-box"].removeEventListener("changeend",_e320),_this156.Qs.setConfig("bx-blobsettings:size",_this156["#size-input"].value);});}},{key:"Kn",value:function Kn(){var _this157=this;var t,_e321;this["#roundness-box"].addEventListener("change",t=function t(_t423){_t423.target===_this157["#roundness-slider"]?_this157["#roundness-input"].value=_this157["#roundness-slider"].value:_t423.target===_this157["#roundness-input"]&&(_this157["#roundness-slider"].value=_this157["#roundness-input"].value),_this157.so();}),this["#roundness-box"].addEventListener("changeend",_e321=function e(){_this157["#roundness-box"].removeEventListener("change",t),_this157["#roundness-box"].removeEventListener("changeend",_e321),_this157.Qs.setConfig("bx-blobsettings:roundness",_this157["#roundness-slider"].value);});}},{key:"Qn",value:function Qn(){var _this158=this;var t,_e322;this["#angle-box"].addEventListener("change",t=function t(_t424){_t424.target===_this158["#angle-slider"]?_this158["#angle-input"].value=_this158["#angle-slider"].value:_t424.target===_this158["#angle-input"]&&(_this158["#angle-slider"].value=_this158["#angle-input"].value),_this158.so();}),this["#angle-box"].addEventListener("changeend",_e322=function e(){_this158["#angle-box"].removeEventListener("change",t),_this158["#angle-box"].removeEventListener("changeend",_e322),_this158.Qs.setConfig("bx-blobsettings:angle",_this158["#angle-slider"].value);});}},{key:"Jn",value:function Jn(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#size-dynamics-param-select"].value&&(e.size={param:this["#size-dynamics-param-select"].value,variance:this["#size-dynamics-variance-input"].value/100}),"none"!==this["#roundness-dynamics-param-select"].value&&(e.roundness={param:this["#roundness-dynamics-param-select"].value,variance:this["#roundness-dynamics-variance-input"].value/100}),"none"!==this["#angle-dynamics-param-select"].value&&(e.angle={param:this["#angle-dynamics-param-select"].value,variance:this["#angle-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-blobsettings:dynamics",e),this.io();}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-blobsettings:style",this["#style-picker"].value);}},{key:"io",value:function io(){var t=this.Qs.getConfig("bx-blobsettings:mode","draw"),e=this.Qs.getConfig("bx-blobsettings:size",30),i=this.Qs.getConfig("bx-blobsettings:roundness",100),s=this.Qs.getConfig("bx-blobsettings:angle",0),n=this.Qs.getConfig("bx-blobsettings:dynamics",ch),o=this.Qs.getConfig("bx-blobsettings:style",ph);this["#mode-buttons"].value=t,this["#size-slider"].value=e,this["#size-input"].value=e,this["#roundness-slider"].value=i,this["#roundness-input"].value=i,this["#angle-slider"].value=s,this["#angle-input"].value=s,n.size?(this["#size-dynamics-param-select"].value=n.size.param,this["#size-dynamics-variance-input"].value=tt(100*n.size.variance,0),this["#size-dynamics-variance-input"].disabled=!1):(this["#size-dynamics-param-select"].value="none",this["#size-dynamics-variance-input"].value=0,this["#size-dynamics-variance-input"].disabled=!0),n.roundness?(this["#roundness-dynamics-param-select"].value=n.roundness.param,this["#roundness-dynamics-variance-input"].value=tt(100*n.roundness.variance,0),this["#roundness-dynamics-variance-input"].disabled=!1):(this["#roundness-dynamics-param-select"].value="none",this["#roundness-dynamics-variance-input"].value=0,this["#roundness-dynamics-variance-input"].disabled=!0),n.angle?(this["#angle-dynamics-param-select"].value=n.angle.param,this["#angle-dynamics-variance-input"].value=tt(100*n.angle.variance,0),this["#angle-dynamics-variance-input"].disabled=!1):(this["#angle-dynamics-param-select"].value="none",this["#angle-dynamics-variance-input"].value=0,this["#angle-dynamics-variance-input"].disabled=!0),this["#style-picker"].value=o;}},{key:"so",value:function so(){var t=this["#size-slider"].value,e=this["#roundness-slider"].value/100*t,i=this["#angle-slider"].value,s=new DOMMatrix().translate(50,50).rotate(i).translate(-50,-50),n=new DOMPoint(50,50-e).matrixTransform(s);this["#geometry-preview-shape"].style.rx="".concat(t),this["#geometry-preview-shape"].style.ry="".concat(e),this["#geometry-preview-shape"].style.transform="rotate(".concat(i,"deg)"),this["#geometry-preview-grippie"].style.cx=n.x,this["#geometry-preview-grippie"].style.cy=n.y;}}]);return xh;}(dh);_defineProperty(xh,"_shadowTemplate",Qi(_templateObject196(),uh,uh,uh));_defineProperty(xh,"_shadowStyleSheet",Ji(_templateObject197()));customElements.define("bx-blobsettings",xh);var _window5=window,bh=_window5.tokenize,mh=_window5.EOFToken;var gh=/*#__PURE__*/function(){_createClass(gh,[{key:"items",get:function get(){return this.no;},set:function set(t){this.no=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-family>";}}]);function gh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,gh);this.no=_toConsumableArray(t);}_createClass(gh,[{key:"toString",value:function toString(){return this.items.map(function(t){return b.includes(t)?t:"\"".concat(t,"\"");}).join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(bh(t)),[new mh()]),s=new Tt(i),n=[];if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected STRING or IDENT token.","SyntaxError");return null;}for(n.push(s.currentToken.value);;){var _t425=!1;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),","===s.currentToken.tokenType&&(_t425=!0,s.read()),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if("EOF"===s.currentToken.tokenType){if(_t425){if(e)throw new DOMException("Unexpected trailing comma.","SyntaxError");return null;}return new gh(n);}if(e)throw new DOMException("Unexpected token \"".concat(s.currentToken.tokenType,"\"."),"SyntaxError");return null;}if(!_t425){if(e)throw new DOMException("Unexpected STRING or IDENT token.","SyntaxError");return null;}n.push(s.currentToken.value);}}}]);return gh;}();var fh=function fh(t){var e=[],i=!1;var _iterator210=_createForOfIteratorHelper(t.querySelectorAll("style")),_step210;try{for(_iterator210.s();!(_step210=_iterator210.n()).done;){var _i330=_step210.value;var _t431={},_s206=[];var _iterator215=_createForOfIteratorHelper(_i330.sheet.cssRules),_step215;try{for(_iterator215.s();!(_step215=_iterator215.n()).done;){var _e327=_step215.value;if(_e327.type===CSSRule.FONT_FACE_RULE){var _i331=gh.fromString(_e327.style.fontFamily).items[0];void 0===_t431[_i331]&&(_t431[_i331]=[]),_t431[_i331].push(_e327);}else if(_e327.type===CSSRule.IMPORT_RULE){if(_e327.href.startsWith("https://fonts.googleapis.com/css2")){var _i332=new URL(_e327.href),_s207=new URLSearchParams(_i332.search);var _iterator216=_createForOfIteratorHelper(_s207.getAll("family")),_step216;try{for(_iterator216.s();!(_step216=_iterator216.n()).done;){var _n135=_step216.value;var _n135$split=_n135.split(":"),_n135$split2=_slicedToArray(_n135$split,1),_s208=_n135$split2[0],_o108=new URLSearchParams(_i332.search);_o108.set("family",_n135);var _l104="https://fonts.googleapis.com/css2?"+decodeURIComponent(_o108.toString());void 0===_t431[_s208]&&(_t431[_s208]=[]),_t431[_s208].push({cssText:"@import url(\"".concat(encodeURI(_l104),"\");"),href:_l104,type:_e327.type});}}catch(err){_iterator216.e(err);}finally{_iterator216.f();}}else if(_e327.href.startsWith("https://fonts.googleapis.com/css")){var _i333=new URL(_e327.href),_s209=new URLSearchParams(_i333.search);var _iterator217=_createForOfIteratorHelper(_s209.get("family").split("|")),_step217;try{for(_iterator217.s();!(_step217=_iterator217.n()).done;){var _n136=_step217.value;var _n136$split=_n136.split(":"),_n136$split2=_slicedToArray(_n136$split,1),_s210=_n136$split2[0],_o109=new URLSearchParams(_i333.search);_o109.set("family",_n136);var _l105="https://fonts.googleapis.com/css?"+decodeURIComponent(_o109.toString());void 0===_t431[_s210]&&(_t431[_s210]=[]),_t431[_s210].push({cssText:"@import url(\"".concat(encodeURI(_l105),"\");"),href:_l105,type:_e327.type});}}catch(err){_iterator217.e(err);}finally{_iterator217.f();}}else _s206.push(_e327);}else _s206.push(_e327);}}catch(err){_iterator215.e(err);}finally{_iterator215.f();}(Object.keys(_t431).length>0||_i330.hasAttribute("data-bx-fonts"))&&e.push({styleElement:_i330,fontRulesByFamily:_t431,otherRules:_s206});}}catch(err){_iterator210.e(err);}finally{_iterator210.f();}{var _t426=[];for(var _i325=0,_e323=e;_i325<_e323.length;_i325++){var _s202=_e323[_i325];var _e324=_s202.styleElement,_n133=_s202.fontRulesByFamily,_o107=_s202.otherRules,_l103=Object.keys(_n133);if(0===_l103.length){if(_e324.hasAttribute("data-bx-fonts")){i=!0;break;}}else if(1===_l103.length){var _s203=_l103[0];if(_t426.includes(_s203)){i=!0;break;}if(_e324.getAttribute("data-bx-fonts"!==_s203)){i=!0;break;}if(_o107.length>0){i=!0;break;}}else if(_l103.length>1){i=!0;break;}_t426.push.apply(_t426,_toConsumableArray(_l103));}}if(!0===i){var _iterator211=_createForOfIteratorHelper(e),_step211;try{for(_iterator211.s();!(_step211=_iterator211.n()).done;){var _t427=_step211.value;var _loop4=function _loop4(){var _n$fontRulesByFamily$;var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i326],2),i=_Object$entries2$_i[0],s=_Object$entries2$_i[1];var n=e.find(function(t){return void 0!==t.fontRulesByFamily[i];});n!==_t427&&((_n$fontRulesByFamily$=n.fontRulesByFamily[i]).push.apply(_n$fontRulesByFamily$,_toConsumableArray(s)),delete _t427.fontRulesByFamily[i]);};for(var _i326=0,_Object$entries2=Object.entries(_t427.fontRulesByFamily);_i326<_Object$entries2.length;_i326++){_loop4();}}}catch(err){_iterator211.e(err);}finally{_iterator211.f();}var _iterator212=_createForOfIteratorHelper(e),_step212;try{for(_iterator212.s();!(_step212=_iterator212.n()).done;){var _step212$value=_step212.value,_t428=_step212$value.styleElement,_i327=_step212$value.fontRulesByFamily,_s204=_step212$value.otherRules;for(var _i328=0,_Object$entries3=Object.entries(_i327);_i328<_Object$entries3.length;_i328++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i328],2),_e325=_Object$entries3$_i[0],_s205=_Object$entries3$_i[1];var _i329=Ii("svg:style"),_n134="";_s205.sort(function(t){return t.type===CSSRule.IMPORT_RULE?-1:1;});var _iterator213=_createForOfIteratorHelper(_s205),_step213;try{for(_iterator213.s();!(_step213=_iterator213.n()).done;){var _t429=_step213.value;_n134+=_t429.cssText;}}catch(err){_iterator213.e(err);}finally{_iterator213.f();}_i329.textContent=_n134,_i329.setAttribute("data-bx-fonts",_e325),_t428.hasAttribute("data-bx-pinned")&&_i329.setAttribute("data-bx-pinned",""),_t428.before(_i329);}if(0===_s204.length)_t428.remove();else{var _e326="";var _iterator214=_createForOfIteratorHelper(_s204),_step214;try{for(_iterator214.s();!(_step214=_iterator214.n()).done;){var _t430=_step214.value;_e326+=_t430.cssText;}}catch(err){_iterator214.e(err);}finally{_iterator214.f();}_t428.removeAttribute("data-bx-fonts"),_t428.removeAttribute("data-bx-pinned"),_t428.textContent=_e326;}}}catch(err){_iterator212.e(err);}finally{_iterator212.f();}}},wh=function wh(t){switch(t){case"normal":return"400";case"bold":return"700";default:return t;}},vh=function vh(t){switch(wh(t)){case"100":return"Thin";case"200":return"Extra-Light";case"300":return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:return"Normal";}},yh=function yh(t,e){var _iterator218=_createForOfIteratorHelper(F[t]),_step218;try{for(_iterator218.s();!(_step218=_iterator218.n()).done;){var _i334=_step218.value;if(e.includes(_i334))return _i334;}}catch(err){_iterator218.e(err);}finally{_iterator218.f();}},kh=function kh(t){var e=[],i=vh(wh(t.weight));if(e.push(i),"normal"!==t.style){var _i335=hi(t.style);e.push(_i335);}if("normal"!==t.stretch){var _i336=hi(t.stretch);e.push(_i336);}if(t.unicodeRange)for(var _i337=0,_Object$entries4=Object.entries(x);_i337<_Object$entries4.length;_i337++){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i337],2),_i338=_Object$entries4$_i[0],_s211=_Object$entries4$_i[1];if(_s211===t.unicodeRange){u[_i338]&&e.push(u[_i338]);break;}}return e.join(" ");},Sh=function Sh(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"400";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"normal";return function(t,e){var _iterator219=_createForOfIteratorHelper(F[e]),_step219;try{for(_iterator219.s();!(_step219=_iterator219.n()).done;){var _i339=_step219.value;var _iterator220=_createForOfIteratorHelper(t),_step220;try{for(_iterator220.s();!(_step220=_iterator220.n()).done;){var _e328=_step220.value;if(_e328 instanceof FontFace){if(_e328.weight===_i339)return _e328;}else if("".concat(_e328.weight)===_i339)return _e328;}}catch(err){_iterator220.e(err);}finally{_iterator220.f();}}}catch(err){_iterator219.e(err);}finally{_iterator219.f();}return t[0]?t[0]:null;}(function(t,e){var i=t.filter(function(t){if(t instanceof FontFace){if("normal"===e)return"normal"===t.style;if("italic"===e||"oblique"===e)return"italic"===t.style||"oblique"===t.style;}else{if("normal"===e)return!1===t.italic;if("italic"===e||"oblique"===e)return!0===t.italic;}});return 0===i.length&&(i=_toConsumableArray(t)),i;}(function(t,e){return t.filter(function(t){return t.family===e;});}(t,e),s),i);},_h=function _h(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.localName?i=Ch(t,e):"circle"===t.localName?i=Mh(t,e):"ellipse"===t.localName?i=Ph(t,e):"line"===t.localName?i=Dh(t,e):"polyline"===t.localName?i=zh(t,e):"polygon"===t.localName&&(i=Oh(t,e)),i;},Ch=function Ch(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ii("svg:path"),s=t.getPathData();var _iterator221=_createForOfIteratorHelper(s),_step221;try{for(_iterator221.s();!(_step221=_iterator221.n()).done;){var _t432=_step221.value;_t432.values=_t432.values.map(function(t){return tt(t,e);});}}catch(err){_iterator221.e(err);}finally{_iterator221.f();}i.setPathData(s);var _iterator222=_createForOfIteratorHelper(t.attributes),_step222;try{for(_iterator222.s();!(_step222=_iterator222.n()).done;){var _e329=_step222.value;!1===["x","y","width","height","rx","ry"].includes(_e329.name)&&i.setAttribute(_e329.name,_e329.value);}}catch(err){_iterator222.e(err);}finally{_iterator222.f();}return i.innerHTML=t.innerHTML,i;},Mh=function Mh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ii("svg:path"),s=t.getPathData();var _iterator223=_createForOfIteratorHelper(s),_step223;try{for(_iterator223.s();!(_step223=_iterator223.n()).done;){var _t433=_step223.value;_t433.values=_t433.values.map(function(t){return tt(t,e);});}}catch(err){_iterator223.e(err);}finally{_iterator223.f();}i.setPathData(s);var _iterator224=_createForOfIteratorHelper(t.attributes),_step224;try{for(_iterator224.s();!(_step224=_iterator224.n()).done;){var _e330=_step224.value;["cx","cy","r"].includes(_e330.name)||i.setAttribute(_e330.name,_e330.value);}}catch(err){_iterator224.e(err);}finally{_iterator224.f();}return i.innerHTML=t.innerHTML,i;},Ph=function Ph(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ii("svg:path"),s=t.getPathData();var _iterator225=_createForOfIteratorHelper(s),_step225;try{for(_iterator225.s();!(_step225=_iterator225.n()).done;){var _t434=_step225.value;_t434.values=_t434.values.map(function(t){return tt(t,e);});}}catch(err){_iterator225.e(err);}finally{_iterator225.f();}i.setPathData(s);var _iterator226=_createForOfIteratorHelper(t.attributes),_step226;try{for(_iterator226.s();!(_step226=_iterator226.n()).done;){var _e331=_step226.value;["cx","cy","rx","ry"].includes(_e331.name)||i.setAttribute(_e331.name,_e331.value);}}catch(err){_iterator226.e(err);}finally{_iterator226.f();}return i.innerHTML=t.innerHTML,i;},Dh=function Dh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ii("svg:path"),s=t.getPathData();var _iterator227=_createForOfIteratorHelper(s),_step227;try{for(_iterator227.s();!(_step227=_iterator227.n()).done;){var _t435=_step227.value;_t435.values=_t435.values.map(function(t){return tt(t,e);});}}catch(err){_iterator227.e(err);}finally{_iterator227.f();}i.setPathData(s);var _iterator228=_createForOfIteratorHelper(t.attributes),_step228;try{for(_iterator228.s();!(_step228=_iterator228.n()).done;){var _e332=_step228.value;["x1","y1","x2","y2"].includes(_e332.name)||i.setAttribute(_e332.name,_e332.value);}}catch(err){_iterator228.e(err);}finally{_iterator228.f();}return i.innerHTML=t.innerHTML,i;},zh=function zh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ii("svg:path"),s=t.getPathData();var _iterator229=_createForOfIteratorHelper(s),_step229;try{for(_iterator229.s();!(_step229=_iterator229.n()).done;){var _t436=_step229.value;_t436.values=_t436.values.map(function(t){return tt(t,e);});}}catch(err){_iterator229.e(err);}finally{_iterator229.f();}i.setPathData(s);var _iterator230=_createForOfIteratorHelper(t.attributes),_step230;try{for(_iterator230.s();!(_step230=_iterator230.n()).done;){var _e333=_step230.value;"points"!==_e333.name&&i.setAttribute(_e333.name,_e333.value);}}catch(err){_iterator230.e(err);}finally{_iterator230.f();}return i.innerHTML=t.innerHTML,i;},Oh=function Oh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ii("svg:path"),s=t.getPathData();var _iterator231=_createForOfIteratorHelper(s),_step231;try{for(_iterator231.s();!(_step231=_iterator231.n()).done;){var _t437=_step231.value;_t437.values=_t437.values.map(function(t){return tt(t,e);});}}catch(err){_iterator231.e(err);}finally{_iterator231.f();}i.setPathData(t.getPathData());var _iterator232=_createForOfIteratorHelper(t.attributes),_step232;try{for(_iterator232.s();!(_step232=_iterator232.n()).done;){var _e334=_step232.value;"points"!==_e334.name&&i.setAttribute(_e334.name,_e334.value);}}catch(err){_iterator232.e(err);}finally{_iterator232.f();}return i.innerHTML=t.innerHTML,i;},Eh=function Eh(t){var e,i=Uh(t)||Uh('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>'),s=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,n=document.createNodeIterator(i,s);for(;e=n.nextNode();){if(e.nodeType!==Node.ELEMENT_NODE){!1===(N[e.parentNode.nodeName]||[]).includes(e.nodeName)&&e.remove();}else if(e.localName.includes(":")){if(e.localName.startsWith("bx:")){var _t438=e.localName.split(":")[1],_i340=document.createElement("bx-"+_t438);for(var _i341=0,_arr19=_toConsumableArray(e.attributes);_i341<_arr19.length;_i341++){var _t439=_arr19[_i341];_i340.setAttribute(_t439.name,_t439.value);}for(var _i342=0,_arr20=_toConsumableArray(e.childNodes);_i342<_arr20.length;_i342++){var _t440=_arr20[_i342];_i340.append(_t440);}e.replaceWith(_i340);}else e.remove();}else{if("title"===e.localName){var _t441=Ii("svg:bx-title");_t441.innerHTML=e.innerHTML;var _iterator233=_createForOfIteratorHelper(e.attributes),_step233;try{for(_iterator233.s();!(_step233=_iterator233.n()).done;){var _step233$value=_step233.value,_i343=_step233$value.name,_s212=_step233$value.value;_t441.setAttribute(_i343,_s212);}}catch(err){_iterator233.e(err);}finally{_iterator233.f();}e.replaceWith(_t441);continue;}if("switch"===e.localName){var _t442=":scope > *:not([systemLanguage]):not([requiredExtensions])",_i344=e.querySelector(_t442)||e.firstElementChild;_i344&&e.replaceWith(_i344);continue;}if(e!==i){if(!1===(N[e.parentNode.localName]||[]).includes(e.localName)){e.remove();continue;}}for(var _i345=0,_arr21=_toConsumableArray(e.attributes);_i345<_arr21.length;_i345++){var _arr21$_i=_arr21[_i345],_t443=_arr21$_i.name,_i346=_arr21$_i.value;if(_t443.includes(":"))if(e.removeAttribute(_t443),_t443.startsWith("bx:"))_t443="data-bx-"+_t443.split(":")[1],e.setAttribute(_t443,_i346);else if("xlink:href"===_t443&&!1===e.hasAttribute("href"))_t443="href",e.setAttribute(_t443,_i346);else if("xlink:title"===_t443&&!1===e.hasAttribute("title"))_t443="title",e.setAttribute(_t443,_i346);else{if("xml:lang"!==_t443)continue;_t443="lang",e.setAttribute(_t443,_i346);}_t443.startsWith("data-")?"data-bx-shape"===_t443&&!1===yl(e)&&e.removeAttribute(_t443):"href"===_t443&&"a"===e.localName&&(e.removeAttribute(_t443),e.setAttribute("_href",_i346));}}}var _iterator234=_createForOfIteratorHelper(i.querySelectorAll("text")),_step234;try{for(_iterator234.s();!(_step234=_iterator234.n()).done;){var _t447=_step234.value;Th(_t447);}}catch(err){_iterator234.e(err);}finally{_iterator234.f();}var _iterator235=_createForOfIteratorHelper(i.querySelectorAll("textPath")),_step235;try{for(_iterator235.s();!(_step235=_iterator235.n()).done;){var _t448=_step235.value;Ah(_t448);}}catch(err){_iterator235.e(err);}finally{_iterator235.f();}var _iterator236=_createForOfIteratorHelper(i.querySelectorAll("linearGradient")),_step236;try{for(_iterator236.s();!(_step236=_iterator236.n()).done;){var _t449=_step236.value;$h(_t449);}}catch(err){_iterator236.e(err);}finally{_iterator236.f();}var _iterator237=_createForOfIteratorHelper(i.querySelectorAll("radialGradient")),_step237;try{for(_iterator237.s();!(_step237=_iterator237.n()).done;){var _t450=_step237.value;Ih(_t450);}}catch(err){_iterator237.e(err);}finally{_iterator237.f();}var _iterator238=_createForOfIteratorHelper(i.querySelectorAll("pattern")),_step238;try{for(_iterator238.s();!(_step238=_iterator238.n()).done;){var _t451=_step238.value;Lh(_t451);}}catch(err){_iterator238.e(err);}finally{_iterator238.f();}var _iterator239=_createForOfIteratorHelper(i.querySelectorAll("marker")),_step239;try{for(_iterator239.s();!(_step239=_iterator239.n()).done;){var _t452=_step239.value;Bh(_t452);}}catch(err){_iterator239.e(err);}finally{_iterator239.f();}var _iterator240=_createForOfIteratorHelper(i.querySelectorAll("symbol")),_step240;try{for(_iterator240.s();!(_step240=_iterator240.n()).done;){var _t453=_step240.value;Rh(_t453);}}catch(err){_iterator240.e(err);}finally{_iterator240.f();}var _iterator241=_createForOfIteratorHelper(i.querySelectorAll("use")),_step241;try{for(_iterator241.s();!(_step241=_iterator241.n()).done;){var _t454=_step241.value;Gh(_t454);}}catch(err){_iterator241.e(err);}finally{_iterator241.f();}{var _t444=[];for(var _i347=0,_arr22=_toConsumableArray(i.attributes);_i347<_arr22.length;_i347++){var _arr22$_i=_arr22[_i347],_e335=_arr22$_i.name,_s213=_arr22$_i.value;i.removeAttribute(_e335),"xmlns"!==_e335&&"xmlns:bx"!==_e335&&_t444.push({name:_e335,value:_s213});}i.setAttribute("xmlns",l.svg),i.setAttribute("xmlns:bx",l.bx);for(var _i348=0,_t445=_t444;_i348<_t445.length;_i348++){var _t445$_i=_t445[_i348],_e336=_t445$_i.name,_s214=_t445$_i.value;i.setAttribute(_e336,_s214);}}{var _t446=i.querySelector(":scope > defs");_t446||(_t446=Ii("svg:defs"),i.prepend(_t446));}return fh(i),document.importNode(i,!0),i;},Th=function Th(t){var e=t.querySelectorAll("textPath"),i=(t.querySelectorAll("tspan"),e.length>0?e[0]:null);{var _e337=t.hasAttribute("width")||t.hasAttribute("height")?"pre-wrap":"pre";t.style.setProperty("white-space",_e337);}if(e.length>1){var _iterator242=_createForOfIteratorHelper(e),_step242;try{for(_iterator242.s();!(_step242=_iterator242.n()).done;){var _t455=_step242.value;_t455!==i&&_t455.remove();}}catch(err){_iterator242.e(err);}finally{_iterator242.f();}}if(i){i.parentElement!==t&&t.append(i);for(var _i349=0,_arr23=_toConsumableArray(t.childNodes);_i349<_arr23.length;_i349++){var _e338=_arr23[_i349];["a","tspan","#text"].includes(_e338.localName)&&_e338.remove();}if(i.hasAttribute("style")){var _iterator243=_createForOfIteratorHelper(i.style),_step243;try{for(_iterator243.s();!(_step243=_iterator243.n()).done;){var _e339=_step243.value;var _s215=t.style.getPropertyValue(_e339),_n137=i.style.getPropertyValue(_e339);_s215!==_n137&&t.style.setProperty(_e339,_n137);}}catch(err){_iterator243.e(err);}finally{_iterator243.f();}i.removeAttribute("style");}}},Ah=function Ah(t){{var _e340=Li(t),_i350=t.href.baseVal?_e340.querySelector(t.href.baseVal):null;if(_i350&&["rect","circle","ellipse","line","polyline","polygon"].includes(_i350.localName)){var _t456=_h(_i350);_i350.replaceWith(_t456);}}},$h=function $h(t){{var _e341=0,_i351=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator244=_createForOfIteratorHelper(_i351),_step244;try{for(_iterator244.s();!(_step244=_iterator244.n()).done;){var _t457=_step244.value;if(_t457.hasAttribute("offset")){var _i352=_t457.offset.baseVal;_i352<_e341&&(_i352=_e341),_i352=et(_i352,0,1,4),_e341=_i352,_t457.setAttribute("offset",_i352);}}}catch(err){_iterator244.e(err);}finally{_iterator244.f();}}},Ih=function Ih(t){{var _e342=0,_i353=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator245=_createForOfIteratorHelper(_i353),_step245;try{for(_iterator245.s();!(_step245=_iterator245.n()).done;){var _t458=_step245.value;if(_t458.hasAttribute("offset")){var _i354=_t458.offset.baseVal;_i354<_e342&&(_i354=_e342),_i354=et(_i354,0,1,4),_e342=_i354,_t458.setAttribute("offset",_i354);}}}catch(err){_iterator245.e(err);}finally{_iterator245.f();}}t.removeAttribute("fx"),t.removeAttribute("fy"),t.removeAttribute("fr");},Lh=function Lh(t){var e=Li(t);if(!1===t.hasAttribute("id")){var _i355=0;for(;null!==e.querySelector("#pattern-"+_i355);){_i355+=1;}t.setAttribute("id","pattern-"+_i355);}},Rh=function Rh(t){var e=Li(t);if(!1===t.hasAttribute("id")){var _i356=0;for(;null!==e.querySelector("#symbol-"+_i356);){_i356+=1;}t.setAttribute("id","symbol-"+_i356);}},Bh=function Bh(t){var e=Li(t);if(!1===t.hasAttribute("id")){var _i357=0;for(;null!==e.querySelector("#marker-"+_i357);){_i357+=1;}t.setAttribute("id","marker-"+_i357);}},Gh=function Gh(t){var e=Li(t),i=null;try{i=e.querySelector(t.href.baseVal);}catch(t){i=null;}if(i&&"symbol"!==i.localName){var _e343=Wt(t);_e343.multiplySelf(Wt(i)),_e343.translateSelf(t.x.baseVal.value,t.y.baseVal.value);var _s216=i.cloneNode(!0);_s216.setAttribute("transform",_e343);var _iterator246=_createForOfIteratorHelper(t.style),_step246;try{for(_iterator246.s();!(_step246=_iterator246.n()).done;){var _e344=_step246.value;var _i358=_s216.style.getPropertyValue(_e344),_n138=t.style.getPropertyValue(_e344);""===_i358&&_s216.style.setProperty(_e344,_n138);}}catch(err){_iterator246.e(err);}finally{_iterator246.f();}var _iterator247=_createForOfIteratorHelper(t.attributes),_step247;try{for(_iterator247.s();!(_step247=_iterator247.n()).done;){var _step247$value=_step247.value,_e345=_step247$value.name,_i359=_step247$value.value;j.includes(_e345)&&!1===_s216.hasAttribute(_e345)&&_s216.setAttribute(_e345,_i359);}}catch(err){_iterator247.e(err);}finally{_iterator247.f();}var _iterator248=_createForOfIteratorHelper(_s216.querySelectorAll("*[id]")),_step248;try{for(_iterator248.s();!(_step248=_iterator248.n()).done;){var _t459=_step248.value;_t459.removeAttribute("id");}}catch(err){_iterator248.e(err);}finally{_iterator248.f();}t.hasAttribute("id")?_s216.setAttribute("id",t.id):_s216.removeAttribute("id"),t.replaceWith(_s216);}else{var _e346=Wt(t);_e346.translateSelf(t.x.baseVal.value,t.y.baseVal.value),t.setAttribute("transform",_e346.toString()),t.removeAttribute("x"),t.removeAttribute("y");}},Uh=function Uh(t){return t=ai(t,'<div xmlns="http://www.w3.org/1999/xhtml"></div>',""),new DOMParser().parseFromString(t,"text/html").querySelector("svg")||null;},Fh=function Fh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";return new Promise(function(i){t.file(/*#__PURE__*/function(){var _ref66=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee69(t){var s;return regeneratorRuntime.wrap(function _callee69$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:if(!("blob"===e)){_context69.next=4;break;}_context69.t0=t;_context69.next=7;break;case 4:_context69.next=6;return Nh(t,e);case 6:_context69.t0=_context69.sent;case 7:s=_context69.t0;i(s);case 9:case"end":return _context69.stop();}}},_callee69);}));return function(_x71){return _ref66.apply(this,arguments);};}());});},Nh=function Nh(t,e){return new Promise(function(i){var _s220,_n139,o=new FileReader();if(o.addEventListener("error",_n139=function n(t){o.removeEventListener("load",_s220),o.removeEventListener("error",_n139),i(null);}),"text"===e){var _e347=Hh(t);"svgz"===_e347?o.readAsArrayBuffer(t):o.readAsText(t),o.addEventListener("load",_s220=function s(t){if(o.removeEventListener("load",_s220),o.removeEventListener("error",_n139),"svgz"===_e347){var _e348=new Uint8Array(t.target.result),_s217=pako.inflate(_e348),_n140="";for(var _t460=0,_e349=_s217.length;_t460<_e349;_t460+=1){_n140+=String.fromCharCode(_s217[_t460]);}i(_n140);}else i(t.target.result);});}else if("arrayBuffer"===e)o.readAsArrayBuffer(t),o.addEventListener("load",_s220=function _s218(t){o.removeEventListener("load",_s220),o.removeEventListener("error",_n139),i(new Uint8Array(t.target.result));});else if("dataURL"===e){var _e350=Hh(t);"svgz"===_e350?o.readAsArrayBuffer(t):o.readAsDataURL(t),o.addEventListener("load",_s220=function _s219(t){if(o.removeEventListener("load",_s220),o.removeEventListener("error",_n139),"svgz"===_e350){var _e351=new Uint8Array(t.target.result),s=pako.inflate(_e351),_n141=new Blob([s],{type:"image/svg+xml"}),_o110=Vh(_n141);i(_o110);}else i(t.target.result);});}});},Vh=function Vh(t){return new Promise(function(e){var i=new FileReader();i.readAsDataURL(t),i.onloadend=function(){var t=i.result;e(t);};});},jh=function jh(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Hh=function Hh(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Wh=function Wh(t){return t.name.substring(0,t.name.lastIndexOf("."));},Yh=function Yh(e){var i="",s=t?1e3:1024;if(e<s)i=e+" bytes";else if(e<s*s){var _n142=t?" KB":" KiB";i=tt(e/s,0)+_n142;}else if(e<s*s*s){var _n143=t?" MB":" MiB";i=tt(e/(s*s),2)+_n143;}else{var _n144=t?" GB":" GiB";i=tt(e/(s*s*s),2)+_n144;}return i;},qh=function qh(t){var e,i,s,n,o=t.getContext("2d"),l=o.canvas.width,a=o.canvas.height;if(!l&&!a)return null;var h=o.getImageData(0,0,l,a),r=new Uint32Array(h.data.buffer),d=0,c=l*a-1,p=!1;for(var _t461=0;_t461<a&&!p;_t461+=1){for(var _i360=0;_i360<l;_i360+=1){if(r[d++]&&!e&&(e=_t461+1,n)){p=!0;break;}if(r[c--]&&!n&&(n=a-_t461-1,e)){p=!0;break;}}if(_t461>a-_t461&&!e&&!n)return null;}e-=1,p=!1;for(var _t462=0;_t462<l&&!p;_t462+=1){d=e*l+_t462,c=e*l+(l-_t462-1);for(var _o111=e;_o111<=n;_o111+=1){if(r[d]&&!i&&(i=_t462+1,s)){p=!0;break;}if(r[c]&&!s&&(s=l-_t462-1,i)){p=!0;break;}d+=l,c+=l;}}return i-=1,l===s-i+1&&a===n-e+1?null:(l=s-i+1,a=n-e+1,o.canvas.width=l,o.canvas.height=a,o.putImageData(h,-i,-e),new DOMRect(i,e,l,a));},Xh=function Xh(t){return new Promise(function(e){var i=new Image();i.onload=function(){e({width:i.naturalWidth,height:i.naturalHeight});},i.src=t;});},Zh=function Zh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base64";return new Promise(/*#__PURE__*/function(){var _ref67=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee70(i,s){var n,o,l;return regeneratorRuntime.wrap(function _callee70$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:_context70.next=2;return fetch(t);case 2:n=_context70.sent;_context70.next=5;return n.blob();case 5:o=_context70.sent;l=new FileReader();"base64"===e?l.readAsDataURL(o):"buffer"===e&&l.readAsArrayBuffer(o),l.addEventListener("loadend",function(){i(l.result);},{once:!0}),l.addEventListener("error",function(){s();},{once:!0});case 8:case"end":return _context70.stop();}}},_callee70);}));return function(_x72,_x73){return _ref67.apply(this,arguments);};}());},Kh=function Kh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:96;var i=Math.round(e/2.54*100),s=i;var n,o;o=function o(t){t.version="1.1.1";var e=function(){for(var t=0,e=new Array(256),i=0;256!=i;++i){t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=i)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[i]=t;}return"undefined"!=typeof Int32Array?new Int32Array(e):e;}();t.table=e,t.bstr=function(t,i){for(var s=-1^i,n=t.length-1,o=0;o<n;){s=(s=s>>>8^e[255&(s^t.charCodeAt(o++))])>>>8^e[255&(s^t.charCodeAt(o++))];}return o===n&&(s=s>>>8^e[255&(s^t.charCodeAt(o))]),-1^s;},t.buf=function(t,i){if(t.length>1e4)return function(t,i){for(var s=-1^i,n=t.length-7,o=0;o<n;){s=(s=(s=(s=(s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+7;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;}(t,i);for(var s=-1^i,n=t.length-3,o=0;o<n;){s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+3;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;},t.str=function(t,i){for(var s,n,o=-1^i,l=0,a=t.length;l<a;){(s=t.charCodeAt(l++))<128?o=o>>>8^e[255&(o^s)]:s<2048?o=(o=o>>>8^e[255&(o^(192|s>>6&31))])>>>8^e[255&(o^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),n=1023&t.charCodeAt(l++),o=(o=(o=(o=o>>>8^e[255&(o^(240|s>>8&7))])>>>8^e[255&(o^(128|s>>2&63))])>>>8^e[255&(o^(128|n>>6&15|(3&s)<<4))])>>>8^e[255&(o^(128|63&n))]):o=(o=(o=o>>>8^e[255&(o^(224|s>>12&15))])>>>8^e[255&(o^(128|s>>6&63))])>>>8^e[255&(o^(128|63&s))];}return-1^o;};},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?o(exports):"function"==typeof define&&define.amd?define(function(){var t={};return o(t),t;}):o(n={}):o(n={});var l=new Uint8Array(4),a=new Int32Array(l.buffer),h=new Uint32Array(l.buffer);if(137!==t[0]||80!==t[1]||78!==t[2]||71!==t[3]||13!==t[4]||10!==t[5]||26!==t[6]||10!==t[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var r=8;r<t.length;){l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var d=h[0]+4,c=new Uint8Array(d);c[0]=t[r++],c[1]=t[r++],c[2]=t[r++],c[3]=t[r++];for(var p=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]),u=r,x=4;x<d;x++){c[x]=t[r++];}var b=r;l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var m=a[0];if(n.buf(c)!==m)throw new Error("CRC values for "+p+" header do not match, PNG file is likely corrupted");if("IDAT"==p){u-=8;var g=t.length,f=new Uint8Array(g+21);for(x=0;x<u;x++){f[x]=t[x];}for(x=u;x<g;x++){f[x+21]=t[x];}var w=new Uint8Array(13);x=0;a[0]=9,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],w[x++]=f[u++]="p".charCodeAt(0),w[x++]=f[u++]="H".charCodeAt(0),w[x++]=f[u++]="Y".charCodeAt(0),w[x++]=f[u++]="s".charCodeAt(0),h[0]=i,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],h[0]=s,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],w[x++]=f[u++]=1;var v=n.buf(w);return a[0]=v,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],f;}if("pHYs"==p){x=0;(w=new Uint8Array(13))[x++]="p".charCodeAt(0),w[x++]="H".charCodeAt(0),w[x++]="Y".charCodeAt(0),w[x++]="s".charCodeAt(0),h[0]=i,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],h[0]=s,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],w[x++]=t[u++]=1;v=n.buf(w);return a[0]=v,t[b++]=l[3],t[b++]=l[2],t[b++]=l[1],t[b++]=l[0],t;}}throw new Error(".png file ended prematurely: no IEND or pHYs header was found");};window.addEventListener("load",function(){paper.setup(document.createElement("canvas"));});var Qh=function Qh(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return ir(t,e,"unite",i);},Jh=function Jh(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return ir(t,e,"subtract",i);},tr=function tr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return ir(t,e,"intersect",i);},er=function er(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return ir(t,e,"exclude",i);},ir=function ir(t,e,i,s){var n=Et(ot(t)),o=Et(ot(e)),l=n[i](o),a=[];if(l){var _t463=l.exportSVG().getAttribute("d");a=lt(_t463),a=at(a);var _iterator249=_createForOfIteratorHelper(a),_step249;try{for(_iterator249.s();!(_step249=_iterator249.n()).done;){var _t464=_step249.value;_t464.values=_t464.values.map(function(t){return tt(t,s);});}}catch(err){_iterator249.e(err);}finally{_iterator249.f();}}return a;},sr=Math.atan2,nr=Math.cos,or=Math.sin,lr=Math.PI,ar={pal:[{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}],colorsampling:0,qtres:0,ltres:10,pathomit:1,strokewidth:0,roundcoords:10};var hr=/*#__PURE__*/function(_HTMLElement47){_inherits(hr,_HTMLElement47);var _super49=_createSuper(hr);_createClass(hr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hr(){_classCallCheck(this,hr);return _super49.call(this);}_createClass(hr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this159=this;this.Mn.workspaces.addEventListener("wheel",this.oo=function(t){_this159.lo(t);}),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this159.yn(t);}),this.Mn.style.cursor="url(images/cursors/blank.svg) 0 0, crosshair";}},{key:"en",value:function en(){this.Mn.workspaces.removeEventListener("wheel",this.oo),this.Mn.workspaces.removeEventListener("pointerdown",this.vn);}},{key:"lo",value:function lo(t){if(this.Qs.modKeys.shift){t.stopImmediatePropagation();var _e352=et(t.wheelDelta,-2,2,1),_i361=this.Qs.getConfig("bx-blobsettings:size",30);_i361=et(_i361+_e352,1,1e4),this.Qs.setConfig("bx-blobsettings:size",_i361);}else if(this.Qs.modKeys.alt){t.stopImmediatePropagation();var _e353=et(t.wheelDelta,-2,2,1),_i362=this.Qs.getConfig("bx-blobsettings:roundness",100);_i362=et(_i362+_e353,1,100),this.Qs.setConfig("bx-blobsettings:roundness",_i362);}else if(this.Qs.modKeys.meta){t.stopImmediatePropagation();var _e354=et(t.wheelDelta,-2,2,1),_i363=this.Qs.getConfig("bx-blobsettings:angle",0);_i363=Ue(_i363+_e354),this.Qs.setConfig("bx-blobsettings:angle",_i363);}}},{key:"yn",value:function yn(t){var _this160=this;if(0!==t.button)return;var e,i,s=this.Mn,_ref68=(s.currentContainer||s.currentWorkspace,s),n=_ref68.geometryPrecision,o=_ref68.transformPrecision,l=qt(s.vectorCanvas).inverse(),a=s.pixelCanvas.getContext("2d"),h=this.Qs.getConfig("bx-blobsettings:mode","draw"),r=this.Qs.getConfig("bx-blobsettings:dynamics",ch),d=this.Qs.getConfig("bx-blobsettings:style",ph),c=this.Qs.getConfig("bx-blobsettings:size",30)*s.scale,p=this.Qs.getConfig("bx-blobsettings:roundness",100),u=this.Qs.getConfig("bx-blobsettings:angle",0),x=c,b=c,m=p,g=u,f=new DOMPoint(t.clientX,t.clientY),w=t.clientX,v=t.clientY,y=w,k=v;s.showPixelCanvas(),a.fillStyle="red",this.Qs.modKeys.ctrl&&(h="draw"===h?"erase":"draw"),window.addEventListener("pointermove",e=function e(t){var _iterator250=_createForOfIteratorHelper(t.getCoalescedEvents()),_step250;try{for(_iterator250.s();!(_step250=_iterator250.n()).done;){var _e355=_step250.value;if(r.size){var _t466=tt(c-c*r.size.variance,0),_i365=tt(c+c*r.size.variance,0);"random"===r.size.param?b=pl(_t466,_i365):"pressure"===r.size.param&&(b=_t466+_e355.pressure*(_i365-_t466));}if(r.roundness){var _t467=tt(p-p*r.roundness.variance,0),_i366=tt(p+p*r.roundness.variance,0);"random"===r.roundness.param?m=pl(_t467,_i366):"pressure"===r.roundness.param&&(m=_t467+_e355.pressure*(_i366-_t467));}if(r.angle){var _t468=tt(u-u*r.angle.variance,0),_i367=tt(u+u*r.angle.variance,0);"random"===r.angle.param?g=pl(_t468,_i367):"pressure"===r.angle.param&&(g=_t468+_e355.pressure*(_i367-_t468));}var _t465=new DOMPoint(_e355.clientX,_e355.clientY),_i364=Te(f,_t465),_s221=sr(_t465.x-f.x,_t465.y-f.y);for(var _t469=0;_t469<_i364;_t469+=1){var _e356=f.x+or(_s221)*_t469,_i368=f.y+nr(_s221)*_t469;_e356<w?w=_e356:_e356>y&&(y=_e356),_i368<v?v=_i368:_i368>k&&(k=_i368);var _n145=b/2,_o112=_n145*(m/100);a.beginPath(),a.ellipse(_e356,_i368,_n145,_o112,g*lr/180,0,2*lr),a.closePath(),a.fill();}f=_t465;}}catch(err){_iterator250.e(err);}finally{_iterator250.f();}}),window.addEventListener("pointerup",i=/*#__PURE__*/function(){var _ref69=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee71(t){var o,r,c,p,u,b,m,g,f,S,_,_iterator251,_step251,_t476,_t470,_e357,_i369,_i370,_o113,_l106,_a75,_t471,_t472,_e358,_i371,_iterator252,_step252,_loop5;return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",i);o=new DOMRect(w-x,v-x,y-w+2*x,k-v+2*x),r=He(o,l),c=a.getImageData(o.x,o.y,o.width,o.height),p=ImageTracer.imagedataToSVG(c,ar),u=Eh(p),b=r.x,m=r.y,g=r.width/o.width,f=r.height/o.height,S=new DOMMatrix();S.translateSelf(b,m),S.scaleSelf(g,f);_=null;_iterator251=_createForOfIteratorHelper(u.querySelectorAll(":scope > path"));_context72.prev=5;_iterator251.s();case 7:if((_step251=_iterator251.n()).done){_context72.next=14;break;}_t476=_step251.value;if(!("0"!==_t476.getAttribute("opacity"))){_context72.next=12;break;}_=_t476;return _context72.abrupt("break",14);case 12:_context72.next=7;break;case 14:_context72.next=19;break;case 16:_context72.prev=16;_context72.t0=_context72["catch"](5);_iterator251.e(_context72.t0);case 19:_context72.prev=19;_iterator251.f();return _context72.finish(19);case 22:if(!_){_context72.next=47;break;}if(!("draw"===h)){_context72.next=28;break;}_t470=null,_e357=s.selectedElements[s.selectedElements.length-1],_i369=["path","rect","circle","ellipse","line","polyline","polygon"];if(s.undoManager.checkpoint("Blob"),_e357&&_i369.includes(_e357.localName)){"path"===_e357.localName?(_e357.hasAttribute("data-bx-shape")&&_e357.removeAttribute("data-bx-shape"),_t470=_e357):"rect"===_e357.localName?(_t470=Ch(_e357,s.geometryPrecision),_e357.replaceWith(_t470)):"circle"===_e357.localName?(_t470=Mh(_e357,s.geometryPrecision),_e357.replaceWith(_t470)):"ellipse"===_e357.localName?(_t470=Ph(_e357,s.geometryPrecision),_e357.replaceWith(_t470)):"line"===_e357.localName?(_t470=Dh(_e357,s.geometryPrecision),_e357.replaceWith(_t470)):"polyline"===_e357.localName?(_t470=zh(_e357,s.geometryPrecision),_e357.replaceWith(_t470)):"polygon"===_e357.localName&&(_t470=Oh(_e357,s.geometryPrecision),_e357.replaceWith(_t470));_i370=Yt(s.vectorCanvas,_t470),_o113=_t470.getPathData(),_l106=_.getPathData({normalize:!0});_l106=yt(_l106),_l106=le(_l106,_i370.multiply(S));_a75=Qh(_o113,_l106,n);_t470.setPathData(_a75),s.selectedElements=[_t470];}else{if(s.currentContainer){S=Yt(s.vectorCanvas,s.currentContainer).multiply(S);}_t471=_.getPathData({normalize:!0});_t471=yt(_t471),_t471=le(_t471,S,n),_.setPathData(_t471),rl(_,d),(s.currentContainer||s.currentWorkspace).append(_),s.selectedElements=[_];}_context72.next=47;break;case 28:if(!("erase"===h)){_context72.next=47;break;}_t472=_toConsumableArray(s.selectedElements),_e358=!1,_i371=function _i371(){!1===_e358&&(_e358=!0,s.undoManager.checkpoint("Blob"));};_iterator252=_createForOfIteratorHelper(_this160.ao());_context72.prev=31;_loop5=/*#__PURE__*/regeneratorRuntime.mark(function _loop5(){var e,_o114,_l107,_a76,_l108,_h64,_t473,_o115,_l109,_a77,_h65,_t474,_i372,_n146,_s222,_l110,_r45,_d29,_c23,_p22,_t475,_i373;return regeneratorRuntime.wrap(function _loop5$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=_step252.value;if(!("path"===e.localName||"rect"===e.localName||"circle"===e.localName||"ellipse"===e.localName||"line"===e.localName||"polyline"===e.localName||"polygon"===e.localName)){_context71.next=6;break;}_o114=e.getPathData({normalize:!0});if(_o114.length>0){_l107=Yt(s.vectorCanvas,e),_a76=_.getPathData({normalize:!0});if(_a76=yt(_a76),_a76=le(_a76,_l107.multiply(S)),tr(_o114,_a76,n).length>0){_i371();_l108=null;"path"===e.localName?(e.hasAttribute("data-bx-shape")&&e.removeAttribute("data-bx-shape"),_l108=e):"rect"===e.localName?(_l108=Ch(e,s.geometryPrecision),e.replaceWith(_l108),_t472=_t472.map(function(t){return t===e?_l108:t;})):"circle"===e.localName?(_l108=Mh(e,s.geometryPrecision),e.replaceWith(_l108),_t472=_t472.map(function(t){return t===e?_l108:t;})):"ellipse"===e.localName?(_l108=Ph(e,s.geometryPrecision),e.replaceWith(_l108),_t472=_t472.map(function(t){return t===e?_l108:t;})):"line"===e.localName?(_l108=Dh(e,s.geometryPrecision),e.replaceWith(_l108),_t472=_t472.map(function(t){return t===e?_l108:t;})):"polyline"===e.localName?(_l108=zh(e,s.geometryPrecision),e.replaceWith(_l108),_t472=_t472.map(function(t){return t===e?_l108:t;})):"polygon"===e.localName&&(_l108=Oh(e,s.geometryPrecision),e.replaceWith(_l108),_t472=_t472.map(function(t){return t===e?_l108:t;}));_h64=Jh(_o114,_a76,n);0===_h64.length?(_l108.remove(),_t472=_t472.filter(function(t){return t!==_l108;})):_l108.setPathData(_h64);}}_context71.next=28;break;case 6:if(!("image"===e.localName)){_context71.next=28;break;}_t473=document.createElement("canvas"),_o115=_t473.getContext("2d"),_l109=new Image();_l109.setAttribute("src",e.getAttribute("href"));_context71.next=11;return new Promise(function(t){return _l109.onload=t;});case 11:_a77=_l109.naturalWidth/e.width.baseVal.value,_h65=_l109.naturalHeight/e.height.baseVal.value;_t473.width=_l109.naturalWidth,_t473.height=_l109.naturalHeight,_o115.imageSmoothingEnabled=!1,_o115.drawImage(_l109,0,0,_l109.naturalWidth,_l109.naturalHeight);_t474=new DOMMatrix();_t474=_t474.scale(_a77,_h65),_t474=_t474.translate(-e.x.baseVal.value,-e.y.baseVal.value),_t474=_t474.multiply(Yt(s.vectorCanvas,e)),_t474=_t474.multiply(S);_i372=_.getPathData({normalize:!0});_i372=yt(_i372),_i372=le(_i372,_t474);_n146=new Path2D(ot(_i372));_o115.globalCompositeOperation="destination-out",_o115.imageSmoothingEnabled=!1,_o115.fillStyle="black",_o115.fill(_n146);_s222=qh(_t473);_l110=_o115.getImageData(0,0,_t473.width,_t473.height);_r45=UPNG.encode([_l110.data.buffer],_l110.width,_l110.height,0);_d29=new Uint8Array(_r45);_c23=new Blob([_d29],{type:"image/png"});_context71.next=26;return Vh(_c23);case 26:_p22=_context71.sent;if(_p22!==e.getAttribute("href")&&(_i371(),e.setAttribute("href",_p22),e.setAttribute("width",_t473.width/_a77),e.setAttribute("height",_t473.height/_h65),_s222)){_t475=e.x.baseVal.value+_s222.x/_a77,_i373=e.y.baseVal.value+_s222.y/_h65;e.setAttribute("x",tt(_t475,n)),e.setAttribute("y",tt(_i373,n));}case 28:case"end":return _context71.stop();}}},_loop5);});_iterator252.s();case 34:if((_step252=_iterator252.n()).done){_context72.next=38;break;}return _context72.delegateYield(_loop5(),"t1",36);case 36:_context72.next=34;break;case 38:_context72.next=43;break;case 40:_context72.prev=40;_context72.t2=_context72["catch"](31);_iterator252.e(_context72.t2);case 43:_context72.prev=43;_iterator252.f();return _context72.finish(43);case 46:s.selectedElements=_t472;case 47:s.hidePixelCanvas();case 48:case"end":return _context72.stop();}}},_callee71,null,[[5,16,19,22],[31,40,43,46]]);}));return function i(_x74){return _ref69.apply(this,arguments);};}());}},{key:"ao",value:function ao(){var t=["circle","ellipse","line","path","polygon","polyline","rect","image"],e=[],i=function i(s){var _iterator253=_createForOfIteratorHelper(s),_step253;try{for(_iterator253.s();!(_step253=_iterator253.n()).done;){var _n147=_step253.value;t.includes(_n147.localName)?e.push(_n147):"g"!==_n147.localName&&"a"!==_n147.localName||i(_n147.children);}}catch(err){_iterator253.e(err);}finally{_iterator253.f();}};return i(this.Mn.outermostSelectedElements),e;}}]);return hr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hr,"observedAttributes",["enabled"]);customElements.define("bx-blobcontext",hr);var rr={stroke:"#000000","stroke-width":"1px"};var dr=/*#__PURE__*/function(_HTMLElement48){_inherits(dr,_HTMLElement48);var _super50=_createSuper(dr);function dr(){_classCallCheck(this,dr);return _super50.apply(this,arguments);}_createClass(dr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app"),this.ho=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this161=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this161.yn(t);});}},{key:"en",value:function en(){this.Js.board.workspaces.removeEventListener("pointerdown",this.vn);}},{key:"yn",value:function yn(t){var _this162=this;if(!1===this.ho){var _e360,_i375,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e360=function _e359(n){var o=new DOMPoint(n.clientX,n.clientY);Te(s,o)>=3&&(window.removeEventListener("pointermove",_e360),window.removeEventListener("click",_i375),_this162.ro(t,n));}),window.addEventListener("click",_i375=function _i374(t){window.removeEventListener("pointermove",_e360),window.removeEventListener("click",_i375),_this162["do"](t);});}}},{key:"do",value:function _do(t){var _this163=this;this.ho=!0;var e,_i376,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",rr);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=Ii("svg:line");n.append(l),rl(l,o);var a=qt(l).inverse(),h=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(h),d=r.matrixTransform(a),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this163.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("click",_i376=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("click",_i376);var n=c.matrixTransform(a);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this163.ho=!1;});}},{key:"ro",value:function ro(t){var _this164=this;this.ho=!0;var e,_i377,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",rr);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=Ii("svg:line");n.append(l),rl(l,o);var a=qt(l).inverse(),h=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(h),d=r.matrixTransform(a),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this164.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("pointerup",_i377=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i377);var n=c.matrixTransform(a);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this164.ho=!1;});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return dr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dr,"observedAttributes",["enabled"]);customElements.define("bx-linecontext",dr);var cr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var pr=/*#__PURE__*/function(_HTMLElement49){_inherits(pr,_HTMLElement49);var _super51=_createSuper(pr);_createClass(pr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function pr(){var _this165;_classCallCheck(this,pr);_this165=_super51.call(this),_this165.co=null;return _this165;}_createClass(pr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this166=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.fn=function(t){_this166.wn(t);}),t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this166.yn(t);});}},{key:"en",value:function en(){var t=this.Js.board;t.polygonSegHud.hide(),this.co=null,t.removeEventListener("keydown",this.fn),t.workspaces.removeEventListener("pointerdown",this.vn);}},{key:"wn",value:function wn(t){var e=this.Js.board,i=ao.fromEvent(t);this.co&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polygonSegHud.hide(),this.co=null);}},{key:"yn",value:function yn(t){var _this167=this;var e,_i378,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i378=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i378);var o=n<4;_this167._n(t,o);});}},{key:"_n",value:function _n(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.co){if(e){i.undoManager.checkpoint("Add polygon");var _e361=t.clientX,s=t.clientY,_n148=i.currentContainer||i.currentWorkspace,_o116=this.Qs.getConfig("bx-polygonsettings:style",cr),_l111=Ii("svg:polygon");_n148.append(_l111),rl(_l111,_o116);var _a78=qt(_l111).inverse(),_h66=[new DOMPoint(_e361,s).matrixTransform(_a78)];this.po(_l111,_h66),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l111]),this.co=_l111,i.polygonSegHud.show(_l111);}}else if(this.co)if(this.Qs.pointerClickCount>=2)i.polygonSegHud.hide(),this.co=null;else{var _t477=_toConsumableArray(this.co.points);_t477.length>1&&i.undoManager.checkpoint("Add polygon segment");var _e362=Yt(i.vectorCanvas,this.co),_s223=i.polygonSegHud.endPoint.matrixTransform(_e362);_t477.push(_s223),this.po(this.co,_t477);}}},{key:"po",value:function po(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator254=_createForOfIteratorHelper(e),_step254;try{for(_iterator254.s();!(_step254=_iterator254.n()).done;){var _t478=_step254.value;var _e363=tt(_t478.x,s),_n149=tt(_t478.y,s);i.push(_e363,_n149);}}catch(err){_iterator254.e(err);}finally{_iterator254.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return pr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pr,"observedAttributes",["enabled"]);customElements.define("bx-polygoncontext",pr);var ur={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var xr=/*#__PURE__*/function(_HTMLElement50){_inherits(xr,_HTMLElement50);var _super52=_createSuper(xr);_createClass(xr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function xr(){var _this168;_classCallCheck(this,xr);_this168=_super52.call(this),_this168.uo=null;return _this168;}_createClass(xr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this169=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.fn=function(t){_this169.wn(t);}),t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this169.yn(t);});}},{key:"en",value:function en(){var t=this.Js.board;t.polylineSegHud.hide(),this.uo=null,t.removeEventListener("keydown",this.fn),t.workspaces.removeEventListener("pointerdown",this.vn);}},{key:"wn",value:function wn(t){var e=this.Js.board,i=ao.fromEvent(t);this.uo&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polylineSegHud.hide(),this.uo=null);}},{key:"yn",value:function yn(t){var _this170=this;var e,_i379,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i379=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i379);var o=n<4;_this170._n(t,o);});}},{key:"_n",value:function _n(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.uo){if(e){i.undoManager.checkpoint("Add polyline");var _e364=t.clientX,s=t.clientY,_n150=i.currentContainer||i.currentWorkspace,_o117=this.Qs.getConfig("bx-polylinesettings:style",ur),_l112=Ii("svg:polyline");_n150.append(_l112),rl(_l112,_o117);var _a79=qt(_l112).inverse(),_h67=[new DOMPoint(_e364,s).matrixTransform(_a79)];this.xo(_l112,_h67),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l112]),this.uo=_l112,i.polylineSegHud.show(_l112);}}else if(this.uo)if(this.Qs.pointerClickCount>=2)i.polylineSegHud.hide(),this.uo=null;else{var _t479=_toConsumableArray(this.uo.points);_t479.length>1&&i.undoManager.checkpoint("Add polyline segment");var _e365=Yt(i.vectorCanvas,this.uo),_s224=i.polylineSegHud.endPoint.matrixTransform(_e365);_t479.push(_s224),this.xo(this.uo,_t479);}}},{key:"xo",value:function xo(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator255=_createForOfIteratorHelper(e),_step255;try{for(_iterator255.s();!(_step255=_iterator255.n()).done;){var _t480=_step255.value;var _e366=tt(_t480.x,s),_n151=tt(_t480.y,s);i.push(_e366,_n151);}}catch(err){_iterator255.e(err);}finally{_iterator255.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return xr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xr,"observedAttributes",["enabled"]);customElements.define("bx-polylinecontext",xr);var br={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var mr=/*#__PURE__*/function(_HTMLElement51){_inherits(mr,_HTMLElement51);var _super53=_createSuper(mr);_createClass(mr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function mr(){var _this171;_classCallCheck(this,mr);_this171=_super53.call(this),_this171.mn=null,_this171.gn=!1;return _this171;}_createClass(mr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this172=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.fn=function(t){_this172.wn(t);}),t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this172.yn(t);}),t.pathHud.addEventListener("nodeclick",this.kn=function(t){_this172.Sn(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"en",value:function en(){var t=this.Js.board;this.mn=null,this.gn=!1,t.pathHud.passive=!1,t.quadBezierSegHud.hide(),t.removeEventListener("keydown",this.fn),t.workspaces.removeEventListener("pointerdown",this.vn),t.pathHud.removeEventListener("nodeclick",this.kn);}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);this.mn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.mn=null,this.gn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.quadBezierSegHud.hide());}},{key:"yn",value:function yn(t){var _this173=this;var e,_i380,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i380=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i380);var o=n<4;_this173._n(t,o);});}},{key:"_n",value:function _n(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.mn){if(e){i.undoManager.checkpoint("Draw path segment");var _e367=t.clientX,s=t.clientY,_n152=i.currentContainer||i.currentWorkspace,_o118=this.Qs.getConfig("bx-quadbeziersettings:style",br),_l113=Ii("svg:path");_n152.append(_l113),rl(_l113,_o118);var _a80=qt(_l113).inverse(),_DOMPoint$matrixTrans3=new DOMPoint(_e367,s).matrixTransform(_a80),_h68=_DOMPoint$matrixTrans3.x,_r46=_DOMPoint$matrixTrans3.y,_d30=[{type:"M",values:[_h68,_r46]}];for(var _i381=0,_d31=_d30;_i381<_d31.length;_i381++){var _t481=_d31[_i381];_t481.values=_t481.values.map(function(t){return tt(t,i.geometryPrecision);});}_l113.setPathData(_d30),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l113]),this.gn=!1,this.mn=_l113,i.pathHud.passive=!0,i.quadBezierSegHud.show(_l113,"end");}}else if(this.mn)if(!1===this.gn){var _t482=_toConsumableArray(this.mn.getPathData({normalize:!0}));_t482.length>1&&i.undoManager.checkpoint("Draw path segment"),i.quadBezierSegHud.curved?_t482.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_t482.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]});var _iterator256=_createForOfIteratorHelper(_t482),_step256;try{for(_iterator256.s();!(_step256=_iterator256.n()).done;){var _e368=_step256.value;_e368.values=_e368.values.map(function(t){return tt(t,i.geometryPrecision);});}}catch(err){_iterator256.e(err);}finally{_iterator256.f();}this.mn.setPathData(_t482);}else{i.undoManager.checkpoint("Draw path segment");var _t483=this.mn.getPathData({normalize:!0}),_e369=[];_e369.push({type:"M",values:[i.quadBezierSegHud.startPoint.x,i.quadBezierSegHud.startPoint.y]}),i.quadBezierSegHud.curved?_e369.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_e369.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}),_e369.push.apply(_e369,_toConsumableArray(_t483.slice(1)));for(var _i382=0,_e370=_e369;_i382<_e370.length;_i382++){var _t484=_e370[_i382];_t484.values=_t484.values.map(function(t){return tt(t,i.geometryPrecision);});}this.mn.setPathData(_e369);}}},{key:"Sn",value:function Sn(t,e,i){var s=!1,n=this.Js.board;if(this.mn)if(e===this.mn){if("start"===t||"end"===t){var _e371=this.mn,_i383=_e371.getPathData({normalize:!0}),_o119=_i383[0],_l114=_i383[_i383.length-1];if(!1===this.gn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t485=_toConsumableArray(_i383);n.quadBezierSegHud.curved?_t485.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o119.values[0],_o119.values[1]]}):_t485.push({type:"L",values:[_o119.values[0],_o119.values[1]]}),_t485.push({type:"Z",values:[]});var _iterator257=_createForOfIteratorHelper(_t485),_step257;try{for(_iterator257.s();!(_step257=_iterator257.n()).done;){var _e372=_step257.value;_e372.values=_e372.values.map(function(t){return tt(t,n.geometryPrecision);});}}catch(err){_iterator257.e(err);}finally{_iterator257.f();}_e371.setPathData(_t485);}else if(this.gn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t486=[];_t486.push({type:"M",values:["C"===_l114.type?_l114.values[4]:_l114.values[0],"C"===_l114.type?_l114.values[5]:_l114.values[1]]}),n.quadBezierSegHud.curved?_t486.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o119.values[0],_o119.values[1]]}):_t486.push({type:"L",values:[_o119.values[0],_o119.values[1]]}),_t486.push.apply(_t486,_toConsumableArray(_i383.slice(1))),_t486.push({type:"Z",values:[]});for(var _i384=0,_t487=_t486;_i384<_t487.length;_i384++){var _e373=_t487[_i384];_e373.values=_e373.values.map(function(t){return tt(t,n.geometryPrecision);});}_e371.setPathData(_t486);}this.mn=null,this.gn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i385=e,_o120=this.mn,_l115=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i385.id),"\"]")),_a81=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o120.id),"\"]")),_h69=_o120.getPathData({normalize:!0});if(_h69.length>1){var _e374;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.gn&&"end"===t||!0===this.gn&&"start"===t)&&ct(_i385),_a81&&_l115?(_e374=Yt(_l115.closest("text"),_a81.closest("text")),_e374.multiplySelf(Wt(_o120)),_e374.multiplySelf(Wt(_i385))):_a81&&!_l115?(_e374=Yt(_i385,_a81.closest("text")),_e374.multiplySelf(Wt(_o120))):!_a81&&_l115?(_e374=Yt(_l115.closest("text"),_o120),_e374.multiplySelf(Wt(_i385))):_e374=Yt(_i385,_o120),!1===this.gn){var _t488=_toConsumableArray(_h69),_s225=le(_i385.getPathData({normalize:!0}),_e374),_l116=_s225[0];n.quadBezierSegHud.curved?_t488.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l116.values[0],_l116.values[1]]}):_t488.push({type:"L",values:[_l116.values[0],_l116.values[1]]}),_t488.push.apply(_t488,_toConsumableArray(_s225.slice(1)));var _iterator258=_createForOfIteratorHelper(_t488),_step258;try{for(_iterator258.s();!(_step258=_iterator258.n()).done;){var _e375=_step258.value;_e375.values=_e375.values.map(function(t){return tt(t,n.geometryPrecision);});}}catch(err){_iterator258.e(err);}finally{_iterator258.f();}_o120.setPathData(_t488),_i385.setPathData([]),_i385.remove();}else if(!0===this.gn){var _t489=[],_s226=le(_i385.getPathData({normalize:!0}),_e374),_l117=_h69[0];_t489.push.apply(_t489,_toConsumableArray(_s226)),n.quadBezierSegHud.curved?_t489.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l117.values[0],_l117.values[1]]}):_t489.push({type:"L",values:[_l117.values[0],_l117.values[1]]}),_t489.push.apply(_t489,_toConsumableArray(_h69.slice(1)));for(var _i386=0,_t490=_t489;_i386<_t490.length;_i386++){var _e376=_t490[_i386];_e376.values=_e376.values.map(function(t){return tt(t,n.geometryPrecision);});}_o120.setPathData(_t489),_i385.setPathData([]),_i385.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i385;}),s=!0;}this.mn=null,this.gn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide();}if(!1===s&&null===this.mn&&!0===i)if("start"===t){var _t491=this.Cn(e);this.mn=e,this.gn=!0,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"start",_t491);}else if("end"===t){var _t492=this.Cn(e);this.mn=e,this.gn=!1,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"end",_t492);}}},{key:"Cn",value:function Cn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator259=_createForOfIteratorHelper(e),_step259;try{for(_iterator259.s();!(_step259=_iterator259.n()).done;){var _i387=_step259.value;if(_i387.href.baseVal==="#"+t.id)return _i387;}}catch(err){_iterator259.e(err);}finally{_iterator259.f();}}return null;}}]);return mr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mr,"observedAttributes",["enabled"]);customElements.define("bx-quadbeziercontext",mr);var gr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var fr=/*#__PURE__*/function(_HTMLElement52){_inherits(fr,_HTMLElement52);var _super54=_createSuper(fr);function fr(){_classCallCheck(this,fr);return _super54.apply(this,arguments);}_createClass(fr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this174=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this174.yn(t);}),t.pathHud.addEventListener("nodeclick",this.kn=function(t){_this174.Sn(t);});}},{key:"en",value:function en(){var t=this.Js.board;t.pathHud.passive=!1,t.arcSegHud.drawEnd(),t.workspaces.removeEventListener("pointerdown",this.vn),t.pathHud.removeEventListener("nodeclick",this.kn),this.dispatchEvent(new CustomEvent("_disable"));}},{key:"yn",value:function yn(t){var _this175=this;if(this.ho)return;this.ho=!0;var e,i,s,n,o,l=this.Js.board,a=l.currentContainer||l.currentWorkspace,h=this.Qs.getConfig("bx-arcsettings:style",gr),r=new DOMPoint(t.clientX,t.clientY),d=new DOMPoint(r.x-100,r.y),c=null,p=[];l.pathHud.deselectAllSegs(),l.pathHud.passive=!0,l.arcSegHud.draw(a,r,d);var u=function u(){l.undoManager.checkpoint("Draw arc");var t=p[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref70=_toConsumableArray(l.arcSegHud.values),_e377=_ref70[0],_i388=_ref70[1],_s227=_ref70[2],_n153=_ref70[3],_o121=_ref70[4],_t$values12=_slicedToArray(t.values,2),_a82=_t$values12[0],_h70=_t$values12[1];p.push({type:"A",values:[_e377,_i388,_s227,_n153,_o121,_a82,_h70]},{type:"Z",values:[]});}var _iterator260=_createForOfIteratorHelper(p),_step260;try{for(_iterator260.s();!(_step260=_iterator260.n()).done;){var _t493=_step260.value;_t493.values=_t493.values.map(function(t){return tt(t,l.geometryPrecision);});}}catch(err){_iterator260.e(err);}finally{_iterator260.f();}c.setPathData(p);},x=function x(){l.workspaces.removeEventListener("pointerup",e),l.pathHud.removeEventListener("nodepointerdown",i),l.undoManager.removeEventListener("undoorredo",s),l.removeEventListener("keydown",n),_this175.removeEventListener("_disable",o),l.pathHud.passive=!1,l.arcSegHud.drawEnd(),_this175.ho=!1;};l.workspaces.addEventListener("pointerup",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(!(Te(r,e)<4))if(null===c){l.undoManager.checkpoint("Draw arc"),c=Ii("svg:path"),a.append(c),rl(c,h);var _t494=qt(c),_i389=_t494.inverse(),_s228=r.matrixTransform(_i389);p.push({type:"M",values:[_s228.x,_s228.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator261=_createForOfIteratorHelper(p),_step261;try{for(_iterator261.s();!(_step261=_iterator261.n()).done;){var _t495=_step261.value;_t495.values=_t495.values.map(function(t){return tt(t,l.geometryPrecision);});}}catch(err){_iterator261.e(err);}finally{_iterator261.f();}c.setPathData(p),l.selectedElements=[].concat(_toConsumableArray(l.selectedElements),[c]);{var _i390=at(p),_s229=_i390[_i390.length-1],_n154=_i390[_i390.length-2],_o122=_this175.bo(_n154,_s229).matrixTransform(_t494);l.arcSegHud.draw(c,e,_o122);}}else{l.undoManager.checkpoint("Draw arc");var _t496=qt(c),_e378=new DOMPoint(l.arcSegHud.values[5],l.arcSegHud.values[6]).matrixTransform(_t496);0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator262=_createForOfIteratorHelper(p),_step262;try{for(_iterator262.s();!(_step262=_iterator262.n()).done;){var _t497=_step262.value;_t497.values=_t497.values.map(function(t){return tt(t,l.geometryPrecision);});}}catch(err){_iterator262.e(err);}finally{_iterator262.f();}c.setPathData(p);{var _i391=at(p),_s230=_i391[_i391.length-1],_n155=_i391[_i391.length-2],_o123=_this175.bo(_n155,_s230).matrixTransform(_t496);l.arcSegHud.draw(c,_e378,_o123);}}}),l.pathHud.addEventListener("nodepointerdown",i=/*#__PURE__*/function(){var _ref71=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee72(t){var e,_t498,_i392,_s231,_e379,_n156,_ref72,_e380,_i393,_s232,_o124,_a83,_t498$0$values,_h71,_r47,_i394,_n157,_t499,_p23,_ref74,_t500,_i395,_s233,_n158,_o125,_e381,_s234,_t501,_h72,_ref73,_t502,_e382,_i396,_s235,_n159,_h72$values,_o126,_a84,_iterator263,_step263,_t503;return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:t.preventDefault();e=t.detail;if(!(e.path===c)){_context73.next=6;break;}"start"===e.position?(u(),x()):"end"===e.position&&x();_context73.next=32;break;case 6:if(!(null===c)){_context73.next=20;break;}l.undoManager.checkpoint("Draw arc"),c=e.path,p=c.getPathData({normalize:!0});_t498=dt(p)[e.subpathIndex];_context73.next=11;return ns(100);case 11:_i392=qt(c).inverse(),_s231=r.matrixTransform(_i392);if("end"===e.position){_e379=pt(_t498);_t498.length=0,_t498.push.apply(_t498,_toConsumableArray(_e379));}_n156=[];if(_n156.push({type:"M",values:[_s231.x,_s231.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])_n156.push({type:"L",values:[_t498[0].values[0],_t498[0].values[1]]});else{_ref72=_toConsumableArray(l.arcSegHud.values),_e380=_ref72[0],_i393=_ref72[1],_s232=_ref72[2],_o124=_ref72[3],_a83=_ref72[4],_t498$0$values=_slicedToArray(_t498[0].values,2),_h71=_t498$0$values[0],_r47=_t498$0$values[1];_n156.push({type:"A",values:[_e380,_i393,_s232,_o124,_a83,_h71,_r47]});}_n156.push.apply(_n156,_toConsumableArray(_t498.slice(1)));for(_i394=0,_n157=_n156;_i394<_n157.length;_i394++){_t499=_n157[_i394];_t499.values=_t499.values.map(function(t){return tt(t,l.geometryPrecision);});}c.setPathData(_n156),x();_context73.next=32;break;case 20:_t500=e.path,_i395=l.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t500.id),"\"]")),_s233=_t500.getPathData({normalize:!0}),_n158=dt(_s233),_o125=_n158[e.subpathIndex];l.undoManager.checkpoint("Draw arc");_i395?(_e381=Yt(_i395.closest("text"),c||a),_e381.multiplySelf(Wt(_t500))):_e381=Yt(_t500,c||a);_s234=le(_o125,_e381);_o125.length=0,_o125.push.apply(_o125,_toConsumableArray(_s234));if("end"===e.position){_t501=pt(_o125);_o125.length=0,_o125.push.apply(_o125,_toConsumableArray(_t501));}_h72=_o125[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[_h72.values[0],_h72.values[1]]});else{_ref73=_toConsumableArray(l.arcSegHud.values),_t502=_ref73[0],_e382=_ref73[1],_i396=_ref73[2],_s235=_ref73[3],_n159=_ref73[4],_h72$values=_slicedToArray(_h72.values,2),_o126=_h72$values[0],_a84=_h72$values[1];p.push({type:"A",values:[_t502,_e382,_i396,_s235,_n159,_o126,_a84]});}(_p23=p).push.apply(_p23,_toConsumableArray(_o125.slice(1)));_iterator263=_createForOfIteratorHelper(p);try{for(_iterator263.s();!(_step263=_iterator263.n()).done;){_t503=_step263.value;_t503.values=_t503.values.map(function(t){return tt(t,l.geometryPrecision);});}}catch(err){_iterator263.e(err);}finally{_iterator263.f();}c.setPathData(p),_o125.length=0,_s233=(_ref74=[]).concat.apply(_ref74,_toConsumableArray(_n158)),0===_s233.length?(_t500.remove(),l.selectedElements=l.selectedElements.filter(function(e){return e!==_t500;})):_t500.setPathData(_s233),x();case 32:case"end":return _context73.stop();}}},_callee72);}));return function i(_x75){return _ref71.apply(this,arguments);};}()),l.undoManager.addEventListener("undoorredo",s=function s(){if(null===c||!1===c.isConnected)x();else{p=c.getPathData({normalize:!0});var _t504,_e383=qt(c),_i397=p[p.length-1];_t504="C"===_i397.type?new DOMPoint(_i397.values[4],_i397.values[5]):new DOMPoint(_i397.values[0],_i397.values[1]);var _s236=_t504.matrixTransform(_e383);{var _t505=at(p),_i398=_t505[_t505.length-1],_n160=_t505[_t505.length-2],_o127=_this175.bo(_n160,_i398).matrixTransform(_e383);l.arcSegHud.draw(c,_s236,_o127);}}}),l.addEventListener("keydown",n=function n(t){var e=ao.fromEvent(t);e.matches("Enter","Shift")?(p.length>0&&u(),x()):(e.matches("Enter")||e.matches("Escape"))&&x();}),this.addEventListener("_disable",o=function o(){x();});}},{key:"Sn",value:function Sn(t){var _this176=this;var e=t.detail;if(this.ho||"mid"===e.position)return;this.ho=!0;var i,s,n,o,l,a=this.Js.board,h=(this.Qs.getConfig("bx-arcsettings:style",gr),e.path),r=h.getPathData({normalize:!0}),d=dt(r),c=d[e.subpathIndex],p=!1,u=!1,x=qt(h);if(a.pathHud.deselectAllSegs(),a.pathHud.passive=!0,"start"===e.position){var _c24;var _t506=pt(c);c.length=0,(_c24=c).push.apply(_c24,_toConsumableArray(_t506)),p=!0;}{var _t507=c[c.length-1],_e384=c[c.length-2],_i399=new DOMPoint("C"===_t507.type?_t507.values[4]:_t507.values[0],"C"===_t507.type?_t507.values[5]:_t507.values[1]);ns(100).then(function(){x=qt(h);var s=_i399.matrixTransform(x),n=_this176.bo(_e384,_t507).matrixTransform(x);a.arcSegHud.draw(h,s,n);});}var b=function b(){a.workspaces.removeEventListener("pointerup",i),a.pathHud.removeEventListener("nodepointerdown",s),a.undoManager.removeEventListener("undoorredo",n),a.removeEventListener("keydown",o),_this176.removeEventListener("_disable",l),a.pathHud.passive=!1,a.arcSegHud.drawEnd(),_this176.ho=!1;};a.workspaces.addEventListener("pointerup",i=function i(t){var _ref75;a.undoManager.checkpoint("Draw arc"),0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1]?c.push({type:"L",values:[a.arcSegHud.values[5],a.arcSegHud.values[6]]}):c.push({type:"A",values:_toConsumableArray(a.arcSegHud.values)});var _iterator264=_createForOfIteratorHelper(c),_step264;try{for(_iterator264.s();!(_step264=_iterator264.n()).done;){var _t509=_step264.value;_t509.values=_t509.values.map(function(t){return tt(t,a.geometryPrecision);});}}catch(err){_iterator264.e(err);}finally{_iterator264.f();}r=(_ref75=[]).concat.apply(_ref75,_toConsumableArray(d)),h.setPathData(r),u=!0;{var _t508=at(c),_e385=_t508[_t508.length-1],_i400=_t508[_t508.length-2],_s237=new DOMPoint("C"===_e385.type?_e385.values[4]:_e385.values[0],"C"===_e385.type?_e385.values[5]:_e385.values[1]).matrixTransform(x),_n161=_this176.bo(_i400,_e385).matrixTransform(x);a.arcSegHud.draw(h,_s237,_n161);}}),a.pathHud.addEventListener("nodepointerdown",s=function s(t){t.preventDefault();var i=t.detail;if(e.path===i.path){if(e.subpathIndex===i.subpathIndex){if(!1===p&&e.position===i.position||!0===p&&!0===u&&e.position!==i.position||!0===p&&!1===u&&e.position===i.position)b();else{var _ref77;a.undoManager.checkpoint("Draw arc");var _t510=c[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[_t510.values[0],_t510.values[1]]},{type:"Z",values:[]});else{var _ref76=_toConsumableArray(a.arcSegHud.values),_e386=_ref76[0],_i401=_ref76[1],_s238=_ref76[2],_n162=_ref76[3],_o128=_ref76[4],_t510$values=_slicedToArray(_t510.values,2),_l118=_t510$values[0],_h73=_t510$values[1];c.push({type:"A",values:[_e386,_i401,_s238,_n162,_o128,_l118,_h73]},{type:"Z",values:[]});}var _iterator265=_createForOfIteratorHelper(r),_step265;try{for(_iterator265.s();!(_step265=_iterator265.n()).done;){var _t511=_step265.value;_t511.values=_t511.values.map(function(t){return tt(t,a.geometryPrecision);});}}catch(err){_iterator265.e(err);}finally{_iterator265.f();}r=(_ref77=[]).concat.apply(_ref77,_toConsumableArray(d)),h.setPathData(r),b();}}else{var _c25,_ref79;a.undoManager.checkpoint("Draw arc");var _t512=d[i.subpathIndex];if("end"===i.position){var _e387=pt(_t512);_t512.length=0,_t512.push.apply(_t512,_toConsumableArray(_e387));}{var _e388=_t512[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[_e388.values[0],_e388.values[1]]});else{var _ref78=_toConsumableArray(a.arcSegHud.values),_t513=_ref78[0],_i402=_ref78[1],_s239=_ref78[2],_n163=_ref78[3],_o129=_ref78[4],_e388$values=_slicedToArray(_e388.values,2),_l119=_e388$values[0],_h74=_e388$values[1];c.push({type:"A",values:[_t513,_i402,_s239,_n163,_o129,_l119,_h74]});}var _iterator266=_createForOfIteratorHelper(c),_step266;try{for(_iterator266.s();!(_step266=_iterator266.n()).done;){var _t514=_step266.value;_t514.values=_t514.values.map(function(t){return tt(t,a.geometryPrecision);});}}catch(err){_iterator266.e(err);}finally{_iterator266.f();}}(_c25=c).push.apply(_c25,_toConsumableArray(_t512.slice(1))),_t512.length=0,r=(_ref79=[]).concat.apply(_ref79,_toConsumableArray(d)),h.setPathData(r),b();}}else{var _c26,_ref81,_ref82;var _t515=i.path,_e389=a.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t515.id),"\"]")),_s240=_t515.getPathData({normalize:!0}),_n164=dt(_s240),_o130=_n164[i.subpathIndex];a.undoManager.checkpoint("Draw arc");{var _i403;_e389?(_i403=Yt(_e389.closest("text"),h),_i403.multiplySelf(Wt(_t515))):_i403=Yt(_t515,h);var _s241=le(_o130,_i403);_o130.length=0,_o130.push.apply(_o130,_toConsumableArray(_s241));}if("end"===i.position){var _t516=pt(_o130);_o130.length=0,_o130.push.apply(_o130,_toConsumableArray(_t516));}var _l120=_o130[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[_l120.values[0],_l120.values[1]]});else{var _ref80=_toConsumableArray(a.arcSegHud.values),_t517=_ref80[0],_e390=_ref80[1],_i404=_ref80[2],_s242=_ref80[3],_n165=_ref80[4],_l120$values=_slicedToArray(_l120.values,2),_o131=_l120$values[0],_h75=_l120$values[1];c.push({type:"A",values:[_t517,_e390,_i404,_s242,_n165,_o131,_h75]});}(_c26=c).push.apply(_c26,_toConsumableArray(_o130.slice(1)));var _iterator267=_createForOfIteratorHelper(c),_step267;try{for(_iterator267.s();!(_step267=_iterator267.n()).done;){var _t518=_step267.value;_t518.values=_t518.values.map(function(t){return tt(t,a.geometryPrecision);});}}catch(err){_iterator267.e(err);}finally{_iterator267.f();}r=(_ref81=[]).concat.apply(_ref81,_toConsumableArray(d)),h.setPathData(r),_o130.length=0,_s240=(_ref82=[]).concat.apply(_ref82,_toConsumableArray(_n164)),0===_s240.length?(_t515.remove(),a.selectedElements=a.selectedElements.filter(function(e){return e!==_t515;})):_t515.setPathData(_s240),b();}}),a.undoManager.addEventListener("undoorredo",n=function n(){if(!1===h.isConnected)b();else if(r=h.getPathData({normalize:!0}),d=dt(r),c=d[e.subpathIndex],c){x=qt(h);{var _t519=c[c.length-1],_e391=c[c.length-2],_i405=new DOMPoint("C"===_t519.type?_t519.values[4]:_t519.values[0],"C"===_t519.type?_t519.values[5]:_t519.values[1]).matrixTransform(x),_s243=_this176.bo(_e391,_t519).matrixTransform(x);a.arcSegHud.draw(h,_i405,_s243);}}else b();}),a.addEventListener("keydown",o=function o(t){var e=ao.fromEvent(t);e.matches("Enter","Shift")?(r.length>0&&function(){var _ref84;a.undoManager.checkpoint("Draw arc");var t=c[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref83=_toConsumableArray(a.arcSegHud.values),_e392=_ref83[0],_i406=_ref83[1],_s244=_ref83[2],_n166=_ref83[3],_o132=_ref83[4],_t$values13=_slicedToArray(t.values,2),_l121=_t$values13[0],_h76=_t$values13[1];c.push({type:"A",values:[_e392,_i406,_s244,_n166,_o132,_l121,_h76]},{type:"Z",values:[]});}var _iterator268=_createForOfIteratorHelper(c),_step268;try{for(_iterator268.s();!(_step268=_iterator268.n()).done;){var _t520=_step268.value;_t520.values=_t520.values.map(function(t){return tt(t,a.geometryPrecision);});}}catch(err){_iterator268.e(err);}finally{_iterator268.f();}r=(_ref84=[]).concat.apply(_ref84,_toConsumableArray(d)),h.setPathData(r),u=!0;}(),b()):(e.matches("Enter")||e.matches("Escape"))&&b();}),this.addEventListener("_disable",l=function l(){b();});}},{key:"bo",value:function bo(t,e){var i;if("C"===e.type){var s=new DOMPoint("C"===t.type?t.values[4]:t.values[0],"C"===t.type?t.values[5]:t.values[1]),_n167=new DOMPoint(e.values[0],e.values[1]),_o133=new DOMPoint(e.values[2],e.values[3]),_l122=.9999999,_a85=1-_l122;i=new DOMPoint(_a85*_a85*s.x+_a85*_l122*2*_n167.x+_l122*_l122*_o133.x,_a85*_a85*s.y+_a85*_l122*2*_n167.y+_l122*_l122*_o133.y);}else if("C"===t.type){var _t$values14=_slicedToArray(t.values,6),_e393=_t$values14[0],_s245=_t$values14[1],_n168=_t$values14[2],_o134=_t$values14[3],_l123=_t$values14[4],_a86=_t$values14[5];i=new DOMPoint(_l123,_a86);}else if("L"===e.type||"M"===e.type){var _t$values15=_slicedToArray(t.values,2),_e394=_t$values15[0],_s246=_t$values15[1];i=new DOMPoint(_e394,_s246);}return i;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return fr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fr,"observedAttributes",["enabled"]);customElements.define("bx-arccontext",fr);var wr=Math.abs,vr=Math.min;var yr=/*#__PURE__*/function(_HTMLElement53){_inherits(yr,_HTMLElement53);var _super55=_createSuper(yr);_createClass(yr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"shape",get:function get(){return this.hasAttribute("shape")?this.getAttribute("shape"):"rect";},set:function set(t){this.setAttribute("shape",t);}}]);function yr(){_classCallCheck(this,yr);return _super55.call(this);}_createClass(yr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.mo=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"shape"===t&&this.fo());}},{key:"tn",value:function tn(){var _this177=this;var t=this.Js.board;t.style.cursor="crosshair",this.dispatchEvent(new CustomEvent("_enabledchange")),t.addEventListener("pointerdown",this.zn=function(t){_this177.wo(t);});}},{key:"en",value:function en(){var t=this.Js.board;this.dispatchEvent(new CustomEvent("_enabledchange")),t.removeEventListener("pointerdown",this.zn);}},{key:"fo",value:function fo(){this.dispatchEvent(new CustomEvent("_shapechange"));}},{key:"wo",value:function wo(t){var _this178=this;if(1!==t.buttons||!0===this.mo)return;var _e395,_i407,s=this.Js.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e395=function e(o){var l=new DOMPoint(o.clientX,o.clientY);Te(n,l)<3||(s.removeEventListener("pointermove",_e395),s.removeEventListener("lostpointercapture",_i407),"rect"===_this178.shape?_this178.vo(t):"circle"===_this178.shape?_this178.yo(t):"ellipse"===_this178.shape?_this178.ko(t):"ring"===_this178.shape?_this178.So(t):"pie"===_this178.shape?_this178._o(t):"crescent"===_this178.shape?_this178.Co(t):"triangle"===_this178.shape?_this178.Mo(t):"n-gon"===_this178.shape?_this178.Po(t):"star"===_this178.shape?_this178.Do(t):"cog"===_this178.shape?_this178.zo(t):"arrow"===_this178.shape?_this178.Oo(t):"cross"===_this178.shape?_this178.Eo(t):"spiral"===_this178.shape&&_this178.To(t));}),s.addEventListener("lostpointercapture",_i407=function i(){s.removeEventListener("pointermove",_e395),s.removeEventListener("lostpointercapture",_i407);});}},{key:"vo",value:function vo(t){var _this179=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-rectsettings:drawingMode","planar"),a=e.getConfig("bx-rectsettings:style",A),h=e.getConfig("bx-rectsettings:r",0);i.undoManager.checkpoint("Add rectangle"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);if(r=i.snapManager.snapPoint(r),"polar"===l||"planar"===l){var _t521,_d32=1,_c27=1,_p24="planar"===l?r.x:r.x-_d32/2,_u21="planar"===l?r.y:r.y-_c27/2,_x76=Ii("svg:rect");_x76.setAttribute("x",_p24),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d32),_x76.setAttribute("height",_c27),_x76.setAttribute("rx",h),_x76.setAttribute("ry",h),s.append(_x76),rl(_x76,a),i.selectedElements=[_x76];var _b19=qt(_x76).inverse(),_m19=Wt(_x76).multiply(_b19);_x76.setAttribute("transform",_m19.toString()),e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),i.addEventListener("pointermove",_t521=function _t521(t){var s=new DOMPoint(t.clientX,t.clientY);if("planar"===l){s=i.snapManager.snapPoint(s);var _t522=s.x-r.x||1,_n169=s.y-r.y||1;if(_d32=wr(_t522),_c27=wr(_n169),e.modKeys.shift){var _t523=vr(_d32,_c27);_d32=_t523,_c27=_t523;}_p24=_t522<0?r.x-_d32:r.x,_u21=_n169<0?r.y-_c27:r.y;}else if("polar"===l){var _t524=new DOMPoint(r.x,r.y),_i408=new DOMPoint(s.x,s.y),_n170=Te(_t524,_i408),_o135=new DOMPoint(_t524.x,_t524.y-_n170),_l124=_o135.matrixTransform(new DOMMatrix().translate(_t524.x,_t524.y).rotate(-45).translate(-_t524.x,-_t524.y)),_a87=_o135.matrixTransform(new DOMMatrix().translate(_t524.x,_t524.y).rotate(45).translate(-_t524.x,-_t524.y)),_h77=_o135.matrixTransform(new DOMMatrix().translate(_t524.x,_t524.y).rotate(135).translate(-_t524.x,-_t524.y)),_b20=Te(_l124,_a87);_p24=r.x-_b20/2,_u21=r.y-_b20/2,_d32=_b20,_c27=_b20;var _g20=Ge(_t524,_h77,_i408);e.modKeys.shift&&(_g20=Fe(_g20,45));var _f15=new DOMMatrix();_f15.translateSelf(_t524.x,_t524.y),_f15.rotateSelf(_g20),_f15.translateSelf(-_t524.x,-_t524.y),_x76.setAttribute("transform",_m19.multiply(_f15).toString());}_x76.setAttribute("x",_p24),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d32),_x76.setAttribute("height",_c27);});var _g19=function _g19(){i.removeEventListener("pointermove",_t521),i.removeEventListener("lostpointercapture",_g19),_this179.removeEventListener("_enabledchange",_g19),_this179.removeEventListener("_shapechange",_g19),i.snapManager.snapEnd(),ka(_x76,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_g19),this.addEventListener("_enabledchange",_g19),this.addEventListener("_shapechange",_g19);}else if("3-point"===l){var _t525=Ii("svg:rect");_t525.setAttribute("rx",h),_t525.setAttribute("ry",h),s.append(_t525),rl(_t525,a),i.selectedElements=[_t525];var _l125,_d33,_c28=Yt(i.currentWorkspace,_t525),_p25=qt(i.currentWorkspace).inverse(),_u22=Wt(_t525).multiply(_c28),_x77=r.matrixTransform(_p25),_b21=_x77,_m20=1;i.snapManager.snapStart(!0),this.mo=!0,_t525.setAttribute("height",10),_t525.setAttribute("transform",_u22.toString()),i.addEventListener("pointermove",_l125=function _l125(s){if(_p25=qt(i.currentWorkspace).inverse(),1===_m20){_b21=new DOMPoint(s.clientX,s.clientY),_b21=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_b21):i.snapManager.snapPoint(_b21),_b21=_b21.matrixTransform(_p25);var _n171=Te(_x77,_b21),_o136=(Ae(_x77,_b21),new DOMPoint(_x77.x+100,_x77.y)),_l126=Ge(_x77,_o136,_b21),_a88=new DOMMatrix();_a88.translateSelf(_x77.x,_x77.y),_a88.rotateSelf(_l126),_a88.translateSelf(-_x77.x,-_x77.y),_t525.setAttribute("x",_x77.x),_t525.setAttribute("y",_x77.y),_t525.setAttribute("width",_n171),_t525.setAttribute("height",1/i.scale),_t525.setAttribute("transform",_u22.multiply(_a88).toString());}else if(2===_m20){var _e396=new DOMPoint(s.clientX,s.clientY);_e396=i.snapManager.snapPoint(_e396),_e396=_e396.matrixTransform(_p25);var _$e=$e(_x77,_b21,_e396),_$e2=_slicedToArray(_$e,2),_n172=_$e2[0],_o137=_$e2[1],_l127=Te(_n172,_e396);Ge(_x77,_b21,_e396)>=0?_t525.setAttribute("y",_x77.y):_t525.setAttribute("y",_x77.y-_l127),_t525.setAttribute("height",_l127);}});var _g21=function _g21(){i.removeEventListener("pointermove",_l125),i.removeEventListener("pointerup",_d33),_this179.removeEventListener("_enabledchange",_g21),_this179.removeEventListener("_shapechange",_g21),i.snapManager.snapEnd(),ka(_t525,{geometryPrecision:n,transformPrecision:o}),_this179.mo=!1;};i.addEventListener("pointerup",_d33=function _d33(t){1===_m20?_m20=2:2===_m20&&_g21();}),this.addEventListener("_enabledchange",_g21),this.addEventListener("_shapechange",_g21);}}},{key:"yo",value:function yo(t){var _this180=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-circlesettings:style",A),h=0,r=0,d=0;s.undoManager.checkpoint("Add circle"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var c=new DOMPoint(t.clientX,t.clientY);c=s.snapManager.snapPoint(c);var p=Ii("svg:circle");n.append(p),rl(p,a),s.selectedElements=[p];var u=qt(p).inverse(),x=Wt(p).multiply(u);p.setAttribute("transform",x.toString()),s.addEventListener("pointermove",e=function e(_e397){var i=new DOMPoint(_e397.clientX,_e397.clientY),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(i.x,i.y),o=new J(s,n);h=s.x,r=s.y,d=o.length,p.setAttribute("cx",h),p.setAttribute("cy",r),p.setAttribute("r",d);});var b=function b(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",b),_this180.removeEventListener("_enabledchange",b),_this180.removeEventListener("_shapechange",b),s.snapManager.snapEnd(),ka(p,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",b),this.addEventListener("_enabledchange",b),this.addEventListener("_shapechange",b);}},{key:"ko",value:function ko(t){var _this181=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-ellipsesettings:drawingMode","planar"),a=e.getConfig("bx-ellipsesettings:style",A);i.undoManager.checkpoint("Add ellipse"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var h=new DOMPoint(t.clientX,t.clientY);h=i.snapManager.snapPoint(h);var r=Ii("svg:ellipse");if(s.append(r),rl(r,a),i.selectedElements=[r],"polar"===l||"planar"===l){var _s247,_a89=qt(r).inverse(),_d34=Wt(r).multiply(_a89);e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),r.setAttribute("transform",_d34.toString()),i.addEventListener("pointermove",_s247=function _s247(s){var n=new DOMPoint(s.clientX,s.clientY);if("planar"===l){n=i.snapManager.snapPoint(n);var _t526=n.x-h.x||1,_s248=n.y-h.y||1,_o138=wr(_t526),_l128=wr(_s248);if(e.modKeys.shift){var _t527=vr(_o138,_l128);_o138=_t527,_l128=_t527;}var _a90=_t526<0?h.x-_o138:h.x,_d35=_s248<0?h.y-_l128:h.y;r.setAttribute("cx",_a90+_o138/2),r.setAttribute("cy",_d35+_l128/2),r.setAttribute("rx",_o138/2),r.setAttribute("ry",_l128/2);}else if("polar"===l){var _e398=new DOMPoint(t.clientX,t.clientY),_i409=new DOMPoint(n.x,n.y),_s249=new J(_e398,_i409);r.setAttribute("cx",_e398.x),r.setAttribute("cy",_e398.y),r.setAttribute("rx",_s249.length),r.setAttribute("ry",_s249.length);}});var _c29=function _c29(){i.removeEventListener("pointermove",_s247),i.removeEventListener("lostpointercapture",_c29),_this181.removeEventListener("_enabledchange",_c29),_this181.removeEventListener("_shapechange",_c29),i.snapManager.snapEnd(),ka(r,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_c29),this.addEventListener("_enabledchange",_c29),this.addEventListener("_shapechange",_c29);}else if("3-point"===l){var _t528,_s250,_l129=Yt(i.currentWorkspace,r),_a91=qt(i.currentWorkspace).inverse(),_d36=Wt(r).multiply(_l129),_c30=h.matrixTransform(_a91),_p26=_c30,_u23=1;i.snapManager.snapStart(!0),this.mo=!0,r.setAttribute("transform",_d36.toString()),i.addEventListener("pointermove",_t528=function _t528(t){if(_a91=qt(i.currentWorkspace).inverse(),1===_u23){_p26=new DOMPoint(t.clientX,t.clientY),_p26=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(h,_p26):i.snapManager.snapPoint(_p26),_p26=_p26.matrixTransform(_a91);var _s251=Te(_c30,_p26),_n173=Ae(_c30,_p26),_o139=new DOMPoint(_c30.x+100,_c30.y),_l130=Ge(_c30,_o139,_p26),_u24=_n173.x,_x79=_n173.y,_b22=_s251/2,_m21=new DOMMatrix();_m21.translateSelf(_n173.x,_n173.y),_m21.rotateSelf(_l130),_m21.translateSelf(-_n173.x,-_n173.y),r.setAttribute("cx",_u24),r.setAttribute("cy",_x79),r.setAttribute("rx",_b22),r.setAttribute("transform",_d36.multiply(_m21).toString()),r.setAttribute("ry",1/i.scale);}else if(2===_u23){var _e399=new DOMPoint(t.clientX,t.clientY);_e399=i.snapManager.snapPoint(_e399),_e399=_e399.matrixTransform(_a91);var _$e3=$e(_c30,_p26,_e399),_$e4=_slicedToArray(_$e3,2),_s252=_$e4[0],_n174=_$e4[1],_o140=Te(_s252,_e399);r.setAttribute("ry",_o140);}});var _x78=function _x78(){i.removeEventListener("pointermove",_t528),i.removeEventListener("pointerup",_s250),_this181.removeEventListener("_enabledchange",_x78),_this181.removeEventListener("_shapechange",_x78),i.snapManager.snapEnd(),ka(r,{geometryPrecision:n,transformPrecision:o}),_this181.mo=!1;};i.addEventListener("pointerup",_s250=function _s250(t){1===_u23?_u23=2:2===_u23&&_x78();}),this.addEventListener("_enabledchange",_x78),this.addEventListener("_shapechange",_x78);}}},{key:"So",value:function So(t){var _this182=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-ringsettings:drawingMode","polar"),l=i.getConfig("bx-ringsettings:r1",.6),a=i.getConfig("bx-ringsettings:style",A),h=s.geometryPrecision,r=s.transformPrecision;s.undoManager.checkpoint("Add ring"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=1,u=1,x=l*p,b=l*u,m=Ii("svg:path");_vl(m,{type:"ring",values:[d,c,x,b,p,u]},h),n.append(m),rl(m,a),s.selectedElements=[m];var g=qt(m).inverse(),f=Wt(m).multiplySelf(g);m.setAttribute("transform",f.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e400){if("planar"===o){var _s253=_e400.clientX-t.clientX||1,_n175=_e400.clientY-t.clientY||1,_o141=wr(_s253),_a92=wr(_n175);if(i.modKeys.shift){var _t529=vr(_o141,_a92);_o141=_t529,_a92=_t529;}var _h78=_s253<0?t.clientX-_o141:t.clientX,_r48=_n175<0?t.clientY-_a92:t.clientY;d=_h78+_o141/2,c=_r48+_a92/2,p=_o141/2,u=_a92/2,x=l*p,b=l*u;}else if("polar"===o){var _s254=new DOMPoint(t.clientX,t.clientY),_n176=new DOMPoint(_s254.x,_s254.y-100),_o142=new DOMPoint(_e400.clientX,_e400.clientY),_a93=new J(_s254,_o142),_h79=Ge(_s254,_n176,_o142);d=_s254.x,c=_s254.y,p=_a93.length,u=_a93.length,x=l*p,b=l*u,i.modKeys.shift&&(_h79=Fe(_h79,45));var _r49=new DOMMatrix();_r49.translateSelf(_s254.x,_s254.y),_r49.rotateSelf(_h79),_r49.translateSelf(-_s254.x,-_s254.y),m.setAttribute("transform",f.multiply(_r49).toString());}_vl(m,{type:"ring",values:[d,c,x,b,p,u]},h);});var w=function w(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",w),_this182.removeEventListener("_enabledchange",w),_this182.removeEventListener("_shapechange",w),ka(m,{geometryPrecision:h,transformPrecision:r});};s.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"_o",value:function _o(t){var _this183=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-piesettings:drawingMode","polar"),l=i.getConfig("bx-piesettings:style",A),a=s.geometryPrecision,h=s.transformPrecision,r=i.getConfig("bx-piesettings:r1",0);s.undoManager.checkpoint("Add pie"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=200,u=r*p,x=90,b=Ii("svg:path");n.append(b),rl(b,l),s.selectedElements=[b];var m=qt(b).inverse(),g=Wt(b).multiplySelf(m);b.setAttribute("transform",g.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e402){if("planar"===o){var _s255=_e402.clientX-t.clientX||1,_n177=_e402.clientY-t.clientY||1,_o143=wr(_s255),_l131=wr(_n177);if(i.modKeys.shift){var _t530=vr(_o143,_l131);_o143=_t530,_l131=_t530;}var _a94=_s255<0?t.clientX-_o143:t.clientX,_h80=_n177<0?t.clientY-_l131:t.clientY;if(p=_o143/2,u=r*p,d=_a94+_o143/2,c=_h80+_l131/2,_o143===_l131)b.setAttribute("transform",g.toString());else{var _t531=1,_e401=_l131/_o143,_i410=-d*(_t531-1),_s256=-c*(_e401-1),_n178=DOMMatrix.fromMatrix(g);_n178.translateSelf(_i410,_s256),_n178.scaleSelf(_t531,_e401),b.setAttribute("transform",_n178.toString());}}else if("polar"===o){var _i411=new DOMPoint(t.clientX,t.clientY),_s257=new DOMPoint(_i411.x,_i411.y-100),_n179=new DOMPoint(_e402.clientX,_e402.clientY),_o144=new J(_i411,_n179);d=_i411.x,c=_i411.y,p=_o144.length,u=r*p,x=Ge(_i411,_s257,_n179),x<=0&&(x=360+x);}_vl(b,{type:"pie",values:[d,c,u,p,x,360]},a);});var f=function f(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",f),_this183.removeEventListener("_enabledchange",f),_this183.removeEventListener("_shapechange",f),ka(b,{geometryPrecision:a,transformPrecision:h});};s.addEventListener("lostpointercapture",f),this.addEventListener("_enabledchange",f),this.addEventListener("_shapechange",f);}},{key:"Co",value:function Co(t){var _this184=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-crescentsettings:drawingMode","polar"),l=i.getConfig("bx-crescentsettings:style",A),a=i.getConfig("bx-crescentsettings:arch",300),h=i.getConfig("bx-crescentsettings:hollow",.7),r=s.geometryPrecision,d=s.transformPrecision,c=0,p=0,u=200;s.undoManager.checkpoint("Add crescent"),s.setPointerCapture(t.pointerId);var x=Ii("svg:path");n.append(x),rl(x,l),s.selectedElements=[x];var b=qt(x).inverse(),m=Wt(x).multiplySelf(b);x.setAttribute("transform",m.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e404){if("planar"===o){var _s258=_e404.clientX-t.clientX||1,_n180=_e404.clientY-t.clientY||1,_o145=wr(_s258),_l132=wr(_n180);if(i.modKeys.shift){var _t532=vr(_o145,_l132);_o145=_t532,_l132=_t532;}var _a95=_s258<0?t.clientX-_o145:t.clientX,_h81=_n180<0?t.clientY-_l132:t.clientY;if(u=_o145/2,c=_a95+_o145/2,p=_h81+_l132/2,_o145===_l132)x.setAttribute("transform",m.toString());else{var _t533=1,_e403=_l132/_o145,_i412=-c*(_t533-1),_s259=-p*(_e403-1),_n181=new DOMMatrix();_n181.translateSelf(_i412,_s259),_n181.scaleSelf(_t533,_e403),x.setAttribute("transform",m.multiply(_n181).toString());}}else if("polar"===o){var _s260=new DOMPoint(t.clientX,t.clientY),_n182=new DOMPoint(_s260.x,_s260.y-100),_o146=new DOMPoint(_e404.clientX,_e404.clientY),_l133=new J(_s260,_o146);c=_s260.x,p=_s260.y,u=_l133.length;var _a96=Ge(_s260,_n182,_o146);_a96-=180,i.modKeys.shift&&(_a96=Fe(_a96,45));var _h82=new DOMMatrix();_h82.translateSelf(_s260.x,_s260.y),_h82.rotateSelf(_a96),_h82.translateSelf(-_s260.x,-_s260.y),x.setAttribute("transform",m.multiply(_h82).toString());}_vl(x,{type:"crescent",values:[c,p,u,a,h]},r);});var g=function g(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",g),_this184.removeEventListener("_enabledchange",g),_this184.removeEventListener("_shapechange",g),ka(x,{geometryPrecision:r,transformPrecision:d});};s.addEventListener("lostpointercapture",g),this.addEventListener("_enabledchange",g),this.addEventListener("_shapechange",g);}},{key:"Mo",value:function Mo(t){var _this185=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=n.geometryPrecision,a=n.transformPrecision,h=s.getConfig("bx-trianglesettings:drawingMode","polar"),r=s.getConfig("bx-trianglesettings:style",A);n.undoManager.checkpoint("Add triangle"),n.snapManager.snapStart(!1),n.setPointerCapture(t.pointerId);var d=new DOMPoint(t.clientX,t.clientY);d=n.snapManager.snapPoint(d);var c=1,p=1,u="planar"===h?d.x:d.x-p/2,x="planar"===h?d.y:d.y-c/2,b=s.getConfig("bx-trianglesettings:shift",.5),m=s.getConfig("bx-trianglesettings:corner",0),g=Ii("svg:path");_vl(g,{type:"triangle",values:[u,x,p,c,b,m]},l),o.append(g),rl(g,r),n.selectedElements=[g];var f=qt(g).inverse(),w=Wt(g).multiply(f);g.setAttribute("transform",w.toString()),s.modKeys.ctrl&&("polar"===h?h="planar":"planar"===h&&(h="polar")),n.addEventListener("keydown",i=function i(t){var e=ao.fromEvent(t);if(e.matches("ArrowLeft")){if(t.preventDefault(),t.stopPropagation(),m>0){m=et(m-.04,0,.5,2),_vl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}else if(e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),m<.5)){m=et(m+.04,0,.5,2),_vl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}),n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=n.snapManager.snapPoint(e),"planar"===h){var _t534=e.x-d.x||1,_i413=e.y-d.y||1;if(p=wr(_t534),c=wr(_i413),s.modKeys.shift){var _t535=vr(p,c);p=_t535,c=_t535;}u=_t534<0?d.x-p:d.x,x=_i413<0?d.y-c:d.y;}else if("polar"===h){var _t536=new DOMPoint(d.x,d.y),_i414=new DOMPoint(e.x,e.y),_n183=Te(_t536,_i414),_o147=new DOMPoint(_t536.x,_t536.y-_n183),_l134=_o147.matrixTransform(new DOMMatrix().translate(_t536.x,_t536.y).rotate(120).translate(-_t536.x,-_t536.y)),_a97=_l134.matrixTransform(new DOMMatrix().translate(_t536.x,_t536.y).rotate(120).translate(-_t536.x,-_t536.y)),_h83=Ge(_t536,_l134,_i414);p=_l134.x-_a97.x||1,c=_l134.y-_o147.y||1,u=_a97.x,x=_o147.y,s.modKeys.shift&&(_h83=Fe(_h83,45));var _r50=new DOMMatrix();_r50.translateSelf(_t536.x,_t536.y),_r50.rotateSelf(_h83),_r50.translateSelf(-_t536.x,-_t536.y),g.setAttribute("transform",w.multiply(_r50).toString());}_vl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);});var v=function v(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",v),n.removeEventListener("keydown",i),_this185.removeEventListener("_enabledchange",v),_this185.removeEventListener("_shapechange",v),ka(g,{geometryPrecision:l,transformPrecision:a}),n.snapManager.snapEnd();};n.addEventListener("lostpointercapture",v),this.addEventListener("_enabledchange",v),this.addEventListener("_shapechange",v);}},{key:"Po",value:function Po(t){var _this186=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-ngonsettings:drawingMode","polar"),a=s.getConfig("bx-ngonsettings:style",A),h=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-ngonsettings:arms",5),b=s.getConfig("bx-ngonsettings:corner",0);n.undoManager.checkpoint("Add n-gon"),n.setPointerCapture(t.pointerId);var m=Ii("svg:path");_vl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h),o.append(m),rl(m,a),n.selectedElements=[m];var g=qt(m).inverse(),f=Wt(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),x+=1,_vl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h)):e.matches("ArrowDown")?(t.preventDefault(),t.stopPropagation(),x>5&&(x-=1,_vl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h))):e.matches("ArrowLeft")?(t.preventDefault(),t.stopPropagation(),b>0&&(b=et(b-.04,0,.5,2),_vl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h))):e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),b<.5&&(b=et(b+.04,0,.5,2),_vl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h)));}),n.addEventListener("pointermove",e=function e(_e405){if("planar"===l){var _i415=_e405.clientX-t.clientX||1,_n184=_e405.clientY-t.clientY||1,_o148=wr(_i415),_l135=wr(_n184);if(s.modKeys.shift){var _t537=vr(_o148,_l135);_o148=_t537,_l135=_t537;}var _a98=_i415<0?t.clientX-_o148:t.clientX,_h84=_n184<0?t.clientY-_l135:t.clientY;p=_o148/2,u=_l135/2,d=_a98+p,c=_h84+u;}else if("polar"===l){var _i416=new DOMPoint(t.clientX,t.clientY),_n185=$l(2,d,c,p,u,x),_o149=new DOMPoint(_e405.clientX,_e405.clientY),_l136=new J(_i416,_o149),_a99=Ge(_i416,_n185,_o149);d=_i416.x,c=_i416.y,p=_l136.length,u=_l136.length,s.modKeys.shift&&(_a99=Fe(_a99,180/x));var _h85=new DOMMatrix();_h85.translateSelf(_i416.x,_i416.y),_h85.rotateSelf(_a99),_h85.translateSelf(-_i416.x,-_i416.y),m.setAttribute("transform",f.multiply(_h85).toString());}_vl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h);});var w=function w(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),n.removeEventListener("keydown",i),_this186.removeEventListener("_enabledchange",w),_this186.removeEventListener("_shapechange",w),ka(m,{geometryPrecision:h,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"Do",value:function Do(t){var _this187=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-starsettings:drawingMode","polar"),a=s.getConfig("bx-starsettings:style",A),h=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-starsettings:depth",.4),b=s.getConfig("bx-starsettings:arms",5);n.undoManager.checkpoint("Add star"),n.setPointerCapture(t.pointerId);var m=Ii("svg:path");_vl(m,{type:"star",values:[d,c,p,u,x,b]},h),o.append(m),rl(m,a),n.selectedElements=[m];var g=qt(m).inverse(),f=Wt(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),b+=1,_vl(m,{type:"star",values:[d,c,p,u,x,b]},h)):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),b>3&&(b-=1,_vl(m,{type:"star",values:[d,c,p,u,x,b]},h)));}),n.addEventListener("pointermove",e=function e(_e406){if("planar"===l){var _i417=_e406.clientX-t.clientX||1,_n186=_e406.clientY-t.clientY||1,_o150=wr(_i417),_l137=wr(_n186);if(s.modKeys.shift){var _t538=vr(_o150,_l137);_o150=_t538,_l137=_t538;}var _a100=_i417<0?t.clientX-_o150:t.clientX,_h86=_n186<0?t.clientY-_l137:t.clientY;p=_o150/2,u=_l137/2,d=_a100+p,c=_h86+u;}else if("polar"===l){var _i418=new DOMPoint(t.clientX,t.clientY),_n187=new DOMPoint(_i418.x,_i418.y-100),_o151=new DOMPoint(_e406.clientX,_e406.clientY),_l138=new J(_i418,_o151),_a101=Ge(_i418,_n187,_o151);d=_i418.x,c=_i418.y,p=_l138.length,u=_l138.length,s.modKeys.shift&&(_a101=Fe(_a101,180/b/2));var _h87=new DOMMatrix();_h87.translateSelf(_i418.x,_i418.y),_h87.rotateSelf(_a101),_h87.translateSelf(-_i418.x,-_i418.y),m.setAttribute("transform",f.multiply(_h87).toString());}_vl(m,{type:"star",values:[d,c,p,u,x,b]},h);});var w=function w(){n.removeEventListener("keydown",i),n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),_this187.removeEventListener("_enabledchange",w),_this187.removeEventListener("_shapechange",w),ka(m,{geometryPrecision:h,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"zo",value:function zo(t){var _this188=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-cogsettings:drawingMode","polar"),l=i.getConfig("bx-cogsettings:style",A),a=s.geometryPrecision,h=s.transformPrecision;s.undoManager.checkpoint("Add cog"),s.setPointerCapture(t.pointerId);var r=i.getConfig("bx-cogsettings:r1",.3),d=i.getConfig("bx-cogsettings:r2",.65),c=i.getConfig("bx-cogsettings:r3",1),p=i.getConfig("bx-cogsettings:splay",.38),u=i.getConfig("bx-cogsettings:teeth",8),x=0,b=0,m=0,g=0,f=0,w=Ii("svg:path");n.append(w),rl(w,l),s.selectedElements=[w];var v=qt(w).inverse(),y=Wt(w).multiplySelf(v);w.setAttribute("transform",y.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e408){if("planar"===o){var _s261=_e408.clientX-t.clientX||1,_n188=_e408.clientY-t.clientY||1,_o152=wr(_s261),_l139=wr(_n188);if(i.modKeys.shift){var _t539=vr(_o152,_l139);_o152=_t539,_l139=_t539;}var _a102=_s261<0?t.clientX-_o152:t.clientX,_h88=_n188<0?t.clientY-_l139:t.clientY,_p27=_o152/2;if(x=_a102+_o152/2,b=_h88+_l139/2,m=_p27*r,g=_p27*d,f=_p27*c,_o152===_l139)w.setAttribute("transform",y.toString());else{var _t540=1,_e407=_l139/_o152,_i419=-x*(_t540-1),_s262=-b*(_e407-1),_n189=DOMMatrix.fromMatrix(y);_n189.translateSelf(_i419,_s262),_n189.scaleSelf(_t540,_e407),w.setAttribute("transform",_n189.toString());}}else if("polar"===o){var _s263=new DOMPoint(t.clientX,t.clientY),_n190=new DOMPoint(_s263.x,_s263.y-100),_o153=new DOMPoint(_e408.clientX,_e408.clientY),_l140=new J(_s263,_o153),_a103=Ge(_s263,_n190,_o153),_h89=_l140.length;x=_s263.x,b=_s263.y,m=_h89*r,g=_h89*d,f=_h89*c,i.modKeys.shift&&(_a103=Fe(_a103,45));var _p28=new DOMMatrix();_p28.translateSelf(_s263.x,_s263.y),_p28.rotateSelf(_a103),_p28.translateSelf(-_s263.x,-_s263.y),w.setAttribute("transform",y.multiply(_p28).toString());}_vl(w,{type:"cog",values:[x,b,m,g,f,p,u]},a);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this188.removeEventListener("_enabledchange",k),_this188.removeEventListener("_shapechange",k),ka(w,{geometryPrecision:a,transformPrecision:h});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Oo",value:function Oo(t){var _this189=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=qt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Add arrow"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var h=new DOMPoint(t.clientX,t.clientY);h=s.snapManager.snapPoint(h),h=h.matrixTransform(a);var r=new DOMPoint(h.x+100,h.y),d=i.getConfig("bx-arrowsettings:baseThickness",10),c=i.getConfig("bx-arrowsettings:headThickness",40),p=i.getConfig("bx-arrowsettings:headLength",40),u=i.getConfig("bx-arrowsettings:headInset",0),x=i.getConfig("bx-arrowsettings:style",A),b=p,m=c,g=h.x,f=h.y-m/2,w=Ii("svg:path"),v={type:"arrow",values:[g,f,b,m,d,p,u]};_vl(w,v,o),n.append(w),rl(w,x),s.selectedElements=[w];var y=Wt(w).multiply(Yt(s.currentWorkspace,w));w.setAttribute("transform",y.toString()),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(a),b=Te(h,e),b<p&&(b=p);var n=Ge(h,r,e);i.modKeys.shift&&(n=Fe(n,45));var l=new DOMMatrix();l.translateSelf(h.x,h.y),l.rotateSelf(n),l.translateSelf(-h.x,-h.y),w.setAttribute("transform",y.multiply(l).toString()),v={type:"arrow",values:[g,f,b,m,d,p,u]},_vl(w,v,o);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this189.removeEventListener("_enabledchange",k),_this189.removeEventListener("_shapechange",k),s.snapManager.snapEnd(),ka(w,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Eo",value:function Eo(t){var _this190=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-crosssettings:drawingMode","polar"),h=i.getConfig("bx-crosssettings:style",A);s.undoManager.checkpoint("Add cross"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=r.x,c=r.y,p=0,u=0,x=0,b=0,m=i.getConfig("bx-crosssettings:thickness",.2),g=i.getConfig("bx-crosssettings:shift",.5),f=Ii("svg:path");_vl(f,{type:"cross",values:[d,c,p,u,x,b,g]},o),n.append(f),rl(f,h),s.selectedElements=[f];var w=qt(f).inverse(),v=Wt(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=s.snapManager.snapPoint(e),"planar"===a){var _t541=e.x-r.x||1,_s264=e.y-r.y||1;if(p=wr(_t541),u=wr(_s264),i.modKeys.shift){var _t542=vr(p,u);p=_t542,u=_t542;}d=_t541<0?r.x-p:r.x,c=_s264<0?r.y-u:r.y;}else if("polar"===a){var _t543=new DOMPoint(r.x,r.y),_s265=new DOMPoint(e.x,e.y),_n191=Te(_t543,_s265),_o154=new DOMPoint(_t543.x,_t543.y-_n191),_l141=_o154.matrixTransform(new DOMMatrix().translate(_t543.x,_t543.y).rotate(-45).translate(-_t543.x,-_t543.y)),_a104=_o154.matrixTransform(new DOMMatrix().translate(_t543.x,_t543.y).rotate(45).translate(-_t543.x,-_t543.y)),_h90=_o154.matrixTransform(new DOMMatrix().translate(_t543.x,_t543.y).rotate(135).translate(-_t543.x,-_t543.y)),_x80=Te(_l141,_a104);d=r.x-_x80/2,c=r.y-_x80/2,p=_x80,u=_x80;var _b23=Ge(_t543,_h90,_s265);i.modKeys.shift&&(_b23=Fe(_b23,45));var _m22=new DOMMatrix();_m22.translateSelf(_t543.x,_t543.y),_m22.rotateSelf(_b23),_m22.translateSelf(-_t543.x,-_t543.y),f.setAttribute("transform",v.multiply(_m22).toString());}x=u*m,b=p*m,_vl(f,{type:"cross",values:[d,c,p,u,x,b,g]},o);});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this190.removeEventListener("_enabledchange",y),_this190.removeEventListener("_shapechange",y),s.snapManager.snapEnd(),ka(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}},{key:"To",value:function To(t){var _this191=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-spiralsettings:drawingMode","polar"),h=i.getConfig("bx-spiralsettings:style",$);s.undoManager.checkpoint("Add spiral"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=i.getConfig("bx-spiralsettings:r1",0),c=i.getConfig("bx-spiralsettings:startAngle",0),p=i.getConfig("bx-spiralsettings:endAngle",1080),u=new DOMPoint(r.x,r.y-100).matrixTransform(new DOMMatrix().translate(r.x,r.y).rotate(p).translate(-r.x,-r.y)),x=r.x,b=r.y,m=1,g=d*m,f=Ii("svg:path");_vl(f,{type:"spiral",values:[x,b,g,m,c,p]},o),n.append(f),rl(f,h),s.selectedElements=[f];var w=qt(f).inverse(),v=Wt(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),s.addEventListener("pointermove",e=function e(_e409){if("planar"===a){var _i420=_e409.clientX-t.clientX||1,_s266=_e409.clientY-t.clientY||1,_n192=wr(_i420),_l142=wr(_s266),_a105=vr(_n192,_l142);_n192=_a105,_l142=_a105;var _h91=_i420<0?t.clientX-_n192:t.clientX,_r51=_s266<0?t.clientY-_l142:t.clientY;x=_h91+_n192/2,b=_r51+_l142/2,m=_n192/2,g=d*m,_vl(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}else if("polar"===a){var _t544=new DOMPoint(_e409.clientX,_e409.clientY);_t544=s.snapManager.snapPoint(_t544);var _n193=Ge(r,u,_t544);u=_t544,p+=_n193,!1===i.modKeys.shift&&(m=Te(r,_t544)),g=d*m,_vl(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this191.removeEventListener("_enabledchange",y),_this191.removeEventListener("_shapechange",y),ka(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}}]);return yr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yr,"observedAttributes",["enabled","shape"]);customElements.define("bx-shapecontext",yr);var kr=new(/*#__PURE__*/function(){function _class3(){_classCallCheck(this,_class3);this.Ao=new Dexie("GoogleFontsManager"),this.Ao.version(1).stores({cache:"family"}),this.$o={};}_createClass(_class3,[{key:"search",value:function search(){var _this192=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"alphabetical";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"all";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"all";var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"all";return new Promise(/*#__PURE__*/function(){var _ref85=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee73(o){var l,a;return regeneratorRuntime.wrap(function _callee73$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:_context74.next=2;return _this192.Io();case 2:l=[],a=_this192.Ao.cache;""!==t.trim()&&(a=a.filter(function(e){return e.family.toLowerCase().includes(t.trim().toLowerCase());}));"all"!==i&&(a=a.filter(function(t){return t.category===i;}));"all"!==s&&(a=a.filter(function(t){return t.subsets.includes(s);}));_context74.next=8;return a.toArray();case 8:l=_context74.sent;"date"===e?l=l.sort(function(t,e){return t.dateRank>e.dateRank?-1:1;}):"popularity"===e?l=l.sort(function(t,e){return t.popularityRank>e.popularityRank?-1:1;}):"trending"===e&&(l=l.sort(function(t,e){return t.trendingRank>e.trendingRank?-1:1;}));"all"!==n&&(l=l.slice(40*n,40*(n+1)));o(l);case 12:case"end":return _context74.stop();}}},_callee73);}));return function(_x81){return _ref85.apply(this,arguments);};}());}},{key:"refresh",value:function refresh(){var _this193=this;return new Promise(/*#__PURE__*/function(){var _ref86=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee74(t,e){var i,s,n;return regeneratorRuntime.wrap(function _callee74$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:i=algoliasearch("501AW1B8SF","e2882397225989ca824db28672ee78ac").initIndex("googleFonts"),s=[];_context75.prev=1;_context75.next=4;return i.browseObjects({query:"",hitsPerPage:2e3,batch:function batch(t){return s.push.apply(s,_toConsumableArray(t));}});case 4:_context75.next=9;break;case 6:_context75.prev=6;_context75.t0=_context75["catch"](1);return _context75.abrupt("return",e(_context75.t0));case 9:n=s.map(function(t){return{family:t.family,faces:t.faces,category:t.category,subsets:t.subsets,license:t.license,thumbnail:t.thumbnail,urls:t.urls,dateRank:t.dateRank,popularityRank:t.popularityRank,trendingRank:t.trendingRank,pageURL:"https://fonts.google.com/specimen/".concat(t.objectID),cachedTime:Date.now()};});_context75.next=12;return _this193.Ao.cache.clear();case 12:_context75.next=14;return _this193.Ao.cache.bulkPut(n);case 14:t();case 15:case"end":return _context75.stop();}}},_callee74,null,[[1,6]]);}));return function(_x82,_x83){return _ref86.apply(this,arguments);};}());}},{key:"getFontFaceRulesFromUrl",value:function getFontFaceRulesFromUrl(t){var _this194=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(/*#__PURE__*/function(){var _ref87=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee75(i){var s,_e410,_iterator269,_step269,_t545,_e411,_i421,_n194,_t546,_s267,_iterator270,_step270,_i422,_t547,_i422$split,_i422$split2,_n195,_o155,_iterator271,_step271,_e412,_t548,_iterator272,_step272,_i423,_i423$split,_i423$split2,_t549,_s268,_i424,_s268$split,_s268$split2,_n196,_o156,_l143,_a106,_iterator273,_step273,_t550,_e413,_i425,_t551,_i426,_e414,_e414$_i,_i427,_o157,_e415,_iterator274,_step274,_t552,_o158,_l144,_a107,_h92,_iterator275,_step275,_t553,_r52,_d37;return regeneratorRuntime.wrap(function _callee75$(_context76){while(1){switch(_context76.prev=_context76.next){case 0:s=[];_context76.next=3;return _this194.Io();case 3:if(!e){_context76.next=11;break;}_context76.next=6;return _this194.Lo(t);case 6:_e410=_context76.sent;_iterator269=_createForOfIteratorHelper(_e410.cssRules);try{for(_iterator269.s();!(_step269=_iterator269.n()).done;){_t545=_step269.value;_t545.type===CSSRule.FONT_FACE_RULE&&s.push(_t545);}}catch(err){_iterator269.e(err);}finally{_iterator269.f();}_context76.next=24;break;case 11:_e411=[],_i421=new URL(t),_n194=_i421.searchParams.get("display")||"auto";if(t.startsWith("https://fonts.googleapis.com/css?")){_t546=_i421.searchParams.get("family"),_s267=(_t546.split("|"),_i421.searchParams.get("subset"),{regular:"400",bold:"700",italic:"400italic",bolditalic:"700italic",r:"400",b:"700",i:"400italic"});_iterator270=_createForOfIteratorHelper(_t546.split("|"));try{for(_iterator270.s();!(_step270=_iterator270.n()).done;){_i422=_step270.value;_t547=[],_i422$split=_i422.split(":"),_i422$split2=_slicedToArray(_i422$split,2),_n195=_i422$split2[0],_o155=_i422$split2[1];_iterator271=_createForOfIteratorHelper(_o155.split(","));try{for(_iterator271.s();!(_step271=_iterator271.n()).done;){_e412=_step271.value;_e412=_s267[_e412]||_e412,_t547.push(_e412);}}catch(err){_iterator271.e(err);}finally{_iterator271.f();}_e411.push({family:_n195,faceNames:_t547});}}catch(err){_iterator270.e(err);}finally{_iterator270.f();}}else if(t.startsWith("https://fonts.googleapis.com/css2?")){_t548=_i421.searchParams.getAll("family");_iterator272=_createForOfIteratorHelper(_t548);try{for(_iterator272.s();!(_step272=_iterator272.n()).done;){_i423=_step272.value;_i423$split=_i423.split(":"),_i423$split2=_slicedToArray(_i423$split,2),_t549=_i423$split2[0],_s268=_i423$split2[1];if(void 0===_s268)_e411.push({family:_t549,faceNames:["400"]});else{_i424=[],_s268$split=_s268.split("@"),_s268$split2=_slicedToArray(_s268$split,2),_n196=_s268$split2[0],_o156=_s268$split2[1],_l143=_n196.split(","),_a106=_o156.split(";");_iterator273=_createForOfIteratorHelper(_a106);try{for(_iterator273.s();!(_step273=_iterator273.n()).done;){_t550=_step273.value;_e413={wght:"400",ital:"0"};for(_i425=0;_i425<_l143.length;_i425+=1){_e413[_l143[_i425]]=_t550.split(",")[_i425];}_i424.push(_e413.wght+("1"===_e413.ital?"italic":""));}}catch(err){_iterator273.e(err);}finally{_iterator273.f();}_e411.push({family:_t549,faceNames:_i424});}}}catch(err){_iterator272.e(err);}finally{_iterator272.f();}}_t551=_this194.Ao.cache;_i426=0,_e414=_e411;case 15:if(!(_i426<_e414.length)){_context76.next=24;break;}_e414$_i=_e414[_i426],_i427=_e414$_i.family,_o157=_e414$_i.faceNames;_context76.next=19;return _t551.get({family:_i427});case 19:_e415=_context76.sent;if(_e415){_iterator274=_createForOfIteratorHelper(_o157);try{for(_iterator274.s();!(_step274=_iterator274.n()).done;){_t552=_step274.value;_o158=_e415.urls[_t552];if(_o158){_l144=_t552.substring(0,3),_a107=_t552.includes("italic")?"italic":"normal",_h92=[];_iterator275=_createForOfIteratorHelper(_e415.subsets);try{for(_iterator275.s();!(_step275=_iterator275.n()).done;){_t553=_step275.value;x[_t553]&&_h92.push(x[_t553]);}}catch(err){_iterator275.e(err);}finally{_iterator275.f();}0===_h92.length&&(_h92="U+0-10FFFF");_r52=_h92.join(","),_d37=Ji(_templateObject6(),_i427,_a107,_l144,_n194,_r52,_o158);s.push(_d37.cssRules[0]);}}}catch(err){_iterator274.e(err);}finally{_iterator274.f();}}case 21:_i426++;_context76.next=15;break;case 24:i(s);case 25:case"end":return _context76.stop();}}},_callee75);}));return function(_x84){return _ref87.apply(this,arguments);};}());}},{key:"getFamilyDescriptor",value:function getFamilyDescriptor(t){var _this195=this;return new Promise(/*#__PURE__*/function(){var _ref88=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee76(e){return regeneratorRuntime.wrap(function _callee76$(_context77){while(1){switch(_context77.prev=_context77.next){case 0:_context77.next=2;return _this195.Io();case 2:_context77.t0=e;_context77.next=5;return _this195.Ao.cache.where("family").equals(t).toArray();case 5:_context77.t1=_context77.sent[0];if(_context77.t1){_context77.next=8;break;}_context77.t1=null;case 8:_context77.t2=_context77.t1;(0,_context77.t0)(_context77.t2);case 10:case"end":return _context77.stop();}}},_callee76);}));return function(_x85){return _ref88.apply(this,arguments);};}());}},{key:"getCategoryDisplayName",value:function getCategoryDisplayName(t){return p[t]||t;}},{key:"getSubsetDisplayName",value:function getSubsetDisplayName(t){return u[t]||t;}},{key:"Lo",value:function Lo(t){var _this196=this;return new Promise(/*#__PURE__*/function(){var _ref89=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee77(e){var i,_e416,s;return regeneratorRuntime.wrap(function _callee77$(_context78){while(1){switch(_context78.prev=_context78.next){case 0:i=null;if(!_this196.$o[t]){_context78.next=5;break;}i=_this196.$o[t];_context78.next=12;break;case 5:_context78.next=7;return fetch(t);case 7:_e416=_context78.sent;_context78.next=10;return _e416.text();case 10:s=_context78.sent;i=new CSSStyleSheet(),i.replaceSync(s),_this196.$o[t]=i;case 12:e(i);case 13:case"end":return _context78.stop();}}},_callee77);}));return function(_x86){return _ref89.apply(this,arguments);};}());}},{key:"Io",value:function Io(){var _this197=this;return new Promise(/*#__PURE__*/function(){var _ref90=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee78(t){var e,i,_t554,_e417;return regeneratorRuntime.wrap(function _callee78$(_context79){while(1){switch(_context79.prev=_context79.next){case 0:_context79.next=2;return _this197.Ao.cache.count();case 2:e=_context79.sent;i=!0;if(!(e>0)){_context79.next=9;break;}_context79.next=7;return _this197.Ao.cache.get("Roboto");case 7:_t554=_context79.sent;if(_t554){_e417=1296e6;i=Date.now()-_t554.cachedTime>_e417;}case 9:_context79.t0=0!==e&&!0!==i;if(_context79.t0){_context79.next=13;break;}_context79.next=13;return _this197.refresh();case 13:t();case 14:case"end":return _context79.stop();}}},_callee78);}));return function(_x87){return _ref90.apply(this,arguments);};}());}}]);return _class3;}())();var Sr="Enter your text here.";var _r=/*#__PURE__*/function(_dh2){_inherits(_r,_dh2);var _super56=_createSuper(_r);function _r(){var _this198;_classCallCheck(this,_r);_this198=_super56.call(this),_this198.Ro=is(_this198.Bo,350,_assertThisInitialized(_this198)),_this198["#content-editor"].addEventListener("input",function(){return _this198.Ro();}),_this198["#style-picker"].addEventListener("change",function(){return _this198.eo();});return _this198;}_createClass(_r,[{key:"tn",value:function tn(){this.qs();}},{key:"Bo",value:function Bo(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textsettings:content",null):this.Qs.setConfig("bx-textsettings:content",this["#content-editor"].value);}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-textsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textsettings:content",Sr),e=this.Qs.getConfig("bx-textsettings:style",I);this["#content-editor"].value=t,this["#style-picker"].value=e;}}]);return _r;}(dh);_defineProperty(_r,"_shadowTemplate",Qi(_templateObject198(),Sr));_defineProperty(_r,"_shadowStyleSheet",Ji(_templateObject199()));customElements.define("bx-textsettings",_r);var Cr=Object.entries;var Mr=/*#__PURE__*/function(_HTMLElement54){_inherits(Mr,_HTMLElement54);var _super57=_createSuper(Mr);function Mr(){_classCallCheck(this,Mr);return _super57.apply(this,arguments);}_createClass(Mr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Go={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this199=this;var t=this.Js.board,e=!0,i=function i(){t.style.cursor=e?"url(images/cursors/text.svg) 8 8, auto":"url(images/cursors/text-add.svg) 3 8, auto";};i(),this.Uo(),t.workspaces.addEventListener("pointerdown",this.zn=function(t){_this199.yn(t);}),t.workspaces.addEventListener("pointerover",this.Fo=function(t){e=null!==t.target.closest("text"),!1===_this199.Qs.isPointerDown&&i();}),window.addEventListener("pointerup",this.Fn=function(t){i();});}},{key:"en",value:function en(){var t=this.Js.board;t.workspaces.removeEventListener("pointerdown",this.zn),t.workspaces.removeEventListener("pointerover",this.Fo),window.removeEventListener("pointerup",this.Fn);}},{key:"yn",value:function(){var _yn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee80(t){var _this200=this;var e,_i428,s,_n197,_o159,_ref91,_l145,_a108,_h93,_r53,_d38;return regeneratorRuntime.wrap(function _callee80$(_context81){while(1){switch(_context81.prev=_context81.next){case 0:e=this.Js.board;if(!(0===t.button&&null===t.target.closest("text"))){_context81.next=23;break;}e.undoManager.checkpoint("Add text");_i428=e.currentContainer||e.currentWorkspace;s=this.Qs.getConfig("bx-textsettings:content",Sr);_n197=this.Qs.getConfig("bx-textsettings:style",I);_context81.next=8;return e.defsFontsManager.search();case 8:_o159=_context81.sent.map(function(t){return t.family;});_ref91=(_o159.length>0&&_o159[0],e);_l145=_ref91.geometryPrecision;_a108=_ref91.transformPrecision;_h93=Ii("svg:text");_h93.textContent=s,_h93.style.whiteSpace="pre",_i428.append(_h93),rl(_h93,_n197),e.selectedElements=[_h93];_r53=qt(_h93).inverse().translate(t.clientX,t.clientY);_h93.setAttribute("transform",_r53.toString()),ka(_h93,{geometryPrecision:_l145,transformPrecision:_a108});_d38=/*#__PURE__*/function(){var _ref92=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee79(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee79$(_context80){while(1){switch(_context80.prev=_context80.next){case 0:t=vi(_h93),e=t[0],i=t[t.length-1],s=new Range();s.setStart(e,0);s.setEnd(i,i.textContent.length);_this200.Js.board.selectedTextRange=null;_this200.Js.board.selectedTextRange=s;_context80.next=7;return ns(100);case 7:_this200.Js.board.textHud.focus();case 8:case"end":return _context80.stop();}}},_callee79);}));return function _d38(){return _ref92.apply(this,arguments);};}();_d38();_context81.t0=_n197["font-family"];if(!_context81.t0){_context81.next=23;break;}_context81.next=22;return this.No(_n197["font-family"]);case 22:_d38();case 23:case"end":return _context81.stop();}}},_callee80,this);}));function yn(_x88){return _yn.apply(this,arguments);}return yn;}()},{key:"No",value:function No(t){var _this201=this;return new Promise(/*#__PURE__*/function(){var _ref93=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee81(e){var _e418;return regeneratorRuntime.wrap(function _callee81$(_context82){while(1){switch(_context82.prev=_context82.next){case 0:_context82.t0=!1;_context82.next=3;return _this201.Js.board.defsFontsManager.search();case 3:_context82.t1=_context82.sent.map(function(t){return t.family;}).includes(t);if(!(_context82.t0===_context82.t1)){_context82.next=18;break;}_e418=[];if(!_this201.Go[t]){_context82.next=10;break;}_context82.t2=_this201.Go[t];_context82.next=13;break;case 10:_context82.next=12;return _this201.Vo(t);case 12:_context82.t2=_context82.sent;case 13:_e418=_context82.t2;_context82.next=16;return _this201.Js.board.defsFontsManager.addFontFaces(_e418);case 16:_context82.next=18;return Promise.all(_e418.map(function(t){return t.load();}));case 18:e();case 19:case"end":return _context82.stop();}}},_callee81);}));return function(_x89){return _ref93.apply(this,arguments);};}());}},{key:"Vo",value:function Vo(t){return new Promise(/*#__PURE__*/function(){var _ref94=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee82(e){var i,s,_iterator276,_step276,_step276$value,_e419,_n198,_s269,_o160,_l146,_a109,_h94;return regeneratorRuntime.wrap(function _callee82$(_context83){while(1){switch(_context83.prev=_context83.next){case 0:i=[];_context83.next=3;return kr.getFamilyDescriptor(t);case 3:s=_context83.sent;if(!s){_context83.next=34;break;}_iterator276=_createForOfIteratorHelper(Cr(s.urls));_context83.prev=6;_iterator276.s();case 8:if((_step276=_iterator276.n()).done){_context83.next=26;break;}_step276$value=_slicedToArray(_step276.value,2),_e419=_step276$value[0],_n198=_step276$value[1];_s269={weight:_e419.substring(0,3),style:_e419.includes("italic")?"italic":"normal"};_context83.next=13;return fetch(_n198);case 13:_o160=_context83.sent;_context83.next=16;return _o160.blob();case 16:_l146=_context83.sent;_context83.next=19;return Vh(_l146);case 19:_context83.t0=_context83.sent;_context83.t1='url("'+_context83.t0;_a109=_context83.t1+'")';_h94=new FontFace(t,_a109,_s269);_h94.src=_a109,i.push(_h94);case 24:_context83.next=8;break;case 26:_context83.next=31;break;case 28:_context83.prev=28;_context83.t2=_context83["catch"](6);_iterator276.e(_context83.t2);case 31:_context83.prev=31;_iterator276.f();return _context83.finish(31);case 34:e(i);case 35:case"end":return _context83.stop();}}},_callee82,null,[[6,28,31,34]]);}));return function(_x90){return _ref94.apply(this,arguments);};}());}},{key:"jo",value:function jo(t){var _this202=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref95=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee83(i){var _iterator277,_step277,_e420;return regeneratorRuntime.wrap(function _callee83$(_context84){while(1){switch(_context84.prev=_context84.next){case 0:_context84.t0=void 0===_this202.Go[t];if(!_context84.t0){_context84.next=6;break;}_context84.next=4;return _this202.Vo(t);case 4:_this202.Go[t]=_context84.sent;_context84.t0=e;case 6:if(!_context84.t0){_context84.next=9;break;}_iterator277=_createForOfIteratorHelper(_this202.Go[t]);try{for(_iterator277.s();!(_step277=_iterator277.n()).done;){_e420=_step277.value;_e420.load();}}catch(err){_iterator277.e(err);}finally{_iterator277.f();}case 9:i();case 10:case"end":return _context84.stop();}}},_callee83);}));return function(_x91){return _ref95.apply(this,arguments);};}());}},{key:"Uo",value:function Uo(){var _this203=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref96=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee84(e){var i;return regeneratorRuntime.wrap(function _callee84$(_context85){while(1){switch(_context85.prev=_context85.next){case 0:i=_this203.Qs.getConfig("bx-textsettings:style",I)["font-family"];_context85.t0=i;if(!_context85.t0){_context85.next=5;break;}_context85.next=5;return _this203.jo(i,t);case 5:e();case 6:case"end":return _context85.stop();}}},_callee84);}));return function(_x92){return _ref96.apply(this,arguments);};}());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Mr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Mr,"observedAttributes",["enabled"]);customElements.define("bx-textcontext",Mr);var Pr="Enter your text here.",Dr='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speed">\n    <x-label>Speed</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speedInverse">\n    <x-label>Speed inverse</x-label>\n  </x-menuitem>\n';var zr=/*#__PURE__*/function(_dh3){_inherits(zr,_dh3);var _super58=_createSuper(zr);function zr(){var _this204;_classCallCheck(this,zr);_this204=_super58.call(this),_this204.Ro=is(_this204.Bo,350,_assertThisInitialized(_this204)),_this204["#font-size-dynamics-param-select"].addEventListener("change",function(t){return _this204.Jn(t);}),_this204["#font-size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this204.Jn(t);}),_this204["#glyph-rotation-dynamics-param-select"].addEventListener("change",function(t){return _this204.Jn(t);}),_this204["#glyph-rotation-dynamics-variance-input"].addEventListener("changeend",function(t){return _this204.Jn(t);}),_this204["#opacity-dynamics-param-select"].addEventListener("change",function(t){return _this204.Jn(t);}),_this204["#opacity-dynamics-variance-input"].addEventListener("changeend",function(t){return _this204.Jn(t);}),_this204["#content-editor"].addEventListener("input",function(){return _this204.Ro();}),_this204["#style-picker"].addEventListener("change",function(){return _this204.eo();});return _this204;}_createClass(zr,[{key:"tn",value:function tn(){this.qs();}},{key:"Bo",value:function Bo(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textpathsettings:content",null):this.Qs.setConfig("bx-textpathsettings:content",this["#content-editor"].value);}},{key:"Jn",value:function Jn(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#font-size-dynamics-param-select"].value&&(e.fontSize={param:this["#font-size-dynamics-param-select"].value,variance:this["#font-size-dynamics-variance-input"].value/100}),"none"!==this["#glyph-rotation-dynamics-param-select"].value&&(e.glyphRotation={param:this["#glyph-rotation-dynamics-param-select"].value,variance:this["#glyph-rotation-dynamics-variance-input"].value/100}),"none"!==this["#opacity-dynamics-param-select"].value&&(e.opacity={param:this["#opacity-dynamics-param-select"].value,variance:this["#opacity-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-textpathsettings:dynamics",e),this.qs();}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-textpathsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),e=this.Qs.getConfig("bx-textpathsettings:content",Pr),i=this.Qs.getConfig("bx-textpathsettings:style",I);t.fontSize?(this["#font-size-dynamics-param-select"].value=t.fontSize.param,this["#font-size-dynamics-variance-input"].value=tt(100*t.fontSize.variance,0),this["#font-size-dynamics-variance-input"].disabled=!1):(this["#font-size-dynamics-param-select"].value="none",this["#font-size-dynamics-variance-input"].value=0,this["#font-size-dynamics-variance-input"].disabled=!0),t.glyphRotation?(this["#glyph-rotation-dynamics-param-select"].value=t.glyphRotation.param,this["#glyph-rotation-dynamics-variance-input"].value=tt(100*t.glyphRotation.variance,0),this["#glyph-rotation-dynamics-variance-input"].disabled=!1):(this["#glyph-rotation-dynamics-param-select"].value="none",this["#glyph-rotation-dynamics-variance-input"].value=0,this["#glyph-rotation-dynamics-variance-input"].disabled=!0),t.opacity?(this["#opacity-dynamics-param-select"].value=t.opacity.param,this["#opacity-dynamics-variance-input"].value=tt(100*t.opacity.variance,0),this["#opacity-dynamics-variance-input"].disabled=!1):(this["#opacity-dynamics-param-select"].value="none",this["#opacity-dynamics-variance-input"].value=0,this["#opacity-dynamics-variance-input"].disabled=!0),this["#content-editor"].value=e,this["#style-picker"].value=i;}}]);return zr;}(dh);_defineProperty(zr,"_shadowTemplate",Qi(_templateObject200(),Pr,Dr,Dr,Dr));_defineProperty(zr,"_shadowStyleSheet",Ji(_templateObject201()));customElements.define("bx-textpathsettings",zr);var Or=Object.entries;var Er=/*#__PURE__*/function(_HTMLElement55){_inherits(Er,_HTMLElement55);var _super59=_createSuper(Er);_createClass(Er,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Er(){_classCallCheck(this,Er);return _super59.call(this);}_createClass(Er,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board"),this.Go={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function(){var _tn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee85(){var _this205=this;return regeneratorRuntime.wrap(function _callee85$(_context86){while(1){switch(_context86.prev=_context86.next){case 0:this.Vn=.7,this.Mn.pathHud.passive=!0,this.Mn.style.cursor="crosshair",this.Uo(),this.Qs.addEventListener("configchange",this.nn=function(t){_this205.ln(t.detail);}),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this205.yn(t);});case 1:case"end":return _context86.stop();}}},_callee85,this);}));function tn(){return _tn2.apply(this,arguments);}return tn;}()},{key:"en",value:function en(){this.Mn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.nn),this.Mn.workspaces.removeEventListener("pointerdown",this.vn);}},{key:"ln",value:function ln(_ref97){var t=_ref97.key,e=_ref97.value;"bx-textpathsettings:smoothing"===t&&null!==e&&(this.Vn=e);}},{key:"yn",value:function yn(t){var _this206=this;if(1!==t.buttons)return;var _e421,_i429,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e421=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Te(s,n)<3||(window.removeEventListener("pointermove",_e421),_this206.En(t));}),window.addEventListener("pointerup",_i429=function i(t){window.removeEventListener("pointermove",_e421),window.removeEventListener("pointerup",_i429);});}},{key:"En",value:function En(t){var _this207=this;var e,_i434,s=this.Mn,n=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),o=this.Qs.getConfig("bx-textpathsettings:content",Pr),l=this.Qs.getConfig("bx-textpathsettings:style",I),a=s.currentContainer||s.currentWorkspace,h=null,r=null,d=null,c=s.geometryPrecision,p=s.transformPrecision,u=new Array(250).fill(o).join(" "),x=0,b=0,m=null;s.undoManager.checkpoint("Text path"),h=Ii("svg:path"),h.style.fill="none",h.id=s.generateUniqueID("path"),s.defs.append(h),r=Ii("svg:text"),r.style.whiteSpace="pre",a.append(r),rl(r,l),d=Ii("svg:textPath"),d.setAttribute("href","#"+h.id),r.append(d),l["font-family"]&&this.No(l["font-family"]);var g=qt(r).inverse(),f=new DOMPoint(t.clientX,t.clientY).matrixTransform(g),w=[],v=[];w.push({type:"M",values:[f.x,f.y].map(function(t){return tt(t,c);})}),h.setPathData(w),s.selectedElements=[r],s.setPointerCapture(t.pointerId);var y=function y(){w.length=w.length-(v.length-1);var _iterator278=_createForOfIteratorHelper(Ja(v,6*_this207.Vn/s.scale)),_step278;try{for(_iterator278.s();!(_step278=_iterator278.n()).done;){var _t555=_step278.value;var _e422=[_t555[1].x,_t555[1].y,_t555[2].x,_t555[2].y,_t555[3].x,_t555[3].y];_e422=_e422.map(function(t){return tt(t,c);}),w.push({type:"C",values:_e422});}}catch(err){_iterator278.e(err);}finally{_iterator278.f();}h.setPathData(w),v=[];},k=function k(t){var e=Ii("svg:tspan");if(e.textContent=u[d.childElementCount],n.fontSize){var _i430,_s270=parseInt(l["font-size"]),_o161=tt(_s270-_s270*n.fontSize.variance,0),_a110=tt(_s270+_s270*n.fontSize.variance,0);"random"===n.fontSize.param?_i430=pl(_o161,_a110):"speed"===n.fontSize.param?_i430=_o161+x/8*(_a110-_o161):"speedInverse"===n.fontSize.param?_i430=_a110-x/8*(_a110-_o161):"pressure"===n.fontSize.param&&(_i430=_o161+t.pressure*(_a110-_o161)),_i430=et(_i430,5,Infinity,0),e.style.fontSize=_i430+"px";}if(n.opacity){var _i431,_s271=void 0!==l.opacity?parseInt(l.opacity):1,_o162=tt(_s271-_s271*n.opacity.variance,2),_a111=tt(_s271+_s271*n.opacity.variance,2);console.log(_s271,_o162,_a111),"random"===n.opacity.param?_i431=pl(_o162,_a111,2):"speed"===n.opacity.param?_i431=_o162+x/8*(_a111-_o162):"speedInverse"===n.opacity.param?_i431=_a111-x/8*(_a111-_o162):"pressure"===n.opacity.param&&(_i431=_o162+t.pressure*(_a111-_o162)),_i431=et(_i431,0,1,2),e.style.opacity=_i431;}if(n.glyphRotation){var _i432,_s272=-360*n.glyphRotation.variance,_o163=360*n.glyphRotation.variance;"random"===n.glyphRotation.param?_i432=pl(_s272,_o163,0):"speed"===n.glyphRotation.param?_i432=_s272+x/8*(_o163-_s272):"speedInverse"===n.glyphRotation.param?_i432=_o163-x/8*(_o163-_s272):"pressure"===n.glyphRotation.param&&(_i432=_s272+t.pressure*(_o163-_s272)),_i432=et(_i432,-360,360,0),e.setAttribute("rotate",_i432);}d.append(e),0===e.getComputedTextLength()?e.remove():k(t);};s.addEventListener("pointermove",e=function e(t){b+=1;var e=new DOMPoint(t.clientX,t.clientY),i=e.matrixTransform(g);if(!m||!ze(m,e,0)){if(m){var _t556=x;x=Te(m,e),b>1&&(x=function(t,e,i){return(1-i)*t+i*e;}(_t556,x,.05));}if(m=e,v.push(i),12===v.length)y();else{var _t557=[i.x,i.y];_t557=_t557.map(function(t){return tt(t,c);}),w.push({type:"L",values:_t557}),h.setPathData(w);}k(t);}}),s.addEventListener("pointerup",_i434=function i(t){if(s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i434),v.length>2&&y(),0===d.childElementCount){var _e423=new DOMPoint(t.clientX,t.clientY).matrixTransform(g),_i433=new J(f,_e423);for(;0===d.childElementCount;){_i433.length+=10,w=[{type:"M",values:[f.x,f.y]},{type:"L",values:[f.x+_i433.x,f.y+_i433.y]}],h.setPathData(w),k(t);}}gi(r);});}},{key:"No",value:function No(t){var _this208=this;return new Promise(/*#__PURE__*/function(){var _ref98=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee86(e){var _e424;return regeneratorRuntime.wrap(function _callee86$(_context87){while(1){switch(_context87.prev=_context87.next){case 0:_context87.t0=!1;_context87.next=3;return _this208.Js.board.defsFontsManager.search();case 3:_context87.t1=_context87.sent.map(function(t){return t.family;}).includes(t);if(!(_context87.t0===_context87.t1)){_context87.next=18;break;}_e424=[];if(!_this208.Go[t]){_context87.next=10;break;}_context87.t2=_this208.Go[t];_context87.next=13;break;case 10:_context87.next=12;return _this208.Vo(t);case 12:_context87.t2=_context87.sent;case 13:_e424=_context87.t2;_context87.next=16;return _this208.Js.board.defsFontsManager.addFontFaces(_e424);case 16:_context87.next=18;return Promise.all(_e424.map(function(t){return t.load();}));case 18:e();case 19:case"end":return _context87.stop();}}},_callee86);}));return function(_x93){return _ref98.apply(this,arguments);};}());}},{key:"Vo",value:function Vo(t){return new Promise(/*#__PURE__*/function(){var _ref99=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee87(e){var i,s,_iterator279,_step279,_step279$value,_e425,_n199,_s273,_o164,_l147,_a112,_h95;return regeneratorRuntime.wrap(function _callee87$(_context88){while(1){switch(_context88.prev=_context88.next){case 0:i=[];_context88.next=3;return kr.getFamilyDescriptor(t);case 3:s=_context88.sent;if(!s){_context88.next=34;break;}_iterator279=_createForOfIteratorHelper(Or(s.urls));_context88.prev=6;_iterator279.s();case 8:if((_step279=_iterator279.n()).done){_context88.next=26;break;}_step279$value=_slicedToArray(_step279.value,2),_e425=_step279$value[0],_n199=_step279$value[1];_s273={weight:_e425.substring(0,3),style:_e425.includes("italic")?"italic":"normal"};_context88.next=13;return fetch(_n199);case 13:_o164=_context88.sent;_context88.next=16;return _o164.blob();case 16:_l147=_context88.sent;_context88.next=19;return Vh(_l147);case 19:_context88.t0=_context88.sent;_context88.t1='url("'+_context88.t0;_a112=_context88.t1+'")';_h95=new FontFace(t,_a112,_s273);_h95.src=_a112,i.push(_h95);case 24:_context88.next=8;break;case 26:_context88.next=31;break;case 28:_context88.prev=28;_context88.t2=_context88["catch"](6);_iterator279.e(_context88.t2);case 31:_context88.prev=31;_iterator279.f();return _context88.finish(31);case 34:e(i);case 35:case"end":return _context88.stop();}}},_callee87,null,[[6,28,31,34]]);}));return function(_x94){return _ref99.apply(this,arguments);};}());}},{key:"jo",value:function jo(t){var _this209=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref100=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee88(i){var _iterator280,_step280,_e426;return regeneratorRuntime.wrap(function _callee88$(_context89){while(1){switch(_context89.prev=_context89.next){case 0:_context89.t0=void 0===_this209.Go[t];if(!_context89.t0){_context89.next=6;break;}_context89.next=4;return _this209.Vo(t);case 4:_this209.Go[t]=_context89.sent;_context89.t0=e;case 6:if(!_context89.t0){_context89.next=9;break;}_iterator280=_createForOfIteratorHelper(_this209.Go[t]);try{for(_iterator280.s();!(_step280=_iterator280.n()).done;){_e426=_step280.value;_e426.load();}}catch(err){_iterator280.e(err);}finally{_iterator280.f();}case 9:i();case 10:case"end":return _context89.stop();}}},_callee88);}));return function(_x95){return _ref100.apply(this,arguments);};}());}},{key:"Uo",value:function Uo(){var _this210=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref101=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee89(e){var i;return regeneratorRuntime.wrap(function _callee89$(_context90){while(1){switch(_context90.prev=_context90.next){case 0:i=_this210.Qs.getConfig("bx-textsettings:style",I)["font-family"];_context90.t0=i;if(!_context90.t0){_context90.next=5;break;}_context90.next=5;return _this210.jo(i,t);case 5:e();case 6:case"end":return _context90.stop();}}},_callee89);}));return function(_x96){return _ref101.apply(this,arguments);};}());}}]);return Er;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Er,"observedAttributes",["enabled"]);customElements.define("bx-textpathcontext",Er);var Tr=Math.abs,Ar=Symbol();var $r=/*#__PURE__*/function(_HTMLElement56){_inherits($r,_HTMLElement56);var _super60=_createSuper($r);_createClass($r,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function $r(){var _this211;_classCallCheck(this,$r);_this211=_super60.call(this),_this211.On=!1;return _this211;}_createClass($r,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this212=this;this.Mn.style.cursor=null,this.Mn.workspaces.addEventListener("contextmenu",this.Pn=function(t){_this212.Dn(t);}),this.Mn.workspaces.addEventListener("pointerdown",this.zn=function(t){_this212.yn(t);});}},{key:"en",value:function en(){this.Mn.workspaces.removeEventListener("contextmenu",this.Pn),this.Mn.workspaces.removeEventListener("pointerdown",this.zn);}},{key:"Dn",value:function Dn(t){var e=this.Mn.getHitWorkspaceElements(t.clientX,t.clientY);if(e.length>0){var _t558=e[e.length-1],_i435=this.$n(_t558),s=this.Mn.selectedElements.includes(_t558);var _iterator281=_createForOfIteratorHelper(_i435),_step281;try{for(_iterator281.s();!(_step281=_iterator281.n()).done;){var _t559=_step281.value;this.Mn.selectedElements.includes(_t559)&&(s=!0);}}catch(err){_iterator281.e(err);}finally{_iterator281.f();}!1===s&&this.Tn(_t558);}else this.An(t);}},{key:"yn",value:function yn(t){var _this213=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e427,_i436,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n,l="touch"===t.pointerType?9:3;this.On=!1,window.addEventListener("pointermove",_e427=function e(i){if(i.pointerId!==t.pointerId||_this213.Qs.pointers.length>1)return;var s=new DOMPoint(i.clientX,i.clientY),a=i.timeStamp-t.timeStamp,h=Te(n,s)>l||a>80,r=!1===ze(o,s,0);if(o=s,!0===h&&!0===r){window.removeEventListener("pointermove",_e427),_this213.On=!0;var _s274=new J(i.clientX-t.clientX,i.clientY-t.clientY),_n200=Tr(_s274.x)>Tr(_s274.y)?"horizontal":"vertical";_this213.Ho(t,i,_n200);}}),window.addEventListener("pointerup",_i436=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e427),window.removeEventListener("pointerup",_i436);var a=new DOMPoint(o.clientX,o.clientY);Te(n,a)<l&&_this213._n(s,o);});}},{key:"Ho",value:function Ho(t,e,i){var s=this.Mn.getHitWorkspaceElements(e.clientX,e.clientY);s.length>0?this.Wo(e,s[s.length-1],i):this.Yo(t);}},{key:"qo",value:function qo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Mn.workspaces.querySelector(e.href.baseVal)),i;}},{key:"Wo",value:function Wo(t,e,i){var _this214=this;var s=this.Js.board;s.undoManager.checkpoint("Move");{var _t560=this.$n(e),_i437=!1;s.outermostSelectedElements.includes(e)&&(_i437=!0);var _iterator282=_createForOfIteratorHelper(_t560),_step282;try{for(_iterator282.s();!(_step282=_iterator282.n()).done;){var _e428=_step282.value;s.outermostSelectedElements.includes(_e428)&&(_i437=!0);}}catch(err){_iterator282.e(err);}finally{_iterator282.f();}if(!_i437)if(s.transformHud.mode="scale",0===_t560.length)s.currentContainer=null,s.selectedElements=[e];else{var _t561=this.Xo(e,s.currentContainer);for(;e.parentNode!==_t561&&e.parentNode!==s.currentWorkspace;){e=e.parentNode;}s.currentContainer=_t561,s.selectedElements=[e];}}this.Qs.modKeys.alt&&(this.Mn.insertArtwork(this.Mn.extractArtworkWithSelectedElements(),"original"),e=this.Mn.selectedElements[0]);{var _e429,_n202,_o165=[];var _iterator283=_createForOfIteratorHelper(s.outermostSelectedElements),_step283;try{for(_iterator283.s();!(_step283=_iterator283.n()).done;){var _t566=_step283.value;if("text"===_t566.localName){var _e433=this.qo(_t566);if(_e433&&s.outermostSelectedElements.includes(_e433))continue;}var _e432=qt(_t566),_i440=_e432.inverse(),_n203=Wt(_t566).multiplySelf(_i440);_t566[Ar]={clientToUserTransform:_e432,initialClientTransform:_n203},_o165.push(_t566);}}catch(err){_iterator283.e(err);}finally{_iterator283.f();}this.style.cursor="move",this.setPointerCapture(t.pointerId),s.snapManager.snapStart(),this.addEventListener("pointermove",_e429=function _e429(e){if(e.pointerId!==t.pointerId)return;var n=e.clientX-t.clientX,l=e.clientY-t.clientY,a=_this214.Qs.modKeys.shift;a&&("vertical"===i?n=0:"horizontal"===i&&(l=0));var _iterator284=_createForOfIteratorHelper(_o165),_step284;try{for(_iterator284.s();!(_step284=_iterator284.n()).done;){var _t564=_step284.value;var _t564$Ar=_t564[Ar],_e431=_t564$Ar.clientToUserTransform,_i439=_t564$Ar.initialClientTransform,_s276=DOMMatrix.fromMatrix(_i439);_s276.translateSelf(n,l),_s276.multiplySelf(_e431),_t564.setAttribute("transform",_s276.toString());}}catch(err){_iterator284.e(err);}finally{_iterator284.f();}if(s.showManualGuides||s.showSmartGuides||s.showGrid){var _t562=_o165.map(function(t){return Ti(t);}),_e430=We(_t562),_i438=s.snapManager.snapBBox(_e430);if(!1===function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?tt(t.x,i)===tt(e.x,i)&&tt(t.y,i)===tt(e.y,i)&&tt(t.width,i)===tt(e.width,i)&&tt(t.height,i)===tt(e.height,i):t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.neight;}(_e430,_i438)){var _iterator285=_createForOfIteratorHelper(_o165),_step285;try{for(_iterator285.s();!(_step285=_iterator285.n()).done;){var _t563=_step285.value;var _t563$Ar=_t563[Ar],_s275=_t563$Ar.clientToUserTransform,_o166=_t563$Ar.initialClientTransform,_a113=_i438.x-_e430.x,_h96=_i438.y-_e430.y,_r54=DOMMatrix.fromMatrix(_o166);_r54.translateSelf(n+_a113,l+_h96),_r54.multiplySelf(_s275),_t563.setAttribute("transform",_r54.toString());}}catch(err){_iterator285.e(err);}finally{_iterator285.f();}}}}),this.addEventListener("lostpointercapture",_n202=function _n201(){_this214.removeEventListener("pointermove",_e429),_this214.removeEventListener("lostpointercapture",_n202),_this214.style.cursor=null,s.snapManager.snapEnd();var _iterator286=_createForOfIteratorHelper(s.outermostSelectedObjectElements),_step286;try{for(_iterator286.s();!(_step286=_iterator286.n()).done;){var _t565=_step286.value;ka(_t565,{geometryPrecision:s.geometryPrecision,transformPrecision:s.transformPrecision});}}catch(err){_iterator286.e(err);}finally{_iterator286.f();}});}}},{key:"Yo",value:function(){var _Yo=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee90(t){var _this215=this;var e,i,s,n,o,l,a,_t567,_iterator287,_step287,_e434,_i441,_t568,_s277,_l148,_iterator289,_step289,_t570,_e436,_i442,_iterator290,_step290,_t571,_iterator292,_step292,_t573,_e438,_iterator293,_step293,_i443;return regeneratorRuntime.wrap(function _callee90$(_context91){while(1){switch(_context91.prev=_context91.next){case 0:e=t.clientX,i=t.clientY,s=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),n=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),o=this.Mn.currentContainer||this.Mn.currentWorkspace,l=qt(this.Mn.currentWorkspace).inverse(),a=[];if(!("rect-contain"===n&&(n="contain"),this.Qs.modKeys.ctrl&&("polygon"===s?s="rect":"rect"===s&&(s="polygon")),"rect"===s)){_context91.next=9;break;}_context91.next=4;return this.Mn.rubberBandHud.grabSelection(e,i);case 4:_t567=_context91.sent;_iterator287=_createForOfIteratorHelper(o.children);try{for(_iterator287.s();!(_step287=_iterator287.n()).done;){_e434=_step287.value;if([].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(_e434.localName)){_i441=He(Ti(_e434),l);!1===(0===_i441.width&&0===_i441.height)&&("contain"===n?qe(_t567,_i441)&&a.push(_e434):"intersect"===n&&Xe(_t567,_i441)&&a.push(_e434));}}}catch(err){_iterator287.e(err);}finally{_iterator287.f();}_context91.next=100;break;case 9:if(!("polygon"===s)){_context91.next=100;break;}_context91.next=12;return this.Mn.rubberBandHud.grabSelection(e,i,"polygon");case 12:_t568=_context91.sent;_s277=Fi(_toConsumableArray(o.children));_l148=[];if(!("contain"===n)){_context91.next=60;break;}_l148=function(t,e){var i=[];var _iterator288=_createForOfIteratorHelper(e),_step288;try{for(_iterator288.s();!(_step288=_iterator288.n()).done;){var _s278=_step288.value;var _e435=null;if(g.includes(_s278.localName))_e435=_s278.getPathData({normalize:!0});else if(["image","text","use"].includes(_s278.localName)){var _t569=Ei(_s278);_e435=[{type:"M",values:[_t569.x,_t569.y]},{type:"L",values:[_t569.x+_t569.width,_t569.y]},{type:"L",values:[_t569.x+_t569.width,_t569.y+_t569.height]},{type:"L",values:[_t569.x,_t569.y+_t569.height]}];}if(_e435){var _n204=Yt(_s278,_s278.closest("g#vector-canvas"));!1===_n204.isIdentity&&(_e435=le(_e435,_n204));var _o167=new paper.Path(_toConsumableArray(t)),_l149=Et(ot(_e435));_o167.closePath(),_l149.closePath(),0===_l149.subtract(_o167).length&&i.push(_s278);}}}catch(err){_iterator288.e(err);}finally{_iterator288.f();}return i;}(_t568,_s277);_iterator289=_createForOfIteratorHelper(o.children);_context91.prev=18;_iterator289.s();case 20:if((_step289=_iterator289.n()).done){_context91.next=50;break;}_t570=_step289.value;if(!("g"===_t570.localName||"a"===_t570.localName)){_context91.next=47;break;}_e436=Fi(_toConsumableArray(_t570.children));if(!(_e436.length>0)){_context91.next=45;break;}_i442=!0;_iterator290=_createForOfIteratorHelper(_e436);_context91.prev=27;_iterator290.s();case 29:if((_step290=_iterator290.n()).done){_context91.next=36;break;}_t571=_step290.value;if(!(!1===_l148.includes(_t571))){_context91.next=34;break;}_i442=!1;return _context91.abrupt("break",36);case 34:_context91.next=29;break;case 36:_context91.next=41;break;case 38:_context91.prev=38;_context91.t0=_context91["catch"](27);_iterator290.e(_context91.t0);case 41:_context91.prev=41;_iterator290.f();return _context91.finish(41);case 44:_i442&&a.push(_t570);case 45:_context91.next=48;break;case 47:w.includes(_t570.localName)&&_l148.includes(_t570)&&a.push(_t570);case 48:_context91.next=20;break;case 50:_context91.next=55;break;case 52:_context91.prev=52;_context91.t1=_context91["catch"](18);_iterator289.e(_context91.t1);case 55:_context91.prev=55;_iterator289.f();return _context91.finish(55);case 58:_context91.next=100;break;case 60:if(!("intersect"===n)){_context91.next=100;break;}_l148=function(t,e){var i=[];var _iterator291=_createForOfIteratorHelper(e),_step291;try{for(_iterator291.s();!(_step291=_iterator291.n()).done;){var _s279=_step291.value;var _e437=null;if(g.includes(_s279.localName))_e437=_s279.getPathData({normalize:!0});else if(["image","text","use"].includes(_s279.localName)){var _t572=Ei(_s279);_e437=[{type:"M",values:[_t572.x,_t572.y]},{type:"L",values:[_t572.x+_t572.width,_t572.y]},{type:"L",values:[_t572.x+_t572.width,_t572.y+_t572.height]},{type:"L",values:[_t572.x,_t572.y+_t572.height]}];}if(_e437){var _n205=Yt(_s279,_s279.closest("g#vector-canvas"));!1===_n205.isIdentity&&(_e437=le(_e437,_n205));var _o168=new paper.Path(_toConsumableArray(t)),_l150=Et(ot(_e437));_o168.closePath(),_l150.closePath(),_o168.intersect(_l150).length>0&&i.push(_s279);}}}catch(err){_iterator291.e(err);}finally{_iterator291.f();}return i;}(_t568,_s277);_iterator292=_createForOfIteratorHelper(o.children);_context91.prev=63;_iterator292.s();case 65:if((_step292=_iterator292.n()).done){_context91.next=92;break;}_t573=_step292.value;if(!("g"===_t573.localName||"a"===_t573.localName)){_context91.next=89;break;}_e438=Fi(_toConsumableArray(_t573.children));_iterator293=_createForOfIteratorHelper(_e438);_context91.prev=70;_iterator293.s();case 72:if((_step293=_iterator293.n()).done){_context91.next=79;break;}_i443=_step293.value;if(!_l148.includes(_i443)){_context91.next=77;break;}a.push(_t573);return _context91.abrupt("break",79);case 77:_context91.next=72;break;case 79:_context91.next=84;break;case 81:_context91.prev=81;_context91.t2=_context91["catch"](70);_iterator293.e(_context91.t2);case 84:_context91.prev=84;_iterator293.f();return _context91.finish(84);case 87:_context91.next=90;break;case 89:w.includes(_t573.localName)&&_l148.includes(_t573)&&a.push(_t573);case 90:_context91.next=65;break;case 92:_context91.next=97;break;case 94:_context91.prev=94;_context91.t3=_context91["catch"](63);_iterator292.e(_context91.t3);case 97:_context91.prev=97;_iterator292.f();return _context91.finish(97);case 100:this.Qs.modKeys.shift?(a=a.filter(function(t){var _iterator294=_createForOfIteratorHelper(_this215.Mn.selectedElements),_step294;try{for(_iterator294.s();!(_step294=_iterator294.n()).done;){var _e439=_step294.value;if(_e439===t||_e439.contains(t))return!1;}}catch(err){_iterator294.e(err);}finally{_iterator294.f();}return!0;}),this.Mn.selectedElements=[].concat(_toConsumableArray(this.Mn.selectedElements),_toConsumableArray(a))):this.Mn.selectedElements=_toConsumableArray(a);case 101:case"end":return _context91.stop();}}},_callee90,this,[[18,52,55,58],[27,38,41,44],[63,94,97,100],[70,81,84,87]]);}));function Yo(_x97){return _Yo.apply(this,arguments);}return Yo;}()},{key:"_n",value:function _n(t,e){if(0!==e.button||this.On)return;var i=this.Mn["#transform-hud"],s=this.Mn.getHitWorkspaceElements(e.clientX,e.clientY);if(s.length>0){var _t574=s[s.length-1];if(this.Qs.pointerClickCount%2==1)this.Mn.isSelectableElement(_t574)&&this.Tn(_t574);else if(this.Qs.pointerClickCount%2==0){var _e440=this.Zo(_t574);if(_e440)this.Mn.currentContainer=_e440,this.Mn.selectedElements=[];else if("use"===_t574.localName){var _e441=_t574.href.baseVal.trim(),_s280=null;if(_e441.length>1&&(_s280=this.Mn.workspaces.querySelector("#"+CSS.escape(_e441.substring(1)))),_s280&&"symbol"===_s280.localName){var _t575=_s280;this.Mn.editSymbol(_t575.id);}else i.mode="scale",this.Js.toggleTool("edit-tool");}else"text"===_t574.localName?(i.mode="scale",this.Js.toggleTool("text-tool")):(i.mode="scale",this.Js.toggleTool("edit-tool"));}}else this.An(e);}},{key:"Tn",value:function Tn(t){var e=this.Js.board,_this$Qs$modKeys3=this.Qs.modKeys,i=_this$Qs$modKeys3.ctrl,s=_this$Qs$modKeys3.alt,n=_this$Qs$modKeys3.shift,o=this.$n(t),l=e.selectedElements.includes(t);var _iterator295=_createForOfIteratorHelper(o),_step295;try{for(_iterator295.s();!(_step295=_iterator295.n()).done;){var _t577=_step295.value;e.selectedElements.includes(_t577)&&(l=!0);}}catch(err){_iterator295.e(err);}finally{_iterator295.f();}if(i||n){if(!i&&n){if(0===o.length)e.currentContainer=null,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);else if(e.currentContainer&&e.currentContainer.contains(t)){for(;t.parentNode!==e.currentContainer;){t=t.parentNode;}e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}else{var _i444=this.Xo(t,e.currentContainer);for(;t.parentNode!==_i444&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_i444,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}}else if(i&&!n){var _i445=null;for(var _s281=t.parentElement;_s281!==e.currentWorkspace;_s281=_s281.parentElement){if("g"===_s281.localName||"a"===_s281.localName){_i445=_s281;break;}}e.currentContainer=_i445,e.selectedElements=[t];}else if(i&&n){var _i446=e.currentContainer,_s282=e.selectedElements;if(_s282=_s282.includes(t)?_s282.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s282),[t]),0===_s282.length)_i446=null;else for(var _t576=_s282[0].parentElement;_t576!==e.currentWorkspace;_t576=_t576.parentElement){if("g"===_t576.localName||"a"===_t576.localName){_i446=_t576;break;}}e.currentContainer=_i446,e.selectedElements=_s282;}}else if(l)"scale"===e.transformHud.mode?e.transformHud.mode="rotate-and-skew":e.transformHud.mode="scale";else if(e.transformHud.mode="scale",0===o.length)e.currentContainer=null,e.selectedElements=[t];else{var _i447=e.currentContainer;if(_i447&&_i447.contains(t)){for(;t.parentNode!==_i447;){t=t.parentNode;}e.selectedElements=[t];}else{var _s283=this.Xo(t,_i447);for(;t.parentNode!==_s283&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_s283,e.selectedElements=[t];}}}},{key:"An",value:function An(t){if(0!==t.button)return;var _this$Qs$modKeys4=this.Qs.modKeys,e=_this$Qs$modKeys4.ctrl,i=_this$Qs$modKeys4.shift;e||i||(2===this.Qs.pointerClickCount&&(this.Mn.currentContainer=null),this.Mn.selectedElements=[]);}},{key:"$n",value:function $n(t){var e=[];if(t!==this.Mn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Mn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;}},{key:"Zo",value:function Zo(t){var e=[];for(var _i448=t.parentElement;_i448!==this.Mn.currentWorkspace&&_i448!==this.Mn.currentContainer;_i448=_i448.parentElement){"g"!==_i448.localName&&"a"!==_i448.localName||e.push(_i448);}return e.length>0?e[e.length-1]:null;}},{key:"Xo",value:function Xo(t,e){var i=Ni(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}}]);return $r;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($r,"observedAttributes",["enabled"]);customElements.define("bx-transformselectcontext",$r);var Ir=Math.abs,Lr=Math.min;var Rr=/*#__PURE__*/function(_HTMLElement57){_inherits(Rr,_HTMLElement57);var _super61=_createSuper(Rr);function Rr(){_classCallCheck(this,Rr);return _super61.apply(this,arguments);}_createClass(Rr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this216=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.vn=function(t){_this216.yn(t);});}},{key:"en",value:function en(){this.Js.board.workspaces.removeEventListener("pointerdown",this.vn);}},{key:"yn",value:function yn(t){var _this217=this;var _e442,_i449,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e442=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Te(s,n)>=3&&(window.removeEventListener("pointermove",_e442),_this217.ro(t,i));}),window.addEventListener("click",_i449=function i(t){window.removeEventListener("pointermove",_e442),window.removeEventListener("click",_i449);});}},{key:"ro",value:function ro(t){var _this218=this;var e,_i450,s=this.Js.board,n=s.geometryPrecision,o=qt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Draw view"),s.snapManager.snapStart(!1);var l=s.maybeCreateDefsForCurrentWorkspace(),a=null;!1===s.currentWorkspace.hasAttribute("viewBox")?s.selectedElements=[]:(a=Ii("svg:view"),a.id=s.generateUniqueID("view",null,1),a.innerHTML="<bx-title>View ".concat(a.id.substring(a.id.indexOf("-")+1),"</bx-title>"),l.append(a),s.selectedElements=[a]);var h=new DOMPoint(t.clientX,t.clientY);h=s.snapManager.snapPoint(h),h=h.matrixTransform(o),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(o);var i=e.x-h.x||1,l=e.y-h.y||1,r=Ir(i)||1,d=Ir(l)||1;if(_this218.Qs.modKeys.shift){var _t578=Lr(r,d);r=_t578,d=_t578;}var c=i<0?h.x-r:h.x,p=l<0?h.y-d:h.y;c=tt(c,n),p=tt(p,n),r=tt(r,n),d=tt(d,n),a?a.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d)):s.currentWorkspace.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d));}),window.addEventListener("pointerup",_i450=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i450),s.snapManager.snapEnd();});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Rr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rr,"observedAttributes",["enabled"]);customElements.define("bx-viewcontext",Rr);var Br=Math.min,Gr=Symbol();var Ur={id:"rect-hud",createdCallback:function createdCallback(){this.Ko=!1,this.Qo=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #rect-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator296=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step296;try{for(_iterator296.s();!(_step296=_iterator296.n()).done;){var _t579=_step296.value;this["#"+_t579.getAttribute("uid")]=_t579;}}catch(err){_iterator296.e(err);}finally{_iterator296.f();}},enabledCallback:function enabledCallback(){var _this219=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this219.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this220=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this220.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this220.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this220.wo(t);});},nl:function nl(){this.Jo&&this.Jo.dispatchEvent(new CustomEvent("lostpointercapture")),this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.Jo||(this.Qo=this.hl(),0===this.Qo.length?!0===this.Ko&&this.nl():(!1===this.Ko&&this.ol(),this.rl()));},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&t.target.matches(".grippie")&&this.cl(t);},cl:function cl(t){var _this221=this;var e,_i454,s,n,o=this.Mn,l=t.target,a=l.parentElement,h=a[Gr],r=l.getAttribute("data-corner"),d=qt(h).inverse(),c=o.geometryPrecision,p=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),u=new DOMPoint(p.x,p.y),x="normal",b=!1,m=function m(t){var e,i,s,n,o,l,a,h,r,d,c,p;if("rect"===t.localName){var _u25=t.hasAttribute("rx")?t.rx.baseVal.value:t.ry.baseVal.value,_x98=t.hasAttribute("ry")?t.ry.baseVal.value:t.rx.baseVal.value;e=t.x.baseVal.value,i=t.y.baseVal.value,s=t.width.baseVal.value,n=t.height.baseVal.value,o=_u25,l=_u25,a=_u25,h=_u25,r=_x98,d=_x98,c=_x98,p=_x98;}else if("path"===t.localName){var _u26=wl(t).values;e=_u26[0],i=_u26[1],s=_u26[2],n=_u26[3],o=_u26[4],l=_u26[5],a=_u26[6],h=_u26[7],r=void 0===_u26[8]?o:_u26[8],d=void 0===_u26[9]?l:_u26[9],c=void 0===_u26[10]?a:_u26[10],p=void 0===_u26[11]?h:_u26[11];}return[e,i,s,n,o,l,a,h,r,d,c,p];},g=function g(){var _this221$Qs$modKeys=_this221.Qs.modKeys,t=_this221$Qs$modKeys.ctrl,e=_this221$Qs$modKeys.shift;if(!0===t&&!1===e)x="normal";else if(!1===t&&!0===e)x="symmetric-1234";else if(!0===t&&!0===e)x="symmetric-1234";else{var _t580,_e443,_m23=m(h),_m24=_slicedToArray(_m23,12),_i451=_m24[0],_s284=_m24[1],_n206=_m24[2],_o169=_m24[3],_l151=_m24[4],_a114=_m24[5],_d39=_m24[6],_c31=_m24[7],_p29=_m24[8],_u27=_m24[9],_b24=_m24[10],_g22=_m24[11],_f16=[];if("1"===r&&(_t580=_l151,_e443=_p29),"2"===r&&(_t580=_a114,_e443=_u27),"3"===r&&(_t580=_d39,_e443=_b24),"4"===r&&(_t580=_c31,_e443=_g22),_l151===_t580&&_p29===_e443&&_f16.push("1"),_a114===_t580&&_u27===_e443&&_f16.push("2"),_d39===_t580&&_b24===_e443&&_f16.push("3"),_c31===_t580&&_g22===_e443&&_f16.push("4"),1===_f16.length)x="normal";else{x="symmetric-";var _iterator297=_createForOfIteratorHelper(_f16),_step297;try{for(_iterator297.s();!(_step297=_iterator297.n()).done;){var _t581=_step297.value;x+=_t581;}}catch(err){_iterator297.e(err);}finally{_iterator297.f();}}}},f=function f(){var t=u.x-p.x,e=(u.y,p.y,0),_m25=m(h),_m26=_slicedToArray(_m25,12),i=_m26[0],s=_m26[1],l=_m26[2],d=_m26[3],b=_m26[4],g=_m26[5],f=_m26[6],w=_m26[7],v=_m26[8],y=_m26[9],k=_m26[10],S=_m26[11];if("1"===r?e=n[4]+t:"2"===r?e=n[5]-t:"3"===r?e=n[6]-t:"4"===r&&(e=n[7]+t),e=et(e,0,Br(l/2,d/2),c),"normal"===x?"1"===r?(b=e,v=e):"2"===r?(g=e,y=e):"3"===r?(f=e,k=e):"4"===r&&(w=e,S=e):(x.includes("1")&&(b=e,v=e),x.includes("2")&&(g=e,y=e),x.includes("3")&&(f=e,k=e),x.includes("4")&&(w=e,S=e)),b===g&&b===f&&b===w&&v===y&&v===k&&v===S){if("path"===h.localName){var _t583=h,_e445=Ii("svg:rect");var _iterator298=_createForOfIteratorHelper(_t583.attributes),_step298;try{for(_iterator298.s();!(_step298=_iterator298.n()).done;){var _i452=_step298.value;"d"!==_i452.name&&"data-bx-shape"!==_i452.name&&_e445.setAttribute(_i452.name,_i452.value);}}catch(err){_iterator298.e(err);}finally{_iterator298.f();}_e445.setAttribute("x",i),_e445.setAttribute("y",s),_e445.setAttribute("width",l),_e445.setAttribute("height",d),_e445.innerHTML=_t583.innerHTML,_t583.replaceWith(_e445),h=_e445,a[Gr]=_e445,o.selectedElements=o.selectedElements.map(function(i){return i===_t583?_e445:i;});}var _t582=tt(b,c),_e444=tt(g,c);0===_t582?h.removeAttribute("rx"):h.setAttribute("rx",_t582),0===_e444?h.removeAttribute("ry"):h.setAttribute("ry",_e444);}else{if("rect"===h.localName){var _t585=h,_e446=Ii("svg:path");var _iterator299=_createForOfIteratorHelper(_t585.attributes),_step299;try{for(_iterator299.s();!(_step299=_iterator299.n()).done;){var _i453=_step299.value;!1===["x","y","width","height","rx","ry"].includes(_i453.name)&&_e446.setAttribute(_i453.name,_i453.value);}}catch(err){_iterator299.e(err);}finally{_iterator299.f();}_e446.innerHTML=_t585.innerHTML,_t585.replaceWith(_e446),h=_e446,a[Gr]=_e446,o.selectedElements=o.selectedElements.map(function(i){return i===_t585?_e446:i;});}var _t584;if(b===v&&g===y&&f===k&&w&&S){_t584=[i,s,l,d,b,g,f,w];}else _t584=[i,s,l,d,b,g,f,w,v,y,k,S];_t584=_t584.map(function(t){return tt(t,c);}),_vl(h,{type:"rect",values:_t584},c);}};l.parentElement.append(l),l.setPointerCapture(t.pointerId),this.Jo=l,n=m(h),l.addEventListener("pointermove",e=function e(t){b||(b=!0,o.undoManager.checkpoint("Edit rectangle")),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),f();}),l.addEventListener("lostpointercapture",_i454=function i(){l.removeEventListener("pointermove",e),l.removeEventListener("lostpointercapture",_i454),_this221.Qs.removeEventListener("modkeyschange",s),_this221.Jo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){g(),f();}),g();},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator300=_createForOfIteratorHelper(this.Qo),_step300;try{for(_iterator300.s();!(_step300=_iterator300.n()).done;){var _t586=_step300.value;var _e447=this["#subhud-template"].cloneNode(!0);_e447.removeAttribute("uid"),_e447[Gr]=_t586,this["#subhuds"].append(_e447);}}catch(err){_iterator300.e(err);}finally{_iterator300.f();}this.el(),this.dl();},el:function el(){var _iterator301=_createForOfIteratorHelper(this["#subhuds"].children),_step301;try{for(_iterator301.s();!(_step301=_iterator301.n()).done;){var _t587=_step301.value;var _e448=void 0,_i455=void 0,s=void 0,_n207=void 0,_o170=void 0,_l152=void 0,_a115=void 0,_h97=void 0,_r55=_t587[Gr],_d40=Yt(_r55,this);if("rect"===_r55.localName)_e448=_r55.x.baseVal.value,_i455=_r55.y.baseVal.value,s=_r55.width.baseVal.value,_n207=_r55.height.baseVal.value,_o170=_r55.rx.baseVal.value,_l152=_r55.rx.baseVal.value,_a115=_r55.rx.baseVal.value,_h97=_r55.rx.baseVal.value;else if("path"===_r55.localName){var _t588=wl(_r55);_e448=_t588.values[0],_i455=_t588.values[1],s=_t588.values[2],_n207=_t588.values[3],_o170=_t588.values[4],_l152=_t588.values[5],_a115=_t588.values[6],_h97=_t588.values[7];}var _iterator302=_createForOfIteratorHelper(_t587.children),_step302;try{for(_iterator302.s();!(_step302=_iterator302.n()).done;){var _r56=_step302.value;var _t589=void 0,_c32=_r56.getAttribute("data-corner");"1"===_c32&&(_t589=new DOMPoint(_e448+_o170,_i455)),"2"===_c32?_t589=new DOMPoint(_e448+s-_l152,_i455):"3"===_c32?_t589=new DOMPoint(_e448+s-_a115,_i455+_n207):"4"===_c32&&(_t589=new DOMPoint(_e448+_h97,_i455+_n207));var _p30=_t589.matrixTransform(_d40);_r56.setAttribute("cx",_p30.x),_r56.setAttribute("cy",_p30.y);}}catch(err){_iterator302.e(err);}finally{_iterator302.f();}}}catch(err){_iterator301.e(err);}finally{_iterator301.f();}},dl:function dl(){var _iterator303=_createForOfIteratorHelper(this["#subhuds"].children),_step303;try{for(_iterator303.s();!(_step303=_iterator303.n()).done;){var _t590=_step303.value;var _iterator304=_createForOfIteratorHelper(_t590.children),_step304;try{for(_iterator304.s();!(_step304=_iterator304.n()).done;){var _e449=_step304.value;_e449.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator304.e(err);}finally{_iterator304.f();}}}catch(err){_iterator303.e(err);}finally{_iterator303.f();}},hl:function hl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator305=_createForOfIteratorHelper(t),_step305;try{for(_iterator305.s();!(_step305=_iterator305.n()).done;){var _i456=_step305.value;"path"===_i456.localName?_i456.hasAttribute("data-bx-shape")&&_i456.getAttribute("data-bx-shape").startsWith("rect")&&e.push(_i456):"rect"===_i456.localName?e.push(_i456):["g","a"].includes(_i456.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.hl(_i456.children))));}}catch(err){_iterator305.e(err);}finally{_iterator305.f();}return e;}};var Fr=Symbol(),Nr=6;var Vr={id:"circle-hud",createdCallback:function createdCallback(){this.Ko=!1,this.pl=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #circle-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator306=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step306;try{for(_iterator306.s();!(_step306=_iterator306.n()).done;){var _t591=_step306.value;this["#"+_t591.getAttribute("uid")]=_t591;}}catch(err){_iterator306.e(err);}finally{_iterator306.f();}},enabledCallback:function enabledCallback(){var _this222=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this222.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this223=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this223.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this223.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this223.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.pl=this.ul(),0===this.pl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){t.target.classList.contains("grippie")&&this.cl(t);},cl:function cl(t){var _this224=this;if(0!==t.button)return;var e,_i457,s=t.target,n=s.parentElement[Fr],o=qt(n).inverse(),l=n.r.baseVal.value,a=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=this.Mn.geometryPrecision,r=new DOMPoint(a.x,a.y),d=!1;s.parentElement.append(s),this.Jo=s,window.addEventListener("pointermove",e=function e(t){d||(d=!0,_this224.Mn.undoManager.checkpoint("Circle radius")),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);var e=r.x-a.x,i=et(l+e,0,Infinity,h);n.setAttribute("r",i);}),window.addEventListener("pointerup",_i457=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i457),_this224.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator307=_createForOfIteratorHelper(this.pl),_step307;try{for(_iterator307.s();!(_step307=_iterator307.n()).done;){var _t592=_step307.value;var _e450=this["#subhud-template"].cloneNode(!0);_e450.removeAttribute("uid"),_e450[Fr]=_t592,this["#subhuds"].append(_e450);}}catch(err){_iterator307.e(err);}finally{_iterator307.f();}this.el(),this.dl();},el:function el(){var _iterator308=_createForOfIteratorHelper(this["#subhuds"].children),_step308;try{for(_iterator308.s();!(_step308=_iterator308.n()).done;){var _t593=_step308.value;var _e451=_t593[Fr],_i458=Yt(_e451,this),s=_t593.children[0],_n208=new DOMPoint(_e451.cx.baseVal.value+_e451.r.baseVal.value,_e451.cy.baseVal.value);_n208=_n208.matrixTransform(_i458),s.setAttribute("cx",_n208.x),s.setAttribute("cy",_n208.y);}}catch(err){_iterator308.e(err);}finally{_iterator308.f();}},dl:function dl(){var _iterator309=_createForOfIteratorHelper(this["#subhuds"].children),_step309;try{for(_iterator309.s();!(_step309=_iterator309.n()).done;){var _t594=_step309.value;var _iterator310=_createForOfIteratorHelper(_t594.children),_step310;try{for(_iterator310.s();!(_step310=_iterator310.n()).done;){var _e452=_step310.value;_e452.setAttribute("r",Nr/this.Mn.scale);}}catch(err){_iterator310.e(err);}finally{_iterator310.f();}}}catch(err){_iterator309.e(err);}finally{_iterator309.f();}},ul:function ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator311=_createForOfIteratorHelper(t),_step311;try{for(_iterator311.s();!(_step311=_iterator311.n()).done;){var _i459=_step311.value;"circle"===_i459.localName?e.push(_i459):["g","a"].includes(_i459.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ul(_i459.children))));}}catch(err){_iterator311.e(err);}finally{_iterator311.f();}return e;}};var jr=Symbol(),Hr=6;var Wr={id:"ellipse-hud",createdCallback:function createdCallback(){this.Ko=!1,this.xl=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #ellipse-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator312=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step312;try{for(_iterator312.s();!(_step312=_iterator312.n()).done;){var _t595=_step312.value;this["#"+_t595.getAttribute("uid")]=_t595;}}catch(err){_iterator312.e(err);}finally{_iterator312.f();}},enabledCallback:function enabledCallback(){var _this225=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this225.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this226=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this226.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this226.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this226.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.xl=this.bl(),0===this.xl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.cl(t);},cl:function cl(t){var _this227=this;var e,_i460,s,n=t.target,o=n.parentElement[jr],l=n.getAttribute("data-axis"),a=qt(o).inverse(),h=o.rx.baseVal.value,r=o.ry.baseVal.value,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(a),c=this.Mn.geometryPrecision,p=new DOMPoint(d.x,d.y),u="normal",x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n;var b=function b(){var _this227$Qs$modKeys=_this227.Qs.modKeys,t=_this227$Qs$modKeys.ctrl,e=_this227$Qs$modKeys.shift;!0===t&&!1===e?u="normal":(!1===t&&!0===e||!0===t&&!0===e||o.rx.baseVal.value===o.ry.baseVal.value)&&(u="symmetric");},m=function m(){var t=p.x-d.x,e=p.y-d.y;if("rx"===l){if("normal"===u){var _e453=et(h+t,0,Infinity,c);o.setAttribute("rx",_e453);}else if("symmetric"===u){var _e454=et(h+t,0,Infinity,c);o.setAttribute("rx",_e454),o.setAttribute("ry",_e454);}}else if("ry"===l)if("normal"===u){var _t596=et(r+e,0,Infinity,c);o.setAttribute("ry",_t596);}else if("symmetric"===u){var _t597=et(r+e,0,Infinity,c);o.setAttribute("rx",_t597),o.setAttribute("ry",_t597);}};n.addEventListener("pointermove",e=function e(t){x||(x=!0,_this227.Mn.undoManager.checkpoint("Edit ellipse")),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(a),m();}),n.addEventListener("lostpointercapture",_i460=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i460),_this227.Qs.removeEventListener("modkeyschange",s),_this227.Jo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){b(),m();}),b();},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator313=_createForOfIteratorHelper(this.xl),_step313;try{for(_iterator313.s();!(_step313=_iterator313.n()).done;){var _t598=_step313.value;var _e455=this["#subhud-template"].cloneNode(!0);_e455.removeAttribute("uid"),_e455[jr]=_t598,this["#subhuds"].append(_e455);}}catch(err){_iterator313.e(err);}finally{_iterator313.f();}this.el(),this.dl();},el:function el(){var _iterator314=_createForOfIteratorHelper(this["#subhuds"].children),_step314;try{for(_iterator314.s();!(_step314=_iterator314.n()).done;){var _t599=_step314.value;var _e456=_t599[jr],_i461=Yt(_e456,this);var _iterator315=_createForOfIteratorHelper(_t599.children),_step315;try{for(_iterator315.s();!(_step315=_iterator315.n()).done;){var s=_step315.value;var _t600=s.getAttribute("data-axis");if("rx"===_t600){var _t601=new DOMPoint(_e456.cx.baseVal.value+_e456.rx.baseVal.value,_e456.cy.baseVal.value).matrixTransform(_i461);s.setAttribute("cx",_t601.x),s.setAttribute("cy",_t601.y);}else if("ry"===_t600){var _t602=new DOMPoint(_e456.cx.baseVal.value,_e456.cy.baseVal.value+_e456.ry.baseVal.value).matrixTransform(_i461);s.setAttribute("cx",_t602.x),s.setAttribute("cy",_t602.y);}}}catch(err){_iterator315.e(err);}finally{_iterator315.f();}}}catch(err){_iterator314.e(err);}finally{_iterator314.f();}},dl:function dl(){var _iterator316=_createForOfIteratorHelper(this["#subhuds"].children),_step316;try{for(_iterator316.s();!(_step316=_iterator316.n()).done;){var _t603=_step316.value;var _iterator317=_createForOfIteratorHelper(_t603.children),_step317;try{for(_iterator317.s();!(_step317=_iterator317.n()).done;){var _e457=_step317.value;_e457.setAttribute("r",Hr/this.Mn.scale);}}catch(err){_iterator317.e(err);}finally{_iterator317.f();}}}catch(err){_iterator316.e(err);}finally{_iterator316.f();}},bl:function bl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator318=_createForOfIteratorHelper(t),_step318;try{for(_iterator318.s();!(_step318=_iterator318.n()).done;){var _i462=_step318.value;"ellipse"===_i462.localName?e.push(_i462):["g","a"].includes(_i462.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.bl(_i462.children))));}}catch(err){_iterator318.e(err);}finally{_iterator318.f();}return e;}};var Yr=Math.min,qr=Math.max,Xr=Symbol();var Zr={id:"ring-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #ring-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator319=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step319;try{for(_iterator319.s();!(_step319=_iterator319.n()).done;){var _t604=_step319.value;this["#"+_t604.getAttribute("uid")]=_t604;}}catch(err){_iterator319.e(err);}finally{_iterator319.f();}},enabledCallback:function enabledCallback(){var _this228=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this228.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this229=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this229.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this229.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this229.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.ml=this.gl(),0===this.ml.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.cl(t);},cl:function cl(t){var _this230=this;var e,_i471,s,n=t.target,o=n.parentElement[Xr],l=qt(o).inverse(),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),h=n.getAttribute("data-axis"),r=new DOMPoint(a.x,a.y),d="normal",c=!1,_wl$values10=_slicedToArray(wl(o).values,6),p=_wl$values10[0],u=_wl$values10[1],x=_wl$values10[2],b=_wl$values10[3],m=_wl$values10[4],g=_wl$values10[5],f=x,w=b,v=m,y=g;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n;var k=function k(){var _this230$Qs$modKeys=_this230.Qs.modKeys,t=_this230$Qs$modKeys.ctrl,e=_this230$Qs$modKeys.shift;!0===t&&!1===e?d="normal":!1===t&&!0===e?d="symmetric":!0===t&&!0===e?d="double-symmetric":(("r1x"===h&&x===b||"r1y"===h&&x===b)&&(d="symmetric"),("r2x"===h&&m===g||"r2y"===h&&m===g)&&(d="symmetric"));},S=function S(){var t=r.x-a.x,e=r.y-a.y;if("r1x"===h){if("normal"===d){x=et(f+t,1,m-1);}else if("symmetric"===d){var _e458=1,_i463=Yr(m,g)-1,_s285=et(f+t,_e458,_i463);x=b=_s285;}else if("double-symmetric"===d){var _e459=m-x,_i464=et(f+t,1,Infinity);x=b=_i464,m=g=_i464+_e459;}}else if("r1y"===h){if("normal"===d){b=et(w+e,1,g-1);}else if("symmetric"===d){var _t605=1,_i465=Yr(m,g)-1,_s286=et(w+e,_t605,_i465);x=b=_s286;}else if("double-symmetric"===d){var _t606=g-b,_i466=et(w+e,1,Infinity);x=b=_i466,m=g=_i466+_t606;}}else if("r2x"===h){if("normal"===d){m=et(v+t,x+1,Infinity);}else if("symmetric"===d){var _e460=qr(x,b)+1,_i467=et(v+t,_e460,Infinity);m=g=_i467;}else if("double-symmetric"===d){var _e461=m-x,_i468=et(v+t,_e461+1,Infinity);x=b=_i468-_e461,m=g=_i468;}}else if("r2y"===h)if("normal"===d){g=et(y+e,b+1,Infinity);}else if("symmetric"===d){var _t607=qr(x,b)+1,_i469=et(y+e,_t607,Infinity);m=g=_i469;}else if("double-symmetric"===d){var _t608=g-b,_i470=et(y+e,_t608+1,r2max);x=b=_i470-_t608,m=g=_i470;}var i=[p,u,x,b,m,g];i=i.map(function(t){return tt(t,_this230.Mn.geometryPrecision);}),_vl(o,{type:"ring",values:i},_this230.Mn.geometryPrecision);};n.addEventListener("pointermove",e=function e(t){c||(_this230.Mn.undoManager.checkpoint("Ring radius"),c=!0),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),S();}),n.addEventListener("lostpointercapture",_i471=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i471),_this230.Qs.removeEventListener("modkeyschange",s),_this230.Jo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){k(),S();}),k();},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator320=_createForOfIteratorHelper(this.ml),_step320;try{for(_iterator320.s();!(_step320=_iterator320.n()).done;){var _t609=_step320.value;var _e462=this["#subhud-template"].cloneNode(!0);_e462.removeAttribute("uid"),_e462[Xr]=_t609,this["#subhuds"].append(_e462);}}catch(err){_iterator320.e(err);}finally{_iterator320.f();}this.el(),this.dl();},el:function el(){var _iterator321=_createForOfIteratorHelper(this["#subhuds"].children),_step321;try{for(_iterator321.s();!(_step321=_iterator321.n()).done;){var _t610=_step321.value;var _e463=_t610[Xr],_i472=Yt(_e463,this),_wl$values11=_slicedToArray(wl(_e463).values,6),s=_wl$values11[0],_n209=_wl$values11[1],_o171=_wl$values11[2],_l153=_wl$values11[3],_a116=_wl$values11[4],_h98=_wl$values11[5];var _iterator322=_createForOfIteratorHelper(_t610.children),_step322;try{for(_iterator322.s();!(_step322=_iterator322.n()).done;){var _e464=_step322.value;var _t611=_e464.getAttribute("data-axis");if("r1x"===_t611){var _t612=new DOMPoint(s+_o171,_n209).matrixTransform(_i472);_e464.setAttribute("cx",_t612.x),_e464.setAttribute("cy",_t612.y);}else if("r1y"===_t611){var _t613=new DOMPoint(s,_n209+_l153).matrixTransform(_i472);_e464.setAttribute("cx",_t613.x),_e464.setAttribute("cy",_t613.y);}else if("r2x"===_t611){var _t614=new DOMPoint(s+_a116,_n209).matrixTransform(_i472);_e464.setAttribute("cx",_t614.x),_e464.setAttribute("cy",_t614.y);}else if("r2y"===_t611){var _t615=new DOMPoint(s,_n209+_h98).matrixTransform(_i472);_e464.setAttribute("cx",_t615.x),_e464.setAttribute("cy",_t615.y);}}}catch(err){_iterator322.e(err);}finally{_iterator322.f();}}}catch(err){_iterator321.e(err);}finally{_iterator321.f();}},dl:function dl(){var _iterator323=_createForOfIteratorHelper(this["#subhuds"].children),_step323;try{for(_iterator323.s();!(_step323=_iterator323.n()).done;){var _t616=_step323.value;var _iterator324=_createForOfIteratorHelper(_t616.children),_step324;try{for(_iterator324.s();!(_step324=_iterator324.n()).done;){var _e465=_step324.value;_e465.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator324.e(err);}finally{_iterator324.f();}}}catch(err){_iterator323.e(err);}finally{_iterator323.f();}},gl:function gl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator325=_createForOfIteratorHelper(t),_step325;try{for(_iterator325.s();!(_step325=_iterator325.n()).done;){var _i473=_step325.value;"path"===_i473.localName?_i473.hasAttribute("data-bx-shape")&&_i473.getAttribute("data-bx-shape").startsWith("ring")&&e.push(_i473):["g","a"].includes(_i473.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.gl(_i473.children))));}}catch(err){_iterator325.e(err);}finally{_iterator325.f();}return e;}};var Kr=Number.MAX_SAFE_INTEGER,Qr=Symbol();var Jr={id:"pie-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #pie-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #pie-hud .start-angle-grippie,\n    #pie-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie angle-grippie start-angle-grippie"></circle>\n      <circle class="grippie angle-grippie end-angle-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator326=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step326;try{for(_iterator326.s();!(_step326=_iterator326.n()).done;){var _t617=_step326.value;this["#"+_t617.getAttribute("uid")]=_t617;}}catch(err){_iterator326.e(err);}finally{_iterator326.f();}},enabledCallback:function enabledCallback(){var _this231=this;this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this231.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this232=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this232.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this232.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this232.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.fl=this.wl(),0===this.fl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r-grippie")?this.vl(t):t.target.matches(".angle-grippie")&&this.yl(t));},vl:function vl(t){var _this233=this;var e,_i474,s,n=this.Mn,o=t.target,l=o.parentElement[Qr],_wl$values12=_slicedToArray(wl(l).values,6),a=_wl$values12[0],h=_wl$values12[1],r=_wl$values12[2],d=_wl$values12[3],c=_wl$values12[4],p=_wl$values12[5],u=!1,x=qt(l).inverse(),b=Yt(l,n.vectorCanvas).inverse(),m=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),g=new DOMPoint(a,h),f=new DOMPoint(o.cx.baseVal.value,o.cy.baseVal.value).matrixTransform(b),w=new J(m,f),v=g;{var _t618=(c+p)/2;c>p&&(_t618-=180);var _e466=new DOMMatrix();_e466.translateSelf(a,h),_e466.rotateSelf(_t618),_e466.translateSelf(-a,-h),s=new DOMPoint(a,h-Kr).matrixTransform(_e466);}o.parentElement.append(o),o.setPointerCapture(t.pointerId),this.Jo=o,o.addEventListener("pointermove",e=function e(t){!1===u&&(u=!0,n.undoManager.checkpoint("Pie radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),i=w.transformPoint(e),_$e5=$e(v,s,i,!1),_$e6=_slicedToArray(_$e5,1),b=_$e6[0],m=Te(g,b);o.matches(".r1-grippie")?r=m>d-1?d-1:m:o.matches(".r2-grippie")&&(d=m<r+1?r+1:m),_vl(l,{type:"pie",values:[a,h,r,d,c,p]},n.geometryPrecision);}),o.addEventListener("lostpointercapture",_i474=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("lostpointercapture",_i474),_this233.Jo=null;});},yl:function yl(t){var _this234=this;var e,_i475,s=t.target,n=s.parentElement[Qr],o=qt(n).inverse(),l=this.Mn.geometryPrecision,_wl$values13=_slicedToArray(wl(n).values,6),a=_wl$values13[0],h=_wl$values13[1],r=_wl$values13[2],d=_wl$values13[3],c=_wl$values13[4],p=_wl$values13[5],u=c,x=p,b=new DOMPoint(a,h),m=new DOMPoint(b.x,b.y-100),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Ge(b,m,e);i=_this234.kl(i),s.matches(".start-angle-grippie")?c=i:p=i,!1!==g||c===u&&p===x||(_this234.Mn.undoManager.checkpoint("Pie start angle"),g=!0),_vl(n,{type:"pie",values:[a,h,r,d,c,p]},l);}),s.addEventListener("lostpointercapture",_i475=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i475),_this234.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator327=_createForOfIteratorHelper(this.fl),_step327;try{for(_iterator327.s();!(_step327=_iterator327.n()).done;){var _t619=_step327.value;var _e467=this["#subhud-template"].cloneNode(!0);_e467.removeAttribute("uid"),_e467[Qr]=_t619,this["#subhuds"].append(_e467);}}catch(err){_iterator327.e(err);}finally{_iterator327.f();}this.el(),this.dl();},el:function el(){var _iterator328=_createForOfIteratorHelper(this["#subhuds"].children),_step328;try{for(_iterator328.s();!(_step328=_iterator328.n()).done;){var _t620=_step328.value;var _e468=_t620[Qr],_i476=Yt(_e468,this.Mn.vectorCanvas),_wl$values14=_slicedToArray(wl(_e468).values,6),s=_wl$values14[0],_n210=_wl$values14[1],_o172=_wl$values14[2],_l154=_wl$values14[3],_a117=_wl$values14[4],_h99=_wl$values14[5];var _iterator329=_createForOfIteratorHelper(_t620.children),_step329;try{for(_iterator329.s();!(_step329=_iterator329.n()).done;){var _e469=_step329.value;if(_e469.matches(".start-angle-grippie")){var _t621=new DOMMatrix();_t621.translateSelf(s,_n210),_t621.rotateSelf(_a117),_t621.translateSelf(-s,-_n210);var _h100=new DOMPoint(s,_n210-_o172+(_o172-_l154)/2);_h100=_h100.matrixTransform(_t621),_h100=_h100.matrixTransform(_i476),_e469.setAttribute("cx",_h100.x),_e469.setAttribute("cy",_h100.y);}else if(_e469.matches(".end-angle-grippie")){var _t622=new DOMMatrix();_t622.translateSelf(s,_n210),_t622.rotateSelf(_h99),_t622.translateSelf(-s,-_n210);var _a118=new DOMPoint(s,_n210-_o172+(_o172-_l154)/2);_a118=_a118.matrixTransform(_t622),_a118=_a118.matrixTransform(_i476),_e469.setAttribute("cx",_a118.x),_e469.setAttribute("cy",_a118.y);}else if(_e469.matches(".r1-grippie")){var _t623=(_a117+_h99)/2;_a117>_h99&&(_t623-=180);var _l155=new DOMMatrix();_l155.translateSelf(s,_n210),_l155.rotateSelf(_t623),_l155.translateSelf(-s,-_n210);var _r57=new DOMPoint(s,_n210-_o172);_r57=_r57.matrixTransform(_l155),_r57=_r57.matrixTransform(_i476),_e469.setAttribute("cx",_r57.x),_e469.setAttribute("cy",_r57.y);}else if(_e469.matches(".r2-grippie")){var _t624=(_a117+_h99)/2;_a117>_h99&&(_t624-=180);var _o173=new DOMMatrix();_o173.translateSelf(s,_n210),_o173.rotateSelf(_t624),_o173.translateSelf(-s,-_n210);var _r58=new DOMPoint(s,_n210-_l154);_r58=_r58.matrixTransform(_o173),_r58=_r58.matrixTransform(_i476),_e469.setAttribute("cx",_r58.x),_e469.setAttribute("cy",_r58.y);}}}catch(err){_iterator329.e(err);}finally{_iterator329.f();}}}catch(err){_iterator328.e(err);}finally{_iterator328.f();}},dl:function dl(){var _iterator330=_createForOfIteratorHelper(this["#subhuds"].children),_step330;try{for(_iterator330.s();!(_step330=_iterator330.n()).done;){var _t625=_step330.value;var _iterator331=_createForOfIteratorHelper(_t625.children),_step331;try{for(_iterator331.s();!(_step331=_iterator331.n()).done;){var _e470=_step331.value;_e470.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator331.e(err);}finally{_iterator331.f();}}}catch(err){_iterator330.e(err);}finally{_iterator330.f();}},wl:function wl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator332=_createForOfIteratorHelper(t),_step332;try{for(_iterator332.s();!(_step332=_iterator332.n()).done;){var _i477=_step332.value;"path"===_i477.localName?_i477.hasAttribute("data-bx-shape")&&_i477.getAttribute("data-bx-shape").startsWith("pie")&&e.push(_i477):["g","a"].includes(_i477.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.wl(_i477.children))));}}catch(err){_iterator332.e(err);}finally{_iterator332.f();}return e;},kl:function kl(t){for(;t<0;){t+=360;}for(;t>360;){t-=360;}return t;}};var td=Math.abs,ed=Math.min,id=Math.max,sd=Math.sin,nd=Math.cos,od=Symbol();var ld={id:"crescent-hud",createdCallback:function createdCallback(){this.Ko=!1,this.Sl=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #crescent-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arch-grippie"></circle>\n      <circle class="grippie hollow-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator333=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step333;try{for(_iterator333.s();!(_step333=_iterator333.n()).done;){var _t626=_step333.value;this["#"+_t626.getAttribute("uid")]=_t626;}}catch(err){_iterator333.e(err);}finally{_iterator333.f();}},enabledCallback:function enabledCallback(){var _this235=this;this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this235.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this236=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this236.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this236.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this236.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.Sl=this._l(),0===this.Sl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arch-grippie")?this.Cl(t):t.target.matches(".hollow-grippie")&&this.Ml(t));},Cl:function Cl(t){var _this237=this;var e,_i478,s=this.Mn,n=t.target,o=n.parentElement[od],_wl$values15=_slicedToArray(wl(o).values,5),l=_wl$values15[0],a=_wl$values15[1],h=_wl$values15[2],r=_wl$values15[3],d=_wl$values15[4],c=r,p=qt(o).inverse(),u=Yt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l,a),g=new DOMPoint(l+h,a),f=new J(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),n=Ke(i,m,h),u=Ge(m,n,g);r=u<0&&u>=-90?1:u<-90&&u>=-180?359:et(td(2*u),1,359,0),!1===w&&r!==c&&(s.undoManager.checkpoint("Crescent arch"),w=!0),_vl(o,{type:"crescent",values:[l,a,h,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i478=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i478),_this237.Jo=null;});},Ml:function Ml(t){var _this238=this;var e,_i479,s=this.Mn,n=t.target,o=n.parentElement[od],_wl$values16=_slicedToArray(wl(o).values,5),l=_wl$values16[0],a=_wl$values16[1],h=_wl$values16[2],r=_wl$values16[3],d=_wl$values16[4],c=d,p=qt(o).inverse(),u=Yt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l-h,a),g=new DOMPoint(l+h,a),f=new J(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),_$e7=$e(m,g,i,!1),_$e8=_slicedToArray(_$e7,1),n=_$e8[0];d=(n.x-m.x)/(2*h),d=et(d,0,1,4),!1===w&&d!==c&&(s.undoManager.checkpoint("Crescent hollow"),w=!0),_vl(o,{type:"crescent",values:[l,a,h,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i479=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i479),_this238.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator334=_createForOfIteratorHelper(this.Sl),_step334;try{for(_iterator334.s();!(_step334=_iterator334.n()).done;){var _t627=_step334.value;var _e471=this["#subhud-template"].cloneNode(!0);_e471.removeAttribute("uid"),_e471[od]=_t627,this["#subhuds"].append(_e471);}}catch(err){_iterator334.e(err);}finally{_iterator334.f();}this.el(),this.dl();},el:function el(){var _iterator335=_createForOfIteratorHelper(this["#subhuds"].children),_step335;try{for(_iterator335.s();!(_step335=_iterator335.n()).done;){var _t628=_step335.value;var _e472=_t628[od],_i480=Yt(_e472,this.Mn.vectorCanvas),_wl$values17=_slicedToArray(wl(_e472).values,5),s=_wl$values17[0],_n211=_wl$values17[1],_o174=_wl$values17[2],_l156=_wl$values17[3],_a119=_wl$values17[4];var _iterator336=_createForOfIteratorHelper(_t628.children),_step336;try{for(_iterator336.s();!(_step336=_iterator336.n()).done;){var _e473=_step336.value;if(_e473.matches(".arch-grippie")){var _t629=Ue(90-_l156/2),_a120=Ve(_t629),_h101=new DOMPoint(s+_o174*sd(_a120),_n211+_o174*-nd(_a120));_h101=_h101.matrixTransform(_i480),_e473.setAttribute("cx",_h101.x),_e473.setAttribute("cy",_h101.y);}else if(_e473.matches(".hollow-grippie")){var _t630=new DOMPoint(s-_o174+2*_o174*_a119,_n211);_t630=_t630.matrixTransform(_i480),_e473.setAttribute("cx",_t630.x),_e473.setAttribute("cy",_t630.y);}}}catch(err){_iterator336.e(err);}finally{_iterator336.f();}}}catch(err){_iterator335.e(err);}finally{_iterator335.f();}},dl:function dl(){var _iterator337=_createForOfIteratorHelper(this["#subhuds"].children),_step337;try{for(_iterator337.s();!(_step337=_iterator337.n()).done;){var _t631=_step337.value;var _iterator338=_createForOfIteratorHelper(_t631.children),_step338;try{for(_iterator338.s();!(_step338=_iterator338.n()).done;){var _e474=_step338.value;_e474.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator338.e(err);}finally{_iterator338.f();}}}catch(err){_iterator337.e(err);}finally{_iterator337.f();}},_l:function _l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator339=_createForOfIteratorHelper(t),_step339;try{for(_iterator339.s();!(_step339=_iterator339.n()).done;){var _i481=_step339.value;"path"===_i481.localName?_i481.hasAttribute("data-bx-shape")&&_i481.getAttribute("data-bx-shape").startsWith("crescent")&&e.push(_i481):["g","a"].includes(_i481.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this._l(_i481.children))));}}catch(err){_iterator339.e(err);}finally{_iterator339.f();}return e;}};var ad=Math.abs,hd=Symbol();var rd={id:"triangle-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #triangle-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #triangle-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #triangle-hud .corner-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator340=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step340;try{for(_iterator340.s();!(_step340=_iterator340.n()).done;){var _t632=_step340.value;this["#"+_t632.getAttribute("uid")]=_t632;}}catch(err){_iterator340.e(err);}finally{_iterator340.f();}},enabledCallback:function enabledCallback(){var _this239=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this239.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this240=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this240.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this240.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this240.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.Pl=this.Dl(),0===this.Pl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.zl(t):t.target.matches(".corner-grippie")&&this.Ol(t));},zl:function zl(t){var _this241=this;var e,_i482,s=t.target,n=s.parentElement[hd],o=qt(n).inverse(),_wl$values18=_slicedToArray(wl(n).values,6),l=_wl$values18[0],a=_wl$values18[1],h=_wl$values18[2],r=_wl$values18[3],d=_wl$values18[4],c=_wl$values18[5],p=this.Mn.geometryPrecision,u=new DOMPoint(l,a),x=new DOMPoint(l+h,a),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(l+h*d,a),g=new J(m,b).getOppositeVector(),f=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){!1===f&&(f=!0,_this241.Mn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);e=g.transformPoint(e);var _$e9=$e(u,x,e,!1),_$e10=_slicedToArray(_$e9,1),i=_$e10[0];d=(i.x-u.x)/h,d=et(d,0,1,4),_this241.Qs.modKeys.shift&&(d=[0,.5,1].reduce(function(t,e){return ad(e-d)<ad(t-d)?e:t;}));var s=[l,a,h,r,d,c].map(function(t){return tt(t,p);});_vl(n,{type:"triangle",values:s},p);}),s.addEventListener("lostpointercapture",_i482=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i482),_this241.Jo=null;});},Ol:function Ol(t){var _this242=this;var e,_i483,s=t.target,n=s.parentElement[hd],o=(Wt(n),qt(n).inverse()),_wl$values19=_slicedToArray(wl(n).values,6),l=_wl$values19[0],a=_wl$values19[1],h=_wl$values19[2],r=_wl$values19[3],d=_wl$values19[4],c=_wl$values19[5],p=this.Mn.geometryPrecision,u=new DOMPoint(l+h*d,a),x=new DOMPoint(l+h,a+r),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(b.x,b.y),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this242.Mn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY);m=e.matrixTransform(o);var _$e11=$e(x,u,m,!1),_$e12=_slicedToArray(_$e11,1),i=_$e12[0],s=new J(x,i),c=new J(x,u),b=s.length/c.length,f=et(b,0,.5,4),w=[l,a,h,r,d,f].map(function(t){return tt(t,p);});_vl(n,{type:"triangle",values:w},p);}),s.addEventListener("lostpointercapture",_i483=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i483),_this242.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator341=_createForOfIteratorHelper(this.Pl),_step341;try{for(_iterator341.s();!(_step341=_iterator341.n()).done;){var _t633=_step341.value;var _e475=this["#subhud-template"].cloneNode(!0);_e475.removeAttribute("uid"),_e475[hd]=_t633,this["#subhuds"].append(_e475);}}catch(err){_iterator341.e(err);}finally{_iterator341.f();}this.el(),this.dl();},el:function el(){var _iterator342=_createForOfIteratorHelper(this["#subhuds"].children),_step342;try{for(_iterator342.s();!(_step342=_iterator342.n()).done;){var _t634=_step342.value;var _e476=_t634[hd],_i484=Yt(_e476,this),_wl$values20=_slicedToArray(wl(_e476).values,6),s=_wl$values20[0],_n212=_wl$values20[1],_o175=_wl$values20[2],_l157=_wl$values20[3],_a121=_wl$values20[4],_h102=_wl$values20[5];var _iterator343=_createForOfIteratorHelper(_t634.children),_step343;try{for(_iterator343.s();!(_step343=_iterator343.n()).done;){var _e477=_step343.value;if(_e477.matches(".shift-grippie")){var _t635=new DOMPoint(s+_o175*_a121,_n212).matrixTransform(_i484);_e477.setAttribute("cx",_t635.x),_e477.setAttribute("cy",_t635.y);}else if(_e477.matches(".corner-grippie")){var _t636=new DOMPoint(s+_o175*_a121,_n212).matrixTransform(_i484),_r59=new DOMPoint(s+_o175,_n212+_l157).matrixTransform(_i484),_d41=Ie(_r59,_t636,_h102);_e477.setAttribute("cx",_d41.x),_e477.setAttribute("cy",_d41.y);}}}catch(err){_iterator343.e(err);}finally{_iterator343.f();}}}catch(err){_iterator342.e(err);}finally{_iterator342.f();}},dl:function dl(){var _iterator344=_createForOfIteratorHelper(this["#subhuds"].children),_step344;try{for(_iterator344.s();!(_step344=_iterator344.n()).done;){var _t637=_step344.value;var _iterator345=_createForOfIteratorHelper(_t637.children),_step345;try{for(_iterator345.s();!(_step345=_iterator345.n()).done;){var _e478=_step345.value;_e478.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator345.e(err);}finally{_iterator345.f();}}}catch(err){_iterator344.e(err);}finally{_iterator344.f();}},Dl:function Dl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator346=_createForOfIteratorHelper(t),_step346;try{for(_iterator346.s();!(_step346=_iterator346.n()).done;){var _i485=_step346.value;"path"===_i485.localName?_i485.hasAttribute("data-bx-shape")&&_i485.getAttribute("data-bx-shape").startsWith("triangle")&&e.push(_i485):["g","a"].includes(_i485.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Dl(_i485.children))));}}catch(err){_iterator346.e(err);}finally{_iterator346.f();}return e;}};var dd=Symbol(),cd=6;var pd={id:"n-gon-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #n-gon-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #n-gon-hud .grippie.r-grippie {\n      fill: red;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator347=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step347;try{for(_iterator347.s();!(_step347=_iterator347.n()).done;){var _t638=_step347.value;this["#"+_t638.getAttribute("uid")]=_t638;}}catch(err){_iterator347.e(err);}finally{_iterator347.f();}},enabledCallback:function enabledCallback(){var _this243=this;this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this243.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this244=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this244.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this244.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this244.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.El=this.Tl(),0===this.El.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arms-grippie")?this.Al(t):t.target.matches(".corner-grippie")&&this.Ol(t));},Al:function Al(t){var _this245=this;if(0!==t.button)return;var e,_i486,s=t.target,n=s.parentElement[dd],o=this.Mn.geometryPrecision,_wl$values21=_slicedToArray(wl(n).values,6),l=_wl$values21[0],a=_wl$values21[1],h=_wl$values21[2],r=_wl$values21[3],d=_wl$values21[4],c=_wl$values21[5],p=d,u=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(_e479){var i=tt((_e479.clientX-t.clientX)/10,0);d=p+i,d<5&&(d=5),!1===u&&d!==p&&(_this245.Mn.undoManager.checkpoint("Change number of n-gon arms"),u=!0),_vl(n,{type:"n-gon",values:[l,a,h,r,d,c]},o);}),s.addEventListener("lostpointercapture",_i486=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i486),_this245.Jo=null;});},Ol:function Ol(t){var _this246=this;if(0!==t.button)return;var e,_i487,s=t.target,n=s.parentElement[dd],o=(Wt(n),qt(n).inverse()),l=this.Mn.geometryPrecision,_wl$values22=_slicedToArray(wl(n).values,6),a=_wl$values22[0],h=_wl$values22[1],r=_wl$values22[2],d=_wl$values22[3],c=_wl$values22[4],p=_wl$values22[5],u=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),x=new DOMPoint(u.x,u.y),b=$l(0,a,h,r,d,c),m=$l(1,a,h,r,d,c),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this246.Mn.undoManager.checkpoint("N-gon radius"));var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(o);var _$e13=$e(b,m,x,!1),_$e14=_slicedToArray(_$e13,1),i=_$e14[0],s=new J(b,i),p=new J(b,m),u=s.length/p.length,f=et(u,0,.5,2);_vl(n,{type:"n-gon",values:[a,h,r,d,c,f]},l);}),s.addEventListener("lostpointercapture",_i487=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i487),_this246.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator348=_createForOfIteratorHelper(this.El),_step348;try{for(_iterator348.s();!(_step348=_iterator348.n()).done;){var _t639=_step348.value;var _e480=this["#subhud-template"].cloneNode(!0);_e480.removeAttribute("uid"),_e480[dd]=_t639,this["#subhuds"].append(_e480);}}catch(err){_iterator348.e(err);}finally{_iterator348.f();}this.el(),this.dl();},el:function el(){var _iterator349=_createForOfIteratorHelper(this["#subhuds"].children),_step349;try{for(_iterator349.s();!(_step349=_iterator349.n()).done;){var _t640=_step349.value;var _e481=_t640[dd],_i488=Yt(_e481,this),_wl$values23=_slicedToArray(wl(_e481).values,6),s=_wl$values23[0],_n213=_wl$values23[1],_o176=_wl$values23[2],_l158=_wl$values23[3],_a122=_wl$values23[4],_h103=_wl$values23[5];var _iterator350=_createForOfIteratorHelper(_t640.children),_step350;try{for(_iterator350.s();!(_step350=_iterator350.n()).done;){var _e482=_step350.value;if(_e482.matches(".arms-grippie")){var _t641=new DOMPoint(s,_n213).matrixTransform(_i488);_e482.setAttribute("cx",_t641.x),_e482.setAttribute("cy",_t641.y);}else if(_e482.matches(".corner-grippie")){var _t642=$l(0,s,_n213,_o176,_l158,_a122).matrixTransform(_i488),_r60=$l(1,s,_n213,_o176,_l158,_a122).matrixTransform(_i488),_d42=Ie(_t642,_r60,_h103);_e482.setAttribute("cx",_d42.x),_e482.setAttribute("cy",_d42.y);}}}catch(err){_iterator350.e(err);}finally{_iterator350.f();}}}catch(err){_iterator349.e(err);}finally{_iterator349.f();}},dl:function dl(){var _iterator351=_createForOfIteratorHelper(this["#subhuds"].children),_step351;try{for(_iterator351.s();!(_step351=_iterator351.n()).done;){var _t643=_step351.value;var _iterator352=_createForOfIteratorHelper(_t643.children),_step352;try{for(_iterator352.s();!(_step352=_iterator352.n()).done;){var _e483=_step352.value;_e483.setAttribute("r",cd/this.Mn.scale);}}catch(err){_iterator352.e(err);}finally{_iterator352.f();}}}catch(err){_iterator351.e(err);}finally{_iterator351.f();}},Tl:function Tl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator353=_createForOfIteratorHelper(t),_step353;try{for(_iterator353.s();!(_step353=_iterator353.n()).done;){var _i489=_step353.value;"path"===_i489.localName?_i489.hasAttribute("data-bx-shape")&&_i489.getAttribute("data-bx-shape").startsWith("n-gon")&&e.push(_i489):["g","a"].includes(_i489.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Tl(_i489.children))));}}catch(err){_iterator353.e(err);}finally{_iterator353.f();}return e;}};var ud=Math.sin,xd=Math.cos,bd=Math.PI,md=Symbol();var gd={id:"star-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #star-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie depth-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator354=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step354;try{for(_iterator354.s();!(_step354=_iterator354.n()).done;){var _t644=_step354.value;this["#"+_t644.getAttribute("uid")]=_t644;}}catch(err){_iterator354.e(err);}finally{_iterator354.f();}},enabledCallback:function enabledCallback(){var _this247=this;this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this247.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this248=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this248.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this248.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this248.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.$l=this.Il(),0===this.$l.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".depth-grippie")?this.Ll(t):t.target.matches(".arms-grippie")&&this.Al(t));},Ll:function Ll(t){var _this249=this;var e,_i490,s=t.target,n=s.parentElement[md],o=qt(n).inverse(),_wl$values24=_slicedToArray(wl(n).values,6),l=_wl$values24[0],a=_wl$values24[1],h=_wl$values24[2],r=_wl$values24[3],d=_wl$values24[4],c=_wl$values24[5],p=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),u=new DOMPoint(l,a),x=Il(1,l,a,h,r,d,c),b=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){!1===b&&(b=!0,_this249.Mn.undoManager.checkpoint("Inner star radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=new J(x,p).getOppositeVector().transformPoint(e),s=2*bd*(1/c/2)-bd/2,m=u,g=new DOMPoint(h*xd(s)+l,r*ud(s)+a),_$e15=$e(m,g,i,!1),_$e16=_slicedToArray(_$e15,1),f=_$e16[0];d=new J(m,f).length/new J(m,g).length,d=tt(d,_this249.Mn.geometryPrecision),_vl(n,{type:"star",values:[l,a,h,r,d,c]},_this249.Mn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i490=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i490),_this249.Jo=null;});},Al:function Al(t){var _this250=this;var e,_i491,s=t.target,n=s.parentElement[md],_wl$values25=_slicedToArray(wl(n).values,6),o=_wl$values25[0],l=_wl$values25[1],a=_wl$values25[2],h=_wl$values25[3],r=_wl$values25[4],d=_wl$values25[5],c=d,p=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(_e484){var i=tt((_e484.clientX-t.clientX)/10,0);d=c+i,d<3&&(d=3),!1===p&&d!==c&&(_this250.Mn.undoManager.checkpoint("Change number of star arms"),p=!0),_vl(n,{type:"star",values:[o,l,a,h,r,d]},_this250.Mn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i491=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i491),_this250.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator355=_createForOfIteratorHelper(this.$l),_step355;try{for(_iterator355.s();!(_step355=_iterator355.n()).done;){var _t645=_step355.value;var _e485=this["#subhud-template"].cloneNode(!0);_e485.removeAttribute("uid"),_e485[md]=_t645,this["#subhuds"].append(_e485);}}catch(err){_iterator355.e(err);}finally{_iterator355.f();}this.el(),this.dl();},el:function el(){var _iterator356=_createForOfIteratorHelper(this["#subhuds"].children),_step356;try{for(_iterator356.s();!(_step356=_iterator356.n()).done;){var _t646=_step356.value;var _e486=_t646[md],_i492=Yt(_e486,this),_wl$values26=_slicedToArray(wl(_e486).values,6),s=_wl$values26[0],_n214=_wl$values26[1],_o177=_wl$values26[2],_l159=_wl$values26[3],_a123=_wl$values26[4],_h104=_wl$values26[5];var _iterator357=_createForOfIteratorHelper(_t646.children),_step357;try{for(_iterator357.s();!(_step357=_iterator357.n()).done;){var _e487=_step357.value;if(_e487.matches(".arms-grippie")){var _t647=new DOMPoint(s,_n214).matrixTransform(_i492);_e487.setAttribute("cx",_t647.x),_e487.setAttribute("cy",_t647.y);}else if(_e487.matches(".depth-grippie")){var _t648=Il(1,s,_n214,_o177,_l159,_a123,_h104).matrixTransform(_i492);_e487.setAttribute("cx",_t648.x),_e487.setAttribute("cy",_t648.y);}}}catch(err){_iterator357.e(err);}finally{_iterator357.f();}}}catch(err){_iterator356.e(err);}finally{_iterator356.f();}},dl:function dl(){var _iterator358=_createForOfIteratorHelper(this["#subhuds"].children),_step358;try{for(_iterator358.s();!(_step358=_iterator358.n()).done;){var _t649=_step358.value;var _iterator359=_createForOfIteratorHelper(_t649.children),_step359;try{for(_iterator359.s();!(_step359=_iterator359.n()).done;){var _e488=_step359.value;_e488.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator359.e(err);}finally{_iterator359.f();}}}catch(err){_iterator358.e(err);}finally{_iterator358.f();}},Il:function Il(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator360=_createForOfIteratorHelper(t),_step360;try{for(_iterator360.s();!(_step360=_iterator360.n()).done;){var _i493=_step360.value;"path"===_i493.localName?_i493.hasAttribute("data-bx-shape")&&_i493.getAttribute("data-bx-shape").startsWith("star")&&e.push(_i493):["g","a"].includes(_i493.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Il(_i493.children))));}}catch(err){_iterator360.e(err);}finally{_iterator360.f();}return e;}};var fd=Math.sin,wd=Math.cos,vd=Math.tan,yd=Number.MAX_SAFE_INTEGER,kd=Symbol();var Sd={id:"cog-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #cog-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cog-hud .splay-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie teeth-grippie"></circle>\n      <circle class="grippie splay-grippie"></circle>\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie r-grippie r3-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator361=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step361;try{for(_iterator361.s();!(_step361=_iterator361.n()).done;){var _t650=_step361.value;this["#"+_t650.getAttribute("uid")]=_t650;}}catch(err){_iterator361.e(err);}finally{_iterator361.f();}},enabledCallback:function enabledCallback(){var _this251=this;this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this251.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this252=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this252.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this252.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this252.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.Rl=this.Bl(),0===this.Rl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r1-grippie")?this.Gl(t):t.target.matches(".r2-grippie")?this.Ul(t):t.target.matches(".r3-grippie")?this.Fl(t):t.target.matches(".teeth-grippie")?this.Nl(t):t.target.matches(".splay-grippie")&&this.Vl(t));},Gl:function Gl(t){var _this253=this;var e,_i494,s=this.Mn,n=t.target,o=n.parentElement[kd],l=qt(o).inverse(),_wl$values27=_slicedToArray(wl(o).values,7),a=_wl$values27[0],h=_wl$values27[1],r=_wl$values27[2],d=_wl$values27[3],c=_wl$values27[4],p=_wl$values27[5],u=_wl$values27[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(a,h).rotateSelf(360/u/2).translateSelf(-a,-h),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(a,h),w=new DOMPoint(a,h-r).matrixTransform(m),v=new J(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n;var k=f,S=new DOMPoint(a,h-yd).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _$e17=$e(k,S,e,!1),_$e18=_slicedToArray(_$e17,1),i=_$e18[0],n=Te(f,i);_vl(o,{type:"cog",values:[a,h,n,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i494=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i494),_this253.Jo=null;});},Ul:function Ul(t){var _this254=this;var e,_i495,s=this.Mn,n=t.target,o=n.parentElement[kd],l=qt(o).inverse(),_wl$values28=_slicedToArray(wl(o).values,7),a=_wl$values28[0],h=_wl$values28[1],r=_wl$values28[2],d=_wl$values28[3],c=_wl$values28[4],p=_wl$values28[5],u=_wl$values28[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(a,h).rotateSelf(360/u/2).translateSelf(-a,-h),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(a,h),w=new DOMPoint(a,h-d).matrixTransform(m),v=new J(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n;var k=f,S=new DOMPoint(a,h-yd).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _$e19=$e(k,S,e,!1),_$e20=_slicedToArray(_$e19,1),i=_$e20[0];d=Te(f,i),_vl(o,{type:"cog",values:[a,h,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i495=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i495),_this254.Jo=null;});},Fl:function Fl(t){var _this255=this;var e,_i496,s=this.Mn,n=t.target,o=n.parentElement[kd],l=qt(o).inverse(),_wl$values29=_slicedToArray(wl(o).values,7),a=_wl$values29[0],h=_wl$values29[1],r=_wl$values29[2],d=_wl$values29[3],c=_wl$values29[4],p=_wl$values29[5],u=_wl$values29[6],x=t.clientX,b=t.clientY,m=new DOMPoint(x,b).matrixTransform(l),g=new DOMPoint(a,h),f=new DOMPoint(a,h-c),w=new J(m,f),v=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n;var y=g,k=new DOMPoint(a,h-yd);n.addEventListener("pointermove",e=function e(t){!1===v&&(v=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=w.transformPoint(e);var _$e21=$e(y,k,e,!1),_$e22=_slicedToArray(_$e21,1),i=_$e22[0];c=Te(g,i),_vl(o,{type:"cog",values:[a,h,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i496=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i496),_this255.Jo=null;});},Nl:function Nl(t){var _this256=this;var e,_i497,s=this.Mn,n=t.target,o=n.parentElement[kd],_wl$values30=_slicedToArray(wl(o).values,7),l=_wl$values30[0],a=_wl$values30[1],h=_wl$values30[2],r=_wl$values30[3],d=_wl$values30[4],c=_wl$values30[5],p=_wl$values30[6],u=p,x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n,n.addEventListener("pointermove",e=function e(_e489){var i=tt((_e489.clientX-t.clientX)/10,0);p=u+i,p<3&&(p=3),!1===x&&p!==u&&(s.undoManager.checkpoint("Change number of cog teeth"),x=!0),_vl(o,{type:"cog",values:[l,a,h,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i497=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i497),_this256.Jo=null;});},Vl:function Vl(t){var _this257=this;var e,_i498,s=this.Mn,n=t.target,o=n.parentElement[kd],_wl$values31=_slicedToArray(wl(o).values,7),l=_wl$values31[0],a=_wl$values31[1],h=_wl$values31[2],r=_wl$values31[3],d=_wl$values31[4],c=_wl$values31[5],p=_wl$values31[6],u=t.clientX,x=t.clientY,b=c,m=qt(o).inverse(),g=!1,f=function f(t){var e=360/p,i=e/4,s=vd(Ve(i-t*i))*d,n=Ve(e-90);return new DOMPoint(l+d*wd(n)-fd(n)*s,a+d*fd(n)+wd(n)*s);},w=new DOMPoint(u,x).matrixTransform(m),v=f(b),y=new J(w,v),k=f(0),S=f(1);n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Jo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),i=y.transformPoint(e),_$e23=$e(k,S,i,!1),_$e24=_slicedToArray(_$e23,1),n=_$e24[0],c=Te(k,n)/Te(k,S);c=et(c,0,1,3),!1===g&&c!==b&&(s.undoManager.checkpoint("Cog splay"),g=!0),_vl(o,{type:"cog",values:[l,a,h,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i498=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i498),_this257.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator362=_createForOfIteratorHelper(this.Rl),_step362;try{for(_iterator362.s();!(_step362=_iterator362.n()).done;){var _t651=_step362.value;var _e490=this["#subhud-template"].cloneNode(!0);_e490.removeAttribute("uid"),_e490[kd]=_t651,this["#subhuds"].append(_e490);}}catch(err){_iterator362.e(err);}finally{_iterator362.f();}this.el(),this.dl();},el:function el(){var _iterator363=_createForOfIteratorHelper(this["#subhuds"].children),_step363;try{for(_iterator363.s();!(_step363=_iterator363.n()).done;){var _t652=_step363.value;var _e491=_t652[kd],_i499=Yt(_e491,this.Mn.vectorCanvas),_wl$values32=_slicedToArray(wl(_e491).values,7),s=_wl$values32[0],_n215=_wl$values32[1],_o178=_wl$values32[2],_l160=_wl$values32[3],_a124=_wl$values32[4],_h105=_wl$values32[5],_r61=_wl$values32[6];var _iterator364=_createForOfIteratorHelper(_t652.children),_step364;try{for(_iterator364.s();!(_step364=_iterator364.n()).done;){var _e492=_step364.value;if(_e492.matches(".r1-grippie")){var _t653=new DOMMatrix();_t653.translateSelf(s,_n215),_t653.rotateSelf(360/_r61/2),_t653.translateSelf(-s,-_n215);var _l161=new DOMPoint(s,_n215-_o178);_l161=_l161.matrixTransform(_t653),_l161=_l161.matrixTransform(_i499),_e492.setAttribute("cx",_l161.x),_e492.setAttribute("cy",_l161.y);}else if(_e492.matches(".r2-grippie")){var _t654=new DOMMatrix();_t654.translateSelf(s,_n215),_t654.rotateSelf(360/_r61/2),_t654.translateSelf(-s,-_n215);var _o179=new DOMPoint(s,_n215-_l160);_o179=_o179.matrixTransform(_t654),_o179=_o179.matrixTransform(_i499),_e492.setAttribute("cx",_o179.x),_e492.setAttribute("cy",_o179.y);}else if(_e492.matches(".r3-grippie")){var _t655=new DOMPoint(s,_n215-_a124);_t655=_t655.matrixTransform(_i499),_e492.setAttribute("cx",_t655.x),_e492.setAttribute("cy",_t655.y);}else if(_e492.matches(".teeth-grippie")){var _t656=new DOMPoint(s,_n215).matrixTransform(_i499);_e492.setAttribute("cx",_t656.x),_e492.setAttribute("cy",_t656.y);}else if(_e492.matches(".splay-grippie")){var _t657=360/_r61,_o180=_t657/4,_l162=vd(Ve(_o180-_h105*_o180))*_a124,_d43=Ve(_t657-90),_c33=new DOMPoint(s+_a124*wd(_d43)-fd(_d43)*_l162,_n215+_a124*fd(_d43)+wd(_d43)*_l162);_c33=_c33.matrixTransform(_i499),_e492.setAttribute("cx",_c33.x),_e492.setAttribute("cy",_c33.y);}}}catch(err){_iterator364.e(err);}finally{_iterator364.f();}}}catch(err){_iterator363.e(err);}finally{_iterator363.f();}},dl:function dl(){var _iterator365=_createForOfIteratorHelper(this["#subhuds"].children),_step365;try{for(_iterator365.s();!(_step365=_iterator365.n()).done;){var _t658=_step365.value;var _iterator366=_createForOfIteratorHelper(_t658.children),_step366;try{for(_iterator366.s();!(_step366=_iterator366.n()).done;){var _e493=_step366.value;_e493.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator366.e(err);}finally{_iterator366.f();}}}catch(err){_iterator365.e(err);}finally{_iterator365.f();}},Bl:function Bl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator367=_createForOfIteratorHelper(t),_step367;try{for(_iterator367.s();!(_step367=_iterator367.n()).done;){var _i500=_step367.value;"path"===_i500.localName?_i500.hasAttribute("data-bx-shape")&&_i500.getAttribute("data-bx-shape").startsWith("cog")&&e.push(_i500):["g","a"].includes(_i500.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Bl(_i500.children))));}}catch(err){_iterator367.e(err);}finally{_iterator367.f();}return e;}};var _d=Symbol();var Cd={id:"arrow-hud",createdCallback:function createdCallback(){this.Ko=!1,this.jl=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #arrow-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #arrow-hud .start-grippie,\n    #arrow-hud .end-grippie {\n      fill: #C3C303;\n    }\n    #arrow-hud .base-thickness-grippie,\n    #arrow-hud .head-size-grippie,\n    #arrow-hud .head-inset-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-grippie"></circle>\n      <circle class="grippie end-grippie"></circle>\n      <circle class="grippie base-thickness-grippie"></circle>\n      <circle class="grippie head-size-grippie"></circle>\n      <circle class="grippie head-inset-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator368=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step368;try{for(_iterator368.s();!(_step368=_iterator368.n()).done;){var _t659=_step368.value;this["#"+_t659.getAttribute("uid")]=_t659;}}catch(err){_iterator368.e(err);}finally{_iterator368.f();}},enabledCallback:function enabledCallback(){var _this258=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this258.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this259=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this259.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this259.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this259.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.jl=this.Hl(),0===this.jl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-grippie")?this.Wl(t):t.target.matches(".end-grippie")?this.Yl(t):t.target.matches(".base-thickness-grippie")?this.ql(t):t.target.matches(".head-size-grippie")?this.Xl(t):t.target.matches(".head-inset-grippie")&&this.Zl(t));},Wl:function Wl(t){var _this260=this;var e,_i502,s=t.target,n=s.parentElement[_d],_this$Mn=this.Mn,o=_this$Mn.geometryPrecision,l=_this$Mn.transformPrecision,_wl$values33=_slicedToArray(wl(n).values,7),a=_wl$values33[0],h=_wl$values33[1],r=_wl$values33[2],d=_wl$values33[3],c=_wl$values33[4],p=_wl$values33[5],u=_wl$values33[6],x=qt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(qt(s)),m=new DOMPoint(a+r,h+d/2),g=m.matrixTransform(x),f=a,w=r,v=ne(n,m);this.Jo=s,this.Mn.undoManager.checkpoint("Move arrow"),this.Mn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this260.Mn.snapManager.snapPoint(e);var i=Ge(g,b,e),s=v+i;{var _t660=new DOMPoint(a,h+d/2),_i501=_t660.matrixTransform(x),_s287=new DOMPoint(a+r,h+d/2),_l163=_s287.matrixTransform(x),_b25=Te(_t660,_s287)/Te(_i501,_l163);r=Te(g,e)*_b25,r=et(r,p,Infinity,o),a=f+(w-r),a=tt(a,o),_vl(n,{type:"arrow",values:[a,h,r,d,c,p,u]});}_this260.Qs.modKeys.shift&&(s=Fe(s,15)),oe(n,s,null,m);}),window.addEventListener("pointerup",_i502=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i502),_this260.Jo=null,_this260.Mn.snapManager.snapEnd(),ka(n,{geometryPrecision:o,transformPrecision:l});});},Yl:function Yl(t){var _this261=this;var e,_i504,s=t.target,n=s.parentElement[_d],_this$Mn2=this.Mn,o=_this$Mn2.geometryPrecision,l=_this$Mn2.transformPrecision,_wl$values34=_slicedToArray(wl(n).values,7),a=_wl$values34[0],h=_wl$values34[1],r=_wl$values34[2],d=_wl$values34[3],c=_wl$values34[4],p=_wl$values34[5],u=_wl$values34[6],x=qt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(qt(s)),m=new DOMPoint(a,h+d/2),g=m.matrixTransform(x),f=ne(n,m);this.Jo=s,this.Mn.undoManager.checkpoint("Move arrow"),this.Mn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this261.Mn.snapManager.snapPoint(e);var i=Ge(g,b,e),s=f+i;{var _t661=new DOMPoint(a,h+d/2),_i503=_t661.matrixTransform(x),_s288=new DOMPoint(a+r,h+d/2),_l164=_s288.matrixTransform(x),_b26=Te(_t661,_s288)/Te(_i503,_l164);r=Te(g,e)*_b26,r=et(r,p,Infinity,o),_vl(n,{type:"arrow",values:[a,h,r,d,c,p,u]});}_this261.Qs.modKeys.shift&&(s=Fe(s,15)),oe(n,s,null,m);}),window.addEventListener("pointerup",_i504=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i504),_this261.Jo=null,_this261.Mn.snapManager.snapEnd(),ka(n,{geometryPrecision:o,transformPrecision:l});});},ql:function ql(t){var _this262=this;var e,_i505,s=t.target,n=s.parentElement[_d],o=wl(n),l=qt(n).inverse(),_o$values=_slicedToArray(o.values,7),a=_o$values[0],h=_o$values[1],r=_o$values[2],d=_o$values[3],c=_o$values[4],p=_o$values[5],u=_o$values[6],_Ll=Ll.apply(void 0,_toConsumableArray(o.values)),x=_Ll.minBaseThickness,b=_Ll.maxBaseThickness,m=this.Mn.geometryPrecision;x=tt(x,m),b=tt(b,m),this.Jo=s,this.Mn.undoManager.checkpoint("Arrow base thickness"),this.Mn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this262.Mn.snapManager.snapPoint(e);var i=e.matrixTransform(l);c=2*(h+d/2-i.y),c=et(c,x,b,m),_vl(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this262.el();}),window.addEventListener("pointerup",_i505=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i505),_this262.Jo=null,_this262.Mn.snapManager.snapEnd();});},Xl:function Xl(t){var _this263=this;var e,_i506,s=t.target,n=s.parentElement[_d],o=this.Mn.geometryPrecision,l=qt(n).inverse(),_wl$values35=_slicedToArray(wl(n).values,7),a=_wl$values35[0],h=_wl$values35[1],r=_wl$values35[2],d=_wl$values35[3],c=_wl$values35[4],p=_wl$values35[5],u=_wl$values35[6],x=h,b=d,m=c;this.Jo=s,this.Mn.undoManager.checkpoint("Arrow head size"),this.Mn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this263.Mn.snapManager.snapPoint(e);var i=e.matrixTransform(l);!1===_this263.Qs.modKeys.shift&&(p=a+r-i.x,p=et(p,1,r,o)),d=i.y-h,d=et(d,c,Infinity,o),h=x-d/2+b/2,h=tt(h,o);{var _Ll2=Ll(a,h,r,d,c,p,u),_t662=_Ll2.maxBaseThickness;_t662=tt(_t662,o),(c>_t662||c<m)&&(c=_t662);}_vl(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this263.el();}),window.addEventListener("pointerup",_i506=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i506),_this263.Jo=null,_this263.Mn.snapManager.snapEnd();});},Zl:function Zl(t){var _this264=this;var e,_i507,s=t.target,n=s.parentElement[_d],o=this.Mn.geometryPrecision,l=wl(n),_l$values=_slicedToArray(l.values,7),a=_l$values[0],h=_l$values[1],r=_l$values[2],d=_l$values[3],c=_l$values[4],p=_l$values[5],u=_l$values[6],x=qt(n).inverse(),_Ll3=Ll.apply(void 0,_toConsumableArray(l.values)),b=_Ll3.minHeadInset,m=_Ll3.maxHeadInset;b=tt(b,o),m=tt(m,o),this.Jo=s,this.Mn.undoManager.checkpoint("Arrow head inset"),this.Mn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this264.Mn.snapManager.snapPoint(e);var i=e.matrixTransform(x);u=i.x-(a+r-p),u=et(u,b,m,o),_vl(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this264.el();}),window.addEventListener("pointerup",_i507=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i507),_this264.Jo=null,_this264.Mn.snapManager.snapEnd();});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator369=_createForOfIteratorHelper(this.jl),_step369;try{for(_iterator369.s();!(_step369=_iterator369.n()).done;){var _t663=_step369.value;var _e494=this["#subhud-template"].cloneNode(!0);_e494.removeAttribute("uid"),_e494[_d]=_t663,this["#subhuds"].append(_e494);}}catch(err){_iterator369.e(err);}finally{_iterator369.f();}this.el(),this.dl();},el:function el(){var _iterator370=_createForOfIteratorHelper(this["#subhuds"].children),_step370;try{for(_iterator370.s();!(_step370=_iterator370.n()).done;){var _t664=_step370.value;var _e495=_t664[_d],_i508=Yt(_e495,this),_wl$values36=_slicedToArray(wl(_e495).values,7),s=_wl$values36[0],_n216=_wl$values36[1],_o181=_wl$values36[2],_l165=_wl$values36[3],_a125=_wl$values36[4],_h106=_wl$values36[5],_r62=_wl$values36[6];_r62>_h106&&(_r62=_h106);var _iterator371=_createForOfIteratorHelper(_t664.children),_step371;try{for(_iterator371.s();!(_step371=_iterator371.n()).done;){var _e496=_step371.value;if(_e496.matches(".start-grippie")){var _t665=new DOMPoint(s,_n216+_l165/2).matrixTransform(_i508);_e496.setAttribute("cx",_t665.x),_e496.setAttribute("cy",_t665.y);}else if(_e496.matches(".end-grippie")){var _t666=new DOMPoint(s+_o181,_n216+_l165/2).matrixTransform(_i508);_e496.setAttribute("cx",_t666.x),_e496.setAttribute("cy",_t666.y);}else if(_e496.matches(".base-thickness-grippie")){var _t667=new DOMPoint(s+(_o181-_h106+_r62)/2,_n216+_l165/2-_a125/2).matrixTransform(_i508);_e496.setAttribute("cx",_t667.x),_e496.setAttribute("cy",_t667.y);}else if(_e496.matches(".head-size-grippie")){var _t668=new DOMPoint(s+_o181-_h106,_n216+_l165).matrixTransform(_i508);_e496.setAttribute("cx",_t668.x),_e496.setAttribute("cy",_t668.y);}else if(_e496.matches(".head-inset-grippie")){var _t669=new DOMPoint(s+_o181-_h106+_r62,_n216+_l165/2-_a125/2).matrixTransform(_i508);_e496.setAttribute("cx",_t669.x),_e496.setAttribute("cy",_t669.y);}}}catch(err){_iterator371.e(err);}finally{_iterator371.f();}}}catch(err){_iterator370.e(err);}finally{_iterator370.f();}},dl:function dl(){var _iterator372=_createForOfIteratorHelper(this["#subhuds"].children),_step372;try{for(_iterator372.s();!(_step372=_iterator372.n()).done;){var _t670=_step372.value;var _iterator373=_createForOfIteratorHelper(_t670.children),_step373;try{for(_iterator373.s();!(_step373=_iterator373.n()).done;){var _e497=_step373.value;_e497.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator373.e(err);}finally{_iterator373.f();}}}catch(err){_iterator372.e(err);}finally{_iterator372.f();}},Hl:function Hl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator374=_createForOfIteratorHelper(t),_step374;try{for(_iterator374.s();!(_step374=_iterator374.n()).done;){var _i509=_step374.value;"path"===_i509.localName?_i509.hasAttribute("data-bx-shape")&&_i509.getAttribute("data-bx-shape").startsWith("arrow")&&e.push(_i509):["g","a"].includes(_i509.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Hl(_i509.children))));}}catch(err){_iterator374.e(err);}finally{_iterator374.f();}return e;}};var Md=Math.abs,Pd=Symbol();var Dd={id:"cross-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #cross-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cross-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #cross-hud .arms-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie arms-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator375=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step375;try{for(_iterator375.s();!(_step375=_iterator375.n()).done;){var _t671=_step375.value;this["#"+_t671.getAttribute("uid")]=_t671;}}catch(err){_iterator375.e(err);}finally{_iterator375.f();}},enabledCallback:function enabledCallback(){var _this265=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this265.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this266=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this266.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this266.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this266.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.Kl=this.Ql(),0===this.Kl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.zl(t):t.target.matches(".arms-grippie")&&this.Al(t));},zl:function zl(t){var _this267=this;var e,_i510,s=t.target,n=s.parentElement[Pd],o=qt(n),l=o.inverse(),a=wl(n),_a$values=_slicedToArray(a.values,7),h=_a$values[0],r=_a$values[1],d=_a$values[2],c=_a$values[3],p=_a$values[4],u=_a$values[5],x=_a$values[6],_Rl=Rl.apply(void 0,_toConsumableArray(a.values)),b=_Rl.minShift,m=_Rl.maxShift,g=this.Mn.geometryPrecision,f=new DOMPoint(h+d/2,r),w=new DOMPoint(h+d/2,r+c),v=new DOMPoint(h+d/2,r+c*x).matrixTransform(o),y=new DOMPoint(t.clientX,t.clientY),k=(y.matrixTransform(l),new J(v,y).getOppositeVector()),S=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){!1===S&&(S=!0,_this267.Mn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=k.transformPoint(e);var i=e.matrixTransform(l),_$e25=$e(f,w,i,!1),_$e26=_slicedToArray(_$e25,1),s=_$e26[0];x=(s.y-f.y)/c,_this267.Qs.modKeys.shift&&(x=[0,.5,1].reduce(function(t,e){return Md(e-x)<Md(t-x)?e:t;})),x=et(x,b,m,4),_vl(n,{type:"cross",values:[h,r,d,c,p,u,x]},g);}),s.addEventListener("lostpointercapture",_i510=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i510),_this267.Jo=null;});},Al:function Al(t){var _this268=this;var e,_i511,s=t.target,n=s.parentElement[Pd],o=(Wt(n),qt(n)),l=o.inverse(),a=wl(n),_a$values2=_slicedToArray(a.values,7),h=_a$values2[0],r=_a$values2[1],d=_a$values2[2],c=_a$values2[3],p=_a$values2[4],u=_a$values2[5],x=_a$values2[6],b=this.Mn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY),g=m.matrixTransform(l),f=new DOMPoint(g.x,g.y),w=new DOMPoint(h+d/2-u/2,r+c*x-p/2).matrixTransform(o),v=new J(w,m).getOppositeVector(),y=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s;var k=new DOMPoint(h+d/2,r+x*c),_Rl2=Rl.apply(void 0,_toConsumableArray(a.values)),S=_Rl2.maxHorizontalArmThickness;s.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,_this268.Mn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=v.transformPoint(e),f=e.matrixTransform(l),u=2*(k.x-f.x),u=et(u,.001,d),p=2*(k.y-f.y),p=et(p,.001,S),_this268.Qs.modKeys.shift&&(p>u?p=u:u=p),_vl(n,{type:"cross",values:[h,r,d,c,p,u,x]},b);}),s.addEventListener("lostpointercapture",_i511=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i511),_this268.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator376=_createForOfIteratorHelper(this.Kl),_step376;try{for(_iterator376.s();!(_step376=_iterator376.n()).done;){var _t672=_step376.value;var _e498=this["#subhud-template"].cloneNode(!0);_e498.removeAttribute("uid"),_e498[Pd]=_t672,this["#subhuds"].append(_e498);}}catch(err){_iterator376.e(err);}finally{_iterator376.f();}this.el(),this.dl();},el:function el(){var _iterator377=_createForOfIteratorHelper(this["#subhuds"].children),_step377;try{for(_iterator377.s();!(_step377=_iterator377.n()).done;){var _t673=_step377.value;var _e499=_t673[Pd],_i512=Yt(_e499,this),_wl$values37=_slicedToArray(wl(_e499).values,7),s=_wl$values37[0],_n217=_wl$values37[1],_o182=_wl$values37[2],_l166=_wl$values37[3],_a126=_wl$values37[4],_h107=_wl$values37[5],_r63=_wl$values37[6];var _iterator378=_createForOfIteratorHelper(_t673.children),_step378;try{for(_iterator378.s();!(_step378=_iterator378.n()).done;){var _e500=_step378.value;if(_e500.matches(".shift-grippie")){var _t674=new DOMPoint(s+_o182/2,_n217+_r63*_l166).matrixTransform(_i512);_e500.setAttribute("cx",_t674.x),_e500.setAttribute("cy",_t674.y);}else if(_e500.matches(".arms-grippie")){var _t675=new DOMPoint(s+_o182/2-_h107/2,_n217+_l166*_r63-_a126/2).matrixTransform(_i512);_e500.setAttribute("cx",_t675.x),_e500.setAttribute("cy",_t675.y);}}}catch(err){_iterator378.e(err);}finally{_iterator378.f();}}}catch(err){_iterator377.e(err);}finally{_iterator377.f();}},dl:function dl(){var _iterator379=_createForOfIteratorHelper(this["#subhuds"].children),_step379;try{for(_iterator379.s();!(_step379=_iterator379.n()).done;){var _t676=_step379.value;var _iterator380=_createForOfIteratorHelper(_t676.children),_step380;try{for(_iterator380.s();!(_step380=_iterator380.n()).done;){var _e501=_step380.value;_e501.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator380.e(err);}finally{_iterator380.f();}}}catch(err){_iterator379.e(err);}finally{_iterator379.f();}},Ql:function Ql(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator381=_createForOfIteratorHelper(t),_step381;try{for(_iterator381.s();!(_step381=_iterator381.n()).done;){var _i513=_step381.value;"path"===_i513.localName?_i513.hasAttribute("data-bx-shape")&&_i513.getAttribute("data-bx-shape").startsWith("cross")&&e.push(_i513):["g","a"].includes(_i513.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Ql(_i513.children))));}}catch(err){_iterator381.e(err);}finally{_iterator381.f();}return e;}};var zd=Symbol();var Od={id:"spiral-hud",createdCallback:function createdCallback(){this.Ko=!1,this.ml=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #spiral-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #spiral-hud .start-angle-grippie,\n    #spiral-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n    #spiral-hud .r1-grippie,\n    #spiral-hud .r2-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-angle-grippie"></circle>\n      <circle class="grippie end-angle-grippie"></circle>\n      <circle class="grippie r1-grippie"></circle>\n      <circle class="grippie r2-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator382=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step382;try{for(_iterator382.s();!(_step382=_iterator382.n()).done;){var _t677=_step382.value;this["#"+_t677.getAttribute("uid")]=_t677;}}catch(err){_iterator382.e(err);}finally{_iterator382.f();}},enabledCallback:function enabledCallback(){var _this269=this;this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this269.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this270=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this270.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this270.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this270.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.Jl=this.ta(),0===this.Jl.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-angle-grippie")?this.ea(t):t.target.matches(".end-angle-grippie")?this.ia(t):t.target.matches(".r1-grippie")?this.Gl(t):t.target.matches(".r2-grippie")&&this.Ul(t));},ea:function ea(t){var _this271=this;var e,_i514,s=t.target,n=s.parentElement[zd],o=qt(n).inverse(),l=this.Mn.geometryPrecision,_wl$values38=_slicedToArray(wl(n).values,6),a=_wl$values38[0],h=_wl$values38[1],r=_wl$values38[2],d=_wl$values38[3],c=_wl$values38[4],p=_wl$values38[5],u=c,x=new DOMPoint(a,h),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Ge(x,b,e);b=e,c+=i;var s=et(c,0,p),_Bl=Bl(a,h,r,d,s,p),_Bl2=_slicedToArray(_Bl,1),g=_Bl2[0];!1===m&&s!==u&&(_this271.Mn.undoManager.checkpoint("Spiral start angle"),m=!0),_vl(n,{type:"spiral",values:[a,h,r,d,s,p]},l);}),s.addEventListener("lostpointercapture",_i514=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i514),_this271.Jo=null;});},ia:function ia(t){var _this272=this;var e,_i515,s=t.target,n=s.parentElement[zd],o=qt(n).inverse(),l=this.Mn.geometryPrecision,_wl$values39=_slicedToArray(wl(n).values,6),a=_wl$values39[0],h=_wl$values39[1],r=_wl$values39[2],d=_wl$values39[3],c=_wl$values39[4],p=_wl$values39[5],u=p,x=new DOMPoint(a,h),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Ge(x,b,e);b=e,p+=i;var s=et(p,c,Infinity);!1===m&&s!==u&&(_this272.Mn.undoManager.checkpoint("Spiral end angle"),m=!0),_vl(n,{type:"spiral",values:[a,h,r,d,c,s]},l);}),s.addEventListener("lostpointercapture",_i515=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i515),_this272.Jo=null;});},Gl:function Gl(t){var _this273=this;var e,_i516,s=t.target,n=s.parentElement[zd],o=qt(n).inverse(),l=Yt(n,this.Mn.vectorCanvas).inverse(),_wl$values40=_slicedToArray(wl(n).values,6),a=_wl$values40[0],h=_wl$values40[1],r=_wl$values40[2],d=_wl$values40[3],c=_wl$values40[4],p=_wl$values40[5],u=r,x=new DOMPoint(a,h),b=this.Mn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new J(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_$e27=$e(x,g,i),_$e28=_slicedToArray(_$e27,1),s=_$e28[0],l=Math.floor(c/360)+1,m=p/360;r=(h*m-s.y*m-l*d)/(m-l),r=et(r,0,d),!1===w&&r!==u&&(_this273.Mn.undoManager.checkpoint("Spiral inner radius"),w=!0),_vl(n,{type:"spiral",values:[a,h,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i516=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i516),_this273.Jo=null;});},Ul:function Ul(t){var _this274=this;var e,_i517,s=t.target,n=s.parentElement[zd],o=qt(n).inverse(),l=Yt(n,this.Mn.vectorCanvas).inverse(),_wl$values41=_slicedToArray(wl(n).values,6),a=_wl$values41[0],h=_wl$values41[1],r=_wl$values41[2],d=_wl$values41[3],c=_wl$values41[4],p=_wl$values41[5],u=d,x=new DOMPoint(a,h),b=this.Mn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new J(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Jo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_$e29=$e(x,g,i),_$e30=_slicedToArray(_$e29,1),s=_$e30[0];d=(h-r-s.y)/Math.floor(p/360)*(p/360)+r,d=et(d,r,Infinity),!1===w&&d!==u&&(_this274.Mn.undoManager.checkpoint("Spiral outer radius"),w=!0),_vl(n,{type:"spiral",values:[a,h,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i517=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i517),_this274.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator383=_createForOfIteratorHelper(this.Jl),_step383;try{for(_iterator383.s();!(_step383=_iterator383.n()).done;){var _t678=_step383.value;var _e502=this["#subhud-template"].cloneNode(!0);_e502.removeAttribute("uid"),_e502[zd]=_t678,this["#subhuds"].append(_e502);}}catch(err){_iterator383.e(err);}finally{_iterator383.f();}this.el(),this.dl();},el:function el(){var _iterator384=_createForOfIteratorHelper(this["#subhuds"].children),_step384;try{for(_iterator384.s();!(_step384=_iterator384.n()).done;){var _t679=_step384.value;var _e503=_t679[zd],_i518=Yt(_e503,this.Mn.vectorCanvas),_wl$values42=_slicedToArray(wl(_e503).values,6),s=_wl$values42[0],_n218=_wl$values42[1],_o183=_wl$values42[2],_l167=_wl$values42[3],_a127=_wl$values42[4],_h108=_wl$values42[5],_Bl3=Bl(s,_n218,_o183,_l167,_a127,_h108),_Bl4=_slicedToArray(_Bl3,2),_r64=_Bl4[0],_d44=_Bl4[1];var _iterator385=_createForOfIteratorHelper(_t679.children),_step385;try{for(_iterator385.s();!(_step385=_iterator385.n()).done;){var _e504=_step385.value;if(_e504.matches(".start-angle-grippie")){var _t680=DOMPoint.fromPoint(_r64);_t680=_t680.matrixTransform(_i518),_e504.setAttribute("cx",_t680.x),_e504.setAttribute("cy",_t680.y);}else if(_e504.matches(".end-angle-grippie")){var _t681=DOMPoint.fromPoint(_d44);_t681=_t681.matrixTransform(_i518),_e504.setAttribute("cx",_t681.x),_e504.setAttribute("cy",_t681.y);}else if(_e504.matches(".r1-grippie")){var _t682=Math.floor(_a127/360)+1,_r65=Math.floor(_h108/360),_d45=new DOMPoint(s,_n218-_o183-(_l167-_o183)/(_h108/360)*_t682);_d45=_d45.matrixTransform(_i518),0===_r65||_r65<=_t682?_e504.style.display="none":(_e504.style.display=null,_e504.setAttribute("cx",_d45.x),_e504.setAttribute("cy",_d45.y));}else if(_e504.matches(".r2-grippie")){var _t683=Math.floor(_a127/360)+1,_r66=Math.floor(_h108/360),_d46=new DOMPoint(s,_n218-_o183-(_l167-_o183)/(_h108/360)*_r66);_d46=_d46.matrixTransform(_i518),0===_r66||_r66<_t683?_e504.style.display="none":(_e504.style.display=null,_e504.setAttribute("cx",_d46.x),_e504.setAttribute("cy",_d46.y));}}}catch(err){_iterator385.e(err);}finally{_iterator385.f();}}}catch(err){_iterator384.e(err);}finally{_iterator384.f();}},dl:function dl(){var _iterator386=_createForOfIteratorHelper(this["#subhuds"].children),_step386;try{for(_iterator386.s();!(_step386=_iterator386.n()).done;){var _t684=_step386.value;var _iterator387=_createForOfIteratorHelper(_t684.children),_step387;try{for(_iterator387.s();!(_step387=_iterator387.n()).done;){var _e505=_step387.value;_e505.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator387.e(err);}finally{_iterator387.f();}}}catch(err){_iterator386.e(err);}finally{_iterator386.f();}},ta:function ta(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator388=_createForOfIteratorHelper(t),_step388;try{for(_iterator388.s();!(_step388=_iterator388.n()).done;){var _i519=_step388.value;"path"===_i519.localName?_i519.hasAttribute("data-bx-shape")&&_i519.getAttribute("data-bx-shape").startsWith("spiral")&&e.push(_i519):["g","a"].includes(_i519.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ta(_i519.children))));}}catch(err){_iterator388.e(err);}finally{_iterator388.f();}return e;}};var Ed=Symbol(),Td=6;var Ad={id:"line-hud",createdCallback:function createdCallback(){this.Ko=!1,this.sa=[],this.Jo=null,this.tl=es(this.el,200,this),this.innerHTML='\n  <style>\n    #line-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="start-grippie grippie" fill="none"></circle>\n      <circle class="end-grippie grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator389=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step389;try{for(_iterator389.s();!(_step389=_iterator389.n()).done;){var _t685=_step389.value;this["#"+_t685.getAttribute("uid")]=_t685;}}catch(err){_iterator389.e(err);}finally{_iterator389.f();}},enabledCallback:function enabledCallback(){var _this275=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this275.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#subhuds"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this276=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this276.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this276.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this276.wo(t);});},nl:function nl(){this.Ko=!1,this["#subhuds"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.sa=this.na(),0===this.sa.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.rl());},al:function al(t){t.attributeName;this.Jo?this.el():this.tl();},ll:function ll(){this.dl();},wo:function wo(t){t.target.matches(".start-grippie")?this.Wl(t):t.target.matches(".end-grippie")&&this.Yl(t);},Wl:function Wl(t){var _this277=this;if(0!==t.button)return;var e,_i520,s=t.target,n=s.parentElement[Ed],o=qt(n),l=o.inverse(),a=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),h=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Mn.geometryPrecision,c=!1;s.parentElement.append(s),this.Jo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this277.Mn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new J(r,e),s=new DOMPoint(a.x+i.x,a.y+i.y);if(_this277.Qs.modKeys.shift){var _Re=Re(h,s,22.5),_Re2=_slicedToArray(_Re,1),_t686=_Re2[0];s=_t686;}var o=s.matrixTransform(l);n.setAttribute("x1",tt(o.x,d)),n.setAttribute("y1",tt(o.y,d));}),window.addEventListener("pointerup",_i520=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i520),_this277.Jo=null;});},Yl:function Yl(t){var _this278=this;if(0!==t.button)return;var e,_i521,s=t.target,n=s.parentElement[Ed],o=qt(n),l=o.inverse(),a=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),h=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Mn.geometryPrecision,c=!1;s.parentElement.append(s),this.Jo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this278.Mn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new J(r,e),s=new DOMPoint(h.x+i.x,h.y+i.y);if(_this278.Qs.modKeys.shift){var _Re3=Re(a,s,22.5),_Re4=_slicedToArray(_Re3,1),_t687=_Re4[0];s=_t687;}var o=s.matrixTransform(l);n.setAttribute("x2",tt(o.x,d)),n.setAttribute("y2",tt(o.y,d));}),window.addEventListener("pointerup",_i521=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i521),_this278.Jo=null;});},rl:function rl(){this["#subhuds"].innerHTML="";var _iterator390=_createForOfIteratorHelper(this.sa),_step390;try{for(_iterator390.s();!(_step390=_iterator390.n()).done;){var _t688=_step390.value;var _e506=this["#subhud-template"].cloneNode(!0);_e506.removeAttribute("uid"),_e506[Ed]=_t688,this["#subhuds"].append(_e506);}}catch(err){_iterator390.e(err);}finally{_iterator390.f();}this.el(),this.dl();},el:function el(){var _iterator391=_createForOfIteratorHelper(this["#subhuds"].children),_step391;try{for(_iterator391.s();!(_step391=_iterator391.n()).done;){var _t689=_step391.value;var _e507=_t689[Ed],_i522=Yt(_e507,this),s=_t689.querySelector(".start-grippie"),_n219=_t689.querySelector(".end-grippie"),_o184=new DOMPoint(_e507.x1.baseVal.value,_e507.y1.baseVal.value).matrixTransform(_i522),_l168=new DOMPoint(_e507.x2.baseVal.value,_e507.y2.baseVal.value).matrixTransform(_i522);s.setAttribute("cx",_o184.x),s.setAttribute("cy",_o184.y),_n219.setAttribute("cx",_l168.x),_n219.setAttribute("cy",_l168.y);}}catch(err){_iterator391.e(err);}finally{_iterator391.f();}},dl:function dl(){var _iterator392=_createForOfIteratorHelper(this["#subhuds"].children),_step392;try{for(_iterator392.s();!(_step392=_iterator392.n()).done;){var _t690=_step392.value;var _iterator393=_createForOfIteratorHelper(_t690.children),_step393;try{for(_iterator393.s();!(_step393=_iterator393.n()).done;){var _e508=_step393.value;_e508.setAttribute("r",Td/this.Mn.scale);}}catch(err){_iterator393.e(err);}finally{_iterator393.f();}}}catch(err){_iterator392.e(err);}finally{_iterator392.f();}},na:function na(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.outermostSelectedElements;var e=[];var _iterator394=_createForOfIteratorHelper(t),_step394;try{for(_iterator394.s();!(_step394=_iterator394.n()).done;){var _i523=_step394.value;"line"===_i523.localName?e.push(_i523):["g","a"].includes(_i523.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.na(_i523.children))));}}catch(err){_iterator394.e(err);}finally{_iterator394.f();}return e;}};var $d=Symbol(),Id=Symbol(),Ld=Symbol(),Rd=6;var Bd={id:"poly-hud",createdCallback:function createdCallback(){this.Ko=!1,this.oa=[],this.Jo=null,this.la=es(this.aa,200,this),this.innerHTML='\n  <style>\n    #poly-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #poly-hud .grippie[data-selected] {\n      fill: red;\n    }\n  </style>\n\n  <g uid="node-grippies"></g>\n';var _iterator395=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step395;try{for(_iterator395.s();!(_step395=_iterator395.n()).done;){var _t691=_step395.value;this["#"+_t691.getAttribute("uid")]=_t691;}}catch(err){_iterator395.e(err);}finally{_iterator395.f();}},enabledCallback:function enabledCallback(){var _this279=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this279.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this["#node-grippies"].innerHTML="",this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this280=this;this.Ko=!0,this.Mn.addEventListener("zoomchange",this.an=function(){_this280.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this280.al(t.detail);}),this.addEventListener("pointerdown",this.zn=function(t){_this280.wo(t);});},nl:function nl(){this.Ko=!1,this["#node-grippies"].innerHTML="",this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn),this.removeEventListener("pointerdown",this.zn);},sl:function sl(){this.oa=this.ha(),0===this.oa.length?!0===this.Ko&&this.nl():(!1===this.Ko&&this.ol(),this.aa());},al:function al(t){t.attributeName;this.Jo?this.aa():this.la();},ll:function ll(){this.ra();},wo:function wo(t){t.target.matches(".grippie")&&this.cl(t);},cl:function cl(t){var _this281=this;if(0!==t.button)return;var e,_i524,s=this.Qs.modKeys.shift,n=t.target,o=n[$d],l=n[Id],a=qt(o),h=a.inverse(),r=DOMPoint.fromPoint(0===l?o.points[1]:o.points[l-1]).matrixTransform(a),d=DOMPoint.fromPoint(o.points[l]).matrixTransform(a),c=new DOMPoint(t.clientX,t.clientY),p=this.Mn.geometryPrecision,u=!1;n.parentElement.append(n),this.Jo=n,window.addEventListener("pointermove",e=function e(t){u||(u=!0,_this281.Mn.undoManager.checkpoint("Edit ".concat(o.localName)));var e=new DOMPoint(t.clientX,t.clientY),i=new J(c,e),s=new DOMPoint(d.x+i.x,d.y+i.y);if(_this281.Qs.modKeys.shift){var _Re5=Re(r,s,22.5),_Re6=_slicedToArray(_Re5,1),_t692=_Re6[0];s=_t692;}var n=s.matrixTransform(h);o.points[l].x=tt(n.x,p),o.points[l].y=tt(n.y,p);var a=[];var _iterator396=_createForOfIteratorHelper(o.points),_step396;try{for(_iterator396.s();!(_step396=_iterator396.n()).done;){var _t693=_step396.value;a.push(_t693.x,_t693.y);}}catch(err){_iterator396.e(err);}finally{_iterator396.f();}o.setAttribute("points",a.join(" "));}),window.addEventListener("pointerup",_i524=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i524),_this281.Jo=null;});},aa:function aa(){var t=0;var _iterator397=_createForOfIteratorHelper(this.oa),_step397;try{for(_iterator397.s();!(_step397=_iterator397.n()).done;){var _e509=_step397.value;var _i525=Yt(_e509,this);for(var s=0;s<_e509.points.length;s+=1){var _n220=DOMPoint.fromPoint(_e509.points[s]).matrixTransform(_i525),_o185=this["#node-grippies"].children[t];_o185||(_o185=Ii("svg:circle"),_o185.setAttribute("class","grippie"),this["#node-grippies"].append(_o185)),_o185[$d]=_e509,_o185[Id]=s,_o185.setAttribute("cx",_n220.x),_o185.setAttribute("cy",_n220.y),_e509[Ld]&&_e509[Ld].includes(s)?_o185.setAttribute("data-selected",""):_o185.removeAttribute("data-selected"),t+=1;}}}catch(err){_iterator397.e(err);}finally{_iterator397.f();}for(;this["#node-grippies"].childElementCount>t;){this["#node-grippies"].lastElementChild.remove();}this.ra();},ra:function ra(){var _iterator398=_createForOfIteratorHelper(this["#node-grippies"].children),_step398;try{for(_iterator398.s();!(_step398=_iterator398.n()).done;){var _t694=_step398.value;_t694.setAttribute("r",Rd/this.Mn.scale);}}catch(err){_iterator398.e(err);}finally{_iterator398.f();}},ha:function ha(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Mn.selectedElements;var e=[];var _iterator399=_createForOfIteratorHelper(t),_step399;try{for(_iterator399.s();!(_step399=_iterator399.n()).done;){var _i526=_step399.value;"polyline"===_i526.localName||"polygon"===_i526.localName?e.push(_i526):["g","a"].includes(_i526.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ha(_i526.children))));}}catch(err){_iterator399.e(err);}finally{_iterator399.f();}return e;}};var Gd=Math.abs,Ud=Math.sin,Fd=Math.asin,Nd=Math.cos,Vd=Math.acos,jd=Math.tan,Hd=Math.pow,Wd=Math.sqrt,Yd=Math.PI,qd=function qd(t,e,i,s,n){var o=function o(t){return Gd(t)<1e-11?0:t>0?1:-1;},l=function l(t,e,i,s,n){var o=3*e-t-3*i+s;0===o&&(o=1e-10);var l=[3,-1];a(l,(3*t-6*e+3*i)/o,(-3*t+3*e)/o,(-n+t)/o);var h=[];for(var _i527=0,_l169=l;_i527<_l169.length;_i527++){var _t695=_l169[_i527];_t695>=0&&_t695<=1&&h.push(_t695);}return h;},a=function a(t,e,i,s){var n=(Hd(e,2)-3*i)/9,l=(2*Hd(e,3)-9*e*i+27*s)/54;if(Hd(l,2)<Hd(n,3)){var _i528=Vd(l/Wd(Hd(n,3)))/3;return t.splice(0,0,-2*Wd(n)*Nd(_i528)-e/3),t.splice(1,0,-2*Wd(n)*Nd(_i528+4*Yd/3)-e/3),t.splice(2,0,-2*Wd(n)*Nd(_i528-4*Yd/3)-e/3),3;}{var _i529=-o(l)*Hd(Gd(l)+Wd(Hd(l,2)-Hd(n,3)),1/3),_s289=0==o(_i529)?0:n/_i529;return t.splice(0,0,_i529+_s289-e/3),t.splice(1,0,-.5*(_i529+_s289)-e/3),t.splice(2,0,.5*Wd(3)*Gd(_i529-_s289)),t[2]+1===1?2:1;}},h=[].concat(_toConsumableArray(l(e.x,i.x,s.x,n.x,t.x)),_toConsumableArray(l(e.y,i.y,s.y,n.y,t.y)));if(0===h.length)return-1;{var _o186=-1,_l170=3;var _iterator400=_createForOfIteratorHelper(h),_step400;try{for(_iterator400.s();!(_step400=_iterator400.n()).done;){var _a128=_step400.value;var _h109=Hd(1-_a128,3)*e.x+3*Hd(1-_a128,2)*_a128*i.x+3*(1-_a128)*Hd(_a128,2)*s.x+Hd(_a128,3)*n.x,_u28=Hd(1-_a128,3)*e.y+3*Hd(1-_a128,2)*_a128*i.y+3*(1-_a128)*Hd(_a128,2)*s.y+Hd(_a128,3)*n.y,_x99=(r=t.x,d=t.y,Wd(((c=_h109)-r)*(c-r)+((p=_u28)-d)*(p-d)));_x99<_l170&&(_o186=_a128,_l170=_x99);}}catch(err){_iterator400.e(err);}finally{_iterator400.f();}return _o186;}var r,d,c,p;},Xd=Math.abs,Zd=Math.max,Kd=Math.pow,Qd=Number.parseFloat,Jd=5,tc=4,ec=Symbol(),ic=Symbol(),sc=Symbol();var nc={id:"path-hud",get passive(){return this.hasAttribute("passive");},set passive(t){t?this.setAttribute("passive",""):this.removeAttribute("passive");},get selectedNodes(){return _toConsumableArray(this.da);},set selectedNodes(t){this.da=t,this.ca(),this.pa();},createdCallback:function createdCallback(){var _this282=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this282.ua();}}},this.Ko=!1,this.xa=0,this.ba=[],this.da=[],this.ma=null,this.ga=null,this.fa=null,this.wa=es(this.va,1500,this),this.ca=es(this.aa,40,this),this.pa=es(this.ya,40,this),this.ka=es(this.ra,40,this),this.Sa=es(this._a,40,this),this.Ca=es(this.Ma,1500,this),this.innerHTML='\n  <style>\n    #path-hud [uid="grippies"] {\n      cursor: default;\n    }\n    #path-hud [uid="grippies"]:focus {\n      outline: none;\n    }\n\n    #path-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #path-hud .node-grippie[data-selected] .outer-circle {\n      fill: #bc9aec;\n    }\n    #path-hud #grippies:focus .node-grippie[data-selected] .outer-circle {\n      fill: #a370ea;\n    }\n    #path-hud[passive] .node-grippie[data-position="mid"] {\n      display: none;\n    }\n\n    #path-hud .node-grippie .inner-circle {\n      pointer-events: none;\n      fill: #4d2782;\n    }\n\n    #path-hud[passive] .outline-grippie {\n      display: none;\n    }\n    #path-hud .outline-grippie path {\n      fill: none;\n      stroke: blue;\n      stroke-width: 10px;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #path-hud .outline-grippie path:hover {\n      opacity: 0.2;\n    }\n\n    #path-hud .control-grippie {\n      fill: white;\n      stroke: #ef6c6c;\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #path-hud .control-line {\n      stroke: red;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.3;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="outline-grippies"></g>\n    <g uid="control-lines"></g>\n    <g uid="node-grippies"></g>\n    <g uid="control-grippies"></g>\n  </g>\n';var _iterator401=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step401;try{for(_iterator401.s();!(_step401=_iterator401.n()).done;){var _t696=_step401.value;this["#"+_t696.getAttribute("uid")]=_t696;}}catch(err){_iterator401.e(err);}finally{_iterator401.f();}this.addEventListener("keydown",function(t){_this282.wn(t);}),this.addEventListener("pointerdown",function(t){_this282.wo(t);}),this.addEventListener("click",function(t){2===t.detail&&Date.now()-_this282.xa<300&&_this282.Pa(t),_this282.xa=Date.now();});},enabledCallback:function enabledCallback(){var _this283=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this283.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl();var _iterator402=_createForOfIteratorHelper(this["#grippies"].children),_step402;try{for(_iterator402.s();!(_step402=_iterator402.n()).done;){var _t697=_step402.value;_t697.innerHTML="";}}catch(err){_iterator402.e(err);}finally{_iterator402.f();}this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this284=this;this.Ko=!0,this.Mn.addEventListener("workspacemutation",this.hn=function(){_this284.al();}),this.Mn.addEventListener("zoomchange",this.an=function(){_this284.ll();}),this.Mn.undoManager.addEventListener("undo",this.Da=function(){_this284.deselectAllSegs();}),this.Mn.undoManager.addEventListener("redo",this.za=function(){_this284.deselectAllSegs();});},nl:function nl(){this.ba=[],this.da=[],this.Ko=!1,this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",this["#control-lines"].innerHTML="",this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("zoomchange",this.an),this.Mn.undoManager.removeEventListener("undo",this.Da),this.Mn.undoManager.removeEventListener("redo",this.za),this.dispatchEvent(new CustomEvent("selectednodeschange"));},rubberBandSelectionCallback:function rubberBandSelectionCallback(t){var _this285=this;var e=this.Qs.modKeys.shift,i=[];if(t instanceof DOMRect){var _e510=t;var _iterator403=_createForOfIteratorHelper(this["#node-grippies"].children),_step403;try{for(_iterator403.s();!(_step403=_iterator403.n()).done;){var _t698=_step403.value;var s=Ei(_t698);qe(_e510,s)&&i.push(_t698);}}catch(err){_iterator403.e(err);}finally{_iterator403.f();}}else{var _iterator404=_createForOfIteratorHelper(this["#node-grippies"].children),_step404;try{for(_iterator404.s();!(_step404=_iterator404.n()).done;){var _e511=_step404.value;var _s290=new DOMPoint(_e511.firstElementChild.cx.baseVal.value,_e511.firstElementChild.cy.baseVal.value);!0===ii(t,_s290)&&i.push(_e511);}}catch(err){_iterator404.e(err);}finally{_iterator404.f();}}if(!1===e){this.da=[];var _iterator405=_createForOfIteratorHelper(i),_step405;try{for(_iterator405.s();!(_step405=_iterator405.n()).done;){var _t699=_step405.value;var _e512={path:_t699[ec],index:_t699[sc]};this.da.push(_e512);}}catch(err){_iterator405.e(err);}finally{_iterator405.f();}}else if(!0===e){var _iterator406=_createForOfIteratorHelper(i),_step406;try{var _loop6=function _loop6(){var t=_step406.value;var e={path:t[ec],index:t[sc]};void 0===_this285.da.find(function(t){return t.path===e.path&&t.index===e.index;})&&_this285.da.push(e);};for(_iterator406.s();!(_step406=_iterator406.n()).done;){_loop6();}}catch(err){_iterator406.e(err);}finally{_iterator406.f();}}this.ca(),this.pa(),this.wa(),this.dispatchEvent(new CustomEvent("selectednodeschange")),this.da.length>0&&this["#grippies"].focus();},sl:function sl(){this.ba=this.Oa(),this.da=[],this.dispatchEvent(new CustomEvent("selectednodeschange")),0===this.ba.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.ca(),this.pa(),this.wa());},al:function al(){this.ca(),this.pa(),this.wa();},ll:function ll(){this.ka(),this.Sa(),this.Ca();},wn:function wn(t){if(!1===this.passive&&this["#node-grippies"].querySelector("[data-selected]")){var _e513=ao.fromEvent(t);_e513.matches("Backspace")||_e513.matches("Delete")?(t.preventDefault(),t.stopPropagation(),this.Ea("smooth")):(_e513.matches("Shift","Backspace")||_e513.matches("Shift","Delete"))&&(t.preventDefault(),t.stopPropagation(),this.Ea("sharp"));}},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")?this.Ta(t):t.target.matches(".control-grippie")?this.Aa(t):t.target.matches(".outline-grippie path")&&this.$a(t);},Ta:function Ta(t){var _this286=this;if(0!==t.button)return;var e=!1,i=t.target.closest(".node-grippie"),s=i[ec],n=s.getPathData({normalize:!0}),o=i[sc],l=function(t,e){var i=-1,s=-1;var _iterator407=_createForOfIteratorHelper(dt(t)),_step407;try{for(_iterator407.s();!(_step407=_iterator407.n()).done;){var _n221=_step407.value;i+=1;var _iterator408=_createForOfIteratorHelper(_n221),_step408;try{for(_iterator408.s();!(_step408=_iterator408.n()).done;){var _t700=_step408.value;if(s+=1,s===e)return i;}}catch(err){_iterator408.e(err);}finally{_iterator408.f();}}}catch(err){_iterator407.e(err);}finally{_iterator407.f();}return i;}(n,o),a={position:i.getAttribute("data-position"),selected:i.hasAttribute("data-selected"),path:s,index:o,subpathIndex:l};if(i.setPointerCapture(t.pointerId),!1===this.passive){var _t702,_s291=this.Qs.modKeys.shift,_n222=i[ec],_o187=i[sc];i.addEventListener("pointerup",_t702=function _t701(l){i.removeEventListener("pointerup",_t702);var a=void 0!==_this286.da.find(function(t){return t.path===_n222&&t.index===_o187;}),h={path:_n222,index:_o187};!1===a?(!1===_s291?_this286.da=[h]:!0===_s291&&_this286.da.push(h),_this286.ca(),_this286.pa()):!0===_s291&&!1===e&&(_this286.da=_this286.da.filter(function(t){return t.path!==_n222||t.index!==_o187;}),_this286.ca(),_this286.pa()),_this286.dispatchEvent(new CustomEvent("selectednodeschange"));});}{var _s293,_n224,_o188=new DOMPoint(t.clientX,t.clientY),_l171=_o188,_h110=new CustomEvent("nodepointerdown",{detail:a,cancelable:!0});this.dispatchEvent(_h110),i.addEventListener("pointermove",_s293=function _s292(n){var a=new DOMPoint(n.clientX,n.clientY),h=n.timeStamp-t.timeStamp,r=Te(_o188,a)>3||h>80,d=!1===ze(_l171,a,0);if(_l171=a,!1===_this286.passive&&!0===r&&!0===d){i.removeEventListener("pointermove",_s293);var _o189=new J(n.clientX-t.clientX,n.clientY-t.clientY);e=!0;var _l172=Xd(_o189.x)>Xd(_o189.y)?"horizontal":"vertical";new DOMPoint(n.clientX,n.clientY);_this286.Ia(t,i,_l172);}}),i.addEventListener("pointerup",_n224=function _n223(t){i.removeEventListener("pointermove",_s293),i.removeEventListener("pointerup",_n224),_this286.dispatchEvent(new CustomEvent("nodepointerup",{detail:a})),!1===e&&!1===_h110.defaultPrevented&&_this286.dispatchEvent(new CustomEvent("nodeclick",{detail:a}));});}},Ia:function Ia(t,e,i){var _this287=this;var s,_n228,o=this.Mn,l=Symbol(),a=Symbol(),h=Symbol(),r=Symbol(),d=e[ec],c=e[sc],p=new DOMPoint(t.clientX,t.clientY),u=null;o.undoManager.checkpoint("Edit path"),o.snapManager.snapStart(!0);{var _t703={path:d,index:c};void 0===this.da.find(function(e){return e.path===_t703.path&&e.index===_t703.index;})&&(this.da=[_t703],this.ca(),this.pa(),this.dispatchEvent(new CustomEvent("selectednodeschange")));}this.ma=e;var _iterator409=_createForOfIteratorHelper(this.ba),_step409;try{for(_iterator409.s();!(_step409=_iterator409.n()).done;){var _t710=_step409.value;var _e516=void 0,_i530=_t710[ic];if(_i530){var _s295=Wt(_t710);_e516=qt(_i530).multiply(_s295).inverse();}else _e516=qt(_t710).inverse();_t710[r]=_e516,_t710[h]=_e516.inverse(),_t710[l]=ht(_t710.getPathData({normalize:!0})),_t710[a]=rt(_t710[l]);}}catch(err){_iterator409.e(err);}finally{_iterator409.f();}{var _t704=d[l][c],_e514=null;"M"===_t704.type||"L"===_t704.type?_e514=new DOMPoint(_t704.values[0],_t704.values[1]):"C"===_t704.type&&(_e514=new DOMPoint(_t704.values[4],_t704.values[5])),u=_e514.matrixTransform(d[h]);}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this287.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(u.x+e.x-p.x,u.y+e.y-p.y)),n=new J(u,s);var _iterator410=_createForOfIteratorHelper(_this287.ba),_step410;try{var _loop7=function _loop7(){var t=_step410.value;var e=t[l],i=t[a],s=_this287.da.filter(function(e){return e.path===t;}).map(function(t){return t.index;}),o=n.matrixTransform(t[r]);var _iterator411=_createForOfIteratorHelper(s),_step411;try{for(_iterator411.s();!(_step411=_iterator411.n()).done;){var _t705=_step411.value;var _s294=e[_t705],_n225=e[_t705+1],_l173=i[_t705],_a129=i[_t705+1];if("M"===_s294.type||"L"===_s294.type){if(_s294.values[0]=_l173.values[0]+o.x,_s294.values[1]=_l173.values[1]+o.y,_n225&&"C"===_n225.type)_n225.values[0]=_a129.values[0]+o.x,_n225.values[1]=_a129.values[1]+o.y;else if(_n225&&"Z"===_n225.type){var _t706=St(_s294,e),_n226=_t706[0],_a130=_t706[1],_h111=St(_l173,i);_n226.values[0]=_s294.values[0],_n226.values[1]=_s294.values[1],_a130&&"C"===_a130.type&&(_a130.values[0]=_h111[1].values[0]+o.x,_a130.values[1]=_h111[1].values[1]+o.y);}}else if("C"===_s294.type)if(_s294.values[2]=_l173.values[2]+o.x,_s294.values[3]=_l173.values[3]+o.y,_s294.values[4]=_l173.values[4]+o.x,_s294.values[5]=_l173.values[5]+o.y,_n225&&"C"===_n225.type)_n225.values[0]=_a129.values[0]+o.x,_n225.values[1]=_a129.values[1]+o.y;else if(_n225&&"Z"===_n225.type){var _t707=St(_s294,e),_n227=_t707[0],_a131=_t707[1],_h112=St(_l173,i);_n227.values[0]=_s294.values[4],_n227.values[1]=_s294.values[5],"C"===_a131.type&&(_a131.values[0]=_h112[1].values[0]+o.x,_a131.values[1]=_h112[1].values[1]+o.y);}}}catch(err){_iterator411.e(err);}finally{_iterator411.f();}t.setPathData(e);};for(_iterator410.s();!(_step410=_iterator410.n()).done;){_loop7();}}catch(err){_iterator410.e(err);}finally{_iterator410.f();}}),window.addEventListener("pointerup",_n228=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n228);var _iterator412=_createForOfIteratorHelper(_this287.ba),_step412;try{for(_iterator412.s();!(_step412=_iterator412.n()).done;){var _t708=_step412.value;var _e515=_t708[l];var _iterator413=_createForOfIteratorHelper(_e515),_step413;try{for(_iterator413.s();!(_step413=_iterator413.n()).done;){var _t709=_step413.value;_t709.values=_t709.values.map(function(t){return tt(t,o.geometryPrecision);});}}catch(err){_iterator413.e(err);}finally{_iterator413.f();}_t708.setPathData(_e515);}}catch(err){_iterator412.e(err);}finally{_iterator412.f();}o.snapManager.snapEnd(),_this287.ma=null,_this287.va();});},Pa:function Pa(t){t.target.closest(".node-grippie")?this.La(t):t.target.matches(".control-grippie")?this.Ra(t):t.target.matches(".outline-grippie > path")&&this.Ba(t);},La:function La(t){var _this288=this;var e=t.target.closest(".node-grippie"),i=e[ec],s=e[sc],n=ht(i.getPathData({normalize:!0})),o=n[s],l=n[s+1]||null,a=n[s-1]||null,h=St(o,n),r=!1;if(Dt(n),"M"===o.type){if("C"===l.type){!1===(l.values[0]===o.values[0]&&l.values[1]===o.values[1])&&(l.values[0]=o.values[0],l.values[1]=o.values[1],r=!0);}}else if("C"===o.type)if(null===l||"M"===l.type){!1===(o.values[2]===o.values[4]&&o.values[3]===o.values[5])&&(o.values[2]=o.values[4],o.values[3]=o.values[5],r=!0);}else if("Z"===l.type){var _t711=h[1];if("C"===_t711.type){!1===(o.values[4]===_t711.values[0]&&o.values[5]===_t711.values[1]&&o.values[4]===o.values[2]&&o.values[5]===o.values[3])?(_t711.values[0]=o.values[4],_t711.values[1]=o.values[5],o.values[2]=o.values[4],o.values[3]=o.values[5]):Pt(a,o,_t711),r=!0;}}else if("C"===l.type){!1===(l.values[0]===o.values[4]&&l.values[1]===o.values[5]&&o.values[2]===o.values[4]&&o.values[3]===o.values[5])?(o.values[2]=o.values[4],o.values[3]=o.values[5],l.values[0]=o.values[4],l.values[1]=o.values[5]):Pt(a,o,l),r=!0;}if(r){this.Mn.undoManager.checkpoint("Edit path"),zt(n);var _iterator414=_createForOfIteratorHelper(n),_step414;try{for(_iterator414.s();!(_step414=_iterator414.n()).done;){var _t712=_step414.value;_t712.values=_t712.values.map(function(t){return tt(t,_this288.Mn.geometryPrecision);});}}catch(err){_iterator414.e(err);}finally{_iterator414.f();}i.setPathData(n);}},Ra:function Ra(t){var _this289=this;var e=t.target,i=e.getAttribute("data-index"),s=e[ec],n=e[sc],o=ht(s.getPathData({normalize:!0})),l=o[n],a=o[n-1]||null;"1"===i?"C"===a.type?(l.values[0]=a.values[4],l.values[1]=a.values[5]):"M"!==a.type&&"L"!==a.type||(l.values[0]=a.values[0],l.values[1]=a.values[1]):"2"===i&&(l.values[2]=l.values[4],l.values[3]=l.values[5]),this.Mn.undoManager.checkpoint("Edit path"),zt(o);var _iterator415=_createForOfIteratorHelper(o),_step415;try{for(_iterator415.s();!(_step415=_iterator415.n()).done;){var _t713=_step415.value;_t713.values=_t713.values.map(function(t){return tt(t,_this289.Mn.geometryPrecision);});}}catch(err){_iterator415.e(err);}finally{_iterator415.f();}s.setPathData(o);},Ba:function Ba(t){var _this290=this;var e,i=t.target.closest(".outline-grippie"),s=t.target,n=i[ec],o=n[ic];if(o){var _t714=Wt(n);e=qt(o).multiply(_t714).inverse();}else e=qt(n).inverse();var l,a,h=ht(n.getPathData({normalize:!0})),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(e),_kt=kt(s,r),_kt2=_slicedToArray(_kt,1),d=_kt2[0],c=_toConsumableArray(i.children).indexOf(s),p=h[c];if("L"===p.type){var _t715=new DOMPoint(p.values[0],p.values[1]);l={type:"L",values:[d.x,d.y]},a={type:"L",values:[_t715.x,_t715.y]};}else if("C"===p.type){var _t716,_e517=h[c-1]||null;"M"===_e517.type||"L"===_e517.type?_t716=new DOMPoint(_e517.values[0],_e517.values[1]):"C"===_e517.type&&(_t716=new DOMPoint(_e517.values[4],_e517.values[5]));var _i531=new DOMPoint(p.values[4],p.values[5]),_s296=new DOMPoint(p.values[0],p.values[1]),_n229=new DOMPoint(p.values[2],p.values[3]),_o190=qd(d,_t716,_s296,_n229,_i531),_r67=function(t,e,i,s,n){var o=(e.x-t.x)*n+t.x,l=(e.y-t.y)*n+t.y,a=(i.x-e.x)*n+e.x,h=(i.y-e.y)*n+e.y,r=(s.x-i.x)*n+i.x,d=(s.y-i.y)*n+i.y,c=(a-o)*n+o,p=(h-l)*n+l,u=(r-a)*n+a,x=(d-h)*n+h,b=(u-c)*n+c,m=(x-p)*n+p;return[[new DOMPoint(t.x,t.y),new DOMPoint(o,l),new DOMPoint(c,p),new DOMPoint(b,m)],[new DOMPoint(b,m),new DOMPoint(u,x),new DOMPoint(r,d),new DOMPoint(s.x,s.y)]];}(_t716,_s296,_n229,_i531,_o190);if(-1===_o190)return;l={type:"C",values:[_r67[0][1].x,_r67[0][1].y,_r67[0][2].x,_r67[0][2].y,_r67[0][3].x,_r67[0][3].y]},a={type:"C",values:[_r67[1][1].x,_r67[1][1].y,_r67[1][2].x,_r67[1][2].y,_r67[1][3].x,_r67[1][3].y]};}this.Mn.undoManager.checkpoint("Add path node"),h=[].concat(_toConsumableArray(h.slice(0,c)),[l,a],_toConsumableArray(h.slice(c+1)));var _iterator416=_createForOfIteratorHelper(h),_step416;try{for(_iterator416.s();!(_step416=_iterator416.n()).done;){var _t717=_step416.value;_t717.values=_t717.values.map(function(t){return tt(t,_this290.Mn.geometryPrecision);});}}catch(err){_iterator416.e(err);}finally{_iterator416.f();}n.setPathData(h),this.da=[{path:n,index:c}],this.aa(),this.ya(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Aa:function Aa(t){var _this291=this;if(0===t.button){var _e519,_i533,s=t.target,_n230=new DOMPoint(t.clientX,t.clientY),_o191=_n230;window.addEventListener("pointermove",_e519=function _e518(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=Te(_n230,a)>3||h>80,d=!1===ze(_o191,a,0);_o191=a,!0===r&&!0===d&&(window.removeEventListener("pointermove",_e519),window.removeEventListener("pointerup",_i533),_this291.Ga(t,s));}),window.addEventListener("pointerup",_i533=function _i532(t){window.removeEventListener("pointermove",_e519),window.removeEventListener("pointerup",_i533);});}},Ga:function Ga(t,e){var _this292=this;var i,s,n=this.Mn,o=e.getAttribute("data-index"),l=e[ec],a=l[ic];if(n.undoManager.checkpoint("Move control point"),n.snapManager.snapStart(!0),a){var _t718=Wt(l),_e520=qt(a);s=_e520.multiply(_t718),i=s.inverse();}else s=qt(l),i=s.inverse();var h=l.getPathData({normalize:!0});h=ht(h),Dt(h);var r,_d47,c,p=e[sc],u=h[p],x=h[p-1]||null,b=h[p+1]||null,m=St(u,h),g=Ot(u,h),f=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w=_toConsumableArray(u.values),v=null,y=null,k=null;v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"1"===o?"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])):"2"===o&&(k=new DOMPoint(u.values[4],u.values[5]));var S="sharp",_=k.matrixTransform(s),C=new DOMPoint(f.x,f.y);this.ga=e;var M=function M(){var _this292$Qs$modKeys=_this292.Qs.modKeys,t=_this292$Qs$modKeys.ctrl,e=_this292$Qs$modKeys.shift;!0===t&&!1===e?S="sharp":!1===t&&!0===e?"1"===o?S=v&&"C"===v.type?"smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"smooth":"sharp"):!0===t&&!0===e?"1"===o?S=v&&"C"===v.type?"symmetric-smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"symmetric-smooth":"sharp"):!1===t&&!1===e&&("1"===o?S=_t(v,u):"2"===o&&(S=_t(u,y)));},P=function P(){if("1"===o){var _t719;if(_this292.Qs.modKeys.shift)_t719=C;else{var _e521=C.x-f.x,_i534=C.y-f.y;_t719=new DOMPoint(w[0]+_e521,w[1]+_i534);}{var _e522=_t719.matrixTransform(s);_t719=n.snapManager.snapPoint(_e522).matrixTransform(i);}if(u.values[0]=_t719.x,u.values[1]=_t719.y,"smooth"===S){var _e523=new DOMPoint(v.values[2],v.values[3]),_i535=new J(k,_t719),_s297=new J(k,_e523),_n231=_i535.getOppositeVector();_n231.length=_s297.length,v.values[2]=k.x+_n231.x,v.values[3]=k.y+_n231.y;}else if("symmetric-smooth"===S){var _e524=new J(k,_t719);_e524=_e524.negate(),v.values[2]=k.x+_e524.x,v.values[3]=k.y+_e524.y;}}else if("2"===o){var _t720;if(_this292.Qs.modKeys.shift)_t720=C;else{var _e525=C.x-f.x,_i536=C.y-f.y;_t720=new DOMPoint(w[2]+_e525,w[3]+_i536);}{var _e526=_t720.matrixTransform(s);_t720=n.snapManager.snapPoint(_e526).matrixTransform(i);}if(u.values[2]=_t720.x,u.values[3]=_t720.y,"smooth"===S){var _e527=new DOMPoint(y.values[0],y.values[1]),_i537=new J(k,_t720),_s298=new J(k,_e527),_n232=_i537.getOppositeVector();_n232.length=_s298.length,y.values[0]=k.x+_n232.x,y.values[1]=k.y+_n232.y;}else if("symmetric-smooth"===S){var _e528=new J(k,_t720);_e528=_e528.negate(),y.values[0]=k.x+_e528.x,y.values[1]=k.y+_e528.y;}}l.setPathData(h);};window.addEventListener("pointermove",r=function r(t){var e=new DOMPoint(t.clientX,t.clientY);if(_this292.Qs.modKeys.shift){var _Re7=Re(_,e,22.5),_Re8=_slicedToArray(_Re7,1),_t721=_Re8[0];e=_t721;}C=e.matrixTransform(i),P();}),window.addEventListener("pointerup",_d47=function d(t){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",_d47),_this292.Qs.removeEventListener("modkeyschange",c),zt(h);var _iterator417=_createForOfIteratorHelper(h),_step417;try{for(_iterator417.s();!(_step417=_iterator417.n()).done;){var _t722=_step417.value;_t722.values=_t722.values.map(function(t){return tt(t,_this292.Mn.geometryPrecision);});}}catch(err){_iterator417.e(err);}finally{_iterator417.f();}l.setPathData(h),_this292.ga=null,n.snapManager.snapEnd();}),this.Qs.addEventListener("modkeyschange",c=function c(){M();}),M();},$a:function $a(t){var _this293=this;if(0===t.button){var _e530,_i540,s=!1,_n233=new DOMPoint(t.clientX,t.clientY),_o192=_n233,_l174=t.target.closest(".outline-grippie"),_a132=t.target;window.addEventListener("pointermove",_e530=function _e529(l){var h=new DOMPoint(l.clientX,l.clientY),r=l.timeStamp-t.timeStamp,d=Te(_n233,h)>3||r>80,c=!1===ze(_o192,h,0);_o192=h,!0===d&&!0===c&&(window.removeEventListener("pointermove",_e530),window.removeEventListener("pointerup",_i540),_this293.Ua(l,_a132),s=!0);}),window.addEventListener("pointerup",_i540=function _i538(n){if(window.removeEventListener("pointermove",_e530),window.removeEventListener("pointerup",_i540),!1===s){var _e531,_i539=_l174[ec],_s299=_i539[ic];if(_s299){var _t723=Wt(_i539);_e531=qt(_s299).multiply(_t723).inverse();}else _e531=qt(_i539).inverse();var _n234=ht(_i539.getPathData({normalize:!0})),_o193=(new DOMPoint(t.clientX,t.clientY).matrixTransform(_e531),_toConsumableArray(_l174.children).indexOf(_a132)),_h113=_o193-1,_r68=_n234[_o193],_d48=_n234[_h113],_c34=St(_r68,_n234),_p31=Ot(_r68,_n234);_d48?_p31&&"M"===_d48.type?_this293.da=[{path:_i539,index:_o193},{path:_i539,index:_c34.length-2}]:_this293.da=[{path:_i539,index:_o193},{path:_i539,index:_h113}]:_this293.da=[{path:_i539,index:_o193}],_this293.ca(),_this293.pa(),_this293.dispatchEvent(new CustomEvent("selectednodeschange"));}});}},Ua:function Ua(t,e){var _this294=this;var i,s=e.closest(".outline-grippie"),n=s[ec],o=n[ic];if(this.Mn.undoManager.checkpoint("Edit path"),this.fa=s,this["#outline-grippies"].style.display="none",o){var _t724=Wt(n),_e532=qt(o);i=_e532.multiply(_t724).inverse();}else i=qt(n).inverse();var l,_a133,h,r=ht(n.getPathData({normalize:!0})),d=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),_kt3=kt(e,d),_kt4=_slicedToArray(_kt3,1),c=_kt4[0],p=_toConsumableArray(s.children).indexOf(e),u=r[p],x=r[p-1],b=r[p+1],m=St(u,r),g=Ot(u,r),f=new J(d,c),w=new DOMPoint(d.x,d.y),v=null,y=null,k=null,S=null,_=!1,C=!1;Dt(r),v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])),"M"===u.type||"L"===u.type?S=new DOMPoint(u.values[0],u.values[1]):"C"===u.type&&(S=new DOMPoint(u.values[4],u.values[5]));var M=function M(){var _this294$Qs$modKeys=_this294.Qs.modKeys,t=_this294$Qs$modKeys.ctrl,e=_this294$Qs$modKeys.shift;!0===t&&!1===e?(_=!1,C=!1):!1===t&&!0===e?(_=!(!v||"C"!==v.type)&&"smooth",C=!(!y||"C"!==y.type)&&"smooth"):!0===t&&!0===e?(_=!(!v||"C"!==v.type)&&"symmetric-smooth",C=!(!y||"C"!==y.type)&&"symmetric-smooth"):!1===t&&!1===e&&(_=_t(v,u),C=_t(u,y));},P=function P(){var t=new DOMPoint(u.values[0],u.values[1]),e=new DOMPoint(u.values[2],u.values[3]),i=qd(c,k,t,e,S),s=1;if(i<=1/6?s=0:i<=.5?s=Kd((6*i-1)/2,3)/2:i<=5/6&&(s=(1-Kd((6*(1-i)-1)/2,3))/2+.5),-1===i)return;var o=(1-s)/(3*i*(1-i)*(1-i)),l=s/(3*i*i*(1-i)),a=w.x-c.x,h=w.y-c.y;u.values[0]=u.values[0]+o*a,u.values[1]=u.values[1]+o*h,u.values[2]=u.values[2]+l*a,u.values[3]=u.values[3]+l*h,"smooth"===_?Ct(u,v,!1):"symmetric-smooth"===_&&Ct(u,v,!0),"smooth"===C?Mt(u,y,!1):"symmetric-smooth"===C&&Mt(u,y,!0),c=w,n.setPathData(r);};window.addEventListener("pointermove",l=function l(t){w=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w.x+=f.x,w.y+=f.y,P();}),window.addEventListener("pointerup",_a133=function a(t){_this294.Qs.removeEventListener("modkeyschange",h),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",_a133),zt(r);var _iterator418=_createForOfIteratorHelper(r),_step418;try{for(_iterator418.s();!(_step418=_iterator418.n()).done;){var _t725=_step418.value;_t725.values=_t725.values.map(function(t){return tt(t,_this294.Mn.geometryPrecision);});}}catch(err){_iterator418.e(err);}finally{_iterator418.f();}n.setPathData(r),_this294.fa=null,_this294["#outline-grippies"].style.display=null,_this294.va();}),this.Qs.addEventListener("modkeyschange",h=function h(){M(),P();}),M();},va:function va(){if(this.fa||this.ma||this.ga)return;var t=document.createDocumentFragment();var _iterator419=_createForOfIteratorHelper(this.ba),_step419;try{for(_iterator419.s();!(_step419=_iterator419.n()).done;){var _e533=_step419.value;var _i541=void 0;if(_e533[ic]){var _t726=Yt(_e533[ic],this),_s300=Wt(_e533);_i541=_t726.multiply(_s300);}else _i541=Yt(_e533,this);var s=ht(_e533.getPathData({normalize:!0})),_n235=Ii("svg:g");_n235[ec]=_e533,_n235.setAttribute("class","outline-grippie"),_n235.setAttribute("transform",_i541.toString()),t.append(_n235);var _o194=0,_l175=0,_a134=0,_h114=0;var _iterator420=_createForOfIteratorHelper(s),_step420;try{for(_iterator420.s();!(_step420=_iterator420.n()).done;){var _t727=_step420.value;var _e534=Ii("svg:path");"M"===_t727.type?(_e534.setPathData([_t727]),_o194=_t727.values[0],_l175=_t727.values[1],_a134=_o194,_h114=_l175):"C"===_t727.type?(_e534.setPathData([{type:"M",values:[_o194,_l175]},_t727]),_o194=_t727.values[4],_l175=_t727.values[5]):"L"===_t727.type?(_e534.setPathData([{type:"M",values:[_o194,_l175]},_t727]),_o194=_t727.values[0],_l175=_t727.values[1]):"Z"===_t727.type&&(_e534.setPathData([{type:"M",values:[_o194,_l175]},{type:"L",values:[_a134,_h114]}]),_o194=_a134,_l175=_h114),_n235.append(_e534);}}catch(err){_iterator420.e(err);}finally{_iterator420.f();}}}catch(err){_iterator419.e(err);}finally{_iterator419.f();}this["#outline-grippies"].innerHTML="",this["#outline-grippies"].append(t),this.Ma();},aa:function aa(){var _this295=this;if(this.fa||this.ga)return;var t=document.createDocumentFragment(),e=Jd/this.Mn.scale,i=.3*e;var _iterator421=_createForOfIteratorHelper(this.ba),_step421;try{var _loop8=function _loop8(){var s=_step421.value;var n=void 0;if(s[ic]){var _t728=Yt(s[ic],_this295),_e535=Wt(s);n=_t728.multiply(_e535);}else n=Yt(s,_this295);var o=ht(s.getPathData({normalize:!0})),l=[],a=-1;var _iterator422=_createForOfIteratorHelper(dt(o)),_step422;try{for(_iterator422.s();!(_step422=_iterator422.n()).done;){var _t729=_step422.value;var _o195="Z"===_t729[_t729.length-1].type,_h115=-1;var _iterator423=_createForOfIteratorHelper(_t729),_step423;try{for(_iterator423.s();!(_step423=_iterator423.n()).done;){var _r69=_step423.value;_h115+=1,a+=1;_t729[_h115-1];var _d49=void 0,_c35=_t729[_h115+1]||null,_p32="mid";if("C"===_r69.type)_d49=new DOMPoint(_r69.values[4],_r69.values[5]),!1===_o195&&null===_c35&&(_p32="end");else if("L"===_r69.type)_d49=new DOMPoint(_r69.values[0],_r69.values[1]),!1===_o195&&null===_c35&&(_p32="end");else{if("M"!==_r69.type)continue;if(!1!==_o195)continue;_d49=new DOMPoint(_r69.values[0],_r69.values[1]),_p32="start";}var _u29=_d49.matrixTransform(n),_x100=Ii("svg:g");_x100.setAttribute("class","node-grippie"),_x100.setAttribute("data-position",_p32),_x100[ec]=s,_x100[sc]=a;var _b27=" <circle class=\"outer-circle\" cx=\"".concat(_u29.x,"\" cy=\"").concat(_u29.y,"\" r=\"").concat(e,"\"></circle>");"start"!==_p32&&"end"!==_p32||(_b27+="<circle class=\"inner-circle\" cx=\"".concat(_u29.x,"\" cy=\"").concat(_u29.y,"\" r=\"").concat(i,"\"></circle>")),_x100.innerHTML=_b27,_this295.da.find(function(t){return t.path===s&&t.index===a;})&&_x100.setAttribute("data-selected",""),l.push(_x100);}}catch(err){_iterator423.e(err);}finally{_iterator423.f();}}}catch(err){_iterator422.e(err);}finally{_iterator422.f();}for(var _i542=0,_l176=l;_i542<_l176.length;_i542++){var _e536=_l176[_i542];!1===_e536.hasAttribute("data-selected")&&t.append(_e536);}for(var _i543=0,_l177=l;_i543<_l177.length;_i543++){var _e537=_l177[_i543];!0===_e537.hasAttribute("data-selected")&&t.append(_e537);}};for(_iterator421.s();!(_step421=_iterator421.n()).done;){_loop8();}}catch(err){_iterator421.e(err);}finally{_iterator421.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t);},ya:function ya(){var _this296=this;var t=document.createDocumentFragment(),e=document.createDocumentFragment();var _iterator424=_createForOfIteratorHelper(this.ba),_step424;try{var _loop9=function _loop9(){var i=_step424.value;var s=void 0,n=ht(i.getPathData({normalize:!0})),o=_this296.da.filter(function(t){return t.path===i;}).map(function(t){return t.index;});if(i[ic]){var _t730=Yt(i[ic],_this296),_e538=Wt(i);s=_t730.multiply(_e538);}else s=Yt(i,_this296);var _iterator425=_createForOfIteratorHelper(o),_step425;try{for(_iterator425.s();!(_step425=_iterator425.n()).done;){var _l178=_step425.value;var _o196=void 0,_a135=n[_l178],_h116=n[_l178+1]||null,_r70=St(_a135,n)[1],_d50=n.indexOf(_r70),_c36=null,_p33=null;if("M"===_a135.type||"L"===_a135.type?_o196=new DOMPoint(_a135.values[0],_a135.values[1]):"C"===_a135.type&&(_o196=new DOMPoint(_a135.values[4],_a135.values[5])),"C"===_a135.type&&(_c36=new DOMPoint(_a135.values[2],_a135.values[3])),_h116&&("C"===_h116.type?_p33=new DOMPoint(_h116.values[0],_h116.values[1]):"Z"===_h116.type&&"C"===_r70.type&&(_p33=new DOMPoint(_r70.values[0],_r70.values[1]))),_c36&&!1===ze(_o196,_c36)){var _n236=_o196.matrixTransform(s),_a136=_c36.matrixTransform(s),_h117=Ii("svg:circle");_h117.setAttribute("class","control-grippie"),_h117.setAttribute("data-index","2"),_h117.setAttribute("cx",_a136.x),_h117.setAttribute("cy",_a136.y),_h117.setAttribute("r",tc/_this296.Mn.scale),_h117[ec]=i,_h117[sc]=_l178;var _r71=Ii("svg:line");_r71.setAttribute("class","control-line"),_r71.setAttribute("x1",_n236.x),_r71.setAttribute("y1",_n236.y),_r71.setAttribute("x2",_a136.x),_r71.setAttribute("y2",_a136.y),t.append(_h117),e.append(_r71);}if(_p33&&!1===ze(_o196,_p33)){var _n237=_o196.matrixTransform(s),_a137=_p33.matrixTransform(s),_r72=Ii("svg:circle");_r72.setAttribute("class","control-grippie"),_r72.setAttribute("data-index","1"),_r72.setAttribute("cx",_a137.x),_r72.setAttribute("cy",_a137.y),_r72.setAttribute("r",tc/_this296.Mn.scale),_r72[ec]=i,_r72[sc]="Z"===_h116.type?_d50:_l178+1;var _c37=Ii("svg:line");_c37.setAttribute("class","control-line"),_c37.setAttribute("x1",_n237.x),_c37.setAttribute("y1",_n237.y),_c37.setAttribute("x2",_a137.x),_c37.setAttribute("y2",_a137.y),t.append(_r72),e.append(_c37);}}}catch(err){_iterator425.e(err);}finally{_iterator425.f();}};for(_iterator424.s();!(_step424=_iterator424.n()).done;){_loop9();}}catch(err){_iterator424.e(err);}finally{_iterator424.f();}this["#control-grippies"].innerHTML="",this["#control-grippies"].append(t),this["#control-lines"].innerHTML="",this["#control-lines"].append(e);},ra:function ra(){var t=Jd/this.Mn.scale,e=.3*t;var _iterator426=_createForOfIteratorHelper(this["#node-grippies"].children),_step426;try{for(_iterator426.s();!(_step426=_iterator426.n()).done;){var _i544=_step426.value;_i544.children[0].setAttribute("r",t),_i544.children[1]&&_i544.children[1].setAttribute("r",e);}}catch(err){_iterator426.e(err);}finally{_iterator426.f();}},_a:function _a(){var _iterator427=_createForOfIteratorHelper(this["#control-grippies"].children),_step427;try{for(_iterator427.s();!(_step427=_iterator427.n()).done;){var _t731=_step427.value;_t731.setAttribute("r",tc/this.Mn.scale);}}catch(err){_iterator427.e(err);}finally{_iterator427.f();}},Ma:function Ma(){var _iterator428=_createForOfIteratorHelper(this["#outline-grippies"].children),_step428;try{for(_iterator428.s();!(_step428=_iterator428.n()).done;){var _t732=_step428.value;var _e539=_t732[ec],_i545=getComputedStyle(_e539),s=Qd(_i545.getPropertyValue("stroke-width"))*this.Mn.scale;s<10&&(s=10),_t732.style.setProperty("stroke-width",s);}}catch(err){_iterator428.e(err);}finally{_iterator428.f();}},ua:function ua(){var t=[];var _iterator429=_createForOfIteratorHelper(this.ba),_step429;try{for(_iterator429.s();!(_step429=_iterator429.n()).done;){var _e540=_step429.value;var _i546=ht(_e540.getPathData({normalize:!0}));for(var s=0;s<_i546.length;s+=1){var _n238=_i546[s];("C"===_n238.type||"L"===_n238.type||"M"===_n238.type&&!1===Ot(_n238,_i546))&&t.push({path:_e540,index:s});}}}catch(err){_iterator429.e(err);}finally{_iterator429.f();}this.da=t,this.aa(),this.ya(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},deselectAllSegs:function deselectAllSegs(){this.da=[],this.ca(),this.pa(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Ea:function Ea(){var _this297=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"smooth";this.Mn.undoManager.checkpoint("Delete segments");var _iterator430=_createForOfIteratorHelper(this.ba),_step430;try{var _loop10=function _loop10(){var e=_step430.value;var i=ht(e.getPathData({normalize:!0}));Dt(i);var s=_this297.da.filter(function(t){return t.path===e;});s=s.map(function(t){return t.index;}),s=s.sort(function(t,e){return e-t;});var n=s.filter(function(t){return"C"===i[t].type;}),o=s.filter(function(t){return"M"===i[t].type;});if(0!==s.length){var _iterator431=_createForOfIteratorHelper(n),_step431;try{var _loop11=function _loop11(){var e=_step431.value;var s=i[e],n=i[e+1]||null,o=i[e-1]||null;if(null===n)i=i.filter(function(t){return t!==s;});else if("M"===n.type)i=i.filter(function(t){return t!==s;});else if("Z"===n.type){var _e541=St(s,i),_n239=_e541[0],_l179=_e541[1];i=i.filter(function(t){return t!==s;}),"L"===o.type||"M"===o.type?(_n239.values[0]=o.values[0],_n239.values[1]=o.values[1]):"C"===o.type&&(_n239.values[0]=o.values[4],_n239.values[1]=o.values[5]),"C"===_l179.type&&("smooth"===t?(_l179.values[0]=s.values[0],_l179.values[1]=s.values[1]):"sharp"===t&&("L"===o.type||"M"===o.type?(_l179.values[0]=o.values[0],_l179.values[1]=o.values[1]):"C"===o.type&&(_l179.values[0]=o.values[4],_l179.values[1]=o.values[5]),_l179.values[2]=_l179.values[4],_l179.values[3]=_l179.values[5]));}else"C"===n.type?(i=i.filter(function(t){return t!==s;}),"smooth"===t?(n.values[0]=s.values[0],n.values[1]=s.values[1]):"sharp"===t&&("M"===o.type||"L"===o.type?(n.values[0]=o.values[0],n.values[1]=o.values[1]):"C"===o.type&&(n.values[0]=o.values[4],n.values[1]=o.values[5]),n.values[2]=n.values[4],n.values[3]=n.values[5])):"L"===n.type&&(i=i.filter(function(t){return t!==s;}));};for(_iterator431.s();!(_step431=_iterator431.n()).done;){_loop11();}}catch(err){_iterator431.e(err);}finally{_iterator431.f();}var _iterator432=_createForOfIteratorHelper(o),_step432;try{for(_iterator432.s();!(_step432=_iterator432.n()).done;){var _t733=_step432.value;var _e542=i[_t733],_s301=St(_e542,i);if(_s301.length>1){(function(){var t=_s301[0],e=_s301[1];i=i.filter(function(t){return t!==e;}),"L"===e.type?(t.values[0]=e.values[0],t.values[1]=e.values[1]):"C"===e.type&&(t.values[0]=e.values[4],t.values[1]=e.values[5]);})();}}}catch(err){_iterator432.e(err);}finally{_iterator432.f();}var _iterator433=_createForOfIteratorHelper(dt(i)),_step433;try{for(_iterator433.s();!(_step433=_iterator433.n()).done;){var _t734=_step433.value;var _e543=_t734.filter(function(t){return"C"===t.type;}),_s302="Z"===_t734[_t734.length-1].type?2:1;if(_e543.length<_s302){var _iterator435=_createForOfIteratorHelper(_t734),_step435;try{var _loop12=function _loop12(){var e=_step435.value;i=i.filter(function(t){return t!==e;});};for(_iterator435.s();!(_step435=_iterator435.n()).done;){_loop12();}}catch(err){_iterator435.e(err);}finally{_iterator435.f();}}}}catch(err){_iterator433.e(err);}finally{_iterator433.f();}zt(i);var _iterator434=_createForOfIteratorHelper(i),_step434;try{for(_iterator434.s();!(_step434=_iterator434.n()).done;){var _t735=_step434.value;_t735.values=_t735.values.map(function(t){return tt(t,_this297.Mn.geometryPrecision);});}}catch(err){_iterator434.e(err);}finally{_iterator434.f();}e.setPathData(i),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator430.s();!(_step430=_iterator430.n()).done;){_loop10();}}catch(err){_iterator430.e(err);}finally{_iterator430.f();}this.da=[],this.aa(),this.ya(),this.va(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},getNodeGrippieDescriptor:function getNodeGrippieDescriptor(t,e){var _iterator436=_createForOfIteratorHelper(this.Mn.getElementsFromPoint(t,e)),_step436;try{for(_iterator436.s();!(_step436=_iterator436.n()).done;){var _i547=_step436.value;var _t736=_i547.closest(".node-grippie");if(_t736&&this.contains(_t736))return{position:_t736.getAttribute("data-position"),selected:_t736.hasAttribute("data-selected"),path:_t736[ec],index:_t736[sc]};}}catch(err){_iterator436.e(err);}finally{_iterator436.f();}return null;},Oa:function Oa(){var _this298=this;var t=[],e=[],i=function i(s){var _iterator437=_createForOfIteratorHelper(s),_step437;try{for(_iterator437.s();!(_step437=_iterator437.n()).done;){var _n240=_step437.value;if("path"===_n240.localName)_n240.hasAttribute("d")&&!_n240.hasAttribute("data-bx-shape")&&(_n240[ic]=null,t.push(_n240));else if("text"===_n240.localName){var _t737=_n240,_i548=_toConsumableArray(_n240.children).find(function(t){return"textPath"===t.localName;});if(_i548){var _s303=_i548.getAttribute("href");if(_s303){var _i549=_s303.trim().substring(1),_n241=_this298.Mn.workspaces.querySelector("#"+CSS.escape(_i549));_n241&&_n241.hasAttribute("d")&&!_n241.hasAttribute("data-bx-shape")&&(_n241[ic]=_t737,e.push(_n241));}}}else["g","a"].includes(_n240.localName)&&i(_n240.children);}}catch(err){_iterator437.e(err);}finally{_iterator437.f();}};return i(this.Mn.selectedElements),t=t.filter(function(t){return!1===e.includes(t);}),[].concat(_toConsumableArray(t),e);}};var oc=Symbol(),lc=Symbol(),ac=Symbol(),hc=Symbol();var rc={id:"linear-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.Fa());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[hc];});return this.Na.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Va(t);},createdCallback:function createdCallback(){var _this299=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this299.ja();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this299.Ha();}}},this.Na=[],this.Jo=null,this.Wa=null,this.Fa=es(this.Ya,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #linear-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #linear-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #linear-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #linear-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator438=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step438;try{for(_iterator438.s();!(_step438=_iterator438.n()).done;){var _t738=_step438.value;this["#"+_t738.getAttribute("uid")]=_t738;}}catch(err){_iterator438.e(err);}finally{_iterator438.f();}this.addEventListener("keydown",function(t){return _this299.wn(t);}),this.addEventListener("pointerdown",function(t){return _this299.wo(t);}),this.addEventListener("pointerup",function(t){return _this299.qa(t);}),this.addEventListener("dblclick",function(t){return _this299.Pa(t);});},enabledCallback:function enabledCallback(){var _this300=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this300.sl();}),this.Mn.addEventListener("selectedtextrangechange",this.Xa=function(){_this300.Za();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this300.al(t.detail);}),this.Mn.addEventListener("zoomchange",this.an=function(){_this300.ll();}),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this300.yn(t);}),this.Mn.huds.addEventListener("pointerdown",this.Ka=function(t){_this300.Qa(t);}),this.Mn.undoManager.addEventListener("undo",this.Da=function(){_this300.Ja();}),this.Mn.undoManager.addEventListener("redo",this.za=function(){_this300.Ja();}),this.sl();},disabledCallback:function disabledCallback(){this.Va([]),this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("selectedtextrangechange",this.Xa),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("zoomchange",this.an),this.Mn.workspaces.removeEventListener("pointerdown",this.vn),this.Mn.huds.removeEventListener("pointerdown",this.Ka),this.Mn.undoManager.removeEventListener("undo",this.Da),this.Mn.undoManager.removeEventListener("redo",this.za);},sl:function sl(){this.Fa();},Za:function Za(){this.Fa();},al:function al(t){if(this.Jo)this.th(this.Jo.closest(".subhud"));else if(this.Wa)this.th(this.Wa.parentElement);else{var _iterator439=_createForOfIteratorHelper(t),_step439;try{for(_iterator439.s();!(_step439=_iterator439.n()).done;){var _e544=_step439.value;"style"===_e544.attributeName&&"stop"===_e544.target.localName?this.eh():this.Fa();}}catch(err){_iterator439.e(err);}finally{_iterator439.f();}}},ll:function ll(){this.dl();},Ja:function Ja(){this.Va([]);},yn:function yn(t){1===t.buttons&&this.Va([]);},Qa:function Qa(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Va([]);},wo:function wo(t){var _this301=this;if(1!==t.buttons)return;var e,_i550;t.target.classList.contains("slider")?this.ih(t):t.target.classList.contains("stop-grippie")&&this.sh(t),this.nh=!1,this.oh=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this301.nh=!0;}),window.addEventListener("pointerup",_i550=function i(){window.removeEventListener("pointerup",_i550),window.removeEventListener("pointermove",e);});},qa:function qa(t){t.target.classList.contains("stop-grippie")&&this.lh(t);},Pa:function Pa(t){t.timeStamp-this.oh<300&&t.target.classList.contains("slider")&&this.ah(t);},sh:function sh(t){var _this302=this;var e=t.target[hc],i=e.closest("linearGradient, radialGradient"),s=$o(i),n=s.filter(function(t){return _this302.Na.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys5=this.Qs.modKeys,a=_this$Qs$modKeys5.alt,h=_this$Qs$modKeys5.shift;this.hh=_toConsumableArray(n),!1===h?!1===n.includes(e)&&this.Va([e]):!0===h&&!1===n.includes(e)&&(n.push(e),this.Va(n)),e===o&&0===e.offset.baseVal&&!1===a?this.rh(t,"start"):e===l&&1===e.offset.baseVal&&!1===a?this.rh(t,"end"):this.dh(t);},lh:function lh(t){if(this.nh)return;var e=t.target,i=this.hh,s=e[hc],n=e.closest(".subhud")[lc],o=this.Qs.modKeys.shift,l=[];var _iterator440=_createForOfIteratorHelper(this.Mn.selectedElements),_step440;try{for(_iterator440.s();!(_step440=_iterator440.n()).done;){var _t740=_step440.value;if("g"!==_t740.localName&&"a"!==_t740.localName||!_t740.contains(n))l.push(_t740);else{var _iterator441=_createForOfIteratorHelper(Fi(_toConsumableArray(_t740.children))),_step441;try{for(_iterator441.s();!(_step441=_iterator441.n()).done;){var _e545=_step441.value;l.unshift(_e545);}}catch(err){_iterator441.e(err);}finally{_iterator441.f();}}}}catch(err){_iterator440.e(err);}finally{_iterator440.f();}this.Mn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Mn.selectedElements=l;for(var _t739=n.parentElement;_t739!==this.Mn.currentWorkspace;_t739=_t739.parentElement){if("g"===_t739.localName||"a"===_t739.localName){this.Mn.currentContainer=_t739;break;}}!0===o&&!0===this.hh.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Va(i));},dh:function dh(t){var _this303=this;var e,_i553,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Mn.geometryPrecision,l=this.ph(),a=qt(this),h=a.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(a),_$e31=$e(c,p,u,!1),_$e32=_slicedToArray(_$e31,1),b=_$e32[0],m=Te(c,b)/Te(c,p),g=!1;this.Jo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e547){{var _i551=new DOMPoint(_e547.clientX,_e547.clientY),_s304=_e547.timeStamp-t.timeStamp;if(!0===ze(d,_i551,0))return;if(d=_i551,Te(r,_i551)<3&&_s304<80)return;}!1===g&&(_this303.Mn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e547.clientX-t.clientX,x.y+_e547.clientY-t.clientY).matrixTransform(h),_$e33=$e(c,p,i,!1),_$e34=_slicedToArray(_$e33,1),s=_$e34[0],n=Te(c,s)/Te(c,p)-m;var _iterator442=_createForOfIteratorHelper(_this303.Na),_step442;try{for(_iterator442.s();!(_step442=_iterator442.n()).done;){var _t741=_step442.value;var _l$get=l.get(_t741),_e546=_l$get.minOffset,_i552=_l$get.maxOffset,_s305=_l$get.initialOffset;_s305+n<_e546?_t741.setAttribute("offset",_e546):_s305+n>_i552?_t741.setAttribute("offset",_i552):_t741.setAttribute("offset",_s305+n);}}catch(err){_iterator442.e(err);}finally{_iterator442.f();}}),s.addEventListener("pointerup",_i553=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i553);var _iterator443=_createForOfIteratorHelper(_this303.Na),_step443;try{for(_iterator443.s();!(_step443=_iterator443.n()).done;){var _t742=_step443.value;_t742.setAttribute("offset",tt(_t742.offset.baseVal,o));}}catch(err){_iterator443.e(err);}finally{_iterator443.f();}_this303.Jo=null;});},rh:function rh(t){var _this304=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";var i,_s309,n,o,l,a,h,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[oc],u=Ao(p),x=c[lc],b=Ei(x),m=qt(x),g=m.inverse(),f=u.gradientTransform,w=this.Mn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,k=!1,S=!1;d.matches(".stop-grippie")?this.Jo=d:d.matches(".slider")&&(this.Wa=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i558){if(!1===k){{var _e548=new DOMPoint(_i558.clientX,_i558.clientY),_s306=_i558.timeStamp-t.timeStamp;if(!0===ze(y,_e548,0))return;if(y=_e548,Te(v,_e548)<3&&_s306<80)return;}if(_this304.Mn.undoManager.checkpoint("Transform gradient"),_this304.Mn.snapManager.snapStart(!0),To(p)){var _t743=Ii("svg:linearGradient");_t743.setAttribute("id",_this304.Mn.generateUniqueID(p.id)),_t743.setAttribute("href","#"+p.id),_this304.Mn.maybeCreateDefsForMasterWorkspace(),_this304.Mn.defs.append(_t743),p=_t743,c[oc]=_t743,x.style[_this304.context]="url(#"+_t743.id+")";}k=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){"start"===e?(n=new DOMPoint(u.x1.value,u.y1.value),o=new DOMPoint(u.x2.value,u.y2.value)):"end"===e&&(n=new DOMPoint(u.x2.value,u.y2.value),o=new DOMPoint(u.x1.value,u.y1.value));var _t744=new J(o,n).getNormalVector();l=new DOMPoint(o.x+_t744.x,o.y+_t744.y);var _i554=n.matrixTransform(f),_s307=o.matrixTransform(f),_d51=l.matrixTransform(f);a=_i554.matrixTransform(m),h=_s307.matrixTransform(m),r=_d51.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t745=u.x1.valueInSpecifiedUnits,_i555=u.y1.valueInSpecifiedUnits,_s308=u.x2.valueInSpecifiedUnits,_d52=u.y2.valueInSpecifiedUnits;u.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t745/=100),u.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i555/=100),u.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s308/=100),u.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d52/=100),"start"===e?(n=new DOMPoint(_t745,_i555),o=new DOMPoint(_s308,_d52)):"end"===e&&(n=new DOMPoint(_s308,_d52),o=new DOMPoint(_t745,_i555));var _c38=new J(o,n).getNormalVector();l=new DOMPoint(o.x+_c38.x,o.y+_c38.y);var _p34=n.matrixTransform(f),_x101=o.matrixTransform(f),_g23=l.matrixTransform(f),_w14=de(_p34,b),_v11=de(_x101,b),_y3=de(_g23,b);a=_w14.matrixTransform(m),h=_v11.matrixTransform(m),r=_y3.matrixTransform(m);}}();}var s,d,_,C,M=_this304.Qs.modKeys.shift,P=new DOMPoint(_i558.clientX+(a.x-t.clientX),_i558.clientY+(a.y-t.clientY)),D=new DOMPoint(a.x+_i558.clientX-t.clientX,a.y+_i558.clientY-t.clientY);D=_this304.Mn.snapManager.snapPoint(D);var z=DOMPoint.fromPoint(h);if(!1===M){var _t746=Ge(h,a,P),_e549=new DOMMatrix();_e549.translateSelf(h.x,h.y),_e549.rotateSelf(_t746),_e549.translateSelf(-h.x,-h.y),C=r.matrixTransform(_e549);}else if(!0===M){S=!0;var _Re9=Re(h,D,22.5),_Re10=_slicedToArray(_Re9,1),_t747=_Re10[0];D=_t747;}if(S){var _t748=new J(z,D).getNormalVector();C=new DOMPoint(z.x+_t748.x,z.y+_t748.y);}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t749=D.matrixTransform(g),_e550=z.matrixTransform(g),_i556=C.matrixTransform(g);s=_t749.matrixTransform(f.inverse()),d=_e550.matrixTransform(f.inverse()),_=_i556.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t750=D.matrixTransform(g),_e551=z.matrixTransform(g),_i557=C.matrixTransform(g),_n242=ce(_t750,b),_o197=ce(_e551,b),_l180=ce(_i557,b);s=_n242.matrixTransform(f.inverse()),d=_o197.matrixTransform(f.inverse()),_=_l180.matrixTransform(f.inverse());}var O=Xt(n,o,l,s,d,_),E=Nt(f.multiply(O),w);p.setAttribute("gradientTransform",E.toString());}),d.addEventListener("pointerup",_s309=function s(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",_s309),_this304.Jo=null,_this304.Wa=null,_this304.Mn.snapManager.snapEnd();});},ih:function ih(t){var e=t.target,i=qt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),o=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),l=n.matrixTransform(i),a=o.matrixTransform(i),h=new J(l,s).length,r=new J(a,s).length;h<=5?this.rh(t,"start"):r<=5?this.rh(t,"end"):this.uh(t);},uh:function uh(t){var _this305=this;var e,_i564,s,n,o=t.target,l=o.closest(".subhud"),a=l[lc],h=l[oc],r=Ao(h),d=Ei(a),c=qt(a),p=c.inverse(),u=this.Mn.geometryPrecision,x=new DOMPoint(t.clientX,t.clientY),b=x,m=!1;if(this.Wa=o,o.setPointerCapture(t.pointerId),r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t751=new DOMPoint(r.x1.value,r.y1.value),_e552=new DOMPoint(r.x2.value,r.y2.value),_i559=_t751.matrixTransform(r.gradientTransform),_o198=_e552.matrixTransform(r.gradientTransform);s=_i559.matrixTransform(c),n=_o198.matrixTransform(c);}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t752=r.x1.valueInSpecifiedUnits,_e553=r.y1.valueInSpecifiedUnits,_i560=r.x2.valueInSpecifiedUnits,_o199=r.y2.valueInSpecifiedUnits;r.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t752/=100),r.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e553/=100),r.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i560/=100),r.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o199/=100);var _l181=new DOMPoint(_t752,_e553),_a138=new DOMPoint(_i560,_o199),_h118=_l181.matrixTransform(r.gradientTransform),_p35=_a138.matrixTransform(r.gradientTransform),_u30=de(_h118,d),_x102=de(_p35,d);s=_u30.matrixTransform(c),n=_x102.matrixTransform(c);}o.addEventListener("pointermove",e=function e(_e554){if(!1===m){{var _i561=new DOMPoint(_e554.clientX,_e554.clientY),_s310=_e554.timeStamp-t.timeStamp;if(!0===ze(b,_i561,0))return;if(b=_i561,Te(x,_i561)<3&&_s310<80)return;}if(m=!0,_this305.Mn.undoManager.checkpoint("Transform gradient"),To(h)){var _t753=Ii("svg:linearGradient");_t753.setAttribute("id",_this305.Mn.generateUniqueID(h.id)),_t753.setAttribute("href","#"+h.id),_this305.Mn.maybeCreateDefsForMasterWorkspace(),_this305.Mn.defs.append(_t753),h=_t753,l[oc]=_t753,a.style[_this305.context]="url(#"+_t753.id+")";}}if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _i562=new DOMPoint(s.x+_e554.clientX-t.clientX,s.y+_e554.clientY-t.clientY),_o200=new DOMPoint(n.x+_e554.clientX-t.clientX,n.y+_e554.clientY-t.clientY),_l182=_i562.matrixTransform(p),_a139=_o200.matrixTransform(p),_d53=_l182.matrixTransform(r.gradientTransform.inverse()),_c39=_a139.matrixTransform(r.gradientTransform.inverse());h.setAttribute("x1",tt(_d53.x,u)),h.setAttribute("y1",tt(_d53.y,u)),h.setAttribute("x2",tt(_c39.x,u)),h.setAttribute("y2",tt(_c39.y,u));}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _i563=new DOMPoint(s.x+_e554.clientX-t.clientX,s.y+_e554.clientY-t.clientY),_o201=new DOMPoint(n.x+_e554.clientX-t.clientX,n.y+_e554.clientY-t.clientY),_l183=_i563.matrixTransform(p),_a140=_o201.matrixTransform(p),_c40=ce(_l183,d),_x103=ce(_a140,d),_b28=_c40.matrixTransform(r.gradientTransform.inverse()),_m27=_x103.matrixTransform(r.gradientTransform.inverse());h.setAttribute("x1",tt(_b28.x,u)),h.setAttribute("y1",tt(_b28.y,u)),h.setAttribute("x2",tt(_m27.x,u)),h.setAttribute("y2",tt(_m27.y,u));}}),o.addEventListener("pointerup",_i564=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("pointerup",_i564),_this305.Wa=null;});},ah:function ah(t){this.Mn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[oc],s=zo(i),n=qt(this).inverse(),o=$o(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),a=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=Te(l,h)/Te(l,a);r=et(r,0,1,this.Mn.geometryPrecision);var d=null;for(var _t754=0;_t754<o.length;_t754+=1){var _e555=o[_t754];if(_e555.offset.baseVal<r)d=_t754;else if(_e555.offset.baseVal>r)break;}var c=Ii("svg:stop");if(c.setAttribute("offset",r),c.style.stopColor=Lo(i,r),null===d){var _t755=o[0];_t755?_t755.before(c):s.append(c);}else o[d].after(c);this.Va([c]);},wn:function wn(t){var e=ao.fromEvent(t);0!==this.Na.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.xh()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.bh()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.mh()):e.matches("ArrowLeft")?(t.stopPropagation(),this.gh("left")&&this.fh(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.gh("right")&&this.fh(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.gh("left")&&this.fh(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.gh("right")&&this.fh(10,"right")));},Ya:function Ya(){var t=this.wh();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e556=this.querySelector(".subhud:focus"),_i565=[];this["#subhuds"].innerHTML="";var _iterator444=_createForOfIteratorHelper(t),_step444;try{for(_iterator444.s();!(_step444=_iterator444.n()).done;){var _e557=_step444.value;var _t757=el(_e557,this.context);if(_i565.includes(_t757))continue;_i565.push(_t757);var s=$o(_t757),_n243=this["#subhud-template"].cloneNode(!0);_n243.removeAttribute("uid"),_n243[oc]=_t757,_n243[lc]=_e557,_n243[ac]=s;var _o202=_n243.querySelector(".stop-grippies"),_l184=document.createDocumentFragment();var _iterator445=_createForOfIteratorHelper(s),_step445;try{for(_iterator445.s();!(_step445=_iterator445.n()).done;){var _t758=_step445.value;var _e558=Ii("svg:circle");_e558.setAttribute("class","stop-grippie"),_e558[hc]=_t758,_t758.offset.baseVal>.95?_l184.prepend(_e558):_o202.append(_e558);}}catch(err){_iterator445.e(err);}finally{_iterator445.f();}_o202.append(_l184),this["#subhuds"].append(_n243);}}catch(err){_iterator444.e(err);}finally{_iterator444.f();}if(_e556){var _t756=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[oc]===_e556[oc];});_t756&&_t756.focus();}this.th(),this.dl(),this.eh(),this.yh(),this.kh();}},th:function th(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator446=_createForOfIteratorHelper(this["#subhuds"].children),_step446;try{for(_iterator446.s();!(_step446=_iterator446.n()).done;){var _e559=_step446.value;if(t&&_e559!==t)continue;var _i566=_e559[oc],s=_e559[lc],_n244=_e559[ac],_o203=Ao(_i566),_l185=Yt(s,this),_a141=_e559.querySelector(".slider"),_h119=_e559.querySelector(".slider-shadow"),_r73=_toConsumableArray(_e559.querySelector(".stop-grippies").children);if(_o203.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t759=new DOMPoint(_o203.x1.value,_o203.y1.value),_e560=new DOMPoint(_o203.x2.value,_o203.y2.value),_i567=_t759.matrixTransform(_o203.gradientTransform),_s311=_e560.matrixTransform(_o203.gradientTransform),_d54=_i567.matrixTransform(_l185),_c41=_s311.matrixTransform(_l185);_a141.setAttribute("x1",_d54.x),_a141.setAttribute("y1",_d54.y),_a141.setAttribute("x2",_c41.x),_a141.setAttribute("y2",_c41.y),_h119.setAttribute("x1",_d54.x),_h119.setAttribute("y1",_d54.y),_h119.setAttribute("x2",_c41.x),_h119.setAttribute("y2",_c41.y);var _iterator447=_createForOfIteratorHelper(_n244),_step447;try{var _loop13=function _loop13(){var t=_step447.value;var e=_r73.find(function(e){return e[hc]===t;}),i=Ie(_d54,_c41,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator447.s();!(_step447=_iterator447.n()).done;){_loop13();}}catch(err){_iterator447.e(err);}finally{_iterator447.f();}}else if(_o203.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t760=Ei(s),_e561=_o203.x1.valueInSpecifiedUnits,_i568=_o203.y1.valueInSpecifiedUnits,_d55=_o203.x2.valueInSpecifiedUnits,_c42=_o203.y2.valueInSpecifiedUnits;_o203.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e561/=100),_o203.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i568/=100),_o203.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d55/=100),_o203.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c42/=100);var _p36=new DOMPoint(_e561,_i568),_u31=new DOMPoint(_d55,_c42),_x104=_p36.matrixTransform(_o203.gradientTransform),_b29=_u31.matrixTransform(_o203.gradientTransform),_m28=new DOMPoint(_t760.x+_x104.x*_t760.width,_t760.y+_x104.y*_t760.height),_g24=new DOMPoint(_t760.x+_b29.x*_t760.width,_t760.y+_b29.y*_t760.height),_f17=_m28.matrixTransform(_l185),_w15=_g24.matrixTransform(_l185);_a141.setAttribute("x1",_f17.x),_a141.setAttribute("y1",_f17.y),_a141.setAttribute("x2",_w15.x),_a141.setAttribute("y2",_w15.y),_h119.setAttribute("x1",_f17.x),_h119.setAttribute("y1",_f17.y),_h119.setAttribute("x2",_w15.x),_h119.setAttribute("y2",_w15.y);var _iterator448=_createForOfIteratorHelper(_n244),_step448;try{var _loop14=function _loop14(){var t=_step448.value;var e=_r73.find(function(e){return e[hc]===t;}),i=Ie(_f17,_w15,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator448.s();!(_step448=_iterator448.n()).done;){_loop14();}}catch(err){_iterator448.e(err);}finally{_iterator448.f();}}}}catch(err){_iterator446.e(err);}finally{_iterator446.f();}},eh:function eh(){var _iterator449=_createForOfIteratorHelper(this["#subhuds"].children),_step449;try{for(_iterator449.s();!(_step449=_iterator449.n()).done;){var _t761=_step449.value;var _iterator450=_createForOfIteratorHelper(_t761.querySelectorAll(".stop-grippie")),_step450;try{for(_iterator450.s();!(_step450=_iterator450.n()).done;){var _e562=_step450.value;var _t762=_e562[hc];_e562.style.fill=getComputedStyle(_t762).stopColor;}}catch(err){_iterator450.e(err);}finally{_iterator450.f();}}}catch(err){_iterator449.e(err);}finally{_iterator449.f();}},dl:function dl(){var _iterator451=_createForOfIteratorHelper(this.querySelectorAll(".stop-grippie")),_step451;try{for(_iterator451.s();!(_step451=_iterator451.n()).done;){var _t763=_step451.value;_t763.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator451.e(err);}finally{_iterator451.f();}},yh:function yh(){var _iterator452=_createForOfIteratorHelper(this["#subhuds"].children),_step452;try{for(_iterator452.s();!(_step452=_iterator452.n()).done;){var _t764=_step452.value;var _iterator453=_createForOfIteratorHelper(_t764.querySelectorAll(".stop-grippie")),_step453;try{for(_iterator453.s();!(_step453=_iterator453.n()).done;){var _e563=_step453.value;this.Na.includes(_e563[hc])?_e563.setAttribute("data-selected",""):_e563.removeAttribute("data-selected");}}catch(err){_iterator453.e(err);}finally{_iterator453.f();}}}catch(err){_iterator452.e(err);}finally{_iterator452.f();}},kh:function kh(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator454=_createForOfIteratorHelper(this.Na),_step454;try{for(_iterator454.s();!(_step454=_iterator454.n()).done;){var _e564=_step454.value;var _iterator455=_createForOfIteratorHelper(t),_step455;try{for(_iterator455.s();!(_step455=_iterator455.n()).done;){var _i569=_step455.value;_i569[hc]===_e564&&_i569.parentElement.append(_i569);}}catch(err){_iterator455.e(err);}finally{_iterator455.f();}}}catch(err){_iterator454.e(err);}finally{_iterator454.f();}},Va:function Va(t){0===t.length&&0===this.Na.length||(this.Na=_toConsumableArray(t),this.yh(),this.kh(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},ja:function ja(){var t=this.querySelector(".subhud:focus")[oc],e=$o(t);this.Va(e);},Ha:function Ha(){var t=this.querySelector(".subhud:focus")[oc],e=$o(t);this.Va(this.Na.filter(function(t){return!1===e.includes(t);}));},bh:function bh(){var _this306=this;var t=this.querySelector(".subhud:focus")[oc];if(t){var _e565=$o(t),_i570=_e565.filter(function(t){return _this306.Na.includes(t);}),s=_i570[_i570.length-1],_n245=_e565[0];if(s&&_e565.length>1){for(var _t765=s.nextElementSibling;_t765;_t765=_t765.nextElementSibling){if("stop"===_t765.localName){_n245=_t765;break;}}this.Va([_n245]);}}},mh:function mh(){var _this307=this;var t=this.querySelector(".subhud:focus")[oc];if(t){var _e566=$o(t),_i571=_e566.filter(function(t){return _this307.Na.includes(t);}),s=_i571[_i571.length-1],_n246=_e566[_e566.length-1];if(s&&_e566.length>1){for(var _t766=s.previousElementSibling;_t766;_t766=_t766.previousElementSibling){if("stop"===_t766.localName){_n246=_t766;break;}}this.Va([_n246]);}}},xh:function xh(){var _this308=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[oc],i=$o(e).filter(function(t){return _this308.Na.includes(t);});if(this.Va([]),i.length>0){this.Mn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator456=_createForOfIteratorHelper(i),_step456;try{for(_iterator456.s();!(_step456=_iterator456.n()).done;){var _t767=_step456.value;_t767.remove();}}catch(err){_iterator456.e(err);}finally{_iterator456.f();}}},fh:function fh(){var _this309=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Mn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[oc],l=$o(o).filter(function(t){return _this309.Na.includes(t);}),a=this.ph(),h=qt(this),r=this.Mn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(h),u=c.matrixTransform(h),x=t/new J(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator457=_createForOfIteratorHelper(l),_step457;try{for(_iterator457.s();!(_step457=_iterator457.n()).done;){var _t768=_step457.value;var _a$get=a.get(_t768),_i572=_a$get.minOffset,_s312=_a$get.maxOffset;if("left"===e){var _e567=et(_t768.offset.baseVal-x,_i572,_s312,r);_t768.setAttribute("offset",_e567);}else if("right"===e){var _e568=et(_t768.offset.baseVal+x,_i572,_s312,r);_t768.setAttribute("offset",_e568);}}}catch(err){_iterator457.e(err);}finally{_iterator457.f();}},gh:function gh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[oc],s=$o(i),n=this.Na.find(function(t){return s.includes(t);});if(null===n)return;var o=this.ph(),_o$get=o.get(n),l=_o$get.minOffset,a=_o$get.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<a:void 0;},Sh:function Sh(t){for(var _e569=t;_e569;_e569=_e569.previousElementSibling){if("stop"===_e569.localName&&!1===this.Na.includes(_e569))return _e569;}return null;},_h:function _h(t){for(var _e570=t;_e570;_e570=_e570.nextElementSibling){if("stop"===_e570.localName&&!1===this.Na.includes(_e570))return _e570;}return null;},ph:function ph(){var t=new Map(),e=[];var _iterator458=_createForOfIteratorHelper(this.Na),_step458;try{for(_iterator458.s();!(_step458=_iterator458.n()).done;){var _t770=_step458.value;var _i574=this.Sh(_t770),_s313=this._h(_t770),_n247={};_n247.min=_i574?_t770.offset.baseVal-_i574.offset.baseVal:_t770.offset.baseVal,_n247.max=_s313?_s313.offset.baseVal-_t770.offset.baseVal:1-_t770.offset.baseVal,e.push(_n247);}}catch(err){_iterator458.e(err);}finally{_iterator458.f();}if(e.length>0){var _i573=e[0].min,s=e[0].max;var _iterator459=_createForOfIteratorHelper(e),_step459;try{for(_iterator459.s();!(_step459=_iterator459.n()).done;){var _t769=_step459.value;_t769.min<_i573&&(_i573=_t769.min),_t769.max<s&&(s=_t769.max);}}catch(err){_iterator459.e(err);}finally{_iterator459.f();}var _iterator460=_createForOfIteratorHelper(this.Na),_step460;try{for(_iterator460.s();!(_step460=_iterator460.n()).done;){var _e571=_step460.value;t.set(_e571,{initialOffset:_e571.offset.baseVal,minOffset:_e571.offset.baseVal-_i573,maxOffset:_e571.offset.baseVal+s});}}catch(err){_iterator460.e(err);}finally{_iterator460.f();}}return t;},wh:function wh(){var _this310=this;var t=function t(e){var i=[],s=_this310.Mn.selectedTextRange;var _iterator461=_createForOfIteratorHelper(e),_step461;try{for(_iterator461.s();!(_step461=_iterator461.n()).done;){var _n248=_step461.value;var _e572=_n248.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e572))i.push(_n248);else if(["a","g"].includes(_e572))i.push.apply(i,_toConsumableArray(t(_n248.children)));else if("text"===_e572){var _t771=vi(_n248);if(s&&s.intersectsNode(_n248)){"backward"===s.direction&&_t771.reverse();var _iterator462=_createForOfIteratorHelper(_t771),_step462;try{for(_iterator462.s();!(_step462=_iterator462.n()).done;){var _e573=_step462.value;if(s.intersectsNode(_e573)){var _t772=_e573.closest("text, textPath, tspan, a");_t772&&!i.includes(_t772)&&i.push(_t772);}}}catch(err){_iterator462.e(err);}finally{_iterator462.f();}}else{var _iterator463=_createForOfIteratorHelper(_t771),_step463;try{for(_iterator463.s();!(_step463=_iterator463.n()).done;){var _e574=_step463.value;var _t773=_e574.closest("text, textPath, tspan, a");_t773&&!i.includes(_t773)&&i.push(_t773);}}catch(err){_iterator463.e(err);}finally{_iterator463.f();}}}}}catch(err){_iterator461.e(err);}finally{_iterator461.f();}return i;};return t(this.Mn.outermostSelectedElements).filter(function(t){return"linearGradient"===tl(t,_this310.context);});}};var dc=Symbol(),cc=Symbol(),pc=Symbol(),uc=Symbol();var xc={id:"radial-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.Fa());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[uc];});return this.Na.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Va(t);},createdCallback:function createdCallback(){var _this311=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this311.ja();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this311.Ha();}}},this.Na=[],this.Jo=null,this.Wa=null,this.Fa=es(this.Ya,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #radial-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #radial-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #radial-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #radial-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n\n    #radial-gradient-hud .r2-outline {\n      fill: none;\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      stroke-dasharray: 5, 5;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n      pointer-events: none;\n    }\n\n    #radial-gradient-hud .r2-grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator464=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step464;try{for(_iterator464.s();!(_step464=_iterator464.n()).done;){var _t774=_step464.value;this["#"+_t774.getAttribute("uid")]=_t774;}}catch(err){_iterator464.e(err);}finally{_iterator464.f();}this.addEventListener("keydown",function(t){return _this311.wn(t);}),this.addEventListener("pointerdown",function(t){return _this311.wo(t);}),this.addEventListener("pointerup",function(t){return _this311.qa(t);}),this.addEventListener("dblclick",function(t){return _this311.Pa(t);});},enabledCallback:function enabledCallback(){var _this312=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this312.sl();}),this.Mn.addEventListener("selectedtextrangechange",this.Xa=function(){_this312.Za();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this312.al(t.detail);}),this.Mn.addEventListener("zoomchange",this.an=function(){_this312.ll();}),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this312.yn(t);}),this.Mn.huds.addEventListener("pointerdown",this.jn=function(t){_this312.Qa(t);}),this.Mn.undoManager.addEventListener("undo",this.Da=function(){_this312.Ja();}),this.Mn.undoManager.addEventListener("redo",this.za=function(){_this312.Ja();}),this.sl();},disabledCallback:function disabledCallback(){this.Va([]),this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("selectedtextrangechange",this.Xa),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("zoomchange",this.an),this.Mn.workspaces.removeEventListener("pointerdown",this.vn),this.Mn.huds.removeEventListener("pointerdown",this.jn),this.Mn.undoManager.removeEventListener("undo",this.Da),this.Mn.undoManager.removeEventListener("redo",this.za);},sl:function sl(){this.Fa();},Za:function Za(){this.Fa();},al:function al(t){if(this.Jo)this.th(this.Jo.closest(".subhud"));else if(this.Wa)this.th(this.Wa.parentElement);else{var _iterator465=_createForOfIteratorHelper(t),_step465;try{for(_iterator465.s();!(_step465=_iterator465.n()).done;){var _e575=_step465.value;"style"===_e575.attributeName&&"stop"===_e575.target.localName?this.eh():this.Fa();}}catch(err){_iterator465.e(err);}finally{_iterator465.f();}}},ll:function ll(){this.dl();},Ja:function Ja(){this.Va([]);},yn:function yn(t){1===t.buttons&&this.Va([]);},Qa:function Qa(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Va([]);},wo:function wo(t){var _this313=this;if(1!==t.buttons)return;var e,_i575;t.target.classList.contains("slider")?this.ih(t):t.target.classList.contains("stop-grippie")?this.sh(t):t.target.classList.contains("r2-grippie")&&this.Ch(t,"r2"),this.nh=!1,this.oh=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this313.nh=!0;}),window.addEventListener("pointerup",_i575=function i(){window.removeEventListener("pointerup",_i575),window.removeEventListener("pointermove",e);});},qa:function qa(t){t.target.classList.contains("stop-grippie")&&this.lh(t);},Pa:function Pa(t){t.timeStamp-this.oh<300&&t.target.classList.contains("slider")&&this.ah(t);},sh:function sh(t){var _this314=this;var e=t.target[uc],i=e.closest("linearGradient, radialGradient"),s=$o(i),n=s.filter(function(t){return _this314.Na.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys6=this.Qs.modKeys,a=_this$Qs$modKeys6.alt,h=_this$Qs$modKeys6.shift;this.hh=_toConsumableArray(n),!1===h?!1===n.includes(e)&&this.Va([e]):!0===h&&!1===n.includes(e)&&(n.push(e),this.Va(n)),e===o&&0===e.offset.baseVal&&!1===a?this.Mh(t):e===l&&1===e.offset.baseVal&&!1===a?this.Ch(t,"r1"):this.dh(t);},lh:function lh(t){if(this.nh)return;var e=t.target,i=this.hh,s=e[uc],n=e.closest(".subhud")[cc],o=this.Qs.modKeys.shift,l=[];var _iterator466=_createForOfIteratorHelper(this.Mn.selectedElements),_step466;try{for(_iterator466.s();!(_step466=_iterator466.n()).done;){var _t776=_step466.value;if("g"!==_t776.localName&&"a"!==_t776.localName||!_t776.contains(n))l.push(_t776);else{var _iterator467=_createForOfIteratorHelper(Fi(_toConsumableArray(_t776.children))),_step467;try{for(_iterator467.s();!(_step467=_iterator467.n()).done;){var _e576=_step467.value;l.unshift(_e576);}}catch(err){_iterator467.e(err);}finally{_iterator467.f();}}}}catch(err){_iterator466.e(err);}finally{_iterator466.f();}this.Mn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Mn.selectedElements=l;for(var _t775=n.parentElement;_t775!==this.Mn.currentWorkspace;_t775=_t775.parentElement){if("g"===_t775.localName||"a"===_t775.localName){this.Mn.currentContainer=_t775;break;}}!0===o&&!0===this.hh.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Va(i));},dh:function dh(t){var _this315=this;var e,_i578,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Mn.geometryPrecision,l=this.ph(),a=qt(this),h=a.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(a),_$e35=$e(c,p,u,!1),_$e36=_slicedToArray(_$e35,1),b=_$e36[0],m=Te(c,b)/Te(c,p),g=!1;this.Jo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e578){{var _i576=new DOMPoint(_e578.clientX,_e578.clientY),_s314=_e578.timeStamp-t.timeStamp;if(!0===ze(d,_i576,0))return;if(d=_i576,Te(r,_i576)<3&&_s314<80)return;}!1===g&&(_this315.Mn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e578.clientX-t.clientX,x.y+_e578.clientY-t.clientY).matrixTransform(h),_$e37=$e(c,p,i,!1),_$e38=_slicedToArray(_$e37,1),s=_$e38[0],n=Te(c,s)/Te(c,p)-m;var _iterator468=_createForOfIteratorHelper(_this315.Na),_step468;try{for(_iterator468.s();!(_step468=_iterator468.n()).done;){var _t777=_step468.value;var _l$get2=l.get(_t777),_e577=_l$get2.minOffset,_i577=_l$get2.maxOffset,_s315=_l$get2.initialOffset;_s315+n<_e577?_t777.setAttribute("offset",_e577):_s315+n>_i577?_t777.setAttribute("offset",_i577):_t777.setAttribute("offset",_s315+n);}}catch(err){_iterator468.e(err);}finally{_iterator468.f();}}),s.addEventListener("pointerup",_i578=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i578);var _iterator469=_createForOfIteratorHelper(_this315.Na),_step469;try{for(_iterator469.s();!(_step469=_iterator469.n()).done;){var _t778=_step469.value;_t778.setAttribute("offset",tt(_t778.offset.baseVal,o));}}catch(err){_iterator469.e(err);}finally{_iterator469.f();}_this315.Jo=null;});},Ch:function Ch(t){var _this316=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"r1";var i,_s319,n,o,l,a,h,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[dc],u=Ao(p),x=c[cc],b=Ei(x),m=qt(x),g=m.inverse(),f=u.gradientTransform,w=this.Mn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,_Wl16=Wl(m),k=_Wl16.scaleX,S=_Wl16.scaleY,_=!1,C=!1;d.matches(".grippie")?this.Jo=d:d.matches(".slider")&&(this.Wa=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i583){if(!1===_){{var _e579=new DOMPoint(_i583.clientX,_i583.clientY),_s316=_i583.timeStamp-t.timeStamp;if(!0===ze(y,_e579,0))return;if(y=_e579,Te(v,_e579)<3&&_s316<80)return;}if(_this316.Mn.undoManager.checkpoint("Transform gradient"),To(p)){var _t779=Ii("svg:radialGradient");_t779.setAttribute("id",_this316.Mn.generateUniqueID(p.id)),_t779.setAttribute("href","#"+p.id),_this316.Mn.maybeCreateDefsForMasterWorkspace(),_this316.Mn.defs.append(_t779),p=_t779,c[dc]=_t779,x.style[_this316.context]="url(#"+_t779.id+")";}_=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){n=new DOMPoint(u.cx.value,u.cy.value),o=new DOMPoint(u.cx.value+u.r.value,u.cy.value),l=new DOMPoint(u.cx.value,u.cy.value-u.r.value);var _t780=n.matrixTransform(f),_e580=o.matrixTransform(f),_i579=l.matrixTransform(f);a=_t780.matrixTransform(m),h=_e580.matrixTransform(m),r=_i579.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t781=u.cx.valueInSpecifiedUnits,_e581=u.cy.valueInSpecifiedUnits,_i580=u.r.valueInSpecifiedUnits;u.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t781/=100),u.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e581/=100),u.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i580/=100),n=new DOMPoint(_t781,_e581),o=new DOMPoint(_t781-_i580,_e581),l=new DOMPoint(_t781,_e581-_i580);var _s317=n.matrixTransform(f),_d56=o.matrixTransform(f),_c43=l.matrixTransform(f),_p37=de(_s317,b),_x105=de(_d56,b),_g25=de(_c43,b);a=_p37.matrixTransform(m),h=_x105.matrixTransform(m),r=_g25.matrixTransform(m);}}();}var s,d,_this316$Qs$modKeys=_this316.Qs.modKeys,M=_this316$Qs$modKeys.ctrl,P=_this316$Qs$modKeys.shift;"r1"===e?(s=new DOMPoint(_i583.clientX+(h.x-t.clientX),_i583.clientY+(h.y-t.clientY)),d=Ge(a,h,s)):"r2"===e&&(s=new DOMPoint(_i583.clientX+(r.x-t.clientX),_i583.clientY+(r.y-t.clientY)),d=Ge(a,r,s));var D=new DOMMatrix();D.translateSelf(a.x,a.y),D.rotateSelf(d),D.translateSelf(-a.x,-a.y);var z,O,E,T=a.matrixTransform(D),A=h.matrixTransform(D),$=r.matrixTransform(D),I=new J(T,A),L=new J(T,$),R=new J(T,s);if("r1"===e){if(I.length=R.length,A.x=T.x+I.x,A.y=T.y+I.y,M){var _t782=new J(T,r);L.length=R.length,_t782.length=R.length,$.x=T.x+L.x,$.y=T.y+L.y,r.x=T.x+_t782.x,r.y=T.y+_t782.y;}if(P){var _Re11=Re(T,A,22.5),_Re12=_slicedToArray(_Re11,2),_t783=_Re12[0],_e582=_Re12[1];A=_t783,C=!0;}if(C){var _t784=new DOMPoint(a.x,a.y-100),_e583=Ge(a,_t784,A);$=Be(T,$,k<0&&S<0?_e583+90:_e583-90);}}else if("r2"===e){if(L.length=R.length,$.x=T.x+L.x,$.y=T.y+L.y,M){var _t785=new J(T,h);I.length=R.length,_t785.length=R.length,A.x=T.x+I.x,A.y=T.y+I.y,h.x=T.x+_t785.x,h.y=T.y+_t785.y;}if(P){var _Re13=Re(T,$,22.5),_Re14=_slicedToArray(_Re13,2),_t786=_Re14[0],_e584=_Re14[1];$=_t786,C=!0;}if(C){var _t787=new DOMPoint(a.x,a.y-100),_e585=Ge(a,_t787,$);A=Be(T,A,k<0&&S<0?_e585-90:_e585+90);}}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t788=T.matrixTransform(g),_e586=A.matrixTransform(g),_i581=$.matrixTransform(g);z=_t788.matrixTransform(f.inverse()),O=_e586.matrixTransform(f.inverse()),E=_i581.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t789=T.matrixTransform(g),_e587=A.matrixTransform(g),_i582=$.matrixTransform(g),_s318=ce(_t789,b),_n249=ce(_e587,b),_o204=ce(_i582,b);z=_s318.matrixTransform(f.inverse()),O=_n249.matrixTransform(f.inverse()),E=_o204.matrixTransform(f.inverse());}var B=Xt(n,o,l,z,O,E),G=Nt(f.multiply(B),w);p.setAttribute("gradientTransform",G.toString());}),d.addEventListener("pointerup",_s319=function s(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",_s319),_this316.Jo=null,_this316.Wa=null;});},ih:function ih(t){var e=t.target,i=qt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value).matrixTransform(i);Te(n,s)<=5?this.Ch(t,"r1"):this.Mh(t);},Mh:function Mh(t){var _this317=this;var e,_i586,s,n=t.target,o=t.target.closest(".subhud"),l=o[cc],a=o[dc],h=Ao(a),r=Ei(l),d=qt(l),c=d.inverse(),p=this.Mn.geometryPrecision,u=new DOMPoint(t.clientX,t.clientY),x=u,b=!1;if(n.matches(".grippie")?this.Jo=n:n.matches(".slider")&&(this.Wa=n),n.setPointerCapture(t.pointerId),h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t790=new DOMPoint(h.cx.value,h.cy.value).matrixTransform(h.gradientTransform);s=_t790.matrixTransform(d);}else if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t791=h.cx.valueInSpecifiedUnits,_e588=h.cy.valueInSpecifiedUnits;h.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t791/=100),h.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e588/=100);var _i584=new DOMPoint(_t791,_e588).matrixTransform(h.gradientTransform),_n250=de(_i584,r);s=_n250.matrixTransform(d);}n.addEventListener("pointermove",e=function e(_e589){var i,n=new DOMPoint(_e589.clientX,_e589.clientY),d=new J(u,n);if(!1===b){{var _i585=_e589.timeStamp-t.timeStamp;if(!0===ze(x,n,0))return;if(x=n,Te(u,n)<3&&_i585<80)return;}if(b=!0,_this317.Mn.undoManager.checkpoint("Transform gradient"),_this317.Mn.snapManager.snapStart(!1),To(a)){var _t792=Ii("svg:radialGradient");_t792.setAttribute("id",_this317.Mn.generateUniqueID(a.id)),_t792.setAttribute("href","#"+a.id),_this317.Mn.maybeCreateDefsForMasterWorkspace(),_this317.Mn.defs.append(_t792),a=_t792,o[dc]=_t792,l.style[_this317.context]="url(#"+_t792.id+")";}}if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t793=new DOMPoint(s.x+d.x,s.y+d.y);_t793=_this317.Mn.snapManager.snapPoint(_t793),i=_t793.matrixTransform(c).matrixTransform(h.gradientTransform.inverse());}else if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t794=new DOMPoint(s.x+d.x,s.y+d.y).matrixTransform(c);i=ce(_t794,r).matrixTransform(h.gradientTransform.inverse());}a.setAttribute("cx",tt(i.x,p)),a.setAttribute("cy",tt(i.y,p));}),n.addEventListener("pointerup",_i586=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("pointerup",_i586),_this317.Jo=null,_this317.Wa=null,_this317.Mn.snapManager.snapEnd();});},ah:function ah(t){this.Mn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[dc],s=zo(i),n=qt(this).inverse(),o=$o(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),a=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=Te(l,h),d=Te(l,a),c=et(r/d,0,1,this.Mn.geometryPrecision),p=null;for(var _t795=0;_t795<o.length;_t795+=1){var _e590=o[_t795];if(_e590.offset.baseVal<c)p=_t795;else if(_e590.offset.baseVal>c)break;}var u=Ii("svg:stop");if(u.setAttribute("offset",c),u.style.stopColor=Lo(i,c),null===p){var _t796=o[0];_t796?_t796.before(u):s.append(u);}else o[p].after(u);this.Va([u]);},wn:function wn(t){var e=ao.fromEvent(t);0!==this.Na.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.xh()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.bh()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.mh()):e.matches("ArrowLeft")?(t.stopPropagation(),this.gh("left")&&this.fh(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.gh("right")&&this.fh(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.gh("left")&&this.fh(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.gh("right")&&this.fh(10,"right")));},Ya:function Ya(){var t=this.Ph();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e591=this.querySelector(".subhud:focus"),_i587=[];this["#subhuds"].innerHTML="";var _iterator470=_createForOfIteratorHelper(t),_step470;try{for(_iterator470.s();!(_step470=_iterator470.n()).done;){var _e592=_step470.value;var _t798=el(_e592,this.context);if(_i587.includes(_t798))continue;_i587.push(_t798);var s=$o(_t798),_n251=this["#subhud-template"].cloneNode(!0);_n251.removeAttribute("uid"),_n251[dc]=_t798,_n251[cc]=_e592,_n251[pc]=s;var _o205=_n251.querySelector(".stop-grippies"),_l186=document.createDocumentFragment();var _iterator471=_createForOfIteratorHelper(s),_step471;try{for(_iterator471.s();!(_step471=_iterator471.n()).done;){var _t799=_step471.value;var _e593=Ii("svg:circle");_e593.setAttribute("class","stop-grippie grippie"),_e593[uc]=_t799,_t799.offset.baseVal>.95?_l186.prepend(_e593):_o205.append(_e593);}}catch(err){_iterator471.e(err);}finally{_iterator471.f();}_o205.append(_l186),this["#subhuds"].append(_n251);}}catch(err){_iterator470.e(err);}finally{_iterator470.f();}if(_e591){var _t797=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[dc]===_e591[dc];});_t797&&_t797.focus();}this.th(),this.dl(),this.eh(),this.yh(),this.kh();}},th:function th(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator472=_createForOfIteratorHelper(this["#subhuds"].children),_step472;try{for(_iterator472.s();!(_step472=_iterator472.n()).done;){var _e594=_step472.value;if(t&&_e594!==t)continue;var _i588=_e594[dc],s=_e594[cc],_n252=_e594[pc],_o206=Ao(_i588),_l187=Yt(s,this),_a142=_e594.querySelector(".slider"),_h120=_e594.querySelector(".slider-shadow"),_r74=_toConsumableArray(_e594.querySelector(".stop-grippies").children),_d57=_e594.querySelector(".r2-grippie"),_c44=_e594.querySelector(".r2-outline");if(_o206.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t800=new DOMPoint(_i588.cx.baseVal.value,_i588.cy.baseVal.value),_e595=new DOMPoint(_i588.cx.baseVal.value+_i588.r.baseVal.value,_i588.cy.baseVal.value),_s320=new DOMPoint(_i588.cx.baseVal.value,_i588.cy.baseVal.value-_i588.r.baseVal.value),_p38=_t800.matrixTransform(_o206.gradientTransform),_u32=_e595.matrixTransform(_o206.gradientTransform),_x106=_s320.matrixTransform(_o206.gradientTransform),_b30=_p38.matrixTransform(_l187),_m29=_u32.matrixTransform(_l187),_g26=_x106.matrixTransform(_l187);_a142.setAttribute("x1",_b30.x),_a142.setAttribute("y1",_b30.y),_a142.setAttribute("x2",_m29.x),_a142.setAttribute("y2",_m29.y),_h120.setAttribute("x1",_b30.x),_h120.setAttribute("y1",_b30.y),_h120.setAttribute("x2",_m29.x),_h120.setAttribute("y2",_m29.y),_c44.setAttribute("x1",_b30.x),_c44.setAttribute("y1",_b30.y),_c44.setAttribute("x2",_g26.x),_c44.setAttribute("y2",_g26.y),_d57.setAttribute("cx",_g26.x),_d57.setAttribute("cy",_g26.y);var _iterator473=_createForOfIteratorHelper(_n252),_step473;try{var _loop15=function _loop15(){var t=_step473.value;var e=_r74.find(function(e){return e[uc]===t;}),i=Ie(_b30,_m29,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator473.s();!(_step473=_iterator473.n()).done;){_loop15();}}catch(err){_iterator473.e(err);}finally{_iterator473.f();}}else if(_o206.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t801=Ei(s),_e596=_o206.cx.valueInSpecifiedUnits,_i589=_o206.cy.valueInSpecifiedUnits,_p39=_o206.r.valueInSpecifiedUnits;_o206.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e596/=100),_o206.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i589/=100),_o206.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p39/=100);var _u33=new DOMPoint(_e596,_i589),_x107=new DOMPoint(_e596-_p39,_i589),_b31=new DOMPoint(_e596,_i589-_p39),_m30=_u33.matrixTransform(_o206.gradientTransform),_g27=_x107.matrixTransform(_o206.gradientTransform),_f18=_b31.matrixTransform(_o206.gradientTransform),_w16=de(_m30,_t801),_v12=de(_g27,_t801),_y4=de(_f18,_t801),_k3=_w16.matrixTransform(_l187),_S3=_v12.matrixTransform(_l187),_4=_y4.matrixTransform(_l187);_a142.setAttribute("x1",_k3.x),_a142.setAttribute("y1",_k3.y),_a142.setAttribute("x2",_S3.x),_a142.setAttribute("y2",_S3.y),_h120.setAttribute("x1",_k3.x),_h120.setAttribute("y1",_k3.y),_h120.setAttribute("x2",_S3.x),_h120.setAttribute("y2",_S3.y),_c44.setAttribute("x1",_k3.x),_c44.setAttribute("y1",_k3.y),_c44.setAttribute("x2",_4.x),_c44.setAttribute("y2",_4.y),_d57.setAttribute("cx",_4.x),_d57.setAttribute("cy",_4.y);var _iterator474=_createForOfIteratorHelper(_n252),_step474;try{var _loop16=function _loop16(){var t=_step474.value;var e=_r74.find(function(e){return e[uc]===t;});if(e){var _i590=Ie(_k3,_S3,t.offset.baseVal);e.cx.baseVal.value=_i590.x,e.cy.baseVal.value=_i590.y;}};for(_iterator474.s();!(_step474=_iterator474.n()).done;){_loop16();}}catch(err){_iterator474.e(err);}finally{_iterator474.f();}}}}catch(err){_iterator472.e(err);}finally{_iterator472.f();}},eh:function eh(){var _iterator475=_createForOfIteratorHelper(this["#subhuds"].children),_step475;try{for(_iterator475.s();!(_step475=_iterator475.n()).done;){var _t802=_step475.value;var _iterator476=_createForOfIteratorHelper(_t802.querySelectorAll(".stop-grippie")),_step476;try{for(_iterator476.s();!(_step476=_iterator476.n()).done;){var _e597=_step476.value;var _t803=_e597[uc];_e597.style.fill=getComputedStyle(_t803).stopColor;}}catch(err){_iterator476.e(err);}finally{_iterator476.f();}}}catch(err){_iterator475.e(err);}finally{_iterator475.f();}},dl:function dl(){var _iterator477=_createForOfIteratorHelper(this.querySelectorAll(".grippie")),_step477;try{for(_iterator477.s();!(_step477=_iterator477.n()).done;){var _t804=_step477.value;_t804.setAttribute("r",6/this.Mn.scale);}}catch(err){_iterator477.e(err);}finally{_iterator477.f();}},yh:function yh(){var _iterator478=_createForOfIteratorHelper(this["#subhuds"].children),_step478;try{for(_iterator478.s();!(_step478=_iterator478.n()).done;){var _t805=_step478.value;var _iterator479=_createForOfIteratorHelper(_t805.querySelectorAll(".stop-grippie")),_step479;try{for(_iterator479.s();!(_step479=_iterator479.n()).done;){var _e598=_step479.value;this.Na.includes(_e598[uc])?_e598.setAttribute("data-selected",""):_e598.removeAttribute("data-selected");}}catch(err){_iterator479.e(err);}finally{_iterator479.f();}}}catch(err){_iterator478.e(err);}finally{_iterator478.f();}},kh:function kh(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator480=_createForOfIteratorHelper(this.Na),_step480;try{for(_iterator480.s();!(_step480=_iterator480.n()).done;){var _e599=_step480.value;var _iterator481=_createForOfIteratorHelper(t),_step481;try{for(_iterator481.s();!(_step481=_iterator481.n()).done;){var _i591=_step481.value;_i591[uc]===_e599&&_i591.parentElement.append(_i591);}}catch(err){_iterator481.e(err);}finally{_iterator481.f();}}}catch(err){_iterator480.e(err);}finally{_iterator480.f();}},Va:function Va(t){0===t.length&&0===this.Na.length||(this.Na=_toConsumableArray(t),this.yh(),this.kh(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},ja:function ja(){var t=this.querySelector(".subhud:focus")[dc],e=$o(t);this.Va(e);},Ha:function Ha(){var t=this.querySelector(".subhud:focus")[dc],e=$o(t);this.Va(this.Na.filter(function(t){return!1===e.includes(t);}));},bh:function bh(){var _this318=this;var t=this.querySelector(".subhud:focus")[dc];if(t){var _e600=$o(t),_i592=_e600.filter(function(t){return _this318.Na.includes(t);}),s=_i592[_i592.length-1],_n253=_e600[0];if(s&&_e600.length>1){for(var _t806=s.nextElementSibling;_t806;_t806=_t806.nextElementSibling){if("stop"===_t806.localName){_n253=_t806;break;}}this.Va([_n253]);}}},mh:function mh(){var _this319=this;var t=this.querySelector(".subhud:focus")[dc];if(t){var _e601=$o(t),_i593=_e601.filter(function(t){return _this319.Na.includes(t);}),s=_i593[_i593.length-1],_n254=_e601[_e601.length-1];if(s&&_e601.length>1){for(var _t807=s.previousElementSibling;_t807;_t807=_t807.previousElementSibling){if("stop"===_t807.localName){_n254=_t807;break;}}this.Va([_n254]);}}},xh:function xh(){var _this320=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[dc],i=$o(e).filter(function(t){return _this320.Na.includes(t);});if(this.Va([]),i.length>0){this.Mn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator482=_createForOfIteratorHelper(i),_step482;try{for(_iterator482.s();!(_step482=_iterator482.n()).done;){var _t808=_step482.value;_t808.remove();}}catch(err){_iterator482.e(err);}finally{_iterator482.f();}}},fh:function fh(){var _this321=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Mn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[dc],l=$o(o).filter(function(t){return _this321.Na.includes(t);}),a=this.ph(),h=qt(this),r=this.Mn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(h),u=c.matrixTransform(h),x=t/new J(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator483=_createForOfIteratorHelper(l),_step483;try{for(_iterator483.s();!(_step483=_iterator483.n()).done;){var _t809=_step483.value;var _a$get2=a.get(_t809),_i594=_a$get2.minOffset,_s321=_a$get2.maxOffset;if("left"===e){var _e602=et(_t809.offset.baseVal-x,_i594,_s321,r);_t809.setAttribute("offset",_e602);}else if("right"===e){var _e603=et(_t809.offset.baseVal+x,_i594,_s321,r);_t809.setAttribute("offset",_e603);}}}catch(err){_iterator483.e(err);}finally{_iterator483.f();}},gh:function gh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[dc],s=$o(i),n=this.Na.find(function(t){return s.includes(t);});if(null===n)return;var o=this.ph(),_o$get2=o.get(n),l=_o$get2.minOffset,a=_o$get2.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<a:void 0;},Sh:function Sh(t){for(var _e604=t;_e604;_e604=_e604.previousElementSibling){if("stop"===_e604.localName&&!1===this.Na.includes(_e604))return _e604;}return null;},_h:function _h(t){for(var _e605=t;_e605;_e605=_e605.nextElementSibling){if("stop"===_e605.localName&&!1===this.Na.includes(_e605))return _e605;}return null;},ph:function ph(){var t=new Map(),e=[];var _iterator484=_createForOfIteratorHelper(this.Na),_step484;try{for(_iterator484.s();!(_step484=_iterator484.n()).done;){var _t811=_step484.value;var _i596=this.Sh(_t811),_s322=this._h(_t811),_n255={};_n255.min=_i596?_t811.offset.baseVal-_i596.offset.baseVal:_t811.offset.baseVal,_n255.max=_s322?_s322.offset.baseVal-_t811.offset.baseVal:1-_t811.offset.baseVal,e.push(_n255);}}catch(err){_iterator484.e(err);}finally{_iterator484.f();}if(e.length>0){var _i595=e[0].min,s=e[0].max;var _iterator485=_createForOfIteratorHelper(e),_step485;try{for(_iterator485.s();!(_step485=_iterator485.n()).done;){var _t810=_step485.value;_t810.min<_i595&&(_i595=_t810.min),_t810.max<s&&(s=_t810.max);}}catch(err){_iterator485.e(err);}finally{_iterator485.f();}var _iterator486=_createForOfIteratorHelper(this.Na),_step486;try{for(_iterator486.s();!(_step486=_iterator486.n()).done;){var _e606=_step486.value;t.set(_e606,{initialOffset:_e606.offset.baseVal,minOffset:_e606.offset.baseVal-_i595,maxOffset:_e606.offset.baseVal+s});}}catch(err){_iterator486.e(err);}finally{_iterator486.f();}}return t;},Ph:function Ph(){var _this322=this;var t=function t(e){var i=[],s=_this322.Mn.selectedTextRange;var _iterator487=_createForOfIteratorHelper(e),_step487;try{for(_iterator487.s();!(_step487=_iterator487.n()).done;){var _n256=_step487.value;var _e607=_n256.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e607))i.push(_n256);else if(["a","g"].includes(_e607))i.push.apply(i,_toConsumableArray(t(_n256.children)));else if("text"===_e607){var _t812=vi(_n256);if(s&&s.intersectsNode(_n256)){"backward"===s.direction&&_t812.reverse();var _iterator488=_createForOfIteratorHelper(_t812),_step488;try{for(_iterator488.s();!(_step488=_iterator488.n()).done;){var _e608=_step488.value;if(s.intersectsNode(_e608)){var _t813=_e608.closest("text, textPath, tspan, a");_t813&&!i.includes(_t813)&&i.push(_t813);}}}catch(err){_iterator488.e(err);}finally{_iterator488.f();}}else{var _iterator489=_createForOfIteratorHelper(_t812),_step489;try{for(_iterator489.s();!(_step489=_iterator489.n()).done;){var _e609=_step489.value;var _t814=_e609.closest("text, textPath, tspan, a");_t814&&!i.includes(_t814)&&i.push(_t814);}}catch(err){_iterator489.e(err);}finally{_iterator489.f();}}}}}catch(err){_iterator487.e(err);}finally{_iterator487.f();}return i;};return t(this.Mn.outermostSelectedElements).filter(function(t){return"radialGradient"===tl(t,_this322.context);});}};var bc=6,mc=Symbol(),gc=Symbol();var fc={id:"pattern-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&this.Dh();},createdCallback:function createdCallback(){var _this323=this;this.Jo=null,this.zh=null,this.Oh=es(this.qs,50,this),this.Dh=es(this.qs,200,this),this.innerHTML='\n  <style>\n    #pattern-hud .outline {\n      fill: rgba(0, 0, 0, 0.07);\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #pattern-hud .grippie {\n      fill: #E40DD6;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator490=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step490;try{for(_iterator490.s();!(_step490=_iterator490.n()).done;){var _t815=_step490.value;this["#"+_t815.getAttribute("uid")]=_t815;}}catch(err){_iterator490.e(err);}finally{_iterator490.f();}this.addEventListener("pointerdown",function(t){return _this323.wo(t);});},enabledCallback:function enabledCallback(){var _this324=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this324.sl();}),this.Mn.addEventListener("selectedtextrangechange",this.Xa=function(){_this324.Za();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this324.al(t.detail);}),this.Mn.addEventListener("zoomchange",this.an=function(){_this324.ll();}),this.sl();},disabledCallback:function disabledCallback(){this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("selectedtextrangechange",this.Xa),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("zoomchange",this.an);},sl:function sl(){this.Dh();},Za:function Za(){this.Dh();},ll:function ll(){this.Oh();},al:function al(t){this.Jo?this.th(this.Jo.parentElement):this.zh?this.th(this.zh.parentElement):this.Dh();},wo:function wo(t){if(0!==t.button)return;var _e610;t.target.classList.contains("outline")?this.Eh(t):t.target.classList.contains("scale-grippie")?this.Th(t):t.target.classList.contains("rotate-grippie")&&this.Ah(t),window.addEventListener("pointerup",_e610=function e(){window.removeEventListener("pointerup",_e610);});},Eh:function Eh(t){var _this325=this;this.Mn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[gc],n=i[mc];if(Ko(n).length>1&&"tspan"!==s.localName){var _t816=Ii("svg:pattern");_t816.setAttribute("id",this.Mn.generateUniqueID(n.id)),_t816.setAttribute("href","#"+n.id),this.Mn.maybeCreateDefsForMasterWorkspace(),this.Mn.defs.append(_t816),s.style.setProperty(this.context,"url(#".concat(_t816.id,")")),n=_t816,i[mc]=_t816;}var o,_l189,a,h,r,d=qt(s),c=d.inverse(),p=Ei(s),u=Zo(n);if(this.zh=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value,u.y.value),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t817=u.x.valueInSpecifiedUnits,_e611=u.y.valueInSpecifiedUnits,_i597=u.width.valueInSpecifiedUnits,_s323=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t817/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e611/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i597/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s323/=100);var _n257=new DOMPoint(_t817,_e611),_o207=new DOMPoint(_t817+_i597,_e611),_l188=new DOMPoint(_t817+_i597,_e611+_s323);a=new DOMPoint(p.x+_n257.x*p.width,p.y+_n257.y*p.height),h=new DOMPoint(p.x+_o207.x*p.width,p.y+_o207.y*p.height),r=new DOMPoint(p.x+_l188.x*p.width,p.y+_l188.y*p.height);}var x=a.matrixTransform(u.patternTransform),b=h.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new J(e.clientX-t.clientX,e.clientY-t.clientY),s=new DOMPoint(g.x+i.x,g.y+i.y),o=new DOMPoint(f.x+i.x,f.y+i.y),l=new DOMPoint(w.x+i.x,w.y+i.y),d=s.matrixTransform(c),p=o.matrixTransform(c),x=l.matrixTransform(c),b=d.matrixTransform(u.patternTransform.inverse()),m=p.matrixTransform(u.patternTransform.inverse()),v=x.matrixTransform(u.patternTransform.inverse()),y=Xt(a,h,r,b,m,v),k=u.patternTransform.multiply(y);k=Nt(k,_this325.Mn.transformPrecision),n.setAttribute("patternTransform",k.toString());}),window.addEventListener("pointerup",_l189=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l189),_this325.zh=null;});},Ah:function Ah(t){var _this326=this;this.Mn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[mc],n=i[gc];if(Ko(s).length>1&&"tspan"!==n.localName){var _t818=Ii("svg:pattern");_t818.setAttribute("id",this.Mn.generateUniqueID(s.id)),_t818.setAttribute("href","#"+s.id),this.Mn.maybeCreateDefsForMasterWorkspace(),this.Mn.defs.append(_t818),n.style.setProperty(this.context,"url(#".concat(_t818.id,")")),s=_t818,i[mc]=_t818;}var o,_l191,a,h,r,d=qt(n),c=d.inverse(),p=Ei(n),u=Zo(s);if(this.Jo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value+u.width.value/2,u.y.value+u.height.value/2),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t819=u.x.valueInSpecifiedUnits,_e612=u.y.valueInSpecifiedUnits,_i598=u.width.valueInSpecifiedUnits,_s324=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t819/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e612/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i598/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s324/=100);var _n258=new DOMPoint(_t819+_i598/2,_e612+_s324/2),_o208=new DOMPoint(_t819+_i598,_e612),_l190=new DOMPoint(_t819+_i598,_e612+_s324);a=new DOMPoint(p.x+_n258.x*p.width,p.y+_n258.y*p.height),h=new DOMPoint(p.x+_o208.x*p.width,p.y+_o208.y*p.height),r=new DOMPoint(p.x+_l190.x*p.width,p.y+_l190.y*p.height);}var x=a.matrixTransform(u.patternTransform),b=h.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(e.clientX+(f.x-t.clientX),e.clientY+(f.y-t.clientY)),n=Ge(g,f,i);_this326.Qs.modKeys.shift&&(n=Fe(n,45));var o=new DOMMatrix();o.translateSelf(g.x,g.y),o.rotateSelf(n),o.translateSelf(-g.x,-g.y);var l=f.matrixTransform(o),d=w.matrixTransform(o),p=l.matrixTransform(c),x=d.matrixTransform(c),b=p.matrixTransform(u.patternTransform.inverse()),m=x.matrixTransform(u.patternTransform.inverse()),v=Xt(a,h,r,a,b,m),y=u.patternTransform.multiply(v);y=Nt(y,_this326.Mn.transformPrecision),s.setAttribute("patternTransform",y.toString());}),window.addEventListener("pointerup",_l191=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l191),_this326.Jo=null;});},Th:function Th(t){var _this327=this;this.Mn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[mc],n=i[gc];if(Ko(s).length>1&&"tspan"!==n.localName){var _t820=Ii("svg:pattern");_t820.setAttribute("id",this.Mn.generateUniqueID(s.id)),_t820.setAttribute("href","#"+s.id),this.Mn.maybeCreateDefsForMasterWorkspace(),this.Mn.defs.append(_t820),n.style.setProperty(this.context,"url(#".concat(_t820.id,")")),s=_t820,i[mc]=_t820;}var o,_l193,a,h,r,d=qt(n),c=d.inverse(),p=Ei(n),u=Zo(s);if(this.Jo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value,u.y.value),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t821=u.x.valueInSpecifiedUnits,_e613=u.y.valueInSpecifiedUnits,_i599=u.width.valueInSpecifiedUnits,_s325=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t821/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e613/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i599/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s325/=100);var _n259=new DOMPoint(_t821,_e613),_o209=new DOMPoint(_t821+_i599,_e613),_l192=new DOMPoint(_t821+_i599,_e613+_s325);a=new DOMPoint(p.x+_n259.x*p.width,p.y+_n259.y*p.height),h=new DOMPoint(p.x+_o209.x*p.width,p.y+_o209.y*p.height),r=new DOMPoint(p.x+_l192.x*p.width,p.y+_l192.y*p.height);}var x=r.matrixTransform(u.patternTransform).matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(x.x+e.clientX-t.clientX,x.y+e.clientY-t.clientY).matrixTransform(c).matrixTransform(u.patternTransform.inverse()),n=new DOMPoint(i.x,h.y),o=Xt(a,h,r,a,n,i),l=u.patternTransform.multiply(o);l=Nt(l,_this327.Mn.transformPrecision),s.setAttribute("patternTransform",l.toString());}),window.addEventListener("pointerup",_l193=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l193),_this327.Jo=null;});},qs:function qs(){var t=this.$h();if(this["#subhuds"].innerHTML="",t.length>0){var _e614=Symbol();var _iterator491=_createForOfIteratorHelper(t),_step491;try{for(_iterator491.s();!(_step491=_iterator491.n()).done;){var _i600=_step491.value;var _t822=el(_i600,this.context);if(!_t822[_e614]){_t822[_e614]=!0;var s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[mc]=_t822,s[gc]=_i600,this["#subhuds"].append(s);}}}catch(err){_iterator491.e(err);}finally{_iterator491.f();}this.th();}},th:function th(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator492=_createForOfIteratorHelper(this["#subhuds"].children),_step492;try{for(_iterator492.s();!(_step492=_iterator492.n()).done;){var _e615=_step492.value;if(t&&_e615!==t)continue;var _i601=void 0,s=void 0,_n260=void 0,_o210=void 0,_l194=_e615[gc],_a143=_e615[mc],_h121=_e615.querySelector(".rotate-grippie"),_r75=_e615.querySelector(".scale-grippie"),_d58=_e615.querySelector(".outline"),_c45=Yt(_l194,this),_p40=Ei(_l194),_u34=Zo(_a143);if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)_i601=new DOMPoint(_u34.x.value,_u34.y.value),s=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value),_n260=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value+_u34.height.value),_o210=new DOMPoint(_u34.x.value,_u34.y.value+_u34.height.value);else if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t823=_u34.x.valueInSpecifiedUnits,_e616=_u34.y.valueInSpecifiedUnits,_l195=_u34.width.valueInSpecifiedUnits,_a144=_u34.height.valueInSpecifiedUnits;_u34.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t823/=100),_u34.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e616/=100),_u34.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l195/=100),_u34.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a144/=100);var _h122=new DOMPoint(_t823,_e616),_r76=new DOMPoint(_t823+_l195,_e616),_d59=new DOMPoint(_t823+_l195,_e616+_a144),_c46=new DOMPoint(_t823,_e616+_a144);_i601=new DOMPoint(_p40.x+_h122.x*_p40.width,_p40.y+_h122.y*_p40.height),s=new DOMPoint(_p40.x+_r76.x*_p40.width,_p40.y+_r76.y*_p40.height),_n260=new DOMPoint(_p40.x+_d59.x*_p40.width,_p40.y+_d59.y*_p40.height),_o210=new DOMPoint(_p40.x+_c46.x*_p40.width,_p40.y+_c46.y*_p40.height);}var _x108=_i601.matrixTransform(_u34.patternTransform),_b32=s.matrixTransform(_u34.patternTransform),_m31=_n260.matrixTransform(_u34.patternTransform),_g28=_o210.matrixTransform(_u34.patternTransform),_f19=_x108.matrixTransform(_c45),_w17=_b32.matrixTransform(_c45),_v13=_m31.matrixTransform(_c45),_y5=_g28.matrixTransform(_c45);_d58.setAttribute("d","\n        M ".concat(_f19.x," ").concat(_f19.y,"\n        L ").concat(_w17.x," ").concat(_w17.y,"\n        L ").concat(_v13.x," ").concat(_v13.y,"\n        L ").concat(_y5.x," ").concat(_y5.y,"\n        Z\n      "));var _k4=bc/this.Mn.scale;_h121.cx.baseVal.value=_w17.x,_h121.cy.baseVal.value=_w17.y,_h121.r.baseVal.value=_k4,_r75.width.baseVal.value=2*_k4,_r75.height.baseVal.value=2*_k4,_r75.x.baseVal.value=_v13.x-_r75.width.baseVal.value/2,_r75.y.baseVal.value=_v13.y-_r75.height.baseVal.value/2,_r75.hudPoint=_v13;}}catch(err){_iterator492.e(err);}finally{_iterator492.f();}},$h:function $h(){var _this328=this;var t=function t(e){var i=[],s=_this328.Mn.selectedTextRange;var _iterator493=_createForOfIteratorHelper(e),_step493;try{for(_iterator493.s();!(_step493=_iterator493.n()).done;){var _n261=_step493.value;var _e617=_n261.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e617))i.push(_n261);else if(["a","g"].includes(_e617))i.push.apply(i,_toConsumableArray(t(_n261.children)));else if("text"===_e617){var _t824=vi(_n261);if(s&&s.intersectsNode(_n261)){"backward"===s.direction&&_t824.reverse();var _iterator494=_createForOfIteratorHelper(_t824),_step494;try{for(_iterator494.s();!(_step494=_iterator494.n()).done;){var _e618=_step494.value;if(s.intersectsNode(_e618)){var _t825=_e618.closest("text, textPath, tspan, a");_t825&&!i.includes(_t825)&&i.push(_t825);}}}catch(err){_iterator494.e(err);}finally{_iterator494.f();}}else{var _iterator495=_createForOfIteratorHelper(_t824),_step495;try{for(_iterator495.s();!(_step495=_iterator495.n()).done;){var _e619=_step495.value;var _t826=_e619.closest("text, textPath, tspan, a");_t826&&!i.includes(_t826)&&i.push(_t826);}}catch(err){_iterator495.e(err);}finally{_iterator495.f();}}}}}catch(err){_iterator493.e(err);}finally{_iterator493.f();}return i;};return t(this.Mn.outermostSelectedElements).filter(function(t){return"pattern"===tl(t,_this328.context);});}};var wc={id:"cubic-bezier-seg-hud",get startPoint(){return this.Ih;},get endPoint(){return this.Lh;},get controlPoint1(){return this.Rh;},get controlPoint2(){return this.Bh;},get curved(){return!1===ze(this.startPoint,this.controlPoint1)||!1===ze(this.endPoint,this.controlPoint2);},createdCallback:function createdCallback(){this.Gh=null,this.Uh="end",this.Fh="none",this.Nh=!1,this.Vh=null,this.jh=null,this.innerHTML='\n  <style>\n    #cubic-bezier-seg-hud [uid="control-line-1"],\n    #cubic-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #cubic-bezier-seg-hud [uid="control-point-1-grippie"],\n    #cubic-bezier-seg-hud [uid="control-point-2-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #cubic-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-1-grippie"></circle>\n  <circle uid="control-point-2-grippie"></circle>\n';var _iterator496=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step496;try{for(_iterator496.s();!(_step496=_iterator496.n()).done;){var _t827=_step496.value;this["#"+_t827.getAttribute("uid")]=_t827;}}catch(err){_iterator496.e(err);}finally{_iterator496.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Uh=e,this.Gh=t,this.Hh=i,this.Fh="none",this.removeAttribute("drawing"),!1===this.Nh&&this.Wh(),this.Yh(),this.qh(),this.Xh(),this.Zh();},hide:function hide(){this.Gh=null,this.Vh=null,this.jh=null,this.removeAttribute("drawing"),!0===this.Nh&&this.Kh();},Wh:function Wh(){var _this329=this;this.Nh=!0,this.Qh=!1,this.Qs.addEventListener("modkeyschange",this.Jh=function(){!1===_this329.Qh&&(_this329.qh(),_this329.Xh(),_this329.Zh());}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this329.al(t);}),this.Mn.addEventListener("pointerdown",this.zn=function(t){_this329.Vh=t.clientX,_this329.jh=t.clientY,_this329.Xh(),_this329.Zh();var e=qt(_this329.Gh).inverse();if(_this329.Hh){var _t828=_this329.Hh.closest("text"),_i602=Wt(_this329.Gh);e=qt(_t828).inverse().multiply(_i602);}_this329.Qh=!0,_this329.tr=new DOMPoint(t.clientX,t.clientY),_this329.tr=_this329.tr.matrixTransform(e),_this329.er=DOMPoint.fromPoint(_this329.Rh),_this329.ir=DOMPoint.fromPoint(_this329.Bh);}),this.Mn.addEventListener("contextmenu",this.Pn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this329.Vh=t.clientX,_this329.jh=t.clientY,_this329.setAttribute("drawing",""),_this329.Xh(),_this329.Zh();}),window.addEventListener("pointerup",this.Fn=function(t){_this329.qh(),_this329.Qh=!1,_this329.removeAttribute("drawing");});},Kh:function Kh(){this.Nh=!1,this.Qs.removeEventListener("modkeyschange",this.Jh),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("pointerdown",this.zn),this.Mn.removeEventListener("contextmenu",this.Pn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Fn);},al:function al(t){var _iterator497=_createForOfIteratorHelper(t.detail),_step497;try{for(_iterator497.s();!(_step497=_iterator497.n()).done;){var _e620=_step497.value;(_e620.target===this.Gh||_e620.target.contains(this.Gh))&&this.Gh.hasAttribute("d")&&(this.Yh(),this.qh(),this.Xh(),this.Zh());}}catch(err){_iterator497.e(err);}finally{_iterator497.f();}},Yh:function Yh(){if("end"===this.Uh){var _t829=this.Gh.getPathData({normalize:!0}),_e621=_t829[_t829.length-1];this.sr=_e621;for(var _e622=_t829.length-1;_e622>=0;_e622-=1){var _i603=_t829[_e622];if("Z"!==_i603.type){this.nr=_i603;break;}}"C"===_e621.type?this.lr=new DOMPoint(_e621.values[2],_e621.values[3]):"M"===_e621.type||"L"===_e621.type?this.lr=new DOMPoint(_e621.values[0],_e621.values[1]):this.lr=null,"C"===_e621.type?this.ar=_e621.values[2]!==_e621.values[4]||_e621.values[3]!==_e621.values[5]:this.ar=!1;}else if("start"===this.Uh){var _t830=this.Gh.getPathData({normalize:!0}),_e623=_t830[0],_i604=_t830[1];this.hr=_e623,"C"===_i604.type?this.rr=new DOMPoint(_i604.values[0],_i604.values[1]):"M"===_i604.type||"L"===_i604.type?this.rr=new DOMPoint(_e623.values[0],_e623.values[1]):this.rr=null,"C"===_i604.type?this.dr=_i604.values[0]!==_e623.values[0]&&_i604.values[1]!==_e623.values[1]:this.dr=!1;}},Xh:function Xh(){if(!1===this.Qh){var _t831=qt(this.Gh).inverse();if(this.Hh){var _e624=this.Hh.closest("text"),_i605=Wt(this.Gh);_t831=qt(_e624).inverse().multiply(_i605);}if("end"===this.Uh?("L"===this.nr.type||"M"===this.nr.type?this.Ih=new DOMPoint(this.nr.values[0],this.nr.values[1]):"C"===this.nr.type&&(this.Ih=new DOMPoint(this.nr.values[4],this.nr.values[5])),null===this.Vh?this.Lh=DOMPoint.fromPoint(this.Ih):this.Lh=new DOMPoint(this.Vh,this.jh).matrixTransform(_t831)):"start"===this.Uh&&(null===this.Vh?this.Ih=new DOMPoint(this.hr.values[0],this.hr.values[1]):this.Ih=new DOMPoint(this.Vh,this.jh).matrixTransform(_t831),this.Lh=new DOMPoint(this.hr.values[0],this.hr.values[1])),"none"===this.Fh){var _t832;new J(this.Ih,this.Lh);"end"===this.Uh?_t832=new J(this.Ih,this.lr):"start"===this.Uh&&(_t832=new J(this.Lh,this.rr)),_t832=_t832.negate(),"end"===this.Uh?(this.Rh=new DOMPoint(this.Ih.x+_t832.x,this.Ih.y+_t832.y),this.Bh=DOMPoint.fromPoint(this.Lh)):"start"===this.Uh&&(this.Bh=new DOMPoint(this.Lh.x+_t832.x,this.Lh.y+_t832.y),this.Rh=DOMPoint.fromPoint(this.Ih));}else if("polygon"===this.Fh)this.Rh=DOMPoint.fromPoint(this.Ih),this.Bh=DOMPoint.fromPoint(this.Lh);else if("paraxialPolygon"===this.Fh){if("end"===this.Uh){var _Re15=Re(this.Ih,this.Lh,45),_Re16=_slicedToArray(_Re15,1),_t833=_Re16[0];this.Lh=_t833;}else if("start"===this.Uh){var _Re17=Re(this.Lh,this.Ih,45),_Re18=_slicedToArray(_Re17,1),_t834=_Re18[0];this.Ih=_t834;}this.Rh=DOMPoint.fromPoint(this.Ih),this.Bh=DOMPoint.fromPoint(this.Lh);}}else if(!0===this.Qh){var _t835=qt(this.Gh).inverse();if(this.Hh){var _e626=this.Hh.closest("text"),_i607=Wt(this.Gh);_t835=qt(_e626).inverse().multiply(_i607);}var _e625=new DOMPoint(this.Vh,this.jh);_e625=_e625.matrixTransform(_t835);var _i606=new J(this.tr,_e625).negate();"end"===this.Uh?this.Bh=new DOMPoint(this.ir.x+_i606.x,this.ir.y+_i606.y):"start"===this.Uh&&(this.Rh=new DOMPoint(this.er.x+_i606.x,this.er.y+_i606.y));}},qh:function qh(){var _this$Qs$modKeys7=this.Qs.modKeys,t=_this$Qs$modKeys7.ctrl,e=_this$Qs$modKeys7.alt,i=_this$Qs$modKeys7.shift;this.Fh=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.Uh?this.ar||"none"!==this.Fh||(this.Fh="polygon"):"start"===this.Uh&&(this.dr||"none"!==this.Fh||(this.Fh="polygon"));},Zh:function Zh(){var t=Yt(this.Gh,this);if(this.Hh){var _e627=this.Hh.closest("text"),_i608=Yt(_e627,this),_s326=Wt(this.Gh);t=_i608.multiply(_s326);}var e=this.Ih.matrixTransform(t),i=this.Lh.matrixTransform(t),s=this.Rh.matrixTransform(t),n=this.Bh.matrixTransform(t),o=3/this.Mn.scale,l=[{type:"M",values:[e.x,e.y]},{type:"C",values:[s.x,s.y,n.x,n.y,i.x,i.y]}];this["#outline"].setPathData(l),this["#control-point-1-grippie"].cx.baseVal.value=s.x,this["#control-point-1-grippie"].cy.baseVal.value=s.y,this["#control-point-1-grippie"].r.baseVal.value=o,this["#control-point-2-grippie"].cx.baseVal.value=n.x,this["#control-point-2-grippie"].cy.baseVal.value=n.y,this["#control-point-2-grippie"].r.baseVal.value=o,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=n.x,this["#control-line-2"].y2.baseVal.value=n.y;}};var vc={id:"quad-bezier-seg-hud",get startPoint(){return this.Ih;},get endPoint(){return this.Lh;},get controlPoint(){return this.cr;},get curved(){var t=Ae(this.Ih,this.Lh);return this.cr.x!==t.x||this.cr.y!==t.y;},createdCallback:function createdCallback(){this.Gh=null,this.Uh="end",this.Fh="none",this.Nh=!1,this.Vh=null,this.jh=null,this.innerHTML='\n  <style>\n    #quad-bezier-seg-hud [uid="control-line-1"],\n    #quad-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #quad-bezier-seg-hud [uid="control-point-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #quad-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-grippie"></circle>\n';var _iterator498=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step498;try{for(_iterator498.s();!(_step498=_iterator498.n()).done;){var _t836=_step498.value;this["#"+_t836.getAttribute("uid")]=_t836;}}catch(err){_iterator498.e(err);}finally{_iterator498.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Uh=e,this.Gh=t,this.Hh=i,this.Fh="none",this.removeAttribute("drawing"),!1===this.Nh&&this.Wh(),this.Yh(),this.qh(),this.Xh(),this.Zh();},hide:function hide(){this.Gh=null,this.Vh=null,this.jh=null,this.removeAttribute("drawing"),!0===this.Nh&&this.Kh();},Wh:function Wh(){var _this330=this;this.Nh=!0,this.Qh=!1,this.Qs.addEventListener("modkeyschange",this.Jh=function(){!1===_this330.Qh&&(_this330.qh(),_this330.Xh(),_this330.Zh());}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this330.al(t);}),this.Mn.addEventListener("pointerdown",this.zn=function(t){_this330.Vh=t.clientX,_this330.jh=t.clientY,_this330.Xh(),_this330.Zh();var e=qt(_this330.Gh).inverse();if(_this330.Hh){var _t837=_this330.Hh.closest("text"),_i609=Wt(_this330.Gh);e=qt(_t837).inverse().multiply(_i609);}_this330.Qh=!0,_this330.tr=new DOMPoint(t.clientX,t.clientY),_this330.tr=_this330.tr.matrixTransform(e),_this330.pr=DOMPoint.fromPoint(_this330.cr);}),this.Mn.addEventListener("contextmenu",this.Pn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this330.Vh=t.clientX,_this330.jh=t.clientY,_this330.setAttribute("drawing",""),_this330.Xh(),_this330.Zh();}),window.addEventListener("pointerup",this.Fn=function(t){_this330.qh(),_this330.Qh=!1,_this330.removeAttribute("drawing");});},Kh:function Kh(){this.Nh=!1,this.Qs.removeEventListener("modkeyschange",this.Jh),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("pointerdown",this.zn),this.Mn.removeEventListener("contextmenu",this.Pn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Fn);},al:function al(t){var _iterator499=_createForOfIteratorHelper(t.detail),_step499;try{for(_iterator499.s();!(_step499=_iterator499.n()).done;){var _e628=_step499.value;(_e628.target===this.Gh||_e628.target.contains(this.Gh))&&this.Gh.hasAttribute("d")&&(this.Yh(),this.qh(),this.Xh(),this.Zh());}}catch(err){_iterator499.e(err);}finally{_iterator499.f();}},Yh:function Yh(){if("end"===this.Uh){var _t838=this.Gh.getPathData({normalize:!0}),_e629=_t838[_t838.length-1];this.sr=_e629;for(var _e630=_t838.length-1;_e630>=0;_e630-=1){var _i610=_t838[_e630];if("Z"!==_i610.type){this.nr=_i610;break;}}"C"===_e629.type?this.lr=new DOMPoint(_e629.values[2],_e629.values[3]):"M"===_e629.type||"L"===_e629.type?this.lr=new DOMPoint(_e629.values[0],_e629.values[1]):this.lr=null,"C"===_e629.type?this.ar=_e629.values[2]!==_e629.values[4]||_e629.values[3]!==_e629.values[5]:this.ar=!1;}else if("start"===this.Uh){var _t839=this.Gh.getPathData({normalize:!0}),_e631=_t839[0],_i611=_t839[1];this.hr=_e631,"C"===_i611.type?this.rr=new DOMPoint(_i611.values[0],_i611.values[1]):"M"===_i611.type||"L"===_i611.type?this.rr=new DOMPoint(_e631.values[0],_e631.values[1]):this.rr=null,"C"===_i611.type?this.dr=_i611.values[0]!==_e631.values[0]&&_i611.values[1]!==_e631.values[1]:this.dr=!1;}},Xh:function Xh(){if(!1===this.Qh){var _t840=qt(this.Gh).inverse();if(this.Hh){var _e632=this.Hh.closest("text"),_i612=Wt(this.Gh);_t840=qt(_e632).inverse().multiply(_i612);}if("end"===this.Uh?("L"===this.nr.type||"M"===this.nr.type?this.Ih=new DOMPoint(this.nr.values[0],this.nr.values[1]):"C"===this.nr.type&&(this.Ih=new DOMPoint(this.nr.values[4],this.nr.values[5])),null===this.Vh?this.Lh=DOMPoint.fromPoint(this.Ih):this.Lh=new DOMPoint(this.Vh,this.jh).matrixTransform(_t840)):"start"===this.Uh&&(null===this.Vh?this.Ih=new DOMPoint(this.hr.values[0],this.hr.values[1]):this.Ih=new DOMPoint(this.Vh,this.jh).matrixTransform(_t840),this.Lh=new DOMPoint(this.hr.values[0],this.hr.values[1])),"none"===this.Fh){var _t841,_e633=new J(this.Ih,this.Lh);"end"===this.Uh?_t841=new J(this.Ih,this.lr):"start"===this.Uh&&(_t841=new J(this.Lh,this.rr)),_t841=_t841.negate().scale(_e633.length/2),"end"===this.Uh?this.cr=new DOMPoint(this.Ih.x+_t841.x,this.Ih.y+_t841.y):"start"===this.Uh&&(this.cr=new DOMPoint(this.Lh.x+_t841.x,this.Lh.y+_t841.y));}else if("polygon"===this.Fh)this.cr=Ae(this.Ih,this.Lh);else if("paraxialPolygon"===this.Fh){if("end"===this.Uh){var _Re19=Re(this.Ih,this.Lh,45),_Re20=_slicedToArray(_Re19,1),_t842=_Re20[0];this.Lh=_t842;}else if("start"===this.Uh){var _Re21=Re(this.Lh,this.Ih,45),_Re22=_slicedToArray(_Re21,1),_t843=_Re22[0];this.Ih=_t843;}this.cr=Ae(this.Ih,this.Lh);}}else if(!0===this.Qh){var _t844=qt(this.Gh).inverse();if(this.Hh){var _e635=this.Hh.closest("text"),_i614=Wt(this.Gh);_t844=qt(_e635).inverse().multiply(_i614);}var _e634=new DOMPoint(this.Vh,this.jh);_e634=_e634.matrixTransform(_t844);var _i613=new J(this.tr,_e634).negate();if(this.cr=new DOMPoint(this.pr.x+_i613.x,this.pr.y+_i613.y),"none"===this.Fh)if("end"===this.Uh){var _$e39=$e(this.lr,this.Ih,this.cr,!0),_$e40=_slicedToArray(_$e39,2),_t845=_$e40[0],_e636=_$e40[1];this.cr=_e636<1?DOMPoint.fromPoint(this.Ih):_t845;}else if("start"===this.Uh){var _$e41=$e(this.rr,this.Lh,this.cr,!0),_$e42=_slicedToArray(_$e41,2),_t846=_$e42[0],_e637=_$e42[1];this.cr=_e637<1?DOMPoint.fromPoint(this.Lh):_t846;}}},qh:function qh(){var _this$Qs$modKeys8=this.Qs.modKeys,t=_this$Qs$modKeys8.ctrl,e=_this$Qs$modKeys8.alt,i=_this$Qs$modKeys8.shift;this.Fh=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.Uh?this.ar||"none"!==this.Fh||(this.Fh="polygon"):"start"===this.Uh&&(this.dr||"none"!==this.Fh||(this.Fh="polygon"));},Zh:function Zh(){var t=Yt(this.Gh,this);if(this.Hh){var _e638=this.Hh.closest("text"),_i615=Yt(_e638,this),_s327=Wt(this.Gh);t=_i615.multiply(_s327);}var e=this.Ih.matrixTransform(t),i=this.Lh.matrixTransform(t),s=this.cr.matrixTransform(t),n=3/this.Mn.scale,o=[{type:"M",values:[e.x,e.y]},{type:"Q",values:[s.x,s.y,i.x,i.y]}];this["#outline"].setPathData(o),this["#control-point-grippie"].cx.baseVal.value=s.x,this["#control-point-grippie"].cy.baseVal.value=s.y,this["#control-point-grippie"].r.baseVal.value=n,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=s.x,this["#control-line-2"].y2.baseVal.value=s.y;}};var yc=Math.abs,kc=Math.pow,Sc=Number.isFinite;var _c={id:"arc-seg-hud",get values(){return this["#arc-outline"].getPathData()[1].values;},createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #arc-seg-hud [uid="circle-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.4;\n      pointer-events: none;\n    }\n\n    #arc-seg-hud [uid="arc-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <circle uid="circle-outline" r="0"></circle>\n  <path uid="arc-outline" d="M 0 0 A 0 0 0 0 0 0 0"></path>\n';var _iterator500=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step500;try{for(_iterator500.s();!(_step500=_iterator500.n()).done;){var _t847=_step500.value;this["#"+_t847.getAttribute("uid")]=_t847;}}catch(err){_iterator500.e(err);}finally{_iterator500.f();}},draw:function draw(t,e,i){var _this331=this;this.hasAttribute("drawing")&&this.drawEnd(),this.setAttribute("drawing",""),this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.snapManager.snapStart(!0);var s=qt(this.Mn.vectorCanvas).inverse(),n=Yt(t,this.Mn.vectorCanvas),o=n.inverse(),l=e.matrixTransform(s),a=i.matrixTransform(s),h=l.matrixTransform(o),r=a.matrixTransform(o);h=Oe(h,6),r=Oe(r,6),h.x===r.x&&h.y===r.y&&(r.x-=10);var d=function d(){var _this331$Qs$modKeys=_this331.Qs.modKeys,t=_this331$Qs$modKeys.ctrl,i=_this331$Qs$modKeys.shift,l=_this331.Qs.pointerClientPoint;if(i){var _i616;_i616=t?_this331.Mn.snapManager.snapPointToAngleMultiple(e,l,22.5):_this331.Mn.snapManager.snapPoint(l);var _a145=_i616.matrixTransform(s).matrixTransform(o);_this331["#circle-outline"].cx.baseVal.value=0,_this331["#circle-outline"].cy.baseVal.value=0,_this331["#circle-outline"].r.baseVal.value=0,_this331["#circle-outline"].setAttribute("transform",n.toString()),_this331["#arc-outline"].setPathData([{type:"M",values:[h.x,h.y]},{type:"A",values:[0,0,0,0,0,_a145.x,_a145.y]}]),_this331["#arc-outline"].setAttribute("transform",n.toString());}else{var _t848=_this331.Mn.snapManager.snapPoint(l).matrixTransform(s).matrixTransform(o);_t848=Oe(_t848,6),h.x===_t848.x&&(_t848.x+=1e-9);var _e639=(h.x-r.x)*(kc(h.x-_t848.x,2)+(kc(_t848.y,2)-kc(h.y,2)))/((h.y-r.y)*(h.x-_t848.x)+(h.x-r.x)*(_t848.y-h.y))*.5+h.y*(h.y-r.y)*(h.x-_t848.x)/((h.y-r.y)*(h.x-_t848.x)+(h.x-r.x)*(_t848.y-h.y)),_i617=.5*((kc(h.y-_e639,2)-kc(_t848.y-_e639,2))/(h.x-_t848.x)+_t848.x+h.x);if(!Sc(_i617)||!Sc(_e639))return;var _a146=new DOMPoint(_i617,_e639),_d60=new J(_a146,h).length;_this331["#circle-outline"].cx.baseVal.value=_a146.x,_this331["#circle-outline"].cy.baseVal.value=_a146.y,_this331["#circle-outline"].r.baseVal.value=_d60,_this331["#circle-outline"].setAttribute("transform",n.toString());{var _e640,_i618,_s328=new J(h,r).getOppositeVector(),_o211=new J(h,_t848),_l196=Ue(me(_s328,_o211));_this331.Qs.modKeys.ctrl?(_e640=_l196>0?0:1,_i618=yc(_l196)<90?1:0):(_e640=_l196<0?0:1,_i618=yc(_l196)>90?1:0),_this331["#arc-outline"].setPathData([{type:"M",values:[h.x,h.y]},{type:"A",values:[_d60,_d60,0,_i618,_e640,_t848.x,_t848.y]}]),_this331["#arc-outline"].setAttribute("transform",n.toString());}}};this.Mn.addEventListener("zoomchange",this.an=function(){d();}),this.Qs.addEventListener("modkeyschange",this.Jh=function(){d();}),window.addEventListener("pointermove",this.Un=function(t){d();}),d();},drawEnd:function drawEnd(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#circle-outline"].setAttribute("r","0"),this["#arc-outline"].setAttribute("d","M 0 0 A 0 0 0 0 0 0 0"),this.Mn.snapManager.snapEnd(),this.Mn.removeEventListener("zoomchange",this.an),this.Qs.removeEventListener("modkeyschange",this.Jh),window.removeEventListener("pointermove",this.Un));}};var Cc={id:"freehand-hud",get points(){return _toConsumableArray(this["#outline"].points).map(function(t){return DOMPoint.fromPoint(t);});},createdCallback:function createdCallback(){this.Gh=null,this.innerHTML='\n  <style>\n    #freehand-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline"></polyline>\n';var _iterator501=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step501;try{for(_iterator501.s();!(_step501=_iterator501.n()).done;){var _t849=_step501.value;this["#"+_t849.getAttribute("uid")]=_t849;}}catch(err){_iterator501.e(err);}finally{_iterator501.f();}},show:function show(t,e){var _this332=this;this.Gh&&this.hide(),this.Gh=t;var i=qt(this.Gh).inverse(),s=Yt(this.Gh,this);if(this["#outline"].setAttribute("points",""),this["#outline"].setAttribute("transform",s.toString()),this.setAttribute("drawing",""),e){var _t850=e.matrixTransform(i);this["#outline"].points.appendItem(Le(_t850));}window.addEventListener("pointermove",this.Un=function(t){var _iterator502=_createForOfIteratorHelper(t.getCoalescedEvents()),_step502;try{for(_iterator502.s();!(_step502=_iterator502.n()).done;){var _e641=_step502.value;var _t851=new DOMPoint(_e641.clientX,_e641.clientY).matrixTransform(i);_this332["#outline"].points.appendItem(Le(_t851));}}catch(err){_iterator502.e(err);}finally{_iterator502.f();}});},hide:function hide(){this.Gh=null,this.removeAttribute("drawing"),this["#outline"].setAttribute("points",""),window.removeEventListener("pointermove",this.Un);},clear:function clear(){this["#outline"].setAttribute("points","");}};var Mc={id:"line-seg-hud",get startPoint(){return this.Ih;},set startPoint(t){this.Ih=t,this.qs();},get endPoint(){return this.Lh;},set endPoint(t){this.Lh=t,this.qs();},createdCallback:function createdCallback(){this.Ih=new DOMPoint(),this.Lh=new DOMPoint(),this.innerHTML='\n  <style>\n    #line-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <line uid="outline" class="outline" x1="0" y1="0" x2="0" y2="0"></line>\n';var _iterator503=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step503;try{for(_iterator503.s();!(_step503=_iterator503.n()).done;){var _t852=_step503.value;this["#"+_t852.getAttribute("uid")]=_t852;}}catch(err){_iterator503.e(err);}finally{_iterator503.f();}},qs:function qs(){this.Mn||(this.Mn=Gi(this,"bx-board"));var t=qt(this.Mn.vectorCanvas).inverse(),e=this.Ih.matrixTransform(t),i=this.Lh.matrixTransform(t);this["#outline"].setAttribute("x1",e.x),this["#outline"].setAttribute("y1",e.y),this["#outline"].setAttribute("x2",i.x),this["#outline"].setAttribute("y2",i.y);}};var Pc={id:"polyline-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline"].points[1]);},createdCallback:function createdCallback(){this.ur=null,this.Nh=!1,this.innerHTML='\n  <style>\n    #polyline-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline" class="outline" points="0 0 0 0"></polyline>\n';var _iterator504=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step504;try{for(_iterator504.s();!(_step504=_iterator504.n()).done;){var _t853=_step504.value;this["#"+_t853.getAttribute("uid")]=_t853;}}catch(err){_iterator504.e(err);}finally{_iterator504.f();}},show:function show(t){this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.ur=t,this.setAttribute("drawing",""),!1===this.Nh&&this.Wh(),this.qs();},hide:function hide(){this.ur=null,this.removeAttribute("drawing"),!0===this.Nh&&this.Kh();},Wh:function Wh(){var _this333=this;this.Nh=!0,window.addEventListener("pointermove",this.Un=function(){_this333.qs();}),window.addEventListener("pointerup",this.Fn=function(){_this333.qs();}),this.Qs.addEventListener("modkeyschange",this.Jh=function(){_this333.qs();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){var _iterator505=_createForOfIteratorHelper(t.detail),_step505;try{for(_iterator505.s();!(_step505=_iterator505.n()).done;){var _e642=_step505.value;(_e642.target===_this333.ur||_e642.target.contains(_this333.ur))&&_this333.qs();}}catch(err){_iterator505.e(err);}finally{_iterator505.f();}});},Kh:function Kh(){this.Nh=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Fn),this.Qs.removeEventListener("modkeyschange",this.Jh),this.Mn.removeEventListener("workspacemutation",this.hn);},qs:function qs(){if(0===this.ur.points.length)this["#outline"].removeAttribute("points");else{var _t854=Yt(this.ur,this.Mn.vectorCanvas),_e643=qt(this.Mn.vectorCanvas).inverse(),_i619=DOMPoint.fromPoint(this.ur.points[this.ur.points.length-1]),s=this.Qs.pointerClientPoint;if(_i619=_i619.matrixTransform(_t854),s=s.matrixTransform(_e643),this.Qs.modKeys.shift){var _Re23=Re(_i619,s,22.5),_Re24=_slicedToArray(_Re23,1),_t855=_Re24[0];s=_t855;}this["#outline"].setAttribute("points","".concat(_i619.x," ").concat(_i619.y," ").concat(s.x," ").concat(s.y));}}};var Dc={id:"polygon-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline-1"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline-2"].points[1]);},createdCallback:function createdCallback(){this.br=null,this.Nh=!1,this.innerHTML='\n  <style>\n    #polygon-seg-hud [uid="outline-1"],\n    #polygon-seg-hud [uid="outline-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n    #polygon-seg-hud [uid="outline-1"] {\n      opacity: 0.1;\n    }\n  </style>\n\n  <polygon uid="outline-1" class="outline" points="0 0 0 0"></polygon>\n  <polygon uid="outline-2" class="outline" points="0 0 0 0"></polygon>\n';var _iterator506=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step506;try{for(_iterator506.s();!(_step506=_iterator506.n()).done;){var _t856=_step506.value;this["#"+_t856.getAttribute("uid")]=_t856;}}catch(err){_iterator506.e(err);}finally{_iterator506.f();}},show:function show(t){this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.br=t,this.setAttribute("drawing",""),!1===this.Nh&&this.Wh(),this.qs();},hide:function hide(){this.br=null,this.removeAttribute("drawing"),!0===this.Nh&&this.Kh();},Wh:function Wh(){var _this334=this;this.Nh=!0,window.addEventListener("pointermove",this.Un=function(){_this334.qs();}),window.addEventListener("pointerup",this.Fn=function(){_this334.qs();}),this.Qs.addEventListener("modkeyschange",this.Jh=function(){_this334.qs();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){var _iterator507=_createForOfIteratorHelper(t.detail),_step507;try{for(_iterator507.s();!(_step507=_iterator507.n()).done;){var _e644=_step507.value;(_e644.target===_this334.br||_e644.target.contains(_this334.br))&&_this334.qs();}}catch(err){_iterator507.e(err);}finally{_iterator507.f();}});},Kh:function Kh(){this.Nh=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Fn),this.Qs.removeEventListener("modkeyschange",this.Jh),this.Mn.removeEventListener("workspacemutation",this.hn);},qs:function qs(){if(0===this.br.points.length)this["#outline-1"].removeAttribute("points"),this["#outline-2"].removeAttribute("points");else{var _t857=Yt(this.br,this.Mn.vectorCanvas),_e645=qt(this.Mn.vectorCanvas).inverse(),_i620=DOMPoint.fromPoint(this.br.points[0]),s=DOMPoint.fromPoint(this.br.points[this.br.points.length-1]),_n262=this.Qs.pointerClientPoint;if(_i620=_i620.matrixTransform(_t857),s=s.matrixTransform(_t857),_n262=_n262.matrixTransform(_e645),this.Qs.modKeys.shift){var _Re25=Re(s,_n262,22.5),_Re26=_slicedToArray(_Re25,1),_t858=_Re26[0];_n262=_t858;}this["#outline-1"].setAttribute("points","".concat(_i620.x," ").concat(_i620.y," ").concat(_n262.x," ").concat(_n262.y)),this["#outline-2"].setAttribute("points","".concat(s.x," ").concat(s.y," ").concat(_n262.x," ").concat(_n262.y));}}};var zc=Number.parseFloat;var Oc={id:"grid-hud",get selected(){return this.hasAttribute("selected");},set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("selectedchange"));},createdCallback:function createdCallback(){var _this335=this;this.tabIndex=-1,this.mr=es(this.qs,500,this),this.gr=es(this.qs,1e3,this),this.wr=!1,this.vr=!1,this.innerHTML='\n  <style>\n    /**\n     * Grid lines\n     */\n\n    #grid-hud .line {\n      fill: none;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 0.2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n\n    /**\n     * Grippies\n     */\n\n    #grid-hud .grippie {\n      stroke: green;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] .grippie {\n      fill: green;\n    }\n\n    /**\n     * Cell rect\n     */\n\n    #grid-hud [uid="cell-rect"] {\n      display: none;\n      fill: green;\n      fill-opacity: 0.05;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] [uid="cell-rect"] {\n      display: initial;\n    }\n  </style>\n\n  <g uid="main">\n    <g uid="lines">\n      <g uid="horizontal-lines" class="lines"></g>\n      <g uid="vertical-lines" class="lines"></g>\n    </g>\n\n    <rect uid="cell-rect"></rect>\n\n    <g uid="grippies">\n      <circle uid="origin-grippie" class="grippie" r="10" cx="0" cy="0"></circle>\n      <rect uid="resize-grippie" class="grippie" width="10" height="10" x="0" y="0"></rect>\n    </g>\n  </g>\n';var _iterator508=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step508;try{for(_iterator508.s();!(_step508=_iterator508.n()).done;){var _t859=_step508.value;this["#"+_t859.getAttribute("uid")]=_t859;}}catch(err){_iterator508.e(err);}finally{_iterator508.f();}this.addEventListener("pointerdown",function(t){return _this335.wo(t);}),this.addEventListener("focus",function(){return _this335.qs();}),this.addEventListener("blur",function(){return _this335.qs();});},enabledCallback:function enabledCallback(){var _this336=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.tabIndex=0,this.gr(),this.dispatchEvent(new CustomEvent("enabled")),this.Mn.addEventListener("workspacemutation",this.hn=function(t){if(_this336.wr||_this336.vr)_this336.qs();else{var _iterator509=_createForOfIteratorHelper(t.detail),_step509;try{for(_iterator509.s();!(_step509=_iterator509.n()).done;){var _e646=_step509.value;"bx-grid"===_e646.target.localName&&_this336.mr();}}catch(err){_iterator509.e(err);}finally{_iterator509.f();}}}),this.Mn.addEventListener("artworkchange",this.yr=function(t){_this336.gr();}),this.Mn.addEventListener("zoomchange",this.an=function(){_this336.mr(),_this336.kr();}),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this336.yn(t);}),this.Mn.huds.addEventListener("pointerdown",this.jn=function(t){_this336.Qa(t);});},disabledCallback:function disabledCallback(){this.dispatchEvent(new CustomEvent("disabled")),this.tabIndex=-1,this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("artworkchange",this.yr),this.Mn.removeEventListener("zoomchange",this.an),this.Mn.workspaces.removeEventListener("pointerdown",this.vn),this.Mn.huds.removeEventListener("pointerdown",this.jn);},yn:function yn(){this.selected=!1;},Qa:function Qa(t){t.target!==this&&!1===this.contains(t.target)&&(this.selected=!1);},wo:function wo(t){var _this337=this;var _e647,_i621,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),this.selected=!0,this.Mn.selectedElements=[],this.Mn.selectedTextRange=null,this.Mn.currentContainer=null,s.addEventListener("pointermove",_e647=function e(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=Te(n,a)>3||h>80,d=!1===ze(o,a,0);o=a,!0===r&&!0===d&&(s.removeEventListener("pointermove",_e647),s.removeEventListener("pointerup",_i621),s===_this337["#origin-grippie"]||s===_this337["#cell-rect"]?_this337.Sr(t):s===_this337["#resize-grippie"]&&_this337._r(t));}),s.addEventListener("pointerup",_i621=function i(t){s.removeEventListener("pointermove",_e647),s.removeEventListener("pointerup",_i621);});},Sr:function Sr(t){var _this338=this;this.Mn.undoManager.checkpoint("Move grid");var e,_i622,s=this.Mn,n=s.maybeCreateGridForCurrentWorkspace(),o=qt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=zc(n.getAttribute("x")),h=zc(n.getAttribute("y"));this.setPointerCapture(t.pointerId),this.wr=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=a+(e.x-l.x),r=h+(e.y-l.y);i=tt(i,s.geometryPrecision),r=tt(r,s.geometryPrecision),n.setAttribute("x",i),n.setAttribute("y",r);}),this.addEventListener("pointerup",_i622=function i(t){_this338.removeEventListener("pointermove",e),_this338.removeEventListener("pointerup",_i622),_this338.wr=!1;});},_r:function _r(t){var _this339=this;this.Mn.undoManager.checkpoint("Resize grid");var e,_i623,s=this.Mn,n=s.maybeCreateGridForCurrentWorkspace(),o=qt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=n?zc(n.getAttribute("width")):100,h=n?zc(n.getAttribute("height")):100,r=8/s.scale;this.setPointerCapture(t.pointerId),this.vr=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=a+(e.x-l.x),d=h+(e.y-l.y);i<r&&(i=r),d<r&&(d=r),t.shiftKey&&(d=i),i=tt(i,s.geometryPrecision),d=tt(d,s.geometryPrecision),n.setAttribute("width",i),n.setAttribute("height",d);}),this.addEventListener("pointerup",_i623=function i(t){_this339.removeEventListener("pointermove",e),_this339.removeEventListener("pointerup",_i623),_this339.vr=!1;});},qs:function qs(){var t=this.Mn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=qt(t.vectorCanvas).inverse(),s=He(t.getBoundingClientRect(),i),n=e?zc(e.getAttribute("x")):0,o=e?zc(e.getAttribute("y")):0,l=e?zc(e.getAttribute("width")):100,a=e?zc(e.getAttribute("height")):100,h=s.x-s.width/2,r=s.x+s.width+s.width/2,d=s.y-s.height/2,c=s.y+s.height+s.height/2;{var _t860="";for(var _e648=n;_e648<=r;_e648+=l){_e648>=h&&(_t860+="<line class=\"line\" x1=\"".concat(_e648,"\" y1=\"-99999\" x2=\"").concat(_e648,"\" y2=\"99999\"></line>"));}for(var _e649=n-l;_e649>=h;_e649-=l){_e649<=r&&(_t860+="<line class=\"line\" x1=\"".concat(_e649,"\" y1=\"-99999\" x2=\"").concat(_e649,"\" y2=\"99999\"></line>"));}this["#vertical-lines"].innerHTML=_t860;}{var _t861="";for(var _e650=o;_e650<=c;_e650+=a){_e650>=d&&(_t861+="<line class=\"line\" y1=\"".concat(_e650,"\" x1=\"-99999\" y2=\"").concat(_e650,"\" x2=\"99999\"></line>"));}for(var _e651=o-a;_e651>=d;_e651-=a){_e651<=c&&(_t861+="<line class=\"line\" y1=\"".concat(_e651,"\" x1=\"-99999\" y2=\"").concat(_e651,"\" x2=\"99999\"></line>"));}this["#horizontal-lines"].innerHTML=_t861;}this["#cell-rect"].setAttribute("x",n),this["#cell-rect"].setAttribute("y",o),this["#cell-rect"].setAttribute("width",l),this["#cell-rect"].setAttribute("height",a),this.kr();},kr:function kr(){var t=this.Mn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=e?zc(e.getAttribute("x")):0,s=e?zc(e.getAttribute("y")):0,n=e?zc(e.getAttribute("width")):100,o=e?zc(e.getAttribute("height")):100;this["#origin-grippie"].setAttribute("cx",i),this["#origin-grippie"].setAttribute("cy",s),this["#origin-grippie"].setAttribute("r",4/t.scale),this["#resize-grippie"].setAttribute("width",8/t.scale),this["#resize-grippie"].setAttribute("height",8/t.scale),this["#resize-grippie"].setAttribute("x",i+n-5/t.scale),this["#resize-grippie"].setAttribute("y",s+o-5/t.scale);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();}};var Ec=Symbol(),Tc=4,Ac=!1;var $c={id:"manual-guides-hud",createdCallback:function createdCallback(){var _this340=this;this.Cr=[],this.Mr=!1,this.mr=es(this.qs,500,this),this.Pr=es(this.Dr,200,this),this.innerHTML='\n  <style>\n    #manual-guides-hud .repr {\n      color: red;\n      pointer-events: none;\n    }\n    #manual-guides-hud .repr[data-snapping="true"] {\n      color: blue;\n    }\n\n    #manual-guides-hud .repr .outer-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 10;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #manual-guides-hud .repr[data-selected] .outer-line {\n      opacity: 0.1;\n      pointer-events: all;\n    }\n\n    #manual-guides-hud .repr .inner-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #manual-guides-hud .repr .grippie {\n      stroke: currentColor;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #manual-guides-hud .repr[data-selected] .grippie {\n      fill: currentColor;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator510=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step510;try{for(_iterator510.s();!(_step510=_iterator510.n()).done;){var _t862=_step510.value;this["#"+_t862.getAttribute("uid")]=_t862;}}catch(err){_iterator510.e(err);}finally{_iterator510.f();}this.addEventListener("pointerdown",function(t){return _this340.wo(t);});},enabledCallback:function enabledCallback(){var _this341=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("workspacemutation",this.hn=function(){_this341.mr();}),this.Mn.addEventListener("artworkchange",this.yr=function(){_this341.mr();}),this.Mn.addEventListener("zoomchange",this.an=function(){_this341.dl();}),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this341.zr();}),this.Mn.rulers.addEventListener("pointerdown",this.Or=function(t){_this341.Er(t);}),this.Mn.snapManager.addEventListener("snapperschange",this.Tr=function(t){_this341.Pr();}),this.qs();},disabledCallback:function disabledCallback(){this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("artworkchange",this.yr),this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.rulers.removeEventListener("pointerdown",this.Or),this.Mn.snapManager.removeEventListener("snapperschange",this.Tr);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();},wo:function wo(t){var _this342=this;if(1!==t.buttons)return;var e,_i624,s=t.target.closest("g.repr"),n=s[Ec],o=qt(this.Mn.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY),a=l.matrixTransform(o),h=l,r=this.Qs.modKeys.ctrl&&Ac?"rotate":"translate",d=this.Mn.geometryPrecision;this.Mr=!0,s.setAttribute("data-dragging",""),t.target.closest(".grippie")&&(this.Mn.selectedElements=[n],this.Mn.selectedTextRange=null,this.Mn.currentContainer=null);var c=parseFloat(n.getAttribute("x")),p=parseFloat(n.getAttribute("y")),u=parseFloat(n.getAttribute("angle")),x=c,b=p,m=u;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e=function e(_e654){var i=new DOMPoint(_e654.clientX,_e654.clientY),n=i.matrixTransform(o),d=_e654.timeStamp-t.timeStamp,g=Te(l,i)>3||d>80,f=!1===ze(h,i,0);if(h=i,!0===g&&!0===f)if("translate"===r){var _t863=n.x-a.x,_e652=n.y-a.y;x=c+_t863,b=p+_e652,s.setAttribute("transform","translate(".concat(x," ").concat(b,") rotate(").concat(u,")"));}else if("rotate"===r){var _t864=new DOMPoint(c,p),_e653=Ge(_t864,a,n);m=u+_e653,_this342.Qs.modKeys.shift&&(m=Fe(m,15)),s.setAttribute("transform","translate(".concat(c," ").concat(p,") rotate(").concat(m,")"));}}),this.addEventListener("lostpointercapture",_i624=function i(t){_this342.removeEventListener("pointermove",e),_this342.removeEventListener("lostpointercapture",_i624),_this342.Mr=!1,s.removeAttribute("data-dragging");var o=s.querySelector(".inner-line"),l=qt(o),a=new DOMPoint(o.x1.baseVal.value,o.y1.baseVal.value);a=a.matrixTransform(l);var h=new DOMPoint(o.x2.baseVal.value,o.y2.baseVal.value);h=h.matrixTransform(l);var r=_this342.Mn.getBoundingClientRect(!0),g=Qe(a,h,r);a=Oe(a,8),h=Oe(h,8),g&&_this342.Mn.isPointOverBoard(t.clientX,t.clientY)?(x=tt(x,d),b=tt(b,d),m=tt(m,d),x===c&&b===p&&m===u||(_this342.Mn.undoManager.checkpoint("Move guide"),n.setAttribute("x",x),n.setAttribute("y",b),n.setAttribute("angle",m))):(_this342.Mn.undoManager.checkpoint("Remove guide"),_this342.Mn.selectedElements=_this342.Mn.selectedElements.filter(function(t){return t!==n;}),n.remove());});},Er:function Er(t){if(1!==t.buttons)return;var e,_i626,s=this.Mn,n=s.rulers.getRulerTypeFromPoint(t.x,t.y),o=this.Mn.geometryPrecision,l=qt(this.Mn.vectorCanvas).inverse(),a=0,h=99999,r=-h,d=-h;"vertical"===n?a=0:"horizontal"===n?a=90:"corner"===n&&(a=45);var c=ts(_templateObject7(),r,d,a,-h,h,-h,h,Tc/s.scale);this["#reprs"].append(c),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=e.x,d=e.y,c.setAttribute("transform","translate(".concat(r," ").concat(d,") rotate(").concat(a,")"));}),window.addEventListener("pointerup",_i626=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i626);var n=c.querySelector(".inner-line"),h=qt(n),p=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value);p=p.matrixTransform(h),p=Oe(p,8);var u=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value);u=u.matrixTransform(h),u=Oe(u,8);var x=s.getBoundingClientRect(!0),b=Qe(p,u,x);if(c.remove(),b&&!0===s.isPointOverBoard(t.clientX,t.clientY)&&!1===s.isPointOverRuler(t.clientX,t.clientY)){var _e655=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=tt(_e655.x,o),d=tt(_e655.y,o);var _i625=ts(_templateObject8(),r,d,a);s.selectedElements=[_i625],s.selectedTextRange=null,s.currentContainer=null,s.undoManager.checkpoint("Add guide"),s.currentWorkspace===s.masterWorkspace?(s.maybeCreateDefsForMasterWorkspace(),s.defs.append(_i625)):s.currentWorkspace.append(_i625);}});},qs:function qs(){if(this.Mr)return;var t=this.Mn.currentWorkspace.querySelectorAll("bx-guide"),e=!1;if(t.length!==this["#reprs"].childElementCount)e=!0;else for(var _i627=0;_i627<t.length;_i627+=1){var s=t[_i627],_n263=this["#reprs"].children[_i627],_o212=_n263.transform.baseVal[0].matrix.e,_l197=_n263.transform.baseVal[0].matrix.f,_a147=_n263.transform.baseVal[1].angle;if(parseFloat(s.getAttribute("x"))!==_o212||parseFloat(s.getAttribute("y"))!==_l197||parseFloat(s.getAttribute("angle"))!==_a147){e=!0;break;}}if(e){var _e656="";var _iterator511=_createForOfIteratorHelper(t),_step511;try{for(_iterator511.s();!(_step511=_iterator511.n()).done;){var _i628=_step511.value;var _t865=99999;_e656+="\n          <g class=\"repr\" transform=\"translate(".concat(parseFloat(_i628.getAttribute("x")),", ").concat(parseFloat(_i628.getAttribute("y")),") rotate(").concat(parseFloat(_i628.getAttribute("angle")),")\" data-snapping=\"").concat(this.Mn.snapManager.isGuideSnapping(_i628),"\">\n            <line class=\"outer-line\" x1=\"0\" y1=\"").concat(-_t865,"\" x2=\"0\" y2=\"").concat(_t865,"\"></line>\n            <line class=\"inner-line\" x1=\"0\" y1=\"").concat(-_t865,"\" x2=\"0\" y2=\"").concat(_t865,"\"></line>\n            <circle class=\"grippie\" cx=\"0\" cy=\"0\"></rect>\n          </g>\n        ");}}catch(err){_iterator511.e(err);}finally{_iterator511.f();}this["#reprs"].innerHTML=_e656;for(var _e657=0;_e657<t.length;_e657+=1){this["#reprs"].children[_e657][Ec]=t[_e657];}}this.dl(),this.zr();},dl:function dl(){var _iterator512=_createForOfIteratorHelper(this["#reprs"].querySelectorAll(".grippie")),_step512;try{for(_iterator512.s();!(_step512=_iterator512.n()).done;){var _t866=_step512.value;_t866.setAttribute("r",Tc/this.Mn.scale);}}catch(err){_iterator512.e(err);}finally{_iterator512.f();}},zr:function zr(){var _iterator513=_createForOfIteratorHelper(this["#reprs"].children),_step513;try{for(_iterator513.s();!(_step513=_iterator513.n()).done;){var _t867=_step513.value;this.Mn.selectedElements.includes(_t867[Ec])?_t867.setAttribute("data-selected",""):_t867.removeAttribute("data-selected");}}catch(err){_iterator513.e(err);}finally{_iterator513.f();}},Dr:function Dr(){var _iterator514=_createForOfIteratorHelper(this["#reprs"].children),_step514;try{for(_iterator514.s();!(_step514=_iterator514.n()).done;){var _t868=_step514.value;var _e658=this.Mn.snapManager.isGuideSnapping(_t868[Ec]);_t868.setAttribute("data-snapping",_e658);}}catch(err){_iterator514.e(err);}finally{_iterator514.f();}}};var Ic=Math.min,Lc=Math.max;var Rc={id:"smart-guides-hud",get enabled(){return this.hasAttribute("enabled");},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");},createdCallback:function createdCallback(){this.mr=es(this.qs,100,this),this.innerHTML='\n  <style>\n    #smart-guides-hud .repr {\n      fill: none;\n      stroke: blue;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.6;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator515=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step515;try{for(_iterator515.s();!(_step515=_iterator515.n()).done;){var _t869=_step515.value;this["#"+_t869.getAttribute("uid")]=_t869;}}catch(err){_iterator515.e(err);}finally{_iterator515.f();}},enabledCallback:function enabledCallback(){var _this343=this;this.Mn=Gi(this,"bx-board"),this.Mn.snapManager.addEventListener("snapperschange",this.Tr=function(){_this343.mr();});},disabledCallback:function disabledCallback(){this.Mn.snapManager.removeEventListener("snapperschange",this.Tr);},qs:function qs(){var t=this.Mn.snapManager.snappers.filter(function(t){return"smart"===t.type&&t.snapping;}),e=qt(this.Mn.currentWorkspace).inverse();this["#reprs"].innerHTML="";var _iterator516=_createForOfIteratorHelper(t),_step516;try{for(_iterator516.s();!(_step516=_iterator516.n()).done;){var _i629=_step516.value;var _t870=void 0,s=void 0;"vertical"===_i629.orientation?_i629.snappedBBox?(_t870=new DOMPoint(_i629.x,Ic(_i629.snappingBBox.y,_i629.snappedBBox.y)),s=new DOMPoint(_i629.x,Lc(_i629.snappingBBox.bottom,_i629.snappedBBox.bottom))):_i629.snappedPoint&&(_t870=new DOMPoint(_i629.x,Ic(_i629.snappingBBox.y,_i629.snappedPoint.y)),s=new DOMPoint(_i629.x,Lc(_i629.snappingBBox.bottom,_i629.snappedPoint.y))):"horizontal"===_i629.orientation&&(_i629.snappedBBox?(_t870=new DOMPoint(Ic(_i629.snappingBBox.x,_i629.snappedBBox.x),_i629.y),s=new DOMPoint(Lc(_i629.snappingBBox.right,_i629.snappedBBox.right),_i629.y)):_i629.snappedPoint&&(_t870=new DOMPoint(Ic(_i629.snappingBBox.x,_i629.snappedPoint.x),_i629.y),s=new DOMPoint(Lc(_i629.snappingBBox.right,_i629.snappedPoint.x),_i629.y)));var _t870$matrixTransform=_t870.matrixTransform(e),_n264=_t870$matrixTransform.x,_o213=_t870$matrixTransform.y,_s$matrixTransform=s.matrixTransform(e),_l198=_s$matrixTransform.x,_a148=_s$matrixTransform.y,_h123=ts(_templateObject9(),_n264,_o213,_l198,_a148);this["#reprs"].append(_h123);}}catch(err){_iterator516.e(err);}finally{_iterator516.f();}}};var Bc=Ii("svg:marker"),Gc=function Gc(t){return t.hasAttribute("refX")?Bc.setAttribute("refX",t.getAttribute("refX")):Bc.removeAttribute("refX"),t.hasAttribute("refY")?Bc.setAttribute("refY",t.getAttribute("refY")):Bc.removeAttribute("refY"),new DOMPoint(Bc.refX.baseVal.value,Bc.refY.baseVal.value);},Uc=function Uc(t){return t.hasAttribute("orient")?Bc.setAttribute("orient",t.getAttribute("orient")):Bc.removeAttribute("orient"),[Bc.orientType.baseVal,Bc.orientAngle.baseVal.value];},Fc=Math.abs,Nc=Symbol(),Vc=Symbol(),jc=Symbol(),Hc=Symbol();var Wc={id:"view-hud",createdCallback:function createdCallback(){var _this344=this;this.Ar=!1,this.Dh=es(this.qs,200,this),this.innerHTML='\n  <style>\n    #view-hud .grippie[data-position="center"] {\n      fill: rgba(0, 0, 0, 0);\n      shape-rendering: crispEdges;\n    }\n    #view-hud .grippie[data-position="center"] {\n      cursor: -webkit-grab;\n    }\n    #view-hud .grippie[data-position="center"]:active {\n      cursor: -webkit-grabbing;\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"],\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      stroke: red;\n      vector-effect: non-scaling-stroke;\n      stroke-width: 8;\n      opacity: 0;\n    }\n\n    #view-hud .grippie[data-position="top-left"] rect,\n    #view-hud .grippie[data-position="top-right"] rect,\n    #view-hud .grippie[data-position="bottom-left"] rect,\n    #view-hud .grippie[data-position="bottom-right"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .grippie[data-position="top-left"] path,\n    #view-hud .grippie[data-position="top-right"] path,\n    #view-hud .grippie[data-position="bottom-left"] path,\n    #view-hud .grippie[data-position="bottom-right"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="top-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="top-right"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-right"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"] {\n      cursor: ew-resize;\n    }\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      cursor: ns-resize;\n    }\n    #view-hud .grippie[data-position="top-left"] {\n      cursor: nwse-resize;\n    }\n    #view-hud .grippie[data-position="top-right"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-left"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-right"] {\n      cursor: nwse-resize;\n    }\n\n    #view-hud .grippie[data-position="ref"] {\n      display: none;\n      cursor: default;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] {\n      display: initial;\n    }\n    #view-hud .grippie[data-position="ref"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n    #view-hud .grippie[data-position="ref"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .label {\n      pointer-events: none;\n      font-weight: 700;\n      fill: #636363;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <rect class="grippie" data-position="center"></rect>\n\n      <line class="grippie" data-position="left"></line>\n      <line class="grippie" data-position="right"></line>\n      <line class="grippie" data-position="top"></line>\n      <line class="grippie" data-position="bottom"></line>\n\n      <g class="grippie" data-position="top-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="top-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n      </g>\n\n      <g class="grippie" data-position="ref">\n        <rect width="24" height="24"></rect>\n        <path d="M 24 10 L 24 14 L 14 14 L 14 24 L 10 24 L 10 14 L 0 14 L 0 10 L 10 10 L 10 0 L 14 0 L 14 10 Z"/>\n      </g>\n\n      <text class="label">Default view</text>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator517=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step517;try{for(_iterator517.s();!(_step517=_iterator517.n()).done;){var _t871=_step517.value;this["#"+_t871.getAttribute("uid")]=_t871;}}catch(err){_iterator517.e(err);}finally{_iterator517.f();}this.addEventListener("pointerdown",function(t){_this344.wo(t);}),this.addEventListener("dblclick",function(t){_this344.Pa(t);});},enabledCallback:function enabledCallback(){var _this345=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Ar=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.$r=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this.Ir=!1,this.Lr=!1,this.Rr=!1,this.Qs.addEventListener("configchange",this.nn=function(t){_this345.ln(t);}),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this345.Br();}),this.Mn.addEventListener("zoomchange",this.an=function(){_this345.ll();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this345.al(t.detail);}),this.rl(),this.Br();},disabledCallback:function disabledCallback(){this["#subhuds"].innerHTML="",this.Qs.removeEventListener("configchange",this.nn),this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("zoomchange",this.an),this.Mn.removeEventListener("workspacemutation",this.hn);},ln:function ln(t){var _t$detail2=t.detail,e=_t$detail2.key,i=_t$detail2.value;"bx-viewsettings:showIds"===e?(this.Ar=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.rl()):"bx-viewsettings:moveObjects"===e&&(this.$r=this.Qs.getConfig("bx-viewsettings:moveObjects",!1));},al:function al(t){this.Ir||this.Lr||this.Rr?this.Gr():this.rl();},ll:function ll(){this.Gr();},wo:function wo(t){1===t.buttons&&t.target.closest(".grippie")&&this.cl(t);},cl:function cl(t){var _this346=this;var _e659,_i630,s=this.Mn,n=t.target.closest(".grippie"),o=n.closest(".subhud")[Nc],l=new DOMPoint(t.clientX,t.clientY),a=l;s.selectedElements="view"===o.localName?[o]:[],window.addEventListener("pointermove",_e659=function e(i){var s=new DOMPoint(i.clientX,i.clientY),o=i.timeStamp-t.timeStamp,h=Te(l,s)>3||o>80,r=!1===ze(a,s,0);if(a=s,!0===h&&!0===r){window.removeEventListener("pointermove",_e659);var _s329=new J(i.clientX-t.clientX,i.clientY-t.clientY),_o214=Fc(_s329.x)>Fc(_s329.y)?"horizontal":"vertical",_l199=n.getAttribute("data-position");"center"===_l199?_this346.Ur(t,n,_o214):"ref"===_l199?_this346.Fr(t,n,_o214):_this346.Nr(t,n,_o214);}}),window.addEventListener("pointerup",_i630=function i(t){window.removeEventListener("pointermove",_e659),window.removeEventListener("pointerup",_i630);});},Pa:function Pa(t){t.target.closest('.grippie[data-position="ref"]')&&this.Vr(t);},Ur:function Ur(t,e,i){var _this347=this;var s,_n265,o=this.Mn,l=e.closest(".subhud"),a=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),l[Nc]),h=Ft.fromString(a.getAttribute("viewBox")||"0 0 0 0").toRect(),r=null,d=qt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=[];if(o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Ir=!0,"marker"===a.getAttribute("data-bx-workspace")&&(r=Gc(this.Mn.currentWorkspace)),this.$r){var _iterator518=_createForOfIteratorHelper(o.currentWorkspace.children),_step518;try{for(_iterator518.s();!(_step518=_iterator518.n()).done;){var _t872=_step518.value;if(y.includes(_t872.localName)){var _e660=Yt(_t872,o.vectorCanvas),_i631=He(Ei(_t872),_e660);if(Xe(_i631,h)){var _e661=qt(_t872),_i632=_e661.inverse(),_s330=Wt(_t872).multiplySelf(_i632);_t872[Hc]={clientToUserTransform:_e661,initialClientTransform:_s330},u.push(_t872);}}}}catch(err){_iterator518.e(err);}finally{_iterator518.f();}}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this347.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=new J(p,e).matrixTransform(c).transformRect(h);s=He(s,d),s=o.snapManager.snapBBox(s),s=He(s,c),s=je(s,o.geometryPrecision);var n=new J(s.x-h.x,s.y-h.y),l=n.matrixTransform(d);a.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height));var _iterator519=_createForOfIteratorHelper(u),_step519;try{for(_iterator519.s();!(_step519=_iterator519.n()).done;){var _t874=_step519.value;var _t874$Hc=_t874[Hc],_e662=_t874$Hc.clientToUserTransform,_i633=_t874$Hc.initialClientTransform,_s331=DOMMatrix.fromMatrix(_i633);_s331.translateSelf(l.x,l.y),_s331.multiplySelf(_e662),_t874.setAttribute("transform",_s331.toString());}}catch(err){_iterator519.e(err);}finally{_iterator519.f();}if(r){var _t873=n.transformPoint(r);_t873=Oe(_t873,o.geometryPrecision),a.setAttribute("refX",_t873.x),a.setAttribute("refY",_t873.y);}}),window.addEventListener("pointerup",_n265=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n265),o.snapManager.snapEnd(),_this347.Ir=!1;var _iterator520=_createForOfIteratorHelper(u),_step520;try{for(_iterator520.s();!(_step520=_iterator520.n()).done;){var _t875=_step520.value;ka(_t875,{geometryPrecision:o.geometryPrecision,transformPrecision:o.transformPrecision});}}catch(err){_iterator520.e(err);}finally{_iterator520.f();}});},Nr:function Nr(t,e,i){var _this348=this;var s,_n266,o=this.Mn,l=e.closest(".subhud"),a=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),e.closest(".subhud")[Nc]),h=e.getAttribute("data-position"),r=Ft.fromString(a.getAttribute("viewBox")||"0 0 0 0").toRect(),d=qt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=p.matrixTransform(c);o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Lr=!0;var x=new DOMPoint(e[Vc],e[jc]).matrixTransform(d),b=new J(p,x);window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=o.snapManager.snapPoint(e);!1===ze(e,i)&&(e=i,e.x-=b.x,e.y-=b.y);var s=e.matrixTransform(c),n=DOMRect.fromRect(r),l=new J(u,s);"left"===h?(n.x=r.x+l.x,n.width=r.width-l.x,n.width<0&&(n.x=r.x+r.width,n.width=Fc(n.width))):"right"===h?(n.width=r.width+l.x,n.width<0&&(n.width=Fc(n.width),n.x=r.x-n.width)):"top"===h?(n.height=r.height-l.y,n.y=r.y+l.y,n.height<0&&(n.height=Fc(n.height),n.y=r.y+r.height)):"bottom"===h?(n.height=r.height+l.y,n.height<0&&(n.height=Fc(n.height),n.y=r.y-n.height)):"top-left"===h?(n.width=r.width-l.x,n.height=r.height-l.y,n.x=r.x+l.x,n.y=r.y+l.y,n.width<0&&(n.width=Fc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Fc(n.height),n.y=r.y+r.height)):"top-right"===h?(n.width=r.width+l.x,n.height=r.height-l.y,n.y=r.y+l.y,n.width<0&&(n.width=Fc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Fc(n.height),n.y=r.y+r.height)):"bottom-left"===h?(n.width=r.width-l.x,n.height=r.height+l.y,n.x=r.x+l.x,n.width<0&&(n.width=Fc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Fc(n.height),n.y=r.y-n.height)):"bottom-right"===h&&(n.width=r.width+l.x,n.height=r.height+l.y,n.width<0&&(n.width=Fc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Fc(n.height),n.y=r.y-n.height)),n=je(n,o.geometryPrecision),a.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),window.addEventListener("pointerup",_n266=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n266),o.snapManager.snapEnd(),_this348.Lr=!1;});},Fr:function Fr(t,e,i){var _this349=this;var s,_n267,o=this.Mn,l=this.Mn.currentWorkspace,a=o.geometryPrecision,h=qt(l),r=h.inverse(),d=Gc(l),c=d.matrixTransform(h),p=new DOMPoint(t.clientX,t.clientY);o.undoManager.checkpoint("Move marker reference point"),o.snapManager.snapStart(),this.Rr=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this349.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(c.x+e.x-p.x,c.y+e.y-p.y)),n=new J(c,s).matrixTransform(r).transformPoint(d);n=Oe(n,a),l.setAttribute("refX",n.x),l.setAttribute("refY",n.y);}),window.addEventListener("pointerup",_n267=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n267),_this349.Mn.snapManager.snapEnd(),_this349.Rr=!1;});},Vr:function Vr(t){var e=this.Mn,i=this.Mn.currentWorkspace,s=e.geometryPrecision;if(e.undoManager.checkpoint("Reset marker reference point"),i.hasAttribute("viewBox")){var _Ft$fromString=Ft.fromString(i.getAttribute("viewBox")),_t876=_Ft$fromString.x,_e663=_Ft$fromString.y,_n268=_Ft$fromString.width,_o215=_Ft$fromString.height,_l200=tt(_t876+_n268/2,s),_a149=tt(_e663+_o215/2,s);i.setAttribute("refX",_l200),i.setAttribute("refY",_a149);}else i.removeAttribute("refX"),i.removeAttribute("refY");},rl:function rl(){var t=this.Mn.currentWorkspace;if(this["#subhuds"].innerHTML="",t.hasAttribute("viewBox")){var _e664=this["#subhud-template"].cloneNode(!0);_e664.removeAttribute("uid"),_e664[Nc]=t,this["#subhuds"].append(_e664);}var _iterator521=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step521;try{for(_iterator521.s();!(_step521=_iterator521.n()).done;){var _e665=_step521.value;var _t877=this["#subhud-template"].cloneNode(!0);_t877.removeAttribute("uid"),_t877[Nc]=_e665,this["#subhuds"].append(_t877);}}catch(err){_iterator521.e(err);}finally{_iterator521.f();}this.Br(),this.Gr();},Br:function Br(){var t=this.Mn.outermostSelectedElements;if(0===t.length){var _iterator522=_createForOfIteratorHelper(this["#subhuds"].children),_step522;try{for(_iterator522.s();!(_step522=_iterator522.n()).done;){var _t878=_step522.value;_t878[Nc]===this.Mn.currentWorkspace?_t878.setAttribute("data-selected",""):_t878.removeAttribute("data-selected");}}catch(err){_iterator522.e(err);}finally{_iterator522.f();}}else{var _iterator523=_createForOfIteratorHelper(this["#subhuds"].children),_step523;try{for(_iterator523.s();!(_step523=_iterator523.n()).done;){var _e666=_step523.value;t.includes(_e666[Nc])?_e666.setAttribute("data-selected",""):_e666.removeAttribute("data-selected");}}catch(err){_iterator523.e(err);}finally{_iterator523.f();}}},Gr:function Gr(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator524=_createForOfIteratorHelper(this["#subhuds"].children),_step524;try{for(_iterator524.s();!(_step524=_iterator524.n()).done;){var _e667=_step524.value;var _i634=_e667[Nc];if(_e667===t||null===t){var _Ft$fromString2=Ft.fromString(_i634.getAttribute("viewBox")||"0 0 0 0"),_t879=_Ft$fromString2.x,s=_Ft$fromString2.y,_n269=_Ft$fromString2.width,_o216=_Ft$fromString2.height;var _iterator525=_createForOfIteratorHelper(_e667.children),_step525;try{for(_iterator525.s();!(_step525=_iterator525.n()).done;){var _l201=_step525.value;if("text"===_l201.localName){var _e668=_l201;if(_e668.setAttribute("x",_t879),_e668.setAttribute("y",s-10/this.Mn.scale),_e668.style.fontSize=12/this.Mn.scale+"px","view"===_i634.localName){if(this.Ar)_i634.hasAttribute("id")?(_e668.textContent="#"+_i634.id,_e668.style.fontWeight="700"):(_e668.textContent="Custom view",_e668.style.fontWeight="400");else{var _t880=_i634.querySelector("bx-title");_t880&&_t880.textContent.length>0?(_e668.textContent=_t880.textContent,_e668.style.fontWeight="700"):(_e668.textContent="Custom view",_e668.style.fontWeight="400");}}else _e668.textContent="Default view",_e668.style.fontWeight="400";}else{var _e669=_l201,_a150=_e669.getAttribute("data-position");if("center"===_a150)_e669.x.baseVal.value=_t879,_e669.y.baseVal.value=s,_e669.width.baseVal.value=_n269,_e669.height.baseVal.value=_o216;else if("left"===_a150)_e669.x1.baseVal.value=_t879,_e669.y1.baseVal.value=s,_e669.x2.baseVal.value=_t879,_e669.y2.baseVal.value=s+_o216,_e669[Vc]=_t879,_e669[jc]=s+_o216/2;else if("right"===_a150)_e669.x1.baseVal.value=_t879+_n269,_e669.y1.baseVal.value=s,_e669.x2.baseVal.value=_t879+_n269,_e669.y2.baseVal.value=s+_o216,_e669[Vc]=_t879+_n269,_e669[jc]=s+_o216/2;else if("top"===_a150)_e669.x1.baseVal.value=_t879,_e669.y1.baseVal.value=s,_e669.x2.baseVal.value=_t879+_n269,_e669.y2.baseVal.value=s,_e669[Vc]=_t879+_n269/2,_e669[jc]=s;else if("bottom"===_a150)_e669.x1.baseVal.value=_t879,_e669.y1.baseVal.value=s+_o216,_e669.x2.baseVal.value=_t879+_n269,_e669.y2.baseVal.value=s+_o216,_e669[Vc]=_t879+_n269/2,_e669[jc]=s+_o216;else if("top-left"===_a150){var _i635=new DOMMatrix();_i635.scaleSelf(1/this.Mn.scale,1/this.Mn.scale,1,_t879,s),_i635.translateSelf(_t879-15,s-15),_e669.setAttribute("transform",_i635.toString()),_e669[Vc]=_t879,_e669[jc]=s;}else if("top-right"===_a150){var _i636=new DOMMatrix();_i636.scaleSelf(1/this.Mn.scale,1/this.Mn.scale,1,_t879+_n269,s),_i636.translateSelf(_t879+_n269-15,s-15),_e669.setAttribute("transform",_i636.toString()),_e669[Vc]=_t879+_n269,_e669[jc]=s;}else if("bottom-left"===_a150){var _i637=new DOMMatrix();_i637.scaleSelf(1/this.Mn.scale,1/this.Mn.scale,1,_t879,s+_o216),_i637.translateSelf(_t879-15,s+_o216-15),_e669.setAttribute("transform",_i637.toString()),_e669[Vc]=_t879,_e669[jc]=s+_o216;}else if("bottom-right"===_a150){var _i638=new DOMMatrix();_i638.scaleSelf(1/this.Mn.scale,1/this.Mn.scale,1,_t879+_n269,s+_o216),_i638.translateSelf(_t879+_n269-15,s+_o216-15),_e669.setAttribute("transform",_i638.toString()),_e669[Vc]=_t879+_n269,_e669[jc]=s+_o216;}else if("ref"===_a150)if("marker"===_i634.getAttribute("data-bx-workspace")){var _t881=Gc(this.Mn.currentWorkspace),_i639=new DOMMatrix();_i639.scaleSelf(1/this.Mn.scale,1/this.Mn.scale,1,_t881.x,_t881.y),_i639.translateSelf(_t881.x-12,_t881.y-12),_e669.setAttribute("x",_t881.x-12),_e669.setAttribute("y",_t881.y-12),_e669.setAttribute("transform",_i639.toString()),_e669.style.display=null;}else _e669.style.display="none";}}}catch(err){_iterator525.e(err);}finally{_iterator525.f();}}}}catch(err){_iterator524.e(err);}finally{_iterator524.f();}}};var Yc={id:"outline-hud",get context(){return this.getAttribute("context")||"transform";},set context(t){this.setAttribute("context",t);},createdCallback:function createdCallback(){this.jr=null,this.Hr=es(this.qs,30,this),this.Dh=es(this.qs,200,this),this.innerHTML='\n  <style>\n    #outline-hud [uid="outline"] {\n      fill: none;\n      stroke: rgb(245, 92, 54);\n      stroke-width: 2;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n  </style>\n\n  <path uid="outline"></path>\n';var _iterator526=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step526;try{for(_iterator526.s();!(_step526=_iterator526.n()).done;){var _t882=_step526.value;this["#"+_t882.getAttribute("uid")]=_t882;}}catch(err){_iterator526.e(err);}finally{_iterator526.f();}},enabledCallback:function enabledCallback(){var _this350=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board"),this.Qs.addEventListener("modkeyschange",this.Jh=function(){_this350.Hr();}),this.Mn.addEventListener("workspacemutation",this.hn=function(){_this350.Hr();}),this.Mn.addEventListener("currentcontainerchange",this.Wr=function(){_this350.Hr();}),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this350.sl();}),this.Mn.workspaces.addEventListener("pointerover",this.Yr=function(t){_this350.qr(t);}),this.Mn.workspaces.addEventListener("pointerout",this.Xr=function(t){_this350.Zr(t);}),this.qs();},disabledCallback:function disabledCallback(){this["#outline"].removeAttribute("d"),this.Qs.removeEventListener("modkeyschange",this.Jh),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("currentcontainerchange",this.Wr),this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.workspaces.removeEventListener("pointerover",this.Yr),this.Mn.workspaces.removeEventListener("pointerout",this.Xr);},sl:function sl(){this.qs();},qr:function qr(t){this.jr=t.target,this.Hr();},Zr:function Zr(){this.jr=null,this.Dh();},qs:function qs(){var t=this.Kr();if(t){var _e670=t.localName,_i640=null,s=null;if("path"===_e670?_i640=t.getAttribute("d"):"rect"!==_e670&&"circle"!==_e670&&"ellipse"!==_e670&&"line"!==_e670&&"polyline"!==_e670&&"polygon"!==_e670||(_i640=ot(t.getPathData())),null===_i640){var _e671=Ei(t);_i640="\n          M ".concat(_e671.x," ").concat(_e671.y,"\n          L ").concat(_e671.x+_e671.width," ").concat(_e671.y,"\n          L ").concat(_e671.x+_e671.width," ").concat(_e671.y+_e671.height,"\n          L ").concat(_e671.x," ").concat(_e671.y+_e671.height,"\n          L ").concat(_e671.x," ").concat(_e671.y,"\n        ");}null===s&&(s=Yt(t,this).toString()),_i640?this["#outline"].setAttribute("d",_i640):this["#outline"].removeAttribute("d"),s?this["#outline"].setAttribute("transform",s):this["#outline"].removeAttribute("transform");}else this["#outline"].removeAttribute("d");},Kr:function Kr(){var _this$Qs$modKeys9=this.Qs.modKeys,t=_this$Qs$modKeys9.ctrl,e=_this$Qs$modKeys9.alt,i=_this$Qs$modKeys9.shift,s=this.Js.board,n=this.jr,o=null,l=null;if("transform"===this.context?t||i?!t&&i?o="normal-multi":t&&!i?o="direct":t&&i&&(o="direct-multi"):o="normal":"edit"===this.context?o="direct":"edit-text"===this.context&&(o="direct-text"),n&&s.isSelectableElement(n)){var _t883=this.$n(n),_e672=s.selectedElements.includes(n),_i641=_e672;var _iterator527=_createForOfIteratorHelper(_t883),_step527;try{for(_iterator527.s();!(_step527=_iterator527.n()).done;){var _e675=_step527.value;s.selectedElements.includes(_e675)&&(_i641=!0);}}catch(err){_iterator527.e(err);}finally{_iterator527.f();}if("normal"===o){if(!1===_i641)if(0===_t883.length)l=n;else{var _t884=s.currentContainer,_e673=n;if(_t884&&_t884.contains(_e673))for(;_e673.parentNode!==_t884;){_e673=_e673.parentNode;}else{var _i642=this.Xo(_e673,_t884);for(;_e673.parentNode!==_i642&&_e673.parentNode!==s.currentWorkspace;){_e673=_e673.parentNode;}}l=_e673;}}else if("normal-multi"===o){if(0===_t883.length)l=n;else{var _t885=n;if(s.currentContainer&&s.currentContainer.contains(_t885))for(;_t885.parentNode!==s.currentContainer;){_t885=_t885.parentNode;}else{var _e674=this.Xo(_t885,s.currentContainer);for(;_t885.parentNode!==_e674&&_t885.parentNode!==s.currentWorkspace;){_t885=_t885.parentNode;}}l=_t885;}}else"direct"===o?!1===_e672&&(l=n):"direct-multi"===o?l=n:"direct-text"===o&&!1===_e672&&n.closest("text")&&(l=n.closest("text"));}return l;},$n:function $n(t){var e=[];if(t!==this.Mn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Mn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;},Xo:function Xo(t,e){var i=Ni(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}};var qc={id:"rubber-band-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #rubber-band-hud [uid="rect"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="rect"][hidden] {\n      display: none;\n    }\n\n    #rubber-band-hud [uid="polygon"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="polygon"][hidden] {\n      display: none;\n    }\n  </style>\n\n  <rect uid="rect" x="0" y="0" width="0" height="0" hidden></rect>\n  <polyline uid="polygon" hidden></polyline>\n';var _iterator528=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step528;try{for(_iterator528.s();!(_step528=_iterator528.n()).done;){var _t886=_step528.value;this["#"+_t886.getAttribute("uid")]=_t886;}}catch(err){_iterator528.e(err);}finally{_iterator528.f();}},grabSelection:function grabSelection(t,e){var _this351=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rect";return new Promise(function(s){var n,_o218,l=qt(_this351).inverse(),a=new DOMPoint(t,e).matrixTransform(l);if("rect"===i){var _t887=0,_e676=0,_i643=0,_h124=0;_this351["#rect"].removeAttribute("hidden"),window.addEventListener("pointermove",n=function n(s){if(!1===s.isPrimary)return;var n=new DOMPoint(s.clientX,s.clientY).matrixTransform(l);_i643=n.x-a.x,_h124=n.y-a.y,_i643<0?(_i643=-_i643,_t887=a.x-_i643):_t887=a.x,_h124<0?(_h124=-_h124,_e676=a.y-_h124):_e676=a.y,_this351["#rect"].setAttribute("x",_t887),_this351["#rect"].setAttribute("y",_e676),_this351["#rect"].setAttribute("width",_i643),_this351["#rect"].setAttribute("height",_h124);}),window.addEventListener("pointerup",_o218=function o(l){if(!1===l.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o218),_this351["#rect"].setAttribute("hidden",""),_this351["#rect"].setAttribute("x",0),_this351["#rect"].setAttribute("y",0),_this351["#rect"].setAttribute("width",0),_this351["#rect"].setAttribute("height",0);var a=new DOMRect(_t887,_e676,_i643,_h124);s(a);});}else if("polygon"===i){var _t888=0,_e677=0;_this351["#polygon"].removeAttribute("hidden"),_this351["#polygon"].points.appendItem(Le(a)),window.addEventListener("pointermove",n=function n(i){if(!1===i.isPrimary)return;var s=new DOMPoint(i.clientX,i.clientY).matrixTransform(l);_t888=s.x,_e677=s.y;var _iterator529=_createForOfIteratorHelper(i.getCoalescedEvents()),_step529;try{for(_iterator529.s();!(_step529=_iterator529.n()).done;){var _t889=_step529.value;var _e678=new DOMPoint(_t889.clientX,_t889.clientY).matrixTransform(l);_this351["#polygon"].points.appendItem(Le(_e678));}}catch(err){_iterator529.e(err);}finally{_iterator529.f();}}),window.addEventListener("pointerup",_o218=function _o217(t){if(!1===t.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o218);var e=_toConsumableArray(_this351["#polygon"].points).map(function(t){return DOMPoint.fromPoint(t);});_this351["#polygon"].setAttribute("points",""),_this351["#polygon"].setAttribute("hidden",""),s(e);});}});}};var Xc=Math.abs,Zc=Math.atan,Kc=Math.min,Qc=Math.max,Jc=Number.parseFloat,tp=12,ep=12,ip=12,sp=10,np=Symbol(),op=Symbol(),lp=Symbol(),ap=Symbol();var hp={id:"transform-hud",get mode(){return this.Qr;},set mode(t){this.Qr=t,this.Jr();},get isScaling(){return this.td;},createdCallback:function createdCallback(){var _this352=this;this.ed={},this.sd={},this.nd={},this.od=!1,this.td=!1,this.ld=!1,this.Qr="scale",this.ad=es(this.kr,25,this),this.hd=es(this.kr,250,this),this.innerHTML='\n  <style>\n    #transform-hud [uid="scale-grippies"] > .grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="rotate-grippies"] > .grippie {\n      fill: red;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="skew-grippies"] > .grippie {\n      fill: orange;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <g uid="grippies">\n    <g uid="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg uid="origin-grippie" viewBox="0 0 100 100" visibility="hidden">\n      <rect x="41" width="17" height="100" fill="inherit"></rect>\n      <rect x="41" width="17" height="100" fill="inherit" transform="matrix(0, 1, -1, 0, 100, 0.5)"></rect>\n      <rect x="0" y="0" width="100" height="100" style="opacity: 0;"/>\n    </svg>\n  </g>\n';var _iterator530=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step530;try{for(_iterator530.s();!(_step530=_iterator530.n()).done;){var _t890=_step530.value;this["#"+_t890.getAttribute("uid")]=_t890;}}catch(err){_iterator530.e(err);}finally{_iterator530.f();}var _iterator531=_createForOfIteratorHelper(this["#scale-grippies"].children),_step531;try{for(_iterator531.s();!(_step531=_iterator531.n()).done;){var _t891=_step531.value;this.ed[_t891.getAttribute("data-position")]=_t891;}}catch(err){_iterator531.e(err);}finally{_iterator531.f();}var _iterator532=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step532;try{for(_iterator532.s();!(_step532=_iterator532.n()).done;){var _t892=_step532.value;this.nd[_t892.getAttribute("data-position")]=_t892;}}catch(err){_iterator532.e(err);}finally{_iterator532.f();}var _iterator533=_createForOfIteratorHelper(this["#skew-grippies"].children),_step533;try{for(_iterator533.s();!(_step533=_iterator533.n()).done;){var _t893=_step533.value;this.sd[_t893.getAttribute("data-position")]=_t893;}}catch(err){_iterator533.e(err);}finally{_iterator533.f();}this.addEventListener("pointerdown",function(t){_this352.wo(t);}),this.addEventListener("dblclick",function(t){_this352.Pa(t);});},enabledCallback:function enabledCallback(){var _this353=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this353.sl();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this353.al(t.detail);}),this.Mn.addEventListener("zoomchange",this.an=function(){_this353.ll();}),this.sl(),this.ll();},disabledCallback:function disabledCallback(){this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("zoomchange",this.an);},forceUpdate:function forceUpdate(){this.kr();},Jr:function Jr(){"scale"===this.mode?(this["#scale-grippies"].style.setProperty("visibility","visible"),this["#rotate-grippies"].style.setProperty("visibility","hidden"),this["#skew-grippies"].style.setProperty("visibility","hidden"),this["#origin-grippie"].style.setProperty("visibility","hidden")):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.setProperty("visibility","hidden"),this["#rotate-grippies"].style.setProperty("visibility","visible"),this["#skew-grippies"].style.setProperty("visibility","visible"),this["#origin-grippie"].style.setProperty("visibility","visible")),this.kr();},sl:function sl(){0===this.Mn.selectedObjectElements.length?this["#grippies"].style.setProperty("display","none"):this["#grippies"].style.setProperty("display","block"),this.kr();},al:function al(t){this.Mn.selectedElements.length>100?this.hd():this.ad();},ll:function ll(){this.ad();},wo:function wo(t){var _this354=this;var _e679,_i644,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e679=function e(i){var l=new DOMPoint(i.clientX,i.clientY),a=i.timeStamp-t.timeStamp,h=Te(n,l)>3||a>80,r=!1===ze(o,l,0);o=l,!0===h&&!0===r&&(s.removeEventListener("pointermove",_e679),_this354.ro(t,i));}),s.addEventListener("pointerup",_i644=function i(t){s.removeEventListener("pointermove",_e679),s.removeEventListener("pointerup",_i644);});},Pa:function Pa(t){var e=t.target.parentElement;e===this["#rotate-grippies"]?this.rd(t):e===this["#skew-grippies"]?this.dd(t):e===this["#origin-grippie"]&&this.pd(t);},ro:function ro(t,e){var i=e.target.parentElement;if(i===this["#scale-grippies"]){var _i645=e.target;this.ud(t,_i645);}else if(i===this["#rotate-grippies"])this.xd(t);else if(i===this["#skew-grippies"]){var _i646=e.target;this.bd(t,_i646);}else i===this["#origin-grippie"]&&this.md(t);},ud:function ud(t,e){var _this355=this;if(0!==t.button)return;var i,_s336,n=_toConsumableArray(this.Mn.outermostSelectedObjectElements),o=e.getAttribute("data-position"),l=new DOMPoint(e.x.baseVal.value+e.width.baseVal.value/2,e.y.baseVal.value+e.height.baseVal.value/2).matrixTransform(qt(e)),a=new DOMPoint(t.clientX,t.clientY),h=new J(a,l),r=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),d=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),c=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),p=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);this.td=!0,this.Mn.undoManager.checkpoint("Scale"),this.Mn.snapManager.snapStart(),n=n.filter(function(t){if("text"===t.localName){var _e680=_this355.qo(t);if(_e680&&_this355.Mn.outermostSelectedElements.includes(_e680))return!1;}return!0;});var _iterator534=_createForOfIteratorHelper(n),_step534;try{for(_iterator534.s();!(_step534=_iterator534.n()).done;){var _t899=_step534.value;if(!0===r){var _e686=qt(_t899),_Wl17=Wl(_e686),_i651=_Wl17.scaleX,s=_Wl17.scaleY,_n274="left"===o||"right"===o?_i651:s,_l204=getComputedStyle(_t899);_t899[np]=_t899.style.getPropertyValue("stroke-width"),_t899[op]=_t899.style.getPropertyValue("vector-effect");var _a152=Xc(_n274)*Jc(_l204.getPropertyValue("stroke-width"));_t899.style.setProperty("stroke-width",_a152),_t899.style.setProperty("vector-effect","non-scaling-stroke");}}}catch(err){_iterator534.e(err);}finally{_iterator534.f();}if(this.gd(n)){var _n270=n,_n271=_toArray(_n270),_t894=_n271[0],_e681=_n271.slice(1),_s332=Symbol();this.ld=!0;Yt(_t894,this);var _iterator535=_createForOfIteratorHelper(n),_step535;try{var _loop17=function _loop17(){var t=_step535.value;var e=qt(t).inverse(),i=Wt(t),o=n.filter(function(e){return e!==t;}),l=[Ei(t)];var _iterator537=_createForOfIteratorHelper(o),_step537;try{for(_iterator537.s();!(_step537=_iterator537.n()).done;){var _e683=_step537.value;var _i648=Yt(_e683,t),_s333=He(Ei(_e683),_i648);l.push(_s333);}}catch(err){_iterator537.e(err);}finally{_iterator537.f();}var a=We(l);t[_s332]={clientToUserTransform:e,userTransform:i,bbox:a};};for(_iterator535.s();!(_step535=_iterator535.n()).done;){_loop17();}}catch(err){_iterator535.e(err);}finally{_iterator535.f();}window.addEventListener("pointermove",i=function i(t){var _iterator536=_createForOfIteratorHelper(n),_step536;try{for(_iterator536.s();!(_step536=_iterator536.n()).done;){var _e682=_step536.value;var _e682$_s=_e682[_s332],_i647=_e682$_s.clientToUserTransform,_n272=_e682$_s.userTransform,_l202=_e682$_s.bbox,_r77=a.matrixTransform(_i647),_d61=new DOMPoint(t.clientX,t.clientY);{var _t895=_this355.Mn.snapManager.snapPoint(_d61);!1===ze(_d61,_t895)&&(_d61=_t895,_d61.x-=h.x,_d61.y-=h.y);}var _c47=_d61.matrixTransform(_i647),_u35=_c47.x-_r77.x,_x109=_c47.y-_r77.y,_this355$fd=_this355.fd(_u35,_x109,_l202,o,p),_b33=_this355$fd.centerX,_m32=_this355$fd.centerY,_g29=_this355$fd.scaleX,_f20=_this355$fd.scaleY,_w18=-_b33*(_g29-1),_v14=-_m32*(_f20-1),_y6=DOMMatrix.fromMatrix(_n272);_y6.translateSelf(_w18,_v14),_y6.scaleSelf(_g29,_f20),_e682.setAttribute("transform",_y6);}}catch(err){_iterator536.e(err);}finally{_iterator536.f();}});}else{var _e684=this.Mn.outermostSelectedObjectElements.map(function(t){return Ti(t);}),_s334=We(_e684);var _iterator538=_createForOfIteratorHelper(n),_step538;try{for(_iterator538.s();!(_step538=_iterator538.n()).done;){var _t897=_step538.value;var _e685=qt(_t897),_i650=_e685.inverse(),_s335=Wt(_t897);_t897[lp]={clientToUserTransform:_e685,userToClientTransform:_i650,userTransform:_s335};}}catch(err){_iterator538.e(err);}finally{_iterator538.f();}window.addEventListener("pointermove",i=function i(e){var _iterator539=_createForOfIteratorHelper(n),_step539;try{for(_iterator539.s();!(_step539=_iterator539.n()).done;){var _i649=_step539.value;var _n273=new DOMPoint(t.clientX,t.clientY),_l203=new DOMPoint(e.clientX,e.clientY);{var _t896=_this355.Mn.snapManager.snapPoint(_l203);!1===ze(_l203,_t896)&&(_l203=_t896,_l203.x-=h.x,_l203.y-=h.y);}var _a151=_l203.x-_n273.x,_r78=_l203.y-_n273.y,_i649$lp=_i649[lp],_d62=_i649$lp.clientToUserTransform,_c48=_i649$lp.userToClientTransform,_u36=_i649$lp.userTransform,_this355$fd2=_this355.fd(_a151,_r78,_s334,o,p),_x110=_this355$fd2.centerX,_b34=_this355$fd2.centerY,_m33=_this355$fd2.scaleX,_g30=_this355$fd2.scaleY,_f21=-_x110*(_m33-1),_w19=-_b34*(_g30-1),_v15=DOMMatrix.fromMatrix(_u36);_v15.multiplySelf(_c48),_v15.translateSelf(_f21,_w19),_v15.scaleSelf(_m33,_g30),_v15.multiplySelf(_d62),_i649.setAttribute("transform",_v15.toString());}}catch(err){_iterator539.e(err);}finally{_iterator539.f();}});}window.addEventListener("pointerup",_s336=function s(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",_s336);var _iterator540=_createForOfIteratorHelper(n),_step540;try{for(_iterator540.s();!(_step540=_iterator540.n()).done;){var _t898=_step540.value;!0===r&&(_t898.style.setProperty("stroke-width",_t898[np]),_t898.style.setProperty("vector-effect",_t898[op])),ka(_t898,{geometryPrecision:_this355.Mn.geometryPrecision,transformPrecision:_this355.Mn.transformPrecision,preserveStrokeWidth:r,preserveRectRadii:d,preserveRotation:c,transformDirection:o});}}catch(err){_iterator540.e(err);}finally{_iterator540.f();}_this355.Mn.snapManager.snapEnd(),_this355.td=!1,_this355.ld=!1;});},xd:function xd(t){var _this356=this;if(0!==t.button)return;var e=_toConsumableArray(this.Mn.outermostSelectedObjectElements),i=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);if(this.Mn.undoManager.checkpoint("Rotate"),e=e.filter(function(t){if("text"===t.localName){var _e687=_this356.qo(t);if(_e687&&_this356.Mn.outermostSelectedObjectElements.includes(_e687))return!1;}return!0;}),this.gd(e)&&(this.ld=!0),1===e.length){var s,_n276,_o219=e[0],_l205=ne(_o219),_a153=new DOMPoint(t.clientX,t.clientY),_h125=se([_o219]);this.od=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=Ge(_h125,_a153,e),s=_l205+i;_this356.Qs.modKeys.shift&&(s=Fe(s,15)),oe(_o219,s);}),window.addEventListener("pointerup",_n276=function _n275(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n276),ka(_o219,{geometryPrecision:_this356.Mn.geometryPrecision,transformPrecision:_this356.Mn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i}),_this356.od=!1,_this356.ld=!1;});}else{var _s337,_n279,_o220=se(e),_l206=new DOMPoint(t.clientX,t.clientY);var _iterator541=_createForOfIteratorHelper(e),_step541;try{for(_iterator541.s();!(_step541=_iterator541.n()).done;){var _t901=_step541.value;var _e689=Wt(_t901),_i653=qt(_t901),_s339=_i653.inverse();_t901[lp]={clientToUserTransform:_i653,userToClientTransform:_s339,userTransform:_e689};}}catch(err){_iterator541.e(err);}finally{_iterator541.f();}this.od=!0,window.addEventListener("pointermove",_s337=function _s337(t){var _iterator542=_createForOfIteratorHelper(e),_step542;try{for(_iterator542.s();!(_step542=_iterator542.n()).done;){var _i652=_step542.value;var _i652$lp=_i652[lp],_e688=_i652$lp.clientToUserTransform,_s338=_i652$lp.userToClientTransform,_n278=_i652$lp.userTransform,_a154=new DOMPoint(t.clientX,t.clientY),_h126=Ge(_o220,_l206,_a154);_this356.Qs.modKeys.shift&&(_h126=Fe(_h126,15));var _r79=DOMMatrix.fromMatrix(_n278);_r79.multiplySelf(_s338),_r79.translateSelf(_o220.x,_o220.y),_r79.rotateSelf(_h126),_r79.translateSelf(-_o220.x,-_o220.y),_r79.multiplySelf(_e688),_i652.setAttribute("transform",_r79);}}catch(err){_iterator542.e(err);}finally{_iterator542.f();}}),window.addEventListener("pointerup",_n279=function _n277(t){window.removeEventListener("pointermove",_s337),window.removeEventListener("pointerup",_n279);var _iterator543=_createForOfIteratorHelper(e),_step543;try{for(_iterator543.s();!(_step543=_iterator543.n()).done;){var _t900=_step543.value;ka(_t900,{geometryPrecision:_this356.Mn.geometryPrecision,transformPrecision:_this356.Mn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i});}}catch(err){_iterator543.e(err);}finally{_iterator543.f();}_this356.od=!1,_this356.ld=!1;});}},bd:function bd(t,e){var _this357=this;if(0!==t.button)return;var i,_s345,n,o=_toConsumableArray(this.Mn.outermostSelectedObjectElements),l=e.getAttribute("data-position");n="top"===l||"bottom"===l?"horizontal":"vertical";this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0);var a=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),h=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);this.Mn.undoManager.checkpoint("Skew"),o=o.filter(function(t){if("text"===t.localName){var _e690=_this357.qo(t);if(_e690&&_this357.Mn.outermostSelectedElements.includes(_e690))return!1;}return!0;});var _iterator544=_createForOfIteratorHelper(o),_step544;try{for(_iterator544.s();!(_step544=_iterator544.n()).done;){var _t906=_step544.value;_t906[np]=_t906.style.getPropertyValue("stroke-width"),_t906[op]=_t906.style.getPropertyValue("vector-effect");var _e696=qt(_t906),_Wl18=Wl(_e696),_i659=_Wl18.scaleX,s=_Wl18.scaleY,_n280=(_i659+s)/2,_o225=getComputedStyle(_t906),_l210=Xc(_n280)*Jc(_o225.getPropertyValue("stroke-width"));_t906.style.setProperty("stroke-width",_l210),_t906.style.setProperty("vector-effect","non-scaling-stroke");}}catch(err){_iterator544.e(err);}finally{_iterator544.f();}if(this.gd(o)){var _o221=o,_o222=_toArray(_o221),_e691=_o222[0],_s340=_o222.slice(1),_l207=Ei(_e691),_a155=[],_h127=Symbol();var _iterator545=_createForOfIteratorHelper(_s340),_step545;try{for(_iterator545.s();!(_step545=_iterator545.n()).done;){var _t902=_step545.value;var _i655=Yt(_t902,_e691),_s342=He(Ei(_t902),_i655);_a155.push(_s342);}}catch(err){_iterator545.e(err);}finally{_iterator545.f();}We([_l207].concat(_a155)),Yt(_e691,this);var _r80=new DOMPoint(t.clientX,t.clientY),_d63=se(o);var _iterator546=_createForOfIteratorHelper(o),_step546;try{for(_iterator546.s();!(_step546=_iterator546.n()).done;){var _t903=_step546.value;var _e693=qt(_t903).inverse(),_i656=Wt(_t903);_t903[_h127]={clientToUserTransform:_e693,userTransform:_i656};}}catch(err){_iterator546.e(err);}finally{_iterator546.f();}window.addEventListener("pointermove",i=function i(t){var _this357$Qs$modKeys=_this357.Qs.modKeys,e=_this357$Qs$modKeys.ctrl,i=_this357$Qs$modKeys.alt,s=_this357$Qs$modKeys.shift;var _iterator547=_createForOfIteratorHelper(o),_step547;try{for(_iterator547.s();!(_step547=_iterator547.n()).done;){var _e692=_step547.value;var _e692$_h=_e692[_h127],_i654=_e692$_h.clientToUserTransform,_s341=_e692$_h.userTransform,_o223=_r80.matrixTransform(_i654),_l208=_d63.matrixTransform(_i654),_a156=new DOMPoint(t.clientX,t.clientY).matrixTransform(_i654),_c49=Ge(_l208,_o223,_a156),_p41=DOMMatrix.fromMatrix(_s341);_p41="horizontal"===n?ae(_p41,-_c49,0,_l208.x,_l208.y):ae(_p41,0,_c49,_l208.x,_l208.y),_e692.setAttribute("transform",_p41.toString());}}catch(err){_iterator547.e(err);}finally{_iterator547.f();}});}else{var _e694=new DOMPoint(t.clientX,t.clientY),_s343=se(o);var _iterator548=_createForOfIteratorHelper(o),_step548;try{for(_iterator548.s();!(_step548=_iterator548.n()).done;){var _t904=_step548.value;var _e695=qt(_t904),_i658=_e695.inverse(),_s344=Wt(_t904);_t904[lp]={clientToUserTransform:_e695,userToClientTransform:_i658,userTransform:_s344};}}catch(err){_iterator548.e(err);}finally{_iterator548.f();}window.addEventListener("pointermove",i=function i(t){var _iterator549=_createForOfIteratorHelper(o),_step549;try{for(_iterator549.s();!(_step549=_iterator549.n()).done;){var _i657=_step549.value;var _i657$lp=_i657[lp],_o224=_i657$lp.clientToUserTransform,_l209=_i657$lp.userToClientTransform,_a157=_i657$lp.userTransform,_h128=new DOMPoint(t.clientX,t.clientY),_r81=Ge(_s343,_e694,_h128),_d64=DOMMatrix.fromMatrix(_a157);_d64.multiplySelf(_l209),_d64="horizontal"===n?ae(_d64,-_r81,0,_s343.x,_s343.y):ae(_d64,0,_r81,_s343.x,_s343.y),_d64.multiplySelf(_o224),_i657.setAttribute("transform",_d64.toString());}}catch(err){_iterator549.e(err);}finally{_iterator549.f();}});}window.addEventListener("pointerup",_s345=function s(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",_s345);var _iterator550=_createForOfIteratorHelper(o),_step550;try{for(_iterator550.s();!(_step550=_iterator550.n()).done;){var _t905=_step550.value;_t905.style.setProperty("stroke-width",_t905[np]),_t905.style.setProperty("vector-effect",_t905[op]),ka(_t905,{geometryPrecision:_this357.Mn.geometryPrecision,transformPrecision:_this357.Mn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:a,preserveRotation:h});}}catch(err){_iterator550.e(err);}finally{_iterator550.f();}});},md:function md(t){var _this358=this;if(0!==t.button)return;var e,_i661,s=_toConsumableArray(this.Mn.outermostSelectedObjectElements),n=new DOMPoint(t.clientX,t.clientY);var _iterator551=_createForOfIteratorHelper(s),_step551;try{for(_iterator551.s();!(_step551=_iterator551.n()).done;){var _t908=_step551.value;var _e698=qt(_t908).inverse(),_i662=Ei(_t908);_t908[lp]={clientToUserTransform:_e698},_t908[ap]=_i662;}}catch(err){_iterator551.e(err);}finally{_iterator551.f();}this.Mn.undoManager.checkpoint("Move origin");var o=se(s);window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(n,e),l=new DOMPoint(o.x+i.x,o.y+i.y);var _iterator552=_createForOfIteratorHelper(s),_step552;try{for(_iterator552.s();!(_step552=_iterator552.n()).done;){var _t907=_step552.value;var _e697=_t907[lp].clientToUserTransform,_i660=_t907[ap],_s346=l.matrixTransform(_e697),_n281=ce(_s346,_i660),_o226=tt(_n281.x,_this358.Mn.geometryPrecision),_a158=tt(_n281.y,_this358.Mn.geometryPrecision);_t907.setAttribute("data-bx-origin","".concat(_o226," ").concat(_a158));}}catch(err){_iterator552.e(err);}finally{_iterator552.f();}}),window.addEventListener("pointerup",_i661=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i661);});},rd:function rd(t){this.Mn.undoManager.checkpoint("Remove transform");var _iterator553=_createForOfIteratorHelper(this.Mn.outermostSelectedObjectElements),_step553;try{for(_iterator553.s();!(_step553=_iterator553.n()).done;){var _t909=_step553.value;_t909.removeAttribute("transform");}}catch(err){_iterator553.e(err);}finally{_iterator553.f();}},dd:function dd(t){this.Mn.undoManager.checkpoint("Remove transform");var _iterator554=_createForOfIteratorHelper(this.Mn.outermostSelectedObjectElements),_step554;try{for(_iterator554.s();!(_step554=_iterator554.n()).done;){var _t910=_step554.value;_t910.removeAttribute("transform");}}catch(err){_iterator554.e(err);}finally{_iterator554.f();}},pd:function pd(t){this.Mn.undoManager.checkpoint("Reset transform origin");var _iterator555=_createForOfIteratorHelper(this.Mn.outermostSelectedObjectElements),_step555;try{for(_iterator555.s();!(_step555=_iterator555.n()).done;){var _t911=_step555.value;_t911.removeAttribute("data-bx-origin");}}catch(err){_iterator555.e(err);}finally{_iterator555.f();}},kr:function kr(){"scale"===this.mode?this.wd():"rotate-and-skew"===this.mode&&(this.vd(),this.yd(),!1===this.od&&this.kd());},wd:function wd(){var t=this.Mn.outermostSelectedObjectElements;if(t.length>0){var _e699,_i663=tp/this.Mn.scale,s=(this.Mn.scale,this.ed);var _iterator556=_createForOfIteratorHelper(this["#scale-grippies"].children),_step556;try{for(_iterator556.s();!(_step556=_iterator556.n()).done;){var _t914=_step556.value;_t914.width.baseVal.value=_i663,_t914.height.baseVal.value=_i663;}}catch(err){_iterator556.e(err);}finally{_iterator556.f();}if(this.ld||this.gd(t)){var _t912=_toArray(t),_n282=_t912[0],_o227=_t912.slice(1),_l211=Ei(_n282),_a159=[];var _iterator557=_createForOfIteratorHelper(_o227),_step557;try{for(_iterator557.s();!(_step557=_iterator557.n()).done;){var _t913=_step557.value;var _e700=Yt(_t913,_n282),_i664=He(Ei(_t913),_e700);_a159.push(_i664);}}catch(err){_iterator557.e(err);}finally{_iterator557.f();}_e699=We([_l211].concat(_a159));var _h129=Yt(_n282,this),_r82=new DOMPoint(_e699.x+_e699.width/2,_e699.y).matrixTransform(_h129);s.top.x.baseVal.value=_r82.x-_i663/2,s.top.y.baseVal.value=_r82.y-_i663/2;var _d65=new DOMPoint(_e699.x+_e699.width/2,_e699.y+_e699.height).matrixTransform(_h129);s.bottom.x.baseVal.value=_d65.x-_i663/2,s.bottom.y.baseVal.value=_d65.y-_i663/2;var _c50=new DOMPoint(_e699.x,_e699.y+_e699.height/2).matrixTransform(_h129);s.left.x.baseVal.value=_c50.x-_i663/2,s.left.y.baseVal.value=_c50.y-_i663/2;var _p42=new DOMPoint(_e699.x+_e699.width,_e699.y+_e699.height/2).matrixTransform(_h129);s.right.x.baseVal.value=_p42.x-_i663/2,s.right.y.baseVal.value=_p42.y-_i663/2;var _u37=new DOMPoint(_e699.x,_e699.y).matrixTransform(_h129);s["top-left"].x.baseVal.value=_u37.x-_i663/2,s["top-left"].y.baseVal.value=_u37.y-_i663/2;var _x111=new DOMPoint(_e699.x+_e699.width,_e699.y).matrixTransform(_h129);s["top-right"].x.baseVal.value=_x111.x-_i663/2,s["top-right"].y.baseVal.value=_x111.y-_i663/2;var _b35=new DOMPoint(_e699.x,_e699.y+_e699.height).matrixTransform(_h129);s["bottom-left"].x.baseVal.value=_b35.x-_i663/2,s["bottom-left"].y.baseVal.value=_b35.y-_i663/2;var _m34=new DOMPoint(_e699.x+_e699.width,_e699.y+_e699.height).matrixTransform(_h129);s["bottom-right"].x.baseVal.value=_m34.x-_i663/2,s["bottom-right"].y.baseVal.value=_m34.y-_i663/2;}else{var _n283=qt(this).inverse(),_o228=t.map(function(t){return Ti(t);});_e699=We(_o228),_e699=He(_e699,_n283),s.top.x.baseVal.value=_e699.x+_e699.width/2-_i663/2,s.top.y.baseVal.value=_e699.y-_i663/2,s.bottom.x.baseVal.value=_e699.x+_e699.width/2-_i663/2,s.bottom.y.baseVal.value=_e699.y+_e699.height-_i663/2,s.left.x.baseVal.value=_e699.x-_i663/2,s.left.y.baseVal.value=_e699.y+_e699.height/2-_i663/2,s.right.x.baseVal.value=_e699.x+_e699.width-_i663/2,s.right.y.baseVal.value=_e699.y+_e699.height/2-_i663/2,s["top-left"].x.baseVal.value=_e699.x-_i663/2,s["top-left"].y.baseVal.value=_e699.y-_i663/2,s["top-right"].x.baseVal.value=_e699.x+_e699.width-_i663/2,s["top-right"].y.baseVal.value=_e699.y-_i663/2,s["bottom-left"].x.baseVal.value=_e699.x-_i663/2,s["bottom-left"].y.baseVal.value=_e699.y+_e699.height-_i663/2,s["bottom-right"].x.baseVal.value=_e699.x+_e699.width-_i663/2,s["bottom-right"].y.baseVal.value=_e699.y+_e699.height-_i663/2;}s.top.style.visibility=0===_e699.height?"hidden":null,s.bottom.style.visibility=0===_e699.height?"hidden":null,s.left.style.visibility=0===_e699.width?"hidden":null,s.right.style.visibility=0===_e699.width?"hidden":null,s["top-left"].style.visibility=0===_e699.width||0===_e699.height?"hidden":null,s["top-right"].style.visibility=0===_e699.width||0===_e699.height?"hidden":null,s["bottom-left"].style.visibility=0===_e699.width||0===_e699.height?"hidden":null,s["bottom-right"].style.visibility=0===_e699.width||0===_e699.height?"hidden":null;}},vd:function vd(){var t=this.Mn.outermostSelectedObjectElements;if(t.length>0){var _e701,_i665=ep/this.Mn.scale,s=(this.Mn.scale,this.nd);var _iterator558=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step558;try{for(_iterator558.s();!(_step558=_iterator558.n()).done;){var _t917=_step558.value;_t917.width.baseVal.value=_i665,_t917.height.baseVal.value=_i665;}}catch(err){_iterator558.e(err);}finally{_iterator558.f();}if(this.ld||this.gd(t)){var _t915=_toArray(t),_n284=_t915[0],_o229=_t915.slice(1),_l212=Ei(_n284),_a160=[];var _iterator559=_createForOfIteratorHelper(_o229),_step559;try{for(_iterator559.s();!(_step559=_iterator559.n()).done;){var _t916=_step559.value;var _e702=Yt(_t916,_n284),_i666=He(Ei(_t916),_e702);_a160.push(_i666);}}catch(err){_iterator559.e(err);}finally{_iterator559.f();}_e701=We([_l212].concat(_a160));var _h130=Yt(_n284,this),_r83=new DOMPoint(_e701.x,_e701.y).matrixTransform(_h130);s["top-left"].x.baseVal.value=_r83.x-_i665/2,s["top-left"].y.baseVal.value=_r83.y-_i665/2;var _d66=new DOMPoint(_e701.x+_e701.width,_e701.y).matrixTransform(_h130);s["top-right"].x.baseVal.value=_d66.x-_i665/2,s["top-right"].y.baseVal.value=_d66.y-_i665/2;var _c51=new DOMPoint(_e701.x,_e701.y+_e701.height).matrixTransform(_h130);s["bottom-left"].x.baseVal.value=_c51.x-_i665/2,s["bottom-left"].y.baseVal.value=_c51.y-_i665/2;var _p43=new DOMPoint(_e701.x+_e701.width,_e701.y+_e701.height).matrixTransform(_h130);s["bottom-right"].x.baseVal.value=_p43.x-_i665/2,s["bottom-right"].y.baseVal.value=_p43.y-_i665/2;}else{var _n285=qt(this).inverse(),_o230=t.map(function(t){return Ti(t);});_e701=We(_o230),_e701=He(_e701,_n285),s["top-left"].x.baseVal.value=_e701.x-_i665/2,s["top-left"].y.baseVal.value=_e701.y-_i665/2,s["top-right"].x.baseVal.value=_e701.x+_e701.width-_i665/2,s["top-right"].y.baseVal.value=_e701.y-_i665/2,s["bottom-left"].x.baseVal.value=_e701.x-_i665/2,s["bottom-left"].y.baseVal.value=_e701.y+_e701.height-_i665/2,s["bottom-right"].x.baseVal.value=_e701.x+_e701.width-_i665/2,s["bottom-right"].y.baseVal.value=_e701.y+_e701.height-_i665/2;}s["bottom-left"].style.visibility=0===_e701.width||0===_e701.height?"hidden":null,s["bottom-right"].style.visibility=0===_e701.width||0===_e701.height?"hidden":null;}},yd:function yd(){var t=this.Mn.outermostSelectedObjectElements;if(t.length>0){var _e703,_i667=ip/this.Mn.scale,s=(this.Mn.scale,this.sd);var _iterator560=_createForOfIteratorHelper(this["#skew-grippies"].children),_step560;try{for(_iterator560.s();!(_step560=_iterator560.n()).done;){var _t920=_step560.value;_t920.width.baseVal.value=_i667,_t920.height.baseVal.value=_i667;}}catch(err){_iterator560.e(err);}finally{_iterator560.f();}if(this.ld||this.gd(t)){var _t918=_toArray(t),_n286=_t918[0],_o231=_t918.slice(1),_l213=Ei(_n286),_a161=[];var _iterator561=_createForOfIteratorHelper(_o231),_step561;try{for(_iterator561.s();!(_step561=_iterator561.n()).done;){var _t919=_step561.value;var _e704=Yt(_t919,_n286),_i668=He(Ei(_t919),_e704);_a161.push(_i668);}}catch(err){_iterator561.e(err);}finally{_iterator561.f();}_e703=We([_l213].concat(_a161));var _h131=Yt(_n286,this),_r84=new DOMPoint(_e703.x+_e703.width/2,_e703.y).matrixTransform(_h131);s.top.x.baseVal.value=_r84.x-_i667/2,s.top.y.baseVal.value=_r84.y-_i667/2;var _d67=new DOMPoint(_e703.x+_e703.width/2,_e703.y+_e703.height).matrixTransform(_h131);s.bottom.x.baseVal.value=_d67.x-_i667/2,s.bottom.y.baseVal.value=_d67.y-_i667/2;var _c52=new DOMPoint(_e703.x,_e703.y+_e703.height/2).matrixTransform(_h131);s.left.x.baseVal.value=_c52.x-_i667/2,s.left.y.baseVal.value=_c52.y-_i667/2;var _p44=new DOMPoint(_e703.x+_e703.width,_e703.y+_e703.height/2).matrixTransform(_h131);s.right.x.baseVal.value=_p44.x-_i667/2,s.right.y.baseVal.value=_p44.y-_i667/2;}else{var _n287=qt(this).inverse(),_o232=t.map(function(t){return Ti(t);});_e703=We(_o232),_e703=He(_e703,_n287),s.top.x.baseVal.value=_e703.x+_e703.width/2-_i667/2,s.top.y.baseVal.value=_e703.y-_i667/2,s.bottom.x.baseVal.value=_e703.x+_e703.width/2-_i667/2,s.bottom.y.baseVal.value=_e703.y+_e703.height-_i667/2,s.left.x.baseVal.value=_e703.x-_i667/2,s.left.y.baseVal.value=_e703.y+_e703.height/2-_i667/2,s.right.x.baseVal.value=_e703.x+_e703.width-_i667/2,s.right.y.baseVal.value=_e703.y+_e703.height/2-_i667/2;}s.top.style.visibility=0===_e703.width||0===_e703.height?"hidden":null,s.bottom.style.visibility=0===_e703.width||0===_e703.height?"hidden":null,s.left.style.visibility=0===_e703.width||0===_e703.height?"hidden":null,s.right.style.visibility=0===_e703.width||0===_e703.height?"hidden":null;}},kd:function kd(){if(this.Mn.selectedObjectElements.length>=1){var _t921=sp/this.Mn.scale,_e705=qt(this.Mn.currentWorkspace).inverse(),_i669=se(this.Mn.outermostSelectedObjectElements);_i669=_i669.matrixTransform(_e705),this["#origin-grippie"].setAttribute("width",_t921),this["#origin-grippie"].setAttribute("height",_t921),this["#origin-grippie"].setAttribute("x",_i669.x-_t921/2),this["#origin-grippie"].setAttribute("y",_i669.y-_t921/2);}},blink:function blink(){var _this359=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee91(){return regeneratorRuntime.wrap(function _callee91$(_context92){while(1){switch(_context92.prev=_context92.next){case 0:_this359["#grippies"].style.setProperty("display","none");_context92.next=3;return ns(200);case 3:_this359.Mn.selectedObjectElements.length>0&&_this359["#grippies"].style.setProperty("display","block");case 4:case"end":return _context92.stop();}}},_callee91);}))();},qo:function qo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Mn.workspaces.querySelector(e.href.baseVal)),i;},gd:function gd(t){if(t.length>1){var _t922=_toArray(t),_e706=_t922[0],_i670=_t922.slice(1);var _iterator562=_createForOfIteratorHelper(_i670),_step562;try{for(_iterator562.s();!(_step562=_iterator562.n()).done;){var _t923=_step562.value;if(_t923.parentElement!==_e706.parentElement)return!1;}}catch(err){_iterator562.e(err);}finally{_iterator562.f();}var s=Wt(_e706),_n288=tt(Zc(s.c/s.d),2),_o233=tt(Zc(-s.b/s.a),2);var _iterator563=_createForOfIteratorHelper(_i670),_step563;try{for(_iterator563.s();!(_step563=_iterator563.n()).done;){var _t924=_step563.value;var _e707=Wt(_t924),_i671=tt(Zc(_e707.c/_e707.d),2),_s347=tt(Zc(-_e707.b/_e707.a),2);if(!1===Object.is(_i671,_n288)||!1===Object.is(_s347,_o233))return!1;}}catch(err){_iterator563.e(err);}finally{_iterator563.f();}}return!0;},fd:function fd(t,e,i,s,n){var o,l,a,h,r,_this$Qs$modKeys10=this.Qs.modKeys,d=_this$Qs$modKeys10.ctrl,c=_this$Qs$modKeys10.alt,p=_this$Qs$modKeys10.shift;return!1===n?d||p?!d&&p?r="B":d&&!p?r="C":d&&p&&(r="D"):r="A":!0===n&&(d||p?!d&&p?r="A":d&&!p?r="D":d&&p&&(r="C"):r="B"),"top"===s?"A"===r?(o=i.x+i.width/2,l=i.y+i.height,a=1,h=(i.height-e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y+i.height,h=(i.height-e)/i.height,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=1,h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.height-i.height/2-e)/(i.height-i.height/2),a=h):"bottom"===s?"A"===r?(o=i.x+i.width/2,l=i.y,a=1,h=(i.height+e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y,h=(i.height+e)/i.height,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=1,h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.height-i.height/2+e)/(i.height-i.height/2),a=h):"left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height/2,a=(i.width-t)/i.width,h=1):"B"===r?(o=i.x+i.width,l=i.y+i.height/2,a=(i.width-t)/i.width,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=a):"right"===s&&("A"===r?(o=i.x,l=i.y+i.height/2,a=(i.width+t)/i.width,h=1):"B"===r?(o=i.x,l=i.y+i.height/2,a=(i.width+t)/i.width,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=h=(i.width-i.width/2+t)/(i.width-i.width/2))),"top-left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height,a=(i.width-t)/i.width,h=(i.height-e)/i.height):"B"===r?(o=i.x+i.width,l=i.y+i.height,a=(i.width-t)/i.width,h=(i.height-e)/i.height,a=h=Kc(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2),a>=0&&h>=0?a=h=Kc(a,h):a<=0&&h<=0?a=h=Qc(a,h):Xc(a)>=Xc(h)?a=-h:h=-a):"top-right"===s?"A"===r?(o=i.x,l=i.y+i.height,a=(i.width+t)/i.width,h=(i.height-e)/i.height):"B"===r?(o=i.x,l=i.y+i.height,a=(i.width+t)/i.width,h=(i.height-e)/i.height,a=h=Kc(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2),a>=0&&h>=0?a=h=Kc(a,h):a<=0&&h<=0?a=h=Qc(a,h):Xc(a)>=Xc(h)?a=-h:h=-a):"bottom-left"===s?"A"===r?(o=i.x+i.width,l=i.y,a=(i.width-t)/i.width,h=(i.height+e)/i.height):"B"===r?(o=i.x+i.width,l=i.y,a=(i.width-t)/i.width,h=(i.height+e)/i.height,a=h=Kc(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2),a>=0&&h>=0?a=h=Kc(a,h):a<=0&&h<=0?a=h=Qc(a,h):Xc(a)>=Xc(h)?a=-h:h=-a):"bottom-right"===s&&("A"===r?(o=i.x,l=i.y,a=(i.width+t)/i.width,h=(i.height+e)/i.height):"B"===r?(o=i.x,l=i.y,a=(i.width+t)/i.width,h=(i.height+e)/i.height,a=h=Kc(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2),a>=0&&h>=0?a=h=Kc(a,h):a<=0&&h<=0?a=h=Qc(a,h):Xc(a)>=Xc(h)?a=-h:h=-a)),{centerX:o,centerY:l,scaleX:a,scaleY:h};}};var rp=function rp(t){for(var _e708=t;_e708;_e708=_e708.parentNode){if(_e708 instanceof ShadowRoot||_e708===window.document)return _e708;}},dp=function dp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;cp(t);var s="",n={text:!0,textPath:!0,tspan:!0,title:!0,desc:!0};for(var _t925=0;_t925<e;_t925+=1){s+=" ";}var o=function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(!n[t.localName]){var _iterator564=_createForOfIteratorHelper(t.children),_step564;try{for(_iterator564.s();!(_step564=_iterator564.n()).done;){var _i672=_step564.value;var _n289=t.firstChild===_i672,_l214=t.lastChild===_i672;if(!0===_n289){var _t926=document.createTextNode("\n");_i672.parentNode.insertBefore(_t926,_i672);}var _a162="";for(var _t927=0;_t927<e;_t927+=1){_a162+=s;}var _h132=document.createTextNode(_a162);if(t.insertBefore(_h132,_i672),!0===_l214){var _i673=document.createTextNode("\n");t.appendChild(_i673);var _n290="";for(var _t928=0;_t928<e-1;_t928+=1){_n290+=s;}var _o234=document.createTextNode(_n290);t.appendChild(_o234);}else{var _e709=document.createTextNode("\n");t.insertBefore(_e709,_i672.nextSibling);}_i672.childElementCount>0&&o(_i672,e+1);}}catch(err){_iterator564.e(err);}finally{_iterator564.f();}}};o(t,i);},cp=function cp(t){var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null),s={text:!0,textPath:!0,tspan:!0};for(;e=i.nextNode();){s[e.parentElement.localName]||pp(e.textContent)&&e.remove();}},pp=function pp(t){return!/[^\t\n\r ]/.test(t);};var up={id:"text-hud",get inputMode(){return this.hasAttribute("inputmode");},createdCallback:function createdCallback(){var _this360=this;this.Sd=es(this._d,200,this),this.Cd=is(this.Cd,300,this,!0),this.Md=null,this.tabIndex=-1,this.innerHTML='\n  <style>\n    /**\n     * Overlays\n     */\n\n    #text-hud [uid="caret-line"] {\n      stroke-width: 3;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      stroke: gray;\n    }\n    #text-hud[inputmode] [uid="caret-line"] {\n      stroke: blue;\n    }\n\n    #text-hud [uid="selection-rects"] rect {\n      fill: rgba(179, 179, 179, 0.3);\n      pointer-events: none;\n    }\n    #text-hud[inputmode] [uid="selection-rects"] rect {\n      fill: var(--selection-background-color);\n    }\n\n    /**\n     * HTML input\n     */\n\n    #text-hud [uid="html-input-object"] {\n      width: 1px;\n      height: 1px;\n      opacity: 0;\n      background: white;\n      pointer-events: none;\n    }\n    #text-hud[debug] [uid="html-input-object"] {\n      width: 150px;\n      height: 50px;\n      opacity: 1;\n      pointer-events: all;\n    }\n\n    #text-hud [uid="html-input-object"] * {\n      /* Needed for correct positioning of IME dialog */\n      font-size: 0.01px !important;\n    }\n    #text-hud[debug] [uid="html-input-object"] * {\n      font-size: 10px !important;\n    }\n\n    #text-hud [uid="html-input"] {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      white-space: pre;\n    }\n    #text-hud[inputmode] [uid="html-input"] {\n      /* Make text editable and selectable */\n      -webkit-user-modify: read-write-plaintext-only;\n      -webkit-user-select: text;\n    }\n\n    #text-hud [uid="html-input"] *:not(span):not(a) {\n      display: none;\n    }\n  </style>\n\n  <g uid="overlays">\n    <line uid="caret-line"></line>\n    <g uid="selection-rects"></g>\n  </g>\n\n  <foreignObject uid="html-input-object" width="200" height="16">\n    <p uid="html-input" tabindex="0"></p>\n  </foreignObject>\n',this.commands={selectAll:{enabled:function enabled(){return null!==_this360.Mn.selectedTextRange;},exec:function exec(){return _this360.Pd(Gi(_this360.Mn.selectedTextRange.startContainer,"text"));}},deselectAll:{enabled:function enabled(){return null!==_this360.Mn.selectedTextRange;},exec:function exec(){var t=_this360.Mn.selectedTextRange.cloneRange();t.collapse(!0),_this360.Mn.selectedTextRange=t;}}};var _iterator565=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step565;try{for(_iterator565.s();!(_step565=_iterator565.n()).done;){var _t929=_step565.value;this["#"+_t929.getAttribute("uid")]=_t929;}}catch(err){_iterator565.e(err);}finally{_iterator565.f();}var t=!1;this.addEventListener("focus",function(){return _this360["#html-input"].focus();}),this["#html-input"].addEventListener("focus",function(t){_this360.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),_this360["#html-input"].setAttribute("contenteditable","plaintext-only"),_this360.setAttribute("inputmode",""),_this360.Dd();}),this["#html-input"].addEventListener("blur",function(){_this360.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),_this360["#html-input"].removeAttribute("contenteditable"),_this360.removeAttribute("inputmode");}),this["#html-input"].addEventListener("input",function(t){_this360.zd(t);}),this["#html-input"].addEventListener("keydown",/*#__PURE__*/function(){var _ref102=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee92(e){return regeneratorRuntime.wrap(function _callee92$(_context93){while(1){switch(_context93.prev=_context93.next){case 0:_context93.t0=t;if(_context93.t0){_context93.next=5;break;}t=!0;_context93.next=5;return ns(1);case 5:_this360.Od(e);case 6:case"end":return _context93.stop();}}},_callee92);}));return function(_x112){return _ref102.apply(this,arguments);};}()),this["#html-input"].addEventListener("keyup",function(e){t=!1,_this360.Od(e);});},enabledCallback:function enabledCallback(){var _this361=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board"),this.Mn.workspaces.addEventListener("pointerdown",this.vn=function(t){_this361.yn(t);}),this.Mn.addEventListener("selectedtextrangechange",this.Xa=function(){_this361.Za();}),1===this.Mn.selectedElements.length&&"text"===this.Mn.selectedElements[0].localName&&this.Pd(this.Mn.selectedElements[0]);},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this.Mn.workspaces.removeEventListener("pointerdown",this.vn),this.Mn.removeEventListener("selectedtextrangechange",this.Xa);},forceUpdate:function forceUpdate(){this.Ko&&this._d();},ol:function ol(){var _this362=this;this.style.display=null,this.Ko=!0,this["#html-input-object"].append(this["#html-input"]),this["#html-input"].focus(),this.Ed(),this.Dd(),this._d(),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this362.sl();}),this.Mn.addEventListener("workspacemutation",this.hn=function(){_this362.Sd();}),this.Mn.undoManager.addEventListener("undo",this.Da=function(){_this362.Ja();}),this.Mn.undoManager.addEventListener("redo",this.za=function(){_this362.Ja();});},nl:function nl(){this["#html-input"].remove(),this.style.display="none",this.Ko=!1,this.Js.focus(),this.Mn.selectedTextRange=null,this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.undoManager.removeEventListener("undo",this.Da),this.Mn.undoManager.removeEventListener("redo",this.za);},sl:function sl(){var t=this.Mn;if(t.selectedTextRange){var _e710=t.selectedTextRange.startContainer.closest("text");t.selectedElements.find(function(t){return t===_e710||t.contains(_e710);})||(t.selectedTextRange=null);}this.Ed(),this.Dd(),this._d();},Za:function Za(){this.Ko&&!this.Mn.selectedTextRange?this.nl():!this.Ko&&this.Mn.selectedTextRange&&this.ol(),this.Ko&&(this._d(),this.Dd());},Ja:function Ja(){if(this.Mn.selectedTextRange){var _t930=this.Mn.selectedTextRange.startContainer.closest("text");_t930?this.Pd(_t930):this.Mn.selectedTextRange=null;}},yn:function yn(t){t.target.closest("text")&&this.Td(t);},Td:function Td(t){var _this363=this;if(0!==t.button)return;t.preventDefault();var e=t.target.closest("text");if(1===this.Qs.pointerClickCount){var _i674,_s349,_n291=vi(e),_o235=qt(e).inverse(),_l215=new DOMPoint(t.clientX,t.clientY),_a163=_l215.matrixTransform(_o235),_h133=e.getCharNumAtPosition(Le(_a163)),_r85=_h133,_d68=null;Te(_a163,e.getStartPositionOfChar(_h133))>Te(_a163,e.getEndPositionOfChar(_h133))&&(_r85+=1);var _Di=Di(e,_r85),_Di2=_slicedToArray(_Di,2),_c53=_Di2[0],_p45=_Di2[1];if(this.Mn.selectedElements=[e],this.Qs.modKeys.shift){var _t931=this.Mn.selectedTextRange;if(null===_t931||!1===e.contains(_t931.startContainer)){var _t932=new Range();_t932.setStart(_c53,_p45),_t932.setEnd(_c53,_p45),this.Mn.selectedTextRange=_t932;}this.Ad(_r85);}else{var _t933=new Range();_t933.setStart(_c53,_p45),_t933.setEnd(_c53,_p45),this.Mn.selectedTextRange=_t933;}this["#html-input"].focus(),window.addEventListener("pointermove",_i674=function _i674(t){var i=new DOMPoint(t.clientX,t.clientY);if(Te(_l215,i)<3)return;var s=t.clientX,a=t.clientY,h=new DOMPoint(s,a).matrixTransform(_o235),r=e.getCharNumAtPosition(Le(h));if(-1===r){var _t934=e.getNumberOfChars(),_i675=0,_s348=Infinity;if(null===_d68){_d68=[];for(var _i676=0;_i676<_t934;_i676+=1){var _t935=Ae(e.getStartPositionOfChar(_i676),e.getEndPositionOfChar(_i676));_d68.push(_t935);}}for(var _e711=0;_e711<_t934;_e711+=1){var _t936=_d68[_e711],_n292=Te(h,_t936);_n292<_s348&&(_i675=_e711,_s348=_n292);}r=_i675;}var u=r;Te(h,e.getStartPositionOfChar(r))>Te(h,e.getEndPositionOfChar(r))&&(u+=1);var _Di3=Di(e,u),_Di4=_slicedToArray(_Di3,2),x=_Di4[0],b=_Di4[1],m="forward";if(_c53===x)b<_p45&&(m="backward");else{_c53.compareDocumentPosition(x)===Node.DOCUMENT_POSITION_PRECEDING&&(m="backward");}var g=new Range();if(g.direction=m,"forward"===m?(g.setStart(_c53,_p45),g.setEnd(x,b)):(g.setStart(x,b),g.setEnd(_c53,_p45)),!1===_this363.Mn.selectedTextRange.collapsed&&g.startOffset===g.startContainer.textContent.length){var _t937=_n291[_n291.indexOf(g.startContainer)+1];_t937&&g.setStart(_t937,0);}_this363.Mn.selectedTextRange=g;}),window.addEventListener("pointerup",_s349=function s(){window.removeEventListener("pointermove",_i674),window.removeEventListener("pointerup",_s349);});}else if(2===this.Qs.pointerClickCount){var _i677=t.clientX,s=t.clientY,_n293=qt(e).inverse(),_o236=new DOMPoint(_i677,s).matrixTransform(_n293),_l216=e.getCharNumAtPosition(Le(_o236));this.$d(e,_l216);}else if(3===this.Qs.pointerClickCount){var _i678=t.clientX,_s350=t.clientY,_n294=qt(e).inverse(),_o237=new DOMPoint(_i678,_s350).matrixTransform(_n294),_l217=e.getCharNumAtPosition(Le(_o237));this.Id(e,_l217);}else this.Qs.pointerClickCount>=4&&this.Pd(e);},Od:function Od(t){"Home"===t.key||"End"===t.key||t.key.startsWith("Arrow")?this.Ld():t.key;},zd:function zd(t){var _this364=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee93(){return regeneratorRuntime.wrap(function _callee93$(_context94){while(1){switch(_context94.prev=_context94.next){case 0:"historyUndo"!==t.inputType&&(0===_this364["#html-input"].innerText.length&&(_this364["#html-input"].innerHTML=" ",document.execCommand("selectAll")),_this364.Cd()),_this364.Rd(),_this364.Ld();case 1:case"end":return _context94.stop();}}},_callee93);}))();},Cd:function Cd(t){this.Mn.undoManager.checkpoint("Edit text");},Pd:function Pd(t){var e=vi(t);if(e.length>0){var _i679=e[0],s=e[e.length-1],_n295=new Range();_n295.setStart(_i679,0),_n295.setEnd(s,s.textContent.length),this.Mn.selectedElements=[t],this.Mn.selectedTextRange=_n295,this._d(),this.Dd();}},Bd:function Bd(){this.Mn.selectedTextRange=null;},$d:function $d(t,e){var i=yi(t),s=i[e],n=t.getNumberOfChars(),o=e,l=e,a=function a(t){return pp(t)||t===bi;};for(var _t938=e-1;_t938>=0&&!(a(s)&&!a(i[_t938])||!a(s)&&a(i[_t938]));_t938-=1){o-=1;}for(var _t939=e;_t939<n&&!(a(s)&&!a(i[_t939])||!a(s)&&a(i[_t939]));_t939+=1){l+=1;}var _Di5=Di(t,o),_Di6=_slicedToArray(_Di5,2),h=_Di6[0],r=_Di6[1],_Di7=Di(t,l),_Di8=_slicedToArray(_Di7,2),d=_Di8[0],c=_Di8[1];if(r===h.textContent.length){var _e712=vi(t),_i680=_e712[_e712.indexOf(h)+1];_i680&&(h=_i680,r=0);}var p=new Range();p.setStart(h,r),p.setEnd(d,c),this.Mn.selectedTextRange=p;},Id:function Id(t,e){var i=yi(t),s=t.getNumberOfChars(),n=e,o=e;for(var _t940=e-1;_t940>=0&&i[_t940]!==bi;_t940-=1){n-=1;}for(var _t941=e;_t941<s&&i[_t941]!==bi;_t941+=1){o+=1;}var _Di9=Di(t,n),_Di10=_slicedToArray(_Di9,2),l=_Di10[0],a=_Di10[1],_Di11=Di(t,o),_Di12=_slicedToArray(_Di11,2),h=_Di12[0],r=_Di12[1];if(a===l.textContent.length){var _e713=vi(t),_i681=_e713[_e713.indexOf(l)+1];_i681&&(l=_i681,a=0);}var d=new Range();d.setStart(l,a),d.setEnd(h,r),this.Mn.selectedTextRange=d;},Ad:function Ad(t){var e=this.Mn.selectedTextRange,i=e.startContainer.closest("text"),_Pi5=Pi(e.startContainer,e.startOffset),_Pi6=_slicedToArray(_Pi5,2),s=_Pi6[1],_Pi7=Pi(e.endContainer,e.endOffset),_Pi8=_slicedToArray(_Pi7,2),n=_Pi8[1];if(t<s)s=t;else if(t>n)n=t;else{if(!(t>s&&t<n))return;t-s>n-t?n=t:s=t;}var _Di13=Di(i,s),_Di14=_slicedToArray(_Di13,2),o=_Di14[0],l=_Di14[1],_Di15=Di(i,n),_Di16=_slicedToArray(_Di15,2),a=_Di16[0],h=_Di16[1];if(l===o.textContent.length){var _t942=vi(i),_e714=_t942[_t942.indexOf(o)+1];_e714&&(o=_e714,l=0);}var r=new Range();r.setStart(o,l),r.setEnd(a,h),r.direction="backward",this.Mn.selectedTextRange=r;},_d:function _d(){var t=this.Mn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=t?e.getNumberOfChars():0,_ref103=t?Pi(t.startContainer,t.startOffset):[,-1],_ref104=_slicedToArray(_ref103,2),s=_ref104[1],_ref105=t?Pi(t.endContainer,t.endOffset):[,-1],_ref106=_slicedToArray(_ref105,2),n=_ref106[1];if(1===i&&t&&" "===t.toString()){var _t943=0,_i682=e.getExtentOfChar(_t943),_s351=e.getStartPositionOfChar(_t943),_n296=e.getSubStringLength(_t943,1),_o238=_i682.height,_l218=e.getRotationOfChar(_t943),_a164=new DOMPoint(_s351.x+_n296/2,_s351.y),_h134=new DOMMatrix();_h134.multiplySelf(Yt(e,this)),_h134.translateSelf(_a164.x,_a164.y),_h134.rotateSelf(_l218),_h134.translateSelf(-_a164.x,-_a164.y),this["#caret-line"].setAttribute("x1",_s351.x),this["#caret-line"].setAttribute("y1",_i682.y),this["#caret-line"].setAttribute("x2",_s351.x),this["#caret-line"].setAttribute("y2",_i682.y+_o238),this["#caret-line"].setAttribute("transform",_h134.toString()),this["#caret-line"].style.setProperty("visibility","visible");}else if(t&&!0===t.collapsed){var _o239="backward"===t.direction?s:n;if(0===_o239){var _t944=e.getExtentOfChar(_o239),_i683=e.getStartPositionOfChar(_o239),_s352=e.getSubStringLength(_o239,1),_n297=_t944.height,_l219=e.getRotationOfChar(_o239),_a165=new DOMPoint(_i683.x+_s352/2,_i683.y),_h135=new DOMMatrix();_h135.multiplySelf(Yt(e,this)),_h135.translateSelf(_a165.x,_a165.y),_h135.rotateSelf(_l219),_h135.translateSelf(-_a165.x,-_a165.y),this["#caret-line"].setAttribute("x1",_i683.x),this["#caret-line"].setAttribute("y1",_t944.y),this["#caret-line"].setAttribute("x2",_i683.x),this["#caret-line"].setAttribute("y2",_t944.y+_n297),this["#caret-line"].setAttribute("transform",_h135.toString()),this["#caret-line"].style.visibility="visible";}else if(_o239>0&&_o239<=i){var _t945=e.getExtentOfChar(_o239-1),_i684=e.getEndPositionOfChar(_o239-1),_s353=e.getSubStringLength(_o239-1,1),_n298=_t945.height,_l220=e.getRotationOfChar(_o239-1),_a166=new DOMPoint(_i684.x+_s353/2,_i684.y),_h136=new DOMMatrix();_h136.multiplySelf(Yt(e,this)),_h136.translateSelf(_a166.x,_a166.y),_h136.rotateSelf(_l220),_h136.translateSelf(-_a166.x,-_a166.y),this["#caret-line"].setAttribute("x1",_i684.x),this["#caret-line"].setAttribute("y1",_t945.y),this["#caret-line"].setAttribute("x2",_i684.x),this["#caret-line"].setAttribute("y2",_t945.y+_n298),this["#caret-line"].setAttribute("transform",_h136.toString()),this["#caret-line"].style.visibility="visible";}else _o239>i&&(this["#caret-line"].style.visibility="hidden");}else this["#caret-line"].style.visibility="hidden";if(this["#selection-rects"].innerHTML="",t&&!1===t.collapsed){var _e715=t.startContainer.closest("text"),_i685=_e715.getNumberOfChars();for(var _t946=s;_t946<n&&_t946<_i685;_t946+=1){var _i686=_e715.getExtentOfChar(_t946),_s354=_e715.getStartPositionOfChar(_t946),_n299=(_e715.getEndPositionOfChar(_t946),_e715.getSubStringLength(_t946,1)),_o240=_i686.height,_l221=_e715.getRotationOfChar(_t946),_a167=new DOMPoint(_s354.x+_n299/2,_s354.y),_h137=new DOMMatrix();_h137.multiplySelf(Yt(_e715,this)),_h137.translateSelf(_a167.x,_a167.y),_h137.rotateSelf(_l221),_h137.translateSelf(-_a167.x,-_a167.y);var _r86=Ii("svg:rect");_r86.setAttribute("x",_s354.x),_r86.setAttribute("y",_i686.y),_r86.setAttribute("width",_n299),_r86.setAttribute("height",_o240),_r86.setAttribute("transform",_h137.toString()),this["#selection-rects"].append(_r86);}}if("visible"===this["#caret-line"].style.visibility)this["#html-input-object"].setAttribute("x",this["#caret-line"].x2.baseVal.value),this["#html-input-object"].setAttribute("y",this["#caret-line"].y2.baseVal.value),this["#caret-line"].hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",this["#caret-line"].getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");else if(this["#selection-rects"].children.length>0){var _t947=this["#selection-rects"].children[0];this["#html-input-object"].setAttribute("x",_t947.x.baseVal.value),this["#html-input-object"].setAttribute("y",_t947.y.baseVal.value+_t947.height.baseVal.value),_t947.hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",_t947.getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");}},Ld:function Ld(){var t=rp(this).getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;if(e){var _t948=this.Gd(e.startContainer,e.startOffset)[1],_i687=this.Gd(e.endContainer,e.endOffset)[1],s=0,_n300=new Range(),_o241=null,_l222=this.Md;var _iterator566=_createForOfIteratorHelper(vi(_l222)),_step566;try{for(_iterator566.s();!(_step566=_iterator566.n()).done;){var _e716=_step566.value;for(var _l223=0;_l223<=_e716.textContent.length;_l223+=1,s+=1){s===_t948&&_n300.setStart(_e716,_l223),s===_i687&&(0===_l223&&_o241?_n300.setEnd(_o241,_o241.textContent.length):_n300.setEnd(_e716,_l223));}s-=1,_o241=_e716;}}catch(err){_iterator566.e(err);}finally{_iterator566.f();}this.Mn.selectedTextRange=_n300;}},Dd:function Dd(){var t=this.Mn.selectedTextRange;if(t){var _e717=Pi(t.startContainer,t.startOffset)[1],_i688=Pi(t.endContainer,t.endOffset)[1],s=0,_n301=new Range(),_o242=null;var _iterator567=_createForOfIteratorHelper(this.Ud(this["#html-input"])),_step567;try{for(_iterator567.s();!(_step567=_iterator567.n()).done;){var _t949=_step567.value;for(var _l225=0;_l225<=_t949.textContent.length;_l225+=1,s+=1){s===_e717&&_n301.setStart(_t949,_l225),s===_i688&&(0===_l225&&_o242?_n301.setEnd(_o242,_o242.textContent.length):_n301.setEnd(_t949,_l225));}s-=1,_o242=_t949;}}catch(err){_iterator567.e(err);}finally{_iterator567.f();}var _l224=window.getSelection();_l224.removeAllRanges(),_l224.addRange(_n301);}},Rd:function Rd(){var t=this.Md,e=t?t.querySelector("textPath")||t:null;if(e){var _i689=Ii("svg:g");_i689.innerHTML=this["#html-input"].innerHTML;var s=document.createNodeIterator(_i689,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),_n302=null,_o243=ki(t),_l226=Mi(t);for(;_n302=s.nextNode();){if(_n302.nodeType===Element.TEXT_NODE){if(_n302.textContent.includes("\n")){var _t950=document.createDocumentFragment();var _iterator568=_createForOfIteratorHelper(_n302.textContent),_step568;try{for(_iterator568.s();!(_step568=_iterator568.n()).done;){var _e718=_step568.value;if("\n"===_e718){var _e719=ts(_templateObject10(),_o243.x,_l226+1,bi);_t950.append(_e719);}else _t950.append(new Text(_e718));}}catch(err){_iterator568.e(err);}finally{_iterator568.f();}_n302.replaceWith(_t950);}}else if(_n302.nodeType===Element.ELEMENT_NODE)if("span"===_n302.localName){var _t951=Ii("svg:tspan");for(var _i690=0,_arr24=_toConsumableArray(_n302.attributes);_i690<_arr24.length;_i690++){var _arr24$_i=_arr24[_i690],_e720=_arr24$_i.name,_i691=_arr24$_i.value;_t951.setAttribute(_e720,_i691);}for(var _i692=0,_arr25=_toConsumableArray(_n302.childNodes);_i692<_arr25.length;_i692++){var _e721=_arr25[_i692];_t951.append(_e721);}_n302.replaceWith(_t951);}else("br"===_n302.localName||"div"===_n302.localName)&&_n302.remove();}e.innerHTML=_i689.innerHTML;var _a168=ki(t);_a168.x!==_o243.x&&t.setAttribute("x",_o243.x),_a168.y!==_o243.y&&t.setAttribute("y",_o243.y);}},Ed:function Ed(){var t=this.Mn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=e?e.querySelector("textPath")||e:null;if(i){var _t952=document.createElement("div");_t952.innerHTML=i.innerHTML;var _iterator569=_createForOfIteratorHelper(_t952.querySelectorAll("tspan")),_step569;try{for(_iterator569.s();!(_step569=_iterator569.n()).done;){var _e722=_step569.value;if(_i(_e722))_e722.replaceWith(new Text("\n"));else{var _t953=document.createElement("span");for(var _i693=0,_arr26=_toConsumableArray(_e722.attributes);_i693<_arr26.length;_i693++){var _arr26$_i=_arr26[_i693],_i694=_arr26$_i.name,s=_arr26$_i.value;_t953.setAttribute(_i694,s);}for(var _i695=0,_arr27=_toConsumableArray(_e722.childNodes);_i695<_arr27.length;_i695++){var _i696=_arr27[_i695];_t953.append(_i696);}_e722.replaceWith(_t953);}}}catch(err){_iterator569.e(err);}finally{_iterator569.f();}this["#html-input"].innerHTML=_t952.innerHTML,this.Md=e;}},Ud:function Ud(t){var e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;i.nextNode();){i.currentNode.closest("bx-title, desc")||e.push(i.currentNode);}return e;},Gd:function Gd(t,e){var i=this["#html-input"],s=0,n=-1;var _iterator570=_createForOfIteratorHelper(this.Ud(i)),_step570;try{for(_iterator570.s();!(_step570=_iterator570.n()).done;){var _o244=_step570.value;if(_o244===t){n=s+e;break;}s+=_o244.length;}}catch(err){_iterator570.e(err);}finally{_iterator570.f();}return[i,n];}};var xp=Math.abs,bp=4.5,mp=Symbol(),gp=Symbol();var fp={id:"char-hud",get selectedChar(){return this.Fd;},createdCallback:function createdCallback(){var _this365=this;this.Ko=!1,this.Nd=[],this.Fd=null,this.ca=es(this.aa,40,this),this.ka=es(this.ra,40,this),this.innerHTML='\n  <style>\n    #char-hud [uid="grippies"] {\n      cursor: default;\n      outline: none;\n    }\n\n    #char-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #char-hud .node-grippie[data-selected] .outer-circle {\n      fill: #dabfff;\n    }\n\n    #char-hud .node-grippie .inner-circle {\n      display: none;\n      fill: #4d2782;\n    }\n    #char-hud .node-grippie[data-adjusted] .inner-circle {\n      display: block;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="node-grippies"></g>\n  </g>\n';var _iterator571=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step571;try{for(_iterator571.s();!(_step571=_iterator571.n()).done;){var _t954=_step571.value;this["#"+_t954.getAttribute("uid")]=_t954;}}catch(err){_iterator571.e(err);}finally{_iterator571.f();}this.addEventListener("pointerdown",function(t){_this365.wo(t);}),this.addEventListener("dblclick",function(t){_this365.Pa(t);});},enabledCallback:function enabledCallback(){var _this366=this;this.Qs=Gi(this,"#app"),this.Mn=Gi(this,"bx-board"),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this366.sl();}),this.sl();},disabledCallback:function disabledCallback(){this.Ko&&this.nl(),this.Mn.removeEventListener("selectedelementschange",this.il);},ol:function ol(){var _this367=this;this.Ko=!0,this.Mn.addEventListener("workspacemutation",this.hn=function(){_this367.al();}),this.Mn.addEventListener("zoomchange",this.an=function(){_this367.ll();});},nl:function nl(){this.Ko=!1,this.Nd=[],this.Fd&&(this.Fd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),this["#node-grippies"].innerHTML="",this.Mn.removeEventListener("workspacemutation",this.hn),this.Mn.removeEventListener("zoomchange",this.an);},sl:function sl(){this.Nd=this.Vd(),this.Fd&&(this.Fd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),0===this.Nd.length?this.Ko&&this.nl():(this.Ko||this.ol(),this.ca());},al:function al(){this.ca();},ll:function ll(){this.ka();},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")&&this.Ta(t);},Pa:function Pa(t){t.target.closest(".node-grippie")&&this.La(t);},Ta:function Ta(t){var _this368=this;if(0!==t.button)return;var _e723,_i697,s=t.target.closest(".node-grippie"),n=new DOMPoint(t.clientX,t.clientY),o=n,l=this["#node-grippies"].querySelector("[data-selected]");l&&l.removeAttribute("data-selected"),s.setAttribute("data-selected",""),this.Fd={textElement:s[mp],charIndex:s[gp]},this.dispatchEvent(new CustomEvent("selectedcharchange")),window.addEventListener("pointermove",_e723=function e(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=Te(n,a)>3||h>80,d=!1===ze(o,a,0);if(o=a,!0===r&&!0===d){window.removeEventListener("pointermove",_e723),window.removeEventListener("pointerup",_i697);var _n303=new J(l.clientX-t.clientX,l.clientY-t.clientY),_o245=xp(_n303.x)>xp(_n303.y)?"horizontal":"vertical",_a169=new DOMPoint(l.clientX,l.clientY);_this368.Ia(t,s,_a169,_o245);}}),window.addEventListener("pointerup",_i697=function i(t){window.removeEventListener("pointermove",_e723),window.removeEventListener("pointerup",_i697);});},Ia:function Ia(t,e,i,s){var _this369=this;var n,_o246,l=this.Mn,a=e[mp],h=e[gp],r=e.querySelector("circle"),d=new DOMPoint(r.cx.baseVal.value,r.cy.baseVal.value).matrixTransform(qt(this)),c=qt(a).inverse(),p=null,u=null,x=null,b=[],m=[];l.undoManager.checkpoint("Adjust text character position"),l.snapManager.snapStart(!0),e.setPointerCapture(t.pointerId),mi(a);{var _t955=0;var _iterator572=_createForOfIteratorHelper(vi(a)),_step572;try{for(_iterator572.s();!(_step572=_iterator572.n()).done;){var _e724=_step572.value;var _i698=0;var _iterator573=_createForOfIteratorHelper(_e724.textContent),_step573;try{for(_iterator573.s();!(_step573=_iterator573.n()).done;){var _s355=_step573.value;if(_t955===h){p=_e724.parentNode,u=_e724,x=_i698;break;}_t955+=1,_i698+=1;}}catch(err){_iterator573.e(err);}finally{_iterator573.f();}if(p)break;}}catch(err){_iterator572.e(err);}finally{_iterator572.f();}}for(var _t956=0;_t956<u.textContent.length;_t956+=1){b[_t956]=void 0!==p.dx.baseVal[_t956]?p.dx.baseVal[_t956].value:0,m[_t956]=void 0!==p.dy.baseVal[_t956]?p.dy.baseVal[_t956].value:0;}var g=[].concat(b),f=[].concat(m);window.addEventListener("pointermove",n=function n(t){var e=new DOMPoint(t.clientX,t.clientY);_this369.Qs.modKeys.shift&&("horizontal"===s?e.y=i.y:"vertical"===s&&(e.x=i.x));var n=l.snapManager.snapPoint(new DOMPoint(d.x+e.x-i.x,d.y+e.y-i.y)),o=new J(d,n).matrixTransform(c);b[x]=tt(g[x]+o.x,l.geometryPrecision),m[x]=tt(f[x]+o.y,l.geometryPrecision),p.setAttribute("dx",b.join(" ")),p.setAttribute("dy",m.join(" "));}),window.addEventListener("pointerup",_o246=function o(t){window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o246),l.snapManager.snapEnd(),gi(a);});},La:function La(t){var e=t.target.closest(".node-grippie"),i=this.Mn,s=e[mp],n=e[gp],o=null,l=null,a=null,h=[],r=[],d=[];if(!1!==e.hasAttribute("data-adjusted")){i.undoManager.checkpoint("Reset text character position"),mi(s);{var _t957=0;var _iterator574=_createForOfIteratorHelper(vi(s)),_step574;try{for(_iterator574.s();!(_step574=_iterator574.n()).done;){var _e725=_step574.value;var _i699=0;var _iterator575=_createForOfIteratorHelper(_e725.textContent),_step575;try{for(_iterator575.s();!(_step575=_iterator575.n()).done;){var _s356=_step575.value;if(_t957===n){o=_e725.parentNode,l=_e725,a=_i699;break;}_t957+=1,_i699+=1;}}catch(err){_iterator575.e(err);}finally{_iterator575.f();}if(o)break;}}catch(err){_iterator574.e(err);}finally{_iterator574.f();}}for(var _t958=0;_t958<l.textContent.length;_t958+=1){h[_t958]=void 0!==o.dx.baseVal[_t958]?o.dx.baseVal[_t958].value:0,r[_t958]=void 0!==o.dy.baseVal[_t958]?o.dy.baseVal[_t958].value:0,d[_t958]=void 0!==o.rotate.baseVal[_t958]?o.rotate.baseVal[_t958].value:0;}h[a]=0,r[a]=0,d[a]=0,o.setAttribute("dx",h.join(" ")),o.setAttribute("dy",r.join(" ")),o.setAttribute("rotate",d.join(" ")),gi(s);}},aa:function aa(){var t=document.createDocumentFragment();var _iterator576=_createForOfIteratorHelper(this.Nd),_step576;try{for(_iterator576.s();!(_step576=_iterator576.n()).done;){var _e726=_step576.value;var _i700=_e726.getNumberOfChars(),s=Yt(_e726,this),_n304=vi(_e726).map(function(t){return t.textContent;}).join(""),_o247=zi(_e726);for(var _l227=0;_l227<_i700;_l227+=1){if(_n304[_l227]!==bi){var _i701=_e726.getStartPositionOfChar(_l227),_n305=_e726.getEndPositionOfChar(_l227),_a170=Ae(_i701,_n305).matrixTransform(s),_h138=bp/this.Mn.scale,_r87=bp/2.5/this.Mn.scale,_d69=Ii("svg:g");_d69.setAttribute("class","node-grippie"),_d69.innerHTML="\n            <circle class=\"outer-circle\" cx=\"".concat(_a170.x,"\" cy=\"").concat(_a170.y,"\" r=\"").concat(_h138,"\"></circle>\n            <circle class=\"inner-circle\" cx=\"").concat(_a170.x,"\" cy=\"").concat(_a170.y,"\" r=\"").concat(_r87,"\"></circle>\n          "),_d69[mp]=_e726,_d69[gp]=_l227,0===_o247.dx[_l227]&&0===_o247.dy[_l227]&&0===_o247.rotate[_l227]||_d69.setAttribute("data-adjusted",""),this.Fd&&this.Fd.textElement===_e726&&this.Fd.charIndex===_l227&&_d69.setAttribute("data-selected",""),t.append(_d69);}}}}catch(err){_iterator576.e(err);}finally{_iterator576.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t),this.ra();},ra:function ra(){var t=bp/this.Mn.scale,e=bp/2.5/this.Mn.scale;var _iterator577=_createForOfIteratorHelper(this["#node-grippies"].children),_step577;try{for(_iterator577.s();!(_step577=_iterator577.n()).done;){var _i702=_step577.value;_i702.children[0].setAttribute("r",t),_i702.children[1].setAttribute("r",e);}}catch(err){_iterator577.e(err);}finally{_iterator577.f();}},Vd:function Vd(){var t=[],e=function e(i){var _iterator578=_createForOfIteratorHelper(i),_step578;try{for(_iterator578.s();!(_step578=_iterator578.n()).done;){var s=_step578.value;"text"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||e(s.children);}}catch(err){_iterator578.e(err);}finally{_iterator578.f();}};return e(this.Mn.selectedElements),t=t.filter(function(t){return null===t.querySelector("textPath");}),t;}};var wp={id:"blob-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #blob-hud [uid="ellipse"] {\n      fill: rgba(0, 0, 0, 0.2);\n      stroke: rgba(255, 255, 255, 0.75);\n      transform: rotate(0deg);\n      transform-origin: 50% 50%;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #blob-hud [uid="ellipse"][data-mode="erase"] {\n      fill: rgba(255, 255, 255, 0.5);\n      stroke: rgba(0, 0, 0, 0.3);\n    }\n  </style>\n\n  <ellipse uid="ellipse"></ellipse>\n';var _iterator579=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step579;try{for(_iterator579.s();!(_step579=_iterator579.n()).done;){var _t959=_step579.value;this["#"+_t959.getAttribute("uid")]=_t959;}}catch(err){_iterator579.e(err);}finally{_iterator579.f();}},enabledCallback:function enabledCallback(){var _this370=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=Gi(this,"bx-board"),this.Qs.addEventListener("configchange",this.nn=function(t){_this370.ln(t);}),this.Qs.addEventListener("modkeyschange",this.Jh=function(){_this370.jd();}),this.Js.board.addEventListener("zoomchange",this.an=function(){_this370.ll();}),this.Mn.workspaces.addEventListener("pointermove",this.Un=function(t){_this370.Hd(t);}),this.Mn.workspaces.addEventListener("pointerleave",this.Wd=function(t){_this370.Yd(t);}),this.qs();},disabledCallback:function disabledCallback(){this.Qs.removeEventListener("modkeyschange",this.Jh),this.Qs.removeEventListener("configchange",this.nn),this.Js.board.addEventListener("zoomchange",this.an),this.Mn.workspaces.removeEventListener("pointermove",this.Un),this.Mn.workspaces.removeEventListener("pointerleave",this.Wd);},ln:function ln(t){var _t$detail3=t.detail,e=_t$detail3.key,i=_t$detail3.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||this.qs();},jd:function jd(){this.qs();},ll:function ll(){this.qs();},Hd:function Hd(t){var _iterator580=_createForOfIteratorHelper(t.getCoalescedEvents()),_step580;try{for(_iterator580.s();!(_step580=_iterator580.n()).done;){var _e727=_step580.value;var _t960=new DOMPoint(_e727.clientX,_e727.clientY);this.qs(_t960);}}catch(err){_iterator580.e(err);}finally{_iterator580.f();}},Yd:function Yd(){this["#ellipse"].cy.baseVal.value=999999999;},qs:function qs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Qs.pointerClientPoint;var e=this.Qs.getConfig("bx-blobsettings:mode","draw"),i=this.Qs.getConfig("bx-blobsettings:size",30),s=this.Qs.getConfig("bx-blobsettings:roundness",100),n=this.Qs.getConfig("bx-blobsettings:angle",0),o=this.Qs.getConfig("bx-blobsettings:dynamics",ch),l=qt(this).inverse(),a=t.matrixTransform(l),h=this.Qs.pointerPressure;if(this.Qs.modKeys.ctrl&&(e="draw"===e?"erase":"draw"),i*this.Mn.scale<10&&(i=10/this.Mn.scale),s<25&&(s=25),o.size){var _t961=tt(i-i*o.size.variance,0),_e728=tt(i+i*o.size.variance,0);"pressure"===o.size.param&&h>0&&(i=_t961+h*(_e728-_t961));}this["#ellipse"].setAttribute("data-mode",e),this["#ellipse"].cx.baseVal.value=a.x,this["#ellipse"].cy.baseVal.value=a.y,this["#ellipse"].rx.baseVal.value=i/2,this["#ellipse"].ry.baseVal.value=s/100*(i/2),this["#ellipse"].style.transform="rotate(".concat(n,"deg)"),this["#ellipse"].style.transformOrigin="".concat(a.x,"px ").concat(a.y,"px");}};var vp=/*#__PURE__*/function(){function vp(){_classCallCheck(this,vp);}_createClass(vp,[{key:"addEventListener",value:function addEventListener(t,e){this.qd||(this.qd={});var i=this.qd[t];i||(this.qd[t]=i=[]),i.push(e),i.length>300&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.qd&&this.qd[t]){for(var i=[],s=0;s<this.qd[t].length;s+=1){this.qd[t][s]!==e&&i.push(this.qd[t][s]);}this.qd[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.qd)return;var e=this.qd[t.type];if(!e)return;var i=null;for(var s=e.length-1;s>=0;s-=1){var _n306=void 0,_o248=e[s];try{_n306=_o248.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n306)break;}if(i)throw i;}}]);return vp;}();var yp={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};var kp=/*#__PURE__*/function(_vp){_inherits(kp,_vp);var _super62=_createSuper(kp);function kp(t){var _this371;_classCallCheck(this,kp);_this371=_super62.call(this),_this371.Xd=t,_this371.Zd=[],_this371.Uh=0,_this371.Kd=!1,_this371.Qd=new MutationObserver(function(t){var _iterator581=_createForOfIteratorHelper(t),_step581;try{for(_iterator581.s();!(_step581=_iterator581.n()).done;){var _e729=_step581.value;_this371.Jd(_e729);}}catch(err){_iterator581.e(err);}finally{_iterator581.f();}}),_this371.tc();return _this371;}_createClass(kp,[{key:"clear",value:function clear(){this.Zd=[],this.Uh=0,this.dispatchEvent(new CustomEvent("change",{detail:"clear"}));}},{key:"checkpoint",value:function checkpoint(t){this.Qd.takeRecords(),this.Uh<this.Zd.length&&(this.Zd=this.Zd.slice(0,this.Uh));var e={label:t,transactions:[]};this.Zd.push(e),this.Uh+=1;}},{key:"undo",value:function undo(){if(this.canUndo()){this.ec(),this.disabled=!0,this.Uh-=1;var _t962=this.Zd[this.Uh],_e730=_toConsumableArray(_t962.transactions).reverse(),_i703=_t962.label||"",s=new Set(),_n307=new Set(),_o249=new Set();var _iterator582=_createForOfIteratorHelper(_e730),_step582;try{for(_iterator582.s();!(_step582=_iterator582.n()).done;){var _t963=_step582.value;if("childList"===_t963.type){var _e731=document.createDocumentFragment();var _iterator583=_createForOfIteratorHelper(_t963.addedNodes),_step583;try{for(_iterator583.s();!(_step583=_iterator583.n()).done;){var _e732=_step583.value;_t963.target.removeChild(_e732),_n307.add(_e732),s["delete"](_e732);}}catch(err){_iterator583.e(err);}finally{_iterator583.f();}var _iterator584=_createForOfIteratorHelper(_t963.removedNodes),_step584;try{for(_iterator584.s();!(_step584=_iterator584.n()).done;){var _i704=_step584.value;_e731.append(_i704),s.add(_i704),_n307["delete"](_i704);}}catch(err){_iterator584.e(err);}finally{_iterator584.f();}_t963.nextSibling?_t963.target.insertBefore(_e731,_t963.nextSibling):_t963.previousSibling?_t963.target.insertBefore(_e731,_t963.previousSibling.nextSibling):_t963.target.append(_e731);}else"attributes"===_t963.type?(null===_t963.oldValue?_t963.target.removeAttribute(_t963.attributeName):_t963.target.setAttribute(_t963.attributeName,_t963.oldValue),_o249.add(_t963.target)):"characterData"===_t963.type&&(_t963.target.data=_t963.oldValue,_o249.add(_t963.target));}}catch(err){_iterator582.e(err);}finally{_iterator582.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{label:_i703,addedNodes:s,removedNodes:_n307,modifiedNodes:_o249}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i703,addedNodes:s,removedNodes:_n307,modifiedNodes:_o249}})),this.dispatchEvent(new CustomEvent("change",{detail:"decrement"}));}else console.info("Can't undo");}},{key:"redo",value:function redo(){if(this.canRedo()){var _t964=this.Zd[this.Uh],_e733=_t964.transactions;this.disabled=!0,this.Uh+=1;var _i705=_t964.label||"",s=new Set(),_n308=new Set(),_o250=new Set();var _iterator585=_createForOfIteratorHelper(_e733),_step585;try{for(_iterator585.s();!(_step585=_iterator585.n()).done;){var _t965=_step585.value;if("childList"===_t965.type){var _e734=document.createDocumentFragment();var _iterator586=_createForOfIteratorHelper(_t965.removedNodes),_step586;try{for(_iterator586.s();!(_step586=_iterator586.n()).done;){var _e735=_step586.value;_t965.target.removeChild(_e735),_n308.add(_e735),s["delete"](_e735);}}catch(err){_iterator586.e(err);}finally{_iterator586.f();}var _iterator587=_createForOfIteratorHelper(_t965.addedNodes),_step587;try{for(_iterator587.s();!(_step587=_iterator587.n()).done;){var _i706=_step587.value;_e734.append(_i706),s.add(_i706),_n308["delete"](_i706);}}catch(err){_iterator587.e(err);}finally{_iterator587.f();}_t965.nextSibling?_t965.target.insertBefore(_e734,_t965.nextSibling):_t965.previousSibling?_t965.target.insertBefore(_e734,_t965.previousSibling.nextSibling):_t965.target.append(_e734);}else"attributes"===_t965.type?(null===_t965.newValue?_t965.target.removeAttribute(_t965.attributeName):_t965.target.setAttribute(_t965.attributeName,_t965.newValue),_o250.add(_t965.target)):"characterData"===_t965.type&&(_t965.target.data=_t965.newValue,_o250.add(_t965.target));}}catch(err){_iterator585.e(err);}finally{_iterator585.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{label:_i705,addedNodes:s,removedNodes:_n308,modifiedNodes:_o250}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i705,addedNodes:s,removedNodes:_n308,modifiedNodes:_o250}})),this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}else console.info("Can't redo");}},{key:"canUndo",value:function canUndo(){return 0!==this.Uh&&!this.disabled&&(1!==this.Uh||!this.ic());}},{key:"canRedo",value:function canRedo(){return this.Uh!==this.Zd.length&&!this.disabled;}},{key:"tc",value:function tc(){!0===this.disabled?(this.Qd.takeRecords(),this.Qd.disconnect()):!1===this.disabled&&this.Qd.observe(this.Xd,yp);}},{key:"Jd",value:function Jd(t){if(0===this.Zd.length)return;if(t.attributeName&&t.attributeName.startsWith("_bx"))return;var e=this.Zd[this.Zd.length-1].transactions,i=e.length;if("attributes"===t.type){var _i707=t.attributeName,s=e.find(function(e){return"attributes"===e.type&&e.attributeName===_i707&&e.target===t.target;});s?s.newValue=s.target.getAttribute(_i707):(s={type:"attributes",target:t.target,attributeName:_i707,oldValue:t.oldValue,newValue:t.target.getAttribute(_i707)},e.push(s));}else if("characterData"===t.type){var _i708=e.find(function(e){return"characterData"===e.type&&e.target===t.target;});if(_i708)_i708.newValue=_i708.target.data;else{var _i709={type:"characterData",target:t.target,oldValue:t.oldValue,newValue:t.target.data};e.push(_i709);}}else if("childList"===t.type){var _i710={type:"childList",target:t.target,addedNodes:_toConsumableArray(t.addedNodes),removedNodes:_toConsumableArray(t.removedNodes),nextSibling:t.nextSibling,previousSibling:t.previousSibling};e.push(_i710);}0===i&&e.length>0&&this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}},{key:"ic",value:function ic(){return 0===this.Zd[this.Uh-1].transactions.length;}},{key:"ec",value:function ec(){var _this372=this;this.Uh>0&&0===this.Zd[this.Uh-1].transactions.length&&(this.Zd=this.Zd.filter(function(t){return t!==_this372.Zd[_this372.Uh];}),this.Uh-=1);}},{key:"groups",get:function get(){return this.Zd;}},{key:"position",get:function get(){return this.Uh;}},{key:"disabled",get:function get(){return this.Kd;},set:function set(t){var e;(e=t)===!!e&&t!==this.Kd&&(this.Kd=t,this.tc());}},{key:"undoLabel",get:function get(){var t="Undo";if(this.canUndo()){var _e736;_e736=this.Zd[this.Uh-1].transactions.length>0?this.Zd[this.Uh-1]:this.Zd[this.Uh-2],t="Undo: ".concat(_e736.label);}return t;}},{key:"redoLabel",get:function get(){var t="Redo";if(this.canRedo()){t="Redo: ".concat(this.Zd[this.Uh].label);}return t;}}]);return kp;}(vp);var _window6=window,Sp=_window6.tokenize,_p=_window6.EOFToken,Cp=_window6.parseACommaSeparatedListOfComponentValues;var Mp=/*#__PURE__*/function(){_createClass(Mp,[{key:"items",get:function get(){return this.no;},set:function set(t){this.no=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-face-src>";}}]);function Mp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,Mp);this.no=_toConsumableArray(t);}_createClass(Mp,[{key:"toString",value:function toString(){var t=[];var _iterator588=_createForOfIteratorHelper(this.items),_step588;try{for(_iterator588.s();!(_step588=_iterator588.n()).done;){var _e737=_step588.value;if("local"===_e737.type){var _i711="local(".concat(_e737.name,")");t.push(_i711);}else if("external"===_e737.type||"embedded"===_e737.type){var _i712="url(".concat(_e737.url,")");_e737.format&&(_i712+=" format(\"".concat(_e737.format,"\")")),t.push(_i712);}}}catch(err){_iterator588.e(err);}finally{_iterator588.f();}return t.join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=Cp(t),s=[];var _iterator589=_createForOfIteratorHelper(i),_step589;try{for(_iterator589.s();!(_step589=_iterator589.n()).done;){var _t966=_step589.value;var _e738=[].concat(_toConsumableArray(_t966),[new _p()]).filter(function(t){return"WHITESPACE"!==t.tokenType;}),_i713=new Tt(_e738),_n309={};if(_i713.read(),"FUNCTION"===_i713.currentToken.type){if("local"===_i713.currentToken.name){var _t967="";var _iterator590=_createForOfIteratorHelper(_i713.currentToken.value),_step590;try{for(_iterator590.s();!(_step590=_iterator590.n()).done;){var _e739=_step590.value;"STRING"===_e739.tokenType?_t967+=_e739.value:_t967+=_e739.toSource();}}catch(err){_iterator590.e(err);}finally{_iterator590.f();}_n309.type="local",_n309.name=_t967;}else if("url"===_i713.currentToken.name){var _t968="";var _iterator591=_createForOfIteratorHelper(_i713.currentToken.value),_step591;try{for(_iterator591.s();!(_step591=_iterator591.n()).done;){var _e740=_step591.value;"STRING"===_e740.tokenType?_t968+=_e740.value:_t968+=_e740.toSource();}}catch(err){_iterator591.e(err);}finally{_iterator591.f();}_t968.trim(),_t968.startsWith("data:")?_n309.type="embedded":_n309.type="external",_n309.url=new co(_t968),_i713.read(),"FUNCTION"==_i713.currentToken.type&&"format"===_i713.currentToken.name&&(_n309.format=_i713.currentToken.value[0].value);}}else if("URL"===_i713.currentToken.tokenType){var _t969=_i713.currentToken.value;_t969.startsWith("data:")?_n309.type="embedded":_n309.type="external",_n309.url=new co(_t969),_i713.read(),"FUNCTION"==_i713.currentToken.type&&"format"===_i713.currentToken.name&&(_n309.format=_i713.currentToken.value[0].value);}s.push(_n309);}}catch(err){_iterator589.e(err);}finally{_iterator589.f();}return new Mp(s);}}]);return Mp;}();var Pp=function Pp(t){var e={},i=getComputedStyle(t);e.width=i.getPropertyValue("width");var _iterator592=_createForOfIteratorHelper(i),_step592;try{for(_iterator592.s();!(_step592=_iterator592.n()).done;){var _t970=_step592.value;var s=i.getPropertyValue(_t970);e[_t970]=s;}}catch(err){_iterator592.e(err);}finally{_iterator592.f();}return e;},Dp=function Dp(t,e){{var _i714=V.find(function(e){return e.name===t;}).presentationAttributeName||null;_i714&&e.hasAttribute(_i714)&&(""===e.style.getPropertyValue(t)&&e.style.setProperty(t,e.getAttribute(_i714)),e.removeAttribute(_i714));}{var _i715=e.style.getPropertyValue(t);if(""!==_i715&&"inherit"!==_i715){var s=getComputedStyle(e).getPropertyValue(t);e.style.removeProperty(t),s!==getComputedStyle(e).getPropertyValue(t)&&e.style.setProperty(t,_i715);}}},zp=function zp(t){var e=V.find(function(e){return e.name===t;});return!!e&&e.inheritable;},Op=function Op(t){var e="",i=t.sheet.cssRules[0];var _iterator593=_createForOfIteratorHelper(t.sheet.cssRules),_step593;try{for(_iterator593.s();!(_step593=_iterator593.n()).done;){var s=_step593.value;s!==i&&(e+="\n"),e+=s.cssText;}}catch(err){_iterator593.e(err);}finally{_iterator593.f();}t.textContent!==e&&(t.textContent=e);},Ep=function Ep(t){var e,i=function i(t){var e,i,s=[0,0,0],n=t.split(" "),o=/[\w-]+/g,l=/#[\w-]+/g,a=/\.[\w-]+/g,h=/\[[^\]]+\]/g,r=/\:(?!not)[\w-]+(\(.*\))?/g,d=/\:\:?(after|before|first-letter|first-line|selection)/g,c=function c(t,e){var i=t.match(e);return i?i.length:0;};for(;e=n.shift(),"string"==typeof e;){i=c(e,d),s[2]+=i,i&&(e=e.replace(d,"")),i=c(e,r),s[1]+=i,i&&(e=e.replace(r,"")),i=c(e,h),s[1]+=i,i&&(e=e.replace(h,"")),i=c(e,l),s[0]+=i,i&&(e=e.replace(l,"")),i=c(e,a),s[1]+=i,i&&(e=e.replace(a,"")),s[2]+=c(e,o);}return parseInt(s.join(""),10);},s=function s(t,e){var s,n,o=e.split(","),l=0;for(;s=o.shift();){t.matches(s)&&(n=i(s),l=n>l?n:l);}return l;},n=function n(t){var e=t.media&&t.media.mediaText;return t.disabled||t.href&&t.href.startsWith("https://fonts.googleapis.com/css")||e&&e.length&&!window.matchMedia(e).matches?[]:t.cssRules?_toConsumableArray(t.cssRules):[];},o=[],l=_toConsumableArray(rp(t).styleSheets);for(;e=l.shift();){var _i716=void 0,_s357=n(e);for(;_i716=_s357.shift();){_i716.type===CSSRule.IMPORT_RULE?_i716.styleSheet&&(_s357=n(_i716.styleSheet).concat(_s357)):_i716.type===CSSRule.MEDIA_RULE?_s357=n(_i716).concat(_s357):_i716.type===CSSRule.STYLE_RULE&&t.matches(_i716.selectorText)&&o.push(_i716);}}return o=o.sort(function(e,i){return s(t,i.selectorText)-s(t,e.selectorText);}),o;};var Tp=/*#__PURE__*/function(){function Tp(t){_classCallCheck(this,Tp);this.sc=t;}_createClass(Tp,[{key:"normalize",value:function normalize(){fh(this.sc);}},{key:"search",value:function search(){var _this373=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref107=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee94(i){var s,n,_iterator594,_step594,_e741;return regeneratorRuntime.wrap(function _callee94$(_context95){while(1){switch(_context95.prev=_context95.next){case 0:_context95.next=2;return _this373.getFontFaces(null,e);case 2:s=_context95.sent;n={};_iterator594=_createForOfIteratorHelper(s);try{for(_iterator594.s();!(_step594=_iterator594.n()).done;){_e741=_step594.value;(""===t||_e741.family.toLowerCase().includes(t.trim().toLowerCase()))&&(void 0===n[_e741.family]&&(n[_e741.family]={family:_e741.family,embeddedFaces:[],linkedFaces:[]}),_e741.src.includes("data:")?n[_e741.family].embeddedFaces.push(_e741):n[_e741.family].linkedFaces.push(_e741));}}catch(err){_iterator594.e(err);}finally{_iterator594.f();}i(Object.values(n));case 7:case"end":return _context95.stop();}}},_callee94);}));return function(_x113){return _ref107.apply(this,arguments);};}());}},{key:"nc",value:function nc(){var _this374=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref108=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee95(e){var i,_iterator595,_step595,_t971,_iterator596,_step596,_e742,_i717,_t972;return regeneratorRuntime.wrap(function _callee95$(_context96){while(1){switch(_context96.prev=_context96.next){case 0:i=[];_iterator595=_createForOfIteratorHelper(_this374.sc.querySelectorAll("style"));_context96.prev=2;_iterator595.s();case 4:if((_step595=_iterator595.n()).done){_context96.next=32;break;}_t971=_step595.value;_iterator596=_createForOfIteratorHelper(_t971.sheet.cssRules);_context96.prev=7;_iterator596.s();case 9:if((_step596=_iterator596.n()).done){_context96.next=22;break;}_e742=_step596.value;if(!(_e742.type===CSSRule.FONT_FACE_RULE)){_context96.next=15;break;}i.push(_e742);_context96.next=20;break;case 15:if(!(_e742.type===CSSRule.IMPORT_RULE&&_e742.href.startsWith("https://fonts.googleapis.com/css"))){_context96.next=20;break;}_context96.next=18;return kr.getFontFaceRulesFromUrl(_e742.href);case 18:_t972=_context96.sent;(_i717=i).push.apply(_i717,_toConsumableArray(_t972));case 20:_context96.next=9;break;case 22:_context96.next=27;break;case 24:_context96.prev=24;_context96.t0=_context96["catch"](7);_iterator596.e(_context96.t0);case 27:_context96.prev=27;_iterator596.f();return _context96.finish(27);case 30:_context96.next=4;break;case 32:_context96.next=37;break;case 34:_context96.prev=34;_context96.t1=_context96["catch"](2);_iterator595.e(_context96.t1);case 37:_context96.prev=37;_iterator595.f();return _context96.finish(37);case 40:null!==t&&(i=i.filter(function(e){return t===gh.fromString(e.style.fontFamily).items[0];})),e(i);case 41:case"end":return _context96.stop();}}},_callee95,null,[[2,34,37,40],[7,24,27,30]]);}));return function(_x114){return _ref108.apply(this,arguments);};}());}},{key:"getFontFaces",value:function getFontFaces(){var _this375=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(/*#__PURE__*/function(){var _ref109=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee96(i){return regeneratorRuntime.wrap(function _callee96$(_context97){while(1){switch(_context97.prev=_context97.next){case 0:_context97.t0=i;_context97.next=3;return _this375.nc(t);case 3:_context97.t1=_context97.sent.map(function(t){return _this375.oc(t,e);});(0,_context97.t0)(_context97.t1);case 5:case"end":return _context97.stop();}}},_callee96);}));return function(_x115){return _ref109.apply(this,arguments);};}());}},{key:"getMatchedFontFace",value:function getMatchedFontFace(t,e,i){var _this376=this;return new Promise(/*#__PURE__*/function(){var _ref110=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee97(s){var n;return regeneratorRuntime.wrap(function _callee97$(_context98){while(1){switch(_context98.prev=_context98.next){case 0:_context98.next=2;return _this376.getFontFaces(t);case 2:n=_context98.sent;s(Sh(n,t,e,i));case 4:case"end":return _context98.stop();}}},_callee97);}));return function(_x116){return _ref110.apply(this,arguments);};}());}},{key:"getFontFaceBaseline",value:function getFontFaceBaseline(t){var _this377=this;return new Promise(/*#__PURE__*/function(){var _ref111=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee98(e){var i,_e743,s,_n310,_t973,_e744;return regeneratorRuntime.wrap(function _callee98$(_context99){while(1){switch(_context99.prev=_context99.next){case 0:i=1;if(!t.src){_context99.next=8;break;}_e743=Mp.fromString(t.src).items[0].url.value;_context99.next=5;return _this377.lc(_e743,"arrayBuffer");case 5:s=_context99.sent;_n310=fontkit.create(s);if(_n310){_t973=_n310.hhea.ascent,_e744=_n310.hhea.descent;i=1-Math.abs(_e744)/(Math.abs(_t973)+Math.abs(_e744));}case 8:e(i);case 9:case"end":return _context99.stop();}}},_callee98);}));return function(_x117){return _ref111.apply(this,arguments);};}());}},{key:"getFontFamilyWeights",value:function getFontFamilyWeights(t){var _this378=this;return new Promise(/*#__PURE__*/function(){var _ref112=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee99(e){var i,s,_iterator597,_step597,_t974,_e745;return regeneratorRuntime.wrap(function _callee99$(_context100){while(1){switch(_context100.prev=_context100.next){case 0:_context100.next=2;return _this378.nc(t);case 2:i=_context100.sent;s=new Set();_iterator597=_createForOfIteratorHelper(i);try{for(_iterator597.s();!(_step597=_iterator597.n()).done;){_t974=_step597.value;_e745=_t974.style.fontWeight?wh(_t974.style.fontWeight):"400";s.add(_e745);}}catch(err){_iterator597.e(err);}finally{_iterator597.f();}e(_toConsumableArray(s));case 7:case"end":return _context100.stop();}}},_callee99);}));return function(_x118){return _ref112.apply(this,arguments);};}());}},{key:"pinFontFamily",value:function pinFontFamily(t){var _this379=this;return new Promise(/*#__PURE__*/function(){var _ref113=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee100(e){var _iterator598,_step598,_e746;return regeneratorRuntime.wrap(function _callee100$(_context101){while(1){switch(_context101.prev=_context101.next){case 0:_this379.normalize();_iterator598=_createForOfIteratorHelper(_this379.sc.querySelectorAll("style[data-bx-fonts]"));try{for(_iterator598.s();!(_step598=_iterator598.n()).done;){_e746=_step598.value;_e746.getAttribute("data-bx-fonts")===t&&_e746.setAttribute("data-bx-pinned","true");}}catch(err){_iterator598.e(err);}finally{_iterator598.f();}e();case 4:case"end":return _context101.stop();}}},_callee100);}));return function(_x119){return _ref113.apply(this,arguments);};}());}},{key:"unpinFontFamily",value:function unpinFontFamily(t){var _this380=this;return new Promise(/*#__PURE__*/function(){var _ref114=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee101(e){var _iterator599,_step599,_e747;return regeneratorRuntime.wrap(function _callee101$(_context102){while(1){switch(_context102.prev=_context102.next){case 0:_this380.normalize();_iterator599=_createForOfIteratorHelper(_this380.sc.querySelectorAll("style[data-bx-fonts]"));try{for(_iterator599.s();!(_step599=_iterator599.n()).done;){_e747=_step599.value;_e747.getAttribute("data-bx-fonts")===t&&_e747.removeAttribute("data-bx-pinned");}}catch(err){_iterator599.e(err);}finally{_iterator599.f();}e();case 4:case"end":return _context102.stop();}}},_callee101);}));return function(_x120){return _ref114.apply(this,arguments);};}());}},{key:"removeFontFamily",value:function removeFontFamily(t){var _this381=this;return new Promise(/*#__PURE__*/function(){var _ref115=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee102(e){var i;return regeneratorRuntime.wrap(function _callee102$(_context103){while(1){switch(_context103.prev=_context103.next){case 0:_this381.normalize();i=_this381.sc.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));i&&i.remove(),e();case 3:case"end":return _context103.stop();}}},_callee102);}));return function(_x121){return _ref115.apply(this,arguments);};}());}},{key:"linkFontFamily",value:function linkFontFamily(t,e){var _this382=this;return new Promise(/*#__PURE__*/function(){var _ref116=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee103(i){var s,n;return regeneratorRuntime.wrap(function _callee103$(_context104){while(1){switch(_context104.prev=_context104.next){case 0:_this382.normalize();s=_this382.sc.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));s||(s=Ii("svg:style"),s.setAttribute("data-bx-fonts",t),_this382.sc.querySelector("defs").append(s));n="@import url(".concat(e,");");s.textContent=n,i();case 5:case"end":return _context104.stop();}}},_callee103);}));return function(_x122){return _ref116.apply(this,arguments);};}());}},{key:"unlinkFontFamily",value:function(){var _unlinkFontFamily=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee105(t){var _this383=this;return regeneratorRuntime.wrap(function _callee105$(_context106){while(1){switch(_context106.prev=_context106.next){case 0:return _context106.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref117=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee104(e){var i,_iterator600,_step600,_e748,_t975,_i718,s,_n311,_i719,_iterator601,_step601,_s358,_i720,_n312,_e749,_i721;return regeneratorRuntime.wrap(function _callee104$(_context105){while(1){switch(_context105.prev=_context105.next){case 0:_this383.normalize();i=_toConsumableArray(_this383.sc.querySelectorAll("style[data-bx-fonts]"));_iterator600=_createForOfIteratorHelper(i);_context105.prev=3;_iterator600.s();case 5:if((_step600=_iterator600.n()).done){_context105.next=55;break;}_e748=_step600.value;if(!(_e748.getAttribute("data-bx-fonts")===t)){_context105.next=53;break;}_t975=!1,_i718=_toConsumableArray(_e748.sheet.cssRules);s=0;case 10:if(!(s<_i718.length)){_context105.next=52;break;}_n311=_i718[s];if(!(_n311.type===CSSRule.IMPORT_RULE)){_context105.next=42;break;}if(!_n311.href.startsWith("https://fonts.googleapis.com/css")){_context105.next=39;break;}_context105.next=16;return kr.getFontFaceRulesFromUrl(_n311.href);case 16:_i719=_context105.sent;_iterator601=_createForOfIteratorHelper(_i719);_context105.prev=18;_iterator601.s();case 20:if((_step601=_iterator601.n()).done){_context105.next=31;break;}_s358=_step601.value;if(!(_s358.type===CSSRule.FONT_FACE_RULE)){_context105.next=29;break;}_i720=Mp.fromString(_s358.style.src).items[0]||null;if(!(_i720&&"external"===_i720.type)){_context105.next=29;break;}_context105.next=27;return _this383.lc(_i720.url.value,"dataURL");case 27:_n312=_context105.sent;_s358.style.src='url("'+encodeURI(_n312)+'")',_e748.sheet.insertRule(_s358.cssText,_e748.sheet.cssRules.length),_t975=!0;case 29:_context105.next=20;break;case 31:_context105.next=36;break;case 33:_context105.prev=33;_context105.t0=_context105["catch"](18);_iterator601.e(_context105.t0);case 36:_context105.prev=36;_iterator601.f();return _context105.finish(36);case 39:_e748.sheet.deleteRule(s);_context105.next=49;break;case 42:if(!(_n311.type===CSSRule.FONT_FACE_RULE)){_context105.next=49;break;}_e749=Mp.fromString(_n311.style.src).items[0]||null;if(!(_e749&&"external"===_e749.type)){_context105.next=49;break;}_context105.next=47;return _this383.lc(_e749.url.value,"dataURL");case 47:_i721=_context105.sent;_n311.style.src='url("'+encodeURI(_i721)+'")',_t975=!0;case 49:s+=1;_context105.next=10;break;case 52:_t975&&Op(_e748);case 53:_context105.next=5;break;case 55:_context105.next=60;break;case 57:_context105.prev=57;_context105.t1=_context105["catch"](3);_iterator600.e(_context105.t1);case 60:_context105.prev=60;_iterator600.f();return _context105.finish(60);case 63:e();case 64:case"end":return _context105.stop();}}},_callee104,null,[[3,57,60,63],[18,33,36,39]]);}));return function(_x124){return _ref117.apply(this,arguments);};}()));case 1:case"end":return _context106.stop();}}},_callee105);}));function unlinkFontFamily(_x123){return _unlinkFontFamily.apply(this,arguments);}return unlinkFontFamily;}()},{key:"reorderFontFamilies",value:function reorderFontFamilies(t){var _this384=this;return new Promise(/*#__PURE__*/function(){var _ref118=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee106(e){var i,_iterator602,_step602,_e750,_t977,s,_i723,_i722,_t976;return regeneratorRuntime.wrap(function _callee106$(_context107){while(1){switch(_context107.prev=_context107.next){case 0:_this384.normalize();i=[];_iterator602=_createForOfIteratorHelper(t);try{for(_iterator602.s();!(_step602=_iterator602.n()).done;){_e750=_step602.value;_t977=_this384.sc.querySelector("style[data-bx-fonts=\"".concat(_e750,"\"]"));i.push(_t977);}}catch(err){_iterator602.e(err);}finally{_iterator602.f();}s=_this384.sc.querySelector("defs");for(_i723=0,_i722=i;_i723<_i722.length;_i723++){_t976=_i722[_i723];s.append(_t976);}e();case 7:case"end":return _context107.stop();}}},_callee106);}));return function(_x125){return _ref118.apply(this,arguments);};}());}},{key:"addFontFaces",value:function addFontFaces(t){var _this385=this;return new Promise(/*#__PURE__*/function(){var _ref119=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee107(e){var i,_iterator603,_step603,_e753,_i724,_Object$entries5,_Object$entries5$_i,_t978,_e751,_i725,_iterator604,_step604,_t979,_iterator605,_step605,_e752;return regeneratorRuntime.wrap(function _callee107$(_context108){while(1){switch(_context108.prev=_context108.next){case 0:i={};_iterator603=_createForOfIteratorHelper(t);try{for(_iterator603.s();!(_step603=_iterator603.n()).done;){_e753=_step603.value;void 0===i[_e753.family]&&(i[_e753.family]=[]),i[_e753.family].push(_e753);}}catch(err){_iterator603.e(err);}finally{_iterator603.f();}_i724=0,_Object$entries5=Object.entries(i);case 4:if(!(_i724<_Object$entries5.length)){_context108.next=15;break;}_Object$entries5$_i=_slicedToArray(_Object$entries5[_i724],2),_t978=_Object$entries5$_i[0],_e751=_Object$entries5$_i[1];_context108.next=8;return _this385.getFontFaces(_t978);case 8:_i725=_context108.sent;_iterator604=_createForOfIteratorHelper(_e751);try{for(_iterator604.s();!(_step604=_iterator604.n()).done;){_t979=_step604.value;_iterator605=_createForOfIteratorHelper(_i725);try{for(_iterator605.s();!(_step605=_iterator605.n()).done;){_e752=_step605.value;_e752.weight===_t979.weight&&_e752.style===_t979.weight&&_e752.stretch===_t979.stretch&&_e752.unicodeRange===_t979.unicodeRange&&_e752.variant===_t979.variant&&_e752.featureSettings===_t979.featureSettings&&_i725.remove(_e752);}}catch(err){_iterator605.e(err);}finally{_iterator605.f();}_i725.push(_t979);}}catch(err){_iterator604.e(err);}finally{_iterator604.f();}_this385.ac(_i725);case 12:_i724++;_context108.next=4;break;case 15:e();case 16:case"end":return _context108.stop();}}},_callee107);}));return function(_x126){return _ref119.apply(this,arguments);};}());}},{key:"removeFontFace",value:function removeFontFace(t){var _this386=this;return new Promise(/*#__PURE__*/function(){var _ref120=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee108(e){var i,s;return regeneratorRuntime.wrap(function _callee108$(_context109){while(1){switch(_context109.prev=_context109.next){case 0:_context109.next=2;return _this386.getFontFaces(t.family);case 2:i=_context109.sent;s=i.filter(function(e){return e.style!==t.style||e.weight!==t.weight||e.stretch!==t.stretch||e.unicodeRange!==t.unicodeRange;});s.length!==i.length&&_this386.ac(s),e();case 5:case"end":return _context109.stop();}}},_callee108);}));return function(_x127){return _ref120.apply(this,arguments);};}());}},{key:"ac",value:function ac(t){var e=t.length>0?t[0].family:null;if(null!==e){if(!t.find(function(t){return t.family!==e;})){this.normalize();var _i726=this.sc.querySelector("style[data-bx-fonts=\"".concat(e,"\"]"));_i726||(_i726=Ii("svg:style"),_i726.setAttribute("data-bx-fonts",e),this.sc.querySelector("defs").append(_i726));var s="";var _iterator606=_createForOfIteratorHelper(t),_step606;try{for(_iterator606.s();!(_step606=_iterator606.n()).done;){var _e754=_step606.value;s+=this.hc(_e754);}}catch(err){_iterator606.e(err);}finally{_iterator606.f();}return void(_i726.textContent=s);}console.error("Passed font faces from different families to fontsManger._setFamilyFontFaces().");}}},{key:"lc",value:function lc(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"dataURL";return new Promise(/*#__PURE__*/function(){var _ref121=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee109(i){var s,n;return regeneratorRuntime.wrap(function _callee109$(_context110){while(1){switch(_context110.prev=_context110.next){case 0:_context110.next=2;return fetch(t);case 2:s=_context110.sent;_context110.next=5;return s.blob();case 5:n=_context110.sent;if(!("dataURL"===e)){_context110.next=14;break;}_context110.t0=i;_context110.next=10;return Vh(n);case 10:_context110.t1=_context110.sent;(0,_context110.t0)(_context110.t1);_context110.next=20;break;case 14:if(!("arrayBuffer"===e)){_context110.next=20;break;}_context110.t2=i;_context110.next=18;return n.arrayBuffer();case 18:_context110.t3=_context110.sent;(0,_context110.t2)(_context110.t3);case 20:case"end":return _context110.stop();}}},_callee109);}));return function(_x128){return _ref121.apply(this,arguments);};}());}},{key:"oc",value:function oc(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.style.src,s=gh.fromString(t.style.fontFamily).items[0],n=t.style.fontStyle||"normal",o=t.style.fontWeight?wh(t.style.fontWeight):"400",l=t.style.fontStretch||"normal",a=t.style.unicodeRange||"U+0-10FFFF",h=t.style.fontVariant||"normal",r=t.style.fontFeatureSettings||"normal";if(e)return{src:i,family:s,style:n,weight:o,stretch:l,unicodeRange:a,variant:h,featureSettings:r};{var _t980=new FontFace(s,i,{style:n,weight:o,stretch:l,unicodeRange:a,variant:h,featureSettings:r});return _t980.src=i,_t980;}}},{key:"hc",value:function hc(t){var e="@font-face { ";return e+="font-family: \"".concat(t.family,"\"; "),e+="font-style: ".concat(t.style,"; "),e+="font-weight: ".concat(t.weight,"; "),e+="font-stretch: ".concat(t.stretch,"; "),e+="font-unicode-range: ".concat(t.unicodeRange,"; "),e+="font-variant: ".concat(t.variant,"; "),e+="font-feature-settings: ".concat(t.featureSettings,"; "),e+="src: ".concat(t.src,"; "),e+="}",e;}},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var _this387=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref122=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee110(e){var i,s,n,_iterator607,_step607,_e755,_n313,_o251,_l228,_a171,_h139,_r88,_d70,_n314,_o252,_n315,_c54,_p46,_u38,_iterator608,_step608,_e756,_iterator609,_step609,_t981,_i727;return regeneratorRuntime.wrap(function _callee110$(_context111){while(1){switch(_context111.prev=_context111.next){case 0:mi(t);i=Wt(t),s=document.createDocumentFragment(),n=t.querySelectorAll("tspan");_iterator607=_createForOfIteratorHelper(n);_context111.prev=3;_iterator607.s();case 5:if((_step607=_iterator607.n()).done){_context111.next=24;break;}_e755=_step607.value;_n313=getComputedStyle(_e755);_o251=gh.fromString(_n313.fontFamily).items[0];_l228=parseFloat(_n313.getPropertyValue("font-size"));_a171=wh(_n313.getPropertyValue("font-weight"));_h139=_n313.getPropertyValue("font-style");_r88=_n313.getPropertyValue("text-decoration");_context111.next=15;return _this387.getMatchedFontFace(_o251,_a171,_h139);case 15:_d70=_context111.sent;if(!_d70){_context111.next=22;break;}_n314=Mp.fromString(_d70.src).items[0].url.value;_context111.next=20;return _this387.lc(_n314,"arrayBuffer");case 20:_o252=_context111.sent;if(_o252){_n315=fontkit.create(_o252),_c54=("700"===_a171&&_d70.weight,("italic"===_h139||"oblique"===_h139)&&"italic"!==_d70.style),_p46=Oi(_e755,_n315,_l228,_r88,0,_c54),_u38=Ii("svg:path");_u38.setPathData(_p46),_u38.setAttribute("transform",i.toString());_iterator608=_createForOfIteratorHelper(t.style);try{for(_iterator608.s();!(_step608=_iterator608.n()).done;){_e756=_step608.value;!1===R.includes(_e756)&&_u38.style.setProperty(_e756,t.style.getPropertyValue(_e756));}}catch(err){_iterator608.e(err);}finally{_iterator608.f();}_iterator609=_createForOfIteratorHelper(_e755.style);try{for(_iterator609.s();!(_step609=_iterator609.n()).done;){_t981=_step609.value;!1===R.includes(_t981)&&_u38.style.setProperty(_t981,_e755.style.getPropertyValue(_t981));}}catch(err){_iterator609.e(err);}finally{_iterator609.f();}s.append(_u38);}case 22:_context111.next=5;break;case 24:_context111.next=29;break;case 26:_context111.prev=26;_context111.t0=_context111["catch"](3);_iterator607.e(_context111.t0);case 29:_context111.prev=29;_iterator607.f();return _context111.finish(29);case 32:if(s.children.length>0){_i727=_toConsumableArray(s.children);t.replaceWith(s),e(_i727);}else e(null);case 33:case"end":return _context111.stop();}}},_callee110,null,[[3,26,29,32]]);}));return function(_x129){return _ref122.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){var _this388=this;return new Promise(/*#__PURE__*/function(){var _ref123=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee111(e){var i,s,n,_iterator610,_step610,_e758,_i728,_n316,_t982,_e757,_n317;return regeneratorRuntime.wrap(function _callee111$(_context112){while(1){switch(_context112.prev=_context112.next){case 0:i=!0;_context112.next=3;return _this388.getFontFaces();case 3:s=_context112.sent.map(function(t){return t.family;});n=[];_iterator610=_createForOfIteratorHelper(vi(t));try{for(_iterator610.s();!(_step610=_iterator610.n()).done;){_e758=_step610.value;n.includes(_e758.parentElement)||n.push(_e758.parentElement);}}catch(err){_iterator610.e(err);}finally{_iterator610.f();}_i728=0,_n316=n;case 8:if(!(_i728<_n316.length)){_context112.next=17;break;}_t982=_n316[_i728];_e757=getComputedStyle(_t982),_n317=gh.fromString(_e757.fontFamily).items[0];if(!(!1===s.includes(_n317))){_context112.next=14;break;}i=!1;return _context112.abrupt("break",17);case 14:_i728++;_context112.next=8;break;case 17:e(i);case 18:case"end":return _context112.stop();}}},_callee111);}));return function(_x130){return _ref123.apply(this,arguments);};}());}}]);return Tp;}();var Ap=Math.abs;var $p=/*#__PURE__*/function(_vp2){_inherits($p,_vp2);var _super63=_createSuper($p);function $p(t){var _this389;_classCallCheck(this,$p);_this389=_super63.call(this),_this389.Mn=t,_this389.rc=[];return _this389;}_createClass($p,[{key:"snapStart",value:function snapStart(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Mn;if(this.rc=[],e.showGrid){var _t983=qt(e.vectorCanvas),_i729=e.currentWorkspace.querySelector(":scope > defs > bx-grid"),s=0,_n318=0,_o253=100,_l229=100;_i729&&(s=parseFloat(_i729.getAttribute("x")),_n318=parseFloat(_i729.getAttribute("y")),_o253=parseFloat(_i729.getAttribute("width")),_l229=parseFloat(_i729.getAttribute("height")));var _a172=e.getBoundingClientRect(),_h140=He(new DOMRect(s,_n318,_o253,_l229),_t983);s=_h140.x,_n318=_h140.y,_o253=_h140.width,_l229=_h140.height;var _r89=_a172.x,_d71=_a172.x+_a172.width,_c55=_a172.y,_p47=_a172.y+_a172.height,_u39=[],_x131=[];for(var _t984=s;_t984<=_d71;_t984+=_o253){_t984>=_r89&&_u39.push(_t984);}for(var _t985=s-_o253;_t985>=_r89;_t985-=_o253){_t985<=_d71&&_u39.push(_t985);}for(var _t986=_n318;_t986<=_p47;_t986+=_l229){_t986>=_c55&&_x131.push(_t986);}for(var _t987=_n318-_l229;_t987>=_c55;_t987-=_l229){_t987<=_p47&&_x131.push(_t987);}for(var _i730=0,_u40=_u39;_i730<_u40.length;_i730++){var _t988=_u40[_i730];this.rc.push({type:"grid",orientation:"vertical",snapping:!1,x:_t988,grid:_i729});}for(var _i731=0,_x132=_x131;_i731<_x132.length;_i731++){var _t989=_x132[_i731];this.rc.push({type:"grid",orientation:"horizontal",snapping:!1,y:_t989,grid:_i729});}}if(e.showManualGuides){var _t990=qt(e.vectorCanvas),_i732=e.currentWorkspace.querySelectorAll("bx-guide");var _iterator611=_createForOfIteratorHelper(_i732),_step611;try{for(_iterator611.s();!(_step611=_iterator611.n()).done;){var _e759=_step611.value;var _i733=parseFloat(_e759.getAttribute("angle")),_s359=parseFloat(_e759.getAttribute("x")),_n319=parseFloat(_e759.getAttribute("y")),_o254=new DOMPoint(_s359,_n319).matrixTransform(_t990);0===_i733?this.rc.push({type:"manual",orientation:"vertical",snapping:!1,x:_o254.x,guide:_e759}):90===_i733?this.rc.push({type:"manual",orientation:"horizontal",snapping:!1,y:_o254.y,guide:_e759}):this.rc.push({type:"manual",orientation:"angular",snapping:!1,x:_o254.x,y:_o254.y,guide:_e759});}}catch(err){_iterator611.e(err);}finally{_iterator611.f();}}if(e.showSmartGuides){var _i734=qt(e.vectorCanvas),_s360=e.outermostSelectedElements,_n320=[];if(_s360.length>0){var _iterator612=_createForOfIteratorHelper(_s360[0].parentElement.children),_step612;try{for(_iterator612.s();!(_step612=_iterator612.n()).done;){var _i735=_step612.value;e.isSelectableElement(_i735)&&(!1!==t&&!1!==_s360.includes(_i735)||_n320.push(_i735));}}catch(err){_iterator612.e(err);}finally{_iterator612.f();}}else{var _iterator613=_createForOfIteratorHelper(e.currentWorkspace.children),_step613;try{for(_iterator613.s();!(_step613=_iterator613.n()).done;){var _t991=_step613.value;e.isSelectableElement(_t991)&&_n320.push(_t991);}}catch(err){_iterator613.e(err);}finally{_iterator613.f();}}var _o255=_n320.map(function(t){return Ti(t);});if(e.currentWorkspace.hasAttribute("viewBox")){var _t992=Ft.fromString(e.currentWorkspace.getAttribute("viewBox")).toRect();_t992=He(_t992,_i734),_o255.push(_t992);}{var _t993=e.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view");var _iterator614=_createForOfIteratorHelper(_t993),_step614;try{for(_iterator614.s();!(_step614=_iterator614.n()).done;){var _e760=_step614.value;var _t994=Ft.fromString(_e760.getAttribute("viewBox")).toRect();_t994=He(_t994,_i734),_o255.push(_t994);}}catch(err){_iterator614.e(err);}finally{_iterator614.f();}}{var _t995=e.getBoundingClientRect();_o255=_o255.filter(function(e){return Xe(_t995,e);});}var _iterator615=_createForOfIteratorHelper(_o255),_step615;try{for(_iterator615.s();!(_step615=_iterator615.n()).done;){var _t996=_step615.value;this.rc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t996.x,snappingBBox:_t996,snappedBBox:null,side:"left"}),this.rc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t996.x+_t996.width,snappingBBox:_t996,side:"right"}),this.rc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t996.y,snappingBBox:_t996,snappedBBox:null,side:"top"}),this.rc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t996.y+_t996.height,snappingBBox:_t996,snappedBBox:null,side:"bottom"});}}catch(err){_iterator615.e(err);}finally{_iterator615.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}},{key:"snapEnd",value:function snapEnd(){this.rc.length>0&&(this.rc=[],this.dispatchEvent(new CustomEvent("snapperschange")));}},{key:"snapBBox",value:function snapBBox(t){var e=new DOMRect(t.x,t.y,t.width,t.height);if(this.rc.length>0){var _i736=Infinity,s=Infinity,_n321=null,_o256=null,_l230=null,_a173=null,_h141=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)];for(var _i737=0,_h142=_h141;_i737<_h142.length;_i737++){var _t997=_h142[_i737];var _iterator616=_createForOfIteratorHelper(this.rc),_step616;try{for(_iterator616.s();!(_step616=_iterator616.n()).done;){var _e761=_step616.value;if("vertical"===_e761.orientation){var _s361=Ap(_t997.x-_e761.x);_s361<_i736&&(_i736=_s361,_n321=_e761,_l230=_e761.x-_t997.x);}else if("horizontal"===_e761.orientation){var _i738=Ap(_t997.y-_e761.y);_i738<s&&(s=_i738,_o256=_e761,_a173=_e761.y-_t997.y);}}}catch(err){_iterator616.e(err);}finally{_iterator616.f();}}var _iterator617=_createForOfIteratorHelper(this.rc),_step617;try{for(_iterator617.s();!(_step617=_iterator617.n()).done;){var _t998=_step617.value;_t998.snapping=!1,_t998.snappedBBox=null,_t998.snappedPoint=null;}}catch(err){_iterator617.e(err);}finally{_iterator617.f();}_i736<10&&(e.x+=_l230,_n321.snapping=!0,_n321.snappedBBox=e),s<10&&(e.y+=_a173,_o256.snapping=!0,_o256.snappedBBox=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPoint",value:function snapPoint(t){var e=new DOMPoint(t.x,t.y);if(this.rc.length>0){var _i739=Infinity,s=Infinity,_n322=null,_o257=null,_l231=null,_a174=null;var _iterator618=_createForOfIteratorHelper(this.rc),_step618;try{for(_iterator618.s();!(_step618=_iterator618.n()).done;){var _e762=_step618.value;if("vertical"===_e762.orientation){var _s362=Ap(t.x-_e762.x);_s362<_i739&&(_i739=_s362,_n322=_e762,_l231=_e762.x-t.x);}else if("horizontal"===_e762.orientation){var _i740=Ap(t.y-_e762.y);_i740<s&&(s=_i740,_o257=_e762,_a174=_e762.y-t.y);}}}catch(err){_iterator618.e(err);}finally{_iterator618.f();}var _iterator619=_createForOfIteratorHelper(this.rc),_step619;try{for(_iterator619.s();!(_step619=_iterator619.n()).done;){var _t999=_step619.value;_t999.snapping=!1,_t999.snappedBBox=null,_t999.snappedPoint=null;}}catch(err){_iterator619.e(err);}finally{_iterator619.f();}_i739<10&&(e.x+=_l231,_n322.snapping=!0,_n322.snappedPoint=e),s<10&&(e.y+=_a174,_o257.snapping=!0,_o257.snappedPoint=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPointToAngleMultiple",value:function snapPointToAngleMultiple(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var _Re27=Re(t,e,i),_Re28=_slicedToArray(_Re27,1),s=_Re28[0];if(this.rc.length>0){var _e763=null,_i741=null,_n323=Infinity;var _iterator620=_createForOfIteratorHelper(this.rc),_step620;try{for(_iterator620.s();!(_step620=_iterator620.n()).done;){var _o258=_step620.value;var _l232=void 0,_a175=void 0;"vertical"===_o258.orientation?(_l232=new DOMPoint(_o258.x,0),_a175=new DOMPoint(_o258.x,100)):(_l232=new DOMPoint(0,_o258.y),_a175=new DOMPoint(100,_o258.y));var _h143=ei(t,s,_l232,_a175);if(_h143){var _t1002=Te(s,_h143);_t1002<_n323&&(_e763=_o258,_i741=_h143,_n323=_t1002);}}}catch(err){_iterator620.e(err);}finally{_iterator620.f();}if(_n323<5){s=_i741;var _iterator621=_createForOfIteratorHelper(this.rc),_step621;try{for(_iterator621.s();!(_step621=_iterator621.n()).done;){var _t1000=_step621.value;_t1000.snapping=_t1000===_e763,_t1000.snappedBBox=null,_t1000.snappedPoint=_t1000===_e763?s:null;}}catch(err){_iterator621.e(err);}finally{_iterator621.f();}}else{var _iterator622=_createForOfIteratorHelper(this.rc),_step622;try{for(_iterator622.s();!(_step622=_iterator622.n()).done;){var _t1001=_step622.value;_t1001.snapping=!1,_t1001.snappedBBox=null,_t1001.snappedPoint=null;}}catch(err){_iterator622.e(err);}finally{_iterator622.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}return s;}},{key:"isGuideSnapping",value:function isGuideSnapping(t){var _iterator623=_createForOfIteratorHelper(this.rc),_step623;try{for(_iterator623.s();!(_step623=_iterator623.n()).done;){var _e764=_step623.value;if(_e764.guide===t)return _e764.snapping;}}catch(err){_iterator623.e(err);}finally{_iterator623.f();}return!1;}},{key:"isGridSnapping",value:function isGridSnapping(t){}},{key:"snappers",get:function get(){return _toConsumableArray(this.rc);}}]);return $p;}(vp);var Ip={colors:"unpinned",gradients:"unpinned",patterns:"unpinned",markers:"unpinned",symbols:"none",filters:"unpinned",fonts:"unpinned",clipPaths:"unpinned",masks:"unpinned"};var Lp=/*#__PURE__*/function(){function Lp(t){_classCallCheck(this,Lp);this.Xd=t;}_createClass(Lp,[{key:"collect",value:function collect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Ip;for(var _i742=0,_Object$entries6=Object.entries(Ip);_i742<_Object$entries6.length;_i742++){var _Object$entries6$_i=_slicedToArray(_Object$entries6[_i742],2),_e765=_Object$entries6$_i[0],_i743=_Object$entries6$_i[1];void 0===t[_e765]&&(t[_e765]=_i743);}var e=this.dc(),i={gradients:[],patterns:[],markers:[],symbols:[],filters:[],fonts:[],clipPaths:[],masks:[]};if("all"===t.colors||"unpinned"===t.colors){var s=_toConsumableArray(this.Xd.querySelectorAll("linearGradient, radialGradient"));s=s.filter(function(t){return!0===Oo(t);});var _iterator624=_createForOfIteratorHelper(s),_step624;try{for(_iterator624.s();!(_step624=_iterator624.n()).done;){var _n324=_step624.value;var _o259=e.paintServers.has(_n324.id),_l233="unpinned"===t.colors&&_n324.hasAttribute("data-bx-pinned");if(!1===_o259&&!1===_l233){var _a176=this.cc(_n324,s);var _iterator625=_createForOfIteratorHelper(_a176),_step625;try{for(_iterator625.s();!(_step625=_iterator625.n()).done;){var _i744=_step625.value;if(_o259=e.paintServers.has(_i744.id),_l233="unpinned"===t.colors&&_i744.hasAttribute("data-bx-pinned"),_o259||_l233)break;}}catch(err){_iterator625.e(err);}finally{_iterator625.f();}!1===_o259&&!1===_l233&&(i.gradients.push(_n324),_n324.remove());}}}catch(err){_iterator624.e(err);}finally{_iterator624.f();}}if("all"===t.gradients||"unpinned"===t.gradients){var _s363=_toConsumableArray(this.Xd.querySelectorAll("linearGradient, radialGradient"));_s363=_s363.filter(function(t){return!1===Oo(t);});var _iterator626=_createForOfIteratorHelper(_s363),_step626;try{for(_iterator626.s();!(_step626=_iterator626.n()).done;){var _n325=_step626.value;var _o260=e.paintServers.has(_n325.id),_l234="unpinned"===t.gradients&&_n325.hasAttribute("data-bx-pinned");if(!1===_o260&&!1===_l234){var _a177=this.cc(_n325,_s363);var _iterator627=_createForOfIteratorHelper(_a177),_step627;try{for(_iterator627.s();!(_step627=_iterator627.n()).done;){var _i745=_step627.value;if(_o260=e.paintServers.has(_i745.id),_l234="unpinned"===t.gradients&&_i745.hasAttribute("data-bx-pinned"),_o260||_l234)break;}}catch(err){_iterator627.e(err);}finally{_iterator627.f();}!1===_o260&&!1===_l234&&(i.gradients.push(_n325),_n325.remove());}}}catch(err){_iterator626.e(err);}finally{_iterator626.f();}}if("all"===t.patterns||"unpinned"===t.patterns){var _s364=_toConsumableArray(this.Xd.querySelectorAll("pattern"));var _iterator628=_createForOfIteratorHelper(_s364),_step628;try{for(_iterator628.s();!(_step628=_iterator628.n()).done;){var _n326=_step628.value;var _o261=e.paintServers.has(_n326.id),_l235="unpinned"===t.patterns&&_n326.hasAttribute("data-bx-pinned");if(!1===_o261&&!1===_l235){var _a178=this.uc(_n326,_s364);var _iterator629=_createForOfIteratorHelper(_a178),_step629;try{for(_iterator629.s();!(_step629=_iterator629.n()).done;){var _i746=_step629.value;if(_o261=e.paintServers.has(_i746.id),_l235="unpinned"===t.patterns&&_i746.hasAttribute("data-bx-pinned"),_o261||_l235)break;}}catch(err){_iterator629.e(err);}finally{_iterator629.f();}!1===_o261&&!1===_l235&&(i.patterns.push(_n326),_n326.remove());}}}catch(err){_iterator628.e(err);}finally{_iterator628.f();}}if("all"===t.markers||"unpinned"===t.markers){var _s365=_toConsumableArray(this.Xd.querySelectorAll("marker"));var _iterator630=_createForOfIteratorHelper(_s365),_step630;try{for(_iterator630.s();!(_step630=_iterator630.n()).done;){var _n327=_step630.value;var _s366=e.markers.has(_n327.id),_o262="unpinned"===t.markers&&_n327.hasAttribute("data-bx-pinned");!1===_s366&&!1===_o262&&(i.markers.push(_n327),_n327.remove());}}catch(err){_iterator630.e(err);}finally{_iterator630.f();}}if("all"===t.filters||"unpinned"===t.filters){var _s367=this.Xd.querySelectorAll("filter");var _iterator631=_createForOfIteratorHelper(_s367),_step631;try{for(_iterator631.s();!(_step631=_iterator631.n()).done;){var _n328=_step631.value;var _s368=e.filters.has(_n328.id),_o263="unpinned"===t.filters&&_n328.hasAttribute("data-bx-pinned");!1===_s368&&!1===_o263&&(i.filters.push(_n328),_n328.remove());}}catch(err){_iterator631.e(err);}finally{_iterator631.f();}}if("all"===t.clipPaths||"unpinned"===t.clipPaths){var _s369=this.Xd.querySelectorAll("clipPath, clippath");var _iterator632=_createForOfIteratorHelper(_s369),_step632;try{for(_iterator632.s();!(_step632=_iterator632.n()).done;){var _n329=_step632.value;var _s370=e.clipPaths.has(_n329.id),_o264="unpinned"===t.clipPaths&&_n329.hasAttribute("data-bx-pinned");!1===_s370&&!1===_o264&&(i.clipPaths.push(_n329),_n329.remove());}}catch(err){_iterator632.e(err);}finally{_iterator632.f();}}if("all"===t.masks||"unpinned"===t.masks){var _s371=this.Xd.querySelectorAll("mask");var _iterator633=_createForOfIteratorHelper(_s371),_step633;try{for(_iterator633.s();!(_step633=_iterator633.n()).done;){var _n330=_step633.value;var _s372=e.masks.has(_n330.id),_o265="unpinned"===t.masks&&_n330.hasAttribute("data-bx-pinned");!1===_s372&&!1===_o265&&(i.masks.push(_n330),_n330.remove());}}catch(err){_iterator633.e(err);}finally{_iterator633.f();}}if("all"===t.symbols||"unpinned"===t.symbols){var _s373=this.Xd.querySelectorAll("symbol");var _iterator634=_createForOfIteratorHelper(_s373),_step634;try{for(_iterator634.s();!(_step634=_iterator634.n()).done;){var _n331=_step634.value;var _s374=e.symbols.has(_n331.id),_o266="unpinned"===t.symbols&&_n331.hasAttribute("data-bx-pinned");!1===_s374&&!1===_o266&&(i.symbols.push(_n331),_n331.remove());}}catch(err){_iterator634.e(err);}finally{_iterator634.f();}}if("all"===t.fonts||"unpinned"===t.fonts){var _e766=this.xc(),_s375=_toConsumableArray(this.Xd.querySelectorAll("style[data-bx-fonts]"));var _iterator635=_createForOfIteratorHelper(_s375),_step635;try{for(_iterator635.s();!(_step635=_iterator635.n()).done;){var _n332=_step635.value;var _s376=_n332.getAttribute("data-bx-fonts"),_o267=_e766.has(_s376),_l236="unpinned"===t.fonts&&_n332.hasAttribute("data-bx-pinned");!1===_o267&&!1===_l236&&(i.fonts.push(_s376),_n332.remove());}}catch(err){_iterator635.e(err);}finally{_iterator635.f();}}(i.gradients.length>0||i.patterns.length>0||i.markers.length>0||i.filters.length>0||i.clipPaths.length>0||i.masks.length>0||i.symbols.length>0||i.fonts.length>0)&&this.collect(t);}},{key:"dc",value:function dc(){var t=document.createNodeIterator(this.Xd,NodeFilter.SHOW_ELEMENT),e=null,i={paintServers:new Set(),markers:new Set(),filters:new Set(),clipPaths:new Set(),masks:new Set(),symbols:new Set(),fontFamilies:new Set()};for(;e=t.nextNode();){var _t1003=getComputedStyle(e);if(k.includes(e.localName)){var _e767=_t1003.fill,s=_t1003.stroke;if(_e767&&_e767.startsWith("url(")){var _t1004=_e767.substring(6,_e767.length-2);i.paintServers.add(_t1004);}if(s&&s.startsWith("url(")){var _t1005=s.substring(6,s.length-2);i.paintServers.add(_t1005);}}if(T.includes(e.localName)){var _e768=_t1003.markerStart,_s377=_t1003.markerMid,_n333=_t1003.markerEnd;if(_e768&&_e768.startsWith("url(")){var _t1006=_e768.substring(6,_e768.length-2);i.markers.add(_t1006);}if(_s377&&_s377.startsWith("url(")){var _t1007=_s377.substring(6,_s377.length-2);i.markers.add(_t1007);}if(_n333&&_n333.startsWith("url(")){var _t1008=_n333.substring(6,_n333.length-2);i.markers.add(_t1008);}}if(E.includes(e.localName)){var _e769=_t1003.filter;if(_e769&&_e769.startsWith("url(")){var _t1009=_e769.substring(6,_e769.length-2);i.filters.add(_t1009);}}if(P.includes(e.localName)){var _e770=_t1003.clipPath;if(_e770&&_e770.startsWith("url(")){var _t1010=_e770.substring(6,_e770.length-2);i.clipPaths.add(_t1010);}}if(z.includes(e.localName)){var _e771=_t1003.mask;if(_e771&&_e771.startsWith("url(")){var _t1011=_e771.substring(6,_e771.length-2);i.masks.add(_t1011);}}if("use"===e.localName&&"#"===e.href.baseVal[0]){var _t1012=e.href.baseVal.substring(1);i.symbols.add(_t1012);}if(f.includes(e.localName)||"a"===e.localName){var _e772=_t1003.fontFamily;_e772&&i.fontFamilies.add(_e772);}}return i;}},{key:"xc",value:function xc(){var t,e=new Set(),i=document.createNodeIterator(this.Xd,NodeFilter.SHOW_ELEMENT);for(;t=i.nextNode();){if(""!==t.style.fontFamily){var _i747=gh.fromString(t.style.fontFamily);if(_i747){var _iterator636=_createForOfIteratorHelper(_i747.items),_step636;try{for(_iterator636.s();!(_step636=_iterator636.n()).done;){var _t1013=_step636.value;e.add(_t1013);}}catch(err){_iterator636.e(err);}finally{_iterator636.f();}}}}var _iterator637=_createForOfIteratorHelper(this.Xd.querySelectorAll("style")),_step637;try{for(_iterator637.s();!(_step637=_iterator637.n()).done;){var _t1014=_step637.value;var _iterator638=_createForOfIteratorHelper(_t1014.sheet.cssRules),_step638;try{for(_iterator638.s();!(_step638=_iterator638.n()).done;){var _i748=_step638.value;if(_i748.type===CSSStyleRule.STYLE_RULE&&""!==_i748.style.fontFamily){var _t1015=gh.fromString(_i748.style.fontFamily);var _iterator639=_createForOfIteratorHelper(_t1015.items),_step639;try{for(_iterator639.s();!(_step639=_iterator639.n()).done;){var _i749=_step639.value;e.add(_i749);}}catch(err){_iterator639.e(err);}finally{_iterator639.f();}}}}catch(err){_iterator638.e(err);}finally{_iterator638.f();}}}catch(err){_iterator637.e(err);}finally{_iterator637.f();}return e;}},{key:"cc",value:function cc(t,e){var i=[],s=function s(t){var _iterator640=_createForOfIteratorHelper(e.filter(function(e){return e.href.baseVal==="#"+t.id;})),_step640;try{for(_iterator640.s();!(_step640=_iterator640.n()).done;){var _n334=_step640.value;!1===i.includes(_n334)&&(i.push(_n334),s(_n334));}}catch(err){_iterator640.e(err);}finally{_iterator640.f();}};return s(t),i;}},{key:"uc",value:function uc(t,e){var i=[],s=function s(t){var _iterator641=_createForOfIteratorHelper(e.filter(function(e){return e.href.baseVal==="#"+t.id;})),_step641;try{for(_iterator641.s();!(_step641=_iterator641.n()).done;){var _n335=_step641.value;!1===i.includes(_n335)&&(i.push(_n335),s(_n335));}}catch(err){_iterator641.e(err);}finally{_iterator641.f();}};return s(t),i;}}]);return Lp;}();var _window7=window,Rp=_window7.tokenize,Bp=_window7.EOFToken;var Gp=/*#__PURE__*/function(){_createClass(Gp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<number>";}}]);function Gp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Gp);this._t=t;}_createClass(Gp,[{key:"toString",value:function toString(){return""+this.value;}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Rp(t)),[new Bp()]),s=new Tt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"NUMBER"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected NUMBER token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Gp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Gp;}();var _window8=window,Up=_window8.tokenize,Fp=_window8.EOFToken;var Np=/*#__PURE__*/function(){_createClass(Np,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<percentage>";}}]);function Np(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Np);this._t=t;}_createClass(Np,[{key:"toString",value:function toString(){return this.value+"%";}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Up(t)),[new Fp()]),s=new Tt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"PERCENTAGE"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected PERCENTAGE token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Np(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Np;}();var Vp=function Vp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;t=t.cloneNode(!0);var s,n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;s=n.nextNode();){if(s.nodeType==Node.ELEMENT_NODE)if("defs"===s.localName)0===s.children.length&&s.remove();else if("style"===s.localName)""===s.textContent.replace(/\s+/g," ").trim()?s.remove():s.matches('[data-bx-fonts="google"]')&&s.removeAttribute("data-bx-fonts");else if("xml"===e&&"path"===s.localName){var _t1016=s.getAttribute("d");_t1016&&/[\t\n\r]/.test(_t1016)&&s.setAttribute("d",_t1016.replace(/[\t\n\r ]+/g," "));}}return Wp(t,e),dp(t,i),jp(t,e);},jp=function jp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i;if("xml"===e){i='<?xml version="1.0" encoding="utf-8"?>\n'+new XMLSerializer().serializeToString(t);}else if("html"===e){i="<!doctype html>\n"+t.outerHTML,i=ai(i,' xmlns:xlink="http://www.w3.org/1999/xlink"',"");}return i=ai(i,"url(&quot;","url("),i=ai(i,"&quot;)",")"),i;},Hp=function Hp(t){return new Promise(/*#__PURE__*/function(){var _ref124=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee112(e){var _i750,s,n,o;return regeneratorRuntime.wrap(function _callee112$(_context113){while(1){switch(_context113.prev=_context113.next){case 0:n=new Blob([t],{type:"image/svg+xml"}),o=new FileReader();o.readAsDataURL(n),o.addEventListener("load",_i750=function i(t){o.removeEventListener("load",_i750),o.removeEventListener("error",s);var n=t.target.result;e(n);}),o.addEventListener("error",s=function(_s378){function s(_x134){return _s378.apply(this,arguments);}s.toString=function(){return _s378.toString();};return s;}(function(t){o.removeEventListener("load",_i750),o.removeEventListener("error",s),e(null);}));case 2:case"end":return _context113.stop();}}},_callee112);}));return function(_x133){return _ref124.apply(this,arguments);};}());},Wp=function Wp(t,e){if("xml"===e){var _e773,_i751=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_s379=!1,_n336=!1;for(;_e773=_i751.nextNode();){if("bx-title"!==_e773.localName){if(_e773.localName.startsWith("bx-")){var _t1017=document.createElementNS(l.bx,"bx:"+_e773.localName.substring(3));for(var _i752=0,_arr28=_toConsumableArray(_e773.attributes);_i752<_arr28.length;_i752++){var _i753=_arr28[_i752];_t1017.setAttribute(_i753.name,_i753.value);}for(var _i754=0,_arr29=_toConsumableArray(_e773.childNodes);_i754<_arr29.length;_i754++){var _i755=_arr29[_i754];_t1017.append(_i755);}_e773.replaceWith(_t1017),_n336=!0;}else for(var _i756=0,_arr30=_toConsumableArray(_e773.attributes);_i756<_arr30.length;_i756++){var _arr30$_i=_arr30[_i756],_t1018=_arr30$_i.name,_i757=_arr30$_i.value;if("href"===_t1018||"_href"===_t1018)_e773.setAttribute("xlink:href",_i757),_e773.removeAttribute(_t1018),_s379=!0;else if(_t1018.startsWith("data-bx-")){var _s380=_t1018.substring(8);_e773.setAttributeNS(l.bx,"bx:".concat(_s380),_i757),_e773.removeAttribute(_t1018),_n336=!0;}}}else{var _t1019=Ii("svg:title");_t1019.innerHTML=_e773.innerHTML;var _iterator642=_createForOfIteratorHelper(_e773.attributes),_step642;try{for(_iterator642.s();!(_step642=_iterator642.n()).done;){var _step642$value=_step642.value,_i758=_step642$value.name,_s381=_step642$value.value;_t1019.setAttribute(_i758,_s381);}}catch(err){_iterator642.e(err);}finally{_iterator642.f();}_e773.replaceWith(_t1019);}}t.removeAttribute("xmlns"),t.removeAttribute("xmlns:bx"),t.removeAttribute("xmlns:xlink"),t.setAttributeNS(l.xmlns,"xmlns",l.svg),_s379&&t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),_n336&&t.setAttributeNS(l.xmlns,"xmlns:bx",l.bx);}else if("html"===e){var _e774,_i759=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;_e774=_i759.nextNode();){if("bx-title"!==_e774.localName)for(var _i760=0,_arr31=_toConsumableArray(_e774.attributes);_i760<_arr31.length;_i760++){var _arr31$_i=_arr31[_i760],_t1020=_arr31$_i.name,_i761=_arr31$_i.value;"href"!==_t1020&&"_href"!==_t1020||(_e774.setAttribute("xlink:href",_i761),_e774.removeAttribute(_t1020));}else{var _t1021=Ii("svg:title");_t1021.innerHTML=_e774.innerHTML;var _iterator643=_createForOfIteratorHelper(_e774.attributes),_step643;try{for(_iterator643.s();!(_step643=_iterator643.n()).done;){var _step643$value=_step643.value,_i762=_step643$value.name,_s382=_step643$value.value;_t1021.setAttribute(_i762,_s382);}}catch(err){_iterator643.e(err);}finally{_iterator643.f();}_e774.replaceWith(_t1021);}}}},Yp=function Yp(t){return null!==new DOMParser().parseFromString(t,"text/html").querySelector("svg");},qp=function qp(t,e){var i=document.createElement("div");i.setAttribute("style","width: 1px; height: 1px; position: fixed; top: -1px; left: -1px; overflow: hidden;"),i.attachShadow({mode:"open"}),i.shadowRoot.append(t),i.shadowRoot.append(e),document.body.append(i);var _iterator644=_createForOfIteratorHelper(t.querySelectorAll("use")),_step644;try{for(_iterator644.s();!(_step644=_iterator644.n()).done;){var _i776=_step644.value;if(""!==_i776.href.baseVal){var _s394=t.querySelector(_i776.href.baseVal),_n340=e.querySelector(_i776.href.baseVal);_s394&&_n340&&Bi(_s394,_n340)&&_s394.remove();}}}catch(err){_iterator644.e(err);}finally{_iterator644.f();}{var _i763=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i763=_i763.filter(function(t){return Oo(t);});var _s383=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s383=_s383.filter(function(t){return Oo(t);});var _iterator645=_createForOfIteratorHelper(_i763),_step645;try{var _loop18=function _loop18(){var t=_step645.value;var e=_s383.find(function(e){return e.id===t.id;});e&&!0===Fo([t,e])&&t.remove();};for(_iterator645.s();!(_step645=_iterator645.n()).done;){_loop18();}}catch(err){_iterator645.e(err);}finally{_iterator645.f();}}{var _i764=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i764=_i764.filter(function(t){return To(t);});var _s384=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s384=_s384.filter(function(t){return To(t);});var _iterator646=_createForOfIteratorHelper(_i764),_step646;try{var _loop19=function _loop19(){var t=_step646.value;var e=_s384.find(function(e){return e.id===t.id;});e&&!0===Fo([t,e])&&t.remove();};for(_iterator646.s();!(_step646=_iterator646.n()).done;){_loop19();}}catch(err){_iterator646.e(err);}finally{_iterator646.f();}}{var _i765=_toConsumableArray(t.querySelectorAll("pattern:not([href])")),_s385=_toConsumableArray(e.querySelectorAll("pattern:not([href])"));var _iterator647=_createForOfIteratorHelper(_i765),_step647;try{var _loop20=function _loop20(){var t=_step647.value;var e=_s385.find(function(e){return e.id===t.id;});e&&Bi(t,e)&&t.remove();};for(_iterator647.s();!(_step647=_iterator647.n()).done;){_loop20();}}catch(err){_iterator647.e(err);}finally{_iterator647.f();}}{var _i766=_toConsumableArray(t.querySelectorAll("marker")),_s386=_toConsumableArray(e.querySelectorAll("marker"));var _iterator648=_createForOfIteratorHelper(_i766),_step648;try{var _loop21=function _loop21(){var t=_step648.value;var e=_s386.find(function(e){return e.id===t.id;});e&&Bi(t,e)&&t.remove();};for(_iterator648.s();!(_step648=_iterator648.n()).done;){_loop21();}}catch(err){_iterator648.e(err);}finally{_iterator648.f();}}{var _i767=_toConsumableArray(t.querySelectorAll("filter"));_i767=_i767.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _s387=_toConsumableArray(e.querySelectorAll("filter"));_s387=_s387.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _iterator649=_createForOfIteratorHelper(_i767),_step649;try{var _loop22=function _loop22(){var t=_step649.value;var e=_s387.find(function(e){return e.id===t.id;});e&&Bi(t,e)&&t.remove();};for(_iterator649.s();!(_step649=_iterator649.n()).done;){_loop22();}}catch(err){_iterator649.e(err);}finally{_iterator649.f();}}{var _e775=_toConsumableArray(t.querySelectorAll("view"));var _iterator650=_createForOfIteratorHelper(_e775),_step650;try{for(_iterator650.s();!(_step650=_iterator650.n()).done;){var _t1022=_step650.value;_t1022.remove();}}catch(err){_iterator650.e(err);}finally{_iterator650.f();}}var _iterator651=_createForOfIteratorHelper(t.querySelectorAll("[data-bx-pinned]")),_step651;try{for(_iterator651.s();!(_step651=_iterator651.n()).done;){var _e783=_step651.value;_e783.removeAttribute("data-bx-pinned");}}catch(err){_iterator651.e(err);}finally{_iterator651.f();}{var _e776=_toConsumableArray(t.querySelectorAll("style")).filter(function(t){return!t.hasAttribute("data-bx-fonts");}),_i768=new Set();var _iterator652=_createForOfIteratorHelper(_e776),_step652;try{for(_iterator652.s();!(_step652=_iterator652.n()).done;){var _s389=_step652.value;var _iterator656=_createForOfIteratorHelper(_s389.sheet.cssRules),_step656;try{for(_iterator656.s();!(_step656=_iterator656.n()).done;){var _e777=_step656.value;if(_e777.type===CSSRule.STYLE_RULE){var _iterator657=_createForOfIteratorHelper(t.querySelectorAll(_e777.selectorText)),_step657;try{for(_iterator657.s();!(_step657=_iterator657.n()).done;){var _s390=_step657.value;_i768.add(_s390);}}catch(err){_iterator657.e(err);}finally{_iterator657.f();}}}}catch(err){_iterator656.e(err);}finally{_iterator656.f();}}}catch(err){_iterator652.e(err);}finally{_iterator652.f();}var _s388=Symbol();var _iterator653=_createForOfIteratorHelper(_i768),_step653;try{for(_iterator653.s();!(_step653=_iterator653.n()).done;){var _t1023=_step653.value;_t1023[_s388]=Pp(_t1023);}}catch(err){_iterator653.e(err);}finally{_iterator653.f();}var _iterator654=_createForOfIteratorHelper(_e776),_step654;try{for(_iterator654.s();!(_step654=_iterator654.n()).done;){var _t1024=_step654.value;_t1024.remove();}}catch(err){_iterator654.e(err);}finally{_iterator654.f();}var _iterator655=_createForOfIteratorHelper(_i768),_step655;try{for(_iterator655.s();!(_step655=_iterator655.n()).done;){var _t1025=_step655.value;var _e778=_t1025[_s388],_i769=Pp(_t1025);for(var _i770=0,_Object$entries7=Object.entries(_e778);_i770<_Object$entries7.length;_i770++){var _Object$entries7$_i=_slicedToArray(_Object$entries7[_i770],2),_s391=_Object$entries7$_i[0],_n337=_Object$entries7$_i[1];_n337!==_i769[_s391]&&_t1025.style.setProperty(_s391,_n337);}}}catch(err){_iterator655.e(err);}finally{_iterator655.f();}t.remove();}{var _i771=_toConsumableArray(t.querySelectorAll("[id]")).map(function(t){return t.id;}),_s392=_toConsumableArray(e.querySelectorAll("[id]")).map(function(t){return t.id;});t.id&&_i771.push(t.id),e.id&&_s392.push(e.id);var _n338=_i771.filter(function(t){return _s392.includes(t);});_n338=ni(_n338);var _o268={},_l237={},_a179={};for(var _i772=0,_arr32=[].concat(_toConsumableArray(_i771),_toConsumableArray(_s392));_i772<_arr32.length;_i772++){var _t1026=_arr32[_i772];_a179[_t1026]=!0;}var _iterator658=_createForOfIteratorHelper(_n338),_step658;try{for(_iterator658.s();!(_step658=_iterator658.n()).done;){var _e782=_step658.value;var _i775=void 0,_s393=void 0,_n339=void 0;for(_i775=t.id===_e782?t:t.querySelector("#"+CSS.escape(_e782)),_s393="linearGradient"===_i775.localName||"radialGradient"===_i775.localName?_i775.href.baseVal.length>1?_i775.href.baseVal.substring(1):Oo(_i775)?"color":"gradient":"clipPath"===_i775.localName?"clip":_i775.localName,void 0===_o268[_s393]&&(_o268[_s393]=1);;){var _t1029=_s393+"-"+_o268[_s393];if(void 0===_a179[_t1029]){_n339=_t1029;break;}_o268[_s393]+=1;}_l237[_e782]=_n339,_a179[_n339]=!0;}}catch(err){_iterator658.e(err);}finally{_iterator658.f();}var _h144=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_r90=null;for(;_r90=_h144.nextNode();){if(void 0!==_l237[_r90.id]&&(_r90.id=_l237[_r90.id]),_r90.href&&"#"===_r90.href.baseVal[0]){var _t1027=_r90.href.baseVal.substring(1);void 0!==_l237[_t1027]&&_r90.setAttribute("href","#"+_l237[_t1027]);}var _iterator659=_createForOfIteratorHelper(B),_step659;try{for(_iterator659.s();!(_step659=_iterator659.n()).done;){var _t1028=_step659.value;{var _e779=_r90.style.getPropertyValue(_t1028);if(_e779&&_e779.startsWith("url(")){var _i773=_e779.substring(6,_e779.length-2);void 0!==_l237[_i773]&&(_r90.style.removeProperty(_t1028),_r90.style.setProperty(_t1028,"url(#".concat(_l237[_i773],")")));}}{var _e780=_r90.getAttribute(_t1028);if(_e780&&_e780.includes("url(")){var _i774=co.fromString(_e780);if(_i774&&"#"===_i774.value[0]){var _e781=_i774.value.substring(1);void 0!==_l237[_e781]&&_r90.setAttribute(_t1028,"url(#".concat(_l237[_e781],")"));}}}}}catch(err){_iterator659.e(err);}finally{_iterator659.f();}}}i.remove();},Xp=function Xp(t){return new Promise(function(e){var i=new Image();i.src=t,i.onload=function(){var s=i.naturalWidth,n=i.naturalHeight;e("<?xml version=\"1.0\" encoding=\"utf-8\"?><svg xmlns=\"".concat(l.svg,"\" xmlns:xlink=\"").concat(l.xlink,"\" viewBox=\"0 0 ").concat(s," ").concat(n,"\">  <image width=\"").concat(s,"\" height=\"").concat(n,"\" xlink:href=\"").concat(t,"\"></image></svg>"));};});},Zp=function Zp(t){var e=document.createElementNS(l.svg,"g");for(var _i777=0,_Object$entries8=Object.entries(Object.getOwnPropertyDescriptors(t));_i777<_Object$entries8.length;_i777++){var _Object$entries8$_i=_slicedToArray(_Object$entries8[_i777],2),_s395=_Object$entries8$_i[0],_n341=_Object$entries8$_i[1];_n341.get||_n341.set?Object.defineProperty(e,_s395,_n341):_n341.value&&(i=_n341.value,e[_s395]=i instanceof Function?_n341.value.bind(e):_n341.value);}var i;return Object.defineProperty(e,"enabled",{get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t&&!1===this.enabled?(this.setAttribute("enabled",""),this.enabledCallback&&this.enabledCallback()):!1===t&&!0===this.enabled&&(this.removeAttribute("enabled"),this.disabledCallback&&this.disabledCallback());}}),e.createdCallback&&e.createdCallback(),e;},Kp=Object.defineProperty,Qp=Object.freeze,Jp=.1,tu=6e3,eu=450,iu=1.8,su=20,nu=14,ou={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1},lu=[Yc,$c,Rc,Oc,Ur,Vr,Wr,Zr,Jr,ld,rd,pd,gd,Sd,Cd,Dd,Od,Ad,Bd,nc,wc,vc,_c,Cc,Mc,Pc,Dc,up,fp,rc,xc,fc,wp,Wc,qc,hp];var au=/*#__PURE__*/function(_HTMLElement58){_inherits(au,_HTMLElement58);var _super64=_createSuper(au);_createClass(au,[{key:"whenConnected",get:function get(){var _this391=this;return new Promise(function(t){_this391.isConnected?t():_this391.bc.push(t);});}},{key:"defs",get:function get(){return this.masterWorkspace.querySelector("defs");}},{key:"selectedElements",get:function get(){return _toConsumableArray(this.mc);},set:function set(t){this.mc=t,this.dispatchEvent(new CustomEvent("selectedelementschange"));}},{key:"selectedObjectElements",get:function get(){return this.selectedElements.filter(function(t){return v.includes(t.localName);});}},{key:"outermostSelectedElements",get:function get(){var t=this.selectedElements,e=[];var _iterator660=_createForOfIteratorHelper(t),_step660;try{for(_iterator660.s();!(_step660=_iterator660.n()).done;){var _i778=_step660.value;var _s396=!0;var _iterator661=_createForOfIteratorHelper(t),_step661;try{for(_iterator661.s();!(_step661=_iterator661.n()).done;){var _e784=_step661.value;if(_e784!==_i778&&_e784.contains(_i778)){_s396=!1;break;}}}catch(err){_iterator661.e(err);}finally{_iterator661.f();}_s396&&e.push(_i778);}}catch(err){_iterator660.e(err);}finally{_iterator660.f();}return e;}},{key:"outermostSelectedObjectElements",get:function get(){return this.outermostSelectedElements.filter(function(t){return v.includes(t.localName);});}},{key:"selectedTextRange",get:function get(){return this.gc;},set:function set(t){null===this.gc&&null===t||this.gc&&t&&this.gc.startContainer===t.startContainer&&this.gc.endContainer===t.endContainer&&this.gc.startOffset===t.startOffset&&this.gc.endOffset===t.endOffset||(this.gc=t,this.dispatchEvent(new CustomEvent("selectedtextrangechange")));}},{key:"currentContainer",get:function get(){return this.fc;},set:function set(t){this.fc=t,this.dispatchEvent(new CustomEvent("currentcontainerchange"));}},{key:"zoom",get:function get(){var t=this["#vector-canvas"].transform.baseVal[0].matrix.a;return t>0?100*t:Jp;},set:function set(t){var e;if(this.wc)e=this.Qs.pointerClientPoint;else{var _t1030=this.getBoundingClientRect();e=new DOMPoint(_t1030.x+_t1030.width/2,_t1030.y+_t1030.height/2);}var i=et(t,Jp,tu)/100,s=qt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s),o=new DOMMatrix();o.scaleSelf(i/this.scale,i/this.scale,1,n.x,n.y),o.multiplySelf(Wt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",o),this.vc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"scale",get:function get(){return this.zoom/100;},set:function set(t){this.zoom=100*t;}},{key:"geometryPrecision",get:function get(){return this.yc;}},{key:"transformPrecision",get:function get(){return this.kc;}},{key:"huds",get:function get(){return this["#huds"];}},{key:"rulers",get:function get(){return this["#rulers"];}},{key:"workspaces",get:function get(){return this["#workspaces"];}},{key:"masterWorkspace",get:function get(){return this["#workspaces"].children[1];}},{key:"currentWorkspace",get:function get(){return this["#workspaces"]?this["#workspaces"].lastElementChild:null;}},{key:"vectorCanvas",get:function get(){return this["#vector-canvas"];}},{key:"pixelCanvas",get:function get(){return this["#pixel-canvas"];}},{key:"undoManager",get:function get(){return this.Sc;}},{key:"snapManager",get:function get(){return this._c;}},{key:"defsFontsManager",get:function get(){return this.Cc;}},{key:"showManualGuides",get:function get(){return this.Mc;},set:function set(t){this.Mc=t,this.Qs.setConfig("bx-board:showManualGuides",t),this.Pc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showSmartGuides",get:function get(){return this.Dc;},set:function set(t){this.Dc=t,this.Qs.setConfig("bx-board:showSmartGuides",t),this.Pc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showGrid",get:function get(){return this.zc;},set:function set(t){this.zc=t,this.Qs.setConfig("bx-board:showGrid",t),this.Pc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showTransparency",get:function get(){return this.Oc;},set:function set(t){this.Oc=t,this.Qs.setConfig("bx-board:showTransparency",t),t?this["#vector-canvas"].setAttribute("data-transparent",""):this["#vector-canvas"].removeAttribute("data-transparent"),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showViews",get:function get(){return this.Ec;},set:function set(t){this.Ec=t,this.Qs.setConfig("bx-board:showViews",t),this.Tc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}}]);function au(){var _this390;_classCallCheck(this,au);_this390=_super64.call(this),_this390.mc=[],_this390.gc=null,_this390.fc=null,_this390.yc=3,_this390.kc=6,_this390.Ac=!1,_this390.$c=!1,_this390.wc=!1,_this390.In=!1,_this390.bc=[],_this390.Ic=es(_this390.Lc,200,_assertThisInitialized(_this390)),_this390._shadowRoot=_this390.attachShadow({mode:"closed"}),_this390._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,au._shadowStyleSheet],_this390._shadowRoot.append(document.importNode(au._shadowTemplate.content,!0));var _iterator662=_createForOfIteratorHelper(_this390._shadowRoot.querySelectorAll("[id]")),_step662;try{for(_iterator662.s();!(_step662=_iterator662.n()).done;){var _t1031=_step662.value;_this390["#"+_t1031.id]=_t1031;}}catch(err){_iterator662.e(err);}finally{_iterator662.f();}var _iterator663=_createForOfIteratorHelper(lu),_step663;try{for(_iterator663.s();!(_step663=_iterator663.n()).done;){var _t1032=_step663.value;var _e785=Zp(_t1032);_this390["#huds"].append(_e785);}}catch(err){_iterator663.e(err);}finally{_iterator663.f();}var _iterator664=_createForOfIteratorHelper(_this390["#huds"].children),_step664;try{var _loop23=function _loop23(){var t=_step664.value;_this390["#"+t.id]=t,Kp(_assertThisInitialized(_this390),ri(t.id),{get:function get(){return t;}});};for(_iterator664.s();!(_step664=_iterator664.n()).done;){_loop23();}}catch(err){_iterator664.e(err);}finally{_iterator664.f();}var _iterator665=_createForOfIteratorHelper(_this390["#contexts"].children),_step665;try{var _loop24=function _loop24(){var t=_step665.value;Kp(_assertThisInitialized(_this390),ri(t.id),{get:function get(){return t;}});};for(_iterator665.s();!(_step665=_iterator665.n()).done;){_loop24();}}catch(err){_iterator665.e(err);}finally{_iterator665.f();}_this390["#vector-layer"].pauseAnimations(),_this390["#pixel-canvas"].setAttribute("width",window.innerWidth),_this390["#pixel-canvas"].setAttribute("height",window.innerHeight),_this390.Sc=new kp(_this390["#workspaces"]),_this390._c=new $p(_assertThisInitialized(_this390)),_this390.Cc=new Tp(_this390["#workspaces"]),new MutationObserver(function(t){return _this390.al(t);}).observe(_this390["#workspaces"],ou),_this390.addEventListener("pointerenter",function(){return _this390.wc=!0;}),_this390.addEventListener("pointerleave",function(){return _this390.wc=!1;}),_this390.addEventListener("pointerdown",function(t){return _this390.wo(t);}),_this390.addEventListener("scroll",function(t){return _this390.Rc(t);}),_this390.addEventListener("wheel",function(t){return _this390.lo(t);}),_this390.Sc.addEventListener("undo",function(t){return _this390.Bc(t);}),_this390.Sc.addEventListener("redo",function(t){return _this390.Bc(t);}),navigator.maxTouchPoints>0&&_this390.Gc();return _this390;}_createClass(au,[{key:"connectedCallback",value:function connectedCallback(){var _this392=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.tabIndex=0,this.Ac=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),this.$c=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.yc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),this.kc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),this.showManualGuides=this.Qs.getConfig("bx-board:showManualGuides",!1),this.showSmartGuides=this.Qs.getConfig("bx-board:showSmartGuides",!1),this.showGrid=this.Qs.getConfig("bx-board:showGrid",!1),this.showTransparency=this.Qs.getConfig("bx-board:showTransparency",!1),this.showViews=this.Qs.getConfig("bx-board:showViews",!0),window.addEventListener("orientationchange",this.Uc=function(){return _this392.Fc();}),this.Qs.addEventListener("configchange",this.nn=function(t){return _this392.ln(t);}),this.Qs.addEventListener("keydown",this.fn=function(t){return _this392.wn(t);});var _iterator666=_createForOfIteratorHelper(this.bc),_step666;try{for(_iterator666.s();!(_step666=_iterator666.n()).done;){var _t1034=_step666.value;_t1034();}}catch(err){_iterator666.e(err);}finally{_iterator666.f();}if(this.bc=[],this.Fc(),this.Pc(),this.Lc(),!this.Nc){var _t1033=function _t1033(){!1===document.webkitHidden&&_this392.isConnected&&!_this392.Nc&&(document.removeEventListener("visibilitychange",_t1033),_e786&&_e786.unobserve(_this392),_this392.Nc=!0,_this392.Vc(),ns(300).then(function(){return _this392.Vc();}));},_e786=window.ResizeObserver?new ResizeObserver(_t1033):null;_e786?_e786.observe(this):(this.Nc=!0,ns(200).then(function(){return _this392.Vc();}),ns(300).then(function(){return _this392.Vc();}),ns(800).then(function(){return _this392.Vc();}),ns(1200).then(function(){return _this392.Vc();})),document.addEventListener("visibilitychange",_t1033),this.Vc();}}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("orientationchange",this.Uc),this.Qs.removeEventListener("configchange",this.nn),this.Qs.removeEventListener("keydown",this.fn);}},{key:"ln",value:function ln(t){var _t$detail4=t.detail,e=_t$detail4.key,i=_t$detail4.value;"bx-uisettings:limitScrollableArea"===e?this.Ac=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1):"bx-uisettings:showViewOutlineAboveObjects"===e?(this.$c=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.Tc()):"bx-markupsettings:geometryPrecision"===e?this.yc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3):"bx-markupsettings:transformPrecision"===e&&(this.kc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6));}},{key:"wo",value:function wo(t){var _this393=this;if(1===t.button){var _e787,_i781,_s397=t.clientX,_n342=t.clientY;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",_e787=function _e787(t){var _iterator667=_createForOfIteratorHelper(t.getCoalescedEvents()),_step667;try{for(_iterator667.s();!(_step667=_iterator667.n()).done;){var _e788=_step667.value;var _t1035=_e788.clientX-_s397,_i780=_e788.clientY-_n342;_this393.Nn(_t1035,_i780),_s397=_e788.clientX,_n342=_e788.clientY;}}catch(err){_iterator667.e(err);}finally{_iterator667.f();}}),this.addEventListener("pointerup",_i781=function _i779(){_this393.removeEventListener("pointermove",_e787),_this393.removeEventListener("pointerup",_i781);});}}},{key:"wn",value:function wn(t){var _this394=this;if("Space"===t.code&&!1===this.Qs.isPointerDown&&!1===this.Qs.textInputMode){var _e789=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");if("togglePreviousTool"===_e789)this.Js.togglePreviousTool(),t.preventDefault();else if("pan"===_e789&&!1===this.In){var _e790,_i784;this.In=!0;var _s398=this.Qs.pointerClientPoint.x,_n343=this.Qs.pointerClientPoint.y;window.addEventListener("pointermove",_e790=function _e790(t){var _iterator668=_createForOfIteratorHelper(t.getCoalescedEvents()),_step668;try{for(_iterator668.s();!(_step668=_iterator668.n()).done;){var _e791=_step668.value;var _t1036=_e791.clientX-_s398,_i783=_e791.clientY-_n343;_this394.Nn(_t1036,_i783),_s398=_e791.clientX,_n343=_e791.clientY;}}catch(err){_iterator668.e(err);}finally{_iterator668.f();}}),window.addEventListener("keyup",_i784=function _i782(){"Space"===t.code&&!0===_this394.In&&(window.removeEventListener("pointermove",_e790),window.removeEventListener("keyup",_i784),_this394.In=!1);});}}}},{key:"Rc",value:function Rc(t){this.scrollLeft=0,this.scrollTop=0,document.documentElement.scrollLeft=0,document.documentElement.scrollTop=0,document.body.scrollLeft=0,document.body.scrollTop=0;}},{key:"lo",value:function lo(t){t.preventDefault();var e=et(t.wheelDeltaX,-su,su,1),i=et(t.wheelDeltaY,-su,su,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey)this.Nn(e/iu,i/iu);else{var _e792=new DOMPoint(t.clientX,t.clientY);this.jc(i/eu,_e792);}}},{key:"al",value:function al(t){this.dispatchEvent(new CustomEvent("workspacemutation",{detail:t}));var e=!1,i=!1,s=!1;var _iterator669=_createForOfIteratorHelper(t),_step669;try{for(_iterator669.s();!(_step669=_iterator669.n()).done;){var _n344=_step669.value;if(_n344.target===this["#workspaces"])"childList"===_n344.type&&(e=!0);else if("defs"===_n344.target.localName){if(_n344.removedNodes.length>0){"view"===_n344.removedNodes[0].localName&&(s=!0);var _iterator670=_createForOfIteratorHelper(_n344.removedNodes),_step670;try{for(_iterator670.s();!(_step670=_iterator670.n()).done;){var _t1037=_step670.value;if(_t1037.hasAttribute&&_t1037.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator670.e(err);}finally{_iterator670.f();}}else if(_n344.addedNodes.length>0){"view"===_n344.addedNodes[0].localName&&(s=!0);var _iterator671=_createForOfIteratorHelper(_n344.addedNodes),_step671;try{for(_iterator671.s();!(_step671=_iterator671.n()).done;){var _t1038=_step671.value;if(_t1038.hasAttribute&&_t1038.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator671.e(err);}finally{_iterator671.f();}}}else"style"===_n344.target.localName?_n344.target.hasAttribute("data-bx-fonts")&&(i=!0):"g"===_n344.target.localName?_n344.target.hasAttribute("data-bx-workspace")&&"attributes"===_n344.type&&"viewBox"===_n344.attributeName&&(s=!0):"view"===_n344.target.localName?"attributes"===_n344.type&&"viewBox"===_n344.attributeName&&(s=!0):"#text"===_n344.target.nodeName&&_n344.target.parentElement&&_n344.target.parentElement.hasAttribute("data-bx-fonts")&&(i=!0);}}catch(err){_iterator669.e(err);}finally{_iterator669.f();}e&&(this.Vc(),this.dispatchEvent(new CustomEvent("currentworkspacechange"))),i&&this.Ic(),(s||e)&&this.Tc();}},{key:"Bc",value:function Bc(t){var _this395=this;var _t$detail5=t.detail,e=_t$detail5.addedNodes,i=_t$detail5.removedNodes,s=_t$detail5.modifiedNodes,n=new Set(this.selectedElements),o=null;var _iterator672=_createForOfIteratorHelper(e),_step672;try{for(_iterator672.s();!(_step672=_iterator672.n()).done;){var _t1041=_step672.value;n.add(_t1041);}}catch(err){_iterator672.e(err);}finally{_iterator672.f();}var _iterator673=_createForOfIteratorHelper(s),_step673;try{for(_iterator673.s();!(_step673=_iterator673.n()).done;){var _t1042=_step673.value;n.add(_t1042);}}catch(err){_iterator673.e(err);}finally{_iterator673.f();}var _iterator674=_createForOfIteratorHelper(i),_step674;try{for(_iterator674.s();!(_step674=_iterator674.n()).done;){var _t1043=_step674.value;n["delete"](_t1043);}}catch(err){_iterator674.e(err);}finally{_iterator674.f();}if(n=_toConsumableArray(n).filter(function(t){return _this395.isSelectableElement(t);}),n.length>0){var _t1039=n[0];_t1039.parentElement!==this.currentWorkspace&&(o=_t1039.parentElement);}if(this.currentContainer=o,this.selectedElements=n,this.selectedTextRange){var _this$selectedTextRan=this.selectedTextRange,_t1040=_this$selectedTextRan.startContainer,_e793=_this$selectedTextRan.endContainer,_i785=!1;var _iterator675=_createForOfIteratorHelper(n),_step675;try{for(_iterator675.s();!(_step675=_iterator675.n()).done;){var _s399=_step675.value;(_s399.contains(_t1040)||_s399.contains(_e793))&&(_i785=!0);}}catch(err){_iterator675.e(err);}finally{_iterator675.f();}!1===_i785&&(this.selectedTextRange=null);}{var _e794="undo"===t.type?"Undo":"Redo";t.detail.label&&(_e794="<strong>".concat(_e794,"</strong>: ").concat(t.detail.label)),this.Qs.openNotification(_e794);}}},{key:"Gc",value:function Gc(){var _this396=this;var t=new Map(),e=null,i=0,s=-1,n=1,o=new J(),l="auto",a=function a(_a181){if("touch"===_a181.pointerType&&t.has(_a181.pointerId))if(t.get(_a181.pointerId).push(new DOMPoint(_a181.clientX,_a181.clientY)),1===t.size){var _ref125=_toConsumableArray(t.values()),_e795=_ref125[0];_e795.length>3&&t["delete"](_a181.pointerId);}else if(2===t.size){var _ref126=_toConsumableArray(t.values()),_a180=_ref126[0],_h145=_ref126[1],_r91=_a180[_a180.length-1],_d72=_h145[_h145.length-1],_c56=Ae(_r91,_d72),_p48=Te(_r91,_d72),_u41=_p48/i,_x135=_u41-n,_b36=new J(e,_c56),_m35=xe(_b36,o);if("auto"===l){if(!(_a180.length>=3&&_h145.length>=3&&(_a180.length>=9||_h145.length>=9)))return;{var _t1044=me(new J(_a180[0],_a180[_a180.length-1]),new J(_h145[0],_h145[_h145.length-1]));l=_t1044<-130||_t1044>130?"zoom":"scroll";}}s>0&&("auto"===l||"scroll"===l?_this396.Nn(_m35.x,_m35.y):"zoom"===l&&_this396.jc(_x135,e)),s=_p48,n=_u41,o=_b36;}},h=function h(e){"touch"===e.pointerType&&(t["delete"](e.pointerId),t.size<2&&(s=-1,l="auto"));};this.addEventListener("pointerdown",function(s){return function(s){if("touch"===s.pointerType)if(t.set(s.pointerId,[new DOMPoint(s.clientX,s.clientY)]),2===t.size){var _ref127=_toConsumableArray(t.values()),_s400=_ref127[0],_n345=_ref127[1],_o269=_s400[_s400.length-1],_l238=_n345[_n345.length-1];e=Ae(_o269,_l238),i=Te(_o269,_l238);}else e=null;}(s);}),this.addEventListener("pointermove",function(t){return a(t);}),this.addEventListener("pointerup",function(t){return h(t);}),this.addEventListener("pointercancel",function(t){return h(t);}),this.addEventListener("pointerout",function(t){return h(t);}),this.addEventListener("pointerleave",function(t){return h(t);});}},{key:"setArtwork",value:function setArtwork(t){for(var _i786=0,_arr33=_toConsumableArray(this["#workspaces"].children);_i786<_arr33.length;_i786++){var _t1045=_arr33[_i786];_t1045!==this["#whitespace"]&&_t1045.remove();}var e=ts(_templateObject11());var _iterator676=_createForOfIteratorHelper(t.attributes),_step676;try{for(_iterator676.s();!(_step676=_iterator676.n()).done;){var _step676$value=_step676.value,_i787=_step676$value.name,_s401=_step676$value.value;"transform"===_i787?e.setAttribute("data-bx-transform",_s401):e.setAttribute(_i787,_s401);}}catch(err){_iterator676.e(err);}finally{_iterator676.f();}for(;t.firstChild;){e.appendChild(t.firstChild);}this["#workspaces"].append(e);var _iterator677=_createForOfIteratorHelper(this.masterWorkspace.querySelectorAll("style[data-bx-fonts]")),_step677;try{for(_iterator677.s();!(_step677=_iterator677.n()).done;){var _t1046=_step677.value;_t1046.replaceWith(_t1046);}}catch(err){_iterator677.e(err);}finally{_iterator677.f();}this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),this.dispatchEvent(new CustomEvent("artworkchange"));}},{key:"setDefaultArtwork",value:function setDefaultArtwork(){var t=Eh('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>');this.setArtwork(t);}},{key:"insertBitmap",value:function(){var _insertBitmap=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee113(t){var e,_yield$Xh,i,s,n,o,l,a,_t1047,h,r,_args114=arguments;return regeneratorRuntime.wrap(function _callee113$(_context114){while(1){switch(_context114.prev=_context114.next){case 0:e=_args114.length>1&&_args114[1]!==undefined?_args114[1]:"boardCenter";_context114.next=3;return Xh(t);case 3:_yield$Xh=_context114.sent;i=_yield$Xh.width;s=_yield$Xh.height;n=Ii("svg:image");n.setAttribute("href",t),n.setAttribute("width",i),n.setAttribute("height",s);l=this.currentContainer||this.currentWorkspace,a=qt(l).inverse();if("boardCenter"===e){_t1047=this.getBoundingClientRect();o=new DOMPoint(_t1047.left+_t1047.width/2,_t1047.top+_t1047.height/2);}else"pointer"===e&&(o=this.Qs.pointerClientPoint);h=o.matrixTransform(a);l.append(n);r=Ei(n);n.setAttribute("x",h.x-r.width/2),n.setAttribute("y",h.y-r.height/2),this.selectedElements=[n];case 14:case"end":return _context114.stop();}}},_callee113,this);}));function insertBitmap(_x136){return _insertBitmap.apply(this,arguments);}return insertBitmap;}()},{key:"insertBitmapIntoBBox",value:function insertBitmapIntoBBox(t,e){var _this397=this;return new Promise(/*#__PURE__*/function(){var _ref128=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee114(i){var s,n,o,_yield$Xh2,l,a,h,r,d,c,p,u,x,b,m,g;return regeneratorRuntime.wrap(function _callee114$(_context115){while(1){switch(_context115.prev=_context115.next){case 0:s=_this397.currentContainer||_this397.currentWorkspace;n=_this397.geometryPrecision;o=_this397.transformPrecision;_context115.next=5;return Xh(t);case 5:_yield$Xh2=_context115.sent;l=_yield$Xh2.width;a=_yield$Xh2.height;h=l/a;r=e.width/h;d=new DOMPoint(0,0);c=new DOMPoint(l,0);p=new DOMPoint(0,a);u=new DOMPoint(e.x,e.y);x=new DOMPoint(e.x+e.width,e.y);b=new DOMPoint(e.x,e.y+r);m=qt(s).inverse().multiply(Xt(d,c,p,u,x,b));g=Ii("svg:image");g.setAttribute("href",t),g.setAttribute("width",l),g.setAttribute("height",a),g.setAttribute("transform",m.toString()),s.append(g),ka(g,{geometryPrecision:n,transformPrecision:o}),_this397.selectedTextRange=null,_this397.selectedElements=[g],i(g);case 19:case"end":return _context115.stop();}}},_callee114);}));return function(_x137){return _ref128.apply(this,arguments);};}());}},{key:"insertArtworkIntoBBox",value:function insertArtworkIntoBBox(t,e){var i=this.currentWorkspace,s=this.extractArtwork(),n=qt(this["#vector-canvas"]).inverse(),o=He(e,n),l=Ii("svg:g");qp(t,s);{var _e796=null;if(t.hasAttribute("viewBox")?_e796=Ft.fromString(t.getAttribute("viewBox")):t.width.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&t.height.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e796=new Ft(0,0,t.width.baseVal.value,t.height.baseVal.value)),_e796){var _i788=t.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString=Bt.fromString(_i788),_s402=_Bt$fromString.align,_n346=_Bt$fromString.meetOrSlice,_a182=o.width/_e796.width,_h146=o.height/_e796.height;"none"!==_s402&&"meet"===_n346?_a182>_h146?_a182=_h146:_h146>_a182&&(_h146=_a182):"none"!==_s402&&"slice"===_n346&&(_a182<_h146?_a182=_h146:_h146<_a182&&(_h146=_a182));var _r92=o.x-_e796.x*_a182,_d73=o.y-_e796.y*_h146;_s402.includes("xMid")&&(_r92+=(o.width-_e796.width*_a182)/2),_s402.includes("xMax")&&(_r92+=o.width-_e796.width*_a182),_s402.includes("YMid")&&(_d73+=(o.height-_e796.height*_h146)/2),_s402.includes("YMax")&&(_d73+=o.height-_e796.height*_h146);var _c57=new DOMMatrix();_c57.translateSelf(_r92,_d73),_c57.scaleSelf(_a182,_h146),_c57=Nt(_c57,this.transformPrecision),l.setAttribute("transform",_c57);}}var _iterator678=_createForOfIteratorHelper(t.style),_step678;try{for(_iterator678.s();!(_step678=_iterator678.n()).done;){var _e799=_step678.value;"shape-rendering"===_e799&&l.style.setProperty(_e799,t.style.getPropertyValue(_e799));}}catch(err){_iterator678.e(err);}finally{_iterator678.f();}for(var _i789=0,_arr34=_toConsumableArray(t.children);_i789<_arr34.length;_i789++){var _e797=_arr34[_i789];if("defs"===_e797.localName)for(var _i790=0,_arr35=_toConsumableArray(_e797.children);_i790<_arr35.length;_i790++){var _t1048=_arr35[_i790];if("style"===_t1048.localName&&_t1048.hasAttribute("data-bx-fonts")){var _e798=_t1048.getAttribute("data-bx-fonts");!1===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e798,"\"]"))&&this.defs.append(_t1048);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1048);}l.append(_e797);}return i.append(l),l;}},{key:"insertArtwork",value:function insertArtwork(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"boardCenter";var i=this.currentContainer||this.currentWorkspace,s=[],n=this.extractArtwork();qp(t,n);var _iterator679=_createForOfIteratorHelper(t.style),_step679;try{for(_iterator679.s();!(_step679=_iterator679.n()).done;){var _e803=_step679.value;"shape-rendering"===_e803&&i.style.setProperty(_e803,t.style.getPropertyValue(_e803));}}catch(err){_iterator679.e(err);}finally{_iterator679.f();}for(var _i791=0,_arr36=_toConsumableArray(t.children);_i791<_arr36.length;_i791++){var _e800=_arr36[_i791];if("defs"===_e800.localName)for(var _i792=0,_arr37=_toConsumableArray(_e800.children);_i792<_arr37.length;_i792++){var _t1049=_arr37[_i792];if("style"===_t1049.localName&&_t1049.hasAttribute("data-bx-fonts")){var _e801=_t1049.getAttribute("data-bx-fonts");null===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e801,"\"]"))&&this.defs.append(_t1049);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1049);}else if(y.includes(_e800.localName)){var _t1050=Yt(i,this.currentWorkspace),_n347=Wt(_e800),_o270=new DOMMatrix();_o270.multiplySelf(_t1050.inverse()),_o270.multiplySelf(_n347),_o270=Nt(_o270,this.transformPrecision),_o270.isIdentity?_e800.removeAttribute("transform"):_e800.setAttribute("transform",_o270.toString()),i.append(_e800),s.push(_e800);}else i.append(_e800);}if("original"!==e){var _t1051=s.map(function(t){return Ti(t);});_t1051=_t1051.filter(function(t){return t.width>0||t.height>0;});var _i793,_n348=We(_t1051);if("boardCenter"===e){var _t1052=this.getBoundingClientRect();_i793=new DOMPoint(_t1052.left+_t1052.width/2,_t1052.top+_t1052.height/2);}else _i793="belowOriginal"===e?new DOMPoint(_n348.x+_n348.width/2+15,_n348.y+_n348.height/2+15):this.Qs.pointerClientPoint;var _o271=_i793.x-(_n348.x+_n348.width/2),_l239=_i793.y-(_n348.y+_n348.height/2);var _iterator680=_createForOfIteratorHelper(s),_step680;try{for(_iterator680.s();!(_step680=_iterator680.n()).done;){var _t1053=_step680.value;var _e802=qt(_t1053),_i794=_e802.inverse(),_s403=Wt(_t1053);_s403.multiplySelf(_i794),_s403.translateSelf(_o271,_l239),_s403.multiplySelf(_e802),_s403=Nt(_s403,this.transformPrecision),_t1053.setAttribute("transform",_s403.toString());}}catch(err){_iterator680.e(err);}finally{_iterator680.f();}}this.selectedElements=s;}},{key:"extractArtwork",value:function extractArtwork(){this.collectGarbage();var t=Ii("svg:svg"),e=this.masterWorkspace;var _iterator681=_createForOfIteratorHelper(e.attributes),_step681;try{for(_iterator681.s();!(_step681=_iterator681.n()).done;){var _step681$value=_step681.value,_i798=_step681$value.name,_s410=_step681$value.value;"data-bx-workspace"!==_i798&&("data-bx-transform"===_i798?t.setAttribute("transform",_s410):t.setAttribute(_i798,_s410));}}catch(err){_iterator681.e(err);}finally{_iterator681.f();}var _iterator682=_createForOfIteratorHelper(e.childNodes),_step682;try{for(_iterator682.s();!(_step682=_iterator682.n()).done;){var _i799=_step682.value;t.append(_i799.cloneNode(!0));}}catch(err){_iterator682.e(err);}finally{_iterator682.f();}if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e804=this.currentWorkspace,_i795=t.querySelector("symbol#".concat(CSS.escape(_e804.id)));var _iterator683=_createForOfIteratorHelper(_i795.attributes),_step683;try{for(_iterator683.s();!(_step683=_iterator683.n()).done;){var _step683$value=_step683.value,_t1054=_step683$value.name,_s404=_step683$value.value;!1===_e804.hasAttribute(_t1054)&&_i795.removeAttribute(_t1054);}}catch(err){_iterator683.e(err);}finally{_iterator683.f();}var _iterator684=_createForOfIteratorHelper(_e804.attributes),_step684;try{for(_iterator684.s();!(_step684=_iterator684.n()).done;){var _step684$value=_step684.value,_t1055=_step684$value.name,_s405=_step684$value.value;"data-bx-workspace"!==_t1055&&_i795.setAttribute(_t1055,_s405);}}catch(err){_iterator684.e(err);}finally{_iterator684.f();}_i795.innerHTML=_e804.innerHTML;}if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e805=this.currentWorkspace,_i796=t.querySelector("pattern#".concat(CSS.escape(_e805.id)));var _iterator685=_createForOfIteratorHelper(_i796.attributes),_step685;try{for(_iterator685.s();!(_step685=_iterator685.n()).done;){var _step685$value=_step685.value,_t1056=_step685$value.name,_s406=_step685$value.value;!1===_e805.hasAttribute(_t1056)&&_i796.removeAttribute(_t1056);}}catch(err){_iterator685.e(err);}finally{_iterator685.f();}var _iterator686=_createForOfIteratorHelper(_e805.attributes),_step686;try{for(_iterator686.s();!(_step686=_iterator686.n()).done;){var _step686$value=_step686.value,_t1057=_step686$value.name,_s407=_step686$value.value;"data-bx-workspace"!==_t1057&&_i796.setAttribute(_t1057,_s407);}}catch(err){_iterator686.e(err);}finally{_iterator686.f();}_i796.innerHTML=_e805.innerHTML;}if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e806=this.currentWorkspace,_i797=t.querySelector("marker#".concat(CSS.escape(_e806.id)));var _iterator687=_createForOfIteratorHelper(_i797.attributes),_step687;try{for(_iterator687.s();!(_step687=_iterator687.n()).done;){var _step687$value=_step687.value,_t1058=_step687$value.name,_s408=_step687$value.value;!1===_e806.hasAttribute(_t1058)&&_i797.removeAttribute(_t1058);}}catch(err){_iterator687.e(err);}finally{_iterator687.f();}var _iterator688=_createForOfIteratorHelper(_e806.attributes),_step688;try{for(_iterator688.s();!(_step688=_iterator688.n()).done;){var _step688$value=_step688.value,_t1059=_step688$value.name,_s409=_step688$value.value;"data-bx-workspace"!==_t1059&&_i797.setAttribute(_t1059,_s409);}}catch(err){_iterator688.e(err);}finally{_iterator688.f();}_i797.innerHTML=_e806.innerHTML;}return t;}},{key:"extractArtworkWithSelectedElements",value:function extractArtworkWithSelectedElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[0,0,0,0];return this.extractArtworkWithElements(this.outermostSelectedElements,t);}},{key:"extractArtworkWithViewBoxElements",value:function extractArtworkWithViewBoxElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=qt(this.currentWorkspace).inverse(),i=[],s=new DOMRect(),n=t||this.currentWorkspace;if(n.hasAttribute("viewBox")){s=Ft.fromString(n.getAttribute("viewBox")).toRect();var _iterator689=_createForOfIteratorHelper(this.currentWorkspace.children),_step689;try{for(_iterator689.s();!(_step689=_iterator689.n()).done;){var _t1060=_step689.value;if([].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(_t1060.localName)){var _n349=Ti(_t1060);_n349=He(_n349,e),Xe(s,_n349)&&i.push(_t1060);}}}catch(err){_iterator689.e(err);}finally{_iterator689.f();}}var o=this.extractArtworkWithElements(i);o.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height)),o.setAttribute("width",s.width),o.setAttribute("height",s.height);var _iterator690=_createForOfIteratorHelper(this.currentWorkspace.attributes),_step690;try{for(_iterator690.s();!(_step690=_iterator690.n()).done;){var _step690$value=_step690.value,_t1061=_step690$value.name,_e807=_step690$value.value;(j.includes(_t1061)||"style"===_t1061)&&o.setAttribute(_t1061,_e807);}}catch(err){_iterator690.e(err);}finally{_iterator690.f();}return o;}},{key:"extractArtworkWithElements",value:function extractArtworkWithElements(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,0,0];this.collectGarbage(),t=Vi(t);var i=this.Hc(t),s=[];var _iterator691=_createForOfIteratorHelper(i),_step691;try{for(_iterator691.s();!(_step691=_iterator691.n()).done;){var _t1063=_step691.value;var _e809=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1063)));_e809||this.currentWorkspace===this.masterWorkspace||(_e809=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1063)))),_e809&&s.push(_e809);}}catch(err){_iterator691.e(err);}finally{_iterator691.f();}s=s.filter(function(e){var _iterator692=_createForOfIteratorHelper(t),_step692;try{for(_iterator692.s();!(_step692=_iterator692.n()).done;){var _i800=_step692.value;if(_i800.contains(e)||_i800===e)return!1;}}catch(err){_iterator692.e(err);}finally{_iterator692.f();}var _iterator693=_createForOfIteratorHelper(s),_step693;try{for(_iterator693.s();!(_step693=_iterator693.n()).done;){var _t1062=_step693.value;if(_t1062.contains(e)&&_t1062!==e)return!1;}}catch(err){_iterator693.e(err);}finally{_iterator693.f();}return!0;});var n=Ii("svg:svg"),o=Ii("svg:defs");n.append(o);var _iterator694=_createForOfIteratorHelper(s),_step694;try{for(_iterator694.s();!(_step694=_iterator694.n()).done;){var _t1064=_step694.value;_t1064.closest("defs")?o.append(_t1064.cloneNode(!0)):n.append(_t1064.cloneNode(!0));}}catch(err){_iterator694.e(err);}finally{_iterator694.f();}var _iterator695=_createForOfIteratorHelper(t),_step695;try{for(_iterator695.s();!(_step695=_iterator695.n()).done;){var _e810=_step695.value;var _t1065=_e810.cloneNode(!0),_i802=Yt(_e810,this.currentWorkspace);_i802=Nt(_i802,this.transformPrecision),_i802.isIdentity?_t1065.removeAttribute("transform"):_t1065.setAttribute("transform",_i802.toString()),n.append(_t1065);}}catch(err){_iterator695.e(err);}finally{_iterator695.f();}var _iterator696=_createForOfIteratorHelper(this["#workspaces"].querySelectorAll("style")),_step696;try{for(_iterator696.s();!(_step696=_iterator696.n()).done;){var _t1066=_step696.value;o.append(_t1066.cloneNode(!0));}}catch(err){_iterator696.e(err);}finally{_iterator696.f();}this.Js.offscreenBoard.setArtwork(n),new Lp(n).collect({colors:"none",gradients:"none",patterns:"none",markers:"none",symbols:"none",filters:"none",fonts:"all",clipPaths:"none",masks:"none"}),this.Js.offscreenBoard.clear(),0===o.childElementCount&&o.remove();{var _i801=t.map(function(t){return Ti(t);}),_s411=We(_i801);_s411=He(_s411,qt(this.currentWorkspace).inverse()),_s411=je(_s411,this.yc);var _e808=_slicedToArray(e,4),_o272=_e808[0],_l240=_e808[1],_a183=_e808[2],_h147=_e808[3],_r93=_s411.x-_h147,_d74=_s411.y-_o272,_c58=_s411.width+_h147+_l240,_p49=_s411.height+_o272+_a183;n.setAttribute("viewBox","".concat(_r93," ").concat(_d74," ").concat(_c58," ").concat(_p49)),n.setAttribute("width",_c58),n.setAttribute("height",_p49);}return n;}},{key:"extractArtworkWithSymbols",value:function extractArtworkWithSymbols(t){t=Vi(t);var e=this.Hc(t),i=[];var _iterator697=_createForOfIteratorHelper(e),_step697;try{for(_iterator697.s();!(_step697=_iterator697.n()).done;){var _t1068=_step697.value;var _e811=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1068)));_e811||this.currentWorkspace===this.masterWorkspace||(_e811=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1068)))),_e811&&i.push(_e811);}}catch(err){_iterator697.e(err);}finally{_iterator697.f();}i=i.filter(function(e){var _iterator698=_createForOfIteratorHelper(t),_step698;try{for(_iterator698.s();!(_step698=_iterator698.n()).done;){var _i803=_step698.value;if(_i803.contains(e)||_i803===e)return!1;}}catch(err){_iterator698.e(err);}finally{_iterator698.f();}var _iterator699=_createForOfIteratorHelper(i),_step699;try{for(_iterator699.s();!(_step699=_iterator699.n()).done;){var _t1067=_step699.value;if(_t1067.contains(e)&&_t1067!==e)return!1;}}catch(err){_iterator699.e(err);}finally{_iterator699.f();}return!0;});var s=Ii("svg:svg"),n=Ii("svg:defs");s.append(n);var _iterator700=_createForOfIteratorHelper(i),_step700;try{for(_iterator700.s();!(_step700=_iterator700.n()).done;){var _t1069=_step700.value;_t1069.closest("defs")?n.append(_t1069.cloneNode(!0)):s.append(_t1069.cloneNode(!0));}}catch(err){_iterator700.e(err);}finally{_iterator700.f();}var _iterator701=_createForOfIteratorHelper(t),_step701;try{for(_iterator701.s();!(_step701=_iterator701.n()).done;){var _e812=_step701.value;var _t1070=_e812.cloneNode(!0);n.append(_t1070);}}catch(err){_iterator701.e(err);}finally{_iterator701.f();}return this.Js.offscreenBoard.setArtwork(s),new Lp(s).collect({colors:"all",gradients:"all",patterns:"all",markers:"all",symbols:"none",filters:"all",fonts:"all",clipPaths:"all",masks:"all"}),this.Js.offscreenBoard.clear(),s;}},{key:"collectGarbage",value:function collectGarbage(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",{});new Lp(this["#workspaces"]).collect(t);}},{key:"editSymbol",value:function editSymbol(t){var e=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Symbol"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=ts(_templateObject12(),e.innerHTML);var _iterator702=_createForOfIteratorHelper(e.attributes),_step702;try{for(_iterator702.s();!(_step702=_iterator702.n()).done;){var _step702$value=_step702.value,_t1071=_step702$value.name,_s412=_step702$value.value;i.setAttribute(_t1071,_s412);}}catch(err){_iterator702.e(err);}finally{_iterator702.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editSymbolEnd",value:function editSymbolEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Symbol");var _e813=this.currentWorkspace,_i804=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(_e813.id)));var _iterator703=_createForOfIteratorHelper(_i804.attributes),_step703;try{for(_iterator703.s();!(_step703=_iterator703.n()).done;){var _step703$value=_step703.value,_t1072=_step703$value.name,_s413=_step703$value.value;!1===_e813.hasAttribute(_t1072)&&_i804.removeAttribute(_t1072);}}catch(err){_iterator703.e(err);}finally{_iterator703.f();}var _iterator704=_createForOfIteratorHelper(_e813.attributes),_step704;try{for(_iterator704.s();!(_step704=_iterator704.n()).done;){var _step704$value=_step704.value,_t1073=_step704$value.name,_s414=_step704$value.value;"data-bx-workspace"!==_t1073&&_i804.setAttribute(_t1073,_s414);}}catch(err){_iterator704.e(err);}finally{_iterator704.f();}_e813.remove(),_i804.innerHTML=_e813.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editPattern",value:function editPattern(t){var e=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Pattern"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=ts(_templateObject13(),e.innerHTML);var _iterator705=_createForOfIteratorHelper(e.attributes),_step705;try{for(_iterator705.s();!(_step705=_iterator705.n()).done;){var _step705$value=_step705.value,_t1074=_step705$value.name,_s415=_step705$value.value;i.setAttribute(_t1074,_s415);}}catch(err){_iterator705.e(err);}finally{_iterator705.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editPatternEnd",value:function editPatternEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Pattern");var _e814=this.currentWorkspace,_i805=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(_e814.id)));var _iterator706=_createForOfIteratorHelper(_i805.attributes),_step706;try{for(_iterator706.s();!(_step706=_iterator706.n()).done;){var _step706$value=_step706.value,_t1075=_step706$value.name,_s416=_step706$value.value;!1===_e814.hasAttribute(_t1075)&&_i805.removeAttribute(_t1075);}}catch(err){_iterator706.e(err);}finally{_iterator706.f();}var _iterator707=_createForOfIteratorHelper(_e814.attributes),_step707;try{for(_iterator707.s();!(_step707=_iterator707.n()).done;){var _step707$value=_step707.value,_t1076=_step707$value.name,_s417=_step707$value.value;"data-bx-workspace"!==_t1076&&_i805.setAttribute(_t1076,_s417);}}catch(err){_iterator707.e(err);}finally{_iterator707.f();}_e814.remove(),_i805.innerHTML=_e814.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editMarker",value:function editMarker(t){var e=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Marker"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=ts(_templateObject14(),e.innerHTML);var _iterator708=_createForOfIteratorHelper(e.attributes),_step708;try{for(_iterator708.s();!(_step708=_iterator708.n()).done;){var _step708$value=_step708.value,_t1077=_step708$value.name,_s418=_step708$value.value;i.setAttribute(_t1077,_s418);}}catch(err){_iterator708.e(err);}finally{_iterator708.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editMarkerEnd",value:function editMarkerEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit marker");var _e815=this.currentWorkspace,_i806=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(_e815.id)));var _iterator709=_createForOfIteratorHelper(_i806.attributes),_step709;try{for(_iterator709.s();!(_step709=_iterator709.n()).done;){var _step709$value=_step709.value,_t1078=_step709$value.name,_s419=_step709$value.value;!1===_e815.hasAttribute(_t1078)&&_i806.removeAttribute(_t1078);}}catch(err){_iterator709.e(err);}finally{_iterator709.f();}var _iterator710=_createForOfIteratorHelper(_e815.attributes),_step710;try{for(_iterator710.s();!(_step710=_iterator710.n()).done;){var _step710$value=_step710.value,_t1079=_step710$value.name,_s420=_step710$value.value;"data-bx-workspace"!==_t1079&&_i806.setAttribute(_t1079,_s420);}}catch(err){_iterator710.e(err);}finally{_iterator710.f();}_e815.remove(),_i806.innerHTML=_e815.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"zoomIn",value:function zoomIn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.wc?this.jc(.2,this.Qs.pointerClientPoint):this.jc(.2);}},{key:"zoomOut",value:function zoomOut(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.wc?this.jc(-.2,this.Qs.pointerClientPoint):this.jc(-.2);}},{key:"zoomToFitAllViews",value:function zoomToFitAllViews(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.currentWorkspace,n=null;{var _t1080=[];if(s.hasAttribute("viewBox")){var _e816=Ft.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1080.push(_e816);}var _iterator711=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step711;try{for(_iterator711.s();!(_step711=_iterator711.n()).done;){var _e817=_step711.value;_t1080.push(_e817.viewBox.baseVal);}}catch(err){_iterator711.e(err);}finally{_iterator711.f();}_t1080.length>0&&(n=We(_t1080));}n&&this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitAllViews",value:function canZoomToFitAllViews(){var t=this.currentWorkspace;if(t.hasAttribute("viewBox")){var _t1081=Ft.fromString(this.currentWorkspace.getAttribute("viewBox"));if(_t1081.width>0&&_t1081.height>0)return!0;}var _iterator712=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step712;try{for(_iterator712.s();!(_step712=_iterator712.n()).done;){var _e818=_step712.value;if(_e818.viewBox.baseVal.width>0&&_e818.viewBox.baseVal.height>0)return!0;}}catch(err){_iterator712.e(err);}finally{_iterator712.f();}return!1;}},{key:"zoomToFitAllObjects",value:function zoomToFitAllObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=DOMRect.fromRect(this.currentWorkspace.getBBox());this.zoomToArea(s,t,e,i);}},{key:"canZoomToFitAllObjects",value:function canZoomToFitAllObjects(){var t=this.currentWorkspace.getBBox();return t.width>0&&t.height>0;}},{key:"zoomToFitSelectedObjects",value:function zoomToFitSelectedObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=[];var _iterator713=_createForOfIteratorHelper(this.selectedObjectElements),_step713;try{for(_iterator713.s();!(_step713=_iterator713.n()).done;){var _t1082=_step713.value;var _e819=Yt(_t1082,this.vectorCanvas),_i807=Ei(_t1082);_i807=He(_i807,_e819),s.push(_i807);}}catch(err){_iterator713.e(err);}finally{_iterator713.f();}var n=s.length>0?We(s):new DOMRect();this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitSelectedObjects",value:function canZoomToFitSelectedObjects(){if(0===this.selectedObjectElements.length)return!1;{var _t1083=this.selectedObjectElements.map(function(t){return t.getBBox();}),_e820=_t1083.length>0?We(_t1083):new DOMRect();return _e820.width>0&&_e820.height>0;}}},{key:"getZoomArea",value:function getZoomArea(){var t=this.getBoundingClientRect(),e=qt(this.currentWorkspace).inverse();return He(t,e);}},{key:"zoomToArea",value:function zoomToArea(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top-left";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=qt(this["#vector-layer"]).inverse(),o=He(this.getBoundingClientRect(),n),l=DOMRect.fromRect(t);if(o.x+=i,o.y+=i,o.width-=2*i,o.height-=2*i,this.showManualGuides&&(o.x+=nu,o.y+=nu,o.width-=nu,o.height-=nu),l.width>0&&l.height>0){var _t1084=o.width/l.width,_i808=o.height/l.height;_t1084>_i808?_t1084=_i808:_i808>_t1084&&(_i808=_t1084),!1===s&&(_t1084>1||_i808>1)&&(_t1084=1,_i808=1);var _n350=o.x-l.x*_t1084,_a184=o.y-l.y*_i808;"center"===e&&(_n350+=(o.width-l.width*_t1084)/2,_a184+=(o.height-l.height*_i808)/2);var _h148=new DOMMatrix();_h148.translateSelf(_n350,_a184),_h148.scaleSelf(_t1084,_i808),this["#vector-canvas"].setAttribute("transform",_h148),this.vc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Vc",value:function Vc(){var t=null;this.currentWorkspace&&this.currentWorkspace.hasAttribute("viewBox")&&(t=Ft.fromString(this.currentWorkspace.getAttribute("viewBox"))),t&&t.width>0&&t.height>0?this.zoomToFitAllViews("top-left"):this.zoomToFitAllObjects("top-left");}},{key:"jc",value:function jc(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(null===e){var _t1085=this.getBoundingClientRect();e=new DOMPoint(_t1085.x+_t1085.width/2,_t1085.y+_t1085.height/2);}var i=Wt(this["#vector-canvas"]),s=qt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s);if(i.a>0){100*(i.a+t*i.a)<Jp?t=(Jp-100*i.a)/(100*i.a):100*(i.a+t*i.a)>tu&&(t=(tu-100*i.a)/(100*i.a));var _e821=new DOMMatrix();_e821.scaleSelf(1+t,1+t,1,n.x,n.y),_e821.multiplySelf(i),this["#vector-canvas"].setAttribute("transform",_e821),this.vc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Nn",value:function Nn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i,s=this.currentWorkspace;{var _t1086=[];if(s.hasAttribute("viewBox")){var _e822=Ft.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1086.push(_e822);}var _iterator714=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step714;try{for(_iterator714.s();!(_step714=_iterator714.n()).done;){var _e823=_step714.value;_t1086.push(_e823.viewBox.baseVal);}}catch(err){_iterator714.e(err);}finally{_iterator714.f();}i=_t1086.length>0?We(_t1086):new DOMRect();}if(!1===this.Ac||!1===this.showViews||0===i.width||0===i.height){var _i809=new DOMMatrix();_i809.translateSelf(t,e),_i809.multiplySelf(Wt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_i809);}else{var _s421=He(i,qt(this["#vector-canvas"]));_s421=je(_s421,0);var _n351=DOMRect.fromRect(_s421);_n351.x+=t,_n351.y+=e,_n351=je(_n351,0);var _o273=DOMRect.fromRect(this.getBoundingClientRect());this.showManualGuides&&(_o273.x+=nu,_o273.y+=nu,_o273.width-=nu,_o273.height-=nu,_o273=je(_o273,0)),qe(_o273,_s421)?(_n351.width<_o273.width&&(_n351.x<_o273.x?_n351.x=_o273.x:_n351.x+_n351.width>_o273.x+_o273.width&&(_n351.x=_o273.x+_o273.width-_n351.width)),_n351.height<_o273.height&&(_n351.y<_o273.y?_n351.y=_o273.y:_n351.y+_n351.height>_o273.y+_o273.height&&(_n351.y=_o273.y+_o273.height-_n351.height))):!1===Xe(_o273,_s421)&&(_n351.x+_n351.width<_o273.x?_n351.x=_o273.x-_n351.width:_n351.x>_o273.x+_o273.width&&(_n351.x=_o273.x+_o273.width),_n351.y+_n351.height<_o273.y?_n351.y=_o273.y-_n351.height:_n351.y>_o273.y+_o273.height&&(_n351.y=_o273.y+_o273.height));var _l241=_n351.x-_s421.x,_a185=_n351.y-_s421.y,_h149=new DOMMatrix();_h149.translateSelf(_l241,_a185),_h149.multiplySelf(Wt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_h149);}this.vc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"showPixelCanvas",value:function showPixelCanvas(){var t=this.getBoundingClientRect();this["#pixel-canvas"].hidden=!1,this["#pixel-canvas"].style.left=-t.x+"px",this["#pixel-canvas"].style.top=-t.y+"px",this["#pixel-canvas"].style.width=t.x+t.width+"px",this["#pixel-canvas"].style.height=t.y+t.height+"px",this["#pixel-canvas"].setAttribute("width",t.x+t.width),this["#pixel-canvas"].setAttribute("height",t.y+t.height);}},{key:"hidePixelCanvas",value:function hidePixelCanvas(){var t=this["#pixel-canvas"];t.hidden=!0,t.getContext("2d").clearRect(0,0,t.width,t.height);}},{key:"Fc",value:function Fc(){this["#vector-layer"].setAttribute("width",screen.width+"px"),this["#vector-layer"].setAttribute("height",screen.height+"px"),this["#vector-layer"].setAttribute("viewBox","0 0 ".concat(screen.width," ").concat(screen.height));}},{key:"Pc",value:function Pc(){!0===this.Mc?(this["#manual-guides-hud"].enabled=!0,this["#rulers"].setAttribute("enabled","")):(this["#manual-guides-hud"].enabled=!1,this["#rulers"].removeAttribute("enabled")),!0===this.Dc?this["#smart-guides-hud"].enabled=!0:this["#smart-guides-hud"].enabled=!1,!0===this.zc?this["#grid-hud"].enabled=!0:this["#grid-hud"].enabled=!1;}},{key:"Lc",value:function(){var _Lc=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee115(){var t,_iterator715,_step715,_e824;return regeneratorRuntime.wrap(function _callee115$(_context116){while(1){switch(_context116.prev=_context116.next){case 0:document.fonts.clear();_context116.next=3;return this.Cc.getFontFaces();case 3:t=_context116.sent;_iterator715=_createForOfIteratorHelper(t);try{for(_iterator715.s();!(_step715=_iterator715.n()).done;){_e824=_step715.value;_e824.load(),document.fonts.add(_e824);}}catch(err){_iterator715.e(err);}finally{_iterator715.f();}case 6:case"end":return _context116.stop();}}},_callee115,this);}));function Lc(){return _Lc.apply(this,arguments);}return Lc;}()},{key:"vc",value:function vc(){this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;}},{key:"Tc",value:function Tc(){var t=this.currentWorkspace;if(t){var _e825=[];this.Ec?this["#vector-canvas"].setAttribute("data-outlines",this.$c?"above":"below"):this["#vector-canvas"].removeAttribute("data-outlines"),t.hasAttribute("viewBox")&&_e825.push(Ft.fromString(t.getAttribute("viewBox")));var _iterator716=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step716;try{for(_iterator716.s();!(_step716=_iterator716.n()).done;){var _i812=_step716.value;_e825.push(_i812.viewBox.baseVal);}}catch(err){_iterator716.e(err);}finally{_iterator716.f();}if(this["#background-outlines"].childElementCount!==_e825.length){for(;this["#background-outlines"].childElementCount<_e825.length;){var _t1087=Ii("svg:rect");this["#background-outlines"].append(_t1087);}for(;this["#background-outlines"].childElementCount>_e825.length;){this["#background-outlines"].lastElementChild.remove();}}if(this["#foreground-outlines"].childElementCount!==_e825.length){for(;this["#foreground-outlines"].childElementCount<_e825.length;){var _t1088=Ii("svg:rect");this["#foreground-outlines"].append(_t1088);}for(;this["#foreground-outlines"].childElementCount>_e825.length;){this["#foreground-outlines"].lastElementChild.remove();}}for(var _t1089=0;_t1089<_e825.length;_t1089+=1){var _i810=_e825[_t1089];for(var _i811=0,_arr38=[this["#background-outlines"].children[_t1089],this["#foreground-outlines"].children[_t1089]];_i811<_arr38.length;_i811++){var _e826=_arr38[_i811];_e826.x.baseVal.value=_i810.x,_e826.y.baseVal.value=_i810.y,_e826.width.baseVal.value=_i810.width,_e826.height.baseVal.value=_i810.height;}}}}},{key:"maybeCreateDefsForMasterWorkspace",value:function maybeCreateDefsForMasterWorkspace(){var t=this.defs;return null===t&&(t=Ii("svg:defs"),this.masterWorkspace.prepend(t)),t;}},{key:"maybeCreateDefsForCurrentWorkspace",value:function maybeCreateDefsForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");return null===t&&(t=Ii("svg:defs"),this.currentWorkspace.prepend(t)),t;}},{key:"maybeCreateGridForCurrentWorkspace",value:function maybeCreateGridForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");null===t&&(t=ts(_templateObject15()),this.currentWorkspace.append(t));var e=t.querySelector(":scope > bx-grid");return null===e&&(e=ts(_templateObject16()),t.append(e)),e;}},{key:"generateUniqueID",value:function generateUniqueID(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;for(var _s422=i;_s422<Infinity;_s422+=1){var _i813=t+"-"+_s422;if(!this["#workspaces"].querySelector("#".concat(CSS.escape(_i813)))){if(!e)return _i813;if(!e.querySelector("#".concat(CSS.escape(_i813))))return _i813;}}}},{key:"Hc",value:function Hc(t){t=Vi(t);var e=new Set();var _iterator717=_createForOfIteratorHelper(t),_step717;try{for(_iterator717.s();!(_step717=_iterator717.n()).done;){var _i814=_step717.value;var _iterator718=_createForOfIteratorHelper(this.Wc(_i814)),_step718;try{for(_iterator718.s();!(_step718=_iterator718.n()).done;){var _t1090=_step718.value;e.add(_t1090);}}catch(err){_iterator718.e(err);}finally{_iterator718.f();}}}catch(err){_iterator717.e(err);}finally{_iterator717.f();}return _toConsumableArray(e);}},{key:"Wc",value:function Wc(t){var _this398=this;var e=new Set();var i=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"];var s=function s(t){var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),o=null;for(;o=n.nextNode();){var _t1091=getComputedStyle(o);var _iterator719=_createForOfIteratorHelper(i),_step719;try{for(_iterator719.s();!(_step719=_iterator719.n()).done;){var _n352=_step719.value;var _i816=_t1091.getPropertyValue(_n352);if(_i816&&_i816.startsWith('url("#')){var _t1093=_i816.substring(6,_i816.length-2);if(!1===e.has(_t1093)){e.add(_t1093);var _i817=_this398.currentWorkspace.querySelector("#"+CSS.escape(_t1093));_i817||_this398.currentWorkspace===_this398.masterWorkspace||(_i817=_this398.masterWorkspace.querySelector("#"+CSS.escape(_t1093))),_i817&&s(_i817);}else e.add(_t1093);}}}catch(err){_iterator719.e(err);}finally{_iterator719.f();}if(o.href&&o.href.baseVal&&"#"===o.href.baseVal[0]){var _t1092=o.href.baseVal.substring(1,o.href.baseVal.length);if(!1===e.has(_t1092)){e.add(_t1092);var _i815=_this398.currentWorkspace.querySelector("#"+CSS.escape(_t1092));_i815||_this398.currentWorkspace===_this398.masterWorkspace||(_i815=_this398.masterWorkspace.querySelector("#"+CSS.escape(_t1092))),_i815&&s(_i815);}else e.add(_t1092);}}};return s(t),_toConsumableArray(e);}},{key:"getComputedViewportWidth",value:function getComputedViewportWidth(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e827=null;if(""!==t.style.width?_e827=t.style.width:t.hasAttribute("width")&&(_e827=t.getAttribute("width")),null!==_e827){var _t1094=It.fromString(_e827),_s423=Gp.fromString(_e827);_t1094&&_t1094.isAbsolute?i=_t1094:_s423&&(i=new It(_s423.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e828=null;if(""!==t.style.width?_e828=t.style.width:t.hasAttribute("width")&&(_e828=t.getAttribute("width")),null!==_e828){var _t1095=It.fromString(_e828),_s424=Gp.fromString(_e828);_t1095&&_t1095.isAbsolute?i=new Gp(_t1095.toLength("px").value):_s424&&(i=_s424);}}else if("marker"===e&&(i=new Gp(3),t.hasAttribute("markerWidth"))){var _e829=t.getAttribute("markerWidth"),_s425=Gp.fromString(_e829),_n353=It.fromString(_e829),_o274=Np.fromString(_e829);_s425?i=_s425:_n353?i=_n353.isAbsolute?new Gp(_n353.toLength("px").value):null:_o274&&(i=null);}return i;}},{key:"getComputedViewportHeight",value:function getComputedViewportHeight(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e830=null;if(""!==t.style.height?_e830=t.style.height:t.hasAttribute("height")&&(_e830=t.getAttribute("height")),null!==_e830){var _t1096=It.fromString(_e830),_s426=Gp.fromString(_e830);_t1096&&_t1096.isAbsolute?i=_t1096:_s426&&(i=new It(_s426.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e831=null;if(""!==t.style.height?_e831=t.style.height:t.hasAttribute("height")&&(_e831=t.getAttribute("height")),null!==_e831){var _t1097=It.fromString(_e831),_s427=Gp.fromString(_e831);_t1097&&_t1097.isAbsolute?i=new Gp(_t1097.toLength("px").value):_s427&&(i=_s427);}}else if("marker"===e&&(i=new Gp(3),t.hasAttribute("markerHeight"))){var _e832=t.getAttribute("markerHeight"),_s428=Gp.fromString(_e832),_n354=It.fromString(_e832),_o275=Np.fromString(_e832);_s428?i=_s428:_n354?i=_n354.isAbsolute?new Gp(_n354.toLength("px").value):null:_o275&&(i=null);}return i;}},{key:"getElementsFromPoint",value:function getElementsFromPoint(t,e){return this._shadowRoot.elementsFromPoint(t,e);}},{key:"getHitWorkspaceElements",value:function getHitWorkspaceElements(t,e){var i=[];var _iterator720=_createForOfIteratorHelper(c),_step720;try{for(_iterator720.s();!(_step720=_iterator720.n()).done;){var _step720$value=_slicedToArray(_step720.value,2),_s429=_step720$value[0],_n355=_step720$value[1];var _o276=this._shadowRoot.elementFromPoint(t+_s429,e+_n355);if(_o276.getRootNode()!==this._shadowRoot&&(_o276=null),_o276){if("tspan"===_o276.localName||"textPath"===_o276.localName)_o276=_o276.closest("text");else if("a"===_o276.localName){var _t1098=_o276.closest("text");_t1098&&(_o276=_t1098);}!i.includes(_o276)&&this.currentWorkspace.contains(_o276)&&i.push(_o276);}}}catch(err){_iterator720.e(err);}finally{_iterator720.f();}return Vi(i);}},{key:"getWorkspaceElementFromPoint",value:function getWorkspaceElementFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);if(i.getRootNode()!==this._shadowRoot&&(i=null),i){if("tspan"===i.localName||"textPath"===i.localName)i=i.closest("text");else if("a"===i.localName){var _t1099=i.closest("text");_t1099&&(i=_t1099);}!1===this.currentWorkspace.contains(i)&&(i=null);}return i;}},{key:"getBoundingClientRect",value:function getBoundingClientRect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(au.prototype),"getBoundingClientRect",this).call(this);if(t&&(i=new DOMRect(i.x+nu,i.y+nu,i.width-nu,i.height-nu)),e){var _t1100=this.Js.primaryPanelsDock,_e833=this.Js.secondaryPanelsDock;null!==_t1100.value&&(i.width-=_t1100.width-_t1100.getBoundingClientRect().width),null!==_e833.value&&(i.height-=_e833.height);}return i;}},{key:"selectAll",value:function selectAll(){var t=[],e=this.currentContainer||this.currentWorkspace;var _iterator721=_createForOfIteratorHelper(e.children),_step721;try{for(_iterator721.s();!(_step721=_iterator721.n()).done;){var _i818=_step721.value;this.isSelectableElement(_i818)&&t.push(_i818);}}catch(err){_iterator721.e(err);}finally{_iterator721.f();}this.selectedElements=[].concat(t);}},{key:"deselectAll",value:function deselectAll(){this.selectedElements=[],this.currentContainer=null,this.selectedTextRange=null;}},{key:"captureVisibleCanvasArea",value:function captureVisibleCanvasArea(){var _this399=this;return new Promise(/*#__PURE__*/function(){var _ref129=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee116(t){var e,i,s,_t1101,_e834,_iterator722,_step722,_i819,_e835,_s430,_i820,_arr39,_t1102,n,_e836,_i821,_s431,_o277,_l242;return regeneratorRuntime.wrap(function _callee116$(_context117){while(1){switch(_context117.prev=_context117.next){case 0:e=_this399["#vector-layer"].getBoundingClientRect(),i=_this399["#vector-layer"].cloneNode();i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("width",e.width+"px"),i.setAttribute("height",e.height+"px");s=_this399["#vector-canvas"].cloneNode();_t1101=Ii("svg:g"),_e834=[_this399["#background-rect"]].concat(_toConsumableArray(_this399["#background-outlines"].children),_toConsumableArray(_this399["#foreground-outlines"].children));_iterator722=_createForOfIteratorHelper(_e834);try{for(_iterator722.s();!(_step722=_iterator722.n()).done;){_i819=_step722.value;_e835=getComputedStyle(_i819),_s430=_i819.cloneNode();for(_i820=0,_arr39=["fill","stroke","vector-effect"];_i820<_arr39.length;_i820++){_t1102=_arr39[_i820];_s430.style.setProperty(_t1102,_e835.getPropertyValue(_t1102));}_t1101.append(_s430);}}catch(err){_iterator722.e(err);}finally{_iterator722.f();}s.append(_t1101);s.append(_this399["#workspaces"].cloneNode(!0)),s.querySelector("#whitespace").remove(),i.append(s);n=jp(i,"xml");_e836=Ii("canvas"),_i821=_e836.getContext("2d"),_s431=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),_o277=URL.createObjectURL(_s431),_l242=new Image();_l242.src=_o277,_l242.addEventListener("load",function(){_e836.width=_l242.naturalWidth,_e836.height=_l242.naturalHeight,_i821.fillStyle="rgba(0, 0, 0, 0)",_i821.fillRect(0,0,_l242.naturalWidth,_l242.naturalHeight),_i821.drawImage(_l242,0,0),URL.revokeObjectURL(_o277),t(_i821);});case 11:case"end":return _context117.stop();}}},_callee116);}));return function(_x138){return _ref129.apply(this,arguments);};}());}},{key:"isSelectableElement",value:function isSelectableElement(t){return!1!==y.includes(t.localName)&&t.parentElement!==this["#workspaces"]&&!1!==this.currentWorkspace.contains(t)&&!t.closest("defs")&&(!t.closest("text")||"text"===t.localName);}},{key:"isPointOverBoard",value:function isPointOverBoard(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return(i.getRootNode()!==this._shadowRoot||i===this["#rulers"])&&(i=null),null!==i;}},{key:"isPointOverRuler",value:function isPointOverRuler(t,e){return this._shadowRoot.elementFromPoint(t,e)===this["#rulers"];}}]);return au;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(au,"_shadowTemplate",Qi(_templateObject202()));_defineProperty(au,"_shadowStyleSheet",Ji(_templateObject203()));customElements.define("bx-board",au);var hu=/*#__PURE__*/function(_HTMLElement59){_inherits(hu,_HTMLElement59);var _super65=_createSuper(hu);function hu(){_classCallCheck(this,hu);return _super65.apply(this,arguments);}_createClass(hu,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Gi(this,"bx-editor"),!this._shadowRoot){this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,hu._shadowStyleSheet],this._shadowRoot.append(document.importNode(hu._shadowTemplate.content,!0));var _iterator723=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll("[id]")),_step723;try{for(_iterator723.s();!(_step723=_iterator723.n()).done;){var _t1103=_step723.value;this["#"+_t1103.id]=_t1103;}}catch(err){_iterator723.e(err);}finally{_iterator723.f();}}}},{key:"setArtwork",value:function setArtwork(t){this["#main"].append(t);}},{key:"clear",value:function clear(){this["#main"].innerHTML="";}}]);return hu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hu,"_shadowTemplate",Qi(_templateObject204()));_defineProperty(hu,"_shadowStyleSheet",Ji(_templateObject205()));customElements.define("bx-offscreenboard",hu);var ru=10;var du=/*#__PURE__*/function(_HTMLElement60){_inherits(du,_HTMLElement60);var _super66=_createSuper(du);_createClass(du,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function du(){var _this400;_classCallCheck(this,du);_this400=_super66.call(this),_this400.Yc=null,_this400.qc=null,_this400._shadowRoot=_this400.attachShadow({mode:"closed"}),_this400._shadowRoot.adoptedStyleSheets=[du._shadowStyleSheet],_this400._shadowRoot.append(document.importNode(du._shadowTemplate.content,!0));var _iterator724=_createForOfIteratorHelper(_this400._shadowRoot.querySelectorAll("[id]")),_step724;try{for(_iterator724.s();!(_step724=_iterator724.n()).done;){var _t1104=_step724.value;_this400["#"+_t1104.id]=_t1104;}}catch(err){_iterator724.e(err);}finally{_iterator724.f();}_this400.addEventListener("pointerenter",function(){return _this400["#lens"].style.display=null;}),_this400.addEventListener("pointerleave",function(){return _this400["#lens"].style.display="none";}),_this400.addEventListener("pointermove",function(){return _this400.Xc();}),_this400.addEventListener("click",function(t){return _this400["do"](t);}),_this400.addEventListener("keydown",function(t){return _this400.wn(t);});return _this400;}_createClass(du,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}},{key:"grab",value:function grab(){var _this401=this;return new Promise(/*#__PURE__*/function(){var _ref130=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee117(t){return regeneratorRuntime.wrap(function _callee117$(_context118){while(1){switch(_context118.prev=_context118.next){case 0:_this401.qc&&_this401.qc(null);_context118.prev=1;_this401.qc=t;_this401.Zc=_this401.Qs.currentEditor.board;_this401.Kc=_this401.Zc.getBoundingClientRect();_this401.setAttribute("tabindex","0");_this401.setAttribute("grabbing","");_this401.focus();_context118.next=10;return _this401.Zc.captureVisibleCanvasArea();case 10:_this401.Yc=_context118.sent;_this401.Qc();_this401.Xc();_context118.next=18;break;case 15:_context118.prev=15;_context118.t0=_context118["catch"](1);console.log("Failed to grab color",_context118.t0),_this401.qc(null),_this401.qc=null,_this401.removeAttribute("grabbing");case 18:case"end":return _context118.stop();}}},_callee117,null,[[1,15]]);}));return function(_x139){return _ref130.apply(this,arguments);};}());}},{key:"Qc",value:function Qc(){if(0===this["#grid"].childElementCount)for(var _t1105=0;_t1105<ru;_t1105+=1){for(var _e837=0;_e837<ru;_e837+=1){var _i822=Ii("svg:rect");_i822.setAttribute("width",10),_i822.setAttribute("height",10),_i822.setAttribute("x",11*_e837),_i822.setAttribute("y",11*_t1105),_i822.style.fill="transparent",this["#grid"].append(_i822),4===_e837&&4===_t1105&&_i822.setAttribute("id","center-rect");}}}},{key:"Xc",value:function Xc(){var _this$Qs$pointerClien=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien.x,e=_this$Qs$pointerClien.y;if(this["#lens"].style.left=t+15+"px",this["#lens"].style.top=e+15+"px",!1===this.wc())this["#lens"].setAttribute("offscreen","");else if(this["#lens"].removeAttribute("offscreen"),this.Yc){var _i823=[],_s432=this.Yc.getImageData(t-this.Kc.left-ru/2+1,e-this.Kc.top-ru/2+1,ru,ru);for(var _t1106=0,_e838=_s432.data.length;_t1106<_e838;_t1106+=4){var _e839=_s432.data[_t1106],_n356=_s432.data[_t1106+1],_o278=_s432.data[_t1106+2],_l243=_s432.data[_t1106+3]/255;_i823.push("rgba(".concat(_e839,", ").concat(_n356,", ").concat(_o278,", ").concat(_l243,")"));}for(var _t1107=0;_t1107<_i823.length;_t1107+=1){this["#grid"].children[_t1107].style.fill=_i823[_t1107];}}}},{key:"wn",value:function wn(t){"Escape"===t.key&&(this.qc&&(this.qc(null),this.qc=null),this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=null;if(this.Yc&&this.wc()){var _this$Qs$pointerClien2=this.Qs.pointerClientPoint,_t1108=_this$Qs$pointerClien2.x,_i824=_this$Qs$pointerClien2.y,_s433=this.Yc.getImageData(_t1108-this.Kc.left,_i824-this.Kc.top,1,1),_s433$data=_slicedToArray(_s433.data,4),_n357=_s433$data[0],_o279=_s433$data[1],_l244=_s433$data[2],_a186=_s433$data[3];e="rgba(".concat(_n357,", ").concat(_o279,", ").concat(_l244,", ").concat(_a186/255,")");}this.qc(e),this.qc=null,this.removeAttribute("grabbing");}},{key:"wc",value:function wc(){this.style.pointerEvents="none";var _this$Qs$pointerClien3=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien3.x,e=_this$Qs$pointerClien3.y,i=this.Zc.isPointOverBoard(t,e);return this.style.pointerEvents=null,i;}}]);return du;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(du,"_shadowTemplate",Qi(_templateObject206()));_defineProperty(du,"_shadowStyleSheet",Ji(_templateObject207()));customElements.define("bx-colorgrabber",du);var cu=/*#__PURE__*/function(_HTMLElement61){_inherits(cu,_HTMLElement61);var _super67=_createSuper(cu);function cu(){var _this402;_classCallCheck(this,cu);_this402=_super67.call(this),_this402._shadowRoot=_this402.attachShadow({mode:"closed"}),_this402._shadowRoot.adoptedStyleSheets=[cu._shadowStyleSheet],_this402._shadowRoot.append(document.importNode(cu._shadowTemplate.content,!0));var _iterator725=_createForOfIteratorHelper(_this402._shadowRoot.querySelectorAll("[id]")),_step725;try{for(_iterator725.s();!(_step725=_iterator725.n()).done;){var _t1109=_step725.value;_this402["#"+_t1109.id]=_t1109;}}catch(err){_iterator725.e(err);}finally{_iterator725.f();}return _this402;}return cu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cu,"_shadowTemplate",Qi(_templateObject208()));_defineProperty(cu,"_shadowStyleSheet",Ji(_templateObject209()));customElements.define("bx-tooltip",cu);var pu=/*#__PURE__*/function(_HTMLElement62){_inherits(pu,_HTMLElement62);var _super68=_createSuper(pu);_createClass(pu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function pu(){var _this403;_classCallCheck(this,pu);_this403=_super68.call(this),_this403.qc=null,_this403._shadowRoot=_this403.attachShadow({mode:"closed"}),_this403._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,pu._shadowStyleSheet],_this403._shadowRoot.append(document.importNode(pu._shadowTemplate.content,!0));var _iterator726=_createForOfIteratorHelper(_this403._shadowRoot.querySelectorAll("[id]")),_step726;try{for(_iterator726.s();!(_step726=_iterator726.n()).done;){var _t1110=_step726.value;_this403["#"+_t1110.id]=_t1110;}}catch(err){_iterator726.e(err);}finally{_iterator726.f();}_this403.addEventListener("pointerenter",function(){return _this403["#tooltip"].hidden=!1;}),_this403.addEventListener("pointerleave",function(){return _this403["#tooltip"].hidden=!0;}),_this403.addEventListener("pointermove",function(){return _this403.Jc();}),_this403.addEventListener("click",function(t){return _this403["do"](t);}),_this403.addEventListener("keydown",function(t){return _this403.wn(t);});return _this403;}_createClass(pu,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"grab",value:function grab(){var _this404=this;return new Promise(/*#__PURE__*/function(){var _ref131=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee118(t){return regeneratorRuntime.wrap(function _callee118$(_context119){while(1){switch(_context119.prev=_context119.next){case 0:_this404.qc&&_this404.qc(null);_this404.qc=t;_this404.setAttribute("tabindex","0");_this404.setAttribute("grabbing","");_this404.Jc();_this404.focus();_context119.next=8;return ns(200);case 8:_this404.focus();case 9:case"end":return _context119.stop();}}},_callee118);}));return function(_x140){return _ref131.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(){if(this.tp())this["#tooltip"].hidden=!0;else{var _this$Qs$pointerClien4=this.Qs.pointerClientPoint,_t1111=_this$Qs$pointerClien4.x,_e840=_this$Qs$pointerClien4.y;this["#tooltip"].hidden=!1,this["#tooltip"].style.left=_t1111+15+"px",this["#tooltip"].style.top=_e840+15+"px";}}},{key:"wn",value:function wn(t){"Escape"===t.key&&this.qc&&(t.preventDefault(),this.qc(null),this.qc=null,this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=this.tp();this.qc(e),this.qc=null,this.removeAttribute("grabbing");}},{key:"tp",value:function tp(){this.style.pointerEvents="none";var _this$Qs$pointerClien5=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien5.x,e=_this$Qs$pointerClien5.y,i=this.Js.board.getWorkspaceElementFromPoint(t,e);return this.style.pointerEvents=null,i;}}]);return pu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pu,"_shadowTemplate",Qi(_templateObject210()));_defineProperty(pu,"_shadowStyleSheet",Ji(_templateObject211()));customElements.define("bx-objectgrabber",pu);var uu=Symbol();var xu=/*#__PURE__*/function(_HTMLElement63){_inherits(xu,_HTMLElement63);var _super69=_createSuper(xu);_createClass(xu,[{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function xu(){var _this405;_classCallCheck(this,xu);_this405=_super69.call(this),_this405.Ar=!1,_this405.ep=is(_this405.qs,80,_assertThisInitialized(_this405)),_this405.ip=is(_this405.qs,1e3,_assertThisInitialized(_this405)),_this405._shadowRoot=_this405.attachShadow({mode:"closed"}),_this405._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,xu._shadowStyleSheet],_this405._shadowRoot.append(document.importNode(xu._shadowTemplate.content,!0));var _iterator727=_createForOfIteratorHelper(_this405._shadowRoot.querySelectorAll("[id]")),_step727;try{for(_iterator727.s();!(_step727=_iterator727.n()).done;){var _t1112=_step727.value;_this405["#"+_t1112.id]=_t1112;}}catch(err){_iterator727.e(err);}finally{_iterator727.f();}_this405["#items"].addEventListener("pointerdown",function(t){return _this405.sp(t);}),_this405["#items"].addEventListener("click",function(t){return _this405.np(t);}),_this405["#items"].addEventListener("contextmenu",function(t){return _this405.op(t);}),_this405["#items"].addEventListener("keydown",function(t){return _this405.lp(t);});return _this405;}_createClass(xu,[{key:"connectedCallback",value:function connectedCallback(){var _this406=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Mn=this.Js.board,this.Ar=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs(),this.ap(),Us.addEventListener("sizechange",this.hp=function(){return _this406.ap();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this406.ln(t);}),this.Mn.addEventListener("selectedelementschange",this.il=function(){_this406.ep();}),this.Mn.addEventListener("currentcontainerchange",this.rp=function(){_this406.ep();}),this.Mn.addEventListener("workspacemutation",this.hn=function(t){_this406.ip();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.hp),this.Qs.removeEventListener("configchange",this.nn),this.Mn.removeEventListener("selectedelementschange",this.il),this.Mn.removeEventListener("currentcontainerchange",this.rp),this.Mn.removeEventListener("workspacemutation",this.hn);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.ap();}},{key:"ln",value:function ln(t){var _t$detail6=t.detail,e=_t$detail6.key,i=_t$detail6.value;"bx-editorbreadcrumb:showIds"===e&&(this.Ar=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs());}},{key:"sp",value:function sp(t){t.target.closest(".item")&&t.preventDefault();}},{key:"np",value:function np(t){var e=this.Js.board,i=t.target.closest(".item");if(i){var _t1113=i[uu];_t1113===e.currentWorkspace?(e.currentContainer=null,e.selectedElements=[]):_t1113===e.masterWorkspace?("symbol"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editSymbolEnd():"pattern"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editPatternEnd():"marker"===e.currentWorkspace.getAttribute("data-bx-workspace")&&e.editMarkerEnd(),e.currentContainer=null,e.selectedElements=[]):(_t1113.parentElement===e.currentWorkspace?e.currentContainer=null:e.currentContainer=_t1113.parentElement,e.selectedElements=[_t1113]);}}},{key:"op",value:function(){var _op=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee119(t){return regeneratorRuntime.wrap(function _callee119$(_context120){while(1){switch(_context120.prev=_context120.next){case 0:t.preventDefault();_context120.next=3;return this.Qs.openContextMenu([{label:"Show IDs",value:"show-ids",disabled:!1,toggled:this.Ar}]);case 3:_context120.t0=_context120.sent;_context120.t1="show-ids"===_context120.t0;if(!_context120.t1){_context120.next=7;break;}this.Qs.setConfig("bx-editorbreadcrumb:showIds",!this.Ar),this.qs();case 7:case"end":return _context120.stop();}}},_callee119,this);}));function op(_x141){return _op.apply(this,arguments);}return op;}()},{key:"lp",value:function lp(t){var e=this["#items"].querySelector(":focus");e&&("Enter"!==t.code&&"Space"!==t.code||e.click());}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=null;if(e.push(t.masterWorkspace),t.currentWorkspace!==t.masterWorkspace&&e.push(t.currentWorkspace),t.currentContainer){var _i825=[];for(var _e841=t.currentContainer;_e841!==t.currentWorkspace;_e841=_e841.parentElement){_i825.unshift(_e841);}e=[].concat(_toConsumableArray(e),_i825);}t.selectedElements.length>0?(e.push(t.selectedElements[0]),i=t.selectedElements[0]):t.currentContainer||(i=t.currentWorkspace),this["#items"].innerHTML="";var _iterator728=_createForOfIteratorHelper(e),_step728;try{for(_iterator728.s();!(_step728=_iterator728.n()).done;){var _t1114=_step728.value;var _e842=H(_t1114),_s434=W(_t1114),_n358=_t1114.querySelector(":scope > bx-title"),_o280=Wi(_t1114),_l245="";this.Ar?_t1114.id?_l245="#"+_t1114.id:(_l245=Hi(_t1114,"developer"),_l245=ci(_l245)):(_l245=_n358?_n358.textContent:Hi(_t1114),_e842&&_s434?_l245+=" (clipped, masked)":_e842?_l245+=" (clipped)":_s434&&(_l245+=" (masked)"));var _a187=Qi(_templateObject17(),_o280,_l245);i===_t1114?(_a187.setAttribute("data-selected",""),_a187.setAttribute("part","toggled-item")):_a187.setAttribute("tabindex","0"),_a187[uu]=_t1114,this["#items"].append(_a187);}}catch(err){_iterator728.e(err);}finally{_iterator728.f();}this["#items"].firstElementChild.part.add("first-item"),this["#items"].lastElementChild.part.add("last-item");}},{key:"ap",value:function ap(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return xu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xu,"observedAttributes",["size"]);_defineProperty(xu,"_shadowTemplate",Qi(_templateObject212()));_defineProperty(xu,"_shadowStyleSheet",Ji(_templateObject213()));customElements.define("bx-editorbreadcrumb",xu);var bu=/*#__PURE__*/function(_dh4){_inherits(bu,_dh4);var _super70=_createSuper(bu);function bu(){var _this407;_classCallCheck(this,bu);_this407=_super70.call(this),_this407["#selection-shape-buttons"].addEventListener("toggle",function(){_this407.dp();}),_this407["#selection-mode-buttons"].addEventListener("toggle",function(){_this407.cp();}),_this407["#preserve-stroke-width-checkbox"].addEventListener("toggle",function(){_this407.pp();}),_this407["#preserve-rect-radii-checkbox"].addEventListener("toggle",function(){_this407.up();}),_this407["#preserve-rotation-checkbox"].addEventListener("toggle",function(){_this407.xp();}),_this407["#preserve-aspect-ratio-checkbox"].addEventListener("toggle",function(){_this407.bp();});return _this407;}_createClass(bu,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),e=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),i=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),s=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),n=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),o=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);"rect-contain"===e&&(e="contain"),this["#selection-shape-buttons"].value=t,this["#selection-mode-buttons"].value=e,this["#preserve-stroke-width-checkbox"].toggled=i,this["#preserve-rect-radii-checkbox"].toggled=s,this["#preserve-rotation-checkbox"].toggled=n,this["#preserve-aspect-ratio-checkbox"].toggled=o;}},{key:"dp",value:function dp(){var t=this["#selection-shape-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionShape",t);}},{key:"cp",value:function cp(){var t=this["#selection-mode-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionMode",t);}},{key:"pp",value:function pp(){var t=this["#preserve-stroke-width-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveStrokeWidth",t);}},{key:"up",value:function up(){var t=this["#preserve-rect-radii-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRectRadii",t);}},{key:"xp",value:function xp(){var t=this["#preserve-rotation-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRotation",t);}},{key:"bp",value:function bp(){var t=this["#preserve-aspect-ratio-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveAspectRatio",t);}}]);return bu;}(dh);_defineProperty(bu,"_shadowTemplate",Qi(_templateObject214()));_defineProperty(bu,"_shadowStyleSheet",Ji(_templateObject215()));customElements.define("bx-transformsettings",bu);var mu=/*#__PURE__*/function(_dh5){_inherits(mu,_dh5);var _super71=_createSuper(mu);function mu(){var _this408;_classCallCheck(this,mu);_this408=_super71.call(this),_this408["#selection-shape-buttons"].addEventListener("toggle",function(){return _this408.dp();});return _this408;}_createClass(mu,[{key:"tn",value:function tn(){this["#selection-shape-buttons"].value=this.Qs.getConfig("bx-editsettings:selectionShape","rect");}},{key:"dp",value:function dp(){this.Qs.setConfig("bx-editsettings:selectionShape",this["#selection-shape-buttons"].value);}}]);return mu;}(dh);_defineProperty(mu,"_shadowTemplate",Qi(_templateObject216()));_defineProperty(mu,"_shadowStyleSheet",Ji(_templateObject217()));customElements.define("bx-editsettings",mu);var gu=/*#__PURE__*/function(_dh6){_inherits(gu,_dh6);var _super72=_createSuper(gu);function gu(){var _this409;_classCallCheck(this,gu);_this409=_super72.call(this),_this409["#style-picker"].addEventListener("change",function(){return _this409.eo();});return _this409;}_createClass(gu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-quadbeziersettings:style");}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-quadbeziersettings:style",this["#style-picker"].value);}}]);return gu;}(dh);_defineProperty(gu,"_shadowTemplate",Qi(_templateObject218()));customElements.define("bx-quadbeziersettings",gu);var fu=/*#__PURE__*/function(_dh7){_inherits(fu,_dh7);var _super73=_createSuper(fu);function fu(){var _this410;_classCallCheck(this,fu);_this410=_super73.call(this),_this410["#style-picker"].addEventListener("change",function(){return _this410.eo();});return _this410;}_createClass(fu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-cubicbeziersettings:style");}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-cubicbeziersettings:style",this["#style-picker"].value);}}]);return fu;}(dh);_defineProperty(fu,"_shadowTemplate",Qi(_templateObject219()));customElements.define("bx-cubicbeziersettings",fu);var wu=/*#__PURE__*/function(_dh8){_inherits(wu,_dh8);var _super74=_createSuper(wu);function wu(){var _this411;_classCallCheck(this,wu);_this411=_super74.call(this),_this411["#style-picker"].addEventListener("change",function(){return _this411.eo();});return _this411;}_createClass(wu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-arcsettings:style");}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-arcsettings:style",this["#style-picker"].value);}}]);return wu;}(dh);_defineProperty(wu,"_shadowTemplate",Qi(_templateObject220()));customElements.define("bx-arcsettings",wu);var vu=/*#__PURE__*/function(_dh9){_inherits(vu,_dh9);var _super75=_createSuper(vu);function vu(){var _this412;_classCallCheck(this,vu);_this412=_super75.call(this),_this412["#smoothing-slider"].addEventListener("change",function(){return _this412.mp();}),_this412["#smoothing-input"].addEventListener("change",function(){return _this412.gp();}),_this412["#style-picker"].addEventListener("change",function(){return _this412.eo();});return _this412;}_createClass(vu,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),e=this.Qs.getConfig("bx-freehandsettings:style");this["#smoothing-slider"].value=t,this["#smoothing-input"].value=t,this["#style-picker"].value=e;}},{key:"mp",value:function mp(){this["#smoothing-input"].value=this["#smoothing-slider"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"gp",value:function gp(){this["#smoothing-slider"].value=this["#smoothing-input"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-freehandsettings:style",this["#style-picker"].value);}}]);return vu;}(dh);_defineProperty(vu,"_shadowTemplate",Qi(_templateObject221()));_defineProperty(vu,"_shadowStyleSheet",Ji(_templateObject222()));customElements.define("bx-freehandsettings",vu);var yu=/*#__PURE__*/function(_dh10){_inherits(yu,_dh10);var _super76=_createSuper(yu);function yu(){var _this413;_classCallCheck(this,yu);_this413=_super76.call(this),_this413["#move-objects-checkbox"].addEventListener("toggle",function(){return _this413.fp();}),_this413["#show-ids-checkbox"].addEventListener("toggle",function(){return _this413.wp();});return _this413;}_createClass(yu,[{key:"tn",value:function tn(){this["#move-objects-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this["#show-ids-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:showIds",!1);}},{key:"fp",value:function fp(){this.Qs.setConfig("bx-viewsettings:moveObjects",this["#move-objects-checkbox"].toggled);}},{key:"wp",value:function wp(){this.Qs.setConfig("bx-viewsettings:showIds",this["#show-ids-checkbox"].toggled);}}]);return yu;}(dh);_defineProperty(yu,"_shadowTemplate",Qi(_templateObject223()));customElements.define("bx-viewsettings",yu);var ku=/*#__PURE__*/function(_dh11){_inherits(ku,_dh11);var _super77=_createSuper(ku);function ku(){var _this414;_classCallCheck(this,ku);_this414=_super77.call(this),_this414["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this414.vp();}),_this414["#r-grippie"].addEventListener("pointerdown",function(t){return _this414.vl(t);}),_this414["#r-box"].addEventListener("changestart",function(t){return _this414.yp(t);}),_this414["#style-picker"].addEventListener("change",function(){return _this414.eo();});return _this414;}_createClass(ku,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-rectsettings:drawingMode","planar"),this.Sp=this.Qs.getConfig("bx-rectsettings:r",0),this._p=this.Qs.getConfig("bx-rectsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-rectsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"vl",value:function vl(t){var _this415=this;var e,_i826,s=qt(this["#geometry-preview-shape"]).inverse();this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s).x-_this415["#geometry-preview-shape"].x.baseVal.value;_this415.Sp=et(n,0,30,0),_this415.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i826=function i(){_this415["#geometry-preview"].removeEventListener("pointermove",e),_this415["#geometry-preview"].removeEventListener("lostpointercapture",_i826),_this415.Qs.setConfig("bx-rectsettings:r",_this415.Sp);});}},{key:"yp",value:function yp(){var _this416=this;var t,_e843;this["#r-box"].addEventListener("change",t=function t(_t1115){_this416.Sp=et(_t1115.target.value,0,Infinity,0),_this416.Mp();}),this["#r-box"].addEventListener("changeend",_e843=function e(){_this416["#r-box"].removeEventListener("change",t),_this416["#r-box"].removeEventListener("changeend",_e843),_this416.Qs.setConfig("bx-rectsettings:r",_this416.Sp);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-rectsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=et(this.Sp,0,30,0);this["#geometry-preview-shape"].x.baseVal.value=i,this["#geometry-preview-shape"].y.baseVal.value=5,this["#geometry-preview-shape"].width.baseVal.value=e,this["#geometry-preview-shape"].height.baseVal.value=t,this["#geometry-preview-shape"].rx.baseVal.value=s,this["#geometry-preview-shape"].ry.baseVal.value=s,this["#r-grippie"].setAttribute("cx",i+s),this["#r-grippie"].setAttribute("cy",5);}},{key:"Dp",value:function Dp(){this["#r-slider"].value=this.Sp,this["#r-input"].value=this.Sp;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return ku;}(dh);_defineProperty(ku,"_shadowTemplate",Qi(_templateObject224()));_defineProperty(ku,"_shadowStyleSheet",Ji(_templateObject225()));customElements.define("bx-rectsettings",ku);var Su=/*#__PURE__*/function(_dh12){_inherits(Su,_dh12);var _super78=_createSuper(Su);function Su(){var _this417;_classCallCheck(this,Su);_this417=_super78.call(this),_this417["#style-picker"].addEventListener("change",function(){return _this417.eo();});return _this417;}_createClass(Su,[{key:"tn",value:function tn(){this.Pp();}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-circlesettings:style",this["#style-picker"].value);}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this.Qs.getConfig("bx-circlesettings:style");}}]);return Su;}(dh);_defineProperty(Su,"_shadowTemplate",Qi(_templateObject226()));customElements.define("bx-circlesettings",Su);var _u=/*#__PURE__*/function(_dh13){_inherits(_u,_dh13);var _super79=_createSuper(_u);function _u(){var _this418;_classCallCheck(this,_u);_this418=_super79.call(this),_this418["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this418.vp();}),_this418["#style-picker"].addEventListener("change",function(){return _this418.eo();});return _this418;}_createClass(_u,[{key:"tn",value:function tn(){this.Cp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-ellipsesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-ellipsesettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.Qs.getConfig("bx-ellipsesettings:drawingMode","planar");}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this.Qs.getConfig("bx-ellipsesettings:style");}}]);return _u;}(dh);_defineProperty(_u,"_shadowTemplate",Qi(_templateObject227()));_defineProperty(_u,"_shadowStyleSheet",Ji(_templateObject228()));customElements.define("bx-ellipsesettings",_u);var Cu=Number.MAX_SAFE_INTEGER;var Mu=/*#__PURE__*/function(_dh14){_inherits(Mu,_dh14);var _super80=_createSuper(Mu);function Mu(){var _this419;_classCallCheck(this,Mu);_this419=_super80.call(this),_this419["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this419.vp();}),_this419["#r1-grippie"].addEventListener("pointerdown",function(t){return _this419.Gl(t);}),_this419["#r1-box"].addEventListener("changestart",function(t){return _this419.zp(t);}),_this419["#style-picker"].addEventListener("change",function(){return _this419.eo();});return _this419;}_createClass(Mu,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-ringsettings:drawingMode","polar"),this.Op=this.Qs.getConfig("bx-ringsettings:r1",.6),this._p=this.Qs.getConfig("bx-ringsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-ringsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Gl",value:function Gl(t){var _this420=this;var e,_i827,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values=_slicedToArray(n.values,6),o=_n$values[0],l=_n$values[1],a=_n$values[2],h=_n$values[3],r=_n$values[4],d=_n$values[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Cu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_$e43=$e(u,x,n,!1),_$e44=_slicedToArray(_$e43,1),o=_$e44[0],l=Te(p,o),a=et(l/c,0,1,2);_this420.Op=a,_this420.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i827=function i(){_this420["#geometry-preview"].removeEventListener("pointermove",e),_this420["#geometry-preview"].removeEventListener("lostpointercapture",_i827),_this420.Qs.setConfig("bx-ringsettings:r1",_this420.Op);});}},{key:"zp",value:function zp(){var _this421=this;var t,_e844;this["#r1-box"].addEventListener("change",t=function t(_t1116){_this421.Op=et(_t1116.target.value/100,0,1,2),_this421.Mp();}),this["#r1-box"].addEventListener("changeend",_e844=function e(){_this421["#r1-box"].removeEventListener("change",t),_this421["#r1-box"].removeEventListener("changeend",_e844),_this421.Qs.setConfig("bx-ringsettings:r1",_this421.Op);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-ringsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Op*i;_vl(this["#geometry-preview-shape"],{type:"ring",values:[t,e,s,s,i,i]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Dp",value:function Dp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Op,et(100*this.Op,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Mu;}(dh);_defineProperty(Mu,"_shadowTemplate",Qi(_templateObject229()));_defineProperty(Mu,"_shadowStyleSheet",Ji(_templateObject230()));customElements.define("bx-ringsettings",Mu);var Pu=Number.MAX_SAFE_INTEGER;var Du=/*#__PURE__*/function(_dh15){_inherits(Du,_dh15);var _super81=_createSuper(Du);function Du(){var _this422;_classCallCheck(this,Du);_this422=_super81.call(this),_this422["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this422.vp();}),_this422["#r1-grippie"].addEventListener("pointerdown",function(t){return _this422.Gl(t);}),_this422["#r1-box"].addEventListener("changestart",function(t){return _this422.zp(t);}),_this422["#style-picker"].addEventListener("change",function(){return _this422.eo();});return _this422;}_createClass(Du,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-piesettings:drawingMode","polar"),this.Op=this.Qs.getConfig("bx-piesettings:r1",0),this._p=this.Qs.getConfig("bx-piesettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-piesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Gl",value:function Gl(t){var _this423=this;var e,_i828,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values2=_slicedToArray(n.values,6),o=_n$values2[0],l=_n$values2[1],a=_n$values2[2],h=_n$values2[3],r=_n$values2[4],d=_n$values2[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Pu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_$e45=$e(u,x,n,!1),_$e46=_slicedToArray(_$e45,1),o=_$e46[0],l=Te(p,o),a=et(l/c,0,1,2);_this423.Op=a,_this423.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i828=function i(){_this423["#geometry-preview"].removeEventListener("pointermove",e),_this423["#geometry-preview"].removeEventListener("lostpointercapture",_i828),_this423.Qs.setConfig("bx-piesettings:r1",_this423.Op);});}},{key:"zp",value:function zp(){var _this424=this;var t,_e845;this["#r1-box"].addEventListener("change",t=function t(_t1117){_this424.Op=et(_t1117.target.value/100,0,1,2),_this424.Mp();}),this["#r1-box"].addEventListener("changeend",_e845=function e(){_this424["#r1-box"].removeEventListener("change",t),_this424["#r1-box"].removeEventListener("changeend",_e845),_this424.Qs.setConfig("bx-piesettings:r1",_this424.Op);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-piesettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Op*i;_vl(this["#geometry-preview-shape"],{type:"pie",values:[t,e,s,i,90,360]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Dp",value:function Dp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Op,et(100*this.Op,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Du;}(dh);_defineProperty(Du,"_shadowTemplate",Qi(_templateObject231()));_defineProperty(Du,"_shadowStyleSheet",Ji(_templateObject232()));customElements.define("bx-piesettings",Du);var zu=Math.abs,Ou=Math.sin,Eu=Math.cos;var Tu=/*#__PURE__*/function(_dh16){_inherits(Tu,_dh16);var _super82=_createSuper(Tu);function Tu(){var _this425;_classCallCheck(this,Tu);_this425=_super82.call(this),_this425["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this425.vp();}),_this425["#arch-grippie"].addEventListener("pointerdown",function(t){return _this425.Cl(t);}),_this425["#hollow-grippie"].addEventListener("pointerdown",function(t){return _this425.Ml(t);}),_this425["#arch-box"].addEventListener("changestart",function(t){return _this425.Ep(t);}),_this425["#hollow-box"].addEventListener("changestart",function(t){return _this425.Tp(t);}),_this425["#style-picker"].addEventListener("change",function(){return _this425.eo();});return _this425;}_createClass(Tu,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-crescentsettings:drawingMode","polar"),this.Ap=this.Qs.getConfig("bx-crescentsettings:arch",300),this.$p=this.Qs.getConfig("bx-crescentsettings:hollow",.7),this._p=this.Qs.getConfig("bx-crescentsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"Cl",value:function Cl(t){var _this426=this;var e,_i829,s=wl(this["#geometry-preview-shape"]),n=qt(this["#geometry-preview-shape"]).inverse(),_s$values=_slicedToArray(s.values,5),o=_s$values[0],l=_s$values[1],a=_s$values[2],h=_s$values[3],r=_s$values[4];this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Ke(e,new DOMPoint(o,l),a),s=new DOMPoint(o,l),h=new DOMPoint(o+a,l),r=Ge(s,i,h);_this426.Ap=r<0&&r>=-90?1:r<-90&&r>=-180?359:et(zu(2*r),1,359,0),_this426.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i829=function i(){_this426["#geometry-preview"].removeEventListener("pointermove",e),_this426["#geometry-preview"].removeEventListener("lostpointercapture",_i829),_this426.Qs.setConfig("bx-crescentsettings:arch",_this426.Ap);});}},{key:"Ml",value:function Ml(t){var _this427=this;var e,_i830,s=wl(this["#geometry-preview-shape"]),n=qt(this["#geometry-preview-shape"]).inverse(),_s$values2=_slicedToArray(s.values,5),o=_s$values2[0],l=_s$values2[1],a=_s$values2[2],h=_s$values2[3],r=_s$values2[4],d=new DOMPoint(o-a,l),c=new DOMPoint(o+a,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_$e47=$e(d,c,e,!1),_$e48=_slicedToArray(_$e47,1),i=_$e48[0];r=(i.x-d.x)/(2*a),r=et(r,0,1,4),_this427.$p=r,_this427.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i830=function i(){_this427["#geometry-preview"].removeEventListener("pointermove",e),_this427["#geometry-preview"].removeEventListener("lostpointercapture",_i830),_this427.Qs.setConfig("bx-crescentsettings:hollow",_this427.$p);});}},{key:"Ep",value:function Ep(){var _this428=this;var t,_e846;this["#arch-box"].addEventListener("change",t=function t(_t1118){_this428.Ap=et(_t1118.target.value,1,359,0),_this428.Mp();}),this["#arch-box"].addEventListener("changeend",_e846=function e(){_this428["#arch-box"].removeEventListener("change",t),_this428["#arch-box"].removeEventListener("changeend",_e846),_this428.Qs.setConfig("bx-crescentsettings:arch",_this428.Ap);});}},{key:"Tp",value:function Tp(){var _this429=this;var t,_e847;this["#hollow-box"].addEventListener("change",t=function t(_t1119){_this429.$p=et(_t1119.target.value/100,0,1,2),_this429.Mp();}),this["#hollow-box"].addEventListener("changeend",_e847=function e(){_this429["#hollow-box"].removeEventListener("change",t),_this429["#hollow-box"].removeEventListener("changeend",_e847),_this429.Qs.setConfig("bx-crescentsettings:hollow",_this429.$p);});}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-crescentsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-crescentsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Ap,n=this.$p;_vl(this["#geometry-preview-shape"],{type:"crescent",values:[t,e,i,s,n]});{var _n359=Ue(90-s/2),_o281=Ve(_n359);this["#arch-grippie"].cx.baseVal.value=t+i*Ou(_o281),this["#arch-grippie"].cy.baseVal.value=e+i*-Eu(_o281);}this["#hollow-grippie"].cx.baseVal.value=t-i+2*i*n,this["#hollow-grippie"].cy.baseVal.value=e;}},{key:"Dp",value:function Dp(){var t=et(this.Ap,1,359,0),e=et(100*this.$p,0,100,0);this["#arch-slider"].value=t,this["#arch-input"].value=t,this["#hollow-slider"].value=e,this["#hollow-input"].value=e;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Tu;}(dh);_defineProperty(Tu,"_shadowTemplate",Qi(_templateObject233()));_defineProperty(Tu,"_shadowStyleSheet",Ji(_templateObject234()));customElements.define("bx-crescentsettings",Tu);var Au=Math.abs;var $u=/*#__PURE__*/function(_dh17){_inherits($u,_dh17);var _super83=_createSuper($u);function $u(){var _this430;_classCallCheck(this,$u);_this430=_super83.call(this),_this430["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this430.vp();}),_this430["#shift-grippie"].addEventListener("pointerdown",function(t){return _this430.zl(t);}),_this430["#corner-grippie"].addEventListener("pointerdown",function(t){return _this430.Ol(t);}),_this430["#shift-box"].addEventListener("changestart",function(t){return _this430.Ip(t);}),_this430["#corner-box"].addEventListener("changestart",function(t){return _this430.Lp(t);}),_this430["#style-picker"].addEventListener("change",function(){return _this430.eo();});return _this430;}_createClass($u,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-trianglesettings:drawingMode","polar"),this.pn=this.Qs.getConfig("bx-trianglesettings:shift",.5),this.Rp=this.Qs.getConfig("bx-trianglesettings:corner",0),this._p=this.Qs.getConfig("bx-trianglesettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"zl",value:function zl(t){var _this431=this;var e,_i831,s=wl(this["#geometry-preview-shape"]),n=qt(this["#geometry-preview-shape"]).inverse(),_s$values3=_slicedToArray(s.values,6),o=_s$values3[0],l=_s$values3[1],a=_s$values3[2],h=_s$values3[3],r=_s$values3[4],d=_s$values3[5],c=new DOMPoint(o,l),p=new DOMPoint(o+a,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_$e49=$e(c,p,e,!1),_$e50=_slicedToArray(_$e49,1),i=_$e50[0];r=(i.x-c.x)/a,r=et(r,0,1,4),_this431.Qs.modKeys.shift&&(r=[0,.5,1].reduce(function(t,e){return Au(e-r)<Au(t-r)?e:t;})),_this431.pn=r,_this431.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i831=function i(){_this431["#geometry-preview"].removeEventListener("pointermove",e),_this431["#geometry-preview"].removeEventListener("lostpointercapture",_i831),_this431.Qs.setConfig("bx-trianglesettings:shift",_this431.pn);});}},{key:"Ol",value:function Ol(t){var _this432=this;var e,_i832,s=wl(this["#geometry-preview-shape"]),n=qt(this["#geometry-preview-shape"]).inverse(),_s$values4=_slicedToArray(s.values,6),o=_s$values4[0],l=_s$values4[1],a=_s$values4[2],h=_s$values4[3],r=_s$values4[4],d=_s$values4[5],c=new DOMPoint(o+a*r,l),p=new DOMPoint(o+a,l+h),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),x=new DOMPoint(u.x,u.y);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(n);var _$e51=$e(p,c,x,!1),_$e52=_slicedToArray(_$e51,1),i=_$e52[0],s=new J(p,i),o=new J(p,c),l=s.length/o.length;_this432.Rp=et(l,0,.5,4),_this432.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i832=function i(){_this432["#geometry-preview"].removeEventListener("pointermove",e),_this432["#geometry-preview"].removeEventListener("lostpointercapture",_i832),_this432.Qs.setConfig("bx-trianglesettings:corner",_this432.Rp);});}},{key:"Ip",value:function Ip(){var _this433=this;var t,_e848;this["#shift-box"].addEventListener("change",t=function t(_t1120){_this433.pn=et((_t1120.target.value+50)/100,0,1,2),_this433.Mp();}),this["#shift-box"].addEventListener("changeend",_e848=function e(){_this433["#shift-box"].removeEventListener("change",t),_this433["#shift-box"].removeEventListener("changeend",_e848),_this433.Qs.setConfig("bx-trianglesettings:shift",_this433.pn);});}},{key:"Lp",value:function Lp(){var _this434=this;var t,_e849;this["#corner-box"].addEventListener("change",t=function t(_t1121){_this434.Rp=et(_t1121.target.value/200,0,1,2),_this434.Mp();}),this["#corner-box"].addEventListener("changeend",_e849=function e(){_this434["#corner-box"].removeEventListener("change",t),_this434["#corner-box"].removeEventListener("changeend",_e849),_this434.Qs.setConfig("bx-trianglesettings:corner",_this434.Rp);});}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-trianglesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-trianglesettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this.pn,n=this.Rp;_vl(this["#geometry-preview-shape"],{type:"triangle",values:[i,5,e,t,s,n]});{var _o282=new DOMPoint(i+e*s,5),_l246=new DOMPoint(i+e,5+t),_a188=Ie(_l246,_o282,n);this["#corner-grippie"].cx.baseVal.value=_a188.x,this["#corner-grippie"].cy.baseVal.value=_a188.y;}{var _t1122=new DOMPoint(i+e*s,5);this["#shift-grippie"].setAttribute("cx",_t1122.x),this["#shift-grippie"].setAttribute("cy",_t1122.y);}}},{key:"Dp",value:function Dp(){var t=et(200*this.Rp,0,100,0),e=et(100*(this.pn-.5),-50,50,0);this["#corner-slider"].value=t,this["#corner-input"].value=t,this["#shift-slider"].value=e,this["#shift-input"].value=e;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return $u;}(dh);_defineProperty($u,"_shadowTemplate",Qi(_templateObject235()));_defineProperty($u,"_shadowStyleSheet",Ji(_templateObject236()));customElements.define("bx-trianglesettings",$u);var Iu=/*#__PURE__*/function(_dh18){_inherits(Iu,_dh18);var _super84=_createSuper(Iu);function Iu(){var _this435;_classCallCheck(this,Iu);_this435=_super84.call(this),_this435["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this435.vp();}),_this435["#corner-grippie"].addEventListener("pointerdown",function(t){return _this435.Ol(t);}),_this435["#arms-box"].addEventListener("changestart",function(t){return _this435.Bp(t);}),_this435["#corner-box"].addEventListener("changestart",function(t){return _this435.Lp(t);}),_this435["#style-picker"].addEventListener("change",function(){return _this435.eo();});return _this435;}_createClass(Iu,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-ngonsettings:drawingMode","polar"),this.Gp=this.Qs.getConfig("bx-ngonsettings:arms",5),this.Rp=this.Qs.getConfig("bx-ngonsettings:corner",0),this._p=this.Qs.getConfig("bx-ngonsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-ngonsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Ol",value:function Ol(t){var _this436=this;var e,_i833,s=wl(this["#geometry-preview-shape"]),n=qt(this["#geometry-preview-shape"]).inverse(),_s$values5=_slicedToArray(s.values,6),o=_s$values5[0],l=_s$values5[1],a=_s$values5[2],h=_s$values5[3],r=_s$values5[4],d=_s$values5[5],c=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),p=new DOMPoint(c.x,c.y),u=$l(0,o,l,a,h,r),x=$l(1,o,l,a,h,r);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);p=e.matrixTransform(n);var _$e53=$e(u,x,p,!1),_$e54=_slicedToArray(_$e53,1),i=_$e54[0],s=new J(u,i),o=new J(u,x),l=s.length/o.length;_this436.Rp=et(l,0,.5,2),_this436.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i833=function i(){_this436["#geometry-preview"].removeEventListener("pointermove",e),_this436["#geometry-preview"].removeEventListener("lostpointercapture",_i833),_this436.Qs.setConfig("bx-ngonsettings:corner",_this436.Rp);});}},{key:"Bp",value:function Bp(){var _this437=this;var t,_e850;this["#arms-box"].addEventListener("change",t=function t(_t1123){_this437.Gp=et(_t1123.target.value,4,Infinity,0),_this437.Mp();}),this["#arms-box"].addEventListener("changeend",_e850=function e(){_this437["#arms-box"].removeEventListener("change",t),_this437["#arms-box"].removeEventListener("changeend",_e850),_this437.Qs.setConfig("bx-ngonsettings:arms",_this437.Gp);});}},{key:"Lp",value:function Lp(){var _this438=this;var t,_e851;this["#corner-box"].addEventListener("change",t=function t(_t1124){_this438.Rp=et(_t1124.target.value/200,0,1,2),_this438.Mp();}),this["#corner-box"].addEventListener("changeend",_e851=function e(){_this438["#corner-box"].removeEventListener("change",t),_this438["#corner-box"].removeEventListener("changeend",_e851),_this438.Qs.setConfig("bx-ngonsettings:corner",_this438.Rp);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-ngonsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i;_vl(this["#geometry-preview-shape"],{type:"n-gon",values:[t,e,i,s,this.Gp,this.Rp]});{var _n360=$l(0,t,e,i,s,this.Gp),_o283=$l(1,t,e,i,s,this.Gp),_l247=Ie(_n360,_o283,this.Rp);this["#corner-grippie"].cx.baseVal.value=_l247.x,this["#corner-grippie"].cy.baseVal.value=_l247.y;}}},{key:"Dp",value:function Dp(){var t=tt(200*this.Rp,0);this["#arms-slider"].value=this.Gp,this["#arms-input"].value=this.Gp,this["#corner-slider"].value=t,this["#corner-input"].value=t;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Iu;}(dh);_defineProperty(Iu,"_shadowTemplate",Qi(_templateObject237()));_defineProperty(Iu,"_shadowStyleSheet",Ji(_templateObject238()));customElements.define("bx-ngonsettings",Iu);var Lu=Math.sin,Ru=Math.cos,Bu=Math.PI;var Gu=/*#__PURE__*/function(_dh19){_inherits(Gu,_dh19);var _super85=_createSuper(Gu);function Gu(){var _this439;_classCallCheck(this,Gu);_this439=_super85.call(this),_this439["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this439.vp();}),_this439["#depth-grippie"].addEventListener("pointerdown",function(t){return _this439.Ll(t);}),_this439["#depth-box"].addEventListener("changestart",function(t){return _this439.Up(t);}),_this439["#arms-box"].addEventListener("changestart",function(t){return _this439.Bp(t);}),_this439["#style-picker"].addEventListener("change",function(){return _this439.eo();});return _this439;}_createClass(Gu,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-starsettings:drawingMode","polar"),this.Fp=this.Qs.getConfig("bx-starsettings:depth",.4),this.Gp=this.Qs.getConfig("bx-starsettings:arms",5),this._p=this.Qs.getConfig("bx-starsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-starsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Ll",value:function Ll(t){var _this440=this;var e,_i834,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values3=_slicedToArray(n.values,6),o=_n$values3[0],l=_n$values3[1],a=_n$values3[2],h=_n$values3[3],r=_n$values3[4],d=_n$values3[5],c=new DOMPoint(o,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=2*Bu*(1/d/2)-Bu/2,n=c,r=new DOMPoint(a*Ru(i)+o,h*Lu(i)+l),_$e55=$e(n,r,e,!1),_$e56=_slicedToArray(_$e55,1),p=_$e56[0],u=new J(n,p).length/new J(n,r).length;_this440.Fp=et(u,0,1,2),_this440.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i834=function i(){_this440["#geometry-preview"].removeEventListener("pointermove",e),_this440["#geometry-preview"].removeEventListener("lostpointercapture",_i834),_this440.Qs.setConfig("bx-starsettings:depth",_this440.Fp);});}},{key:"Up",value:function Up(){var _this441=this;var t,_e852;this["#depth-box"].addEventListener("change",t=function t(_t1125){_this441.Fp=et(_t1125.target.value/100,0,1,2),_this441.Mp();}),this["#depth-box"].addEventListener("changeend",_e852=function e(){_this441["#depth-box"].removeEventListener("change",t),_this441["#depth-box"].removeEventListener("changeend",_e852),_this441.Qs.setConfig("bx-starsettings:depth",_this441.Fp);});}},{key:"Bp",value:function Bp(){var _this442=this;var t,_e853;this["#arms-box"].addEventListener("change",t=function t(_t1126){_this442.Gp=et(_t1126.target.value,4,Infinity,0),_this442.Mp();}),this["#arms-box"].addEventListener("changeend",_e853=function e(){_this442["#arms-box"].removeEventListener("change",t),_this442["#arms-box"].removeEventListener("changeend",_e853),_this442.Qs.setConfig("bx-starsettings:arms",_this442.Gp);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-starsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i,n=Il(1,t,e,i,s,this.Fp,this.Gp);_vl(this["#geometry-preview-shape"],{type:"star",values:[t,e,i,s,this.Fp,this.Gp]}),this["#depth-grippie"].cx.baseVal.value=n.x,this["#depth-grippie"].cy.baseVal.value=n.y;}},{key:"Dp",value:function Dp(){var t=tt(100*this.Fp,0);this["#depth-slider"].value=t,this["#depth-input"].value=t,this["#arms-slider"].value=this.Gp,this["#arms-input"].value=this.Gp;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Gu;}(dh);_defineProperty(Gu,"_shadowTemplate",Qi(_templateObject239()));_defineProperty(Gu,"_shadowStyleSheet",Ji(_templateObject240()));customElements.define("bx-starsettings",Gu);var Uu=Math.sin,Fu=Math.cos,Nu=Math.tan,Vu=Number.MAX_SAFE_INTEGER;var ju=/*#__PURE__*/function(_dh20){_inherits(ju,_dh20);var _super86=_createSuper(ju);function ju(){var _this443;_classCallCheck(this,ju);_this443=_super86.call(this),_this443["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this443.vp();}),_this443["#r1-grippie"].addEventListener("pointerdown",function(t){return _this443.Gl(t);}),_this443["#r2-grippie"].addEventListener("pointerdown",function(t){return _this443.Ul(t);}),_this443["#r3-grippie"].addEventListener("pointerdown",function(t){return _this443.Fl(t);}),_this443["#splay-grippie"].addEventListener("pointerdown",function(t){return _this443.Vl(t);}),_this443["#r1-box"].addEventListener("changestart",function(t){return _this443.zp(t);}),_this443["#r2-box"].addEventListener("changestart",function(t){return _this443.Np(t);}),_this443["#r3-box"].addEventListener("changestart",function(t){return _this443.Vp(t);}),_this443["#splay-box"].addEventListener("changestart",function(t){return _this443.jp(t);}),_this443["#teeth-box"].addEventListener("changestart",function(t){return _this443.Hp(t);}),_this443["#style-picker"].addEventListener("change",function(){return _this443.eo();});return _this443;}_createClass(ju,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-cogsettings:drawingMode","polar"),this.Op=this.Qs.getConfig("bx-cogsettings:r1",.3),this.Wp=this.Qs.getConfig("bx-cogsettings:r2",.65),this.Yp=this.Qs.getConfig("bx-cogsettings:r3",1),this.qp=this.Qs.getConfig("bx-cogsettings:splay",.38),this.Xp=this.Qs.getConfig("bx-cogsettings:teeth",8),this._p=this.Qs.getConfig("bx-cogsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-cogsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Gl",value:function Gl(t){var _this444=this;var e,_i835,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values4=_slicedToArray(n.values,7),o=_n$values4[0],l=_n$values4[1],a=_n$values4[2],h=_n$values4[3],r=_n$values4[4],d=_n$values4[5],c=_n$values4[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Vu).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_$e57=$e(b,m,n,!1),_$e58=_slicedToArray(_$e57,1),o=_$e58[0],l=Te(x,o),a=et(l/p,0,1,2);_this444.Op=a,_this444.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i835=function i(){_this444["#geometry-preview"].removeEventListener("pointermove",e),_this444["#geometry-preview"].removeEventListener("lostpointercapture",_i835),_this444.Qs.setConfig("bx-cogsettings:r1",_this444.Op);});}},{key:"Ul",value:function Ul(t){var _this445=this;var e,_i836,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values5=_slicedToArray(n.values,7),o=_n$values5[0],l=_n$values5[1],a=_n$values5[2],h=_n$values5[3],r=_n$values5[4],d=_n$values5[5],c=_n$values5[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Vu).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_$e59=$e(b,m,n,!1),_$e60=_slicedToArray(_$e59,1),o=_$e60[0],l=Te(x,o),a=et(l/p,0,1,2);_this445.Wp=a,_this445.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i836=function i(){_this445["#geometry-preview"].removeEventListener("pointermove",e),_this445["#geometry-preview"].removeEventListener("lostpointercapture",_i836),_this445.Qs.setConfig("bx-cogsettings:r2",_this445.Wp);});}},{key:"Fl",value:function Fl(t){var _this446=this;var e,_i837,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values6=_slicedToArray(n.values,5),o=_n$values6[0],l=_n$values6[1],a=_n$values6[2],h=_n$values6[3],r=_n$values6[4],d=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,c=new DOMPoint(o,l),p=c,u=new DOMPoint(o,l-Vu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_$e61=$e(p,u,n,!1),_$e62=_slicedToArray(_$e61,1),o=_$e62[0],l=Te(c,o),a=et(l/d,0,1,2);_this446.Yp=a,_this446.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i837=function i(){_this446["#geometry-preview"].removeEventListener("pointermove",e),_this446["#geometry-preview"].removeEventListener("lostpointercapture",_i837),_this446.Qs.setConfig("bx-cogsettings:r3",_this446.Yp);});}},{key:"Vl",value:function Vl(t){var _this447=this;var e,_i838,_wl$values43=_slicedToArray(wl(this["#geometry-preview-shape"]).values,7),s=_wl$values43[0],n=_wl$values43[1],o=_wl$values43[2],l=_wl$values43[3],a=_wl$values43[4],h=_wl$values43[5],r=_wl$values43[6],d=qt(this["#geometry-preview-shape"]).inverse(),c=function c(t){var e=360/r,i=e/4,o=Nu(Ve(i-t*i))*a,l=Ve(e-90);return new DOMPoint(s+a*Fu(l)-Uu(l)*o,n+a*Uu(l)+Fu(l)*o);},p=c(0),u=c(1);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,s=new DOMPoint(e,i).matrixTransform(d),_$e63=$e(p,u,s,!1),_$e64=_slicedToArray(_$e63,1),n=_$e64[0],o=Te(p,n)/Te(p,u);_this447.qp=et(o,0,1,3),_this447.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i838=function i(){_this447["#geometry-preview"].removeEventListener("pointermove",e),_this447["#geometry-preview"].removeEventListener("lostpointercapture",_i838),_this447.Qs.setConfig("bx-cogsettings:splay",_this447.qp);});}},{key:"zp",value:function zp(){var _this448=this;var t,_e854;this["#r1-box"].addEventListener("change",t=function t(_t1127){_this448.Op=et(_t1127.target.value/100,0,1,2),_this448.Mp();}),this["#r1-box"].addEventListener("changeend",_e854=function e(){_this448["#r1-box"].removeEventListener("change",t),_this448["#r1-box"].removeEventListener("changeend",_e854),_this448.Qs.setConfig("bx-cogsettings:r1",_this448.Op);});}},{key:"Np",value:function Np(){var _this449=this;var t,_e855;this["#r2-box"].addEventListener("change",t=function t(_t1128){_this449.Wp=et(_t1128.target.value/100,0,1,2),_this449.Mp();}),this["#r2-box"].addEventListener("changeend",_e855=function e(){_this449["#r2-box"].removeEventListener("change",t),_this449["#r2-box"].removeEventListener("changeend",_e855),_this449.Qs.setConfig("bx-cogsettings:r2",_this449.Wp);});}},{key:"Vp",value:function Vp(){var _this450=this;var t,_e856;this["#r3-box"].addEventListener("change",t=function t(_t1129){_this450.Yp=et(_t1129.target.value/100,0,1,2),_this450.Mp();}),this["#r3-box"].addEventListener("changeend",_e856=function e(){_this450["#r3-box"].removeEventListener("change",t),_this450["#r3-box"].removeEventListener("changeend",_e856),_this450.Qs.setConfig("bx-cogsettings:r3",_this450.Yp);});}},{key:"jp",value:function jp(){var _this451=this;var t,_e857;this["#splay-box"].addEventListener("change",t=function t(_t1130){_this451.qp=et(_t1130.target.value/100,0,1,3),_this451.Mp();}),this["#splay-box"].addEventListener("changeend",_e857=function e(){_this451["#splay-box"].removeEventListener("change",t),_this451["#splay-box"].removeEventListener("changeend",_e857),_this451.Qs.setConfig("bx-cogsettings:splay",_this451.qp);});}},{key:"Hp",value:function Hp(){var _this452=this;var t,_e858;this["#teeth-box"].addEventListener("change",t=function t(_t1131){_this452.Xp=et(_t1131.target.value,4,Infinity,0),_this452.Mp();}),this["#teeth-box"].addEventListener("changeend",_e858=function e(){_this452["#teeth-box"].removeEventListener("change",t),_this452["#teeth-box"].removeEventListener("changeend",_e858),_this452.Qs.setConfig("bx-cogsettings:teeth",_this452.Xp);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-cogsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,e=this["#geometry-preview"].viewBox.baseVal.width/2,i=this["#geometry-preview"].viewBox.baseVal.height/2,s=this.Op*t,n=this.Wp*t,o=this.Yp*t;_vl(this["#geometry-preview-shape"],{type:"cog",values:[e,i,s,n,o,this.qp,this.Xp]});{var _t1132=360/this.Xp,_s435=_t1132/4,_n361=Nu(Ve(_s435-this.qp*_s435))*o,_l248=Ve(_t1132-90);this["#splay-grippie"].cx.baseVal.value=e+o*Fu(_l248)-Uu(_l248)*_n361,this["#splay-grippie"].cy.baseVal.value=i+o*Uu(_l248)+Fu(_l248)*_n361;}{var _t1133=new DOMMatrix().translate(e,i).rotate(360/this.Xp/2).translate(-e,-i),_n362=new DOMPoint(e,i-s).matrixTransform(_t1133);this["#r1-grippie"].cx.baseVal.value=_n362.x,this["#r1-grippie"].cy.baseVal.value=_n362.y;}{var _t1134=new DOMMatrix().translate(e,i).rotate(360/this.Xp/2).translate(-e,-i),_s436=new DOMPoint(e,i-n).matrixTransform(_t1134);this["#r2-grippie"].cx.baseVal.value=_s436.x,this["#r2-grippie"].cy.baseVal.value=_s436.y;}{var _t1135=new DOMPoint(e,i-o);this["#r3-grippie"].cx.baseVal.value=_t1135.x,this["#r3-grippie"].cy.baseVal.value=_t1135.y;}}},{key:"Dp",value:function Dp(){var t=tt(100*this.Op,0),e=tt(100*this.Wp,0),i=tt(100*this.Yp,0),s=tt(100*this.qp,0);this["#r1-slider"].value=t,this["#r1-input"].value=t,this["#r2-slider"].value=e,this["#r2-input"].value=e,this["#r3-slider"].value=i,this["#r3-input"].value=i,this["#splay-slider"].value=s,this["#splay-input"].value=s,this["#teeth-slider"].value=this.Xp,this["#teeth-input"].value=this.Xp;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return ju;}(dh);_defineProperty(ju,"_shadowTemplate",Qi(_templateObject241()));_defineProperty(ju,"_shadowStyleSheet",Ji(_templateObject242()));customElements.define("bx-cogsettings",ju);var Hu=/*#__PURE__*/function(_dh21){_inherits(Hu,_dh21);var _super87=_createSuper(Hu);function Hu(){var _this453;_classCallCheck(this,Hu);_this453=_super87.call(this),_this453["#base-thickness-grippie"].addEventListener("pointerdown",function(t){return _this453.ql(t);}),_this453["#head-size-grippie"].addEventListener("pointerdown",function(t){return _this453.Xl(t);}),_this453["#head-inset-grippie"].addEventListener("pointerdown",function(t){return _this453.Zl(t);}),_this453["#base-thickness-box"].addEventListener("changestart",function(){return _this453.Zp();}),_this453["#head-thickness-box"].addEventListener("changestart",function(){return _this453.Kp();}),_this453["#head-length-box"].addEventListener("changestart",function(){return _this453.Qp();}),_this453["#head-inset-box"].addEventListener("changestart",function(){return _this453.Jp();}),_this453["#style-picker"].addEventListener("change",function(){return _this453.eo();});return _this453;}_createClass(Hu,[{key:"tn",value:function tn(){this.tu=this.Qs.getConfig("bx-arrowsettings:baseThickness",10),this.eu=this.Qs.getConfig("bx-arrowsettings:headThickness",40),this.iu=this.Qs.getConfig("bx-arrowsettings:headLength",40),this.su=this.Qs.getConfig("bx-arrowsettings:headInset",0),this._p=this.Qs.getConfig("bx-arrowsettings:style"),this.Mp(),this.Pp();}},{key:"ql",value:function ql(t){var _this454=this;if(1!==t.buttons)return;var e,_i839,s=wl(this["#geometry-preview-shape"]),_s$values6=_slicedToArray(s.values,7),n=_s$values6[0],o=_s$values6[1],l=_s$values6[2],a=_s$values6[3],h=_s$values6[4],r=_s$values6[5],d=_s$values6[6],c=h,_Ll4=Ll.apply(void 0,_toConsumableArray(s.values)),p=_Ll4.maxBaseThickness;p=tt(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e859){var i=_e859.clientY-t.clientY;h=c-2*i,h=et(h,1,p,0),_this454.tu=h,_this454.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i839=function i(){_this454["#geometry-preview"].removeEventListener("pointermove",e),_this454["#geometry-preview"].removeEventListener("lostpointercapture",_i839),_this454.Qs.setConfig("bx-arrowsettings:baseThickness",h);});}},{key:"Xl",value:function Xl(t){var _this455=this;if(1!==t.buttons)return;var e,_i840,s=wl(this["#geometry-preview-shape"]),_s$values7=_slicedToArray(s.values,7),n=_s$values7[0],o=_s$values7[1],l=_s$values7[2],a=_s$values7[3],h=_s$values7[4],r=_s$values7[5],d=_s$values7[6],c=h,p=a,u=r;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e860){var i=_e860.clientX-t.clientX,s=_e860.clientY-t.clientY;a=p+2*s,a=et(a,h,60,0),r=u-i,r=et(r,1,l,0);{var _Ll5=Ll(n,o,l,a,h,r,d),_t1136=_Ll5.maxBaseThickness;_t1136=tt(_t1136,0),(h>_t1136||h<c)&&(h=_t1136);}_this455.iu=r,_this455.eu=a,_this455.tu=h,_this455.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i840=function i(){_this455["#geometry-preview"].removeEventListener("pointermove",e),_this455["#geometry-preview"].removeEventListener("lostpointercapture",_i840),_this455.Qs.setConfig("bx-arrowsettings:baseThickness",_this455.tu),_this455.Qs.setConfig("bx-arrowsettings:headThickness",_this455.eu),_this455.Qs.setConfig("bx-arrowsettings:headLength",_this455.iu);});}},{key:"Zl",value:function Zl(t){var _this456=this;if(1!==t.buttons)return;var e,_i841,s=wl(this["#geometry-preview-shape"]),_s$values8=_slicedToArray(s.values,7),n=_s$values8[0],o=_s$values8[1],l=_s$values8[2],a=_s$values8[3],h=_s$values8[4],r=_s$values8[5],d=_s$values8[6],c=d,_Ll6=Ll.apply(void 0,_toConsumableArray(s.values)),p=_Ll6.maxHeadInset;p=tt(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e861){var i=_e861.clientX-t.clientX;d=c+i,d=et(d,0,p,0),_this456.su=d,_this456.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i841=function i(){_this456["#geometry-preview"].removeEventListener("pointermove",e),_this456["#geometry-preview"].removeEventListener("lostpointercapture",_i841),_this456.Qs.setConfig("bx-arrowsettings:headInset",d);});}},{key:"Zp",value:function Zp(){var _this457=this;var t,_e862,i=wl(this["#geometry-preview-shape"]),_Ll7=Ll.apply(void 0,_toConsumableArray(i.values)),s=_Ll7.maxBaseThickness;s=tt(s,0),this["#base-thickness-box"].addEventListener("change",t=function t(_t1137){_this457.tu=et(_t1137.target.value,1,s,0),_this457.Mp();}),this["#base-thickness-box"].addEventListener("changeend",_e862=function e(){_this457["#base-thickness-box"].removeEventListener("change",t),_this457["#base-thickness-box"].removeEventListener("changeend",_e862),_this457.Qs.setConfig("bx-arrowsettings:baseThickness",_this457.tu);});}},{key:"Kp",value:function Kp(){var _this458=this;var t,_e863,i=wl(this["#geometry-preview-shape"]),_Ll8=Ll.apply(void 0,_toConsumableArray(i.values)),s=_Ll8.minHeadThickness;s=tt(s,0),this["#head-thickness-box"].addEventListener("change",t=function t(_t1138){_this458.eu=et(_t1138.target.value,s,60,0),_this458.Mp();}),this["#head-thickness-box"].addEventListener("changeend",_e863=function e(){_this458["#head-thickness-box"].removeEventListener("change",t),_this458["#head-thickness-box"].removeEventListener("changeend",_e863),_this458.Qs.setConfig("bx-arrowsettings:headThickness",_this458.eu);});}},{key:"Qp",value:function Qp(){var _this459=this;var t,_e864,i=wl(this["#geometry-preview-shape"]),_Ll9=Ll.apply(void 0,_toConsumableArray(i.values)),s=_Ll9.minHeadLength;s=tt(s,0),this["#head-length-box"].addEventListener("change",t=function t(_t1139){_this459.iu=et(_t1139.target.value,s,136,0),_this459.Mp();}),this["#head-length-box"].addEventListener("changeend",_e864=function e(){_this459["#head-length-box"].removeEventListener("change",t),_this459["#head-length-box"].removeEventListener("changeend",_e864),_this459.Qs.setConfig("bx-arrowsettings:headLength",_this459.iu);});}},{key:"Jp",value:function Jp(){var _this460=this;var t,_e865,i=wl(this["#geometry-preview-shape"]),_Ll10=Ll.apply(void 0,_toConsumableArray(i.values)),s=_Ll10.maxHeadInset;s=tt(s,0),this["#head-inset-box"].addEventListener("change",t=function t(_t1140){_this460.su=et(_t1140.target.value,0,s,0),_this460.Mp();}),this["#head-inset-box"].addEventListener("changeend",_e865=function e(){_this460["#head-inset-box"].removeEventListener("change",t),_this460["#head-inset-box"].removeEventListener("changeend",_e865),_this460.Qs.setConfig("bx-arrowsettings:headInset",_this460.su);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-arrowsettings:style",this["#style-picker"].value);}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width-10,e=this.eu,i=this["#geometry-preview"].viewBox.baseVal.height/2-e/2,s=this.su;s>this.iu&&(s=this.iu),_vl(this["#geometry-preview-shape"],{type:"arrow",values:[5,i,t,e,this.tu,this.iu,s]}),this["#base-thickness-grippie"].cx.baseVal.value=5+(t-this.iu+s)/2,this["#base-thickness-grippie"].cy.baseVal.value=i+e/2-this.tu/2,this["#head-size-grippie"].cx.baseVal.value=t-this.iu+5,this["#head-size-grippie"].cy.baseVal.value=i+e,this["#head-inset-grippie"].cx.baseVal.value=5+t-this.iu+s,this["#head-inset-grippie"].cy.baseVal.value=i+e/2-this.tu/2;}},{key:"Dp",value:function Dp(){this["#base-thickness-input"].value=this.tu,this["#base-thickness-slider"].value=this.tu,this["#head-thickness-input"].value=this.eu,this["#head-thickness-slider"].value=this.eu,this["#head-length-input"].value=this.iu,this["#head-length-slider"].value=this.iu,this["#head-inset-input"].value=this.su,this["#head-inset-slider"].value=this.su;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Hu;}(dh);_defineProperty(Hu,"_shadowTemplate",Qi(_templateObject243()));_defineProperty(Hu,"_shadowStyleSheet",Ji(_templateObject244()));customElements.define("bx-arrowsettings",Hu);var Wu=Math.min,Yu=Math.abs;var qu=/*#__PURE__*/function(_dh22){_inherits(qu,_dh22);var _super88=_createSuper(qu);function qu(){var _this461;_classCallCheck(this,qu);_this461=_super88.call(this),_this461["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this461.vp();}),_this461["#thickness-grippie"].addEventListener("pointerdown",function(t){return _this461.nu(t);}),_this461["#shift-grippie"].addEventListener("pointerdown",function(t){return _this461.zl(t);}),_this461["#thickness-box"].addEventListener("changestart",function(){return _this461.ou();}),_this461["#shift-box"].addEventListener("changestart",function(){return _this461.Ip();}),_this461["#style-picker"].addEventListener("change",function(){return _this461.eo();});return _this461;}_createClass(qu,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-crosssettings:drawingMode","polar"),this.lu=this.Qs.getConfig("bx-crosssettings:thickness",.2),this.pn=this.Qs.getConfig("bx-crosssettings:shift",.5),this._p=this.Qs.getConfig("bx-crosssettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-crosssettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"nu",value:function nu(t){var _this462=this;if(1!==t.buttons)return;var e,_i842,s=wl(this["#geometry-preview-shape"]),_s$values9=_slicedToArray(s.values,5),n=_s$values9[0],o=_s$values9[1],l=_s$values9[2],a=_s$values9[3],h=_s$values9[4],r=this["#geometry-preview"].getBoundingClientRect(),d=new DOMPoint(r.x+r.width/2,r.y+r.height*this.pn),c=tt(Rl.apply(void 0,_toConsumableArray(s.values)).maxHorizontalArmThickness/a,2);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(e,d);h=Wu(i.x,i.y),h=h/l*2,h=et(h,.01,c,2),_this462.lu=h,_this462.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i842=function i(){_this462["#geometry-preview"].removeEventListener("pointermove",e),_this462["#geometry-preview"].removeEventListener("lostpointercapture",_i842),_this462.Qs.setConfig("bx-crosssettings:thickness",h);});}},{key:"zl",value:function zl(t){var _this463=this;if(1!==t.buttons)return;var e,_i843,s=wl(this["#geometry-preview-shape"]),_s$values10=_slicedToArray(s.values,7),n=_s$values10[0],o=_s$values10[1],l=_s$values10[2],a=_s$values10[3],h=_s$values10[4],r=_s$values10[5],d=_s$values10[6],c=this["#geometry-preview"].getBoundingClientRect(),p=new DOMPoint(c.x+c.width/2,c.y+c.height/2),_Rl3=Rl.apply(void 0,_toConsumableArray(s.values)),u=_Rl3.minShift,x=_Rl3.maxShift;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new J(p,e);d=i.y/a+.5,d=et(d,u,x,2),_this463.pn=d,_this463.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i843=function i(){_this463["#geometry-preview"].removeEventListener("pointermove",e),_this463["#geometry-preview"].removeEventListener("lostpointercapture",_i843),_this463.Qs.setConfig("bx-crosssettings:shift",d);});}},{key:"ou",value:function ou(){var _this464=this;var t,_e866,i=wl(this["#geometry-preview-shape"]),_i$values=_slicedToArray(i.values,4),s=_i$values[0],n=_i$values[1],o=_i$values[2],l=_i$values[3],a=Rl.apply(void 0,_toConsumableArray(i.values)).maxHorizontalArmThickness;a=tt(a/l,2),this["#thickness-box"].addEventListener("change",t=function t(_t1141){var e=_t1141.target.value/100;_this464.lu=et(e,.01,a,2),_this464.Mp();}),this["#thickness-box"].addEventListener("changeend",_e866=function e(){_this464["#thickness-box"].removeEventListener("change",t),_this464["#thickness-box"].removeEventListener("changeend",_e866),_this464.Qs.setConfig("bx-crosssettings:thickness",_this464.lu);});}},{key:"Ip",value:function Ip(){var _this465=this;var t,_e867,i=wl(this["#geometry-preview-shape"]),_i$values2=_slicedToArray(i.values,4),s=_i$values2[0],n=_i$values2[1],o=_i$values2[2],l=_i$values2[3],_Rl4=Rl.apply(void 0,_toConsumableArray(i.values)),a=_Rl4.minShift,h=_Rl4.maxShift;this["#shift-box"].addEventListener("change",t=function t(_t1142){var e=(_t1142.target.value+50)/100;_this465.pn=et(e,a,h,2),_this465.Mp();}),this["#shift-box"].addEventListener("changeend",_e867=function e(){_this465["#shift-box"].removeEventListener("change",t),_this465["#shift-box"].removeEventListener("changeend",_e867),_this465.Qs.setConfig("bx-crosssettings:shift",_this465.pn);});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-crosssettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.Dp();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this["#geometry-preview"].viewBox.baseVal.height/2-t/2;_vl(this["#geometry-preview-shape"],{type:"cross",values:[i,s,e,t,this.lu*e,this.lu*t,this.pn]}),this["#thickness-grippie"].cx.baseVal.value=i+e/2-this.lu*e/2,this["#thickness-grippie"].cy.baseVal.value=s+t*this.pn-this.lu*t/2,this["#shift-grippie"].cx.baseVal.value=i+e/2,this["#shift-grippie"].cy.baseVal.value=s+t*this.pn;}},{key:"Dp",value:function Dp(){var t=wl(this["#geometry-preview-shape"]),_t$values16=_slicedToArray(t.values,4),e=_t$values16[0],i=_t$values16[1],s=_t$values16[2],n=_t$values16[3],_Rl5=Rl.apply(void 0,_toConsumableArray(t.values)),o=_Rl5.minShift,l=_Rl5.maxShift,a=_Rl5.maxHorizontalArmThickness,h=tt(a/n*100,0),r=tt(100*this.lu,0),d=tt(100*this.pn-50,0),c=tt(100*o-50,0),p=tt(100*l-50,0);this["#thickness-input"].max=h,this["#thickness-input"].value=r,this["#thickness-slider"].max=h,this["#thickness-slider"].value=r,this["#shift-input"].min=c,this["#shift-input"].max=p,this["#shift-input"].value=d,this["#shift-slider"].min=c,this["#shift-slider"].max=p,this["#shift-slider"].value=d;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return qu;}(dh);_defineProperty(qu,"_shadowTemplate",Qi(_templateObject245()));_defineProperty(qu,"_shadowStyleSheet",Ji(_templateObject246()));customElements.define("bx-crosssettings",qu);var Xu=/*#__PURE__*/function(_dh23){_inherits(Xu,_dh23);var _super89=_createSuper(Xu);function Xu(){var _this466;_classCallCheck(this,Xu);_this466=_super89.call(this),_this466["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this466.vp();}),_this466["#start-angle-grippie"].addEventListener("pointerdown",function(t){return _this466.ea(t);}),_this466["#end-angle-grippie"].addEventListener("pointerdown",function(t){return _this466.ia(t);}),_this466["#r1-box"].addEventListener("changestart",function(){return _this466.zp();}),_this466["#start-angle-input"].addEventListener("changestart",function(){return _this466.au();}),_this466["#end-angle-input"].addEventListener("changestart",function(){return _this466.hu();}),_this466["#style-picker"].addEventListener("change",function(){return _this466.eo();});return _this466;}_createClass(Xu,[{key:"tn",value:function tn(){this.kp=this.Qs.getConfig("bx-spiralsettings:drawingMode","polar"),this.Op=this.Qs.getConfig("bx-spiralsettings:r1",0),this.ru=this.Qs.getConfig("bx-spiralsettings:startAngle",0),this.du=this.Qs.getConfig("bx-spiralsettings:endAngle",1080),this._p=this.Qs.getConfig("bx-spiralsettings:style"),this.Cp(),this.Mp(),this.Pp();}},{key:"vp",value:function vp(){this.Qs.setConfig("bx-spiralsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"ea",value:function ea(t){var _this467=this;var e,_i844,s=qt(this["#geometry-preview-shape"]).inverse(),n=wl(this["#geometry-preview-shape"]),_n$values7=_slicedToArray(n.values,6),o=_n$values7[0],l=_n$values7[1],a=_n$values7[2],h=_n$values7[3],r=_n$values7[4],d=_n$values7[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=Ge(c,p,e);p=e,r+=i,_this467.ru=et(r,0,_this467.du,0),_this467.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i844=function i(){_this467["#geometry-preview"].removeEventListener("pointermove",e),_this467["#geometry-preview"].removeEventListener("lostpointercapture",_i844),_this467.Qs.setConfig("bx-spiralsettings:startAngle",_this467.ru);});}},{key:"ia",value:function ia(t){var _this468=this;var e,_i845,s=wl(this["#geometry-preview-shape"]),n=qt(this["#geometry-preview-shape"]).inverse(),_s$values11=_slicedToArray(s.values,6),o=_s$values11[0],l=_s$values11[1],a=_s$values11[2],h=_s$values11[3],r=_s$values11[4],d=_s$values11[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(n);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Ge(c,p,e);p=e,d+=i,_this468.du=et(d,_this468.ru,Infinity,0),_this468.Mp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i845=function i(){_this468["#geometry-preview"].removeEventListener("pointermove",e),_this468["#geometry-preview"].removeEventListener("lostpointercapture",_i845),_this468.Qs.setConfig("bx-spiralsettings:endAngle",_this468.du);});}},{key:"zp",value:function zp(){var _this469=this;var t,_e868;this["#r1-box"].addEventListener("change",t=function t(_t1143){_this469.Op=et(_t1143.target.value/100,0,1,2),_this469.so(),_this469.cu();}),this["#r1-box"].addEventListener("changeend",_e868=function e(){_this469["#r1-box"].removeEventListener("change",t),_this469["#r1-box"].removeEventListener("changeend",_e868),_this469.Qs.setConfig("bx-spiralsettings:r1",_this469.Op);});}},{key:"au",value:function au(){var _this470=this;var t,_e869;this["#start-angle-input"].addEventListener("change",t=function t(_t1144){_this470.ru=et(_t1144.target.value,0,_this470.du,2),_this470.so();}),this["#start-angle-input"].addEventListener("changeend",_e869=function e(){_this470["#start-angle-input"].removeEventListener("change",t),_this470["#start-angle-input"].removeEventListener("changeend",_e869),_this470.Qs.setConfig("bx-spiralsettings:startAngle",_this470.ru),_this470.pu();});}},{key:"hu",value:function hu(){var _this471=this;var t,_e870;this["#end-angle-input"].addEventListener("change",t=function t(_t1145){_this471.du=et(_t1145.target.value,_this471.ru,Infinity,2),_this471.so();}),this["#end-angle-input"].addEventListener("changeend",_e870=function e(){_this471["#end-angle-input"].removeEventListener("change",t),_this471["#end-angle-input"].removeEventListener("changeend",_e870),_this471.Qs.setConfig("bx-spiralsettings:endAngle",_this471.du),_this471.pu();});}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-spiralsettings:style",this["#style-picker"].value);}},{key:"Cp",value:function Cp(){this["#drawing-mode-buttons"].value=this.kp;}},{key:"Mp",value:function Mp(){this.so(),this.cu(),this.pu();}},{key:"so",value:function so(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Op*i;_vl(this["#geometry-preview-shape"],{type:"spiral",values:[t,e,s,i,this.ru,this.du]});{var _Bl5=Bl(t,e,s,i,this.ru,this.du),_Bl6=_slicedToArray(_Bl5,2),_n363=_Bl6[0],_o284=_Bl6[1];this["#start-angle-grippie"].cx.baseVal.value=_n363.x,this["#start-angle-grippie"].cy.baseVal.value=_n363.y,this["#end-angle-grippie"].cx.baseVal.value=_o284.x,this["#end-angle-grippie"].cy.baseVal.value=_o284.y;}}},{key:"cu",value:function cu(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Op,et(100*this.Op,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"pu",value:function pu(){this["#start-angle-input"].value=this.ru,this["#start-angle-input"].max=this.du,this["#end-angle-input"].value=this.du,this["#end-angle-input"].min=this.ru;}},{key:"Pp",value:function Pp(){this["#style-picker"].value=this._p;}}]);return Xu;}(dh);_defineProperty(Xu,"_shadowTemplate",Qi(_templateObject247()));_defineProperty(Xu,"_shadowStyleSheet",Ji(_templateObject248()));customElements.define("bx-spiralsettings",Xu);var Zu=/*#__PURE__*/function(_dh24){_inherits(Zu,_dh24);var _super90=_createSuper(Zu);function Zu(){var _this472;_classCallCheck(this,Zu);_this472=_super90.call(this),_this472["#style-picker"].addEventListener("change",function(){return _this472.eo();});return _this472;}_createClass(Zu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-linesettings:style");}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-linesettings:style",this["#style-picker"].value);}}]);return Zu;}(dh);_defineProperty(Zu,"_shadowTemplate",Qi(_templateObject249()));customElements.define("bx-linesettings",Zu);var Ku=/*#__PURE__*/function(_dh25){_inherits(Ku,_dh25);var _super91=_createSuper(Ku);function Ku(){var _this473;_classCallCheck(this,Ku);_this473=_super91.call(this),_this473["#style-picker"].addEventListener("change",function(){return _this473.eo();});return _this473;}_createClass(Ku,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polylinesettings:style");}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-polylinesettings:style",this["#style-picker"].value);}}]);return Ku;}(dh);_defineProperty(Ku,"_shadowTemplate",Qi(_templateObject250()));customElements.define("bx-polylinesettings",Ku);var Qu=/*#__PURE__*/function(_dh26){_inherits(Qu,_dh26);var _super92=_createSuper(Qu);function Qu(){var _this474;_classCallCheck(this,Qu);_this474=_super92.call(this),_this474["#style-picker"].addEventListener("change",function(){return _this474.eo();});return _this474;}_createClass(Qu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polygonsettings:style");}},{key:"eo",value:function eo(){this.Qs.setConfig("bx-polygonsettings:style",this["#style-picker"].value);}}]);return Qu;}(dh);_defineProperty(Qu,"_shadowTemplate",Qi(_templateObject251()));customElements.define("bx-polygonsettings",Qu);var Ju=/*#__PURE__*/function(_HTMLElement64){_inherits(Ju,_HTMLElement64);var _super93=_createSuper(Ju);_createClass(Ju,[{key:"value",get:function get(){var t=this["#buttons"].querySelector("x-button[toggled]");return t?t.getAttribute("value"):null;},set:function set(t){var e=this["#popovers"].querySelector("x-popover[opened]");if(e){var _t1146=e.id.replace("-popover","-button"),_i846=this["#buttons"].querySelector("x-button[id=\"".concat(_t1146,"\"]"));e.close(),_i846.removeAttribute("expanded");}var _iterator729=_createForOfIteratorHelper(this["#buttons"].children),_step729;try{for(_iterator729.s();!(_step729=_iterator729.n()).done;){var _e871=_step729.value;_e871.getAttribute("value")===t?_e871.setAttribute("toggled",""):_e871.removeAttribute("toggled");}}catch(err){_iterator729.e(err);}finally{_iterator729.f();}}}]);function Ju(){var _this475;_classCallCheck(this,Ju);_this475=_super93.call(this),_this475.uu=!0,_this475.xu=null,_this475._shadowRoot=_this475.attachShadow({mode:"closed"}),_this475._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Ju._shadowStyleSheet],_this475._shadowRoot.append(document.importNode(Ju._shadowTemplate.content,!0));var _iterator730=_createForOfIteratorHelper(_this475._shadowRoot.querySelectorAll("[id]")),_step730;try{for(_iterator730.s();!(_step730=_iterator730.n()).done;){var _t1147=_step730.value;_this475["#"+_t1147.id]=_t1147;}}catch(err){_iterator730.e(err);}finally{_iterator730.f();}_this475["#buttons"].addEventListener("toggle",function(t){return _this475.bu(t);}),_this475["#buttons"].addEventListener("pointerdown",function(t){return _this475.mu(t);}),_this475["#buttons"].addEventListener("pointerover",function(t){return _this475.gu(t);}),_this475["#buttons"].addEventListener("pointerout",function(t){return _this475.fu(t);});return _this475;}_createClass(Ju,[{key:"connectedCallback",value:function connectedCallback(){var _this476=this;this.Qs=Gi(this,"#app"),this.uu=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0),this.Qs.addEventListener("configchange",this.nn=function(t){return _this476.ln(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("configchange",this.nn);}},{key:"ln",value:function ln(t){var _t$detail7=t.detail,e=_t$detail7.key,i=_t$detail7.value;"bx-uisettings:showDockTooltips"===e&&(this.uu=null===i||i);}},{key:"bu",value:function bu(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"mu",value:function mu(t){var e=t.target.closest("x-button");if(e&&e.toggled){var _t1148=e.id.replace("button","popover"),_i847=this["#popovers"].querySelector("x-popover[id=\"".concat(_t1148,"\"]"));if(_i847){var _t1149=_i847.firstElementChild;_i847.opened?(_i847.close(),_t1149.enabled=!1,e.removeAttribute("expanded")):(_t1149.enabled=!0,_i847.open(e,3),e.setAttribute("expanded","")),this.Jc();}}}},{key:"gu",value:function(){var _gu=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee120(t){var e;return regeneratorRuntime.wrap(function _callee120$(_context121){while(1){switch(_context121.prev=_context121.next){case 0:e=t.target.closest("x-button");_context121.t0=e!==this.xu;if(!_context121.t0){_context121.next=9;break;}this.xu=e;_context121.t1="touch"===t.pointerType;if(!_context121.t1){_context121.next=8;break;}_context121.next=8;return ns(400);case 8:this.Jc();case 9:case"end":return _context121.stop();}}},_callee120,this);}));function gu(_x142){return _gu.apply(this,arguments);}return gu;}()},{key:"fu",value:function fu(t){t.target.closest("x-button")&&(this.xu=null,this.Jc());}},{key:"Jc",value:function Jc(){if(this.uu&&this.xu&&!1===this.xu.expanded){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.xu.getAttribute("data-tooltip");var _t1150=this["#buttons"].getBoundingClientRect(),_e872=this.xu.getBoundingClientRect(),_i848=this["#tooltip"].getBoundingClientRect(),_s437=_e872.top-_t1150.top+_e872.height/2-_i848.height/2,_n364=_e872.right+4;this["#tooltip"].style.top=_s437+"px",this["#tooltip"].style.left=_n364+"px";}else this["#tooltip"].hidden=!0;}}]);return Ju;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ju,"_shadowTemplate",Qi(_templateObject252()));_defineProperty(Ju,"_shadowStyleSheet",Ji(_templateObject253()));customElements.define("bx-toolsdock",Ju);var tx=/*#__PURE__*/function(_HTMLElement65){_inherits(tx,_HTMLElement65);var _super94=_createSuper(tx);_createClass(tx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"width",get:function get(){return this.Us;}}]);function tx(){var _this477;_classCallCheck(this,tx);_this477=_super94.call(this),_this477.Us=0,_this477.uu=!0,_this477.xu=null,_this477.wu=null,_this477._shadowRoot=_this477.attachShadow({mode:"closed"}),_this477._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,tx._shadowStyleSheet],_this477._shadowRoot.append(document.importNode(tx._shadowTemplate.content,!0));var _iterator731=_createForOfIteratorHelper(_this477._shadowRoot.querySelectorAll("[id]")),_step731;try{for(_iterator731.s();!(_step731=_iterator731.n()).done;){var _t1151=_step731.value;_this477["#"+_t1151.id]=_t1151;}}catch(err){_iterator731.e(err);}finally{_iterator731.f();}_this477.vu(),_this477["#buttons"].addEventListener("toggle",function(t){return _this477.bu(t);}),_this477["#buttons"].addEventListener("pointerover",function(t){return _this477.gu(t);}),_this477["#buttons"].addEventListener("pointerout",function(t){return _this477.fu(t);}),_this477["#main"].addEventListener("transitionend",function(t){return _this477.yu(t);}),_this477["#resize-grippie"].addEventListener("pointerdown",function(t){return _this477.ku(t);});return _this477;}_createClass(tx,[{key:"connectedCallback",value:function(){var _connectedCallback2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee121(){var _this478=this;return regeneratorRuntime.wrap(function _callee121$(_context122){while(1){switch(_context122.prev=_context122.next){case 0:this.Qs=Gi(this,"#app");this.uu=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this.Us=this.Qs.getConfig("bx-primarypanelsdock:width",318);Us.addEventListener("sizechange",this.hp=function(){return _this478.Su();});window.addEventListener("resize",this._u=function(){return _this478.Su();});this.Qs.addEventListener("configchange",this.nn=function(t){return _this478.ln(t);});_context122.next=8;return Us.whenThemeReady;case 8:this.Su();case 9:case"end":return _context122.stop();}}},_callee121,this);}));function connectedCallback(){return _connectedCallback2.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.hp),window.removeEventListener("resize",this._u),this.Qs.removeEventListener("configchange",this.nn);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.Cu(e);}},{key:"ln",value:function ln(t){var _t$detail8=t.detail,e=_t$detail8.key,i=_t$detail8.value;"bx-uisettings:showDockTooltips"===e?(this.uu=null===i||i,this.Jc()):"bx-primarypanelsdock:width"===e&&(this.Us=null===i?318:i,this.Su());}},{key:"Cu",value:function Cu(t){if(this["#buttons"].value=this.value,null===this.value)this.Jc(),this.setAttribute("animating",""),this.dispatchEvent(new CustomEvent("collapse"));else{this.Jc(),null===t&&this.setAttribute("animating","");var _iterator732=_createForOfIteratorHelper(this.children),_step732;try{for(_iterator732.s();!(_step732=_iterator732.n()).done;){var _t1152=_step732.value;_t1152.enabled=_t1152.id===this.value;}}catch(err){_iterator732.e(err);}finally{_iterator732.f();}null===this.wu&&this.dispatchEvent(new CustomEvent("expand"));}this.wu=this.value;}},{key:"bu",value:function bu(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"gu",value:function(){var _gu2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee122(t){var e;return regeneratorRuntime.wrap(function _callee122$(_context123){while(1){switch(_context123.prev=_context123.next){case 0:e=t.target.closest("x-button");_context123.t0=e!==this.xu;if(!_context123.t0){_context123.next=9;break;}this.xu=e;_context123.t1="touch"===t.pointerType;if(!_context123.t1){_context123.next=8;break;}_context123.next=8;return ns(400);case 8:this.Jc();case 9:case"end":return _context123.stop();}}},_callee122,this);}));function gu(_x143){return _gu2.apply(this,arguments);}return gu;}()},{key:"fu",value:function fu(t){t.target.closest("x-button")&&(this.xu=null,this.Jc());}},{key:"yu",value:function yu(t){this.removeAttribute("animating");var _iterator733=_createForOfIteratorHelper(this.children),_step733;try{for(_iterator733.s();!(_step733=_iterator733.n()).done;){var _t1153=_step733.value;_t1153.enabled=_t1153.id===this.value;}}catch(err){_iterator733.e(err);}finally{_iterator733.f();}}},{key:"ku",value:function ku(t){var _this479=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i849,s=this["#buttons"].clientWidth,n=this.Us-s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e873){var i=n-(_e873.clientX-t.clientX);_this479.Us=i+s,_this479.Su(),_this479.dispatchEvent(new CustomEvent("resize"));}),this["#resize-grippie"].addEventListener("lostpointercapture",_i849=function i(){_this479["#resize-grippie"].removeEventListener("pointermove",e),_this479["#resize-grippie"].removeEventListener("lostpointercapture",_i849),_this479.Qs.setConfig("bx-primarypanelsdock:width",_this479.Us);});}},{key:"vu",value:function vu(){var t="";var _iterator734=_createForOfIteratorHelper(this.children),_step734;try{for(_iterator734.s();!(_step734=_iterator734.n()).done;){var _e874=_step734.value;var _i850=_e874.getAttribute("name");t+="\n        <x-button id=\"".concat(_e874.id,"-button\" skin=\"dock\" value=\"").concat(_e874.id,"\" data-tooltip=\"").concat(_i850,"\">\n          <x-icon name=\"").concat(_e874.id,"\"></x-icon>\n        </x-button>\n        ");}}catch(err){_iterator734.e(err);}finally{_iterator734.f();}this["#buttons"].innerHTML=t;}},{key:"Su",value:function Su(){this.Us<318?this.Us=318:this.Us>window.innerWidth-38&&(this.Us=window.innerWidth-38);var t=this["#buttons"].clientWidth;0===t&&(t=parseFloat(getComputedStyle(this["#buttons"].firstElementChild).width));var e=this.Us-t;this["#main"].style.right=t+"px",this["#main"].style.width=e+"px",this["#main"].style.transform="translateX(".concat(e+1,"px)");}},{key:"Jc",value:function Jc(){if(this.uu&&this.xu&&!1===this.xu.toggled){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.xu.getAttribute("data-tooltip");var _t1154=this["#buttons"].getBoundingClientRect(),_e875=this.xu.getBoundingClientRect(),_i851=this["#tooltip"].getBoundingClientRect(),_s438=_e875.top-_t1154.top+_e875.height/2-_i851.height/2,_n365=_e875.width+4;this["#tooltip"].style.top=_s438+"px",this["#tooltip"].style.right=_n365+"px";}else this["#tooltip"].hidden=!0;}}]);return tx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tx,"observedAttributes",["value"]);_defineProperty(tx,"_shadowTemplate",Qi(_templateObject254()));_defineProperty(tx,"_shadowStyleSheet",Ji(_templateObject255()));customElements.define("bx-primarypanelsdock",tx);var ex=/*#__PURE__*/function(_HTMLElement66){_inherits(ex,_HTMLElement66);var _super95=_createSuper(ex);_createClass(ex,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"height",get:function get(){return this.Fs;}}]);function ex(){var _this480;_classCallCheck(this,ex);_this480=_super95.call(this),_this480.Fs=0,_this480._shadowRoot=_this480.attachShadow({mode:"closed"}),_this480._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ex._shadowStyleSheet],_this480._shadowRoot.append(document.importNode(ex._shadowTemplate.content,!0));var _iterator735=_createForOfIteratorHelper(_this480._shadowRoot.querySelectorAll("[id]")),_step735;try{for(_iterator735.s();!(_step735=_iterator735.n()).done;){var _t1155=_step735.value;_this480["#"+_t1155.id]=_t1155;}}catch(err){_iterator735.e(err);}finally{_iterator735.f();}_this480.vu(),_this480.addEventListener("transitionend",function(t){return _this480.yu(t);}),_this480["#buttons"].addEventListener("toggle",function(){return _this480.bu();}),_this480["#resize-grippie"].addEventListener("pointerdown",function(t){return _this480.ku(t);});return _this480;}_createClass(ex,[{key:"connectedCallback",value:function(){var _connectedCallback3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee123(){var _this481=this;return regeneratorRuntime.wrap(function _callee123$(_context124){while(1){switch(_context124.prev=_context124.next){case 0:this.Qs=Gi(this,"#app");this.Js=Gi(this,"bx-editor");this.Fs=this.Qs.getConfig("bx-secondarypanelsdock:height",250);_context124.next=5;return customElements.whenDefined("bx-primarypanelsdock");case 5:window.addEventListener("resize",this.sn=function(){_this481.Mu();});this.Qs.addEventListener("configchange",this.nn=function(t){_this481.ln(t);});this.Js.primaryPanelsDock.addEventListener("expand",this.Pu=function(){_this481.Du();});this.Js.primaryPanelsDock.addEventListener("collapse",this.zu=function(){_this481.Du();});this.Js.primaryPanelsDock.addEventListener("resize",this.Ou=function(){_this481.Du();});case 10:case"end":return _context124.stop();}}},_callee123,this);}));function connectedCallback(){return _connectedCallback3.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.primaryPanelsDock.removeEventListener("expand",this.Pu),this.Js.primaryPanelsDock.removeEventListener("collapse",this.zu),this.Js.primaryPanelsDock.removeEventListener("resize",this.Ou);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.Cu();}},{key:"ln",value:function ln(t){var _t$detail9=t.detail,e=_t$detail9.key,i=_t$detail9.value;"bx-secondarypanelsdock:height"===e&&(this.Fs=null===i?250:i,this.Mu());}},{key:"Cu",value:function Cu(){var t=this.value;if(this["#buttons"].value=t,null!==this.value){var _iterator736=_createForOfIteratorHelper(this.children),_step736;try{for(_iterator736.s();!(_step736=_iterator736.n()).done;){var _t1156=_step736.value;_t1156.enabled=_t1156.id===this.value;}}catch(err){_iterator736.e(err);}finally{_iterator736.f();}this.Mu();}"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"yu",value:function yu(t){if(null===this.value){var _iterator737=_createForOfIteratorHelper(this.children),_step737;try{for(_iterator737.s();!(_step737=_iterator737.n()).done;){var _t1157=_step737.value;_t1157.enabled=!1;}}catch(err){_iterator737.e(err);}finally{_iterator737.f();}this.Mu();}}},{key:"bu",value:function bu(){this.value!==this["#buttons"].value&&(this.value=this["#buttons"].value,this.Cu());var _iterator738=_createForOfIteratorHelper(this["#buttons"].children),_step738;try{for(_iterator738.s();!(_step738=_iterator738.n()).done;){var _t1158=_step738.value;_t1158.toggled?_t1158.part.add("toggled-button"):_t1158.part.remove("toggled-button");}}catch(err){_iterator738.e(err);}finally{_iterator738.f();}}},{key:"ku",value:function ku(t){var _this482=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i852,s=this.clientHeight,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e876){n=s-(_e876.clientY-t.clientY),n<30?n=0:n>window.innerHeight-32&&(n=window.innerHeight-32),_this482.style.height=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i852=function i(){_this482["#resize-grippie"].removeEventListener("pointermove",e),_this482["#resize-grippie"].removeEventListener("lostpointercapture",_i852),0===n?_this482.value=null:_this482.Qs.setConfig("bx-secondarypanelsdock:height",n);});}},{key:"vu",value:function vu(){var t="";var _iterator739=_createForOfIteratorHelper(this.children),_step739;try{for(_iterator739.s();!(_step739=_iterator739.n()).done;){var _e877=_step739.value;if(!1===_e877.hasAttribute("hidden")){var _i853=_e877.getAttribute("name");t+="\n          <x-button id=\"".concat(_e877.id,"-button\" value=\"").concat(_e877.id,"\" part=\"button\">\n            <x-label>").concat(_i853,"</x-label>\n          </x-button>\n        ");}}}catch(err){_iterator739.e(err);}finally{_iterator739.f();}this["#buttons"].innerHTML=t;}},{key:"Du",value:function Du(){if(null===this.Js.primaryPanelsDock.value)this.style.width=null;else{var _t1159=this.Js.toolsDock.clientWidth,_e878=this.Js.primaryPanelsDock.width;this.style.width="calc(100% - ".concat(_t1159+_e878,"px)");}}},{key:"Mu",value:function Mu(){var t=0;null!==this.value&&(t=this.Fs,t>window.innerHeight-32&&(t=window.innerHeight-32)),this.style.height=t+"px";}}]);return ex;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ex,"observedAttributes",["value"]);_defineProperty(ex,"_shadowTemplate",Qi(_templateObject256()));_defineProperty(ex,"_shadowStyleSheet",Ji(_templateObject257()));customElements.define("bx-secondarypanelsdock",ex);var ix=Symbol();var sx=/*#__PURE__*/function(_HTMLElement67){_inherits(sx,_HTMLElement67);var _super96=_createSuper(sx);_createClass(sx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function sx(){var _this483;_classCallCheck(this,sx);_this483=_super96.call(this),_this483.Dh=es(_this483.qs,200,_assertThisInitialized(_this483)),_this483._shadowRoot=_this483.attachShadow({mode:"closed"}),_this483._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,sx._shadowStyleSheet],_this483._shadowRoot.append(document.importNode(sx._shadowTemplate.content,!0));var _iterator740=_createForOfIteratorHelper(_this483._shadowRoot.querySelectorAll("[id]")),_step740;try{for(_iterator740.s();!(_step740=_iterator740.n()).done;){var _t1160=_step740.value;_this483["#"+_t1160.id]=_t1160;}}catch(err){_iterator740.e(err);}finally{_iterator740.f();}_this483.addEventListener("keydown",function(t){return _this483.wn(t);}),_this483["#popover"].addEventListener("open",function(){return _this483.Eu();}),_this483["#items"].addEventListener("click",function(t){return _this483.np(t);}),_this483["#items"].addEventListener("dblclick",function(t){return _this483.Tu(t);}),_this483["#manage-button"].addEventListener("click",function(){return _this483.Au();}),_this483["#developer-mode-button"].addEventListener("toggle",function(){return _this483.$u();});return _this483;}_createClass(sx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Iu=Gi(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"value"===t&&this.Cu());}},{key:"tn",value:function tn(){var _this484=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-solidcolorselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this484.al(t.detail);}),this.Iu.addEventListener("resize",this.Lu=function(){_this484.Ru();});}},{key:"en",value:function en(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Iu.removeEventListener("resize",this.Lu);}},{key:"Cu",value:function Cu(){this.Bu(),this.Gu();}},{key:"al",value:function al(){this.Dh();}},{key:"Ru",value:function Ru(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"np",value:function np(t){var e=t.target.closest(".item");if(e){var _t1161=e.getAttribute("data-value");_t1161===this.value&&!0!==this.mixed||(this.value=_t1161,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Tu",value:function Tu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1162=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editColor(_t1162);}}},{key:"Au",value:function Au(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser");}},{key:"$u",value:function $u(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-solidcolorselect:developerMode",t),this.Bu(),this.Uu(),this.Fu();}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu());}},{key:"qs",value:function qs(){this.Bu(),this.ju(),this.Fu();}},{key:"Bu",value:function Bu(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1163=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e879=Go(_t1163);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style","background: ".concat(_e879,";")),this["#button-label"].textContent=this.Hu(_t1163,this["#developer-mode-button"].toggled);}}},{key:"ju",value:function ju(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Oo(t);});this["#items"].innerHTML="";var _iterator741=_createForOfIteratorHelper(t),_step741;try{for(_iterator741.s();!(_step741=_iterator741.n()).done;){var _e880=_step741.value;var _t1164=Go(_e880),_i854=Qi(_templateObject18(),_e880.id,_t1164,_e880.id);_i854[ix]=_e880,this["#items"].append(_i854);}}catch(err){_iterator741.e(err);}finally{_iterator741.f();}this.Gu(),this.Uu();}},{key:"Gu",value:function Gu(){var _iterator742=_createForOfIteratorHelper(this["#items"].children),_step742;try{for(_iterator742.s();!(_step742=_iterator742.n()).done;){var _t1165=_step742.value;_t1165.getAttribute("data-value")===this.value?_t1165.setAttribute("data-selected",""):_t1165.removeAttribute("data-selected");}}catch(err){_iterator742.e(err);}finally{_iterator742.f();}}},{key:"Uu",value:function Uu(){var _iterator743=_createForOfIteratorHelper(this["#items"].children),_step743;try{for(_iterator743.s();!(_step743=_iterator743.n()).done;){var _t1166=_step743.value;var _e881=_t1166[ix];_t1166.querySelector(".label").textContent=this.Hu(_e881,this["#developer-mode-button"].toggled);}}catch(err){_iterator743.e(err);}finally{_iterator743.f();}}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Nu",value:function Nu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Vu",value:function Vu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Eu",value:function Eu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Hu",value:function Hu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<color>";else{var _e882=t.querySelector(":scope > bx-title");i=_e882?_e882.textContent:"Color";}return i;}}]);return sx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sx,"observedAttributes",["enabled","value"]);_defineProperty(sx,"_shadowTemplate",Qi(_templateObject258()));_defineProperty(sx,"_shadowStyleSheet",Ji(_templateObject259()));customElements.define("bx-colorselect",sx);var nx=Symbol();var ox=/*#__PURE__*/function(_HTMLElement68){_inherits(ox,_HTMLElement68);var _super97=_createSuper(ox);_createClass(ox,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function ox(){var _this485;_classCallCheck(this,ox);_this485=_super97.call(this),_this485.Dh=es(_this485.qs,200,_assertThisInitialized(_this485)),_this485._shadowRoot=_this485.attachShadow({mode:"closed"}),_this485._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ox._shadowStyleSheet],_this485._shadowRoot.append(document.importNode(ox._shadowTemplate.content,!0));var _iterator744=_createForOfIteratorHelper(_this485._shadowRoot.querySelectorAll("[id]")),_step744;try{for(_iterator744.s();!(_step744=_iterator744.n()).done;){var _t1167=_step744.value;_this485["#"+_t1167.id]=_t1167;}}catch(err){_iterator744.e(err);}finally{_iterator744.f();}_this485.addEventListener("keydown",function(t){return _this485.wn(t);}),_this485["#popover"].addEventListener("open",function(){return _this485.Eu();}),_this485["#items"].addEventListener("click",function(t){return _this485.np(t);}),_this485["#items"].addEventListener("dblclick",function(t){return _this485.Tu(t);}),_this485["#manage-button"].addEventListener("click",function(){return _this485.Au();}),_this485["#developer-mode-button"].addEventListener("toggle",function(){return _this485.$u();});return _this485;}_createClass(ox,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Iu=Gi(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"value"===t&&this.Cu());}},{key:"tn",value:function tn(){var _this486=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this486.al(t.detail);}),this.Iu.addEventListener("resize",this.Lu=function(){_this486.Ru();});}},{key:"en",value:function en(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Iu.removeEventListener("resize",this.Lu);}},{key:"Cu",value:function Cu(){this.Bu(),this.Gu();}},{key:"al",value:function al(){this.Dh();}},{key:"Ru",value:function Ru(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"np",value:function np(t){var e=t.target.closest(".item");if(e){var _t1168=e.getAttribute("data-value");_t1168===this.value&&!0!==this.mixed||(this.value=_t1168,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Tu",value:function Tu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1169=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editGradient(_t1169);}}},{key:"Au",value:function Au(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("gradients-browser");}},{key:"$u",value:function $u(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-gradientselect:developerMode",t),this.Bu(),this.Uu(),this.Fu();}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu());}},{key:"qs",value:function qs(){this.Bu(),this.ju(),this.Fu();}},{key:"Bu",value:function Bu(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1170=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e883=$o(_t1170),_i855="";if(0===_e883.length)_i855="background: transparent";else if(1===_e883.length){_i855="background: ".concat(Bo(_e883[0]));}else if(_e883.length>1){_i855="background-image: linear-gradient(90deg, "+_e883.map(function(t){return"".concat(Bo(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style",_i855),this["#button-label"].textContent=this.Wu(_t1170,this["#developer-mode-button"].toggled);}}},{key:"ju",value:function ju(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return To(t);});this["#items"].innerHTML="";var _iterator745=_createForOfIteratorHelper(t),_step745;try{for(_iterator745.s();!(_step745=_iterator745.n()).done;){var _e884=_step745.value;var _t1171=$o(_e884),_i856="";if(0===_t1171.length)_i856="background: transparent";else if(1===_t1171.length){_i856="background: ".concat(Bo(_t1171[0]));}else if(_t1171.length>1){_i856="background-image: linear-gradient(90deg, "+_t1171.map(function(t){return"".concat(Bo(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _s439=Qi(_templateObject19(),_e884.id,_i856,_e884.id);_s439[nx]=_e884,this["#items"].append(_s439);}}catch(err){_iterator745.e(err);}finally{_iterator745.f();}this.Gu(),this.Uu();}},{key:"Gu",value:function Gu(){var _iterator746=_createForOfIteratorHelper(this["#items"].children),_step746;try{for(_iterator746.s();!(_step746=_iterator746.n()).done;){var _t1172=_step746.value;_t1172.getAttribute("data-value")===this.value?_t1172.setAttribute("data-selected",""):_t1172.removeAttribute("data-selected");}}catch(err){_iterator746.e(err);}finally{_iterator746.f();}}},{key:"Uu",value:function Uu(){var _iterator747=_createForOfIteratorHelper(this["#items"].children),_step747;try{for(_iterator747.s();!(_step747=_iterator747.n()).done;){var _t1173=_step747.value;var _e885=_t1173[nx];_t1173.querySelector(".label").textContent=this.Wu(_e885,this["#developer-mode-button"].toggled);}}catch(err){_iterator747.e(err);}finally{_iterator747.f();}}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Nu",value:function Nu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Vu",value:function Vu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Eu",value:function Eu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Wu",value:function Wu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<gradient>";else{var _e886=t.querySelector(":scope > bx-title");i=_e886?_e886.textContent:"Gradient";}return i;}}]);return ox;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ox,"observedAttributes",["enabled","value"]);_defineProperty(ox,"_shadowTemplate",Qi(_templateObject260()));_defineProperty(ox,"_shadowStyleSheet",Ji(_templateObject261()));customElements.define("bx-gradientselect",ox);var lx=Symbol();var ax=/*#__PURE__*/function(_HTMLElement69){_inherits(ax,_HTMLElement69);var _super98=_createSuper(ax);_createClass(ax,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function ax(){var _this487;_classCallCheck(this,ax);_this487=_super98.call(this),_this487.Dh=es(_this487.qs,200,_assertThisInitialized(_this487)),_this487.Yu=is(_this487.qu,2e3,_assertThisInitialized(_this487)),_this487._shadowRoot=_this487.attachShadow({mode:"closed"}),_this487._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ax._shadowStyleSheet],_this487._shadowRoot.append(document.importNode(ax._shadowTemplate.content,!0));var _iterator748=_createForOfIteratorHelper(_this487._shadowRoot.querySelectorAll("[id]")),_step748;try{for(_iterator748.s();!(_step748=_iterator748.n()).done;){var _t1174=_step748.value;_this487["#"+_t1174.id]=_t1174;}}catch(err){_iterator748.e(err);}finally{_iterator748.f();}_this487.addEventListener("keydown",function(t){return _this487.wn(t);}),_this487["#popover"].addEventListener("open",function(){return _this487.Eu();}),_this487["#items"].addEventListener("click",function(t){return _this487.np(t);}),_this487["#items"].addEventListener("dblclick",function(t){return _this487.Tu(t);}),_this487["#manage-button"].addEventListener("click",function(t){return _this487.Au(t);}),_this487["#developer-mode-button"].addEventListener("toggle",function(){return _this487.$u();});return _this487;}_createClass(ax,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Iu=Gi(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"value"===t&&this.Cu());}},{key:"tn",value:function tn(){var _this488=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.qu(),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this488.al(t.detail);}),this.Iu.addEventListener("resize",this.Lu=function(){_this488.Ru();});}},{key:"en",value:function en(){this["#mirror"].innerHTML="",this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Iu.removeEventListener("resize",this.Lu);}},{key:"Cu",value:function Cu(){this.Bu(),this.Gu();}},{key:"al",value:function al(){this.Dh(),this.Yu();}},{key:"Ru",value:function Ru(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"np",value:function np(t){var e=t.target.closest(".item");if(e){var _t1175=e.getAttribute("data-value");_t1175!==this.value&&(this.value=_t1175,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Tu",value:function Tu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1176=e.getAttribute("data-value");this.Js.board.editPattern(_t1176);}}},{key:"Au",value:function Au(t){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("patterns-browser");}},{key:"$u",value:function $u(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-patternselect:developerMode",t),this.Bu(),this.Uu();}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu());}},{key:"qs",value:function qs(){this.Bu(),this.ju();}},{key:"Bu",value:function Bu(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="";else{var _t1177=this.Js.board.masterWorkspace.querySelector("#"+this.value);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail"].style.fill="url(#".concat(this.value,")"),this["#button-label"].textContent=this.Xu(_t1177,this["#developer-mode-button"].toggled);}}},{key:"ju",value:function ju(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return!1===t.hasAttribute("href");});this["#items"].innerHTML="";var _iterator749=_createForOfIteratorHelper(t),_step749;try{for(_iterator749.s();!(_step749=_iterator749.n()).done;){var _e887=_step749.value;var _t1178=Qi(_templateObject20(),_e887.id,_e887.id,_e887.id);_t1178[lx]=_e887,this["#items"].append(_t1178);}}catch(err){_iterator749.e(err);}finally{_iterator749.f();}this.Gu(),this.Uu();}},{key:"Gu",value:function Gu(){var _iterator750=_createForOfIteratorHelper(this["#items"].children),_step750;try{for(_iterator750.s();!(_step750=_iterator750.n()).done;){var _t1179=_step750.value;_t1179.getAttribute("data-value")===this.value?_t1179.setAttribute("data-selected",""):_t1179.removeAttribute("data-selected");}}catch(err){_iterator750.e(err);}finally{_iterator750.f();}}},{key:"Uu",value:function Uu(){var _iterator751=_createForOfIteratorHelper(this["#items"].children),_step751;try{for(_iterator751.s();!(_step751=_iterator751.n()).done;){var _t1180=_step751.value;var _e888=_t1180[lx];_t1180.querySelector(".label").textContent=this.Xu(_e888,this["#developer-mode-button"].toggled);}}catch(err){_iterator751.e(err);}finally{_iterator751.f();}}},{key:"qu",value:function qu(){this["#mirror"].innerHTML=this.Js.board.masterWorkspace.innerHTML;}},{key:"Nu",value:function Nu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Vu",value:function Vu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Eu",value:function Eu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Xu",value:function Xu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<pattern>";else{var _e889;_e889=this.Js.board.currentWorkspace.id===t.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):t.querySelector(":scope > bx-title"),i=_e889?_e889.textContent:"Pattern";}return i;}}]);return ax;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ax,"observedAttributes",["enabled","value"]);_defineProperty(ax,"_shadowTemplate",Qi(_templateObject262()));_defineProperty(ax,"_shadowStyleSheet",Ji(_templateObject263()));customElements.define("bx-patternselect",ax);var hx=/*#__PURE__*/function(_HTMLElement70){_inherits(hx,_HTMLElement70);var _super99=_createSuper(hx);_createClass(hx,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"rect";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000";},set:function set(t){this.setAttribute("value",t);}},{key:"format",get:function get(){return this.hasAttribute("format")?this.getAttribute("format"):"hex";},set:function set(t){t?this.setAttribute("format",t):this.removeAttribute("format");}},{key:"formatSelect",get:function get(){return this.hasAttribute("formatselect");},set:function set(t){t?this.setAttribute("formatselect",""):this.removeAttribute("formatselect");}},{key:"alphaSlider",get:function get(){return this.hasAttribute("alphaslider");},set:function set(t){t?this.setAttribute("alphaslider",""):this.removeAttribute("alphaslider");}}]);function hx(){var _this489;_classCallCheck(this,hx);_this489=_super99.call(this),_this489.Zu=!1,_this489._shadowRoot=_this489.attachShadow({mode:"closed"}),_this489._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,hx._shadowStyleSheet],_this489._shadowRoot.append(document.importNode(hx._shadowTemplate.content,!0));var _iterator752=_createForOfIteratorHelper(_this489._shadowRoot.querySelectorAll("[id]")),_step752;try{for(_iterator752.s();!(_step752=_iterator752.n()).done;){var _t1181=_step752.value;_this489["#"+_t1181.id]=_t1181;}}catch(err){_iterator752.e(err);}finally{_iterator752.f();}_this489["#pickers"].addEventListener("change",function(t){return _this489.Ku(t);}),_this489["#pickers"].addEventListener("changestart",function(t){return _this489.Qu(t);}),_this489["#pickers"].addEventListener("changeend",function(t){return _this489.Ju(t);}),_this489["#input"].addEventListener("click",function(t){return _this489.tx(t);}),_this489["#input"].addEventListener("change",function(t){return _this489.ix(t);}),_this489["#input"].addEventListener("keydown",function(t){return _this489.sx(t);}),_this489["#format-select"].addEventListener("change",function(t){return _this489.nx(t);}),_this489["#grab-button"].addEventListener("toggle",function(){return _this489.Wn();});return _this489;}_createClass(hx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.ox=Gi(this,"x-popover"),this.lx();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.hx():"value"===t?this.ux():"format"===t?this.xx():"alphaslider"===t&&this.mx());}},{key:"ux",value:function ux(){this["#pickers"].querySelector(":scope > :not([hidden])").setAttribute("value",this.value),this["#input"].value=So(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll();}},{key:"hx",value:function hx(){this.lx();}},{key:"xx",value:function xx(){this["#input"].value=So(this.value,this.format),this["#format-select"].value=this.format;}},{key:"mx",value:function mx(){this.alphaSlider?(this["#rect-picker"].setAttribute("alphaslider",""),this["#wheel-picker"].setAttribute("alphaslider",""),this["#bars-picker"].setAttribute("alphaslider","")):(this["#rect-picker"].removeAttribute("alphaslider"),this["#wheel-picker"].removeAttribute("alphaslider"),this["#bars-picker"].removeAttribute("alphaslider"));}},{key:"Qu",value:function Qu(t){this.Zu=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));}},{key:"Ku",value:function Ku(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"Ju",value:function Ju(t){this.Zu=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}},{key:"tx",value:function tx(t){t.detail>=2&&"hex"===this.format&&this["#input"].selectAll();}},{key:"ix",value:function ix(t){!1===this.Zu&&(null!==this["#input"].error?(this["#input"].value=So(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll()):(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=this["#input"].value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))));}},{key:"sx",value:function sx(t){"Enter"!==t.code&&"Space"!==t.code||this.closest("x-popover")&&t.stopPropagation();}},{key:"nx",value:function nx(t){this.format=this["#format-select"].value,this.dispatchEvent(new CustomEvent("formatchange",{bubbles:!0}));}},{key:"Wn",value:function(){var _Wn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee124(){var t,e;return regeneratorRuntime.wrap(function _callee124$(_context125){while(1){switch(_context125.prev=_context125.next){case 0:t=null!==this.ox&&!0===this.ox.modal;t&&(this.ox.modal=!1);_context125.next=4;return this.Js.colorGrabber.grab();case 4:e=_context125.sent;this["#grab-button"].toggled=!1,t&&(this.ox.modal=!0),null!==e&&(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=e,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));case 6:case"end":return _context125.stop();}}},_callee124,this);}));function Wn(){return _Wn2.apply(this,arguments);}return Wn;}()},{key:"lx",value:function lx(){"rect"===this.type?(this["#rect-picker"].hidden=!1,this["#rect-picker"].setAttribute("value",this.value),this["#wheel-picker"].hidden=!0,this["#bars-picker"].hidden=!0):"wheel"===this.type?(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!1,this["#wheel-picker"].value=this.value,this["#bars-picker"].hidden=!0):"bars"===this.type&&(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!0,this["#bars-picker"].value=this.value,this["#bars-picker"].hidden=!1);}}]);return hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hx,"observedAttributes",["type","value","format","alphaslider"]);_defineProperty(hx,"_shadowTemplate",Qi(_templateObject264()));_defineProperty(hx,"_shadowStyleSheet",Ji(_templateObject265()));customElements.define("bx-colorpicker",hx);var rx=/*#__PURE__*/function(_HTMLElement71){_inherits(rx,_HTMLElement71);var _super100=_createSuper(rx);_createClass(rx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value").split(" "):["fill","stroke","markers"];},set:function set(t){this.setAttribute("value",t.join(" "));}},{key:"context",get:function get(){return this.getAttribute("context");},set:function set(t){this.setAttribute("context",t);}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function rx(){var _this490;_classCallCheck(this,rx);_this490=_super100.call(this),_this490._shadowRoot=_this490.attachShadow({mode:"closed"}),_this490._shadowRoot.adoptedStyleSheets=[rx._shadowStyleSheet],_this490._shadowRoot.append(document.importNode(rx._shadowTemplate.content,!0));var _iterator753=_createForOfIteratorHelper(_this490._shadowRoot.querySelectorAll("[id]")),_step753;try{for(_iterator753.s();!(_step753=_iterator753.n()).done;){var _t1182=_step753.value;_this490["#"+_t1182.id]=_t1182;}}catch(err){_iterator753.e(err);}finally{_iterator753.f();}_this490.addEventListener("pointerdown",function(t){return _this490.wo(t);}),_this490._shadowRoot.addEventListener("pointerdown",function(t){return _this490.gx(t);}),_this490.addEventListener("keydown",function(t){return _this490.wn(t);});return _this490;}_createClass(rx,[{key:"connectedCallback",value:function connectedCallback(){var _this491=this;Us.addEventListener("sizechange",this.hp=function(){return _this491.ap();}),this.ap(),this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled);}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.hp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ux():"context"===t?this.wx():"disabled"===t?this.vx():"size"===t&&this.ap());}},{key:"ux",value:function ux(){var _this$value5=_slicedToArray(this.value,3),t=_this$value5[0],e=_this$value5[1],i=_this$value5[2];this["#".concat(t,"-thumb")].setAttribute("data-socket","1"),this["#".concat(e,"-thumb")].setAttribute("data-socket","2"),this["#".concat(i,"-thumb")].setAttribute("data-socket","3");}},{key:"wx",value:function wx(){var _iterator754=_createForOfIteratorHelper(this["#thumbs"].children),_step754;try{for(_iterator754.s();!(_step754=_iterator754.n()).done;){var _t1183=_step754.value;_t1183.getAttribute("data-value")===this.context?(_t1183.setAttribute("data-toggled",""),_t1183.part.add("toggled-thumb")):(_t1183.removeAttribute("data-toggled"),_t1183.part.remove("toggled-thumb"));}}catch(err){_iterator754.e(err);}finally{_iterator754.f();}}},{key:"vx",value:function vx(){this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){t.preventDefault(),this.focus(),this.blur();}},{key:"ap",value:function ap(){var t=Us.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"yx",value:function yx(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 1;{var _t1184=e.width/2;for(var _s440=1;_s440<=3;_s440+=1){if(e.left-i.left>=_t1184&&e.left-i.left<_t1184+e.width)return _s440>this["#thumbs"].childElementCount?this["#thumbs"].childElementCount:_s440+1;_t1184+=e.width;}}}},{key:"gx",value:function gx(t){var _this492=this;if(1!==t.buttons)return;var e,_i859;this.setPointerCapture(t.pointerId);var s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=null,l=null;this.kx(9999999),this.addEventListener("pointermove",e=function e(_e890){var i=new DOMPoint(_e890.clientX,_e890.clientY),a=_e890.timeStamp-t.timeStamp;if(null===o&&(Te(n,i)>=3||a>80)&&(o=s,l=parseFloat(getComputedStyle(o).left),o.style.transition="none",o.setAttribute("data-dragged",""),o.part.add("dragged-thumb")),o){var _i857=_e890.clientX-t.clientX,_s441=0,_n366=_this492["#thumbs"].clientWidth-o.clientWidth,_a189=et(l+_i857,_s441,_n366);o.style.left="".concat(_a189,"px");var _h150=o.getAttribute("data-socket"),_r94=_this492.yx(o).toString();if(_r94!==_h150){o.setAttribute("data-socket",_r94);var _iterator755=_createForOfIteratorHelper(_this492["#thumbs"].children),_step755;try{for(_iterator755.s();!(_step755=_iterator755.n()).done;){var _t1185=_step755.value;_t1185!==o&&_t1185.getAttribute("data-socket")===_r94&&_t1185.setAttribute("data-socket",_h150);}}catch(err){_iterator755.e(err);}finally{_iterator755.f();}}}}),this.addEventListener("lostpointercapture",_i859=function i(){if(_this492.removeEventListener("pointermove",e),_this492.removeEventListener("lostpointercapture",_i859),_this492.kx(500),o)o.style.transition=null,o.style.left=null,o.removeAttribute("data-dragged"),o.part.remove("dragged-thumb");else{var _t1186=s,_e891=_this492["#thumbs"].querySelector(".thumb[data-toggled]"),_i858=_toConsumableArray(_this492["#thumbs"].children).find(function(i){return i!==_t1186&&i!==_e891;});if(_t1186!==_e891){var _s442=_t1186.getAttribute("data-socket"),_n367=_e891.getAttribute("data-socket");"1"===_n367?"2"===_s442?(_t1186.setAttribute("data-socket","1"),_e891.setAttribute("data-socket","2")):"3"===_s442&&(_i858.setAttribute("data-socket","1"),_t1186.setAttribute("data-socket","2"),_e891.setAttribute("data-socket","3")):"2"===_n367?"1"===_s442?(_e891.setAttribute("data-socket","1"),_t1186.setAttribute("data-socket","2")):"3"===_s442&&(_t1186.setAttribute("data-socket","2"),_e891.setAttribute("data-socket","3")):"3"===_n367&&("1"===_s442?(_e891.setAttribute("data-socket","1"),_t1186.setAttribute("data-socket","2"),_i858.setAttribute("data-socket","3")):"2"===_s442&&(_e891.setAttribute("data-socket","2"),_t1186.setAttribute("data-socket","3")));}}_this492.Sx();});}},{key:"wn",value:function wn(t){"Enter"===t.code||"Space"===t.code?(t.preventDefault(),t.stopPropagation(),this._x(),this.Sx()):"ArrowRight"===t.code?(t.preventDefault(),t.stopPropagation(),this._x(!1),this.Sx()):"ArrowLeft"===t.code&&(t.preventDefault(),t.stopPropagation(),this.Cx(!1),this.Sx());}},{key:"Sx",value:function Sx(){var t=[this["#thumbs"].querySelector('[data-socket="1"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="2"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="3"]').getAttribute("data-value")];!1===si(this.value,t,!0)&&(this.value=t,this.dispatchEvent(new CustomEvent("change")));}},{key:"_x",value:function _x(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.kx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"1"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3")):"3"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1"));}},{key:"Cx",value:function Cx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.kx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"3"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1")):"1"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3"));}},{key:"kx",value:function kx(){var _this493=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:500;clearTimeout(this.Mx),this["#thumbs"].setAttribute("data-animate",""),this.Mx=setTimeout(function(){_this493["#thumbs"].removeAttribute("data-animate","");},t);}}]);return rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rx,"observedAttributes",["value","context","disabled","size"]);_defineProperty(rx,"_shadowTemplate",Qi(_templateObject266()));_defineProperty(rx,"_shadowStyleSheet",Ji(_templateObject267()));customElements.define("bx-paintorderswitch",rx);var dx=/*#__PURE__*/function(_HTMLElement72){_inherits(dx,_HTMLElement72);var _super101=_createSuper(dx);_createClass(dx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"context",get:function get(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set:function set(t){"fill"!==t&&"stroke"!==t||this.setAttribute("context",t);}}]);function dx(){var _this494;_classCallCheck(this,dx);_this494=_super101.call(this),_this494.Dh=es(_this494.qs,200,_assertThisInitialized(_this494)),_this494.Px=!1,_this494._shadowRoot=_this494.attachShadow({mode:"closed"}),_this494._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,dx._shadowStyleSheet],_this494._shadowRoot.append(document.importNode(dx._shadowTemplate.content,!0));var _iterator756=_createForOfIteratorHelper(_this494._shadowRoot.querySelectorAll("[id]")),_step756;try{for(_iterator756.s();!(_step756=_iterator756.n()).done;){var _t1187=_step756.value;_this494["#"+_t1187.id]=_t1187;}}catch(err){_iterator756.e(err);}finally{_iterator756.f();}_this494["#paint-type-buttons"].addEventListener("toggle",function(t){return _this494.Dx(t);}),_this494["#color-select"].addEventListener("change",function(){return _this494.zx();}),_this494["#color-unlink-button"].addEventListener("click",function(){return _this494.Ox();}),_this494["#gradient-select"].addEventListener("change",function(){return _this494.Ex();}),_this494["#gradient-unlink-button"].addEventListener("click",function(){return _this494.Tx();}),_this494["#color-picker"].addEventListener("changestart",function(t){return _this494.Ax(t);}),_this494["#color-picker"].addEventListener("formatchange",function(t){return _this494.$x(t);}),_this494["#color-picker-type-buttons"].addEventListener("toggle",function(t){return _this494.Ix(t);}),_this494["#color-picker-hint"].addEventListener("click",function(t){return _this494.Lx(t);}),_this494["#stop-opacity-section"].addEventListener("changestart",function(){return _this494.Rx();}),_this494["#pattern-select"].addEventListener("change",function(){return _this494.Bx();}),_this494["#spread-method-buttons"].addEventListener("toggle",function(t){return _this494.Gx(t);}),_this494["#paint-order-switch"].addEventListener("change",function(){return _this494.Ux();});return _this494;}_createClass(dx,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"context"===t&&this["#paint-order-switch"].setAttribute("context",this.context));}},{key:"tn",value:function tn(){var _this495=this;var t=this.Qs,e=this.Js.board;this["#color-picker"].type=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),"rect"),this["#color-picker"].format=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),"hex"),this["#color-picker-type-buttons"].value=this["#color-picker"].type,this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this495.Dh();}),e.addEventListener("selectedtextrangechange",this.Xa=function(){_this495.qs();}),e.addEventListener("workspacemutation",this.hn=function(t){_this495.Dh();}),e.addEventListener("currentworkspacechange",this.Fx=function(){_this495.qs();}),e.linearGradientHud.addEventListener("selectedstopschange",this.Nx=function(){_this495.Dh();}),e.radialGradientHud.addEventListener("selectedstopschange",this.Vx=function(){_this495.Dh();});}},{key:"en",value:function en(){var t=this.Js.board;this["#color-select"].enabled=!1,this["#gradient-select"].enabled=!1,this["#pattern-select"].enabled=!1,t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("selectedtextrangechange",this.Xa),t.removeEventListener("workspacemutation",this.hn),t.removeEventListener("currentworkspacechange",this.Fx),t.linearGradientHud.removeEventListener("selectedstopschange",this.Nx),t.radialGradientHud.removeEventListener("selectedstopschange",this.Vx);}},{key:"Dx",value:function Dx(t){var e=this["#paint-type-buttons"].value;"solid"===e?this.jx():"linear-gradient"===e?this.Hx():"radial-gradient"===e?this.Wx():"pattern"===e?this.Yx():"inherit"===e?this.qx():"none"===e&&this.Xx();}},{key:"jx",value:function jx(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n="#bada55";t.undoManager.checkpoint("Paint type");var _iterator757=_createForOfIteratorHelper(i),_step757;try{for(_iterator757.s();!(_step757=_iterator757.n()).done;){var _t1189=_step757.value;mi(_t1189,s);}}catch(err){_iterator757.e(err);}finally{_iterator757.f();}{var _t1188=e[0];if("text"===_t1188.localName){var _e892=_t1188.querySelectorAll("tspan"),_i861=fi(s,_t1188),_n368=_i861.length>0?_i861:_e892;_n368.length>0&&(_t1188=_n368[0]);}var _i860=tl(_t1188,this.context);if("solid"===_i860)n=getComputedStyle(_t1188)[this.context];else if("linearGradient"===_i860||"radialGradient"===_i860){var _e893=el(_t1188,this.context),_i862=$o(_e893);_i862[0]&&(n=Bo(_i862[0]));}}var _iterator758=_createForOfIteratorHelper(e),_step758;try{for(_iterator758.s();!(_step758=_iterator758.n()).done;){var _t1190=_step758.value;if("text"===_t1190.localName&&_t1190.querySelector("tspan")){var _e894=_t1190.querySelectorAll("tspan"),_i863=fi(s,_t1190),_o285=_i863.length>0&&!s.collapsed?_i863:_e894;var _iterator760=_createForOfIteratorHelper(_o285),_step760;try{for(_iterator760.s();!(_step760=_iterator760.n()).done;){var _t1191=_step760.value;_t1191.style[this.context]=n;}}catch(err){_iterator760.e(err);}finally{_iterator760.f();}}else _t1190.style[this.context]=n,Dp(this.context,_t1190);}}catch(err){_iterator758.e(err);}finally{_iterator758.f();}var _iterator759=_createForOfIteratorHelper(i),_step759;try{for(_iterator759.s();!(_step759=_iterator759.n()).done;){var _t1192=_step759.value;gi(_t1192,s);}}catch(err){_iterator759.e(err);}finally{_iterator759.f();}}},{key:"Hx",value:function Hx(){var _this496=this;var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=tl(e,_this496.context);if("linearGradient"===s||"radialGradient"===s){var _s443=sl(t.masterWorkspace,getComputedStyle(e)[_this496.context]),_n369=Do(_s443);if(_n369)i=_n369;else{i=Ii("linearGradient");var _iterator761=_createForOfIteratorHelper($o(_s443)),_step761;try{for(_iterator761.s();!(_step761=_iterator761.n()).done;){var _t1193=_step761.value;i.append(_t1193.cloneNode());}}catch(err){_iterator761.e(err);}finally{_iterator761.f();}}}else if("solid"===s){var _t1194="",_s444=el(e,_this496.context);_t1194=_s444?Go(_s444):getComputedStyle(e)[_this496.context];var _vo3=vo(_t1194,"hsla"),_vo4=_slicedToArray(_vo3,4),_n370=_vo4[0],_o286=_vo4[1],_l249=_vo4[2],_a190=_vo4[3],_h151=_l249-20<0?0:_l249-20,_r95=yo([_n370,_o286,_l249,_a190],"hsla","rgba"),_d75=yo([_n370,_o286,_h151,_a190],"hsla","rgba");i=$i("\n          <linearGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r95,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d75,"\"></stop>\n          </linearGradient>\n        "));}else i=$i('\n          <linearGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </linearGradient>\n        ');return i;};var _iterator762=_createForOfIteratorHelper(i),_step762;try{for(_iterator762.s();!(_step762=_iterator762.n()).done;){var _t1199=_step762.value;mi(_t1199,s);}}catch(err){_iterator762.e(err);}finally{_iterator762.f();}if(s&&!1===s.collapsed){var _e895=s.startContainer.closest("text"),_i864=_e895.querySelectorAll("tspan"),_l250=fi(s,_e895),_a191=_l250.length>0?_l250:_i864,_h152=_a191[0];if("linearGradient"===tl(_h152,this.context)){var _e896=sl(t.masterWorkspace,getComputedStyle(_h152)[this.context]);var _iterator763=_createForOfIteratorHelper(_a191),_step763;try{for(_iterator763.s();!(_step763=_iterator763.n()).done;){var _t1195=_step763.value;_t1195!==_h152&&(_t1195.style[this.context]="url(#".concat(_e896.id,")"));}}catch(err){_iterator763.e(err);}finally{_iterator763.f();}}else{var _i865=o(_h152);var _iterator764=_createForOfIteratorHelper(_a191),_step764;try{for(_iterator764.s();!(_step764=_iterator764.n()).done;){var _s445=_step764.value;var _o287=Ei(_e895),_l251=tt(_o287.x+_o287.width/2,n),_a192=tt(_o287.y,n),_h153=tt(_o287.x+_o287.width/2,n),_r96=tt(_o287.y+_o287.height,n),_d76=Ii("svg:linearGradient");if(_d76.setAttribute("gradientUnits","userSpaceOnUse"),_d76.setAttribute("x1",_l251),_d76.setAttribute("y1",_a192),_d76.setAttribute("x2",_h153),_d76.setAttribute("y2",_r96),_i865.isConnected)_d76.setAttribute("id",t.generateUniqueID(_i865.id)),_d76.setAttribute("href","#"+_i865.id);else{_d76.setAttribute("id",t.generateUniqueID("gradient"));var _iterator765=_createForOfIteratorHelper(Ro(_i865)),_step765;try{for(_iterator765.s();!(_step765=_iterator765.n()).done;){var _t1196=_step765.value;_d76.append(_t1196.cloneNode());}}catch(err){_iterator765.e(err);}finally{_iterator765.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d76),_s445.style[this.context]="url(#".concat(_d76.id,")");}}catch(err){_iterator764.e(err);}finally{_iterator764.f();}}}else{var _i866=e[0];"text"===_i866.localName&&_i866.querySelector("tspan")&&(_i866=_i866.querySelector("tspan"));var _s446=o(_i866);var _iterator766=_createForOfIteratorHelper(e),_step766;try{for(_iterator766.s();!(_step766=_iterator766.n()).done;){var _i867=_step766.value;var _e897=!1;if("linearGradient"===tl(_i867,this.context)){var _n371=sl(t.masterWorkspace,getComputedStyle(_i867)[this.context]);Do(_n371)===_s446&&(_e897=!0);}if(!1===_e897){var _e898=Ei(_i867),_o288="use"===_i867.localName?"objectBoundingBox":"userSpaceOnUse",_l252="use"===_i867.localName?.5:tt(_e898.x+_e898.width/2,n),_a193="use"===_i867.localName?0:tt(_e898.y,n),_h154="use"===_i867.localName?.5:tt(_e898.x+_e898.width/2,n),_r97="use"===_i867.localName?1:tt(_e898.y+_e898.height,n),_d77=Ii("svg:linearGradient");if(_d77.setAttribute("gradientUnits",_o288),_d77.setAttribute("x1",_l252),_d77.setAttribute("y1",_a193),_d77.setAttribute("x2",_h154),_d77.setAttribute("y2",_r97),_s446.isConnected)_d77.setAttribute("id",t.generateUniqueID(_s446.id)),_d77.setAttribute("href","#"+_s446.id);else{_d77.setAttribute("id",t.generateUniqueID("gradient"));var _iterator767=_createForOfIteratorHelper(Ro(_s446)),_step767;try{for(_iterator767.s();!(_step767=_iterator767.n()).done;){var _t1197=_step767.value;_d77.append(_t1197.cloneNode());}}catch(err){_iterator767.e(err);}finally{_iterator767.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d77),"text"===_i867.localName&&_i867.querySelector("tspan")){var _iterator768=_createForOfIteratorHelper(_i867.querySelectorAll("tspan")),_step768;try{for(_iterator768.s();!(_step768=_iterator768.n()).done;){var _t1198=_step768.value;_t1198.style[this.context]="url(#".concat(_d77.id,")"),Dp(this.context,_t1198);}}catch(err){_iterator768.e(err);}finally{_iterator768.f();}}else _i867.style[this.context]="url(#".concat(_d77.id,")"),Dp(this.context,_i867);}}}catch(err){_iterator766.e(err);}finally{_iterator766.f();}}var _iterator769=_createForOfIteratorHelper(i),_step769;try{for(_iterator769.s();!(_step769=_iterator769.n()).done;){var _t1200=_step769.value;gi(_t1200,s);}}catch(err){_iterator769.e(err);}finally{_iterator769.f();}}},{key:"Wx",value:function Wx(){var _this497=this;var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=tl(e,_this497.context);if("linearGradient"===s||"radialGradient"===s){var _s447=sl(t.masterWorkspace,getComputedStyle(e)[_this497.context]),_n372=Do(_s447);if(_n372)i=_n372;else{i=Ii("radialGradient");var _iterator770=_createForOfIteratorHelper($o(_s447)),_step770;try{for(_iterator770.s();!(_step770=_iterator770.n()).done;){var _t1201=_step770.value;i.append(_t1201.cloneNode());}}catch(err){_iterator770.e(err);}finally{_iterator770.f();}}}else if("solid"===s){var _t1202="",_s448=el(e,_this497.context);_t1202=_s448?Go(_s448):getComputedStyle(e)[_this497.context];var _vo5=vo(_t1202,"hsla"),_vo6=_slicedToArray(_vo5,4),_n373=_vo6[0],_o289=_vo6[1],_l253=_vo6[2],_a194=_vo6[3],_h155=_l253-20<0?0:_l253-20,_r98=yo([_n373,_o289,_l253,_a194],"hsla","rgba"),_d78=yo([_n373,_o289,_h155,_a194],"hsla","rgba");i=$i("\n          <radialGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r98,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d78,"\"></stop>\n          </radialGradient>\n        "));}else i=$i('\n          <radialGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </radialGradient>\n        ');return i;};var _iterator771=_createForOfIteratorHelper(i),_step771;try{for(_iterator771.s();!(_step771=_iterator771.n()).done;){var _t1207=_step771.value;mi(_t1207,s);}}catch(err){_iterator771.e(err);}finally{_iterator771.f();}if(s&&!1===s.collapsed){var _e899=s.startContainer.closest("text"),_i868=_e899.querySelectorAll("tspan"),_l254=fi(s,_e899),_a195=_l254.length>0?_l254:_i868,_h156=_a195[0];if("radialGradient"===tl(_h156,this.context)){var _e900=sl(t.masterWorkspace,getComputedStyle(_h156)[this.context]);var _iterator772=_createForOfIteratorHelper(_a195),_step772;try{for(_iterator772.s();!(_step772=_iterator772.n()).done;){var _t1203=_step772.value;_t1203!==_h156&&(_t1203.style[this.context]="url(#".concat(_e900.id,")"));}}catch(err){_iterator772.e(err);}finally{_iterator772.f();}}else{var _i869=o(_h156);var _iterator773=_createForOfIteratorHelper(_a195),_step773;try{for(_iterator773.s();!(_step773=_iterator773.n()).done;){var _s449=_step773.value;var _o290=Ei(_e899),_l255=tt(_o290.x+_o290.width/2,n),_a196=tt(_o290.y+_o290.height/2,n),_h157=tt(_o290.width/2,n),_r99=Ii("svg:radialGradient");if(_r99.setAttribute("gradientUnits","userSpaceOnUse"),_r99.setAttribute("cx",_l255),_r99.setAttribute("cy",_a196),_r99.setAttribute("r",_h157),_i869.isConnected)_r99.setAttribute("id",t.generateUniqueID(_i869.id)),_r99.setAttribute("href","#"+_i869.id);else{_r99.setAttribute("id",t.generateUniqueID("gradient"));var _iterator774=_createForOfIteratorHelper(Ro(_i869)),_step774;try{for(_iterator774.s();!(_step774=_iterator774.n()).done;){var _t1204=_step774.value;_r99.append(_t1204.cloneNode());}}catch(err){_iterator774.e(err);}finally{_iterator774.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r99),_s449.style[this.context]="url(#".concat(_r99.id,")");}}catch(err){_iterator773.e(err);}finally{_iterator773.f();}}}else{var _i870=e[0];"text"===_i870.localName&&_i870.querySelector("tspan")&&(_i870=_i870.querySelector("tspan"));var _s450=o(_i870);var _iterator775=_createForOfIteratorHelper(e),_step775;try{for(_iterator775.s();!(_step775=_iterator775.n()).done;){var _i871=_step775.value;var _e901=!1;if("radialGradient"===tl(_i871,this.context)){var _n374=sl(t.masterWorkspace,getComputedStyle(_i871)[this.context]);Do(_n374)===_s450&&(_e901=!0);}if(!1===_e901){var _e902=Ei(_i871),_o291="use"===_i871.localName?"objectBoundingBox":"userSpaceOnUse",_l256="use"===_i871.localName?.5:tt(_e902.x+_e902.width/2,n),_a197="use"===_i871.localName?.5:tt(_e902.y+_e902.height/2,n),_h158="use"===_i871.localName?.5:tt(_e902.width/2,n),_r100=Ii("svg:radialGradient");if(_r100.setAttribute("gradientUnits",_o291),_r100.setAttribute("cx",_l256),_r100.setAttribute("cy",_a197),_r100.setAttribute("r",_h158),_s450.isConnected)_r100.setAttribute("id",t.generateUniqueID(_s450.id)),_r100.setAttribute("href","#"+_s450.id);else{_r100.setAttribute("id",t.generateUniqueID("gradient"));var _iterator776=_createForOfIteratorHelper(Ro(_s450)),_step776;try{for(_iterator776.s();!(_step776=_iterator776.n()).done;){var _t1205=_step776.value;_r100.append(_t1205.cloneNode());}}catch(err){_iterator776.e(err);}finally{_iterator776.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r100),"text"===_i871.localName&&_i871.querySelector("tspan")){var _iterator777=_createForOfIteratorHelper(_i871.querySelectorAll("tspan")),_step777;try{for(_iterator777.s();!(_step777=_iterator777.n()).done;){var _t1206=_step777.value;_t1206.style[this.context]="url(#".concat(_r100.id,")"),Dp(this.context,_t1206);}}catch(err){_iterator777.e(err);}finally{_iterator777.f();}}else _i871.style[this.context]="url(#".concat(_r100.id,")"),Dp(this.context,_i871);}}}catch(err){_iterator775.e(err);}finally{_iterator775.f();}}var _iterator778=_createForOfIteratorHelper(i),_step778;try{for(_iterator778.s();!(_step778=_iterator778.n()).done;){var _t1208=_step778.value;gi(_t1208,s);}}catch(err){_iterator778.e(err);}finally{_iterator778.f();}}},{key:"Yx",value:function Yx(){var _this498=this;var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var n=function n(e){var i=null;if("pattern"===tl(e,_this498.context)){var _s451=getComputedStyle(e)[_this498.context];i=sl(t.masterWorkspace,_s451),i=Ho(i);}else{var _e903=t.masterWorkspace.querySelector("pattern:not([href])");i=_e903||$i('\n            <pattern x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n              <rect x="0" y="0" width="50" height="100" style="fill: black;"></rect>\n            </pattern>\n          ');}return i;};var _iterator779=_createForOfIteratorHelper(i),_step779;try{for(_iterator779.s();!(_step779=_iterator779.n()).done;){var _t1212=_step779.value;mi(_t1212,s);}}catch(err){_iterator779.e(err);}finally{_iterator779.f();}if(s&&!1===s.collapsed){var _e904=s.startContainer.closest("text"),_i872=_e904.querySelectorAll("tspan"),_o292=fi(s,_e904),_l257=_o292.length>0?_o292:_i872,_a198=_l257[0];if("pattern"===tl(_a198,this.context)){var _e905=sl(t.masterWorkspace,getComputedStyle(_a198)[this.context]);var _iterator780=_createForOfIteratorHelper(_l257),_step780;try{for(_iterator780.s();!(_step780=_iterator780.n()).done;){var _t1209=_step780.value;_t1209!==_a198&&(_t1209.style[this.context]="url(#".concat(_e905.id,")"));}}catch(err){_iterator780.e(err);}finally{_iterator780.f();}}else{var _i873=n(_a198);!1===_i873.isConnected&&(_i873.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i873));var _s452=Ii("svg:pattern");_s452.setAttribute("id",t.generateUniqueID(_i873.id)),_s452.setAttribute("href","#"+_i873.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s452);var _iterator781=_createForOfIteratorHelper(_l257),_step781;try{for(_iterator781.s();!(_step781=_iterator781.n()).done;){var _t1210=_step781.value;_t1210.style[this.context]="url(#".concat(_s452.id,")");}}catch(err){_iterator781.e(err);}finally{_iterator781.f();}Jo(_s452,_e904,t.transformPrecision);}}else{var _i874=e[0];"text"===_i874.localName&&_i874.querySelector("tspan")&&(_i874=_i874.querySelector("tspan"));var _s453=n(_i874);!1===_s453.isConnected&&(_s453.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s453));var _iterator782=_createForOfIteratorHelper(e),_step782;try{for(_iterator782.s();!(_step782=_iterator782.n()).done;){var _i875=_step782.value;var _e906=!1;if("pattern"===tl(_i875,this.context)){var _n375=sl(t.masterWorkspace,getComputedStyle(_i875)[this.context]);Ho(_n375)===_s453&&(_e906=!0);}if(!1===_e906){var _e907=Ii("svg:pattern");if(_e907.setAttribute("id",t.generateUniqueID(_s453.id)),_e907.setAttribute("href","#"+_s453.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e907),"text"===_i875.localName&&_i875.querySelector("tspan")){var _iterator783=_createForOfIteratorHelper(_i875.querySelectorAll("tspan")),_step783;try{for(_iterator783.s();!(_step783=_iterator783.n()).done;){var _t1211=_step783.value;_t1211.style[this.context]="url(#".concat(_e907.id,")"),Dp(this.context,_t1211);}}catch(err){_iterator783.e(err);}finally{_iterator783.f();}}else _i875.style[this.context]="url(#".concat(_e907.id,")"),Dp(this.context,_i875);Jo(_e907,_i875,t.transformPrecision);}}}catch(err){_iterator782.e(err);}finally{_iterator782.f();}}var _iterator784=_createForOfIteratorHelper(i),_step784;try{for(_iterator784.s();!(_step784=_iterator784.n()).done;){var _t1213=_step784.value;gi(_t1213,s);}}catch(err){_iterator784.e(err);}finally{_iterator784.f();}}},{key:"qx",value:function qx(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator785=_createForOfIteratorHelper(i),_step785;try{for(_iterator785.s();!(_step785=_iterator785.n()).done;){var _t1214=_step785.value;mi(_t1214,s);}}catch(err){_iterator785.e(err);}finally{_iterator785.f();}var _iterator786=_createForOfIteratorHelper(e),_step786;try{for(_iterator786.s();!(_step786=_iterator786.n()).done;){var _t1215=_step786.value;if("text"===_t1215.localName&&_t1215.querySelector("tspan")){var _e908=_t1215.querySelectorAll("tspan"),_i876=fi(s,_t1215),_n376=_i876.length>0&&!s.collapsed?_i876:_e908;_t1215.style[this.context]="inherit",Dp(this.context,_t1215);var _iterator787=_createForOfIteratorHelper(_n376),_step787;try{for(_iterator787.s();!(_step787=_iterator787.n()).done;){var _t1216=_step787.value;_t1216.style[this.context]="inherit",Dp(this.context,_t1216);}}catch(err){_iterator787.e(err);}finally{_iterator787.f();}}else _t1215.style[this.context]="inherit",Dp(this.context,_t1215);}}catch(err){_iterator786.e(err);}finally{_iterator786.f();}}},{key:"Xx",value:function Xx(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator788=_createForOfIteratorHelper(i),_step788;try{for(_iterator788.s();!(_step788=_iterator788.n()).done;){var _t1217=_step788.value;mi(_t1217,s);}}catch(err){_iterator788.e(err);}finally{_iterator788.f();}var _iterator789=_createForOfIteratorHelper(e),_step789;try{for(_iterator789.s();!(_step789=_iterator789.n()).done;){var _t1218=_step789.value;if("text"===_t1218.localName&&_t1218.querySelector("tspan")){var _e909=_t1218.querySelectorAll("tspan"),_i877=fi(s,_t1218),_n377=_i877.length>0&&!s.collapsed?_i877:_e909;var _iterator791=_createForOfIteratorHelper(_n377),_step791;try{for(_iterator791.s();!(_step791=_iterator791.n()).done;){var _t1219=_step791.value;_t1219.style[this.context]="none";}}catch(err){_iterator791.e(err);}finally{_iterator791.f();}}else _t1218.style[this.context]="none",Dp(this.context,_t1218);}}catch(err){_iterator789.e(err);}finally{_iterator789.f();}var _iterator790=_createForOfIteratorHelper(i),_step790;try{for(_iterator790.s();!(_step790=_iterator790.n()).done;){var _t1220=_step790.value;gi(_t1220,s);}}catch(err){_iterator790.e(err);}finally{_iterator790.f();}}},{key:"Gx",value:function Gx(t){var e=this.Js.board,i=e.selectedTextRange,s=this["#spread-method-buttons"].querySelector("x-button[toggled]"),n=[];e.undoManager.checkpoint("Spread Method");var _iterator792=_createForOfIteratorHelper(this.Zx()),_step792;try{for(_iterator792.s();!(_step792=_iterator792.n()).done;){var _t1222=_step792.value;if("text"===_t1222.localName){var _e911=vi(_t1222);if(i&&i.intersectsNode(_t1222)){var _iterator793=_createForOfIteratorHelper(_e911),_step793;try{for(_iterator793.s();!(_step793=_iterator793.n()).done;){var _t1223=_step793.value;i.intersectsNode(_t1223)&&!n.includes(_t1223.parentElement)&&n.push(_t1223.parentElement);}}catch(err){_iterator793.e(err);}finally{_iterator793.f();}}else{var _iterator794=_createForOfIteratorHelper(_e911),_step794;try{for(_iterator794.s();!(_step794=_iterator794.n()).done;){var _t1224=_step794.value;!1===n.includes(_t1224.parentElement)&&n.push(_t1224.parentElement);}}catch(err){_iterator794.e(err);}finally{_iterator794.f();}}}else n.push(_t1222);}}catch(err){_iterator792.e(err);}finally{_iterator792.f();}for(var _i878=0,_n378=n;_i878<_n378.length;_i878++){var _t1221=_n378[_i878];var _e910=tl(_t1221,this.context);if("linearGradient"===_e910||"radialGradient"===_e910){el(_t1221,this.context).setAttribute("spreadMethod",s.value);}}}},{key:"zx",value:function zx(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.selectedTextRange;t.undoManager.checkpoint("Paint color");var _iterator795=_createForOfIteratorHelper(i),_step795;try{for(_iterator795.s();!(_step795=_iterator795.n()).done;){var _t1228=_step795.value;mi(_t1228,n);}}catch(err){_iterator795.e(err);}finally{_iterator795.f();}if(n&&!1===n.collapsed){var _t1225=n.startContainer.closest("text"),_e912=[];{var _i879=_t1225.querySelectorAll("tspan"),_s454=fi(n,_t1225);_e912=_s454.length>0?_s454:_i879;}var _iterator796=_createForOfIteratorHelper(_e912),_step796;try{for(_iterator796.s();!(_step796=_iterator796.n()).done;){var _t1226=_step796.value;_t1226.style[this.context]="url(#".concat(s,")"),Dp(this.context,_t1226);}}catch(err){_iterator796.e(err);}finally{_iterator796.f();}}else{var _iterator797=_createForOfIteratorHelper(e),_step797;try{for(_iterator797.s();!(_step797=_iterator797.n()).done;){var _t1227=_step797.value;if(_t1227.style[this.context]="url(#".concat(s,")"),Dp(this.context,_t1227),"text"===_t1227.localName&&_t1227.querySelector("tspan")){var _iterator798=_createForOfIteratorHelper(_t1227.querySelectorAll("tspan")),_step798;try{for(_iterator798.s();!(_step798=_iterator798.n()).done;){var _e913=_step798.value;_e913.style[this.context]="url(#".concat(s,")"),Dp(this.context,_e913);}}catch(err){_iterator798.e(err);}finally{_iterator798.f();}}}}catch(err){_iterator797.e(err);}finally{_iterator797.f();}}var _iterator799=_createForOfIteratorHelper(i),_step799;try{for(_iterator799.s();!(_step799=_iterator799.n()).done;){var _t1229=_step799.value;gi(_t1229,n);}}catch(err){_iterator799.e(err);}finally{_iterator799.f();}t.collectGarbage();}},{key:"Ox",value:function Ox(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.masterWorkspace.querySelector("#"+s),o=Go(n),l=t.selectedTextRange;t.undoManager.checkpoint("Unlink color"),t.collectGarbage();var _iterator800=_createForOfIteratorHelper(i),_step800;try{for(_iterator800.s();!(_step800=_iterator800.n()).done;){var _t1233=_step800.value;mi(_t1233,l);}}catch(err){_iterator800.e(err);}finally{_iterator800.f();}if(l&&!1===l.collapsed){var _t1230=l.startContainer.closest("text"),_e914=[];{var _i880=_t1230.querySelectorAll("tspan"),_s455=fi(l,_t1230);_e914=_s455.length>0?_s455:_i880;}var _iterator801=_createForOfIteratorHelper(_e914),_step801;try{for(_iterator801.s();!(_step801=_iterator801.n()).done;){var _t1231=_step801.value;_t1231.style[this.context]=o,Dp(this.context,_t1231);}}catch(err){_iterator801.e(err);}finally{_iterator801.f();}}else{var _iterator802=_createForOfIteratorHelper(e),_step802;try{for(_iterator802.s();!(_step802=_iterator802.n()).done;){var _t1232=_step802.value;if(_t1232.style[this.context]=o,Dp(this.context,_t1232),"text"===_t1232.localName&&_t1232.querySelector("tspan")){var _iterator803=_createForOfIteratorHelper(_t1232.querySelectorAll("tspan")),_step803;try{for(_iterator803.s();!(_step803=_iterator803.n()).done;){var _e915=_step803.value;_e915.style[this.context]=o,Dp(this.context,_e915);}}catch(err){_iterator803.e(err);}finally{_iterator803.f();}}}}catch(err){_iterator802.e(err);}finally{_iterator802.f();}}var _iterator804=_createForOfIteratorHelper(i),_step804;try{for(_iterator804.s();!(_step804=_iterator804.n()).done;){var _t1234=_step804.value;gi(_t1234,l);}}catch(err){_iterator804.e(err);}finally{_iterator804.f();}}},{key:"Ex",value:function Ex(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#gradient-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=ri(this["#paint-type-buttons"].value),l=t.selectedTextRange,a=t.geometryPrecision;t.undoManager.checkpoint("Gradient");var _iterator805=_createForOfIteratorHelper(i),_step805;try{for(_iterator805.s();!(_step805=_iterator805.n()).done;){var _t1242=_step805.value;mi(_t1242,l);}}catch(err){_iterator805.e(err);}finally{_iterator805.f();}if(l&&!1===l.collapsed){var _e916=l.startContainer.closest("text"),_i881=[],_s456=null;{var _t1235=_e916.querySelectorAll("tspan"),_s457=fi(l,_e916);_i881=_s457.length>0?_s457:_t1235;}{var _e917=tl(_i881[0],this.context);if("linearGradient"===_e917||"radialGradient"===_e917){var _e918=getComputedStyle(_i881[0])[this.context];_s456=sl(t.masterWorkspace,_e918);}}if(_s456&&Do(_s456)===n){var _iterator806=_createForOfIteratorHelper(_i881),_step806;try{for(_iterator806.s();!(_step806=_iterator806.n()).done;){var _t1236=_step806.value;_t1236!==_i881[0]&&(_t1236.style[this.context]="url(#".concat(_s456.id,")"));}}catch(err){_iterator806.e(err);}finally{_iterator806.f();}}else{var _s458=Ei(_e916);var _iterator807=_createForOfIteratorHelper(_i881),_step807;try{for(_iterator807.s();!(_step807=_iterator807.n()).done;){var _e919=_step807.value;var _i882=Ii("svg:".concat(o));if(_i882.setAttribute("id",t.generateUniqueID(n.id)),_i882.setAttribute("href","#"+n.id),_i882.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===o){var _t1237=tt(_s458.x+_s458.width/2,a),_e920=tt(_s458.y,a),_n379=tt(_s458.x+_s458.width/2,a),_o293=tt(_s458.y+_s458.height,a);_i882.setAttribute("x1",_t1237),_i882.setAttribute("y1",_e920),_i882.setAttribute("x2",_n379),_i882.setAttribute("y2",_o293);}else if("radialGradient"===o){var _t1238=tt(_s458.x+_s458.width/2,a),_e921=tt(_s458.y+_s458.height/2,a),_n380=tt(_s458.width/2,a);_i882.setAttribute("cx",_t1238),_i882.setAttribute("cy",_e921),_i882.setAttribute("r",_n380);}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i882),_e919.style[this.context]="url(#".concat(_i882.id,")"),Dp(this.context,_e919);}}catch(err){_iterator807.e(err);}finally{_iterator807.f();}}}else{var _iterator808=_createForOfIteratorHelper(e),_step808;try{for(_iterator808.s();!(_step808=_iterator808.n()).done;){var _i883=_step808.value;if(tl(_i883,this.context)===o){var _e923=sl(t.masterWorkspace,getComputedStyle(_i883)[this.context]);if(Do(_e923)===n)continue;}var _e922=Ei(_i883),_s459=Ii("svg:".concat(o));if(_s459.setAttribute("id",t.generateUniqueID(n.id)),_s459.setAttribute("href","#"+n.id),_s459.setAttribute("gradientUnits","use"===_i883.localName?"objectBoundingBox":"userSpaceOnUse"),"linearGradient"===o){var _t1239="use"===_i883.localName?.5:tt(_e922.x+_e922.width/2,a),_n381="use"===_i883.localName?0:tt(_e922.y,a),_o294="use"===_i883.localName?.5:tt(_e922.x+_e922.width/2,a),_l258="use"===_i883.localName?1:tt(_e922.y+_e922.height,a);_s459.setAttribute("x1",_t1239),_s459.setAttribute("y1",_n381),_s459.setAttribute("x2",_o294),_s459.setAttribute("y2",_l258);}else if("radialGradient"===o){var _t1240="use"===_i883.localName?.5:tt(_e922.x+_e922.width/2,a),_n382="use"===_i883.localName?.5:tt(_e922.y+_e922.height/2,a),_o295="use"===_i883.localName?.5:tt(_e922.width/2,a);_s459.setAttribute("cx",_t1240),_s459.setAttribute("cy",_n382),_s459.setAttribute("r",_o295);}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s459),_i883.style[this.context]="url(#".concat(_s459.id,")"),Dp(this.context,_i883),"text"===_i883.localName&&_i883.querySelector("tspan")){var _iterator809=_createForOfIteratorHelper(_i883.querySelectorAll("tspan")),_step809;try{for(_iterator809.s();!(_step809=_iterator809.n()).done;){var _t1241=_step809.value;_t1241.style[this.context]="url(#".concat(_s459.id,")"),Dp(this.context,_t1241);}}catch(err){_iterator809.e(err);}finally{_iterator809.f();}}}}catch(err){_iterator808.e(err);}finally{_iterator808.f();}}var _iterator810=_createForOfIteratorHelper(i),_step810;try{for(_iterator810.s();!(_step810=_iterator810.n()).done;){var _t1243=_step810.value;gi(_t1243,l);}}catch(err){_iterator810.e(err);}finally{_iterator810.f();}t.collectGarbage();}},{key:"Tx",value:function Tx(){var t=this.Js.board,e=t.selectedTextRange,i=t.geometryPrecision,s=[];t.undoManager.checkpoint("Unlink gradient"),t.collectGarbage();var _iterator811=_createForOfIteratorHelper(this.Zx()),_step811;try{for(_iterator811.s();!(_step811=_iterator811.n()).done;){var _t1249=_step811.value;if("text"===_t1249.localName){var _i886=vi(_t1249);if(e&&e.intersectsNode(_t1249)){"backward"===e.direction&&_i886.reverse();var _iterator813=_createForOfIteratorHelper(_i886),_step813;try{for(_iterator813.s();!(_step813=_iterator813.n()).done;){var _t1250=_step813.value;e.intersectsNode(_t1250)&&!1===s.includes(_t1250.parentElement)&&s.push(_t1250.parentElement);}}catch(err){_iterator813.e(err);}finally{_iterator813.f();}}else{var _iterator814=_createForOfIteratorHelper(_i886),_step814;try{for(_iterator814.s();!(_step814=_iterator814.n()).done;){var _t1251=_step814.value;!1===s.includes(_t1251.parentElement)&&s.push(_t1251.parentElement);}}catch(err){_iterator814.e(err);}finally{_iterator814.f();}}}else s.push(_t1249);}}catch(err){_iterator811.e(err);}finally{_iterator811.f();}for(var _i884=0,_s460=s;_i884<_s460.length;_i884++){var _e924=_s460[_i884];var _s461=tl(_e924,this.context),_n383=null;if("linearGradient"===_s461||"radialGradient"===_s461){_n383=sl(t.masterWorkspace,getComputedStyle(_e924)[this.context]);{var _o296=Ii("svg:".concat(_s461));_o296.setAttribute("id",t.generateUniqueID("gradient"));var _iterator812=_createForOfIteratorHelper($o(_n383)),_step812;try{for(_iterator812.s();!(_step812=_iterator812.n()).done;){var _t1248=_step812.value;_o296.append(_t1248.cloneNode());}}catch(err){_iterator812.e(err);}finally{_iterator812.f();}{var _t1244=[],_l259=[];"linearGradient"===_s461?_t1244=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod"]:"radialGradient"===_s461&&(_t1244=["cx","cy","r","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod"]);for(var _i885=0,_t1245=_t1244;_i885<_t1245.length;_i885++){var _e925=_t1245[_i885];var _t1246=Io(_n383,_e925);null!==_t1246&&(_o296.setAttribute(_e925,_t1246),_l259.push(_e925));}if(0===_l259.length){var _t1247=Ei(_e924);if(_o296.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===_s461){var _e926=tt(_t1247.x,i),_s462=tt(_t1247.y,i),_n384=tt(_t1247.x+_t1247.width,i),_l260=tt(_t1247.y,i);_o296.setAttribute("x1",_e926),_o296.setAttribute("y1",_s462),_o296.setAttribute("x2",_n384),_o296.setAttribute("y2",_l260);}else if("radialGradient"===_s461){var _e927=tt(_t1247.x+_t1247.width/2,i),_s463=tt(_t1247.y+_t1247.height/2,i),_n385=tt(_t1247.width/2,i);_o296.setAttribute("cx",_e927),_o296.setAttribute("cy",_s463),_o296.setAttribute("r",_n385);}}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_o296),_e924.style[this.context]="url(#".concat(_o296.id,")"),Dp(this.context,_e924);}}}t.collectGarbage();}},{key:"$x",value:function $x(){this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),this["#color-picker"].format);}},{key:"Ix",value:function Ix(t){this["#color-picker"].type=t.detail.value,this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),this["#color-picker"].type);}},{key:"Ax",value:function Ax(t){var _this499=this;var e,_i888,s=this.Js.board,n=[].concat(_toConsumableArray(s.linearGradientHud.selectedStops),_toConsumableArray(s.radialGradientHud.selectedStops));if(s.undoManager.checkpoint("Change color"),n.length>0)this["#color-picker"].addEventListener("change",e=function e(){var _iterator815=_createForOfIteratorHelper(n),_step815;try{for(_iterator815.s();!(_step815=_iterator815.n()).done;){var _t1252=_step815.value;_t1252.style.stopColor=_this499["#color-picker"].value,Dp("stop-color",_t1252);}}catch(err){_iterator815.e(err);}finally{_iterator815.f();}}),this["#color-picker"].addEventListener("changeend",_i888=function i(){_this499["#color-picker"].removeEventListener("change",e),_this499["#color-picker"].removeEventListener("changeend",_i888);});else{var _t1253=this.Zx(),_n386=_t1253.filter(function(t){return"text"===t.localName;}),_o297=s.selectedTextRange,_l261=[],_a199=null;null!==this["#color-select"].value&&(_a199=s.masterWorkspace.querySelector("#"+this["#color-select"].value));var _iterator816=_createForOfIteratorHelper(_n386),_step816;try{for(_iterator816.s();!(_step816=_iterator816.n()).done;){var _t1257=_step816.value;mi(_t1257,_o297);}}catch(err){_iterator816.e(err);}finally{_iterator816.f();}var _iterator817=_createForOfIteratorHelper(_t1253),_step817;try{for(_iterator817.s();!(_step817=_iterator817.n()).done;){var _e928=_step817.value;if("text"===_e928.localName&&_e928.querySelector("tspan")){var _t1258=_e928.querySelectorAll("tspan"),_i889=fi(_o297,_e928),_s464=_i889.length>0&&!_o297.collapsed?_i889:_t1258;_l261.push.apply(_l261,_toConsumableArray(_s464));}else _l261.push(_e928);}}catch(err){_iterator817.e(err);}finally{_iterator817.f();}this["#color-picker"].addEventListener("change",e=function e(){if(_a199){Uo(_a199,_this499["#color-picker"].value);var _iterator818=_createForOfIteratorHelper(_l261),_step818;try{for(_iterator818.s();!(_step818=_iterator818.n()).done;){var _t1254=_step818.value;_t1254.style[_this499.context]="url(#".concat(_a199.id,")"),Dp(_this499.context,_t1254);}}catch(err){_iterator818.e(err);}finally{_iterator818.f();}}else{var _iterator819=_createForOfIteratorHelper(_l261),_step819;try{for(_iterator819.s();!(_step819=_iterator819.n()).done;){var _t1255=_step819.value;_t1255.style[_this499.context]=_this499["#color-picker"].value,Dp(_this499.context,_t1255);}}catch(err){_iterator819.e(err);}finally{_iterator819.f();}}}),this["#color-picker"].addEventListener("changeend",_i888=function _i887(){_this499["#color-picker"].removeEventListener("change",e),_this499["#color-picker"].removeEventListener("changeend",_i888);var _iterator820=_createForOfIteratorHelper(_n386),_step820;try{for(_iterator820.s();!(_step820=_iterator820.n()).done;){var _t1256=_step820.value;gi(_t1256,_o297);}}catch(err){_iterator820.e(err);}finally{_iterator820.f();}});}}},{key:"Lx",value:function Lx(t){0===t.button&&"edit-tool-span"===t.target.id&&this.Js.toggleTool("edit-tool");}},{key:"Rx",value:function Rx(){var _this500=this;var t,_e929,i=this.Js.board,s=[].concat(_toConsumableArray(i.linearGradientHud.selectedStops),_toConsumableArray(i.radialGradientHud.selectedStops));i.undoManager.checkpoint("Stop opacity"),this.Px=!0,this["#stop-opacity-section"].addEventListener("change",t=function t(_t1260){_t1260.target===_this500["#stop-opacity-slider"]?_this500["#stop-opacity-input"].value=_this500["#stop-opacity-slider"].value:_t1260.target===_this500["#stop-opacity-input"]&&(_this500["#stop-opacity-slider"].value=_this500["#stop-opacity-input"].value),_this500["#stop-opacity-slider"].mixed=!1,_this500["#stop-opacity-input"].mixed=!1;var _iterator821=_createForOfIteratorHelper(s),_step821;try{for(_iterator821.s();!(_step821=_iterator821.n()).done;){var _t1259=_step821.value;_t1259.style.setProperty("stop-opacity",_this500["#stop-opacity-slider"].value);}}catch(err){_iterator821.e(err);}finally{_iterator821.f();}}),this["#stop-opacity-section"].addEventListener("changeend",_e929=function e(){_this500["#stop-opacity-section"].removeEventListener("change",t),_this500["#stop-opacity-section"].removeEventListener("changeend",_e929);var _iterator822=_createForOfIteratorHelper(s),_step822;try{for(_iterator822.s();!(_step822=_iterator822.n()).done;){var _t1261=_step822.value;Dp("stop-opacity",_t1261);}}catch(err){_iterator822.e(err);}finally{_iterator822.f();}_this500.Px=!1;});}},{key:"Bx",value:function Bx(){var t=this.Js.board,e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#pattern-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Pattern");var _iterator823=_createForOfIteratorHelper(i),_step823;try{for(_iterator823.s();!(_step823=_iterator823.n()).done;){var _t1262=_step823.value;mi(_t1262,o);}}catch(err){_iterator823.e(err);}finally{_iterator823.f();}var _iterator824=_createForOfIteratorHelper(e),_step824;try{for(_iterator824.s();!(_step824=_iterator824.n()).done;){var _i890=_step824.value;if("text"===_i890.localName&&_i890.querySelectorAll("tspan").length>0){var _e930=_i890.querySelectorAll("tspan"),_s465=fi(o,_i890),_l262=_s465.length>0&&!o.collapsed?_s465:_e930,_a200=el(_l262[0],this.context),_h159=_a200&&"pattern"===_a200.localName?_a200:null;if(_h159&&Qo([_h159,n])){var _iterator826=_createForOfIteratorHelper(_l262),_step826;try{for(_iterator826.s();!(_step826=_iterator826.n()).done;){var _t1263=_step826.value;_t1263.style[this.context]="url(#".concat(_h159.id,")");}}catch(err){_iterator826.e(err);}finally{_iterator826.f();}}else{var _e931=Ii("svg:pattern");_e931.setAttribute("id",t.generateUniqueID(n.id)),_e931.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e931.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e931);var _iterator827=_createForOfIteratorHelper(_l262),_step827;try{for(_iterator827.s();!(_step827=_iterator827.n()).done;){var _t1264=_step827.value;_t1264.style[this.context]="url(#".concat(_e931.id,")");}}catch(err){_iterator827.e(err);}finally{_iterator827.f();}Jo(_e931,_i890,t.transformPrecision);}}else{if("pattern"===tl(_i890,this.context)){var _e933=getComputedStyle(_i890)[this.context],_s466=sl(t.masterWorkspace,_e933);if(Qo([_s466,n]))continue;}var _e932=Ii("svg:pattern");_e932.setAttribute("id",t.generateUniqueID(n.id)),_e932.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e932.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e932),_i890.style[this.context]="url(#".concat(_e932.id,")"),Dp(this.context,_i890),Jo(_e932,_i890,t.transformPrecision);}}}catch(err){_iterator824.e(err);}finally{_iterator824.f();}var _iterator825=_createForOfIteratorHelper(i),_step825;try{for(_iterator825.s();!(_step825=_iterator825.n()).done;){var _t1265=_step825.value;gi(_t1265,o);}}catch(err){_iterator825.e(err);}finally{_iterator825.f();}t.collectGarbage();}},{key:"Ux",value:function Ux(){var t=this.Js.board,e=this.Zx(),i=t.selectedTextRange;t.undoManager.checkpoint("Paint order");var _iterator828=_createForOfIteratorHelper(e),_step828;try{for(_iterator828.s();!(_step828=_iterator828.n()).done;){var _t1266=_step828.value;if("text"===_t1266.localName){mi(_t1266,i);var _e934=_t1266.querySelectorAll("tspan"),_s467=fi(i,_t1266),_n387=_s467.length>0&&!i.collapsed?_s467:_e934;if(_n387.length>0){var _iterator829=_createForOfIteratorHelper(_n387),_step829;try{for(_iterator829.s();!(_step829=_iterator829.n()).done;){var _t1267=_step829.value;_t1267.style.paintOrder=this["#paint-order-switch"].value.join(" ");}}catch(err){_iterator829.e(err);}finally{_iterator829.f();}}else _t1266.style.paintOrder=this["#paint-order-switch"].value.join(" "),Dp("paint-order",_t1266);gi(_t1266,i);}else _t1266.style.paintOrder=this["#paint-order-switch"].value.join(" "),Dp("paint-order",_t1266);}}catch(err){_iterator828.e(err);}finally{_iterator828.f();}}},{key:"qs",value:function qs(){var _this501=this;var t=this.Js.board,e=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops)),i=[],s=null,n=null,o=null;{var _l263=t.selectedTextRange;var _iterator830=_createForOfIteratorHelper(this.Zx()),_step830;try{for(_iterator830.s();!(_step830=_iterator830.n()).done;){var _t1269=_step830.value;if("text"===_t1269.localName){var _e935=vi(_t1269);if(_l263&&_l263.intersectsNode(_t1269)){"backward"===_l263.direction&&_e935.reverse();var _iterator831=_createForOfIteratorHelper(_e935),_step831;try{for(_iterator831.s();!(_step831=_iterator831.n()).done;){var _t1270=_step831.value;_l263.intersectsNode(_t1270)&&!1===i.includes(_t1270.parentElement)&&i.push(_t1270.parentElement);}}catch(err){_iterator831.e(err);}finally{_iterator831.f();}}else{var _iterator832=_createForOfIteratorHelper(_e935),_step832;try{for(_iterator832.s();!(_step832=_iterator832.n()).done;){var _t1271=_step832.value;!1===i.includes(_t1271.parentElement)&&i.push(_t1271.parentElement);}}catch(err){_iterator832.e(err);}finally{_iterator832.f();}}}else i.push(_t1269);}}catch(err){_iterator830.e(err);}finally{_iterator830.f();}if(i.length>0&&(s=i[0]),e.length>0){var _t1268=e[0].closest("linearGradient, radialGradient"),_n388=i.find(function(e){return el(e,_this501.context)===_t1268;});_n388&&(s=_n388);}s&&(n=tl(s,this.context),o=el(s,this.context));}if(this["#section-heading"].disabled=!s,this["#inherit-paint-button"].hidden="symbol"!==t.currentWorkspace.getAttribute("data-bx-workspace"),s){var _e936=n;"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&"inherit"===s.style[this.context]&&(_e936="inherit");var _o298=il(i,this.context);if(this["#paint-type-heading"].disabled=!1,"solid"===_e936){var _iterator833=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step833;try{for(_iterator833.s();!(_step833=_iterator833.n()).done;){var _t1272=_step833.value;_t1272.disabled=!1,"solid"===_t1272.value?(_t1272.toggled=!0,_t1272.mixed=_o298):(_t1272.toggled=!1,_t1272.mixed=!1);}}catch(err){_iterator833.e(err);}finally{_iterator833.f();}}else if("linearGradient"===_e936){var _iterator834=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step834;try{for(_iterator834.s();!(_step834=_iterator834.n()).done;){var _t1273=_step834.value;_t1273.disabled=!1,"linear-gradient"===_t1273.value?(_t1273.toggled=!0,_t1273.mixed=_o298):(_t1273.toggled=!1,_t1273.mixed=!1);}}catch(err){_iterator834.e(err);}finally{_iterator834.f();}}else if("radialGradient"===_e936){var _iterator835=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step835;try{for(_iterator835.s();!(_step835=_iterator835.n()).done;){var _t1274=_step835.value;_t1274.disabled=!1,"radial-gradient"===_t1274.value?(_t1274.toggled=!0,_t1274.mixed=_o298):(_t1274.toggled=!1,_t1274.mixed=!1);}}catch(err){_iterator835.e(err);}finally{_iterator835.f();}}else if("pattern"===_e936){var _iterator836=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step836;try{for(_iterator836.s();!(_step836=_iterator836.n()).done;){var _t1275=_step836.value;_t1275.disabled=!1,"pattern"===_t1275.value?(_t1275.toggled=!0,_t1275.mixed=_o298):(_t1275.toggled=!1,_t1275.mixed=!1);}}catch(err){_iterator836.e(err);}finally{_iterator836.f();}}else if("inherit"===_e936){var _iterator837=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step837;try{for(_iterator837.s();!(_step837=_iterator837.n()).done;){var _t1276=_step837.value;_t1276.disabled=!1,"inherit"===_t1276.value?(_t1276.toggled=!0,_t1276.mixed=_o298):(_t1276.toggled=!1,_t1276.mixed=!1);}}catch(err){_iterator837.e(err);}finally{_iterator837.f();}}else if("none"===_e936){var _iterator838=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step838;try{for(_iterator838.s();!(_step838=_iterator838.n()).done;){var _t1277=_step838.value;_t1277.disabled=!1,"none"===_t1277.value?(_t1277.toggled=!0,_t1277.mixed=_o298):(_t1277.toggled=!1,_t1277.mixed=!1);}}catch(err){_iterator838.e(err);}finally{_iterator838.f();}}}else{this["#paint-type-heading"].disabled=!0;var _iterator839=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step839;try{for(_iterator839.s();!(_step839=_iterator839.n()).done;){var _t1278=_step839.value;_t1278.disabled=!0,_t1278.toggled=!1,_t1278.mixed=!1;}}catch(err){_iterator839.e(err);}finally{_iterator839.f();}}if("solid"===n?(this["#color-select-section"].hidden=!1,this["#color-select"].enabled=!0,this["#color-select"].mixed=il(i,this.context),this["#color-select"].value=o?o.id:null,this["#color-unlink-button"].hidden=null===o):(this["#color-select-section"].hidden=!0,this["#color-select"].enabled=!1),"linearGradient"===n||"radialGradient"===n){var _t1279=Do(o);this["#gradient-select-section"].hidden=!1,this["#gradient-select"].enabled=!0,this["#gradient-select"].mixed=il(i,this.context),this["#gradient-select"].value=_t1279?_t1279.id:null,this["#gradient-unlink-button"].hidden=!1===this.Kx();}else this["#gradient-select-section"].hidden=!0,this["#gradient-select"].enabled=!1;if("pattern"===n){var _e937=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern"));_e937=_e937.filter(function(t){return!1===t.hasAttribute("href");});var _s468=Ho(o);this["#pattern-select-section"].hidden=!1,this["#pattern-select"].enabled=!0,this["#pattern-select"].mixed=il(i,this.context),this["#pattern-select"].value=_s468?_s468.id:null;}else this["#pattern-select-section"].hidden=!0,this["#pattern-select"].mixed=!1,this["#pattern-select"].enabled=!1;if("solid"===n){var _t1280=getComputedStyle(s)[this.context],_e938=il(i,this.context);if(!1===Co(_t1280)){var _e939=co.fromString(_t1280),_i891=this.Js.board.masterWorkspace.querySelector(_e939.value);_t1280=Go(_i891);}this["#color-section"].hidden=!1,this["#color-section"].style.marginTop="11px",this["#color-section-heading"].hidden=!0,this["#color-picker"].hidden=!1,this["#color-picker"].value=_t1280,this["#color-picker"].mixed=_e938,this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0;}else if("linearGradient"===n||"radialGradient"===n){var _e940=il(i,this.context),_s469=t["".concat(n,"Hud")].selectedStops;this["#color-section"].hidden=!1,this["#color-section"].style.marginTop=null,this["#color-section-heading"].hidden=!1,this["#color-section-heading"].textContent="Stop color",0===_s469.length?(this["#color-picker"].hidden=!0,this["#color-picker-type-buttons"].hidden=!0,this["#color-picker-hint"].hidden=!1):(this["#color-picker"].hidden=!1,this["#color-picker"].mixed=_e940,this["#color-picker"].value=getComputedStyle(_s469[0]).stopColor||"#000",this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0);}else this["#color-section"].hidden=!0;if(!1===this.Px)if("linearGradient"===n||"radialGradient"===n){var _e941=t["".concat(n,"Hud")].selectedStops;if(0===_e941.length)this["#stop-opacity-section"].hidden=!0;else{var _t1281=_e941.map(function(t){return getComputedStyle(t).stopOpacity;}),_i892=!1===oi(_t1281,_t1281[0]);this["#stop-opacity-section"].hidden=!1,this["#stop-opacity-slider"].value=_t1281[0],this["#stop-opacity-input"].mixed=_i892,this["#stop-opacity-input"].value=_t1281[0];}}else this["#stop-opacity-section"].hidden=!0;if("linearGradient"===n||"radialGradient"===n){this["#spread-method-section"].hidden=!1;var _t1282=o,_e942=!1;var _iterator840=_createForOfIteratorHelper(i),_step840;try{for(_iterator840.s();!(_step840=_iterator840.n()).done;){var _s470=_step840.value;var _i893=el(_s470,this.context);_i893&&_i893.localName.endsWith("Gradient")&&_i893.spreadMethod.baseVal!==_t1282.spreadMethod.baseVal&&(_e942=!0);}}catch(err){_iterator840.e(err);}finally{_iterator840.f();}_t1282.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].toggled=!0,this["#repeat-spread-method-button"].mixed=_e942,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1282.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!0,this["#pad-spread-method-button"].mixed=_e942,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1282.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!0,this["#reflect-spread-method-button"].mixed=_e942);}else this["#spread-method-section"].hidden=!0;if(s){if("none"===n)this["#paint-order-section"].hidden=!0;else{var _t1283=getComputedStyle(s).paintOrder;if("normal"===_t1283)_t1283=["fill","stroke","markers"];else{_t1283=_t1283.split(" ");for(var _i894=0,_arr40=["fill","stroke","markers"];_i894<_arr40.length;_i894++){var _e943=_arr40[_i894];!1===_t1283.includes(_e943)&&_t1283.push(_e943);}}this["#paint-order-section"].hidden=!1,this["#paint-order-switch"].value=_t1283;}}else this["#paint-order-section"].hidden=!0;}},{key:"Kx",value:function Kx(){var _this502=this;var t=this.Js.board,e=t.selectedTextRange,i=[];var _iterator841=_createForOfIteratorHelper(this.Zx()),_step841;try{for(_iterator841.s();!(_step841=_iterator841.n()).done;){var _t1284=_step841.value;if("text"===_t1284.localName){var _s471=vi(_t1284);if(e&&e.intersectsNode(_t1284)){"backward"===e.direction&&_s471.reverse();var _iterator842=_createForOfIteratorHelper(_s471),_step842;try{for(_iterator842.s();!(_step842=_iterator842.n()).done;){var _t1285=_step842.value;e.intersectsNode(_t1285)&&!1===i.includes(_t1285.parentElement)&&i.push(_t1285.parentElement);}}catch(err){_iterator842.e(err);}finally{_iterator842.f();}}else{var _iterator843=_createForOfIteratorHelper(_s471),_step843;try{for(_iterator843.s();!(_step843=_iterator843.n()).done;){var _t1286=_step843.value;!1===i.includes(_t1286.parentElement)&&i.push(_t1286.parentElement);}}catch(err){_iterator843.e(err);}finally{_iterator843.f();}}}else i.push(_t1284);}}catch(err){_iterator841.e(err);}finally{_iterator841.f();}return i=i.filter(function(e){var i=tl(e,_this502.context);if("linearGradient"===i||"radialGradient"===i){var _i895=sl(t.masterWorkspace,getComputedStyle(e)[_this502.context]);if(Do(_i895))return!0;}return!1;}),i.length>0;}},{key:"Zx",value:function Zx(){var t=[],e=function e(i){var _iterator844=_createForOfIteratorHelper(i),_step844;try{for(_iterator844.s();!(_step844=_iterator844.n()).done;){var _s472=_step844.value;k.includes(_s472.localName)||"use"===_s472.localName?t.push(_s472):"g"!==_s472.localName&&"a"!==_s472.localName||e(_s472.children);}}catch(err){_iterator844.e(err);}finally{_iterator844.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return dx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dx,"observedAttributes",["enabled","context"]);_defineProperty(dx,"_shadowTemplate",Qi(_templateObject268()));_defineProperty(dx,"_shadowStyleSheet",Ji(_templateObject269()));customElements.define("bx-paintinspector",dx);var cx=Number.parseFloat;var px=/*#__PURE__*/function(_HTMLElement73){_inherits(px,_HTMLElement73);var _super102=_createSuper(px);_createClass(px,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function px(){var _this503;_classCallCheck(this,px);_this503=_super102.call(this),_this503.Dh=es(_this503.qs,200,_assertThisInitialized(_this503)),_this503.Qx=!1,_this503._shadowRoot=_this503.attachShadow({mode:"closed"}),_this503._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,px._shadowStyleSheet],_this503._shadowRoot.append(document.importNode(px._shadowTemplate.content,!0));var _iterator845=_createForOfIteratorHelper(_this503._shadowRoot.querySelectorAll("[id]")),_step845;try{for(_iterator845.s();!(_step845=_iterator845.n()).done;){var _t1287=_step845.value;_this503["#"+_t1287.id]=_t1287;}}catch(err){_iterator845.e(err);}finally{_iterator845.f();}_this503["#opacity-section"].addEventListener("changestart",function(){return _this503.Jx();}),_this503["#rule-buttons"].addEventListener("toggle",function(t){return _this503.tb(t);});return _this503;}_createClass(px,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this504=this;this["#fill-paint-inspector"].enabled=!0,this.Dh(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this504.sl();}),this.Js.board.addEventListener("selectedtextrangechange",this.Xa=function(){_this504.Za();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this504.al(t);});}},{key:"en",value:function en(){this["#fill-paint-inspector"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("selectedtextrangechange",this.Xa),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){this.Dh();}},{key:"Za",value:function Za(){this.Dh();}},{key:"al",value:function al(t){this.Dh();}},{key:"Jx",value:function Jx(){var _this505=this;this.Js.board.undoManager.checkpoint("Fill opacity");var t,_e944,i=this.Zx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator846=_createForOfIteratorHelper(s),_step846;try{for(_iterator846.s();!(_step846=_iterator846.n()).done;){var _t1292=_step846.value;mi(_t1292,n);}}catch(err){_iterator846.e(err);}finally{_iterator846.f();}var _iterator847=_createForOfIteratorHelper(i),_step847;try{for(_iterator847.s();!(_step847=_iterator847.n()).done;){var _t1293=_step847.value;if("text"===_t1293.localName){var _e945=_t1293.querySelectorAll("tspan"),_i896=fi(n,_t1293),_s473=_i896.length>0&&!n.collapsed?_i896:_e945;o.push.apply(o,_toConsumableArray(_s473));}else o.push(_t1293);}}catch(err){_iterator847.e(err);}finally{_iterator847.f();}this.Qx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1289){_t1289.target===_this505["#opacity-slider"]?_this505["#opacity-input"].value=_this505["#opacity-slider"].value:_t1289.target===_this505["#opacity-input"]&&(_this505["#opacity-slider"].value=_this505["#opacity-input"].value),_this505["#opacity-slider"].mixed=!1,_this505["#opacity-input"].mixed=!1;var _iterator848=_createForOfIteratorHelper(o),_step848;try{for(_iterator848.s();!(_step848=_iterator848.n()).done;){var _t1288=_step848.value;_t1288.style.setProperty("fill-opacity",_this505["#opacity-slider"].value);}}catch(err){_iterator848.e(err);}finally{_iterator848.f();}}),this["#opacity-section"].addEventListener("changeend",_e944=function e(){_this505["#opacity-section"].removeEventListener("change",t),_this505["#opacity-section"].removeEventListener("changeend",_e944),_this505.Qx=!1;var _iterator849=_createForOfIteratorHelper(o),_step849;try{for(_iterator849.s();!(_step849=_iterator849.n()).done;){var _t1290=_step849.value;Dp("fill-opacity",_t1290);}}catch(err){_iterator849.e(err);}finally{_iterator849.f();}var _iterator850=_createForOfIteratorHelper(s),_step850;try{for(_iterator850.s();!(_step850=_iterator850.n()).done;){var _t1291=_step850.value;gi(_t1291,n);}}catch(err){_iterator850.e(err);}finally{_iterator850.f();}});}},{key:"tb",value:function tb(t){var e=this.Zx(),i=e.filter(function(t){return"text"===t.localName;}),s=this.Js.board.selectedTextRange,n=[];this.Js.board.undoManager.checkpoint("Fill rule");var _iterator851=_createForOfIteratorHelper(i),_step851;try{for(_iterator851.s();!(_step851=_iterator851.n()).done;){var _t1295=_step851.value;mi(_t1295,s);}}catch(err){_iterator851.e(err);}finally{_iterator851.f();}var _iterator852=_createForOfIteratorHelper(e),_step852;try{for(_iterator852.s();!(_step852=_iterator852.n()).done;){var _t1296=_step852.value;if("text"===_t1296.localName&&_t1296.querySelector("tspan")){var _e946=_t1296.querySelectorAll("tspan"),_i898=fi(s,_t1296),_o299=_i898.length>0&&!s.collapsed?_i898:_e946;n.push.apply(n,_toConsumableArray(_o299));}else n.push(_t1296);}}catch(err){_iterator852.e(err);}finally{_iterator852.f();}for(var _i897=0,_n389=n;_i897<_n389.length;_i897++){var _t1294=_n389[_i897];_t1294.style.setProperty("fill-rule",this["#rule-buttons"].value),_t1294.hasAttribute("d")&&_t1294.setAttribute("d",_t1294.getAttribute("d"));}var _iterator853=_createForOfIteratorHelper(i),_step853;try{for(_iterator853.s();!(_step853=_iterator853.n()).done;){var _t1297=_step853.value;gi(_t1297,s);}}catch(err){_iterator853.e(err);}finally{_iterator853.f();}}},{key:"qs",value:function qs(){var t=[],e=this.Js.board.selectedTextRange,i=Symbol();var _iterator854=_createForOfIteratorHelper(this.Zx()),_step854;try{for(_iterator854.s();!(_step854=_iterator854.n()).done;){var _i900=_step854.value;if("text"===_i900.localName){var _s476=vi(_i900);if(e&&e.intersectsNode(_i900)){"backward"===e.direction&&_s476.reverse();var _iterator857=_createForOfIteratorHelper(_s476),_step857;try{for(_iterator857.s();!(_step857=_iterator857.n()).done;){var _i901=_step857.value;e.intersectsNode(_i901)&&!1===t.includes(_i901.parentElement)&&t.push(_i901.parentElement);}}catch(err){_iterator857.e(err);}finally{_iterator857.f();}}else{var _iterator858=_createForOfIteratorHelper(_s476),_step858;try{for(_iterator858.s();!(_step858=_iterator858.n()).done;){var _e950=_step858.value;!1===t.includes(_e950.parentElement)&&t.push(_e950.parentElement);}}catch(err){_iterator858.e(err);}finally{_iterator858.f();}}}else t.push(_i900);}}catch(err){_iterator854.e(err);}finally{_iterator854.f();}for(var _i899=0,_t1298=t;_i899<_t1298.length;_i899++){var _e947=_t1298[_i899];_e947[i]=getComputedStyle(_e947);}var s=t[0],n=t.slice(1);if(this["#panel-heading"].disabled=void 0===s,!1===this.Qx)if(s){var _t1299=s[i].fillOpacity,_e948=tt(cx(_t1299),2),_o300=!1;var _iterator855=_createForOfIteratorHelper(n),_step855;try{for(_iterator855.s();!(_step855=_iterator855.n()).done;){var _t1300=_step855.value;var _s474=_t1300[i].fillOpacity;if(tt(cx(_s474),2)!==_e948){_o300=!0;break;}}}catch(err){_iterator855.e(err);}finally{_iterator855.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_e948,this["#opacity-slider"].mixed=_o300,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_e948;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;if(s){var _t1301=!1,_e949=s[i].fillRule;var _iterator856=_createForOfIteratorHelper(n),_step856;try{for(_iterator856.s();!(_step856=_iterator856.n()).done;){var _s475=_step856.value;_s475[i].fillRule!==_e949&&(_t1301=!0);}}catch(err){_iterator856.e(err);}finally{_iterator856.f();}this["#rule-section-heading"].disabled=!1,this["#non-zero-rule-button"].disabled=!1,this["#even-odd-rule-button"].disabled=!1,"evenodd"===_e949?(this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].toggled=!0,this["#even-odd-rule-button"].mixed=_t1301):"nonzero"===_e949&&(this["#non-zero-rule-button"].toggled=!0,this["#non-zero-rule-button"].mixed=_t1301,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1);}else this["#rule-section-heading"].disabled=!0,this["#non-zero-rule-button"].disabled=!0,this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].disabled=!0,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1;}},{key:"Zx",value:function Zx(){var t=[],e=function e(i){var _iterator859=_createForOfIteratorHelper(i),_step859;try{for(_iterator859.s();!(_step859=_iterator859.n()).done;){var _s477=_step859.value;k.includes(_s477.localName)||"use"===_s477.localName?t.push(_s477):"g"!==_s477.localName&&"a"!==_s477.localName||e(_s477.children);}}catch(err){_iterator859.e(err);}finally{_iterator859.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(px,"observedAttributes",["enabled"]);_defineProperty(px,"_shadowTemplate",Qi(_templateObject270()));_defineProperty(px,"_shadowStyleSheet",Ji(_templateObject271()));customElements.define("bx-fillpanel",px);var ux=/*#__PURE__*/function(_HTMLElement74){_inherits(ux,_HTMLElement74);var _super103=_createSuper(ux);_createClass(ux,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function ux(){var _this506;_classCallCheck(this,ux);_this506=_super103.call(this),_this506.Dh=es(_this506.qs,200,_assertThisInitialized(_this506)),_this506.eb=is(_this506.ib,600,_assertThisInitialized(_this506)),_this506._shadowRoot=_this506.attachShadow({mode:"closed",delegatesFocus:!0}),_this506._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ux._shadowStyleSheet],_this506._shadowRoot.append(document.importNode(ux._shadowTemplate.content,!0));var _iterator860=_createForOfIteratorHelper(_this506._shadowRoot.querySelectorAll("[id]")),_step860;try{for(_iterator860.s();!(_step860=_iterator860.n()).done;){var _t1302=_step860.value;_this506["#"+_t1302.id]=_t1302;}}catch(err){_iterator860.e(err);}finally{_iterator860.f();}_this506.addEventListener("keydown",function(t){return _this506.wn(t);}),_this506["#button"].addEventListener("pointerdown",function(t){return _this506.sb(t);}),_this506["#popover"].addEventListener("open",function(){return _this506.Eu();}),_this506["#items"].addEventListener("click",function(t){return _this506.np(t);}),_this506["#items"].addEventListener("dblclick",function(t){return _this506.Tu(t);}),_this506["#clear-button"].addEventListener("click",function(t){return _this506.nb(t);}),_this506["#manage-button"].addEventListener("click",function(t){return _this506.Au(t);});return _this506;}_createClass(ux,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"value"===t&&this.Cu());}},{key:"tn",value:function tn(){var _this507=this;this.qs(),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this507.al(t.detail);});}},{key:"en",value:function en(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Cu",value:function Cu(){this.Bu(),this.ob(),this.Gu();}},{key:"al",value:function al(){this.Dh();}},{key:"sb",value:function sb(t){t.preventDefault();}},{key:"np",value:function np(t){var e=t.target.closest(".item");if(e){var _t1303=e.getAttribute("data-value");_t1303!==this.value&&(this.value=_t1303,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Tu",value:function Tu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1304=e.getAttribute("data-value");this.Js.board.editMarker(_t1304);}}},{key:"nb",value:function nb(t){0===t.button&&null!==this.value&&(this.value=null,this.dispatchEvent(new CustomEvent("change")));}},{key:"Au",value:function Au(t){0===t.button&&(this["#button"].collapse(),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("markers-browser"));}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu());}},{key:"qs",value:function qs(){this.Bu(),this.ob(),this.ju();}},{key:"Bu",value:function Bu(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden","");else{this["#button-thumbnail"].removeAttribute("hidden");var _t1305=this["#items"].querySelector(":scope > [data-value=\"".concat(this.value,"\"]"));this["#button-thumbnail"].innerHTML=_t1305.innerHTML;}}},{key:"ob",value:function ob(){this["#clear-button"].disabled=null===this.value;}},{key:"ju",value:function ju(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),e="";var _iterator861=_createForOfIteratorHelper(t),_step861;try{for(_iterator861.s();!(_step861=_iterator861.n()).done;){var _i902=_step861.value;var _t1306=_i902.hasAttribute("viewBox")?"viewBox=\"".concat(_i902.getAttribute("viewBox"),"\""):"";e+="\n        <div class=\"item\" data-value=\"".concat(_i902.id,"\">\n          <svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ").concat(_t1306,">\n            ").concat(_i902.innerHTML,"\n          </svg>\n          <div class=\"label\">#").concat(_i902.id,"</div>\n        </div>\n      ");}}catch(err){_iterator861.e(err);}finally{_iterator861.f();}this["#items"].innerHTML=e,this["#placeholder"].hidden=this["#items"].childElementCount>0,this.Gu();}},{key:"Gu",value:function Gu(){var _iterator862=_createForOfIteratorHelper(this["#items"].children),_step862;try{for(_iterator862.s();!(_step862=_iterator862.n()).done;){var _t1307=_step862.value;_t1307.getAttribute("data-value")===this.value?_t1307.setAttribute("data-selected",""):_t1307.removeAttribute("data-selected");}}catch(err){_iterator862.e(err);}finally{_iterator862.f();}}},{key:"Nu",value:function Nu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.eb());}},{key:"Vu",value:function Vu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.eb());}},{key:"Eu",value:function Eu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"ib",value:function ib(){this.dispatchEvent(new CustomEvent("change"));}}]);return ux;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ux,"observedAttributes",["enabled","value"]);_defineProperty(ux,"_shadowTemplate",Qi(_templateObject272()));_defineProperty(ux,"_shadowStyleSheet",Ji(_templateObject273()));customElements.define("bx-markerselect",ux);var xx=Math.abs,bx=Number.parseFloat,mx=["none","2px","4px","5px","8px","10px","20px","30px","1px, 4px","5px, 10px"],gx=mx.map(function(t){return"\n    <x-menuitem value=\"".concat(t,"\">\n      <svg viewBox=\"0 0 100 20\" preserveAspectRatio=\"none\" style=\"width: 195px; height: 20px; display: block;\">\n        <path\n          d=\"M 0 10 L 100 10\"\n          style=\"stroke-dasharray: ").concat(t,"; stroke: currentColor; vector-effect: non-scaling-stroke;\">\n        </path>\n      </svg>\n    </x-menuitem>\n  ");}).join("");var fx=/*#__PURE__*/function(_HTMLElement75){_inherits(fx,_HTMLElement75);var _super104=_createSuper(fx);_createClass(fx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function fx(){var _this508;_classCallCheck(this,fx);_this508=_super104.call(this),_this508.Dh=es(_this508.qs,200,_assertThisInitialized(_this508)),_this508.Qx=!1,_this508.lb=!1,_this508.ab=!1,_this508.hb=!1,_this508.rb=!1,_this508._shadowRoot=_this508.attachShadow({mode:"closed"}),_this508._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,fx._shadowStyleSheet],_this508._shadowRoot.append(document.importNode(fx._shadowTemplate.content,!0));var _iterator863=_createForOfIteratorHelper(_this508._shadowRoot.querySelectorAll("[id]")),_step863;try{for(_iterator863.s();!(_step863=_iterator863.n()).done;){var _t1308=_step863.value;_this508["#"+_t1308.id]=_t1308;}}catch(err){_iterator863.e(err);}finally{_iterator863.f();}_this508["#opacity-section"].addEventListener("changestart",function(){return _this508.Jx();}),_this508["#width-box"].addEventListener("changestart",function(){return _this508.cb();}),_this508["#non-scaling-stroke-checkbox"].addEventListener("toggle",function(){return _this508.pb();}),_this508["#line-cap-buttons"].addEventListener("toggle",function(){return _this508.ub();}),_this508["#line-join-buttons"].addEventListener("toggle",function(){return _this508.xb();}),_this508["#miter-limit-box"].addEventListener("changestart",function(){return _this508.bb();}),_this508["#dash-array-select"].addEventListener("change",function(){return _this508.mb();}),_this508["#dash-array-inputs"].addEventListener("changestart",function(t){return _this508.gb(t);}),_this508["#dash-offset-box"].addEventListener("changestart",function(){return _this508.fb();}),_this508["#marker-start-select"].addEventListener("change",function(t){return _this508.wb(t);}),_this508["#marker-mid-select"].addEventListener("change",function(t){return _this508.wb(t);}),_this508["#marker-end-select"].addEventListener("change",function(t){return _this508.wb(t);});return _this508;}_createClass(fx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this509=this;this["#stroke-paint-inspector"].enabled=!0,this.Dh(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this509.sl();}),this.Js.board.addEventListener("selectedtextrangechange",this.Xa=function(){_this509.Za();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this509.al(t);});}},{key:"en",value:function en(){this["#stroke-paint-inspector"].enabled=!1,this["#marker-start-select"].enabled=!1,this["#marker-mid-select"].enabled=!1,this["#marker-end-select"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("selectedtextrangechange",this.Xa),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){this.Dh();}},{key:"Za",value:function Za(){this.Dh();}},{key:"al",value:function al(t){this.Dh();}},{key:"Jx",value:function Jx(){var _this510=this;this.Js.board.undoManager.checkpoint("Stroke opacity");var t,_e951,i=this.Zx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator864=_createForOfIteratorHelper(s),_step864;try{for(_iterator864.s();!(_step864=_iterator864.n()).done;){var _t1313=_step864.value;mi(_t1313,n);}}catch(err){_iterator864.e(err);}finally{_iterator864.f();}var _iterator865=_createForOfIteratorHelper(i),_step865;try{for(_iterator865.s();!(_step865=_iterator865.n()).done;){var _t1314=_step865.value;if("text"===_t1314.localName){var _e952=_t1314.querySelectorAll("tspan"),_i903=fi(n,_t1314),_s478=_i903.length>0&&!n.collapsed?_i903:_e952;o.push.apply(o,_toConsumableArray(_s478));}else o.push(_t1314);}}catch(err){_iterator865.e(err);}finally{_iterator865.f();}this.Qx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1310){_t1310.target===_this510["#opacity-slider"]?_this510["#opacity-input"].value=_this510["#opacity-slider"].value:_t1310.target===_this510["#opacity-input"]&&(_this510["#opacity-slider"].value=_this510["#opacity-input"].value),_this510["#opacity-slider"].mixed=!1,_this510["#opacity-input"].mixed=!1;var _iterator866=_createForOfIteratorHelper(o),_step866;try{for(_iterator866.s();!(_step866=_iterator866.n()).done;){var _t1309=_step866.value;_t1309.style.setProperty("stroke-opacity",_this510["#opacity-slider"].value);}}catch(err){_iterator866.e(err);}finally{_iterator866.f();}}),this["#opacity-section"].addEventListener("changeend",_e951=function e(){_this510["#opacity-section"].removeEventListener("change",t),_this510["#opacity-section"].removeEventListener("changeend",_e951),_this510.Qx=!1;var _iterator867=_createForOfIteratorHelper(o),_step867;try{for(_iterator867.s();!(_step867=_iterator867.n()).done;){var _t1311=_step867.value;Dp("stroke-opacity",_t1311);}}catch(err){_iterator867.e(err);}finally{_iterator867.f();}var _iterator868=_createForOfIteratorHelper(s),_step868;try{for(_iterator868.s();!(_step868=_iterator868.n()).done;){var _t1312=_step868.value;gi(_t1312,n);}}catch(err){_iterator868.e(err);}finally{_iterator868.f();}});}},{key:"cb",value:function cb(){var _this511=this;this.Js.board.undoManager.checkpoint("Stroke width");var t,_e953,i=this.Zx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[],l=Symbol();var _iterator869=_createForOfIteratorHelper(s),_step869;try{for(_iterator869.s();!(_step869=_iterator869.n()).done;){var _t1319=_step869.value;mi(_t1319,n);}}catch(err){_iterator869.e(err);}finally{_iterator869.f();}var _iterator870=_createForOfIteratorHelper(i),_step870;try{for(_iterator870.s();!(_step870=_iterator870.n()).done;){var _t1320=_step870.value;var _e954=Yt(_t1320,this.Js.board.masterWorkspace),_Wl19=Wl(_e954),_i904=_Wl19.scaleX,_s479=_Wl19.scaleY,_a201=(xx(_i904)+xx(_s479))/2;if("text"===_t1320.localName&&_t1320.querySelector("tspan")){var _e955=_t1320.querySelectorAll("tspan"),_i905=fi(n,_t1320),_s480=_i905.length>0&&!n.collapsed?_i905:_e955;var _iterator874=_createForOfIteratorHelper(_s480),_step874;try{for(_iterator874.s();!(_step874=_iterator874.n()).done;){var _t1321=_step874.value;var _e956=getComputedStyle(_t1321).getPropertyValue("vector-effect");_t1321[l]="non-scaling-stroke"===_e956?1:_a201,o.push(_t1321);}}catch(err){_iterator874.e(err);}finally{_iterator874.f();}}else{var _e957=getComputedStyle(_t1320).getPropertyValue("vector-effect");_t1320[l]="non-scaling-stroke"===_e957?1:_a201,o.push(_t1320);}}}catch(err){_iterator870.e(err);}finally{_iterator870.f();}this.lb=!0,this["#width-section"].addEventListener("change",t=function t(_t1316){_t1316.target===_this511["#width-slider"]?_this511["#width-input"].value=_this511["#width-slider"].value:_t1316.target===_this511["#width-input"]&&(_this511["#width-slider"].value=_this511["#width-input"].value),_this511["#width-slider"].mixed=!1,_this511["#width-input"].mixed=!1;var _iterator871=_createForOfIteratorHelper(o),_step871;try{for(_iterator871.s();!(_step871=_iterator871.n()).done;){var _t1315=_step871.value;_t1315.style.setProperty("stroke-width",_this511["#width-input"].value/_t1315[l]+"px");}}catch(err){_iterator871.e(err);}finally{_iterator871.f();}}),this["#width-section"].addEventListener("changeend",_e953=function e(){_this511["#width-section"].removeEventListener("change",t),_this511["#width-section"].removeEventListener("changeend",_e953),_this511.lb=!1;var _iterator872=_createForOfIteratorHelper(o),_step872;try{for(_iterator872.s();!(_step872=_iterator872.n()).done;){var _t1317=_step872.value;Dp("stroke-width",_t1317);}}catch(err){_iterator872.e(err);}finally{_iterator872.f();}var _iterator873=_createForOfIteratorHelper(s),_step873;try{for(_iterator873.s();!(_step873=_iterator873.n()).done;){var _t1318=_step873.value;gi(_t1318,n);}}catch(err){_iterator873.e(err);}finally{_iterator873.f();}});}},{key:"bb",value:function bb(){var _this512=this;this.Js.board.undoManager.checkpoint("Miter limit");var t,_e958,i=this.Zx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator875=_createForOfIteratorHelper(s),_step875;try{for(_iterator875.s();!(_step875=_iterator875.n()).done;){var _t1326=_step875.value;mi(_t1326,n);}}catch(err){_iterator875.e(err);}finally{_iterator875.f();}var _iterator876=_createForOfIteratorHelper(i),_step876;try{for(_iterator876.s();!(_step876=_iterator876.n()).done;){var _t1327=_step876.value;if("text"===_t1327.localName&&_t1327.querySelector("tspan")){var _e959=_t1327.querySelectorAll("tspan"),_i906=fi(n,_t1327),_s481=_i906.length>0&&!n.collapsed?_i906:_e959;var _iterator880=_createForOfIteratorHelper(_s481),_step880;try{for(_iterator880.s();!(_step880=_iterator880.n()).done;){var _t1328=_step880.value;o.push(_t1328);}}catch(err){_iterator880.e(err);}finally{_iterator880.f();}}else o.push(_t1327);}}catch(err){_iterator876.e(err);}finally{_iterator876.f();}o=o.filter(function(t){return"miter"===getComputedStyle(t).getPropertyValue("stroke-linejoin");}),this.hb=!0,this["#miter-limit-box"].addEventListener("change",t=function t(_t1323){_t1323.target===_this512["#miter-limit-slider"]?_this512["#miter-limit-input"].value=_this512["#miter-limit-slider"].value:_t1323.target===_this512["#width-input"]&&(_this512["#miter-limit-slider"].value=_this512["#miter-limit-input"].value),_this512["#miter-limit-slider"].mixed=!1,_this512["#miter-limit-input"].mixed=!1;var _iterator877=_createForOfIteratorHelper(o),_step877;try{for(_iterator877.s();!(_step877=_iterator877.n()).done;){var _t1322=_step877.value;_t1322.style.setProperty("stroke-miterlimit",_this512["#miter-limit-input"].value);}}catch(err){_iterator877.e(err);}finally{_iterator877.f();}}),this["#miter-limit-box"].addEventListener("changeend",_e958=function e(){_this512["#miter-limit-box"].removeEventListener("change",t),_this512["#miter-limit-box"].removeEventListener("changeend",_e958),_this512.hb=!1;var _iterator878=_createForOfIteratorHelper(o),_step878;try{for(_iterator878.s();!(_step878=_iterator878.n()).done;){var _t1324=_step878.value;Dp("stroke-miterlimit",_t1324);}}catch(err){_iterator878.e(err);}finally{_iterator878.f();}var _iterator879=_createForOfIteratorHelper(s),_step879;try{for(_iterator879.s();!(_step879=_iterator879.n()).done;){var _t1325=_step879.value;gi(_t1325,n);}}catch(err){_iterator879.e(err);}finally{_iterator879.f();}});}},{key:"fb",value:function fb(){var _this513=this;this.Js.board.undoManager.checkpoint("Dash offset");var t,_e960,i=this.Zx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator881=_createForOfIteratorHelper(s),_step881;try{for(_iterator881.s();!(_step881=_iterator881.n()).done;){var _t1333=_step881.value;mi(_t1333,n);}}catch(err){_iterator881.e(err);}finally{_iterator881.f();}var _iterator882=_createForOfIteratorHelper(i),_step882;try{for(_iterator882.s();!(_step882=_iterator882.n()).done;){var _t1334=_step882.value;if("text"===_t1334.localName&&_t1334.querySelector("tspan")){var _e961=_t1334.querySelectorAll("tspan"),_i907=fi(n,_t1334),_s482=_i907.length>0&&!n.collapsed?_i907:_e961;var _iterator886=_createForOfIteratorHelper(_s482),_step886;try{for(_iterator886.s();!(_step886=_iterator886.n()).done;){var _t1335=_step886.value;o.push(_t1335);}}catch(err){_iterator886.e(err);}finally{_iterator886.f();}}else o.push(_t1334);}}catch(err){_iterator882.e(err);}finally{_iterator882.f();}this.rb=!0,this["#dash-offset-box"].addEventListener("change",t=function t(_t1330){_t1330.target===_this513["#dash-offset-slider"]?_this513["#dash-offset-input"].value=_this513["#dash-offset-slider"].value:_t1330.target===_this513["#width-input"]&&(_this513["#dash-offset-slider"].value=_this513["#dash-offset-input"].value),_this513["#dash-offset-slider"].mixed=!1,_this513["#dash-offset-input"].mixed=!1;var _iterator883=_createForOfIteratorHelper(o),_step883;try{for(_iterator883.s();!(_step883=_iterator883.n()).done;){var _t1329=_step883.value;_t1329.style.setProperty("stroke-dashoffset",_this513["#dash-offset-input"].value+"px");}}catch(err){_iterator883.e(err);}finally{_iterator883.f();}}),this["#dash-offset-box"].addEventListener("changeend",_e960=function e(){_this513["#dash-offset-box"].removeEventListener("change",t),_this513["#dash-offset-box"].removeEventListener("changeend",_e960),_this513.rb=!1;var _iterator884=_createForOfIteratorHelper(o),_step884;try{for(_iterator884.s();!(_step884=_iterator884.n()).done;){var _t1331=_step884.value;Dp("stroke-dashoffset",_t1331);}}catch(err){_iterator884.e(err);}finally{_iterator884.f();}var _iterator885=_createForOfIteratorHelper(s),_step885;try{for(_iterator885.s();!(_step885=_iterator885.n()).done;){var _t1332=_step885.value;gi(_t1332,n);}}catch(err){_iterator885.e(err);}finally{_iterator885.f();}});}},{key:"mb",value:function mb(){this.Js.board.undoManager.checkpoint("Dash array");var t=this.Zx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator887=_createForOfIteratorHelper(e),_step887;try{for(_iterator887.s();!(_step887=_iterator887.n()).done;){var _t1337=_step887.value;mi(_t1337,i);}}catch(err){_iterator887.e(err);}finally{_iterator887.f();}var _iterator888=_createForOfIteratorHelper(t),_step888;try{for(_iterator888.s();!(_step888=_iterator888.n()).done;){var _e962=_step888.value;if("text"===_e962.localName&&_e962.querySelector("tspan")){var _t1338=_e962.querySelectorAll("tspan"),_n390=fi(i,_e962),_o301=_n390.length>0&&!i.collapsed?_n390:_t1338;var _iterator890=_createForOfIteratorHelper(_o301),_step890;try{for(_iterator890.s();!(_step890=_iterator890.n()).done;){var _t1339=_step890.value;s.push(_t1339);}}catch(err){_iterator890.e(err);}finally{_iterator890.f();}}else s.push(_e962);}}catch(err){_iterator888.e(err);}finally{_iterator888.f();}for(var _i908=0,_s483=s;_i908<_s483.length;_i908++){var _t1336=_s483[_i908];_t1336.style.setProperty("stroke-dasharray",this["#dash-array-select"].value),Dp("stroke-dasharray",_t1336);}var _iterator889=_createForOfIteratorHelper(e),_step889;try{for(_iterator889.s();!(_step889=_iterator889.n()).done;){var _t1340=_step889.value;gi(_t1340,i);}}catch(err){_iterator889.e(err);}finally{_iterator889.f();}}},{key:"gb",value:function gb(t){var _this514=this;this.Js.board.undoManager.checkpoint("Dash array");var e,_i909,s=this.Zx(),n=s.filter(function(t){return"text"===t.localName;}),o=this.Js.board.selectedTextRange,l=t.target,a=_toConsumableArray(this["#dash-array-inputs"].querySelectorAll("x-numberinput")),h=[];var _iterator891=_createForOfIteratorHelper(n),_step891;try{for(_iterator891.s();!(_step891=_iterator891.n()).done;){var _t1344=_step891.value;mi(_t1344,o);}}catch(err){_iterator891.e(err);}finally{_iterator891.f();}var _iterator892=_createForOfIteratorHelper(s),_step892;try{for(_iterator892.s();!(_step892=_iterator892.n()).done;){var _t1345=_step892.value;if("text"===_t1345.localName&&_t1345.querySelector("tspan")){var _e963=_t1345.querySelectorAll("tspan"),_i910=fi(o,_t1345),_s484=_i910.length>0&&!o.collapsed?_i910:_e963;var _iterator896=_createForOfIteratorHelper(_s484),_step896;try{for(_iterator896.s();!(_step896=_iterator896.n()).done;){var _t1346=_step896.value;h.push(_t1346);}}catch(err){_iterator896.e(err);}finally{_iterator896.f();}}else h.push(_t1345);}}catch(err){_iterator892.e(err);}finally{_iterator892.f();}this.ab=!0,l.addEventListener("change",e=function e(t){l.mixed=!1;var e=a.map(function(t){return t.value;}).join(" ").trim();var _iterator893=_createForOfIteratorHelper(h),_step893;try{for(_iterator893.s();!(_step893=_iterator893.n()).done;){var _t1341=_step893.value;_t1341.style.setProperty("stroke-dasharray",e);}}catch(err){_iterator893.e(err);}finally{_iterator893.f();}}),l.addEventListener("changeend",_i909=function i(){l.removeEventListener("change",e),l.removeEventListener("changeend",_i909),_this514.ab=!1;var _iterator894=_createForOfIteratorHelper(h),_step894;try{for(_iterator894.s();!(_step894=_iterator894.n()).done;){var _t1342=_step894.value;Dp("stroke-dasharray",_t1342);}}catch(err){_iterator894.e(err);}finally{_iterator894.f();}var _iterator895=_createForOfIteratorHelper(n),_step895;try{for(_iterator895.s();!(_step895=_iterator895.n()).done;){var _t1343=_step895.value;gi(_t1343,o);}}catch(err){_iterator895.e(err);}finally{_iterator895.f();}});}},{key:"pb",value:function pb(){this.Js.board.undoManager.checkpoint("Non-scaling stroke");var t=this.Zx(),e=t.filter(function(t){return"text"===t.localName;}),i=this["#non-scaling-stroke-checkbox"].toggled?"non-scaling-stroke":"none",s=this.Js.board.selectedTextRange,n=[];var _iterator897=_createForOfIteratorHelper(e),_step897;try{for(_iterator897.s();!(_step897=_iterator897.n()).done;){var _t1348=_step897.value;mi(_t1348,s);}}catch(err){_iterator897.e(err);}finally{_iterator897.f();}var _iterator898=_createForOfIteratorHelper(t),_step898;try{for(_iterator898.s();!(_step898=_iterator898.n()).done;){var _e964=_step898.value;if("text"===_e964.localName&&_e964.querySelector("tspan")&&s&&_e964.contains(s.commonAncestorContainer)){var _t1349=_e964.querySelectorAll("tspan"),_i912=fi(s,_e964),_o302=s.collapsed?_t1349:_i912;n.push.apply(n,_toConsumableArray(_o302));}else n.push(_e964);}}catch(err){_iterator898.e(err);}finally{_iterator898.f();}for(var _i911=0,_n391=n;_i911<_n391.length;_i911++){var _t1347=_n391[_i911];_t1347.style.setProperty("vector-effect",i),Dp("vector-effect",_t1347);}var _iterator899=_createForOfIteratorHelper(e),_step899;try{for(_iterator899.s();!(_step899=_iterator899.n()).done;){var _t1350=_step899.value;gi(_t1350,s);}}catch(err){_iterator899.e(err);}finally{_iterator899.f();}}},{key:"ub",value:function ub(){this.Js.board.undoManager.checkpoint("Line cap");var t=this.Zx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator900=_createForOfIteratorHelper(e),_step900;try{for(_iterator900.s();!(_step900=_iterator900.n()).done;){var _t1352=_step900.value;mi(_t1352,i);}}catch(err){_iterator900.e(err);}finally{_iterator900.f();}var _iterator901=_createForOfIteratorHelper(t),_step901;try{for(_iterator901.s();!(_step901=_iterator901.n()).done;){var _e965=_step901.value;if("text"===_e965.localName&&_e965.querySelector("tspan")){var _t1353=_e965.querySelectorAll("tspan"),_n392=fi(i,_e965),_o303=_n392.length>0&&!i.collapsed?_n392:_t1353;s.push.apply(s,_toConsumableArray(_o303));}else s.push(_e965);}}catch(err){_iterator901.e(err);}finally{_iterator901.f();}for(var _i913=0,_s485=s;_i913<_s485.length;_i913++){var _t1351=_s485[_i913];_t1351.style.setProperty("stroke-linecap",this["#line-cap-buttons"].value),Dp("stroke-linecap",_t1351);}var _iterator902=_createForOfIteratorHelper(e),_step902;try{for(_iterator902.s();!(_step902=_iterator902.n()).done;){var _t1354=_step902.value;gi(_t1354,i);}}catch(err){_iterator902.e(err);}finally{_iterator902.f();}}},{key:"xb",value:function xb(){this.Js.board.undoManager.checkpoint("Line join");var t=this.Zx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator903=_createForOfIteratorHelper(e),_step903;try{for(_iterator903.s();!(_step903=_iterator903.n()).done;){var _t1356=_step903.value;mi(_t1356,i);}}catch(err){_iterator903.e(err);}finally{_iterator903.f();}var _iterator904=_createForOfIteratorHelper(t),_step904;try{for(_iterator904.s();!(_step904=_iterator904.n()).done;){var _e966=_step904.value;if("text"===_e966.localName&&_e966.querySelector("tspan")){var _t1357=_e966.querySelectorAll("tspan"),_n393=fi(i,_e966),_o304=_n393.length>0&&!i.collapsed?_n393:_t1357;s.push.apply(s,_toConsumableArray(_o304));}else s.push(_e966);}}catch(err){_iterator904.e(err);}finally{_iterator904.f();}for(var _i914=0,_s486=s;_i914<_s486.length;_i914++){var _t1355=_s486[_i914];_t1355.style.setProperty("stroke-linejoin",this["#line-join-buttons"].value),Dp("stroke-linejoin",_t1355);}var _iterator905=_createForOfIteratorHelper(e),_step905;try{for(_iterator905.s();!(_step905=_iterator905.n()).done;){var _t1358=_step905.value;gi(_t1358,i);}}catch(err){_iterator905.e(err);}finally{_iterator905.f();}}},{key:"wb",value:function wb(t){this.Js.board.undoManager.checkpoint("Marker");var e=t.target,i=this.vb(),s="marker-"+e.dataset.position;var _iterator906=_createForOfIteratorHelper(i),_step906;try{for(_iterator906.s();!(_step906=_iterator906.n()).done;){var _t1359=_step906.value;_t1359.style.setProperty(s,null===e.value?"none":"url(\"#".concat(e.value,"\")")),Dp(s,_t1359);}}catch(err){_iterator906.e(err);}finally{_iterator906.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=[],s=Symbol(),n=Symbol();{var _o305=t.selectedTextRange;var _iterator907=_createForOfIteratorHelper(this.Zx()),_step907;try{for(_iterator907.s();!(_step907=_iterator907.n()).done;){var _t1360=_step907.value;if("text"===_t1360.localName){var _s487=vi(_t1360);if(_o305&&_o305.intersectsNode(_t1360)){"backward"===_o305.direction&&_s487.reverse();var _iterator909=_createForOfIteratorHelper(_s487),_step909;try{for(_iterator909.s();!(_step909=_iterator909.n()).done;){var _t1361=_step909.value;_o305.intersectsNode(_t1361)&&(e.includes(_t1361.parentElement)||e.push(_t1361.parentElement),i.includes(_t1361.parentElement)||i.push(_t1361.parentElement));}}catch(err){_iterator909.e(err);}finally{_iterator909.f();}}else{var _iterator910=_createForOfIteratorHelper(_s487),_step910;try{for(_iterator910.s();!(_step910=_iterator910.n()).done;){var _t1362=_step910.value;!1===e.includes(_t1362.parentElement)&&e.push(_t1362.parentElement);}}catch(err){_iterator910.e(err);}finally{_iterator910.f();}i.push(_t1360);}}else e.push(_t1360),i.push(_t1360);}}catch(err){_iterator907.e(err);}finally{_iterator907.f();}var _iterator908=_createForOfIteratorHelper(new Set([].concat(e,i))),_step908;try{for(_iterator908.s();!(_step908=_iterator908.n()).done;){var _o306=_step908.value;var _e967=Yt(_o306,t.masterWorkspace),_Wl20=Wl(_e967),_i915=_Wl20.scaleX,_l264=_Wl20.scaleY;_o306[s]=getComputedStyle(_o306),_o306[n]=(xx(_i915)+xx(_l264))/2;}}catch(err){_iterator908.e(err);}finally{_iterator908.f();}}{var _t1363=e[0],_i916=e.slice(1);this["#panel-heading"].disabled=void 0===_t1363;}if(!1===this.Qx){var _t1364=e[0],_i917=e.slice(1);if(_t1364){var _e968=_t1364[s].strokeOpacity,_n394=tt(bx(_e968),2),_o307=!1;var _iterator911=_createForOfIteratorHelper(_i917),_step911;try{for(_iterator911.s();!(_step911=_iterator911.n()).done;){var _t1365=_step911.value;var _e969=_t1365[s].strokeOpacity;if(tt(bx(_e969),2)!==_n394){_o307=!0;break;}}}catch(err){_iterator911.e(err);}finally{_iterator911.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_n394,this["#opacity-slider"].mixed=_o307,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_n394;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;}if(!1===this.lb&&!1===t.transformHud.isScaling){{var _t1366=e[0],_i918=e.slice(1);if(_t1366){var _e970=!1,_o308="non-scaling-stroke"===_t1366[s].getPropertyValue("vector-effect"),_l265=bx(_t1366[s].getPropertyValue("stroke-width")),_a202=tt(_t1366[n]*_l265,3);var _iterator912=_createForOfIteratorHelper(_i918),_step912;try{for(_iterator912.s();!(_step912=_iterator912.n()).done;){var _t1367=_step912.value;var _i919=bx(_t1367[s].getPropertyValue("stroke-width"));if(_a202!==tt(_t1367[n]*_i919,3)){_e970=!0;break;}}}catch(err){_iterator912.e(err);}finally{_iterator912.f();}this["#width-slider"].value=_o308?_l265:_a202,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=_e970,this["#width-input"].value=_o308?_l265:_a202,this["#width-input"].disabled=!1;}else this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1,this["#width-input"].value=0,this["#width-input"].disabled=!0;}{var _t1368=i[0],_e971=i.slice(1);if(_t1368){var _i920=_t1368[s].getPropertyValue("vector-effect"),_n395=!1;var _iterator913=_createForOfIteratorHelper(_e971),_step913;try{for(_iterator913.s();!(_step913=_iterator913.n()).done;){var _t1369=_step913.value;if(_t1369[s].getPropertyValue("vector-effect")!==_i920){_n395=!0;break;}}}catch(err){_iterator913.e(err);}finally{_iterator913.f();}this["#non-scaling-stroke-checkbox"].disabled=!1,this["#non-scaling-stroke-checkbox"].toggled="non-scaling-stroke"===_i920,this["#non-scaling-stroke-checkbox"].mixed=_n395;}else this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].toggled=!1,this["#non-scaling-stroke-checkbox"].mixed=!1;}this["#width-section-heading"].disabled=this["#width-slider"].disabled||this["#non-scaling-stroke-checkbox"].disabled;}if(!1===this.hb){{var _t1370=e[0],_i921=e.slice(1);if(this["#line-section-heading"].disabled=void 0===_t1370,this["#line-cap-box-heading"].disabled=void 0===_t1370,this["#line-join-box-heading"].disabled=void 0===_t1370,_t1370){var _iterator914=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step914;try{for(_iterator914.s();!(_step914=_iterator914.n()).done;){var _t1371=_step914.value;_t1371.disabled=!1;}}catch(err){_iterator914.e(err);}finally{_iterator914.f();}var _iterator915=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step915;try{for(_iterator915.s();!(_step915=_iterator915.n()).done;){var _t1372=_step915.value;_t1372.disabled=!1;}}catch(err){_iterator915.e(err);}finally{_iterator915.f();}var _e972=_t1370[s].getPropertyValue("stroke-linecap"),_n396=_t1370[s].getPropertyValue("stroke-linejoin"),_o309=!1,_l266=!1;var _iterator916=_createForOfIteratorHelper(_i921),_step916;try{for(_iterator916.s();!(_step916=_iterator916.n()).done;){var _t1373=_step916.value;var _i922=_t1373[s].getPropertyValue("stroke-linecap"),_a203=_t1373[s].getPropertyValue("stroke-linejoin");_i922!==_e972&&(_o309=!0),_a203!==_n396&&(_l266=!0);}}catch(err){_iterator916.e(err);}finally{_iterator916.f();}var _iterator917=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step917;try{for(_iterator917.s();!(_step917=_iterator917.n()).done;){var _t1374=_step917.value;_t1374.value===_e972?(_t1374.toggled=!0,_t1374.mixed=_o309):(_t1374.toggled=!1,_t1374.mixed=!1);}}catch(err){_iterator917.e(err);}finally{_iterator917.f();}var _iterator918=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step918;try{for(_iterator918.s();!(_step918=_iterator918.n()).done;){var _t1375=_step918.value;_t1375.value===_n396?(_t1375.toggled=!0,_t1375.mixed=_l266):(_t1375.toggled=!1,_t1375.mixed=!1);}}catch(err){_iterator918.e(err);}finally{_iterator918.f();}}else{var _iterator919=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step919;try{for(_iterator919.s();!(_step919=_iterator919.n()).done;){var _t1376=_step919.value;_t1376.disabled=!0,_t1376.toggled=!1,_t1376.mixed=!1;}}catch(err){_iterator919.e(err);}finally{_iterator919.f();}var _iterator920=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step920;try{for(_iterator920.s();!(_step920=_iterator920.n()).done;){var _t1377=_step920.value;_t1377.disabled=!0,_t1377.toggled=!1,_t1377.mixed=!1;}}catch(err){_iterator920.e(err);}finally{_iterator920.f();}}}{var _t1378=e[0],_i923=e.slice(1),_n397=_t1378?_t1378[s].getPropertyValue("stroke-linejoin"):null;if(_t1378&&"miter"===_n397){var _e973=_t1378[s].getPropertyValue("stroke-miterlimit"),_n398=!1;var _iterator921=_createForOfIteratorHelper(_i923),_step921;try{for(_iterator921.s();!(_step921=_iterator921.n()).done;){var _t1379=_step921.value;if(_t1379[s].getPropertyValue("stroke-miterlimit")!==_e973){_n398=!0;break;}}}catch(err){_iterator921.e(err);}finally{_iterator921.f();}this["#miter-limit-heading"].disabled=!1,this["#miter-limit-slider"].value=bx(_e973),this["#miter-limit-slider"].mixed=_n398,this["#miter-limit-slider"].disabled=!1,this["#miter-limit-input"].value=bx(_e973),this["#miter-limit-input"].mixed=_n398,this["#miter-limit-input"].disabled=!1;}else this["#miter-limit-heading"].disabled=!0,this["#miter-limit-slider"].value=0,this["#miter-limit-slider"].mixed=!1,this["#miter-limit-slider"].disabled=!0,this["#miter-limit-input"].value=0,this["#miter-limit-input"].mixed=!1,this["#miter-limit-input"].disabled=!0;}}if(!1===this.rb){var _t1380=e[0],_i924=e.slice(1);if(this["#dash-section-heading"].disabled=void 0===_t1380,this["#dash-array-box-heading"].disabled=void 0===_t1380,this["#dash-array-select"].disabled=void 0===_t1380,_t1380){var _iterator922=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step922;try{for(_iterator922.s();!(_step922=_iterator922.n()).done;){var _t1382=_step922.value;var _iterator923=_createForOfIteratorHelper(_t1382.children),_step923;try{for(_iterator923.s();!(_step923=_iterator923.n()).done;){var _e975=_step923.value;_e975.disabled=!1;}}catch(err){_iterator923.e(err);}finally{_iterator923.f();}}}catch(err){_iterator922.e(err);}finally{_iterator922.f();}var _e974=this["#dash-array-inputs"].querySelectorAll("x-numberinput"),_i925=_t1380[s].getPropertyValue("stroke-dasharray"),_n399=[];"none"!==_i925&&(_n399=_i925.split(",").map(function(t){return bx(t.trim());}));for(var _t1381=0;_t1381<6;_t1381+=1){var _i926=void 0===_n399[_t1381]?null:_n399[_t1381],_s488=_e974[_t1381];_s488.value=_i926,_s488.disabled=_t1381>_n399.length;}mx.includes(_i925)?this["#dash-array-select"].value=_i925:this["#dash-array-select"].value=null;}else{var _iterator924=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step924;try{for(_iterator924.s();!(_step924=_iterator924.n()).done;){var _t1383=_step924.value;var _iterator925=_createForOfIteratorHelper(_t1383.children),_step925;try{for(_iterator925.s();!(_step925=_iterator925.n()).done;){var _e976=_step925.value;_e976.disabled=!0;}}catch(err){_iterator925.e(err);}finally{_iterator925.f();}}}catch(err){_iterator924.e(err);}finally{_iterator924.f();}}if(_t1380){var _e977=_t1380[s].getPropertyValue("stroke-dashoffset"),_n400=!1;var _iterator926=_createForOfIteratorHelper(_i924),_step926;try{for(_iterator926.s();!(_step926=_iterator926.n()).done;){var _t1384=_step926.value;if(_t1384[s].getPropertyValue("stroke-dashoffset")!==_e977){_n400=!0;break;}}}catch(err){_iterator926.e(err);}finally{_iterator926.f();}this["#dash-offset-heading"].disabled=!1,this["#dash-offset-slider"].disabled=!1,this["#dash-offset-slider"].mixed=_n400,this["#dash-offset-slider"].value=bx(_e977),this["#dash-offset-input"].disabled=!1,this["#dash-offset-input"].mixed=_n400,this["#dash-offset-input"].value=bx(_e977);}else this["#dash-offset-heading"].disabled=!0,this["#dash-offset-slider"].disabled=!0,this["#dash-offset-slider"].mixed=!1,this["#dash-offset-input"].disabled=!0,this["#dash-offset-input"].mixed=!1;}{var _t1385=this.vb();if(0===_t1385.length)this["#marker-section-heading"].disabled=!0,this["#marker-start-heading"].disabled=!0,this["#marker-start-select"].enabled=!1,this["#marker-start-select"].value=null,this["#marker-mid-heading"].disabled=!0,this["#marker-mid-select"].enabled=!1,this["#marker-mid-select"].value=null,this["#marker-end-heading"].disabled=!0,this["#marker-end-select"].enabled=!1,this["#marker-end-select"].value=null;else{var _t1386=_toArray(_t1385),_e978=_t1386[0],_i927=_t1386.slice(1),_n401=function _n401(t,e){var i=t[s].getPropertyValue("marker-".concat(e)),n=co.fromString(i);return"none"===i?null:n.value.substring(1);},_o310=_n401(_e978,"start"),_l267=_n401(_e978,"mid"),_a204=_n401(_e978,"end"),_h160=!1,_r101=!1,_d79=!1;var _iterator927=_createForOfIteratorHelper(_i927),_step927;try{for(_iterator927.s();!(_step927=_iterator927.n()).done;){var _t1387=_step927.value;var _e979=_n401(_t1387,"start"),_i928=_n401(_t1387,"mid"),_s489=_n401(_t1387,"end");_e979!==_o310&&(_h160=!0),_i928!==_l267&&(_r101=!0),_s489!==_a204&&(_d79=!0);}}catch(err){_iterator927.e(err);}finally{_iterator927.f();}this["#marker-section-heading"].disabled=!1,this["#marker-start-heading"].disabled=!1,this["#marker-start-select"].enabled=!0,this["#marker-start-select"].mixed=_h160,this["#marker-start-select"].value=_o310,this["#marker-mid-heading"].disabled=!1,this["#marker-mid-select"].enabled=!0,this["#marker-mid-select"].mixed=_r101,this["#marker-mid-select"].value=_l267,this["#marker-end-heading"].disabled=!1,this["#marker-end-select"].enabled=!0,this["#marker-end-select"].mixed=_d79,this["#marker-end-select"].value=_a204;}}}},{key:"Zx",value:function Zx(){var t=[],e=function e(i){var _iterator928=_createForOfIteratorHelper(i),_step928;try{for(_iterator928.s();!(_step928=_iterator928.n()).done;){var _s490=_step928.value;k.includes(_s490.localName)||"use"===_s490.localName?t.push(_s490):"g"!==_s490.localName&&"a"!==_s490.localName||e(_s490.children);}}catch(err){_iterator928.e(err);}finally{_iterator928.f();}};return e(this.Js.board.outermostSelectedElements),t;}},{key:"vb",value:function vb(){var t=[];return function(e){var _iterator929=_createForOfIteratorHelper(e),_step929;try{for(_iterator929.s();!(_step929=_iterator929.n()).done;){var _i929=_step929.value;T.includes(_i929.localName)&&t.push(_i929);}}catch(err){_iterator929.e(err);}finally{_iterator929.f();}}(this.Js.board.outermostSelectedElements),t;}}]);return fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fx,"observedAttributes",["enabled"]);_defineProperty(fx,"_shadowTemplate",Qi(_templateObject274(),gx));_defineProperty(fx,"_shadowStyleSheet",Ji(_templateObject275()));customElements.define("bx-strokepanel",fx);var wx={"drop-shadow":1,"inner-shadow":1,"point-light":1,"spot-light":1,outline:1,"gaussian-blur":1,"motion-blur":1,warp:1,pixelete:1,morphology:1,"black-and-white":1,grayscale:1,sepia:1,saturate:1,"hue-rotate":1,invert:1,brightness:1,contrast:1,posterize:1,duotone:1,"x-ray":1};var vx=function vx(t){var e=null;return"drop-shadow"===t?e={offsetX:10,offsetY:10,blurRadius:0,spread:.5,color:"rgba(0,0,0,0.3)"}:"inner-shadow"===t?e={offsetX:0,offsetY:0,blurRadius:10,choke:.5,color:"rgba(0,0,0,0.7)"}:"point-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:.5,specularExponent:70,specularConstant:1,diffuseConstant:.2,ambientConstant:0,color:"#ffffff"}:"spot-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:1,targetX:.5,targetY:.5,targetZ:0,coneAngle:20,color:"#ffffff",specularExponent:30,specularConstant:2,diffuseConstant:.1,ambientConstant:0}:"outline"===t?e={width:4,color:"#bada55"}:"gaussian-blur"===t?e={radius:5}:"motion-blur"===t?e={distance:5,orientation:"horizontal"}:"warp"===t?e={amount:50,frequency:.1}:"pixelete"===t?e={pixelSize:10}:"morphology"===t?e={operator:"dilate",radius:4}:"black-and-white"===t?e={balance:0}:"grayscale"===t||"sepia"===t?e={amount:1}:"saturate"===t?e={amount:.5}:"hue-rotate"===t?e={angle:90}:"invert"===t?e={amount:1}:"brightness"===t?e={amount:1.5}:"contrast"===t?e={amount:.7}:"posterize"===t?e={channels:["r"],amount:3,saturation:.9}:"duotone"===t?e={shadowsColor:"rgb(189,11,145)",highlightsColor:"rgb(252,187,13)",gamma:1}:"x-ray"===t&&(e={}),e&&(e.name=t),e;},yx=function yx(t){var e=null;if(t.hasAttribute("data-bx-preset")){var _t$getAttribute$split=t.getAttribute("data-bx-preset").split(" "),_t$getAttribute$split2=_toArray(_t$getAttribute$split),_i930=_t$getAttribute$split2[0],_s491=_t$getAttribute$split2[1],_n402=_t$getAttribute$split2.slice(2);if("drop-shadow"===_i930){var _ref132=_toConsumableArray(_n402),_t1388=_ref132[0],_s492=_ref132[1],_o311=_ref132[2],_l268=_ref132[3],_a205=_ref132[4];e={name:_i930,offsetX:parseFloat(_t1388),offsetY:parseFloat(_s492),blurRadius:parseFloat(_o311),spread:parseFloat(_l268),color:_a205};}else if("inner-shadow"===_i930){var _ref133=_toConsumableArray(_n402),_t1389=_ref133[0],_s493=_ref133[1],_o312=_ref133[2],_l269=_ref133[3],_a206=_ref133[4];e={name:_i930,offsetX:parseFloat(_t1389),offsetY:parseFloat(_s493),blurRadius:parseFloat(_o312),choke:parseFloat(_l269),color:_a206};}else if("point-light"===_i930){var _ref134=_toConsumableArray(_n402),_t1390=_ref134[0],_s494=_ref134[1],_o313=_ref134[2],_l270=_ref134[3],_a207=_ref134[4],_h161=_ref134[5],_r102=_ref134[6],_d80=_ref134[7];e={name:_i930,sourceX:parseFloat(_t1390),sourceY:parseFloat(_s494),sourceZ:parseFloat(_o313),specularExponent:parseFloat(_l270),specularConstant:parseFloat(_a207),diffuseConstant:parseFloat(_h161),ambientConstant:parseFloat(_r102),color:_d80};}else if("spot-light"===_i930){var _ref135=_toConsumableArray(_n402),_t1391=_ref135[0],_s495=_ref135[1],_o314=_ref135[2],_l271=_ref135[3],_a208=_ref135[4],_h162=_ref135[5],_r103=_ref135[6],_d81=_ref135[7],_c59=_ref135[8],_p50=_ref135[9],_u42=_ref135[10],_x144=_ref135[11];e={name:_i930,sourceX:parseFloat(_t1391),sourceY:parseFloat(_s495),sourceZ:parseFloat(_o314),targetX:parseFloat(_l271),targetY:parseFloat(_a208),targetZ:parseFloat(_h162),coneAngle:parseFloat(_r103),color:_d81,specularExponent:parseFloat(_c59),specularConstant:parseFloat(_p50),diffuseConstant:parseFloat(_u42),ambientConstant:parseFloat(_x144)};}else if("outline"===_i930){var _ref136=_toConsumableArray(_n402),_t1392=_ref136[0],_s496=_ref136[1];e={name:_i930,width:parseFloat(_t1392),color:_s496};}else if("gaussian-blur"===_i930){var _ref137=_toConsumableArray(_n402),_t1393=_ref137[0];e={name:_i930,radius:parseFloat(_t1393)};}else if("motion-blur"===_i930){var _ref138=_toConsumableArray(_n402),_t1394=_ref138[0],_s497=_ref138[1];e={name:_i930,distance:parseFloat(_t1394),orientation:_s497};}else if("warp"===_i930){var _ref139=_toConsumableArray(_n402),_t1395=_ref139[0],_s498=_ref139[1];e={name:_i930,amount:parseFloat(_t1395),frequency:parseFloat(_s498)};}else if("pixelete"===_i930){var _ref140=_toConsumableArray(_n402),_t1396=_ref140[0];e={name:_i930,pixelSize:parseFloat(_t1396)};}else if("morphology"===_i930){var _ref141=_toConsumableArray(_n402),_t1397=_ref141[0],_s499=_ref141[1];e={name:_i930,operator:_t1397,radius:parseFloat(_s499)};}else if("black-and-white"===_i930){var _ref142=_toConsumableArray(_n402),_t1398=_ref142[0];e={name:_i930,balance:parseFloat(_t1398)};}else if("grayscale"===_i930){var _ref143=_toConsumableArray(_n402),_t1399=_ref143[0];e={name:_i930,amount:parseFloat(_t1399)};}else if("sepia"===_i930){var _ref144=_toConsumableArray(_n402),_t1400=_ref144[0];e={name:_i930,amount:parseFloat(_t1400)};}else if("saturate"===_i930){var _ref145=_toConsumableArray(_n402),_t1401=_ref145[0];e={name:_i930,amount:parseFloat(_t1401)};}else if("hue-rotate"===_i930){var _ref146=_toConsumableArray(_n402),_t1402=_ref146[0];e={name:_i930,angle:parseFloat(_t1402)};}else if("invert"===_i930){var _ref147=_toConsumableArray(_n402),_t1403=_ref147[0];e={name:_i930,amount:parseFloat(_t1403)};}else if("brightness"===_i930){var _ref148=_toConsumableArray(_n402),_t1404=_ref148[0];e={name:_i930,amount:parseFloat(_t1404)};}else if("contrast"===_i930){var _ref149=_toConsumableArray(_n402),_t1405=_ref149[0];e={name:_i930,amount:parseFloat(_t1405)};}else if("posterize"===_i930){var _ref150=_toConsumableArray(_n402),_t1406=_ref150[0],_s500=_ref150[1],_o315=_ref150[2];e={name:_i930,amount:parseInt(_s500),channels:_t1406.split(""),saturation:parseFloat(_o315)};}else if("duotone"===_i930){var _ref151=_toConsumableArray(_n402),_t1407=_ref151[0],_s501=_ref151[1],_o316=_ref151[2];e={name:_i930,shadowsColor:_t1407,highlightsColor:_s501,gamma:parseFloat(_o316)};}else"x-ray"===_i930&&(e={name:_i930});}return e;},kx=function kx(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=wx[e.name];if("drop-shadow"===e.name){var _n403=e.offsetX,_o317=e.offsetY,_l272=e.blurRadius,_a209=e.spread,_h163=e.color;_n403=tt(_n403,3),_o317=tt(_o317,3),_l272=tt(_l272,3),_a209=tt(_a209,3),_h163=ai(_h163," ",""),t.setAttribute("data-bx-preset","drop-shadow ".concat(s," ").concat(_n403," ").concat(_o317," ").concat(_l272," ").concat(_a209," ").concat(_h163)),_a209*=2,i?(t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l272),t.querySelector(":scope > feOffset").setAttribute("dx",_n403),t.querySelector(":scope > feOffset").setAttribute("dy",_o317),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_a209),t.querySelector(":scope > feFlood").setAttribute("flood-color",_h163),t.querySelector(":scope > feFlood").removeAttribute("x"),t.querySelector(":scope > feFlood").removeAttribute("y")):t.innerHTML="\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"".concat(_l272,"\"/>\n        <feOffset dx=\"").concat(_n403,"\" dy=\"").concat(_o317,"\"/>\n        <feComponentTransfer result=\"offsetblur\">\n          <feFuncA id=\"spread-ctrl\" type=\"linear\" slope=\"").concat(_a209,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_h163,"\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      ");}else if("inner-shadow"===e.name){var _n404=e.offsetX,_o318=e.offsetY,_l273=e.blurRadius,_a210=e.choke,_h164=e.color;_n404=tt(_n404,3),_o318=tt(_o318,3),_l273=tt(_l273,3),_a210=tt(_a210,3),_h164=ai(_h164," ",""),t.setAttribute("data-bx-preset","inner-shadow ".concat(s," ").concat(_n404," ").concat(_o318," ").concat(_l273," ").concat(_a210," ").concat(_h164)),_a210*=2,i?(t.querySelector(":scope > feOffset").setAttribute("dx",_n404),t.querySelector(":scope > feOffset").setAttribute("dy",_o318),t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l273),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_a210),t.querySelector(":scope > feFlood").setAttribute("flood-color",_h164)):t.innerHTML="\n        <feOffset dx=\"".concat(_n404,"\" dy=\"").concat(_o318,"\"/>\n        <feGaussianBlur stdDeviation=\"").concat(_l273,"\"/>\n        <feComposite operator=\"out\" in=\"SourceGraphic\"/>\n        <feComponentTransfer result=\"choke\">\n          <feFuncA type=\"linear\" slope=\"").concat(_a210,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_h164,"\" result=\"color\"/>\n        <feComposite operator=\"in\" in=\"color\" in2=\"choke\" result=\"shadow\"/>\n        <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\"/>\n      ");}else if("point-light"===e.name){var _n405=e.sourceX,_o319=e.sourceY,_l274=e.sourceZ,_a211=e.specularExponent,_h165=e.specularConstant,_r104=e.diffuseConstant,_d82=e.ambientConstant,_c60=e.color;_n405=tt(_n405,3),_o319=tt(_o319,3),_l274=tt(_l274,3),_a211=tt(_a211,3),_h165=tt(_h165,3),_r104=tt(_r104,3),_d82=tt(_d82,3),_c60=ai(_c60," ",""),t.setAttribute("data-bx-preset",["point-light",s,_n405,_o319,_l274,_a211,_h165,_r104,_d82,_c60].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_a211),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_h165),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_c60),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("x",_n405),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("y",_o319),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("z",_l274),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_r104),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_c60),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("x",_n405),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("y",_o319),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("z",_l274),t.querySelector(":scope > feComposite").setAttribute("k2",_d82)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_c60,"\"\n          specularConstant=\"").concat(_h165,"\" specularExponent=\"").concat(_a211,"\">\n          <fePointLight x=\"").concat(_n405,"\" y=\"").concat(_o319,"\" z=\"").concat(_l274,"\"></fePointLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_c60,"\" diffuseConstant=\"").concat(_r104,"\">\n          <fePointLight x=\"").concat(_n405,"\" y=\"").concat(_o319,"\" z=\"").concat(_l274,"\"></fePointLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_d82,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("spot-light"===e.name){var _n406=tt(e.sourceX,3),_o320=tt(e.sourceY,3),_l275=tt(e.sourceZ,3),_a212=tt(e.targetX,3),_h166=tt(e.targetY,3),_r105=tt(e.targetZ,3),_d83=tt(e.coneAngle,3),_c61=tt(e.specularExponent,3),_p51=tt(e.specularConstant,3),_u43=tt(e.diffuseConstant,3),_x145=tt(e.ambientConstant,3),_b37=ai(e.color," ","");t.setAttribute("data-bx-preset",["spot-light",s,_n406,_o320,_l275,_a212,_h166,_r105,_d83,_b37,_c61,_p51,_u43,_x145].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_c61),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_p51),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_b37),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("x",_n406),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("y",_o320),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("z",_l275),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtX",_a212),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtY",_h166),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtZ",_r105),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("limitingConeAngle",_d83),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_u43),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_b37),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("x",_n406),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("y",_o320),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("z",_l275),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtX",_a212),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtY",_h166),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtZ",_r105),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("limitingConeAngle",_d83),t.querySelector(":scope > feComposite").setAttribute("k2",_x145)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_b37,"\"\n          specularConstant=\"").concat(_p51,"\" specularExponent=\"").concat(_c61,"\">\n          <feSpotLight x=\"").concat(_n406,"\" y=\"").concat(_o320,"\" z=\"").concat(_l275,"\" limitingConeAngle=\"").concat(_d83,"\"\n            pointsAtX=\"").concat(_a212,"\" pointsAtY=\"").concat(_h166,"\" pointsAtZ=\"").concat(_r105,"\"></feSpotLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_b37,"\" diffuseConstant=\"").concat(_u43,"\">\n          <feSpotLight x=\"").concat(_n406,"\" y=\"").concat(_o320,"\" z=\"").concat(_l275,"\" limitingConeAngle=\"").concat(_d83,"\"\n            pointsAtX=\"").concat(_a212,"\" pointsAtY=\"").concat(_h166,"\" pointsAtZ=\"").concat(_r105,"\"></feSpotLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_x145,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("outline"===e.name){var _n407=e.width,_o321=ai(e.color," ","");_n407=tt(_n407,3),t.setAttribute("data-bx-preset","outline ".concat(s," ").concat(_n407," ").concat(_o321)),i?(t.querySelector(":scope > feMorphology").setAttribute("radius","".concat(_n407)),t.querySelector(":scope > feFlood").setAttribute("flood-color","".concat(_o321))):t.innerHTML="\n        <feMorphology in=\"SourceAlpha\" result=\"dilated\" operator=\"dilate\" radius=\"".concat(_n407,"\"></feMorphology>\n        <feFlood flood-color=\"").concat(_o321,"\" result=\"flood\"></feFlood>\n        <feComposite in=\"flood\" in2=\"dilated\" operator=\"in\" result=\"outline\"></feComposite>\n        <feMerge>\n          <feMergeNode in=\"outline\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      ");}else if("gaussian-blur"===e.name){var _n408=e.radius;_n408=tt(_n408,3),t.setAttribute("data-bx-preset","gaussian-blur ".concat(s," ").concat(_n408)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_n408," ").concat(_n408)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_n408," ").concat(_n408,"\" edgeMode=\"none\" >"));}else if("motion-blur"===e.name){var _n409=e.distance,_o322=e.orientation,_l276="horizontal"===_o322?"".concat(_n409," 0"):"0 ".concat(_n409);_n409=tt(_n409,3),t.setAttribute("data-bx-preset","motion-blur ".concat(s," ").concat(_n409," ").concat(_o322)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_l276)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_l276,"\" edgeMode=\"none\">"));}else if("warp"===e.name){var _n410=e.amount,_o323=e.frequency;_n410=tt(_n410,1),_o323=tt(_o323,3),t.setAttribute("data-bx-preset","warp ".concat(s," ").concat(_n410," ").concat(_o323)),i?(t.querySelector(":scope > feTurbulence").setAttribute("baseFrequency",_o323/10),t.querySelector(":scope > feDisplacementMap").setAttribute("scale",_n410)):t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"1 0.5\"/>\n        </feComponentTransfer>\n        <feMerge result=\"a\">\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n        <feTurbulence type=\"fractalNoise\" baseFrequency=\"".concat(_o323/10,"\" numOctaves=\"1\" result=\"warp\" />\n        <feDisplacementMap xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"").concat(_n410,"\" in=\"a\" in2=\"warp\"  />\n      ");}else if("pixelete"===e.name){var _n411=e.pixelSize;_n411=tt(_n411,3),t.setAttribute("data-bx-preset","pixelete ".concat(s," ").concat(_n411)),i?(t.querySelector(":scope > feComposite").setAttribute("width",_n411),t.querySelector(":scope > feComposite").setAttribute("height",_n411),t.querySelector(":scope > feMorphology").setAttribute("radius",_n411/2)):t.innerHTML="\n        <feFlood height=\"2\" width=\"2\"/>\n        <feComposite width=\"".concat(_n411,"\" height=\"").concat(_n411,"\"></feComposite>\n        <feTile result=\"a\"/>\n        <feComposite in=\"SourceGraphic\" in2=\"a\" operator=\"in\"/>\n        <feMorphology operator=\"dilate\" radius=\"").concat(_n411/2,"\"></feMorphology>\n      ");}else if("morphology"===e.name){var _n412=e.operator,_o324=e.radius;_o324=tt(_o324,3),t.setAttribute("data-bx-preset","morphology ".concat(s," ").concat(_n412," ").concat(_o324)),i?(t.querySelector(":scope > feMorphology").setAttribute("operator",_n412),t.querySelector(":scope > feMorphology").setAttribute("radius",_o324)):t.innerHTML="\n        <feMorphology operator=\"".concat(_n412,"\" radius=\"").concat(_o324,"\"></feMorphology>\n      ");}else if("black-and-white"===e.name){var _n413=e.balance;t.setAttribute("data-bx-preset","black-and-white ".concat(s," ").concat(_n413));var _o325=tt((-1*_n413+1)/2*250,1),_l277="0 ".repeat(_o325)+"1 ".repeat(255-_o325);i?(t.querySelector("feFuncR").setAttribute("tableValues",_l277),t.querySelector("feFuncG").setAttribute("tableValues",_l277),t.querySelector("feFuncB").setAttribute("tableValues",_l277)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"0\"></feColorMatrix>\n\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"".concat(_l277,"\"/>\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_l277,"\"/>\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_l277,"\"/>\n        </feComponentTransfer>\n      "));}else if("grayscale"===e.name){var _n414=e.amount,_o326=[.2126+.7874*[1-_n414],.7152-.7152*[1-_n414],.0722-.0722*[1-_n414],0,0,.2126-.2126*[1-_n414],.7152+.2848*[1-_n414],.0722-.0722*[1-_n414],0,0,.2126-.2126*[1-_n414],.7152-.7152*[1-_n414],.0722+.9278*[1-_n414],0,0,0,0,0,1,0];_o326=_o326.map(function(t){return tt(t,3);}).join(" "),t.setAttribute("data-bx-preset","grayscale ".concat(s," ").concat(_n414)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o326):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o326,"\"/>");}else if("sepia"===e.name){var _n415=e.amount,_o327=[.393+.607*[1-_n415],.769-.769*[1-_n415],.189-.189*[1-_n415],0,0,.349-.349*[1-_n415],.686+.314*[1-_n415],.168-.168*[1-_n415],0,0,.272-.272*[1-_n415],.534-.534*[1-_n415],.131+.869*[1-_n415],0,0,0,0,0,1,0];_o327=_o327.map(function(t){return tt(t,3);}).join(" "),t.setAttribute("data-bx-preset","sepia ".concat(s," ").concat(_n415)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o327):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o327,"\"/>");}else if("saturate"===e.name){var _n416=e.amount;_n416=tt(_n416,3),t.setAttribute("data-bx-preset","saturate ".concat(s," ").concat(_n416)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n416):t.innerHTML="<feColorMatrix type=\"saturate\" values=\"".concat(_n416,"\"/>");}else if("hue-rotate"===e.name){var _n417=e.angle;_n417=tt(_n417,0),t.setAttribute("data-bx-preset","hue-rotate ".concat(s," ").concat(_n417)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n417):t.innerHTML="<feColorMatrix type=\"hueRotate\" values=\"".concat(_n417,"\"/>");}else if("invert"===e.name){var _n418=e.amount;if(_n418=tt(_n418,3),t.setAttribute("data-bx-preset","invert ".concat(s," ").concat(_n418)),i){var _iterator930=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step930;try{for(_iterator930.s();!(_step930=_iterator930.n()).done;){var _e980=_step930.value;_e980.setAttribute("tableValues","".concat(_n418," ").concat(1-_n418));}}catch(err){_iterator930.e(err);}finally{_iterator930.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"".concat(_n418," ").concat(1-_n418,"\"/>\n          <feFuncG type=\"table\" tableValues=\"").concat(_n418," ").concat(1-_n418,"\"/>\n          <feFuncB type=\"table\" tableValues=\"").concat(_n418," ").concat(1-_n418,"\"/>\n        </feComponentTransfer>\n      ");}else if("brightness"===e.name){var _n419=e.amount;if(_n419=tt(_n419,3),t.setAttribute("data-bx-preset","brightness ".concat(s," ").concat(_n419)),i){var _iterator931=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step931;try{for(_iterator931.s();!(_step931=_iterator931.n()).done;){var _e981=_step931.value;_e981.setAttribute("slope","".concat(_n419));}}catch(err){_iterator931.e(err);}finally{_iterator931.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n419,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n419,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n419,"\"/>\n        </feComponentTransfer>\n      ");}else if("contrast"===e.name){var _n420=e.amount;if(_n420=tt(_n420,3),t.setAttribute("data-bx-preset","contrast ".concat(s," ").concat(_n420)),i){var _iterator932=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step932;try{for(_iterator932.s();!(_step932=_iterator932.n()).done;){var _e982=_step932.value;_e982.setAttribute("slope","".concat(_n420)),_e982.setAttribute("intercept",""+(-.5*_n420+.5));}}catch(err){_iterator932.e(err);}finally{_iterator932.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n420,"\" intercept=\"").concat(-.5*_n420+.5,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n420,"\" intercept=\"").concat(-.5*_n420+.5,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n420,"\" intercept=\"").concat(-.5*_n420+.5,"\"/>\n        </feComponentTransfer>\n      ");}else if("posterize"===e.name){var _n421=e.channels,_o328=e.amount,_l278=e.saturation;t.setAttribute("data-bx-preset","posterize ".concat(s," ").concat(_n421.join("")," ").concat(_o328," ").concat(_l278));var _a213=[0],_h167=1/_o328,_r106=0;for(var _t1408=1;_t1408<_o328;_t1408+=1){_r106+=_h167,_a213.push(_r106);}_a213.push(1),_a213=_a213.map(function(t){return tt(t,3);});var _d84=_n421.includes("r")?_a213:[],_c62=_n421.includes("g")?_a213:[],_p52=_n421.includes("b")?_a213:[];i?(t.querySelector(":scope > feColorMatrix").setAttribute("values",_l278),t.querySelector(":scope > feComponentTransfer>  feFuncR").setAttribute("tableValues",_d84.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncG").setAttribute("tableValues",_c62.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncB").setAttribute("tableValues",_p52.join(" "))):t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"".concat(_l278,"\"/>\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"").concat(_d84.join(" "),"\" />\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_c62.join(" "),"\" />\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_p52.join(" "),"\" />\n        </feComponentTransfer>\n      ");}else if("duotone"===e.name){var _n422=e.shadowsColor,_o329=e.highlightsColor,_l279=e.gamma,_vo7=vo(_n422,"rgba"),_vo8=_slicedToArray(_vo7,3),_a214=_vo8[0],_h168=_vo8[1],_r107=_vo8[2],_vo9=vo(_o329,"rgba"),_vo10=_slicedToArray(_vo9,3),_d85=_vo10[0],_c63=_vo10[1],_p53=_vo10[2],_u44=tt(_a214/255,3),_x146=tt(_h168/255,3),_b38=tt(_r107/255,3),_m36=tt(_d85/255,3),_g31=tt(_c63/255,3),_f22=tt(_p53/255,3);_n422=ai(_n422," ",""),_o329=ai(_o329," ",""),t.setAttribute("data-bx-preset","duotone ".concat(s," ").concat(_n422," ").concat(_o329," ").concat(_l279)),i?(t.children[1].children[0].setAttribute("amplitude",_l279),t.children[1].children[1].setAttribute("amplitude",_l279),t.children[1].children[2].setAttribute("amplitude",_l279),t.children[2].children[0].setAttribute("tableValues","".concat(_u44," ").concat(_m36)),t.children[2].children[1].setAttribute("tableValues","".concat(_x146," ").concat(_g31)),t.children[2].children[2].setAttribute("tableValues","".concat(_b38," ").concat(_f22))):t.innerHTML="\n        <feColorMatrix\n          type=\"matrix\" result=\"grayscale\" values=\"1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0\">\n        </feColorMatrix>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\">\n          <feFuncR type=\"gamma\" exponent=\"1.5\" amplitude=\"".concat(_l279,"\" offset=\"0\"></feFuncR>\n          <feFuncG type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l279,"\" offset=\"0\"></feFuncG>\n          <feFuncB type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l279,"\" offset=\"0\"></feFuncB>\n        </feComponentTransfer>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\" result=\"duotone\">\n          <feFuncR type=\"table\" tableValues=\"").concat(_u44," ").concat(_m36,"\"></feFuncR>\n          <feFuncG type=\"table\" tableValues=\"").concat(_x146," ").concat(_g31,"\"></feFuncG>\n          <feFuncB type=\"table\" tableValues=\"").concat(_b38," ").concat(_f22,"\"></feFuncB>\n          <feFuncA type=\"table\" tableValues=\"0 1\"></feFuncA>\n        </feComponentTransfer>\n      ");}else"x-ray"===e.name&&(t.setAttribute("data-bx-preset","x-ray ".concat(s)),i?t.querySelector("feColorMatrix").setAttribute("values","-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"):t.innerHTML='\n        <feColorMatrix type="matrix" values="-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"/>\n      ');!1===i&&("pixelete"===e.name?(t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","100%"),t.setAttribute("height","100%")):(t.setAttribute("x","-500%"),t.setAttribute("y","-500%"),t.setAttribute("width","1000%"),t.setAttribute("height","1000%")));},Sx=Symbol(),_x="/images/logos/logo-full.svg";var Cx=/*#__PURE__*/function(_HTMLElement76){_inherits(Cx,_HTMLElement76);var _super105=_createSuper(Cx);_createClass(Cx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function Cx(){var _this515;_classCallCheck(this,Cx);_this515=_super105.call(this),_this515.Dh=es(_this515.qs,200,_assertThisInitialized(_this515)),_this515._shadowRoot=_this515.attachShadow({mode:"closed"}),_this515._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Cx._shadowStyleSheet],_this515._shadowRoot.append(document.importNode(Cx._shadowTemplate.content,!0));var _iterator933=_createForOfIteratorHelper(_this515._shadowRoot.querySelectorAll("[id]")),_step933;try{for(_iterator933.s();!(_step933=_iterator933.n()).done;){var _t1409=_step933.value;_this515["#"+_t1409.id]=_t1409;}}catch(err){_iterator933.e(err);}finally{_iterator933.f();}_this515.addEventListener("keydown",function(t){return _this515.wn(t);}),_this515["#popover"].addEventListener("open",function(){return _this515.Eu();}),_this515["#items"].addEventListener("click",function(t){return _this515.np(t);}),_this515["#items"].addEventListener("dblclick",function(t){return _this515.Tu(t);}),_this515["#manage-button"].addEventListener("click",function(){return _this515.Au();}),_this515["#developer-mode-button"].addEventListener("toggle",function(){return _this515.$u();});return _this515;}_createClass(Cx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Iu=Gi(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.en():"value"===t&&this.Cu());}},{key:"tn",value:function tn(){var _this516=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filterselect:developerMode",!1),this["#expand-button"].disabled=!1,this["#popover"].style.width=this["#expand-button"].clientWidth+"px",this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this516.al(t.detail);}),this.Iu.addEventListener("resize",this.Lu=function(){_this516.Ru();}),this.qs();}},{key:"en",value:function en(){this.Js.board.removeEventListener("workspacemutation",this.hn),this.Iu.removeEventListener("resize",this.Lu),this["#expand-button"].collapse(),this["#expand-button"].disabled=!0,this["#custom-filters-mirror"].innerHTML="";}},{key:"Cu",value:function Cu(){this.yb(),this.Gu();}},{key:"al",value:function al(){this.Dh();}},{key:"Ru",value:function Ru(){this["#popover"].style.width=this["#expand-button"].clientWidth+"px";}},{key:"np",value:function np(t){var e=t.target.closest(".item");if(e){var _t1410=e.getAttribute("data-value");_t1410===this.value&&!0!==this.mixed||(this.value=_t1410,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Tu",value:function Tu(t){var e=t.target.closest(".item");if(e){var _t1411=e.getAttribute("data-value");this["#expand-button"].collapse(),_t1411.startsWith("#")&&(this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(_t1411.substring(1)));}}},{key:"Au",value:function Au(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("filters-browser");}},{key:"$u",value:function $u(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-filterselect:developerMode",t),this.yb(),this.Uu(),this.Fu();}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu());}},{key:"qs",value:function qs(){this.yb(),this.ju(),this.Fu(),this.kb();}},{key:"yb",value:function yb(){if("none"===this.value)this["#expand-button-thumbnail-img"].style.filter="none",this["#expand-button-label"].textContent="None";else if(this.value.startsWith("#")){var _t1412=this.Js.board.masterWorkspace.querySelector(this.value),_e983=this["#developer-mode-button"].toggled;this["#expand-button-thumbnail-img"].style.filter="url("+this.value+")",this["#expand-button-label"].textContent=this.Sb(_t1412,_e983);}else{var _t1413=this.value;this["#expand-button-thumbnail-img"].style.filter="url(#"+_t1413+"-filter)",this["#expand-button-label"].textContent=m[_t1413];}}},{key:"ju",value:function ju(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("data-bx-preset");});this["#custom-items"].innerHTML="";var _iterator934=_createForOfIteratorHelper(t),_step934;try{for(_iterator934.s();!(_step934=_iterator934.n()).done;){var _e984=_step934.value;var _t1414=Qi(_templateObject21(),_e984.id,_x,_e984.id,_e984.id);_t1414[Sx]=_e984,this["#custom-items"].append(_t1414);}}catch(err){_iterator934.e(err);}finally{_iterator934.f();}this.Gu(),this.Uu();}},{key:"Gu",value:function Gu(){for(var _i931=0,_arr41=[this["#none-item"]].concat(_toConsumableArray(this["#custom-items"].children),_toConsumableArray(this["#preset-items"].children));_i931<_arr41.length;_i931++){var _t1415=_arr41[_i931];_t1415.getAttribute("data-value")===this.value?_t1415.setAttribute("data-selected",""):_t1415.removeAttribute("data-selected");}}},{key:"Uu",value:function Uu(){var _iterator935=_createForOfIteratorHelper(this["#custom-items"].children),_step935;try{for(_iterator935.s();!(_step935=_iterator935.n()).done;){var _t1416=_step935.value;var _e985=_t1416[Sx];_t1416.querySelector(".label").textContent=this.Sb(_e985,this["#developer-mode-button"].toggled);}}catch(err){_iterator935.e(err);}finally{_iterator935.f();}}},{key:"Fu",value:function Fu(){this["#custom-items"].querySelector(":scope > .item")?this["#custom-items-placeholder"].hidden=!0:this["#custom-items-placeholder"].hidden=!1;}},{key:"kb",value:function kb(){if(this["#custom-filters-mirror"].innerHTML=this.Js.board.defs.innerHTML,0===this["#preset-filters-mirror"].childElementCount){var _iterator936=_createForOfIteratorHelper(this["#preset-items"].children),_step936;try{for(_iterator936.s();!(_step936=_iterator936.n()).done;){var _t1417=_step936.value;if("hr"!==_t1417.localName){var _e986=_t1417.dataset.value,_i932=vx(_e986),_s502=Ii("svg:filter");_s502.id="".concat(_i932.name,"-filter"),kx(_s502,_i932),this["#preset-filters-mirror"].append(_s502),_t1417.querySelector("img").style.filter="url(#"+_s502.id+")";}}}catch(err){_iterator936.e(err);}finally{_iterator936.f();}}}},{key:"Nu",value:function Nu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s503=t.indexOf(e);t[_s503-1]?i=t[_s503-1]:t[t.length-1]!==e&&(i=t[t.length-1]);}else t.length>0&&(i=t[t.length-1]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Vu",value:function Vu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s504=t.indexOf(e);t[_s504+1]?i=t[_s504+1]:t[0]!==e&&(i=t[0]);}else t.length>0&&(i=t[0]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Eu",value:function Eu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Sb",value:function Sb(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<filter>";else{var _e987=t.querySelector(":scope > bx-title");i=_e987?_e987.textContent:"Filter";}return i;}}]);return Cx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cx,"observedAttributes",["enabled","value"]);_defineProperty(Cx,"_shadowTemplate",Qi(_templateObject276(),_x,_x,_x,m["drop-shadow"],_x,m["inner-shadow"],_x,m["point-light"],_x,m["spot-light"],_x,m.outline,_x,m["gaussian-blur"],_x,m["motion-blur"],_x,m.warp,_x,m.pixelete,_x,m.morphology,_x,m["black-and-white"],_x,m.grayscale,_x,m.sepia,_x,m.saturate,_x,m["hue-rotate"],_x,m.invert,_x,m.brightness,_x,m.contrast,_x,m.posterize,_x,m.duotone,_x,m["x-ray"]));_defineProperty(Cx,"_shadowStyleSheet",Ji(_templateObject277()));customElements.define("bx-filterselect",Cx);var Mx=function Mx(t){var e=document.createNodeIterator(Li(t),NodeFilter.SHOW_ELEMENT),i=null,s=[];for(;i=e.nextNode();){if(E.includes(i.localName)){var _e988=getComputedStyle(i).filter,_n423=co.fromString(_e988);if(_n423){_n423.value.substring(1)===t.id&&!1===s.includes(i)&&s.push(i);}}}return s;},Px=function Px(t){var e=null,i=getComputedStyle(t).getPropertyValue("filter");if(i&&i.startsWith('url("#')){var _s505=i.substring(6,i.length-2);_s505&&(e=Li(t).querySelector("filter#"+_s505));}return e;},Dx=function Dx(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(!1===i){var _i933=[];var _iterator937=_createForOfIteratorHelper(t),_step937;try{for(_iterator937.s();!(_step937=_iterator937.n()).done;){var _s506=_step937.value;if(E.includes(_s506.localName))if("text"===_s506.localName){if(e&&e.intersectsNode(_s506)){var _t1418=vi(_s506);"backward"===e.direction&&_t1418.reverse();var _iterator938=_createForOfIteratorHelper(_t1418),_step938;try{for(_iterator938.s();!(_step938=_iterator938.n()).done;){var _s507=_step938.value;e.intersectsNode(_s507)&&(_i933.includes(_s507.parentElement)||_i933.push(_s507.parentElement));}}catch(err){_iterator938.e(err);}finally{_iterator938.f();}}else _i933.push(_s506);}else _i933.push(_s506);}}catch(err){_iterator937.e(err);}finally{_iterator937.f();}return _i933;}if(!0===i){var _i934=e,_s508=[],_n424=[];var _iterator939=_createForOfIteratorHelper(t),_step939;try{for(_iterator939.s();!(_step939=_iterator939.n()).done;){var _e989=_step939.value;if("text"===_e989.localName&&_i934&&_e989.contains(_i934.commonAncestorContainer)){mi(_e989,_i934),_s508.push(_e989);var _t1419=_e989.querySelectorAll("tspan"),_o330=fi(_i934,_e989),_l280=_i934.collapsed?_t1419:_o330;_n424.push.apply(_n424,_toConsumableArray(_l280));}else E.includes(_e989.localName)&&_n424.push(_e989);}}catch(err){_iterator939.e(err);}finally{_iterator939.f();}return[_n424,_s508];}},zx=function zx(t){var e=t.closest("filter"),i=new DOMRect(),s=t.viewportElement,n=s.createSVGLength(),o=s.createSVGLength(),l=s.createSVGLength(),a=s.createSVGLength();return n.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"0%",o.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"0%",l.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"100%",a.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"100%","objectBoundingBox"===e.getAttribute("primitiveUnits")?(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits:i.x=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits:i.y=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits:i.width=100*l.valueInSpecifiedUnits,a.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=a.valueInSpecifiedUnits:i.height=100*a.valueInSpecifiedUnits):(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.x=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.y=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.width=l.value,a.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=a.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.height=a.value),i;};var Ox=/*#__PURE__*/function(_HTMLElement77){_inherits(Ox,_HTMLElement77);var _super106=_createSuper(Ox);function Ox(){var _this517;_classCallCheck(this,Ox);_this517=_super106.call(this),_this517._b=!1,_this517.Cb=!1,_this517.Mb=!1,_this517.Pb=!1,_this517.Dh=es(_this517.qs,200,_assertThisInitialized(_this517)),_this517._shadowRoot=_this517.attachShadow({mode:"closed"}),_this517._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Ox._shadowStyleSheet],_this517._shadowRoot.append(document.importNode(Ox._shadowTemplate.content,!0));var _iterator940=_createForOfIteratorHelper(_this517._shadowRoot.querySelectorAll("[id]")),_step940;try{for(_iterator940.s();!(_step940=_iterator940.n()).done;){var _t1420=_step940.value;_this517["#"+_t1420.id]=_t1420;}}catch(err){_iterator940.e(err);}finally{_iterator940.f();}_this517["#offset-section"].addEventListener("changestart",function(){return _this517.Db(event);}),_this517["#blur-radius-box"].addEventListener("changestart",function(){return _this517.zb(event);}),_this517["#spread-box"].addEventListener("changestart",function(){return _this517.Ob(event);}),_this517["#color-select"].addEventListener("changestart",function(){return _this517.Eb();});return _this517;}_createClass(Ox,[{key:"connectedCallback",value:function connectedCallback(){var _this518=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this518.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this518.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Db",value:function Db(t){var _this519=this;var e,_i936;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.Cb=!0;var _this$Js$board=this.Js.board,s=_this$Js$board.outermostSelectedElements,n=_this$Js$board.selectedTextRange,_Dx=Dx(s,n,!0),_Dx2=_slicedToArray(_Dx,2),o=_Dx2[0],l=_Dx2[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator941=_createForOfIteratorHelper(o),_step941;try{for(_iterator941.s();!(_step941=_iterator941.n()).done;){var _t1421=_step941.value;var _e990=Px(_t1421),_i935=_e990?yx(_e990):null;_i935&&"drop-shadow"===_i935.name&&(_i935.offsetX=_this519["#offset-x-input"].value,_i935.offsetY=_this519["#offset-y-input"].value,kx(_e990,_i935,!0));}}catch(err){_iterator941.e(err);}finally{_iterator941.f();}}),this["#offset-section"].addEventListener("changeend",_i936=function i(){_this519["#offset-section"].removeEventListener("change",e),_this519["#offset-section"].removeEventListener("changeend",_i936),_this519.Cb=!1;var _iterator942=_createForOfIteratorHelper(l),_step942;try{for(_iterator942.s();!(_step942=_iterator942.n()).done;){var _t1422=_step942.value;gi(_t1422,n);}}catch(err){_iterator942.e(err);}finally{_iterator942.f();}});}},{key:"zb",value:function zb(t){var _this520=this;var e,_i938;this.Js.board.undoManager.checkpoint("Drop shadow blur radius"),this._b=!0;var _this$Js$board2=this.Js.board,s=_this$Js$board2.outermostSelectedElements,n=_this$Js$board2.selectedTextRange,_Dx3=Dx(s,n,!0),_Dx4=_slicedToArray(_Dx3,2),o=_Dx4[0],l=_Dx4[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this520["#blur-radius-slider"]?_this520["#blur-radius-input"].value=_this520["#blur-radius-slider"].value:t.target===_this520["#blur-radius-input"]&&(_this520["#blur-radius-slider"].value=_this520["#blur-radius-input"].value);var _iterator943=_createForOfIteratorHelper(o),_step943;try{for(_iterator943.s();!(_step943=_iterator943.n()).done;){var _t1423=_step943.value;var _e991=Px(_t1423),_i937=_e991?yx(_e991):null;_i937&&"drop-shadow"===_i937.name&&(_i937.blurRadius=_this520["#blur-radius-input"].value,kx(_e991,_i937,!0));}}catch(err){_iterator943.e(err);}finally{_iterator943.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i938=function i(){_this520["#blur-radius-box"].removeEventListener("change",e),_this520["#blur-radius-box"].removeEventListener("changeend",_i938),_this520._b=!1;var _iterator944=_createForOfIteratorHelper(l),_step944;try{for(_iterator944.s();!(_step944=_iterator944.n()).done;){var _t1424=_step944.value;gi(_t1424,n);}}catch(err){_iterator944.e(err);}finally{_iterator944.f();}});}},{key:"Ob",value:function Ob(t){var _this521=this;var e,_i940;this.Js.board.undoManager.checkpoint("Drop shadow spread"),this.Mb=!0;var _this$Js$board3=this.Js.board,s=_this$Js$board3.outermostSelectedElements,n=_this$Js$board3.selectedTextRange,_Dx5=Dx(s,n,!0),_Dx6=_slicedToArray(_Dx5,2),o=_Dx6[0],l=_Dx6[1];this["#spread-box"].addEventListener("change",e=function e(t){t.target===_this521["#spread-slider"]?_this521["#spread-input"].value=_this521["#spread-slider"].value:t.target===_this521["#spread-input"]&&(_this521["#spread-slider"].value=_this521["#spread-input"].value);var _iterator945=_createForOfIteratorHelper(o),_step945;try{for(_iterator945.s();!(_step945=_iterator945.n()).done;){var _t1425=_step945.value;var _e992=Px(_t1425),_i939=_e992?yx(_e992):null;_i939&&"drop-shadow"===_i939.name&&(_i939.spread=_this521["#spread-input"].value/100,kx(_e992,_i939,!0));}}catch(err){_iterator945.e(err);}finally{_iterator945.f();}}),this["#spread-box"].addEventListener("changeend",_i940=function i(){_this521["#spread-box"].removeEventListener("change",e),_this521["#spread-box"].removeEventListener("changeend",_i940),_this521.Mb=!1;var _iterator946=_createForOfIteratorHelper(l),_step946;try{for(_iterator946.s();!(_step946=_iterator946.n()).done;){var _t1426=_step946.value;gi(_t1426,n);}}catch(err){_iterator946.e(err);}finally{_iterator946.f();}});}},{key:"Eb",value:function Eb(){var _this522=this;var t,_e994;this.Js.board.undoManager.checkpoint("Drop shadow color"),this.Pb=!0;var _this$Js$board4=this.Js.board,i=_this$Js$board4.outermostSelectedElements,s=_this$Js$board4.selectedTextRange,_Dx7=Dx(i,s,!0),_Dx8=_slicedToArray(_Dx7,2),n=_Dx8[0],o=_Dx8[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator947=_createForOfIteratorHelper(n),_step947;try{for(_iterator947.s();!(_step947=_iterator947.n()).done;){var _t1427=_step947.value;var _e993=Px(_t1427),_i941=_e993?yx(_e993):null;_i941&&"drop-shadow"===_i941.name&&(_i941.color=_this522["#color-select"].value,kx(_e993,_i941,!0));}}catch(err){_iterator947.e(err);}finally{_iterator947.f();}}),this["#color-select"].addEventListener("changeend",_e994=function e(){_this522["#color-select"].removeEventListener("change",t),_this522["#color-select"].removeEventListener("changeend",_e994),_this522.Pb=!1;var _iterator948=_createForOfIteratorHelper(o),_step948;try{for(_iterator948.s();!(_step948=_iterator948.n()).done;){var _t1428=_step948.value;gi(_t1428,s);}}catch(err){_iterator948.e(err);}finally{_iterator948.f();}});}},{key:"qs",value:function qs(){if(!(this._b||this.Cb||this.Mb||this.Pb)){var _t1429=this.Js.board,_e995=Dx(_t1429.outermostSelectedElements,_t1429.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e996=_toArray(_e995),_i942=_e996[0],_s509=_e996.slice(1);if(_i942&&"drop-shadow"===_i942.name){var _t1430=!1,_e997=!1,_n425=!1,_o331=!1;var _iterator949=_createForOfIteratorHelper(_s509),_step949;try{for(_iterator949.s();!(_step949=_iterator949.n()).done;){var _l281=_step949.value;null!==_l281&&"drop-shadow"===_l281.name&&(_l281.offsetX!==_i942.offsetX&&(_t1430=!0),_l281.offsetY!==_i942.offsetY&&(_e997=!0),_l281.blurRadius!==_i942.blurRadius&&(_n425=!0),_l281.spread!==_i942.spread&&(_o331=!0));}}catch(err){_iterator949.e(err);}finally{_iterator949.f();}this["#offset-x-input"].mixed=_t1430,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i942.offsetX,this["#offset-y-input"].mixed=_e997,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i942.offsetY,this["#blur-radius-input"].mixed=_n425,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i942.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i942.blurRadius,this["#spread-input"].mixed=_o331,this["#spread-input"].disabled=!1,this["#spread-input"].value=100*_i942.spread,this["#spread-slider"].disabled=!1,this["#spread-slider"].value=100*_i942.spread,this["#color-select"].disabled=!1,this["#color-select"].value=_i942.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#spread-input"].mixed=!1,this["#spread-input"].disabled=!0,this["#spread-input"].value=0,this["#spread-slider"].disabled=!0,this["#spread-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Ox;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ox,"_shadowTemplate",Qi(_templateObject278()));_defineProperty(Ox,"_shadowStyleSheet",Ji(_templateObject279()));customElements.define("bx-dropshadowfilterinspector",Ox);var Ex=/*#__PURE__*/function(_HTMLElement78){_inherits(Ex,_HTMLElement78);var _super107=_createSuper(Ex);function Ex(){var _this523;_classCallCheck(this,Ex);_this523=_super107.call(this),_this523._b=!1,_this523.Tb=!1,_this523.Cb=!1,_this523.Pb=!1,_this523.Dh=es(_this523.qs,200,_assertThisInitialized(_this523)),_this523._shadowRoot=_this523.attachShadow({mode:"closed"}),_this523._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Ex._shadowStyleSheet],_this523._shadowRoot.append(document.importNode(Ex._shadowTemplate.content,!0));var _iterator950=_createForOfIteratorHelper(_this523._shadowRoot.querySelectorAll("[id]")),_step950;try{for(_iterator950.s();!(_step950=_iterator950.n()).done;){var _t1431=_step950.value;_this523["#"+_t1431.id]=_t1431;}}catch(err){_iterator950.e(err);}finally{_iterator950.f();}_this523["#offset-section"].addEventListener("changestart",function(){return _this523.Db(event);}),_this523["#blur-radius-box"].addEventListener("changestart",function(){return _this523.zb(event);}),_this523["#choke-box"].addEventListener("changestart",function(){return _this523.Ab(event);}),_this523["#color-select"].addEventListener("changestart",function(){return _this523.Eb();});return _this523;}_createClass(Ex,[{key:"connectedCallback",value:function connectedCallback(){var _this524=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this524.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this524.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Db",value:function Db(t){var _this525=this;var e,_i944;this.Js.board.undoManager.checkpoint("Inner shadow offset"),this.Cb=!0;var _this$Js$board5=this.Js.board,s=_this$Js$board5.outermostSelectedElements,n=_this$Js$board5.selectedTextRange,_Dx9=Dx(s,n,!0),_Dx10=_slicedToArray(_Dx9,2),o=_Dx10[0],l=_Dx10[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator951=_createForOfIteratorHelper(o),_step951;try{for(_iterator951.s();!(_step951=_iterator951.n()).done;){var _t1432=_step951.value;var _e998=Px(_t1432),_i943=_e998?yx(_e998):null;_i943&&"inner-shadow"===_i943.name&&(_i943.offsetX=_this525["#offset-x-input"].value,_i943.offsetY=_this525["#offset-y-input"].value,kx(_e998,_i943,!0));}}catch(err){_iterator951.e(err);}finally{_iterator951.f();}}),this["#offset-section"].addEventListener("changeend",_i944=function i(){_this525["#offset-section"].removeEventListener("change",e),_this525["#offset-section"].removeEventListener("changeend",_i944),_this525.Cb=!1;var _iterator952=_createForOfIteratorHelper(l),_step952;try{for(_iterator952.s();!(_step952=_iterator952.n()).done;){var _t1433=_step952.value;gi(_t1433,n);}}catch(err){_iterator952.e(err);}finally{_iterator952.f();}});}},{key:"zb",value:function zb(t){var _this526=this;var e,_i946;this.Js.board.undoManager.checkpoint("Inner shadow blur radius"),this._b=!0;var _this$Js$board6=this.Js.board,s=_this$Js$board6.outermostSelectedElements,n=_this$Js$board6.selectedTextRange,_Dx11=Dx(s,n,!0),_Dx12=_slicedToArray(_Dx11,2),o=_Dx12[0],l=_Dx12[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this526["#blur-radius-slider"]?_this526["#blur-radius-input"].value=_this526["#blur-radius-slider"].value:t.target===_this526["#blur-radius-input"]&&(_this526["#blur-radius-slider"].value=_this526["#blur-radius-input"].value);var _iterator953=_createForOfIteratorHelper(o),_step953;try{for(_iterator953.s();!(_step953=_iterator953.n()).done;){var _t1434=_step953.value;var _e999=Px(_t1434),_i945=_e999?yx(_e999):null;_i945&&"inner-shadow"===_i945.name&&(_i945.blurRadius=_this526["#blur-radius-input"].value,kx(_e999,_i945,!0));}}catch(err){_iterator953.e(err);}finally{_iterator953.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i946=function i(){_this526["#blur-radius-box"].removeEventListener("change",e),_this526["#blur-radius-box"].removeEventListener("changeend",_i946),_this526._b=!1;var _iterator954=_createForOfIteratorHelper(l),_step954;try{for(_iterator954.s();!(_step954=_iterator954.n()).done;){var _t1435=_step954.value;gi(_t1435,n);}}catch(err){_iterator954.e(err);}finally{_iterator954.f();}});}},{key:"Ab",value:function Ab(t){var _this527=this;var e,_i948;this.Js.board.undoManager.checkpoint("Inner shadow choke"),this.Tb=!0;var _this$Js$board7=this.Js.board,s=_this$Js$board7.outermostSelectedElements,n=_this$Js$board7.selectedTextRange,_Dx13=Dx(s,n,!0),_Dx14=_slicedToArray(_Dx13,2),o=_Dx14[0],l=_Dx14[1];this["#choke-box"].addEventListener("change",e=function e(t){t.target===_this527["#choke-slider"]?_this527["#choke-input"].value=_this527["#choke-slider"].value:t.target===_this527["#choke-input"]&&(_this527["#choke-slider"].value=_this527["#choke-input"].value);var _iterator955=_createForOfIteratorHelper(o),_step955;try{for(_iterator955.s();!(_step955=_iterator955.n()).done;){var _t1436=_step955.value;var _e1000=Px(_t1436),_i947=_e1000?yx(_e1000):null;_i947&&"inner-shadow"===_i947.name&&(_i947.choke=_this527["#choke-input"].value/100,kx(_e1000,_i947,!0));}}catch(err){_iterator955.e(err);}finally{_iterator955.f();}}),this["#choke-box"].addEventListener("changeend",_i948=function i(){_this527["#choke-box"].removeEventListener("change",e),_this527["#choke-box"].removeEventListener("changeend",_i948),_this527.Tb=!1;var _iterator956=_createForOfIteratorHelper(l),_step956;try{for(_iterator956.s();!(_step956=_iterator956.n()).done;){var _t1437=_step956.value;gi(_t1437,n);}}catch(err){_iterator956.e(err);}finally{_iterator956.f();}});}},{key:"Eb",value:function Eb(){var _this528=this;var t,_e1002;this.Js.board.undoManager.checkpoint("Inner shadow color"),this.Pb=!0;var _this$Js$board8=this.Js.board,i=_this$Js$board8.outermostSelectedElements,s=_this$Js$board8.selectedTextRange,_Dx15=Dx(i,s,!0),_Dx16=_slicedToArray(_Dx15,2),n=_Dx16[0],o=_Dx16[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator957=_createForOfIteratorHelper(n),_step957;try{for(_iterator957.s();!(_step957=_iterator957.n()).done;){var _t1438=_step957.value;var _e1001=Px(_t1438),_i949=_e1001?yx(_e1001):null;_i949&&"inner-shadow"===_i949.name&&(_i949.color=_this528["#color-select"].value,kx(_e1001,_i949,!0));}}catch(err){_iterator957.e(err);}finally{_iterator957.f();}}),this["#color-select"].addEventListener("changeend",_e1002=function e(){_this528["#color-select"].removeEventListener("change",t),_this528["#color-select"].removeEventListener("changeend",_e1002),_this528.Pb=!1;var _iterator958=_createForOfIteratorHelper(o),_step958;try{for(_iterator958.s();!(_step958=_iterator958.n()).done;){var _t1439=_step958.value;gi(_t1439,s);}}catch(err){_iterator958.e(err);}finally{_iterator958.f();}});}},{key:"qs",value:function qs(){if(!(this._b||this.Tb||this.Cb||this.Pb)){var _t1440=this.Js.board,_e1003=Dx(_t1440.outermostSelectedElements,_t1440.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1004=_toArray(_e1003),_i950=_e1004[0],_s510=_e1004.slice(1);if(_i950&&"inner-shadow"===_i950.name){var _t1441=!1,_e1005=!1,_n426=!1,_o332=!1;var _iterator959=_createForOfIteratorHelper(_s510),_step959;try{for(_iterator959.s();!(_step959=_iterator959.n()).done;){var _l282=_step959.value;null!==_l282&&"inner-shadow"===_l282.name&&(_l282.offsetX!==_i950.offsetX&&(_t1441=!0),_l282.offsetY!==_i950.offsetY&&(_e1005=!0),_l282.blurRadius!==_i950.blurRadius&&(_n426=!0),_l282.choke!==_i950.choke&&(_o332=!0));}}catch(err){_iterator959.e(err);}finally{_iterator959.f();}this["#offset-x-input"].mixed=_t1441,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i950.offsetX,this["#offset-y-input"].mixed=_e1005,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i950.offsetY,this["#blur-radius-input"].mixed=_n426,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i950.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i950.blurRadius,this["#choke-input"].mixed=_o332,this["#choke-input"].disabled=!1,this["#choke-input"].value=100*_i950.choke,this["#choke-slider"].disabled=!1,this["#choke-slider"].value=100*_i950.choke,this["#color-select"].disabled=!1,this["#color-select"].value=_i950.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#choke-input"].mixed=!1,this["#choke-input"].disabled=!0,this["#choke-input"].value=0,this["#choke-slider"].disabled=!0,this["#choke-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Ex;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ex,"_shadowTemplate",Qi(_templateObject280()));_defineProperty(Ex,"_shadowStyleSheet",Ji(_templateObject281()));customElements.define("bx-innershadowfilterinspector",Ex);var Tx=/*#__PURE__*/function(_HTMLElement79){_inherits(Tx,_HTMLElement79);var _super108=_createSuper(Tx);function Tx(){var _this529;_classCallCheck(this,Tx);_this529=_super108.call(this),_this529.$b=!1,_this529.Ib=!1,_this529.Lb=!1,_this529.Rb=!1,_this529.Bb=!1,_this529.Pb=!1,_this529.Dh=es(_this529.qs,200,_assertThisInitialized(_this529)),_this529._shadowRoot=_this529.attachShadow({mode:"closed"}),_this529._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Tx._shadowStyleSheet],_this529._shadowRoot.append(document.importNode(Tx._shadowTemplate.content,!0));var _iterator960=_createForOfIteratorHelper(_this529._shadowRoot.querySelectorAll("[id]")),_step960;try{for(_iterator960.s();!(_step960=_iterator960.n()).done;){var _t1442=_step960.value;_this529["#"+_t1442.id]=_t1442;}}catch(err){_iterator960.e(err);}finally{_iterator960.f();}_this529["#source-section"].addEventListener("changestart",function(t){return _this529.Gb(t);}),_this529["#specular-exponent-box"].addEventListener("changestart",function(t){return _this529.Ub(t);}),_this529["#specular-constant-box"].addEventListener("changestart",function(t){return _this529.Fb(t);}),_this529["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this529.Nb(t);}),_this529["#ambient-constant-box"].addEventListener("changestart",function(t){return _this529.Vb(t);}),_this529["#color-select"].addEventListener("changestart",function(t){return _this529.Eb(t);});return _this529;}_createClass(Tx,[{key:"connectedCallback",value:function connectedCallback(){var _this530=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this530.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this530.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Gb",value:function Gb(t){var _this531=this;var e,_i952;this.Js.board.undoManager.checkpoint("Point light source position"),this.$b=!0;var _this$Js$board9=this.Js.board,s=_this$Js$board9.outermostSelectedElements,n=_this$Js$board9.selectedTextRange,_Dx17=Dx(s,n,!0),_Dx18=_slicedToArray(_Dx17,2),o=_Dx18[0],l=_Dx18[1],a=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator961=_createForOfIteratorHelper(o),_step961;try{for(_iterator961.s();!(_step961=_iterator961.n()).done;){var _t1443=_step961.value;var _e1006=Px(_t1443),_i951=_e1006?yx(_e1006):null;_i951&&"point-light"===_i951.name&&("x"===a?_i951.sourceX=_this531["#source-x-input"].value/100:"y"===a?_i951.sourceY=_this531["#source-y-input"].value/100:"z"===a&&(_i951.sourceZ=_this531["#source-z-input"].value/100),kx(_e1006,_i951,!0));}}catch(err){_iterator961.e(err);}finally{_iterator961.f();}}),this["#source-section"].addEventListener("changeend",_i952=function i(){_this531["#source-section"].removeEventListener("change",e),_this531["#source-section"].removeEventListener("changeend",_i952),_this531.$b=!1;var _iterator962=_createForOfIteratorHelper(l),_step962;try{for(_iterator962.s();!(_step962=_iterator962.n()).done;){var _t1444=_step962.value;gi(_t1444,n);}}catch(err){_iterator962.e(err);}finally{_iterator962.f();}});}},{key:"Ub",value:function Ub(t){var _this532=this;var e,_i954;this.Js.board.undoManager.checkpoint("Point light specular exponent"),this.Ib=!0;var _this$Js$board10=this.Js.board,s=_this$Js$board10.outermostSelectedElements,n=_this$Js$board10.selectedTextRange,_Dx19=Dx(s,n,!0),_Dx20=_slicedToArray(_Dx19,2),o=_Dx20[0],l=_Dx20[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this532["#specular-exponent-slider"]?_this532["#specular-exponent-input"].value=_this532["#specular-exponent-slider"].value:t.target===_this532["#specular-exponent-input"]&&(_this532["#specular-exponent-slider"].value=_this532["#specular-exponent-input"].value);var _iterator963=_createForOfIteratorHelper(o),_step963;try{for(_iterator963.s();!(_step963=_iterator963.n()).done;){var _t1445=_step963.value;var _e1007=Px(_t1445),_i953=_e1007?yx(_e1007):null;_i953&&"point-light"===_i953.name&&(_i953.specularExponent=_this532["#specular-exponent-input"].value,kx(_e1007,_i953,!0));}}catch(err){_iterator963.e(err);}finally{_iterator963.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i954=function i(){_this532["#specular-exponent-box"].removeEventListener("change",e),_this532["#specular-exponent-box"].removeEventListener("changeend",_i954),_this532.Ib=!1;var _iterator964=_createForOfIteratorHelper(l),_step964;try{for(_iterator964.s();!(_step964=_iterator964.n()).done;){var _t1446=_step964.value;gi(_t1446,n);}}catch(err){_iterator964.e(err);}finally{_iterator964.f();}});}},{key:"Fb",value:function Fb(t){var _this533=this;var e,_i956;this.Js.board.undoManager.checkpoint("Point light specular constant"),this.Lb=!0;var _this$Js$board11=this.Js.board,s=_this$Js$board11.outermostSelectedElements,n=_this$Js$board11.selectedTextRange,_Dx21=Dx(s,n,!0),_Dx22=_slicedToArray(_Dx21,2),o=_Dx22[0],l=_Dx22[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this533["#specular-constant-slider"]?_this533["#specular-constant-input"].value=_this533["#specular-constant-slider"].value:t.target===_this533["#specular-constant-input"]&&(_this533["#specular-constant-slider"].value=_this533["#specular-constant-input"].value);var _iterator965=_createForOfIteratorHelper(o),_step965;try{for(_iterator965.s();!(_step965=_iterator965.n()).done;){var _t1447=_step965.value;var _e1008=Px(_t1447),_i955=_e1008?yx(_e1008):null;_i955&&"point-light"===_i955.name&&(_i955.specularConstant=_this533["#specular-constant-input"].value,kx(_e1008,_i955,!0));}}catch(err){_iterator965.e(err);}finally{_iterator965.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i956=function i(){_this533["#specular-constant-box"].removeEventListener("change",e),_this533["#specular-constant-box"].removeEventListener("changeend",_i956),_this533.Lb=!1;var _iterator966=_createForOfIteratorHelper(l),_step966;try{for(_iterator966.s();!(_step966=_iterator966.n()).done;){var _t1448=_step966.value;gi(_t1448,n);}}catch(err){_iterator966.e(err);}finally{_iterator966.f();}});}},{key:"Nb",value:function Nb(t){var _this534=this;var e,_i958;this.Js.board.undoManager.checkpoint("Point light diffuse constant"),this.Rb=!0;var _this$Js$board12=this.Js.board,s=_this$Js$board12.outermostSelectedElements,n=_this$Js$board12.selectedTextRange,_Dx23=Dx(s,n,!0),_Dx24=_slicedToArray(_Dx23,2),o=_Dx24[0],l=_Dx24[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this534["#diffuse-constant-slider"]?_this534["#diffuse-constant-input"].value=_this534["#diffuse-constant-slider"].value:t.target===_this534["#diffuse-constant-input"]&&(_this534["#diffuse-constant-slider"].value=_this534["#diffuse-constant-input"].value);var _iterator967=_createForOfIteratorHelper(o),_step967;try{for(_iterator967.s();!(_step967=_iterator967.n()).done;){var _t1449=_step967.value;var _e1009=Px(_t1449),_i957=_e1009?yx(_e1009):null;_i957&&"point-light"===_i957.name&&(_i957.diffuseConstant=_this534["#diffuse-constant-input"].value,kx(_e1009,_i957,!0));}}catch(err){_iterator967.e(err);}finally{_iterator967.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i958=function i(){_this534["#diffuse-constant-box"].removeEventListener("change",e),_this534["#diffuse-constant-box"].removeEventListener("changeend",_i958),_this534.Rb=!1;var _iterator968=_createForOfIteratorHelper(l),_step968;try{for(_iterator968.s();!(_step968=_iterator968.n()).done;){var _t1450=_step968.value;gi(_t1450,n);}}catch(err){_iterator968.e(err);}finally{_iterator968.f();}});}},{key:"Vb",value:function Vb(t){var _this535=this;var e,_i960;this.Js.board.undoManager.checkpoint("Point light ambient constant"),this.Bb=!0;var _this$Js$board13=this.Js.board,s=_this$Js$board13.outermostSelectedElements,n=_this$Js$board13.selectedTextRange,_Dx25=Dx(s,n,!0),_Dx26=_slicedToArray(_Dx25,2),o=_Dx26[0],l=_Dx26[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this535["#ambient-constant-slider"]?_this535["#ambient-constant-input"].value=_this535["#ambient-constant-slider"].value:t.target===_this535["#ambient-constant-input"]&&(_this535["#ambient-constant-slider"].value=_this535["#ambient-constant-input"].value);var _iterator969=_createForOfIteratorHelper(o),_step969;try{for(_iterator969.s();!(_step969=_iterator969.n()).done;){var _t1451=_step969.value;var _e1010=Px(_t1451),_i959=_e1010?yx(_e1010):null;_i959&&"point-light"===_i959.name&&(_i959.ambientConstant=_this535["#ambient-constant-input"].value,kx(_e1010,_i959,!0));}}catch(err){_iterator969.e(err);}finally{_iterator969.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i960=function i(){_this535["#ambient-constant-box"].removeEventListener("change",e),_this535["#ambient-constant-box"].removeEventListener("changeend",_i960),_this535.Bb=!1;var _iterator970=_createForOfIteratorHelper(l),_step970;try{for(_iterator970.s();!(_step970=_iterator970.n()).done;){var _t1452=_step970.value;gi(_t1452,n);}}catch(err){_iterator970.e(err);}finally{_iterator970.f();}});}},{key:"Eb",value:function Eb(){var _this536=this;var t,_e1012;this.Js.board.undoManager.checkpoint("Point light color"),this.Pb=!0;var _this$Js$board14=this.Js.board,i=_this$Js$board14.outermostSelectedElements,s=_this$Js$board14.selectedTextRange,_Dx27=Dx(i,s,!0),_Dx28=_slicedToArray(_Dx27,2),n=_Dx28[0],o=_Dx28[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator971=_createForOfIteratorHelper(n),_step971;try{for(_iterator971.s();!(_step971=_iterator971.n()).done;){var _t1453=_step971.value;var _e1011=Px(_t1453),_i961=_e1011?yx(_e1011):null;_i961&&"point-light"===_i961.name&&(_i961.color=_this536["#color-select"].value,kx(_e1011,_i961,!0));}}catch(err){_iterator971.e(err);}finally{_iterator971.f();}}),this["#color-select"].addEventListener("changeend",_e1012=function e(){_this536["#color-select"].removeEventListener("change",t),_this536["#color-select"].removeEventListener("changeend",_e1012),_this536.Pb=!1;var _iterator972=_createForOfIteratorHelper(o),_step972;try{for(_iterator972.s();!(_step972=_iterator972.n()).done;){var _t1454=_step972.value;gi(_t1454,s);}}catch(err){_iterator972.e(err);}finally{_iterator972.f();}});}},{key:"qs",value:function qs(){if(!1===this.$b&&!1===this.Ib&&!1===this.Lb&&!1===this.Rb&&!1===this.Bb&&!1===this.Pb){var _t1455=this.Js.board,_e1013=Dx(_t1455.outermostSelectedElements,_t1455.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1014=_toArray(_e1013),_i962=_e1014[0],_s511=_e1014.slice(1);if(_i962&&"point-light"===_i962.name){var _t1456=!1,_e1015=!1,_n427=!1,_o333=!1,_l283=!1,_a215=!1,_h169=!1;var _iterator973=_createForOfIteratorHelper(_s511),_step973;try{for(_iterator973.s();!(_step973=_iterator973.n()).done;){var _r108=_step973.value;null!==_r108&&"point-light"===_r108.name&&(_r108.sourceX!==_i962.sourceX&&(_t1456=!0),_r108.sourceY!==_i962.sourceY&&(_e1015=!0),_r108.sourceZ!==_i962.sourceZ&&(_n427=!0),_r108.specularExponent!==_i962.specularExponent&&(_o333=!0),_r108.specularConstant!==_i962.specularConstant&&(_l283=!0),_r108.diffuseConstant!==_i962.diffuseConstant&&(_a215=!0),_r108.ambientConstant!==_i962.ambientConstant&&(_h169=!0));}}catch(err){_iterator973.e(err);}finally{_iterator973.f();}this["#source-x-input"].mixed=_t1456,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=tt(100*_i962.sourceX,3),this["#source-y-input"].mixed=_e1015,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=tt(100*_i962.sourceY,3),this["#source-z-input"].mixed=_n427,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=tt(100*_i962.sourceZ,3),this["#specular-exponent-input"].mixed=_o333,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i962.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i962.specularExponent,this["#specular-constant-input"].mixed=_l283,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i962.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i962.specularConstant,this["#diffuse-constant-input"].mixed=_a215,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i962.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i962.diffuseConstant,this["#ambient-constant-input"].mixed=_h169,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i962.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i962.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i962.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Tx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tx,"_shadowTemplate",Qi(_templateObject282()));_defineProperty(Tx,"_shadowStyleSheet",Ji(_templateObject283()));customElements.define("bx-pointlightfilterinspector",Tx);var Ax=/*#__PURE__*/function(_HTMLElement80){_inherits(Ax,_HTMLElement80);var _super109=_createSuper(Ax);function Ax(){var _this537;_classCallCheck(this,Ax);_this537=_super109.call(this),_this537.$b=!1,_this537.jb=!1,_this537.Hb=!1,_this537.Ib=!1,_this537.Lb=!1,_this537.Rb=!1,_this537.Bb=!1,_this537.Pb=!1,_this537.Dh=es(_this537.qs,200,_assertThisInitialized(_this537)),_this537._shadowRoot=_this537.attachShadow({mode:"closed"}),_this537._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Ax._shadowStyleSheet],_this537._shadowRoot.append(document.importNode(Ax._shadowTemplate.content,!0));var _iterator974=_createForOfIteratorHelper(_this537._shadowRoot.querySelectorAll("[id]")),_step974;try{for(_iterator974.s();!(_step974=_iterator974.n()).done;){var _t1457=_step974.value;_this537["#"+_t1457.id]=_t1457;}}catch(err){_iterator974.e(err);}finally{_iterator974.f();}_this537["#source-section"].addEventListener("changestart",function(t){return _this537.Gb(t);}),_this537["#target-section"].addEventListener("changestart",function(t){return _this537.Wb(t);}),_this537["#cone-angle-box"].addEventListener("changestart",function(t){return _this537.Yb(t);}),_this537["#specular-exponent-box"].addEventListener("changestart",function(t){return _this537.Ub(t);}),_this537["#specular-constant-box"].addEventListener("changestart",function(t){return _this537.Fb(t);}),_this537["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this537.Nb(t);}),_this537["#ambient-constant-box"].addEventListener("changestart",function(t){return _this537.Vb(t);}),_this537["#color-select"].addEventListener("changestart",function(t){return _this537.Eb(t);});return _this537;}_createClass(Ax,[{key:"connectedCallback",value:function connectedCallback(){var _this538=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this538.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this538.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Gb",value:function Gb(t){var _this539=this;var e,_i964;this.Js.board.undoManager.checkpoint("Spot light source position"),this.$b=!0;var _this$Js$board15=this.Js.board,s=_this$Js$board15.outermostSelectedElements,n=_this$Js$board15.selectedTextRange,_Dx29=Dx(s,n,!0),_Dx30=_slicedToArray(_Dx29,2),o=_Dx30[0],l=_Dx30[1],a=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator975=_createForOfIteratorHelper(o),_step975;try{for(_iterator975.s();!(_step975=_iterator975.n()).done;){var _t1458=_step975.value;var _e1016=Px(_t1458),_i963=_e1016?yx(_e1016):null;_i963&&"spot-light"===_i963.name&&("x"===a?_i963.sourceX=_this539["#source-x-input"].value/100:"y"===a?_i963.sourceY=_this539["#source-y-input"].value/100:"z"===a&&(_i963.sourceZ=_this539["#source-z-input"].value/100),kx(_e1016,_i963,!0));}}catch(err){_iterator975.e(err);}finally{_iterator975.f();}}),this["#source-section"].addEventListener("changeend",_i964=function i(){_this539["#source-section"].removeEventListener("change",e),_this539["#source-section"].removeEventListener("changeend",_i964),_this539.$b=!1;var _iterator976=_createForOfIteratorHelper(l),_step976;try{for(_iterator976.s();!(_step976=_iterator976.n()).done;){var _t1459=_step976.value;gi(_t1459,n);}}catch(err){_iterator976.e(err);}finally{_iterator976.f();}});}},{key:"Wb",value:function Wb(t){var _this540=this;var e,_i966;this.Js.board.undoManager.checkpoint("Spot light target position"),this.jb=!0;var _this$Js$board16=this.Js.board,s=_this$Js$board16.outermostSelectedElements,n=_this$Js$board16.selectedTextRange,_Dx31=Dx(s,n,!0),_Dx32=_slicedToArray(_Dx31,2),o=_Dx32[0],l=_Dx32[1],a=t.target.dataset.param;this["#target-section"].addEventListener("change",e=function e(t){var _iterator977=_createForOfIteratorHelper(o),_step977;try{for(_iterator977.s();!(_step977=_iterator977.n()).done;){var _t1460=_step977.value;var _e1017=Px(_t1460),_i965=_e1017?yx(_e1017):null;_i965&&"spot-light"===_i965.name&&("x"===a?_i965.targetX=_this540["#target-x-input"].value/100:"y"===a?_i965.targetY=_this540["#target-y-input"].value/100:"z"===a&&(_i965.targetZ=_this540["#target-z-input"].value/100),kx(_e1017,_i965,!0));}}catch(err){_iterator977.e(err);}finally{_iterator977.f();}}),this["#target-section"].addEventListener("changeend",_i966=function i(){_this540["#target-section"].removeEventListener("change",e),_this540["#target-section"].removeEventListener("changeend",_i966),_this540.jb=!1;var _iterator978=_createForOfIteratorHelper(l),_step978;try{for(_iterator978.s();!(_step978=_iterator978.n()).done;){var _t1461=_step978.value;gi(_t1461,n);}}catch(err){_iterator978.e(err);}finally{_iterator978.f();}});}},{key:"Yb",value:function Yb(t){var _this541=this;var e,_i968;this.Js.board.undoManager.checkpoint("Spot light cone angle"),this.Hb=!0;var _this$Js$board17=this.Js.board,s=_this$Js$board17.outermostSelectedElements,n=_this$Js$board17.selectedTextRange,_Dx33=Dx(s,n,!0),_Dx34=_slicedToArray(_Dx33,2),o=_Dx34[0],l=_Dx34[1];this["#cone-angle-box"].addEventListener("change",e=function e(t){t.target===_this541["#cone-angle-slider"]?_this541["#cone-angle-input"].value=_this541["#cone-angle-slider"].value:t.target===_this541["#cone-angle-input"]&&(_this541["#cone-angle-slider"].value=_this541["#cone-angle-input"].value);var _iterator979=_createForOfIteratorHelper(o),_step979;try{for(_iterator979.s();!(_step979=_iterator979.n()).done;){var _t1462=_step979.value;var _e1018=Px(_t1462),_i967=_e1018?yx(_e1018):null;_i967&&"spot-light"===_i967.name&&(_i967.coneAngle=_this541["#cone-angle-input"].value,kx(_e1018,_i967,!0));}}catch(err){_iterator979.e(err);}finally{_iterator979.f();}}),this["#cone-angle-box"].addEventListener("changeend",_i968=function i(){_this541["#cone-angle-box"].removeEventListener("change",e),_this541["#cone-angle-box"].removeEventListener("changeend",_i968),_this541.Hb=!1;var _iterator980=_createForOfIteratorHelper(l),_step980;try{for(_iterator980.s();!(_step980=_iterator980.n()).done;){var _t1463=_step980.value;gi(_t1463,n);}}catch(err){_iterator980.e(err);}finally{_iterator980.f();}});}},{key:"Ub",value:function Ub(t){var _this542=this;var e,_i970;this.Js.board.undoManager.checkpoint("Spot light specular exponent"),this.Ib=!0;var _this$Js$board18=this.Js.board,s=_this$Js$board18.outermostSelectedElements,n=_this$Js$board18.selectedTextRange,_Dx35=Dx(s,n,!0),_Dx36=_slicedToArray(_Dx35,2),o=_Dx36[0],l=_Dx36[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this542["#specular-exponent-slider"]?_this542["#specular-exponent-input"].value=_this542["#specular-exponent-slider"].value:t.target===_this542["#specular-exponent-input"]&&(_this542["#specular-exponent-slider"].value=_this542["#specular-exponent-input"].value);var _iterator981=_createForOfIteratorHelper(o),_step981;try{for(_iterator981.s();!(_step981=_iterator981.n()).done;){var _t1464=_step981.value;var _e1019=Px(_t1464),_i969=_e1019?yx(_e1019):null;_i969&&"spot-light"===_i969.name&&(_i969.specularExponent=_this542["#specular-exponent-input"].value,kx(_e1019,_i969,!0));}}catch(err){_iterator981.e(err);}finally{_iterator981.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i970=function i(){_this542["#specular-exponent-box"].removeEventListener("change",e),_this542["#specular-exponent-box"].removeEventListener("changeend",_i970),_this542.Ib=!1;var _iterator982=_createForOfIteratorHelper(l),_step982;try{for(_iterator982.s();!(_step982=_iterator982.n()).done;){var _t1465=_step982.value;gi(_t1465,n);}}catch(err){_iterator982.e(err);}finally{_iterator982.f();}});}},{key:"Fb",value:function Fb(t){var _this543=this;var e,_i972;this.Js.board.undoManager.checkpoint("Spot light specular constant"),this.Lb=!0;var _this$Js$board19=this.Js.board,s=_this$Js$board19.outermostSelectedElements,n=_this$Js$board19.selectedTextRange,_Dx37=Dx(s,n,!0),_Dx38=_slicedToArray(_Dx37,2),o=_Dx38[0],l=_Dx38[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this543["#specular-constant-slider"]?_this543["#specular-constant-input"].value=_this543["#specular-constant-slider"].value:t.target===_this543["#specular-constant-input"]&&(_this543["#specular-constant-slider"].value=_this543["#specular-constant-input"].value);var _iterator983=_createForOfIteratorHelper(o),_step983;try{for(_iterator983.s();!(_step983=_iterator983.n()).done;){var _t1466=_step983.value;var _e1020=Px(_t1466),_i971=_e1020?yx(_e1020):null;_i971&&"spot-light"===_i971.name&&(_i971.specularConstant=_this543["#specular-constant-input"].value,kx(_e1020,_i971,!0));}}catch(err){_iterator983.e(err);}finally{_iterator983.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i972=function i(){_this543["#specular-constant-box"].removeEventListener("change",e),_this543["#specular-constant-box"].removeEventListener("changeend",_i972),_this543.Lb=!1;var _iterator984=_createForOfIteratorHelper(l),_step984;try{for(_iterator984.s();!(_step984=_iterator984.n()).done;){var _t1467=_step984.value;gi(_t1467,n);}}catch(err){_iterator984.e(err);}finally{_iterator984.f();}});}},{key:"Nb",value:function Nb(t){var _this544=this;var e,_i974;this.Js.board.undoManager.checkpoint("Spot light diffuse constant"),this.Rb=!0;var _this$Js$board20=this.Js.board,s=_this$Js$board20.outermostSelectedElements,n=_this$Js$board20.selectedTextRange,_Dx39=Dx(s,n,!0),_Dx40=_slicedToArray(_Dx39,2),o=_Dx40[0],l=_Dx40[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this544["#diffuse-constant-slider"]?_this544["#diffuse-constant-input"].value=_this544["#diffuse-constant-slider"].value:t.target===_this544["#diffuse-constant-input"]&&(_this544["#diffuse-constant-slider"].value=_this544["#diffuse-constant-input"].value);var _iterator985=_createForOfIteratorHelper(o),_step985;try{for(_iterator985.s();!(_step985=_iterator985.n()).done;){var _t1468=_step985.value;var _e1021=Px(_t1468),_i973=_e1021?yx(_e1021):null;_i973&&"spot-light"===_i973.name&&(_i973.diffuseConstant=_this544["#diffuse-constant-input"].value,kx(_e1021,_i973,!0));}}catch(err){_iterator985.e(err);}finally{_iterator985.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i974=function i(){_this544["#diffuse-constant-box"].removeEventListener("change",e),_this544["#diffuse-constant-box"].removeEventListener("changeend",_i974),_this544.Rb=!1;var _iterator986=_createForOfIteratorHelper(l),_step986;try{for(_iterator986.s();!(_step986=_iterator986.n()).done;){var _t1469=_step986.value;gi(_t1469,n);}}catch(err){_iterator986.e(err);}finally{_iterator986.f();}});}},{key:"Vb",value:function Vb(t){var _this545=this;var e,_i976;this.Js.board.undoManager.checkpoint("Spot light ambient constant"),this.Bb=!0;var _this$Js$board21=this.Js.board,s=_this$Js$board21.outermostSelectedElements,n=_this$Js$board21.selectedTextRange,_Dx41=Dx(s,n,!0),_Dx42=_slicedToArray(_Dx41,2),o=_Dx42[0],l=_Dx42[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this545["#ambient-constant-slider"]?_this545["#ambient-constant-input"].value=_this545["#ambient-constant-slider"].value:t.target===_this545["#ambient-constant-input"]&&(_this545["#ambient-constant-slider"].value=_this545["#ambient-constant-input"].value);var _iterator987=_createForOfIteratorHelper(o),_step987;try{for(_iterator987.s();!(_step987=_iterator987.n()).done;){var _t1470=_step987.value;var _e1022=Px(_t1470),_i975=_e1022?yx(_e1022):null;_i975&&"spot-light"===_i975.name&&(_i975.ambientConstant=_this545["#ambient-constant-input"].value,kx(_e1022,_i975,!0));}}catch(err){_iterator987.e(err);}finally{_iterator987.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i976=function i(){_this545["#ambient-constant-box"].removeEventListener("change",e),_this545["#ambient-constant-box"].removeEventListener("changeend",_i976),_this545.Bb=!1;var _iterator988=_createForOfIteratorHelper(l),_step988;try{for(_iterator988.s();!(_step988=_iterator988.n()).done;){var _t1471=_step988.value;gi(_t1471,n);}}catch(err){_iterator988.e(err);}finally{_iterator988.f();}});}},{key:"Eb",value:function Eb(){var _this546=this;var t,_e1024;this.Js.board.undoManager.checkpoint("Spot light color"),this.Pb=!0;var _this$Js$board22=this.Js.board,i=_this$Js$board22.outermostSelectedElements,s=_this$Js$board22.selectedTextRange,_Dx43=Dx(i,s,!0),_Dx44=_slicedToArray(_Dx43,2),n=_Dx44[0],o=_Dx44[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator989=_createForOfIteratorHelper(n),_step989;try{for(_iterator989.s();!(_step989=_iterator989.n()).done;){var _t1472=_step989.value;var _e1023=Px(_t1472),_i977=_e1023?yx(_e1023):null;_i977&&"spot-light"===_i977.name&&(_i977.color=_this546["#color-select"].value,kx(_e1023,_i977,!0));}}catch(err){_iterator989.e(err);}finally{_iterator989.f();}}),this["#color-select"].addEventListener("changeend",_e1024=function e(){_this546["#color-select"].removeEventListener("change",t),_this546["#color-select"].removeEventListener("changeend",_e1024),_this546.Pb=!1;var _iterator990=_createForOfIteratorHelper(o),_step990;try{for(_iterator990.s();!(_step990=_iterator990.n()).done;){var _t1473=_step990.value;gi(_t1473,s);}}catch(err){_iterator990.e(err);}finally{_iterator990.f();}});}},{key:"qs",value:function qs(){if(!1===this.$b&&!1===this.jb&&!1===this.Hb&&!1===this.Ib&&!1===this.Lb&&!1===this.Rb&&!1===this.Bb&&!1===this.Pb){var _t1474=this.Js.board,_e1025=Dx(_t1474.outermostSelectedElements,_t1474.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1026=_toArray(_e1025),_i978=_e1026[0],_s512=_e1026.slice(1);if(_i978&&"spot-light"===_i978.name){var _t1475=!1,_e1027=!1,_n428=!1,_o334=!1,_l284=!1,_a216=!1,_h170=!1,_r109=!1,_d86=!1,_c64=!1,_p54=!1;var _iterator991=_createForOfIteratorHelper(_s512),_step991;try{for(_iterator991.s();!(_step991=_iterator991.n()).done;){var _u45=_step991.value;null!==_u45&&"spot-light"===_u45.name&&(_u45.sourceX!==_i978.sourceX&&(_t1475=!0),_u45.sourceY!==_i978.sourceY&&(_e1027=!0),_u45.sourceZ!==_i978.sourceZ&&(_n428=!0),_u45.targetX!==_i978.targetX&&(_o334=!0),_u45.targetY!==_i978.targetY&&(_l284=!0),_u45.targetZ!==_i978.targetZ&&(_a216=!0),_u45.coneAngle!==_i978.coneAngle&&(_h170=!0),_u45.specularExponent!==_i978.specularExponent&&(_r109=!0),_u45.specularConstant!==_i978.specularConstant&&(_d86=!0),_u45.diffuseConstant!==_i978.diffuseConstant&&(_c64=!0),_u45.ambientConstant!==_i978.ambientConstant&&(_p54=!0));}}catch(err){_iterator991.e(err);}finally{_iterator991.f();}this["#source-x-input"].mixed=_t1475,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=tt(100*_i978.sourceX,3),this["#source-y-input"].mixed=_e1027,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=tt(100*_i978.sourceY,3),this["#source-z-input"].mixed=_n428,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=tt(100*_i978.sourceZ,3),this["#target-x-input"].mixed=_o334,this["#target-x-input"].disabled=!1,this["#target-x-input"].value=tt(100*_i978.targetX,3),this["#target-y-input"].mixed=_l284,this["#target-y-input"].disabled=!1,this["#target-y-input"].value=tt(100*_i978.targetY,3),this["#target-z-input"].mixed=_a216,this["#target-z-input"].disabled=!1,this["#target-z-input"].value=tt(100*_i978.targetZ,3),this["#cone-angle-input"].mixed=_h170,this["#cone-angle-input"].disabled=!1,this["#cone-angle-input"].value=_i978.coneAngle,this["#cone-angle-slider"].disabled=!1,this["#cone-angle-slider"].value=_i978.coneAngle,this["#specular-exponent-input"].mixed=_r109,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i978.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i978.specularExponent,this["#specular-constant-input"].mixed=_d86,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i978.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i978.specularConstant,this["#diffuse-constant-input"].mixed=_c64,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i978.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i978.diffuseConstant,this["#ambient-constant-input"].mixed=_p54,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i978.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i978.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i978.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#target-x-input"].mixed=!1,this["#target-x-input"].disabled=!0,this["#target-x-input"].value=0,this["#target-y-input"].mixed=!1,this["#target-y-input"].disabled=!0,this["#target-y-input"].value=0,this["#target-z-input"].mixed=!1,this["#target-z-input"].disabled=!0,this["#target-z-input"].value=0,this["#cone-angle-input"].mixed=!1,this["#cone-angle-input"].disabled=!0,this["#cone-angle-input"].value=0,this["#cone-angle-slider"].disabled=!0,this["#cone-angle-slider"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Ax;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ax,"_shadowTemplate",Qi(_templateObject284()));_defineProperty(Ax,"_shadowStyleSheet",Ji(_templateObject285()));customElements.define("bx-spotlightfilterinspector",Ax);var $x=/*#__PURE__*/function(_HTMLElement81){_inherits($x,_HTMLElement81);var _super110=_createSuper($x);function $x(){var _this547;_classCallCheck(this,$x);_this547=_super110.call(this),_this547.lb=!1,_this547.Pb=!1,_this547.Dh=es(_this547.qs,200,_assertThisInitialized(_this547)),_this547._shadowRoot=_this547.attachShadow({mode:"closed"}),_this547._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,$x._shadowStyleSheet],_this547._shadowRoot.append(document.importNode($x._shadowTemplate.content,!0));var _iterator992=_createForOfIteratorHelper(_this547._shadowRoot.querySelectorAll("[id]")),_step992;try{for(_iterator992.s();!(_step992=_iterator992.n()).done;){var _t1476=_step992.value;_this547["#"+_t1476.id]=_t1476;}}catch(err){_iterator992.e(err);}finally{_iterator992.f();}_this547["#width-box"].addEventListener("changestart",function(){return _this547.cb(event);}),_this547["#color-select"].addEventListener("changestart",function(){return _this547.Eb();});return _this547;}_createClass($x,[{key:"connectedCallback",value:function connectedCallback(){var _this548=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this548.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this548.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"cb",value:function cb(t){var _this549=this;var e,_i980;this.Js.board.undoManager.checkpoint("Outline width"),this.lb=!0;var _this$Js$board23=this.Js.board,s=_this$Js$board23.outermostSelectedElements,n=_this$Js$board23.selectedTextRange,_Dx45=Dx(s,n,!0),_Dx46=_slicedToArray(_Dx45,2),o=_Dx46[0],l=_Dx46[1];this["#width-box"].addEventListener("change",e=function e(t){t.target===_this549["#width-slider"]?_this549["#width-input"].value=_this549["#width-slider"].value:t.target===_this549["#width-input"]&&(_this549["#width-slider"].value=_this549["#width-input"].value);var _iterator993=_createForOfIteratorHelper(o),_step993;try{for(_iterator993.s();!(_step993=_iterator993.n()).done;){var _t1477=_step993.value;var _e1028=Px(_t1477),_i979=_e1028?yx(_e1028):null;_i979&&"outline"===_i979.name&&(_i979.width=_this549["#width-input"].value,kx(_e1028,_i979,!0));}}catch(err){_iterator993.e(err);}finally{_iterator993.f();}}),this["#width-box"].addEventListener("changeend",_i980=function i(){_this549["#width-box"].removeEventListener("change",e),_this549["#width-box"].removeEventListener("changeend",_i980),_this549.lb=!1;var _iterator994=_createForOfIteratorHelper(l),_step994;try{for(_iterator994.s();!(_step994=_iterator994.n()).done;){var _t1478=_step994.value;gi(_t1478,n);}}catch(err){_iterator994.e(err);}finally{_iterator994.f();}});}},{key:"Eb",value:function Eb(){var _this550=this;var t,_e1030;this.Js.board.undoManager.checkpoint("Outline color"),this.Pb=!0;var _this$Js$board24=this.Js.board,i=_this$Js$board24.outermostSelectedElements,s=_this$Js$board24.selectedTextRange,_Dx47=Dx(i,s,!0),_Dx48=_slicedToArray(_Dx47,2),n=_Dx48[0],o=_Dx48[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator995=_createForOfIteratorHelper(n),_step995;try{for(_iterator995.s();!(_step995=_iterator995.n()).done;){var _t1479=_step995.value;var _e1029=Px(_t1479),_i981=_e1029?yx(_e1029):null;_i981&&"outline"===_i981.name&&(_i981.color=_this550["#color-select"].value,kx(_e1029,_i981,!0));}}catch(err){_iterator995.e(err);}finally{_iterator995.f();}}),this["#color-select"].addEventListener("changeend",_e1030=function e(){_this550["#color-select"].removeEventListener("change",t),_this550["#color-select"].removeEventListener("changeend",_e1030),_this550.Pb=!1;var _iterator996=_createForOfIteratorHelper(o),_step996;try{for(_iterator996.s();!(_step996=_iterator996.n()).done;){var _t1480=_step996.value;gi(_t1480,s);}}catch(err){_iterator996.e(err);}finally{_iterator996.f();}});}},{key:"qs",value:function qs(){if(!this.lb&&!this.Pb){var _t1481=this.Js.board,_e1031=Dx(_t1481.outermostSelectedElements,_t1481.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1032=_toArray(_e1031),_i982=_e1032[0],_s513=_e1032.slice(1);if(_i982&&"outline"===_i982.name){var _t1482=!1;var _iterator997=_createForOfIteratorHelper(_s513),_step997;try{for(_iterator997.s();!(_step997=_iterator997.n()).done;){var _e1033=_step997.value;null!==_e1033&&"outline"===_e1033.name&&_e1033.width!==_i982.width&&(_t1482=!0);}}catch(err){_iterator997.e(err);}finally{_iterator997.f();}this["#width-input"].mixed=_t1482,this["#width-input"].disabled=!1,this["#width-input"].value=_i982.width,this["#width-slider"].disabled=!1,this["#width-slider"].value=_i982.width,this["#color-select"].disabled=!1,this["#color-select"].value=_i982.color;}else this["#width-input"].mixed=!1,this["#width-input"].disabled=!0,this["#width-input"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return $x;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($x,"_shadowTemplate",Qi(_templateObject286()));_defineProperty($x,"_shadowStyleSheet",Ji(_templateObject287()));customElements.define("bx-outlinefilterinspector",$x);var Ix=/*#__PURE__*/function(_HTMLElement82){_inherits(Ix,_HTMLElement82);var _super111=_createSuper(Ix);function Ix(){var _this551;_classCallCheck(this,Ix);_this551=_super111.call(this),_this551.qb=!1,_this551.Dh=es(_this551.qs,200,_assertThisInitialized(_this551)),_this551._shadowRoot=_this551.attachShadow({mode:"closed"}),_this551._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Ix._shadowStyleSheet],_this551._shadowRoot.append(document.importNode(Ix._shadowTemplate.content,!0));var _iterator998=_createForOfIteratorHelper(_this551._shadowRoot.querySelectorAll("[id]")),_step998;try{for(_iterator998.s();!(_step998=_iterator998.n()).done;){var _t1483=_step998.value;_this551["#"+_t1483.id]=_t1483;}}catch(err){_iterator998.e(err);}finally{_iterator998.f();}_this551["#radius-box"].addEventListener("changestart",function(){return _this551.Xb(event);});return _this551;}_createClass(Ix,[{key:"connectedCallback",value:function connectedCallback(){var _this552=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this552.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this552.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Xb",value:function Xb(t){var _this553=this;var e,_i984;this.Js.board.undoManager.checkpoint("Gaussian blur radius"),this.qb=!0;var _this$Js$board25=this.Js.board,s=_this$Js$board25.outermostSelectedElements,n=_this$Js$board25.selectedTextRange,_Dx49=Dx(s,n,!0),_Dx50=_slicedToArray(_Dx49,2),o=_Dx50[0],l=_Dx50[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this553["#radius-slider"]?_this553["#radius-input"].value=_this553["#radius-slider"].value:t.target===_this553["#radius-input"]&&(_this553["#radius-slider"].value=_this553["#radius-input"].value);var _iterator999=_createForOfIteratorHelper(o),_step999;try{for(_iterator999.s();!(_step999=_iterator999.n()).done;){var _t1484=_step999.value;var _e1034=Px(_t1484),_i983=_e1034?yx(_e1034):null;_i983&&"gaussian-blur"===_i983.name&&(_i983.radius=_this553["#radius-input"].value,kx(_e1034,_i983,!0));}}catch(err){_iterator999.e(err);}finally{_iterator999.f();}}),this["#radius-box"].addEventListener("changeend",_i984=function i(){_this553["#radius-box"].removeEventListener("change",e),_this553["#radius-box"].removeEventListener("changeend",_i984),_this553.qb=!1;var _iterator1000=_createForOfIteratorHelper(l),_step1000;try{for(_iterator1000.s();!(_step1000=_iterator1000.n()).done;){var _t1485=_step1000.value;gi(_t1485,n);}}catch(err){_iterator1000.e(err);}finally{_iterator1000.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1486=this.Js.board,_e1035=Dx(_t1486.outermostSelectedElements,_t1486.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1036=_toArray(_e1035),_i985=_e1036[0],_s514=_e1036.slice(1);if(_i985&&"gaussian-blur"===_i985.name){var _t1487=!1;var _iterator1001=_createForOfIteratorHelper(_s514),_step1001;try{for(_iterator1001.s();!(_step1001=_iterator1001.n()).done;){var _e1037=_step1001.value;null!==_e1037&&"gaussian-blur"===_e1037.name&&_e1037.radius!==_i985.radius&&(_t1487=!0);}}catch(err){_iterator1001.e(err);}finally{_iterator1001.f();}this["#radius-input"].mixed=_t1487,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i985.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i985.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Ix;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ix,"_shadowTemplate",Qi(_templateObject288()));_defineProperty(Ix,"_shadowStyleSheet",Ji(_templateObject289()));customElements.define("bx-gaussianblurfilterinspector",Ix);var Lx=/*#__PURE__*/function(_HTMLElement83){_inherits(Lx,_HTMLElement83);var _super112=_createSuper(Lx);function Lx(){var _this554;_classCallCheck(this,Lx);_this554=_super112.call(this),_this554.Zb=!1,_this554.Dh=es(_this554.qs,200,_assertThisInitialized(_this554)),_this554._shadowRoot=_this554.attachShadow({mode:"closed"}),_this554._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Lx._shadowStyleSheet],_this554._shadowRoot.append(document.importNode(Lx._shadowTemplate.content,!0));var _iterator1002=_createForOfIteratorHelper(_this554._shadowRoot.querySelectorAll("[id]")),_step1002;try{for(_iterator1002.s();!(_step1002=_iterator1002.n()).done;){var _t1488=_step1002.value;_this554["#"+_t1488.id]=_t1488;}}catch(err){_iterator1002.e(err);}finally{_iterator1002.f();}_this554["#orientation-buttons"].addEventListener("toggle",function(){return _this554.Kb();}),_this554["#distance-box"].addEventListener("changestart",function(){return _this554.Qb(event);});return _this554;}_createClass(Lx,[{key:"connectedCallback",value:function connectedCallback(){var _this555=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this555.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this555.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Kb",value:function Kb(){this.Js.board.undoManager.checkpoint("Motion blur orientation");var _this$Js$board26=this.Js.board,t=_this$Js$board26.outermostSelectedElements,e=_this$Js$board26.selectedTextRange,_Dx51=Dx(t,e,!0),_Dx52=_slicedToArray(_Dx51,2),i=_Dx52[0],s=_Dx52[1];var _iterator1003=_createForOfIteratorHelper(i),_step1003;try{for(_iterator1003.s();!(_step1003=_iterator1003.n()).done;){var _t1489=_step1003.value;var _e1038=Px(_t1489),_i986=_e1038?yx(_e1038):null;_i986&&"motion-blur"===_i986.name&&(_i986.orientation=this["#orientation-buttons"].value,kx(_e1038,_i986,!0));}}catch(err){_iterator1003.e(err);}finally{_iterator1003.f();}var _iterator1004=_createForOfIteratorHelper(s),_step1004;try{for(_iterator1004.s();!(_step1004=_iterator1004.n()).done;){var _t1490=_step1004.value;gi(_t1490,e);}}catch(err){_iterator1004.e(err);}finally{_iterator1004.f();}}},{key:"Qb",value:function Qb(t){var _this556=this;var e,_i988;this.Js.board.undoManager.checkpoint("Motion blur distance"),this.Zb=!0;var _this$Js$board27=this.Js.board,s=_this$Js$board27.outermostSelectedElements,n=_this$Js$board27.selectedTextRange,_Dx53=Dx(s,n,!0),_Dx54=_slicedToArray(_Dx53,2),o=_Dx54[0],l=_Dx54[1];this["#distance-box"].addEventListener("change",e=function e(t){t.target===_this556["#distance-slider"]?_this556["#distance-input"].value=_this556["#distance-slider"].value:t.target===_this556["#distance-input"]&&(_this556["#distance-slider"].value=_this556["#distance-input"].value);var _iterator1005=_createForOfIteratorHelper(o),_step1005;try{for(_iterator1005.s();!(_step1005=_iterator1005.n()).done;){var _t1491=_step1005.value;var _e1039=Px(_t1491),_i987=_e1039?yx(_e1039):null;_i987&&"motion-blur"===_i987.name&&(_i987.distance=_this556["#distance-input"].value,kx(_e1039,_i987,!0));}}catch(err){_iterator1005.e(err);}finally{_iterator1005.f();}}),this["#distance-box"].addEventListener("changeend",_i988=function i(){_this556["#distance-box"].removeEventListener("change",e),_this556["#distance-box"].removeEventListener("changeend",_i988),_this556.Zb=!1;var _iterator1006=_createForOfIteratorHelper(l),_step1006;try{for(_iterator1006.s();!(_step1006=_iterator1006.n()).done;){var _t1492=_step1006.value;gi(_t1492,n);}}catch(err){_iterator1006.e(err);}finally{_iterator1006.f();}});}},{key:"qs",value:function qs(){if(!1===this.Zb){var _t1493=this.Js.board,_e1040=Dx(_t1493.outermostSelectedElements,_t1493.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1041=_toArray(_e1040),_i989=_e1041[0],_s515=_e1041.slice(1);if(_i989&&"motion-blur"===_i989.name){var _t1494=!1;var _iterator1007=_createForOfIteratorHelper(_s515),_step1007;try{for(_iterator1007.s();!(_step1007=_iterator1007.n()).done;){var _e1042=_step1007.value;null!==_e1042&&"motion-blur"===_e1042.name&&_e1042.distance!==_i989.distance&&(_t1494=!0);}}catch(err){_iterator1007.e(err);}finally{_iterator1007.f();}this["#orientation-buttons"].value=_i989.orientation,this["#distance-input"].mixed=_t1494,this["#distance-input"].disabled=!1,this["#distance-input"].value=_i989.distance,this["#distance-slider"].disabled=!1,this["#distance-slider"].value=_i989.distance;}else this["#distance-input"].mixed=!1,this["#distance-input"].disabled=!0,this["#distance-input"].value=0,this["#distance-slider"].disabled=!0,this["#distance-slider"].value=0;}}}]);return Lx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lx,"_shadowTemplate",Qi(_templateObject290()));_defineProperty(Lx,"_shadowStyleSheet",Ji(_templateObject291()));customElements.define("bx-motionblurfilterinspector",Lx);var Rx=/*#__PURE__*/function(_HTMLElement84){_inherits(Rx,_HTMLElement84);var _super113=_createSuper(Rx);function Rx(){var _this557;_classCallCheck(this,Rx);_this557=_super113.call(this),_this557.Dh=es(_this557.qs,200,_assertThisInitialized(_this557)),_this557.Jb=!1,_this557.tm=!1,_this557._shadowRoot=_this557.attachShadow({mode:"closed"}),_this557._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Rx._shadowStyleSheet],_this557._shadowRoot.append(document.importNode(Rx._shadowTemplate.content,!0));var _iterator1008=_createForOfIteratorHelper(_this557._shadowRoot.querySelectorAll("[id]")),_step1008;try{for(_iterator1008.s();!(_step1008=_iterator1008.n()).done;){var _t1495=_step1008.value;_this557["#"+_t1495.id]=_t1495;}}catch(err){_iterator1008.e(err);}finally{_iterator1008.f();}_this557["#amount-box"].addEventListener("changestart",function(){return _this557.im(event);}),_this557["#frequency-box"].addEventListener("changestart",function(){return _this557.sm(event);});return _this557;}_createClass(Rx,[{key:"connectedCallback",value:function connectedCallback(){var _this558=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this558.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this558.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this559=this;var e,_i991;this.Js.board.undoManager.checkpoint("Warp amount"),this.Jb=!0;var _this$Js$board28=this.Js.board,s=_this$Js$board28.outermostSelectedElements,n=_this$Js$board28.selectedTextRange,_Dx55=Dx(s,n,!0),_Dx56=_slicedToArray(_Dx55,2),o=_Dx56[0],l=_Dx56[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this559["#amount-slider"]?_this559["#amount-input"].value=_this559["#amount-slider"].value:t.target===_this559["#amount-input"]&&(_this559["#amount-slider"].value=_this559["#amount-input"].value);var _iterator1009=_createForOfIteratorHelper(o),_step1009;try{for(_iterator1009.s();!(_step1009=_iterator1009.n()).done;){var _t1496=_step1009.value;var _e1043=Px(_t1496),_i990=_e1043?yx(_e1043):null;_i990&&"warp"===_i990.name&&(_i990.amount=_this559["#amount-input"].value,kx(_e1043,_i990,!0));}}catch(err){_iterator1009.e(err);}finally{_iterator1009.f();}}),this["#amount-box"].addEventListener("changeend",_i991=function i(){_this559["#amount-box"].removeEventListener("change",e),_this559["#amount-box"].removeEventListener("changeend",_i991),_this559.Jb=!1;var _iterator1010=_createForOfIteratorHelper(l),_step1010;try{for(_iterator1010.s();!(_step1010=_iterator1010.n()).done;){var _t1497=_step1010.value;gi(_t1497,n);}}catch(err){_iterator1010.e(err);}finally{_iterator1010.f();}});}},{key:"sm",value:function sm(t){var _this560=this;var e,_i993;this.Js.board.undoManager.checkpoint("Warp frequency"),this.tm=!0;var _this$Js$board29=this.Js.board,s=_this$Js$board29.outermostSelectedElements,n=_this$Js$board29.selectedTextRange,_Dx57=Dx(s,n,!0),_Dx58=_slicedToArray(_Dx57,2),o=_Dx58[0],l=_Dx58[1];this["#frequency-box"].addEventListener("change",e=function e(t){t.target===_this560["#frequency-slider"]?_this560["#frequency-input"].value=_this560["#frequency-slider"].value:t.target===_this560["#frequency-input"]&&(_this560["#frequency-slider"].value=_this560["#frequency-input"].value);var _iterator1011=_createForOfIteratorHelper(o),_step1011;try{for(_iterator1011.s();!(_step1011=_iterator1011.n()).done;){var _t1498=_step1011.value;var _e1044=Px(_t1498),_i992=_e1044?yx(_e1044):null;_i992&&"warp"===_i992.name&&(_i992.frequency=_this560["#frequency-input"].value,kx(_e1044,_i992,!0));}}catch(err){_iterator1011.e(err);}finally{_iterator1011.f();}}),this["#frequency-box"].addEventListener("changeend",_i993=function i(){_this560["#frequency-box"].removeEventListener("change",e),_this560["#frequency-box"].removeEventListener("changeend",_i993),_this560.tm=!1;var _iterator1012=_createForOfIteratorHelper(l),_step1012;try{for(_iterator1012.s();!(_step1012=_iterator1012.n()).done;){var _t1499=_step1012.value;gi(_t1499,n);}}catch(err){_iterator1012.e(err);}finally{_iterator1012.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb&&!1===this.tm){var _t1500=this.Js.board,_e1045=Dx(_t1500.outermostSelectedElements,_t1500.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1046=_toArray(_e1045),_i994=_e1046[0],_s516=_e1046.slice(1);if(_i994&&"warp"===_i994.name){var _t1501=!1;var _iterator1013=_createForOfIteratorHelper(_s516),_step1013;try{for(_iterator1013.s();!(_step1013=_iterator1013.n()).done;){var _e1047=_step1013.value;null!==_e1047&&"warp"===_e1047.name&&(_e1047.amount!==_i994.amount&&(_t1501=!0),_e1047.frequency,_i994.frequency);}}catch(err){_iterator1013.e(err);}finally{_iterator1013.f();}this["#amount-input"].mixed=_t1501,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i994.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i994.amount,this["#frequency-input"].mixed=_t1501,this["#frequency-input"].disabled=!1,this["#frequency-input"].value=_i994.frequency,this["#frequency-slider"].disabled=!1,this["#frequency-slider"].value=_i994.frequency;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#frequency-input"].mixed=!1,this["#frequency-input"].disabled=!0,this["#frequency-input"].value=0,this["#frequency-slider"].disabled=!0,this["#frequency-slider"].value=0;}}}]);return Rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rx,"_shadowTemplate",Qi(_templateObject292()));_defineProperty(Rx,"_shadowStyleSheet",Ji(_templateObject293()));customElements.define("bx-warpfilterinspector",Rx);var Bx=/*#__PURE__*/function(_HTMLElement85){_inherits(Bx,_HTMLElement85);var _super114=_createSuper(Bx);function Bx(){var _this561;_classCallCheck(this,Bx);_this561=_super114.call(this),_this561.nm=!1,_this561.Dh=es(_this561.qs,200,_assertThisInitialized(_this561)),_this561._shadowRoot=_this561.attachShadow({mode:"closed"}),_this561._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Bx._shadowStyleSheet],_this561._shadowRoot.append(document.importNode(Bx._shadowTemplate.content,!0));var _iterator1014=_createForOfIteratorHelper(_this561._shadowRoot.querySelectorAll("[id]")),_step1014;try{for(_iterator1014.s();!(_step1014=_iterator1014.n()).done;){var _t1502=_step1014.value;_this561["#"+_t1502.id]=_t1502;}}catch(err){_iterator1014.e(err);}finally{_iterator1014.f();}_this561["#pixel-size-box"].addEventListener("changestart",function(){return _this561.om(event);});return _this561;}_createClass(Bx,[{key:"connectedCallback",value:function connectedCallback(){var _this562=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this562.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this562.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"om",value:function om(t){var _this563=this;var e,_i996;this.Js.board.undoManager.checkpoint("Pixelete pixel size"),this.nm=!0;var _this$Js$board30=this.Js.board,s=_this$Js$board30.outermostSelectedElements,n=_this$Js$board30.selectedTextRange,_Dx59=Dx(s,n,!0),_Dx60=_slicedToArray(_Dx59,2),o=_Dx60[0],l=_Dx60[1];this["#pixel-size-box"].addEventListener("change",e=function e(t){t.target===_this563["#pixel-size-slider"]?_this563["#pixel-size-input"].value=_this563["#pixel-size-slider"].value:t.target===_this563["#pixel-size-input"]&&(_this563["#pixel-size-slider"].value=_this563["#pixel-size-input"].value);var _iterator1015=_createForOfIteratorHelper(o),_step1015;try{for(_iterator1015.s();!(_step1015=_iterator1015.n()).done;){var _t1503=_step1015.value;var _e1048=Px(_t1503),_i995=_e1048?yx(_e1048):null;_i995&&"pixelete"===_i995.name&&(_i995.pixelSize=_this563["#pixel-size-input"].value,kx(_e1048,_i995,!0));}}catch(err){_iterator1015.e(err);}finally{_iterator1015.f();}}),this["#pixel-size-box"].addEventListener("changeend",_i996=function i(){_this563["#pixel-size-box"].removeEventListener("change",e),_this563["#pixel-size-box"].removeEventListener("changeend",_i996),_this563.nm=!1;var _iterator1016=_createForOfIteratorHelper(l),_step1016;try{for(_iterator1016.s();!(_step1016=_iterator1016.n()).done;){var _t1504=_step1016.value;gi(_t1504,n);}}catch(err){_iterator1016.e(err);}finally{_iterator1016.f();}});}},{key:"qs",value:function qs(){if(!1===this.nm){var _t1505=this.Js.board,_e1049=Dx(_t1505.outermostSelectedElements,_t1505.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1050=_toArray(_e1049),_i997=_e1050[0],_s517=_e1050.slice(1);if(_i997&&"pixelete"===_i997.name){var _t1506=!1;var _iterator1017=_createForOfIteratorHelper(_s517),_step1017;try{for(_iterator1017.s();!(_step1017=_iterator1017.n()).done;){var _e1051=_step1017.value;null!==_e1051&&"pixelete"===_e1051.name&&_e1051.pixelSize!==_i997.pixelSize&&(_t1506=!0);}}catch(err){_iterator1017.e(err);}finally{_iterator1017.f();}this["#pixel-size-input"].mixed=_t1506,this["#pixel-size-input"].disabled=!1,this["#pixel-size-input"].value=_i997.pixelSize,this["#pixel-size-slider"].disabled=!1,this["#pixel-size-slider"].value=_i997.pixelSize;}else this["#pixel-size-input"].mixed=!1,this["#pixel-size-input"].disabled=!0,this["#pixel-size-input"].value=0,this["#pixel-size-slider"].disabled=!0,this["#pixel-size-slider"].value=0;}}}]);return Bx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bx,"_shadowTemplate",Qi(_templateObject294()));_defineProperty(Bx,"_shadowStyleSheet",Ji(_templateObject295()));customElements.define("bx-pixeletefilterinspector",Bx);var Gx=/*#__PURE__*/function(_HTMLElement86){_inherits(Gx,_HTMLElement86);var _super115=_createSuper(Gx);function Gx(){var _this564;_classCallCheck(this,Gx);_this564=_super115.call(this),_this564.qb=!1,_this564.Dh=es(_this564.qs,200,_assertThisInitialized(_this564)),_this564._shadowRoot=_this564.attachShadow({mode:"closed"}),_this564._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Gx._shadowStyleSheet],_this564._shadowRoot.append(document.importNode(Gx._shadowTemplate.content,!0));var _iterator1018=_createForOfIteratorHelper(_this564._shadowRoot.querySelectorAll("[id]")),_step1018;try{for(_iterator1018.s();!(_step1018=_iterator1018.n()).done;){var _t1507=_step1018.value;_this564["#"+_t1507.id]=_t1507;}}catch(err){_iterator1018.e(err);}finally{_iterator1018.f();}_this564["#operator-buttons"].addEventListener("toggle",function(){return _this564.lm();}),_this564["#radius-box"].addEventListener("changestart",function(){return _this564.Xb(event);});return _this564;}_createClass(Gx,[{key:"connectedCallback",value:function connectedCallback(){var _this565=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this565.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this565.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"lm",value:function lm(){this.Js.board.undoManager.checkpoint("Morphology operator");var _this$Js$board31=this.Js.board,t=_this$Js$board31.outermostSelectedElements,e=_this$Js$board31.selectedTextRange,_Dx61=Dx(t,e,!0),_Dx62=_slicedToArray(_Dx61,2),i=_Dx62[0],s=_Dx62[1];var _iterator1019=_createForOfIteratorHelper(i),_step1019;try{for(_iterator1019.s();!(_step1019=_iterator1019.n()).done;){var _t1508=_step1019.value;var _e1052=Px(_t1508),_i998=_e1052?yx(_e1052):null;_i998&&"morphology"===_i998.name&&(_i998.operator=this["#operator-buttons"].value,kx(_e1052,_i998,!0));}}catch(err){_iterator1019.e(err);}finally{_iterator1019.f();}var _iterator1020=_createForOfIteratorHelper(s),_step1020;try{for(_iterator1020.s();!(_step1020=_iterator1020.n()).done;){var _t1509=_step1020.value;gi(_t1509,e);}}catch(err){_iterator1020.e(err);}finally{_iterator1020.f();}}},{key:"Xb",value:function Xb(t){var _this566=this;var e,_i1000;this.Js.board.undoManager.checkpoint("Morphology radius"),this.qb=!0;var _this$Js$board32=this.Js.board,s=_this$Js$board32.outermostSelectedElements,n=_this$Js$board32.selectedTextRange,_Dx63=Dx(s,n,!0),_Dx64=_slicedToArray(_Dx63,2),o=_Dx64[0],l=_Dx64[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this566["#radius-slider"]?_this566["#radius-input"].value=_this566["#radius-slider"].value:t.target===_this566["#radius-input"]&&(_this566["#radius-slider"].value=_this566["#radius-input"].value);var _iterator1021=_createForOfIteratorHelper(o),_step1021;try{for(_iterator1021.s();!(_step1021=_iterator1021.n()).done;){var _t1510=_step1021.value;var _e1053=Px(_t1510),_i999=_e1053?yx(_e1053):null;_i999&&"morphology"===_i999.name&&(_i999.radius=_this566["#radius-input"].value,kx(_e1053,_i999,!0));}}catch(err){_iterator1021.e(err);}finally{_iterator1021.f();}}),this["#radius-box"].addEventListener("changeend",_i1000=function i(){_this566["#radius-box"].removeEventListener("change",e),_this566["#radius-box"].removeEventListener("changeend",_i1000),_this566.qb=!1;var _iterator1022=_createForOfIteratorHelper(l),_step1022;try{for(_iterator1022.s();!(_step1022=_iterator1022.n()).done;){var _t1511=_step1022.value;gi(_t1511,n);}}catch(err){_iterator1022.e(err);}finally{_iterator1022.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1512=this.Js.board,_e1054=Dx(_t1512.outermostSelectedElements,_t1512.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1055=_toArray(_e1054),_i1001=_e1055[0],_s518=_e1055.slice(1);if(_i1001&&"morphology"===_i1001.name){var _t1513=!1;var _iterator1023=_createForOfIteratorHelper(_s518),_step1023;try{for(_iterator1023.s();!(_step1023=_iterator1023.n()).done;){var _e1056=_step1023.value;null!==_e1056&&"morphology"===_e1056.name&&_e1056.radius!==_i1001.radius&&(_t1513=!0);}}catch(err){_iterator1023.e(err);}finally{_iterator1023.f();}this["#operator-buttons"].value=_i1001.operator,this["#radius-input"].mixed=_t1513,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i1001.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i1001.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Gx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gx,"_shadowTemplate",Qi(_templateObject296()));_defineProperty(Gx,"_shadowStyleSheet",Ji(_templateObject297()));customElements.define("bx-morphologyfilterinspector",Gx);var Ux=/*#__PURE__*/function(_HTMLElement87){_inherits(Ux,_HTMLElement87);var _super116=_createSuper(Ux);function Ux(){var _this567;_classCallCheck(this,Ux);_this567=_super116.call(this),_this567.am=!1,_this567.Dh=es(_this567.qs,200,_assertThisInitialized(_this567)),_this567._shadowRoot=_this567.attachShadow({mode:"closed"}),_this567._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Ux._shadowStyleSheet],_this567._shadowRoot.append(document.importNode(Ux._shadowTemplate.content,!0));var _iterator1024=_createForOfIteratorHelper(_this567._shadowRoot.querySelectorAll("[id]")),_step1024;try{for(_iterator1024.s();!(_step1024=_iterator1024.n()).done;){var _t1514=_step1024.value;_this567["#"+_t1514.id]=_t1514;}}catch(err){_iterator1024.e(err);}finally{_iterator1024.f();}_this567["#balance-box"].addEventListener("changestart",function(){return _this567.hm(event);});return _this567;}_createClass(Ux,[{key:"connectedCallback",value:function connectedCallback(){var _this568=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this568.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this568.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"hm",value:function hm(t){var _this569=this;var e,_i1003;this.Js.board.undoManager.checkpoint("Black and white balance"),this.am=!0;var _this$Js$board33=this.Js.board,s=_this$Js$board33.outermostSelectedElements,n=_this$Js$board33.selectedTextRange,_Dx65=Dx(s,n,!0),_Dx66=_slicedToArray(_Dx65,2),o=_Dx66[0],l=_Dx66[1];this["#balance-box"].addEventListener("change",e=function e(t){t.target===_this569["#balance-slider"]?_this569["#balance-input"].value=_this569["#balance-slider"].value:t.target===_this569["#balance-input"]&&(_this569["#balance-slider"].value=_this569["#balance-input"].value);var _iterator1025=_createForOfIteratorHelper(o),_step1025;try{for(_iterator1025.s();!(_step1025=_iterator1025.n()).done;){var _t1515=_step1025.value;var _e1057=Px(_t1515),_i1002=_e1057?yx(_e1057):null;_i1002&&"black-and-white"===_i1002.name&&(_i1002.balance=_this569["#balance-input"].value,kx(_e1057,_i1002,!0));}}catch(err){_iterator1025.e(err);}finally{_iterator1025.f();}}),this["#balance-box"].addEventListener("changeend",_i1003=function i(){_this569["#balance-box"].removeEventListener("change",e),_this569["#balance-box"].removeEventListener("changeend",_i1003),_this569.am=!1;var _iterator1026=_createForOfIteratorHelper(l),_step1026;try{for(_iterator1026.s();!(_step1026=_iterator1026.n()).done;){var _t1516=_step1026.value;gi(_t1516,n);}}catch(err){_iterator1026.e(err);}finally{_iterator1026.f();}});}},{key:"qs",value:function qs(){if(!1===this.am){var _t1517=this.Js.board,_e1058=Dx(_t1517.outermostSelectedElements,_t1517.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1059=_toArray(_e1058),_i1004=_e1059[0],_s519=_e1059.slice(1);if(_i1004&&"black-and-white"===_i1004.name){var _t1518=!1;var _iterator1027=_createForOfIteratorHelper(_s519),_step1027;try{for(_iterator1027.s();!(_step1027=_iterator1027.n()).done;){var _e1060=_step1027.value;null!==_e1060&&"black-and-white"===_e1060.name&&_e1060.balance!==_i1004.balance&&(_t1518=!0);}}catch(err){_iterator1027.e(err);}finally{_iterator1027.f();}this["#balance-input"].mixed=_t1518,this["#balance-input"].disabled=!1,this["#balance-input"].value=_i1004.balance,this["#balance-slider"].disabled=!1,this["#balance-slider"].value=_i1004.balance;}else this["#balance-input"].mixed=!1,this["#balance-input"].disabled=!0,this["#balance-input"].value=0,this["#balance-slider"].disabled=!0,this["#balance-slider"].value=0;}}}]);return Ux;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ux,"_shadowTemplate",Qi(_templateObject298()));_defineProperty(Ux,"_shadowStyleSheet",Ji(_templateObject299()));customElements.define("bx-blackandwhitefilterinspector",Ux);var Fx=/*#__PURE__*/function(_HTMLElement88){_inherits(Fx,_HTMLElement88);var _super117=_createSuper(Fx);function Fx(){var _this570;_classCallCheck(this,Fx);_this570=_super117.call(this),_this570.Jb=!1,_this570.Dh=es(_this570.qs,200,_assertThisInitialized(_this570)),_this570._shadowRoot=_this570.attachShadow({mode:"closed"}),_this570._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Fx._shadowStyleSheet],_this570._shadowRoot.append(document.importNode(Fx._shadowTemplate.content,!0));var _iterator1028=_createForOfIteratorHelper(_this570._shadowRoot.querySelectorAll("[id]")),_step1028;try{for(_iterator1028.s();!(_step1028=_iterator1028.n()).done;){var _t1519=_step1028.value;_this570["#"+_t1519.id]=_t1519;}}catch(err){_iterator1028.e(err);}finally{_iterator1028.f();}_this570["#amount-box"].addEventListener("changestart",function(){return _this570.im(event);});return _this570;}_createClass(Fx,[{key:"connectedCallback",value:function connectedCallback(){var _this571=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this571.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this571.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this572=this;var e,_i1006;this.Js.board.undoManager.checkpoint("Grayscale amount"),this.Jb=!0;var _this$Js$board34=this.Js.board,s=_this$Js$board34.outermostSelectedElements,n=_this$Js$board34.selectedTextRange,_Dx67=Dx(s,n,!0),_Dx68=_slicedToArray(_Dx67,2),o=_Dx68[0],l=_Dx68[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this572["#amount-slider"]?_this572["#amount-input"].value=_this572["#amount-slider"].value:t.target===_this572["#amount-input"]&&(_this572["#amount-slider"].value=_this572["#amount-input"].value);var _iterator1029=_createForOfIteratorHelper(o),_step1029;try{for(_iterator1029.s();!(_step1029=_iterator1029.n()).done;){var _t1520=_step1029.value;var _e1061=Px(_t1520),_i1005=_e1061?yx(_e1061):null;_i1005&&"grayscale"===_i1005.name&&(_i1005.amount=_this572["#amount-input"].value,kx(_e1061,_i1005,!0));}}catch(err){_iterator1029.e(err);}finally{_iterator1029.f();}}),this["#amount-box"].addEventListener("changeend",_i1006=function i(){_this572["#amount-box"].removeEventListener("change",e),_this572["#amount-box"].removeEventListener("changeend",_i1006),_this572.Jb=!1;var _iterator1030=_createForOfIteratorHelper(l),_step1030;try{for(_iterator1030.s();!(_step1030=_iterator1030.n()).done;){var _t1521=_step1030.value;gi(_t1521,n);}}catch(err){_iterator1030.e(err);}finally{_iterator1030.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb){var _t1522=this.Js.board,_e1062=Dx(_t1522.outermostSelectedElements,_t1522.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1063=_toArray(_e1062),_i1007=_e1063[0],_s520=_e1063.slice(1);if(_i1007&&"grayscale"===_i1007.name){var _t1523=!1;var _iterator1031=_createForOfIteratorHelper(_s520),_step1031;try{for(_iterator1031.s();!(_step1031=_iterator1031.n()).done;){var _e1064=_step1031.value;null!==_e1064&&"grayscale"===_e1064.name&&_e1064.amount!==_i1007.amount&&(_t1523=!0);}}catch(err){_iterator1031.e(err);}finally{_iterator1031.f();}this["#amount-input"].mixed=_t1523,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1007.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1007.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fx,"_shadowTemplate",Qi(_templateObject300()));_defineProperty(Fx,"_shadowStyleSheet",Ji(_templateObject301()));customElements.define("bx-grayscalefilterinspector",Fx);var Nx=/*#__PURE__*/function(_HTMLElement89){_inherits(Nx,_HTMLElement89);var _super118=_createSuper(Nx);function Nx(){var _this573;_classCallCheck(this,Nx);_this573=_super118.call(this),_this573.Jb=!1,_this573.Dh=es(_this573.qs,200,_assertThisInitialized(_this573)),_this573._shadowRoot=_this573.attachShadow({mode:"closed"}),_this573._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Nx._shadowStyleSheet],_this573._shadowRoot.append(document.importNode(Nx._shadowTemplate.content,!0));var _iterator1032=_createForOfIteratorHelper(_this573._shadowRoot.querySelectorAll("[id]")),_step1032;try{for(_iterator1032.s();!(_step1032=_iterator1032.n()).done;){var _t1524=_step1032.value;_this573["#"+_t1524.id]=_t1524;}}catch(err){_iterator1032.e(err);}finally{_iterator1032.f();}_this573["#amount-box"].addEventListener("changestart",function(){return _this573.im(event);});return _this573;}_createClass(Nx,[{key:"connectedCallback",value:function connectedCallback(){var _this574=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this574.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this574.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this575=this;var e,_i1009;this.Js.board.undoManager.checkpoint("Sepia amount"),this.Jb=!0;var _this$Js$board35=this.Js.board,s=_this$Js$board35.outermostSelectedElements,n=_this$Js$board35.selectedTextRange,_Dx69=Dx(s,n,!0),_Dx70=_slicedToArray(_Dx69,2),o=_Dx70[0],l=_Dx70[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this575["#amount-slider"]?_this575["#amount-input"].value=_this575["#amount-slider"].value:t.target===_this575["#amount-input"]&&(_this575["#amount-slider"].value=_this575["#amount-input"].value);var _iterator1033=_createForOfIteratorHelper(o),_step1033;try{for(_iterator1033.s();!(_step1033=_iterator1033.n()).done;){var _t1525=_step1033.value;var _e1065=Px(_t1525),_i1008=_e1065?yx(_e1065):null;_i1008&&"sepia"===_i1008.name&&(_i1008.amount=_this575["#amount-input"].value,kx(_e1065,_i1008,!0));}}catch(err){_iterator1033.e(err);}finally{_iterator1033.f();}}),this["#amount-box"].addEventListener("changeend",_i1009=function i(){_this575["#amount-box"].removeEventListener("change",e),_this575["#amount-box"].removeEventListener("changeend",_i1009),_this575.Jb=!1;var _iterator1034=_createForOfIteratorHelper(l),_step1034;try{for(_iterator1034.s();!(_step1034=_iterator1034.n()).done;){var _t1526=_step1034.value;gi(_t1526,n);}}catch(err){_iterator1034.e(err);}finally{_iterator1034.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb){var _t1527=this.Js.board,_e1066=Dx(_t1527.outermostSelectedElements,_t1527.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1067=_toArray(_e1066),_i1010=_e1067[0],_s521=_e1067.slice(1);if(_i1010&&"sepia"===_i1010.name){var _t1528=!1;var _iterator1035=_createForOfIteratorHelper(_s521),_step1035;try{for(_iterator1035.s();!(_step1035=_iterator1035.n()).done;){var _e1068=_step1035.value;null!==_e1068&&"sepia"===_e1068.name&&_e1068.amount!==_i1010.amount&&(_t1528=!0);}}catch(err){_iterator1035.e(err);}finally{_iterator1035.f();}this["#amount-input"].mixed=_t1528,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1010.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1010.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Nx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nx,"_shadowTemplate",Qi(_templateObject302()));_defineProperty(Nx,"_shadowStyleSheet",Ji(_templateObject303()));customElements.define("bx-sepiafilterinspector",Nx);var Vx=/*#__PURE__*/function(_HTMLElement90){_inherits(Vx,_HTMLElement90);var _super119=_createSuper(Vx);function Vx(){var _this576;_classCallCheck(this,Vx);_this576=_super119.call(this),_this576.Jb=!1,_this576.Dh=es(_this576.qs,200,_assertThisInitialized(_this576)),_this576._shadowRoot=_this576.attachShadow({mode:"closed"}),_this576._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Vx._shadowStyleSheet],_this576._shadowRoot.append(document.importNode(Vx._shadowTemplate.content,!0));var _iterator1036=_createForOfIteratorHelper(_this576._shadowRoot.querySelectorAll("[id]")),_step1036;try{for(_iterator1036.s();!(_step1036=_iterator1036.n()).done;){var _t1529=_step1036.value;_this576["#"+_t1529.id]=_t1529;}}catch(err){_iterator1036.e(err);}finally{_iterator1036.f();}_this576["#amount-box"].addEventListener("changestart",function(){return _this576.im(event);});return _this576;}_createClass(Vx,[{key:"connectedCallback",value:function connectedCallback(){var _this577=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this577.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this577.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this578=this;var e,_i1012;this.Js.board.undoManager.checkpoint("Saturate amount"),this.Jb=!0;var _this$Js$board36=this.Js.board,s=_this$Js$board36.outermostSelectedElements,n=_this$Js$board36.selectedTextRange,_Dx71=Dx(s,n,!0),_Dx72=_slicedToArray(_Dx71,2),o=_Dx72[0],l=_Dx72[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this578["#amount-slider"]?_this578["#amount-input"].value=_this578["#amount-slider"].value:t.target===_this578["#amount-input"]&&(_this578["#amount-slider"].value=_this578["#amount-input"].value);var _iterator1037=_createForOfIteratorHelper(o),_step1037;try{for(_iterator1037.s();!(_step1037=_iterator1037.n()).done;){var _t1530=_step1037.value;var _e1069=Px(_t1530),_i1011=_e1069?yx(_e1069):null;_i1011&&"saturate"===_i1011.name&&(_i1011.amount=_this578["#amount-input"].value,kx(_e1069,_i1011,!0));}}catch(err){_iterator1037.e(err);}finally{_iterator1037.f();}}),this["#amount-box"].addEventListener("changeend",_i1012=function i(){_this578["#amount-box"].removeEventListener("change",e),_this578["#amount-box"].removeEventListener("changeend",_i1012),_this578.Jb=!1;var _iterator1038=_createForOfIteratorHelper(l),_step1038;try{for(_iterator1038.s();!(_step1038=_iterator1038.n()).done;){var _t1531=_step1038.value;gi(_t1531,n);}}catch(err){_iterator1038.e(err);}finally{_iterator1038.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb){var _t1532=this.Js.board,_e1070=Dx(_t1532.outermostSelectedElements,_t1532.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1071=_toArray(_e1070),_i1013=_e1071[0],_s522=_e1071.slice(1);if(_i1013&&"saturate"===_i1013.name){var _t1533=!1;var _iterator1039=_createForOfIteratorHelper(_s522),_step1039;try{for(_iterator1039.s();!(_step1039=_iterator1039.n()).done;){var _e1072=_step1039.value;null!==_e1072&&"saturate"===_e1072.name&&_e1072.amount!==_i1013.amount&&(_t1533=!0);}}catch(err){_iterator1039.e(err);}finally{_iterator1039.f();}this["#amount-input"].mixed=_t1533,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1013.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1013.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vx,"_shadowTemplate",Qi(_templateObject304()));_defineProperty(Vx,"_shadowStyleSheet",Ji(_templateObject305()));customElements.define("bx-saturatefilterinspector",Vx);var jx=/*#__PURE__*/function(_HTMLElement91){_inherits(jx,_HTMLElement91);var _super120=_createSuper(jx);function jx(){var _this579;_classCallCheck(this,jx);_this579=_super120.call(this),_this579.rm=!1,_this579.Dh=es(_this579.qs,200,_assertThisInitialized(_this579)),_this579._shadowRoot=_this579.attachShadow({mode:"closed"}),_this579._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,jx._shadowStyleSheet],_this579._shadowRoot.append(document.importNode(jx._shadowTemplate.content,!0));var _iterator1040=_createForOfIteratorHelper(_this579._shadowRoot.querySelectorAll("[id]")),_step1040;try{for(_iterator1040.s();!(_step1040=_iterator1040.n()).done;){var _t1534=_step1040.value;_this579["#"+_t1534.id]=_t1534;}}catch(err){_iterator1040.e(err);}finally{_iterator1040.f();}_this579["#angle-box"].addEventListener("changestart",function(){return _this579.Qn(event);});return _this579;}_createClass(jx,[{key:"connectedCallback",value:function connectedCallback(){var _this580=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this580.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this580.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Qn",value:function Qn(t){var _this581=this;var e,_i1015;this.Js.board.undoManager.checkpoint("Hue rotate angle"),this.rm=!0;var _this$Js$board37=this.Js.board,s=_this$Js$board37.outermostSelectedElements,n=_this$Js$board37.selectedTextRange,_Dx73=Dx(s,n,!0),_Dx74=_slicedToArray(_Dx73,2),o=_Dx74[0],l=_Dx74[1];this["#angle-box"].addEventListener("change",e=function e(t){t.target===_this581["#angle-slider"]?_this581["#angle-input"].value=_this581["#angle-slider"].value:t.target===_this581["#angle-input"]&&(_this581["#angle-slider"].value=_this581["#angle-input"].value);var _iterator1041=_createForOfIteratorHelper(o),_step1041;try{for(_iterator1041.s();!(_step1041=_iterator1041.n()).done;){var _t1535=_step1041.value;var _e1073=Px(_t1535),_i1014=_e1073?yx(_e1073):null;_i1014&&"hue-rotate"===_i1014.name&&(_i1014.angle=_this581["#angle-input"].value,kx(_e1073,_i1014,!0));}}catch(err){_iterator1041.e(err);}finally{_iterator1041.f();}}),this["#angle-box"].addEventListener("changeend",_i1015=function i(){_this581["#angle-box"].removeEventListener("change",e),_this581["#angle-box"].removeEventListener("changeend",_i1015),_this581.rm=!1;var _iterator1042=_createForOfIteratorHelper(l),_step1042;try{for(_iterator1042.s();!(_step1042=_iterator1042.n()).done;){var _t1536=_step1042.value;gi(_t1536,n);}}catch(err){_iterator1042.e(err);}finally{_iterator1042.f();}});}},{key:"qs",value:function qs(){if(!1===this.rm){var _t1537=this.Js.board,_e1074=Dx(_t1537.outermostSelectedElements,_t1537.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1075=_toArray(_e1074),_i1016=_e1075[0],_s523=_e1075.slice(1);if(_i1016&&"hue-rotate"===_i1016.name){var _t1538=!1;var _iterator1043=_createForOfIteratorHelper(_s523),_step1043;try{for(_iterator1043.s();!(_step1043=_iterator1043.n()).done;){var _e1076=_step1043.value;null!==_e1076&&"hue-rotate"===_e1076.name&&_e1076.angle!==_i1016.angle&&(_t1538=!0);}}catch(err){_iterator1043.e(err);}finally{_iterator1043.f();}this["#angle-input"].mixed=_t1538,this["#angle-input"].disabled=!1,this["#angle-input"].value=_i1016.angle,this["#angle-slider"].disabled=!1,this["#angle-slider"].value=_i1016.angle;}else this["#angle-input"].mixed=!1,this["#angle-input"].disabled=!0,this["#angle-input"].value=0,this["#angle-slider"].disabled=!0,this["#angle-slider"].value=0;}}}]);return jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jx,"_shadowTemplate",Qi(_templateObject306()));_defineProperty(jx,"_shadowStyleSheet",Ji(_templateObject307()));customElements.define("bx-huerotatefilterinspector",jx);var Hx=/*#__PURE__*/function(_HTMLElement92){_inherits(Hx,_HTMLElement92);var _super121=_createSuper(Hx);function Hx(){var _this582;_classCallCheck(this,Hx);_this582=_super121.call(this),_this582.Jb=!1,_this582.Dh=es(_this582.qs,200,_assertThisInitialized(_this582)),_this582._shadowRoot=_this582.attachShadow({mode:"closed"}),_this582._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Hx._shadowStyleSheet],_this582._shadowRoot.append(document.importNode(Hx._shadowTemplate.content,!0));var _iterator1044=_createForOfIteratorHelper(_this582._shadowRoot.querySelectorAll("[id]")),_step1044;try{for(_iterator1044.s();!(_step1044=_iterator1044.n()).done;){var _t1539=_step1044.value;_this582["#"+_t1539.id]=_t1539;}}catch(err){_iterator1044.e(err);}finally{_iterator1044.f();}_this582["#amount-box"].addEventListener("changestart",function(){return _this582.im(event);});return _this582;}_createClass(Hx,[{key:"connectedCallback",value:function connectedCallback(){var _this583=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this583.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this583.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this584=this;var e,_i1018;this.Js.board.undoManager.checkpoint("Invert amount"),this.Jb=!0;var _this$Js$board38=this.Js.board,s=_this$Js$board38.outermostSelectedElements,n=_this$Js$board38.selectedTextRange,_Dx75=Dx(s,n,!0),_Dx76=_slicedToArray(_Dx75,2),o=_Dx76[0],l=_Dx76[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this584["#amount-slider"]?_this584["#amount-input"].value=_this584["#amount-slider"].value:t.target===_this584["#amount-input"]&&(_this584["#amount-slider"].value=_this584["#amount-input"].value);var _iterator1045=_createForOfIteratorHelper(o),_step1045;try{for(_iterator1045.s();!(_step1045=_iterator1045.n()).done;){var _t1540=_step1045.value;var _e1077=Px(_t1540),_i1017=_e1077?yx(_e1077):null;_i1017&&"invert"===_i1017.name&&(_i1017.amount=_this584["#amount-input"].value,kx(_e1077,_i1017,!0));}}catch(err){_iterator1045.e(err);}finally{_iterator1045.f();}}),this["#amount-box"].addEventListener("changeend",_i1018=function i(){_this584["#amount-box"].removeEventListener("change",e),_this584["#amount-box"].removeEventListener("changeend",_i1018),_this584.Jb=!1;var _iterator1046=_createForOfIteratorHelper(l),_step1046;try{for(_iterator1046.s();!(_step1046=_iterator1046.n()).done;){var _t1541=_step1046.value;gi(_t1541,n);}}catch(err){_iterator1046.e(err);}finally{_iterator1046.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb){var _t1542=this.Js.board,_e1078=Dx(_t1542.outermostSelectedElements,_t1542.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1079=_toArray(_e1078),_i1019=_e1079[0],_s524=_e1079.slice(1);if(_i1019&&"invert"===_i1019.name){var _t1543=!1;var _iterator1047=_createForOfIteratorHelper(_s524),_step1047;try{for(_iterator1047.s();!(_step1047=_iterator1047.n()).done;){var _e1080=_step1047.value;null!==_e1080&&"invert"===_e1080.name&&_e1080.amount!==_i1019.amount&&(_t1543=!0);}}catch(err){_iterator1047.e(err);}finally{_iterator1047.f();}this["#amount-input"].mixed=_t1543,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1019.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1019.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hx,"_shadowTemplate",Qi(_templateObject308()));_defineProperty(Hx,"_shadowStyleSheet",Ji(_templateObject309()));customElements.define("bx-invertfilterinspector",Hx);var Wx=/*#__PURE__*/function(_HTMLElement93){_inherits(Wx,_HTMLElement93);var _super122=_createSuper(Wx);function Wx(){var _this585;_classCallCheck(this,Wx);_this585=_super122.call(this),_this585.Jb=!1,_this585.Dh=es(_this585.qs,200,_assertThisInitialized(_this585)),_this585._shadowRoot=_this585.attachShadow({mode:"closed"}),_this585._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Wx._shadowStyleSheet],_this585._shadowRoot.append(document.importNode(Wx._shadowTemplate.content,!0));var _iterator1048=_createForOfIteratorHelper(_this585._shadowRoot.querySelectorAll("[id]")),_step1048;try{for(_iterator1048.s();!(_step1048=_iterator1048.n()).done;){var _t1544=_step1048.value;_this585["#"+_t1544.id]=_t1544;}}catch(err){_iterator1048.e(err);}finally{_iterator1048.f();}_this585["#amount-box"].addEventListener("changestart",function(){return _this585.im(event);});return _this585;}_createClass(Wx,[{key:"connectedCallback",value:function connectedCallback(){var _this586=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this586.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this586.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this587=this;var e,_i1021;this.Js.board.undoManager.checkpoint("Brightness amount"),this.Jb=!0;var _this$Js$board39=this.Js.board,s=_this$Js$board39.outermostSelectedElements,n=_this$Js$board39.selectedTextRange,_Dx77=Dx(s,n,!0),_Dx78=_slicedToArray(_Dx77,2),o=_Dx78[0],l=_Dx78[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this587["#amount-slider"]?_this587["#amount-input"].value=_this587["#amount-slider"].value:t.target===_this587["#amount-input"]&&(_this587["#amount-slider"].value=_this587["#amount-input"].value);var _iterator1049=_createForOfIteratorHelper(o),_step1049;try{for(_iterator1049.s();!(_step1049=_iterator1049.n()).done;){var _t1545=_step1049.value;var _e1081=Px(_t1545),_i1020=_e1081?yx(_e1081):null;_i1020&&"brightness"===_i1020.name&&(_i1020.amount=_this587["#amount-input"].value,kx(_e1081,_i1020,!0));}}catch(err){_iterator1049.e(err);}finally{_iterator1049.f();}}),this["#amount-box"].addEventListener("changeend",_i1021=function i(){_this587["#amount-box"].removeEventListener("change",e),_this587["#amount-box"].removeEventListener("changeend",_i1021),_this587.Jb=!1;var _iterator1050=_createForOfIteratorHelper(l),_step1050;try{for(_iterator1050.s();!(_step1050=_iterator1050.n()).done;){var _t1546=_step1050.value;gi(_t1546,n);}}catch(err){_iterator1050.e(err);}finally{_iterator1050.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb){var _t1547=this.Js.board,_e1082=Dx(_t1547.outermostSelectedElements,_t1547.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1083=_toArray(_e1082),_i1022=_e1083[0],_s525=_e1083.slice(1);if(_i1022&&"brightness"===_i1022.name){var _t1548=!1;var _iterator1051=_createForOfIteratorHelper(_s525),_step1051;try{for(_iterator1051.s();!(_step1051=_iterator1051.n()).done;){var _e1084=_step1051.value;null!==_e1084&&"brightness"===_e1084.name&&_e1084.amount!==_i1022.amount&&(_t1548=!0);}}catch(err){_iterator1051.e(err);}finally{_iterator1051.f();}this["#amount-input"].mixed=_t1548,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1022.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1022.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wx,"_shadowTemplate",Qi(_templateObject310()));_defineProperty(Wx,"_shadowStyleSheet",Ji(_templateObject311()));customElements.define("bx-brightnessfilterinspector",Wx);var Yx=/*#__PURE__*/function(_HTMLElement94){_inherits(Yx,_HTMLElement94);var _super123=_createSuper(Yx);function Yx(){var _this588;_classCallCheck(this,Yx);_this588=_super123.call(this),_this588.Jb=!1,_this588.Dh=es(_this588.qs,200,_assertThisInitialized(_this588)),_this588._shadowRoot=_this588.attachShadow({mode:"closed"}),_this588._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Yx._shadowStyleSheet],_this588._shadowRoot.append(document.importNode(Yx._shadowTemplate.content,!0));var _iterator1052=_createForOfIteratorHelper(_this588._shadowRoot.querySelectorAll("[id]")),_step1052;try{for(_iterator1052.s();!(_step1052=_iterator1052.n()).done;){var _t1549=_step1052.value;_this588["#"+_t1549.id]=_t1549;}}catch(err){_iterator1052.e(err);}finally{_iterator1052.f();}_this588["#amount-box"].addEventListener("changestart",function(){return _this588.im(event);});return _this588;}_createClass(Yx,[{key:"connectedCallback",value:function connectedCallback(){var _this589=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this589.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this589.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"im",value:function im(t){var _this590=this;var e,_i1024;this.Js.board.undoManager.checkpoint("Contrast amount"),this.Jb=!0;var _this$Js$board40=this.Js.board,s=_this$Js$board40.outermostSelectedElements,n=_this$Js$board40.selectedTextRange,_Dx79=Dx(s,n,!0),_Dx80=_slicedToArray(_Dx79,2),o=_Dx80[0],l=_Dx80[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this590["#amount-slider"]?_this590["#amount-input"].value=_this590["#amount-slider"].value:t.target===_this590["#amount-input"]&&(_this590["#amount-slider"].value=_this590["#amount-input"].value);var _iterator1053=_createForOfIteratorHelper(o),_step1053;try{for(_iterator1053.s();!(_step1053=_iterator1053.n()).done;){var _t1550=_step1053.value;var _e1085=Px(_t1550),_i1023=_e1085?yx(_e1085):null;_i1023&&"contrast"===_i1023.name&&(_i1023.amount=_this590["#amount-input"].value,kx(_e1085,_i1023,!0));}}catch(err){_iterator1053.e(err);}finally{_iterator1053.f();}}),this["#amount-box"].addEventListener("changeend",_i1024=function i(){_this590["#amount-box"].removeEventListener("change",e),_this590["#amount-box"].removeEventListener("changeend",_i1024),_this590.Jb=!1;var _iterator1054=_createForOfIteratorHelper(l),_step1054;try{for(_iterator1054.s();!(_step1054=_iterator1054.n()).done;){var _t1551=_step1054.value;gi(_t1551,n);}}catch(err){_iterator1054.e(err);}finally{_iterator1054.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb){var _t1552=this.Js.board,_e1086=Dx(_t1552.outermostSelectedElements,_t1552.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1087=_toArray(_e1086),_i1025=_e1087[0],_s526=_e1087.slice(1);if(_i1025&&"contrast"===_i1025.name){var _t1553=!1;var _iterator1055=_createForOfIteratorHelper(_s526),_step1055;try{for(_iterator1055.s();!(_step1055=_iterator1055.n()).done;){var _e1088=_step1055.value;null!==_e1088&&"contrast"===_e1088.name&&_e1088.amount!==_i1025.amount&&(_t1553=!0);}}catch(err){_iterator1055.e(err);}finally{_iterator1055.f();}this["#amount-input"].mixed=_t1553,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1025.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1025.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yx,"_shadowTemplate",Qi(_templateObject312()));_defineProperty(Yx,"_shadowStyleSheet",Ji(_templateObject313()));customElements.define("bx-contrastfilterinspector",Yx);var qx=/*#__PURE__*/function(_HTMLElement95){_inherits(qx,_HTMLElement95);var _super124=_createSuper(qx);function qx(){var _this591;_classCallCheck(this,qx);_this591=_super124.call(this),_this591.Jb=!1,_this591.dm=!1,_this591.Dh=es(_this591.qs,200,_assertThisInitialized(_this591)),_this591._shadowRoot=_this591.attachShadow({mode:"closed"}),_this591._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,qx._shadowStyleSheet],_this591._shadowRoot.append(document.importNode(qx._shadowTemplate.content,!0));var _iterator1056=_createForOfIteratorHelper(_this591._shadowRoot.querySelectorAll("[id]")),_step1056;try{for(_iterator1056.s();!(_step1056=_iterator1056.n()).done;){var _t1554=_step1056.value;_this591["#"+_t1554.id]=_t1554;}}catch(err){_iterator1056.e(err);}finally{_iterator1056.f();}_this591["#channels-buttons"].addEventListener("toggle",function(t){return _this591.pm(t);}),_this591["#amount-box"].addEventListener("changestart",function(t){return _this591.im(t);}),_this591["#saturation-box"].addEventListener("changestart",function(t){return _this591.um(t);});return _this591;}_createClass(qx,[{key:"connectedCallback",value:function connectedCallback(){var _this592=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this592.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this592.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"pm",value:function pm(t){this.Js.board.undoManager.checkpoint("Posterize channels");var _this$Js$board41=this.Js.board,e=_this$Js$board41.outermostSelectedElements,i=_this$Js$board41.selectedTextRange,_Dx81=Dx(e,i,!0),_Dx82=_slicedToArray(_Dx81,2),s=_Dx82[0],n=_Dx82[1];var _iterator1057=_createForOfIteratorHelper(s),_step1057;try{for(_iterator1057.s();!(_step1057=_iterator1057.n()).done;){var _t1555=_step1057.value;var _e1089=Px(_t1555),_i1026=_e1089?yx(_e1089):null;_i1026&&"posterize"===_i1026.name&&(_i1026.channels=this["#channels-buttons"].value,kx(_e1089,_i1026,!0));}}catch(err){_iterator1057.e(err);}finally{_iterator1057.f();}}},{key:"im",value:function im(t){var _this593=this;var e,_i1028;this.Js.board.undoManager.checkpoint("Posterize amount"),this.Jb=!0;var _this$Js$board42=this.Js.board,s=_this$Js$board42.outermostSelectedElements,n=_this$Js$board42.selectedTextRange,_Dx83=Dx(s,n,!0),_Dx84=_slicedToArray(_Dx83,2),o=_Dx84[0],l=_Dx84[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this593["#amount-slider"]?_this593["#amount-input"].value=_this593["#amount-slider"].value:t.target===_this593["#amount-input"]&&(_this593["#amount-slider"].value=_this593["#amount-input"].value);var _iterator1058=_createForOfIteratorHelper(o),_step1058;try{for(_iterator1058.s();!(_step1058=_iterator1058.n()).done;){var _t1556=_step1058.value;var _e1090=Px(_t1556),_i1027=_e1090?yx(_e1090):null;_i1027&&"posterize"===_i1027.name&&(_i1027.amount=_this593["#amount-input"].value,kx(_e1090,_i1027,!0));}}catch(err){_iterator1058.e(err);}finally{_iterator1058.f();}}),this["#amount-box"].addEventListener("changeend",_i1028=function i(){_this593["#amount-box"].removeEventListener("change",e),_this593["#amount-box"].removeEventListener("changeend",_i1028),_this593.Jb=!1;var _iterator1059=_createForOfIteratorHelper(l),_step1059;try{for(_iterator1059.s();!(_step1059=_iterator1059.n()).done;){var _t1557=_step1059.value;gi(_t1557,n);}}catch(err){_iterator1059.e(err);}finally{_iterator1059.f();}});}},{key:"um",value:function um(t){var _this594=this;var e,_i1030;this.Js.board.undoManager.checkpoint("Posterize saturation"),this.dm=!0;var _this$Js$board43=this.Js.board,s=_this$Js$board43.outermostSelectedElements,n=_this$Js$board43.selectedTextRange,_Dx85=Dx(s,n,!0),_Dx86=_slicedToArray(_Dx85,2),o=_Dx86[0],l=_Dx86[1];this["#saturation-box"].addEventListener("change",e=function e(t){t.target===_this594["#saturation-slider"]?_this594["#saturation-input"].value=_this594["#saturation-slider"].value:t.target===_this594["#saturation-input"]&&(_this594["#saturation-slider"].value=_this594["#saturation-input"].value);var _iterator1060=_createForOfIteratorHelper(o),_step1060;try{for(_iterator1060.s();!(_step1060=_iterator1060.n()).done;){var _t1558=_step1060.value;var _e1091=Px(_t1558),_i1029=_e1091?yx(_e1091):null;_i1029&&"posterize"===_i1029.name&&(_i1029.saturation=_this594["#saturation-input"].value,kx(_e1091,_i1029,!0));}}catch(err){_iterator1060.e(err);}finally{_iterator1060.f();}}),this["#saturation-box"].addEventListener("changeend",_i1030=function i(){_this594["#saturation-box"].removeEventListener("change",e),_this594["#saturation-box"].removeEventListener("changeend",_i1030),_this594.dm=!1;var _iterator1061=_createForOfIteratorHelper(l),_step1061;try{for(_iterator1061.s();!(_step1061=_iterator1061.n()).done;){var _t1559=_step1061.value;gi(_t1559,n);}}catch(err){_iterator1061.e(err);}finally{_iterator1061.f();}});}},{key:"qs",value:function qs(){if(!1===this.Jb&&!1===this.dm){var _t1560=this.Js.board,_e1092=Dx(_t1560.outermostSelectedElements,_t1560.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1093=_toArray(_e1092),_i1031=_e1093[0],_s527=_e1093.slice(1);if(_i1031&&"posterize"===_i1031.name){var _t1561=!1,_e1094=!1,_n429=!1;var _iterator1062=_createForOfIteratorHelper(_s527),_step1062;try{for(_iterator1062.s();!(_step1062=_iterator1062.n()).done;){var _o335=_step1062.value;null!==_o335&&"posterize"===_o335.name&&(!1===compareArrays(_o335.channels,_i1031.channels)&&(_t1561=!0),_o335.amount!==_i1031.amount&&(_e1094=!0),_o335.saturation!==_i1031.saturation&&(_n429=!0));}}catch(err){_iterator1062.e(err);}finally{_iterator1062.f();}this["#channels-buttons"].mixed=_t1561,this["#channels-buttons"].disabled=!1,this["#channels-buttons"].value=_i1031.channels,this["#amount-input"].mixed=_e1094,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1031.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1031.amount,this["#saturation-input"].mixed=_n429,this["#saturation-input"].disabled=!1,this["#saturation-input"].value=_i1031.saturation,this["#saturation-slider"].disabled=!1,this["#saturation-slider"].value=_i1031.saturation;}else this["#channels-buttons"].mixed=!1,this["#channels-buttons"].disabled=!0,this["#channels-buttons"].value=[],this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#saturation-input"].mixed=!1,this["#saturation-input"].disabled=!0,this["#saturation-input"].value=0,this["#saturation-slider"].disabled=!0,this["#saturation-slider"].value=0;}}}]);return qx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qx,"_shadowTemplate",Qi(_templateObject314()));_defineProperty(qx,"_shadowStyleSheet",Ji(_templateObject315()));customElements.define("bx-posterizefilterinspector",qx);var Xx=/*#__PURE__*/function(_HTMLElement96){_inherits(Xx,_HTMLElement96);var _super125=_createSuper(Xx);function Xx(){var _this595;_classCallCheck(this,Xx);_this595=_super125.call(this),_this595.xm=!1,_this595.bm=!1,_this595.gm=!1,_this595.Dh=es(_this595.qs,200,_assertThisInitialized(_this595)),_this595._shadowRoot=_this595.attachShadow({mode:"closed"}),_this595._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Xx._shadowStyleSheet],_this595._shadowRoot.append(document.importNode(Xx._shadowTemplate.content,!0));var _iterator1063=_createForOfIteratorHelper(_this595._shadowRoot.querySelectorAll("[id]")),_step1063;try{for(_iterator1063.s();!(_step1063=_iterator1063.n()).done;){var _t1562=_step1063.value;_this595["#"+_t1562.id]=_t1562;}}catch(err){_iterator1063.e(err);}finally{_iterator1063.f();}_this595["#shadows-color-select"].addEventListener("changestart",function(){return _this595.fm();}),_this595["#highlights-color-select"].addEventListener("changestart",function(){return _this595.wm();}),_this595["#gamma-box"].addEventListener("changestart",function(){return _this595.vm(event);});return _this595;}_createClass(Xx,[{key:"connectedCallback",value:function connectedCallback(){var _this596=this;this.Js=Gi(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this596.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this596.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"fm",value:function fm(){var _this597=this;var t,_e1096;this.Js.board.undoManager.checkpoint("Duotone shadows color"),this.xm=!0;var _this$Js$board44=this.Js.board,i=_this$Js$board44.outermostSelectedElements,s=_this$Js$board44.selectedTextRange,_Dx87=Dx(i,s,!0),_Dx88=_slicedToArray(_Dx87,2),n=_Dx88[0],o=_Dx88[1];this["#shadows-color-select"].addEventListener("change",t=function t(){var _iterator1064=_createForOfIteratorHelper(n),_step1064;try{for(_iterator1064.s();!(_step1064=_iterator1064.n()).done;){var _t1563=_step1064.value;var _e1095=Px(_t1563),_i1032=_e1095?yx(_e1095):null;_i1032&&"duotone"===_i1032.name&&(_i1032.shadowsColor=_this597["#shadows-color-select"].value,kx(_e1095,_i1032,!0));}}catch(err){_iterator1064.e(err);}finally{_iterator1064.f();}}),this["#shadows-color-select"].addEventListener("changeend",_e1096=function e(){_this597["#shadows-color-select"].removeEventListener("change",t),_this597["#shadows-color-select"].removeEventListener("changeend",_e1096),_this597.xm=!1;var _iterator1065=_createForOfIteratorHelper(o),_step1065;try{for(_iterator1065.s();!(_step1065=_iterator1065.n()).done;){var _t1564=_step1065.value;gi(_t1564,s);}}catch(err){_iterator1065.e(err);}finally{_iterator1065.f();}});}},{key:"wm",value:function wm(){var _this598=this;var t,_e1098;this.Js.board.undoManager.checkpoint("Duotone highlights color"),this.bm=!0;var _this$Js$board45=this.Js.board,i=_this$Js$board45.outermostSelectedElements,s=_this$Js$board45.selectedTextRange,_Dx89=Dx(i,s,!0),_Dx90=_slicedToArray(_Dx89,2),n=_Dx90[0],o=_Dx90[1];this["#highlights-color-select"].addEventListener("change",t=function t(){var _iterator1066=_createForOfIteratorHelper(n),_step1066;try{for(_iterator1066.s();!(_step1066=_iterator1066.n()).done;){var _t1565=_step1066.value;var _e1097=Px(_t1565),_i1033=_e1097?yx(_e1097):null;_i1033&&"duotone"===_i1033.name&&(_i1033.highlightsColor=_this598["#highlights-color-select"].value,kx(_e1097,_i1033,!0));}}catch(err){_iterator1066.e(err);}finally{_iterator1066.f();}}),this["#highlights-color-select"].addEventListener("changeend",_e1098=function e(){_this598["#highlights-color-select"].removeEventListener("change",t),_this598["#highlights-color-select"].removeEventListener("changeend",_e1098),_this598.bm=!1;var _iterator1067=_createForOfIteratorHelper(o),_step1067;try{for(_iterator1067.s();!(_step1067=_iterator1067.n()).done;){var _t1566=_step1067.value;gi(_t1566,s);}}catch(err){_iterator1067.e(err);}finally{_iterator1067.f();}});}},{key:"vm",value:function vm(t){var _this599=this;var e,_i1035;this.Js.board.undoManager.checkpoint("Duotone gamma"),this.gm=!0;var _this$Js$board46=this.Js.board,s=_this$Js$board46.outermostSelectedElements,n=_this$Js$board46.selectedTextRange,_Dx91=Dx(s,n,!0),_Dx92=_slicedToArray(_Dx91,2),o=_Dx92[0],l=_Dx92[1];this["#gamma-box"].addEventListener("change",e=function e(t){t.target===_this599["#gamma-slider"]?_this599["#gamma-input"].value=_this599["#gamma-slider"].value:t.target===_this599["#gamma-input"]&&(_this599["#gamma-slider"].value=_this599["#gamma-input"].value);var _iterator1068=_createForOfIteratorHelper(o),_step1068;try{for(_iterator1068.s();!(_step1068=_iterator1068.n()).done;){var _t1567=_step1068.value;var _e1099=Px(_t1567),_i1034=_e1099?yx(_e1099):null;_i1034&&"duotone"===_i1034.name&&(_i1034.gamma=_this599["#gamma-input"].value,kx(_e1099,_i1034,!0));}}catch(err){_iterator1068.e(err);}finally{_iterator1068.f();}}),this["#gamma-box"].addEventListener("changeend",_i1035=function i(){_this599["#gamma-box"].removeEventListener("change",e),_this599["#gamma-box"].removeEventListener("changeend",_i1035),_this599.gm=!1;var _iterator1069=_createForOfIteratorHelper(l),_step1069;try{for(_iterator1069.s();!(_step1069=_iterator1069.n()).done;){var _t1568=_step1069.value;gi(_t1568,n);}}catch(err){_iterator1069.e(err);}finally{_iterator1069.f();}});}},{key:"qs",value:function qs(){if(!this.xm&&!this.bm&&!this.gm){var _t1569=this.Js.board,_e1100=Dx(_t1569.outermostSelectedElements,_t1569.selectedTextRange).map(function(t){return Px(t);}).map(function(t){return t?yx(t):null;}),_e1101=_toArray(_e1100),_i1036=_e1101[0],_s528=_e1101.slice(1);if(_i1036&&"duotone"===_i1036.name){var _t1570=!1;var _iterator1070=_createForOfIteratorHelper(_s528),_step1070;try{for(_iterator1070.s();!(_step1070=_iterator1070.n()).done;){var _e1102=_step1070.value;null!==_e1102&&"duotone"===_e1102.name&&_e1102.gamma!==_i1036.gamma&&(_t1570=!0);}}catch(err){_iterator1070.e(err);}finally{_iterator1070.f();}this["#shadows-color-select"].disabled=!1,this["#shadows-color-select"].value=_i1036.shadowsColor,this["#highlights-color-select"].disabled=!1,this["#highlights-color-select"].value=_i1036.highlightsColor,this["#gamma-input"].mixed=_t1570,this["#gamma-input"].disabled=!1,this["#gamma-input"].value=_i1036.gamma,this["#gamma-slider"].disabled=!1,this["#gamma-slider"].value=_i1036.gamma;}else this["#shadows-color-select"].disabled=!0,this["#shadows-color-select"].value="rgb(0,0,0)",this["#highlights-color-select"].disabled=!0,this["#highlights-color-select"].value="rgb(0,0,0)",this["#gamma-input"].mixed=!1,this["#gamma-input"].disabled=!0,this["#gamma-input"].value=0,this["#gamma-slider"].disabled=!0,this["#gamma-slider"].value=0;}}}]);return Xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xx,"_shadowTemplate",Qi(_templateObject316()));_defineProperty(Xx,"_shadowStyleSheet",Ji(_templateObject317()));customElements.define("bx-duotonefilterinspector",Xx);var Zx=Number.parseFloat;var Kx=/*#__PURE__*/function(_HTMLElement97){_inherits(Kx,_HTMLElement97);var _super126=_createSuper(Kx);_createClass(Kx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"#filter-settings",get:function get(){return this["#filter-settings-wrapper"].firstElementChild;}}]);function Kx(){var _this600;_classCallCheck(this,Kx);_this600=_super126.call(this),_this600.Dh=es(_this600.qs,200,_assertThisInitialized(_this600)),_this600.Qx=!1,_this600._shadowRoot=_this600.attachShadow({mode:"closed"}),_this600._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Kx._shadowStyleSheet],_this600._shadowRoot.append(document.importNode(Kx._shadowTemplate.content,!0));var _iterator1071=_createForOfIteratorHelper(_this600._shadowRoot.querySelectorAll("[id]")),_step1071;try{for(_iterator1071.s();!(_step1071=_iterator1071.n()).done;){var _t1571=_step1071.value;_this600["#"+_t1571.id]=_t1571;}}catch(err){_iterator1071.e(err);}finally{_iterator1071.f();}_this600["#filter-select"].addEventListener("change",function(){return _this600.ym();}),_this600["#filter-convert-button"].addEventListener("click",function(){return _this600.km();}),_this600["#filter-edit-button"].addEventListener("click",function(){return _this600.Sm();}),_this600["#blend-mode-select"].addEventListener("change",function(){return _this600._m();}),_this600["#isolation-checkbox"].addEventListener("toggle",function(){return _this600.Cm();}),_this600["#opacity-box"].addEventListener("changestart",function(t){return _this600.Jx(t);}),_this600["#clip-button"].addEventListener("toggle",function(){return _this600.Mm();}),_this600["#mask-button"].addEventListener("toggle",function(){return _this600.Pm();});return _this600;}_createClass(Kx,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this601=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.il=function(){_this601.sl();}),t.addEventListener("selectedtextrangechange",this.Xa=function(){_this601.Za();}),t.addEventListener("workspacemutation",this.hn=function(t){_this601.al(t.detail);});}},{key:"en",value:function en(){var t=this.Js.board;this["#filter-select"].enabled=!1,this.Dm(null),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("selectedtextrangechange",this.Xa),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){this.Dh();}},{key:"Za",value:function Za(){this.Dh();}},{key:"al",value:function al(t){this.Dh();}},{key:"ym",value:function ym(){var t=this.Js.board;if(this.Js.board.undoManager.checkpoint("Apply filter"),"none"===this["#filter-select"].value){var _iterator1072=_createForOfIteratorHelper(this.zm()),_step1072;try{for(_iterator1072.s();!(_step1072=_iterator1072.n()).done;){var _t1572=_step1072.value;_t1572.style.filter="none";}}catch(err){_iterator1072.e(err);}finally{_iterator1072.f();}}else if(this["#filter-select"].value.startsWith("#")){var _t1573=this.Js.board.masterWorkspace.querySelector(this["#filter-select"].value),_e1103=this.zm(),_i1037=this.Js.board.selectedTextRange;var _iterator1073=_createForOfIteratorHelper(_e1103),_step1073;try{for(_iterator1073.s();!(_step1073=_iterator1073.n()).done;){var _s529=_step1073.value;if("text"===_s529.localName&&_i1037&&_s529.contains(_i1037.commonAncestorContainer)){mi(_s529,_i1037);var _e1104=_s529.querySelectorAll("tspan"),_n430=fi(_i1037,_s529),_o336=_i1037.collapsed?_e1104:_n430;var _iterator1074=_createForOfIteratorHelper(_o336),_step1074;try{for(_iterator1074.s();!(_step1074=_iterator1074.n()).done;){var _e1105=_step1074.value;_e1105.style.setProperty("filter","url(#".concat(_t1573.id,")"));}}catch(err){_iterator1074.e(err);}finally{_iterator1074.f();}gi(_s529,_i1037);}else _s529.style.setProperty("filter","url(#".concat(_t1573.id,")")),Dp("filter",_s529);}}catch(err){_iterator1073.e(err);}finally{_iterator1073.f();}_e1103.find(function(t){return"image"===t.localName;})&&(_t1573.previousElementSibling?_t1573.previousElementSibling.after(_t1573):_t1573.nextElementSibling?_t1573.nextElementSibling.before(_t1573):_t1573.parentElement.append(_t1573));}else{var _e1106=Ii("svg:filter"),_i1038=vx(this["#filter-select"].value),_s530=this.Js.board.selectedTextRange;_e1106.id=t.generateUniqueID("".concat(_i1038.name,"-filter")),kx(_e1106,_i1038),t.defs.append(_e1106);var _iterator1075=_createForOfIteratorHelper(this.zm()),_step1075;try{for(_iterator1075.s();!(_step1075=_iterator1075.n()).done;){var _t1574=_step1075.value;if("text"===_t1574.localName&&_s530&&_t1574.contains(_s530.commonAncestorContainer)){mi(_t1574,_s530);var _i1039=_t1574.querySelectorAll("tspan"),_n431=fi(_s530,_t1574),_o337=_s530.collapsed?_i1039:_n431;var _iterator1076=_createForOfIteratorHelper(_o337),_step1076;try{for(_iterator1076.s();!(_step1076=_iterator1076.n()).done;){var _t1575=_step1076.value;_t1575.style.setProperty("filter","url(#".concat(_e1106.id,")"));}}catch(err){_iterator1076.e(err);}finally{_iterator1076.f();}gi(_t1574,_s530);}else _t1574.style.setProperty("filter","url(#".concat(_e1106.id,")")),Dp("filter",_t1574);}}catch(err){_iterator1075.e(err);}finally{_iterator1075.f();}}this.Js.board.collectGarbage();}},{key:"km",value:function km(){var t=this["#filter-select"].value,e=[];var _iterator1077=_createForOfIteratorHelper(this.Js.board.selectedObjectElements),_step1077;try{for(_iterator1077.s();!(_step1077=_iterator1077.n()).done;){var _i1041=_step1077.value;var _s531=co.fromString(getComputedStyle(_i1041).filter);if(_s531&&"#"===_s531.value[0]){var _i1042=this.Js.board.masterWorkspace.querySelector(_s531.value),_n432=yx(_i1042);_n432&&_n432.name===t&&e.push(_i1042);}}}catch(err){_iterator1077.e(err);}finally{_iterator1077.f();}if(e.length>0){this.Js.board.undoManager.checkpoint("Convert to custom filter");var _iterator1078=_createForOfIteratorHelper(e),_step1078;try{for(_iterator1078.s();!(_step1078=_iterator1078.n()).done;){var _i1040=_step1078.value;{var _e1107=_i1040.querySelector(":scope > title");_e1107||(_e1107=Ii("svg:bx-title"),_i1040.prepend(_e1107)),_e1107.textContent=m[t];}_i1040.removeAttribute("data-bx-preset");}}catch(err){_iterator1078.e(err);}finally{_iterator1078.f();}}}},{key:"Sm",value:function Sm(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(this["#filter-select"].value.substring(1));}},{key:"_m",value:function _m(){this.Js.board.undoManager.checkpoint("Blend mode");var t=this.Js.board.selectedTextRange,e=this["#blend-mode-select"].value;var _iterator1079=_createForOfIteratorHelper(this.zm()),_step1079;try{for(_iterator1079.s();!(_step1079=_iterator1079.n()).done;){var _i1043=_step1079.value;if("text"===_i1043.localName&&t&&_i1043.contains(t.commonAncestorContainer)){mi(_i1043,t);var _s532=_i1043.querySelectorAll("tspan"),_n433=fi(t,_i1043),_o338=t.collapsed?_s532:_n433;var _iterator1080=_createForOfIteratorHelper(_o338),_step1080;try{for(_iterator1080.s();!(_step1080=_iterator1080.n()).done;){var _t1576=_step1080.value;_t1576.style.setProperty("mix-blend-mode",e);}}catch(err){_iterator1080.e(err);}finally{_iterator1080.f();}gi(_i1043,t);}else _i1043.style.setProperty("mix-blend-mode",e),Dp("mix-blend-mode",_i1043);}}catch(err){_iterator1079.e(err);}finally{_iterator1079.f();}}},{key:"Cm",value:function Cm(){this.Js.board.undoManager.checkpoint("Isolate");var t=this.Js.board.selectedTextRange,e=this["#isolation-checkbox"].toggled?"isolate":"auto";var _iterator1081=_createForOfIteratorHelper(this.zm()),_step1081;try{for(_iterator1081.s();!(_step1081=_iterator1081.n()).done;){var _i1044=_step1081.value;if("text"===_i1044.localName&&t&&_i1044.contains(t.commonAncestorContainer)){mi(_i1044,t);var _s533=_i1044.querySelectorAll("tspan"),_n434=fi(t,_i1044),_o339=t.collapsed?_s533:_n434;var _iterator1082=_createForOfIteratorHelper(_o339),_step1082;try{for(_iterator1082.s();!(_step1082=_iterator1082.n()).done;){var _t1577=_step1082.value;_t1577.style.setProperty("isolation",e);}}catch(err){_iterator1082.e(err);}finally{_iterator1082.f();}gi(_i1044,t);}else _i1044.style.setProperty("isolation",e),Dp("isolation",_i1044);}}catch(err){_iterator1081.e(err);}finally{_iterator1081.f();}}},{key:"Jx",value:function Jx(){var _this602=this;this.Js.board.undoManager.checkpoint("Opacity");var t,_e1108,i=this.zm(),s=this.Js.board.selectedTextRange,n=[],o=[];var _iterator1083=_createForOfIteratorHelper(i),_step1083;try{for(_iterator1083.s();!(_step1083=_iterator1083.n()).done;){var _t1582=_step1083.value;if("text"===_t1582.localName&&s&&_t1582.contains(s.commonAncestorContainer)){mi(_t1582,s),n.push(_t1582);var _e1109=_t1582.querySelectorAll("tspan"),_i1045=fi(s,_t1582),_l285=s.collapsed?_e1109:_i1045;o.push.apply(o,_toConsumableArray(_l285));}else o.push(_t1582);}}catch(err){_iterator1083.e(err);}finally{_iterator1083.f();}this.Qx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1579){_t1579.target===_this602["#opacity-slider"]?_this602["#opacity-input"].value=_this602["#opacity-slider"].value:_t1579.target===_this602["#opacity-input"]&&(_this602["#opacity-slider"].value=_this602["#opacity-input"].value),_this602["#opacity-slider"].mixed=!1,_this602["#opacity-input"].mixed=!1;var _iterator1084=_createForOfIteratorHelper(o),_step1084;try{for(_iterator1084.s();!(_step1084=_iterator1084.n()).done;){var _t1578=_step1084.value;_t1578.style.setProperty("opacity",_this602["#opacity-slider"].value);}}catch(err){_iterator1084.e(err);}finally{_iterator1084.f();}}),this["#opacity-section"].addEventListener("changeend",_e1108=function e(){_this602["#opacity-section"].removeEventListener("change",t),_this602["#opacity-section"].removeEventListener("changeend",_e1108),_this602.Qx=!1;var _iterator1085=_createForOfIteratorHelper(o),_step1085;try{for(_iterator1085.s();!(_step1085=_iterator1085.n()).done;){var _t1580=_step1085.value;Dp("opacity",_t1580);}}catch(err){_iterator1085.e(err);}finally{_iterator1085.f();}var _iterator1086=_createForOfIteratorHelper(n),_step1086;try{for(_iterator1086.s();!(_step1086=_iterator1086.n()).done;){var _t1581=_step1086.value;gi(_t1581,s);}}catch(err){_iterator1086.e(err);}finally{_iterator1086.f();}});}},{key:"Mm",value:function Mm(){this["#clip-button"].toggled?this.Qs.execCommand("clip"):this.Qs.execCommand("unclip");}},{key:"Pm",value:function Pm(){this["#mask-button"].toggled?this.Qs.execCommand("mask"):this.Qs.execCommand("unmask");}},{key:"Dm",value:function Dm(t){var e=this["#filter-settings-wrapper"].firstElementChild;if(t!==(e?e.dataset.name:null)){var _e1110="";"drop-shadow"===t?_e1110='<bx-dropshadowfilterinspector data-name="drop-shadow"/>':"inner-shadow"===t?_e1110='<bx-innershadowfilterinspector data-name="inner-shadow"/>':"point-light"===t?_e1110='<bx-pointlightfilterinspector data-name="point-light"/>':"spot-light"===t?_e1110='<bx-spotlightfilterinspector data-name="spot-light"/>':"outline"===t?_e1110='<bx-outlinefilterinspector data-name="outline"/>':"gaussian-blur"===t?_e1110='<bx-gaussianblurfilterinspector data-name="gaussian-blur"/>':"motion-blur"===t?_e1110='<bx-motionblurfilterinspector data-name="motion-blur"/>':"warp"===t?_e1110='<bx-warpfilterinspector data-name="warp"/>':"pixelete"===t?_e1110='<bx-pixeletefilterinspector data-name="pixelete"/>':"morphology"===t?_e1110='<bx-morphologyfilterinspector data-name="morphology"/>':"black-and-white"===t?_e1110='<bx-blackandwhitefilterinspector data-name="black-and-white"/>':"grayscale"===t?_e1110='<bx-grayscalefilterinspector data-name="grayscale"/>':"sepia"===t?_e1110='<bx-sepiafilterinspector data-name="sepia"/>':"saturate"===t?_e1110='<bx-saturatefilterinspector data-name="saturate"/>':"hue-rotate"===t?_e1110='<bx-huerotatefilterinspector data-name="hue-rotate"/>':"invert"===t?_e1110='<bx-invertfilterinspector data-name="invert"/>':"brightness"===t?_e1110='<bx-brightnessfilterinspector data-name="brightness"/>':"contrast"===t?_e1110='<bx-contrastfilterinspector data-name="contrast"/>':"posterize"===t?_e1110='<bx-posterizefilterinspector data-name="posterize"/>':"duotone"===t?_e1110='<bx-duotonefilterinspector data-name="duotone"/>':"x-ray"===t&&(_e1110=""),this["#filter-settings-wrapper"].innerHTML=_e1110;}}},{key:"zm",value:function zm(){var t=[];var _iterator1087=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1087;try{for(_iterator1087.s();!(_step1087=_iterator1087.n()).done;){var _e1111=_step1087.value;E.includes(_e1111.localName)&&t.push(_e1111);}}catch(err){_iterator1087.e(err);}finally{_iterator1087.f();}return t;}},{key:"qs",value:function qs(){var t=[],e=Symbol();var _iterator1088=_createForOfIteratorHelper(this.zm()),_step1088;try{for(_iterator1088.s();!(_step1088=_iterator1088.n()).done;){var _e1115=_step1088.value;if("text"===_e1115.localName){var _i1053=this.Js.board.selectedTextRange;if(_i1053&&_i1053.intersectsNode(_e1115)){var _s539=vi(_e1115);"backward"===_i1053.direction&&_s539.reverse();var _iterator1092=_createForOfIteratorHelper(_s539),_step1092;try{for(_iterator1092.s();!(_step1092=_iterator1092.n()).done;){var _e1116=_step1092.value;_i1053.intersectsNode(_e1116)&&(t.includes(_e1116.parentElement)||t.push(_e1116.parentElement));}}catch(err){_iterator1092.e(err);}finally{_iterator1092.f();}}else t.push(_e1115);}else t.push(_e1115);}}catch(err){_iterator1088.e(err);}finally{_iterator1088.f();}for(var _i1046=0,_t1583=t;_i1046<_t1583.length;_i1046++){var _i1047=_t1583[_i1046];_i1047[e]=getComputedStyle(_i1047);}if(this["#panel-heading"].disabled=0===t.length,0===t.length)this["#filter-section-heading"].disabled=!0,this["#filter-select"].value="none",this["#filter-select"].enabled=!1,this["#filter-select"].mixed=!1,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this["#filter-settings-wrapper"].innerHTML="";else{var _e1112=t.map(function(t){return Px(t);}),_e1113=_toArray(_e1112),_i1048=_e1113[0],_s534=_e1113.slice(1),_e1112$map=_e1112.map(function(t){return t?yx(t):null;}),_e1112$map2=_toArray(_e1112$map),_n435=_e1112$map2[0],_o340=_e1112$map2.slice(1),_l286=!1;!!_i1048&&getComputedStyle(_i1048).display;var _iterator1089=_createForOfIteratorHelper(_o340),_step1089;try{for(_iterator1089.s();!(_step1089=_iterator1089.n()).done;){var _t1584=_step1089.value;if(null===_n435){if(null!==_t1584){_l286=!0;break;}}else if(null===_t1584||_t1584.name!==_n435.name){_l286=!0;break;}}}catch(err){_iterator1089.e(err);}finally{_iterator1089.f();}_n435?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value=_n435.name,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l286,this["#filter-convert-button"].hidden=!1,this["#filter-edit-button"].hidden=!0,this.Dm(_n435.name)):_i1048?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="#"+_i1048.id,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l286,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!1,this.Dm(null)):(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="none",this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l286,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this.Dm(null));}{var _i1049=t[0],_s535=t.slice(1);if(_i1049){var _t1585=_i1049[e],_n436=_t1585.getPropertyValue("mix-blend-mode"),_o341=_t1585.getPropertyValue("isolation"),_l287=!1,_a217=!1;var _iterator1090=_createForOfIteratorHelper(_s535),_step1090;try{for(_iterator1090.s();!(_step1090=_iterator1090.n()).done;){var _t1586=_step1090.value;var _i1050=_t1586[e],_s536=_i1050.getPropertyValue("mix-blend-mode"),_h171=_i1050.getPropertyValue("isolation");_s536!==_n436&&(_l287=!0),_h171!==_o341&&(_a217=!0);}}catch(err){_iterator1090.e(err);}finally{_iterator1090.f();}this["#blend-mode-section-heading"].disabled=!1,this["#blend-mode-select"].value=_i1049[e].getPropertyValue("mix-blend-mode"),this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=_l287,this["#isolation-checkbox"].toggled="isolate"===_o341,this["#isolation-checkbox"].disabled=!1,this["#isolation-checkbox"].mixed=_a217,this["#isolation-label"].disabled=!1;}else this["#blend-mode-section-heading"].disabled=!0,this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,this["#blend-mode-select"].mixed=!1,this["#isolation-checkbox"].disabled=!0,this["#isolation-checkbox"].toggled=!1,this["#isolation-checkbox"].mixed=!1,this["#isolation-label"].disabled=!0;}if(!1===this.Qx){var _i1051=t[0],_s537=t.slice(1),_n437=_i1051?tt(Zx(_i1051[e].opacity),2):1,_o342=!1;var _iterator1091=_createForOfIteratorHelper(_s537),_step1091;try{for(_iterator1091.s();!(_step1091=_iterator1091.n()).done;){var _t1587=_step1091.value;(_t1587?tt(Zx(_t1587[e].opacity),2):1)!==_n437&&(_o342=!0);}}catch(err){_iterator1091.e(err);}finally{_iterator1091.f();}_i1051?(this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].value=_n437,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].mixed=_o342,this["#opacity-input"].value=_n437,this["#opacity-input"].disabled=!1,this["#opacity-input"].mixed=_o342):(this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1,this["#opacity-input"].value=1,this["#opacity-input"].disabled=!0,this["#opacity-input"].mixed=!1);}{var _t1588=this.Qs.isCommandEnabled("clip"),_e1114=this.Qs.isCommandEnabled("unclip"),_i1052=this.Qs.isCommandEnabled("mask"),_s538=this.Qs.isCommandEnabled("unmask");this["#clip-button"].toggled=!0===_e1114,this["#clip-button"].disabled=!1===_t1588&&!1===_e1114,this["#mask-button"].toggled=!0===_s538,this["#mask-button"].disabled=!1===_i1052&&!1===_s538,this["#cover-section-heading"].disabled=this["#clip-button"].disabled&&this["#mask-button"].disabled;}}}]);return Kx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kx,"observedAttributes",["enabled"]);_defineProperty(Kx,"_shadowTemplate",Qi(_templateObject318()));_defineProperty(Kx,"_shadowStyleSheet",Ji(_templateObject319()));customElements.define("bx-compositingpanel",Kx);var Qx=new(/*#__PURE__*/function(){function _class4(){_classCallCheck(this,_class4);this.Ao=new Dexie("LocalFontsManager"),this.Ao.version(1).stores({cache:"family"});}_createClass(_class4,[{key:"search",value:function search(){var _this603=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"all";return new Promise(/*#__PURE__*/function(){var _ref152=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee125(i){var s,n;return regeneratorRuntime.wrap(function _callee125$(_context126){while(1){switch(_context126.prev=_context126.next){case 0:s=[],n=_this603.Ao.cache;""!==t.trim()&&(n=n.filter(function(e){return e.family.toLowerCase().includes(t.trim().toLowerCase());}));_context126.next=4;return n.toArray();case 4:s=_context126.sent;"all"!==e&&(s=s.slice(40*e,40*(e+1)));i(s);case 7:case"end":return _context126.stop();}}},_callee125);}));return function(_x147){return _ref152.apply(this,arguments);};}());}},{key:"refresh",value:function refresh(){var _this604=this;return new Promise(/*#__PURE__*/function(){var _ref153=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee126(t,e){var i,s,_iterator1093,_step1093,_loop25,_i1054,_s540,_t1589;return regeneratorRuntime.wrap(function _callee126$(_context127){while(1){switch(_context127.prev=_context127.next){case 0:_context127.prev=0;_context127.next=3;return app.getLocalFontsMetadata(!0);case 3:i=_context127.sent;_context127.next=9;break;case 6:_context127.prev=6;_context127.t0=_context127["catch"](0);return _context127.abrupt("return",e(_context127.t0));case 9:s=[];_iterator1093=_createForOfIteratorHelper(i);try{_loop25=function _loop25(){var t=_step1093.value;var e=s.find(function(e){return e.family===t.family;});if(e){var _i1055=t.weight+(t.italic?"i":"");!1===e.faces.includes(_i1055)&&e.faces.push(_i1055);}else{var _e1117={family:t.family,faces:[t.weight+(t.italic?"i":"")]};s.push(_e1117);}};for(_iterator1093.s();!(_step1093=_iterator1093.n()).done;){_loop25();}}catch(err){_iterator1093.e(err);}finally{_iterator1093.f();}for(_i1054=0,_s540=s;_i1054<_s540.length;_i1054++){_t1589=_s540[_i1054];_t1589.faces.sort();}_context127.next=15;return _this604.Ao.cache.clear();case 15:_context127.next=17;return _this604.Ao.cache.bulkPut(s);case 17:t();case 18:case"end":return _context127.stop();}}},_callee126,null,[[0,6]]);}));return function(_x148,_x149){return _ref153.apply(this,arguments);};}());}},{key:"getCacheSize",value:function getCacheSize(){var _this605=this;return new Promise(/*#__PURE__*/function(){var _ref154=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee127(t){return regeneratorRuntime.wrap(function _callee127$(_context128){while(1){switch(_context128.prev=_context128.next){case 0:_context128.t0=t;_context128.next=3;return _this605.Ao.cache.count();case 3:_context128.t1=_context128.sent;(0,_context128.t0)(_context128.t1);case 5:case"end":return _context128.stop();}}},_callee127);}));return function(_x150){return _ref154.apply(this,arguments);};}());}},{key:"getFamilyDescriptor",value:function getFamilyDescriptor(t){var _this606=this;return new Promise(/*#__PURE__*/function(){var _ref155=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee128(e){return regeneratorRuntime.wrap(function _callee128$(_context129){while(1){switch(_context129.prev=_context129.next){case 0:_context129.t0=e;_context129.next=3;return _this606.Ao.cache.where("family").equals(t).toArray();case 3:_context129.t1=_context129.sent[0];if(_context129.t1){_context129.next=6;break;}_context129.t1=null;case 6:_context129.t2=_context129.t1;(0,_context129.t0)(_context129.t2);case 8:case"end":return _context129.stop();}}},_callee128);}));return function(_x151){return _ref155.apply(this,arguments);};}());}},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref156=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee129(e){var i,s,n,o,_iterator1094,_step1094,_loop26,_i1056;return regeneratorRuntime.wrap(function _callee129$(_context131){while(1){switch(_context131.prev=_context131.next){case 0:_context131.next=2;return app.getLocalFontsMetadata();case 2:i=_context131.sent;mi(t);s=Wt(t),n=document.createDocumentFragment(),o=t.querySelectorAll("tspan");_iterator1094=_createForOfIteratorHelper(o);_context131.prev=6;_loop26=/*#__PURE__*/regeneratorRuntime.mark(function _loop26(){var e,o,l,a,h,r,d,c,_i1057,_o343,_i1058,_l288,_p55,_u46,_iterator1095,_step1095,_e1118,_iterator1096,_step1096,_t1590;return regeneratorRuntime.wrap(function _loop26$(_context130){while(1){switch(_context130.prev=_context130.next){case 0:e=_step1094.value;o=getComputedStyle(e),l=gh.fromString(o.fontFamily).items[0],a=parseFloat(o.getPropertyValue("font-size")),h=wh(o.getPropertyValue("font-weight")),r=o.getPropertyValue("font-style"),d=o.getPropertyValue("text-decoration"),c=Sh(i,l,h,r);if(!c){_context130.next=10;break;}_context130.next=5;return c.blob();case 5:_i1057=_context130.sent;_context130.next=8;return _i1057.arrayBuffer();case 8:_o343=_context130.sent;if(_o343){_i1058=fontkit.create(_o343);_i1058.fonts&&(_i1058=_i1058.fonts.find(function(t){return t.postscriptName===c.postscriptName;})||_i1058.fonts[0]);"700"===h&&c.weight;_l288=("italic"===r||"oblique"===r)&&!1===c.italic,_p55=Oi(e,_i1058,a,d,0,_l288),_u46=Ii("svg:path");_u46.setPathData(_p55),_u46.setAttribute("transform",s.toString());_iterator1095=_createForOfIteratorHelper(t.style);try{for(_iterator1095.s();!(_step1095=_iterator1095.n()).done;){_e1118=_step1095.value;!1===R.includes(_e1118)&&_u46.style.setProperty(_e1118,t.style.getPropertyValue(_e1118));}}catch(err){_iterator1095.e(err);}finally{_iterator1095.f();}_iterator1096=_createForOfIteratorHelper(e.style);try{for(_iterator1096.s();!(_step1096=_iterator1096.n()).done;){_t1590=_step1096.value;!1===R.includes(_t1590)&&_u46.style.setProperty(_t1590,e.style.getPropertyValue(_t1590));}}catch(err){_iterator1096.e(err);}finally{_iterator1096.f();}n.append(_u46);}case 10:case"end":return _context130.stop();}}},_loop26);});_iterator1094.s();case 9:if((_step1094=_iterator1094.n()).done){_context131.next=13;break;}return _context131.delegateYield(_loop26(),"t0",11);case 11:_context131.next=9;break;case 13:_context131.next=18;break;case 15:_context131.prev=15;_context131.t1=_context131["catch"](6);_iterator1094.e(_context131.t1);case 18:_context131.prev=18;_iterator1094.f();return _context131.finish(18);case 21:if(n.children.length>0){_i1056=_toConsumableArray(n.children);t.replaceWith(n),e(_i1056);}else e(null);case 22:case"end":return _context131.stop();}}},_callee129,null,[[6,15,18,21]]);}));return function(_x152){return _ref156.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){return new Promise(/*#__PURE__*/function(){var _ref157=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee130(e){var i,s,n,_iterator1097,_step1097,_e1120,_i1059,_n438,_t1591,_e1119,_n439;return regeneratorRuntime.wrap(function _callee130$(_context132){while(1){switch(_context132.prev=_context132.next){case 0:i=!0;_context132.next=3;return app.getLocalFontsMetadata();case 3:s=_context132.sent.map(function(t){return t.family;});n=[];_iterator1097=_createForOfIteratorHelper(vi(t));try{for(_iterator1097.s();!(_step1097=_iterator1097.n()).done;){_e1120=_step1097.value;n.includes(_e1120.parentElement)||n.push(_e1120.parentElement);}}catch(err){_iterator1097.e(err);}finally{_iterator1097.f();}_i1059=0,_n438=n;case 8:if(!(_i1059<_n438.length)){_context132.next=17;break;}_t1591=_n438[_i1059];_e1119=getComputedStyle(_t1591),_n439=gh.fromString(_e1119.fontFamily).items[0];if(!(!1===s.includes(_n439))){_context132.next=14;break;}i=!1;return _context132.abrupt("break",17);case 14:_i1059++;_context132.next=8;break;case 17:e(i);case 18:case"end":return _context132.stop();}}},_callee130);}));return function(_x153){return _ref157.apply(this,arguments);};}());}}]);return _class4;}())();var Jx,tb=function tb(){return void 0===Jx&&(Jx=!0===navigator.platform.startsWith("Mac")?"macos":-1!==["iPhone","iPad","iPod"].indexOf(navigator.platform)?"ios":-1!==["Win32","Win64","Windows","WinCE"].indexOf(navigator.platform)?"windows":/CrOS/.test(navigator.userAgent)?"chromeos":/Android/.test(navigator.userAgent)?"android":/Linux/.test(navigator.platform)?"linux":null),Jx;};var eb=/*#__PURE__*/function(_HTMLElement98){_inherits(eb,_HTMLElement98);var _super127=_createSuper(eb);_createClass(eb,[{key:"value",get:function get(){return this._t;},set:function set(t){t!==this._t&&(this._t=t,this.Om());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function eb(){var _this607;_classCallCheck(this,eb);_this607=_super127.call(this),_this607.tabIndex=0,_this607._t=null,_this607.eb=is(_this607.ib,600,_assertThisInitialized(_this607)),_this607.Em=is(_this607.Em,600,_assertThisInitialized(_this607)),_this607._shadowRoot=_this607.attachShadow({mode:"closed"}),_this607._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,eb._shadowStyleSheet],_this607._shadowRoot.append(document.importNode(eb._shadowTemplate.content,!0));var _iterator1098=_createForOfIteratorHelper(_this607._shadowRoot.querySelectorAll("[id]")),_step1098;try{for(_iterator1098.s();!(_step1098=_iterator1098.n()).done;){var _t1592=_step1098.value;_this607["#"+_t1592.id]=_t1592;}}catch(err){_iterator1098.e(err);}finally{_iterator1098.f();}_this607.addEventListener("keydown",function(t){return _this607.wn(t);}),_this607["#provider-buttons"].addEventListener("toggle",function(){return _this607.Tm();}),_this607["#main"].addEventListener("pointerdown",function(t){return _this607.Am(t);}),_this607["#placeholder"].addEventListener("pointerdown",function(t){return _this607.$m(t);}),_this607["#placeholder"].addEventListener("click",function(t){return _this607.Im(t);}),_this607["#filter-input"].addEventListener("input",function(){return _this607.Em();}),_this607["#manage-button"].addEventListener("click",function(){return _this607.Au();});return _this607;}_createClass(eb,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"tn",value:function(){var _tn3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee131(){return regeneratorRuntime.wrap(function _callee131$(_context133){while(1){switch(_context133.prev=_context133.next){case 0:this["#provider-buttons"].value="defs",this.Om();case 1:case"end":return _context133.stop();}}},_callee131,this);}));function tn(){return _tn3.apply(this,arguments);}return tn;}()},{key:"en",value:function en(){this["#filter-input"].value="",this["#defs-items"].innerHTML="",this["#local-items"].innerHTML="";}},{key:"Tm",value:function Tm(){this.Om(this["#provider-buttons"].value);}},{key:"Am",value:function Am(t){t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var e=t.target.closest(".item").getAttribute("data-family");e!==this.value&&(this.value=e,this.dispatchEvent(new CustomEvent("change")));}},{key:"$m",value:function $m(t){"refresh-anchor"===t.target.id&&t.preventDefault();}},{key:"Im",value:function(){var _Im=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee132(t){return regeneratorRuntime.wrap(function _callee132$(_context134){while(1){switch(_context134.prev=_context134.next){case 0:if(!("refresh-anchor"===t.target.id)){_context134.next=18;break;}t.preventDefault();_context134.prev=2;_context134.next=5;return Qx.refresh();case 5:_context134.next=17;break;case 7:_context134.prev=7;_context134.t0=_context134["catch"](2);if(!("AbortError"===_context134.t0.name)){_context134.next=13;break;}_context134.t1=void 0;_context134.next=16;break;case 13:_context134.next=15;return this.Qs.openMessageDialog({message:"Failed to refresh local fonts list",detail:"".concat(_context134.t0.message," (").concat(_context134.t0.name,")"),buttons:["OK"]});case 15:_context134.t1=void _context134.sent;case 16:return _context134.abrupt("return",_context134.t1);case 17:this.Om(this["#provider-buttons"].value);case 18:case"end":return _context134.stop();}}},_callee132,this,[[2,7]]);}));function Im(_x154){return _Im.apply(this,arguments);}return Im;}()},{key:"Em",value:function Em(){this.Om(this["#provider-buttons"].value);}},{key:"Au",value:function Au(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser");}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu());}},{key:"Nu",value:function Nu(){var t=this._shadowRoot.querySelector(".items:not([hidden]) .item[data-selected]");if(t)for(var _e1121=t.previousElementSibling;_e1121;_e1121=_e1121.previousElementSibling){if(!1===_e1121.hasAttribute("data-disabled")){_e1121.scrollIntoViewIfNeeded(),this.value=_e1121.getAttribute("data-family"),this.eb();break;}}}},{key:"Vu",value:function Vu(){var t=this._shadowRoot.querySelector(".items:not([hidden]) .item[data-selected]");if(t)for(var _e1122=t.nextElementSibling;_e1122;_e1122=_e1122.nextElementSibling){if(!1===_e1122.hasAttribute("data-disabled")){_e1122.scrollIntoViewIfNeeded(),this.value=_e1122.getAttribute("data-family"),this.eb();break;}}}},{key:"Eu",value:function Eu(){var t=this["#main"].querySelector(":scope > .items:not([hidden])"),e=t.querySelector(".item[data-selected]");t.scrollTop=0,e&&e.scrollIntoViewIfNeeded();}},{key:"ib",value:function ib(){this.dispatchEvent(new CustomEvent("change"));}},{key:"Om",value:function Om(){var _this608=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"auto";return new Promise(/*#__PURE__*/function(){var _ref158=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee133(e){var i,s,n,o,l,_this608$DefsItems$,_t1593,_e1123,_iterator1099,_step1099,_step1099$value,_i1060,_o344,_e1124,_t1594,_this608$LocalItems,_t1595,_e1125,_iterator1100,_step1100,_o345,_e1126,_l289,_a218;return regeneratorRuntime.wrap(function _callee133$(_context135){while(1){switch(_context135.prev=_context135.next){case 0:_context135.next=2;return _this608.Js.board.defsFontsManager.search();case 2:i=_context135.sent.map(function(t){return t.family;});s=_this608.value;n=i.includes(s)?"defs":"local";o="auto"===t?n:t;l=_this608["#filter-input"].value.trim().toLowerCase();if(!("defs"===o)){_context135.next=18;break;}_this608["#provider-buttons"].value="defs",_this608["#local-items"].hidden=!0,_this608["#placeholder"].hidden=!0,_this608["#manage-button"].hidden=!1;_t1593=document.createDocumentFragment();_context135.next=12;return _this608.Js.board.defsFontsManager.search(l);case 12:_e1123=_context135.sent;_iterator1099=_createForOfIteratorHelper(_e1123);try{for(_iterator1099.s();!(_step1099=_iterator1099.n()).done;){_step1099$value=_step1099.value,_i1060=_step1099$value.family,_o344=_step1099$value.embedded;_e1124=Qi(_templateObject22(),_i1060,_i1060,_i1060);_i1060===s&&"defs"===n&&_e1124.setAttribute("data-selected",""),_t1593.append(_e1124);}}catch(err){_iterator1099.e(err);}finally{_iterator1099.f();}_this608["#defs-items"].innerHTML="",_this608["#defs-items"].append(_t1593),_this608["#defs-items"].hidden=0===_this608["#defs-items"].childElementCount,(_this608$DefsItems$=_this608["#defs-items"].querySelector(".item[data-selected]"))!==null&&_this608$DefsItems$!==void 0&&_this608$DefsItems$.scrollIntoViewIfNeeded(),0===_this608["#defs-items"].childElementCount?(_this608["#placeholder"].textContent="No families found.",_this608["#placeholder"].hidden=!1):_this608["#placeholder"].hidden=!0;_context135.next=42;break;case 18:if(!("local"===o)){_context135.next=42;break;}_this608["#provider-buttons"].value="local",_this608["#defs-items"].hidden=!0,_this608["#local-items"].hidden=!1,_this608["#placeholder"].hidden=!0,_this608["#manage-button"].hidden=!0;_context135.next=22;return Qx.getCacheSize();case 22:_t1594=_context135.sent;if(!("bx-webapp"===_this608.Qs.localName)){_context135.next=30;break;}if(!(!1===_this608.Qs.isLocalFontsApiEnabled)){_context135.next=26;break;}return _context135.abrupt("return",(_this608["#local-items"].innerHTML="",_this608["#local-items"].hidden=!0,_this608["#placeholder"].hidden=!1,_this608["#placeholder"].innerHTML='Please enable Local Font Access API. <a href="https://boxy-svg.com/blog/15" target="_blank">Click here</a> for more details.',e()));case 26:if(!(0===_t1594)){_context135.next=28;break;}return _context135.abrupt("return",(_this608["#local-items"].innerHTML="",_this608["#local-items"].hidden=!0,_this608["#placeholder"].hidden=!1,_this608["#placeholder"].innerHTML='<a id="refresh-anchor" href="">Click here</a> to give Boxy SVG permission to use your local fonts.',e()));case 28:_context135.next=34;break;case 30:_context135.t0=0===_t1594;if(!_context135.t0){_context135.next=34;break;}_context135.next=34;return Qx.refresh();case 34:_t1595=document.createDocumentFragment();_context135.next=37;return Qx.search(l);case 37:_e1125=_context135.sent;_iterator1100=_createForOfIteratorHelper(_e1125);try{for(_iterator1100.s();!(_step1100=_iterator1100.n()).done;){_o345=_step1100.value.family;_e1126=_o345.startsWith("STIX")?"STIXGeneral":_o345,_l289=i.includes(_o345),_a218=Qi(_templateObject23(),_o345,_l289?"data-disabled":"",_e1126,_o345);_o345===s&&"local"===n&&_a218.setAttribute("data-selected",""),_t1595.append(_a218);}}catch(err){_iterator1100.e(err);}finally{_iterator1100.f();}_this608["#local-items"].innerHTML="",_this608["#local-items"].append(_t1595),_this608["#local-items"].hidden=0===_this608["#local-items"].childElementCount,(_this608$LocalItems=_this608["#local-items"].querySelector(".item[data-selected]"))===null||_this608$LocalItems===void 0?void 0:_this608$LocalItems.scrollIntoViewIfNeeded();0===_this608["#local-items"].childElementCount?(_this608["#placeholder"].textContent="No families found.",_this608["#placeholder"].hidden=!1):_this608["#placeholder"].hidden=!0;case 42:e();case 43:case"end":return _context135.stop();}}},_callee133);}));return function(_x155){return _ref158.apply(this,arguments);};}());}}]);return eb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(eb,"observedAttributes",["enabled"]);_defineProperty(eb,"_shadowTemplate",Qi(_templateObject320(),tb()));_defineProperty(eb,"_shadowStyleSheet",Ji(_templateObject321()));customElements.define("bx-fontfamilypicker",eb);var ib=Math.abs,sb=Number.parseFloat;var nb=/*#__PURE__*/function(_HTMLElement99){_inherits(nb,_HTMLElement99);var _super128=_createSuper(nb);_createClass(nb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nb(){var _this609;_classCallCheck(this,nb);_this609=_super128.call(this),_this609.Dh=es(_this609.qs,200,_assertThisInitialized(_this609)),_this609.Rm=!1,_this609.Bm=!1,_this609.Gm=!1,_this609.Um=!1,_this609.Fm=!1,_this609.Nm=!1,_this609._shadowRoot=_this609.attachShadow({mode:"closed"}),_this609._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,nb._shadowStyleSheet],_this609._shadowRoot.append(document.importNode(nb._shadowTemplate.content,!0));var _iterator1101=_createForOfIteratorHelper(_this609._shadowRoot.querySelectorAll("[id]")),_step1101;try{for(_iterator1101.s();!(_step1101=_iterator1101.n()).done;){var _t1596=_step1101.value;_this609["#"+_t1596.id]=_t1596;}}catch(err){_iterator1101.e(err);}finally{_iterator1101.f();}_this609["#font-family-popover"].addEventListener("open",function(){return _this609.Vm();}),_this609["#font-family-popover"].addEventListener("close",function(){return _this609.jm();}),_this609["#font-family-picker"].addEventListener("change",function(){return _this609.Hm();}),_this609["#font-weight-select"].addEventListener("change",function(){return _this609.Wm();}),_this609["#font-style-button"].addEventListener("toggle",function(){return _this609.Ym();}),_this609["#font-size-box"].addEventListener("changestart",function(){return _this609.qm();}),_this609["#text-decoration-buttons"].addEventListener("toggle",function(t){return _this609.Xm(t);}),_this609["#text-transform-buttons"].addEventListener("toggle",function(t){return _this609.Zm(t);}),_this609["#text-anchor-buttons"].addEventListener("toggle",function(){return _this609.Km();}),_this609["#text-on-path-button"].addEventListener("toggle",function(){return _this609.Qm();}),_this609["#path-start-offset-slider"].addEventListener("changestart",function(){return _this609.Jm();}),_this609["#path-start-offset-input"].addEventListener("changestart",function(){return _this609.Jm();}),_this609["#letter-spacing-slider"].addEventListener("changestart",function(){return _this609.tg();}),_this609["#letter-spacing-input"].addEventListener("changestart",function(){return _this609.tg();}),_this609["#word-spacing-slider"].addEventListener("changestart",function(){return _this609.eg();}),_this609["#word-spacing-input"].addEventListener("changestart",function(){return _this609.eg();}),_this609["#line-spacing-slider"].addEventListener("changestart",function(){return _this609.ig();}),_this609["#line-spacing-input"].addEventListener("changestart",function(){return _this609.ig();});return _this609;}_createClass(nb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.Iu=Gi(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this610=this;this.qs();var t=this.Js.board;this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px",this.Js.board.undoManager.addEventListener("undoorredo",this.sg=function(){_this610.Bc();}),t.addEventListener("selectedelementschange",this.il=function(){_this610.sl();}),t.addEventListener("selectedtextrangechange",this.Xa=function(){_this610.Za();}),t.addEventListener("workspacemutation",this.hn=function(t){_this610.al(t.detail);}),this.Iu.addEventListener("resize",this.Lu=function(){_this610.Ru();});}},{key:"en",value:function en(){var t=this.Js.board;this["#font-family-button"].collapse(),this.Js.board.undoManager.removeEventListener("undoorredo",this.sg),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("selectedtextrangechange",this.Xa),t.removeEventListener("workspacemutation",this.hn),this.Iu.removeEventListener("resize",this.Lu);}},{key:"Bc",value:function Bc(){this["#font-family-button"].collapse();}},{key:"sl",value:function sl(){this.Dh();}},{key:"Za",value:function Za(){this.Dh();}},{key:"al",value:function al(t){this.Dh();}},{key:"Ru",value:function Ru(){this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px";}},{key:"Vm",value:function(){var _Vm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee134(){return regeneratorRuntime.wrap(function _callee134$(_context136){while(1){switch(_context136.prev=_context136.next){case 0:this["#font-family-picker"].enabled=!0;_context136.next=3;return ns(10);case 3:this["#font-family-picker"].focus();case 4:case"end":return _context136.stop();}}},_callee134,this);}));function Vm(){return _Vm.apply(this,arguments);}return Vm;}()},{key:"jm",value:function(){var _jm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee135(){return regeneratorRuntime.wrap(function _callee135$(_context137){while(1){switch(_context137.prev=_context137.next){case 0:this["#font-family-picker"].enabled=!1;_context137.next=3;return ns(200);case 3:this.Js.board.collectGarbage();case 4:case"end":return _context137.stop();}}},_callee135,this);}));function jm(){return _jm.apply(this,arguments);}return jm;}()},{key:"Hm",value:function(){var _Hm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee136(){var t,_e1127,i,_iterator1102,_step1102,_s541,_e1128,_n440,_o346,_iterator1103,_step1103,_e1129;return regeneratorRuntime.wrap(function _callee136$(_context138){while(1){switch(_context138.prev=_context138.next){case 0:this.Js.board;t=this["#font-family-picker"].value;this.Rm=!0,this.Js.board.undoManager.checkpoint("Font family");_e1127=this.Vd(),i=this.Js.board.selectedTextRange;_iterator1102=_createForOfIteratorHelper(_e1127);try{for(_iterator1102.s();!(_step1102=_iterator1102.n()).done;){_s541=_step1102.value;mi(_s541,i);_e1128=_s541.querySelectorAll("tspan"),_n440=fi(i,_s541),_o346=_n440.length>0&&!i.collapsed?_n440:_e1128;_iterator1103=_createForOfIteratorHelper(_o346);try{for(_iterator1103.s();!(_step1103=_iterator1103.n()).done;){_e1129=_step1103.value;_e1129.style.fontFamily="\"".concat(t,"\"");}}catch(err){_iterator1103.e(err);}finally{_iterator1103.f();}gi(_s541,i);}}catch(err){_iterator1102.e(err);}finally{_iterator1102.f();}this.Rm=!1,this.ng();case 7:case"end":return _context138.stop();}}},_callee136,this);}));function Hm(){return _Hm.apply(this,arguments);}return Hm;}()},{key:"Wm",value:function Wm(){this.Js.board.undoManager.checkpoint("Font weight");var t=this.Vd(),e=this["#font-weight-select"].value,i=this.Js.board.selectedTextRange;var _iterator1104=_createForOfIteratorHelper(t),_step1104;try{for(_iterator1104.s();!(_step1104=_iterator1104.n()).done;){var _s542=_step1104.value;mi(_s542,i);var _t1597=_s542.querySelectorAll("tspan"),_n441=fi(i,_s542),_o347=_n441.length>0&&!i.collapsed?_n441:_t1597;var _iterator1105=_createForOfIteratorHelper(_o347),_step1105;try{for(_iterator1105.s();!(_step1105=_iterator1105.n()).done;){var _t1598=_step1105.value;_t1598.style.setProperty("font-weight",e);}}catch(err){_iterator1105.e(err);}finally{_iterator1105.f();}gi(_s542,i);}}catch(err){_iterator1104.e(err);}finally{_iterator1104.f();}}},{key:"Ym",value:function Ym(){this.Js.board.undoManager.checkpoint("Font style");var t=this.Vd(),e=this["#font-style-button"].toggled?"italic":"normal",i=this.Js.board.selectedTextRange;var _iterator1106=_createForOfIteratorHelper(t),_step1106;try{for(_iterator1106.s();!(_step1106=_iterator1106.n()).done;){var _s543=_step1106.value;mi(_s543,i);var _t1599=_s543.querySelectorAll("tspan"),_n442=fi(i,_s543),_o348=_n442.length>0&&!i.collapsed?_n442:_t1599;var _iterator1107=_createForOfIteratorHelper(_o348),_step1107;try{for(_iterator1107.s();!(_step1107=_iterator1107.n()).done;){var _t1600=_step1107.value;_t1600.style.setProperty("font-style",e);}}catch(err){_iterator1107.e(err);}finally{_iterator1107.f();}gi(_s543,i);}}catch(err){_iterator1106.e(err);}finally{_iterator1106.f();}}},{key:"qm",value:function qm(){var _this611=this;this.Js.board.undoManager.checkpoint("Font size");var t,_e1131,i=Symbol(),s=Symbol(),n=this.Vd(),o=this.Js.board.selectedTextRange;var _iterator1108=_createForOfIteratorHelper(n),_step1108;try{for(_iterator1108.s();!(_step1108=_iterator1108.n()).done;){var _t1605=_step1108.value;mi(_t1605,o);var _e1132=_t1605.querySelectorAll("tspan"),_n444=fi(o,_t1605),_l290=_n444.length>0&&!o.collapsed?_n444:_e1132;_t1605[i]=_l290,_t1605[s]=Wl(Yt(_t1605,this.Js.board.currentWorkspace).inverse()).scaleY;}}catch(err){_iterator1108.e(err);}finally{_iterator1108.f();}this.Bm=!0,this["#font-size-box"].addEventListener("change",t=function t(_t1603){_t1603.target===_this611["#font-size-slider"]?_this611["#font-size-input"].value=_this611["#font-size-slider"].value:_t1603.target===_this611["#font-size-input"]&&(_this611["#font-size-slider"].value=_this611["#font-size-input"].value),_this611["#font-size-input"].mixed=!1,_this611["#font-size-slider"].mixed=!1;var _iterator1109=_createForOfIteratorHelper(n),_step1109;try{for(_iterator1109.s();!(_step1109=_iterator1109.n()).done;){var _t1601=_step1109.value;var _e1130=_t1601[i],_n443=_t1601[s],_o349=_this611["#font-size-input"].value*_n443;if(_e1130.length>0){var _iterator1110=_createForOfIteratorHelper(_e1130),_step1110;try{for(_iterator1110.s();!(_step1110=_iterator1110.n()).done;){var _t1602=_step1110.value;_t1602.style.setProperty("font-size",_o349);}}catch(err){_iterator1110.e(err);}finally{_iterator1110.f();}}else _t1601.style.setProperty("font-size",_o349);}}catch(err){_iterator1109.e(err);}finally{_iterator1109.f();}}),this["#font-size-box"].addEventListener("changeend",_e1131=function e(){_this611["#font-size-box"].removeEventListener("change",t),_this611["#font-size-box"].removeEventListener("changeend",_e1131);var _iterator1111=_createForOfIteratorHelper(n),_step1111;try{for(_iterator1111.s();!(_step1111=_iterator1111.n()).done;){var _t1604=_step1111.value;gi(_t1604,o);}}catch(err){_iterator1111.e(err);}finally{_iterator1111.f();}_this611.Bm=!1;});}},{key:"Xm",value:function Xm(t){this.Js.board.undoManager.checkpoint("Text decoration");var e=t.detail,i=this.Vd(),s=this.Js.board.selectedTextRange;var _iterator1112=_createForOfIteratorHelper(i),_step1112;try{for(_iterator1112.s();!(_step1112=_iterator1112.n()).done;){var _t1606=_step1112.value;mi(_t1606,s);var _i1061=[];if(s&&_t1606.contains(s.commonAncestorContainer)){var _e1133=_t1606.querySelectorAll("tspan"),_n445=fi(s,_t1606),_o350=s.collapsed?_e1133:_n445;_i1061.push.apply(_i1061,_toConsumableArray(_o350));}else _i1061.push(_t1606);for(var _i1063=0,_i1062=_i1061;_i1063<_i1062.length;_i1063++){var _t1607=_i1062[_i1063];var _i1064=getComputedStyle(_t1607).getPropertyValue("text-decoration"),_s544=_i1064.includes("underline"),_n446=_i1064.includes("line-through"),_o351=_i1064.includes("overline");"underline"===e.value?_s544=e.toggled:"line-through"===e.value?_n446=e.toggled:"overline"===e.value&&(_o351=e.toggled);var _l291=[];_s544&&_l291.push("underline"),_n446&&_l291.push("line-through"),_o351&&_l291.push("overline"),0===_l291.length?_t1607.style.removeProperty("text-decoration"):_t1607.style.setProperty("text-decoration",_l291.join(" "));}gi(_t1606,s);}}catch(err){_iterator1112.e(err);}finally{_iterator1112.f();}}},{key:"Zm",value:function Zm(t){this.Js.board.undoManager.checkpoint("Text transform");var e=this.Vd(),i=this["#text-transform-buttons"].value||"none",s=this.Js.board.selectedTextRange;var _iterator1113=_createForOfIteratorHelper(e),_step1113;try{for(_iterator1113.s();!(_step1113=_iterator1113.n()).done;){var _t1608=_step1113.value;mi(_t1608,s);var _e1134=_t1608.querySelectorAll("tspan"),_n447=fi(s,_t1608),_o352=_n447.length>0&&!s.collapsed?_n447:_e1134;var _iterator1114=_createForOfIteratorHelper(_o352),_step1114;try{for(_iterator1114.s();!(_step1114=_iterator1114.n()).done;){var _t1609=_step1114.value;_t1609.style.setProperty("text-transform",i);}}catch(err){_iterator1114.e(err);}finally{_iterator1114.f();}gi(_t1608,s);}}catch(err){_iterator1113.e(err);}finally{_iterator1113.f();}}},{key:"Km",value:function Km(){this.Js.board.undoManager.checkpoint("Text anchor");var t=this.Vd(),e=this["#text-anchor-buttons"].value||"start";var _iterator1115=_createForOfIteratorHelper(t),_step1115;try{for(_iterator1115.s();!(_step1115=_iterator1115.n()).done;){var i=_step1115.value;!1===(null!==i.querySelector("textPath"))&&(i.style.setProperty("text-anchor",e),Dp("text-anchor",i));}}catch(err){_iterator1115.e(err);}finally{_iterator1115.f();}}},{key:"Qm",value:function(){var _Qm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee137(){var t,e,i,_s545,_n448,_o353,_o354,_e1135,_i1065,_iterator1116,_step1116,_e1136,_i1066,_s546,_n449,_o355,_l292,_a219,_h172,_r110,_d87,_s547,_n450,_s548,_o356,_l293,_i1067,_o357,_l294,_a220,_h173,_c65,_p56,_Wl21,_u47;return regeneratorRuntime.wrap(function _callee137$(_context139){while(1){switch(_context139.prev=_context139.next){case 0:t=this.Js.board,e=!1,i=ss(function(){return t.undoManager.checkpoint("Put text on path");});if(!(2===t.outermostSelectedElements.length)){_context139.next=20;break;}_s545=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_n448=t.outermostSelectedElements.find(function(t){return g.includes(t.localName);});if(!(_s545&&_n448)){_context139.next=20;break;}if(!(null!==_s545.querySelector("textPath"))){_context139.next=8;break;}e=!1;_context139.next=20;break;case 8:if(!("path"===_n448.localName)){_context139.next=12;break;}e=!0;_context139.next=20;break;case 12:_o353=Hi(_n448).toLowerCase();_context139.next=15;return this.Qs.openMessageDialog({message:"Convert ".concat(_o353," to path?"),detail:"This shape must be converted to path before you put a text on it.",buttons:["Convert","Cancel"]});case 15:_context139.t0=_context139.sent;if(!(0!==_context139.t0)){_context139.next=18;break;}return _context139.abrupt("return",void(this["#text-on-path-button"].toggled=!this["#text-on-path-button"].toggled));case 18:_o354=_h(_n448,this.Js.board.geometryPrecision);i(),_n448.replaceWith(_o354),t.selectedElements=[_s545,_o354],e=!0;case 20:if(!(i(),e)){_context139.next=25;break;}_e1135=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_i1065=t.outermostSelectedElements.find(function(t){return"path"===t.localName;});!1===_i1065.hasAttribute("id")&&_i1065.setAttribute("id",this.Js.board.generateUniqueID("path")),_e1135.removeAttribute("transform"),_e1135.innerHTML="<textPath href=\"#".concat(_i1065.id,"\">").concat(_e1135.innerHTML,"</textPath>");_context139.next=59;break;case 25:_iterator1116=_createForOfIteratorHelper(this.Vd());_context139.prev=26;_iterator1116.s();case 28:if((_step1116=_iterator1116.n()).done){_context139.next=51;break;}_e1136=_step1116.value;_i1066=_e1136.querySelector("textPath");_s546=getComputedStyle(_e1136);_n449=sb(_s546.fontSize);_o355=gh.fromString(_s546.fontFamily).items[0];_l292=wh(_s546.fontWeight);_a219=_s546.fontStyle;_context139.next=38;return t.defsFontsManager.getMatchedFontFace(_o355,_l292,_a219);case 38:_h172=_context139.sent;if(!_h172){_context139.next=45;break;}_context139.next=42;return t.defsFontsManager.getFontFaceBaseline(_h172);case 42:_context139.t1=_context139.sent;_context139.next=46;break;case 45:_context139.t1=1;case 46:_r110=_context139.t1;_d87=Ei(_e1136);if(_i1066){_s547=_i1066.href.baseVal.trim(),_n450=_s547.length>1?_s547.substring(1):null;if(null!==_n450){_s548=t.workspaces.querySelector("#"+CSS.escape(_n450)),_o356=_d87.x,_l293=_d87.y+_d87.height*_r110;_s548.remove(),_e1136.innerHTML=_i1066.innerHTML,_e1136.setAttribute("x",_o356),_e1136.setAttribute("y",_l293);}}else{_i1067=Wt(_e1136),_o357=new DOMPoint(_d87.x,_d87.y+_d87.height*_r110),_l294=new DOMPoint(_d87.x+_d87.width/2,_d87.y),_a220=new DOMPoint(_d87.x+_d87.width,_d87.y+_d87.height*_r110);_o357=_o357.matrixTransform(_i1067),_l294=_l294.matrixTransform(_i1067),_a220=_a220.matrixTransform(_i1067);_h173="M ".concat(_o357.x," ").concat(_o357.y," Q ").concat(_l294.x," ").concat(_l294.y," ").concat(_a220.x," ").concat(_a220.y),_c65=t.generateUniqueID("text-path"),_p56=ts(_templateObject24(),_c65,_h173);t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_p56),"start"!==_s546.textAnchor&&(_e1136.style.setProperty("text-anchor","start"),Dp("text-anchor",_e1136)),_e1136.innerHTML="<textPath href=\"#".concat(_c65,"\">").concat(_e1136.innerHTML,"</textPath>");_Wl21=Wl(_i1067),_u47=_Wl21.scaleY;_e1136.style.fontSize=tt(_n449*_u47,2),_e1136.removeAttribute("transform"),_e1136.removeAttribute("x"),_e1136.removeAttribute("y");}case 49:_context139.next=28;break;case 51:_context139.next=56;break;case 53:_context139.prev=53;_context139.t2=_context139["catch"](26);_iterator1116.e(_context139.t2);case 56:_context139.prev=56;_iterator1116.f();return _context139.finish(56);case 59:t.selectedElements=_toConsumableArray(t.selectedElements);case 60:case"end":return _context139.stop();}}},_callee137,this,[[26,53,56,59]]);}));function Qm(){return _Qm.apply(this,arguments);}return Qm;}()},{key:"Jm",value:function Jm(){var _this612=this;var t,_e1137,i=this.Js.board,s=this.Vd().map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});i.undoManager.checkpoint("Text path start offset"),this.Gm=!0,this["#path-start-offset-box"].addEventListener("change",t=function t(_t1611){_t1611.target===_this612["#path-start-offset-slider"]?_this612["#path-start-offset-input"].value=_this612["#path-start-offset-slider"].value:_t1611.target===_this612["#path-start-offset-input"]&&(_this612["#path-start-offset-slider"].value=_this612["#path-start-offset-input"].value),_this612["#path-start-offset-slider"].mixed=!1,_this612["#path-start-offset-input"].mixed=!1;var _iterator1117=_createForOfIteratorHelper(s),_step1117;try{for(_iterator1117.s();!(_step1117=_iterator1117.n()).done;){var _t1610=_step1117.value;_t1610.startOffset.baseVal.value=_this612["#path-start-offset-input"].value;}}catch(err){_iterator1117.e(err);}finally{_iterator1117.f();}}),this["#path-start-offset-box"].addEventListener("changeend",_e1137=function e(){_this612["#path-start-offset-box"].removeEventListener("change",t),_this612["#path-start-offset-box"].removeEventListener("changeend",_e1137),_this612.Gm=!1;});}},{key:"tg",value:function tg(){var _this613=this;var t,_e1139,i=this.Js.board,s=this.Vd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Letter spacing");var _iterator1118=_createForOfIteratorHelper(s),_step1118;try{for(_iterator1118.s();!(_step1118=_iterator1118.n()).done;){var _t1616=_step1118.value;mi(_t1616,n);var _e1140=_t1616.querySelectorAll("tspan"),_i1068=fi(n,_t1616),_s549=_i1068.length>0&&!n.collapsed?_i1068:_e1140;_t1616[o]=_s549;}}catch(err){_iterator1118.e(err);}finally{_iterator1118.f();}this.Um=!0,this["#letter-spacing-box"].addEventListener("change",t=function t(_t1614){_t1614.target===_this613["#letter-spacing-slider"]?_this613["#letter-spacing-input"].value=_this613["#letter-spacing-slider"].value:_t1614.target===_this613["#letter-spacing-input"]&&(_this613["#letter-spacing-slider"].value=_this613["#letter-spacing-input"].value),_this613["#letter-spacing-slider"].mixed=!1,_this613["#letter-spacing-input"].mixed=!1;var _iterator1119=_createForOfIteratorHelper(s),_step1119;try{for(_iterator1119.s();!(_step1119=_iterator1119.n()).done;){var _t1612=_step1119.value;var _e1138=_t1612[o];if(_e1138.length>0){var _iterator1120=_createForOfIteratorHelper(_e1138),_step1120;try{for(_iterator1120.s();!(_step1120=_iterator1120.n()).done;){var _t1613=_step1120.value;_t1613.style.setProperty("letter-spacing",_this613["#letter-spacing-input"].value);}}catch(err){_iterator1120.e(err);}finally{_iterator1120.f();}}else _t1612.style.setProperty("letter-spacing",_this613["#letter-spacing-input"].value);}}catch(err){_iterator1119.e(err);}finally{_iterator1119.f();}}),this["#letter-spacing-box"].addEventListener("changeend",_e1139=function e(){_this613["#letter-spacing-box"].removeEventListener("change",t),_this613["#letter-spacing-box"].removeEventListener("changeend",_e1139);var _iterator1121=_createForOfIteratorHelper(s),_step1121;try{for(_iterator1121.s();!(_step1121=_iterator1121.n()).done;){var _t1615=_step1121.value;gi(_t1615,i.selectedTextRange);}}catch(err){_iterator1121.e(err);}finally{_iterator1121.f();}_this613.Um=!1;});}},{key:"eg",value:function eg(){var _this614=this;var t,_e1142,i=this.Js.board,s=this.Vd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Word spacing");var _iterator1122=_createForOfIteratorHelper(s),_step1122;try{for(_iterator1122.s();!(_step1122=_iterator1122.n()).done;){var _t1621=_step1122.value;mi(_t1621,n);var _e1143=_t1621.querySelectorAll("tspan"),_i1069=fi(n,_t1621),_s550=_i1069.length>0&&!n.collapsed?_i1069:_e1143;_t1621[o]=_s550;}}catch(err){_iterator1122.e(err);}finally{_iterator1122.f();}this.Fm=!0,this["#word-spacing-box"].addEventListener("change",t=function t(_t1619){_t1619.target===_this614["#word-spacing-slider"]?_this614["#word-spacing-input"].value=_this614["#word-spacing-slider"].value:_t1619.target===_this614["#word-spacing-input"]&&(_this614["#word-spacing-slider"].value=_this614["#word-spacing-input"].value),_this614["#word-spacing-slider"].mixed=!1,_this614["#word-spacing-input"].mixed=!1;var _iterator1123=_createForOfIteratorHelper(s),_step1123;try{for(_iterator1123.s();!(_step1123=_iterator1123.n()).done;){var _t1617=_step1123.value;var _e1141=_t1617[o];if(_e1141.length>0){var _iterator1124=_createForOfIteratorHelper(_e1141),_step1124;try{for(_iterator1124.s();!(_step1124=_iterator1124.n()).done;){var _t1618=_step1124.value;_t1618.style.setProperty("word-spacing",_this614["#word-spacing-slider"].value);}}catch(err){_iterator1124.e(err);}finally{_iterator1124.f();}}else _t1617.style.setProperty("word-spacing",_this614["#word-spacing-slider"].value);}}catch(err){_iterator1123.e(err);}finally{_iterator1123.f();}}),this["#word-spacing-box"].addEventListener("changeend",_e1142=function e(){_this614["#word-spacing-box"].removeEventListener("change",t),_this614["#word-spacing-box"].removeEventListener("changeend",_e1142);var _iterator1125=_createForOfIteratorHelper(s),_step1125;try{for(_iterator1125.s();!(_step1125=_iterator1125.n()).done;){var _t1620=_step1125.value;gi(_t1620,i.selectedTextRange);}}catch(err){_iterator1125.e(err);}finally{_iterator1125.f();}_this614.Fm=!1;});}},{key:"ig",value:function ig(){var _this615=this;var t,_e1145,i=this.Js.board,s=this.Vd(),n=(i.selectedTextRange,Symbol());i.undoManager.checkpoint("Line spacing");var _iterator1126=_createForOfIteratorHelper(s),_step1126;try{for(_iterator1126.s();!(_step1126=_iterator1126.n()).done;){var _t1624=_step1126.value;_t1624[n]=[];var _iterator1129=_createForOfIteratorHelper(_t1624.querySelectorAll("tspan")),_step1129;try{for(_iterator1129.s();!(_step1129=_iterator1129.n()).done;){var _e1146=_step1129.value;_i(_e1146)&&_t1624[n].push(_e1146);}}catch(err){_iterator1129.e(err);}finally{_iterator1129.f();}}}catch(err){_iterator1126.e(err);}finally{_iterator1126.f();}this.Nm=!0,this["#line-spacing-box"].addEventListener("change",t=function t(_t1623){_t1623.target===_this615["#line-spacing-slider"]?_this615["#line-spacing-input"].value=_this615["#line-spacing-slider"].value:_t1623.target===_this615["#line-spacing-input"]&&(_this615["#line-spacing-slider"].value=_this615["#line-spacing-input"].value),_this615["#line-spacing-slider"].mixed=!1,_this615["#line-spacing-input"].mixed=!1;var _iterator1127=_createForOfIteratorHelper(s),_step1127;try{for(_iterator1127.s();!(_step1127=_iterator1127.n()).done;){var _t1622=_step1127.value;var _iterator1128=_createForOfIteratorHelper(_t1622[n]),_step1128;try{for(_iterator1128.s();!(_step1128=_iterator1128.n()).done;){var _e1144=_step1128.value;_e1144.setAttribute("dy",_this615["#line-spacing-slider"].value+1+"em");}}catch(err){_iterator1128.e(err);}finally{_iterator1128.f();}}}catch(err){_iterator1127.e(err);}finally{_iterator1127.f();}}),this["#line-spacing-box"].addEventListener("changeend",_e1145=function e(){_this615["#line-spacing-box"].removeEventListener("change",t),_this615["#line-spacing-box"].removeEventListener("changeend",_e1145),_this615.Nm=!1;});}},{key:"qs",value:function(){var _qs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee139(){var _this616=this;var t,e,i,s,_n451,_iterator1130,_step1130,_s551,_i1070,_iterator1132,_step1132,_s552,_i1071,_iterator1133,_step1133,_e1147,_iterator1131,_step1131,_i1072,_e1148,_i1073,_n452,_t1625,_o358,_l295,_a221,_h174,_yield$_n,_yield$_n2,_r111,_d88,_c66,_p57,_Wl22,_u48,_x157,_b39,_m37,_g32,_f23,_iterator1134,_step1134,_t1626,_e1149,_i1074,_h175,_r112,_d89,_p58,_yield$_n3,_yield$_n4,_u49,_x158,_iterator1135,_step1135,_t1627,_e1150,_t1628,_i1075,_e1151,_n453,_o359,_l296,_iterator1136,_step1136,_t1629,_i1076,_e1152,_i1077,_t1630,_n454,_iterator1137,_step1137,_e1153,_i1078,_t1631,_e1154,_s553,_i1079,_s554,_iterator1138,_step1138,_t1632,_t1633,_e1155,_iterator1139,_step1139,_s555,_t1634,_t1635,_e1156,_i1080,_s556,_n455,_iterator1140,_step1140,_t1636,_e1157,_i1081,_t1637,_n456,_o360,_l297,_iterator1141,_step1141,_e1158,_i1082,_a222,_t1638,_t1639,_e1159,_s557,_t1640,_i1083,_iterator1142,_step1142,_e1160;return regeneratorRuntime.wrap(function _callee139$(_context141){while(1){switch(_context141.prev=_context141.next){case 0:t=[],e=[],i=this.Vd(),s=Symbol();_n451=this.Js.board.selectedTextRange;_iterator1130=_createForOfIteratorHelper(i);try{for(_iterator1130.s();!(_step1130=_iterator1130.n()).done;){_s551=_step1130.value;_i1070=vi(_s551);if(_n451&&_n451.intersectsNode(_s551)){"backward"===_n451.direction&&_i1070.reverse();_iterator1132=_createForOfIteratorHelper(_i1070);try{for(_iterator1132.s();!(_step1132=_iterator1132.n()).done;){_s552=_step1132.value;if(_n451.intersectsNode(_s552)){_i1071=_s552.closest("tspan, text");t.includes(_s552.parentElement)||t.push(_s552.parentElement),e.includes(_i1071)||e.push(_i1071);}}}catch(err){_iterator1132.e(err);}finally{_iterator1132.f();}}else{_iterator1133=_createForOfIteratorHelper(_i1070);try{for(_iterator1133.s();!(_step1133=_iterator1133.n()).done;){_e1147=_step1133.value;t.includes(_e1147.parentElement)||t.push(_e1147.parentElement);}}catch(err){_iterator1133.e(err);}finally{_iterator1133.f();}e.push(_s551);}}}catch(err){_iterator1130.e(err);}finally{_iterator1130.f();}_iterator1131=_createForOfIteratorHelper(new Set([].concat(t,e)));try{for(_iterator1131.s();!(_step1131=_iterator1131.n()).done;){_i1072=_step1131.value;_i1072[s]=getComputedStyle(_i1072);}}catch(err){_iterator1131.e(err);}finally{_iterator1131.f();}if(!(!1===this.Bm&&!1===this.Rm)){_context141.next=64;break;}_e1148=t[0],_i1073=t.slice(1),_n452=function _n452(t){return new Promise(/*#__PURE__*/function(){var _ref159=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee138(e){var i,s;return regeneratorRuntime.wrap(function _callee138$(_context140){while(1){switch(_context140.prev=_context140.next){case 0:_context140.next=2;return _this616.Js.board.defsFontsManager.getFontFamilyWeights(t);case 2:i=_context140.sent;s=[];0===i.length&&(i=["400","700"]),1===i.length&&"400"===i[0]&&(i.push("700"),s.push("700")),e([i,s]);case 5:case"end":return _context140.stop();}}},_callee138);}));return function(_x156){return _ref159.apply(this,arguments);};}());};if(!_e1148){_context141.next=63;break;}_t1625=_e1148[s];_o358=gh.fromString(_t1625.getPropertyValue("font-family")).items[0];_l295=It.fromString(_t1625.getPropertyValue("font-size")).value;_a221=(_t1625.getPropertyValue("font-variant"),_t1625.getPropertyValue("font-style"));_h174=wh(_t1625.getPropertyValue("font-weight"));_context141.next=16;return _n452(_o358);case 16:_yield$_n=_context141.sent;_yield$_n2=_slicedToArray(_yield$_n,2);_r111=_yield$_n2[0];_d88=_yield$_n2[1];_c66=yh(_h174,_r111);_p57=Yt(_e1148.closest("text"),this.Js.board.currentWorkspace);_Wl22=Wl(_p57);_u48=_Wl22.scaleY;_x157=tt(_l295*ib(_u48),2);_b39=!1;_m37=!1;_g32=!1;_f23=!1;_iterator1134=_createForOfIteratorHelper(_i1073);_context141.prev=30;_iterator1134.s();case 32:if((_step1134=_iterator1134.n()).done){_context141.next=49;break;}_t1626=_step1134.value;_e1149=_t1626[s];_i1074=_e1149.getPropertyValue("font-family");_h175=gh.fromString(_i1074).items[0];_r112=It.fromString(_e1149.getPropertyValue("font-size")).value;_d89=(_e1149.getPropertyValue("font-variant"),_e1149.getPropertyValue("font-style"));_p58=wh(_e1149.getPropertyValue("font-weight"));_context141.next=42;return _n452(_h175);case 42:_yield$_n3=_context141.sent;_yield$_n4=_slicedToArray(_yield$_n3,1);_u49=_yield$_n4[0];_x158=yh(_p58,_u49);_h175!==_o358&&(_b39=!0),_r112!==_l295&&(_m37=!0),_x158!==_c66&&(_g32=!0),_d89!==_a221&&(_f23=!0);case 47:_context141.next=32;break;case 49:_context141.next=54;break;case 51:_context141.prev=51;_context141.t0=_context141["catch"](30);_iterator1134.e(_context141.t0);case 54:_context141.prev=54;_iterator1134.f();return _context141.finish(54);case 57:this["#panel-heading"].disabled=!1,this["#font-section-heading"].disabled=!1,this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,this["#font-family-button"].mixed=_b39,this["#font-family-label"].textContent=_o358,this["#font-family-label"].style.fontFamily='"'+_o358+'"',this["#font-family-picker"].value=_o358;_iterator1135=_createForOfIteratorHelper(this["#font-weight-menu"].children);try{for(_iterator1135.s();!(_step1135=_iterator1135.n()).done;){_t1627=_step1135.value;if(_r111.includes(_t1627.value)){_e1150="".concat(_t1627.value," - ").concat(vh(_t1627.value));_d88.includes(_t1627.value)&&(_e1150+=" (synthesized)"),_t1627.firstElementChild.textContent=_e1150,_t1627.hidden=!1;}else _t1627.hidden=!0;}}catch(err){_iterator1135.e(err);}finally{_iterator1135.f();}this["#font-face-heading"].disabled=!1,this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=_c66,this["#font-weight-select"].mixed=_g32,this["#font-style-button"].toggled="italic"===_a221,this["#font-style-button"].mixed=_f23,this["#font-style-button"].disabled=!1,this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=_x157,this["#font-size-slider"].mixed=_m37,this["#font-size-input"].disabled=!1,this["#font-size-input"].value=_x157,this["#font-size-input"].mixed=_m37;_context141.next=64;break;case 63:this["#panel-heading"].disabled=!0,this["#font-section-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-family-label"].textContent="System",this["#font-family-label"].style.fontFamily=null,this["#font-family-picker"].value=null,this["#font-face-heading"].disabled=!0,this["#font-weight-select"].disabled=!0,this["#font-style-button"].disabled=!0,this["#font-style-button"].mixed=!1,this["#font-size-heading"].disabled=!0,this["#font-size-slider"].value=13,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,this["#font-size-input"].disabled=!0,this["#font-size-input"].value=13,this["#font-size-input"].mixed=!1;case 64:this["#text-section-heading"].disabled=0===i.length;_t1628=e[0],_i1075=e.slice(1);if(_t1628){_e1151=_t1628[s].getPropertyValue("text-decoration"),_n453=!1,_o359=!1,_l296=!1;_iterator1136=_createForOfIteratorHelper(_i1075);try{for(_iterator1136.s();!(_step1136=_iterator1136.n()).done;){_t1629=_step1136.value;_i1076=_t1629[s].getPropertyValue("text-decoration");_e1151!==_i1076&&(_e1151.includes("underline")!==_i1076.includes("underline")&&(_n453=!0),_e1151.includes("line-through")!==_i1076.includes("line-through")&&(_o359=!0),_e1151.includes("overline")!==_i1076.includes("overline")&&(_l296=!0));}}catch(err){_iterator1136.e(err);}finally{_iterator1136.f();}this["#text-decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=_n453,this["#underline-button"].toggled=_e1151.includes("underline"),this["#line-through-button"].disabled=!1,this["#line-through-button"].mixed=_o359,this["#line-through-button"].toggled=_e1151.includes("line-through"),this["#overline-button"].disabled=!1,this["#overline-button"].mixed=_l296,this["#overline-button"].toggled=_e1151.includes("overline");}else this["#text-decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,this["#underline-button"].mixed=!1,this["#underline-button"].toggled=!1,this["#line-through-button"].disabled=!0,this["#line-through-button"].mixed=!1,this["#line-through-button"].toggled=!1,this["#overline-button"].disabled=!0,this["#overline-button"].mixed=!1,this["#overline-button"].toggled=!1;_e1152=t[0],_i1077=t.slice(1);if(_e1152){_t1630=_e1152[s].getPropertyValue("text-transform"),_n454=!1;_iterator1137=_createForOfIteratorHelper(_i1077);try{for(_iterator1137.s();!(_step1137=_iterator1137.n()).done;){_e1153=_step1137.value;_e1153[s].getPropertyValue("text-transform")!==_t1630&&(_n454=!0);}}catch(err){_iterator1137.e(err);}finally{_iterator1137.f();}this["#text-transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,this["#capitalize-button"].mixed=_n454,this["#capitalize-button"].toggled="capitalize"===_t1630,this["#uppercase-button"].disabled=!1,this["#uppercase-button"].toggled="uppercase"===_t1630,this["#uppercase-button"].mixed=_n454,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].toggled="lowercase"===_t1630,this["#lowercase-button"].mixed=_n454;}else this["#text-transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,this["#capitalize-button"].toggled=!1,this["#capitalize-button"].mixed=!1,this["#uppercase-button"].disabled=!0,this["#uppercase-button"].toggled=!1,this["#uppercase-button"].mixed=!1,this["#lowercase-button"].disabled=!0,this["#lowercase-button"].toggled=!1,this["#lowercase-button"].mixed=!1;_i1078=_toArray(i),_t1631=_i1078[0],_e1154=_i1078.slice(1),_s553=i.filter(function(t){return null!==t.querySelector("textPath");});if(_t1631&&_s553.length<i.length){_i1079=getComputedStyle(_t1631).getPropertyValue("text-anchor"),_s554=!1;_iterator1138=_createForOfIteratorHelper(_e1154);try{for(_iterator1138.s();!(_step1138=_iterator1138.n()).done;){_t1632=_step1138.value;getComputedStyle(_t1632).getPropertyValue("text-anchor")!==_i1079&&(_s554=!0);}}catch(err){_iterator1138.e(err);}finally{_iterator1138.f();}this["#text-anchor-heading"].disabled=!1,this["#text-anchor-buttons"].value=_i1079,this["#start-text-anchor-button"].disabled=!1,this["#start-text-anchor-button"].mixed=_s554,this["#middle-text-anchor-button"].disabled=!1,this["#middle-text-anchor-button"].mixed=_s554,this["#end-text-anchor-button"].disabled=!1,this["#end-text-anchor-button"].mixed=_s554;}else this["#text-anchor-heading"].disabled=!0,this["#text-anchor-buttons"].value=null,this["#start-text-anchor-button"].disabled=!0,this["#start-text-anchor-button"].mixed=!1,this["#middle-text-anchor-button"].disabled=!0,this["#middle-text-anchor-button"].mixed=!1,this["#end-text-anchor-button"].disabled=!0,this["#end-text-anchor-button"].mixed=!1;if(this.Gm){_context141.next=99;break;}if(!(0===i.length)){_context141.next=76;break;}this["#text-on-path-button"].toggled=!1,this["#text-on-path-button"].disabled=!0;_context141.next=96;break;case 76:_t1633=!1,_e1155=null!==i[0].querySelector("textPath");_iterator1139=_createForOfIteratorHelper(i);_context141.prev=78;_iterator1139.s();case 80:if((_step1139=_iterator1139.n()).done){_context141.next=87;break;}_s555=_step1139.value;if(!(null!==_s555.querySelector("textPath")!==_e1155)){_context141.next=85;break;}_t1633=!0;return _context141.abrupt("break",87);case 85:_context141.next=80;break;case 87:_context141.next=92;break;case 89:_context141.prev=89;_context141.t1=_context141["catch"](78);_iterator1139.e(_context141.t1);case 92:_context141.prev=92;_iterator1139.f();return _context141.finish(92);case 95:this["#text-on-path-button"].toggled=_e1155,this["#text-on-path-button"].disabled=!1,this["#text-on-path-button"].mixed=_t1633;case 96:_t1634=i.map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});if(0===_t1634.length)this["#path-start-offset-heading"].disabled=!0,this["#path-start-offset-slider"].value=0,this["#path-start-offset-slider"].disabled=!0,this["#path-start-offset-input"].value=0,this["#path-start-offset-input"].disabled=!0;else{_t1635=_toArray(_t1634),_e1156=_t1635[0],_i1080=_t1635.slice(1),_s556=_e1156.startOffset.baseVal.value,_n455=!1;_iterator1140=_createForOfIteratorHelper(_i1080);try{for(_iterator1140.s();!(_step1140=_iterator1140.n()).done;){_t1636=_step1140.value;_t1636.startOffset.baseVal.value!==_s556&&(_n455=!0);}}catch(err){_iterator1140.e(err);}finally{_iterator1140.f();}this["#path-start-offset-heading"].disabled=!1,this["#path-start-offset-slider"].value=_s556,this["#path-start-offset-slider"].disabled=!1,this["#path-start-offset-slider"].mixed=_n455,this["#path-start-offset-input"].value=_s556,this["#path-start-offset-input"].disabled=!1,this["#path-start-offset-input"].mixed=_n455;}this["#path-section-heading"].disabled=this["#text-on-path-button"].disabled&&this["#path-start-offset-heading"].disabled;case 99:if(!(!this.Um&&!this.Fm&&!this.Nm)){_context141.next=128;break;}_e1157=t[0],_i1081=t.slice(1);if(_e1157){_t1637=_e1157[s].getPropertyValue("letter-spacing"),_n456=_e1157[s].getPropertyValue("word-spacing");_t1637="normal"===_t1637?0:sb(_t1637),_n456="normal"===_n456?0:sb(_n456);_o360=!1,_l297=!1;_iterator1141=_createForOfIteratorHelper(_i1081);try{for(_iterator1141.s();!(_step1141=_iterator1141.n()).done;){_e1158=_step1141.value;_i1082=_e1158[s].getPropertyValue("letter-spacing"),_a222=_e1158[s].getPropertyValue("word-spacing");_i1082="normal"===_i1082?0:sb(_i1082),_a222="normal"===_a222?0:sb(_a222),_i1082!==_t1637&&(_o360=!0),_a222!==_n456&&(_l297=!0);}}catch(err){_iterator1141.e(err);}finally{_iterator1141.f();}this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=tt(_t1637,2),this["#letter-spacing-slider"].mixed=_o360,this["#letter-spacing-slider"].disabled=!1,this["#letter-spacing-input"].value=tt(_t1637,2),this["#letter-spacing-input"].mixed=_o360,this["#letter-spacing-input"].disabled=!1,this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=tt(_n456,2),this["#word-spacing-slider"].mixed=_l297,this["#word-spacing-slider"].disabled=!1,this["#word-spacing-input"].value=tt(_n456,2),this["#word-spacing-input"].mixed=_l297,this["#word-spacing-input"].disabled=!1;}else this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,this["#letter-spacing-input"].value=0,this["#letter-spacing-input"].mixed=!1,this["#letter-spacing-input"].disabled=!0,this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,this["#word-spacing-slider"].disabled=!0,this["#word-spacing-input"].value=0,this["#word-spacing-input"].mixed=!1,this["#word-spacing-input"].disabled=!0;_t1638=i.filter(function(t){return Ci(t);}),_t1639=_toArray(_t1638),_e1159=_t1639[0],_s557=_t1639.slice(1);if(!_e1159){_context141.next=126;break;}_t1640=Mi(_e1159),_i1083=!1;_iterator1142=_createForOfIteratorHelper(_s557);_context141.prev=106;_iterator1142.s();case 108:if((_step1142=_iterator1142.n()).done){_context141.next=115;break;}_e1160=_step1142.value;if(!(Mi(_e1160)!==_t1640)){_context141.next=113;break;}_i1083=!0;return _context141.abrupt("break",115);case 113:_context141.next=108;break;case 115:_context141.next=120;break;case 117:_context141.prev=117;_context141.t2=_context141["catch"](106);_iterator1142.e(_context141.t2);case 120:_context141.prev=120;_iterator1142.f();return _context141.finish(120);case 123:this["#line-spacing-heading"].disabled=!1,this["#line-spacing-slider"].value=_t1640,this["#line-spacing-slider"].mixed=_i1083,this["#line-spacing-slider"].disabled=!1,this["#line-spacing-input"].value=_t1640,this["#line-spacing-input"].mixed=_i1083,this["#line-spacing-input"].disabled=!1;_context141.next=127;break;case 126:this["#line-spacing-heading"].disabled=!0,this["#line-spacing-slider"].value=0,this["#line-spacing-slider"].mixed=!1,this["#line-spacing-slider"].disabled=!0,this["#line-spacing-input"].value=0,this["#line-spacing-input"].mixed=!1,this["#line-spacing-input"].disabled=!0;case 127:this["#spacing-section-heading"].disabled=this["#letter-spacing-heading"].disabled&&this["#word-spacing-heading"].disabled&&this["#line-spacing-heading"].disabled;case 128:case"end":return _context141.stop();}}},_callee139,this,[[30,51,54,57],[78,89,92,95],[106,117,120,123]]);}));function qs(){return _qs.apply(this,arguments);}return qs;}()},{key:"Vd",value:function Vd(){var t=[],e=function e(i){var _iterator1143=_createForOfIteratorHelper(i),_step1143;try{for(_iterator1143.s();!(_step1143=_iterator1143.n()).done;){var _s558=_step1143.value;"text"===_s558.localName?t.push(_s558):"g"!==_s558.localName&&"a"!==_s558.localName||e(_s558.children);}}catch(err){_iterator1143.e(err);}finally{_iterator1143.f();}};return e(this.Js.board.outermostSelectedElements),t;}},{key:"ng",value:function ng(){var _this617=this;return new Promise(/*#__PURE__*/function(){var _ref160=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee140(t){var e,i;return regeneratorRuntime.wrap(function _callee140$(_context142){while(1){switch(_context142.prev=_context142.next){case 0:e=function e(){_this617.Js.board.transformHud.enabled&&_this617.Js.board.transformHud.forceUpdate();},i=function i(){_this617.Js.board.textHud.enabled&&_this617.Js.board.textHud.forceUpdate();};_context142.next=3;return ns(400);case 3:e();i();_context142.next=7;return ns(400);case 7:e();i();_context142.next=11;return ns(400);case 11:e();i();_context142.next=15;return ns(400);case 15:e();i();t();case 18:case"end":return _context142.stop();}}},_callee140);}));return function(_x159){return _ref160.apply(this,arguments);};}());}}]);return nb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nb,"observedAttributes",["enabled"]);_defineProperty(nb,"_shadowTemplate",Qi(_templateObject322()));_defineProperty(nb,"_shadowStyleSheet",Ji(_templateObject323()));customElements.define("bx-typographypanel",nb);var ob=/*#__PURE__*/function(_HTMLElement100){_inherits(ob,_HTMLElement100);var _super129=_createSuper(ob);_createClass(ob,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ob(){var _this618;_classCallCheck(this,ob);_this618=_super129.call(this),_this618._shadowRoot=_this618.attachShadow({mode:"closed"}),_this618._shadowRoot.append(document.importNode(_this618.constructor._shadowTemplate.content,!0)),_this618._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ob._shadowStyleSheet,_this618.constructor._shadowStyleSheet];var _iterator1144=_createForOfIteratorHelper(_this618._shadowRoot.querySelectorAll("[id]")),_step1144;try{for(_iterator1144.s();!(_step1144=_iterator1144.n()).done;){var _t1641=_step1144.value;_this618["#"+_t1641.id]=_t1641;}}catch(err){_iterator1144.e(err);}finally{_iterator1144.f();}_this618.setAttribute("extends","bx-geometryinspector");return _this618;}_createClass(ob,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.og=Gi(this,"bx-geometrypanel");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){}},{key:"en",value:function en(){}}]);return ob;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ob,"observedAttributes",["enabled"]);_defineProperty(ob,"_shadowStyleSheet",Ji(_templateObject324()));var lb=Math.pow;var ab=/*#__PURE__*/function(_ob){_inherits(ab,_ob);var _super130=_createSuper(ab);function ab(){var _this619;_classCallCheck(this,ab);_this619=_super130.call(this),_this619.lg=!1,_this619.ag=!1,_this619.hg=!1,_this619.rg=!1,_this619.Dh=es(_this619.qs,200,_assertThisInitialized(_this619)),_this619["#base-thickness-section"].addEventListener("changestart",function(){return _this619.Zp();}),_this619["#head-thickness-section"].addEventListener("changestart",function(){return _this619.Kp();}),_this619["#head-length-section"].addEventListener("changestart",function(){return _this619.Qp();}),_this619["#head-inset-section"].addEventListener("changestart",function(){return _this619.Jp();}),_this619["#head-thickness-input"].validate=function(){return null;},_this619["#head-length-input"].validate=function(){return null;};return _this619;}_createClass(ab,[{key:"tn",value:function tn(){var _this620=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this620.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this620.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this620.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Zp",value:function Zp(){var _this621=this;var t,_e1161,i=this.Js.board,s=i.selectedElements[0],n=wl(s),o=i.geometryPrecision,_this$og=this.og,l=_this$og.displaySpace,a=_this$og.displayUnit,_Ll11=Ll.apply(void 0,_toConsumableArray(n.values)),h=_Ll11.minBaseThickness,r=_Ll11.maxBaseThickness,_n$values8=_slicedToArray(n.values,7),d=_n$values8[0],c=_n$values8[1],p=_n$values8[2],u=_n$values8[3],x=_n$values8[4],b=_n$values8[5],m=_n$values8[6],g=Qt("px",a),f=g.inverse(),w=Yt(s,i.vectorCanvas);"viewport"===l&&(w=Kt(i.currentWorkspace).multiply(w));var v=w.inverse();i.undoManager.checkpoint("Arrow base thickness"),this.lg=!0,this["#base-thickness-section"].addEventListener("change",t=function t(_t1642){_t1642.target===_this621["#base-thickness-slider"]?_this621["#base-thickness-input"].value=_this621["#base-thickness-slider"].value:_t1642.target===_this621["#base-thickness-input"]&&(_this621["#base-thickness-slider"].value=_this621["#base-thickness-input"].value);var e=new J(new DOMPoint(d,c+u/2),new DOMPoint(d,c));e=e.matrixTransform(w),e=e.matrixTransform(g),e.length=_t1642.target.value,e=e.matrixTransform(f),e=e.matrixTransform(v),x=et(e.length,h,r,o),_vl(s,{type:"arrow",values:[d,c,p,u,x,b,m]});}),this["#base-thickness-section"].addEventListener("changeend",_e1161=function e(){_this621["#base-thickness-section"].removeEventListener("change",t),_this621["#base-thickness-section"].removeEventListener("changeend",_e1161),_this621.lg=!1;});}},{key:"Kp",value:function Kp(){var _this622=this;var t,_e1162,i=this.Js.board,s=i.selectedElements[0],n=wl(s),o=i.geometryPrecision,_n$values9=_slicedToArray(n.values,7),l=_n$values9[0],a=_n$values9[1],h=_n$values9[2],r=_n$values9[3],d=_n$values9[4],c=_n$values9[5],p=_n$values9[6],u=a,x=r,b=Ll(l,a,h,r,d,c,p),m=Qt("px",this.og.displayUnit),g=m.inverse(),f=Yt(s,i.vectorCanvas);"viewport"===this.og.displaySpace&&(f=Kt(i.currentWorkspace).multiply(f));var w=f.inverse();i.undoManager.checkpoint("Arrow head thickness"),this.ag=!0,this["#head-thickness-section"].addEventListener("change",t=function t(_t1643){_t1643.target===_this622["#head-thickness-slider"]?_this622["#head-thickness-input"].value=_this622["#head-thickness-slider"].value:_t1643.target===_this622["#head-thickness-input"]&&(_this622["#head-thickness-slider"].value=_this622["#head-thickness-input"].value);var e=new J(new DOMPoint(l+h-c,a),new DOMPoint(l+h-c,a+1e3));e=e.matrixTransform(f),e=e.matrixTransform(m),e.length=_t1643.target.value,e=e.matrixTransform(g),e=e.matrixTransform(w),r=et(e.length,b.minHeadThickness,b.maxHeadThickness,o),a=tt(u-(r-x)/2,o),_vl(s,{type:"arrow",values:[l,a,h,r,d,c,p]});}),this["#head-thickness-section"].addEventListener("changeend",_e1162=function e(){_this622["#head-thickness-section"].removeEventListener("change",t),_this622["#head-thickness-section"].removeEventListener("changeend",_e1162),_this622.ag=!1;});}},{key:"Qp",value:function Qp(){var _this623=this;var t,_e1163,i=this.Js.board,s=i.selectedElements[0],n=wl(s),_Ll12=Ll.apply(void 0,_toConsumableArray(n.values)),o=_Ll12.minHeadLength,l=_Ll12.maxHeadLength,a=i.geometryPrecision,_n$values10=_slicedToArray(n.values,7),h=_n$values10[0],r=_n$values10[1],d=_n$values10[2],c=_n$values10[3],p=_n$values10[4],u=_n$values10[5],x=_n$values10[6],b=Qt("px",this.og.displayUnit),m=b.inverse(),g=Yt(s,i.vectorCanvas);"viewport"===this.og.displaySpace&&(g=Kt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head length"),this.hg=!0,this["#head-length-section"].addEventListener("change",t=function t(_t1644){_t1644.target===_this623["#head-length-slider"]?_this623["#head-length-input"].value=_this623["#head-length-slider"].value:_t1644.target===_this623["#head-length-input"]&&(_this623["#head-length-slider"].value=_this623["#head-length-input"].value);var e=new J(new DOMPoint(h+d-1e3,r+c/2),new DOMPoint(h+d,r+c/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1644.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),u=et(e.length,o,l,a),_vl(s,{type:"arrow",values:[h,r,d,c,p,u,x]});}),this["#head-length-section"].addEventListener("changeend",_e1163=function e(){_this623["#head-length-section"].removeEventListener("change",t),_this623["#head-length-section"].removeEventListener("changeend",_e1163),_this623.hg=!1;});}},{key:"Jp",value:function Jp(){var _this624=this;var t,_e1164,i=this.Js.board,s=i.selectedElements[0],n=wl(s),_Ll13=Ll.apply(void 0,_toConsumableArray(n.values)),o=_Ll13.minHeadInset,l=_Ll13.maxHeadInset,a=i.geometryPrecision,_n$values11=_slicedToArray(n.values,7),h=_n$values11[0],r=_n$values11[1],d=_n$values11[2],c=_n$values11[3],p=_n$values11[4],u=_n$values11[5],x=_n$values11[6],b=Qt("px",this.og.displayUnit),m=b.inverse(),g=Yt(s,i.vectorCanvas);"viewport"===this.og.displaySpace&&(g=Kt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head inset"),this.rg=!0,this["#head-inset-section"].addEventListener("change",t=function t(_t1645){_t1645.target===_this624["#head-inset-slider"]?_this624["#head-inset-input"].value=_this624["#head-inset-slider"].value:_t1645.target===_this624["#head-inset-input"]&&(_this624["#head-inset-slider"].value=_this624["#head-inset-input"].value);var e=new J(new DOMPoint(h+d-u,r+c/2-p/2),new DOMPoint(h+d-u+1e3,r+c/2-p/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1645.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),x=et(e.length,o,l,a),_vl(s,{type:"arrow",values:[h,r,d,c,p,u,x]});}),this["#head-inset-section"].addEventListener("changeend",_e1164=function e(){_this624["#head-inset-section"].removeEventListener("change",t),_this624["#head-inset-section"].removeEventListener("changeend",_e1164),_this624.rg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=null,s=null;if(1===e.length&&"path"===e[0].localName&&(i=e[0],s=wl(i)),s&&"arrow"===s.type){var _this$og2=this.og,_e1165=_this$og2.displayUnit,_n457=_this$og2.displaySpace,_o361=_this$og2.displayPrecision,_s$values12=_slicedToArray(s.values,7),_l298=_s$values12[0],_a223=_s$values12[1],_h176=_s$values12[2],_r113=_s$values12[3],_d90=_s$values12[4],_c67=_s$values12[5],_p59=_s$values12[6],_u50=Ll.apply(void 0,_toConsumableArray(s.values)),_x160=1/lb(10,_o361-1),_b40=_e1165?" "+_e1165:"",_m38=Yt(i,t.vectorCanvas),_g33=Qt("px",_e1165);if("viewport"===_n457&&(_m38=Kt(t.currentWorkspace).multiply(_m38)),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.lg){var _t1646=new J(new DOMPoint(_l298,_a223+_r113/2-_d90/2),new DOMPoint(_l298,_a223+_r113/2+_d90/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1166=new J(new DOMPoint(_l298,_a223+_r113/2-_u50.minBaseThickness/2),new DOMPoint(_l298,_a223+_r113/2+_u50.minBaseThickness/2)).matrixTransform(_m38).matrixTransform(_g33).length,_i1084=new J(new DOMPoint(_l298,_a223+_r113/2-_u50.maxBaseThickness/2),new DOMPoint(_l298,_a223+_r113/2+_u50.maxBaseThickness/2)).matrixTransform(_m38).matrixTransform(_g33).length;this["#base-thickness-slider"].min=tt(_e1166,_o361),this["#base-thickness-slider"].max=tt(_i1084,_o361),this["#base-thickness-slider"].value=tt(_t1646,_o361),this["#base-thickness-slider"].step=_x160,this["#base-thickness-input"].min=tt(_e1166,_o361),this["#base-thickness-input"].max=tt(_i1084,_o361),this["#base-thickness-input"].value=tt(_t1646,_o361),this["#base-thickness-input"].step=_x160,this["#base-thickness-input"].suffix=_b40;}if(!1===this.ag){var _t1647=new J(new DOMPoint(_l298+_h176-_c67,_a223),new DOMPoint(_l298+_h176-_c67,_a223+_r113)).matrixTransform(_m38).matrixTransform(_g33).length,_i1085=new J(new DOMPoint(0,0),new DOMPoint(0,_u50.minHeadThickness)).matrixTransform(_m38).matrixTransform(_g33).length,_s559=new It(_t1647,_e1165||"px");_s559=_s559.toLength("px"),_s559.value=Math.max(2*_s559.value,100),_s559=_s559.toLength(_e1165||"px"),this["#head-thickness-slider"].min=tt(_i1085,_o361),this["#head-thickness-slider"].max=tt(_s559.value,_o361),this["#head-thickness-slider"].value=tt(_t1647,_o361),this["#head-thickness-slider"].step=_x160,this["#head-thickness-input"].min=tt(_i1085,_o361),this["#head-thickness-input"].value=tt(_t1647,_o361),this["#head-thickness-input"].suffix=_b40,this["#head-thickness-input"].step=_x160;}if(!1===this.hg){var _t1648=new J(new DOMPoint(_l298+_h176-_c67,_a223+_r113/2),new DOMPoint(_l298+_h176,_a223+_r113/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1167=new J(new DOMPoint(0,0),new DOMPoint(_u50.minHeadLength,0)).matrixTransform(_m38).matrixTransform(_g33).length,_i1086=new J(new DOMPoint(0,0),new DOMPoint(_u50.maxHeadLength,0)).matrixTransform(_m38).matrixTransform(_g33).length;this["#head-length-slider"].min=tt(_e1167,_o361),this["#head-length-slider"].max=tt(_i1086,_o361),this["#head-length-slider"].value=tt(_t1648,_o361),this["#head-length-slider"].step=_x160,this["#head-length-input"].min=tt(_e1167,_o361),this["#head-length-input"].max=tt(_i1086,_o361),this["#head-length-input"].value=tt(_t1648,_o361),this["#head-length-input"].suffix=_b40,this["#head-length-input"].step=_x160;}if(!1===this.rg){var _t1649=new J(new DOMPoint(_l298+_h176-_c67,_a223+_r113/2-_d90/2),new DOMPoint(_l298+_h176-_c67+_p59,_a223+_r113/2-_d90/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1168=new J(new DOMPoint(_l298+_h176-_c67,_a223+_r113/2-_d90/2),new DOMPoint(_l298+_h176-_c67+_u50.minHeadInset,_a223+_r113/2-_d90/2)).matrixTransform(_m38).matrixTransform(_g33).length,_i1087=new J(new DOMPoint(_l298+_h176-_c67,_a223+_r113/2-_d90/2),new DOMPoint(_l298+_h176-_c67+_u50.maxHeadInset,_a223+_r113/2-_d90/2)).matrixTransform(_m38).matrixTransform(_g33).length;this["#head-inset-slider"].min=tt(_e1168,_o361),this["#head-inset-slider"].max=tt(_i1087,_o361),this["#head-inset-slider"].value=tt(_t1649,_o361),this["#head-inset-slider"].step=_x160,this["#head-inset-input"].min=0,this["#head-inset-input"].max=Infinity,this["#head-inset-input"].value=tt(_t1649,_o361),this["#head-inset-input"].step=_x160,this["#head-inset-input"].suffix=_b40;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return ab;}(ob);_defineProperty(ab,"_shadowTemplate",Qi(_templateObject325()));_defineProperty(ab,"_shadowStyleSheet",Ji(_templateObject326()));customElements.define("bx-arrowgeometryinspector",ab);var hb=Math.pow;var rb=/*#__PURE__*/function(_ob2){_inherits(rb,_ob2);var _super131=_createSuper(rb);function rb(){var _this625;_classCallCheck(this,rb);_this625=_super131.call(this),_this625.cg=!1,_this625.pg=!1,_this625.Dh=es(_this625.qs,200,_assertThisInitialized(_this625)),_this625["#dx-input"].addEventListener("changestart",function(t){return _this625.ug(t);}),_this625["#dy-input"].addEventListener("changestart",function(t){return _this625.ug(t);}),_this625["#rotation-box"].addEventListener("changestart",function(){return _this625.xg();});return _this625;}_createClass(rb,[{key:"tn",value:function tn(){var _this626=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this626.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this626.Dh();}),this.Js.board.charHud.addEventListener("selectedcharchange",this.bg=function(){_this626.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this626.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.charHud.removeEventListener("selectedcharchange",this.bg),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"ug",value:function ug(t){var _this627=this;var e,_i1089,s,n,o,l=this.Js.board,_this$og3=this.og,a=_this$og3.displaySpace,h=_this$og3.displayUnit,_l$charHud$selectedCh=l.charHud.selectedChar,r=_l$charHud$selectedCh.textElement,d=_l$charHud$selectedCh.charIndex,c=t.target,p=[],u=[];this.cg=!0,l.undoManager.checkpoint("Character delta"),mi(r);{var _t1650=0;var _iterator1145=_createForOfIteratorHelper(vi(r)),_step1145;try{for(_iterator1145.s();!(_step1145=_iterator1145.n()).done;){var _e1169=_step1145.value;var _i1088=0;var _iterator1146=_createForOfIteratorHelper(_e1169.textContent),_step1146;try{for(_iterator1146.s();!(_step1146=_iterator1146.n()).done;){var _l299=_step1146.value;if(_t1650===d){s=_e1169.parentNode,n=_e1169,o=_i1088;break;}_t1650+=1,_i1088+=1;}}catch(err){_iterator1146.e(err);}finally{_iterator1146.f();}if(s)break;}}catch(err){_iterator1145.e(err);}finally{_iterator1145.f();}}for(var _t1651=0;_t1651<n.textContent.length;_t1651+=1){p[_t1651]=void 0!==s.dx.baseVal[_t1651]?s.dx.baseVal[_t1651].value:0,u[_t1651]=void 0!==s.dy.baseVal[_t1651]?s.dy.baseVal[_t1651].value:0;}var x=Qt("px",h),b=x.inverse(),m=Yt(s,l.vectorCanvas);"viewport"===a&&(m=Kt(l.currentWorkspace).multiply(m));var g=m.inverse(),f=new DOMPoint(0,0);f=f.matrixTransform(m),f=f.matrixTransform(x),c.addEventListener("change",e=function e(t){var e=new DOMPoint(_this627["#dx-input"].value+f.x,_this627["#dy-input"].value+f.y).matrixTransform(b);e=e.matrixTransform(g),e=Oe(e,l.geometryPrecision),p[o]=e.x,u[o]=e.y,s.setAttribute("dx",p.join(" ")),s.setAttribute("dy",u.join(" "));}),c.addEventListener("changeend",_i1089=function i(){c.removeEventListener("change",e),c.removeEventListener("changeend",_i1089),gi(r),_this627.cg=!1;});}},{key:"xg",value:function xg(){var _this628=this;var t,_e1171,i,s,n,o=this.Js.board,_o$charHud$selectedCh=o.charHud.selectedChar,l=_o$charHud$selectedCh.textElement,a=_o$charHud$selectedCh.charIndex,h=[];this.pg=!0,o.undoManager.checkpoint("Character delta"),mi(l);{var _t1652=0;var _iterator1147=_createForOfIteratorHelper(vi(l)),_step1147;try{for(_iterator1147.s();!(_step1147=_iterator1147.n()).done;){var _e1170=_step1147.value;var _o362=0;var _iterator1148=_createForOfIteratorHelper(_e1170.textContent),_step1148;try{for(_iterator1148.s();!(_step1148=_iterator1148.n()).done;){var _l300=_step1148.value;if(_t1652===a){i=_e1170.parentNode,s=_e1170,n=_o362;break;}_t1652+=1,_o362+=1;}}catch(err){_iterator1148.e(err);}finally{_iterator1148.f();}if(i)break;}}catch(err){_iterator1147.e(err);}finally{_iterator1147.f();}for(var _t1653=0;_t1653<s.textContent.length;_t1653+=1){h[_t1653]=void 0!==i.rotate.baseVal[_t1653]?i.rotate.baseVal[_t1653].value:0;}}this["#rotation-box"].addEventListener("change",t=function t(_t1654){_t1654.target===_this628["#rotation-slider"]?_this628["#rotation-input"].value=_this628["#rotation-slider"].value:_t1654.target===_this628["#rotation-input"]&&(_this628["#rotation-slider"].value=_this628["#rotation-input"].value),_this628.Qs.modKeys.shift&&(_this628["#rotation-input"].value=Fe(_this628["#rotation-slider"].value,15),_this628["#rotation-slider"].value=_this628["#rotation-input"].value),h[n]=tt(_this628["#rotation-input"].value,o.geometryPrecision),i.setAttribute("rotate",h.join(" "));}),this["#rotation-box"].addEventListener("changeend",_e1171=function e(){_this628["#rotation-box"].removeEventListener("change",t),_this628["#rotation-box"].removeEventListener("changeend",_e1171),gi(l),_this628.pg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.cg&&!1===this.pg)if(t.charHud.selectedChar){var _t$charHud$selectedCh=t.charHud.selectedChar,_e1172=_t$charHud$selectedCh.textElement,i=_t$charHud$selectedCh.charIndex,_this$og4=this.og,_s560=_this$og4.displayUnit,_n458=_this$og4.displaySpace,_o363=_this$og4.displayPrecision,_l301=zi(_e1172),_a224=_l301.dx[i],_h177=_l301.dy[i],_r114=_l301.rotate[i],_d91=_s560?" "+_s560:"",_c68=1/hb(10,_o363-1),_p60=Qt("px",_s560),_u51=Yt(_e1172,t.vectorCanvas);"viewport"===_n458&&(_u51=Kt(t.currentWorkspace).multiply(_u51));var _x161=new DOMPoint(0,0);_x161=_x161.matrixTransform(_u51),_x161=_x161.matrixTransform(_p60);var _b41=new DOMPoint(_a224,_h177);_b41=_b41.matrixTransform(_u51),_b41=_b41.matrixTransform(_p60),_a224=_b41.x-_x161.x,_h177=_b41.y-_x161.y,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#dx-input"].value=tt(_a224,_o363),this["#dx-input"].suffix=_d91,this["#dx-input"].step=_c68,this["#dy-input"].value=tt(_h177,_o363),this["#dy-input"].suffix=_d91,this["#dy-input"].step=_c68,this["#rotation-input"].value=tt(_r114,1),this["#rotation-slider"].value=tt(_r114,1);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return rb;}(ob);_defineProperty(rb,"_shadowTemplate",Qi(_templateObject327()));_defineProperty(rb,"_shadowStyleSheet",Ji(_templateObject328()));customElements.define("bx-chargeometryinspector",rb);var db=Math.pow;var cb=/*#__PURE__*/function(_ob3){_inherits(cb,_ob3);var _super132=_createSuper(cb);function cb(){var _this629;_classCallCheck(this,cb);_this629=_super132.call(this),_this629.mg=!1,_this629.gg=!1,_this629.qb=!1,_this629.Dh=es(_this629.qs,200,_assertThisInitialized(_this629)),_this629["#cx-input"].addEventListener("changestart",function(){return _this629.fg();}),_this629["#cy-input"].addEventListener("changestart",function(){return _this629.wg();}),_this629["#radius-input"].addEventListener("changestart",function(){return _this629.vg();});return _this629;}_createClass(cb,[{key:"tn",value:function tn(){var _this630=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this630.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this630.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this630.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"fg",value:function fg(){var _this631=this;var t,_e1173,i=this.Js.board,s=i.selectedElements[0],_this$og5=this.og,n=_this$og5.displaySpace,o=_this$og5.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.vectorCanvas);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle center"),this.mg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1655){var e=new DOMPoint(_this631["#cx-input"].value,_this631["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Oe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1173=function e(){_this631["#cx-input"].removeEventListener("change",t),_this631["#cx-input"].removeEventListener("changeend",_e1173),_this631.mg=!1;});}},{key:"wg",value:function wg(){var _this632=this;var t,_e1174,i=this.Js.board,s=i.selectedElements[0],_this$og6=this.og,n=_this$og6.displaySpace,o=_this$og6.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.currentWorkspace);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle center"),this.gg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1656){var e=new DOMPoint(_this632["#cx-input"].value,_this632["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Oe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1174=function e(){_this632["#cy-input"].removeEventListener("change",t),_this632["#cy-input"].removeEventListener("changeend",_e1174),_this632.gg=!1;});}},{key:"vg",value:function vg(){var _this633=this;var t,_e1175,i=this.Js.board,s=i.selectedElements[0],_this$og7=this.og,n=_this$og7.displaySpace,o=_this$og7.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.currentWorkspace);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle radius"),this.qb=!0;var d=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);d=d.matrixTransform(h),d=d.matrixTransform(a);var c=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);c=c.matrixTransform(h),c=c.matrixTransform(a),this["#radius-input"].addEventListener("change",t=function t(_t1657){var e=new J(d,c);e.length=_this633["#radius-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r);var i=tt(e.length,l);s.setAttribute("r",i);}),this["#radius-input"].addEventListener("changeend",_e1175=function e(){_this633["#radius-input"].removeEventListener("change",t),_this633["#radius-input"].removeEventListener("changeend",_e1175),_this633.qb=!1;});}},{key:"qs",value:function qs(){if(!1===this.mg&&!1===this.gg&&!1===this.qb){var _t1658=this.Js.board,_e1176=_t1658.outermostSelectedElements;if(0===_e1176.length||"circle"!==_e1176[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$og8=this.og,i=_this$og8.displayUnit,_s561=_this$og8.displaySpace,_n459=_this$og8.displayPrecision,_o364=_e1176[0],_l302=Yt(_o364,_t1658.currentWorkspace),_a225=Qt("px",i),_h178=i?" "+i:"",_r115=1/db(10,_n459-1);"viewport"===_s561&&(_l302=Kt(_t1658.currentWorkspace).multiply(_l302));var _d92=new DOMPoint(_o364.cx.baseVal.value,_o364.cy.baseVal.value);_d92=_d92.matrixTransform(_l302),_d92=_d92.matrixTransform(_a225),_d92=Oe(_d92,_n459);var _c69=new DOMPoint(_o364.cx.baseVal.value+_o364.r.baseVal.value,_o364.cy.baseVal.value);_c69=_c69.matrixTransform(_l302),_c69=_c69.matrixTransform(_a225);var _p61=new J(_d92,_c69).length;_p61=tt(_p61,_n459),this["#cx-input"].value=_d92.x,this["#cx-input"].suffix=_h178,this["#cx-input"].step=_r115,this["#cy-input"].value=_d92.y,this["#cy-input"].suffix=_h178,this["#cy-input"].step=_r115,this["#radius-input"].value=_p61,this["#radius-input"].suffix=_h178,this["#radius-input"].step=_r115;}}}}]);return cb;}(ob);_defineProperty(cb,"_shadowTemplate",Qi(_templateObject329()));_defineProperty(cb,"_shadowStyleSheet",Ji(_templateObject330()));customElements.define("bx-circlegeometryinspector",cb);var pb=Math.pow;var ub=/*#__PURE__*/function(_ob4){_inherits(ub,_ob4);var _super133=_createSuper(ub);function ub(){var _this634;_classCallCheck(this,ub);_this634=_super133.call(this),_this634.mg=!1,_this634.gg=!1,_this634.yg=!1,_this634.kg=!1,_this634.Sg=!1,_this634._g=!1,_this634.Cg=!1,_this634.Dh=es(_this634.qs,200,_assertThisInitialized(_this634)),_this634["#cx-input"].addEventListener("changestart",function(){return _this634.fg();}),_this634["#cy-input"].addEventListener("changestart",function(){return _this634.wg();}),_this634["#r1-input"].addEventListener("changestart",function(){return _this634.Mg();}),_this634["#r2-input"].addEventListener("changestart",function(){return _this634.Pg();}),_this634["#r3-input"].addEventListener("changestart",function(){return _this634.Dg();}),_this634["#splay-section"].addEventListener("changestart",function(){return _this634.jp();}),_this634["#teeth-section"].addEventListener("changestart",function(){return _this634.Hp();});return _this634;}_createClass(ub,[{key:"tn",value:function tn(){var _this635=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this635.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this635.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this635.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"fg",value:function fg(){var _this636=this;var t,_e1177,i=this.Js.board,s=i.selectedElements[0],_wl$values44=_slicedToArray(wl(s).values,7),n=_wl$values44[0],o=_wl$values44[1],l=_wl$values44[2],a=_wl$values44[3],h=_wl$values44[4],r=_wl$values44[5],d=_wl$values44[6],_this$og9=this.og,c=_this$og9.displaySpace,p=_this$og9.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.vectorCanvas);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.mg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1659){var e=new DOMPoint(_this636["#cx-input"].value,_this636["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Oe(e,u),n=e.x,o=e.y,_vl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1177=function e(){_this636["#cx-input"].removeEventListener("change",t),_this636["#cx-input"].removeEventListener("changeend",_e1177),_this636.mg=!1;});}},{key:"wg",value:function wg(){var _this637=this;var t,_e1178,i=this.Js.board,s=i.selectedElements[0],_wl$values45=_slicedToArray(wl(s).values,7),n=_wl$values45[0],o=_wl$values45[1],l=_wl$values45[2],a=_wl$values45[3],h=_wl$values45[4],r=_wl$values45[5],d=_wl$values45[6],_this$og10=this.og,c=_this$og10.displaySpace,p=_this$og10.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.currentWorkspace);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.gg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1660){var e=new DOMPoint(_this637["#cx-input"].value,_this637["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Oe(e,u),n=e.x,o=e.y,_vl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1178=function e(){_this637["#cy-input"].removeEventListener("change",t),_this637["#cy-input"].removeEventListener("changeend",_e1178),_this637.gg=!1;});}},{key:"Mg",value:function Mg(){var _this638=this;var t,_e1179,i=this.Js.board,s=i.selectedElements[0],_wl$values46=_slicedToArray(wl(s).values,7),n=_wl$values46[0],o=_wl$values46[1],l=_wl$values46[2],a=_wl$values46[3],h=_wl$values46[4],r=_wl$values46[5],d=_wl$values46[6],_this$og11=this.og,c=_this$og11.displaySpace,p=_this$og11.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.currentWorkspace);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.yg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1-input"].addEventListener("change",t=function t(_t1661){var e=new J(g,f);e.length=_this638["#r1-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=tt(e.length,u),_vl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r1-input"].addEventListener("changeend",_e1179=function e(){_this638["#r1-input"].removeEventListener("change",t),_this638["#r1-input"].removeEventListener("changeend",_e1179),_this638.yg=!1;});}},{key:"Pg",value:function Pg(){var _this639=this;var t,_e1180,i=this.Js.board,s=i.selectedElements[0],_wl$values47=_slicedToArray(wl(s).values,7),n=_wl$values47[0],o=_wl$values47[1],l=_wl$values47[2],a=_wl$values47[3],h=_wl$values47[4],r=_wl$values47[5],d=_wl$values47[6],_this$og12=this.og,c=_this$og12.displaySpace,p=_this$og12.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.currentWorkspace);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.kg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2-input"].addEventListener("change",t=function t(_t1662){var e=new J(g,f);e.length=_this639["#r2-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=tt(e.length,u),_vl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r2-input"].addEventListener("changeend",_e1180=function e(){_this639["#r2-input"].removeEventListener("change",t),_this639["#r2-input"].removeEventListener("changeend",_e1180),_this639.kg=!1;});}},{key:"Dg",value:function Dg(){var _this640=this;var t,_e1181,i=this.Js.board,s=i.selectedElements[0],_wl$values48=_slicedToArray(wl(s).values,7),n=_wl$values48[0],o=_wl$values48[1],l=_wl$values48[2],a=_wl$values48[3],h=_wl$values48[4],r=_wl$values48[5],d=_wl$values48[6],_this$og13=this.og,c=_this$og13.displaySpace,p=_this$og13.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.currentWorkspace);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.Sg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r3-input"].addEventListener("change",t=function t(_t1663){var e=new J(g,f);e.length=_this640["#r3-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=tt(e.length,u),_vl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r3-input"].addEventListener("changeend",_e1181=function e(){_this640["#r3-input"].removeEventListener("change",t),_this640["#r3-input"].removeEventListener("changeend",_e1181),_this640.Sg=!1;});}},{key:"jp",value:function jp(){var _this641=this;var t,_e1182,i=this.Js.board,s=i.selectedElements[0],n=wl(s),o=i.geometryPrecision,_n$values12=_slicedToArray(n.values,7),l=_n$values12[0],a=_n$values12[1],h=_n$values12[2],r=_n$values12[3],d=_n$values12[4],c=_n$values12[5],p=_n$values12[6];i.undoManager.checkpoint("Cog splay"),this._g=!0,this["#splay-section"].addEventListener("change",t=function t(_t1664){_t1664.target===_this641["#splay-slider"]?_this641["#splay-input"].value=_this641["#splay-slider"].value:_t1664.target===_this641["#splay-input"]&&(_this641["#splay-slider"].value=_this641["#splay-input"].value),c=(100-_this641["#splay-input"].value)/100,c=tt(c,o),_vl(s,{type:"cog",values:[l,a,h,r,d,c,p]});}),this["#splay-section"].addEventListener("changeend",_e1182=function e(){_this641["#splay-section"].removeEventListener("change",t),_this641["#splay-section"].removeEventListener("changeend",_e1182),_this641._g=!1;});}},{key:"Hp",value:function Hp(){var _this642=this;var t,_e1183,i=this.Js.board,s=i.selectedElements[0],n=wl(s),_n$values13=_slicedToArray(n.values,7),o=_n$values13[0],l=_n$values13[1],a=_n$values13[2],h=_n$values13[3],r=_n$values13[4],d=_n$values13[5],c=_n$values13[6];i.undoManager.checkpoint("Cog teeth"),this.Cg=!0,this["#teeth-section"].addEventListener("change",t=function t(_t1665){_t1665.target===_this642["#teeth-slider"]?_this642["#teeth-input"].value=_this642["#teeth-slider"].value:_t1665.target===_this642["#teeth-input"]&&(_this642["#teeth-slider"].value=_this642["#teeth-input"].value),c=_this642["#teeth-input"].value,_vl(s,{type:"cog",values:[o,l,a,h,r,d,c]});}),this["#teeth-section"].addEventListener("changeend",_e1183=function e(){_this642["#teeth-section"].removeEventListener("change",t),_this642["#teeth-section"].removeEventListener("changeend",_e1183),_this642.Cg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=e[0],_s562=wl(i);if(_s562&&"cog"===_s562.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s562$values=_slicedToArray(_s562.values,7),_i1090=_s562$values[0],_n460=_s562$values[1],_o365=_s562$values[2],_l303=_s562$values[3],_a226=_s562$values[4],_h179=_s562$values[5],_r116=_s562$values[6],_this$og14=this.og,_d93=_this$og14.displayUnit,_c70=_this$og14.displaySpace,_p62=_this$og14.displayPrecision,_u52=e[0],_x162=Yt(_u52,t.currentWorkspace),_b42=Qt("px",_d93),_m39=_d93?" "+_d93:"",_g34=1/pb(10,_p62-1);"viewport"===_c70&&(_x162=Kt(t.currentWorkspace).multiply(_x162));var _f24=new DOMPoint(_i1090,_n460);if(_f24=_f24.matrixTransform(_x162),_f24=_f24.matrixTransform(_b42),_f24=Oe(_f24,_p62),!1===this.mg&&(this["#cx-input"].value=_f24.x,this["#cx-input"].suffix=_m39,this["#cx-input"].step=_g34),!1===this.gg&&(this["#cy-input"].value=_f24.y,this["#cy-input"].suffix=_m39,this["#cy-input"].step=_g34),!1===this.yg){var _t1666=new DOMPoint(_i1090+_o365,_n460);_t1666=_t1666.matrixTransform(_x162),_t1666=_t1666.matrixTransform(_b42),this["#r1-input"].value=tt(new J(_f24,_t1666).length,_p62),this["#r1-input"].suffix=_m39,this["#r1-input"].step=_g34;}if(!1===this.kg){var _t1667=new DOMPoint(_i1090+_l303,_n460);_t1667=_t1667.matrixTransform(_x162),_t1667=_t1667.matrixTransform(_b42),this["#r2-input"].value=tt(new J(_f24,_t1667).length,_p62),this["#r2-input"].suffix=_m39,this["#r2-input"].step=_g34;}if(!1===this.Sg){var _t1668=new DOMPoint(_i1090+_a226,_n460);_t1668=_t1668.matrixTransform(_x162),_t1668=_t1668.matrixTransform(_b42),this["#r3-input"].value=tt(new J(_f24,_t1668).length,_p62),this["#r3-input"].suffix=_m39,this["#r3-input"].step=_g34;}if(!1===this._g){var _t1669=tt(100-100*_h179,_p62);this["#splay-slider"].value=_t1669,this["#splay-input"].value=_t1669;}!1===this.Cg&&(this["#teeth-slider"].value=tt(_r116,0),this["#teeth-input"].value=tt(_r116,0));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return ub;}(ob);_defineProperty(ub,"_shadowTemplate",Qi(_templateObject331()));_defineProperty(ub,"_shadowStyleSheet",Ji(_templateObject332()));customElements.define("bx-coggeometryinspector",ub);var xb=Math.abs,bb=Math.min,mb=Math.pow;var gb=/*#__PURE__*/function(_ob5){_inherits(gb,_ob5);var _super134=_createSuper(gb);function gb(){var _this643;_classCallCheck(this,gb);_this643=_super134.call(this),_this643.mg=!1,_this643.gg=!1,_this643.zg=!1,_this643.Og=!1,_this643.Eg=!1,_this643.Dh=es(_this643.qs,200,_assertThisInitialized(_this643)),_this643["#cx-input"].addEventListener("changestart",function(){_this643.fg();}),_this643["#cy-input"].addEventListener("changestart",function(){_this643.wg();}),_this643["#horizontal-arm-thickness-input"].addEventListener("changestart",function(){_this643.Tg();}),_this643["#vertical-arm-thickness-input"].addEventListener("changestart",function(){_this643.Ag();}),_this643["#shift-section"].addEventListener("changestart",function(){_this643.Ip();}),_this643["#horizontal-arm-thickness-input"].validate=function(){return null;},_this643["#vertical-arm-thickness-input"].validate=function(){return null;},_this643["#shift-input"].validate=function(){return null;};return _this643;}_createClass(gb,[{key:"tn",value:function tn(){var _this644=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this644.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this644.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this644.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"fg",value:function fg(){var _this645=this;var t,_e1184,i=this.Js.board,s=i.selectedElements[0],_wl$values49=_slicedToArray(wl(s).values,7),n=_wl$values49[0],o=_wl$values49[1],l=_wl$values49[2],a=_wl$values49[3],h=_wl$values49[4],r=_wl$values49[5],d=_wl$values49[6],_this$og15=this.og,c=_this$og15.displaySpace,p=_this$og15.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.vectorCanvas);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.mg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1670){var e=new DOMPoint(_this645["#cx-input"].value,_this645["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Oe(e,u);var i=tt(e.x-l/2,u),n=tt(e.y-a*d,u);_vl(s,{type:"cross",values:[i,n,l,a,h,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1184=function e(){_this645["#cx-input"].removeEventListener("change",t),_this645["#cx-input"].removeEventListener("changeend",_e1184),_this645.mg=!1;});}},{key:"wg",value:function wg(){var _this646=this;var t,_e1185,i=this.Js.board,s=i.selectedElements[0],_wl$values50=_slicedToArray(wl(s).values,7),n=_wl$values50[0],o=_wl$values50[1],l=_wl$values50[2],a=_wl$values50[3],h=_wl$values50[4],r=_wl$values50[5],d=_wl$values50[6],_this$og16=this.og,c=_this$og16.displaySpace,p=_this$og16.displayUnit,u=i.geometryPrecision,x=Qt(p,"px"),b=Yt(s,i.currentWorkspace);"viewport"===c&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.gg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1671){var e=new DOMPoint(_this646["#cx-input"].value,_this646["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Oe(e,u);var i=tt(e.x-l/2,u),n=tt(e.y-a*d,u);_vl(s,{type:"cross",values:[i,n,l,a,h,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1185=function e(){_this646["#cy-input"].removeEventListener("change",t),_this646["#cy-input"].removeEventListener("changeend",_e1185),_this646.gg=!1;});}},{key:"Tg",value:function Tg(){var _this647=this;var t,_e1186,i=this.Js.board,s=i.selectedElements[0],n=wl(s),o=i.geometryPrecision,_n$values14=_slicedToArray(n.values,7),l=_n$values14[0],a=_n$values14[1],h=_n$values14[2],r=_n$values14[3],d=_n$values14[4],c=_n$values14[5],p=_n$values14[6],_this$og17=this.og,u=_this$og17.displaySpace,x=_this$og17.displayUnit,b=Qt(x,"px"),m=Qt("px",x),g=Yt(s,i.currentWorkspace);"viewport"===u&&(g=Kt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross horizontal arm thickness"),this.zg=!0,this["#horizontal-arm-thickness-input"].addEventListener("change",t=function t(_t1672){var e=new J(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this647["#horizontal-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),d=tt(e.length,o),_vl(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#horizontal-arm-thickness-input"].addEventListener("changeend",_e1186=function e(){_this647["#horizontal-arm-thickness-input"].removeEventListener("change",t),_this647["#horizontal-arm-thickness-input"].removeEventListener("changeend",_e1186),_this647.zg=!1;});}},{key:"Ag",value:function Ag(){var _this648=this;var t,_e1187,i=this.Js.board,s=i.selectedElements[0],n=wl(s),o=i.geometryPrecision,_n$values15=_slicedToArray(n.values,7),l=_n$values15[0],a=_n$values15[1],h=_n$values15[2],r=_n$values15[3],d=_n$values15[4],c=_n$values15[5],p=_n$values15[6],_this$og18=this.og,u=_this$og18.displaySpace,x=_this$og18.displayUnit,b=Qt(x,"px"),m=Qt("px",x),g=Yt(s,i.currentWorkspace);"viewport"===u&&(g=Kt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross vertical arm thickness"),this.Og=!0,this["#vertical-arm-thickness-input"].addEventListener("change",t=function t(_t1673){var e=new J(100,0);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this648["#vertical-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),c=tt(e.length,o),_vl(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#vertical-arm-thickness-input"].addEventListener("changeend",_e1187=function e(){_this648["#vertical-arm-thickness-input"].removeEventListener("change",t),_this648["#vertical-arm-thickness-input"].removeEventListener("changeend",_e1187),_this648.Og=!1;});}},{key:"Ip",value:function Ip(){var _this649=this;var t,_e1188,i=this.Js.board,s=i.selectedElements[0],n=wl(s),o=i.geometryPrecision,_n$values16=_slicedToArray(n.values,7),l=_n$values16[0],a=_n$values16[1],h=_n$values16[2],r=_n$values16[3],d=_n$values16[4],c=_n$values16[5],p=_n$values16[6],_this$og19=this.og,u=_this$og19.displaySpace,x=_this$og19.displayUnit,b=Qt(x,"px"),m=Qt("px",x),g=Yt(s,i.currentWorkspace);"viewport"===u&&(g=Kt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross shift"),this.Eg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1674){_t1674.target===_this649["#shift-slider"]?_this649["#shift-input"].value=_this649["#shift-slider"].value:_t1674.target===_this649["#shift-input"]&&(_this649["#shift-slider"].value=_this649["#shift-input"].value);var e=new J(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=xb(_this649["#shift-input"].value),e=e.matrixTransform(b),e=e.matrixTransform(f),p=e.length*(_this649["#shift-input"].value<0?-1:1),p=p/r+.5,p=tt(p,o),_vl(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#shift-section"].addEventListener("changeend",_e1188=function e(){_this649["#shift-section"].removeEventListener("change",t),_this649["#shift-section"].removeEventListener("changeend",_e1188),_this649.Eg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=e[0],_s563=wl(i);if(_s563&&"cross"===_s563.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s563$values=_slicedToArray(_s563.values,7),_i1091=_s563$values[0],_n461=_s563$values[1],_o366=_s563$values[2],_l304=_s563$values[3],_a227=_s563$values[4],_h180=_s563$values[5],_r117=_s563$values[6],_this$og20=this.og,_d94=_this$og20.displayUnit,_c71=_this$og20.displaySpace,_p63=_this$og20.displayPrecision,_u53=e[0],_x163=Yt(_u53,t.currentWorkspace),_b43=Qt("px",_d94),_m40=_d94?" "+_d94:"",_g35=1/mb(10,_p63-1);"viewport"===_c71&&(_x163=Kt(t.currentWorkspace).multiply(_x163));var _f25=new DOMPoint(_i1091+_o366/2,_n461+_l304*_r117);if(_f25=_f25.matrixTransform(_x163),_f25=_f25.matrixTransform(_b43),_f25=Oe(_f25,_p63),!1===this.mg&&(this["#cx-input"].value=_f25.x,this["#cx-input"].suffix=_m40,this["#cx-input"].step=_g35),!1===this.gg&&(this["#cy-input"].value=_f25.y,this["#cy-input"].suffix=_m40,this["#cy-input"].step=_g35),!1===this.zg){var _t1675=new J(0,_a227);_t1675=_t1675.matrixTransform(_x163),_t1675=_t1675.matrixTransform(_b43);var _e1189=new J(0,2*bb(_l304*_r117,_l304-_l304*_r117));_e1189=_e1189.matrixTransform(_x163),_e1189=_e1189.matrixTransform(_b43),this["#horizontal-arm-thickness-input"].max=tt(_e1189.length,_p63),this["#horizontal-arm-thickness-input"].value=tt(_t1675.length,_p63),this["#horizontal-arm-thickness-input"].step=_g35,this["#horizontal-arm-thickness-input"].suffix=_m40;}if(!1===this.Og){var _t1676=new J(_h180,0);_t1676=_t1676.matrixTransform(_x163),_t1676=_t1676.matrixTransform(_b43);var _e1190=new J(_o366,0);_e1190=_e1190.matrixTransform(_x163),_e1190=_e1190.matrixTransform(_b43),this["#vertical-arm-thickness-input"].max=tt(_e1190.length,_p63),this["#vertical-arm-thickness-input"].value=tt(_t1676.length,_p63),this["#vertical-arm-thickness-input"].step=_g35,this["#vertical-arm-thickness-input"].suffix=_m40;}if(!1===this.Eg){var _t1677=new J(0,(_r117-.5)*_l304);_t1677=_t1677.matrixTransform(_x163),_t1677=_t1677.matrixTransform(_b43);var _e1191=new J(0,_l304/2-_a227/2);_e1191=_e1191.matrixTransform(_x163),_e1191=_e1191.matrixTransform(_b43);var _i1092=tt(_t1677.length,_p63);_i1092*=_r117<.5?-1:1;var _s564=-tt(_e1191.length,_p63),_n462=tt(_e1191.length,_p63);this["#shift-slider"].min=_s564,this["#shift-slider"].max=_n462,this["#shift-slider"].step=_g35,this["#shift-slider"].value=_i1092,this["#shift-input"].min=_s564,this["#shift-input"].max=_n462,this["#shift-input"].step=_g35,this["#shift-input"].value=_i1092,this["#shift-input"].suffix=_m40;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return gb;}(ob);_defineProperty(gb,"_shadowTemplate",Qi(_templateObject333()));_defineProperty(gb,"_shadowStyleSheet",Ji(_templateObject334()));customElements.define("bx-crossgeometryinspector",gb);var fb=Math.pow;var wb=/*#__PURE__*/function(_ob6){_inherits(wb,_ob6);var _super135=_createSuper(wb);function wb(){var _this650;_classCallCheck(this,wb);_this650=_super135.call(this),_this650.mg=!1,_this650.gg=!1,_this650.$g=!1,_this650.Ig=!1,_this650.Dh=es(_this650.qs,200,_assertThisInitialized(_this650)),_this650["#cx-input"].addEventListener("changestart",function(){return _this650.fg();}),_this650["#cy-input"].addEventListener("changestart",function(){return _this650.wg();}),_this650["#rx-input"].addEventListener("changestart",function(){return _this650.Lg();}),_this650["#ry-input"].addEventListener("changestart",function(){return _this650.Rg();}),_this650["#aspect-ratio-button"].addEventListener("toggle",function(){return _this650.Bg();});return _this650;}_createClass(wb,[{key:"tn",value:function tn(){var _this651=this;this["#aspect-ratio-button"].toggled=app.getConfig("bx-ellipsegeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this651.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this651.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this651.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"fg",value:function fg(){var _this652=this;var t,_e1192,i=this.Js.board,s=i.selectedElements[0],_this$og21=this.og,n=_this$og21.displaySpace,o=_this$og21.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.vectorCanvas);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Ellipse center"),this.mg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1678){var e=new DOMPoint(_this652["#cx-input"].value,_this652["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Oe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1192=function e(){_this652["#cx-input"].removeEventListener("change",t),_this652["#cx-input"].removeEventListener("changeend",_e1192),_this652.mg=!1;});}},{key:"wg",value:function wg(){var _this653=this;var t,_e1193,i=this.Js.board,s=i.selectedElements[0],_this$og22=this.og,n=_this$og22.displaySpace,o=_this$og22.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.currentWorkspace);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Ellipse center"),this.gg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1679){var e=new DOMPoint(_this653["#cx-input"].value,_this653["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Oe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1193=function e(){_this653["#cy-input"].removeEventListener("change",t),_this653["#cy-input"].removeEventListener("changeend",_e1193),_this653.gg=!1;});}},{key:"Lg",value:function Lg(){var _this654=this;var t,_e1194,i=this.Js.board,s=i.selectedElements[0],_this$og23=this.og,n=_this$og23.displaySpace,o=_this$og23.displayUnit,l=i.geometryPrecision,a=this["#ry-input"].value/this["#rx-input"].value,h=Qt(o,"px"),r=Yt(s,i.currentWorkspace);"viewport"===n&&(r=Kt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius X"),this.$g=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(h);var p=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);p=p.matrixTransform(r),p=p.matrixTransform(h),this["#rx-input"].addEventListener("change",t=function t(_t1681){var e=new J(c,p);e.length=_this654["#rx-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(d);var i=tt(e.length,l);if(s.setAttribute("rx",i),_this654["#aspect-ratio-button"].toggled){var _t1680=tt(i*a,l);s.setAttribute("ry",_t1680);}}),this["#rx-input"].addEventListener("changeend",_e1194=function e(){_this654["#rx-input"].removeEventListener("change",t),_this654["#rx-input"].removeEventListener("changeend",_e1194),_this654.$g=!1;});}},{key:"Rg",value:function Rg(){var _this655=this;var t,_e1195,i=this.Js.board,s=i.selectedElements[0],_this$og24=this.og,n=_this$og24.displaySpace,o=_this$og24.displayUnit,l=i.geometryPrecision,a=this["#rx-input"].value/this["#ry-input"].value,h=Qt(o,"px"),r=Yt(s,i.currentWorkspace);"viewport"===n&&(r=Kt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius Y"),this.Ig=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(h);var p=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value+100);p=p.matrixTransform(r),p=p.matrixTransform(h),this["#ry-input"].addEventListener("change",t=function t(_t1683){var e=new J(c,p);e.length=_this655["#ry-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(d);var i=tt(e.length,l);if(s.setAttribute("ry",i),_this655["#aspect-ratio-button"].toggled){var _t1682=tt(i*a,l);s.setAttribute("rx",_t1682);}}),this["#ry-input"].addEventListener("changeend",_e1195=function e(){_this655["#ry-input"].removeEventListener("change",t),_this655["#ry-input"].removeEventListener("changeend",_e1195),_this655.Ig=!1;});}},{key:"Bg",value:function Bg(){this.Qs.setConfig("bx-ellipsegeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off";}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"ellipse"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$og25=this.og,i=_this$og25.displayUnit,_s565=_this$og25.displaySpace,_n463=_this$og25.displayPrecision,_o367=e[0],_l305=Yt(_o367,t.currentWorkspace),_a228=Qt("px",i),_h181=i?" "+i:"",_r118=1/fb(10,_n463-1);"viewport"===_s565&&(_l305=Kt(t.currentWorkspace).multiply(_l305));var _d95=new DOMPoint(_o367.cx.baseVal.value,_o367.cy.baseVal.value);_d95=_d95.matrixTransform(_l305),_d95=_d95.matrixTransform(_a228),_d95=Oe(_d95,_n463);var _c72=new DOMPoint(_o367.cx.baseVal.value+_o367.rx.baseVal.value,_o367.cy.baseVal.value);_c72=_c72.matrixTransform(_l305),_c72=_c72.matrixTransform(_a228);var _p64=new DOMPoint(_o367.cx.baseVal.value,_o367.cy.baseVal.value+_o367.ry.baseVal.value);_p64=_p64.matrixTransform(_l305),_p64=_p64.matrixTransform(_a228);var _u54=tt(new J(_d95,_c72).length,_n463),_x164=tt(new J(_d95,_p64).length,_n463);!1===this.mg&&(this["#cx-input"].value=_d95.x,this["#cx-input"].suffix=_h181,this["#cx-input"].step=_r118),!1===this.gg&&(this["#cy-input"].value=_d95.y,this["#cy-input"].suffix=_h181,this["#cy-input"].step=_r118),!1===this.$g&&(this["#rx-input"].value=_u54,this["#rx-input"].suffix=_h181,this["#rx-input"].step=_r118),!1===this.Ig&&(this["#ry-input"].value=_x164,this["#ry-input"].suffix=_h181,this["#ry-input"].step=_r118);}}}]);return wb;}(ob);_defineProperty(wb,"_shadowTemplate",Qi(_templateObject335()));_defineProperty(wb,"_shadowStyleSheet",Ji(_templateObject336()));customElements.define("bx-ellipsegeometryinspector",wb);var vb=Math.pow;var yb=/*#__PURE__*/function(_ob7){_inherits(yb,_ob7);var _super136=_createSuper(yb);function yb(){var _this656;_classCallCheck(this,yb);_this656=_super136.call(this),_this656.Gg=!1,_this656.Ug=!1,_this656.lb=!1,_this656.Fg=!1,_this656.Dh=es(_this656.qs,200,_assertThisInitialized(_this656)),_this656["#x-input"].addEventListener("changestart",function(){return _this656.Ng();}),_this656["#y-input"].addEventListener("changestart",function(){return _this656.Vg();}),_this656["#width-input"].addEventListener("changestart",function(){return _this656.jg();}),_this656["#height-input"].addEventListener("changestart",function(){return _this656.Hg();}),_this656["#aspect-ratio-button"].addEventListener("toggle",function(){return _this656.Bg();});return _this656;}_createClass(yb,[{key:"tn",value:function tn(){var _this657=this;this.qs(),this["#aspect-ratio-button"].toggled=this.Qs.getConfig("bx-gridgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this657.Dh();}),this.Js.board.gridHud.addEventListener("selectedchange",this.Wg=function(){_this657.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this657.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.gridHud.removeEventListener("selectedchange",this.Wg),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Ng",value:function Ng(){var _this658=this;var t,_e1196,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$og26=this.og,n=_this$og26.displaySpace,o=_this$og26.displayUnit,l=Qt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Kt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid X"),this.Gg=!0,this["#x-input"].addEventListener("change",t=function t(_t1684){var e=new DOMRect(_this658["#x-input"].value,_this658["#y-input"].value,_this658["#width-input"].value,_this658["#height-input"].value);e=He(e,l),e=He(e,a),s.setAttribute("x",tt(e.x,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1196=function e(){_this658["#x-input"].removeEventListener("change",t),_this658["#x-input"].removeEventListener("changeend",_e1196),_this658.Gg=!1;});}},{key:"Vg",value:function Vg(){var _this659=this;var t,_e1197,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$og27=this.og,n=_this$og27.displaySpace,o=_this$og27.displayUnit,l=Qt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Kt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid Y"),this.Ug=!0,this["#y-input"].addEventListener("change",t=function t(_t1685){var e=new DOMRect(_this659["#x-input"].value,_this659["#y-input"].value,_this659["#width-input"].value,_this659["#height-input"].value);e=He(e,l),e=He(e,a),s.setAttribute("y",tt(e.y,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1197=function e(){_this659["#y-input"].removeEventListener("change",t),_this659["#y-input"].removeEventListener("changeend",_e1197),_this659.Ug=!1;});}},{key:"jg",value:function jg(){var _this660=this;var t,_e1198,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#height-input"].value/this["#width-input"].value,_this$og28=this.og,o=_this$og28.displaySpace,l=_this$og28.displayUnit,a=_this$og28.displayPrecision,h=Qt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Kt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid width"),this.lb=!0,this["#width-input"].addEventListener("change",t=function t(_t1686){var e=new DOMRect(0,0,_this660["#width-input"].value,_this660["#height-input"].value);!1===_this660["#aspect-ratio-button"].toggled?(e=He(e,h),e=He(e,r),s.setAttribute("width",tt(e.width,i.geometryPrecision))):!0===_this660["#aspect-ratio-button"].toggled&&(e.height=e.width*n,_this660["#height-input"].value=tt(e.height,a),e=He(e,h),e=He(e,r),s.setAttribute("width",tt(e.width,i.geometryPrecision)),s.setAttribute("height",tt(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#width-input"].addEventListener("changeend",_e1198=function e(){_this660["#width-input"].removeEventListener("change",t),_this660["#width-input"].removeEventListener("changeend",_e1198),_this660.lb=!1;});}},{key:"Hg",value:function Hg(){var _this661=this;var t,_e1199,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#width-input"].value/this["#height-input"].value,_this$og29=this.og,o=_this$og29.displaySpace,l=_this$og29.displayUnit,a=_this$og29.displayPrecision,h=Qt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Kt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid height"),this.Fg=!0,this["#height-input"].addEventListener("change",t=function t(_t1687){var e=new DOMRect(0,0,_this661["#width-input"].value,_this661["#height-input"].value);!1===_this661["#aspect-ratio-button"].toggled?(e=He(e,h),e=He(e,r),s.setAttribute("height",tt(e.height,i.geometryPrecision))):!0===_this661["#aspect-ratio-button"].toggled&&(e.width=e.height*n,_this661["#width-input"].value=tt(e.width,a),e=He(e,h),e=He(e,r),s.setAttribute("width",tt(e.width,i.geometryPrecision)),s.setAttribute("height",tt(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#height-input"].addEventListener("changeend",_e1199=function e(){_this661["#height-input"].removeEventListener("change",t),_this661["#height-input"].removeEventListener("changeend",_e1199),_this661.Fg=!1;});}},{key:"Bg",value:function Bg(){this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gridgeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled);}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.Gg&&!1===this.Ug&&!1===this.lb&&!1===this.Fg)if(t.gridHud.enabled&&t.gridHud.selected){var _e1200=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),_this$og30=this.og,i=_this$og30.displayUnit,_s566=_this$og30.displaySpace,_n464=_this$og30.displayPrecision,_o368=i?" "+i:"",_l306=1/vb(10,_n464-1),_a229=Qt("px",i),_h182=new DOMMatrix();"viewport"===_s566&&(_h182=Kt(t.currentWorkspace).multiply(_h182));var _r119=new DOMRect(0,0,100,100);for(var _i1093=0,_arr42=["x","y","width","height"];_i1093<_arr42.length;_i1093++){var _t1688=_arr42[_i1093];_e1200&&_e1200.hasAttribute(_t1688)&&(_r119[_t1688]=Gp.fromString(_e1200.getAttribute(_t1688)).value);}_r119=He(_r119,_h182),_r119=He(_r119,_a229),_r119=je(_r119,_n464),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#x-input"].value=_r119.x,this["#x-input"].suffix=_o368,this["#x-input"].step=_l306,this["#y-input"].value=_r119.y,this["#y-input"].suffix=_o368,this["#y-input"].step=_l306,this["#width-input"].value=_r119.width,this["#width-input"].suffix=_o368,this["#width-input"].step=_l306,this["#height-input"].value=_r119.height,this["#height-input"].suffix=_o368,this["#height-input"].step=_l306;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return yb;}(ob);_defineProperty(yb,"_shadowTemplate",Qi(_templateObject337()));_defineProperty(yb,"_shadowStyleSheet",Ji(_templateObject338()));customElements.define("bx-gridgeometryinspector",yb);var kb=Math.pow;var Sb=/*#__PURE__*/function(_ob8){_inherits(Sb,_ob8);var _super137=_createSuper(Sb);function Sb(){var _this662;_classCallCheck(this,Sb);_this662=_super137.call(this),_this662.Gg=!1,_this662.Ug=!1,_this662.Dh=es(_this662.qs,200,_assertThisInitialized(_this662)),_this662["#x-input"].addEventListener("changestart",function(){return _this662.Ng();}),_this662["#y-input"].addEventListener("changestart",function(){return _this662.Vg();}),_this662["#orientation-buttons"].addEventListener("toggle",function(){return _this662.Kb();});return _this662;}_createClass(Sb,[{key:"tn",value:function tn(){var _this663=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this663.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this663.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this663.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Ng",value:function Ng(){var _this664=this;var t,_e1201,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$og31=this.og,n=_this$og31.displaySpace,o=_this$og31.displayUnit,l=Qt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Kt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide X"),this.Gg=!0,this["#x-input"].addEventListener("change",t=function t(_t1689){var e=new DOMPoint(_this664["#x-input"].value,_this664["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Oe(e,i.geometryPrecision),s.setAttribute("x",e.x),i.manualGuidesHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1201=function e(){_this664["#x-input"].removeEventListener("change",t),_this664["#x-input"].removeEventListener("changeend",_e1201),_this664.Gg=!1;});}},{key:"Vg",value:function Vg(){var _this665=this;var t,_e1202,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$og32=this.og,n=_this$og32.displaySpace,o=_this$og32.displayUnit,l=Qt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Kt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide Y"),this.Ug=!0,this["#y-input"].addEventListener("change",t=function t(_t1690){var e=new DOMPoint(_this665["#x-input"].value,_this665["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Oe(e,i.geometryPrecision),s.setAttribute("y",e.y),i.manualGuidesHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1202=function e(){_this665["#y-input"].removeEventListener("change",t),_this665["#y-input"].removeEventListener("changeend",_e1202),_this665.Ug=!1;});}},{key:"Kb",value:function Kb(){var t=this.Js.board,e=this["#orientation-buttons"].value,i=t.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(i.length>0){t.undoManager.checkpoint("Guide orientation");var _iterator1149=_createForOfIteratorHelper(i),_step1149;try{for(_iterator1149.s();!(_step1149=_iterator1149.n()).done;){var _t1691=_step1149.value;var _i1094=Gp.fromString(_t1691.getAttribute("angle")).value;"horizontal"===e?_i1094%180!=90&&_t1691.setAttribute("angle","90"):"vertical"===e&&_i1094%180!=0&&_t1691.setAttribute("angle","0");}}catch(err){_iterator1149.e(err);}finally{_iterator1149.f();}}}},{key:"qs",value:function qs(){if(!1===this.Gg&&!1===this.Ug){var _t1692=this.Js.board,_e1203=_t1692.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(0===_e1203.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$og33=this.og,i=_this$og33.displayUnit,_s567=_this$og33.displaySpace,_n465=_this$og33.displayPrecision,_o369=_e1203[0],_l307=Gp.fromString(_o369.getAttribute("angle")).value,_a230=i?" "+i:"",_h183=1/kb(10,_n465-1),_r120=Qt("px",i),_d96=new DOMMatrix();"viewport"===_s567&&(_d96=Kt(_t1692.currentWorkspace).multiply(_d96));var _c73=Gp.fromString(_o369.getAttribute("x")).value,_p65=Gp.fromString(_o369.getAttribute("y")).value,_u55=new DOMPoint(_c73,_p65);_u55=_u55.matrixTransform(_d96),_u55=_u55.matrixTransform(_r120),_u55=Oe(_u55,_n465),this["#x-input"].value=_u55.x,this["#x-input"].suffix=_a230,this["#x-input"].step=_h183,this["#y-input"].value=_u55.y,this["#y-input"].suffix=_a230,this["#y-input"].step=_h183,this["#orientation-buttons"].value=_l307%180==90?"horizontal":"vertical";}}}}]);return Sb;}(ob);_defineProperty(Sb,"_shadowTemplate",Qi(_templateObject339()));_defineProperty(Sb,"_shadowStyleSheet",Ji(_templateObject340()));customElements.define("bx-guidegeometryinspector",Sb);var _b=/*#__PURE__*/function(_ob9){_inherits(_b,_ob9);var _super138=_createSuper(_b);function _b(){var _this666;_classCallCheck(this,_b);_this666=_super138.call(this),_this666.Dh=es(_this666.qs,200,_assertThisInitialized(_this666));return _this666;}_createClass(_b,[{key:"tn",value:function tn(){var _this667=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this667.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this667.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"qs",value:function(){var _qs2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee141(){var t,_e1204,i,_s568;return regeneratorRuntime.wrap(function _callee141$(_context143){while(1){switch(_context143.prev=_context143.next){case 0:t=this.Js.board.outermostSelectedElements[0];if(!t){_context143.next=14;break;}if(!("image"===t.localName)){_context143.next=11;break;}_context143.next=5;return createImageBitmap(t);case 5:_e1204=_context143.sent;i=_e1204.width;_s568=_e1204.height;_e1204.close(),this["#natural-width-input"].value=i,this["#natural-height-input"].value=_s568,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));_context143.next=12;break;case 11:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 12:_context143.next=15;break;case 14:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 15:case"end":return _context143.stop();}}},_callee141,this);}));function qs(){return _qs2.apply(this,arguments);}return qs;}()}]);return _b;}(ob);_defineProperty(_b,"_shadowTemplate",Qi(_templateObject341()));_defineProperty(_b,"_shadowStyleSheet",Ji(_templateObject342()));customElements.define("bx-imagegeometryinspector",_b);var Cb=Math.pow;var Mb=/*#__PURE__*/function(_ob10){_inherits(Mb,_ob10);var _super139=_createSuper(Mb);function Mb(){var _this668;_classCallCheck(this,Mb);_this668=_super139.call(this),_this668.Yg=!1,_this668.qg=!1,_this668.Xg=!1,_this668.Zg=!1,_this668.Kg=!1,_this668.Dh=es(_this668.qs,200,_assertThisInitialized(_this668)),_this668["#x1-input"].addEventListener("changestart",function(){return _this668.Qg();}),_this668["#y1-input"].addEventListener("changestart",function(){return _this668.Jg();}),_this668["#x2-input"].addEventListener("changestart",function(){return _this668.tf();}),_this668["#y2-input"].addEventListener("changestart",function(){return _this668.ef();}),_this668["#length-input"].addEventListener("changestart",function(){return _this668["if"]();});return _this668;}_createClass(Mb,[{key:"tn",value:function tn(){var _this669=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this669.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this669.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this669.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Qg",value:function Qg(){var _this670=this;var t,_e1205,i=this.Js.board,s=i.selectedElements[0],_this$og34=this.og,n=_this$og34.displaySpace,o=_this$og34.displayUnit,l=Qt(o,"px"),a=Yt(s,i.vectorCanvas);"viewport"===n&&(a=Kt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line X1"),this.Yg=!0,this["#x1-input"].addEventListener("change",t=function t(_t1693){var e=new DOMPoint(_this670["#x1-input"].value,_this670["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Oe(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#x1-input"].addEventListener("changeend",_e1205=function e(){_this670["#x1-input"].removeEventListener("change",t),_this670["#x1-input"].removeEventListener("changeend",_e1205),_this670.Yg=!1;});}},{key:"Jg",value:function Jg(){var _this671=this;var t,_e1206,i=this.Js.board,s=i.selectedElements[0],_this$og35=this.og,n=_this$og35.displaySpace,o=_this$og35.displayUnit,l=Qt(o,"px"),a=Yt(s,i.vectorCanvas);"viewport"===n&&(a=Kt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line Y1"),this.qg=!0,this["#y1-input"].addEventListener("change",t=function t(_t1694){var e=new DOMPoint(_this671["#x1-input"].value,_this671["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Oe(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#y1-input"].addEventListener("changeend",_e1206=function e(){_this671["#y1-input"].removeEventListener("change",t),_this671["#y1-input"].removeEventListener("changeend",_e1206),_this671.qg=!1;});}},{key:"tf",value:function tf(){var _this672=this;var t,_e1207,i=this.Js.board,s=i.selectedElements[0],_this$og36=this.og,n=_this$og36.displaySpace,o=_this$og36.displayUnit,l=Qt(o,"px"),a=Yt(s,i.vectorCanvas);"viewport"===n&&(a=Kt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line X2"),this.Xg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1695){var e=new DOMPoint(_this672["#x2-input"].value,_this672["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Oe(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#x2-input"].addEventListener("changeend",_e1207=function e(){_this672["#x2-input"].removeEventListener("change",t),_this672["#x2-input"].removeEventListener("changeend",_e1207),_this672.Xg=!1;});}},{key:"ef",value:function ef(){var _this673=this;var t,_e1208,i=this.Js.board,s=i.selectedElements[0],_this$og37=this.og,n=_this$og37.displaySpace,o=_this$og37.displayUnit,l=Qt(o,"px"),a=Yt(s,i.vectorCanvas);"viewport"===n&&(a=Kt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line Y2"),this.Zg=!0,this["#y2-input"].addEventListener("change",t=function t(_t1696){var e=new DOMPoint(_this673["#x2-input"].value,_this673["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Oe(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#y2-input"].addEventListener("changeend",_e1208=function e(){_this673["#y2-input"].removeEventListener("change",t),_this673["#y2-input"].removeEventListener("changeend",_e1208),_this673.Zg=!1;});}},{key:"if",value:function _if(){var _this674=this;var t,_e1209,i=this.Js.board,s=i.selectedElements[0],_this$og38=this.og,n=_this$og38.displaySpace,o=_this$og38.displayUnit,l=Qt("px",o),a=Yt(s,i.vectorCanvas);"viewport"===n&&(a=Kt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line length"),this.Kg=!0;var r=new DOMPoint(s.x1.baseVal.value,s.y1.baseVal.value),d=new DOMPoint(s.x2.baseVal.value,s.y2.baseVal.value);this["#length-input"].addEventListener("change",t=function t(_t1697){console.log("change");var e=new J(r,d);e=e.matrixTransform(a),e=e.matrixTransform(l),e.length=_this674["#length-input"].value,e=e.matrixTransform(l.inverse()),e=e.matrixTransform(h);var n=e.transformPoint(r);n=Oe(n,i.geometryPrecision),s.setAttribute("x2",n.x),s.setAttribute("y2",n.y);}),this["#length-input"].addEventListener("changeend",_e1209=function e(){_this674["#length-input"].removeEventListener("change",t),_this674["#length-input"].removeEventListener("changeend",_e1209),_this674.Kg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"line"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var i=e[0],_this$og39=this.og,_s569=_this$og39.displayUnit,_n466=_this$og39.displaySpace,_o370=_this$og39.displayPrecision,_l308=Yt(i,t.currentWorkspace),_a231=Qt("px",_s569),_h184=_s569?" "+_s569:"",_r121=1/Cb(10,_o370-1);"viewport"===_n466&&(_l308=Kt(t.currentWorkspace).multiply(_l308));var _d97=new DOMPoint(i.x1.baseVal.value,i.y1.baseVal.value);_d97=_d97.matrixTransform(_l308),_d97=_d97.matrixTransform(_a231);var _c74=new DOMPoint(i.x2.baseVal.value,i.y2.baseVal.value);_c74=_c74.matrixTransform(_l308),_c74=_c74.matrixTransform(_a231);var _p66=new J(_d97,_c74).length;_d97=Oe(_d97,_o370),_c74=Oe(_c74,_o370),_p66=tt(_p66,_o370),!1===this.Yg&&(this["#x1-input"].value=_d97.x,this["#x1-input"].suffix=_h184,this["#x1-input"].step=_r121),!1===this.qg&&(this["#y1-input"].value=_d97.y,this["#y1-input"].suffix=_h184,this["#y1-input"].step=_r121),!1===this.Xg&&(this["#x2-input"].value=_c74.x,this["#x2-input"].suffix=_h184,this["#x2-input"].step=_r121),!1===this.Zg&&(this["#y2-input"].value=_c74.y,this["#y2-input"].suffix=_h184,this["#y2-input"].step=_r121),!1===this.Kg&&(this["#length-input"].value=_p66,this["#length-input"].suffix=_h184,this["#length-input"].step=_r121);}}}]);return Mb;}(ob);_defineProperty(Mb,"_shadowTemplate",Qi(_templateObject343()));_defineProperty(Mb,"_shadowStyleSheet",Ji(_templateObject344()));customElements.define("bx-linegeometryinspector",Mb);var Pb={ArrowRight:{xMinYMin:"xMidYMin",xMidYMin:"xMaxYMin",xMinYMid:"xMidYMid",xMidYMid:"xMaxYMid",xMinYMax:"xMidYMax",xMidYMax:"xMaxYMax"},ArrowLeft:{xMaxYMin:"xMidYMin",xMidYMin:"xMinYMin",xMaxYMid:"xMidYMid",xMidYMid:"xMinYMid",xMaxYMax:"xMidYMax",xMidYMax:"xMinYMax"},ArrowDown:{xMinYMin:"xMinYMid",xMinYMid:"xMinYMax",xMidYMin:"xMidYMid",xMidYMid:"xMidYMax",xMaxYMin:"xMaxYMid",xMaxYMid:"xMaxYMax"},ArrowUp:{xMinYMax:"xMinYMid",xMinYMid:"xMinYMin",xMidYMax:"xMidYMid",xMidYMid:"xMidYMin",xMaxYMax:"xMaxYMid",xMaxYMid:"xMaxYMin"}};var Db=/*#__PURE__*/function(_HTMLElement101){_inherits(Db,_HTMLElement101);var _super140=_createSuper(Db);_createClass(Db,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Db(){var _this675;_classCallCheck(this,Db);_this675=_super140.call(this),_this675._shadowRoot=_this675.attachShadow({mode:"closed",delegatesFocus:!0}),_this675._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Db._shadowStyleSheet],_this675._shadowRoot.append(document.importNode(Db._shadowTemplate.content,!0));var _iterator1150=_createForOfIteratorHelper(_this675._shadowRoot.querySelectorAll("[id]")),_step1150;try{for(_iterator1150.s();!(_step1150=_iterator1150.n()).done;){var _t1698=_step1150.value;_this675["#"+_t1698.id]=_t1698;}}catch(err){_iterator1150.e(err);}finally{_iterator1150.f();}_this675.addEventListener("pointerdown",function(t){return _this675.wo(t);}),_this675["#buttons"].addEventListener("click",function(t){return _this675.sf(t);}),_this675["#buttons"].addEventListener("keydown",function(t){return _this675.wn(t);},!0);return _this675;}_createClass(Db,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.nf():"disabled"===t&&this.vx());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"vx",value:function vx(){this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){!1===this.matches(":focus")&&(t.preventDefault(),this.focus(),this.blur());}},{key:"sf",value:function sf(t){var e=t.target.closest("x-button");if(e&&!1===e.toggled){var _t1699=this["#buttons"].querySelector("x-button[toggled]");_t1699&&(_t1699.toggled=!1),e.toggled=!0,this.setAttribute("value",e?e.value:"none"),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}));}}},{key:"wn",value:function wn(t){var e=t.key;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e)){t.preventDefault(),t.stopImmediatePropagation();var i=this["#buttons"].querySelector("x-button:focus"),_s570=Pb[e][i.value],_n467=this["#buttons"].querySelector("x-button[value=\"".concat(_s570,"\"]"));_n467&&_n467.focus();}}},{key:"qs",value:function qs(){this.nf();}},{key:"nf",value:function nf(){var _iterator1151=_createForOfIteratorHelper(this["#buttons"].children),_step1151;try{for(_iterator1151.s();!(_step1151=_iterator1151.n()).done;){var _t1700=_step1151.value;_t1700.toggled=_t1700.value===this.value;}}catch(err){_iterator1151.e(err);}finally{_iterator1151.f();}}}]);return Db;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Db,"observedAttributes",["value","disabled"]);_defineProperty(Db,"_shadowTemplate",Qi(_templateObject345()));_defineProperty(Db,"_shadowStyleSheet",Ji(_templateObject346()));customElements.define("bx-alignbuttons",Db);var zb=Number.isFinite;var Ob=/*#__PURE__*/function(_ob11){_inherits(Ob,_ob11);var _super141=_createSuper(Ob);function Ob(){var _this676;_classCallCheck(this,Ob);_this676=_super141.call(this),_this676.lf=!1,_this676.af=!1,_this676.hf=!1,_this676.rf=!1,_this676.df=!1,_this676.cf=!1,_this676.pf=!1,_this676.uf=!1,_this676.xf=!1,_this676.bf=null,_this676.mf=null,_this676.gf=0,_this676.ff=es(_this676.qs,100,_assertThisInitialized(_this676)),_this676["#viewport-width-input"].addEventListener("changestart",function(){return _this676.wf();}),_this676["#viewport-height-input"].addEventListener("changestart",function(){return _this676.vf();}),_this676["#viewport-lock-button"].addEventListener("toggle",function(){return _this676.yf();}),_this676["#viewport-units-select"].addEventListener("change",function(){return _this676.kf();}),_this676["#viewbox-x-input"].addEventListener("changestart",function(t){return _this676.Sf(t);}),_this676["#viewbox-y-input"].addEventListener("changestart",function(t){return _this676._f(t);}),_this676["#viewbox-width-input"].addEventListener("changestart",function(t){return _this676.Cf(t);}),_this676["#viewbox-height-input"].addEventListener("changestart",function(t){return _this676.Mf(t);}),_this676["#viewbox-switch"].addEventListener("toggle",function(){return _this676.Pf();}),_this676["#viewbox-lock-button"].addEventListener("toggle",function(){return _this676.Df();}),_this676["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this676.zf();}),_this676["#align-buttons"].addEventListener("toggle",function(){return _this676.Of();}),_this676["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this676.Ef();}),_this676["#ref-x-input"].addEventListener("changestart",function(){return _this676.Tf();}),_this676["#ref-y-input"].addEventListener("changestart",function(){return _this676.Af();}),_this676["#orient-switch"].addEventListener("toggle",function(){return _this676.$f();}),_this676["#orient-box"].addEventListener("changestart",function(){return _this676.If();});return _this676;}_createClass(Ob,[{key:"tn",value:function tn(){var _this677=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this677.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this677.al(t.detail);});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){this.ff();}},{key:"wf",value:function wf(){var _this678=this;var t,_e1210,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===zb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.lf=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this678["#viewport-width-input"].value)i.currentWorkspace.removeAttribute("markerWidth");else{var _t1701=tt(_this678["#viewport-width-input"].value,s);if(i.currentWorkspace.setAttribute("markerWidth",_t1701),null!==n){var _t1702=tt(_this678["#viewport-width-input"].value*n,s);i.currentWorkspace.setAttribute("markerHeight",_t1702);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1210=function e(){_this678["#viewport-width-input"].removeEventListener("change",t),_this678["#viewport-width-input"].removeEventListener("changeend",_e1210),_this678.lf=!1;});}},{key:"vf",value:function vf(){var _this679=this;var t,_e1211,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===zb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.af=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this679["#viewport-height-input"].value)i.currentWorkspace.removeAttribute("markerHeight");else{var _t1703=tt(_this679["#viewport-height-input"].value,s);if(i.currentWorkspace.setAttribute("markerHeight",_t1703),null!==n){var _t1704=tt(_this679["#viewport-height-input"].value*n,s);i.currentWorkspace.setAttribute("markerWidth",_t1704);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1211=function e(){_this679["#viewport-height-input"].removeEventListener("change",t),_this679["#viewport-height-input"].removeEventListener("changeend",_e1211),_this679.af=!1;});}},{key:"yf",value:function yf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"kf",value:function kf(){var t=this.Js.board,e=this["#viewport-units-select"].value;t.undoManager.checkpoint("Marker units"),"userSpaceOnUse"===e?t.currentWorkspace.setAttribute("markerUnits","userSpaceOnUse"):t.currentWorkspace.setAttribute("markerUnits","strokeWidth");}},{key:"Pf",value:function Pf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.bf?t.currentWorkspace.setAttribute("viewBox",this.bf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.bf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"Sf",value:function Sf(t){var _this680=this;var e,_i1095,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.hf=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this680["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1095=function i(){_this680["#viewbox-x-input"].removeEventListener("change",e),_this680["#viewbox-x-input"].removeEventListener("changeend",_i1095),_this680.hf=!1;});}},{key:"_f",value:function _f(t){var _this681=this;var e,_i1096,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.rf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this681["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1096=function i(){_this681["#viewbox-y-input"].removeEventListener("change",e),_this681["#viewbox-y-input"].removeEventListener("changeend",_i1096),_this681.rf=!1;});}},{key:"Cf",value:function Cf(t){var _this682=this;var e,_i1097,_this$Js$board47=this.Js.board,s=_this$Js$board47.geometryPrecision,n=_this$Js$board47.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===zb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.df=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this682["#viewbox-width-input"].value,null!==l&&(o.height=tt(_this682["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1097=function i(){_this682["#viewbox-width-input"].removeEventListener("change",e),_this682["#viewbox-width-input"].removeEventListener("changeend",_i1097),_this682.df=!1;});}},{key:"Mf",value:function Mf(t){var _this683=this;var e,_i1098,_this$Js$board48=this.Js.board,s=_this$Js$board48.geometryPrecision,n=_this$Js$board48.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===zb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.cf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this683["#viewbox-height-input"].value,null!==l&&(o.width=tt(_this683["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1098=function i(){_this683["#viewbox-height-input"].removeEventListener("change",e),_this683["#viewbox-height-input"].removeEventListener("changeend",_i1098),_this683.cf=!1;});}},{key:"Df",value:function Df(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"zf",value:function zf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.mf?t.setAttribute("preserveAspectRatio",this.mf):t.removeAttribute("preserveAspectRatio"):(this.mf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Of",value:function Of(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s571=e;"none"!==_s571&&"slice"===i&&(_s571+=" slice"),t.setAttribute("preserveAspectRatio",_s571);}}},{key:"Ef",value:function Ef(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s572=e;"none"!==_s572&&"slice"===i&&(_s572+=" slice"),t.setAttribute("preserveAspectRatio",_s572);}}},{key:"Tf",value:function Tf(){var _this684=this;var t,_e1212,i=this["#ref-x-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.pf=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refX",i.value);}),i.addEventListener("changeend",_e1212=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1212),_this684.pf=!1;});}},{key:"Af",value:function Af(){var _this685=this;var t,_e1213,i=this["#ref-y-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.uf=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refY",i.value);}),i.addEventListener("changeend",_e1213=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1213),_this685.uf=!1;});}},{key:"$f",value:function $f(){var t=this.Js.board;if(t.undoManager.checkpoint("Marker orient"),this["#orient-switch"].toggled)t.currentWorkspace.setAttribute("orient",this.gf);else{var _Uc=Uc(t.currentWorkspace),_Uc2=_slicedToArray(_Uc,2),_e1214=_Uc2[1];this.gf=_e1214,t.currentWorkspace.setAttribute("orient","auto");}}},{key:"If",value:function If(){var _this686=this;var t,_e1215,i=this.Js.board;i.undoManager.checkpoint("Marker orient"),this.xf=!0,this["#orient-box"].addEventListener("change",t=function t(_t1705){_t1705.target===_this686["#orient-slider"]?_this686["#orient-input"].value=_this686["#orient-slider"].value:_t1705.target===_this686["#object-rotation-input"]&&(_this686["#orient-slider"].value=_this686["#orient-input"].value),_this686.Qs.modKeys.shift&&(_this686["#orient-input"].value=Fe(_this686["#orient-slider"].value,15),_this686["#orient-slider"].value=_this686["#orient-input"].value),i.currentWorkspace.setAttribute("orient",_this686["#orient-input"].value+"deg");}),this["#orient-box"].addEventListener("changeend",_e1215=function e(){_this686["#orient-box"].removeEventListener("change",t),_this686["#orient-box"].removeEventListener("changeend",_e1215),_this686.xf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.og.displayPrecision;if("marker"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _i1099=t.getComputedViewportWidth(),_s573=t.getComputedViewportHeight();null!==_i1099&&null!==_s573?(!1===this.lf&&(this["#viewport-width-input"].value=tt(_i1099.value,o)),!1===this.af&&(this["#viewport-height-input"].value=tt(_s573.value,o)),this["#viewport-lock-button"].disabled=!1):null!==_i1099&&null===_s573?(!1===this.lf&&(this["#viewport-width-input"].value=tt(_i1099.value,o)),!1===this.af&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0):null===_i1099&&null!==_s573?(!1===this.lf&&(this["#viewport-width-input"].value=null),!1===this.af&&(this["#viewport-height-input"].value=tt(_s573.value,o)),this["#viewport-lock-button"].disabled=!0):null===_i1099&&null===_s573&&(!1===this.lf&&(this["#viewport-width-input"].value=null),!1===this.af&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0),this["#viewport-units-select"].value=e.getAttribute("markerUnits")||"strokeWidth";}if(e.hasAttribute("viewBox")){var _Ft$fromString3=Ft.fromString(e.getAttribute("viewBox")),_t1706=_Ft$fromString3.x,_i1100=_Ft$fromString3.y,_s574=_Ft$fromString3.width,_n468=_Ft$fromString3.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.hf&&(this["#viewbox-x-input"].value=tt(_t1706,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.rf&&(this["#viewbox-y-input"].value=tt(_i1100,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.df&&(this["#viewbox-width-input"].value=tt(_s574,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.cf&&(this["#viewbox-height-input"].value=tt(_n468,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1707=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString2=Bt.fromString(_t1707),_i1101=_Bt$fromString2.align,_s575=_Bt$fromString2.meetOrSlice;"none"===_i1101?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1101,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s575,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}if(!1===this.pf&&!1===this.uf){var _t1708=Gc(e);this["#ref-x-input"].value=tt(_t1708.x,2),this["#ref-y-input"].value=tt(_t1708.y,2);}if(!1===this.xf){var _Uc3=Uc(e),_Uc4=_slicedToArray(_Uc3,2),_t1709=_Uc4[0],_i1102=_Uc4[1];this["#orient-section"].hidden=!1,_t1709===SVGMarkerElement.SVG_MARKER_ORIENT_AUTO?(this["#orient-switch"].toggled=!1,this["#orient-input"].disabled=!0,this["#orient-input"].value=null,this["#orient-slider"].disabled=!0,this["#orient-slider"].value=0):(this["#orient-switch"].toggled=!0,this["#orient-input"].disabled=!1,this["#orient-input"].value=_i1102,this["#orient-slider"].disabled=!1,this["#orient-slider"].value=_i1102);}}}}]);return Ob;}(ob);_defineProperty(Ob,"_shadowTemplate",Qi(_templateObject347()));_defineProperty(Ob,"_shadowStyleSheet",Ji(_templateObject348()));customElements.define("bx-markergeometryinspector",Ob);var Eb=/*#__PURE__*/function(_ob12){_inherits(Eb,_ob12);var _super142=_createSuper(Eb);function Eb(){var _this687;_classCallCheck(this,Eb);_this687=_super142.call(this),_this687.Lf=!1,_this687.Rf=!1,_this687.Dh=es(_this687.qs,200,_assertThisInitialized(_this687)),_this687["#arms-section"].addEventListener("changestart",function(){return _this687.Bp();}),_this687["#corner-section"].addEventListener("changestart",function(){return _this687.Lp();});return _this687;}_createClass(Eb,[{key:"tn",value:function tn(){var _this688=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this688.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this688.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Bp",value:function Bp(){var _this689=this;var t,_e1216,i=this.Js.board,s=[],n=Symbol();var _iterator1152=_createForOfIteratorHelper(i.selectedElements),_step1152;try{for(_iterator1152.s();!(_step1152=_iterator1152.n()).done;){var _t1712=_step1152.value;if("path"===_t1712.localName){var _e1217=wl(_t1712);_e1217&&"n-gon"===_e1217.type&&(_t1712[n]=_e1217,s.push(_t1712));}}}catch(err){_iterator1152.e(err);}finally{_iterator1152.f();}i.undoManager.checkpoint("N-gon arms"),this.Lf=!0,this["#arms-section"].addEventListener("change",t=function t(_t1711){_t1711.target===_this689["#arms-slider"]?_this689["#arms-input"].value=_this689["#arms-slider"].value:_t1711.target===_this689["#arms-input"]&&(_this689["#arms-slider"].value=_this689["#arms-input"].value);var _iterator1153=_createForOfIteratorHelper(s),_step1153;try{for(_iterator1153.s();!(_step1153=_iterator1153.n()).done;){var _t1710=_step1153.value;_t1710[n].values[4]=_this689["#arms-slider"].value,_vl(_t1710,_t1710[n]);}}catch(err){_iterator1153.e(err);}finally{_iterator1153.f();}}),this["#arms-section"].addEventListener("changeend",_e1216=function e(){_this689["#arms-section"].removeEventListener("change",t),_this689["#arms-section"].removeEventListener("changeend",_e1216),_this689.Lf=!1;});}},{key:"Lp",value:function Lp(){var _this690=this;var t,_e1218,i=this.Js.board,s=[],n=Symbol();var _iterator1154=_createForOfIteratorHelper(i.selectedElements),_step1154;try{for(_iterator1154.s();!(_step1154=_iterator1154.n()).done;){var _t1715=_step1154.value;if("path"===_t1715.localName){var _e1219=wl(_t1715);_e1219&&"n-gon"===_e1219.type&&(_t1715[n]=_e1219,s.push(_t1715));}}}catch(err){_iterator1154.e(err);}finally{_iterator1154.f();}i.undoManager.checkpoint("N-gon corner"),this.Rf=!0,this["#corner-section"].addEventListener("change",t=function t(_t1714){_t1714.target===_this690["#corner-slider"]?_this690["#corner-input"].value=_this690["#corner-slider"].value:_t1714.target===_this690["#corner-input"]&&(_this690["#corner-slider"].value=_this690["#corner-input"].value);var e=tt(_this690["#corner-slider"].value/200,3);var _iterator1155=_createForOfIteratorHelper(s),_step1155;try{for(_iterator1155.s();!(_step1155=_iterator1155.n()).done;){var _t1713=_step1155.value;_t1713[n].values[5]=e,_vl(_t1713,_t1713[n]);}}catch(err){_iterator1155.e(err);}finally{_iterator1155.f();}}),this["#corner-section"].addEventListener("changeend",_e1218=function e(){_this690["#corner-section"].removeEventListener("change",t),_this690["#corner-section"].removeEventListener("changeend",_e1218),_this690.Rf=!1;});}},{key:"qs",value:function qs(){if(!1===this.Lf&&!1===this.Rf){var _t1716=this.Js.board.outermostSelectedElements;if(0===_t1716.length||"path"!==_t1716[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1220=wl(_t1716[0]);if(_e1220&&"n-gon"===_e1220.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1220$values=_slicedToArray(_e1220.values,6),_t1717=_e1220$values[0],i=_e1220$values[1],_s576=_e1220$values[2],_n469=_e1220$values[3],_o371=_e1220$values[4],_l309=_e1220$values[5],_a232=et(200*_l309,0,100,0);this["#arms-slider"].value=tt(_o371,0),this["#arms-input"].value=tt(_o371,0),this["#corner-slider"].value=_a232,this["#corner-input"].value=_a232;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}}]);return Eb;}(ob);_defineProperty(Eb,"_shadowTemplate",Qi(_templateObject349()));_defineProperty(Eb,"_shadowStyleSheet",Ji(_templateObject350()));customElements.define("bx-ngongeometryinspector",Eb);var Tb=Math.pow;var Ab=/*#__PURE__*/function(_ob13){_inherits(Ab,_ob13);var _super143=_createSuper(Ab);function Ab(){var _this691;_classCallCheck(this,Ab);_this691=_super143.call(this),_this691.Gg=!1,_this691.Ug=!1,_this691.Yg=!1,_this691.qg=!1,_this691.Xg=!1,_this691.Zg=!1,_this691.Dh=es(_this691.qs,200,_assertThisInitialized(_this691)),_this691["#x-input"].addEventListener("changestart",function(){return _this691.Ng();}),_this691["#y-input"].addEventListener("changestart",function(){return _this691.Vg();}),_this691["#x1-input"].addEventListener("changestart",function(){return _this691.Qg();}),_this691["#y1-input"].addEventListener("changestart",function(){return _this691.Jg();}),_this691["#x2-input"].addEventListener("changestart",function(){return _this691.tf();}),_this691["#y2-input"].addEventListener("changestart",function(){return _this691.ef();});return _this691;}_createClass(Ab,[{key:"tn",value:function tn(){var _this692=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this692.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this692.Dh();}),this.Js.board.pathHud.addEventListener("selectednodeschange",this.Bf=function(){_this692.qs();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this692.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.pathHud.removeEventListener("selectednodeschange",this.Bf),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Ng",value:function Ng(){var _this693=this;var t,_e1221,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ht(n.getPathData({normalize:!0})),l=s.index,a=o[l].type,_this$og40=this.og,h=_this$og40.displaySpace,r=_this$og40.displayUnit,d=Qt(r,"px"),c=Yt(n,i.vectorCanvas);"viewport"===h&&(c=Kt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node X"),this.Gg=!0,this["#x-input"].addEventListener("change",t=function t(_t1718){var e=new DOMPoint(_this693["#x-input"].value,_this693["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===a?4:0]=tt(e.x,i.geometryPrecision),o[l].values["C"===a?5:1]=tt(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x-input"].addEventListener("changeend",_e1221=function e(){_this693["#x-input"].removeEventListener("change",t),_this693["#x-input"].removeEventListener("changeend",_e1221),_this693.Gg=!1;});}},{key:"Vg",value:function Vg(){var _this694=this;var t,_e1222,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ht(n.getPathData({normalize:!0})),l=s.index,a=o[l].type,_this$og41=this.og,h=_this$og41.displaySpace,r=_this$og41.displayUnit,d=Qt(r,"px"),c=Yt(n,i.vectorCanvas);"viewport"===h&&(c=Kt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node Y"),this.Ug=!0,this["#y-input"].addEventListener("change",t=function t(_t1719){var e=new DOMPoint(_this694["#x-input"].value,_this694["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===a?4:0]=tt(e.x,i.geometryPrecision),o[l].values["C"===a?5:1]=tt(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y-input"].addEventListener("changeend",_e1222=function e(){_this694["#y-input"].removeEventListener("change",t),_this694["#y-input"].removeEventListener("changeend",_e1222),_this694.Ug=!1;});}},{key:"Qg",value:function Qg(){var _this695=this;var t,_e1223,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ht(n.getPathData({normalize:!0})),l=s.index,_this$og42=this.og,a=_this$og42.displaySpace,h=_this$og42.displayUnit,r=Qt(h,"px"),d=Yt(n,i.vectorCanvas);"viewport"===a&&(d=Kt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X1"),this.Yg=!0,this["#x1-input"].addEventListener("change",t=function t(_t1720){var e=new DOMPoint(_this695["#x1-input"].value,_this695["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=tt(e.x,i.geometryPrecision),o[l+1].values[1]=tt(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x1-input"].addEventListener("changeend",_e1223=function e(){_this695["#x1-input"].removeEventListener("change",t),_this695["#x1-input"].removeEventListener("changeend",_e1223),_this695.Yg=!1;});}},{key:"Jg",value:function Jg(){var _this696=this;var t,_e1224,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ht(n.getPathData({normalize:!0})),l=s.index,_this$og43=this.og,a=_this$og43.displaySpace,h=_this$og43.displayUnit,r=Qt(h,"px"),d=Yt(n,i.vectorCanvas);"viewport"===a&&(d=Kt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y1"),this.qg=!0,this["#y1-input"].addEventListener("change",t=function t(_t1721){var e=new DOMPoint(_this696["#x1-input"].value,_this696["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=tt(e.x,i.geometryPrecision),o[l+1].values[1]=tt(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y1-input"].addEventListener("changeend",_e1224=function e(){_this696["#y1-input"].removeEventListener("change",t),_this696["#y1-input"].removeEventListener("changeend",_e1224),_this696.qg=!1;});}},{key:"tf",value:function tf(){var _this697=this;var t,_e1225,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ht(n.getPathData({normalize:!0})),l=s.index,_this$og44=this.og,a=_this$og44.displaySpace,h=_this$og44.displayUnit,r=Qt(h,"px"),d=Yt(n,i.vectorCanvas);"viewport"===a&&(d=Kt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X2"),this.Xg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1722){var e=new DOMPoint(_this697["#x2-input"].value,_this697["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=tt(e.x,i.geometryPrecision),o[l].values[3]=tt(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x2-input"].addEventListener("changeend",_e1225=function e(){_this697["#x2-input"].removeEventListener("change",t),_this697["#x2-input"].removeEventListener("changeend",_e1225),_this697.Xg=!1;});}},{key:"ef",value:function ef(){var _this698=this;var t,_e1226,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ht(n.getPathData({normalize:!0})),l=s.index,_this$og45=this.og,a=_this$og45.displaySpace,h=_this$og45.displayUnit,r=Qt(h,"px"),d=Yt(n,i.vectorCanvas);"viewport"===a&&(d=Kt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y2"),this.Zg=!0,this["#y2-input"].addEventListener("change",t=function t(_t1723){var e=new DOMPoint(_this698["#x2-input"].value,_this698["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=tt(e.x,i.geometryPrecision),o[l].values[3]=tt(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y2-input"].addEventListener("changeend",_e1226=function e(){_this698["#y2-input"].removeEventListener("change",t),_this698["#y2-input"].removeEventListener("changeend",_e1226),_this698.Zg=!1;});}},{key:"qs",value:function qs(){if(!1===this.Gg&&!1===this.Ug&&!1===this.Yg&&!1===this.qg&&!1===this.Xg&&!1===this.Zg){var _t1724=this.Js.board;if(1===_t1724.pathHud.selectedNodes.length){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1227=_t1724.pathHud.selectedNodes[0],i=_e1227.path,_s577=_e1227.index,_n470=ht(i.getPathData({normalize:!0})),_o372=_n470[_s577],_l310=_n470[_s577+1]||null,_this$og46=this.og,_a233=_this$og46.displaySpace,_h185=_this$og46.displayUnit,_r122=_this$og46.displayPrecision,_d98=Yt(i,_t1724.currentWorkspace),_c75=Qt("px",_h185),_p67=_h185?" "+_h185:"",_u56=1/Tb(10,_r122-1);"viewport"===_a233&&(_d98=Kt(_t1724.currentWorkspace).multiply(_d98));{var _t1725="C"===_o372.type?new DOMPoint(_o372.values[4],_o372.values[5]):new DOMPoint(_o372.values[0],_o372.values[1]);_t1725=_t1725.matrixTransform(_d98),_t1725=_t1725.matrixTransform(_c75),this["#x-input"].value=tt(_t1725.x,_r122),this["#x-input"].suffix=_p67,this["#x-input"].step=_u56,this["#y-input"].value=tt(_t1725.y,_r122),this["#y-input"].suffix=_p67,this["#y-input"].step=_u56;}if(_l310&&"C"===_l310.type){var _t1726=new DOMPoint(_l310.values[0],_l310.values[1]);_t1726=_t1726.matrixTransform(_d98),_t1726=_t1726.matrixTransform(_c75),this["#control-point-1-section"].hidden=!1,this["#x1-input"].value=tt(_t1726.x,_r122),this["#x1-input"].suffix=_p67,this["#x1-input"].step=_u56,this["#y1-input"].value=tt(_t1726.y,_r122),this["#y1-input"].suffix=_p67,this["#y1-input"].step=_u56;}else this["#control-point-1-section"].hidden=!0;if("C"===_o372.type){var _t1727=new DOMPoint(_o372.values[2],_o372.values[3]);_t1727=_t1727.matrixTransform(_d98),_t1727=_t1727.matrixTransform(_c75),this["#control-point-2-section"].hidden=!1,this["#x2-input"].value=tt(_t1727.x,_r122),this["#x2-input"].suffix=_p67,this["#x2-input"].step=_u56,this["#y2-input"].value=tt(_t1727.y,_r122),this["#y2-input"].suffix=_p67,this["#y2-input"].step=_u56;}else this["#control-point-2-section"].hidden=!0;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Ab;}(ob);_defineProperty(Ab,"_shadowTemplate",Qi(_templateObject351()));_defineProperty(Ab,"_shadowStyleSheet",Ji(_templateObject352()));customElements.define("bx-nodegeometryinspector",Ab);var $b=Math.min,Ib=Math.max,Lb=Math.pow;var Rb=/*#__PURE__*/function(_ob14){_inherits(Rb,_ob14);var _super144=_createSuper(Rb);function Rb(){var _this699;_classCallCheck(this,Rb);_this699=_super144.call(this),_this699.Gg=!1,_this699.Ug=!1,_this699.lb=!1,_this699.Fg=!1,_this699.Gf=!1,_this699.Uf=!1,_this699.pg=!1,_this699.Dh=es(_this699.qs,200,_assertThisInitialized(_this699)),_this699["#x-input"].addEventListener("changestart",function(){return _this699.Ng();}),_this699["#y-input"].addEventListener("changestart",function(){return _this699.Vg();}),_this699["#width-input"].addEventListener("changestart",function(){return _this699.jg();}),_this699["#height-input"].addEventListener("changestart",function(){return _this699.Hg();}),_this699["#aspect-ratio-button"].addEventListener("toggle",function(){return _this699.Bg();}),_this699["#origin-x-input"].addEventListener("changestart",function(){return _this699.Ff();}),_this699["#origin-y-input"].addEventListener("changestart",function(){return _this699.Nf();}),_this699["#rotation-section"].addEventListener("changestart",function(){return _this699.xg();});return _this699;}_createClass(Rb,[{key:"tn",value:function tn(){var _this700=this;var t=this.Qs,e=this.Js.board;this["#aspect-ratio-button"].toggled=t.getConfig("bx-objectgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this700.Dh();}),e.addEventListener("workspacemutation",this.hn=function(){_this700.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this700.Dh();});}},{key:"en",value:function en(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Ng",value:function Ng(){var _this701=this;var t,_e1229,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$og47=this.og,o=_this$og47.displaySpace,l=_this$og47.displayUnit,a=Symbol();this.Gg=!0;var _iterator1156=_createForOfIteratorHelper(s),_step1156;try{for(_iterator1156.s();!(_step1156=_iterator1156.n()).done;){var _t1730=_step1156.value;var _e1230=Yt(_t1730,i.vectorCanvas);"viewport"===o&&(_e1230=Kt(i.currentWorkspace).multiply(_e1230));var _s579=_e1230.inverse(),_h186=Wt(_t1730),_r123=Qt(l,"px"),_d99=Ei(_t1730);_t1730[a]={userToDisplayTransform:_e1230,displayToUserTransform:_s579,userTransform:_h186,unitTransform:_r123},n.push(He(_d99,_e1230));}}catch(err){_iterator1156.e(err);}finally{_iterator1156.f();}var h=We(n).x;i.undoManager.checkpoint("X"),this["#x-input"].addEventListener("change",t=function t(){var _iterator1157=_createForOfIteratorHelper(s),_step1157;try{for(_iterator1157.s();!(_step1157=_iterator1157.n()).done;){var _t1728=_step1157.value;var _t1728$a=_t1728[a],_e1228=_t1728$a.userToDisplayTransform,_i1103=_t1728$a.displayToUserTransform,_s578=_t1728$a.userTransform,_n471=_t1728$a.unitTransform,_o373=_this701["#x-input"].value*_n471.a,_l311=DOMMatrix.fromMatrix(_s578);_l311.multiplySelf(_i1103),_l311.translateSelf(_o373-h,0),_l311.multiplySelf(_e1228),_t1728.setAttribute("transform",_l311.toString());}}catch(err){_iterator1157.e(err);}finally{_iterator1157.f();}}),this["#x-input"].addEventListener("changeend",_e1229=function e(){_this701["#x-input"].removeEventListener("change",t),_this701["#x-input"].removeEventListener("changeend",_e1229),_this701.Gg=!1;var _iterator1158=_createForOfIteratorHelper(s),_step1158;try{for(_iterator1158.s();!(_step1158=_iterator1158.n()).done;){var _t1729=_step1158.value;ka(_t1729,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1158.e(err);}finally{_iterator1158.f();}});}},{key:"Vg",value:function Vg(){var _this702=this;var t,_e1232,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$og48=this.og,o=_this$og48.displaySpace,l=_this$og48.displayUnit,a=Symbol();this.Ug=!0;var _iterator1159=_createForOfIteratorHelper(s),_step1159;try{for(_iterator1159.s();!(_step1159=_iterator1159.n()).done;){var _t1733=_step1159.value;var _e1233=Yt(_t1733,i.vectorCanvas);"viewport"===o&&(_e1233=Kt(i.currentWorkspace).multiply(_e1233));var _s581=_e1233.inverse(),_h187=Wt(_t1733),_r124=Qt(l,"px"),_d100=Ei(_t1733);_t1733[a]={userToDisplayTransform:_e1233,displayToUserTransform:_s581,userTransform:_h187,unitTransform:_r124},n.push(He(_d100,_e1233));}}catch(err){_iterator1159.e(err);}finally{_iterator1159.f();}var h=We(n).y;i.undoManager.checkpoint("Y"),this["#y-input"].addEventListener("change",t=function t(){var _iterator1160=_createForOfIteratorHelper(s),_step1160;try{for(_iterator1160.s();!(_step1160=_iterator1160.n()).done;){var _t1731=_step1160.value;var _t1731$a=_t1731[a],_e1231=_t1731$a.userToDisplayTransform,_i1104=_t1731$a.displayToUserTransform,_s580=_t1731$a.userTransform,_n472=_t1731$a.unitTransform,_o374=_this702["#y-input"].value*_n472.d,_l312=DOMMatrix.fromMatrix(_s580);_l312.multiplySelf(_i1104),_l312.translateSelf(0,_o374-h),_l312.multiplySelf(_e1231),_t1731.setAttribute("transform",_l312.toString());}}catch(err){_iterator1160.e(err);}finally{_iterator1160.f();}}),this["#y-input"].addEventListener("changeend",_e1232=function e(){_this702["#y-input"].removeEventListener("change",t),_this702["#y-input"].removeEventListener("changeend",_e1232),_this702.Ug=!1;var _iterator1161=_createForOfIteratorHelper(s),_step1161;try{for(_iterator1161.s();!(_step1161=_iterator1161.n()).done;){var _t1732=_step1161.value;ka(_t1732,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1161.e(err);}finally{_iterator1161.f();}});}},{key:"jg",value:function jg(){var _this703=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$og49=this.og,i=_this$og49.displaySpace,s=_this$og49.displayUnit,n=Qt(s,"px");if(this.lb=!0,t.undoManager.checkpoint("Width"),1===e.length){var _s582=e[0],_o375=Ei(_s582),_l313=Wt(_s582),_a234=Yt(_s582,t.vectorCanvas);"viewport"===i&&(_a234=Kt(t.currentWorkspace).multiply(_a234));var _h188,_r126,_d101=Te(new DOMPoint(_o375.x,_o375.y).matrixTransform(_a234),new DOMPoint(_o375.x+_o375.width,_o375.y).matrixTransform(_a234));this["#width-input"].addEventListener("change",_h188=function _h188(){var t=_this703["#width-input"].value*n.a/_d101,e=1;_this703["#aspect-ratio-button"].toggled&&(e=t);var i=-_o375.x*(t-1),a=-_o375.y*(e-1),h=DOMMatrix.fromMatrix(_l313);h.translateSelf(i,a),h.scaleSelf(t,e),_s582.setAttribute("transform",h.toString());}),this["#width-input"].addEventListener("changeend",_r126=function _r125(){_this703["#width-input"].removeEventListener("change",_h188),_this703["#width-input"].removeEventListener("changeend",_r126),_this703.lb=!1,ka(_s582,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s583,_o378,_l314=[],_a235=Symbol();var _iterator1162=_createForOfIteratorHelper(e),_step1162;try{for(_iterator1162.s();!(_step1162=_iterator1162.n()).done;){var _s585=_step1162.value;var _e1235=Wt(_s585),_n474=Yt(_s585,t.vectorCanvas);"viewport"===i&&(_n474=Kt(t.currentWorkspace).multiply(_n474));var _o379=_n474.inverse(),_h190=He(Ei(_s585),_n474);_s585[_a235]={userTransform:_e1235,userToDisplayTransform:_n474,displayToUserTransform:_o379},_l314.push(_h190);}}catch(err){_iterator1162.e(err);}finally{_iterator1162.f();}var _h189=We(_l314),_r127=_h189.width;this["#width-input"].addEventListener("change",_s583=function _s583(){var t=_this703["#width-input"].value*n.a;var _iterator1163=_createForOfIteratorHelper(e),_step1163;try{for(_iterator1163.s();!(_step1163=_iterator1163.n()).done;){var _i1105=_step1163.value;var _i1105$_a=_i1105[_a235],_e1234=_i1105$_a.userTransform,_s584=_i1105$_a.userToDisplayTransform,_n473=_i1105$_a.displayToUserTransform,_o377=t/_r127,_l315=1;_this703["#aspect-ratio-button"].toggled&&(_l315=_o377);var _d102=-_h189.x*(_o377-1),_c76=-_h189.y*(_l315-1),_p68=DOMMatrix.fromMatrix(_e1234);_p68.multiplySelf(_n473),_p68.translateSelf(_d102,_c76),_p68.scaleSelf(_o377,_l315),_p68.multiplySelf(_s584),_i1105.setAttribute("transform",_p68.toString());}}catch(err){_iterator1163.e(err);}finally{_iterator1163.f();}}),this["#width-input"].addEventListener("changeend",_o378=function _o376(){_this703["#width-input"].removeEventListener("change",_s583),_this703["#width-input"].removeEventListener("changeend",_o378),_this703.lb=!1;var _iterator1164=_createForOfIteratorHelper(e),_step1164;try{for(_iterator1164.s();!(_step1164=_iterator1164.n()).done;){var _i1106=_step1164.value;ka(_i1106,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1164.e(err);}finally{_iterator1164.f();}});}}},{key:"Hg",value:function Hg(){var _this704=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$og50=this.og,i=_this$og50.displaySpace,s=_this$og50.displayUnit,n=Qt(s,"px");if(this.Fg=!0,t.undoManager.checkpoint("Height"),1===e.length){var _s586=e[0],_o380=Ei(_s586),_l316=Wt(_s586),_a236=Yt(_s586,t.vectorCanvas);"viewport"===i&&(_a236=Kt(t.currentWorkspace).multiply(_a236));var _h191,_r129,_d103=Te(new DOMPoint(_o380.x,_o380.y).matrixTransform(_a236),new DOMPoint(_o380.x,_o380.y+_o380.height).matrixTransform(_a236));this["#height-input"].addEventListener("change",_h191=function _h191(){var t=1,e=_this704["#height-input"].value*n.d/_d103;_this704["#aspect-ratio-button"].toggled&&(t=e);var i=-_o380.x*(t-1),a=-_o380.y*(e-1),h=DOMMatrix.fromMatrix(_l316);h.translateSelf(i,a),h.scaleSelf(t,e),_s586.setAttribute("transform",h.toString());}),this["#height-input"].addEventListener("changeend",_r129=function _r128(){_this704["#height-input"].removeEventListener("change",_h191),_this704["#height-input"].removeEventListener("changeend",_r129),_this704.Fg=!1,ka(_s586,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s587,_o383,_l317=[],_a237=Symbol();var _iterator1165=_createForOfIteratorHelper(e),_step1165;try{for(_iterator1165.s();!(_step1165=_iterator1165.n()).done;){var _s589=_step1165.value;var _e1237=Wt(_s589),_n476=Yt(_s589,t.vectorCanvas);"viewport"===i&&(_n476=Kt(t.currentWorkspace).multiply(_n476));var _o384=_n476.inverse(),_h193=He(Ei(_s589),_n476);_s589[_a237]={userTransform:_e1237,userToDisplayTransform:_n476,displayToUserTransform:_o384},_l317.push(_h193);}}catch(err){_iterator1165.e(err);}finally{_iterator1165.f();}var _h192=We(_l317),_r130=_h192.height;this["#height-input"].addEventListener("change",_s587=function _s587(){var t=_this704["#height-input"].value*n.d;var _iterator1166=_createForOfIteratorHelper(e),_step1166;try{for(_iterator1166.s();!(_step1166=_iterator1166.n()).done;){var _i1107=_step1166.value;var _i1107$_a=_i1107[_a237],_e1236=_i1107$_a.userTransform,_s588=_i1107$_a.userToDisplayTransform,_n475=_i1107$_a.displayToUserTransform,_o382=1,_l318=t/_r130;_this704["#aspect-ratio-button"].toggled&&(_o382=_l318);var _d104=-_h192.x*(_o382-1),_c77=-_h192.y*(_l318-1),_p69=DOMMatrix.fromMatrix(_e1236);_p69.multiplySelf(_n475),_p69.translateSelf(_d104,_c77),_p69.scaleSelf(_o382,_l318),_p69.multiplySelf(_s588),_i1107.setAttribute("transform",_p69.toString());}}catch(err){_iterator1166.e(err);}finally{_iterator1166.f();}}),this["#height-input"].addEventListener("changeend",_o383=function _o381(){_this704["#height-input"].removeEventListener("change",_s587),_this704["#height-input"].removeEventListener("changeend",_o383),_this704.Fg=!1;var _iterator1167=_createForOfIteratorHelper(e),_step1167;try{for(_iterator1167.s();!(_step1167=_iterator1167.n()).done;){var _i1108=_step1167.value;ka(_i1108,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1167.e(err);}finally{_iterator1167.f();}});}}},{key:"Bg",value:function Bg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-objectgeometry:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"Ff",value:function Ff(){var _this705=this;var t,_e1238,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$og51=this.og,n=_this$og51.displaySpace,o=_this$og51.displayUnit,l=Qt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Kt(i.currentWorkspace));var h=qt(i.vectorCanvas).inverse(),r=a.multiply(h),d=se(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1168=_createForOfIteratorHelper(s),_step1168;try{for(_iterator1168.s();!(_step1168=_iterator1168.n()).done;){var _t1735=_step1168.value;var _e1239=Yt(_t1735,i.vectorCanvas);_e1239=a.multiply(_e1239),_t1735[c]=_e1239.inverse(),_t1735[p]=Ei(_t1735);}}catch(err){_iterator1168.e(err);}finally{_iterator1168.f();}i.undoManager.checkpoint("Origin X"),this.Gf=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-x-input"].addEventListener("change",t=function t(){var t=_this705["#origin-x-input"].value*l.a,e=new DOMPoint(t,d.y);var _iterator1169=_createForOfIteratorHelper(s),_step1169;try{for(_iterator1169.s();!(_step1169=_iterator1169.n()).done;){var _t1734=_step1169.value;var _s590=e.matrixTransform(_t1734[c]),_n477=ce(_s590,_t1734[p]);te(_t1734,_n477,Ib(i.geometryPrecision,6));}}catch(err){_iterator1169.e(err);}finally{_iterator1169.f();}}),this["#origin-x-input"].addEventListener("changeend",_e1238=function e(){_this705["#origin-x-input"].removeEventListener("change",t),_this705["#origin-x-input"].removeEventListener("changeend",_e1238),_this705.Gf=!1;});}},{key:"Nf",value:function Nf(){var _this706=this;var t,_e1240,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$og52=this.og,n=_this$og52.displaySpace,o=_this$og52.displayUnit,l=Qt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Kt(i.currentWorkspace));var h=qt(i.vectorCanvas).inverse(),r=a.multiply(h),d=se(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1170=_createForOfIteratorHelper(s),_step1170;try{for(_iterator1170.s();!(_step1170=_iterator1170.n()).done;){var _t1737=_step1170.value;var _e1241=Yt(_t1737,i.vectorCanvas);_e1241=a.multiply(_e1241),_t1737[c]=_e1241.inverse(),_t1737[p]=Ei(_t1737);}}catch(err){_iterator1170.e(err);}finally{_iterator1170.f();}i.undoManager.checkpoint("Origin Y"),this.Uf=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-y-input"].addEventListener("change",t=function t(){var t=_this706["#origin-y-input"].value*l.d,e=new DOMPoint(d.x,t);var _iterator1171=_createForOfIteratorHelper(s),_step1171;try{for(_iterator1171.s();!(_step1171=_iterator1171.n()).done;){var _t1736=_step1171.value;var _s591=e.matrixTransform(_t1736[c]),_n478=ce(_s591,_t1736[p]);te(_t1736,_n478,Ib(i.geometryPrecision,6));}}catch(err){_iterator1171.e(err);}finally{_iterator1171.f();}}),this["#origin-y-input"].addEventListener("changeend",_e1240=function e(){_this706["#origin-y-input"].removeEventListener("change",t),_this706["#origin-y-input"].removeEventListener("changeend",_e1240),_this706.Uf=!1;});}},{key:"xg",value:function xg(){var _this707=this;var t,_e1242,i=this.Js.board,s=i.outermostSelectedObjectElements,n=s.length>1?0:tt(ne(s[0]),2),o=se(s),l=!1,a=Symbol();var _iterator1172=_createForOfIteratorHelper(s),_step1172;try{for(_iterator1172.s();!(_step1172=_iterator1172.n()).done;){var _t1741=_step1172.value;var _e1243=Wt(_t1741),_i1110=qt(_t1741),_s593=_i1110.inverse();_t1741[a]={clientToUserTransform:_i1110,userToClientTransform:_s593,userTransform:_e1243};}}catch(err){_iterator1172.e(err);}finally{_iterator1172.f();}this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this.pg=!0,this["#rotation-section"].addEventListener("change",t=function t(_t1739){!1===l&&(l=!0,i.undoManager.checkpoint("Rotation")),_t1739.target===_this707["#rotation-slider"]?_this707["#rotation-input"].value=_this707["#rotation-slider"].value:_t1739.target===_this707["#rotation-input"]&&(_this707["#rotation-slider"].value=_this707["#rotation-input"].value),_this707.Qs.modKeys.shift&&(_this707["#rotation-input"].value=Fe(_this707["#rotation-slider"].value,15),_this707["#rotation-slider"].value=_this707["#rotation-input"].value);var e=_this707["#rotation-input"].value-n;var _iterator1173=_createForOfIteratorHelper(s),_step1173;try{for(_iterator1173.s();!(_step1173=_iterator1173.n()).done;){var _t1738=_step1173.value;var _t1738$a=_t1738[a],_i1109=_t1738$a.clientToUserTransform,_s592=_t1738$a.userToClientTransform,_n479=_t1738$a.userTransform,_l319=DOMMatrix.fromMatrix(_n479);_l319.multiplySelf(_s592),_l319.translateSelf(o.x,o.y),_l319.rotateSelf(e),_l319.translateSelf(-o.x,-o.y),_l319.multiplySelf(_i1109),_t1738.setAttribute("transform",_l319.toString());}}catch(err){_iterator1173.e(err);}finally{_iterator1173.f();}}),this["#rotation-section"].addEventListener("changeend",_e1242=function e(){if(_this707["#rotation-section"].removeEventListener("change",t),_this707["#rotation-section"].removeEventListener("changeend",_e1242),_this707.pg=!1,l){var _iterator1174=_createForOfIteratorHelper(s),_step1174;try{for(_iterator1174.s();!(_step1174=_iterator1174.n()).done;){var _t1740=_step1174.value;ka(_t1740,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1174.e(err);}finally{_iterator1174.f();}}});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(0===e.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else if(1===e.length){var _this$og53=this.og,i=_this$og53.displaySpace,_s594=_this$og53.displayUnit,_n480=_this$og53.displayPrecision,_o385=e[0],_l320=Ei(_o385),_a238=_s594?" "+_s594:"",_h194=1/Lb(10,_n480-1),_r131=Yt(_o385,t.vectorCanvas),_d105=Qt("px",_s594);"viewport"===i&&(_r131=Kt(t.currentWorkspace).multiply(_r131));var _c78=[new DOMPoint(_l320.x,_l320.y),new DOMPoint(_l320.x+_l320.width,_l320.y),new DOMPoint(_l320.x+_l320.width,_l320.y+_l320.height),new DOMPoint(_l320.x,_l320.y+_l320.height)];_c78=_c78.map(function(t){return t.matrixTransform(_r131);}),_c78=_c78.map(function(t){return t.matrixTransform(_d105);});var _p70=Jt(_o385),_u57=de(_p70,_l320).matrixTransform(_r131);_u57=_u57.matrixTransform(_d105);var _x165=$b.apply(void 0,_toConsumableArray(_c78.map(function(t){return t.x;}))),_b44=$b.apply(void 0,_toConsumableArray(_c78.map(function(t){return t.y;}))),_m41=Te(_c78[0],_c78[1]),_g36=Te(_c78[1],_c78[2]),_f26=_u57.x,_w20=_u57.y,_v16=ne(_o385);!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Gg&&(this["#x-input"].value=tt(_x165,_n480),this["#x-input"].suffix=_a238,this["#x-input"].step=_h194),!1===this.Ug&&(this["#y-input"].value=tt(_b44,_n480),this["#y-input"].suffix=_a238,this["#y-input"].step=_h194),!1===this.lb&&(this["#width-input"].value=tt(_m41,_n480),this["#width-input"].suffix=_a238,this["#width-input"].step=_h194),!1===this.Fg&&(this["#height-input"].value=tt(_g36,_n480),this["#height-input"].suffix=_a238,this["#height-input"].step=_h194),!1===this.Gf&&(this["#origin-x-input"].value=tt(_f26,_n480),this["#origin-x-input"].suffix=_a238,this["#origin-x-input"].step=_h194),!1===this.Uf&&(this["#origin-y-input"].value=tt(_w20,_n480),this["#origin-y-input"].suffix=_a238,this["#origin-y-input"].step=_h194),!1===this.pg&&(this["#rotation-slider"].value=tt(_v16,1),this["#rotation-input"].value=tt(_v16,1));}else{var _this$og54=this.og,_i1111=_this$og54.displaySpace,_s595=_this$og54.displayUnit,_n481=_this$og54.displayPrecision,_o386=_s595?" "+_s595:"",_l321=1/Lb(10,_n481-1),_a239=Qt("px",_s595),_h195=new DOMMatrix();"viewport"===_i1111&&(_h195=Kt(t.currentWorkspace));var _r132=e.map(function(e){var i=Yt(e,t.vectorCanvas);i=_h195.multiply(i);var s=Ei(e);return s=He(s,i),s=He(s,_a239),s;}),_d106=qt(t.vectorCanvas).inverse(),_c79=_h195.multiply(_d106),_p71=We(_r132),_u58=se(e,!1).matrixTransform(_c79);_u58=_u58.matrixTransform(_a239);var _x166=_p71.x,_b45=_p71.y,_m42=_p71.width,_g37=_p71.height,_f27=_u58.x,_w21=_u58.y;!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Gg&&(this["#x-input"].value=tt(_x166,_n481),this["#x-input"].suffix=_o386,this["#x-input"].step=_l321),!1===this.Ug&&(this["#y-input"].value=tt(_b45,_n481),this["#y-input"].suffix=_o386,this["#y-input"].step=_l321),!1===this.lb&&(this["#width-input"].value=tt(_m42,_n481),this["#width-input"].suffix=_o386,this["#width-input"].step=_l321),!1===this.Fg&&(this["#height-input"].value=tt(_g37,_n481),this["#height-input"].suffix=_o386,this["#height-input"].step=_l321),!1===this.Gf&&(this["#origin-x-input"].value=tt(_f27,_n481),this["#origin-x-input"].suffix=_o386,this["#origin-x-input"].step=_l321),!1===this.Uf&&(this["#origin-y-input"].value=tt(_w21,_n481),this["#origin-y-input"].suffix=_o386,this["#origin-y-input"].step=_l321),!1===this.pg&&(this["#rotation-slider"].value=0,this["#rotation-input"].value=0);}}}]);return Rb;}(ob);_defineProperty(Rb,"_shadowTemplate",Qi(_templateObject353()));_defineProperty(Rb,"_shadowStyleSheet",Ji(_templateObject354()));customElements.define("bx-objectgeometryinspector",Rb);var Bb=/*#__PURE__*/function(_ob15){_inherits(Bb,_ob15);var _super145=_createSuper(Bb);function Bb(){var _this708;_classCallCheck(this,Bb);_this708=_super145.call(this),_this708.hf=!1,_this708.rf=!1,_this708.df=!1,_this708.cf=!1,_this708.bf=null,_this708.mf=null,_this708.ff=es(_this708.qs,100,_assertThisInitialized(_this708)),_this708["#viewbox-x-input"].addEventListener("changestart",function(t){return _this708.Sf(t);}),_this708["#viewbox-y-input"].addEventListener("changestart",function(t){return _this708._f(t);}),_this708["#viewbox-width-input"].addEventListener("changestart",function(t){return _this708.Cf(t);}),_this708["#viewbox-height-input"].addEventListener("changestart",function(t){return _this708.Mf(t);}),_this708["#viewbox-switch"].addEventListener("toggle",function(){return _this708.Pf();}),_this708["#viewbox-lock-button"].addEventListener("toggle",function(){return _this708.Df();}),_this708["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this708.zf();}),_this708["#align-buttons"].addEventListener("toggle",function(){return _this708.Of();}),_this708["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this708.Ef();});return _this708;}_createClass(Bb,[{key:"tn",value:function tn(){var _this709=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-patterngeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this709.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this709.al(t.detail);});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){this.ff();}},{key:"Pf",value:function Pf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.bf?t.currentWorkspace.setAttribute("viewBox",this.bf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.bf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"Sf",value:function Sf(t){var _this710=this;var e,_i1112,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.hf=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this710["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1112=function i(){_this710["#viewbox-x-input"].removeEventListener("change",e),_this710["#viewbox-x-input"].removeEventListener("changeend",_i1112),_this710.hf=!1;});}},{key:"_f",value:function _f(t){var _this711=this;var e,_i1113,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.rf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this711["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1113=function i(){_this711["#viewbox-y-input"].removeEventListener("change",e),_this711["#viewbox-y-input"].removeEventListener("changeend",_i1113),_this711.rf=!1;});}},{key:"Cf",value:function Cf(t){var _this712=this;var e,_i1114,_this$Js$board49=this.Js.board,s=_this$Js$board49.geometryPrecision,n=_this$Js$board49.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.df=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this712["#viewbox-width-input"].value,null!==l&&(o.height=tt(_this712["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1114=function i(){_this712["#viewbox-width-input"].removeEventListener("change",e),_this712["#viewbox-width-input"].removeEventListener("changeend",_i1114),_this712.df=!1;});}},{key:"Mf",value:function Mf(t){var _this713=this;var e,_i1115,_this$Js$board50=this.Js.board,s=_this$Js$board50.geometryPrecision,n=_this$Js$board50.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.cf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this713["#viewbox-height-input"].value,null!==l&&(o.width=tt(_this713["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1115=function i(){_this713["#viewbox-height-input"].removeEventListener("change",e),_this713["#viewbox-height-input"].removeEventListener("changeend",_i1115),_this713.cf=!1;});}},{key:"Df",value:function Df(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-patterngeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"zf",value:function zf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.mf?t.setAttribute("preserveAspectRatio",this.mf):t.removeAttribute("preserveAspectRatio"):(this.mf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Of",value:function Of(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s596=e;"none"!==_s596&&"slice"===i&&(_s596+=" slice"),t.setAttribute("preserveAspectRatio",_s596);}}},{key:"Ef",value:function Ef(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s597=e;"none"!==_s597&&"slice"===i&&(_s597+=" slice"),t.setAttribute("preserveAspectRatio",_s597);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.og.displayPrecision;if("pattern"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Ft$fromString4=Ft.fromString(e.getAttribute("viewBox")),_t1742=_Ft$fromString4.x,_i1116=_Ft$fromString4.y,_s598=_Ft$fromString4.width,_n482=_Ft$fromString4.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.hf&&(this["#viewbox-x-input"].value=tt(_t1742,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.rf&&(this["#viewbox-y-input"].value=tt(_i1116,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.df&&(this["#viewbox-width-input"].value=tt(_s598,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.cf&&(this["#viewbox-height-input"].value=tt(_n482,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1743=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString3=Bt.fromString(_t1743),_i1117=_Bt$fromString3.align,_s599=_Bt$fromString3.meetOrSlice;"none"===_i1117?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1117,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s599,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Bb;}(ob);_defineProperty(Bb,"_shadowTemplate",Qi(_templateObject355()));_defineProperty(Bb,"_shadowStyleSheet",Ji(_templateObject356()));customElements.define("bx-patterngeometryinspector",Bb);var Gb=Math.pow;var Ub=/*#__PURE__*/function(_ob16){_inherits(Ub,_ob16);var _super146=_createSuper(Ub);function Ub(){var _this714;_classCallCheck(this,Ub);_this714=_super146.call(this),_this714.yg=!1,_this714.kg=!1,_this714.Vf=!1,_this714.jf=!1,_this714.Dh=es(_this714.qs,200,_assertThisInitialized(_this714)),_this714["#r1-input"].addEventListener("changestart",function(){return _this714.Mg();}),_this714["#r2-input"].addEventListener("changestart",function(){return _this714.Pg();}),_this714["#start-angle-section"].addEventListener("changestart",function(){return _this714.au();}),_this714["#end-angle-section"].addEventListener("changestart",function(){return _this714.hu();});return _this714;}_createClass(Ub,[{key:"tn",value:function tn(){var _this715=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this715.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this715.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this715.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Mg",value:function Mg(){var _this716=this;var t,_e1244,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values51=_slicedToArray(wl(s).values,6),n=_wl$values51[0],o=_wl$values51[1],l=_wl$values51[2],a=_wl$values51[3],h=_wl$values51[4],r=_wl$values51[5],_this$og55=this.og,d=_this$og55.displaySpace,c=_this$og55.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.currentWorkspace);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie inner radius"),this.yg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1744){var e=new J(m,g);e.length=_this716["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=tt(e.length,p),_vl(s,{type:"pie",values:[n,o,l,a,h,r]});}),this["#r1-input"].addEventListener("changeend",_e1244=function e(){_this716["#r1-input"].removeEventListener("change",t),_this716["#r1-input"].removeEventListener("changeend",_e1244),_this716.yg=!1;});}},{key:"Pg",value:function Pg(){var _this717=this;var t,_e1245,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values52=_slicedToArray(wl(s).values,6),n=_wl$values52[0],o=_wl$values52[1],l=_wl$values52[2],a=_wl$values52[3],h=_wl$values52[4],r=_wl$values52[5],_this$og56=this.og,d=_this$og56.displaySpace,c=_this$og56.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.currentWorkspace);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie outer radius"),this.kg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1745){var e=new J(m,g);e.length=_this717["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),a=tt(e.length,p),_vl(s,{type:"pie",values:[n,o,l,a,h,r]});}),this["#r2-input"].addEventListener("changeend",_e1245=function e(){_this717["#r2-input"].removeEventListener("change",t),_this717["#r2-input"].removeEventListener("changeend",_e1245),_this717.kg=!1;});}},{key:"au",value:function au(){var _this718=this;var t,_e1246,i=this.Js.board,s=[],n=Symbol();var _iterator1175=_createForOfIteratorHelper(i.outermostSelectedElements),_step1175;try{for(_iterator1175.s();!(_step1175=_iterator1175.n()).done;){var _t1748=_step1175.value;if("path"===_t1748.localName){var _e1247=wl(_t1748);_e1247&&"pie"===_e1247.type&&(_t1748[n]=_e1247,s.push(_t1748));}}}catch(err){_iterator1175.e(err);}finally{_iterator1175.f();}i.undoManager.checkpoint("Pie start angle"),this.Vf=!0,this["#start-angle-section"].addEventListener("change",t=function t(_t1747){_t1747.target===_this718["#start-angle-slider"]?_this718["#start-angle-input"].value=_this718["#start-angle-slider"].value:_t1747.target===_this718["#start-angle-input"]&&(_this718["#start-angle-slider"].value=_this718["#start-angle-input"].value);var _iterator1176=_createForOfIteratorHelper(s),_step1176;try{for(_iterator1176.s();!(_step1176=_iterator1176.n()).done;){var _t1746=_step1176.value;_t1746[n].values[4]=_this718["#start-angle-slider"].value,_vl(_t1746,_t1746[n]);}}catch(err){_iterator1176.e(err);}finally{_iterator1176.f();}}),this["#start-angle-section"].addEventListener("changeend",_e1246=function e(){_this718["#start-angle-section"].removeEventListener("change",t),_this718["#start-angle-section"].removeEventListener("changeend",_e1246),_this718.Vf=!1;});}},{key:"hu",value:function hu(){var _this719=this;var t,_e1248,i=this.Js.board,s=[],n=Symbol();var _iterator1177=_createForOfIteratorHelper(i.outermostSelectedElements),_step1177;try{for(_iterator1177.s();!(_step1177=_iterator1177.n()).done;){var _t1751=_step1177.value;if("path"===_t1751.localName){var _e1249=wl(_t1751);_e1249&&"pie"===_e1249.type&&(_t1751[n]=_e1249,s.push(_t1751));}}}catch(err){_iterator1177.e(err);}finally{_iterator1177.f();}i.undoManager.checkpoint("Pie end angle"),this.jf=!0,this["#end-angle-section"].addEventListener("change",t=function t(_t1750){_t1750.target===_this719["#end-angle-slider"]?_this719["#end-angle-input"].value=_this719["#end-angle-slider"].value:_t1750.target===_this719["#end-angle-input"]&&(_this719["#end-angle-slider"].value=_this719["#end-angle-input"].value);var _iterator1178=_createForOfIteratorHelper(s),_step1178;try{for(_iterator1178.s();!(_step1178=_iterator1178.n()).done;){var _t1749=_step1178.value;_t1749[n].values[5]=_this719["#end-angle-slider"].value,_vl(_t1749,_t1749[n]);}}catch(err){_iterator1178.e(err);}finally{_iterator1178.f();}}),this["#end-angle-section"].addEventListener("changeend",_e1248=function e(){_this719["#end-angle-section"].removeEventListener("change",t),_this719["#end-angle-section"].removeEventListener("changeend",_e1248),_this719.jf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=wl(e[0]);if(i&&"pie"===i.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i$values3=_slicedToArray(i.values,6),_s600=_i$values3[0],_n483=_i$values3[1],_o387=_i$values3[2],_l322=_i$values3[3],_a240=_i$values3[4],_h196=_i$values3[5],_this$og57=this.og,_r133=_this$og57.displayUnit,_d107=_this$og57.displaySpace,_c80=_this$og57.displayPrecision,_p72=e[0],_u59=Yt(_p72,t.currentWorkspace),_x167=Qt("px",_r133),_b46=_r133?" "+_r133:"",_m43=1/Gb(10,_c80-1);"viewport"===_d107&&(_u59=Kt(t.currentWorkspace).multiply(_u59));var _g38=new DOMPoint(_s600,_n483);_g38=_g38.matrixTransform(_u59),_g38=_g38.matrixTransform(_x167),_g38=Oe(_g38,_c80);var _f28=new DOMPoint(_s600+_o387,_n483);_f28=_f28.matrixTransform(_u59),_f28=_f28.matrixTransform(_x167);var _w22=new DOMPoint(_s600+_l322,_n483);_w22=_w22.matrixTransform(_u59),_w22=_w22.matrixTransform(_x167),!1===this.yg&&(this["#r1-input"].max=tt(new J(_g38,_w22).length,_c80),this["#r1-input"].value=tt(new J(_g38,_f28).length,_c80),this["#r1-input"].suffix=_b46,this["#r1-input"].step=_m43),!1===this.kg&&(this["#r2-input"].min=tt(new J(_g38,_f28).length,_c80),this["#r2-input"].value=tt(new J(_g38,_w22).length,_c80),this["#r2-input"].suffix=_b46,this["#r2-input"].step=_m43),!1===this.Vf&&(this["#start-angle-slider"].value=tt(_a240,2),this["#start-angle-input"].value=tt(_a240,2)),!1===this.jf&&(this["#end-angle-slider"].value=tt(_h196,2),this["#end-angle-input"].value=tt(_h196,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Ub;}(ob);_defineProperty(Ub,"_shadowTemplate",Qi(_templateObject357()));_defineProperty(Ub,"_shadowStyleSheet",Ji(_templateObject358()));customElements.define("bx-piegeometryinspector",Ub);var Fb=Math.min,Nb=Math.pow;var Vb=/*#__PURE__*/function(_ob17){_inherits(Vb,_ob17);var _super147=_createSuper(Vb);function Vb(){var _this720;_classCallCheck(this,Vb);_this720=_super147.call(this),_this720.mg=!1,_this720.gg=!1,_this720.yg=!1,_this720.kg=!1,_this720.Sg=!1,_this720.Hf=!1,_this720.Dh=es(_this720.qs,200,_assertThisInitialized(_this720)),_this720["#r1-input"].addEventListener("changestart",function(){return _this720.Mg();}),_this720["#r2-input"].addEventListener("changestart",function(){return _this720.Pg();}),_this720["#r3-input"].addEventListener("changestart",function(){return _this720.Dg();}),_this720["#r4-input"].addEventListener("changestart",function(){return _this720.Wf();}),_this720["#r1-input"].validate=function(){return null;},_this720["#r2-input"].validate=function(){return null;},_this720["#r3-input"].validate=function(){return null;},_this720["#r4-input"].validate=function(){return null;};return _this720;}_createClass(Vb,[{key:"tn",value:function tn(){var _this721=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this721.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this721.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this721.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"Mg",value:function Mg(){var _this722=this;var t,_e1250,i=this.Js.board,s=i.outermostSelectedElements[0],_this$og58=this.og,n=_this$og58.displaySpace,o=_this$og58.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.vectorCanvas);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Top left corner radius"),this.yg=!0,"rect"===s.localName&&(s=this.Yf(s));var d=wl(s),_d$values=_slicedToArray(d.values,8),c=_d$values[0],p=_d$values[1],u=_d$values[2],x=_d$values[3],b=_d$values[4],m=_d$values[5],g=_d$values[6],f=_d$values[7];this["#r1-input"].addEventListener("change",t=function t(_t1752){var e=new J(100,100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this722["#r1-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),b=tt(e.length,l),_vl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r1-input"].addEventListener("changeend",_e1250=function e(){_this722["#r1-input"].removeEventListener("change",t),_this722["#r1-input"].removeEventListener("changeend",_e1250),_this722["#r1-input"].value===_this722["#r2-input"].value&&_this722["#r1-input"].value===_this722["#r3-input"].value&&_this722["#r1-input"].value===_this722["#r4-input"].value&&_this722.qf(s),_this722.yg=!1;});}},{key:"Pg",value:function Pg(){var _this723=this;var t,_e1251,i=this.Js.board,s=i.outermostSelectedElements[0],_this$og59=this.og,n=_this$og59.displaySpace,o=_this$og59.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.vectorCanvas);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Top right corner radius"),this.kg=!0,"rect"===s.localName&&(s=this.Yf(s));var d=wl(s),_d$values2=_slicedToArray(d.values,8),c=_d$values2[0],p=_d$values2[1],u=_d$values2[2],x=_d$values2[3],b=_d$values2[4],m=_d$values2[5],g=_d$values2[6],f=_d$values2[7];this["#r2-input"].addEventListener("change",t=function t(_t1753){var e=new J(-100,100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this723["#r2-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),m=tt(e.length,l),_vl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r2-input"].addEventListener("changeend",_e1251=function e(){_this723["#r2-input"].removeEventListener("change",t),_this723["#r2-input"].removeEventListener("changeend",_e1251),_this723["#r1-input"].value===_this723["#r2-input"].value&&_this723["#r1-input"].value===_this723["#r3-input"].value&&_this723["#r1-input"].value===_this723["#r4-input"].value&&_this723.qf(s),_this723.kg=!1;});}},{key:"Dg",value:function Dg(){var _this724=this;var t,_e1252,i=this.Js.board,s=i.outermostSelectedElements[0],_this$og60=this.og,n=_this$og60.displaySpace,o=_this$og60.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.vectorCanvas);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Bottom right corner radius"),this.Sg=!0,"rect"===s.localName&&(s=this.Yf(s));var d=wl(s),_d$values3=_slicedToArray(d.values,8),c=_d$values3[0],p=_d$values3[1],u=_d$values3[2],x=_d$values3[3],b=_d$values3[4],m=_d$values3[5],g=_d$values3[6],f=_d$values3[7];this["#r3-input"].addEventListener("change",t=function t(_t1754){var e=new J(-100,-100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this724["#r3-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),g=tt(e.length,l),_vl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r3-input"].addEventListener("changeend",_e1252=function e(){_this724["#r3-input"].removeEventListener("change",t),_this724["#r3-input"].removeEventListener("changeend",_e1252),_this724["#r1-input"].value===_this724["#r2-input"].value&&_this724["#r1-input"].value===_this724["#r3-input"].value&&_this724["#r1-input"].value===_this724["#r4-input"].value&&_this724.qf(s),_this724.Sg=!1;});}},{key:"Wf",value:function Wf(){var _this725=this;var t,_e1253,i=this.Js.board,s=i.outermostSelectedElements[0],_this$og61=this.og,n=_this$og61.displaySpace,o=_this$og61.displayUnit,l=i.geometryPrecision,a=Qt(o,"px"),h=Yt(s,i.vectorCanvas);"viewport"===n&&(h=Kt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Bottom left corner radius"),this.Hf=!0,"rect"===s.localName&&(s=this.Yf(s));var d=wl(s),_d$values4=_slicedToArray(d.values,8),c=_d$values4[0],p=_d$values4[1],u=_d$values4[2],x=_d$values4[3],b=_d$values4[4],m=_d$values4[5],g=_d$values4[6],f=_d$values4[7];this["#r4-input"].addEventListener("change",t=function t(_t1755){var e=new J(100,-100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this725["#r4-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),f=tt(e.length,l),_vl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r4-input"].addEventListener("changeend",_e1253=function e(){_this725["#r4-input"].removeEventListener("change",t),_this725["#r4-input"].removeEventListener("changeend",_e1253),_this725["#r1-input"].value===_this725["#r2-input"].value&&_this725["#r1-input"].value===_this725["#r3-input"].value&&_this725["#r1-input"].value===_this725["#r4-input"].value&&_this725.qf(s),_this725.Hf=!1;});}},{key:"Yf",value:function Yf(t){var e=this.Js.board,i=Ii("svg:path");var _iterator1179=_createForOfIteratorHelper(t.attributes),_step1179;try{for(_iterator1179.s();!(_step1179=_iterator1179.n()).done;){var _e1254=_step1179.value;!1===["x","y","width","height","rx","ry"].includes(_e1254.name)&&i.setAttribute(_e1254.name,_e1254.value);}}catch(err){_iterator1179.e(err);}finally{_iterator1179.f();}return _vl(i,{type:"rect",values:[t.x.baseVal.value,t.y.baseVal.value,t.width.baseVal.value,t.height.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value]}),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"qf",value:function qf(t){var e=this.Js.board,i=Ii("svg:rect"),s=wl(t),_s$values13=_slicedToArray(s.values,8),n=_s$values13[0],o=_s$values13[1],l=_s$values13[2],a=_s$values13[3],h=_s$values13[4],r=_s$values13[5],d=_s$values13[6],c=_s$values13[7];var _iterator1180=_createForOfIteratorHelper(t.attributes),_step1180;try{for(_iterator1180.s();!(_step1180=_iterator1180.n()).done;){var _e1255=_step1180.value;"d"!==_e1255.name&&"data-bx-shape"!==_e1255.name&&i.setAttribute(_e1255.name,_e1255.value);}}catch(err){_iterator1180.e(err);}finally{_iterator1180.f();}return i.setAttribute("x",n),i.setAttribute("y",o),i.setAttribute("width",l),i.setAttribute("height",a),i.setAttribute("rx",h),i.setAttribute("ry",h),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements[0];if(e){if("rect"===e.localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$og62=this.og,i=_this$og62.displayUnit,_s601=_this$og62.displaySpace,_n484=_this$og62.displayPrecision,_o388=Yt(e,t.currentWorkspace),_l323=Qt("px",i),_a241=i?" "+i:"",_h197=1/Nb(10,_n484-1);"viewport"===_s601&&(_o388=Kt(t.currentWorkspace).multiply(_o388));var _r134=new J(100,100);_r134.length=e.rx.baseVal.value,_r134=_r134.matrixTransform(_o388),_r134=_r134.matrixTransform(_l323);var _d108=new J(e.width.baseVal.value,0);_d108=_d108.matrixTransform(_o388),_d108=_d108.matrixTransform(_l323);var _c81=new J(0,e.height.baseVal.value);_c81=_c81.matrixTransform(_o388),_c81=_c81.matrixTransform(_l323);var _p73=tt(_r134.length,_n484),_u60=tt(Fb(_d108.length/2,_c81.length/2),_n484);for(var _i1118=0,_arr43=[this["#r1-input"],this["#r2-input"],this["#r3-input"],this["#r4-input"]];_i1118<_arr43.length;_i1118++){var _t1756=_arr43[_i1118];_t1756.max=_u60,_t1756.value=_p73,_t1756.step=_h197,_t1756.suffix=_a241;}}else if("path"===e.localName){var _i1119=wl(e);if(_i1119&&"rect"===_i1119.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1119$values=_slicedToArray(_i1119.values,8),_s602=_i1119$values[0],_n485=_i1119$values[1],_o389=_i1119$values[2],_l324=_i1119$values[3],_a242=_i1119$values[4],_h198=_i1119$values[5],_r135=_i1119$values[6],_d109=_i1119$values[7],_this$og63=this.og,_c82=_this$og63.displayUnit,_p74=_this$og63.displaySpace,_u61=_this$og63.displayPrecision,_x168=Yt(e,t.currentWorkspace),_b47=Qt("px",_c82),_m44=_c82?" "+_c82:"",_g39=1/Nb(10,_u61-1);"viewport"===_p74&&(_x168=Kt(t.currentWorkspace).multiply(_x168));var _f29=new J(_o389,0);_f29=_f29.matrixTransform(_x168),_f29=_f29.matrixTransform(_b47);var _w23=new J(0,_l324);_w23=_w23.matrixTransform(_x168),_w23=_w23.matrixTransform(_b47);var _v17=tt(Fb(_f29.length/2,_w23.length/2),_u61);if(!1===this.yg){var _t1757=new J(100,100);_t1757.length=_a242,_t1757=_t1757.matrixTransform(_x168),_t1757=_t1757.matrixTransform(_b47);var _e1256=tt(_t1757.length,_u61);this["#r1-input"].max=_v17,this["#r1-input"].value=_e1256,this["#r1-input"].step=_g39,this["#r1-input"].suffix=_m44;}if(!1===this.kg){var _t1758=new J(-100,100);_t1758.length=_h198,_t1758=_t1758.matrixTransform(_x168),_t1758=_t1758.matrixTransform(_b47);var _e1257=tt(_t1758.length,_u61);this["#r2-input"].max=_v17,this["#r2-input"].value=_e1257,this["#r2-input"].step=_g39,this["#r2-input"].suffix=_m44;}if(!1===this.Sg){var _t1759=new J(-100,-100);_t1759.length=_r135,_t1759=_t1759.matrixTransform(_x168),_t1759=_t1759.matrixTransform(_b47);var _e1258=tt(_t1759.length,_u61);this["#r3-input"].max=_v17,this["#r3-input"].value=_e1258,this["#r3-input"].step=_g39,this["#r3-input"].suffix=_m44;}if(!1===this.Hf){var _t1760=new J(100,-100);_t1760.length=_d109,_t1760=_t1760.matrixTransform(_x168),_t1760=_t1760.matrixTransform(_b47);var _e1259=tt(_t1760.length,_u61);this["#r4-input"].max=_v17,this["#r4-input"].value=_e1259,this["#r4-input"].step=_g39,this["#r4-input"].suffix=_m44;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Vb;}(ob);_defineProperty(Vb,"_shadowTemplate",Qi(_templateObject359()));_defineProperty(Vb,"_shadowStyleSheet",Ji(_templateObject360()));customElements.define("bx-rectgeometryinspector",Vb);var jb=Math.min,Hb=Math.max,Wb=Math.pow;var Yb=/*#__PURE__*/function(_ob18){_inherits(Yb,_ob18);var _super148=_createSuper(Yb);function Yb(){var _this726;_classCallCheck(this,Yb);_this726=_super148.call(this),_this726.mg=!1,_this726.gg=!1,_this726.Xf=!1,_this726.Zf=!1,_this726.Kf=!1,_this726.Qf=!1,_this726.Dh=es(_this726.qs,200,_assertThisInitialized(_this726)),_this726["#cx-input"].addEventListener("changestart",function(){return _this726.fg();}),_this726["#cy-input"].addEventListener("changestart",function(){return _this726.wg();}),_this726["#r1x-input"].addEventListener("changestart",function(){return _this726.Jf();}),_this726["#r1y-input"].addEventListener("changestart",function(){return _this726.tw();}),_this726["#r1-aspect-ratio-button"].addEventListener("toggle",function(){return _this726.ew();}),_this726["#r2x-input"].addEventListener("changestart",function(){return _this726.iw();}),_this726["#r2y-input"].addEventListener("changestart",function(){return _this726.sw();}),_this726["#r2-aspect-ratio-button"].addEventListener("toggle",function(){return _this726.nw();}),_this726["#r1x-input"].validate=function(){return null;},_this726["#r1y-input"].validate=function(){return null;},_this726["#r2x-input"].validate=function(){return null;},_this726["#r2y-input"].validate=function(){return null;};return _this726;}_createClass(Yb,[{key:"tn",value:function tn(){var _this727=this;this["#r1-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR1AspectRatio",!1),this["#r2-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR2AspectRatio",!1),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this727.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this727.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this727.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"fg",value:function fg(){var _this728=this;var t,_e1260,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values53=_slicedToArray(wl(s).values,6),n=_wl$values53[0],o=_wl$values53[1],l=_wl$values53[2],a=_wl$values53[3],h=_wl$values53[4],r=_wl$values53[5],_this$og64=this.og,d=_this$og64.displaySpace,c=_this$og64.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.vectorCanvas);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.mg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1761){var e=new DOMPoint(_this728["#cx-input"].value,_this728["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Oe(e,p),n=e.x,o=e.y,_vl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#cx-input"].addEventListener("changeend",_e1260=function e(){_this728["#cx-input"].removeEventListener("change",t),_this728["#cx-input"].removeEventListener("changeend",_e1260),_this728.mg=!1;});}},{key:"wg",value:function wg(){var _this729=this;var t,_e1261,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values54=_slicedToArray(wl(s).values,6),n=_wl$values54[0],o=_wl$values54[1],l=_wl$values54[2],a=_wl$values54[3],h=_wl$values54[4],r=_wl$values54[5],_this$og65=this.og,d=_this$og65.displaySpace,c=_this$og65.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.currentWorkspace);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.gg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1762){var e=new DOMPoint(_this729["#cx-input"].value,_this729["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Oe(e,p),n=e.x,o=e.y,_vl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#cy-input"].addEventListener("changeend",_e1261=function e(){_this729["#cy-input"].removeEventListener("change",t),_this729["#cy-input"].removeEventListener("changeend",_e1261),_this729.gg=!1;});}},{key:"Jf",value:function Jf(){var _this730=this;var t,_e1262,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values55=_slicedToArray(wl(s).values,6),n=_wl$values55[0],o=_wl$values55[1],l=_wl$values55[2],a=_wl$values55[3],h=_wl$values55[4],r=_wl$values55[5],_this$og66=this.og,d=_this$og66.displaySpace,c=_this$og66.displayUnit,p=i.geometryPrecision,u=this["#r1y-input"].value/this["#r1x-input"].value||1,x=Qt(c,"px"),b=Yt(s,i.currentWorkspace);"viewport"===d&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Xf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1x-input"].addEventListener("change",t=function t(_t1763){var e=new J(g,f);e.length=_this730["#r1x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=tt(e.length,p),_this730["#r1-aspect-ratio-button"].toggled&&(a=tt(l*u,p)),_vl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r1x-input"].addEventListener("changeend",_e1262=function e(){_this730["#r1x-input"].removeEventListener("change",t),_this730["#r1x-input"].removeEventListener("changeend",_e1262),_this730.Xf=!1;});}},{key:"tw",value:function tw(){var _this731=this;var t,_e1263,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values56=_slicedToArray(wl(s).values,6),n=_wl$values56[0],o=_wl$values56[1],l=_wl$values56[2],a=_wl$values56[3],h=_wl$values56[4],r=_wl$values56[5],_this$og67=this.og,d=_this$og67.displaySpace,c=_this$og67.displayUnit,p=i.geometryPrecision,u=this["#r1x-input"].value/this["#r1y-input"].value||1,x=Qt(c,"px"),b=Yt(s,i.currentWorkspace);"viewport"===d&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.Zf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1y-input"].addEventListener("change",t=function t(_t1764){var e=new J(g,f);e.length=_this731["#r1y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=tt(e.length,p),_this731["#r1-aspect-ratio-button"].toggled&&(l=tt(a*u,p)),_vl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r1y-input"].addEventListener("changeend",_e1263=function e(){_this731["#r1y-input"].removeEventListener("change",t),_this731["#r1y-input"].removeEventListener("changeend",_e1263),_this731.Zf=!1;});}},{key:"ew",value:function ew(){this.Qs.setConfig("bx-ringgeometry:preserveR1AspectRatio",this["#r1-aspect-ratio-button"].toggled),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"iw",value:function iw(){var _this732=this;var t,_e1264,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values57=_slicedToArray(wl(s).values,6),n=_wl$values57[0],o=_wl$values57[1],l=_wl$values57[2],a=_wl$values57[3],h=_wl$values57[4],r=_wl$values57[5],_this$og68=this.og,d=_this$og68.displaySpace,c=_this$og68.displayUnit,p=i.geometryPrecision,u=this["#r2y-input"].value/this["#r2x-input"].value||1,x=Qt(c,"px"),b=Yt(s,i.currentWorkspace);"viewport"===d&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Kf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2x-input"].addEventListener("change",t=function t(_t1765){var e=new J(g,f);e.length=_this732["#r2x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=tt(e.length,p),_this732["#r2-aspect-ratio-button"].toggled&&(r=tt(h*u,p)),_vl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r2x-input"].addEventListener("changeend",_e1264=function e(){_this732["#r2x-input"].removeEventListener("change",t),_this732["#r2x-input"].removeEventListener("changeend",_e1264),_this732.Kf=!1;});}},{key:"sw",value:function sw(){var _this733=this;var t,_e1265,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values58=_slicedToArray(wl(s).values,6),n=_wl$values58[0],o=_wl$values58[1],l=_wl$values58[2],a=_wl$values58[3],h=_wl$values58[4],r=_wl$values58[5],_this$og69=this.og,d=_this$og69.displaySpace,c=_this$og69.displayUnit,p=i.geometryPrecision,u=this["#r2x-input"].value/this["#r2y-input"].value||1,x=Qt(c,"px"),b=Yt(s,i.currentWorkspace);"viewport"===d&&(b=Kt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.Qf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2y-input"].addEventListener("change",t=function t(_t1766){var e=new J(g,f);e.length=_this733["#r2y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),r=tt(e.length,p),_this733["#r2-aspect-ratio-button"].toggled&&(h=tt(r*u,p)),_vl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r2y-input"].addEventListener("changeend",_e1265=function e(){_this733["#r2y-input"].removeEventListener("change",t),_this733["#r2y-input"].removeEventListener("changeend",_e1265),_this733.Qf=!1;});}},{key:"nw",value:function nw(){this.Qs.setConfig("bx-ringgeometry:preserveR2AspectRatio",this["#r2-aspect-ratio-button"].toggled),this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=wl(e[0]);if(i&&"ring"===i.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i$values4=_slicedToArray(i.values,6),_s603=_i$values4[0],_n486=_i$values4[1],_o390=_i$values4[2],_l325=_i$values4[3],_a243=_i$values4[4],_h199=_i$values4[5],_this$og70=this.og,_r136=_this$og70.displayUnit,_d110=_this$og70.displaySpace,_c83=_this$og70.displayPrecision,_p75=e[0],_u62=Yt(_p75,t.currentWorkspace),_x169=Qt("px",_r136),_b48=_r136?" "+_r136:"",_m45=1/Wb(10,_c83-1);"viewport"===_d110&&(_u62=Kt(t.currentWorkspace).multiply(_u62));var _g40=new DOMPoint(_s603,_n486);if(_g40=_g40.matrixTransform(_u62),_g40=_g40.matrixTransform(_x169),_g40=Oe(_g40,_c83),!1===this.mg&&(this["#cx-input"].value=_g40.x,this["#cx-input"].suffix=_b48,this["#cx-input"].step=_m45),!1===this.gg&&(this["#cy-input"].value=_g40.y,this["#cy-input"].suffix=_b48,this["#cy-input"].step=_m45),!1===this.Xf){var _t1767=this["#r1-aspect-ratio-button"].toggled?jb(_a243,_h199*(_o390/_l325)):_a243,_e1266=new DOMPoint(_s603+_o390,_n486);_e1266=_e1266.matrixTransform(_u62),_e1266=_e1266.matrixTransform(_x169);var _i1120=new DOMPoint(_s603+_t1767,_n486);_i1120=_i1120.matrixTransform(_u62),_i1120=_i1120.matrixTransform(_x169),this["#r1x-input"].max=tt(new J(_g40,_i1120).length,_c83),this["#r1x-input"].value=tt(new J(_g40,_e1266).length,_c83),this["#r1x-input"].suffix=_b48,this["#r1x-input"].step=_m45;}if(!1===this.Zf){var _t1768=this["#r1-aspect-ratio-button"].toggled?jb(_h199,_a243*(_l325/_o390)):_h199,_e1267=new DOMPoint(_s603,_n486+_l325);_e1267=_e1267.matrixTransform(_u62),_e1267=_e1267.matrixTransform(_x169);var _i1121=new DOMPoint(_s603,_n486+_t1768);_i1121=_i1121.matrixTransform(_u62),_i1121=_i1121.matrixTransform(_x169),this["#r1y-input"].max=tt(new J(_g40,_i1121).length,_c83),this["#r1y-input"].value=tt(new J(_g40,_e1267).length,_c83),this["#r1y-input"].suffix=_b48,this["#r1y-input"].step=_m45;}if(!1===this.Kf){var _t1769=this["#r2-aspect-ratio-button"].toggled?Hb(_o390,_l325*(_a243/_h199)):_o390,_e1268=new DOMPoint(_s603+_a243,_n486);_e1268=_e1268.matrixTransform(_u62),_e1268=_e1268.matrixTransform(_x169);var _i1122=new DOMPoint(_s603+_t1769,_n486);_i1122=_i1122.matrixTransform(_u62),_i1122=_i1122.matrixTransform(_x169),this["#r2x-input"].min=tt(new J(_g40,_i1122).length,_c83),this["#r2x-input"].value=tt(new J(_g40,_e1268).length,_c83),this["#r2x-input"].suffix=_b48,this["#r2x-input"].step=_m45;}if(!1===this.Qf){var _t1770=this["#r2-aspect-ratio-button"].toggled?Hb(_l325,_o390*(_h199/_a243)):_l325,_e1269=new DOMPoint(_s603,_n486+_h199);_e1269=_e1269.matrixTransform(_u62),_e1269=_e1269.matrixTransform(_x169);var _i1123=new DOMPoint(_s603,_n486+_t1770);_i1123=_i1123.matrixTransform(_u62),_i1123=_i1123.matrixTransform(_x169),this["#r2y-input"].min=tt(new J(_g40,_i1123).length,_c83),this["#r2y-input"].value=tt(new J(_g40,_e1269).length,_c83),this["#r2y-input"].suffix=_b48,this["#r2y-input"].step=_m45;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Yb;}(ob);_defineProperty(Yb,"_shadowTemplate",Qi(_templateObject361()));_defineProperty(Yb,"_shadowStyleSheet",Ji(_templateObject362()));customElements.define("bx-ringgeometryinspector",Yb);var qb=Math.pow;var Xb=/*#__PURE__*/function(_ob19){_inherits(Xb,_ob19);var _super149=_createSuper(Xb);function Xb(){var _this734;_classCallCheck(this,Xb);_this734=_super149.call(this),_this734.mg=!1,_this734.gg=!1,_this734.yg=!1,_this734.kg=!1,_this734.Vf=!1,_this734.jf=!1,_this734.Dh=es(_this734.qs,200,_assertThisInitialized(_this734)),_this734["#cx-input"].addEventListener("changestart",function(){return _this734.fg();}),_this734["#cy-input"].addEventListener("changestart",function(){return _this734.wg();}),_this734["#r1-input"].addEventListener("changestart",function(){return _this734.Mg();}),_this734["#r2-input"].addEventListener("changestart",function(){return _this734.Pg();}),_this734["#start-angle-input"].addEventListener("changestart",function(){return _this734.ow();}),_this734["#end-angle-input"].addEventListener("changestart",function(){return _this734.lw();});return _this734;}_createClass(Xb,[{key:"tn",value:function tn(){var _this735=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this735.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this735.Dh();}),this.og.addEventListener("spacebuttonstoggle",this.dg=function(){_this735.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.og.removeEventListener("spacebuttonstoggle",this.dg);}},{key:"fg",value:function fg(){var _this736=this;var t,_e1270,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values59=_slicedToArray(wl(s).values,6),n=_wl$values59[0],o=_wl$values59[1],l=_wl$values59[2],a=_wl$values59[3],h=_wl$values59[4],r=_wl$values59[5],_this$og71=this.og,d=_this$og71.displaySpace,c=_this$og71.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.vectorCanvas);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.mg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1771){var e=new DOMPoint(_this736["#cx-input"].value,_this736["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Oe(e,p),n=e.x,o=e.y,_vl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#cx-input"].addEventListener("changeend",_e1270=function e(){_this736["#cx-input"].removeEventListener("change",t),_this736["#cx-input"].removeEventListener("changeend",_e1270),_this736.mg=!1;});}},{key:"wg",value:function wg(){var _this737=this;var t,_e1271,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values60=_slicedToArray(wl(s).values,6),n=_wl$values60[0],o=_wl$values60[1],l=_wl$values60[2],a=_wl$values60[3],h=_wl$values60[4],r=_wl$values60[5],_this$og72=this.og,d=_this$og72.displaySpace,c=_this$og72.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.currentWorkspace);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.gg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1772){var e=new DOMPoint(_this737["#cx-input"].value,_this737["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Oe(e,p),n=e.x,o=e.y,_vl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#cy-input"].addEventListener("changeend",_e1271=function e(){_this737["#cy-input"].removeEventListener("change",t),_this737["#cy-input"].removeEventListener("changeend",_e1271),_this737.gg=!1;});}},{key:"Mg",value:function Mg(){var _this738=this;var t,_e1272,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values61=_slicedToArray(wl(s).values,6),n=_wl$values61[0],o=_wl$values61[1],l=_wl$values61[2],a=_wl$values61[3],h=_wl$values61[4],r=_wl$values61[5],_this$og73=this.og,d=_this$og73.displaySpace,c=_this$og73.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.currentWorkspace);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral inner radius"),this.yg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1773){var e=new J(m,g);e.length=_this738["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=tt(e.length,p),_vl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#r1-input"].addEventListener("changeend",_e1272=function e(){_this738["#r1-input"].removeEventListener("change",t),_this738["#r1-input"].removeEventListener("changeend",_e1272),_this738.yg=!1;});}},{key:"Pg",value:function Pg(){var _this739=this;var t,_e1273,i=this.Js.board,s=i.outermostSelectedElements[0],_wl$values62=_slicedToArray(wl(s).values,6),n=_wl$values62[0],o=_wl$values62[1],l=_wl$values62[2],a=_wl$values62[3],h=_wl$values62[4],r=_wl$values62[5],_this$og74=this.og,d=_this$og74.displaySpace,c=_this$og74.displayUnit,p=i.geometryPrecision,u=Qt(c,"px"),x=Yt(s,i.currentWorkspace);"viewport"===d&&(x=Kt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral outer radius"),this.kg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1774){var e=new J(m,g);e.length=_this739["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),a=tt(e.length,p),_vl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#r2-input"].addEventListener("changeend",_e1273=function e(){_this739["#r2-input"].removeEventListener("change",t),_this739["#r2-input"].removeEventListener("changeend",_e1273),_this739.kg=!1;});}},{key:"ow",value:function ow(){var _this740=this;var t,_e1274,i=this.Js.board,s=[],n=Symbol();var _iterator1181=_createForOfIteratorHelper(i.outermostSelectedElements),_step1181;try{for(_iterator1181.s();!(_step1181=_iterator1181.n()).done;){var _t1777=_step1181.value;if("path"===_t1777.localName){var _e1275=wl(_t1777);_e1275&&"spiral"===_e1275.type&&(_t1777[n]=_e1275,s.push(_t1777));}}}catch(err){_iterator1181.e(err);}finally{_iterator1181.f();}i.undoManager.checkpoint("Spiral start angle"),this.Vf=!0,this["#start-angle-input"].addEventListener("change",t=function t(_t1776){var _iterator1182=_createForOfIteratorHelper(s),_step1182;try{for(_iterator1182.s();!(_step1182=_iterator1182.n()).done;){var _t1775=_step1182.value;_t1775[n].values[4]=_this740["#start-angle-input"].value,_vl(_t1775,_t1775[n]);}}catch(err){_iterator1182.e(err);}finally{_iterator1182.f();}}),this["#start-angle-input"].addEventListener("changeend",_e1274=function e(){_this740["#start-angle-input"].removeEventListener("change",t),_this740["#start-angle-input"].removeEventListener("changeend",_e1274),_this740.Vf=!1;});}},{key:"lw",value:function lw(){var _this741=this;var t,_e1276,i=this.Js.board,s=[],n=Symbol();var _iterator1183=_createForOfIteratorHelper(i.outermostSelectedElements),_step1183;try{for(_iterator1183.s();!(_step1183=_iterator1183.n()).done;){var _t1780=_step1183.value;if("path"===_t1780.localName){var _e1277=wl(_t1780);_e1277&&"spiral"===_e1277.type&&(_t1780[n]=_e1277,s.push(_t1780));}}}catch(err){_iterator1183.e(err);}finally{_iterator1183.f();}i.undoManager.checkpoint("Spiral end angle"),this.jf=!0,this["#end-angle-input"].addEventListener("change",t=function t(_t1779){var _iterator1184=_createForOfIteratorHelper(s),_step1184;try{for(_iterator1184.s();!(_step1184=_iterator1184.n()).done;){var _t1778=_step1184.value;_t1778[n].values[5]=_this741["#end-angle-input"].value,_vl(_t1778,_t1778[n]);}}catch(err){_iterator1184.e(err);}finally{_iterator1184.f();}}),this["#end-angle-input"].addEventListener("changeend",_e1276=function e(){_this741["#end-angle-input"].removeEventListener("change",t),_this741["#end-angle-input"].removeEventListener("changeend",_e1276),_this741.jf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=wl(e[0]);if(i&&"spiral"===i.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i$values5=_slicedToArray(i.values,6),_s604=_i$values5[0],_n487=_i$values5[1],_o391=_i$values5[2],_l326=_i$values5[3],_a244=_i$values5[4],_h200=_i$values5[5],_this$og75=this.og,_r137=_this$og75.displayUnit,_d111=_this$og75.displaySpace,_c84=_this$og75.displayPrecision,_p76=e[0],_u63=Yt(_p76,t.currentWorkspace),_x170=Qt("px",_r137),_b49=_r137?" "+_r137:"",_m46=1/qb(10,_c84-1);"viewport"===_d111&&(_u63=Kt(t.currentWorkspace).multiply(_u63));var _g41=new DOMPoint(_s604,_n487);_g41=_g41.matrixTransform(_u63),_g41=_g41.matrixTransform(_x170),_g41=Oe(_g41,_c84);var _f30=new DOMPoint(_s604+_o391,_n487);_f30=_f30.matrixTransform(_u63),_f30=_f30.matrixTransform(_x170);var _w24=new DOMPoint(_s604+_l326,_n487);_w24=_w24.matrixTransform(_u63),_w24=_w24.matrixTransform(_x170),!1===this.mg&&(this["#cx-input"].value=_g41.x,this["#cx-input"].suffix=_b49,this["#cx-input"].step=_m46),!1===this.gg&&(this["#cy-input"].value=_g41.y,this["#cy-input"].suffix=_b49,this["#cy-input"].step=_m46),!1===this.yg&&(this["#r1-input"].max=tt(new J(_g41,_w24).length,_c84),this["#r1-input"].value=tt(new J(_g41,_f30).length,_c84),this["#r1-input"].suffix=_b49,this["#r1-input"].step=_m46),!1===this.kg&&(this["#r2-input"].min=tt(new J(_g41,_f30).length,_c84),this["#r2-input"].value=tt(new J(_g41,_w24).length,_c84),this["#r2-input"].suffix=_b49,this["#r2-input"].step=_m46),!1===this.Vf&&(this["#start-angle-input"].max=tt(_h200,2),this["#start-angle-input"].value=tt(_a244,2)),!1===this.jf&&(this["#end-angle-input"].min=tt(_a244,2),this["#end-angle-input"].value=tt(_h200,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Xb;}(ob);_defineProperty(Xb,"_shadowTemplate",Qi(_templateObject363()));_defineProperty(Xb,"_shadowStyleSheet",Ji(_templateObject364()));customElements.define("bx-spiralgeometryinspector",Xb);var Zb=/*#__PURE__*/function(_ob20){_inherits(Zb,_ob20);var _super150=_createSuper(Zb);function Zb(){var _this742;_classCallCheck(this,Zb);_this742=_super150.call(this),_this742.Lf=!1,_this742.aw=!1,_this742.Dh=es(_this742.qs,200,_assertThisInitialized(_this742)),_this742["#arms-section"].addEventListener("changestart",function(){return _this742.Bp();}),_this742["#depth-section"].addEventListener("changestart",function(){return _this742.Up();});return _this742;}_createClass(Zb,[{key:"tn",value:function tn(){var _this743=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this743.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this743.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Bp",value:function Bp(){var _this744=this;var t,_e1278,i=this.Js.board,s=[],n=Symbol();var _iterator1185=_createForOfIteratorHelper(i.outermostSelectedElements),_step1185;try{for(_iterator1185.s();!(_step1185=_iterator1185.n()).done;){var _t1783=_step1185.value;if("path"===_t1783.localName){var _e1279=wl(_t1783);_e1279&&"star"===_e1279.type&&(_t1783[n]=_e1279,s.push(_t1783));}}}catch(err){_iterator1185.e(err);}finally{_iterator1185.f();}i.undoManager.checkpoint("Star arms"),this.Lf=!0,this["#arms-section"].addEventListener("change",t=function t(_t1782){_t1782.target===_this744["#arms-slider"]?_this744["#arms-input"].value=_this744["#arms-slider"].value:_t1782.target===_this744["#arms-input"]&&(_this744["#arms-slider"].value=_this744["#arms-input"].value);var _iterator1186=_createForOfIteratorHelper(s),_step1186;try{for(_iterator1186.s();!(_step1186=_iterator1186.n()).done;){var _t1781=_step1186.value;_t1781[n].values[5]=_this744["#arms-input"].value,_vl(_t1781,_t1781[n]);}}catch(err){_iterator1186.e(err);}finally{_iterator1186.f();}}),this["#arms-section"].addEventListener("changeend",_e1278=function e(){_this744["#arms-section"].removeEventListener("change",t),_this744["#arms-section"].removeEventListener("changeend",_e1278),_this744.Lf=!1;});}},{key:"Up",value:function Up(){var _this745=this;var t,_e1280,i=this.Js.board,s=[],n=Symbol();var _iterator1187=_createForOfIteratorHelper(i.outermostSelectedElements),_step1187;try{for(_iterator1187.s();!(_step1187=_iterator1187.n()).done;){var _t1786=_step1187.value;if("path"===_t1786.localName){var _e1281=wl(_t1786);_e1281&&"star"===_e1281.type&&(_t1786[n]=_e1281,s.push(_t1786));}}}catch(err){_iterator1187.e(err);}finally{_iterator1187.f();}i.undoManager.checkpoint("Star depth"),this.aw=!0,this["#depth-section"].addEventListener("change",t=function t(_t1785){_t1785.target===_this745["#depth-slider"]?_this745["#depth-input"].value=_this745["#depth-slider"].value:_t1785.target===_this745["#depth-input"]&&(_this745["#depth-slider"].value=_this745["#depth-input"].value);var _iterator1188=_createForOfIteratorHelper(s),_step1188;try{for(_iterator1188.s();!(_step1188=_iterator1188.n()).done;){var _t1784=_step1188.value;_t1784[n].values[4]=_this745["#depth-slider"].value,_vl(_t1784,_t1784[n]);}}catch(err){_iterator1188.e(err);}finally{_iterator1188.f();}}),this["#depth-section"].addEventListener("changeend",_e1280=function e(){_this745["#depth-section"].removeEventListener("change",t),_this745["#depth-section"].removeEventListener("changeend",_e1280),_this745.aw=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Lf&&!1===this.aw)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1282=wl(t[0]);if(_e1282&&"star"===_e1282.type){t[0];var _e1282$values=_slicedToArray(_e1282.values,6),i=_e1282$values[0],_s605=_e1282$values[1],_n488=_e1282$values[2],_o392=_e1282$values[3],_l327=_e1282$values[4],_a245=_e1282$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arms-slider"].value=tt(_a245,0),this["#arms-input"].value=tt(_a245,0),this["#depth-slider"].value=tt(_l327,this.og.displayPrecision),this["#depth-input"].value=tt(_l327,this.og.displayPrecision);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Zb;}(ob);_defineProperty(Zb,"_shadowTemplate",Qi(_templateObject365()));_defineProperty(Zb,"_shadowStyleSheet",Ji(_templateObject366()));customElements.define("bx-stargeometryinspector",Zb);var Kb=Number.isFinite;var Qb=/*#__PURE__*/function(_ob21){_inherits(Qb,_ob21);var _super151=_createSuper(Qb);function Qb(){var _this746;_classCallCheck(this,Qb);_this746=_super151.call(this),_this746.lf=!1,_this746.af=!1,_this746.hf=!1,_this746.rf=!1,_this746.df=!1,_this746.cf=!1,_this746.bf=null,_this746.mf=null,_this746.ff=es(_this746.qs,100,_assertThisInitialized(_this746)),_this746["#viewport-width-input"].addEventListener("changestart",function(){return _this746.wf();}),_this746["#viewport-height-input"].addEventListener("changestart",function(){return _this746.vf();}),_this746["#viewport-lock-button"].addEventListener("toggle",function(){return _this746.yf();}),_this746["#viewport-units-select"].addEventListener("change",function(){return _this746.kf();}),_this746["#viewbox-x-input"].addEventListener("changestart",function(t){return _this746.Sf(t);}),_this746["#viewbox-y-input"].addEventListener("changestart",function(t){return _this746._f(t);}),_this746["#viewbox-width-input"].addEventListener("changestart",function(t){return _this746.Cf(t);}),_this746["#viewbox-height-input"].addEventListener("changestart",function(t){return _this746.Mf(t);}),_this746["#viewbox-switch"].addEventListener("toggle",function(){return _this746.Pf();}),_this746["#viewbox-lock-button"].addEventListener("toggle",function(){return _this746.Df();}),_this746["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this746.zf();}),_this746["#align-buttons"].addEventListener("toggle",function(){return _this746.Of();}),_this746["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this746.Ef();});return _this746;}_createClass(Qb,[{key:"tn",value:function tn(){var _this747=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this747.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this747.al(t.detail);});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){this.ff();}},{key:"wf",value:function wf(){var _this748=this;var t,_e1283,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===Kb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.lf=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this748["#viewport-width-input"].value)_this748.hw(null);else{var _t1787=new It(tt(_this748["#viewport-width-input"].value,s),o);if(_this748.hw(_t1787),null!==n){var _t1788=new It(tt(_this748["#viewport-width-input"].value*n,s),o);_this748.rw(_t1788);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1283=function e(){_this748["#viewport-width-input"].removeEventListener("change",t),_this748["#viewport-width-input"].removeEventListener("changeend",_e1283),_this748.lf=!1;});}},{key:"vf",value:function vf(){var _this749=this;var t,_e1284,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===Kb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.af=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this749["#viewport-height-input"].value)_this749.rw(null);else{var _t1789=new It(tt(_this749["#viewport-height-input"].value,s),o);if(_this749.rw(_t1789),null!==n){var _t1790=new It(tt(_this749["#viewport-height-input"].value*n,s),o);_this749.hw(_t1790);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1284=function e(){_this749["#viewport-height-input"].removeEventListener("change",t),_this749["#viewport-height-input"].removeEventListener("changeend",_e1284),_this749.af=!1;});}},{key:"yf",value:function yf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"kf",value:function kf(){var t=this.Js.board,e=t.getComputedViewportWidth(),i=t.getComputedViewportHeight(),s=!!e&&e.unit!==this["#viewport-units-select"].value,n=!!i&&i.unit!==this["#viewport-units-select"].value;(s||n)&&(t.undoManager.checkpoint("Viewport units"),s&&(e=e.toLength(this["#viewport-units-select"].value),e.value=tt(e.value,this.Js.board.geometryPrecision),this.hw(e)),n&&(i=i.toLength(this["#viewport-units-select"].value),i.value=tt(i.value,this.Js.board.geometryPrecision),this.rw(i)));}},{key:"Pf",value:function Pf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.bf?t.currentWorkspace.setAttribute("viewBox",this.bf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.bf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"Sf",value:function Sf(t){var _this750=this;var e,_i1124,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.hf=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){null!==_this750["#viewbox-x-input"].value&&(n.x=_this750["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-x-input"].addEventListener("changeend",_i1124=function i(){_this750["#viewbox-x-input"].removeEventListener("change",e),_this750["#viewbox-x-input"].removeEventListener("changeend",_i1124),_this750.hf=!1,_this750.qs();});}},{key:"_f",value:function _f(t){var _this751=this;var e,_i1125,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.rf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){null!==_this751["#viewbox-y-input"].value&&(n.y=_this751["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-y-input"].addEventListener("changeend",_i1125=function i(){_this751["#viewbox-y-input"].removeEventListener("change",e),_this751["#viewbox-y-input"].removeEventListener("changeend",_i1125),_this751.rf=!1,_this751.qs();});}},{key:"Cf",value:function Cf(t){var _this752=this;var e,_i1126,_this$Js$board51=this.Js.board,s=_this$Js$board51.geometryPrecision,n=_this$Js$board51.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===Kb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.df=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){null!==_this752["#viewbox-width-input"].value&&(o.width=_this752["#viewbox-width-input"].value,null!==l&&(o.height=tt(_this752["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-width-input"].addEventListener("changeend",_i1126=function i(){_this752["#viewbox-width-input"].removeEventListener("change",e),_this752["#viewbox-width-input"].removeEventListener("changeend",_i1126),_this752.df=!1,_this752.qs();});}},{key:"Mf",value:function Mf(t){var _this753=this;var e,_i1127,_this$Js$board52=this.Js.board,s=_this$Js$board52.geometryPrecision,n=_this$Js$board52.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===Kb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.cf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){null!==_this753["#viewbox-height-input"].value&&(o.height=_this753["#viewbox-height-input"].value,null!==l&&(o.width=tt(_this753["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-height-input"].addEventListener("changeend",_i1127=function i(){_this753["#viewbox-height-input"].removeEventListener("change",e),_this753["#viewbox-height-input"].removeEventListener("changeend",_i1127),_this753.cf=!1,_this753.qs();});}},{key:"Df",value:function Df(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"zf",value:function zf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.mf?t.setAttribute("preserveAspectRatio",this.mf):t.removeAttribute("preserveAspectRatio"):(this.mf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Of",value:function Of(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s606=e;"none"!==_s606&&"slice"===i&&(_s606+=" slice"),t.setAttribute("preserveAspectRatio",_s606);}}},{key:"Ef",value:function Ef(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s607=e;"none"!==_s607&&"slice"===i&&(_s607+=" slice"),t.setAttribute("preserveAspectRatio",_s607);}}},{key:"hw",value:function hw(t){var e=this.Js.board.currentWorkspace;e.style.width=null,t?e.setAttribute("width",t.toString()):e.removeAttribute("width");}},{key:"rw",value:function rw(t){var e=this.Js.board.currentWorkspace;e.style.height=null,t?e.setAttribute("height",t.toString()):e.removeAttribute("height");}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.og.displayPrecision;if("master"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _e1285=t.getComputedViewportWidth(),_i1128=t.getComputedViewportHeight();null!==_e1285&&null!==_i1128?(_i1128=_i1128.toLength(_e1285.unit),!1===this.lf&&(this["#viewport-width-input"].value=tt(_e1285.value,o),this["#viewport-width-input"].suffix=" "+_e1285.unit),!1===this.af&&(this["#viewport-height-input"].value=tt(_i1128.value,o),this["#viewport-height-input"].suffix=" "+_e1285.unit),this["#viewport-lock-button"].disabled=!1,this["#viewport-units-select"].value=_e1285.unit):null!==_e1285&&null===_i1128?(!1===this.lf&&(this["#viewport-width-input"].value=tt(_e1285.value,o),this["#viewport-width-input"].suffix=" "+_e1285.unit),!1===this.af&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_e1285.unit):null===_e1285&&null!==_i1128?(!1===this.lf&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.af&&(this["#viewport-height-input"].value=tt(_i1128.value,o),this["#viewport-height-input"].suffix=" "+_i1128.unit),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_i1128.unit):null===_e1285&&null===_i1128&&(!1===this.lf&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.af&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0);}if(e.hasAttribute("viewBox")){var _Ft$fromString5=Ft.fromString(e.getAttribute("viewBox")),_t1791=_Ft$fromString5.x,_i1129=_Ft$fromString5.y,_s608=_Ft$fromString5.width,_n489=_Ft$fromString5.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.hf&&(this["#viewbox-x-input"].value=tt(_t1791,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.rf&&(this["#viewbox-y-input"].value=tt(_i1129,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.df&&(this["#viewbox-width-input"].value=tt(_s608,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.cf&&(this["#viewbox-height-input"].value=tt(_n489,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1792=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString4=Bt.fromString(_t1792),_i1130=_Bt$fromString4.align,_s609=_Bt$fromString4.meetOrSlice;"none"===_i1130?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1130,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s609,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Qb;}(ob);_defineProperty(Qb,"_shadowTemplate",Qi(_templateObject367()));_defineProperty(Qb,"_shadowStyleSheet",Ji(_templateObject368()));customElements.define("bx-svggeometryinspector",Qb);var Jb=/*#__PURE__*/function(_ob22){_inherits(Jb,_ob22);var _super152=_createSuper(Jb);function Jb(){var _this754;_classCallCheck(this,Jb);_this754=_super152.call(this),_this754.hf=!1,_this754.rf=!1,_this754.df=!1,_this754.cf=!1,_this754.bf=null,_this754.mf=null,_this754.ff=es(_this754.qs,100,_assertThisInitialized(_this754)),_this754["#viewbox-x-input"].addEventListener("changestart",function(t){return _this754.Sf(t);}),_this754["#viewbox-y-input"].addEventListener("changestart",function(t){return _this754._f(t);}),_this754["#viewbox-width-input"].addEventListener("changestart",function(t){return _this754.Cf(t);}),_this754["#viewbox-height-input"].addEventListener("changestart",function(t){return _this754.Mf(t);}),_this754["#viewbox-switch"].addEventListener("toggle",function(){return _this754.Pf();}),_this754["#viewbox-lock-button"].addEventListener("toggle",function(){return _this754.Df();}),_this754["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this754.zf();}),_this754["#align-buttons"].addEventListener("toggle",function(){return _this754.Of();}),_this754["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this754.Ef();});return _this754;}_createClass(Jb,[{key:"tn",value:function tn(){var _this755=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-symbolgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this755.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this755.al(t.detail);});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){this.ff();}},{key:"Pf",value:function Pf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.bf?t.currentWorkspace.setAttribute("viewBox",this.bf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.bf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"Sf",value:function Sf(t){var _this756=this;var e,_i1131,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.hf=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this756["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1131=function i(){_this756["#viewbox-x-input"].removeEventListener("change",e),_this756["#viewbox-x-input"].removeEventListener("changeend",_i1131),_this756.hf=!1;});}},{key:"_f",value:function _f(t){var _this757=this;var e,_i1132,s=this.Js.board.currentWorkspace,n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.rf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this757["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1132=function i(){_this757["#viewbox-y-input"].removeEventListener("change",e),_this757["#viewbox-y-input"].removeEventListener("changeend",_i1132),_this757.rf=!1;});}},{key:"Cf",value:function Cf(t){var _this758=this;var e,_i1133,_this$Js$board53=this.Js.board,s=_this$Js$board53.geometryPrecision,n=_this$Js$board53.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.df=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this758["#viewbox-width-input"].value,null!==l&&(o.height=tt(_this758["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1133=function i(){_this758["#viewbox-width-input"].removeEventListener("change",e),_this758["#viewbox-width-input"].removeEventListener("changeend",_i1133),_this758.df=!1;});}},{key:"Mf",value:function Mf(t){var _this759=this;var e,_i1134,_this$Js$board54=this.Js.board,s=_this$Js$board54.geometryPrecision,n=_this$Js$board54.currentWorkspace,o=Ft.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.cf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this759["#viewbox-height-input"].value,null!==l&&(o.width=tt(_this759["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1134=function i(){_this759["#viewbox-height-input"].removeEventListener("change",e),_this759["#viewbox-height-input"].removeEventListener("changeend",_i1134),_this759.cf=!1;});}},{key:"Df",value:function Df(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-symbolgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"zf",value:function zf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.mf?t.setAttribute("preserveAspectRatio",this.mf):t.removeAttribute("preserveAspectRatio"):(this.mf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Of",value:function Of(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s610=e;"none"!==_s610&&"slice"===i&&(_s610+=" slice"),t.setAttribute("preserveAspectRatio",_s610);}}},{key:"Ef",value:function Ef(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s611=e;"none"!==_s611&&"slice"===i&&(_s611+=" slice"),t.setAttribute("preserveAspectRatio",_s611);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.og.displayPrecision;if("symbol"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Ft$fromString6=Ft.fromString(e.getAttribute("viewBox")),_t1793=_Ft$fromString6.x,_i1135=_Ft$fromString6.y,_s612=_Ft$fromString6.width,_n490=_Ft$fromString6.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.hf&&(this["#viewbox-x-input"].value=tt(_t1793,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.rf&&(this["#viewbox-y-input"].value=tt(_i1135,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.df&&(this["#viewbox-width-input"].value=tt(_s612,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.cf&&(this["#viewbox-height-input"].value=tt(_n490,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1794=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString5=Bt.fromString(_t1794),_i1136=_Bt$fromString5.align,_s613=_Bt$fromString5.meetOrSlice;"none"===_i1136?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1136,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s613,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Jb;}(ob);_defineProperty(Jb,"_shadowTemplate",Qi(_templateObject369()));_defineProperty(Jb,"_shadowStyleSheet",Ji(_templateObject370()));customElements.define("bx-symbolgeometryinspector",Jb);var tm=/*#__PURE__*/function(_ob23){_inherits(tm,_ob23);var _super153=_createSuper(tm);function tm(){var _this760;_classCallCheck(this,tm);_this760=_super153.call(this),_this760.dw=!1,_this760.cw=!1,_this760.Dh=es(_this760.qs,200,_assertThisInitialized(_this760)),_this760["#arch-section"].addEventListener("changestart",function(){return _this760.Ep();}),_this760["#hollow-section"].addEventListener("changestart",function(){return _this760.Tp();});return _this760;}_createClass(tm,[{key:"tn",value:function tn(){var _this761=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this761.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this761.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Ep",value:function Ep(){var _this762=this;var t,_e1286,i=this.Js.board,s=[],n=Symbol();var _iterator1189=_createForOfIteratorHelper(i.outermostSelectedElements),_step1189;try{for(_iterator1189.s();!(_step1189=_iterator1189.n()).done;){var _t1797=_step1189.value;if("path"===_t1797.localName){var _e1287=wl(_t1797);_e1287&&"crescent"===_e1287.type&&(_t1797[n]=_e1287,s.push(_t1797));}}}catch(err){_iterator1189.e(err);}finally{_iterator1189.f();}i.undoManager.checkpoint("Crescent arch"),this.dw=!0,this["#arch-section"].addEventListener("change",t=function t(_t1796){_t1796.target===_this762["#arch-slider"]?_this762["#arch-input"].value=_this762["#arch-slider"].value:_t1796.target===_this762["#arch-input"]&&(_this762["#arch-slider"].value=_this762["#arch-input"].value);var _iterator1190=_createForOfIteratorHelper(s),_step1190;try{for(_iterator1190.s();!(_step1190=_iterator1190.n()).done;){var _t1795=_step1190.value;_t1795[n].values[3]=_this762["#arch-slider"].value,_vl(_t1795,_t1795[n],i.geometryPrecision);}}catch(err){_iterator1190.e(err);}finally{_iterator1190.f();}}),this["#arch-section"].addEventListener("changeend",_e1286=function e(){_this762["#arch-section"].removeEventListener("change",t),_this762["#arch-section"].removeEventListener("changeend",_e1286),_this762.dw=!1;});}},{key:"Tp",value:function Tp(){var _this763=this;var t,_e1288,i=this.Js.board,s=[],n=Symbol();var _iterator1191=_createForOfIteratorHelper(i.outermostSelectedElements),_step1191;try{for(_iterator1191.s();!(_step1191=_iterator1191.n()).done;){var _t1800=_step1191.value;if("path"===_t1800.localName){var _e1289=wl(_t1800);_e1289&&"crescent"===_e1289.type&&(_t1800[n]=_e1289,s.push(_t1800));}}}catch(err){_iterator1191.e(err);}finally{_iterator1191.f();}i.undoManager.checkpoint("Crescent hollow"),this.cw=!0,this["#hollow-section"].addEventListener("change",t=function t(_t1799){_t1799.target===_this763["#hollow-slider"]?_this763["#hollow-input"].value=_this763["#hollow-slider"].value:_t1799.target===_this763["#hollow-input"]&&(_this763["#hollow-slider"].value=_this763["#hollow-input"].value);var _iterator1192=_createForOfIteratorHelper(s),_step1192;try{for(_iterator1192.s();!(_step1192=_iterator1192.n()).done;){var _t1798=_step1192.value;_t1798[n].values[4]=_this763["#hollow-slider"].value/100,_vl(_t1798,_t1798[n],i.geometryPrecision);}}catch(err){_iterator1192.e(err);}finally{_iterator1192.f();}}),this["#hollow-section"].addEventListener("changeend",_e1288=function e(){_this763["#hollow-section"].removeEventListener("change",t),_this763["#hollow-section"].removeEventListener("changeend",_e1288),_this763.cw=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.dw&&!1===this.cw)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1290=wl(t[0]);if(_e1290&&"crescent"===_e1290.type){t[0];var _e1290$values=_slicedToArray(_e1290.values,5),i=_e1290$values[0],_s614=_e1290$values[1],_n491=_e1290$values[2],_o393=_e1290$values[3],_l328=_e1290$values[4];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arch-slider"].value=tt(_o393,0),this["#arch-input"].value=tt(_o393,0),this["#hollow-slider"].value=tt(100*_l328,2),this["#hollow-input"].value=tt(100*_l328,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return tm;}(ob);_defineProperty(tm,"_shadowTemplate",Qi(_templateObject371()));_defineProperty(tm,"_shadowStyleSheet",Ji(_templateObject372()));customElements.define("bx-crescentgeometryinspector",tm);var em=/*#__PURE__*/function(_ob24){_inherits(em,_ob24);var _super154=_createSuper(em);function em(){var _this764;_classCallCheck(this,em);_this764=_super154.call(this),_this764.Eg=!1,_this764.Rf=!1,_this764.Dh=es(_this764.qs,200,_assertThisInitialized(_this764)),_this764["#shift-section"].addEventListener("changestart",function(){return _this764.Ip();}),_this764["#corner-section"].addEventListener("changestart",function(){return _this764.Lp();});return _this764;}_createClass(em,[{key:"tn",value:function tn(){var _this765=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this765.Dh();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this765.Dh();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"Ip",value:function Ip(){var _this766=this;var t,_e1291,i=this.Js.board,s=[],n=Symbol();var _iterator1193=_createForOfIteratorHelper(i.outermostSelectedElements),_step1193;try{for(_iterator1193.s();!(_step1193=_iterator1193.n()).done;){var _t1803=_step1193.value;if("path"===_t1803.localName){var _e1292=wl(_t1803);_e1292&&"triangle"===_e1292.type&&(_t1803[n]=_e1292,s.push(_t1803));}}}catch(err){_iterator1193.e(err);}finally{_iterator1193.f();}i.undoManager.checkpoint("Triangle shift"),this.Eg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1802){_t1802.target===_this766["#shift-slider"]?_this766["#shift-input"].value=_this766["#shift-slider"].value:_t1802.target===_this766["#shift-input"]&&(_this766["#shift-slider"].value=_this766["#shift-input"].value);var _iterator1194=_createForOfIteratorHelper(s),_step1194;try{for(_iterator1194.s();!(_step1194=_iterator1194.n()).done;){var _t1801=_step1194.value;_t1801[n].values[4]=_this766["#shift-slider"].value,_vl(_t1801,_t1801[n]);}}catch(err){_iterator1194.e(err);}finally{_iterator1194.f();}}),this["#shift-section"].addEventListener("changeend",_e1291=function e(){_this766["#shift-section"].removeEventListener("change",t),_this766["#shift-section"].removeEventListener("changeend",_e1291),_this766.Eg=!1;});}},{key:"Lp",value:function Lp(){var _this767=this;var t,_e1293,i=this.Js.board,s=[],n=Symbol();var _iterator1195=_createForOfIteratorHelper(i.outermostSelectedElements),_step1195;try{for(_iterator1195.s();!(_step1195=_iterator1195.n()).done;){var _t1806=_step1195.value;if("path"===_t1806.localName){var _e1294=wl(_t1806);_e1294&&"triangle"===_e1294.type&&(_t1806[n]=_e1294,s.push(_t1806));}}}catch(err){_iterator1195.e(err);}finally{_iterator1195.f();}i.undoManager.checkpoint("Triangle corner"),this.Rf=!0,this["#corner-section"].addEventListener("change",t=function t(_t1805){_t1805.target===_this767["#corner-slider"]?_this767["#corner-input"].value=_this767["#corner-slider"].value:_t1805.target===_this767["#corner-input"]&&(_this767["#corner-slider"].value=_this767["#corner-input"].value);var _iterator1196=_createForOfIteratorHelper(s),_step1196;try{for(_iterator1196.s();!(_step1196=_iterator1196.n()).done;){var _t1804=_step1196.value;_t1804[n].values[5]=_this767["#corner-slider"].value,_vl(_t1804,_t1804[n]);}}catch(err){_iterator1196.e(err);}finally{_iterator1196.f();}}),this["#corner-section"].addEventListener("changeend",_e1293=function e(){_this767["#corner-section"].removeEventListener("change",t),_this767["#corner-section"].removeEventListener("changeend",_e1293),_this767.Rf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Eg&&!1===this.Rf)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1295=wl(t[0]);if(_e1295&&"triangle"===_e1295.type){t[0];var _e1295$values=_slicedToArray(_e1295.values,6),i=_e1295$values[0],_s615=_e1295$values[1],_n492=_e1295$values[2],_o394=_e1295$values[3],_l329=_e1295$values[4],_a246=_e1295$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#shift-slider"].value=tt(_l329,2),this["#shift-input"].value=tt(_l329,2),this["#corner-slider"].value=tt(_a246,2),this["#corner-input"].value=tt(_a246,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return em;}(ob);_defineProperty(em,"_shadowTemplate",Qi(_templateObject373()));_defineProperty(em,"_shadowStyleSheet",Ji(_templateObject374()));customElements.define("bx-trianglegeometryinspector",em);var im=/*#__PURE__*/function(_ob25){_inherits(im,_ob25);var _super155=_createSuper(im);function im(){var _this768;_classCallCheck(this,im);_this768=_super155.call(this),_this768.hf=!1,_this768.rf=!1,_this768.df=!1,_this768.cf=!1,_this768.mf=null,_this768.ff=es(_this768.qs,100,_assertThisInitialized(_this768)),_this768["#viewbox-x-input"].addEventListener("changestart",function(t){return _this768.Sf(t);}),_this768["#viewbox-y-input"].addEventListener("changestart",function(t){return _this768._f(t);}),_this768["#viewbox-width-input"].addEventListener("changestart",function(t){return _this768.Cf(t);}),_this768["#viewbox-height-input"].addEventListener("changestart",function(t){return _this768.Mf(t);}),_this768["#viewbox-lock-button"].addEventListener("toggle",function(){return _this768.Df();}),_this768["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this768.zf();}),_this768["#align-buttons"].addEventListener("toggle",function(){return _this768.Of();}),_this768["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this768.Ef();});return _this768;}_createClass(im,[{key:"tn",value:function tn(){var _this769=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-viewgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this769.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this769.al(t.detail);});}},{key:"en",value:function en(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){this.ff();}},{key:"Sf",value:function Sf(t){var _this770=this;var e,_i1137,s=this.Js.board.outermostSelectedElements[0],n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.hf=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this770["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1137=function i(){_this770["#viewbox-x-input"].removeEventListener("change",e),_this770["#viewbox-x-input"].removeEventListener("changeend",_i1137),_this770.hf=!1;});}},{key:"_f",value:function _f(t){var _this771=this;var e,_i1138,s=this.Js.board.outermostSelectedElements[0],n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.rf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this771["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1138=function i(){_this771["#viewbox-y-input"].removeEventListener("change",e),_this771["#viewbox-y-input"].removeEventListener("changeend",_i1138),_this771.rf=!1;});}},{key:"Cf",value:function Cf(t){var _this772=this;var e,_i1139,s=this.Js.board.outermostSelectedElements[0],n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.df=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){n.width=_this772["#viewbox-width-input"].value,null!==l&&(n.height=tt(_this772["#viewbox-width-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1139=function i(){_this772["#viewbox-width-input"].removeEventListener("change",e),_this772["#viewbox-width-input"].removeEventListener("changeend",_i1139),_this772.df=!1;});}},{key:"Mf",value:function Mf(t){var _this773=this;var e,_i1140,s=this.Js.board.outermostSelectedElements[0],n=Ft.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.cf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){n.height=_this773["#viewbox-height-input"].value,null!==l&&(n.width=tt(_this773["#viewbox-height-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1140=function i(){_this773["#viewbox-height-input"].removeEventListener("change",e),_this773["#viewbox-height-input"].removeEventListener("changeend",_i1140),_this773.cf=!1;});}},{key:"Df",value:function Df(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-viewgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"zf",value:function zf(){var t=this.Js.board.outermostSelectedElements[0];this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.mf?t.setAttribute("preserveAspectRatio",this.mf):t.removeAttribute("preserveAspectRatio"):(this.mf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Of",value:function Of(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s616=e;"none"!==_s616&&"slice"===i&&(_s616+=" slice"),t.setAttribute("preserveAspectRatio",_s616);}}},{key:"Ef",value:function Ef(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s617=e;"none"!==_s617&&"slice"===i&&(_s617+=" slice"),t.setAttribute("preserveAspectRatio",_s617);}}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(1===t.length&&"view"===t[0].localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1296=t[0],i=this.og.displayPrecision;{var _Ft$fromString7=Ft.fromString(_e1296.getAttribute("viewBox")||"0 0 0 0"),_t1807=_Ft$fromString7.x,_s618=_Ft$fromString7.y,_n493=_Ft$fromString7.width,_o395=_Ft$fromString7.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-lock-button"].disabled=!1,!1===this.hf&&(this["#viewbox-x-input"].value=tt(_t1807,i),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.rf&&(this["#viewbox-y-input"].value=tt(_s618,i),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.df&&(this["#viewbox-width-input"].value=tt(_n493,i),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.cf&&(this["#viewbox-height-input"].value=tt(_o395,i),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}{var _t1808=_e1296.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString6=Bt.fromString(_t1808),_i1141=_Bt$fromString6.align,_s619=_Bt$fromString6.meetOrSlice;"none"===_i1141?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1141,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s619,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return im;}(ob);_defineProperty(im,"_shadowTemplate",Qi(_templateObject375()));_defineProperty(im,"_shadowStyleSheet",Ji(_templateObject376()));customElements.define("bx-viewgeometryinspector",im);var sm=/*#__PURE__*/function(_HTMLElement102){_inherits(sm,_HTMLElement102);var _super156=_createSuper(sm);_createClass(sm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"displaySpace",get:function get(){var t=this.Js.board;if("master"===t.currentWorkspace.getAttribute("data-bx-workspace")){if("viewport"===this["#space-buttons"].value){var _e1297=t.getComputedViewportWidth(),i=t.getComputedViewportHeight();return _e1297&&i?"viewport":"canvas";}return"canvas";}return"canvas";}},{key:"displayUnit",get:function get(){var t=this.displaySpace;if("canvas"===t)return"";if("viewport"===t){return this.Js.board.getComputedViewportWidth().unit;}}},{key:"displayPrecision",get:function get(){var t=this.displayUnit;return"px"===t||"pt"===t||"q"===t||""===t?1:"mm"===t?2:"cm"===t||"in"===t||"pc"===t?3:void 0;}}]);function sm(){var _this774;_classCallCheck(this,sm);_this774=_super156.call(this),_this774.Dh=es(_this774.qs,200,_assertThisInitialized(_this774)),_this774._shadowRoot=_this774.attachShadow({mode:"closed"}),_this774._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,sm._shadowStyleSheet],_this774._shadowRoot.append(document.importNode(sm._shadowTemplate.content,!0));var _iterator1197=_createForOfIteratorHelper(_this774._shadowRoot.querySelectorAll("[id]")),_step1197;try{for(_iterator1197.s();!(_step1197=_iterator1197.n()).done;){var _t1809=_step1197.value;_this774["#"+_t1809.id]=_t1809;}}catch(err){_iterator1197.e(err);}finally{_iterator1197.f();}_this774["#inspectors"].addEventListener("hiddenchange",function(){return _this774.Dh();}),_this774["#space-buttons"].addEventListener("toggle",function(){return _this774.pw();});return _this774;}_createClass(sm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this775=this;this.qs(),this["#space-buttons"].value=this.Qs.getConfig("bx-geometrypanel:space","canvas");var _iterator1198=_createForOfIteratorHelper(this["#inspectors"].children),_step1198;try{for(_iterator1198.s();!(_step1198=_iterator1198.n()).done;){var _t1810=_step1198.value;_t1810.enabled=!0;}}catch(err){_iterator1198.e(err);}finally{_iterator1198.f();}this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this775.Dh();}),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this775.qs();}),this.Js.board.gridHud.addEventListener("selectedchange",this.Wg=function(){_this775.qs();});}},{key:"en",value:function en(){var _iterator1199=_createForOfIteratorHelper(this["#inspectors"].children),_step1199;try{for(_iterator1199.s();!(_step1199=_iterator1199.n()).done;){var _t1811=_step1199.value;_t1811.enabled=!1;}}catch(err){_iterator1199.e(err);}finally{_iterator1199.f();}this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.gridHud.removeEventListener("selectedchange",this.Wg);}},{key:"pw",value:function pw(){this.Qs.setConfig("bx-geometrypanel:space",this["#space-buttons"].value),this.dispatchEvent(new CustomEvent("spacebuttonstoggle"));}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=t.gridHud.selected;{var _t1812=this["#inspectors"].querySelectorAll(":scope > *:not([hidden]):not(hr)"),_e1298=_t1812[_t1812.length-1],_i1142=this["#inspectors"].querySelectorAll(":scope > hr"),_s620=[];var _iterator1200=_createForOfIteratorHelper(_t1812),_step1200;try{for(_iterator1200.s();!(_step1200=_iterator1200.n()).done;){var _i1143=_step1200.value;_i1143.nextElementSibling&&_i1143!==_e1298&&_s620.push(_i1143.nextElementSibling);}}catch(err){_iterator1200.e(err);}finally{_iterator1200.f();}var _iterator1201=_createForOfIteratorHelper(_i1142),_step1201;try{for(_iterator1201.s();!(_step1201=_iterator1201.n()).done;){var _t1813=_step1201.value;_t1813.hidden=!1===_s620.includes(_t1813);}}catch(err){_iterator1201.e(err);}finally{_iterator1201.f();}}0===e.length&&!1===i?this["#footer"].hidden=!0:"master"===t.currentWorkspace.getAttribute("data-bx-workspace")&&null!==t.getComputedViewportWidth()&&null!==t.getComputedViewportHeight()?this["#footer"].hidden=!1:this["#footer"].hidden=!0;}}]);return sm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sm,"observedAttributes",["enabled"]);_defineProperty(sm,"_shadowTemplate",Qi(_templateObject377()));_defineProperty(sm,"_shadowStyleSheet",Ji(_templateObject378()));customElements.define("bx-geometrypanel",sm);var nm=/*#__PURE__*/function(_HTMLElement103){_inherits(nm,_HTMLElement103);var _super157=_createSuper(nm);_createClass(nm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nm(){var _this776;_classCallCheck(this,nm);_this776=_super157.call(this),_this776.mr=es(_this776.qs,500,_assertThisInitialized(_this776)),_this776._shadowRoot=_this776.attachShadow({mode:"closed"}),_this776._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,nm._shadowStyleSheet],_this776._shadowRoot.append(document.importNode(nm._shadowTemplate.content,!0));var _iterator1202=_createForOfIteratorHelper(_this776._shadowRoot.querySelectorAll("[id]")),_step1202;try{for(_iterator1202.s();!(_step1202=_iterator1202.n()).done;){var _t1814=_step1202.value;_this776["#"+_t1814.id]=_t1814;}}catch(err){_iterator1202.e(err);}finally{_iterator1202.f();}_this776["#title-input"].addEventListener("change",function(){return _this776.uw();}),_this776["#desc-editor"].addEventListener("change",function(){return _this776.xw();}),_this776["#language-select"].addEventListener("change",function(){return _this776.bw();}),_this776["#role-select"].addEventListener("change",function(){return _this776.mw();}),_this776["#tab-index-slider"].addEventListener("changestart",function(t){return _this776.gw(t);}),_this776["#tab-index-input"].addEventListener("changestart",function(t){return _this776.gw(t);}),_this776["#link-button"].addEventListener("toggle",function(t){return _this776.fw(t);}),_this776["#link-input"].addEventListener("change",function(){return _this776.ww();}),_this776["#link-target-checkbox"].addEventListener("toggle",function(){return _this776.yw();}),_this776["#id-input"].addEventListener("change",function(){return _this776.kw();}),_this776["#classes-input"].addEventListener("change",function(){return _this776.Sw();}),_this776["#id-input"].validate=function(){var t=_this776["#id-input"].value.trim();""===t||Xi(t)?_this776["#id-input"].error=null:_this776["#id-input"].error="";};return _this776;}_createClass(nm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this777=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.il=function(){_this777.qs();}),t.addEventListener("workspacemutation",this.hn=function(){_this777.mr();});}},{key:"en",value:function en(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"uw",value:function uw(){var t=this.Js.board,e=this["#title-input"].value.trim(),i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Title");var _iterator1203=_createForOfIteratorHelper(i),_step1203;try{for(_iterator1203.s();!(_step1203=_iterator1203.n()).done;){var _t1815=_step1203.value;var _i1144=_t1815.querySelector(":scope > bx-title");""===e?_i1144&&_i1144.remove():(null===_i1144&&(_i1144=Ii("svg:bx-title"),_t1815.prepend(_i1144)),_i1144.innerHTML=e);}}catch(err){_iterator1203.e(err);}finally{_iterator1203.f();}}},{key:"xw",value:function xw(){var t=this.Js.board,e=this["#desc-editor"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Description");var _iterator1204=_createForOfIteratorHelper(i),_step1204;try{for(_iterator1204.s();!(_step1204=_iterator1204.n()).done;){var _t1816=_step1204.value;var _i1145=_t1816.querySelector(":scope > desc");""===e.trim()?_i1145&&_i1145.remove():(null===_i1145&&(_i1145=Ii("svg:desc"),_t1816.prepend(_i1145)),_i1145.innerHTML=e);}}catch(err){_iterator1204.e(err);}finally{_iterator1204.f();}}},{key:"bw",value:function bw(){var t=this.Js.board,e=this["#language-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Language");var _iterator1205=_createForOfIteratorHelper(i),_step1205;try{for(_iterator1205.s();!(_step1205=_iterator1205.n()).done;){var _t1817=_step1205.value;""===e?_t1817.removeAttribute("lang"):_t1817.setAttribute("lang",e);var _iterator1206=_createForOfIteratorHelper(_t1817.querySelectorAll("[lang]")),_step1206;try{for(_iterator1206.s();!(_step1206=_iterator1206.n()).done;){var _e1299=_step1206.value;_e1299.removeAttribute("lang");}}catch(err){_iterator1206.e(err);}finally{_iterator1206.f();}}}catch(err){_iterator1205.e(err);}finally{_iterator1205.f();}}},{key:"mw",value:function mw(){var t=this.Js.board,e=this["#role-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Role");var _iterator1207=_createForOfIteratorHelper(i),_step1207;try{for(_iterator1207.s();!(_step1207=_iterator1207.n()).done;){var _t1818=_step1207.value;""===e?_t1818.removeAttribute("role"):_t1818.setAttribute("role",e);}}catch(err){_iterator1207.e(err);}finally{_iterator1207.f();}}},{key:"gw",value:function gw(t){var _this778=this;var e,_i1146,s=this.Js.board,n=t.target,o=[];s.outermostSelectedElements.length>0?o=_toConsumableArray(s.outermostSelectedElements):null===s.currentContainer&&(o=[s.currentWorkspace]),s.undoManager.checkpoint("Tab index"),n.addEventListener("change",e=function e(){if(n===_this778["#tab-index-input"]){var _t1819=tt(_this778["#tab-index-input"].value,0);_this778["#tab-index-input"].value=_t1819,_this778["#tab-index-slider"].value=_t1819;}else n===_this778["#tab-index-slider"]&&(_this778["#tab-index-input"].value=_this778["#tab-index-slider"].value);var t=_this778["#tab-index-input"].value;var _iterator1208=_createForOfIteratorHelper(o),_step1208;try{for(_iterator1208.s();!(_step1208=_iterator1208.n()).done;){var _e1300=_step1208.value;-1===t?_e1300.removeAttribute("tabindex"):_e1300.setAttribute("tabindex",t);}}catch(err){_iterator1208.e(err);}finally{_iterator1208.f();}}),n.addEventListener("changeend",_i1146=function i(){n.removeEventListener("change",e),n.removeEventListener("changeend",_i1146);});}},{key:"fw",value:function fw(t){var e=this.Js.board;if(this["#link-button"].toggled){if(e.undoManager.checkpoint("Link"),this.Qs.modKeys.ctrl){var _t1820=_toConsumableArray(e.outermostSelectedElements);_t1820=Vi(_t1820);var i=[];var _iterator1209=_createForOfIteratorHelper(_t1820),_step1209;try{for(_iterator1209.s();!(_step1209=_iterator1209.n()).done;){var _e1301=_step1209.value;var _t1821=Ii("svg:a");_e1301.after(_t1821),_t1821.append(_e1301),i.push(_t1821);}}catch(err){_iterator1209.e(err);}finally{_iterator1209.f();}e.selectedElements=i;}else{var _t1822=document.createDocumentFragment(),_i1147=_toConsumableArray(e.outermostSelectedElements),_s621=Ii("svg:a");_i1147[0].after(_s621),_i1147=Vi(_i1147);var _iterator1210=_createForOfIteratorHelper(_i1147),_step1210;try{for(_iterator1210.s();!(_step1210=_iterator1210.n()).done;){var _e1302=_step1210.value;var _i1148=Yt(_e1302,_s621);_e1302.setAttribute("transform",_i1148.toString()),_t1822.append(_e1302);}}catch(err){_iterator1210.e(err);}finally{_iterator1210.f();}_s621.append(_t1822);var _iterator1211=_createForOfIteratorHelper(_s621.children),_step1211;try{for(_iterator1211.s();!(_step1211=_iterator1211.n()).done;){var _t1823=_step1211.value;ka(_t1823,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision});}}catch(err){_iterator1211.e(err);}finally{_iterator1211.f();}e.selectedElements=[_s621];}}else{e.undoManager.checkpoint("Unlink");var _t1824=_toConsumableArray(e.outermostSelectedElements),_i1149=[];var _iterator1212=_createForOfIteratorHelper(_t1824),_step1212;try{for(_iterator1212.s();!(_step1212=_iterator1212.n()).done;){var _s622=_step1212.value;if("a"===_s622.localName){var _t1825=_s622,_n494=document.createDocumentFragment();for(var _i1150=0,_arr44=_toConsumableArray(_t1825.children);_i1150<_arr44.length;_i1150++){var _s623=_arr44[_i1150];if("title"!==_s623.localName&&"desc"!==_s623.localName){if(e.isSelectableElement(_s623)){var _n495=Yt(_s623,_t1825.parentElement);_s623.setAttribute("transform",_n495.toString()),ka(_s623,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision}),_i1149.push(_s623);}var _iterator1213=_createForOfIteratorHelper(_t1825.attributes),_step1213;try{for(_iterator1213.s();!(_step1213=_iterator1213.n()).done;){var _step1213$value=_step1213.value,_e1303=_step1213$value.name,_i1151=_step1213$value.value;j.includes(_e1303)&&!1===_s623.hasAttribute(_e1303)&&_s623.setAttribute(_e1303,_i1151);}}catch(err){_iterator1213.e(err);}finally{_iterator1213.f();}var _iterator1214=_createForOfIteratorHelper(_t1825.style),_step1214;try{for(_iterator1214.s();!(_step1214=_iterator1214.n()).done;){var _e1304=_step1214.value;var _i1152=_t1825.style.getPropertyValue(_e1304);""===_s623.style.getPropertyValue(_e1304)&&_s623.style.setProperty(_e1304,_i1152);}}catch(err){_iterator1214.e(err);}finally{_iterator1214.f();}_n494.append(_s623);}}_t1825.before(_n494),_t1825.remove();}else _i1149.push(_s622);}}catch(err){_iterator1212.e(err);}finally{_iterator1212.f();}e.selectedElements=[].concat(_i1149);}}},{key:"ww",value:function ww(){this.Js.board.undoManager.checkpoint("Link URL");var t=this["#link-input"].value.trim();var _iterator1215=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1215;try{for(_iterator1215.s();!(_step1215=_iterator1215.n()).done;){var _e1305=_step1215.value;"a"===_e1305.localName&&(0===t.length?_e1305.removeAttribute("_href"):_e1305.setAttribute("_href",t));}}catch(err){_iterator1215.e(err);}finally{_iterator1215.f();}}},{key:"yw",value:function yw(){this.Js.board.undoManager.checkpoint("Link target");var _iterator1216=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1216;try{for(_iterator1216.s();!(_step1216=_iterator1216.n()).done;){var _t1826=_step1216.value;"a"===_t1826.localName&&(this["#link-target-checkbox"].toggled?(_t1826.setAttribute("target","_blank"),_t1826.setAttribute("rel","noreferrer")):(_t1826.removeAttribute("target"),_t1826.removeAttribute("rel")));}}catch(err){_iterator1216.e(err);}finally{_iterator1216.f();}}},{key:"kw",value:function kw(){if(null===this["#id-input"].error){var _t1827=this.Js.board,_e1306=_t1827.outermostSelectedElements[0]||_t1827.currentWorkspace,i=_e1306.id,_s624=this["#id-input"].value.trim();if(i!==_s624){_t1827.undoManager.checkpoint("ID"),""===_s624?_e1306.removeAttribute("id"):_e1306.setAttribute("id",_s624);{var _e1307=document.createNodeIterator(_t1827.workspaces,NodeFilter.SHOW_ELEMENT),_n496=null;for(;_n496=_e1307.nextNode();){_n496.href&&_n496.href.baseVal==="#"+i&&(""===_s624?_n496.removeAttribute("href"):_n496.setAttribute("href","#"+_s624));for(var _i1153=0,_arr45=["fill","stroke"];_i1153<_arr45.length;_i1153++){var _t1828=_arr45[_i1153];var _e1308=getComputedStyle(_n496).getPropertyValue(_t1828);if(_e1308&&_e1308.startsWith("url(")){_e1308.substring(6,_e1308.length-2)===i&&(""===_s624?_n496.style.removeProperty(_t1828):_n496.style.setProperty(_t1828,"url(#".concat(_s624,")")));}}}}}}}},{key:"Sw",value:function Sw(){var t=this.Js.board,e=this["#classes-input"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Class");var _iterator1217=_createForOfIteratorHelper(i),_step1217;try{for(_iterator1217.s();!(_step1217=_iterator1217.n()).done;){var _t1829=_step1217.value;0===e.length?_t1829.removeAttribute("class"):_t1829.setAttribute("class",e.join(" "));}}catch(err){_iterator1217.e(err);}finally{_iterator1217.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[];t.outermostSelectedElements.length>0?e=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(e=[t.currentWorkspace]);{var _t1830="",i=!1;if(e.length>0){var _e1309=e,_e1310=_toArray(_e1309),_s625=_e1310[0],_n497=_e1310.slice(1),_o396=_s625.querySelector(":scope > bx-title");_o396&&(_t1830=_o396.innerHTML);var _iterator1218=_createForOfIteratorHelper(_n497),_step1218;try{for(_iterator1218.s();!(_step1218=_iterator1218.n()).done;){var _e1311=_step1218.value;var _s626=_e1311.querySelector(":scope > bx-title");if(_s626&&_s626.innerHTML!==_t1830){i=!0;break;}}}catch(err){_iterator1218.e(err);}finally{_iterator1218.f();}}this["#title-heading"].disabled=0===e.length,this["#title-input"].value=_t1830,this["#title-input"].mixed=i,this["#title-input"].disabled=0===e.length;}{var _t1831="",_i1154=!1;if(e.length>0){var _e1312=e,_e1313=_toArray(_e1312),_s627=_e1313[0],_n498=_e1313.slice(1),_o397=_s627.querySelector(":scope > desc");_o397&&(_t1831=_o397.innerHTML);var _iterator1219=_createForOfIteratorHelper(_n498),_step1219;try{for(_iterator1219.s();!(_step1219=_iterator1219.n()).done;){var _e1314=_step1219.value;var _s628=_e1314.querySelector(":scope > desc");if(_s628&&_s628.innerHTML!==_t1831){_i1154=!0;break;}}}catch(err){_iterator1219.e(err);}finally{_iterator1219.f();}}this["#desc-heading"].disabled=0===e.length,this["#desc-editor"].value=_t1831,this["#desc-editor"].mixed=_i1154,this["#desc-editor"].disabled=0===e.length;}{var _t1832="",_i1155=!1;if(e.length>0){var _e1315=e,_e1316=_toArray(_e1315),_s629=_e1316[0],_n499=_e1316.slice(1),_this$_w=this._w(_s629),_this$_w2=_slicedToArray(_this$_w,2),_o398=_this$_w2[0],_l330=_this$_w2[1];if(_t1832=_o398,_i1155=_l330,!1===_i1155){var _iterator1220=_createForOfIteratorHelper(_n499),_step1220;try{for(_iterator1220.s();!(_step1220=_iterator1220.n()).done;){var _t1833=_step1220.value;var _this$_w3=this._w(_t1833),_this$_w4=_slicedToArray(_this$_w3,2),_e1317=_this$_w4[0],_s630=_this$_w4[1];if(_e1317!==_o398||_s630){_i1155=!0;break;}}}catch(err){_iterator1220.e(err);}finally{_iterator1220.f();}}}this["#language-heading"].disabled=0===e.length,this["#language-select"].value=_t1832,this["#language-select"].mixed=_i1155,this["#language-select"].disabled=0===e.length;}{var _t1834="",_i1156=!1;if(e.length>0){var _e1318=e,_e1319=_toArray(_e1318),_s631=_e1319[0],_n500=_e1319.slice(1);_t1834=_s631.getAttribute("role")||"";var _iterator1221=_createForOfIteratorHelper(_n500),_step1221;try{for(_iterator1221.s();!(_step1221=_iterator1221.n()).done;){var _e1320=_step1221.value;if((_e1320.getAttribute("role")||"")!==_t1834){_i1156=!0;break;}}}catch(err){_iterator1221.e(err);}finally{_iterator1221.f();}}this["#role-heading"].disabled=0===e.length,this["#role-select"].value=_t1834,this["#role-select"].mixed=_i1156,this["#role-select"].disabled=0===e.length;}{var _t1835=-1,_i1157=!1;if(e.length>0){var _e1321=e,_e1322=_toArray(_e1321),_s632=_e1322[0],_n501=_e1322.slice(1);_t1835=_s632.tabIndex;var _iterator1222=_createForOfIteratorHelper(_n501),_step1222;try{for(_iterator1222.s();!(_step1222=_iterator1222.n()).done;){var _t1836=_step1222.value;if(_t1836.tabIndex!==_s632.tabIndex){_i1157=!0;break;}}}catch(err){_iterator1222.e(err);}finally{_iterator1222.f();}}this["#tab-index-heading"].disabled=0===e.length,this["#tab-index-slider"].value=_t1835,this["#tab-index-slider"].disabled=0===e.length,this["#tab-index-input"].value=_t1835,this["#tab-index-input"].mixed=_i1157,this["#tab-index-input"].disabled=0===e.length;}{var _t1837=_toConsumableArray(this.Js.board.outermostSelectedObjectElements);if(0===_t1837.length)this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1;else if(1===_t1837.length){var _e1323=_t1837[0];"a"===_e1323.localName?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_e1323.hasAttribute("_href")?_e1323.getAttribute("_href"):"",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled=_e1323.hasAttribute("target"),this["#link-target-checkbox"].mixed=!1):_e1323.closest("a")||_e1323.querySelector("a")?(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}else{var _e1324=_t1837.filter(function(t){return"a"===t.localName;}),_i1158=_t1837.filter(function(t){return"a"!==t.localName;}),_s633=_i1158.filter(function(t){return t.closest("a")||t.querySelector("a");});_i1158.length>0&&0===_e1324.length&&0===_s633.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):_e1324.length>0&&0===_i1158.length&&0===_s633.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_t1837[0].hasAttribute("_href")?_t1837[0].getAttribute("_href"):"",this["#link-input"].mixed=void 0!==_t1837.find(function(e){return e.getAttribute("_href")!==_t1837[0].getAttribute("_href");}),this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled="_blank"===_t1837[0].getAttribute("target"),this["#link-target-checkbox"].mixed=void 0!==_t1837.find(function(e){return e.getAttribute("target")!==_t1837[0].getAttribute("target");})):(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}}{var _t1838="",_i1159=!1;if(e.length>0){var _e1325=e,_e1326=_toArray(_e1325),_s634=_e1326[0],_n502=_e1326.slice(1);_t1838=_s634.id;var _iterator1223=_createForOfIteratorHelper(_n502),_step1223;try{for(_iterator1223.s();!(_step1223=_iterator1223.n()).done;){var _t1839=_step1223.value;if(_t1839.id!==_s634.id){_i1159=!0;break;}}}catch(err){_iterator1223.e(err);}finally{_iterator1223.f();}}this["#id-heading"].disabled=1!==e.length,this["#id-input"].value=_t1838,this["#id-input"].mixed=_i1159,this["#id-input"].disabled=1!==e.length;}{var _t1840=[],_i1160=!1;if(e.length>0){var _e1327=e,_e1328=_toArray(_e1327),_s635=_e1328[0],_n503=_e1328.slice(1),_o399=_toConsumableArray(_s635.classList);_t1840=_o399;var _iterator1224=_createForOfIteratorHelper(_n503),_step1224;try{for(_iterator1224.s();!(_step1224=_iterator1224.n()).done;){var _t1841=_step1224.value;var _e1329=_toConsumableArray(_t1841.classList);if(!1===si(_o399,_e1329)){_i1160=!0;break;}}}catch(err){_iterator1224.e(err);}finally{_iterator1224.f();}}if(!1===si(_t1840,this["#classes-input"].value)){var _e1330="";var _iterator1225=_createForOfIteratorHelper(_t1840),_step1225;try{for(_iterator1225.s();!(_step1225=_iterator1225.n()).done;){var _i1161=_step1225.value;_e1330+="\n            <x-tag value=\"".concat(_i1161,"\">\n              <x-label>").concat(_i1161,"</x-label>\n            </x-tag>\n          ");}}catch(err){_iterator1225.e(err);}finally{_iterator1225.f();}this["#classes-input"].innerHTML=_e1330;}this["#classes-heading"].disabled=0===e.length,this["#classes-input"].mixed=_i1160,this["#classes-input"].disabled=0===e.length;}this["#accessibility-heading"].disabled=this["#title-heading"].disabled&&this["#desc-heading"].disabled&&this["#language-heading"].disabled&&this["#role-heading"].disabled&&this["#tab-index-heading"].disabled,this["#scripting-heading"].disabled=this["#id-heading"].disabled&&this["#classes-heading"].disabled,this["#panel-heading"].disabled=this["#accessibility-heading"].disabled&&this["#scripting-heading"].disabled;}},{key:"_w",value:function _w(t){var e="",i=!1,s=this.Js.board.workspaces;for(var _i1162=t;_i1162!==s;_i1162=_i1162.parentElement){if(_i1162.hasAttribute("lang")){e=_i1162.getAttribute("lang").trim();break;}}var _iterator1226=_createForOfIteratorHelper(t.querySelectorAll("*[lang]")),_step1226;try{for(_iterator1226.s();!(_step1226=_iterator1226.n()).done;){var _s636=_step1226.value;_s636.getAttribute("lang").trim()!==e&&(i=!0);}}catch(err){_iterator1226.e(err);}finally{_iterator1226.f();}return[e,i];}}]);return nm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nm,"observedAttributes",["enabled"]);_defineProperty(nm,"_shadowTemplate",Qi(_templateObject379()));_defineProperty(nm,"_shadowStyleSheet",Ji(_templateObject380()));customElements.define("bx-metapanel",nm);var om=/*#__PURE__*/function(_HTMLElement104){_inherits(om,_HTMLElement104);var _super158=_createSuper(om);_createClass(om,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function om(){var _this779;_classCallCheck(this,om);_this779=_super158.call(this),_this779.Dh=es(_this779.qs,200,_assertThisInitialized(_this779)),_this779._shadowRoot=_this779.attachShadow({mode:"closed"}),_this779._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,om._shadowStyleSheet],_this779._shadowRoot.append(document.importNode(om._shadowTemplate.content,!0));var _iterator1227=_createForOfIteratorHelper(_this779._shadowRoot.querySelectorAll("[id]")),_step1227;try{for(_iterator1227.s();!(_step1227=_iterator1227.n()).done;){var _t1842=_step1227.value;_this779["#"+_t1842.id]=_t1842;}}catch(err){_iterator1227.e(err);}finally{_iterator1227.f();}_this779["#reorient-button"].addEventListener("click",function(){return _this779.Qs.execCommand("reorient");}),_this779["#reverse-button"].addEventListener("click",function(){return _this779.Qs.execCommand("reverse");}),_this779["#shape-to-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("shapeToPath");}),_this779["#stroke-to-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("strokeToPath");}),_this779["#unite-button"].addEventListener("click",function(t){return _this779.Qs.execCommand("unite");}),_this779["#intersect-button"].addEventListener("click",function(t){return _this779.Qs.execCommand("intersect");}),_this779["#subtract-button"].addEventListener("click",function(t){return _this779.Qs.execCommand("subtract");}),_this779["#exclude-button"].addEventListener("click",function(t){return _this779.Qs.execCommand("exclude");}),_this779["#join-paths-button"].addEventListener("click",function(){return _this779.Qs.execCommand("joinPaths");}),_this779["#split-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("splitPath");}),_this779["#close-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("closePath");}),_this779["#open-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("openPath");}),_this779["#inset-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("insetPath");}),_this779["#outset-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("outsetPath");}),_this779["#simplify-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("simplifyPath");}),_this779["#complexify-path-button"].addEventListener("click",function(){return _this779.Qs.execCommand("complexifyPath");}),_this779["#join-nodes-button"].addEventListener("click",function(){return _this779.Qs.execCommand("joinNodes");}),_this779["#split-node-button"].addEventListener("click",function(){return _this779.Qs.execCommand("splitNode");}),_this779["#delete-node-button"].addEventListener("click",function(){return _this779.Qs.execCommand("deleteNode");}),_this779["#break-node-button"].addEventListener("click",function(){return _this779.Qs.execCommand("breakNode");});return _this779;}_createClass(om,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this780=this;this.qs();var t=this.Js.board;t.addEventListener("selectedelementschange",this.il=function(){_this780.sl();}),t.addEventListener("workspacemutation",this.hn=function(t){_this780.al(t.detail);}),t.pathHud.addEventListener("selectednodeschange",this.Bf=function(){_this780.qs();});}},{key:"en",value:function en(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn),t.pathHud.removeEventListener("selectednodeschange",this.Bf);}},{key:"sl",value:function sl(){this.Dh();}},{key:"al",value:function al(t){this.Dh();}},{key:"qs",value:function qs(){{var _t1843=this.Qs.isCommandEnabled("reorient"),_e1331=this.Qs.isCommandEnabled("reverse");this["#reorient-button"].disabled=!_t1843,this["#reverse-button"].disabled=!_e1331;}{var _t1844=this.Qs.isCommandEnabled("shapeToPath"),_e1332=this.Qs.isCommandEnabled("strokeToPath");this["#shape-to-path-button"].disabled=!_t1844,this["#stroke-to-path-button"].disabled=!_e1332,this["#convert-section-heading"].disabled=!(_e1332||_t1844);}{var _t1845=this.Qs.isCommandEnabled("unite"),_e1333=this.Qs.isCommandEnabled("subtract"),i=this.Qs.isCommandEnabled("intersect"),_s637=this.Qs.isCommandEnabled("exclude");this["#unite-button"].disabled=!_t1845,this["#subtract-button"].disabled=!_e1333,this["#intersect-button"].disabled=!i,this["#exclude-button"].disabled=!_s637,this["#boolops-section-heading"].disabled=!(_t1845||_e1333||i||_s637);}{var _t1846=this.Qs.isCommandEnabled("openPath"),_e1334=this.Qs.isCommandEnabled("closePath"),_i1163=this.Qs.isCommandEnabled("joinPaths"),_s638=this.Qs.isCommandEnabled("splitPath"),_n504=this.Qs.isCommandEnabled("insetPath"),_o400=this.Qs.isCommandEnabled("outsetPath"),_l331=this.Qs.isCommandEnabled("simplifyPath"),_a247=this.Qs.isCommandEnabled("complexifyPath");this["#open-path-button"].disabled=!_t1846,this["#close-path-button"].disabled=!_e1334,this["#join-paths-button"].disabled=!_i1163,this["#split-path-button"].disabled=!_s638,this["#inset-path-button"].disabled=!_n504,this["#outset-path-button"].disabled=!_o400,this["#simplify-path-button"].disabled=!_l331,this["#complexify-path-button"].disabled=!_a247,this["#path-section-heading"].disabled=!(_t1846||_e1334||_i1163||_s638||_n504||_o400||_l331||_a247);}{var _t1847=this.Qs.isCommandEnabled("joinNodes"),_e1335=this.Qs.isCommandEnabled("splitNode"),_i1164=this.Qs.isCommandEnabled("deleteNode"),_s639=this.Qs.isCommandEnabled("breakNode");this["#join-nodes-button"].disabled=!_t1847,this["#split-node-button"].disabled=!_e1335,this["#delete-node-button"].disabled=!_i1164,this["#break-node-button"].disabled=!_s639,this["#node-section-heading"].disabled=!(_t1847||_e1335||_i1164||_s639);}this["#panel-heading"].disabled=null===this._shadowRoot.querySelector("x-button:not([disabled]");}}]);return om;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(om,"observedAttributes",["enabled"]);_defineProperty(om,"_shadowTemplate",Qi(_templateObject381()));_defineProperty(om,"_shadowStyleSheet",Ji(_templateObject382()));customElements.define("bx-shapepanel",om);var lm=/*#__PURE__*/function(_HTMLElement105){_inherits(lm,_HTMLElement105);var _super159=_createSuper(lm);_createClass(lm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lm(){var _this781;_classCallCheck(this,lm);_this781=_super159.call(this),_this781.Cw=es(_this781.qs,250,_assertThisInitialized(_this781)),_this781.Mw=es(_this781.qs,2e3,_assertThisInitialized(_this781)),_this781._shadowRoot=_this781.attachShadow({mode:"closed"}),_this781._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,lm._shadowStyleSheet],_this781._shadowRoot.append(document.importNode(lm._shadowTemplate.content,!0));var _iterator1228=_createForOfIteratorHelper(_this781._shadowRoot.querySelectorAll("[id]")),_step1228;try{for(_iterator1228.s();!(_step1228=_iterator1228.n()).done;){var _t1848=_step1228.value;_this781["#"+_t1848.id]=_t1848;}}catch(err){_iterator1228.e(err);}finally{_iterator1228.f();}_this781["#align-to-select"].addEventListener("change",function(){return _this781.Pw();}),_this781["#align-as-group-button"].addEventListener("toggle",function(){return _this781.Dw();}),_this781["#align-buttons"].addEventListener("click",function(t){return _this781.zw(t);}),_this781["#rotate-buttons"].addEventListener("click",function(t){return _this781.Ow(t);}),_this781["#flip-buttons"].addEventListener("click",function(t){return _this781.Ew(t);}),_this781["#transform-buttons"].addEventListener("click",function(t){return _this781.Tw(t);}),_this781["#order-buttons-1"].addEventListener("click",function(t){return _this781.Aw(t);}),_this781["#order-buttons-2"].addEventListener("click",function(t){return _this781.Aw(t);}),_this781["#group-buttons"].addEventListener("click",function(t){return _this781.$w(t);}),_this781["#distance-buttons"].addEventListener("toggle",function(){return _this781.Iw();}),_this781["#distribute-buttons-box"].addEventListener("click",function(t){return _this781.Lw(t);});return _this781;}_createClass(lm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this782=this;var t=this.Js.board;this.Qs.addEventListener("modkeyschange",this.Jh=function(){return _this782.jd();}),t.addEventListener("selectedelementschange",this.il=function(){return _this782.qs();}),t.addEventListener("workspacemutation",this.hn=function(){return _this782.al();}),this.Rw=this.Qs.getConfig("bx-arrangementpanel:alignTo","default-view"),this.Bw=this.Qs.getConfig("bx-arrangementpanel:alignAsGroup",!0),this.Gw=this.Qs.getConfig("bx-arrangementpanel:distance","auto"),"view-box"===this.Rw&&(this.Rw="nearest-view"),this.qs();}},{key:"en",value:function en(){var t=this.Js.board;this.Qs.removeEventListener("modkeyschange",this.Jh),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(){this.Qs.isPointerDown?this.Mw():this.Cw();}},{key:"jd",value:function jd(){var t=this.Qs.modKeys.shift?"outside":"inside";this["#move-buttons"].setAttribute("data-side",t);var _iterator1229=_createForOfIteratorHelper(this["#move-buttons"].querySelectorAll("x-button")),_step1229;try{for(_iterator1229.s();!(_step1229=_iterator1229.n()).done;){var _e1336=_step1229.value;_e1336.value="outside"===t?_e1336.value.replace("inside","outside"):_e1336.value.replace("outside","inside");}}catch(err){_iterator1229.e(err);}finally{_iterator1229.f();}}},{key:"Pw",value:function Pw(){this.Rw=this["#align-to-select"].value,this.Qs.setConfig("bx-arrangementpanel:alignTo",this.Rw),this.qs();}},{key:"Dw",value:function Dw(){this.Bw=this["#align-as-group-button"].toggled,this.Qs.setConfig("bx-arrangementpanel:alignAsGroup",this.Bw),this.qs();}},{key:"zw",value:function zw(t){var e=t.target.closest("x-button");if(e){var _t1849=this.Js.board,i=this["#align-to-select"].value,_s640=this["#align-as-group-button"].toggled;if(_t1849.undoManager.checkpoint("Align"),"default-view"===i){var _i1165=qt(_t1849.vectorCanvas),_n505=Ft.fromString(_t1849.currentWorkspace.getAttribute("viewBox")).toRect(),_o401=He(_n505,_i1165);this.Uw(_t1849.outermostSelectedObjectElements,_o401,e.value,_s640);}else if("nearest-view"===i){var _i1166=qt(_t1849.vectorCanvas),_n506=[Ft.fromString(_t1849.currentWorkspace.getAttribute("viewBox")).toRect()];var _iterator1230=_createForOfIteratorHelper(_t1849.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view")),_step1230;try{for(_iterator1230.s();!(_step1230=_iterator1230.n()).done;){var _e1337=_step1230.value;_n506.push(Ft.fromString(_e1337.getAttribute("viewBox")).toRect());}}catch(err){_iterator1230.e(err);}finally{_iterator1230.f();}if(!0===_s640||1===_t1849.outermostSelectedObjectElements){var _o402=We(_t1849.outermostSelectedObjectElements.map(function(t){return Ti(t);}));_o402=He(_o402,_i1166.inverse());var _l332=Ze(_n506,_o402),_a248=He(_l332,_i1166);this.Uw(_t1849.outermostSelectedObjectElements,_a248,e.value,_s640);}else{var _iterator1231=_createForOfIteratorHelper(_t1849.outermostSelectedObjectElements),_step1231;try{for(_iterator1231.s();!(_step1231=_iterator1231.n()).done;){var _s641=_step1231.value;var _t1850=He(Ti(_s641),_i1166.inverse()),_o403=Ze(_n506,_t1850),_l333=He(_o403,_i1166);this.Uw([_s641],_l333,e.value,!1);}}catch(err){_iterator1231.e(err);}finally{_iterator1231.f();}}}else if("first-selected"===i){var _t1849$outermostSelec=_toArray(_t1849.outermostSelectedObjectElements),_i1167=_t1849$outermostSelec[0],_n507=_t1849$outermostSelec.slice(1),_o404=Ti(_i1167);this.Uw(_n507,_o404,e.value,_s640);}else if("last-selected"===i){var _reverse=_toConsumableArray(_t1849.outermostSelectedObjectElements).reverse(),_reverse2=_toArray(_reverse),_i1168=_reverse2[0],_n508=_reverse2.slice(1),_o405=Ti(_i1168);this.Uw(_n508,_o405,e.value,_s640);}else if("selection"===i){qt(_t1849.vectorCanvas);var _i1169=We(_t1849.outermostSelectedObjectElements.map(function(t){return Ti(t);}));this.Uw(_t1849.outermostSelectedObjectElements,_i1169,e.value,!1);}}}},{key:"Ow",value:function Ow(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Ew",value:function Ew(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Tw",value:function Tw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Aw",value:function Aw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"$w",value:function $w(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Iw",value:function Iw(){"auto"===this["#distance-buttons"].value&&(this["#distance-input"].value=0),this.Gw=this["#distance-buttons"].value,this.Qs.setConfig("bx-arrangementpanel:distance",this.Gw),this.qs();}},{key:"Lw",value:function Lw(t){var e=t.target.closest("x-button");if(e){var _t1851=this.Js.board,i=_toConsumableArray(_t1851.outermostSelectedObjectElements),_s642=Symbol();var _iterator1232=_createForOfIteratorHelper(i),_step1232;try{for(_iterator1232.s();!(_step1232=_iterator1232.n()).done;){var _t1854=_step1232.value;_t1854[_s642]=Ti(_t1854);}}catch(err){_iterator1232.e(err);}finally{_iterator1232.f();}if(_t1851.undoManager.checkpoint("Distribute"),"horizontal"===e.value){i.sort(function(t,e){var i=t[_s642],n=e[_s642];return i.x+i.width/2-(n.x+n.width/2);});var _e1338=i.map(function(t){return t[_s642];}),_n509=We(_e1338).width;var _iterator1233=_createForOfIteratorHelper(i),_step1233;try{for(_iterator1233.s();!(_step1233=_iterator1233.n()).done;){var _t1852=_step1233.value;_n509-=_t1852[_s642].width;}}catch(err){_iterator1233.e(err);}finally{_iterator1233.f();}if(_n509<=0||"manual"===this["#distance-buttons"].value){var _e1339=0;"manual"===this["#distance-buttons"].value&&(_e1339=this["#distance-input"].value*this.Js.board.scale);var _n510=i[0],_o406=null;var _iterator1234=_createForOfIteratorHelper(i),_step1234;try{for(_iterator1234.s();!(_step1234=_iterator1234.n()).done;){var _l334=_step1234.value;if(_l334!==_n510){var _i1170=Wt(_l334),_n511=qt(_l334),_a249=_n511.inverse(),_h201=-(_l334[_s642].left-_o406[_s642].right)+_e1339,_r138=_i1170.multiply(_a249);_r138.translateSelf(_h201,0),_r138.multiplySelf(_n511),_l334.setAttribute("transform",_r138.toString()),ka(_l334,{geometryPrecision:_t1851.geometryPrecision,transformPrecision:_t1851.transformPrecision}),_l334[_s642]=Ti(_l334);}_o406=_l334;}}catch(err){_iterator1234.e(err);}finally{_iterator1234.f();}}else{var _e1340=i[0],_o407=i[i.length-1],_l335=null,_a250=_n509/(i.length-1);var _iterator1235=_createForOfIteratorHelper(i),_step1235;try{for(_iterator1235.s();!(_step1235=_iterator1235.n()).done;){var _n512=_step1235.value;if(_n512!==_e1340&&_n512!==_o407){var _e1341=Wt(_n512),_i1171=qt(_n512),_o408=_i1171.inverse(),_h202=-(_n512[_s642].left-_l335[_s642].right)+_a250,_r139=_e1341.multiply(_o408);_r139.translateSelf(_h202,0),_r139.multiplySelf(_i1171),_n512.setAttribute("transform",_r139.toString()),ka(_n512,{geometryPrecision:_t1851.geometryPrecision,transformPrecision:_t1851.transformPrecision}),_n512[_s642]=Ti(_n512);}_l335=_n512;}}catch(err){_iterator1235.e(err);}finally{_iterator1235.f();}}}else if("vertical"===e.value){i.sort(function(t,e){var i=t[_s642],n=e[_s642];return i.y+i.height/2-(n.y+n.height/2);});var _e1342=i.map(function(t){return t[_s642];}),_n513=We(_e1342).height;var _iterator1236=_createForOfIteratorHelper(i),_step1236;try{for(_iterator1236.s();!(_step1236=_iterator1236.n()).done;){var _t1853=_step1236.value;_n513-=_t1853[_s642].height;}}catch(err){_iterator1236.e(err);}finally{_iterator1236.f();}if(_n513<=0||"manual"===this["#distance-buttons"].value){var _e1343=0;"manual"===this["#distance-buttons"].value&&(_e1343=this["#distance-input"].value*this.Js.board.scale);var _n514=i[0],_o409=null;var _iterator1237=_createForOfIteratorHelper(i),_step1237;try{for(_iterator1237.s();!(_step1237=_iterator1237.n()).done;){var _l336=_step1237.value;if(_l336!==_n514){var _i1172=Wt(_l336),_n515=qt(_l336),_a251=_n515.inverse(),_h203=-(_l336[_s642].top-_o409[_s642].bottom)+_e1343,_r140=_i1172.multiply(_a251);_r140.translateSelf(0,_h203),_r140.multiplySelf(_n515),_l336.setAttribute("transform",_r140.toString()),ka(_l336,{geometryPrecision:_t1851.geometryPrecision,transformPrecision:_t1851.transformPrecision}),_l336[_s642]=Ti(_l336);}_o409=_l336;}}catch(err){_iterator1237.e(err);}finally{_iterator1237.f();}}else{var _e1344=i[0],_o410=i[i.length-1],_l337=null,_a252=_n513/(i.length-1);var _iterator1238=_createForOfIteratorHelper(i),_step1238;try{for(_iterator1238.s();!(_step1238=_iterator1238.n()).done;){var _n516=_step1238.value;if(_n516!==_e1344&&_n516!==_o410){var _e1345=Wt(_n516),_i1173=qt(_n516),_o411=_i1173.inverse(),_h204=-(_n516[_s642].top-_l337[_s642].bottom)+_a252,_r141=_e1345.multiply(_o411);_r141.translateSelf(0,_h204),_r141.multiplySelf(_i1173),_n516.setAttribute("transform",_r141.toString()),ka(_n516,{geometryPrecision:_t1851.geometryPrecision,transformPrecision:_t1851.transformPrecision}),_n516[_s642]=Ti(_n516);}_l337=_n516;}}catch(err){_iterator1238.e(err);}finally{_iterator1238.f();}}}else if("centers-horizontal"===e.value){var _e1346=_toConsumableArray(i).sort(function(t,e){var i=t[_s642],n=e[_s642];return i.x+i.width/2-(n.x+n.width/2);}),_n517=_e1346[0],_o412=_e1346[_e1346.length-1],_l338=0;if("manual"===this["#distance-buttons"].value)_l338=this["#distance-input"].value*this.Js.board.scale;else{_l338=(_o412[_s642].x+_o412[_s642].width/2-(_n517[_s642].x+_n517[_s642].width/2))/(_e1346.length-1);}var _a253=_l338;var _iterator1239=_createForOfIteratorHelper(_e1346),_step1239;try{for(_iterator1239.s();!(_step1239=_iterator1239.n()).done;){var _i1174=_step1239.value;if(_i1174!==_n517&&(_i1174!==_o412||"auto"!==this["#distance-buttons"].value)){var _e1347=Wt(_i1174),_o413=qt(_i1174),_h205=_o413.inverse(),_r142=-(_i1174[_s642].x+_i1174[_s642].width/2-(_n517[_s642].x+_n517[_s642].width/2))+_a253,_d112=_e1347.multiply(_h205);_d112.translateSelf(_r142,0),_d112.multiplySelf(_o413),_i1174.setAttribute("transform",_d112.toString()),ka(_i1174,{geometryPrecision:_t1851.geometryPrecision,transformPrecision:_t1851.transformPrecision}),_a253+=_l338,_i1174[_s642]=Ti(_i1174);}}}catch(err){_iterator1239.e(err);}finally{_iterator1239.f();}}else if("centers-vertical"===e.value){var _e1348=_toConsumableArray(i).sort(function(t,e){var i=t[_s642],n=e[_s642];return i.y+i.height/2-(n.y+n.height/2);}),_n518=_e1348[0],_o414=_e1348[_e1348.length-1],_l339=0;if("manual"===this["#distance-buttons"].value)_l339=this["#distance-input"].value*this.Js.board.scale;else{_l339=(_o414[_s642].y+_o414[_s642].height/2-(_n518[_s642].y+_n518[_s642].height/2))/(_e1348.length-1);}var _a254=_l339;var _iterator1240=_createForOfIteratorHelper(_e1348),_step1240;try{for(_iterator1240.s();!(_step1240=_iterator1240.n()).done;){var _i1175=_step1240.value;if(_i1175!==_n518&&(_i1175!==_o414||"auto"!==this["#distance-buttons"].value)){var _e1349=Wt(_i1175),_o415=qt(_i1175),_h206=_o415.inverse(),_r143=-(_i1175[_s642].y+_i1175[_s642].height/2-(_n518[_s642].y+_n518[_s642].height/2))+_a254,_d113=_e1349.multiply(_h206);_d113.translateSelf(0,_r143),_d113.multiplySelf(_o415),_i1175.setAttribute("transform",_d113.toString()),ka(_i1175,{geometryPrecision:_t1851.geometryPrecision,transformPrecision:_t1851.transformPrecision}),_a254+=_l339,_i1175[_s642]=Ti(_i1175);}}}catch(err){_iterator1240.e(err);}finally{_iterator1240.f();}}}}},{key:"Uw",value:function Uw(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;if(!1===s){var _iterator1241=_createForOfIteratorHelper(t),_step1241;try{for(_iterator1241.s();!(_step1241=_iterator1241.n()).done;){var _s643=_step1241.value;var _t1855=Wt(_s643),_n519=qt(_s643),_o416=_n519.inverse(),_l340=Ti(_s643),_a255=0,_h207=0,_r144=1,_d114=1,_c85=0,_p77=0;if("move-left-inside"===i)_a255=e.x-_l340.x;else if("move-left-outside"===i)_a255=e.x-_l340.x-_l340.width;else if("move-right-inside"===i)_a255=e.x+e.width-_l340.x-_l340.width;else if("move-right-outside"===i)_a255=e.x+e.width-_l340.x;else if("move-top-inside"===i)_h207=e.y-_l340.y;else if("move-top-outside"===i)_h207=e.y-_l340.y-_l340.height;else if("move-bottom-inside"===i)_h207=e.y+e.height-_l340.y-_l340.height;else if("move-bottom-outside"===i)_h207=e.y+e.height-_l340.y;else if("center"===i)_a255=e.x-_l340.x+e.width/2-_l340.width/2,_h207=e.y-_l340.y+e.height/2-_l340.height/2;else if("horizontal-center"===i)_a255=e.x-_l340.x+e.width/2-_l340.width/2;else if("vertical-center"===i)_h207=e.y-_l340.y+e.height/2-_l340.height/2;else if("stretch"===i)_r144=e.width/_l340.width,_d114=e.height/_l340.height,_a255=e.x-_l340.x*_r144,_h207=e.y-_l340.y*_d114;else if("horizontal-stretch"===i)_r144=e.width/_l340.width,_a255=e.x-_l340.x*_r144;else if("vertical-stretch"===i)_d114=e.height/_l340.height,_h207=e.y-_l340.y*_d114;else if("fit"===i){var _t1856=min(e.width/_l340.width,e.height/_l340.height);_r144=_t1856,_d114=_t1856,_a255=e.x-_l340.x+e.width/2-_l340.width/2,_h207=e.y-_l340.y+e.height/2-_l340.height/2,_c85=_l340.x+_l340.width/2,_p77=_l340.y+_l340.height/2;}else"horizontal-fit"===i?(_r144=e.width/_l340.width,_d114=_r144,_a255=e.x-_l340.x,_c85=_l340.x,_p77=_l340.y):"vertical-fit"===i&&(_d114=e.height/_l340.height,_r144=_d114,_h207=e.y-_l340.y,_c85=_l340.x,_p77=_l340.y);var _u64=_t1855.multiply(_o416);_u64.translateSelf(_a255,_h207),_u64.scaleSelf(_r144,_d114,1,_c85,_p77),_u64.multiplySelf(_n519),_s643.setAttribute("transform",_u64.toString()),ka(_s643,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1241.e(err);}finally{_iterator1241.f();}}else if(!0===s){var _s644=t.map(function(t){return Ti(t);}),_n520=We(_s644),_o417=0,_l341=0,_a256=1,_h208=1,_r145=0,_d115=0;if("move-left-inside"===i)_o417=e.x-_n520.x;else if("move-left-outside"===i)_o417=e.x-_n520.x-_n520.width;else if("move-right-inside"===i)_o417=e.x+e.width-_n520.x-_n520.width;else if("move-right-outside"===i)_o417=e.x+e.width-_n520.x;else if("move-top-inside"===i)_l341=e.y-_n520.y;else if("move-top-outside"===i)_l341=e.y-_n520.y-_n520.height;else if("move-bottom-inside"===i)_l341=e.y+e.height-_n520.y-_n520.height;else if("move-bottom-outside"===i)_l341=e.y+e.height-_n520.y;else if("center"===i)_o417=e.x-_n520.x+e.width/2-_n520.width/2,_l341=e.y-_n520.y+e.height/2-_n520.height/2;else if("horizontal-center"===i)_o417=e.x-_n520.x+e.width/2-_n520.width/2;else if("vertical-center"===i)_l341=e.y-_n520.y+e.height/2-_n520.height/2;else if("stretch"===i)_a256=e.width/_n520.width,_h208=e.height/_n520.height,_o417=e.x-_n520.x*_a256,_l341=e.y-_n520.y*_h208;else if("horizontal-stretch"===i)_a256=e.width/_n520.width,_o417=e.x-_n520.x*_a256;else if("vertical-stretch"===i)_h208=e.height/_n520.height,_l341=e.y-_n520.y*_h208;else if("fit"===i){var _t1857=min(e.width/_n520.width,e.height/_n520.height);_a256=_t1857,_h208=_t1857,_o417=e.x-_n520.x+e.width/2-_n520.width/2,_l341=e.y-_n520.y+e.height/2-_n520.height/2,_r145=_n520.x+_n520.width/2,_d115=_n520.y+_n520.height/2;}else"horizontal-fit"===i?(_a256=e.width/_n520.width,_h208=_a256,_o417=e.x-_n520.x,_r145=_n520.x,_d115=_n520.y):"vertical-fit"===i&&(_h208=e.height/_n520.height,_a256=_h208,_l341=e.y-_n520.y,_r145=_n520.x,_d115=_n520.y);var _iterator1242=_createForOfIteratorHelper(t),_step1242;try{for(_iterator1242.s();!(_step1242=_iterator1242.n()).done;){var _e1350=_step1242.value;var _t1858=Wt(_e1350),_i1176=qt(_e1350),_s645=_i1176.inverse(),_n521=_t1858.multiply(_s645);_n521.translateSelf(_o417,_l341),_n521.scaleSelf(_a256,_h208,1,_r145,_d115),_n521.multiplySelf(_i1176),_e1350.setAttribute("transform",_n521.toString()),ka(_e1350,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1242.e(err);}finally{_iterator1242.f();}}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(this["#panel-heading"].disabled=0===t.outermostSelectedObjectElements.length,0===e.length){this["#align-section-heading"].disabled=!0,this["#align-options-heading"].disabled=!0,this["#align-to-select"].value=this.Rw,this["#align-to-select"].disabled=!0,this["#align-as-group-button"].toggled=this.Bw,this["#align-as-group-button"].disabled=!0;var _iterator1243=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1243;try{for(_iterator1243.s();!(_step1243=_iterator1243.n()).done;){var _t1859=_step1243.value;_t1859.disabled=!0;}}catch(err){_iterator1243.e(err);}finally{_iterator1243.f();}}else{this["#align-section-heading"].disabled=!1,this["#align-options-heading"].disabled=!1,this["#align-to-select"].value=this.Rw,this["#align-to-select"].disabled=!1,this["#align-as-group-button"].toggled=this.Bw,this["#align-as-group-button"].disabled=!1;var i=!0;if("default-view"===this.Rw)i=t.currentWorkspace.hasAttribute("viewBox");else if("nearest-view"===this.Rw){if(t.currentWorkspace.hasAttribute("viewBox"))i=!0;else{i=t.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view").length>0;}}else"first-selected"===this.Rw||"last-selected"===this.Rw?i=e.length>=2:"selection"===this.Rw&&(i=e.length>=2&&!1===this.Bw);var _iterator1244=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1244;try{for(_iterator1244.s();!(_step1244=_iterator1244.n()).done;){var _t1860=_step1244.value;_t1860.disabled=!1===i;}}catch(err){_iterator1244.e(err);}finally{_iterator1244.f();}}this["#rotate-counterclockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateCounterclockwise"),this["#rotate-clockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateClockwise"),this["#flip-horizontally-button"].disabled=!this.Qs.isCommandEnabled("flipX"),this["#flip-vertically-button"].disabled=!this.Qs.isCommandEnabled("flipY"),this["#remove-transform-button"].disabled=!this.Qs.isCommandEnabled("removeTransform"),this["#reduce-transform-button"].disabled=!this.Qs.isCommandEnabled("reduceTransform"),this["#transform-heading"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-horizontally-button"].disabled&&this["#flip-vertically-button"].disabled&&this["#remove-transform-button"].disabled&&this["#reduce-transform-button"].disabled,this["#raise-button"].disabled=!this.Qs.isCommandEnabled("raise"),this["#front-button"].disabled=this["#raise-button"].disabled,this["#lower-button"].disabled=!this.Qs.isCommandEnabled("lower"),this["#back-button"].disabled=this["#lower-button"].disabled,this["#order-section-heading"].disabled=this["#front-button"].disabled&&this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#back-button"].disabled,this["#group-button"].disabled=!this.Qs.isCommandEnabled("group"),this["#ungroup-button"].disabled=!this.Qs.isCommandEnabled("ungroup"),this["#group-section-heading"].disabled=this["#group-button"].disabled&&this["#ungroup-button"].disabled,e.length<=1?(this["#distribute-heading"].disabled=!0,this["#distribute-distance-heading"].disabled=!0,this["#distance-buttons"].value=null,this["#auto-distance-button"].disabled=!0,this["#manual-distance-button"].disabled=!0,this["#distance-input"].disabled=!0,this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-heading"].disabled=!1,this["#distribute-distance-heading"].disabled=!1,this["#distance-buttons"].value=this.Gw,this["#auto-distance-button"].disabled=!1,this["#manual-distance-button"].disabled=!1,this["#distance-input"].disabled="auto"===this["#distance-buttons"].value,"auto"===this["#distance-buttons"].value&&e.length<=2?(this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-actions-heading"].disabled=!1,this["#distribute-horizontally-button"].disabled=!1,this["#distribute-vertically-button"].disabled=!1,this["#distribute-centers-horizontally-button"].disabled=!1,this["#distribute-centers-vertically-button"].disabled=!1));}}]);return lm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lm,"observedAttributes",["enabled"]);_defineProperty(lm,"_shadowTemplate",Qi(_templateObject383()));_defineProperty(lm,"_shadowStyleSheet",Ji(_templateObject384()));customElements.define("bx-arrangementpanel",lm);var am=Symbol();var hm=/*#__PURE__*/function(_HTMLElement106){_inherits(hm,_HTMLElement106);var _super160=_createSuper(hm);_createClass(hm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hm(){var _this783;_classCallCheck(this,hm);_this783=_super160.call(this),_this783.Fw=!1,_this783.Nw=null,_this783.Dh=es(_this783.qs,200,_assertThisInitialized(_this783)),_this783.Vw=is(_this783.jw,250,_assertThisInitialized(_this783)),_this783._shadowRoot=_this783.attachShadow({mode:"closed"}),_this783._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,hm._shadowStyleSheet],_this783._shadowRoot.append(document.importNode(hm._shadowTemplate.content,!0));var _iterator1245=_createForOfIteratorHelper(_this783._shadowRoot.querySelectorAll("[id]")),_step1245;try{for(_iterator1245.s();!(_step1245=_iterator1245.n()).done;){var _t1861=_step1245.value;_this783["#"+_t1861.id]=_t1861;}}catch(err){_iterator1245.e(err);}finally{_iterator1245.f();}_this783["#main"].addEventListener("pointerdown",function(t){return _this783.Hw(t);}),_this783["#main"].addEventListener("click",function(t){return _this783.Ww(t);}),_this783["#main"].addEventListener("contextmenu",function(t){return _this783.Yw(t);}),_this783["#main"].addEventListener("keydown",function(t){return _this783.wn(t);}),_this783["#context-menu"].addEventListener("click",function(t){return _this783.qw(t);}),_this783["#add-menu"].addEventListener("click",function(t){return _this783.Xw(t);}),_this783["#developer-mode-button"].addEventListener("toggle",function(){return _this783.$u();}),_this783["#filter-input"].addEventListener("input",function(){return _this783.Zw();});return _this783;}_createClass(hm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this784=this;var t=this.Js.board;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-objectsbrowser:developerMode",!1),this.Kw(),this.Dh(),t.addEventListener("artworkchange",this.yr=function(){_this784.qs();}),t.addEventListener("selectedelementschange",this.il=function(){_this784.sl();}),t.addEventListener("workspacemutation",this.hn=function(t){_this784.al(t);}),t.addEventListener("currentworkspacechange",this.Fx=function(){_this784.Qw();});}},{key:"en",value:function en(){var t=this.Js.board;t.removeEventListener("artworkchange",this.yr),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn),t.removeEventListener("currentworkspacechange",this.Fx);}},{key:"sl",value:function sl(){this.Jw();}},{key:"al",value:function al(t){var e=t.detail;var _iterator1246=_createForOfIteratorHelper(e),_step1246;try{for(_iterator1246.s();!(_step1246=_iterator1246.n()).done;){var _t1862=_step1246.value;this.tv(_t1862);}}catch(err){_iterator1246.e(err);}finally{_iterator1246.f();}}},{key:"Qw",value:function Qw(){this.Dh();}},{key:"Yw",value:function Yw(t){var e=t.target.closest(".item");if(e){var i=e[am];t.preventDefault(),this.Nw=e,this["#context-menu"].open(t.clientX,t.clientY),"g"===i.localName?(this["#ungroup-menu-item"].disabled=!1,this["#enter-group-menu-item"].disabled=!1):(this["#ungroup-menu-item"].disabled=!0,this["#enter-group-menu-item"].disabled=!0);}}},{key:"qw",value:function qw(t){var e=t.target.closest("x-menuitem");if(e)if("enterGroup"===e.value){var _t1863=this.Nw[am];this.Js.board.currentContainer=_t1863,this.Js.board.selectedElements=[];}else this.Qs.execCommand(e.value);}},{key:"Hw",value:function Hw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")||t.target.closest(".lock-button")||t.target.closest(".visibility-button")||this.Lm(t));}},{key:"Lm",value:function Lm(t){var _this785=this;var e=this.Js.board,_this$Qs$modKeys11=this.Qs.modKeys,i=_this$Qs$modKeys11.ctrl,s=_this$Qs$modKeys11.shift,n=t.target.closest(".item"),o=new DOMPoint(t.clientX,t.clientY);if(1===t.buttons||!0!==n.hasAttribute("data-selected"))if(!0===i){var _t1864=n[am],_i1177=_t1864.parentElement.closest("g, a");e.selectedElements.includes(_t1864)?e.selectedElements=e.selectedElements.filter(function(e){return e!==_t1864;}):(e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_t1864]),1===e.selectedElements.length&&(e.currentContainer=_i1177===e.currentWorkspace?null:_i1177));}else if(!0===s){var _t1865=e.selectedElements.map(function(t){return _this785.ev(t);});_t1865=_t1865.filter(function(t){return null!==t&&!1===t.hidden;});var _i1178=_t1865.map(function(t){return t[am];}),_s646=_i1178[_i1178.length-1]||null;if(_s646){var _t1866=this.iv(!0),_i1179=_t1866.find(function(t){return t[am]===_s646;}),_o418=_t1866.indexOf(_i1179),_l342=_t1866.indexOf(n),_a257=[];if(_l342>_o418?_a257=_toConsumableArray(_t1866).slice(_o418,_l342+1):_l342<_o418&&(_a257=_toConsumableArray(_t1866).slice(_l342,_o418+1).reverse()),_a257=_a257.filter(function(t){return!1===t.hasAttribute("data-selected");}),_a257.length>0){var _t1867=_a257.map(function(t){return t[am];});e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),_toConsumableArray(_t1867));}}}else{var _i1181,_s647,_l344,_a258=n[am],_h209=_a258.parentElement.closest("g, a"),_r146=!1;n.setPointerCapture(t.pointerId),!1===n.hasAttribute("data-selected")&&(e.selectedElements=[_a258],e.currentContainer=_h209===e.currentWorkspace?null:_h209),n.addEventListener("pointermove",_i1181=function _i1180(t){var e=new DOMPoint(t.clientX,t.clientY);Te(o,e)>=3&&(n.removeEventListener("pointermove",_i1181),n.removeEventListener("pointerup",_s647),n.removeEventListener("lostpointercapture",_l344),_this785.sv(t),_r146=!0);}),n.addEventListener("pointerup",_s647=function _s647(){!1===_r146&&(e.selectedElements=[_a258],e.currentContainer=_h209===e.currentWorkspace?null:_h209);}),n.addEventListener("lostpointercapture",_l344=function _l343(){n.removeEventListener("pointermove",_i1181),n.removeEventListener("pointerup",_s647),n.removeEventListener("lostpointercapture",_l344);});}}},{key:"sv",value:function sv(){var _this786=this;var t,_e1354,i=this.iv(!0),s=null,n="start",o=i.filter(function(t){return t.hasAttribute("data-selected");}),l=this.Js.board;this["#main"].addEventListener("pointermove",t=function t(_t1869){var e=_this786._shadowRoot.elementFromPoint(_t1869.clientX,_t1869.clientY);if(e.getRootNode()!==_this786._shadowRoot&&(e=null),s=e?e.closest(".item"):null,s){var _e1351=s.querySelector(".main").getBoundingClientRect();if(n=_t1869.clientY<_e1351.y+_e1351.height/2?"start":"end",s.hasAttribute("data-expanded")&&"end"===n&&(s.querySelector(".item:not([hidden])")?(s=s.querySelector(".item:not([hidden])"),n="start",_e1351=s.querySelector(".main").getBoundingClientRect()):n="inside"),_this786.nv(o,s,n)){var _t1868=s.offsetTop;for(var _e1352=s.offsetParent;null!==_e1352&&_e1352!==_this786["#main"];_e1352=_e1352.offsetParent){_t1868+=_e1352.offsetTop;}"end"!==n&&"inside"!==n||(_t1868+=_e1351.height);var _i1182=24*parseInt(s.getAttribute("data-depth"))+16;"inside"===n&&(_i1182+=24);var _o419=_e1351.width-_i1182-4;_this786["#drop-marker"].hidden=!1,_this786["#drop-marker"].style.top=_t1868+"px",_this786["#drop-marker"].style.width=_o419+"px",_this786["#drop-marker"].style.marginLeft=_i1182+"px";}else s=null,_this786["#drop-marker"].hidden=!0;}else _this786["#drop-marker"].hidden=!0;}),this["#main"].addEventListener("lostpointercapture",_e1354=function e(){if(_this786["#main"].removeEventListener("pointermove",t),_this786["#main"].removeEventListener("lostpointercapture",_e1354),_this786["#drop-marker"].hidden=!0,s){l.undoManager.checkpoint("Move elements");var _t1870=s[am],_e1353=Vi(l.outermostSelectedElements),_i1183=document.createDocumentFragment();var _iterator1247=_createForOfIteratorHelper(_e1353),_step1247;try{for(_iterator1247.s();!(_step1247=_iterator1247.n()).done;){var _s648=_step1247.value;_s648.setAttribute("transform",Yt(_s648,_t1870.parentElement)),_i1183.append(_s648);}}catch(err){_iterator1247.e(err);}finally{_iterator1247.f();}"start"===n?_t1870.before(_i1183):"end"===n?_t1870.after(_i1183):"inside"===n&&_t1870.append(_i1183);var _iterator1248=_createForOfIteratorHelper(_e1353),_step1248;try{for(_iterator1248.s();!(_step1248=_iterator1248.n()).done;){var _t1871=_step1248.value;ka(_t1871,{geometryPrecision:l.geometryPrecision,transformPrecision:l.transformPrecision});}}catch(err){_iterator1248.e(err);}finally{_iterator1248.f();}var _o420=l.selectedElements[0].closest("g, a");l.currentContainer=_o420===l.currentWorkspace?null:_o420;}});}},{key:"Ww",value:function Ww(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")?this.ov(t):t.target.closest(".lock-button")?this.lv(t):t.target.closest(".visibility-button")?this.av(t):this.hv(t));}},{key:"hv",value:function hv(t){var _this$Qs$modKeys12=this.Qs.modKeys,e=_this$Qs$modKeys12.ctrl,i=_this$Qs$modKeys12.shift;if(!1===e&&!1===i&&2===t.detail){var _e1355=t.target.closest(".item");this.rv(_e1355);}}},{key:"ov",value:function ov(t){var e=t.target.closest(".item");e.hasAttribute("data-expanded")?this.dv(e):this.cv(e);}},{key:"lv",value:function lv(t){this.Js.board.undoManager.checkpoint("Lock");var e=t.target.closest(".item")[am],i=getComputedStyle(e).pointerEvents;i="none"===i?"auto":"none",e.style.pointerEvents=i,Dp("pointer-events",e);{var _t1872=function _t1872(e){var _iterator1249=_createForOfIteratorHelper(e),_step1249;try{for(_iterator1249.s();!(_step1249=_iterator1249.n()).done;){var _s649=_step1249.value;v.includes(_s649.localName)&&(_s649.removeAttribute("pointer-events"),_s649.style.removeProperty("pointer-events"),getComputedStyle(_s649).pointerEvents!==i&&(_s649.style.pointerEvents=i),"g"!==_s649.localName&&"a"!==_s649.localName||_t1872(_s649.children));}}catch(err){_iterator1249.e(err);}finally{_iterator1249.f();}};_t1872(e.children);}}},{key:"av",value:function av(t){this.Js.board.undoManager.checkpoint("Visibility");var e=t.target.closest(".item")[am],i=getComputedStyle(e).visibility;i="hidden"===i?"visible":"hidden",e.style.visibility=i,Dp("visibility",e);{var _t1873=function _t1873(e){var _iterator1250=_createForOfIteratorHelper(e),_step1250;try{for(_iterator1250.s();!(_step1250=_iterator1250.n()).done;){var _s650=_step1250.value;v.includes(_s650.localName)&&(_s650.removeAttribute("visibility"),_s650.style.removeProperty("visibility"),getComputedStyle(_s650).visibility!==i&&(_s650.style.visibility=i),"g"!==_s650.localName&&"a"!==_s650.localName||_t1873(_s650.children));}}catch(err){_iterator1250.e(err);}finally{_iterator1250.f();}};_t1873(e.children);}}},{key:"Zw",value:function Zw(){this.Vw();}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-objectsbrowser:developerMode",this["#developer-mode-button"].toggled),this["#filter-input"].value.trim().length>0&&(this["#filter-input"].value="",this.jw()),this.pv(),this["#main"].focus();}},{key:"Xw",value:function(){var _Xw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee142(t){var e,_t1874,i,_s651,_n522,_o421,_l345,_e1356,_i1184,_s652,_t1875,_o422,_t1876,_e1357,_o423,_t1877,_e1358,_o424,_t1878,_e1359,_o425,_t1879,_e1360,_t1880,_t1881,_t1882,_t1883,_t1884,_t1885,_t1886,_t1887,_t1888,_e1361,_i1185,_t1889,_t1890,_e1362,_e1363;return regeneratorRuntime.wrap(function _callee142$(_context144){while(1){switch(_context144.prev=_context144.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context144.next=27;break;}_t1874=this.Js.board,i=e.value,_s651=_t1874.geometryPrecision,_n522=_t1874.transformPrecision,_o421=null,_l345=null;_t1874.undoManager.checkpoint("Add object");_e1356=_t1874.getBoundingClientRect(),_i1184=this.getBoundingClientRect(),_s652=new DOMRect(_e1356.x,_e1356.y,_i1184.x-_e1356.x,_e1356.height);_o421=new DOMPoint(_s652.x+_s652.width/2,_s652.y+_s652.height/2);if(!("g"===i)){_context144.next=10;break;}_l345=ts(_templateObject25());_context144.next=22;break;case 10:if(!("a"===i)){_context144.next=14;break;}_l345=ts(_templateObject26());_context144.next=22;break;case 14:if(!("image"===i)){_context144.next=21;break;}_context144.next=17;return Zh("images/cornell-box.jpg");case 17:_t1875=_context144.sent;_l345=ts(_templateObject27(),_o421.x-50,_o421.y-50,_t1875);_context144.next=22;break;case 21:if("rect"===i)_l345=ts(_templateObject28(),_o421.x-50,_o421.y-50,100,100);else if("circle"===i)_l345=ts(_templateObject29(),_o421.x,_o421.y);else if("ellipse"===i)_l345=ts(_templateObject30(),_o421.x,_o421.y);else if("line"===i)_l345=ts(_templateObject31(),_o421.x-50,_o421.y-50,_o421.x+50,_o421.y+50);else if("polyline"===i){_o422=_o421,_t1876=_o422.x,_e1357=_o422.y;_l345=ts(_templateObject32(),_t1876-50,_e1357-50,_t1876+50,_e1357+50);}else if("polygon"===i){_o423=_o421,_t1877=_o423.x,_e1358=_o423.y;_l345=ts(_templateObject33(),_t1877-50,_e1358-50,_t1877+50,_e1358+50);}else if("path"===i){_o424=_o421,_t1878=_o424.x,_e1359=_o424.y;_l345=ts(_templateObject34(),_t1878-50,_e1359-50,_t1878+100,_e1359-50,_t1878-100,_e1359+50,_t1878+50,_e1359+50);}else if("text"===i){_o425=_o421,_t1879=_o425.x,_e1360=_o425.y;_l345=ts(_templateObject35(),_t1879,_e1360);}else if("ring"===i){_l345=ts(_templateObject36());_t1880={type:"ring",values:[_o421.x,_o421.y,30,30,50,50]};_vl(_l345,_t1880,_s651);}else if("pie"===i){_l345=ts(_templateObject37());_t1881={type:"pie",values:[_o421.x,_o421.y,0,50,90,360]};_vl(_l345,_t1881,_s651);}else if("crescent"===i){_l345=ts(_templateObject38());_t1882={type:"crescent",values:[_o421.x-50,_o421.y-50,.5,0]};_vl(_l345,_t1882,_s651);}else if("triangle"===i){_l345=ts(_templateObject39());_t1883={type:"triangle",values:[_o421.x-50,_o421.y-50,100,100,.5,0]};_vl(_l345,_t1883,_s651);}else if("n-gon"===i){_l345=ts(_templateObject40());_t1884={type:"n-gon",values:[_o421.x,_o421.y,50,50,5,0]};_vl(_l345,_t1884,_s651);}else if("star"===i){_l345=ts(_templateObject41());_t1885={type:"star",values:[_o421.x,_o421.y,50,50,.4,5]};_vl(_l345,_t1885,_s651);}else if("cog"===i){_l345=ts(_templateObject42());_t1886={type:"cog",values:[_o421.x,_o421.y,1/3*50,2/3*50,50,.375,8]};_vl(_l345,_t1886,_s651);}else if("cross"===i){_l345=ts(_templateObject43());_t1887={type:"cross",values:[_o421.x-50,_o421.y-50,100,100,20,20,.5]};_vl(_l345,_t1887,_s651);}else if("spiral"===i){_l345=ts(_templateObject44());_t1888={type:"spiral",values:[_o421.x,_o421.y,0,50,0,1080]};_vl(_l345,_t1888,_s651);}case 22:_e1361=_t1874.currentContainer||_t1874.currentWorkspace,_i1185=_toConsumableArray(_e1361.children).reverse().find(function(e){return _t1874.selectedElements.includes(e);});if(_i1185){_t1889=this.ev(_i1185);_t1889&&_t1889.hasAttribute("data-expanded")?_i1185.append(_l345):_i1185.after(_l345);}else _e1361.append(_l345);if("g"!==_l345.localName&&"a"!==_l345.localName){_t1890=qt(_l345).inverse(),_e1362=Wt(_l345).multiply(_t1890);_l345.setAttribute("transform",_e1362.toString()),ka(_l345,{geometryPrecision:_s651,transformPrecision:_n522});}_e1363=_l345.parentElement.closest("g, a");_t1874.selectedElements=[_l345],_t1874.currentContainer=_e1363===_t1874.currentWorkspace?null:_e1363;case 27:case"end":return _context144.stop();}}},_callee142,this);}));function Xw(_x171){return _Xw.apply(this,arguments);}return Xw;}()},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);if(e.matches("Enter")){var _t1891=this.iv(!0),_e1364=_t1891.find(function(t){return t.hasAttribute("data-selected");});_t1891.find(function(t){return t.hasAttribute("data-edited");})?this["#main"].focus():_e1364&&this.rv(_e1364);}else if(e.matches("Backspace")||e.matches("Delete")){this.iv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),t.preventDefault(),this.Qs.execCommand("delete"));}else if(e.matches("ArrowUp")){this.iv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Nu());}else if(e.matches("ArrowDown")){this.iv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Vu());}else if(e.matches("Shift","ArrowUp")){this.iv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this.iv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Vu(!0));}else if(e.matches("ArrowRight")){var _e1365=this.iv(!0),i=_e1365.filter(function(t){return t.hasAttribute("data-selected");});_e1365.find(function(t){return t.hasAttribute("data-edited");})||1!==i.length||!0!==i[0].hasAttribute("data-expandable")||!1!==i[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.cv(i[0]));}else if(e.matches("ArrowLeft")){var _e1366=this.iv(!0),_i1186=_e1366.filter(function(t){return t.hasAttribute("data-selected");});_e1366.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1186.length||!0!==_i1186[0].hasAttribute("data-expandable")||!0!==_i1186[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.dv(_i1186[0]));}}},{key:"rv",value:function rv(t){var _this787=this;{var _e1367=this["#items"].querySelector(".item[data-edited]");if(_e1367){if(_e1367===t)return;this.uv();}}var e=t.querySelector(".label"),i=t[am],s=i.querySelector(":scope > bx-title"),n=this["#developer-mode-button"].toggled?"Object ID":"Object title",o="";!0===this["#developer-mode-button"].toggled&&i.id?o="#"+i.id:!1===this["#developer-mode-button"].toggled&&s&&(o=s.textContent);var l=Qi(_templateObject45(),o,n);e.after(l),l.selectAll(),e.hidden=!0,t.setAttribute("data-edited",""),l.addEventListener("input",function(){null!==l.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),l.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this787.uv();}),l.validate=function(){var t=null;if(_this787["#developer-mode-button"].toggled){var _e1368=l.value.trim();if(_e1368.startsWith("#")&&(_e1368=_e1368.substring(1)),_e1368.length>0)if(Xi(_e1368)){!1===(null===_this787.Js.board.workspaces.querySelector("#"+CSS.escape(_e1368)))&&(t="Non-unique ID");}else t="Invalid ID";}l.error=t;};}},{key:"uv",value:function uv(){var t=this["#items"].querySelector(".item[data-edited]");if(t){var _e1369=t.querySelector(".label"),i=t.querySelector("x-input"),_s653=t[am];if(i.remove(),_e1369.hidden=!1,t.removeAttribute("data-edited"),null===i.error)if(this["#developer-mode-button"].toggled){var _t1892=i.value.trim().toLowerCase();"#"===_t1892?_t1892="":_t1892.startsWith("#")&&(_t1892=_t1892.substring(1)),_s653.getAttribute("id")!==_t1892&&(this.Js.board.undoManager.checkpoint("Object ID"),""===_t1892?_s653.removeAttribute("id"):_s653.setAttribute("id",_t1892));}else{var _t1893=_s653.querySelector(":scope > bx-title"),_e1370=i.value.trim();if(_t1893){_t1893.textContent!==_e1370&&(this.Js.board.undoManager.checkpoint("Object title"),""===_e1370?_t1893.remove():_t1893.textContent=_e1370);}else""!==_e1370&&(this.Js.board.undoManager.checkpoint("Object title"),_t1893=Ii("svg:bx-title"),_t1893.textContent=_e1370,_s653.prepend(_t1893));}}}},{key:"cv",value:function cv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(t.hasAttribute("data-expanded"))return;var i=parseInt(t.getAttribute("data-depth")),s=t.querySelector(".children"),n=t[am],o=this.Js.board.outermostSelectedElements,l=this["#filter-input"].value.trim().toLowerCase();if(0===s.childElementCount){var _iterator1251=_createForOfIteratorHelper(n.children),_step1251;try{for(_iterator1251.s();!(_step1251=_iterator1251.n()).done;){var _t1894=_step1251.value;if(v.includes(_t1894.localName)){var _e1371=this.xv(_t1894,i+1);o.includes(_t1894)&&_e1371.setAttribute("data-selected",""),!1===this.bv(_t1894,l)&&(_e1371.hidden=!0),s.append(_e1371);}}}catch(err){_iterator1251.e(err);}finally{_iterator1251.f();}}if(t.setAttribute("data-expanded",""),e){var _t1895=getComputedStyle(s).marginTop,_e1372="0px";"0px"===_t1895&&(_t1895="-"+getComputedStyle(s).height),s.animate({marginTop:[_t1895,_e1372]},{duration:250,easing:"ease"});}}},{key:"dv",value:function(){var _dv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee143(t){var e,i,s,n,_t1896,_args145=arguments;return regeneratorRuntime.wrap(function _callee143$(_context145){while(1){switch(_context145.prev=_context145.next){case 0:e=_args145.length>1&&_args145[1]!==undefined?_args145[1]:!0;i=t.querySelector(".children"),s=getComputedStyle(i).marginTop,n="-"+getComputedStyle(i).height;if(!(t.removeAttribute("data-expanded"),e)){_context145.next=6;break;}_t1896=i.animate({marginTop:[s,n]},{duration:250,easing:"ease"});_context145.next=6;return _t1896.finished;case 6:!1===t.hasAttribute("data-expanded")&&(i.innerHTML="");case 7:case"end":return _context145.stop();}}},_callee143);}));function dv(_x172){return _dv.apply(this,arguments);}return dv;}()},{key:"mv",value:function mv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _iterator1252=_createForOfIteratorHelper(this["#items"].children),_step1252;try{for(_iterator1252.s();!(_step1252=_iterator1252.n()).done;){var _e1373=_step1252.value;this.dv(_e1373,t);}}catch(err){_iterator1252.e(err);}finally{_iterator1252.f();}}},{key:"xv",value:function xv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;Hi(t);var i=Wi(t),s=Qi(_templateObject46(),e,24*e,i);return s[am]=t,"g"!==t.localName&&"a"!==t.localName||s.setAttribute("data-expandable",""),this.gv(s),this.fv(s),s;}},{key:"ev",value:function ev(t){var e=this.iv();var _iterator1253=_createForOfIteratorHelper(e),_step1253;try{for(_iterator1253.s();!(_step1253=_iterator1253.n()).done;){var i=_step1253.value;if(i[am]===t)return i;}}catch(err){_iterator1253.e(err);}finally{_iterator1253.f();}return null;}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.iv(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n523=s[0],_o426=i.indexOf(_n523);if(i[_o426-1]){var _s654=i[_o426-1][am],_n524=_s654.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s654]):(e.selectedElements=[_s654],e.currentContainer=_n524===e.currentWorkspace?null:_n524);}}}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.iv(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n525=s[s.length-1],_o427=i.indexOf(_n525);if(i[_o427+1]){var _s655=i[_o427+1][am],_n526=_s655.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s655]):(e.selectedElements=[_s655],e.currentContainer=_n526===e.currentWorkspace?null:_n526);}}}},{key:"nv",value:function nv(t,e,i){var _iterator1254=_createForOfIteratorHelper(t),_step1254;try{for(_iterator1254.s();!(_step1254=_iterator1254.n()).done;){var _i1187=_step1254.value;if(_i1187.contains(e))return!1;}}catch(err){_iterator1254.e(err);}finally{_iterator1254.f();}if(1===t.length){var _s656=this.iv(!0),_n527=t[0],_o428=_s656.indexOf(e);if("start"===i){var _t1897=_s656[_o428-1];if(_t1897===_n527&&_t1897.getAttribute("data-depth")===_n527.getAttribute("data-depth"))return!1;}else if("end"===i){if(_s656[_o428+1]===_n527&&e.getAttribute("data-depth")===_n527.getAttribute("data-depth"))return!1;}}return!0;}},{key:"iv",value:function iv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[],i=function i(s){var _iterator1255=_createForOfIteratorHelper(s),_step1255;try{for(_iterator1255.s();!(_step1255=_iterator1255.n()).done;){var _n528=_step1255.value;t&&_n528.hasAttribute("hidden")||(e.push(_n528),_n528.hasAttribute("data-expanded")&&i(_n528.querySelector(".children").children));}}catch(err){_iterator1255.e(err);}finally{_iterator1255.f();}};return i(this["#items"].children),e;}},{key:"qs",value:function qs(){var t=this.Js.board,e=document.createDocumentFragment();var _iterator1256=_createForOfIteratorHelper(t.currentWorkspace.children),_step1256;try{for(_iterator1256.s();!(_step1256=_iterator1256.n()).done;){var i=_step1256.value;if(v.includes(i.localName)){var _t1898=this.xv(i,0);e.append(_t1898);}}}catch(err){_iterator1256.e(err);}finally{_iterator1256.f();}this["#items"].innerHTML="",this["#items"].append(e),this.Jw();}},{key:"fv",value:function fv(t){if(!1===this["#developer-mode-button"].toggled){var _e1374=t.querySelector(".label"),i=t[am],_s657=i.querySelector(":scope > bx-title");_s657?(_e1374.textContent=_s657.textContent,_e1374.setAttribute("data-custom","")):(_e1374.textContent=Hi(i),_e1374.removeAttribute("data-custom"));}else{var _e1375=t[am],_i1188=t.querySelector(".label");_e1375.id?(_i1188.textContent="#"+_e1375.id,_i1188.setAttribute("data-custom","")):(_i1188.textContent=Hi(_e1375,"developer"),_i1188.removeAttribute("data-custom"));}}},{key:"gv",value:function gv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t[am],_getComputedStyle6=getComputedStyle(i),s=_getComputedStyle6.visibility,n=_getComputedStyle6.pointerEvents;if("none"===n?t.setAttribute("data-locked",""):t.removeAttribute("data-locked"),"hidden"===s?t.setAttribute("data-hidden",""):t.removeAttribute("data-hidden"),e){var _iterator1257=_createForOfIteratorHelper(t.querySelector(".children").children),_step1257;try{for(_iterator1257.s();!(_step1257=_iterator1257.n()).done;){var _e1376=_step1257.value;this.gv(_e1376,!0);}}catch(err){_iterator1257.e(err);}finally{_iterator1257.f();}}}},{key:"Jw",value:function Jw(){var t=this.Js.board.selectedElements,e=this.Js.board.currentWorkspace;var _iterator1258=_createForOfIteratorHelper(t),_step1258;try{for(_iterator1258.s();!(_step1258=_iterator1258.n()).done;){var i=_step1258.value;var _t1899=[];for(var _s658=i.parentElement;_s658!==e;_s658=_s658.parentElement){_t1899.push(_s658);}_t1899.reverse();for(var _i1189=0,_t1900=_t1899;_i1189<_t1900.length;_i1189++){var _e1377=_t1900[_i1189];var _t1901=this.ev(_e1377);_t1901&&this.cv(_t1901,!1);}}}catch(err){_iterator1258.e(err);}finally{_iterator1258.f();}var _iterator1259=_createForOfIteratorHelper(this.iv()),_step1259;try{for(_iterator1259.s();!(_step1259=_iterator1259.n()).done;){var _e1378=_step1259.value;t.includes(_e1378[am])?(_e1378.setAttribute("data-selected",""),Ui(_e1378)):_e1378.removeAttribute("data-selected");}}catch(err){_iterator1259.e(err);}finally{_iterator1259.f();}}},{key:"jw",value:function jw(){var _this788=this;var t=this["#filter-input"].value.trim().toLowerCase();if(0===t.length){this.mv(!1);var _iterator1260=_createForOfIteratorHelper(this["#items"].querySelectorAll(".item[hidden]")),_step1260;try{for(_iterator1260.s();!(_step1260=_iterator1260.n()).done;){var _t1902=_step1260.value;_t1902.hidden=!1;}}catch(err){_iterator1260.e(err);}finally{_iterator1260.f();}}else{var _e1379=function _e1379(i){var s=!0;var _iterator1261=_createForOfIteratorHelper(i),_step1261;try{for(_iterator1261.s();!(_step1261=_iterator1261.n()).done;){var _n529=_step1261.value;if(_this788.bv(_n529[am],t)){if(_n529.hidden=!1,s=!1,_n529.hasAttribute("data-expandable")){_this788.cv(_n529,!1),_e1379(_n529.querySelector(".children").children)&&_this788.dv(_n529,!1);}}else _n529.hidden=!0;}}catch(err){_iterator1261.e(err);}finally{_iterator1261.f();}return s;};_e1379(this["#items"].children);}}},{key:"pv",value:function pv(){var _iterator1262=_createForOfIteratorHelper(this.iv()),_step1262;try{for(_iterator1262.s();!(_step1262=_iterator1262.n()).done;){var _t1903=_step1262.value;this.fv(_t1903);}}catch(err){_iterator1262.e(err);}finally{_iterator1262.f();}}},{key:"tv",value:function tv(t){var _this789=this;if("attributes"===t.type&&"style"===t.attributeName){var _e1380=t.target,i=this.iv().find(function(t){return t[am]===_e1380;});i&&this.gv(i,!0);}if(this["#developer-mode-button"].toggled){if("attributes"===t.type&&"id"===t.attributeName){var _e1381=this.iv(),_i1190=t.target;var _iterator1263=_createForOfIteratorHelper(_e1381),_step1263;try{for(_iterator1263.s();!(_step1263=_iterator1263.n()).done;){var _t1904=_step1263.value;if(_t1904[am]===_i1190){this.fv(_t1904);break;}}}catch(err){_iterator1263.e(err);}finally{_iterator1263.f();}}}else if("childList"===t.type)if("bx-title"===t.target.localName){var _e1382=this.iv(),_i1191=t.target.parentElement;var _iterator1264=_createForOfIteratorHelper(_e1382),_step1264;try{for(_iterator1264.s();!(_step1264=_iterator1264.n()).done;){var _t1905=_step1264.value;if(_t1905[am]===_i1191){this.fv(_t1905);break;}}}catch(err){_iterator1264.e(err);}finally{_iterator1264.f();}}else{var _e1383=this.iv();for(var _i1192=0,_arr46=[].concat(_toConsumableArray(t.removedNodes),_toConsumableArray(t.addedNodes));_i1192<_arr46.length;_i1192++){var _i1193=_arr46[_i1192];if("bx-title"===_i1193.localName){(function(){var i=t.target,s=_e1383.find(function(t){return t[am]===i;});s&&_this789.fv(s);})();}}}if("childList"===t.type){if(t.removedNodes.length>0){var _e1384=this.iv();var _iterator1265=_createForOfIteratorHelper(_e1384),_step1265;try{for(_iterator1265.s();!(_step1265=_iterator1265.n()).done;){var _i1194=_step1265.value;_toConsumableArray(t.removedNodes).includes(_i1194[am])&&_i1194.remove();}}catch(err){_iterator1265.e(err);}finally{_iterator1265.f();}}if(t.addedNodes.length>0){var _e1385=this.iv(),_i1195=null;var _iterator1266=_createForOfIteratorHelper(_e1385),_step1266;try{for(_iterator1266.s();!(_step1266=_iterator1266.n()).done;){var _s660=_step1266.value;if(_s660[am]===t.target){_i1195=_s660;break;}}}catch(err){_iterator1266.e(err);}finally{_iterator1266.f();}if(_i1195&&_i1195.hasAttribute("data-expanded")||t.target===this.Js.board.currentWorkspace){var _s659=null,_n530=null;if(t.previousSibling){var _loop27=function _loop27(_i1196){if(_i1196.localName&&v.includes(_i1196.localName)){var _t1906=_e1385.find(function(t){return t[am]===_i1196;});if(_t1906){_s659=_t1906;return"break";}}};for(var _i1196=t.previousSibling;_i1196;_i1196=_i1196.previousElementSibling){var _ret=_loop27(_i1196);if(_ret==="break")break;}}if(null===_s659&&t.nextSibling){var _loop28=function _loop28(_i1197){if(_i1197.localName&&v.includes(_i1197.localName)){var _t1907=_e1385.find(function(t){return t[am]===_i1197;});if(_t1907){_n530=_t1907;return"break";}}};for(var _i1197=t.nextSibling;_i1197;_i1197=_i1197.nextElementSibling){var _ret2=_loop28(_i1197);if(_ret2==="break")break;}}var _o429=_i1195?parseInt(_i1195.getAttribute("data-depth"))+1:0,_l346=document.createDocumentFragment();var _iterator1267=_createForOfIteratorHelper(t.addedNodes),_step1267;try{var _loop29=function _loop29(){var e=_step1267.value;if(e.localName&&v.includes(e.localName)){if(_toConsumableArray((_i1195||_this789["#items"]).children).find(function(t){return t[am]===e;}));else{var _t1908=_this789.xv(e,_o429);_this789.Js.board.selectedElements.includes(e)&&_t1908.setAttribute("data-selected",""),_l346.append(_t1908);}}};for(_iterator1267.s();!(_step1267=_iterator1267.n()).done;){_loop29();}}catch(err){_iterator1267.e(err);}finally{_iterator1267.f();}_s659?_s659.after(_l346):_n530?_n530.before(_l346):_i1195?_i1195.querySelector(".children").append(_l346):this["#items"].append(_l346);}}}}},{key:"Kw",value:function(){var _Kw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee144(){var _t1909,_e1386,i,_s661,_n531,_iterator1268,_step1268,_t1910;return regeneratorRuntime.wrap(function _callee144$(_context146){while(1){switch(_context146.prev=_context146.next){case 0:if(!(!1===this.Fw)){_context146.next=14;break;}this.Fw=!0;_context146.next=4;return fetch(Us.iconset);case 4:_t1909=_context146.sent;_context146.next=7;return _t1909.text();case 7:_e1386=_context146.sent;i=ts(_templateObject47(),_e1386);_s661=document.createDocumentFragment();_n531=["arrow","lock-on","visibility-hidden"];_iterator1268=_createForOfIteratorHelper(i.querySelectorAll("symbol"));try{for(_iterator1268.s();!(_step1268=_iterator1268.n()).done;){_t1910=_step1268.value;_t1910.id&&(_t1910.id.startsWith("object-")||_n531.includes(_t1910.id))&&_s661.append(_t1910);}}catch(err){_iterator1268.e(err);}finally{_iterator1268.f();}i.style.display="none",i.innerHTML="",i.append(_s661),this._shadowRoot.append(i);case 14:case"end":return _context146.stop();}}},_callee144,this);}));function Kw(){return _Kw.apply(this,arguments);}return Kw;}()},{key:"bv",value:function bv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=!1;if(""!==e){if(this["#developer-mode-button"].toggled){if(t.id)-1!==("#"+t.id.toLowerCase()).indexOf(e)&&(n=!0);else{-1!==Hi(t,"developer").toLowerCase().indexOf(e)&&(n=!0);}}else{var _i1198=t.querySelector(":scope > bx-title"),_s662="";_s662=_i1198&&_i1198.textContent.trim().length>0?_i1198.textContent.trim():Hi(t,"designer"),-1!==_s662.toLowerCase().indexOf(e)&&(n=!0);}if(!1===n&&!0===s&&("g"===t.localName||"a"===t.localName)){var _iterator1269=_createForOfIteratorHelper(t.children),_step1269;try{for(_iterator1269.s();!(_step1269=_iterator1269.n()).done;){var _i1199=_step1269.value;if(v.includes(_i1199.localName)&&this.bv(_i1199,e)){n=!0;break;}}}catch(err){_iterator1269.e(err);}finally{_iterator1269.f();}}return!1===n&&!0===i&&("g"!==t.parentElement.localName&&"a"!==t.parentElement.localName||t.parentElement!==this.Js.board.currentWorkspace&&this.bv(t.parentElement,e,!1,!1)&&(n=!0)),n;}n=!0;}}]);return hm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hm,"observedAttributes",["enabled"]);_defineProperty(hm,"_shadowTemplate",Qi(_templateObject385()));_defineProperty(hm,"_shadowStyleSheet",Ji(_templateObject386()));customElements.define("bx-objectsbrowser",hm);var rm=/*#__PURE__*/function(_HTMLElement107){_inherits(rm,_HTMLElement107);var _super161=_createSuper(rm);_createClass(rm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function rm(){var _this790;_classCallCheck(this,rm);_this790=_super161.call(this),_this790._shadowRoot=_this790.attachShadow({mode:"closed"}),_this790._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,rm._shadowStyleSheet],_this790._shadowRoot.append(document.importNode(rm._shadowTemplate.content,!0));var _iterator1270=_createForOfIteratorHelper(_this790._shadowRoot.querySelectorAll("[id]")),_step1270;try{for(_iterator1270.s();!(_step1270=_iterator1270.n()).done;){var _t1911=_step1270.value;_this790["#"+_t1911.id]=_t1911;}}catch(err){_iterator1270.e(err);}finally{_iterator1270.f();}return _this790;}_createClass(rm,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){this["#objects-browser"].enabled=!0;}},{key:"en",value:function en(){this["#objects-browser"].enabled=!1;}}]);return rm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rm,"observedAttributes",["enabled"]);_defineProperty(rm,"_shadowTemplate",Qi(_templateObject387()));_defineProperty(rm,"_shadowStyleSheet",Ji(_templateObject388()));customElements.define("bx-objectspanel",rm);var dm=Symbol(),cm=Symbol();var pm=/*#__PURE__*/function(_HTMLElement108){_inherits(pm,_HTMLElement108);var _super162=_createSuper(pm);_createClass(pm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function pm(){var _temp43,_this791;_classCallCheck(this,pm);(_temp43=_this791=_super162.call(this),_defineProperty(_assertThisInitialized(_this791),"ommands",{selectAll:{enabled:function enabled(){return _this791.wv();},exec:function exec(){return _this791.vv();}},deselectAll:{enabled:function enabled(){return _this791.yv();},exec:function exec(){return _this791.kv();}}}),_temp43),_this791.Sv=is(_this791.qs,500,_assertThisInitialized(_this791)),_this791._v=0,_this791._shadowRoot=_this791.attachShadow({mode:"closed"}),_this791._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,pm._shadowStyleSheet],_this791._shadowRoot.append(document.importNode(pm._shadowTemplate.content,!0));var _iterator1271=_createForOfIteratorHelper(_this791._shadowRoot.querySelectorAll("[id]")),_step1271;try{for(_iterator1271.s();!(_step1271=_iterator1271.n()).done;){var _t1912=_step1271.value;_this791["#"+_t1912.id]=_t1912;}}catch(err){_iterator1271.e(err);}finally{_iterator1271.f();}_this791.addEventListener("keydown",function(t){return _this791.wn(t);}),_this791["#items"].addEventListener("scroll",function(){return _this791.Cv();}),_this791["#items"].addEventListener("contextmenu",function(t){return _this791.op(t);}),_this791["#items"].addEventListener("pointerdown",function(t){return _this791.sp(t);}),_this791["#items"].addEventListener("click",function(t){return _this791.np(t);}),_this791["#search-input"].addEventListener("input",function(){return _this791.Mv();}),_this791["#developer-mode-button"].addEventListener("toggle",function(){return _this791.$u();}),_this791["#add-menu"].addEventListener("click",function(t){return _this791.Xw(t);}),_this791["#add-menu"].addEventListener("open",function(){return _this791.Pv();}),_this791["#color-picker"].addEventListener("changestart",function(t){return _this791.Ax(t);});return _this791;}_createClass(pm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"selectColors",value:function selectColors(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[dm].id);});this.Dv(e,!0);}},{key:"tn",value:function tn(){var _this792=this;window.addEventListener("resize",this.sn=function(){_this792.zv();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this792.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this792.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this792.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-colorsbrowser:developerMode",!1),this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("artworkchange",this.yr),this.Tv(),this["#items"].remove();}},{key:"ln",value:function ln(t){var _t$detail10=t.detail,e=_t$detail10.key,i=_t$detail10.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"zv",value:function zv(){this.Tv();}},{key:"al",value:function al(t){var e=t.detail,i="debounced",s=!1;var _iterator1272=_createForOfIteratorHelper(e),_step1272;try{for(_iterator1272.s();!(_step1272=_iterator1272.n()).done;){var _t1913=_step1272.value;var _e1387=_t1913.target.nodeName,_n532=_t1913.addedNodes[0]?_t1913.addedNodes[0].nodeName:null,_o430=_t1913.removedNodes[0]?_t1913.removedNodes[0].nodeName:null,_l347=_t1913.attributeName;if("linearGradient"===_e1387||"radialGradient"===_e1387){if("bx-title"===_n532||"bx-title"===_o430){i="now";break;}if("id"===_l347){i="now",s=!0;break;}if("data-bx-pinned"===_l347){i="now";break;}}else if("bx-title"===_e1387){if(_n532||_o430){i="now";break;}}else if("linearGradient"===_n532||"radialGradient"===_n532||"linearGradient"===_o430||"radialGradient"===_o430){i="now",s=!0;break;}}}catch(err){_iterator1272.e(err);}finally{_iterator1272.f();}!0===s&&this.Tv(),"now"===i?this.qs():"debounced"===i&&this.Sv();}},{key:"Ov",value:function Ov(){this.Tv(),this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop,this.Tv();}},{key:"op",value:function(){var _op2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee145(t){var e,i,_s663,_n533;return regeneratorRuntime.wrap(function _callee145$(_context147){while(1){switch(_context147.prev=_context147.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context147.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.Dv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[dm];});_s663=e[dm];_context147.next=7;return this.Qs.openContextMenu([{label:"Edit Color",value:"edit",disabled:1!==i.length},{label:"Edit Color ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Color Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Duplicate Color"+(i.length>1?"s":""),value:"duplicate",disabled:0===i.length},{label:"Delete Color"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Color"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Color"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Color Users",value:"select-users",disabled:1!==i.length}]);case 7:_n533=_context147.sent;"edit"===_n533?this.editColor(_s663.id):"edit-id"===_n533?this.$v(_s663.id,"id"):"edit-title"===_n533?this.$v(_s663.id,"title"):"duplicate"===_n533?this.Iv():"delete"===_n533?this.Lv():"pin"===_n533?this.Rv():"unpin"===_n533?this.Bv():"select-users"===_n533&&this.Gv(_s663.id);case 9:case"end":return _context147.stop();}}},_callee145,this);}));function op(_x173){return _op2.apply(this,arguments);}return op;}()},{key:"np",value:function np(t){t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys13=this.Qs.modKeys,e=_this$Qs$modKeys13.ctrl,i=_this$Qs$modKeys13.shift;if(!1===e&&!1===i){var _e1388=t.target.closest(".item"),_i1200=t.target.closest(".thumbnail"),_s664=t.target.closest(".counter-button"),_n534=t.target.closest(".pin-button"),_o431=_e1388[dm].id;_s664?this.Gv(_o431):_n534?_n534.toggled?this.Uv(_o431):this.Fv(_o431):_i1200?t.detail%2==0&&this.editColor(_o431):t.detail%2==0&&this.$v(_o431);}}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1389=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1389&&this.Dv([]);}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this793=this;var _this$Qs$modKeys14=this.Qs.modKeys,e=_this$Qs$modKeys14.ctrl,i=_this$Qs$modKeys14.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.Tv(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[cm]=Date.now());else if(!0===i){var _t1914=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1390=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1390.length>0){var _i1201=_t1914.indexOf(s),_n535=_e1390.sort(function(t,e){return e[cm]-t[cm];})[0],_o432=_t1914.indexOf(_n535),_l348=[];if(_i1201>_o432?_l348=_toConsumableArray(_t1914).slice(_o432,_i1201+1):_i1201<_o432&&(_l348=_toConsumableArray(_t1914).slice(_i1201,_o432+1).reverse()),_l348=_l348.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l348.length>0){var _iterator1273=_createForOfIteratorHelper(_l348),_step1273;try{for(_iterator1273.s();!(_step1273=_iterator1273.n()).done;){var _t1915=_step1273.value;_t1915.setAttribute("data-selected",""),_t1915[cm]=Date.now();}}catch(err){_iterator1273.e(err);}finally{_iterator1273.f();}}}}else{var _t1918,_e1392,_i1202=!1;window.addEventListener("pointermove",_t1918=function _t1916(o){var l=new DOMPoint(o.clientX,o.clientY);if(Te(n,l)>=3){if(window.removeEventListener("pointermove",_t1918),window.removeEventListener("pointerup",_e1392),!1===s.hasAttribute("data-selected")){var _iterator1274=_createForOfIteratorHelper(_this793["#items"].children),_step1274;try{for(_iterator1274.s();!(_step1274=_iterator1274.n()).done;){var _t1917=_step1274.value;_t1917===s?(_t1917.setAttribute("data-selected",""),_t1917[cm]=Date.now()):_t1917.removeAttribute("data-selected");}}catch(err){_iterator1274.e(err);}finally{_iterator1274.f();}}_this793.sv(o),_i1202=!0;}}),window.addEventListener("pointerup",_e1392=function _e1391(){if(window.removeEventListener("pointermove",_t1918),window.removeEventListener("pointerup",_e1392),!1===_i1202){var _iterator1275=_createForOfIteratorHelper(_this793["#items"].children),_step1275;try{for(_iterator1275.s();!(_step1275=_iterator1275.n()).done;){var _t1919=_step1275.value;_t1919===s?(_t1919.setAttribute("data-selected",""),_t1919[cm]=Date.now()):_t1919.removeAttribute("data-selected");}}catch(err){_iterator1275.e(err);}finally{_iterator1275.f();}}});}}},{key:"sv",value:function sv(t){var _this794=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this794["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this794.Qs.pointerClientPoint,e=_this794._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this794._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1393=l.getBoundingClientRect();if(a=t.y<_e1393.y+_e1393.height/2?"start":"end",_this794.nv(n,l,a)){var _t1920=l.offsetTop-_this794["#items"].scrollTop;"end"===a&&(_t1920+=_e1393.height),_this794["#drop-indicator"].hidden=!1,_this794["#drop-indicator"].style.top=_t1920-1+"px";}else l=null,_this794["#drop-indicator"].hidden=!0;}else _this794["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s666){function s(_x174){return _s666.apply(this,arguments);}s.toString=function(){return _s666.toString();};return s;}(function(t){if(_this794["#items"].removeEventListener("pointermove",e),_this794["#items"].removeEventListener("scroll",i),_this794["#items"].removeEventListener("lostpointercapture",s),_this794["#items"].style.cursor=null,_this794["#drop-indicator"].hidden=!0,c(),_this794.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1394=n[0][dm],_i1203=_this794.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s665=_this794.Qs.modKeys.shift;_i1203&&k.includes(_i1203.localName)&&(_s665?(_this794.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1203.style.stroke="url(#".concat(_e1394.id,")")):(_this794.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1203.style.fill="url(#".concat(_e1394.id,")")),_this794.Nv());}}else if(l){_this794.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1921=document.createDocumentFragment(),_e1395=l[dm];var _iterator1276=_createForOfIteratorHelper(n),_step1276;try{for(_iterator1276.s();!(_step1276=_iterator1276.n()).done;){var _i1204=_step1276.value;_i1204[dm]!==_e1395&&_t1921.append(_i1204[dm]);}}catch(err){_iterator1276.e(err);}finally{_iterator1276.f();}"start"===a?_e1395.before(_t1921):_e1395.after(_t1921);}}));}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus")||this["#color-picker-popover"].opened)return;var e=ao.fromEvent(t);if(e.matches("Enter")){var _t1922=this["#items"].querySelector(".item[data-label-edited]"),_e1396=this["#items"].querySelector(".item[data-selected]");_t1922?this.focus():_e1396&&this.$v(_e1396[dm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.Lv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu()||this.Vv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu()||this.jv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-colorsbrowser:developerMode",this["#developer-mode-button"].toggled),this.pv(),this.focus();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&("add-color"===e.value?this.Hv():"add-color-from-fill"===e.value?this.Wv("fill"):"add-color-from-stroke"===e.value?this.Wv("stroke"):"add-color-from-library"===e.value&&(this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("colors-library-browser")));}},{key:"Pv",value:function Pv(){var t=this.Zx(),e=!1,i=!1;if(t.length>0){var _iterator1277=_createForOfIteratorHelper(t),_step1277;try{for(_iterator1277.s();!(_step1277=_iterator1277.n()).done;){var _i1205=_step1277.value;var _t1923=getComputedStyle(_i1205);if(Co(_t1923.fill)){e=!0;break;}{var _i1206=co.fromString(_t1923.fill);if(_i1206&&"#"===_i1206.value[0]){var _t1924=this.Js.board.masterWorkspace.querySelector(_i1206.value);if(_t1924&&Oo(_t1924)){e=!0;break;}}}}}catch(err){_iterator1277.e(err);}finally{_iterator1277.f();}var _iterator1278=_createForOfIteratorHelper(t),_step1278;try{for(_iterator1278.s();!(_step1278=_iterator1278.n()).done;){var _e1397=_step1278.value;var _t1925=getComputedStyle(_e1397);if(Co(_t1925.stroke)){i=!0;break;}{var _e1398=co.fromString(_t1925.stroke);if(_e1398&&"#"===_e1398.value[0]){var _t1926=this.Js.board.masterWorkspace.querySelector(_e1398.value);if(_t1926&&Oo(_t1926)){i=!0;break;}}}}}catch(err){_iterator1278.e(err);}finally{_iterator1278.f();}}this["#add-color-from-fill-menu-item"].disabled=!1===e,this["#add-color-from-stroke-menu-item"].disabled=!1===i;}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"Ax",value:function Ax(t){var _this795=this;var e,_i1207,s=this["#items"].querySelector(".item[data-selected]"),n=s.querySelector(".thumbnail-inner"),o=s[dm];this.Js.board.undoManager.checkpoint("Change color"),this["#color-picker"].addEventListener("change",e=function e(){Uo(o,_this795["#color-picker"].value),n.style.background=_this795["#color-picker"].value;}),this["#color-picker"].addEventListener("changeend",_i1207=function i(){_this795["#color-picker"].removeEventListener("change",e),_this795["#color-picker"].removeEventListener("changeend",_i1207);});}},{key:"editColor",value:function(){var _editColor=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee146(t){var e,_t1927,i;return regeneratorRuntime.wrap(function _callee146$(_context148){while(1){switch(_context148.prev=_context148.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[dm].id===t;});if(!e){_context148.next=8;break;}this.Dv([e]);_t1927=e.getBoundingClientRect(),i=new DOMPoint(_t1927.left,_t1927.top+_t1927.height/2);_context148.next=6;return ns(10);case 6:this["#color-picker-popover"].open(i);this["#color-picker"].value=Go(e[dm]);case 8:case"end":return _context148.stop();}}},_callee146,this);}));function editColor(_x175){return _editColor.apply(this,arguments);}return editColor;}()},{key:"Tv",value:function Tv(){this["#color-picker-popover"].opened&&this["#color-picker-popover"].close();}},{key:"$v",value:function $v(t){var _this796=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[dm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1928=this["#items"].querySelector(".item[data-label-edited]");if(_t1928){if(_t1928===i)return;this.qv();}}this.Dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[dm],l=this["#developer-mode-button"].toggled?"Color ID":"Color title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Qi(_templateObject48(),h,l);n.after(r),r.selectAll(),ns(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this796.qv();}),r.validate=function(){var t=null;if(_this796["#developer-mode-button"].toggled){var _e1399=r.value.trim();if(_e1399.startsWith("#")&&(_e1399=_e1399.substring(1)),0===_e1399.length)t="Color must have ID";else if(Xi(_e1399)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1399)))&&o.id!==_e1399&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"qv",value:function qv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1400=this.Js.board,i=t.querySelector(".label"),_s667=t.querySelector("x-input"),_n536=t[dm];if(_s667.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s667.error)if(this["#developer-mode-button"].toggled){var _t1929=_n536.getAttribute("id").trim(),_i1208=_s667.value.trim().toLowerCase();if(_i1208.startsWith("#")&&(_i1208=_i1208.substring(1)),_t1929!==_i1208){_e1400.undoManager.checkpoint("Gradient ID");var _s668=document.createNodeIterator(_e1400.workspaces,NodeFilter.SHOW_ELEMENT),_n537=null;for(;_n537=_s668.nextNode();){"linearGradient"!==_n537.localName&&"radialGradient"!==_n537.localName||(_n537.id===_t1929&&_n537.setAttribute("id",_i1208),_n537.href.baseVal==="#"+_t1929&&_n537.setAttribute("href","#"+_i1208));{var _e1401=getComputedStyle(_n537);for(var _i1209=0,_arr47=["fill","stroke"];_i1209<_arr47.length;_i1209++){var _s669=_arr47[_i1209];var _o433=_e1401.getPropertyValue(_s669);if(_o433&&_o433.startsWith("url(")){_o433.substring(6,_o433.length-2)===_t1929&&_n537.style.setProperty(_s669,"url(#".concat(_i1208,")"));}}}}}}else{var _t1930=_n536.querySelector(":scope > bx-title"),_i1210=_s667.value.trim();if(_t1930){_t1930.textContent!==_i1210&&(_e1400.undoManager.checkpoint("Color title"),""===_i1210?_t1930.remove():_t1930.textContent=_i1210);}else""!==_i1210&&(_e1400.undoManager.checkpoint("Color title"),_t1930=Ii("svg:bx-title"),_t1930.textContent=_i1210,_n536.prepend(_t1930));}}}},{key:"Uv",value:function Uv(t){this.Js.board.undoManager.checkpoint("Pin Color"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Fv",value:function Fv(t){this.Js.board.undoManager.checkpoint("Unpin Color"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"Dv",value:function Dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1279=_createForOfIteratorHelper(this["#items"].children),_step1279;try{for(_iterator1279.s();!(_step1279=_iterator1279.n()).done;){var _e1402=_step1279.value;t.includes(_e1402)?(_e1402.setAttribute("data-selected",""),_e1402[cm]=Date.now()):_e1402.removeAttribute("data-selected");}}catch(err){_iterator1279.e(err);}finally{_iterator1279.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.Tv();}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s670=e[0],_n538=i.indexOf(_s670),_o434=i[_n538-1];if(_o434){if(_o434.scrollIntoViewIfNeeded(),t)_o434.setAttribute("data-selected",""),_o434[cm]=Date.now();else{var _iterator1280=_createForOfIteratorHelper(i),_step1280;try{for(_iterator1280.s();!(_step1280=_iterator1280.n()).done;){var _t1931=_step1280.value;_t1931===_o434?(_t1931.setAttribute("data-selected",""),_t1931[cm]=Date.now()):_t1931.removeAttribute("data-selected");}}catch(err){_iterator1280.e(err);}finally{_iterator1280.f();}}return this.Tv(),!0;}}return!1;}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s671=e[e.length-1],_n539=i.indexOf(_s671),_o435=i[_n539+1];if(_o435){if(_o435.scrollIntoViewIfNeeded(),t)_o435.setAttribute("data-selected",""),_o435[cm]=Date.now();else{var _iterator1281=_createForOfIteratorHelper(i),_step1281;try{for(_iterator1281.s();!(_step1281=_iterator1281.n()).done;){var _t1932=_step1281.value;_t1932===_o435?(_t1932.setAttribute("data-selected",""),_t1932[cm]=Date.now()):_t1932.removeAttribute("data-selected");}}catch(err){_iterator1281.e(err);}finally{_iterator1281.f();}}return this.Tv(),!0;}}return!1;}},{key:"Vv",value:function Vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1282=_createForOfIteratorHelper(t),_step1282;try{for(_iterator1282.s();!(_step1282=_iterator1282.n()).done;){var i=_step1282.value;i===e?(i.setAttribute("data-selected",""),i[cm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1282.e(err);}finally{_iterator1282.f();}return this.Tv(),!0;}return!1;}},{key:"jv",value:function jv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1283=_createForOfIteratorHelper(t),_step1283;try{for(_iterator1283.s();!(_step1283=_iterator1283.n()).done;){var i=_step1283.value;i===e?(i.setAttribute("data-selected",""),i[cm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1283.e(err);}finally{_iterator1283.f();}return this.Tv(),!0;}return!1;}},{key:"vv",value:function vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.Dv(t,!1);}},{key:"kv",value:function kv(){this.Dv([],!1);}},{key:"wv",value:function wv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"yv",value:function yv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"Hv",value:function Hv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add Color");var i=Ii("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("color")),i.setAttribute("data-bx-pinned","true"),i.innerHTML='<stop style="stop-color: #d8d8d8;"></stop>',e.length>0){e[e.length-1][dm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[dm]===i;});this.Dv([s]);}},{key:"Wv",value:function Wv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=this.Zx(),n=[];var _iterator1284=_createForOfIteratorHelper(s),_step1284;try{for(_iterator1284.s();!(_step1284=_iterator1284.n()).done;){var _i1212=_step1284.value;var _s673=getComputedStyle(_i1212),_o437=null;if(!0===Co(_s673[t]))_o437=_s673[t];else{var _i1213=co.fromString(_s673[t]);if(_i1213&&"#"===_i1213.value[0]){var _t1934=e.masterWorkspace.querySelector(_i1213.value);_t1934&&Oo(_t1934)&&(_o437=Go(_t1934));}}null!==_o437&&n.push(_o437);}}catch(err){_iterator1284.e(err);}finally{_iterator1284.f();}if(n=ni(n),n.length>0){e.undoManager.checkpoint(1===n.length?"Add color":"Add colors");var _t1933=[],_s672=i.length>0?i[i.length-1][dm]:null;var _iterator1285=_createForOfIteratorHelper(n),_step1285;try{for(_iterator1285.s();!(_step1285=_iterator1285.n()).done;){var _i1211=_step1285.value;var _n540=Ii("svg:linearGradient");_n540.setAttribute("id",e.generateUniqueID("color")),_n540.setAttribute("data-bx-pinned","true"),_n540.innerHTML="<stop style=\"stop-color: ".concat(_i1211,"\"></stop>"),_t1933.push(_n540),_s672?_s672.after(_n540):(e.maybeCreateDefsForMasterWorkspace(),e.defs.append(_n540)),_s672=_n540;}}catch(err){_iterator1285.e(err);}finally{_iterator1285.f();}this.qs();var _o436=_toConsumableArray(this["#items"].children).filter(function(e){return _t1933.includes(e[dm]);});this.Dv(_o436);}}},{key:"Iv",value:function Iv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[dm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate colors");var _iterator1286=_createForOfIteratorHelper(e),_step1286;try{for(_iterator1286.s();!(_step1286=_iterator1286.n()).done;){var _i1214=_step1286.value;var _e1403=t.generateUniqueID("color"),_s674=Go(_i1214[dm]),_l349=ts(_templateObject49(),_e1403,_s674);n.append(_l349),o.push(_l349);}}catch(err){_iterator1286.e(err);}finally{_iterator1286.f();}s.after(n);{this.qs();var _t1935=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[dm]);});this.Dv(_t1935);}}},{key:"Lv",value:function(){var _Lv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee147(){var t,e,i,_iterator1287,_step1287,_step1287$value,_t1939,_s679,_iterator1289,_step1289,_n542,_t1936,_s675,_i1215,_s676,_i1216,_i1217,_arr48,_n541,_o438,_l350,_a259,_i1218,_s677,_iterator1288,_step1288,_t1938,_i1219,_s678,_t1937;return regeneratorRuntime.wrap(function _callee147$(_context149){while(1){switch(_context149.prev=_context149.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[dm];}),i=[];_iterator1287=_createForOfIteratorHelper(this.Xv());try{for(_iterator1287.s();!(_step1287=_iterator1287.n()).done;){_step1287$value=_slicedToArray(_step1287.value,2),_t1939=_step1287$value[0],_s679=_step1287$value[1];_iterator1289=_createForOfIteratorHelper(_s679);try{for(_iterator1289.s();!(_step1289=_iterator1289.n()).done;){_n542=_step1289.value;e.includes(_n542)&&!1===i.includes(_t1939)&&i.push(_t1939);}}catch(err){_iterator1289.e(err);}finally{_iterator1289.f();}}}catch(err){_iterator1287.e(err);}finally{_iterator1287.f();}if(!(0!==e.length)){_context149.next=19;break;}if(!(i.length>0)){_context149.next=12;break;}_t1936="Delete ";1===e.length?_t1936+="a color":_t1936+="".concat(e.length," colors"),_t1936+=" applied to ",1===i.length?_t1936+="1 object?":_t1936+="".concat(i.length," objects?");_context149.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1936,detail:"Deleting a color also removes it from all objects it was applied to."});case 9:_s675=_context149.sent;if(!(-1===_s675||1===_s675)){_context149.next=12;break;}return _context149.abrupt("return");case 12:t.undoManager.checkpoint("Delete colors"),this.Vu()||this.Nu();_i1215=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s676=null;for(;_s676=_i1215.nextNode();){if(k.includes(_s676.localName)){_i1216=getComputedStyle(_s676);for(_i1217=0,_arr48=["fill","stroke"];_i1217<_arr48.length;_i1217++){_n541=_arr48[_i1217];_o438=co.fromString(_i1216[_n541]),_l350=_o438?t.masterWorkspace.querySelector(_o438.value):null,_a259=_l350&&["linearGradient","radialGradient"].includes(_l350.localName)?_l350:null;e.includes(_a259)&&(_s676.style[_n541]="#000000",_s676.removeAttribute(_n541));}}}_i1218=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s677=[];_iterator1288=_createForOfIteratorHelper(_i1218);try{for(_iterator1288.s();!(_step1288=_iterator1288.n()).done;){_t1938=_step1288.value;e.includes(_t1938)&&_s677.push(_t1938);}}catch(err){_iterator1288.e(err);}finally{_iterator1288.f();}for(_i1219=0,_s678=_s677;_i1219<_s678.length;_i1219++){_t1937=_s678[_i1219];_t1937.remove();}case 19:case"end":return _context149.stop();}}},_callee147,this);}));function Lv(){return _Lv.apply(this,arguments);}return Lv;}()},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[dm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin color"+e.length>1?"s":"");var _iterator1290=_createForOfIteratorHelper(e),_step1290;try{for(_iterator1290.s();!(_step1290=_iterator1290.n()).done;){var _t1940=_step1290.value;_t1940.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1290.e(err);}finally{_iterator1290.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[dm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin color"+e.length>1?"s":"");var _iterator1291=_createForOfIteratorHelper(e),_step1291;try{for(_iterator1291.s();!(_step1291=_iterator1291.n()).done;){var _t1941=_step1291.value;_t1941.removeAttribute("data-bx-pinned");}}catch(err){_iterator1291.e(err);}finally{_iterator1291.f();}}}},{key:"nv",value:function nv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s680=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n543=t[0],_o439=_s680.indexOf(e);if("start"===i){if(_s680[_o439-1]===_n543)return!1;}else if("end"===i){if(_s680[_o439+1]===_n543)return!1;}}return!0;}},{key:"Gv",value:function Gv(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1220=getComputedStyle(s);for(var _i1221=0,_arr49=["fill","stroke"];_i1221<_arr49.length;_i1221++){var _o440=_arr49[_i1221];var _l351=co.fromString(_i1220[_o440]),_a260=_l351?e.masterWorkspace.querySelector(_l351.value):null,_h210=_a260&&["linearGradient","radialGradient"].includes(_a260.localName)?_a260:null;if(_h210&&_h210.id===t){var _t1942=s.closest("text");_t1942?!1===n.includes(_t1942)&&n.push(_t1942):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Xv",value:function Xv(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1222=getComputedStyle(s);for(var _i1223=0,_arr50=["fill","stroke"];_i1223<_arr50.length;_i1223++){var _n544=_arr50[_i1223];var _o441=co.fromString(_i1222[_n544]),_l352=_o441?t.masterWorkspace.querySelector(_o441.value):null,_a261=_l352&&"linearGradient"==_l352.localName?_l352:null;_a261&&Oo(_a261)&&(!1===e.has(s)?e.set(s,[_a261]):e.get(s).push(_a261));}}}return e;}},{key:"Zx",value:function Zx(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1292=_createForOfIteratorHelper(s),_step1292;try{for(_iterator1292.s();!(_step1292=_iterator1292.n()).done;){var _n545=_step1292.value;t.includes(_n545.localName)?e.push(_n545):"g"!==_n545.localName&&"a"!==_n545.localName||i(_n545.children);}}catch(err){_iterator1292.e(err);}finally{_iterator1292.f();}};return i(this.Js.board.outermostSelectedElements),e;}},{key:"qs",value:function qs(){{var _t1943=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Oo(t);}),_e1404=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[dm];}),i=document.createDocumentFragment();var _iterator1293=_createForOfIteratorHelper(_t1943),_step1293;try{for(_iterator1293.s();!(_step1293=_iterator1293.n()).done;){var _s681=_step1293.value;var _t1944=_s681.querySelector(":scope > stop"),_n546=getComputedStyle(_t1944).stopColor,_o442=Qi(_templateObject50(),_n546,_s681.id);_o442[dm]=_s681,_e1404.includes(_s681)&&(_o442.setAttribute("data-selected",""),_o442[cm]=Date.now()),this.Zv(_o442),this.Kv(_o442),i.append(_o442);}}catch(err){_iterator1293.e(err);}finally{_iterator1293.f();}this["#items"].innerHTML="",this["#items"].append(i);}this.Nv(),this.Av(),this.Fu();}},{key:"Yv",value:function Yv(){var _iterator1294=_createForOfIteratorHelper(this["#items"].children),_step1294;try{for(_iterator1294.s();!(_step1294=_iterator1294.n()).done;){var _t1945=_step1294.value;this.Kv(_t1945);}}catch(err){_iterator1294.e(err);}finally{_iterator1294.f();}}},{key:"pv",value:function pv(){this["#search-input"].value="";var _iterator1295=_createForOfIteratorHelper(this["#items"].children),_step1295;try{for(_iterator1295.s();!(_step1295=_iterator1295.n()).done;){var _t1946=_step1295.value;this.Zv(_t1946),this.Kv(_t1946);}}catch(err){_iterator1295.e(err);}finally{_iterator1295.f();}this.Fu();}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Zv",value:function Zv(t){var e=t[dm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<color>",i.removeAttribute("data-custom"));else{var _t1947;_t1947=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1947?(i.textContent=_t1947.textContent,i.setAttribute("data-custom","")):(i.textContent="Color",i.removeAttribute("data-custom"));}}},{key:"Nv",value:function Nv(){var t=this.Xv();var _iterator1296=_createForOfIteratorHelper(this["#items"].children),_step1296;try{for(_iterator1296.s();!(_step1296=_iterator1296.n()).done;){var _e1405=_step1296.value;var i=_e1405.querySelector(".counter-button"),_s682=0;var _iterator1297=_createForOfIteratorHelper(t),_step1297;try{for(_iterator1297.s();!(_step1297=_iterator1297.n()).done;){var _step1297$value=_slicedToArray(_step1297.value,2),_i1224=_step1297$value[0],_n547=_step1297$value[1];_n547.includes(_e1405[dm])&&(_s682+=1);}}catch(err){_iterator1297.e(err);}finally{_iterator1297.f();}0===_s682?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s682?"Select 1 color user":"Select ".concat(_s682," color users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s682);}}catch(err){_iterator1296.e(err);}finally{_iterator1296.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.colors){var _iterator1298=_createForOfIteratorHelper(this["#items"].children),_step1298;try{for(_iterator1298.s();!(_step1298=_iterator1298.n()).done;){var _t1948=_step1298.value;var _e1406=_t1948[dm],i=_t1948.lastElementChild;i.hidden=!1,i.toggled=_e1406.hasAttribute("data-bx-pinned");}}catch(err){_iterator1298.e(err);}finally{_iterator1298.f();}}else{var _iterator1299=_createForOfIteratorHelper(this["#items"].children),_step1299;try{for(_iterator1299.s();!(_step1299=_iterator1299.n()).done;){var _t1949=_step1299.value;_t1949.lastElementChild.hidden=!0;}}catch(err){_iterator1299.e(err);}finally{_iterator1299.f();}}}}]);return pm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pm,"observedAttributes",["enabled"]);_defineProperty(pm,"_shadowTemplate",Qi(_templateObject389()));_defineProperty(pm,"_shadowStyleSheet",Ji(_templateObject390()));customElements.define("bx-colorsbrowser",pm);var um=Symbol(),xm=Symbol();var bm=/*#__PURE__*/function(_HTMLElement109){_inherits(bm,_HTMLElement109);var _super163=_createSuper(bm);_createClass(bm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedStops",get:function get(){return _toConsumableArray(this.Na);},set:function set(t){this.Na=_toConsumableArray(t),this.Qv(),this.Jv(),this.ty(),this.ey();}}]);function bm(){var _this797;_classCallCheck(this,bm);_this797=_super163.call(this),_this797.tabIndex=0,_this797.iy=!1,_this797.sy=!1,_this797.Na=[],_this797._shadowRoot=_this797.attachShadow({mode:"closed"}),_this797._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,bm._shadowStyleSheet],_this797._shadowRoot.append(document.importNode(bm._shadowTemplate.content,!0));var _iterator1300=_createForOfIteratorHelper(_this797._shadowRoot.querySelectorAll("[id]")),_step1300;try{for(_iterator1300.s();!(_step1300=_iterator1300.n()).done;){var _t1950=_step1300.value;_this797["#"+_t1950.id]=_t1950;}}catch(err){_iterator1300.e(err);}finally{_iterator1300.f();}_this797.addEventListener("keydown",function(t){return _this797.wn(t);}),_this797["#gradient-slider"].addEventListener("contextmenu",function(t){return _this797.ny(t);}),_this797["#gradient-slider"].addEventListener("pointerdown",function(t){return _this797.oy(t);}),_this797["#gradient-slider"].addEventListener("dblclick",function(t){return _this797.ly(t);}),_this797["#stop-color-picker"].addEventListener("changestart",function(t){return _this797.Ax(t);}),_this797["#stop-offset-section"].addEventListener("changestart",function(){return _this797.hy();});return _this797;}_createClass(bm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.py=Gi(this,"bx-gradientsbrowser");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this798=this;{var _t1951=this.py.selectedGradients[0],_e1407=[];if(_t1951[xm]&&(_e1407=_t1951[xm].filter(function(e){return _t1951.contains(e);})),0===_e1407.length){var i=Ro(_t1951);i.length>0&&(_e1407=[i[0]]);}this.Na=_e1407;}this.focus(),this.qs(),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this798.al(t);}),this.py.addEventListener("selectedgradientschange",this.uy=function(){_this798.qs();});}},{key:"en",value:function en(){this.Js.board.removeEventListener("workspacemutation",this.hn),this.py.removeEventListener("selectedgradientschange",this.uy);var t=this.py.selectedGradients[0];t&&(t[xm]=_toConsumableArray(this.selectedStops)),this["#gradient-slider"].removeAttribute("data-dragging"),this.Na=[],this.iy=!1,this.sy=!1;}},{key:"al",value:function al(t){var _this799=this;var _iterator1301=_createForOfIteratorHelper(t.detail),_step1301;try{for(_iterator1301.s();!(_step1301=_iterator1301.n()).done;){var _e1408=_step1301.value;if("childList"===_e1408.type&&["linearGradient","radialGradient"].includes(_e1408.target.nodeName)){(function(){var t=_this799.py.selectedGradients[0];_this799.Na=_this799.Na.filter(function(e){return t.contains(e);});})();}}}catch(err){_iterator1301.e(err);}finally{_iterator1301.f();}this.qs();}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);t.stopPropagation(),0!==this.Na.length&&null===this._shadowRoot.activeElement&&(e.matches("Backspace")||e.matches("Delete")?this.xh():e.matches("Tab")?(t.preventDefault(),this.bh()):e.matches("Shift","Tab")?(t.preventDefault(),this.mh()):e.matches("ArrowLeft")?this.fh(-.01):e.matches("ArrowRight")?this.fh(.01):e.matches("Shift","ArrowLeft")?this.fh(-.1):e.matches("Shift","ArrowRight")&&this.fh(.1));}},{key:"ny",value:function(){var _ny=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee148(t){var e,i,s,_e1409,_i1225;return regeneratorRuntime.wrap(function _callee148$(_context150){while(1){switch(_context150.prev=_context150.next){case 0:t.preventDefault(),t.target.matches(".marker")?!1===t.target.hasAttribute("data-selected")&&(this.selectedStops=[t.target[um]]):this.selectedStops=[];e=this.py.selectedGradients[0];i=Ro(e);_context150.next=5;return this.Qs.openContextMenu([{value:"add-stop",label:"Add stop",disabled:!1},{value:"duplicate-stops",label:1===this.selectedStops.length?"Duplicate stop":"Duplicate stops",disabled:0===this.selectedStops.length},{value:"delete-stops",label:1===this.selectedStops.length?"Delete stop":"Delete stops",disabled:0===this.selectedStops.length},{value:"swap-stops",label:"Swap stops",disabled:2!==this.selectedStops.length},{type:"separator"},{label:"Reverse gradient",value:"reverse-gradient",disabled:i.length<=1},{label:"Harmonize gradient",value:"harmonize-gradient",disabled:i.length<1}]);case 5:s=_context150.sent;if("add-stop"===s){_e1409=this["#track"].getBoundingClientRect(),_i1225=(t.clientX-_e1409.x)/_e1409.width;_i1225=et(_i1225,0,1,3),this.xy(_i1225);}else"duplicate-stops"===s?this.by():"delete-stops"===s?this.xh():"reverse-gradient"===s?this.my():"harmonize-gradient"===s&&this.gy();case 7:case"end":return _context150.stop();}}},_callee148,this);}));function ny(_x176){return _ny.apply(this,arguments);}return ny;}()},{key:"oy",value:function oy(t){1===t.buttons&&(t.target.closest(".marker")?this.wy(t):this.selectedStops=[]);}},{key:"ly",value:function ly(t){if(t.target===this["#gradient-slider"]||t.target===this["#markers"]){var _e1410=this["#track"].getBoundingClientRect(),i=(t.clientX-_e1410.x)/_e1410.width;i=et(i,0,1,3),this.xy(i);}}},{key:"wy",value:function wy(t){var _this800=this;if(1!==t.buttons)return;var e,_i1228,s=this.Js.board,n=this.py.selectedGradients[0],o=Ro(n),l=t.target.closest(".marker"),a=this["#track"].getBoundingClientRect(),h=l.getBoundingClientRect(),r=new DOMPoint(t.clientX,t.clientY),d=r,_ref161=(t.clientX,h.x,h.width,this.Qs.modKeys),c=_ref161.alt,p=_ref161.shift,u=Symbol();!1===p?!1===this.selectedStops.includes(l[um])&&(this.selectedStops=[l[um]]):!0===p&&!1===this.selectedStops.includes(l[um])&&(this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),[l[um]]));var x=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),b=Math.max.apply(Math,_toConsumableArray(x.map(function(t){return-t[um].offset.baseVal;}))),m=Math.min.apply(Math,_toConsumableArray(x.map(function(t){return 1-t[um].offset.baseVal;})));var _iterator1302=_createForOfIteratorHelper(x),_step1302;try{for(_iterator1302.s();!(_step1302=_iterator1302.n()).done;){var _t1955=_step1302.value;_t1955[um][u]=_t1955[um].offset.baseVal;}}catch(err){_iterator1302.e(err);}finally{_iterator1302.f();}this["#gradient-slider"].setPointerCapture(t.pointerId),this["#gradient-slider"].addEventListener("pointermove",e=function e(_e1413){{var _i1226=new DOMPoint(_e1413.clientX,_e1413.clientY),_s683=_e1413.timeStamp-t.timeStamp;if(!0===ze(d,_i1226,0))return;if(d=_i1226,Te(r,_i1226)<3&&_s683<80)return;}!1===_this800.iy&&(_this800.iy=!0,s.undoManager.checkpoint("Move gradient stop"),_this800["#gradient-slider"].setAttribute("data-dragging",""));{var _i1227=(_e1413.clientX-t.clientX)/a.width;_i1227=et(_i1227,b,m,3);var _iterator1303=_createForOfIteratorHelper(x),_step1303;try{for(_iterator1303.s();!(_step1303=_iterator1303.n()).done;){var _t1952=_step1303.value;var _e1411=_t1952[um],_s684=_e1411[u];_s684+=_i1227,_s684=et(_s684,0,1,3),_t1952.style.left=100*_s684+"%",_e1411.setAttribute("offset",_s684);}}catch(err){_iterator1303.e(err);}finally{_iterator1303.f();}}{var _t1953=o.map(function(t){return t.offset.baseVal;});if(!1===it(_t1953,!0)){var _t1954=_toConsumableArray(o).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1304=_createForOfIteratorHelper(_t1954),_step1304;try{for(_iterator1304.s();!(_step1304=_iterator1304.n()).done;){var _e1412=_step1304.value;n.append(_e1412);}}catch(err){_iterator1304.e(err);}finally{_iterator1304.f();}o=Ro(n);}}_this800.vy();}),this["#gradient-slider"].addEventListener("lostpointercapture",_i1228=function i(){_this800["#gradient-slider"].removeEventListener("pointermove",e),_this800["#gradient-slider"].removeEventListener("lostpointercapture",_i1228),_this800.iy=!1,_this800["#gradient-slider"].removeAttribute("data-dragging");});}},{key:"Ax",value:function Ax(t){var _this801=this;var e,_i1229,s=this.Js.board,n=this.selectedStops;s.undoManager.checkpoint("Change gradient stop color"),this["#stop-color-picker"].addEventListener("change",e=function e(){var _iterator1305=_createForOfIteratorHelper(n),_step1305;try{for(_iterator1305.s();!(_step1305=_iterator1305.n()).done;){var _t1956=_step1305.value;_t1956.style.stopColor=_this801["#stop-color-picker"].value;}}catch(err){_iterator1305.e(err);}finally{_iterator1305.f();}}),this["#stop-color-picker"].addEventListener("changeend",_i1229=function i(){_this801["#stop-color-picker"].removeEventListener("change",e),_this801["#stop-color-picker"].removeEventListener("changeend",_i1229);var _iterator1306=_createForOfIteratorHelper(n),_step1306;try{for(_iterator1306.s();!(_step1306=_iterator1306.n()).done;){var _t1957=_step1306.value;Dp("stop-color",_t1957);}}catch(err){_iterator1306.e(err);}finally{_iterator1306.f();}});}},{key:"hy",value:function hy(){var _this802=this;this.Js.board.undoManager.checkpoint("Stop offset"),this.sy=!0;var t,_e1415,i=this.py.selectedGradients[0],s=Ro(i),n=this.selectedStops;this["#stop-offset-section"].addEventListener("change",t=function t(_t1961){_t1961.target===_this802["#stop-offset-slider"]?_this802["#stop-offset-input"].value=_this802["#stop-offset-slider"].value:_t1961.target===_this802["#width-input"]&&(_this802["#stop-offset-slider"].value=_this802["#stop-offset-input"].value),_this802["#stop-offset-slider"].mixed=!1,_this802["#stop-offset-input"].mixed=!1;var _iterator1307=_createForOfIteratorHelper(n),_step1307;try{for(_iterator1307.s();!(_step1307=_iterator1307.n()).done;){var _t1960=_step1307.value;_t1960.setAttribute("offset",_this802["#stop-offset-input"].value);}}catch(err){_iterator1307.e(err);}finally{_iterator1307.f();}{var _t1958=s.map(function(t){return t.offset.baseVal;});if(!1===it(_t1958,!0)){var _t1959=_toConsumableArray(s).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1308=_createForOfIteratorHelper(_t1959),_step1308;try{for(_iterator1308.s();!(_step1308=_iterator1308.n()).done;){var _e1414=_step1308.value;i.append(_e1414);}}catch(err){_iterator1308.e(err);}finally{_iterator1308.f();}s=Ro(i);}}_this802.yy(),_this802.Jv();}),this["#stop-offset-section"].addEventListener("changeend",_e1415=function e(){_this802["#stop-offset-section"].removeEventListener("change",t),_this802["#stop-offset-section"].removeEventListener("changeend",_e1415),_this802.sy=!1;});}},{key:"xy",value:function xy(t){this.Js.board.undoManager.checkpoint("Add gradient stop");var e=this.py.selectedGradients[0],i=Ro(e),s=null;for(var _e1416=0;_e1416<i.length;_e1416+=1){var _n548=i[_e1416];if(_n548.offset.baseVal<t)s=_e1416;else if(_n548.offset.baseVal>t)break;}var n=Ii("svg:stop");if(n.setAttribute("offset",t),i.length>0?n.style.stopColor=Lo(e,t):n.style.stopColor="#ff0000",null===s){var _t1962=_toConsumableArray(e.children).find(function(t){return"stop"===t.localName;});_t1962?_t1962.before(n):e.append(n);}else i[s].after(n);this.selectedStops=[n];}},{key:"bh",value:function bh(){var t=this.py.selectedGradients[0],e=Ro(t),i=this.selectedStops;if(i.length>0){var _t1963=i[i.length-1],_s685=e.indexOf(_t1963),_n549=e[_s685<e.length-1?_s685+1:0];this.selectedStops=[_n549];}}},{key:"mh",value:function mh(){var t=this.py.selectedGradients[0],e=Ro(t),i=this.selectedStops;if(i.length>0){var _t1964=i[i.length-1],_s686=e.indexOf(_t1964),_n550=e[_s686>0?_s686-1:e.length-1];this.selectedStops=[_n550];}}},{key:"xh",value:function xh(){var t=this.selectedStops;if(this.selectedStops=[],t.length>0){this.Js.board.undoManager.checkpoint("Delete gradient stop(s)");var _iterator1309=_createForOfIteratorHelper(t),_step1309;try{for(_iterator1309.s();!(_step1309=_iterator1309.n()).done;){var _e1417=_step1309.value;_e1417.remove();}}catch(err){_iterator1309.e(err);}finally{_iterator1309.f();}}}},{key:"by",value:function by(){this.Js.board.undoManager.checkpoint("Duplicate stops");var t=[];var _iterator1310=_createForOfIteratorHelper(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),_step1310;try{for(_iterator1310.s();!(_step1310=_iterator1310.n()).done;){var _e1418=_step1310.value;var i=_e1418[um],_s687=Ii("svg:stop");_s687.setAttribute("offset",i.offset.baseVal),_s687.style.stopColor=Bo(i),i.after(_s687),t.push(_s687);}}catch(err){_iterator1310.e(err);}finally{_iterator1310.f();}this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),t);}},{key:"fh",value:function fh(t){var e=this.py.selectedGradients[0],i=Ro(e),s=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),n=Math.max.apply(Math,_toConsumableArray(s.map(function(t){return-t[um].offset.baseVal;}))),o=Math.min.apply(Math,_toConsumableArray(s.map(function(t){return 1-t[um].offset.baseVal;})));if(0!==t){if(t>0){if(0===o)return;}else if(t<0&&0===n)return;this.Js.board.undoManager.checkpoint("Move gradient stop"),t=et(t,n,o,3);var _iterator1311=_createForOfIteratorHelper(s),_step1311;try{for(_iterator1311.s();!(_step1311=_iterator1311.n()).done;){var _e1419=_step1311.value;var _i1231=_e1419[um],_s688=_i1231.offset.baseVal;_s688+=t,_s688=et(_s688,0,1,3),_e1419.style.left=100*_s688+"%",_i1231.setAttribute("offset",_s688);}}catch(err){_iterator1311.e(err);}finally{_iterator1311.f();}{var _t1965=i.map(function(t){return t.offset.baseVal;});if(!1===it(_t1965,!0)){var _t1966=_toConsumableArray(i).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1312=_createForOfIteratorHelper(_t1966),_step1312;try{for(_iterator1312.s();!(_step1312=_iterator1312.n()).done;){var _i1230=_step1312.value;e.append(_i1230);}}catch(err){_iterator1312.e(err);}finally{_iterator1312.f();}i=Ro(e);}}this.vy();}}},{key:"my",value:function my(){this.Js.board.undoManager.checkpoint("Reverse gradient");var t=this.py.selectedGradients[0],e=Ro(t);var _iterator1313=_createForOfIteratorHelper(_toConsumableArray(e).reverse()),_step1313;try{for(_iterator1313.s();!(_step1313=_iterator1313.n()).done;){var i=_step1313.value;i.offset.baseVal=1-i.offset.baseVal,t.append(i);}}catch(err){_iterator1313.e(err);}finally{_iterator1313.f();}}},{key:"gy",value:function gy(){this.Js.board.undoManager.checkpoint("Harmonize gradient");var t=this.py.selectedGradients[0],e=Ro(t);for(var _t1967=0;_t1967<e.length;_t1967+=1){e[_t1967].setAttribute("offset",_t1967/(e.length-1));}}},{key:"qs",value:function qs(){this.yy(),this.Jv(),this.ty(),this.ey();}},{key:"yy",value:function yy(){var t=this.py.selectedGradients[0];if(t){var _e1420=Ro(t),i=_e1420.map(function(t){return tt(100*t.offset.baseVal,3);}),_s689=_e1420.map(function(t){return Bo(t);});if(0===_e1420.length?(this["#left-gradient-slider-edge"].style.background="transparent",this["#right-gradient-slider-edge"].style.background="transparent",this["#track"].style.backgroundImage="linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 100%)"):1===_e1420.length?(this["#left-gradient-slider-edge"].style.background=_s689[0],this["#right-gradient-slider-edge"].style.background=_s689[0],this["#track"].style.backgroundImage="linear-gradient(90deg, ".concat(_s689[0]," 0%, ").concat(_s689[0]," 100%)")):(this["#left-gradient-slider-edge"].style.background=_s689[0],this["#right-gradient-slider-edge"].style.background=_s689[_s689.length-1],this["#track"].style.backgroundImage="linear-gradient(90deg, "+_e1420.map(function(t,e){return"".concat(_s689[e]," ").concat(i[e],"%");}).join(", ")+")"),!1===this.iy){this["#markers"].innerHTML="";for(var _t1968=0;_t1968<_e1420.length;_t1968+=1){var _s690=_e1420[_t1968],_n551=i[_t1968],_o443=Ii("div");_o443[um]=_s690,_o443.setAttribute("class","marker"),_o443.style.left=_n551+"%",this["#markers"].append(_o443);}this.Qv(),this.vy();}}}},{key:"Qv",value:function Qv(){var t=this.selectedStops;var _iterator1314=_createForOfIteratorHelper(this["#markers"].children),_step1314;try{for(_iterator1314.s();!(_step1314=_iterator1314.n()).done;){var _e1421=_step1314.value;t.includes(_e1421[um])?_e1421.setAttribute("data-selected",""):_e1421.removeAttribute("data-selected");}}catch(err){_iterator1314.e(err);}finally{_iterator1314.f();}}},{key:"vy",value:function vy(){var t=_toConsumableArray(this["#markers"].children),e=[];{(function(){var i=[],s=Symbol();var _iterator1315=_createForOfIteratorHelper(t),_step1315;try{for(_iterator1315.s();!(_step1315=_iterator1315.n()).done;){var _e1422=_step1315.value;_e1422[s]=_e1422.getBoundingClientRect();}}catch(err){_iterator1315.e(err);}finally{_iterator1315.f();}var _iterator1316=_createForOfIteratorHelper(t),_step1316;try{var _loop30=function _loop30(){var n=_step1316.value;var o=[],l=function l(e){var _iterator1318=_createForOfIteratorHelper(t),_step1318;try{for(_iterator1318.s();!(_step1318=_iterator1318.n()).done;){var _n552=_step1318.value;if(_n552!==e){var _t1969=!o.includes(_n552)&&!i.includes(_n552),_a262=_n552[s].left<=e[s].right&&e[s].left<=_n552[s].right;_t1969&&_a262&&(o.push(_n552),i.push(_n552),l(_n552));}}}catch(err){_iterator1318.e(err);}finally{_iterator1318.f();}};l(n),o.length>0&&e.push(Vi(o));};for(_iterator1316.s();!(_step1316=_iterator1316.n()).done;){_loop30();}}catch(err){_iterator1316.e(err);}finally{_iterator1316.f();}var _iterator1317=_createForOfIteratorHelper(t),_step1317;try{for(_iterator1317.s();!(_step1317=_iterator1317.n()).done;){var _s691=_step1317.value;i.includes(_s691)||e.push([_s691]);}}catch(err){_iterator1317.e(err);}finally{_iterator1317.f();}})();}for(var _i1232=0,_e1423=e;_i1232<_e1423.length;_i1232++){var _t1970=_e1423[_i1232];var _e1424=100/_t1970.length;for(var i=0;i<_t1970.length;i+=1){var _s692=_t1970[i];_s692.style.height=_e1424+"%",_s692.style.top=_e1424*i+"%";}}}},{key:"Jv",value:function Jv(){!1===this.iy&&(0===this.selectedStops.length?this["#stop-color-section"].hidden=!0:1===this.selectedStops.length&&(this["#stop-color-section"].hidden=!1,this["#stop-color-picker"].value=Bo(this.selectedStops[0])));}},{key:"ty",value:function ty(){if(!1===this.sy)if(0===this.selectedStops.length)this["#stop-offset-section"].hidden=!0;else{var _t1971=this.selectedStops.map(function(t){return t.offset.baseVal;}),_e1425=!(_t1971.length<=1)&&!oi(_t1971,_t1971[0]);this["#stop-offset-section"].hidden=!1,this["#stop-offset-slider"].mixed=_e1425,this["#stop-offset-slider"].value=tt(_t1971[0],3),this["#stop-offset-input"].mixed=_e1425,this["#stop-offset-input"].value=tt(_t1971[0],3);}}},{key:"ey",value:function ey(){0===this.selectedStops.length?this["#placeholder-section"].hidden=!1:this["#placeholder-section"].hidden=!0;}}]);return bm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bm,"observedAttributes",["enabled"]);_defineProperty(bm,"_shadowTemplate",Qi(_templateObject391()));_defineProperty(bm,"_shadowStyleSheet",Ji(_templateObject392()));customElements.define("bx-gradientinspector",bm);var mm=Symbol(),gm=Symbol();var fm=/*#__PURE__*/function(_HTMLElement110){_inherits(fm,_HTMLElement110);var _super164=_createSuper(fm);_createClass(fm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedGradients",get:function get(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[mm];});}}]);function fm(){var _temp44,_this803;_classCallCheck(this,fm);(_temp44=_this803=_super164.call(this),_defineProperty(_assertThisInitialized(_this803),"commands",{selectAll:{enabled:function enabled(){return _this803.wv();},exec:function exec(){return _this803.vv();}},deselectAll:{enabled:function enabled(){return _this803.yv();},exec:function exec(){return _this803.kv();}}}),_temp44),_this803.Sv=is(_this803.qs,500,_assertThisInitialized(_this803)),_this803._v=0,_this803._shadowRoot=_this803.attachShadow({mode:"closed"}),_this803._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,fm._shadowStyleSheet],_this803._shadowRoot.append(document.importNode(fm._shadowTemplate.content,!0));var _iterator1319=_createForOfIteratorHelper(_this803._shadowRoot.querySelectorAll("[id]")),_step1319;try{for(_iterator1319.s();!(_step1319=_iterator1319.n()).done;){var _t1972=_step1319.value;_this803["#"+_t1972.id]=_t1972;}}catch(err){_iterator1319.e(err);}finally{_iterator1319.f();}_this803.addEventListener("keydown",function(t){return _this803.wn(t);}),_this803["#items"].addEventListener("scroll",function(){return _this803.Cv();}),_this803["#items"].addEventListener("contextmenu",function(t){return _this803.op(t);}),_this803["#items"].addEventListener("pointerdown",function(t){return _this803.sp(t);}),_this803["#items"].addEventListener("click",function(t){return _this803.np(t);}),_this803["#search-input"].addEventListener("input",function(){return _this803.Mv();}),_this803["#developer-mode-button"].addEventListener("toggle",function(){return _this803.$u();}),_this803["#add-menu"].addEventListener("click",function(t){return _this803.Xw(t);}),_this803["#add-menu"].addEventListener("open",function(){return _this803.Pv();}),_this803["#gradient-inspector-popover"].addEventListener("close",function(){return _this803["#gradient-inspector"].enabled=!1;});return _this803;}_createClass(fm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"selectGradients",value:function selectGradients(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[mm].id);});this.Dv(e,!0);}},{key:"tn",value:function tn(){var _this804=this;window.addEventListener("resize",this.sn=function(){_this804.zv();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this804.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this804.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this804.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientsbrowser:developerMode",!1),this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("artworkchange",this.yr),this.ky(),this["#items"].remove();}},{key:"ln",value:function ln(t){var _t$detail11=t.detail,e=_t$detail11.key,i=_t$detail11.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"zv",value:function zv(){this.ky();}},{key:"al",value:function al(t){var e=t.detail,i="debounced",s=!1;var _iterator1320=_createForOfIteratorHelper(e),_step1320;try{for(_iterator1320.s();!(_step1320=_iterator1320.n()).done;){var _t1973=_step1320.value;var _e1426=_t1973.target.nodeName,_n553=_t1973.addedNodes[0]?_t1973.addedNodes[0].nodeName:null,_o444=_t1973.removedNodes[0]?_t1973.removedNodes[0].nodeName:null,_l353=_t1973.attributeName;if("linearGradient"===_e1426||"radialGradient"===_e1426){if("bx-title"===_n553||"bx-title"===_o444){i="now";break;}if("id"===_l353){i="now",s=!0;break;}if("data-bx-pinned"===_l353){i="now";break;}}else if("bx-title"===_e1426){if(_n553||_o444){i="now";break;}}else if("linearGradient"===_n553||"radialGradient"===_n553||"linearGradient"===_o444||"radialGradient"===_o444){i="now",s=!0;break;}}}catch(err){_iterator1320.e(err);}finally{_iterator1320.f();}!0===s&&this.ky(),"now"===i?this.qs():"debounced"===i&&this.Sv();}},{key:"Ov",value:function Ov(){this.ky(),this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop,this.ky();}},{key:"op",value:function(){var _op3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee149(t){var e,i,_s693,_n554;return regeneratorRuntime.wrap(function _callee149$(_context151){while(1){switch(_context151.prev=_context151.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context151.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.Dv([e]);i=this.selectedGradients;_s693=e[mm];_context151.next=7;return this.Qs.openContextMenu([{label:"Edit Gradient",value:"edit",disabled:1!==i.length},{label:"Edit Gradient ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Gradient Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Duplicate Gradient"+(i.length>1?"s":""),value:"duplicate",disabled:0===i.length},{label:"Delete Gradient"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Gradient"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Gradient"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Gradient Users",value:"select-users",disabled:1!==i.length}]);case 7:_n554=_context151.sent;"edit"===_n554?this.editGradient(_s693.id):"edit-id"===_n554?this.$v(_s693.id,"id"):"edit-title"===_n554?this.$v(_s693.id,"title"):"duplicate"===_n554?this.Iv():"delete"===_n554?this.Lv():"pin"===_n554?this.Rv():"unpin"===_n554?this.Bv():"select-users"===_n554&&this.Sy(_s693.id);case 9:case"end":return _context151.stop();}}},_callee149,this);}));function op(_x177){return _op3.apply(this,arguments);}return op;}()},{key:"np",value:function np(t){t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys15=this.Qs.modKeys,e=_this$Qs$modKeys15.ctrl,i=_this$Qs$modKeys15.shift;if(!1===e&&!1===i){var _e1427=t.target.closest(".item"),_i1233=t.target.closest(".thumbnail"),_s694=t.target.closest(".counter-button"),_n555=t.target.closest(".pin-button"),_o445=_e1427[mm].id;_s694?this.Sy(_o445):_n555?_n555.toggled?this._y(_o445):this.Cy(_o445):_i1233?t.detail%2==0&&this.editGradient(_o445):t.detail%2==0&&this.$v(_o445);}}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1428=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1428&&this.Dv([]);}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this805=this;var _this$Qs$modKeys16=this.Qs.modKeys,e=_this$Qs$modKeys16.ctrl,i=_this$Qs$modKeys16.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.ky(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[gm]=Date.now()),this.dispatchEvent(new CustomEvent("selectedgradientschange"));else if(!0===i){var _t1974=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1429=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1429.length>0){var _i1234=_t1974.indexOf(s),_n556=_e1429.sort(function(t,e){return e[gm]-t[gm];})[0],_o446=_t1974.indexOf(_n556),_l354=[];if(_i1234>_o446?_l354=_toConsumableArray(_t1974).slice(_o446,_i1234+1):_i1234<_o446&&(_l354=_toConsumableArray(_t1974).slice(_i1234,_o446+1).reverse()),_l354=_l354.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l354.length>0){var _iterator1321=_createForOfIteratorHelper(_l354),_step1321;try{for(_iterator1321.s();!(_step1321=_iterator1321.n()).done;){var _t1975=_step1321.value;_t1975.setAttribute("data-selected",""),_t1975[gm]=Date.now(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1321.e(err);}finally{_iterator1321.f();}}}}else{var _t1978,_e1431,_i1235=!1;window.addEventListener("pointermove",_t1978=function _t1976(o){var l=new DOMPoint(o.clientX,o.clientY);if(Te(n,l)>=3){if(window.removeEventListener("pointermove",_t1978),window.removeEventListener("pointerup",_e1431),!1===s.hasAttribute("data-selected")){var _iterator1322=_createForOfIteratorHelper(_this805["#items"].children),_step1322;try{for(_iterator1322.s();!(_step1322=_iterator1322.n()).done;){var _t1977=_step1322.value;_t1977===s?(_t1977.setAttribute("data-selected",""),_t1977[gm]=Date.now()):_t1977.removeAttribute("data-selected"),_this805.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1322.e(err);}finally{_iterator1322.f();}}_this805.sv(o),_i1235=!0;}}),window.addEventListener("pointerup",_e1431=function _e1430(){if(window.removeEventListener("pointermove",_t1978),window.removeEventListener("pointerup",_e1431),!1===_i1235){var _iterator1323=_createForOfIteratorHelper(_this805["#items"].children),_step1323;try{for(_iterator1323.s();!(_step1323=_iterator1323.n()).done;){var _t1979=_step1323.value;_t1979===s?(_t1979.setAttribute("data-selected",""),_t1979[gm]=Date.now()):_t1979.removeAttribute("data-selected"),_this805.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1323.e(err);}finally{_iterator1323.f();}}});}}},{key:"sv",value:function sv(t){var _this806=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this806["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this806.Qs.pointerClientPoint,e=_this806._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this806._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1432=l.getBoundingClientRect();if(a=t.y<_e1432.y+_e1432.height/2?"start":"end",_this806.nv(n,l,a)){var _t1980=l.offsetTop-_this806["#items"].scrollTop;"end"===a&&(_t1980+=_e1432.height),_this806["#drop-indicator"].hidden=!1,_this806["#drop-indicator"].style.top=_t1980-1+"px";}else l=null,_this806["#drop-indicator"].hidden=!0;}else _this806["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s696){function s(_x178){return _s696.apply(this,arguments);}s.toString=function(){return _s696.toString();};return s;}(function(t){if(_this806["#items"].removeEventListener("pointermove",e),_this806["#items"].removeEventListener("scroll",i),_this806["#items"].removeEventListener("lostpointercapture",s),_this806["#items"].style.cursor=null,_this806["#drop-indicator"].hidden=!0,c(),_this806.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1433=n[0][mm],_i1236=_this806.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s695=_this806.Qs.modKeys.shift;_i1236&&k.includes(_i1236.localName)&&(_s695?(_this806.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1236.style.stroke="url(#".concat(_e1433.id,")")):(_this806.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1236.style.fill="url(#".concat(_e1433.id,")")),_this806.Nv());}}else if(l){_this806.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1981=document.createDocumentFragment(),_e1434=l[mm];var _iterator1324=_createForOfIteratorHelper(n),_step1324;try{for(_iterator1324.s();!(_step1324=_iterator1324.n()).done;){var _i1237=_step1324.value;_i1237[mm]!==_e1434&&_t1981.append(_i1237[mm]);}}catch(err){_iterator1324.e(err);}finally{_iterator1324.f();}"start"===a?_e1434.before(_t1981):_e1434.after(_t1981);}}));}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus")||this["#gradient-inspector-popover"].opened)return;var e=ao.fromEvent(t);if(e.matches("Enter")){var _t1982=this["#items"].querySelector(".item[data-label-edited]"),_e1435=this["#items"].querySelector(".item[data-selected]");_t1982?this.focus():_e1435&&this.$v(_e1435[mm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.Lv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu()||this.Vv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu()||this.jv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-gradientsbrowser:developerMode",this["#developer-mode-button"].toggled),this.pv(),this.focus();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&("add-gradient"===e.value?this.Hv():"add-gradient-from-fill"===e.value?this.My("fill"):"add-gradient-from-stroke"===e.value&&this.My("stroke"));}},{key:"Pv",value:function Pv(){var t=this.Js.board.selectedObjectElements,e=null,i=null;if(1===t.length){var _s697=getComputedStyle(t[0]),_n557=co.fromString(_s697.fill),_o447=co.fromString(_s697.stroke);if(_n557&&"#"===_n557.value[0]){var _t1983=this.Js.board.masterWorkspace.querySelector(_n557.value);!_t1983||"linearGradient"!==_t1983.localName&&"radialGradient"!==_t1983.localName||!1!==Oo(_t1983)||(e=_t1983);}if(_o447&&"#"===_o447.value[0]){var _t1984=this.Js.board.masterWorkspace.querySelector(_o447.value);!_t1984||"linearGradient"!==_t1984.localName&&"radialGradient"!==_t1984.localName||!1!==Oo(_t1984)||(i=_t1984);}}this["#add-gradient-from-fill-menu-item"].disabled=null===e,this["#add-gradient-from-stroke-menu-item"].disabled=null===i;}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"editGradient",value:function(){var _editGradient=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee150(t){var e,_t1985,i;return regeneratorRuntime.wrap(function _callee150$(_context152){while(1){switch(_context152.prev=_context152.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[mm].id===t;});if(!e){_context152.next=8;break;}this.Dv([e]);_t1985=e.getBoundingClientRect(),i=new DOMPoint(_t1985.left,_t1985.top+_t1985.height/2);_context152.next=6;return ns(10);case 6:this["#gradient-inspector-popover"].open(i);this["#gradient-inspector"].enabled=!0;case 8:case"end":return _context152.stop();}}},_callee150,this);}));function editGradient(_x179){return _editGradient.apply(this,arguments);}return editGradient;}()},{key:"ky",value:function ky(){this["#gradient-inspector-popover"].opened&&(this["#gradient-inspector-popover"].close(),this["#gradient-inspector"].enabled=!1);}},{key:"$v",value:function $v(t){var _this807=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[mm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1986=this["#items"].querySelector(".item[data-label-edited]");if(_t1986){if(_t1986===i)return;this.qv();}}this.Dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[mm],l=this["#developer-mode-button"].toggled?"Gradient ID":"Gradient title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Qi(_templateObject51(),h,l);n.after(r),r.selectAll(),ns(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this807.qv();}),r.validate=function(){var t=null;if(_this807["#developer-mode-button"].toggled){var _e1436=r.value.trim();if(_e1436.startsWith("#")&&(_e1436=_e1436.substring(1)),0===_e1436.length)t="Gradient must have ID";else if(Xi(_e1436)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1436)))&&o.id!==_e1436&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"qv",value:function qv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1437=this.Js.board,i=t.querySelector(".label"),_s698=t.querySelector("x-input"),_n558=t[mm];if(_s698.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s698.error)if(this["#developer-mode-button"].toggled){var _t1987=_n558.getAttribute("id").trim(),_i1238=_s698.value.trim().toLowerCase();if(_i1238.startsWith("#")&&(_i1238=_i1238.substring(1)),_t1987!==_i1238){_e1437.undoManager.checkpoint("Gradient ID");var _s699=document.createNodeIterator(_e1437.workspaces,NodeFilter.SHOW_ELEMENT),_n559=null;for(;_n559=_s699.nextNode();){"linearGradient"!==_n559.localName&&"radialGradient"!==_n559.localName||(_n559.id===_t1987&&_n559.setAttribute("id",_i1238),_n559.href.baseVal==="#"+_t1987&&_n559.setAttribute("href","#"+_i1238));{var _e1438=getComputedStyle(_n559);for(var _i1239=0,_arr51=["fill","stroke"];_i1239<_arr51.length;_i1239++){var _s700=_arr51[_i1239];var _o448=_e1438.getPropertyValue(_s700);if(_o448&&_o448.startsWith("url(")){_o448.substring(6,_o448.length-2)===_t1987&&_n559.style.setProperty(_s700,"url(#".concat(_i1238,")"));}}}}}}else{var _t1988=_n558.querySelector(":scope > bx-title"),_i1240=_s698.value.trim();if(_t1988){_t1988.textContent!==_i1240&&(_e1437.undoManager.checkpoint("Gradient title"),""===_i1240?_t1988.remove():_t1988.textContent=_i1240);}else""!==_i1240&&(_e1437.undoManager.checkpoint("Gradient title"),_t1988=Ii("svg:bx-title"),_t1988.textContent=_i1240,_n558.prepend(_t1988));}}}},{key:"_y",value:function _y(t){this.Js.board.undoManager.checkpoint("Pin Gradient"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Cy",value:function Cy(t){this.Js.board.undoManager.checkpoint("Unpin Gradient"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"Dv",value:function Dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1325=_createForOfIteratorHelper(this["#items"].children),_step1325;try{for(_iterator1325.s();!(_step1325=_iterator1325.n()).done;){var _e1439=_step1325.value;t.includes(_e1439)?(_e1439.setAttribute("data-selected",""),_e1439[gm]=Date.now()):_e1439.removeAttribute("data-selected");}}catch(err){_iterator1325.e(err);}finally{_iterator1325.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.ky(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s701=e[0],_n560=i.indexOf(_s701),_o449=i[_n560-1];if(_o449){if(_o449.scrollIntoViewIfNeeded(),t)_o449.setAttribute("data-selected",""),_o449[gm]=Date.now();else{var _iterator1326=_createForOfIteratorHelper(i),_step1326;try{for(_iterator1326.s();!(_step1326=_iterator1326.n()).done;){var _t1989=_step1326.value;_t1989===_o449?(_t1989.setAttribute("data-selected",""),_t1989[gm]=Date.now()):_t1989.removeAttribute("data-selected");}}catch(err){_iterator1326.e(err);}finally{_iterator1326.f();}}return this.ky(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s702=e[e.length-1],_n561=i.indexOf(_s702),_o450=i[_n561+1];if(_o450){if(_o450.scrollIntoViewIfNeeded(),t)_o450.setAttribute("data-selected",""),_o450[gm]=Date.now();else{var _iterator1327=_createForOfIteratorHelper(i),_step1327;try{for(_iterator1327.s();!(_step1327=_iterator1327.n()).done;){var _t1990=_step1327.value;_t1990===_o450?(_t1990.setAttribute("data-selected",""),_t1990[gm]=Date.now()):_t1990.removeAttribute("data-selected");}}catch(err){_iterator1327.e(err);}finally{_iterator1327.f();}}return this.ky(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Vv",value:function Vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1328=_createForOfIteratorHelper(t),_step1328;try{for(_iterator1328.s();!(_step1328=_iterator1328.n()).done;){var i=_step1328.value;i===e?(i.setAttribute("data-selected",""),i[gm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1328.e(err);}finally{_iterator1328.f();}return this.ky(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"jv",value:function jv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1329=_createForOfIteratorHelper(t),_step1329;try{for(_iterator1329.s();!(_step1329=_iterator1329.n()).done;){var i=_step1329.value;i===e?(i.setAttribute("data-selected",""),i[gm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1329.e(err);}finally{_iterator1329.f();}return this.ky(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"vv",value:function vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.Dv(t,!1);}},{key:"kv",value:function kv(){this.Dv([],!1);}},{key:"wv",value:function wv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"yv",value:function yv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"Hv",value:function Hv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add gradient");var i=Ii("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("gradient")),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][mm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[mm]===i;});this.Dv([s]);}},{key:"My",value:function My(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=e.selectedObjectElements[0],n=co.fromString(getComputedStyle(s)[t]),o=e.masterWorkspace.querySelector(n.value);e.undoManager.checkpoint("Add gradient");var l=Ii("svg:linearGradient");l.setAttribute("id",e.generateUniqueID("gradient")),l.setAttribute("data-bx-pinned","true");var _iterator1330=_createForOfIteratorHelper($o(o)),_step1330;try{for(_iterator1330.s();!(_step1330=_iterator1330.n()).done;){var _t1991=_step1330.value;var _e1440=Ii("svg:stop");_e1440.offset.baseVal=_t1991.offset.baseVal,_e1440.style.stopColor=Bo(_t1991),l.append(_e1440);}}catch(err){_iterator1330.e(err);}finally{_iterator1330.f();}if(i.length>0){i[i.length-1][mm].after(l);}else e.maybeCreateDefsForMasterWorkspace(),e.defs.append(l);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[mm]===l;});this.Dv([a]);}},{key:"Iv",value:function Iv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[mm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate gradient"+(e.length>1?"s":""));var _iterator1331=_createForOfIteratorHelper(e),_step1331;try{for(_iterator1331.s();!(_step1331=_iterator1331.n()).done;){var _i1241=_step1331.value;var _e1441=Ii("svg:linearGradient");_e1441.setAttribute("id",t.generateUniqueID("gradient"));var _iterator1332=_createForOfIteratorHelper($o(_i1241[mm])),_step1332;try{for(_iterator1332.s();!(_step1332=_iterator1332.n()).done;){var _t1993=_step1332.value;var _i1242=Ii("svg:stop");_i1242.offset.baseVal=_t1993.offset.baseVal,_i1242.style.stopColor=Bo(_t1993),_e1441.append(_i1242);}}catch(err){_iterator1332.e(err);}finally{_iterator1332.f();}n.append(_e1441),o.push(_e1441);}}catch(err){_iterator1331.e(err);}finally{_iterator1331.f();}s.after(n);{this.qs();var _t1992=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[mm]);});this.Dv(_t1992);}}},{key:"Lv",value:function(){var _Lv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee151(){var t,e,i,_iterator1333,_step1333,_step1333$value,_t1997,_s707,_iterator1335,_step1335,_n563,_t1994,_s703,_i1243,_s704,_i1244,_i1245,_arr52,_n562,_o451,_l355,_a263,_h211,_i1246,_s705,_iterator1334,_step1334,_t1996,_i1247,_s706,_t1995;return regeneratorRuntime.wrap(function _callee151$(_context153){while(1){switch(_context153.prev=_context153.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[mm];}),i=[];_iterator1333=_createForOfIteratorHelper(this.Py());try{for(_iterator1333.s();!(_step1333=_iterator1333.n()).done;){_step1333$value=_slicedToArray(_step1333.value,2),_t1997=_step1333$value[0],_s707=_step1333$value[1];_iterator1335=_createForOfIteratorHelper(_s707);try{for(_iterator1335.s();!(_step1335=_iterator1335.n()).done;){_n563=_step1335.value;e.includes(_n563)&&!1===i.includes(_t1997)&&i.push(_t1997);}}catch(err){_iterator1335.e(err);}finally{_iterator1335.f();}}}catch(err){_iterator1333.e(err);}finally{_iterator1333.f();}if(!(0!==e.length)){_context153.next=19;break;}if(!(i.length>0)){_context153.next=12;break;}_t1994="Delete ";1===e.length?_t1994+="a gradient":_t1994+="".concat(e.length," gradients"),_t1994+=" applied to ",1===i.length?_t1994+="1 object?":_t1994+="".concat(i.length," objects?");_context153.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1994,detail:"Deleting a gradient also removes it from all objects it was applied to."});case 9:_s703=_context153.sent;if(!(-1===_s703||1===_s703)){_context153.next=12;break;}return _context153.abrupt("return");case 12:t.undoManager.checkpoint("Delete gradients"),this.Vu()||this.Nu();_i1243=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s704=null;for(;_s704=_i1243.nextNode();){if(k.includes(_s704.localName)){_i1244=getComputedStyle(_s704);for(_i1245=0,_arr52=["fill","stroke"];_i1245<_arr52.length;_i1245++){_n562=_arr52[_i1245];_o451=co.fromString(_i1244[_n562]),_l355=_o451?t.masterWorkspace.querySelector(_o451.value):null,_a263=_l355&&["linearGradient","radialGradient"].includes(_l355.localName)?_l355:null,_h211=_a263?Do(_a263):null;e.includes(_h211)&&(_s704.style[_n562]="#000000",_s704.removeAttribute(_n562));}}}_i1246=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s705=[];_iterator1334=_createForOfIteratorHelper(_i1246);try{for(_iterator1334.s();!(_step1334=_iterator1334.n()).done;){_t1996=_step1334.value;(e.includes(_t1996)||e.includes(Do(_t1996)))&&_s705.push(_t1996);}}catch(err){_iterator1334.e(err);}finally{_iterator1334.f();}for(_i1247=0,_s706=_s705;_i1247<_s706.length;_i1247++){_t1995=_s706[_i1247];_t1995.remove();}case 19:case"end":return _context153.stop();}}},_callee151,this);}));function Lv(){return _Lv2.apply(this,arguments);}return Lv;}()},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[mm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin gradient"+e.length>1?"s":"");var _iterator1336=_createForOfIteratorHelper(e),_step1336;try{for(_iterator1336.s();!(_step1336=_iterator1336.n()).done;){var _t1998=_step1336.value;_t1998.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1336.e(err);}finally{_iterator1336.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[mm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin gradient"+e.length>1?"s":"");var _iterator1337=_createForOfIteratorHelper(e),_step1337;try{for(_iterator1337.s();!(_step1337=_iterator1337.n()).done;){var _t1999=_step1337.value;_t1999.removeAttribute("data-bx-pinned");}}catch(err){_iterator1337.e(err);}finally{_iterator1337.f();}}}},{key:"nv",value:function nv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s708=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n564=t[0],_o452=_s708.indexOf(e);if("start"===i){if(_s708[_o452-1]===_n564)return!1;}else if("end"===i){if(_s708[_o452+1]===_n564)return!1;}}return!0;}},{key:"Sy",value:function Sy(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1248=getComputedStyle(s);for(var _i1249=0,_arr53=["fill","stroke"];_i1249<_arr53.length;_i1249++){var _o453=_arr53[_i1249];var _l356=co.fromString(_i1248[_o453]),_a264=_l356?e.masterWorkspace.querySelector(_l356.value):null,_h212=_a264&&["linearGradient","radialGradient"].includes(_a264.localName)?_a264:null,_r147=_h212?Do(_h212):null;if(_r147&&_r147.id===t){var _t2000=s.closest("text");_t2000?!1===n.includes(_t2000)&&n.push(_t2000):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Py",value:function Py(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1250=getComputedStyle(s);for(var _i1251=0,_arr54=["fill","stroke"];_i1251<_arr54.length;_i1251++){var _n565=_arr54[_i1251];var _o454=co.fromString(_i1250[_n565]),_l357=_o454?t.masterWorkspace.querySelector(_o454.value):null,_a265=_l357&&["linearGradient","radialGradient"].includes(_l357.localName)?_l357:null,_h213=_a265?Do(_a265):null;_h213&&(!1===e.has(s)?e.set(s,[_h213]):e.get(s).push(_h213));}}}return e;}},{key:"qs",value:function qs(){{var _t2001=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return To(t);}),_e1442=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[mm];}),i=document.createDocumentFragment();var _iterator1338=_createForOfIteratorHelper(_t2001),_step1338;try{for(_iterator1338.s();!(_step1338=_iterator1338.n()).done;){var _s709=_step1338.value;var _t2002=$o(_s709),_n566="";if(0===_t2002.length)_n566="background: transparent";else if(1===_t2002.length){_n566="background: ".concat(Bo(_t2002[0]));}else if(_t2002.length>1){_n566="background-image: linear-gradient(90deg, "+_t2002.map(function(t){return"".concat(Bo(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _o455=Qi(_templateObject52(),_n566,_s709.id);_o455[mm]=_s709,_e1442.includes(_s709)&&(_o455.setAttribute("data-selected",""),_o455[gm]=Date.now()),this.Zv(_o455),this.Kv(_o455),i.append(_o455);}}catch(err){_iterator1338.e(err);}finally{_iterator1338.f();}this["#items"].innerHTML="",this["#items"].append(i);}this.Nv(),this.Av(),this.Fu();}},{key:"Yv",value:function Yv(){var _iterator1339=_createForOfIteratorHelper(this["#items"].children),_step1339;try{for(_iterator1339.s();!(_step1339=_iterator1339.n()).done;){var _t2003=_step1339.value;this.Kv(_t2003);}}catch(err){_iterator1339.e(err);}finally{_iterator1339.f();}}},{key:"pv",value:function pv(){this["#search-input"].value="";var _iterator1340=_createForOfIteratorHelper(this["#items"].children),_step1340;try{for(_iterator1340.s();!(_step1340=_iterator1340.n()).done;){var _t2004=_step1340.value;this.Zv(_t2004),this.Kv(_t2004);}}catch(err){_iterator1340.e(err);}finally{_iterator1340.f();}this.Fu();}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Zv",value:function Zv(t){var e=t[mm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<gradient>",i.removeAttribute("data-custom"));else{var _t2005;_t2005=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2005?(i.textContent=_t2005.textContent,i.setAttribute("data-custom","")):(i.textContent="Gradient",i.removeAttribute("data-custom"));}}},{key:"Nv",value:function Nv(){var t=this.Py();var _iterator1341=_createForOfIteratorHelper(this["#items"].children),_step1341;try{for(_iterator1341.s();!(_step1341=_iterator1341.n()).done;){var _e1443=_step1341.value;var i=_e1443.querySelector(".counter-button"),_s710=0;var _iterator1342=_createForOfIteratorHelper(t),_step1342;try{for(_iterator1342.s();!(_step1342=_iterator1342.n()).done;){var _step1342$value=_slicedToArray(_step1342.value,2),_i1252=_step1342$value[0],_n567=_step1342$value[1];_n567.includes(_e1443[mm])&&(_s710+=1);}}catch(err){_iterator1342.e(err);}finally{_iterator1342.f();}0===_s710?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s710?"Select 1 gradient user":"Select ".concat(_s710," gradient users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s710);}}catch(err){_iterator1341.e(err);}finally{_iterator1341.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.gradients){var _iterator1343=_createForOfIteratorHelper(this["#items"].children),_step1343;try{for(_iterator1343.s();!(_step1343=_iterator1343.n()).done;){var _t2006=_step1343.value;var _e1444=_t2006[mm],i=_t2006.lastElementChild;i.hidden=!1,i.toggled=_e1444.hasAttribute("data-bx-pinned");}}catch(err){_iterator1343.e(err);}finally{_iterator1343.f();}}else{var _iterator1344=_createForOfIteratorHelper(this["#items"].children),_step1344;try{for(_iterator1344.s();!(_step1344=_iterator1344.n()).done;){var _t2007=_step1344.value;_t2007.lastElementChild.hidden=!0;}}catch(err){_iterator1344.e(err);}finally{_iterator1344.f();}}}}]);return fm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fm,"observedAttributes",["enabled"]);_defineProperty(fm,"_shadowTemplate",Qi(_templateObject393()));_defineProperty(fm,"_shadowStyleSheet",Ji(_templateObject394()));customElements.define("bx-gradientsbrowser",fm);var wm=Symbol(),vm=Symbol();var ym=/*#__PURE__*/function(_HTMLElement111){_inherits(ym,_HTMLElement111);var _super165=_createSuper(ym);_createClass(ym,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ym(){var _temp45,_this808;_classCallCheck(this,ym);(_temp45=_this808=_super165.call(this),_defineProperty(_assertThisInitialized(_this808),"commands",{selectAll:{enabled:function enabled(){return null===_this808._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this808.vv();}},deselectAll:{enabled:function enabled(){return null===_this808._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this808.kv();}}}),_temp45),_this808.Dy=is(_this808.qs,2e3,_assertThisInitialized(_this808)),_this808._v=0,_this808._shadowRoot=_this808.attachShadow({mode:"closed"}),_this808._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ym._shadowStyleSheet],_this808._shadowRoot.append(document.importNode(ym._shadowTemplate.content,!0));var _iterator1345=_createForOfIteratorHelper(_this808._shadowRoot.querySelectorAll("[id]")),_step1345;try{for(_iterator1345.s();!(_step1345=_iterator1345.n()).done;){var _t2008=_step1345.value;_this808["#"+_t2008.id]=_t2008;}}catch(err){_iterator1345.e(err);}finally{_iterator1345.f();}_this808.addEventListener("keydown",function(t){return _this808.wn(t);}),_this808["#items"].addEventListener("scroll",function(){return _this808.Cv();}),_this808["#items"].addEventListener("contextmenu",function(t){return _this808.op(t);}),_this808["#items"].addEventListener("pointerdown",function(t){return _this808.sp(t);}),_this808["#items"].addEventListener("click",function(t){return _this808.np(t);}),_this808["#search-input"].addEventListener("input",function(){return _this808.Mv();}),_this808["#developer-mode-button"].addEventListener("toggle",function(){return _this808.$u();}),_this808["#add-menu"].addEventListener("click",function(t){return _this808.Xw(t);}),_this808["#add-menu"].addEventListener("open",function(){return _this808.Pv();});return _this808;}_createClass(ym,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this809=this;this.Qs.addEventListener("configchange",this.nn=function(t){_this809.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this809.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this809.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternsbrowser:developerMode",!1),this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("artworkchange",this.yr),this["#items"].remove();}},{key:"ln",value:function ln(t){var _t$detail12=t.detail,e=_t$detail12.key,i=_t$detail12.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"al",value:function al(t){var e=t.detail,i="debounced";var _iterator1346=_createForOfIteratorHelper(e),_step1346;try{for(_iterator1346.s();!(_step1346=_iterator1346.n()).done;){var _t2009=_step1346.value;var _e1445=_t2009.target.nodeName,_s711=_t2009.addedNodes[0]?_t2009.addedNodes[0].nodeName:null,_n568=_t2009.removedNodes[0]?_t2009.removedNodes[0].nodeName:null,_o456=_t2009.attributeName;if("pattern"===_e1445){if("bx-title"===_s711||"bx-title"===_n568){i="now";break;}if("id"===_o456){i="now";break;}if("data-bx-pinned"===_o456){i="now";break;}}else if("bx-title"===_e1445){if(_s711||_n568){i="now";break;}}else if("pattern"===_s711||"pattern"===_n568){i="now";break;}}}catch(err){_iterator1346.e(err);}finally{_iterator1346.f();}"now"===i?this.qs():"debounced"===i&&this.Dy();}},{key:"Ov",value:function Ov(){this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop;}},{key:"op",value:function(){var _op4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee152(t){var e,i,_s712,_n569;return regeneratorRuntime.wrap(function _callee152$(_context154){while(1){switch(_context154.prev=_context154.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context154.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.Dv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[wm];});_s712=e[wm];_context154.next=7;return this.Qs.openContextMenu([{label:"Edit Pattern",value:"edit",disabled:1!==i.length||this.Js.board.currentWorkspace.id===_s712.id},{label:"Edit Pattern ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Pattern Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Delete Pattern"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Pattern"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Pattern"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Pattern Users",value:"select-users",disabled:1!==i.length}]);case 7:_n569=_context154.sent;"edit"===_n569?this.Js.board.editPattern(_s712.id):"edit-id"===_n569?this.$v(_s712.id,"id"):"edit-title"===_n569?this.$v(_s712.id,"title"):"delete"===_n569?this.Lv():"pin"===_n569?this.Rv():"unpin"===_n569?this.Bv():"select-users"===_n569&&this.zy(_s712.id);case 9:case"end":return _context154.stop();}}},_callee152,this);}));function op(_x180){return _op4.apply(this,arguments);}return op;}()},{key:"np",value:function np(t){t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys17=this.Qs.modKeys,e=_this$Qs$modKeys17.ctrl,i=_this$Qs$modKeys17.shift;if(!1===e&&!1===i){var _e1446=t.target.closest(".item"),_i1253=t.target.closest(".thumbnail"),_s713=t.target.closest(".counter-button"),_n570=t.target.closest(".pin-button"),_o457=_e1446[wm].id;_s713?this.zy(_o457):_n570?_n570.toggled?this.Oy(_o457):this.Ey(_o457):_i1253?t.detail%2==0&&this.Js.board.editPattern(_o457):t.detail%2==0&&this.$v(_o457);}}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1447=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1447&&this.Dv([]);}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this810=this;var _this$Qs$modKeys18=this.Qs.modKeys,e=_this$Qs$modKeys18.ctrl,i=_this$Qs$modKeys18.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[vm]=Date.now());else if(!0===i){var _t2010=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1448=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1448.length>0){var _i1254=_t2010.indexOf(s),_n571=_e1448.sort(function(t,e){return e[vm]-t[vm];})[0],_o458=_t2010.indexOf(_n571),_l358=[];if(_i1254>_o458?_l358=_toConsumableArray(_t2010).slice(_o458,_i1254+1):_i1254<_o458&&(_l358=_toConsumableArray(_t2010).slice(_i1254,_o458+1).reverse()),_l358=_l358.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l358.length>0){var _iterator1347=_createForOfIteratorHelper(_l358),_step1347;try{for(_iterator1347.s();!(_step1347=_iterator1347.n()).done;){var _t2011=_step1347.value;_t2011.setAttribute("data-selected",""),_t2011[vm]=Date.now();}}catch(err){_iterator1347.e(err);}finally{_iterator1347.f();}}}}else{var _t2014,_e1450,_i1255=!1;window.addEventListener("pointermove",_t2014=function _t2012(o){var l=new DOMPoint(o.clientX,o.clientY);if(Te(n,l)>=3){if(window.removeEventListener("pointermove",_t2014),window.removeEventListener("pointerup",_e1450),!1===s.hasAttribute("data-selected")){var _iterator1348=_createForOfIteratorHelper(_this810["#items"].children),_step1348;try{for(_iterator1348.s();!(_step1348=_iterator1348.n()).done;){var _t2013=_step1348.value;_t2013===s?(_t2013.setAttribute("data-selected",""),_t2013[vm]=Date.now()):_t2013.removeAttribute("data-selected");}}catch(err){_iterator1348.e(err);}finally{_iterator1348.f();}}_this810.sv(o),_i1255=!0;}}),window.addEventListener("pointerup",_e1450=function _e1449(){if(window.removeEventListener("pointermove",_t2014),window.removeEventListener("pointerup",_e1450),!1===_i1255){var _iterator1349=_createForOfIteratorHelper(_this810["#items"].children),_step1349;try{for(_iterator1349.s();!(_step1349=_iterator1349.n()).done;){var _t2015=_step1349.value;_t2015===s?(_t2015.setAttribute("data-selected",""),_t2015[vm]=Date.now()):_t2015.removeAttribute("data-selected");}}catch(err){_iterator1349.e(err);}finally{_iterator1349.f();}}});}}},{key:"sv",value:function sv(t){var _this811=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this811["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this811.Qs.pointerClientPoint,e=_this811._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this811._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1451=l.getBoundingClientRect();if(a=t.y<_e1451.y+_e1451.height/2?"start":"end",_this811.nv(n,l,a)){var _t2016=l.offsetTop-_this811["#items"].scrollTop;"end"===a&&(_t2016+=_e1451.height),_this811["#drop-indicator"].hidden=!1,_this811["#drop-indicator"].style.top=_t2016-1+"px";}else l=null,_this811["#drop-indicator"].hidden=!0;}else _this811["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s715){function s(_x181){return _s715.apply(this,arguments);}s.toString=function(){return _s715.toString();};return s;}(function(t){if(_this811["#items"].removeEventListener("pointermove",e),_this811["#items"].removeEventListener("scroll",i),_this811["#items"].removeEventListener("lostpointercapture",s),_this811["#items"].style.cursor=null,_this811["#drop-indicator"].hidden=!0,c(),_this811.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1452=n[0][wm],_i1256=_this811.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s714=_this811.Qs.modKeys.shift;_i1256&&k.includes(_i1256.localName)&&(_s714?(_this811.Js.board.undoManager.checkpoint("Apply pattern stroke"),_i1256.style.stroke="url(#".concat(_e1452.id,")")):(_this811.Js.board.undoManager.checkpoint("Apply pattern fill"),_i1256.style.fill="url(#".concat(_e1452.id,")")),_this811.Nv());}}else if(l){_this811.Js.board.undoManager.checkpoint("Rearrange patterns");var _t2017=document.createDocumentFragment(),_e1453=l[wm];var _iterator1350=_createForOfIteratorHelper(n),_step1350;try{for(_iterator1350.s();!(_step1350=_iterator1350.n()).done;){var _i1257=_step1350.value;_i1257[wm]!==_e1453&&_t2017.append(_i1257[wm]);}}catch(err){_iterator1350.e(err);}finally{_iterator1350.f();}"start"===a?_e1453.before(_t2017):_e1453.after(_t2017);}}));}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus"))return;var e=ao.fromEvent(t);if(e.matches("Enter")){var _t2018=this["#items"].querySelector(".item[data-label-edited]"),_e1454=this["#items"].querySelector(".item[data-selected]");_t2018?this.focus():_e1454&&this.$v(_e1454[wm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.Lv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu()||this.Vv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu()||this.jv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-patternsbrowser:developerMode",this["#developer-mode-button"].toggled),this.pv(),this.focus();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&("add-pattern"===e.value?this.Hv():"add-pattern-from-objects"===e.value&&this.Ty());}},{key:"Pv",value:function Pv(){var t=this.Js.board.selectedObjectElements;this["#add-pattern-from-objects-menu-item"].disabled=0===t.length;}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"$v",value:function $v(t){var _this812=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[wm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2019=this["#items"].querySelector(".item[data-label-edited]");if(_t2019){if(_t2019===i)return;this.qv();}}this.Dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[wm],l=this["#developer-mode-button"].toggled?"Pattern ID":"Pattern title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Qi(_templateObject53(),h,l);n.after(r),r.selectAll(),ns(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this812.qv();}),r.validate=function(){var t=null;if(_this812["#developer-mode-button"].toggled){var _e1455=r.value.trim();if(_e1455.startsWith("#")&&(_e1455=_e1455.substring(1)),0===_e1455.length)t="Pattern must have ID";else if(Xi(_e1455)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1455)))&&o.id!==_e1455&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"qv",value:function qv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1456=this.Js.board,i=t.querySelector(".label"),_s716=t.querySelector("x-input"),_n572=t[wm];if(_s716.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s716.error)if(this["#developer-mode-button"].toggled){var _t2020=_n572.getAttribute("id").trim(),_i1258=_s716.value.trim().toLowerCase();if(_i1258.startsWith("#")&&(_i1258=_i1258.substring(1)),_t2020!==_i1258){_e1456.undoManager.checkpoint("Pattern ID");var _s717=document.createNodeIterator(_e1456.workspaces,NodeFilter.SHOW_ELEMENT),_n573=null;for(;_n573=_s717.nextNode();){"pattern"===_n573.localName?(_n573.id===_t2020&&_n573.setAttribute("id",_i1258),_n573.href.baseVal==="#"+_t2020&&_n573.setAttribute("href","#"+_i1258)):"g"===_n573.localName&&"pattern"===_n573.getAttribute("data-bx-workspace")&&_n573.id===_t2020&&_n573.setAttribute("id",_i1258);{var _e1457=getComputedStyle(_n573);for(var _i1259=0,_arr55=["fill","stroke"];_i1259<_arr55.length;_i1259++){var _s718=_arr55[_i1259];var _o459=_e1457.getPropertyValue(_s718);if(_o459&&_o459.startsWith("url(")){_o459.substring(6,_o459.length-2)===_t2020&&_n573.style.setProperty(_s718,"url(#".concat(_i1258,")"));}}}}}}else{var _t2021=_e1456.currentWorkspace.id===_n572.id?_e1456.currentWorkspace:_n572,_i1260=_t2021.querySelector(":scope > bx-title"),_o460=_s716.value.trim();if(_i1260){_i1260.textContent!==_o460&&(_e1456.undoManager.checkpoint("Pattern title"),""===_o460?_i1260.remove():_i1260.textContent=_o460);}else""!==_o460&&(_e1456.undoManager.checkpoint("Pattern title"),_i1260=Ii("svg:bx-title"),_i1260.textContent=_o460,_t2021.prepend(_i1260));}}}},{key:"Oy",value:function Oy(t){this.Js.board.undoManager.checkpoint("Pin Pattern"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Ey",value:function Ey(t){this.Js.board.undoManager.checkpoint("Unpin Pattern"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"Dv",value:function Dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1351=_createForOfIteratorHelper(this["#items"].children),_step1351;try{for(_iterator1351.s();!(_step1351=_iterator1351.n()).done;){var _e1458=_step1351.value;t.includes(_e1458)?(_e1458.setAttribute("data-selected",""),_e1458[vm]=Date.now()):_e1458.removeAttribute("data-selected");}}catch(err){_iterator1351.e(err);}finally{_iterator1351.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s719=e[0],_n574=i.indexOf(_s719),_o461=i[_n574-1];if(_o461){if(_o461.scrollIntoViewIfNeeded(),t)_o461.setAttribute("data-selected",""),_o461[vm]=Date.now();else{var _iterator1352=_createForOfIteratorHelper(i),_step1352;try{for(_iterator1352.s();!(_step1352=_iterator1352.n()).done;){var _t2022=_step1352.value;_t2022===_o461?(_t2022.setAttribute("data-selected",""),_t2022[vm]=Date.now()):_t2022.removeAttribute("data-selected");}}catch(err){_iterator1352.e(err);}finally{_iterator1352.f();}}return!0;}}return!1;}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s720=e[e.length-1],_n575=i.indexOf(_s720),_o462=i[_n575+1];if(_o462){if(_o462.scrollIntoViewIfNeeded(),t)_o462.setAttribute("data-selected",""),_o462[vm]=Date.now();else{var _iterator1353=_createForOfIteratorHelper(i),_step1353;try{for(_iterator1353.s();!(_step1353=_iterator1353.n()).done;){var _t2023=_step1353.value;_t2023===_o462?(_t2023.setAttribute("data-selected",""),_t2023[vm]=Date.now()):_t2023.removeAttribute("data-selected");}}catch(err){_iterator1353.e(err);}finally{_iterator1353.f();}}return!0;}}return!1;}},{key:"Vv",value:function Vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1354=_createForOfIteratorHelper(t),_step1354;try{for(_iterator1354.s();!(_step1354=_iterator1354.n()).done;){var i=_step1354.value;i===e?(i.setAttribute("data-selected",""),i[vm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1354.e(err);}finally{_iterator1354.f();}return!0;}return!1;}},{key:"jv",value:function jv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1355=_createForOfIteratorHelper(t),_step1355;try{for(_iterator1355.s();!(_step1355=_iterator1355.n()).done;){var i=_step1355.value;i===e?(i.setAttribute("data-selected",""),i[vm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1355.e(err);}finally{_iterator1355.f();}return!0;}return!1;}},{key:"vv",value:function vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.Dv(t,!1);}},{key:"kv",value:function kv(){this.Dv([],!1);}},{key:"Hv",value:function Hv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=Ii("svg:pattern");if(i.setAttribute("id",t.generateUniqueID("pattern")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100"),i.setAttribute("height","100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][wm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[wm]===i;});this.Dv([s]);}},{key:"Ty",value:function Ty(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=We(t.outermostSelectedObjectElements.map(function(t){return Ti(t);}));i=He(i,qt(t.currentWorkspace).inverse());var s=-i.x,n=-i.y,o=tt(i.width,4),l=tt(i.height,4),a=Ii("svg:pattern");a.setAttribute("id",t.generateUniqueID("pattern")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("width","100"),a.setAttribute("height","100"),a.setAttribute("data-bx-pinned","true");var _iterator1356=_createForOfIteratorHelper(Vi(t.outermostSelectedObjectElements)),_step1356;try{for(_iterator1356.s();!(_step1356=_iterator1356.n()).done;){var _e1459=_step1356.value;var _i1261=new DOMMatrix();_i1261.translateSelf(s,n),_i1261.multiplySelf(Yt(_e1459,t.currentWorkspace)),_e1459.setAttribute("transform",_i1261),a.append(_e1459);}}catch(err){_iterator1356.e(err);}finally{_iterator1356.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][wm].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[wm]===a;});this.Dv([h]);}},{key:"Lv",value:function(){var _Lv3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee153(){var t,e,i,_iterator1357,_step1357,_step1357$value,_t2027,_s725,_iterator1359,_step1359,_n577,_t2024,_s721,_i1262,_s722,_i1263,_i1264,_arr56,_n576,_o463,_l359,_a266,_h214,_i1265,_s723,_iterator1358,_step1358,_t2026,_i1266,_s724,_t2025;return regeneratorRuntime.wrap(function _callee153$(_context155){while(1){switch(_context155.prev=_context155.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[wm];}),i=[];_iterator1357=_createForOfIteratorHelper(this.Ay());try{for(_iterator1357.s();!(_step1357=_iterator1357.n()).done;){_step1357$value=_slicedToArray(_step1357.value,2),_t2027=_step1357$value[0],_s725=_step1357$value[1];_iterator1359=_createForOfIteratorHelper(_s725);try{for(_iterator1359.s();!(_step1359=_iterator1359.n()).done;){_n577=_step1359.value;e.includes(_n577)&&!1===i.includes(_t2027)&&i.push(_t2027);}}catch(err){_iterator1359.e(err);}finally{_iterator1359.f();}}}catch(err){_iterator1357.e(err);}finally{_iterator1357.f();}if(!(0!==e.length)){_context155.next=19;break;}if(!(i.length>0)){_context155.next=12;break;}_t2024="Delete ";1===e.length?_t2024+="a pattern":_t2024+="".concat(e.length," patterns"),_t2024+=" applied to ",1===i.length?_t2024+="1 object?":_t2024+="".concat(i.length," objects?");_context155.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2024,detail:"Deleting a pattern also removes it from all objects it was applied to."});case 9:_s721=_context155.sent;if(!(-1===_s721||1===_s721)){_context155.next=12;break;}return _context155.abrupt("return");case 12:t.undoManager.checkpoint("Delete patterns"),this.Vu()||this.Nu(),"pattern"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editPatternEnd(!1);_i1262=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s722=null;for(;_s722=_i1262.nextNode();){if(k.includes(_s722.localName)){_i1263=getComputedStyle(_s722);for(_i1264=0,_arr56=["fill","stroke"];_i1264<_arr56.length;_i1264++){_n576=_arr56[_i1264];_o463=co.fromString(_i1263[_n576]),_l359=_o463?t.masterWorkspace.querySelector(_o463.value):null,_a266=_l359&&"pattern"===_l359.localName?_l359:null,_h214=_a266?Ho(_a266):null;e.includes(_h214)&&(_s722.style[_n576]="#000000",_s722.removeAttribute(_n576));}}}_i1265=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern")),_s723=[];_iterator1358=_createForOfIteratorHelper(_i1265);try{for(_iterator1358.s();!(_step1358=_iterator1358.n()).done;){_t2026=_step1358.value;(e.includes(_t2026)||e.includes(Ho(_t2026)))&&_s723.push(_t2026);}}catch(err){_iterator1358.e(err);}finally{_iterator1358.f();}for(_i1266=0,_s724=_s723;_i1266<_s724.length;_i1266++){_t2025=_s724[_i1266];_t2025.remove();}case 19:case"end":return _context155.stop();}}},_callee153,this);}));function Lv(){return _Lv3.apply(this,arguments);}return Lv;}()},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[wm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin pattern"+e.length>1?"s":"");var _iterator1360=_createForOfIteratorHelper(e),_step1360;try{for(_iterator1360.s();!(_step1360=_iterator1360.n()).done;){var _t2028=_step1360.value;_t2028.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1360.e(err);}finally{_iterator1360.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[wm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin pattern"+e.length>1?"s":"");var _iterator1361=_createForOfIteratorHelper(e),_step1361;try{for(_iterator1361.s();!(_step1361=_iterator1361.n()).done;){var _t2029=_step1361.value;_t2029.removeAttribute("data-bx-pinned");}}catch(err){_iterator1361.e(err);}finally{_iterator1361.f();}}}},{key:"nv",value:function nv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s726=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n578=t[0],_o464=_s726.indexOf(e);if("start"===i){if(_s726[_o464-1]===_n578)return!1;}else if("end"===i){if(_s726[_o464+1]===_n578)return!1;}}return!0;}},{key:"zy",value:function zy(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1267=getComputedStyle(s);for(var _i1268=0,_arr57=["fill","stroke"];_i1268<_arr57.length;_i1268++){var _o465=_arr57[_i1268];var _l360=co.fromString(_i1267[_o465]),_a267=_l360?e.masterWorkspace.querySelector(_l360.value):null,_h215=_a267&&"pattern"===_a267.localName?_a267:null,_r148=_h215?Ho(_h215):null;if(_r148&&_r148.id===t){var _t2030=s.closest("text");_t2030?!1===n.includes(_t2030)&&n.push(_t2030):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Ay",value:function Ay(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1269=getComputedStyle(s);for(var _i1270=0,_arr58=["fill","stroke"];_i1270<_arr58.length;_i1270++){var _n579=_arr58[_i1270];var _o466=co.fromString(_i1269[_n579]),_l361=_o466?t.masterWorkspace.querySelector(_o466.value):null,_a268=_l361&&"pattern"===_l361.localName?_l361:null,_h216=_a268?Ho(_a268):null;_h216&&(!1===e.has(s)?e.set(s,[_h216]):e.get(s).push(_h216));}}}return e;}},{key:"qs",value:function qs(){{var _t2031=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return Yo(t);}),_e1460=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[wm];}),i=document.createDocumentFragment();var _iterator1362=_createForOfIteratorHelper(_t2031),_step1362;try{for(_iterator1362.s();!(_step1362=_iterator1362.n()).done;){var _s727=_step1362.value;var _t2032=Qi(_templateObject54(),_s727.id,_s727.id);_t2032[wm]=_s727,_e1460.includes(_s727)&&(_t2032.setAttribute("data-selected",""),_t2032[vm]=Date.now()),this.Zv(_t2032),this.Kv(_t2032),i.append(_t2032);}}catch(err){_iterator1362.e(err);}finally{_iterator1362.f();}this["#items"].innerHTML="",this["#items"].append(i);}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this.Nv(),this.Av(),this.Fu();}},{key:"Yv",value:function Yv(){var _iterator1363=_createForOfIteratorHelper(this["#items"].children),_step1363;try{for(_iterator1363.s();!(_step1363=_iterator1363.n()).done;){var _t2033=_step1363.value;this.Kv(_t2033);}}catch(err){_iterator1363.e(err);}finally{_iterator1363.f();}}},{key:"pv",value:function pv(){this["#search-input"].value="";var _iterator1364=_createForOfIteratorHelper(this["#items"].children),_step1364;try{for(_iterator1364.s();!(_step1364=_iterator1364.n()).done;){var _t2034=_step1364.value;this.Zv(_t2034),this.Kv(_t2034);}}catch(err){_iterator1364.e(err);}finally{_iterator1364.f();}this.Fu();}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Zv",value:function Zv(t){var e=t[wm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<pattern>",i.removeAttribute("data-custom"));else{var _t2035;_t2035=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2035?(i.textContent=_t2035.textContent,i.setAttribute("data-custom","")):(i.textContent="Pattern",i.removeAttribute("data-custom"));}}},{key:"Nv",value:function Nv(){var t=this.Ay();var _iterator1365=_createForOfIteratorHelper(this["#items"].children),_step1365;try{for(_iterator1365.s();!(_step1365=_iterator1365.n()).done;){var _e1461=_step1365.value;var i=_e1461.querySelector(".counter-button"),_s728=0;var _iterator1366=_createForOfIteratorHelper(t),_step1366;try{for(_iterator1366.s();!(_step1366=_iterator1366.n()).done;){var _step1366$value=_slicedToArray(_step1366.value,2),_i1271=_step1366$value[0],_n580=_step1366$value[1];_n580.includes(_e1461[wm])&&(_s728+=1);}}catch(err){_iterator1366.e(err);}finally{_iterator1366.f();}0===_s728?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s728?"Select 1 pattern user":"Select ".concat(_s728," pattern users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s728);}}catch(err){_iterator1365.e(err);}finally{_iterator1365.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.patterns){var _iterator1367=_createForOfIteratorHelper(this["#items"].children),_step1367;try{for(_iterator1367.s();!(_step1367=_iterator1367.n()).done;){var _t2036=_step1367.value;var _e1462=_t2036[wm],i=_t2036.lastElementChild;i.hidden=!1,i.toggled=_e1462.hasAttribute("data-bx-pinned");}}catch(err){_iterator1367.e(err);}finally{_iterator1367.f();}}else{var _iterator1368=_createForOfIteratorHelper(this["#items"].children),_step1368;try{for(_iterator1368.s();!(_step1368=_iterator1368.n()).done;){var _t2037=_step1368.value;_t2037.lastElementChild.hidden=!0;}}catch(err){_iterator1368.e(err);}finally{_iterator1368.f();}}}}]);return ym;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ym,"observedAttributes",["enabled"]);_defineProperty(ym,"_shadowTemplate",Qi(_templateObject395()));_defineProperty(ym,"_shadowStyleSheet",Ji(_templateObject396()));customElements.define("bx-patternsbrowser",ym);var km=Symbol(),Sm=Symbol();var _m=/*#__PURE__*/function(_HTMLElement112){_inherits(_m,_HTMLElement112);var _super166=_createSuper(_m);_createClass(_m,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function _m(){var _temp46,_this813;_classCallCheck(this,_m);(_temp46=_this813=_super166.call(this),_defineProperty(_assertThisInitialized(_this813),"commands",{selectAll:{enabled:function enabled(){return null===_this813._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this813.vv();}},deselectAll:{enabled:function enabled(){return null===_this813._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this813.kv();}}}),_temp46),_this813.Dy=is(_this813.qs,2e3,_assertThisInitialized(_this813)),_this813._v=0,_this813._shadowRoot=_this813.attachShadow({mode:"closed"}),_this813._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,_m._shadowStyleSheet],_this813._shadowRoot.append(document.importNode(_m._shadowTemplate.content,!0));var _iterator1369=_createForOfIteratorHelper(_this813._shadowRoot.querySelectorAll("[id]")),_step1369;try{for(_iterator1369.s();!(_step1369=_iterator1369.n()).done;){var _t2038=_step1369.value;_this813["#"+_t2038.id]=_t2038;}}catch(err){_iterator1369.e(err);}finally{_iterator1369.f();}_this813.addEventListener("keydown",function(t){return _this813.wn(t);}),_this813["#items"].addEventListener("scroll",function(){return _this813.Cv();}),_this813["#items"].addEventListener("contextmenu",function(t){return _this813.op(t);}),_this813["#items"].addEventListener("pointerdown",function(t){return _this813.sp(t);}),_this813["#items"].addEventListener("click",function(t){return _this813.np(t);}),_this813["#search-input"].addEventListener("input",function(){return _this813.Mv();}),_this813["#developer-mode-button"].addEventListener("toggle",function(){return _this813.$u();}),_this813["#add-menu"].addEventListener("click",function(t){return _this813.Xw(t);}),_this813["#add-menu"].addEventListener("open",function(){return _this813.Pv();});return _this813;}_createClass(_m,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this814=this;this.Qs.addEventListener("configchange",this.nn=function(t){_this814.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this814.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this814.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-markersbrowser:developerMode",!1),this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("artworkchange",this.yr),this["#items"].remove();}},{key:"ln",value:function ln(t){var _t$detail13=t.detail,e=_t$detail13.key,i=_t$detail13.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"al",value:function al(t){var e=t.detail,i="debounced";var _iterator1370=_createForOfIteratorHelper(e),_step1370;try{for(_iterator1370.s();!(_step1370=_iterator1370.n()).done;){var _t2039=_step1370.value;var _e1463=_t2039.target.nodeName,_s729=_t2039.addedNodes[0]?_t2039.addedNodes[0].nodeName:null,_n581=_t2039.removedNodes[0]?_t2039.removedNodes[0].nodeName:null,_o467=_t2039.attributeName;if("marker"===_e1463){if("bx-title"===_s729||"bx-title"===_n581){i="now";break;}if("id"===_o467){i="now";break;}if("data-bx-pinned"===_o467){i="now";break;}}else if("bx-title"===_e1463){if(_s729||_n581){i="now";break;}}else if("marker"===_s729||"marker"===_n581){i="now";break;}}}catch(err){_iterator1370.e(err);}finally{_iterator1370.f();}"now"===i?this.qs():"debounced"===i&&this.Dy();}},{key:"Ov",value:function Ov(){this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop;}},{key:"op",value:function(){var _op5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee154(t){var e,i,_s730,_n582;return regeneratorRuntime.wrap(function _callee154$(_context156){while(1){switch(_context156.prev=_context156.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context156.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.Dv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[km];});_s730=e[km];_context156.next=7;return this.Qs.openContextMenu([{label:"Edit Marker",value:"edit",disabled:1!==i.length||this.Js.board.currentWorkspace.id===_s730.id},{label:"Edit Marker ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Marker Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Delete Marker"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Marker"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Marker"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Marker Users",value:"select-users",disabled:1!==i.length}]);case 7:_n582=_context156.sent;"edit"===_n582?this.Js.board.editMarker(_s730.id):"edit-id"===_n582?this.$v(_s730.id,"id"):"edit-title"===_n582?this.$v(_s730.id,"title"):"delete"===_n582?this.Lv():"pin"===_n582?this.Rv():"unpin"===_n582?this.Bv():"select-users"===_n582&&this.$y(_s730.id);case 9:case"end":return _context156.stop();}}},_callee154,this);}));function op(_x182){return _op5.apply(this,arguments);}return op;}()},{key:"np",value:function np(t){t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys19=this.Qs.modKeys,e=_this$Qs$modKeys19.ctrl,i=_this$Qs$modKeys19.shift;if(!1===e&&!1===i){var _e1464=t.target.closest(".item"),_i1272=t.target.closest(".thumbnail"),_s731=t.target.closest(".counter-button"),_n583=t.target.closest(".pin-button"),_o468=_e1464[km].id;_s731?this.$y(_o468):_n583?_n583.toggled?this.Iy(_o468):this.Ly(_o468):_i1272?t.detail%2==0&&this.Js.board.editMarker(_o468):t.detail%2==0&&this.$v(_o468);}}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1465=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1465&&this.Dv([]);}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this815=this;var _this$Qs$modKeys20=this.Qs.modKeys,e=_this$Qs$modKeys20.ctrl,i=_this$Qs$modKeys20.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Sm]=Date.now());else if(!0===i){var _t2040=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1466=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1466.length>0){var _i1273=_t2040.indexOf(s),_n584=_e1466.sort(function(t,e){return e[Sm]-t[Sm];})[0],_o469=_t2040.indexOf(_n584),_l362=[];if(_i1273>_o469?_l362=_toConsumableArray(_t2040).slice(_o469,_i1273+1):_i1273<_o469&&(_l362=_toConsumableArray(_t2040).slice(_i1273,_o469+1).reverse()),_l362=_l362.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l362.length>0){var _iterator1371=_createForOfIteratorHelper(_l362),_step1371;try{for(_iterator1371.s();!(_step1371=_iterator1371.n()).done;){var _t2041=_step1371.value;_t2041.setAttribute("data-selected",""),_t2041[Sm]=Date.now();}}catch(err){_iterator1371.e(err);}finally{_iterator1371.f();}}}}else{var _t2044,_e1468,_i1274=!1;window.addEventListener("pointermove",_t2044=function _t2042(o){var l=new DOMPoint(o.clientX,o.clientY);if(Te(n,l)>=3){if(window.removeEventListener("pointermove",_t2044),window.removeEventListener("pointerup",_e1468),!1===s.hasAttribute("data-selected")){var _iterator1372=_createForOfIteratorHelper(_this815["#items"].children),_step1372;try{for(_iterator1372.s();!(_step1372=_iterator1372.n()).done;){var _t2043=_step1372.value;_t2043===s?(_t2043.setAttribute("data-selected",""),_t2043[Sm]=Date.now()):_t2043.removeAttribute("data-selected");}}catch(err){_iterator1372.e(err);}finally{_iterator1372.f();}}_this815.sv(o),_i1274=!0;}}),window.addEventListener("pointerup",_e1468=function _e1467(){if(window.removeEventListener("pointermove",_t2044),window.removeEventListener("pointerup",_e1468),!1===_i1274){var _iterator1373=_createForOfIteratorHelper(_this815["#items"].children),_step1373;try{for(_iterator1373.s();!(_step1373=_iterator1373.n()).done;){var _t2045=_step1373.value;_t2045===s?(_t2045.setAttribute("data-selected",""),_t2045[Sm]=Date.now()):_t2045.removeAttribute("data-selected");}}catch(err){_iterator1373.e(err);}finally{_iterator1373.f();}}});}}},{key:"sv",value:function sv(t){var _this816=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this816["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this816.Qs.pointerClientPoint,e=_this816._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this816._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1469=l.getBoundingClientRect();if(a=t.y<_e1469.y+_e1469.height/2?"start":"end",_this816.nv(n,l,a)){var _t2046=l.offsetTop-_this816["#items"].scrollTop;"end"===a&&(_t2046+=_e1469.height),_this816["#drop-indicator"].hidden=!1,_this816["#drop-indicator"].style.top=_t2046-1+"px";}else l=null,_this816["#drop-indicator"].hidden=!0;}else _this816["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s732){function s(_x183){return _s732.apply(this,arguments);}s.toString=function(){return _s732.toString();};return s;}(function(t){if(_this816["#items"].removeEventListener("pointermove",e),_this816["#items"].removeEventListener("scroll",i),_this816["#items"].removeEventListener("lostpointercapture",s),_this816["#items"].style.cursor=null,_this816["#drop-indicator"].hidden=!0,c(),_this816.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1470=n[0][km],_i1275=_this816.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1275&&T.includes(_i1275.localName)&&(_this816.Js.board.undoManager.checkpoint("Apply marker"),_i1275.style.markerMid="url(#".concat(_e1470.id,")"),_this816.Nv());}}else if(l){_this816.Js.board.undoManager.checkpoint("Rearrange markers");var _t2047=document.createDocumentFragment(),_e1471=l[km];var _iterator1374=_createForOfIteratorHelper(n),_step1374;try{for(_iterator1374.s();!(_step1374=_iterator1374.n()).done;){var _i1276=_step1374.value;_i1276[km]!==_e1471&&_t2047.append(_i1276[km]);}}catch(err){_iterator1374.e(err);}finally{_iterator1374.f();}"start"===a?_e1471.before(_t2047):_e1471.after(_t2047);}}));}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus"))return;var e=ao.fromEvent(t);if(e.matches("Enter")){var _t2048=this["#items"].querySelector(".item[data-label-edited]"),_e1472=this["#items"].querySelector(".item[data-selected]");_t2048?this.focus():_e1472&&this.$v(_e1472[km].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.Lv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu()||this.Vv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu()||this.jv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-markersbrowser:developerMode",this["#developer-mode-button"].toggled),this.pv(),this.focus();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&("add-marker"===e.value?this.Hv():"add-marker-from-objects"===e.value&&this.Ty());}},{key:"Pv",value:function Pv(){var t=this.Js.board.selectedObjectElements;this["#add-marker-from-objects-menu-item"].disabled=0===t.length;}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"$v",value:function $v(t){var _this817=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[km].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2049=this["#items"].querySelector(".item[data-label-edited]");if(_t2049){if(_t2049===i)return;this.qv();}}this.Dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[km],l=this["#developer-mode-button"].toggled?"Marker ID":"Marker title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Qi(_templateObject55(),h,l);n.after(r),r.selectAll(),ns(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this817.qv();}),r.validate=function(){var t=null;if(_this817["#developer-mode-button"].toggled){var _e1473=r.value.trim();if(_e1473.startsWith("#")&&(_e1473=_e1473.substring(1)),0===_e1473.length)t="Marker must have ID";else if(Xi(_e1473)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1473)))&&o.id!==_e1473&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"qv",value:function qv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1474=this.Js.board,i=t.querySelector(".label"),_s733=t.querySelector("x-input"),_n585=t[km];if(_s733.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s733.error)if(this["#developer-mode-button"].toggled){var _t2050=_n585.getAttribute("id").trim(),_i1277=_s733.value.trim().toLowerCase();if(_i1277.startsWith("#")&&(_i1277=_i1277.substring(1)),_t2050!==_i1277){_e1474.undoManager.checkpoint("Marker ID");var _s734=document.createNodeIterator(_e1474.workspaces,NodeFilter.SHOW_ELEMENT),_n586=null;for(;_n586=_s734.nextNode();){"marker"===_n586.localName?_n586.id===_t2050&&_n586.setAttribute("id",_i1277):"g"===_n586.localName&&"marker"===_n586.getAttribute("data-bx-workspace")&&_n586.id===_t2050&&_n586.setAttribute("id",_i1277);{var _e1475=getComputedStyle(_n586);for(var _i1278=0,_arr59=["marker-start","marker-mid","marker-end"];_i1278<_arr59.length;_i1278++){var _s735=_arr59[_i1278];var _o470=_e1475.getPropertyValue(_s735);if(_o470&&_o470.startsWith("url(")){_o470.substring(6,_o470.length-2)===_t2050&&_n586.style.setProperty(_s735,"url(#".concat(_i1277,")"));}}}}}}else{var _t2051=_e1474.currentWorkspace.id===_n585.id?_e1474.currentWorkspace:_n585,_i1279=_t2051.querySelector(":scope > bx-title"),_o471=_s733.value.trim();if(_i1279){_i1279.textContent!==_o471&&(_e1474.undoManager.checkpoint("Marker title"),""===_o471?_i1279.remove():_i1279.textContent=_o471);}else""!==_o471&&(_e1474.undoManager.checkpoint("Marker title"),_i1279=Ii("svg:bx-title"),_i1279.textContent=_o471,_t2051.prepend(_i1279));}}}},{key:"Iy",value:function Iy(t){this.Js.board.undoManager.checkpoint("Pin Marker"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Ly",value:function Ly(t){this.Js.board.undoManager.checkpoint("Unpin Marker"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"Dv",value:function Dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1375=_createForOfIteratorHelper(this["#items"].children),_step1375;try{for(_iterator1375.s();!(_step1375=_iterator1375.n()).done;){var _e1476=_step1375.value;t.includes(_e1476)?(_e1476.setAttribute("data-selected",""),_e1476[Sm]=Date.now()):_e1476.removeAttribute("data-selected");}}catch(err){_iterator1375.e(err);}finally{_iterator1375.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s736=e[0],_n587=i.indexOf(_s736),_o472=i[_n587-1];if(_o472){if(_o472.scrollIntoViewIfNeeded(),t)_o472.setAttribute("data-selected",""),_o472[Sm]=Date.now();else{var _iterator1376=_createForOfIteratorHelper(i),_step1376;try{for(_iterator1376.s();!(_step1376=_iterator1376.n()).done;){var _t2052=_step1376.value;_t2052===_o472?(_t2052.setAttribute("data-selected",""),_t2052[Sm]=Date.now()):_t2052.removeAttribute("data-selected");}}catch(err){_iterator1376.e(err);}finally{_iterator1376.f();}}return!0;}}return!1;}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s737=e[e.length-1],_n588=i.indexOf(_s737),_o473=i[_n588+1];if(_o473){if(_o473.scrollIntoViewIfNeeded(),t)_o473.setAttribute("data-selected",""),_o473[Sm]=Date.now();else{var _iterator1377=_createForOfIteratorHelper(i),_step1377;try{for(_iterator1377.s();!(_step1377=_iterator1377.n()).done;){var _t2053=_step1377.value;_t2053===_o473?(_t2053.setAttribute("data-selected",""),_t2053[Sm]=Date.now()):_t2053.removeAttribute("data-selected");}}catch(err){_iterator1377.e(err);}finally{_iterator1377.f();}}return!0;}}return!1;}},{key:"Vv",value:function Vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1378=_createForOfIteratorHelper(t),_step1378;try{for(_iterator1378.s();!(_step1378=_iterator1378.n()).done;){var i=_step1378.value;i===e?(i.setAttribute("data-selected",""),i[Sm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1378.e(err);}finally{_iterator1378.f();}return!0;}return!1;}},{key:"jv",value:function jv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1379=_createForOfIteratorHelper(t),_step1379;try{for(_iterator1379.s();!(_step1379=_iterator1379.n()).done;){var i=_step1379.value;i===e?(i.setAttribute("data-selected",""),i[Sm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1379.e(err);}finally{_iterator1379.f();}return!0;}return!1;}},{key:"vv",value:function vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.Dv(t,!1);}},{key:"kv",value:function kv(){this.Dv([],!1);}},{key:"Hv",value:function Hv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=Ii("svg:marker");if(i.setAttribute("id",t.generateUniqueID("marker")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto"),i.setAttribute("refX","50"),i.setAttribute("refY","50"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][km].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[km]===i;});this.Dv([s]);}},{key:"Ty",value:function Ty(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=We(t.outermostSelectedObjectElements.map(function(t){return Ti(t);}));i=He(i,qt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=tt(i.width,4),l=tt(i.height,4),a=Ii("svg:marker");a.setAttribute("id",t.generateUniqueID("marker")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("overflow","visible"),a.setAttribute("orient","auto"),a.setAttribute("refX",tt(o/2,2)),a.setAttribute("refY",tt(l/2,2)),a.setAttribute("data-bx-pinned","true");var _iterator1380=_createForOfIteratorHelper(Vi(t.outermostSelectedObjectElements)),_step1380;try{for(_iterator1380.s();!(_step1380=_iterator1380.n()).done;){var _e1477=_step1380.value;var _i1280=new DOMMatrix();_i1280.translateSelf(s,n),_i1280.multiplySelf(Yt(_e1477,t.vectorCanvas)),_e1477.setAttribute("transform",_i1280),a.append(_e1477);}}catch(err){_iterator1380.e(err);}finally{_iterator1380.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][km].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[km]===a;});this.Dv([h]);}},{key:"Lv",value:function(){var _Lv4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee155(){var t,e,i,_iterator1381,_step1381,_step1381$value,_t2056,_s740,_iterator1383,_step1383,_n590,_t2054,_s738,_i1281,_s739,_i1282,_i1283,_arr60,_n589,_o474,_l363,_a269,_iterator1382,_step1382,_t2055;return regeneratorRuntime.wrap(function _callee155$(_context157){while(1){switch(_context157.prev=_context157.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[km];}),i=[];_iterator1381=_createForOfIteratorHelper(this.Ry());try{for(_iterator1381.s();!(_step1381=_iterator1381.n()).done;){_step1381$value=_slicedToArray(_step1381.value,2),_t2056=_step1381$value[0],_s740=_step1381$value[1];_iterator1383=_createForOfIteratorHelper(_s740);try{for(_iterator1383.s();!(_step1383=_iterator1383.n()).done;){_n590=_step1383.value;e.includes(_n590)&&!1===i.includes(_t2056)&&i.push(_t2056);}}catch(err){_iterator1383.e(err);}finally{_iterator1383.f();}}}catch(err){_iterator1381.e(err);}finally{_iterator1381.f();}if(!(0!==e.length)){_context157.next=17;break;}if(!(i.length>0)){_context157.next=12;break;}_t2054="Delete ";1===e.length?_t2054+="a marker":_t2054+="".concat(e.length," markers"),_t2054+=" applied to ",1===i.length?_t2054+="1 object?":_t2054+="".concat(i.length," objects?");_context157.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2054,detail:"Deleting a marker also removes it from all objects it was applied to."});case 9:_s738=_context157.sent;if(!(-1===_s738||1===_s738)){_context157.next=12;break;}return _context157.abrupt("return");case 12:t.undoManager.checkpoint("Delete markers"),this.Vu()||this.Nu(),"marker"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editMarkerEnd(!1);_i1281=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s739=null;for(;_s739=_i1281.nextNode();){if(T.includes(_s739.localName)){_i1282=getComputedStyle(_s739);for(_i1283=0,_arr60=["marker-start","marker-mid","marker-end"];_i1283<_arr60.length;_i1283++){_n589=_arr60[_i1283];_o474=co.fromString(_i1282[_n589]),_l363=_o474?t.masterWorkspace.querySelector(_o474.value):null,_a269=_l363&&"marker"===_l363.localName?_l363:null;_a269&&e.includes(_a269)&&(_s739.style.removeProperty(_n589),_s739.removeAttribute(_n589));}}}_iterator1382=_createForOfIteratorHelper(e);try{for(_iterator1382.s();!(_step1382=_iterator1382.n()).done;){_t2055=_step1382.value;_t2055.remove();}}catch(err){_iterator1382.e(err);}finally{_iterator1382.f();}case 17:case"end":return _context157.stop();}}},_callee155,this);}));function Lv(){return _Lv4.apply(this,arguments);}return Lv;}()},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[km];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin marker"+e.length>1?"s":"");var _iterator1384=_createForOfIteratorHelper(e),_step1384;try{for(_iterator1384.s();!(_step1384=_iterator1384.n()).done;){var _t2057=_step1384.value;_t2057.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1384.e(err);}finally{_iterator1384.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[km];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin marker"+e.length>1?"s":"");var _iterator1385=_createForOfIteratorHelper(e),_step1385;try{for(_iterator1385.s();!(_step1385=_iterator1385.n()).done;){var _t2058=_step1385.value;_t2058.removeAttribute("data-bx-pinned");}}catch(err){_iterator1385.e(err);}finally{_iterator1385.f();}}}},{key:"nv",value:function nv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s741=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n591=t[0],_o475=_s741.indexOf(e);if("start"===i){if(_s741[_o475-1]===_n591)return!1;}else if("end"===i){if(_s741[_o475+1]===_n591)return!1;}}return!0;}},{key:"$y",value:function $y(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(T.includes(s.localName)){var _i1284=getComputedStyle(s);for(var _i1285=0,_arr61=["marker-start","marker-mid","marker-end"];_i1285<_arr61.length;_i1285++){var _o476=_arr61[_i1285];var _l364=co.fromString(_i1284[_o476]),_a270=_l364?e.masterWorkspace.querySelector(_l364.value):null,_h217=_a270&&"marker"===_a270.localName?_a270:null;if(_h217&&_h217.id===t){var _t2059=s.closest("text");_t2059?!1===n.includes(_t2059)&&n.push(_t2059):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Ry",value:function Ry(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(T.includes(s.localName)){var _i1286=getComputedStyle(s);for(var _i1287=0,_arr62=["marker-start","marker-mid","marker-end"];_i1287<_arr62.length;_i1287++){var _n592=_arr62[_i1287];var _o477=co.fromString(_i1286[_n592]),_l365=_o477?t.masterWorkspace.querySelector(_o477.value):null,_a271=_l365&&"marker"===_l365.localName?_l365:null;_a271&&(!1===e.has(s)?e.set(s,[_a271]):e.get(s).push(_a271));}}}return e;}},{key:"qs",value:function qs(){{var _t2060=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),_e1478=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[km];}),i=document.createDocumentFragment();var _iterator1386=_createForOfIteratorHelper(_t2060),_step1386;try{for(_iterator1386.s();!(_step1386=_iterator1386.n()).done;){var _s742=_step1386.value;var _t2061=_s742.hasAttribute("viewBox")?"viewBox=\"".concat(_s742.getAttribute("viewBox"),"\""):"",_n593=Qi(_templateObject56(),_t2061,_s742.innerHTML,_s742.id);_n593[km]=_s742,_e1478.includes(_s742)&&(_n593.setAttribute("data-selected",""),_n593[Sm]=Date.now()),this.Zv(_n593),this.Kv(_n593),i.append(_n593);}}catch(err){_iterator1386.e(err);}finally{_iterator1386.f();}this["#items"].innerHTML="",this["#items"].append(i);}this.Nv(),this.Av(),this.Fu();}},{key:"Yv",value:function Yv(){var _iterator1387=_createForOfIteratorHelper(this["#items"].children),_step1387;try{for(_iterator1387.s();!(_step1387=_iterator1387.n()).done;){var _t2062=_step1387.value;this.Kv(_t2062);}}catch(err){_iterator1387.e(err);}finally{_iterator1387.f();}}},{key:"pv",value:function pv(){this["#search-input"].value="";var _iterator1388=_createForOfIteratorHelper(this["#items"].children),_step1388;try{for(_iterator1388.s();!(_step1388=_iterator1388.n()).done;){var _t2063=_step1388.value;this.Zv(_t2063),this.Kv(_t2063);}}catch(err){_iterator1388.e(err);}finally{_iterator1388.f();}this.Fu();}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Zv",value:function Zv(t){var e=t[km],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<marker>",i.removeAttribute("data-custom"));else{var _t2064;_t2064=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2064?(i.textContent=_t2064.textContent,i.setAttribute("data-custom","")):(i.textContent="Marker",i.removeAttribute("data-custom"));}}},{key:"Nv",value:function Nv(){var t=this.Ry();var _iterator1389=_createForOfIteratorHelper(this["#items"].children),_step1389;try{for(_iterator1389.s();!(_step1389=_iterator1389.n()).done;){var _e1479=_step1389.value;var i=_e1479.querySelector(".counter-button"),_s743=0;var _iterator1390=_createForOfIteratorHelper(t),_step1390;try{for(_iterator1390.s();!(_step1390=_iterator1390.n()).done;){var _step1390$value=_slicedToArray(_step1390.value,2),_i1288=_step1390$value[0],_n594=_step1390$value[1];_n594.includes(_e1479[km])&&(_s743+=1);}}catch(err){_iterator1390.e(err);}finally{_iterator1390.f();}0===_s743?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s743?"Select 1 marker user":"Select ".concat(_s743," marker users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s743);}}catch(err){_iterator1389.e(err);}finally{_iterator1389.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.markers){var _iterator1391=_createForOfIteratorHelper(this["#items"].children),_step1391;try{for(_iterator1391.s();!(_step1391=_iterator1391.n()).done;){var _t2065=_step1391.value;var _e1480=_t2065[km],i=_t2065.lastElementChild;i.hidden=!1,i.toggled=_e1480.hasAttribute("data-bx-pinned");}}catch(err){_iterator1391.e(err);}finally{_iterator1391.f();}}else{var _iterator1392=_createForOfIteratorHelper(this["#items"].children),_step1392;try{for(_iterator1392.s();!(_step1392=_iterator1392.n()).done;){var _t2066=_step1392.value;_t2066.lastElementChild.hidden=!0;}}catch(err){_iterator1392.e(err);}finally{_iterator1392.f();}}}}]);return _m;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_m,"observedAttributes",["enabled"]);_defineProperty(_m,"_shadowTemplate",Qi(_templateObject397()));_defineProperty(_m,"_shadowStyleSheet",Ji(_templateObject398()));customElements.define("bx-markersbrowser",_m);var Cm=Symbol(),Mm=Symbol();var Pm=/*#__PURE__*/function(_HTMLElement113){_inherits(Pm,_HTMLElement113);var _super167=_createSuper(Pm);_createClass(Pm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Pm(){var _temp47,_this818;_classCallCheck(this,Pm);(_temp47=_this818=_super167.call(this),_defineProperty(_assertThisInitialized(_this818),"commands",{copy:{enabled:function enabled(){return _this818.By();},exec:function exec(){return _this818.Gy();}},selectAll:{enabled:function enabled(){return null===_this818._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this818.vv();}},deselectAll:{enabled:function enabled(){return null===_this818._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this818.kv();}}}),_temp47),_this818.Dy=is(_this818.qs,2e3,_assertThisInitialized(_this818)),_this818._v=0,_this818._shadowRoot=_this818.attachShadow({mode:"closed"}),_this818._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Pm._shadowStyleSheet],_this818._shadowRoot.append(document.importNode(Pm._shadowTemplate.content,!0));var _iterator1393=_createForOfIteratorHelper(_this818._shadowRoot.querySelectorAll("[id]")),_step1393;try{for(_iterator1393.s();!(_step1393=_iterator1393.n()).done;){var _t2067=_step1393.value;_this818["#"+_t2067.id]=_t2067;}}catch(err){_iterator1393.e(err);}finally{_iterator1393.f();}_this818.addEventListener("keydown",function(t){return _this818.wn(t);}),_this818["#items"].addEventListener("scroll",function(){return _this818.Cv();}),_this818["#items"].addEventListener("contextmenu",function(t){return _this818.op(t);}),_this818["#items"].addEventListener("pointerdown",function(t){return _this818.sp(t);}),_this818["#items"].addEventListener("click",function(t){return _this818.np(t);}),_this818["#search-input"].addEventListener("input",function(){return _this818.Mv();}),_this818["#developer-mode-button"].addEventListener("toggle",function(){return _this818.$u();}),_this818["#add-menu"].addEventListener("click",function(t){return _this818.Xw(t);}),_this818["#add-menu"].addEventListener("open",function(){return _this818.Pv();});return _this818;}_createClass(Pm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"selectSymbols",value:function selectSymbols(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[Cm].id);});this.Dv(e,!0);}},{key:"tn",value:function tn(){var _this819=this;this.Qs.addEventListener("configchange",this.nn=function(t){_this819.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this819.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this819.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-symbolsbrowser:developerMode",!1),this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("artworkchange",this.yr),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"ln",value:function ln(t){var _t$detail14=t.detail,e=_t$detail14.key,i=_t$detail14.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"al",value:function al(t){var e=t.detail,i="debounced";var _iterator1394=_createForOfIteratorHelper(e),_step1394;try{for(_iterator1394.s();!(_step1394=_iterator1394.n()).done;){var _t2068=_step1394.value;var _e1481=_t2068.target.nodeName,_s744=_t2068.addedNodes[0]?_t2068.addedNodes[0].nodeName:null,_n595=_t2068.removedNodes[0]?_t2068.removedNodes[0].nodeName:null,_o478=_t2068.attributeName;if("symbol"===_e1481){if("bx-title"===_s744||"bx-title"===_n595){i="now";break;}if("id"===_o478){i="now";break;}if("data-bx-pinned"===_o478){i="now";break;}}else if("bx-title"===_e1481){if(_s744||_n595){i="now";break;}}else if("symbol"===_s744||"symbol"===_n595){i="now";break;}}}catch(err){_iterator1394.e(err);}finally{_iterator1394.f();}"now"===i?this.qs():"debounced"===i&&this.Dy();}},{key:"Ov",value:function Ov(){this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop;}},{key:"op",value:function(){var _op6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee156(t){var e,i,_s745,_n596;return regeneratorRuntime.wrap(function _callee156$(_context158){while(1){switch(_context158.prev=_context158.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context158.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.Dv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Cm];});_s745=e[Cm];_context158.next=7;return this.Qs.openContextMenu([{label:"Copy Symbol"+(i.length>1?"s":""),value:"copy",disabled:0===i.length},{type:"separator"},{label:"Edit Symbol",value:"edit",disabled:1!==i.length||this.Js.board.currentWorkspace.id===_s745.id},{label:"Edit Symbol ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Symbol Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Delete Symbol"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Symbol"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Symbol"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Symbol Instances",value:"select-instances",disabled:1!==i.length}]);case 7:_n596=_context158.sent;"copy"===_n596?this.Gy():"edit"===_n596?this.Js.board.editSymbol(_s745.id):"edit-id"===_n596?this.$v(_s745.id,"id"):"edit-title"===_n596?this.$v(_s745.id,"title"):"delete"===_n596?this.Lv():"pin"===_n596?this.Rv():"unpin"===_n596?this.Bv():"select-instances"===_n596&&this.Uy(_s745.id);case 9:case"end":return _context158.stop();}}},_callee156,this);}));function op(_x184){return _op6.apply(this,arguments);}return op;}()},{key:"np",value:function np(t){t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys21=this.Qs.modKeys,e=_this$Qs$modKeys21.ctrl,i=_this$Qs$modKeys21.shift;if(!1===e&&!1===i){var _e1482=t.target.closest(".item"),_i1289=t.target.closest(".thumbnail"),_s746=t.target.closest(".counter-button"),_n597=t.target.closest(".pin-button"),_o479=_e1482[Cm].id;_s746?this.Uy(_o479):_n597?_n597.toggled?this.Fy(_o479):this.Ny(_o479):_i1289?t.detail%2==0&&this.Js.board.editSymbol(_o479):t.detail%2==0&&this.$v(_o479);}}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1483=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1483&&this.Dv([]);}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this820=this;var _this$Qs$modKeys22=this.Qs.modKeys,e=_this$Qs$modKeys22.ctrl,i=_this$Qs$modKeys22.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Mm]=Date.now());else if(!0===i){var _t2069=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1484=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1484.length>0){var _i1290=_t2069.indexOf(s),_n598=_e1484.sort(function(t,e){return e[Mm]-t[Mm];})[0],_o480=_t2069.indexOf(_n598),_l366=[];if(_i1290>_o480?_l366=_toConsumableArray(_t2069).slice(_o480,_i1290+1):_i1290<_o480&&(_l366=_toConsumableArray(_t2069).slice(_i1290,_o480+1).reverse()),_l366=_l366.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l366.length>0){var _iterator1395=_createForOfIteratorHelper(_l366),_step1395;try{for(_iterator1395.s();!(_step1395=_iterator1395.n()).done;){var _t2070=_step1395.value;_t2070.setAttribute("data-selected",""),_t2070[Mm]=Date.now();}}catch(err){_iterator1395.e(err);}finally{_iterator1395.f();}}}}else{var _t2073,_e1486,_i1291=!1;window.addEventListener("pointermove",_t2073=function _t2071(o){var l=new DOMPoint(o.clientX,o.clientY);if(Te(n,l)>=3){if(window.removeEventListener("pointermove",_t2073),window.removeEventListener("pointerup",_e1486),!1===s.hasAttribute("data-selected")){var _iterator1396=_createForOfIteratorHelper(_this820["#items"].children),_step1396;try{for(_iterator1396.s();!(_step1396=_iterator1396.n()).done;){var _t2072=_step1396.value;_t2072===s?(_t2072.setAttribute("data-selected",""),_t2072[Mm]=Date.now()):_t2072.removeAttribute("data-selected");}}catch(err){_iterator1396.e(err);}finally{_iterator1396.f();}}_this820.sv(o),_i1291=!0;}}),window.addEventListener("pointerup",_e1486=function _e1485(){if(window.removeEventListener("pointermove",_t2073),window.removeEventListener("pointerup",_e1486),!1===_i1291){var _iterator1397=_createForOfIteratorHelper(_this820["#items"].children),_step1397;try{for(_iterator1397.s();!(_step1397=_iterator1397.n()).done;){var _t2074=_step1397.value;_t2074===s?(_t2074.setAttribute("data-selected",""),_t2074[Mm]=Date.now()):_t2074.removeAttribute("data-selected");}}catch(err){_iterator1397.e(err);}finally{_iterator1397.f();}}});}}},{key:"sv",value:function sv(t){var _this821=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this821["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this821.Qs.pointerClientPoint,e=_this821._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this821._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1487=l.getBoundingClientRect();if(a=t.y<_e1487.y+_e1487.height/2?"start":"end",_this821.nv(n,l,a)){var _t2075=l.offsetTop-_this821["#items"].scrollTop;"end"===a&&(_t2075+=_e1487.height),_this821["#drop-indicator"].hidden=!1,_this821["#drop-indicator"].style.top=_t2075-1+"px";}else l=null,_this821["#drop-indicator"].hidden=!0;}else _this821["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s749){function s(_x185){return _s749.apply(this,arguments);}s.toString=function(){return _s749.toString();};return s;}(function(t){if(_this821["#items"].removeEventListener("pointermove",e),_this821["#items"].removeEventListener("scroll",i),_this821["#items"].removeEventListener("lostpointercapture",s),_this821["#items"].style.cursor=null,_this821["#drop-indicator"].hidden=!0,c(),_this821.Js.board.isPointOverBoard(t.clientX,t.clientY)){var _e1488=_this821.Js.board,_i1292=_toConsumableArray(n).map(function(t){return t[Cm];}),_s747=!1;if("symbol"===_e1488.currentWorkspace.getAttribute("data-bx-workspace")){var _iterator1398=_createForOfIteratorHelper(_i1292),_step1398;try{for(_iterator1398.s();!(_step1398=_iterator1398.n()).done;){var _t2076=_step1398.value;if(_e1488.currentWorkspace.id===_t2076.id){_s747=!0;break;}}}catch(err){_iterator1398.e(err);}finally{_iterator1398.f();}}if(!1===_s747){_e1488.undoManager.checkpoint("Create symbol instance");var _s748=_e1488.currentContainer||_e1488.currentWorkspace,_n599=[];var _iterator1399=_createForOfIteratorHelper(_i1292),_step1399;try{for(_iterator1399.s();!(_step1399=_iterator1399.n()).done;){var _o481=_step1399.value;var _i1293=Ii("svg:use");_i1293.setAttribute("href","#"+_o481.id),_o481.hasAttribute("viewBox")?(_i1293.setAttribute("width",_o481.viewBox.baseVal.width),_i1293.setAttribute("height",_o481.viewBox.baseVal.height)):(_i1293.setAttribute("width","100"),_i1293.setAttribute("height","100")),_s748.append(_i1293);var _l367=qt(_i1293).inverse(),_a272=Wt(_i1293);_a272.multiplySelf(_l367),_i1293.setAttribute("transform",_a272.toString());var _h218=Ti(_i1293);_a272.translateSelf(t.clientX-_h218.width/2,t.clientY-_h218.height/2),_i1293.setAttribute("transform",_a272.toString());var _r149=_e1488.geometryPrecision,_d116=_e1488.transformPrecision;ka(_i1293,{geometryPrecision:_r149,transformPrecision:_d116}),_n599.push(_i1293);}}catch(err){_iterator1399.e(err);}finally{_iterator1399.f();}_e1488.selectedElements=_n599,_this821.Nv();}}else if(l){_this821.Js.board.undoManager.checkpoint("Rearrange symbols");var _t2077=document.createDocumentFragment(),_e1489=l[Cm];var _iterator1400=_createForOfIteratorHelper(n),_step1400;try{for(_iterator1400.s();!(_step1400=_iterator1400.n()).done;){var _i1294=_step1400.value;_i1294[Cm]!==_e1489&&_t2077.append(_i1294[Cm]);}}catch(err){_iterator1400.e(err);}finally{_iterator1400.f();}"start"===a?_e1489.before(_t2077):_e1489.after(_t2077);}}));}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus"))return;var e=ao.fromEvent(t);if(e.matches("Enter")){var _t2078=this["#items"].querySelector(".item[data-label-edited]"),_e1490=this["#items"].querySelector(".item[data-selected]");_t2078?this.focus():_e1490&&this.$v(_e1490[Cm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.Lv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu()||this.Vv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu()||this.jv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-symbolsbrowser:developerMode",this["#developer-mode-button"].toggled),this.pv(),this.focus();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&("add-symbol"===e.value?this.Hv():"add-symbol-from-objects"===e.value&&this.Ty());}},{key:"Pv",value:function Pv(){var t=this.Js.board.selectedObjectElements;this["#add-symbol-from-objects-menu-item"].disabled=0===t.length;}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"$v",value:function $v(t){var _this822=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Cm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2079=this["#items"].querySelector(".item[data-label-edited]");if(_t2079){if(_t2079===i)return;this.qv();}}this.Dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Cm],l=this["#developer-mode-button"].toggled?"Symbol ID":"Symbol title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Qi(_templateObject57(),h,l);n.after(r),r.selectAll(),ns(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this822.qv();}),r.validate=function(){var t=null;if(_this822["#developer-mode-button"].toggled){var _e1491=r.value.trim();if(_e1491.startsWith("#")&&(_e1491=_e1491.substring(1)),0===_e1491.length)t="Symbol must have ID";else if(Xi(_e1491)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1491)))&&o.id!==_e1491&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"qv",value:function qv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1492=this.Js.board,i=t.querySelector(".label"),_s750=t.querySelector("x-input"),_n600=t[Cm];if(_s750.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s750.error)if(this["#developer-mode-button"].toggled){var _t2080=_n600.getAttribute("id").trim(),_i1295=_s750.value.trim().toLowerCase();if(_i1295.startsWith("#")&&(_i1295=_i1295.substring(1)),_t2080!==_i1295){_e1492.undoManager.checkpoint("Symbol ID");var _s751=document.createNodeIterator(_e1492.workspaces,NodeFilter.SHOW_ELEMENT),_n601=null;for(;_n601=_s751.nextNode();){"symbol"===_n601.localName||"g"===_n601.localName&&"symbol"===_n601.getAttribute("data-bx-workspace")?_n601.id===_t2080&&_n601.setAttribute("id",_i1295):"use"===_n601.localName&&_n601.href.baseVal==="#"+_t2080&&_n601.setAttribute("href","#"+_i1295);}}}else{var _t2081=_e1492.currentWorkspace.id===_n600.id?_e1492.currentWorkspace:_n600,_i1296=_t2081.querySelector(":scope > bx-title"),_o482=_s750.value.trim();if(_i1296){_i1296.textContent!==_o482&&(_e1492.undoManager.checkpoint("Symbol title"),""===_o482?_i1296.remove():_i1296.textContent=_o482);}else""!==_o482&&(_e1492.undoManager.checkpoint("Symbol title"),_i1296=Ii("svg:bx-title"),_i1296.textContent=_o482,_t2081.prepend(_i1296));}}}},{key:"Fy",value:function Fy(t){this.Js.board.undoManager.checkpoint("Pin Symbol"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Ny",value:function Ny(t){this.Js.board.undoManager.checkpoint("Unpin Symbol"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"Dv",value:function Dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1401=_createForOfIteratorHelper(this["#items"].children),_step1401;try{for(_iterator1401.s();!(_step1401=_iterator1401.n()).done;){var _e1493=_step1401.value;t.includes(_e1493)?(_e1493.setAttribute("data-selected",""),_e1493[Mm]=Date.now()):_e1493.removeAttribute("data-selected");}}catch(err){_iterator1401.e(err);}finally{_iterator1401.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s752=e[0],_n602=i.indexOf(_s752),_o483=i[_n602-1];if(_o483){if(_o483.scrollIntoViewIfNeeded(),t)_o483.setAttribute("data-selected",""),_o483[Mm]=Date.now();else{var _iterator1402=_createForOfIteratorHelper(i),_step1402;try{for(_iterator1402.s();!(_step1402=_iterator1402.n()).done;){var _t2082=_step1402.value;_t2082===_o483?(_t2082.setAttribute("data-selected",""),_t2082[Mm]=Date.now()):_t2082.removeAttribute("data-selected");}}catch(err){_iterator1402.e(err);}finally{_iterator1402.f();}}return!0;}}return!1;}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s753=e[e.length-1],_n603=i.indexOf(_s753),_o484=i[_n603+1];if(_o484){if(_o484.scrollIntoViewIfNeeded(),t)_o484.setAttribute("data-selected",""),_o484[Mm]=Date.now();else{var _iterator1403=_createForOfIteratorHelper(i),_step1403;try{for(_iterator1403.s();!(_step1403=_iterator1403.n()).done;){var _t2083=_step1403.value;_t2083===_o484?(_t2083.setAttribute("data-selected",""),_t2083[Mm]=Date.now()):_t2083.removeAttribute("data-selected");}}catch(err){_iterator1403.e(err);}finally{_iterator1403.f();}}return!0;}}return!1;}},{key:"Vv",value:function Vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1404=_createForOfIteratorHelper(t),_step1404;try{for(_iterator1404.s();!(_step1404=_iterator1404.n()).done;){var i=_step1404.value;i===e?(i.setAttribute("data-selected",""),i[Mm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1404.e(err);}finally{_iterator1404.f();}return!0;}return!1;}},{key:"jv",value:function jv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1405=_createForOfIteratorHelper(t),_step1405;try{for(_iterator1405.s();!(_step1405=_iterator1405.n()).done;){var i=_step1405.value;i===e?(i.setAttribute("data-selected",""),i[Mm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1405.e(err);}finally{_iterator1405.f();}return!0;}return!1;}},{key:"vv",value:function vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.Dv(t,!1);}},{key:"kv",value:function kv(){this.Dv([],!1);}},{key:"Hv",value:function Hv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=Ii("svg:symbol");if(i.setAttribute("id",t.generateUniqueID("symbol")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Cm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Cm]===i;});this.Dv([s]);}},{key:"Ty",value:function Ty(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=We(t.outermostSelectedObjectElements.map(function(t){return Ti(t);}));i=He(i,qt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=tt(i.width,4),l=tt(i.height,4),a=Ii("svg:symbol");a.setAttribute("id",t.generateUniqueID("symbol")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("data-bx-pinned","true");var _iterator1406=_createForOfIteratorHelper(Vi(t.outermostSelectedObjectElements)),_step1406;try{for(_iterator1406.s();!(_step1406=_iterator1406.n()).done;){var _e1494=_step1406.value;var _i1297=new DOMMatrix();_i1297.translateSelf(s,n),_i1297.multiplySelf(Yt(_e1494,t.vectorCanvas)),_e1494.setAttribute("transform",_i1297),a.append(_e1494);}}catch(err){_iterator1406.e(err);}finally{_iterator1406.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Cm].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[Cm]===a;});this.Dv([h]);}},{key:"Gy",value:function Gy(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=(e.map(function(t){return t[Cm];}),e.map(function(t){return t[Cm];})),s=t.extractArtworkWithSymbols(i),n=this.Qs.getConfig("bx-markupsettings:indentation",2),o=Vp(s,"html",n),l={"text/plain":o,"text/html":o,"image/svg+xml":Vp(s,"xml",n)};this.Qs.setClipboardData(l);}},{key:"By",value:function By(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).length>0;}},{key:"Lv",value:function(){var _Lv5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee157(){var t,e,i,s,n,_iterator1407,_step1407,_i1298,_e1496,_o485,_l368,_t2084,_e1495,_iterator1408,_step1408,_t2085,_iterator1409,_step1409,_t2086;return regeneratorRuntime.wrap(function _callee157$(_context159){while(1){switch(_context159.prev=_context159.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[Cm];}),s=[],n=[];_iterator1407=_createForOfIteratorHelper(e);try{for(_iterator1407.s();!(_step1407=_iterator1407.n()).done;){_i1298=_step1407.value;_e1496=_i1298[Cm],_o485=document.createNodeIterator(t.workspaces,NodeFilter.SHOW_ELEMENT),_l368=null;for(s.push(_e1496);_l368=_o485.nextNode();){"use"===_l368.localName&&_l368.href.baseVal==="#"+_e1496.id&&n.push(_l368);}}}catch(err){_iterator1407.e(err);}finally{_iterator1407.f();}if(!(0!==i.length)){_context159.next=17;break;}if(!(n.length>0)){_context159.next=12;break;}_t2084="Delete ";1===i.length?_t2084+="a symbol":_t2084+="".concat(i.length," symbols"),_t2084+=" with ",1===n.length?_t2084+="1 instance?":_t2084+="".concat(n.length," instances?");_context159.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2084,detail:"Deleting a symbol also removes all its instances."});case 9:_e1495=_context159.sent;if(!(-1===_e1495||1===_e1495)){_context159.next=12;break;}return _context159.abrupt("return");case 12:t.undoManager.checkpoint("Delete symbols"),this.Vu()||this.Nu(),"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&s.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editSymbolEnd(!1);_iterator1408=_createForOfIteratorHelper(n);try{for(_iterator1408.s();!(_step1408=_iterator1408.n()).done;){_t2085=_step1408.value;_t2085.remove();}}catch(err){_iterator1408.e(err);}finally{_iterator1408.f();}_iterator1409=_createForOfIteratorHelper(s);try{for(_iterator1409.s();!(_step1409=_iterator1409.n()).done;){_t2086=_step1409.value;_t2086.remove();}}catch(err){_iterator1409.e(err);}finally{_iterator1409.f();}case 17:case"end":return _context159.stop();}}},_callee157,this);}));function Lv(){return _Lv5.apply(this,arguments);}return Lv;}()},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Cm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin symbol"+e.length>1?"s":"");var _iterator1410=_createForOfIteratorHelper(e),_step1410;try{for(_iterator1410.s();!(_step1410=_iterator1410.n()).done;){var _t2087=_step1410.value;_t2087.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1410.e(err);}finally{_iterator1410.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Cm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin symbol"+e.length>1?"s":"");var _iterator1411=_createForOfIteratorHelper(e),_step1411;try{for(_iterator1411.s();!(_step1411=_iterator1411.n()).done;){var _t2088=_step1411.value;_t2088.removeAttribute("data-bx-pinned");}}catch(err){_iterator1411.e(err);}finally{_iterator1411.f();}}}},{key:"nv",value:function nv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s754=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_n604=t[0],_o486=_s754.indexOf(e);if("start"===i){if(_s754[_o486-1]===_n604)return!1;}else if("end"===i){if(_s754[_o486+1]===_n604)return!1;}}return!0;}},{key:"Uy",value:function Uy(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[Cm].id===t;})[Cm],s=this.Vy().get(i);s&&(e.selectedElements=_toConsumableArray(s));}},{key:"Vy",value:function Vy(){var t=this.Js.board,e=new Map(),i=t.masterWorkspace.querySelectorAll("use");var _iterator1412=_createForOfIteratorHelper(i),_step1412;try{for(_iterator1412.s();!(_step1412=_iterator1412.n()).done;){var _s755=_step1412.value;var _i1299=_s755.href.baseVal,_n605=_i1299?t.masterWorkspace.querySelector(_i1299):null,_o487=_n605&&"symbol"===_n605.localName?_n605:null;_o487&&(!1===e.has(_o487)?e.set(_o487,[_s755]):e.get(_o487).push(_s755));}}catch(err){_iterator1412.e(err);}finally{_iterator1412.f();}return e;}},{key:"qs",value:function qs(){{var _t2089=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("symbol")),_e1497=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Cm];}),i=document.createDocumentFragment();var _iterator1413=_createForOfIteratorHelper(_t2089),_step1413;try{for(_iterator1413.s();!(_step1413=_iterator1413.n()).done;){var _s756=_step1413.value;var _t2090=Qi(_templateObject58(),_s756.id,_s756.id);_t2090[Cm]=_s756,_e1497.includes(_s756)&&(_t2090.setAttribute("data-selected",""),_t2090[Mm]=Date.now()),this.Zv(_t2090),this.Kv(_t2090),i.append(_t2090);}}catch(err){_iterator1413.e(err);}finally{_iterator1413.f();}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this["#items"].innerHTML="",this["#items"].append(i);}this.Nv(),this.Av(),this.Fu();}},{key:"Yv",value:function Yv(){var _iterator1414=_createForOfIteratorHelper(this["#items"].children),_step1414;try{for(_iterator1414.s();!(_step1414=_iterator1414.n()).done;){var _t2091=_step1414.value;this.Kv(_t2091);}}catch(err){_iterator1414.e(err);}finally{_iterator1414.f();}}},{key:"pv",value:function pv(){this["#search-input"].value="";var _iterator1415=_createForOfIteratorHelper(this["#items"].children),_step1415;try{for(_iterator1415.s();!(_step1415=_iterator1415.n()).done;){var _t2092=_step1415.value;this.Zv(_t2092),this.Kv(_t2092);}}catch(err){_iterator1415.e(err);}finally{_iterator1415.f();}this.Fu();}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Zv",value:function Zv(t){var e=t[Cm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<symbol>",i.removeAttribute("data-custom"));else{var _t2093;_t2093=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2093?(i.textContent=_t2093.textContent,i.setAttribute("data-custom","")):(i.textContent="Symbol",i.removeAttribute("data-custom"));}}},{key:"Nv",value:function Nv(){var t=this.Vy();var _iterator1416=_createForOfIteratorHelper(this["#items"].children),_step1416;try{for(_iterator1416.s();!(_step1416=_iterator1416.n()).done;){var _e1498=_step1416.value;var i=_e1498.querySelector(".counter-button"),_s757=0;var _iterator1417=_createForOfIteratorHelper(t),_step1417;try{for(_iterator1417.s();!(_step1417=_iterator1417.n()).done;){var _step1417$value=_slicedToArray(_step1417.value,2),_i1300=_step1417$value[0],_n606=_step1417$value[1];_i1300===_e1498[Cm]&&(_s757+=_n606.length);}}catch(err){_iterator1417.e(err);}finally{_iterator1417.f();}0===_s757?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s757?"Select 1 symbol instance":"Select ".concat(_s757," symbol instances")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s757);}}catch(err){_iterator1416.e(err);}finally{_iterator1416.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.symbols){var _iterator1418=_createForOfIteratorHelper(this["#items"].children),_step1418;try{for(_iterator1418.s();!(_step1418=_iterator1418.n()).done;){var _t2094=_step1418.value;var _e1499=_t2094[Cm],i=_t2094.lastElementChild;i.hidden=!1,i.toggled=_e1499.hasAttribute("data-bx-pinned");}}catch(err){_iterator1418.e(err);}finally{_iterator1418.f();}}else{var _iterator1419=_createForOfIteratorHelper(this["#items"].children),_step1419;try{for(_iterator1419.s();!(_step1419=_iterator1419.n()).done;){var _t2095=_step1419.value;_t2095.lastElementChild.hidden=!0;}}catch(err){_iterator1419.e(err);}finally{_iterator1419.f();}}}}]);return Pm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pm,"observedAttributes",["enabled"]);_defineProperty(Pm,"_shadowTemplate",Qi(_templateObject399()));_defineProperty(Pm,"_shadowStyleSheet",Ji(_templateObject400()));customElements.define("bx-symbolsbrowser",Pm);var Dm=40,zm=16;var Om=/*#__PURE__*/function(){function Om(t){_classCallCheck(this,Om);var e=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);});this.jy=t,this.Hy=new dagre.graphlib.Graph({directed:!0,multigraph:!0,compound:!1}),this.Hy.setGraph({ranker:"longest-path",rankdir:"TB",align:void 0,ranksep:35,nodesep:35,edgesep:10,marginx:0,marginy:0});{var i=!1,_s758=!1,_n607=e[e.length-1];var _iterator1420=_createForOfIteratorHelper(e),_step1420;try{for(_iterator1420.s();!(_step1420=_iterator1420.n()).done;){var _t2096=_step1420.value;if(this.Hy.setNode(_t2096.result.baseVal,{width:Dm,height:Dm,type:_t2096.localName,terminal:_t2096===_n607}),"feMerge"===_t2096.localName){var _e1500=_toConsumableArray(_t2096.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1421=_createForOfIteratorHelper(_e1500),_step1421;try{for(_iterator1421.s();!(_step1421=_iterator1421.n()).done;){var _n608=_step1421.value;var _o489=_n608.in1.baseVal,_l369=_t2096.result.baseVal,_a273=_e1500.indexOf(_n608)+1,_h219={from:_o489,to:_l369,slot:_a273,width:zm,height:zm,minlen:1,weight:1,label:""+_a273,labelpos:"c"};this.Hy.setEdge(_o489,_l369,_h219,"".concat(_o489,"-").concat(_l369,"-").concat(_a273)),"SourceGraphic"===_o489?i=!0:"SourceAlpha"===_o489&&(_s758=!0);}}catch(err){_iterator1421.e(err);}finally{_iterator1421.f();}}else for(var _i1301=0,_arr63=["in1","in2"];_i1301<_arr63.length;_i1301++){var _e1501=_arr63[_i1301];var _n609=_t2096[_e1501]?_t2096[_e1501].baseVal:null,_o490=_t2096.result.baseVal,_l370="in1"===_e1501?1:2,_a274={from:_n609,to:_o490,slot:_l370,width:zm,height:zm,minlen:1,weight:1,label:_e1501[2],labelpos:"c"};null!==_n609&&"none"!==_n609&&(this.Hy.setEdge(_n609,_o490,_a274,"".concat(_n609,"-").concat(_o490,"-").concat(_l370)),"SourceGraphic"===_n609?i=!0:"SourceAlpha"===_n609&&(_s758=!0));}}}catch(err){_iterator1420.e(err);}finally{_iterator1420.f();}var _o488=t.hasAttribute("data-bx-details")?t.getAttribute("data-bx-details").split(" "):[];(i||_o488.includes("SourceGraphic"))&&this.Hy.setNode("SourceGraphic",{width:Dm,height:Dm,type:"SourceGraphic"}),(_s758||_o488.includes("SourceAlpha"))&&this.Hy.setNode("SourceAlpha",{width:Dm,height:Dm,type:"SourceAlpha"});}dagre.layout(this.Hy);}_createClass(Om,[{key:"getWidth",value:function getWidth(){var t=this.Hy.graph().width;return isFinite(t)?t:0;}},{key:"getHeight",value:function getHeight(){var t=this.Hy.graph().height;return isFinite(t)?t:0;}},{key:"getNodes",value:function getNodes(){var _this823=this;return this.Hy.nodes().map(function(t){var e=_this823.Hy.node(t);return{name:t,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,terminal:e.terminal};});}},{key:"getOrderedNodes",value:function getOrderedNodes(){var t=dagre.graphlib.alg.topsort(this.Hy),e=this.getNodes(),i=[];var _iterator1422=_createForOfIteratorHelper(t),_step1422;try{var _loop31=function _loop31(){var s=_step1422.value;var t=e.find(function(t){return t.name===s;});i.push(t);};for(_iterator1422.s();!(_step1422=_iterator1422.n()).done;){_loop31();}}catch(err){_iterator1422.e(err);}finally{_iterator1422.f();}return i;}},{key:"getEdges",value:function getEdges(){var _this824=this;return this.Hy.edges().map(function(t){var e=_this824.Hy.edge(t);return{from:e.from,to:e.to,slot:e.slot,points:e.points,label:{text:e.label,x:e.x,y:e.y,width:e.width,height:e.height}};});}},{key:"getPredecessors",value:function getPredecessors(t){return this.Hy.predecessors(t)||null;}},{key:"getAllPredecessors",value:function getAllPredecessors(t){var _this825=this;var e=[],i=function i(t){var s=_this825.getPredecessors(t);var _iterator1423=_createForOfIteratorHelper(s),_step1423;try{for(_iterator1423.s();!(_step1423=_iterator1423.n()).done;){var _t2097=_step1423.value;e.push(_t2097),i(_t2097);}}catch(err){_iterator1423.e(err);}finally{_iterator1423.f();}};return i(t),e;}},{key:"getGroups",value:function getGroups(){var t=dagre.graphlib.alg.topsort(this.Hy),e=dagre.graphlib.alg.components(this.Hy);e=e.sort(function(e,i){return t.indexOf(e[0])<t.indexOf(i[0])?-1:1;});var _iterator1424=_createForOfIteratorHelper(e),_step1424;try{for(_iterator1424.s();!(_step1424=_iterator1424.n()).done;){var i=_step1424.value;i.sort(function(e,i){return t.indexOf(e)<t.indexOf(i)?-1:1;});}}catch(err){_iterator1424.e(err);}finally{_iterator1424.f();}return e;}},{key:"canConnectNodes",value:function canConnectNodes(t,e){if(t===e)return!1;if("SourceGraphic"===e||"SourceAlpha"===e)return!1;if(this.getAllPredecessors(t).includes(e))return!1;{var _t2098=this.getNodes().find(function(t){return t.name===e;});if("feFlood"===_t2098.type||"feImage"===_t2098.type||"feTurbulence"===_t2098.type)return!1;if("feBlend"===_t2098.type||"feComposite"===_t2098.type||"feDisplacementMap"===_t2098.type){if(this.Hy.inEdges(e).length>=2)return!1;}else if(("feColorMatrix"===_t2098.type||"feComponentTransfer"===_t2098.type||"feConvolveMatrix"===_t2098.type||"feDiffuseLighting"===_t2098.type||"feDropShadow"===_t2098.type||"feGaussianBlur"===_t2098.type||"feMorphology"===_t2098.type||"feOffset"===_t2098.type||"feSpecularLighting"===_t2098.type||"feTile"===_t2098.type)&&this.Hy.inEdges(e).length>=1)return!1;}return!0;}},{key:"connectNodes",value:function connectNodes(t,e){var i=-1;if(this.canConnectNodes(t,e)){var _s759=this.getNodes(),_n610=this.getEdges(),_o491=_s759.find(function(t){return t.name===e;}),_l371=_n610.filter(function(t){return t.to===_o491.name;}).map(function(t){return t.slot;});for(i=1;_l371.includes(i);){i+=1;}var _a275={from:t,to:e,slot:i,width:zm,height:zm,minlen:1,weight:1,label:""+i,labelpos:"c"};this.Hy.setEdge(t,e,_a275,"".concat(t,"-").concat(e,"-").concat(i)),dagre.layout(this.Hy);}return i;}}]);return Om;}();Ii("svg:filter");var Em=/*#__PURE__*/function(_HTMLElement114){_inherits(Em,_HTMLElement114);var _super168=_createSuper(Em);function Em(){var _this826;_classCallCheck(this,Em);_this826=_super168.call(this),_this826._shadowRoot=_this826.attachShadow({mode:"closed"}),_this826._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Em._shadowStyleSheet],_this826._shadowRoot.append(document.importNode(Em._shadowTemplate.content,!0)),_this826.Dh=es(_this826.qs,200,_assertThisInitialized(_this826)),_this826.Wy=!1,_this826.Yy=!1;var _iterator1425=_createForOfIteratorHelper(_this826._shadowRoot.querySelectorAll("[id]")),_step1425;try{for(_iterator1425.s();!(_step1425=_iterator1425.n()).done;){var _t2099=_step1425.value;_this826["#"+_t2099.id]=_t2099;}}catch(err){_iterator1425.e(err);}finally{_iterator1425.f();}_this826["#filter-units-select"].addEventListener("change",function(){return _this826.qy();}),_this826["#primitive-units-select"].addEventListener("change",function(){return _this826.Xy();}),_this826["#region-x-input"].addEventListener("changestart",function(t){return _this826.Zy(t);}),_this826["#region-y-input"].addEventListener("changestart",function(t){return _this826.Ky(t);}),_this826["#region-width-input"].addEventListener("changestart",function(t){return _this826.Qy(t);}),_this826["#region-height-input"].addEventListener("changestart",function(t){return _this826.Jy(t);}),_this826["#region-lock-button"].addEventListener("toggle",function(){return _this826.tk();});return _this826;}_createClass(Em,[{key:"connectedCallback",value:function connectedCallback(){var _this827=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.ek=Gi(this,"bx-filterinspector"),this.Wy=this.Qs.getConfig("bx-filterhostinspector:regionLocked",!1),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this827.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"qy",value:function qy(){this.Js.board.undoManager.checkpoint("Filter units");var t=this.ek.filter;t.setAttribute("filterUnits",this["#filter-units-select"].value),"objectBoundingBox"===this["#filter-units-select"].value?(t.setAttribute("x",this["#region-x-input"].value+"%"),t.setAttribute("y",this["#region-y-input"].value+"%"),t.setAttribute("width",this["#region-width-input"].value+"%"),t.setAttribute("height",this["#region-height-input"].value+"%")):(t.setAttribute("x",this["#region-x-input"].value),t.setAttribute("y",this["#region-y-input"].value),t.setAttribute("width",this["#region-width-input"].value),t.setAttribute("height",this["#region-height-input"].value)),this.qs();}},{key:"Xy",value:function Xy(){this.Js.board.undoManager.checkpoint("Primitive units");var t=this.ek.filter,e=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);});var _iterator1426=_createForOfIteratorHelper(e),_step1426;try{for(_iterator1426.s();!(_step1426=_iterator1426.n()).done;){var _t2100=_step1426.value;var _e1502=zx(_t2100);"objectBoundingBox"===this["#primitive-units-select"].value?(_t2100.hasAttribute("x")&&_t2100.setAttribute("x",_e1502.x+"%"),_t2100.hasAttribute("y")&&_t2100.setAttribute("y",_e1502.y+"%"),_t2100.hasAttribute("width")&&_t2100.setAttribute("width",_e1502.width+"%"),_t2100.hasAttribute("height")&&_t2100.setAttribute("height",_e1502.height+"%")):(_t2100.hasAttribute("x")&&_t2100.setAttribute("x",_e1502.x),_t2100.hasAttribute("y")&&_t2100.setAttribute("y",_e1502.y),_t2100.hasAttribute("width")&&_t2100.setAttribute("width",_e1502.width),_t2100.hasAttribute("height")&&_t2100.setAttribute("height",_e1502.height));}}catch(err){_iterator1426.e(err);}finally{_iterator1426.f();}t.setAttribute("primitiveUnits",this["#primitive-units-select"].value);}},{key:"Zy",value:function Zy(t){var _this828=this;var e,_i1302,s=this.ek.filter;this.Js.board.undoManager.checkpoint("Filter region X"),this.Yy=!0,this["#region-x-input"].addEventListener("change",e=function e(){var t=null===_this828["#region-x-input"].value?0:_this828["#region-x-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("x",t):s.setAttribute("x",t+"%");}),this["#region-x-input"].addEventListener("changeend",_i1302=function i(){_this828["#region-x-input"].removeEventListener("change",e),_this828["#region-x-input"].removeEventListener("changeend",_i1302),_this828.Yy=!1,_this828.qs();});}},{key:"Ky",value:function Ky(t){var _this829=this;var e,_i1303,s=this.ek.filter;this.Js.board.undoManager.checkpoint("Filter region Y"),this.Yy=!0,this["#region-y-input"].addEventListener("change",e=function e(){var t=null===_this829["#region-y-input"].value?0:_this829["#region-y-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("y",t):s.setAttribute("y",t+"%");}),this["#region-y-input"].addEventListener("changeend",_i1303=function i(){_this829["#region-y-input"].removeEventListener("change",e),_this829["#region-y-input"].removeEventListener("changeend",_i1303),_this829.Yy=!1,_this829.qs();});}},{key:"Qy",value:function Qy(t){var _this830=this;var e,_i1304,s=this.ek.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region width"),this.Yy=!0,this["#region-width-input"].addEventListener("change",e=function e(){var t=null===_this830["#region-width-input"].value?100:_this830["#region-width-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("width",t),n){var _e1503=et(t/o,0,Infinity,2);_this830["#region-height-input"].value=_e1503,s.setAttribute("height",_e1503);}}else if(s.setAttribute("width",t+"%"),n){var _e1504=et(t/o,0,Infinity,2);_this830["#region-height-input"].value=_e1504,s.setAttribute("height",_e1504+"%");}}),this["#region-width-input"].addEventListener("changeend",_i1304=function i(){_this830["#region-width-input"].removeEventListener("change",e),_this830["#region-width-input"].removeEventListener("changeend",_i1304),_this830.Yy=!1,_this830.qs();});}},{key:"Jy",value:function Jy(t){var _this831=this;var e,_i1305,s=this.ek.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region height"),this.Yy=!0,this["#region-height-input"].addEventListener("change",e=function e(){var t=null===_this831["#region-height-input"].value?100:_this831["#region-height-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("height",t),n){var _e1505=et(t/o,0,Infinity,2);_this831["#region-width-input"].value=_e1505,s.setAttribute("width",_e1505);}}else if(s.setAttribute("height",t+"%"),n){var _e1506=et(t/o,0,Infinity,2);_this831["#region-width-input"].value=_e1506,s.setAttribute("width",_e1506+"%");}}),this["#region-height-input"].addEventListener("changeend",_i1305=function i(){_this831["#region-height-input"].removeEventListener("change",e),_this831["#region-height-input"].removeEventListener("changeend",_i1305),_this831.Yy=!1,_this831.qs();});}},{key:"tk",value:function tk(){this.Wy=this["#region-lock-button"].toggled,this.Qs.setConfig("bx-filterhostinspector:regionLocked",this.Wy),this.qs();}},{key:"qs",value:function qs(){if(this.Yy)return;var t=this.ek.filter;"userSpaceOnUse"===t.getAttribute("filterUnits")?this["#filter-units-select"].value="userSpaceOnUse":this["#filter-units-select"].value="objectBoundingBox","objectBoundingBox"===t.getAttribute("primitiveUnits")?this["#primitive-units-select"].value="objectBoundingBox":this["#primitive-units-select"].value="userSpaceOnUse";{var _e1507=function(t){var e=new DOMRect(),i=t.viewportElement,s=i.createSVGLength(),n=i.createSVGLength(),o=i.createSVGLength(),l=i.createSVGLength();return s.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"-10%",n.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"-10%",o.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"120%",l.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"120%","userSpaceOnUse"===t.getAttribute("filterUnits")?(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.x=s.value,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.y=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.width=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.height=l.value):(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits:e.x=100*s.valueInSpecifiedUnits,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits:e.y=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits:e.width=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits:e.height=100*l.valueInSpecifiedUnits),e;}(t),i="userSpaceOnUse"===t.getAttribute("filterUnits")?"":"%";_e1507=je(_e1507,this.Js.board.geometryPrecision),this["#region-x-input"].value=_e1507.x,this["#region-x-input"].suffix=i,this["#region-y-input"].value=_e1507.y,this["#region-y-input"].suffix=i,this["#region-width-input"].value=_e1507.width,this["#region-width-input"].suffix=i,this["#region-height-input"].value=_e1507.height,this["#region-height-input"].suffix=i,this["#region-lock-button"].toggled=this.Wy,this["#region-lock-icon"].name=this.Wy?"lock-on":"lock-off";}}}]);return Em;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Em,"_shadowTemplate",Qi(_templateObject401()));_defineProperty(Em,"_shadowStyleSheet",Ji(_templateObject402()));customElements.define("bx-filterhostinspector",Em);var Tm=/*#__PURE__*/function(_HTMLElement115){_inherits(Tm,_HTMLElement115);var _super169=_createSuper(Tm);_createClass(Tm,[{key:"name",get:function get(){return"Connector";}}]);function Tm(){var _this832;_classCallCheck(this,Tm);_this832=_super169.call(this),_this832.Dh=es(_this832.qs,200,_assertThisInitialized(_this832)),_this832._shadowRoot=_this832.attachShadow({mode:"closed"}),_this832._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Tm._shadowStyleSheet],_this832._shadowRoot.append(document.importNode(Tm._shadowTemplate.content,!0));var _iterator1427=_createForOfIteratorHelper(_this832._shadowRoot.querySelectorAll("[id]")),_step1427;try{for(_iterator1427.s();!(_step1427=_iterator1427.n()).done;){var _t2101=_step1427.value;_this832["#"+_t2101.id]=_t2101;}}catch(err){_iterator1427.e(err);}finally{_iterator1427.f();}_this832["#slot-buttons"].addEventListener("toggle",function(){return _this832.ik();});return _this832;}_createClass(Tm,[{key:"connectedCallback",value:function connectedCallback(){var _this833=this;this.Js=Gi(this,"bx-editor"),this.ek=Gi(this,"bx-filterinspector"),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this833.Dh();}),this.ek.addEventListener("selectionchange",this.sk=function(){_this833.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.hn),this.ek.removeEventListener("selectionchange",this.sk);}},{key:"ik",value:function ik(){this.Js.board.undoManager.checkpoint("Filter connector input slot");var t=this.ek.filter,_this$ek$getSelection=this.ek.getSelection(),_this$ek$getSelection2=_slicedToArray(_this$ek$getSelection,2),e=_this$ek$getSelection2[0],i=_this$ek$getSelection2[1],s=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);}).find(function(t){return t.result.baseVal===i.to;});if("feMerge"===s.localName){var _t2102=_toConsumableArray(s.children).filter(function(t){return"feMergeNode"===t.localName;}),_n611=_t2102.length,_o492=parseInt(this["#slot-buttons"].value),_l372=i.slot,_a276={};for(var _e1508=1;_e1508<=_n611;_e1508+=1){var _i1306=_t2102[_e1508-1];_e1508===_l372?_a276[_o492]=_i1306:_e1508===_o492?_a276[_l372]=_i1306:_a276[_e1508]=_i1306;}for(var _t2103=1;_t2103<=_n611;_t2103+=1){var _e1509=_a276[_t2103];s.append(_e1509);}this.ek.setSelection(e,{from:i.from,to:i.to,slot:_o492});}else{var _t2104=s.in1.baseVal,_n612=s.in2.baseVal;s.setAttribute("in",_n612),s.setAttribute("in2",_t2104),this.ek.setSelection(e,{from:i.from,to:i.to,slot:1===i.slot?2:1});}}},{key:"qs",value:function qs(){var t=this.ek.filter,_this$ek$getSelection3=this.ek.getSelection(),_this$ek$getSelection4=_slicedToArray(_this$ek$getSelection3,2),e=_this$ek$getSelection4[0],i=_this$ek$getSelection4[1],s=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);});if(i){var _t2105=s.find(function(t){return t.result.baseVal===i.to;}),_e1510=0;if("feMerge"===_t2105.localName){_e1510=_toConsumableArray(_t2105.children).filter(function(t){return"feMergeNode"===t.localName;}).length;}else _t2105.in1&&_t2105.in2?_e1510=2:_t2105.in1&&!_t2105.in2&&(_e1510=1);for(;this["#slot-buttons"].childElementCount>_e1510;){this["#slot-buttons"].lastElementChild.remove();}for(var _t2106=1;_t2106<=_e1510;_t2106+=1){var _e1511=this["#slot-buttons"].children[_t2106-1];_e1511||(_e1511=Qi(_templateObject59(),_t2106,_t2106),this["#slot-buttons"].append(_e1511));}this["#slot-buttons"].value=""+i.slot;}}}]);return Tm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tm,"_shadowTemplate",Qi(_templateObject403()));_defineProperty(Tm,"_shadowStyleSheet",Ji(_templateObject404()));customElements.define("bx-filteredgeinspector",Tm);var Am=Object.getPrototypeOf;var $m=/*#__PURE__*/function(_HTMLElement116){_inherits($m,_HTMLElement116);var _super170=_createSuper($m);_createClass($m,[{key:"name",get:function get(){return"Primitive";}},{key:"primitive",get:function get(){return this.nk;},set:function set(t){this.nk=t,this.isConnected&&this.qs();}}]);function $m(){var _this834;_classCallCheck(this,$m);_this834=_super170.call(this);var t=[],e=[];for(var i=_this834.constructor;i!==$m;i=Am(i)){i.hasOwnProperty("_shadowTemplate")&&t.push(i._shadowTemplate),i.hasOwnProperty("_shadowStyleSheet")&&e.push(i._shadowStyleSheet);}_this834._shadowRoot=_this834.attachShadow({mode:"closed"}),_this834._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,$m._shadowStyleSheet].concat(e),_this834._shadowRoot.append(document.importNode($m._shadowTemplate.content,!0));var _iterator1428=_createForOfIteratorHelper(t.reverse()),_step1428;try{for(_iterator1428.s();!(_step1428=_iterator1428.n()).done;){var _e1512=_step1428.value;var _t2107=document.importNode(_e1512.content,!0),_i1307=_this834._shadowRoot.querySelector("#main");var _iterator1430=_createForOfIteratorHelper(_toConsumableArray(_t2107.children).reverse()),_step1430;try{for(_iterator1430.s();!(_step1430=_iterator1430.n()).done;){var _e1513=_step1430.value;_i1307.prepend(_e1513);}}catch(err){_iterator1430.e(err);}finally{_iterator1430.f();}}}catch(err){_iterator1428.e(err);}finally{_iterator1428.f();}_this834.nk=null,_this834.lk=!1,_this834.ak=!1,_this834.Dh=es(_this834.qs,200,_assertThisInitialized(_this834));var _iterator1429=_createForOfIteratorHelper(_this834._shadowRoot.querySelectorAll("[id]")),_step1429;try{for(_iterator1429.s();!(_step1429=_iterator1429.n()).done;){var _t2108=_step1429.value;_this834["#"+_t2108.id]=_t2108;}}catch(err){_iterator1429.e(err);}finally{_iterator1429.f();}_this834["#subregion-x-input"].addEventListener("changestart",function(t){return _this834.hk(t);}),_this834["#subregion-y-input"].addEventListener("changestart",function(t){return _this834.rk(t);}),_this834["#subregion-width-input"].addEventListener("changestart",function(t){return _this834.dk(t);}),_this834["#subregion-height-input"].addEventListener("changestart",function(t){return _this834.ck(t);}),_this834["#subregion-lock-button"].addEventListener("toggle",function(){return _this834.pk();});return _this834;}_createClass($m,[{key:"connectedCallback",value:function connectedCallback(){var _this835=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this.lk=this.Qs.getConfig("".concat(this.localName,":subregionLocked"),!1),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this835.nk&&_this835.nk.isConnected&&_this835.Dh();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"hk",value:function hk(t){var _this836=this;var e,_i1308,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion X"),this.ak=!0,this["#subregion-x-input"].addEventListener("change",e=function e(){null===_this836["#subregion-x-input"].value?_this836.primitive.removeAttribute("x"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this836.primitive.setAttribute("x",_this836["#subregion-x-input"].value+"%"):_this836.primitive.setAttribute("x",_this836["#subregion-x-input"].value);}),this["#subregion-x-input"].addEventListener("changeend",_i1308=function i(){_this836["#subregion-x-input"].removeEventListener("change",e),_this836["#subregion-x-input"].removeEventListener("changeend",_i1308),_this836.ak=!1;});}},{key:"rk",value:function rk(t){var _this837=this;var e,_i1309,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion Y"),this.ak=!0,this["#subregion-y-input"].addEventListener("change",e=function e(){null===_this837["#subregion-y-input"].value?_this837.primitive.removeAttribute("y"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this837.primitive.setAttribute("y",_this837["#subregion-y-input"].value+"%"):_this837.primitive.setAttribute("y",_this837["#subregion-y-input"].value);}),this["#subregion-y-input"].addEventListener("changeend",_i1309=function i(){_this837["#subregion-y-input"].removeEventListener("change",e),_this837["#subregion-y-input"].removeEventListener("changeend",_i1309),_this837.ak=!1;});}},{key:"dk",value:function dk(t){var _this838=this;var e,_i1310,s=this.primitive.closest("filter"),n=this["#subregion-lock-button"].toggled,o=this["#subregion-width-input"].value/this["#subregion-height-input"].value;this.Js.board.undoManager.checkpoint("Filter primitive subregion width"),this.ak=!0,this["#subregion-width-input"].addEventListener("change",e=function e(){if(null===_this838["#subregion-width-input"].value)_this838.primitive.removeAttribute("width");else if("objectBoundingBox"===s.getAttribute("primitiveUnits")){if(_this838.primitive.setAttribute("width",_this838["#subregion-width-input"].value+"%"),n){var _t2109=et(_this838["#subregion-width-input"].value/o,0,Infinity,2);_this838["#subregion-height-input"].value=_t2109,_this838.primitive.setAttribute("height",_t2109+"%");}}else if(_this838.primitive.setAttribute("width",_this838["#subregion-width-input"].value),n){var _t2110=et(_this838["#subregion-width-input"].value/o,0,Infinity,2);_this838["#subregion-height-input"].value=_t2110,_this838.primitive.setAttribute("height",_t2110);}}),this["#subregion-width-input"].addEventListener("changeend",_i1310=function i(){_this838["#subregion-width-input"].removeEventListener("change",e),_this838["#subregion-width-input"].removeEventListener("changeend",_i1310),_this838.ak=!1;});}},{key:"ck",value:function ck(t){var _this839=this;var e,_i1311,s=this["#subregion-lock-button"].toggled,n=this["#subregion-width-input"].value/this["#subregion-height-input"].value,o=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter subregion height"),this.ak=!0,this["#subregion-height-input"].addEventListener("change",e=function e(){if(null===_this839["#subregion-height-input"].value)_this839.primitive.removeAttribute("height");else if("objectBoundingBox"===o.getAttribute("primitiveUnits")){if(_this839.primitive.setAttribute("height",_this839["#subregion-height-input"].value+"%"),s){var _t2111=et(_this839["#subregion-height-input"].value/n,0,Infinity,2);_this839["#subregion-width-input"].value=_t2111,_this839.primitive.setAttribute("width",_t2111+"%");}}else if(_this839.primitive.setAttribute("height",_this839["#subregion-height-input"].value),s){var _t2112=et(_this839["#subregion-height-input"].value/n,0,Infinity,2);_this839["#subregion-width-input"].value=_t2112,_this839.primitive.setAttribute("width",_t2112);}}),this["#subregion-height-input"].addEventListener("changeend",_i1311=function i(){_this839["#subregion-height-input"].removeEventListener("change",e),_this839["#subregion-height-input"].removeEventListener("changeend",_i1311),_this839.ak=!1;});}},{key:"pk",value:function pk(){this.lk=this["#subregion-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":subregionLocked"),this.lk),this.qs();}},{key:"qs",value:function qs(){if(!this.ak)if("SourceAlpha"===this.nk||"SourceGraphic"===this.nk)this["#subregion-section"].hidden=!0;else{var _t2113=this.nk,_e1514=_t2113.closest("filter").primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?"%":"",i=zx(_t2113);i=je(i,this.Js.board.geometryPrecision),this["#subregion-section"].hidden=!1,this["#subregion-x-input"].value=_t2113.hasAttribute("x")?i.x:null,this["#subregion-x-input"].suffix=_e1514,this["#subregion-y-input"].value=_t2113.hasAttribute("y")?i.y:null,this["#subregion-y-input"].suffix=_e1514,this["#subregion-width-input"].value=_t2113.hasAttribute("width")?i.width:null,this["#subregion-width-input"].suffix=_e1514,this["#subregion-height-input"].value=_t2113.hasAttribute("height")?i.height:null,this["#subregion-height-input"].suffix=_e1514,this["#subregion-lock-button"].toggled=this.lk,this["#subregion-lock-icon"].name=this.lk?"lock-on":"lock-off";}}}]);return $m;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($m,"_shadowTemplate",Qi(_templateObject405()));_defineProperty($m,"_shadowStyleSheet",Ji(_templateObject406()));var Im=/*#__PURE__*/function(_$m){_inherits(Im,_$m);var _super171=_createSuper(Im);_createClass(Im,[{key:"name",get:function get(){return"Blend";}}]);function Im(){var _this840;_classCallCheck(this,Im);_this840=_super171.call(this),_this840["#blend-mode-select"].addEventListener("change",function(){return _this840._m();});return _this840;}_createClass(Im,[{key:"_m",value:function _m(){this.Js.board.undoManager.checkpoint("Filter blend mode"),this.primitive.setAttribute("mode",this["#blend-mode-select"].value);}},{key:"qs",value:function qs(){this.ak||(_get(_getPrototypeOf(Im.prototype),"qs",this).call(this),this.primitive.hasAttribute("mode")?this["#blend-mode-select"].value=this.primitive.getAttribute("mode"):this["#blend-mode-select"].value="normal");}}]);return Im;}($m);_defineProperty(Im,"_shadowTemplate",Qi(_templateObject407()));_defineProperty(Im,"_shadowStyleSheet",Ji(_templateObject408()));customElements.define("bx-blendprimitiveinspector",Im);var Lm=/*#__PURE__*/function(_$m2){_inherits(Lm,_$m2);var _super172=_createSuper(Lm);_createClass(Lm,[{key:"name",get:function get(){return"Composite";}}]);function Lm(){var _this841;_classCallCheck(this,Lm);_this841=_super172.call(this),_this841["#operator-select"].addEventListener("change",function(){return _this841.uk();}),_this841["#k1-input"].addEventListener("changestart",function(t){return _this841.xk(t);}),_this841["#k2-input"].addEventListener("changestart",function(t){return _this841.xk(t);}),_this841["#k3-input"].addEventListener("changestart",function(t){return _this841.xk(t);}),_this841["#k4-input"].addEventListener("changestart",function(t){return _this841.xk(t);});return _this841;}_createClass(Lm,[{key:"uk",value:function uk(){this.Js.board.undoManager.checkpoint("Composite operator"),this.primitive.setAttribute("operator",this["#operator-select"].value),this.primitive.removeAttribute("k1"),this.primitive.removeAttribute("k2"),this.primitive.removeAttribute("k3"),this.primitive.removeAttribute("k4"),this.qs();}},{key:"xk",value:function xk(t){var _this842=this;var e,_i1312,s=t.target,n=s.dataset.parameter;this.Js.board.undoManager.checkpoint("Composite ".concat(n," parameter")),s.addEventListener("change",e=function e(){0===s.value?_this842.primitive.removeAttribute(n):_this842.primitive.setAttribute(n,s.value);}),s.addEventListener("changeend",_i1312=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1312);});}},{key:"qs",value:function qs(){this.ak||(_get(_getPrototypeOf(Lm.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-select"].value=this.primitive.getAttribute("operator"):this["#operator-select"].value="over","arithmetic"===this.primitive.getAttribute("operator")?(this["#parameters-section"].hidden=!1,this["#k1-input"].value=tt(this.primitive.k1.baseVal,5),this["#k2-input"].value=tt(this.primitive.k2.baseVal,5),this["#k3-input"].value=tt(this.primitive.k3.baseVal,5),this["#k4-input"].value=tt(this.primitive.k4.baseVal,5)):this["#parameters-section"].hidden=!0);}}]);return Lm;}($m);_defineProperty(Lm,"_shadowTemplate",Qi(_templateObject409()));_defineProperty(Lm,"_shadowStyleSheet",Ji(_templateObject410()));customElements.define("bx-compositeprimitiveinspector",Lm);customElements.define("bx-mergeprimitiveinspector",/*#__PURE__*/function(_$m3){_inherits(_class5,_$m3);var _super173=_createSuper(_class5);_createClass(_class5,[{key:"name",get:function get(){return"Merge";}}]);function _class5(){_classCallCheck(this,_class5);return _super173.call(this);}return _class5;}($m));var Rm=/*#__PURE__*/function(_$m4){_inherits(Rm,_$m4);var _super174=_createSuper(Rm);_createClass(Rm,[{key:"name",get:function get(){return"Flood";}}]);function Rm(){var _this843;_classCallCheck(this,Rm);_this843=_super174.call(this),_this843.Pb=!1,_this843.Qx=!1,_this843["#color-select"].addEventListener("changestart",function(){return _this843.Eb();}),_this843["#opacity-box"].addEventListener("changestart",function(t){return _this843.Jx(t);});return _this843;}_createClass(Rm,[{key:"Eb",value:function Eb(){var _this844=this;var t,_e1515;this.Js.board.undoManager.checkpoint("Flood color"),this.Pb=!0,this["#color-select"].addEventListener("change",t=function t(){_this844.primitive.style.setProperty("flood-color",_this844["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1515=function e(){_this844["#color-select"].removeEventListener("change",t),_this844["#color-select"].removeEventListener("changeend",_e1515),Dp("flood-color",_this844.primitive),_this844.Pb=!1;});}},{key:"Jx",value:function Jx(){var _this845=this;var t,_e1516;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Qx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2114){_t2114.target===_this845["#opacity-slider"]?_this845["#opacity-input"].value=_this845["#opacity-slider"].value:_t2114.target===_this845["#opacity-input"]&&(_this845["#opacity-slider"].value=_this845["#opacity-input"].value),_this845.primitive.style.setProperty("flood-opacity",_this845["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1516=function e(){_this845["#opacity-section"].removeEventListener("change",t),_this845["#opacity-section"].removeEventListener("changeend",_e1516),Dp("flood-opacity",_this845.primitive),_this845.Qx=!1;});}},{key:"qs",value:function qs(){if(this.Pb||this.Qx||this.ak)return;_get(_getPrototypeOf(Rm.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#color-select"].value=t.floodColor;{var _e1517=tt(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1517,this["#opacity-input"].value=_e1517;}}}]);return Rm;}($m);_defineProperty(Rm,"_shadowTemplate",Qi(_templateObject411()));_defineProperty(Rm,"_shadowStyleSheet",Ji(_templateObject412()));customElements.define("bx-floodprimitiveinspector",Rm);var Bm=pdfjsLib;Bm.GlobalWorkerOptions.workerSrc="/node_modules/pdfjs-dist/build/pdf.worker.min.js";var Gm=function Gm(t){return new Promise(/*#__PURE__*/function(){var _ref162=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee158(e,i){var s,n,_t2115,_e1518,_e1519,_i1313,_n613,_o493,_l373,_a277,_i1314,_arr64,_e1520,_i1315,_arr65,_t2116,_i1316,_arr66,_t2117,_iterator1431,_step1431,_e1521,_t2118,_e1522,_i1317,_s760,_o494,_e1523,_i1318,_s761,_iterator1432,_step1432,_e1524,_t2119,_i1319,_i1320,_s762,_n614;return regeneratorRuntime.wrap(function _callee158$(_context160){while(1){switch(_context160.prev=_context160.next){case 0:s=null,n=null;_context160.prev=1;_context160.next=4;return Bm.getDocument({data:t}).promise;case 4:s=_context160.sent;_context160.next=10;break;case 7:_context160.prev=7;_context160.t0=_context160["catch"](1);n=_context160.t0;case 10:if(!n){_context160.next=14;break;}i(n);_context160.next=119;break;case 14:if(!(null===s)){_context160.next=18;break;}i("PDF data not found.");_context160.next=119;break;case 18:if(!(1===s.numPages)){_context160.next=27;break;}_context160.next=21;return s.getPage(1);case 21:_e1518=_context160.sent;_context160.next=24;return Um(_e1518,1);case 24:_t2115=_context160.sent;_context160.next=46;break;case 27:_t2115=ts(_templateObject60());_e1519=0;_i1313=1;case 30:if(!(_i1313<=s.numPages)){_context160.next=45;break;}_context160.next=33;return s.getPage(_i1313);case 33:_n613=_context160.sent;_context160.next=36;return Um(_n613,1);case 36:_o493=_context160.sent;_l373=_n613.getViewport({scale:1}).viewBox;_a277=ts(_templateObject61(),_e1519,_i1313);if(_t2115.append(_a277),1===_i1313)for(_i1314=0,_arr64=_toConsumableArray(_o493.attributes);_i1314<_arr64.length;_i1314++){_e1520=_arr64[_i1314];_t2115.setAttribute(_e1520.name,_e1520.value);}else for(_i1315=0,_arr65=_toConsumableArray(_o493.attributes);_i1315<_arr65.length;_i1315++){_t2116=_arr65[_i1315];_a277.setAttribute(_t2116.name,_t2116.value);}for(_i1316=0,_arr66=_toConsumableArray(_o493.children);_i1316<_arr66.length;_i1316++){_t2117=_arr66[_i1316];_a277.append(_t2117);}_e1519+=_l373[3],_i1313<s.numPages&&(_e1519+=60);case 42:_i1313+=1;_context160.next=30;break;case 45:_t2115.viewBox.baseVal.height=_e1519,_t2115.height.baseVal.value=_e1519;case 46:_iterator1431=_createForOfIteratorHelper(_t2115.querySelectorAll("style"));_context160.prev=47;_iterator1431.s();case 49:if((_step1431=_iterator1431.n()).done){_context160.next=76;break;}_e1521=_step1431.value;_t2118=_e1521.textContent;case 52:if(!_t2118.includes("url(blob:")){_context160.next=73;break;}_e1522=_t2118.indexOf("url(blob:"),_i1317=_t2118.indexOf(")",_e1522)+1,_s760=_t2118.substring(_e1522,_i1317),_o494=_s760.substring(4,_s760.length-1);_context160.prev=54;_context160.next=57;return fetch(_o494,{mode:"no-cors"});case 57:_e1523=_context160.sent;_context160.next=60;return _e1523.blob();case 60:_i1318=_context160.sent;_context160.next=63;return Vh(_i1318);case 63:_s761=_context160.sent;"data:"!==_s761&&(_t2118=_t2118.replace(_o494,_s761));_context160.next=71;break;case 67:_context160.prev=67;_context160.t1=_context160["catch"](54);console.log(_context160.t1);return _context160.abrupt("break",73);case 71:_context160.next=52;break;case 73:_e1521.textContent=_t2118;case 74:_context160.next=49;break;case 76:_context160.next=81;break;case 78:_context160.prev=78;_context160.t2=_context160["catch"](47);_iterator1431.e(_context160.t2);case 81:_context160.prev=81;_iterator1431.f();return _context160.finish(81);case 84:_iterator1432=_createForOfIteratorHelper(_t2115.querySelectorAll("image"));_context160.prev=85;_iterator1432.s();case 87:if((_step1432=_iterator1432.n()).done){_context160.next=110;break;}_e1524=_step1432.value;_t2119=_e1524.getAttribute("xlink:href")||"";if(!_t2119.startsWith("blob:")){_context160.next=108;break;}_i1319=null;_context160.prev=92;_context160.next=95;return fetch(_t2119,{mode:"no-cors"});case 95:_i1320=_context160.sent;_context160.next=98;return _i1320.blob();case 98:_s762=_context160.sent;_context160.next=101;return Vh(_s762);case 101:_n614=_context160.sent;"data:"!==_n614&&_e1524.setAttribute("xlink:href",_n614);_context160.next=108;break;case 105:_context160.prev=105;_context160.t3=_context160["catch"](92);console.log("Fetch error",_i1319);case 108:_context160.next=87;break;case 110:_context160.next=115;break;case 112:_context160.prev=112;_context160.t4=_context160["catch"](85);_iterator1432.e(_context160.t4);case 115:_context160.prev=115;_iterator1432.f();return _context160.finish(115);case 118:e(jp(_t2115,"xml"));case 119:case"end":return _context160.stop();}}},_callee158,null,[[1,7],[47,78,81,84],[54,67],[85,112,115,118],[92,105]]);}));return function(_x186,_x187){return _ref162.apply(this,arguments);};}());},Um=function Um(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return new Promise(/*#__PURE__*/function(){var _ref163=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee159(e){var i,s,n,o,a,_loop32,_i1321,_arr67,_i1322,_arr68,_t2120,h,r,d,_t2121,_loop33,_i1323,_arr69,_i1325,_arr70,_e1526;return regeneratorRuntime.wrap(function _callee159$(_context161){while(1){switch(_context161.prev=_context161.next){case 0:i=document.createElementNS(l.svg,"svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");s=t.getViewport({scale:1});_context161.next=5;return t.getOperatorList();case 5:n=_context161.sent;o=new Bm.SVGGraphics(t.commonObjs,t.objs);o.embedFonts=!0;_context161.next=10;return o.getSVG(n,s);case 10:a=_context161.sent;_loop32=function _loop32(){var t=_arr67[_i1321];if(j.includes(t.name)){var _e1525=V.find(function(e){return e.presentationAttributeName===t.name;});i.style.setProperty(_e1525.name,t.value);}else i.setAttribute(t.name,t.value);};for(_i1321=0,_arr67=_toConsumableArray(a.attributes);_i1321<_arr67.length;_i1321++){_loop32();}for(_i1322=0,_arr68=_toConsumableArray(a.childNodes);_i1322<_arr68.length;_i1322++){_t2120=_arr68[_i1322];i.append(_t2120);}h=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,r=document.createNodeIterator(i,h),d=null;for(;d=r.nextNode();){if(d.nodeType===Node.ELEMENT_NODE&&("svg"===d.prefix||"xlink"===d.prefix)){_t2121=document.createElementNS(l[d.prefix],d.localName);_loop33=function _loop33(){var e=_arr69[_i1323];if(j.includes(e.name)){var _i1324=V.find(function(t){return t.presentationAttributeName===e.name;});_t2121.style.setProperty(_i1324.name,e.value);}else _t2121.setAttribute(e.name,e.value);};for(_i1323=0,_arr69=_toConsumableArray(d.attributes);_i1323<_arr69.length;_i1323++){_loop33();}for(_i1325=0,_arr70=_toConsumableArray(d.childNodes);_i1325<_arr70.length;_i1325++){_e1526=_arr70[_i1325];_t2121.append(_e1526);}d.replaceWith(_t2121);}}e(i);case 17:case"end":return _context161.stop();}}},_callee159);}));return function(_x188){return _ref163.apply(this,arguments);};}());};var Fm=/*#__PURE__*/function(_$m5){_inherits(Fm,_$m5);var _super175=_createSuper(Fm);_createClass(Fm,[{key:"name",get:function get(){return"Image";}}]);function Fm(){var _this846;_classCallCheck(this,Fm);_this846=_super175.call(this),_this846["#source-href-input"].addEventListener("change",function(){return _this846.bk();}),_this846["#source-import-button"].addEventListener("click",function(){return _this846.mk();});return _this846;}_createClass(Fm,[{key:"bk",value:function bk(){this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",this["#source-href-input"].value);}},{key:"mk",value:function(){var _mk=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee160(){var t,_e1527,_i1326,_i1327,_s763,_t2122;return regeneratorRuntime.wrap(function _callee160$(_context162){while(1){switch(_context162.prev=_context162.next){case 0:_context162.next=2;return this.Qs.openImageImportDialog();case 2:t=_context162.sent;if(!t){_context162.next=34;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context162.next=11;break;}_i1326=new Blob([t.data],{type:"image/svg+xml"});_context162.next=8;return Vh(_i1326);case 8:_e1527=_context162.sent;_context162.next=33;break;case 11:if(!("pdf"===t.extension||"ai"===t.extension)){_context162.next=32;break;}_i1327=null,_s763=null;_context162.prev=13;_context162.next=16;return Gm(t.data);case 16:_i1327=_context162.sent;_context162.next=22;break;case 19:_context162.prev=19;_context162.t0=_context162["catch"](13);_s763=_context162.t0;case 22:if(!_s763){_context162.next=26;break;}this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_s763.message});_context162.next=30;break;case 26:_t2122=new Blob([_i1327],{type:"image/svg+xml"});_context162.next=29;return Vh(_t2122);case 29:_e1527=_context162.sent;case 30:_context162.next=33;break;case 32:_e1527=t.data;case 33:_e1527&&(this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",_e1527));case 34:case"end":return _context162.stop();}}},_callee160,this,[[13,19]]);}));function mk(){return _mk.apply(this,arguments);}return mk;}()},{key:"qs",value:function qs(){if(!this.ak){_get(_getPrototypeOf(Fm.prototype),"qs",this).call(this);this.primitive.getAttribute("href");""===this.primitive.href.baseVal?(this["#source-href-input"].value="",this["#source-thumbnail-img"].removeAttribute("src")):(this["#source-href-input"].value=this.primitive.getAttribute("href"),this["#source-thumbnail-img"].src=this.primitive.getAttribute("href"));}}}]);return Fm;}($m);_defineProperty(Fm,"_shadowTemplate",Qi(_templateObject413()));_defineProperty(Fm,"_shadowStyleSheet",Ji(_templateObject414()));customElements.define("bx-imageprimitiveinspector",Fm);customElements.define("bx-tileprimitiveinspector",/*#__PURE__*/function(_$m6){_inherits(_class6,_$m6);var _super176=_createSuper(_class6);_createClass(_class6,[{key:"name",get:function get(){return"Tile";}}]);function _class6(){_classCallCheck(this,_class6);return _super176.call(this);}return _class6;}($m));var Nm=/*#__PURE__*/function(_$m7){_inherits(Nm,_$m7);var _super177=_createSuper(Nm);_createClass(Nm,[{key:"name",get:function get(){return"Turbulence";}}]);function Nm(){var _this847;_classCallCheck(this,Nm);_this847=_super177.call(this),_this847.gk=!1,_this847.tm=!1,_this847.fk=!1,_this847.wk=!1,_this847["#type-buttons"].addEventListener("toggle",function(){return _this847.vk();}),_this847["#frequency-x-input"].addEventListener("changestart",function(t){return _this847.yk(t);}),_this847["#frequency-y-input"].addEventListener("changestart",function(t){return _this847.kk(t);}),_this847["#frequency-lock-button"].addEventListener("toggle",function(){return _this847.Sk();}),_this847["#frequency-stitch-checkbox"].addEventListener("toggle",function(){return _this847._k();}),_this847["#octaves-box"].addEventListener("changestart",function(t){return _this847.Ck(t);}),_this847["#seed-box"].addEventListener("changestart",function(t){return _this847.Mk(t);});return _this847;}_createClass(Nm,[{key:"connectedCallback",value:function connectedCallback(){this.gk=app.getConfig("".concat(this.localName,":frequencyLocked"),!1),_get(_getPrototypeOf(Nm.prototype),"connectedCallback",this).call(this);}},{key:"vk",value:function vk(){this.Js.board.undoManager.checkpoint("Turbulence type"),this.primitive.setAttribute("type",this["#type-buttons"].value);}},{key:"yk",value:function yk(t){var _this848=this;var e,i,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.tm=!0,this["#frequency-x-input"].addEventListener("change",e=function e(){null===_this848["#frequency-x-input"].value&&(_this848["#frequency-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this848["#frequency-y-input"].value=et(_this848["#frequency-x-input"].value/n,0,Infinity,2):_this848["#frequency-y-input"].value=_this848["#frequency-x-input"].value);var t=_this848["#frequency-x-input"].value,e=_this848["#frequency-y-input"].value;_this848.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-x-input"].addEventListener("changeend",i=function(_i1328){function i(){return _i1328.apply(this,arguments);}i.toString=function(){return _i1328.toString();};return i;}(function(){_this848["#frequency-x-input"].removeEventListener("change",e),_this848["#frequency-x-input"].removeEventListener("changeend",i),_this848.tm=!1;}));}},{key:"kk",value:function kk(t){var _this849=this;var e,i,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.tm=!0,this["#frequency-y-input"].addEventListener("change",e=function e(){null===_this849["#frequency-y-input"].value&&(_this849["#frequency-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this849["#frequency-x-input"].value=et(_this849["#frequency-y-input"].value/n,0,Infinity,2):_this849["#frequency-x-input"].value=_this849["#frequency-y-input"].value);var t=_this849["#frequency-x-input"].value,e=_this849["#frequency-y-input"].value;_this849.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-y-input"].addEventListener("changeend",i=function(_i1329){function i(){return _i1329.apply(this,arguments);}i.toString=function(){return _i1329.toString();};return i;}(function(){_this849["#frequency-y-input"].removeEventListener("change",e),_this849["#frequency-y-input"].removeEventListener("changeend",i),_this849.tm=!1;}));}},{key:"Sk",value:function Sk(){this.gk=this["#frequency-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":frequencyLocked"),this.gk),this.qs();}},{key:"_k",value:function _k(){this["#frequency-stitch-checkbox"].toggled?this.primitive.setAttribute("stitchTiles","stitch"):this.primitive.removeAttribute("stitchTiles");}},{key:"Ck",value:function Ck(){var _this850=this;var t,_e1528;this.Js.board.undoManager.checkpoint("Number of octaves"),this.fk=!0,this["#octaves-section"].addEventListener("change",t=function t(_t2123){_t2123.target===_this850["#octaves-slider"]?_this850["#octaves-input"].value=_this850["#octaves-slider"].value:_t2123.target===_this850["#octaves-input"]&&(_this850["#octaves-slider"].value=Math.floor(_this850["#octaves-input"].value)),_this850.primitive.setAttribute("numOctaves",_this850["#octaves-slider"].value);}),this["#octaves-section"].addEventListener("changeend",_e1528=function e(){_this850["#octaves-section"].removeEventListener("change",t),_this850["#octaves-section"].removeEventListener("changeend",_e1528),_this850.fk=!1;});}},{key:"Mk",value:function Mk(){var _this851=this;var t,_e1529;this.Js.board.undoManager.checkpoint("Seed"),this.wk=!0,this["#seed-section"].addEventListener("change",t=function t(_t2124){_t2124.target===_this851["#seed-slider"]?_this851["#seed-input"].value=_this851["#seed-slider"].value:_t2124.target===_this851["#seed-input"]&&(_this851["#seed-slider"].value=Math.floor(_this851["#seed-input"].value)),_this851.primitive.setAttribute("seed",_this851["#seed-slider"].value);}),this["#seed-section"].addEventListener("changeend",_e1529=function e(){_this851["#seed-section"].removeEventListener("change",t),_this851["#seed-section"].removeEventListener("changeend",_e1529),_this851.wk=!1;});}},{key:"qs",value:function qs(){this.tm||this.fk||this.wk||this.ak||(_get(_getPrototypeOf(Nm.prototype),"qs",this).call(this),this.primitive.hasAttribute("type")?this["#type-buttons"].value=this.primitive.getAttribute("type"):this["#type-buttons"].value="turbulence",this["#frequency-x-input"].value=tt(this.primitive.baseFrequencyX.baseVal,2),this["#frequency-y-input"].value=tt(this.primitive.baseFrequencyY.baseVal,2),this["#frequency-lock-button"].toggled=this.gk,this["#frequency-lock-icon"].name=this.gk?"lock-on":"lock-off",this["#frequency-stitch-checkbox"].toggled="stitch"===this.primitive.getAttribute("stitchTiles"),this["#octaves-slider"].value=this.primitive.numOctaves.baseVal,this["#octaves-input"].value=this.primitive.numOctaves.baseVal,this["#seed-slider"].value=this.primitive.seed.baseVal,this["#seed-input"].value=this.primitive.seed.baseVal);}}]);return Nm;}($m);_defineProperty(Nm,"_shadowTemplate",Qi(_templateObject415()));_defineProperty(Nm,"_shadowStyleSheet",Ji(_templateObject416()));customElements.define("bx-turbulenceprimitiveinspector",Nm);var Vm={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],saturate:1,hueRotate:0,luminanceToAlpha:0};var jm=/*#__PURE__*/function(_$m8){_inherits(jm,_$m8);var _super178=_createSuper(jm);_createClass(jm,[{key:"name",get:function get(){return"Color matrix";}}]);function jm(){var _this852;_classCallCheck(this,jm);_this852=_super178.call(this),_this852.Pk=!1,_this852.Dk=!1,_this852.zk=!1,_this852["#type-select"].addEventListener("change",function(){return _this852.Ok();}),_this852["#matrix-values-section"].addEventListener("changestart",function(t){return _this852.Ek(t);}),_this852["#saturate-value-box"].addEventListener("changestart",function(){return _this852.Tk();}),_this852["#hue-rotate-value-box"].addEventListener("changestart",function(){return _this852.Ak();});return _this852;}_createClass(jm,[{key:"Ok",value:function Ok(){this.Js.board.undoManager.checkpoint("Color matrix type"),"matrix"===this["#type-select"].value?(this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("type")):this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("values");}},{key:"Ek",value:function Ek(t){var _this853=this;var e,i,s=t.target,n=_toConsumableArray(this["#matrix-values-section"].querySelectorAll("x-numberinput:not([disabled])")),o=n.indexOf(s);this.Js.board.undoManager.checkpoint("Color matrix values"),this.Pk=!0,s.addEventListener("change",e=function e(){null===s.value&&(s.value=Vm.matrix[o]);var t=n.map(function(t){return t.value;});_this853.primitive.setAttribute("values",t.join(" "));}),s.addEventListener("changeend",i=function(_i1330){function i(){return _i1330.apply(this,arguments);}i.toString=function(){return _i1330.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this853.Pk=!1;}));}},{key:"Tk",value:function Tk(){var _this854=this;var t,_e1530;this.Js.board.undoManager.checkpoint("Color matrix value"),this.Dk=!0,this["#saturate-value-box"].addEventListener("change",t=function t(_t2125){_t2125.target===_this854["#saturate-value-slider"]?_this854["#saturate-value-input"].value=_this854["#saturate-value-slider"].value:_t2125.target===_this854["#saturate-value-input"]&&(_this854["#saturate-value-slider"].value=_this854["#saturate-value-input"].value),_this854.primitive.setAttribute("values",_this854["#saturate-value-input"].value);}),this["#saturate-value-box"].addEventListener("changeend",_e1530=function e(){_this854["#saturate-value-box"].removeEventListener("change",t),_this854["#saturate-value-box"].removeEventListener("changeend",_e1530),_this854.Dk=!1;});}},{key:"Ak",value:function Ak(){var _this855=this;var t,_e1531;this.Js.board.undoManager.checkpoint("Color matrix hue rotate"),this.zk=!0,this["#hue-rotate-value-box"].addEventListener("change",t=function t(_t2126){_t2126.target===_this855["#hue-rotate-value-slider"]?_this855["#hue-rotate-value-input"].value=_this855["#hue-rotate-value-slider"].value:_t2126.target===_this855["#hue-rotate-value-input"]&&(_this855["#hue-rotate-value-slider"].value=_this855["#hue-rotate-value-input"].value),_this855.primitive.setAttribute("values",_this855["#hue-rotate-value-input"].value);}),this["#hue-rotate-value-box"].addEventListener("changeend",_e1531=function e(){_this855["#hue-rotate-value-box"].removeEventListener("change",t),_this855["#hue-rotate-value-box"].removeEventListener("changeend",_e1531),_this855.zk=!1;});}},{key:"qs",value:function qs(){if(this.Pk||this.Dk||this.zk||this.ak)return;_get(_getPrototypeOf(jm.prototype),"qs",this).call(this);var t=this.primitive.getAttribute("type");if(!1===["saturate","hueRotate","luminanceToAlpha","matrix"].includes(t)&&(t="matrix"),this["#type-select"].value=t,"matrix"===t){var _t2127=_toConsumableArray(Vm.matrix);for(var _e1532=0;_e1532<this.primitive.values.baseVal.numberOfItems;_e1532+=1){_t2127[_e1532]=tt(this.primitive.values.baseVal[_e1532].value,2);}for(var _e1533=0;_e1533<_t2127.length;_e1533+=1){this["#matrix-".concat(_e1533,"-input")].value=_t2127[_e1533];}this["#matrix-values-section"].hidden=!1;}else this["#matrix-values-section"].hidden=!0;if("saturate"===t){var _t2128=Vm.saturate;this.primitive.values.baseVal.numberOfItems>0&&(_t2128=tt(this.primitive.values.baseVal[0].value,2)),this["#saturate-value-section"].hidden=!1,this["#saturate-value-input"].value=_t2128,this["#saturate-value-slider"].value=_t2128;}else this["#saturate-value-section"].hidden=!0;if("hueRotate"===t){var _t2129=Vm.hueRotate;this.primitive.values.baseVal.numberOfItems>0&&(_t2129=tt(this.primitive.values.baseVal[0].value,0)),this["#hue-rotate-value-section"].hidden=!1,this["#hue-rotate-value-input"].value=_t2129,this["#hue-rotate-value-slider"].value=_t2129;}else this["#hue-rotate-value-section"].hidden=!0;}}]);return jm;}($m);_defineProperty(jm,"_shadowTemplate",Qi(_templateObject417()));_defineProperty(jm,"_shadowStyleSheet",Ji(_templateObject418()));customElements.define("bx-colormatrixprimitiveinspector",jm);var Hm=/*#__PURE__*/function(_$m9){_inherits(Hm,_$m9);var _super179=_createSuper(Hm);_createClass(Hm,[{key:"name",get:function get(){return"Component transfer";}}]);function Hm(){var _this856;_classCallCheck(this,Hm);_this856=_super179.call(this),_this856.$k=!1,_this856.Ik=!1,_this856.Lk=!1,_this856.Rk=!1,_this856.Bk=!1,_this856.Gk=!1,_this856["#component-buttons"].addEventListener("toggle",function(){return _this856.Uk();}),_this856["#type-select"].addEventListener("change",function(){return _this856.Ok();}),_this856["#linear-slope-box"].addEventListener("changestart",function(){return _this856.Fk();}),_this856["#linear-intercept-box"].addEventListener("changestart",function(){return _this856.Nk();}),_this856["#gamma-amplitude-box"].addEventListener("changestart",function(){return _this856.Vk();}),_this856["#gamma-exponent-box"].addEventListener("changestart",function(){return _this856.jk();}),_this856["#gamma-offset-box"].addEventListener("changestart",function(){return _this856.Hk();}),_this856["#table-values-box"].addEventListener("changestart",function(t){return _this856.Wk(t);});return _this856;}_createClass(Hm,[{key:"Uk",value:function Uk(){this.qs();}},{key:"Ok",value:function Ok(){var t=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function type"),t||(t=Ii("svg:"+this["#component-buttons"].value),this.primitive.append(t)),"identity"===this["#type-select"].value?t.removeAttribute("type"):t.setAttribute("type",this["#type-select"].value),"linear"!==this["#type-select"].value&&(t.removeAttribute("slope"),t.removeAttribute("intercept")),"gamma"!==this["#type-select"].value&&(t.removeAttribute("amplitude"),t.removeAttribute("exponent"),t.removeAttribute("offset")),"table"!==this["#type-select"].value&&"discrete"!==this["#type-select"].value&&t.removeAttribute("tableValues");}},{key:"Fk",value:function Fk(){var _this857=this;var t,_e1534,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function slope"),this.$k=!0,this["#linear-slope-section"].addEventListener("change",t=function t(_t2130){_t2130.target===_this857["#linear-slope-slider"]?_this857["#linear-slope-input"].value=_this857["#linear-slope-slider"].value:_t2130.target===_this857["#linear-slope-input"]&&(_this857["#linear-slope-slider"].value=_this857["#linear-slope-input"].value),1===_this857["#linear-slope-input"].value?i.removeAttribute("slope"):i.setAttribute("slope",_this857["#linear-slope-input"].value);}),this["#linear-slope-section"].addEventListener("changeend",_e1534=function e(){_this857["#linear-slope-section"].removeEventListener("change",t),_this857["#linear-slope-section"].removeEventListener("changeend",_e1534),_this857.$k=!1;});}},{key:"Nk",value:function Nk(){var _this858=this;var t,_e1535,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function intercept"),this.Ik=!0,this["#linear-intercept-section"].addEventListener("change",t=function t(_t2131){_t2131.target===_this858["#linear-intercept-slider"]?_this858["#linear-intercept-input"].value=_this858["#linear-intercept-slider"].value:_t2131.target===_this858["#linear-intercept-input"]&&(_this858["#linear-intercept-slider"].value=_this858["#linear-intercept-input"].value),0===_this858["#linear-intercept-input"].value?i.removeAttribute("intercept"):i.setAttribute("intercept",_this858["#linear-intercept-input"].value);}),this["#linear-intercept-section"].addEventListener("changeend",_e1535=function e(){_this858["#linear-intercept-section"].removeEventListener("change",t),_this858["#linear-intercept-section"].removeEventListener("changeend",_e1535),_this858.Ik=!1;});}},{key:"Vk",value:function Vk(){var _this859=this;var t,_e1536,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function amplitude"),this.Lk=!0,this["#gamma-amplitude-section"].addEventListener("change",t=function t(_t2132){_t2132.target===_this859["#gamma-amplitude-slider"]?_this859["#gamma-amplitude-input"].value=_this859["#gamma-amplitude-slider"].value:_t2132.target===_this859["#gamma-amplitude-input"]&&(_this859["#gamma-amplitude-slider"].value=_this859["#gamma-amplitude-input"].value),1===_this859["#gamma-amplitude-input"].value?i.removeAttribute("amplitude"):i.setAttribute("amplitude",_this859["#gamma-amplitude-input"].value);}),this["#gamma-amplitude-section"].addEventListener("changeend",_e1536=function e(){_this859["#gamma-amplitude-section"].removeEventListener("change",t),_this859["#gamma-amplitude-section"].removeEventListener("changeend",_e1536),_this859.Lk=!1;});}},{key:"jk",value:function jk(){var _this860=this;var t,_e1537,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function exponent"),this.Rk=!0,this["#gamma-exponent-section"].addEventListener("change",t=function t(_t2133){_t2133.target===_this860["#gamma-exponent-slider"]?_this860["#gamma-exponent-input"].value=_this860["#gamma-exponent-slider"].value:_t2133.target===_this860["#gamma-exponent-input"]&&(_this860["#gamma-exponent-slider"].value=_this860["#gamma-exponent-input"].value),1===_this860["#gamma-exponent-input"].value?i.removeAttribute("exponent"):i.setAttribute("exponent",_this860["#gamma-exponent-input"].value);}),this["#gamma-exponent-section"].addEventListener("changeend",_e1537=function e(){_this860["#gamma-exponent-section"].removeEventListener("change",t),_this860["#gamma-exponent-section"].removeEventListener("changeend",_e1537),_this860.Rk=!1;});}},{key:"Hk",value:function Hk(){var _this861=this;var t,_e1538,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function offset"),this.Bk=!0,this["#gamma-offset-section"].addEventListener("change",t=function t(_t2134){_t2134.target===_this861["#gamma-offset-slider"]?_this861["#gamma-offset-input"].value=_this861["#gamma-offset-slider"].value:_t2134.target===_this861["#gamma-offset-input"]&&(_this861["#gamma-offset-slider"].value=_this861["#gamma-offset-input"].value),0===_this861["#gamma-offset-input"].value?i.removeAttribute("offset"):i.setAttribute("offset",_this861["#gamma-offset-input"].value);}),this["#gamma-offset-section"].addEventListener("changeend",_e1538=function e(){_this861["#gamma-offset-section"].removeEventListener("change",t),_this861["#gamma-offset-section"].removeEventListener("changeend",_e1538),_this861.Bk=!1;});}},{key:"Wk",value:function Wk(t){var _this862=this;var e,i,s=this.primitive.querySelector(this["#component-buttons"].value),n=_toConsumableArray(this["#table-values-box"].children),o=t.target;this.Js.board.undoManager.checkpoint("Component transfer function table values"),this.Gk=!0,o.addEventListener("change",e=function e(){var t=n.map(function(t){return t.value;}).filter(function(t){return null!==t;});0===t.length?s.removeAttribute("tableValues"):s.setAttribute("tableValues",t.join(" "));}),o.addEventListener("changeend",i=function(_i1331){function i(){return _i1331.apply(this,arguments);}i.toString=function(){return _i1331.toString();};return i;}(function(){o.removeEventListener("change",e),o.removeEventListener("changeend",i),_this862.Gk=!1,_this862.qs();}));}},{key:"qs",value:function qs(){if(this.$k||this.Ik||this.Lk||this.Rk||this.Bk||this.Gk||this.ak)return;_get(_getPrototypeOf(Hm.prototype),"qs",this).call(this);var t=this.primitive.querySelector(this["#component-buttons"].value),e=t?t.getAttribute("type"):"identity";if(!1===["identity","table","discrete","linear","gamma"].includes(e)&&(e="identity"),this["#type-select"].value=e,"linear"===e?(this["#linear-slope-section"].hidden=!1,this["#linear-slope-slider"].value=tt(t.slope.baseVal,2),this["#linear-slope-input"].value=tt(t.slope.baseVal,2)):this["#linear-slope-section"].hidden=!0,"linear"===e?(this["#linear-intercept-section"].hidden=!1,this["#linear-intercept-slider"].value=tt(t.intercept.baseVal,2),this["#linear-intercept-input"].value=tt(t.intercept.baseVal,2)):this["#linear-intercept-section"].hidden=!0,"gamma"===e?(this["#gamma-amplitude-section"].hidden=!1,this["#gamma-amplitude-slider"].value=tt(t.amplitude.baseVal,2),this["#gamma-amplitude-input"].value=tt(t.amplitude.baseVal,2)):this["#gamma-amplitude-section"].hidden=!0,"gamma"===e?(this["#gamma-exponent-section"].hidden=!1,this["#gamma-exponent-slider"].value=t.exponent.baseVal,this["#gamma-exponent-input"].value=t.exponent.baseVal):this["#gamma-exponent-section"].hidden=!0,"gamma"===e?(this["#gamma-offset-section"].hidden=!1,this["#gamma-offset-slider"].value=t.offset.baseVal,this["#gamma-offset-input"].value=t.offset.baseVal):this["#gamma-offset-section"].hidden=!0,"table"===e||"discrete"===e){this["#table-values-section"].hidden=!1;var _e1539=_toConsumableArray(t.tableValues.baseVal).map(function(t){return tt(t.value,2);}),_i1332=Math.max(2,_e1539.length+1);for(;this["#table-values-box"].childElementCount<_i1332;){this["#table-values-box"].append(this["#table-values-box"].lastElementChild.cloneNode());}for(;this["#table-values-box"].childElementCount>_i1332;){this["#table-values-box"].lastElementChild.remove();}for(var _t2135=0;_t2135<_i1332;_t2135+=1){void 0===_e1539[_t2135]?this["#table-values-box"].children[_t2135].value=null:this["#table-values-box"].children[_t2135].value=_e1539[_t2135];}}else this["#table-values-section"].hidden=!0;}}]);return Hm;}($m);_defineProperty(Hm,"_shadowTemplate",Qi(_templateObject419()));_defineProperty(Hm,"_shadowStyleSheet",Ji(_templateObject420()));customElements.define("bx-componenttransferprimitiveinspector",Hm);var Wm=10;var Ym=/*#__PURE__*/function(_$m10){_inherits(Ym,_$m10);var _super180=_createSuper(Ym);_createClass(Ym,[{key:"name",get:function get(){return"Convolve matrix";}}]);function Ym(){var _this863;_classCallCheck(this,Ym);_this863=_super180.call(this),_this863.Yk=!1,_this863.qk=!1,_this863.Xk=!1,_this863.Zk=!1,_this863["#target-box"].addEventListener("changestart",function(t){return _this863.Kk(t);}),_this863["#kernel-values-table"].addEventListener("changestart",function(t){return _this863.Qk(t);}),_this863["#kernel-row-buttons"].addEventListener("click",function(t){return _this863.Jk(t);}),_this863["#kernel-column-buttons"].addEventListener("click",function(t){return _this863.tS(t);}),_this863["#divisor-switch"].addEventListener("toggle",function(){return _this863.eS();}),_this863["#divisor-box"].addEventListener("changestart",function(t){return _this863.iS(t);}),_this863["#bias-box"].addEventListener("changestart",function(t){return _this863.sS(t);}),_this863["#edge-mode-buttons"].addEventListener("toggle",function(){return _this863.nS();}),_this863["#preserve-alpha-checkbox"].addEventListener("toggle",function(){return _this863.oS();});return _this863;}_createClass(Ym,[{key:"Qk",value:function Qk(t){var _this864=this;var e,i,s=t.target,n=parseInt(s.dataset.x),o=parseInt(s.dataset.y),_this$lS=this.lS(),l=_this$lS.values,a=_this$lS.orderX,h=_this$lS.orderY,r=_this$lS.targetX,d=_this$lS.targetY;this.Js.board.undoManager.checkpoint("Convolve matrix value"),this.Yk=!0,s.addEventListener("change",e=function e(){var _ref164;l[o][n]=s.value,_this864.primitive.setAttribute("kernelMatrix","".concat((_ref164=[]).concat.apply(_ref164,_toConsumableArray(l))));}),s.addEventListener("changeend",i=function(_i1333){function i(){return _i1333.apply(this,arguments);}i.toString=function(){return _i1333.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this864.Yk=!1;}));}},{key:"Jk",value:function Jk(t){var _ref165;var e=t.target.closest("x-button"),_this$lS2=this.lS(),i=_this$lS2.values,s=_this$lS2.orderX,n=_this$lS2.orderY,o=_this$lS2.targetX,l=_this$lS2.targetY;e===this["#kernel-add-row-button"]?(n+=1,i.push(new Array(s).fill(0))):e===this["#kernel-remove-row-button"]&&(n-=1,i.length=n),this.Js.board.undoManager.checkpoint("Convolve matrix rows"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref165=[]).concat.apply(_ref165,_toConsumableArray(i)))),l>i.length-1&&this.primitive.removeAttribute("targetY");}},{key:"tS",value:function tS(t){var _ref166;var e=t.target.closest("x-button"),_this$lS3=this.lS(),i=_this$lS3.values,s=_this$lS3.orderX,n=_this$lS3.orderY,o=_this$lS3.targetX,l=_this$lS3.targetY;if(e===this["#kernel-add-column-button"]){s+=1;var _iterator1433=_createForOfIteratorHelper(i),_step1433;try{for(_iterator1433.s();!(_step1433=_iterator1433.n()).done;){var _t2136=_step1433.value;_t2136.push(0);}}catch(err){_iterator1433.e(err);}finally{_iterator1433.f();}}else if(e===this["#kernel-remove-column-button"]){s-=1;var _iterator1434=_createForOfIteratorHelper(i),_step1434;try{for(_iterator1434.s();!(_step1434=_iterator1434.n()).done;){var _t2137=_step1434.value;_t2137.pop();}}catch(err){_iterator1434.e(err);}finally{_iterator1434.f();}}this.Js.board.undoManager.checkpoint("Convolve matrix columns"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref166=[]).concat.apply(_ref166,_toConsumableArray(i)))),o>i[0].length-1&&this.primitive.removeAttribute("targetX");}},{key:"Kk",value:function Kk(t){var _this865=this;var e,i,s=t.target;this.Js.board.undoManager.checkpoint("Convolve matrix target"),this.qk=!0,this["#target-box"].addEventListener("change",e=function e(){_this865.primitive.setAttribute(s.dataset.name,Math.floor(s.value));var _iterator1435=_createForOfIteratorHelper(_this865["#kernel-values-table"].querySelectorAll("x-numberinput")),_step1435;try{for(_iterator1435.s();!(_step1435=_iterator1435.n()).done;){var _t2138=_step1435.value;parseInt(_t2138.dataset.x)===_this865["#target-x-input"].value&&parseInt(_t2138.dataset.y)===_this865["#target-y-input"].value?_t2138.setAttribute("data-target","true"):_t2138.setAttribute("data-target","false");}}catch(err){_iterator1435.e(err);}finally{_iterator1435.f();}}),this["#target-box"].addEventListener("changeend",i=function(_i1334){function i(){return _i1334.apply(this,arguments);}i.toString=function(){return _i1334.toString();};return i;}(function(){_this865["#target-box"].removeEventListener("change",e),_this865["#target-box"].removeEventListener("changeend",i),_this865.qk=!1;}));}},{key:"eS",value:function eS(){if(this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this["#divisor-switch"].toggled){var _t2139=1,_e1540=0;var _iterator1436=_createForOfIteratorHelper(this.lS().flatValues),_step1436;try{for(_iterator1436.s();!(_step1436=_iterator1436.n()).done;){var _t2140=_step1436.value;_e1540+=_t2140;}}catch(err){_iterator1436.e(err);}finally{_iterator1436.f();}0!==_e1540&&(_t2139=tt(_e1540,2)),this.primitive.setAttribute("divisor",_t2139);}else this.primitive.removeAttribute("divisor");}},{key:"iS",value:function iS(){var _this866=this;var t,_e1541;this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this.Xk=!0,this["#divisor-section"].addEventListener("change",t=function t(_t2141){_t2141.target===_this866["#divisor-slider"]?_this866["#divisor-input"].value=_this866["#divisor-slider"].value:_t2141.target===_this866["#divisor-input"]&&(_this866["#divisor-slider"].value=_this866["#divisor-input"].value),_this866.primitive.setAttribute("divisor",_this866["#divisor-input"].value);}),this["#divisor-section"].addEventListener("changeend",_e1541=function e(){_this866["#divisor-section"].removeEventListener("change",t),_this866["#divisor-section"].removeEventListener("changeend",_e1541),_this866.Xk=!1;});}},{key:"sS",value:function sS(){var _this867=this;var t,_e1542;this.Js.board.undoManager.checkpoint("Convolve matrix bias"),this.Zk=!0,this["#bias-section"].addEventListener("change",t=function t(_t2142){_t2142.target===_this867["#bias-slider"]?_this867["#bias-input"].value=_this867["#bias-slider"].value:_t2142.target===_this867["#bias-input"]&&(_this867["#bias-slider"].value=_this867["#bias-input"].value),_this867.primitive.setAttribute("bias",_this867["#bias-input"].value);}),this["#bias-section"].addEventListener("changeend",_e1542=function e(){_this867["#bias-section"].removeEventListener("change",t),_this867["#bias-section"].removeEventListener("changeend",_e1542),_this867.Zk=!1;});}},{key:"nS",value:function nS(){var t=this["#edge-mode-buttons"].value;this.Js.board.undoManager.checkpoint("Convolve matrix edge mode"),"duplicate"===t?(this.primitive.setAttribute("edgeMode",t),this.primitive.removeAttribute("edgeMode")):this.primitive.setAttribute("edgeMode",t);}},{key:"oS",value:function oS(){this["#preserve-alpha-checkbox"].toggled?this.primitive.setAttribute("preserveAlpha","true"):(this.primitive.setAttribute("preserveAlpha","false"),this.primitive.removeAttribute("preserveAlpha"));}},{key:"lS",value:function lS(){var t=3,e=3,i=1,s=1,n=[],o=[];this.primitive.hasAttribute("order")&&(this.primitive.orderX.baseVal>0&&(t=et(this.primitive.orderX.baseVal,1,Wm)),this.primitive.orderY.baseVal>0&&(e=et(this.primitive.orderY.baseVal,1,Wm))),i=Math.floor(t/2),s=Math.floor(e/2),this.primitive.hasAttribute("targetX")&&this.primitive.targetX.baseVal>=0&&this.primitive.targetX.baseVal<t&&(i=this.primitive.targetX.baseVal),this.primitive.hasAttribute("targetY")&&this.primitive.targetY.baseVal>=0&&this.primitive.targetY.baseVal<e&&(s=this.primitive.targetY.baseVal);for(var _n615=0;_n615<e;_n615+=1){for(var _e1543=0;_e1543<t;_e1543+=1){_e1543===i&&_n615===s?o.push(1):o.push(0);}}if(o.length===this.primitive.kernelMatrix.baseVal.numberOfItems)for(var _t2143=0;_t2143<this.primitive.kernelMatrix.baseVal.numberOfItems;_t2143+=1){o[_t2143]=tt(this.primitive.kernelMatrix.baseVal[_t2143].value,2);}{var _i1335=0;for(var _s764=0;_s764<e;_s764+=1){var _e1544=[];for(var _s765=0;_s765<t;_s765+=1){var _t2144=o[_i1335];_e1544.push(_t2144),_i1335+=1;}n.push(_e1544);}}return{orderX:t,orderY:e,targetX:i,targetY:s,values:n,flatValues:o};}},{key:"qs",value:function qs(){if(this.Yk||this.qk||this.Xk||this.Zk||this.ak)return;_get(_getPrototypeOf(Ym.prototype),"qs",this).call(this);var _this$lS4=this.lS(),t=_this$lS4.orderX,e=_this$lS4.orderY,i=_this$lS4.targetX,s=_this$lS4.targetY,n=_this$lS4.values;{var _o495="",_l374=0,_a278=0;var _iterator1437=_createForOfIteratorHelper(n),_step1437;try{for(_iterator1437.s();!(_step1437=_iterator1437.n()).done;){var _t2145=_step1437.value;_o495+='<x-box class="row-box">',_l374=0;var _iterator1438=_createForOfIteratorHelper(_t2145),_step1438;try{for(_iterator1438.s();!(_step1438=_iterator1438.n()).done;){var _e1545=_step1438.value;_o495+="\n            <x-numberinput\n              value=\"".concat(_e1545,"\"\n              data-x=\"").concat(_l374,"\"\n              data-y=\"").concat(_a278,"\"\n              data-target=\"").concat(_l374===i&&_a278===s,"\"\n              step=\"0.01\"\n              style=\"\">\n            </x-numberinput>\n          "),_l374+=1;}}catch(err){_iterator1438.e(err);}finally{_iterator1438.f();}_o495+="</x-box>",_a278+=1;}}catch(err){_iterator1437.e(err);}finally{_iterator1437.f();}this["#kernel-values-table"].style.setProperty("--order-x",t),this["#kernel-values-table"].style.setProperty("--order-y",e),this["#kernel-values-table"].innerHTML=_o495,this["#kernel-add-row-button"].disabled=e>=Wm,this["#kernel-remove-row-button"].disabled=1===e,this["#kernel-add-column-button"].disabled=t>=Wm,this["#kernel-remove-column-button"].disabled=1===t;}if(this["#target-x-label"].disabled=1===t,this["#target-x-input"].max=t-1,this["#target-x-input"].value=i,this["#target-x-input"].disabled=1===t,this["#target-y-label"].disabled=1===e,this["#target-y-input"].max=e-1,this["#target-y-input"].value=s,this["#target-y-input"].disabled=1===e,this.primitive.hasAttribute("divisor")){var _t2146=tt(this.primitive.divisor.baseVal,2);this["#divisor-heading"].disabled=!1,this["#divisor-switch"].toggled=!0,this["#divisor-slider"].disabled=!1,this["#divisor-slider"].value=_t2146,this["#divisor-input"].disabled=!1,this["#divisor-input"].value=_t2146;}else this["#divisor-heading"].disabled=!0,this["#divisor-switch"].toggled=!1,this["#divisor-slider"].disabled=!0,this["#divisor-slider"].value=0,this["#divisor-input"].disabled=!0,this["#divisor-input"].value=null;{var _t2147=tt(this.primitive.bias.baseVal,2);this["#bias-slider"].value=_t2147,this["#bias-input"].value=_t2147;}{var _t2148=this.primitive.getAttribute("edgeMode");!1===["duplicate","wrap","none"].includes(_t2148)&&(_t2148="duplicate"),this["#edge-mode-buttons"].value=_t2148;}this["#preserve-alpha-checkbox"].toggled="true"===this.primitive.getAttribute("preserveAlpha");}}]);return Ym;}($m);_defineProperty(Ym,"_shadowTemplate",Qi(_templateObject421(),9,9));_defineProperty(Ym,"_shadowStyleSheet",Ji(_templateObject422()));customElements.define("bx-convolvematrixprimitiveinspector",Ym);var qm=/*#__PURE__*/function(_$m11){_inherits(qm,_$m11);var _super181=_createSuper(qm);_createClass(qm,[{key:"name",get:function get(){return"Displacement map";}}]);function qm(){var _this868;_classCallCheck(this,qm);_this868=_super181.call(this),_this868.aS=!1,_this868["#scale-box"].addEventListener("changestart",function(){return _this868.hS();}),_this868["#x-channel-buttons"].addEventListener("toggle",function(){return _this868.rS();}),_this868["#y-channel-buttons"].addEventListener("toggle",function(){return _this868.dS();});return _this868;}_createClass(qm,[{key:"rS",value:function rS(){this.Js.board.undoManager.checkpoint("Displacement map X channel"),"A"===this["#x-channel-buttons"].value?this.primitive.removeAttribute("xChannelSelector"):this.primitive.setAttribute("xChannelSelector",this["#x-channel-buttons"].value);}},{key:"dS",value:function dS(){this.Js.board.undoManager.checkpoint("Displacement map Y channel"),"A"===this["#y-channel-buttons"].value?this.primitive.removeAttribute("yChannelSelector"):this.primitive.setAttribute("yChannelSelector",this["#y-channel-buttons"].value);}},{key:"hS",value:function hS(){var _this869=this;var t,_e1546,i=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Displacement map scale"),this.aS=!0,this["#scale-section"].addEventListener("change",t=function t(_t2149){_t2149.target===_this869["#scale-slider"]?_this869["#scale-input"].value=_this869["#scale-slider"].value:_t2149.target===_this869["#scale-input"]&&(_this869["#scale-slider"].value=_this869["#scale-input"].value);var e=_this869["#scale-input"].value;i.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX&&(e=tt(e/100,2)),_this869.primitive.setAttribute("scale",e);}),this["#scale-section"].addEventListener("changeend",_e1546=function e(){_this869["#scale-section"].removeEventListener("change",t),_this869["#scale-section"].removeEventListener("changeend",_e1546),_this869.aS=!1;});}},{key:"qs",value:function qs(){if(!this.aS&&!this.ak){_get(_getPrototypeOf(qm.prototype),"qs",this).call(this);{var _t2150=this.primitive.closest("filter"),_e1547=this.primitive.scale.baseVal,_i1336="";_t2150.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?(_e1547=tt(100*_e1547,2),_i1336="%"):_e1547=tt(_e1547,0),this["#scale-slider"].value=_e1547,this["#scale-input"].value=_e1547,this["#scale-input"].suffix=_i1336;}{var _t2151=this.primitive.getAttribute("xChannelSelector");!1===["R","G","B","A"].includes(_t2151)&&(_t2151="A"),this["#x-channel-buttons"].value=_t2151;}{var _t2152=this.primitive.getAttribute("yChannelSelector");!1===["R","G","B","A"].includes(_t2152)&&(_t2152="A"),this["#y-channel-buttons"].value=_t2152;}}}}]);return qm;}($m);_defineProperty(qm,"_shadowTemplate",Qi(_templateObject423()));_defineProperty(qm,"_shadowStyleSheet",Ji(_templateObject424()));customElements.define("bx-displacementmapprimitiveinspector",qm);var Xm=/*#__PURE__*/function(_$m12){_inherits(Xm,_$m12);var _super182=_createSuper(Xm);_createClass(Xm,[{key:"name",get:function get(){return"Gaussian blur";}}]);function Xm(){var _this870;_classCallCheck(this,Xm);_this870=_super182.call(this),_this870.cS=!1,_this870.pS=!1,_this870["#deviation-x-input"].addEventListener("changestart",function(){return _this870.uS();}),_this870["#deviation-y-input"].addEventListener("changestart",function(){return _this870.xS();}),_this870["#deviation-lock-button"].addEventListener("toggle",function(){return _this870.bS();});return _this870;}_createClass(Xm,[{key:"connectedCallback",value:function connectedCallback(){this.cS=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(Xm.prototype),"connectedCallback",this).call(this);}},{key:"uS",value:function uS(){var _this871=this;var t,_e1548,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.pS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this871["#deviation-x-input"].value&&(_this871["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this871["#deviation-y-input"].value=et(_this871["#deviation-x-input"].value/s,0,Infinity,2):_this871["#deviation-y-input"].value=_this871["#deviation-x-input"].value);var t=_this871["#deviation-x-input"].value,e=_this871["#deviation-y-input"].value;_this871.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1548=function e(){_this871["#deviation-x-input"].removeEventListener("change",t),_this871["#deviation-x-input"].removeEventListener("changeend",_e1548),_this871.pS=!1;});}},{key:"xS",value:function xS(){var _this872=this;var t,_e1549,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.pS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this872["#deviation-y-input"].value&&(_this872["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this872["#deviation-x-input"].value=et(_this872["#deviation-y-input"].value/s,0,Infinity,2):_this872["#deviation-x-input"].value=_this872["#deviation-y-input"].value);var t=_this872["#deviation-x-input"].value,e=_this872["#deviation-y-input"].value;_this872.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1549=function e(){_this872["#deviation-y-input"].removeEventListener("change",t),_this872["#deviation-y-input"].removeEventListener("changeend",_e1549),_this872.pS=!1;});}},{key:"bS",value:function bS(){this.cS=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.cS),this.qs();}},{key:"qs",value:function qs(){this.pS||this.ak||(_get(_getPrototypeOf(Xm.prototype),"qs",this).call(this),this["#deviation-x-input"].value=tt(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=tt(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.cS,this["#deviation-lock-icon"].name=this.cS?"lock-on":"lock-off");}}]);return Xm;}($m);_defineProperty(Xm,"_shadowTemplate",Qi(_templateObject425()));_defineProperty(Xm,"_shadowStyleSheet",Ji(_templateObject426()));customElements.define("bx-gaussianblurprimitiveinspector",Xm);var Zm=/*#__PURE__*/function(_$m13){_inherits(Zm,_$m13);var _super183=_createSuper(Zm);_createClass(Zm,[{key:"name",get:function get(){return"Morphology";}}]);function Zm(){var _this873;_classCallCheck(this,Zm);_this873=_super183.call(this),_this873.mS=!1,_this873.qb=!1,_this873["#operator-buttons"].addEventListener("toggle",function(){return _this873.lm();}),_this873["#radius-x-input"].addEventListener("changestart",function(){return _this873.gS();}),_this873["#radius-y-input"].addEventListener("changestart",function(){return _this873.fS();}),_this873["#radius-lock-button"].addEventListener("toggle",function(){return _this873.wS();});return _this873;}_createClass(Zm,[{key:"connectedCallback",value:function connectedCallback(){this.mS=app.getConfig("".concat(this.localName,":radiusLocked"),!1),_get(_getPrototypeOf(Zm.prototype),"connectedCallback",this).call(this);}},{key:"lm",value:function lm(){this.Js.board.undoManager.checkpoint("Morphology operator"),"erode"===this["#operator-buttons"].value?this.primitive.removeAttribute("operator"):this.primitive.setAttribute("operator",this["#operator-buttons"].value);}},{key:"gS",value:function gS(t){var _this874=this;var e,i,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.qb=!0,this["#radius-x-input"].addEventListener("change",e=function e(){null===_this874["#radius-x-input"].value&&(_this874["#radius-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this874["#radius-y-input"].value=et(_this874["#radius-x-input"].value/n,0,Infinity,2):_this874["#radius-y-input"].value=_this874["#radius-x-input"].value);var t=_this874["#radius-x-input"].value,e=_this874["#radius-y-input"].value;_this874.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-x-input"].addEventListener("changeend",i=function(_i1337){function i(){return _i1337.apply(this,arguments);}i.toString=function(){return _i1337.toString();};return i;}(function(){_this874["#radius-x-input"].removeEventListener("change",e),_this874["#radius-x-input"].removeEventListener("changeend",i),_this874.qb=!1;}));}},{key:"fS",value:function fS(t){var _this875=this;var e,i,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.qb=!0,this["#radius-y-input"].addEventListener("change",e=function e(){null===_this875["#radius-y-input"].value&&(_this875["#radius-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this875["#radius-x-input"].value=et(_this875["#radius-y-input"].value/n,0,Infinity,2):_this875["#radius-x-input"].value=_this875["#radius-y-input"].value);var t=_this875["#radius-x-input"].value,e=_this875["#radius-y-input"].value;_this875.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-y-input"].addEventListener("changeend",i=function(_i1338){function i(){return _i1338.apply(this,arguments);}i.toString=function(){return _i1338.toString();};return i;}(function(){_this875["#radius-y-input"].removeEventListener("change",e),_this875["#radius-y-input"].removeEventListener("changeend",i),_this875.qb=!1;}));}},{key:"wS",value:function wS(){this.mS=this["#radius-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":radiusLocked"),this.mS),this.qs();}},{key:"qs",value:function qs(){this.qb||this.ak||(_get(_getPrototypeOf(Zm.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-buttons"].value=this.primitive.getAttribute("operator"):this["#operator-buttons"].value="erode",this["#radius-x-input"].value=tt(this.primitive.radiusX.baseVal,2),this["#radius-y-input"].value=tt(this.primitive.radiusY.baseVal,2),this["#radius-lock-button"].toggled=this.mS,this["#radius-lock-icon"].name=this.mS?"lock-on":"lock-off");}}]);return Zm;}($m);_defineProperty(Zm,"_shadowTemplate",Qi(_templateObject427()));_defineProperty(Zm,"_shadowStyleSheet",Ji(_templateObject428()));customElements.define("bx-morphologyprimitiveinspector",Zm);var Km=/*#__PURE__*/function(_$m14){_inherits(Km,_$m14);var _super184=_createSuper(Km);_createClass(Km,[{key:"name",get:function get(){return"Drop shadow";}}]);function Km(){var _this876;_classCallCheck(this,Km);_this876=_super184.call(this),_this876.cS=!1,_this876.pS=!1,_this876.Cb=!1,_this876.Pb=!1,_this876.Qx=!1,_this876["#deviation-x-input"].addEventListener("changestart",function(){return _this876.uS();}),_this876["#deviation-y-input"].addEventListener("changestart",function(){return _this876.xS();}),_this876["#deviation-lock-button"].addEventListener("toggle",function(){return _this876.bS();}),_this876["#offset-section"].addEventListener("changestart",function(t){return _this876.Db(t);}),_this876["#color-select"].addEventListener("changestart",function(){return _this876.Eb();}),_this876["#opacity-box"].addEventListener("changestart",function(t){return _this876.Jx(t);});return _this876;}_createClass(Km,[{key:"connectedCallback",value:function connectedCallback(){this.cS=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(Km.prototype),"connectedCallback",this).call(this);}},{key:"uS",value:function uS(){var _this877=this;var t,_e1550,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.pS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this877["#deviation-x-input"].value&&(_this877["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this877["#deviation-y-input"].value=et(_this877["#deviation-x-input"].value/s,0,Infinity,2):_this877["#deviation-y-input"].value=_this877["#deviation-x-input"].value);var t=_this877["#deviation-x-input"].value,e=_this877["#deviation-y-input"].value;_this877.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1550=function e(){_this877["#deviation-x-input"].removeEventListener("change",t),_this877["#deviation-x-input"].removeEventListener("changeend",_e1550),_this877.pS=!1;});}},{key:"xS",value:function xS(){var _this878=this;var t,_e1551,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.pS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this878["#deviation-y-input"].value&&(_this878["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this878["#deviation-x-input"].value=et(_this878["#deviation-y-input"].value/s,0,Infinity,2):_this878["#deviation-x-input"].value=_this878["#deviation-y-input"].value);var t=_this878["#deviation-x-input"].value,e=_this878["#deviation-y-input"].value;_this878.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1551=function e(){_this878["#deviation-y-input"].removeEventListener("change",t),_this878["#deviation-y-input"].removeEventListener("changeend",_e1551),_this878.pS=!1;});}},{key:"bS",value:function bS(){this.cS=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.cS),this.qs();}},{key:"Db",value:function Db(t){var _this879=this;var e,i,s=t.target;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.Cb=!0,s.addEventListener("change",e=function e(){_this879.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1339){function i(){return _i1339.apply(this,arguments);}i.toString=function(){return _i1339.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this879.Cb=!1;}));}},{key:"Eb",value:function Eb(){var _this880=this;var t,_e1552;this.Js.board.undoManager.checkpoint("Flood color"),this.Pb=!0,this["#color-select"].addEventListener("change",t=function t(){_this880.primitive.style.setProperty("flood-color",_this880["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1552=function e(){_this880["#color-select"].removeEventListener("change",t),_this880["#color-select"].removeEventListener("changeend",_e1552),Dp("flood-color",_this880.primitive),_this880.Pb=!1;});}},{key:"Jx",value:function Jx(){var _this881=this;var t,_e1553;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Qx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2153){_t2153.target===_this881["#opacity-slider"]?_this881["#opacity-input"].value=_this881["#opacity-slider"].value:_t2153.target===_this881["#opacity-input"]&&(_this881["#opacity-slider"].value=_this881["#opacity-input"].value),_this881.primitive.style.setProperty("flood-opacity",_this881["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1553=function e(){_this881["#opacity-section"].removeEventListener("change",t),_this881["#opacity-section"].removeEventListener("changeend",_e1553),Dp("flood-opacity",_this881.primitive),_this881.Qx=!1;});}},{key:"qs",value:function qs(){if(this.pS||this.Cb||this.Pb||this.Qx||this.ak)return;_get(_getPrototypeOf(Km.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#deviation-x-input"].value=tt(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=tt(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.cS,this["#deviation-lock-icon"].name=this.cS?"lock-on":"lock-off",this["#offset-x-input"].value=tt(this.primitive.dx.baseVal,2),this["#offset-y-input"].value=tt(this.primitive.dy.baseVal,2),this["#color-select"].value=t.floodColor;{var _e1554=tt(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1554,this["#opacity-input"].value=_e1554;}}}]);return Km;}($m);_defineProperty(Km,"_shadowTemplate",Qi(_templateObject429()));_defineProperty(Km,"_shadowStyleSheet",Ji(_templateObject430()));customElements.define("bx-dropshadowprimitiveinspector",Km);var Qm=/*#__PURE__*/function(_$m15){_inherits(Qm,_$m15);var _super185=_createSuper(Qm);_createClass(Qm,[{key:"name",get:function get(){return"Offset";}}]);function Qm(){var _this882;_classCallCheck(this,Qm);_this882=_super185.call(this),_this882.vS=!1,_this882["#delta-section"].addEventListener("changestart",function(t){return _this882.yS(t);});return _this882;}_createClass(Qm,[{key:"yS",value:function yS(t){var _this883=this;var e,i,s=t.target;this.Js.board.undoManager.checkpoint("Filter offset"),this.vS=!0,s.addEventListener("change",e=function e(){_this883.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1340){function i(){return _i1340.apply(this,arguments);}i.toString=function(){return _i1340.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this883.vS=!1;}));}},{key:"qs",value:function qs(){this.vS||this.ak||(_get(_getPrototypeOf(Qm.prototype),"qs",this).call(this),this["#x-input"].value=tt(this.primitive.dx.baseVal,2),this["#y-input"].value=tt(this.primitive.dy.baseVal,2));}}]);return Qm;}($m);_defineProperty(Qm,"_shadowTemplate",Qi(_templateObject431()));_defineProperty(Qm,"_shadowStyleSheet",Ji(_templateObject432()));customElements.define("bx-offsetprimitiveinspector",Qm);var Jm=/*#__PURE__*/function(_$m16){_inherits(Jm,_$m16);var _super186=_createSuper(Jm);_createClass(Jm,[{key:"name",get:function get(){return"Lighting";}}]);function Jm(t){var _this884;_classCallCheck(this,Jm);_this884=_super186.call(this),_this884.kS=!1,_this884.Pb=!1,_this884.$b=!1,_this884.SS=!1,_this884._S=!1,_this884.CS=!1,_this884.MS=!1,_this884.PS=!1,_this884["#surface-scale-box"].addEventListener("changestart",function(){return _this884.DS();}),_this884["#color-select"].addEventListener("changestart",function(){return _this884.Eb();}),_this884["#source-type-buttons"].addEventListener("toggle",function(){return _this884.zS();}),_this884["#source-position-subsection"].addEventListener("changestart",function(t){return _this884.Gb(t);}),_this884["#source-target-subsection"].addEventListener("changestart",function(t){return _this884.OS(t);}),_this884["#source-cone-box"].addEventListener("changestart",function(){return _this884.ES();}),_this884["#source-exponent-box"].addEventListener("changestart",function(){return _this884.TS();}),_this884["#source-azimuth-box"].addEventListener("changestart",function(){return _this884.AS();}),_this884["#source-elevation-box"].addEventListener("changestart",function(){return _this884.$S();});return _this884;}_createClass(Jm,[{key:"DS",value:function DS(){var _this885=this;var t,_e1555;this.Js.board.undoManager.checkpoint("Specular lighting surface scale"),this.kS=!0,this["#surface-scale-section"].addEventListener("change",t=function t(_t2154){_t2154.target===_this885["#surface-scale-slider"]?_this885["#surface-scale-input"].value=_this885["#surface-scale-slider"].value:_t2154.target===_this885["#surface-scale-input"]&&(_this885["#surface-scale-slider"].value=_this885["#surface-scale-input"].value),_this885.primitive.setAttribute("surfaceScale",_this885["#surface-scale-input"].value);}),this["#surface-scale-section"].addEventListener("changeend",_e1555=function e(){_this885["#surface-scale-section"].removeEventListener("change",t),_this885["#surface-scale-section"].removeEventListener("changeend",_e1555),_this885.kS=!1;});}},{key:"Eb",value:function Eb(){var _this886=this;var t,_e1556;this.Js.board.undoManager.checkpoint("Flood color"),this.Pb=!0,this["#color-select"].addEventListener("change",t=function t(){_this886.primitive.style.setProperty("lighting-color",_this886["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1556=function e(){_this886["#color-select"].removeEventListener("change",t),_this886["#color-select"].removeEventListener("changeend",_e1556),Dp("lighting-color",_this886.primitive),_this886.Pb=!1;});}},{key:"zS",value:function zS(){var t=this.IS(),e=Ii("svg:"+this["#source-type-buttons"].value);this.Js.board.undoManager.checkpoint("Light source type"),t?t.replaceWith(e):this.primitive.append(e);}},{key:"Gb",value:function Gb(t){var _this887=this;var e,i,s=t.target,n=this.IS();this.Js.board.undoManager.checkpoint("Light source position"),this.$b=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1341){function i(){return _i1341.apply(this,arguments);}i.toString=function(){return _i1341.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this887.$b=!1;}));}},{key:"OS",value:function OS(t){var _this888=this;var e,i,s=t.target,n=this.IS();this.Js.board.undoManager.checkpoint("Light target position"),this.SS=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1342){function i(){return _i1342.apply(this,arguments);}i.toString=function(){return _i1342.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this888.SS=!1;}));}},{key:"ES",value:function ES(){var _this889=this;var t,_e1557,i=this.IS();this.Js.board.undoManager.checkpoint("Light limiting cone angle"),this._S=!0,this["#source-cone-box"].addEventListener("change",t=function t(_t2155){_t2155.target===_this889["#source-cone-slider"]?_this889["#source-cone-input"].value=_this889["#source-cone-slider"].value:_t2155.target===_this889["#source-cone-input"]&&(_this889["#source-cone-slider"].value=_this889["#source-cone-input"].value),i.setAttribute("limitingConeAngle",_this889["#source-cone-input"].value);}),this["#source-cone-box"].addEventListener("changeend",_e1557=function e(){_this889["#source-cone-box"].removeEventListener("change",t),_this889["#source-cone-box"].removeEventListener("changeend",_e1557),_this889._S=!1;});}},{key:"TS",value:function TS(){var _this890=this;var t,_e1558,i=this.IS();this.Js.board.undoManager.checkpoint("Spot light exponent"),this.CS=!0,this["#source-exponent-box"].addEventListener("change",t=function t(_t2156){_t2156.target===_this890["#source-exponent-slider"]?_this890["#source-exponent-input"].value=_this890["#source-exponent-slider"].value:_t2156.target===_this890["#source-exponent-input"]&&(_this890["#source-exponent-slider"].value=_this890["#source-exponent-input"].value),i.setAttribute("specularExponent",_this890["#source-exponent-input"].value);}),this["#source-exponent-box"].addEventListener("changeend",_e1558=function e(){_this890["#source-exponent-box"].removeEventListener("change",t),_this890["#source-exponent-box"].removeEventListener("changeend",_e1558),_this890.CS=!1;});}},{key:"AS",value:function AS(){var _this891=this;var t,_e1559,i=this.IS();this.Js.board.undoManager.checkpoint("Light azimuth"),this.MS=!0,this["#source-azimuth-box"].addEventListener("change",t=function t(_t2157){_t2157.target===_this891["#source-azimuth-slider"]?_this891["#source-azimuth-input"].value=_this891["#source-azimuth-slider"].value:_t2157.target===_this891["#source-azimuth-input"]&&(_this891["#source-azimuth-slider"].value=_this891["#source-azimuth-input"].value),i.setAttribute("azimuth",_this891["#source-azimuth-input"].value);}),this["#source-azimuth-box"].addEventListener("changeend",_e1559=function e(){_this891["#source-azimuth-box"].removeEventListener("change",t),_this891["#source-azimuth-box"].removeEventListener("changeend",_e1559),_this891.MS=!1;});}},{key:"$S",value:function $S(){var _this892=this;var t,_e1560,i=this.IS();this.Js.board.undoManager.checkpoint("Light elevation"),this.PS=!0,this["#source-elevation-box"].addEventListener("change",t=function t(_t2158){_t2158.target===_this892["#source-elevation-slider"]?_this892["#source-elevation-input"].value=_this892["#source-elevation-slider"].value:_t2158.target===_this892["#source-elevation-input"]&&(_this892["#source-elevation-slider"].value=_this892["#source-elevation-input"].value),i.setAttribute("elevation",_this892["#source-elevation-input"].value);}),this["#source-elevation-box"].addEventListener("changeend",_e1560=function e(){_this892["#source-elevation-box"].removeEventListener("change",t),_this892["#source-elevation-box"].removeEventListener("changeend",_e1560),_this892.PS=!1;});}},{key:"IS",value:function IS(){return this.primitive.querySelector(":scope > fePointLight, :scope > feSpotLight, :scope > feDistantLight");}},{key:"qs",value:function qs(){if(this.kS||this.Pb||this.$b||this.SS||this._S||this.CS||this.MS||this.PS||this.ak)return;_get(_getPrototypeOf(Jm.prototype),"qs",this).call(this);var t=this.IS();{var _t2159=tt(this.primitive.surfaceScale.baseVal,2);this["#surface-scale-slider"].value=_t2159,this["#surface-scale-input"].value=_t2159;}this["#color-select"].value=getComputedStyle(this.primitive).lightingColor,this["#source-type-buttons"].value=t?t.localName:null,t&&"feDistantLight"!==t.localName?(this["#source-position-subsection"].hidden=!1,this["#source-position-x-input"].value=tt(t.x.baseVal,2),this["#source-position-y-input"].value=tt(t.y.baseVal,2),this["#source-position-z-input"].value=tt(t.z.baseVal,2)):this["#source-position-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-target-subsection"].hidden=!1,this["#source-target-x-input"].value=tt(t.pointsAtX.baseVal,2),this["#source-target-y-input"].value=tt(t.pointsAtY.baseVal,2),this["#source-target-z-input"].value=tt(t.pointsAtZ.baseVal,2)):this["#source-target-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-cone-subsection"].hidden=!1,this["#source-cone-slider"].value=tt(t.limitingConeAngle.baseVal,2),this["#source-cone-input"].value=tt(t.limitingConeAngle.baseVal,2)):this["#source-cone-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-exponent-subsection"].hidden=!1,this["#source-exponent-slider"].value=tt(t.specularExponent.baseVal,2),this["#source-exponent-input"].value=tt(t.specularExponent.baseVal,2)):this["#source-exponent-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-azimuth-subsection"].hidden=!1,this["#source-azimuth-slider"].value=tt(t.azimuth.baseVal,2),this["#source-azimuth-input"].value=tt(t.azimuth.baseVal,2)):this["#source-azimuth-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-elevation-subsection"].hidden=!1,this["#source-elevation-slider"].value=tt(t.elevation.baseVal,2),this["#source-elevation-input"].value=tt(t.elevation.baseVal,2)):this["#source-elevation-subsection"].hidden=!0;}}]);return Jm;}($m);_defineProperty(Jm,"_shadowTemplate",Qi(_templateObject433()));_defineProperty(Jm,"_shadowStyleSheet",Ji(_templateObject434()));customElements.define("bx-lightingprimitiveinspector",Jm);var tg=/*#__PURE__*/function(_Jm){_inherits(tg,_Jm);var _super187=_createSuper(tg);_createClass(tg,[{key:"name",get:function get(){return"Specular lighting";}}]);function tg(){var _this893;_classCallCheck(this,tg);_this893=_super187.call(this),_this893.LS=!1,_this893.RS=!1,_this893["#constant-box"].addEventListener("changestart",function(){return _this893.BS();}),_this893["#exponent-box"].addEventListener("changestart",function(){return _this893.GS();});return _this893;}_createClass(tg,[{key:"BS",value:function BS(){var _this894=this;var t,_e1561;this.Js.board.undoManager.checkpoint("Specular lighting constant"),this.LS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2160){_t2160.target===_this894["#constant-slider"]?_this894["#constant-input"].value=_this894["#constant-slider"].value:_t2160.target===_this894["#constant-input"]&&(_this894["#constant-slider"].value=_this894["#constant-input"].value),_this894.primitive.setAttribute("specularConstant",_this894["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1561=function e(){_this894["#constant-section"].removeEventListener("change",t),_this894["#constant-section"].removeEventListener("changeend",_e1561),_this894.LS=!1;});}},{key:"GS",value:function GS(){var _this895=this;var t,_e1562;this.Js.board.undoManager.checkpoint("Specular lighting exponent"),this.RS=!0,this["#exponent-section"].addEventListener("change",t=function t(_t2161){_t2161.target===_this895["#exponent-slider"]?_this895["#exponent-input"].value=_this895["#exponent-slider"].value:_t2161.target===_this895["#exponent-input"]&&(_this895["#exponent-slider"].value=_this895["#exponent-input"].value),_this895.primitive.setAttribute("specularExponent",_this895["#exponent-input"].value);}),this["#exponent-section"].addEventListener("changeend",_e1562=function e(){_this895["#exponent-section"].removeEventListener("change",t),_this895["#exponent-section"].removeEventListener("changeend",_e1562),_this895.RS=!1;});}},{key:"qs",value:function qs(){if(!(this.LS||this.RS||this.ak)){_get(_getPrototypeOf(tg.prototype),"qs",this).call(this);{var _t2162=tt(this.primitive.specularConstant.baseVal,2);this["#constant-slider"].value=_t2162,this["#constant-input"].value=_t2162;}{var _t2163=tt(this.primitive.specularExponent.baseVal,2);this["#exponent-slider"].value=_t2163,this["#exponent-input"].value=_t2163;}}}}]);return tg;}(Jm);_defineProperty(tg,"_shadowTemplate",Qi(_templateObject435()));_defineProperty(tg,"_shadowStyleSheet",Ji(_templateObject436()));customElements.define("bx-specularlightingprimitiveinspector",tg);var eg=/*#__PURE__*/function(_Jm2){_inherits(eg,_Jm2);var _super188=_createSuper(eg);_createClass(eg,[{key:"name",get:function get(){return"Diffuse lighting";}}]);function eg(){var _this896;_classCallCheck(this,eg);_this896=_super188.call(this),_this896.LS=!1,_this896["#constant-box"].addEventListener("changestart",function(){return _this896.BS();});return _this896;}_createClass(eg,[{key:"BS",value:function BS(){var _this897=this;var t,_e1563;this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Diffuse lighting constant"),this.LS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2164){_t2164.target===_this897["#constant-slider"]?_this897["#constant-input"].value=_this897["#constant-slider"].value:_t2164.target===_this897["#constant-input"]&&(_this897["#constant-slider"].value=_this897["#constant-input"].value),_this897.primitive.setAttribute("diffuseConstant",_this897["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1563=function e(){_this897["#constant-section"].removeEventListener("change",t),_this897["#constant-section"].removeEventListener("changeend",_e1563),_this897.LS=!1;});}},{key:"qs",value:function qs(){if(!this.LS&&!this.ak){_get(_getPrototypeOf(eg.prototype),"qs",this).call(this);{var _t2165=tt(this.primitive.diffuseConstant.baseVal,2);this["#constant-slider"].value=_t2165,this["#constant-input"].value=_t2165;}}}}]);return eg;}(Jm);_defineProperty(eg,"_shadowTemplate",Qi(_templateObject437()));_defineProperty(eg,"_shadowStyleSheet",Ji(_templateObject438()));customElements.define("bx-diffuselightingprimitiveinspector",eg);var ig=.1,sg=6e3,ng=450,og=1.8,lg=20;var ag=/*#__PURE__*/function(_HTMLElement117){_inherits(ag,_HTMLElement117);var _super189=_createSuper(ag);_createClass(ag,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"filter",get:function get(){return this.jy;},set:function set(t){this.jy=t,this.enabled&&this.qs();}}]);function ag(){var _this898;_classCallCheck(this,ag);_this898=_super189.call(this),_this898.tabIndex=1,_this898.jy=null,_this898.US={node:null,edge:null},_this898.FS=es(_this898.qs,400,_assertThisInitialized(_this898)),_this898._shadowRoot=_this898.attachShadow({mode:"closed"}),_this898._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ag._shadowStyleSheet],_this898._shadowRoot.append(document.importNode(ag._shadowTemplate.content,!0));var _iterator1439=_createForOfIteratorHelper(_this898._shadowRoot.querySelectorAll("[id]")),_step1439;try{for(_iterator1439.s();!(_step1439=_iterator1439.n()).done;){var _t2166=_step1439.value;_this898["#"+_t2166.id]=_t2166;}}catch(err){_iterator1439.e(err);}finally{_iterator1439.f();}_this898.addEventListener("keydown",function(t){return _this898.wn(t);}),_this898["#canvas"].addEventListener("wheel",function(t){return _this898.NS(t);}),_this898["#canvas"].addEventListener("pointerdown",function(t){return _this898.VS(t);}),_this898["#canvas"].addEventListener("contextmenu",function(t){return _this898.jS(t);}),_this898["#zoom-button"].addEventListener("click",function(){return _this898.HS();}),_this898["#add-primitive-menu"].addEventListener("click",function(t){return _this898.WS(t);}),_this898["#add-primitive-menu"].addEventListener("open",function(t){return _this898.YS(t);}),_this898["#sidebar-resize-grippie"].addEventListener("pointerdown",function(t){return _this898.qS(t);});return _this898;}_createClass(ag,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this899=this;var t=this.Js.board;t.addEventListener("currentworkspacechange",this.Fx=function(){_this899.FS();}),t.addEventListener("workspacemutation",this.hn=function(t){_this899.FS();}),this["#sidebar"].style.width=this.Qs.getConfig("bx-filterinspector:sidebarWidth",180)+"px",this.qs(),this.XS();}},{key:"en",value:function en(){var t=this.Js.board;t.removeEventListener("currentworkspacechange",this.Fx),t.removeEventListener("workspacemutation",this.hn),this["#graph-nodes"].innerHTML="",this["#graph-edges"].innerHTML="",this["#sidebar-content"].innerHTML="";}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);(e.matches("Backspace")||e.matches("Delete"))&&this.matches(":focus")&&(t.stopPropagation(),this.ZS());}},{key:"KS",value:function KS(){this.QS();}},{key:"NS",value:function NS(t){t.preventDefault();var e=et(t.wheelDeltaX,-lg,lg,1),i=et(t.wheelDeltaY,-lg,lg,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey){var _t2167=e/og,_s766=i/og;this.JS(_t2167,_s766);}else this.t_(i/ng,t.clientX,t.clientY);}},{key:"VS",value:function VS(t){t.target.closest(".node")?this.e_(t):t.target.closest(".edge")?this.i_(t):this.s_(t);}},{key:"e_",value:function e_(t){var _this900=this;{var _e1564=t.target.closest(".node"),_i1343=[];var _iterator1440=_createForOfIteratorHelper(this["#graph-edges"].children),_step1440;try{for(_iterator1440.s();!(_step1440=_iterator1440.n()).done;){var _t2168=_step1440.value;_t2168.dataset.to===_e1564.dataset.name&&_i1343.push({from:_t2168.dataset.from,to:_t2168.dataset.to,slot:parseInt(_t2168.dataset.slot)});}}catch(err){_iterator1440.e(err);}finally{_iterator1440.f();}this.setSelection(_e1564.dataset.name,null),this.dispatchEvent(new CustomEvent("selectionchange"));}{var _e1566,_i1345,_s767=t.target.closest(".node"),_n616=new DOMPoint(t.clientX,t.clientY),_o496=_n616;window.addEventListener("pointermove",_e1566=function _e1565(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp;!0!==ze(_o496,a,0)&&(_o496=a,Te(_n616,a)<3&&h<80||(window.removeEventListener("pointermove",_e1566),window.removeEventListener("pointerup",_i1345),_this900.n_(t,_s767)));}),window.addEventListener("pointerup",_i1345=function _i1344(){window.removeEventListener("pointermove",_e1566),window.removeEventListener("pointerup",_i1345);});}}},{key:"n_",value:function n_(t,e){var _this901=this;var i,s,n=qt(this["#graph-group"]).inverse(),o=He(e.getBoundingClientRect(),n),l=new DOMPoint(t.clientX,t.clientY);l=l.matrixTransform(n);var a=ts(_templateObject62());this["#graph-nodes"].append(a),this["#graph-nodes"].append(e);var h=new DOMPoint(o.x+o.width/2,o.y+o.height/2),r=null;var _iterator1441=_createForOfIteratorHelper(this["#graph-edges"].children),_step1441;try{for(_iterator1441.s();!(_step1441=_iterator1441.n()).done;){var _t2177=_step1441.value;_t2177.setAttribute("data-disabled","");}}catch(err){_iterator1441.e(err);}finally{_iterator1441.f();}var _iterator1442=_createForOfIteratorHelper(this["#graph-nodes"].children),_step1442;try{for(_iterator1442.s();!(_step1442=_iterator1442.n()).done;){var _t2178=_step1442.value;_t2178!==e&&_t2178!==a&&!1===this.o_.canConnectNodes(e.dataset.name,_t2178.dataset.name)&&_t2178.setAttribute("data-disabled","");}}catch(err){_iterator1442.e(err);}finally{_iterator1442.f();}window.addEventListener("pointermove",i=function i(t){var i=new DOMPoint(t.clientX,t.clientY);i=i.matrixTransform(n);var s=_this901._shadowRoot.elementFromPoint(t.clientX,t.clientY),o=r,l=null;if(r=s?s.closest(".node"):null,r&&!1===r.hasAttribute("data-disabled")){var _t2169=r.getBoundingClientRect();_t2169=He(_t2169,n),l=function(t,e){var i=t.x+t.width,s=t.y+t.height,n=Math.max(t.x,Math.min(i,e.x)),o=Math.max(t.y,Math.min(s,e.y)),l=Math.abs(n-t.x),a=Math.abs(n-i),h=Math.abs(o-t.y),r=Math.abs(o-s),d=Math.min(l,a,h,r);return d===h?new DOMPoint(n,t.y):d===r?new DOMPoint(n,s):d===l?new DOMPoint(t.x,o):new DOMPoint(i,o);}(_t2169,h),r!==o&&(o&&o.removeAttribute("data-highlighted"),r!==e&&r.setAttribute("data-highlighted",""));}else l=new DOMPoint(i.x,i.y),o&&o.removeAttribute("data-highlighted");a.setAttribute("d","M ".concat(h.x," ").concat(h.y," L ").concat(l.x," ").concat(l.y));}),window.addEventListener("pointerup",s=function(_s769){function s(){return _s769.apply(this,arguments);}s.toString=function(){return _s769.toString();};return s;}(function(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s),a.removeAttribute("d");var _iterator1443=_createForOfIteratorHelper(_this901["#graph-edges"].children),_step1443;try{for(_iterator1443.s();!(_step1443=_iterator1443.n()).done;){var _t2175=_step1443.value;_t2175.removeAttribute("data-disabled");}}catch(err){_iterator1443.e(err);}finally{_iterator1443.f();}var _iterator1444=_createForOfIteratorHelper(_this901["#graph-nodes"].children),_step1444;try{for(_iterator1444.s();!(_step1444=_iterator1444.n()).done;){var _t2176=_step1444.value;_t2176.removeAttribute("data-disabled"),_t2176.removeAttribute("data-highlighted");}}catch(err){_iterator1444.e(err);}finally{_iterator1444.f();}if(r){var _t2170=_this901.o_.connectNodes(e.dataset.name,r.dataset.name);if(-1!==_t2170){var _i1346=_this901.o_.getOrderedNodes(),_s768=_i1346.find(function(t){return t.name===e.dataset.name;}),_n617=_i1346.find(function(t){return t.name===r.dataset.name;}),_o497=_toConsumableArray(_this901.filter.children).filter(function(t){return O.includes(t.localName);});if(_this901.Js.board.undoManager.checkpoint("Connect filter primitives"),"SourceGraphic"===_s768.type||"SourceAlpha"===_s768.type){var _t2171=_this901.filter.hasAttribute("data-bx-details")?_this901.filter.getAttribute("data-bx-details").split(" "):[];_t2171.includes(_s768.type)&&(_t2171=_t2171.filter(function(t){return t!==_s768.type;}),0===_t2171.length?_this901.filter.removeAttribute("data-bx-details"):_this901.filter.setAttribute("data-bx-details",_t2171.join(" ")));}{var _e1567=_o497.find(function(t){return t.result.baseVal===_n617.name;});if("feMerge"===_n617.type){_toConsumableArray(_e1567.children).filter(function(t){return"feMergeNode"===t.localName;});var _t2172=Ii("svg:feMergeNode");_t2172.setAttribute("in",_s768.name),_e1567.append(_t2172);}else _e1567.setAttribute(1===_t2170?"in":"in2",_s768.name);}{var _t2173=[];var _iterator1445=_createForOfIteratorHelper(_i1346),_step1445;try{var _loop34=function _loop34(){var e=_step1445.value;if("SourceGraphic"!==e.type&&"SourceAlpha"!==e.type){var _i1348=_o497.find(function(t){return t.result.baseVal===e.name;});_t2173.push(_i1348);}};for(_iterator1445.s();!(_step1445=_iterator1445.n()).done;){_loop34();}}catch(err){_iterator1445.e(err);}finally{_iterator1445.f();}for(var _i1347=0,_t2174=_t2173;_i1347<_t2174.length;_i1347++){var _e1568=_t2174[_i1347];_this901.filter.append(_e1568);}}_this901.setSelection(null,{from:_s768.name,to:_n617.name,slot:_t2170});}}}));}},{key:"i_",value:function i_(t){var e=t.target.closest(".edge");{var _t2179={from:e.dataset.from,to:e.dataset.to,slot:parseInt(e.dataset.slot)};this.setSelection(null,_t2179),this.dispatchEvent(new CustomEvent("selectionchange"));}}},{key:"s_",value:function s_(){this.setSelection(null,null),this.dispatchEvent(new CustomEvent("selectionchange"));}},{key:"jS",value:function(){var _jS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee161(t){var _e1569;return regeneratorRuntime.wrap(function _callee161$(_context163){while(1){switch(_context163.prev=_context163.next){case 0:if(!t.target.closest(".node")){_context163.next=8;break;}t.preventDefault();_context163.next=4;return this.Qs.openContextMenu([{value:"duplicate-primitive",label:"Duplicate Primitive",disabled:!1===this.l_()},{value:"delete-primitive",label:"Delete Primitive",disabled:!1},{type:"separator"},{value:"terminal-primitive",label:"Set as Terminal Primitive",disabled:!1===this.a_()}]);case 4:_e1569=_context163.sent;"duplicate-primitive"===_e1569?this.h_():"delete-primitive"===_e1569?this.ZS():"terminal-primitive"===_e1569&&this.r_();_context163.next=16;break;case 8:if(!t.target.closest(".edge")){_context163.next=16;break;}t.preventDefault();_context163.next=12;return this.Qs.openContextMenu([{value:"delete-edge",label:"Delete Connector",disabled:!1}]);case 12:_context163.t0=_context163.sent;_context163.t1="delete-edge"===_context163.t0;if(!_context163.t1){_context163.next=16;break;}this.ZS();case 16:case"end":return _context163.stop();}}},_callee161,this);}));function jS(_x189){return _jS.apply(this,arguments);}return jS;}()},{key:"HS",value:function HS(){this.XS();}},{key:"WS",value:function(){var _WS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee162(t){var e,i,_t2180,_t2181,_e1570,_s770,_n618,_t2182;return regeneratorRuntime.wrap(function _callee162$(_context164){while(1){switch(_context164.prev=_context164.next){case 0:e=t.target.closest("x-menuitem"),i=e?e.value:null;if(!i){_context164.next=29;break;}if(!(this.Js.board.undoManager.checkpoint("Add filter primitive"),"SourceGraphic"===i||"SourceAlpha"===i)){_context164.next=7;break;}_t2180=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2180.includes(i)&&(_t2180.push(i),this.filter.setAttribute("data-bx-details",_t2180.join(" ")),this.d_(),this.XS(),this.setSelection(i,null));_context164.next=29;break;case 7:_e1570=Ii("svg:"+i),_s770=di(i).substring(3),_n618=this.c_(_s770);if(!(_t2181="objectBoundingBox"===this.filter.getAttribute("primitiveUnits")?"objectBoundingBox":"userSpaceOnUse",_e1570.setAttribute("result",_n618),"feBlend"===i)){_context164.next=12;break;}_e1570.setAttribute("in","none"),_e1570.setAttribute("in2","none");_context164.next=28;break;case 12:if(!("feComposite"===i)){_context164.next=16;break;}_e1570.setAttribute("in","none"),_e1570.setAttribute("in2","none");_context164.next=28;break;case 16:if(!("feFlood"===i)){_context164.next=20;break;}_e1570.style.floodColor="#d8d8d8";_context164.next=28;break;case 20:if(!("feImage"===i)){_context164.next=27;break;}_context164.next=23;return Zh("images/cornell-box.jpg");case 23:_t2182=_context164.sent;_e1570.setAttribute("href",_t2182);_context164.next=28;break;case 27:"feTile"===i?_e1570.setAttribute("in","none"):"feTurbulence"===i?_e1570.setAttribute("baseFrequency","0.2"):"feColorMatrix"===i?(_e1570.setAttribute("in","none"),_e1570.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0")):"feComponentTransfer"===i||"feConvolveMatrix"===i?_e1570.setAttribute("in","none"):"feDisplacementMap"===i?(_e1570.setAttribute("in","none"),_e1570.setAttribute("in2","none")):"feGaussianBlur"===i?(_e1570.setAttribute("in","none"),_e1570.setAttribute("stdDeviation","userSpaceOnUse"===_t2181?"4":"0.04")):"feMorphology"===i?(_e1570.setAttribute("in","none"),_e1570.setAttribute("radius","userSpaceOnUse"===_t2181?"4":"0.04")):"feDropShadow"===i||"feOffset"===i?_e1570.setAttribute("in","none"):"feSpecularLighting"===i?(_e1570.setAttribute("in","none"),_e1570.setAttribute("lighting-color","#ffffff"),_e1570.setAttribute("specularConstant","1"),_e1570.setAttribute("specularExponent","70"),_e1570.innerHTML='<fePointLight x="0.5" y="0.5" z="0.5"></fePointLight>'):"feDiffuseLighting"===i&&_e1570.setAttribute("in","none");case 28:this.filter.prepend(_e1570),this.d_(),this.XS(),this.setSelection(_n618,null);case 29:case"end":return _context164.stop();}}},_callee162,this);}));function WS(_x190){return _WS.apply(this,arguments);}return WS;}()},{key:"YS",value:function YS(){var t=this.o_.getNodes(),e=t.find(function(t){return"SourceGraphic"===t.type;}),i=t.find(function(t){return"SourceAlpha"===t.type;});this["#source-graphic-menu-item"].disabled=void 0!==e,this["#source-alpha-menu-item"].disabled=void 0!==i;}},{key:"qS",value:function qS(t){var _this902=this;if(1!==t.buttons)return;this["#sidebar-resize-grippie"].setPointerCapture(t.pointerId);var e,i,s=this["#sidebar"].clientWidth,n=s,o=parseInt(getComputedStyle(this["#sidebar"]).minWidth),l=parseInt(getComputedStyle(this["#sidebar"]).maxWidth);t.preventDefault(),this["#sidebar-resize-grippie"].addEventListener("pointermove",e=function e(_e1571){n=s-(_e1571.clientX-t.clientX),n<o?n=o:n>l&&(n=l),n=Math.ceil(n),_this902["#sidebar"].style.width=n+"px";}),this["#sidebar-resize-grippie"].addEventListener("lostpointercapture",i=function(_i1349){function i(){return _i1349.apply(this,arguments);}i.toString=function(){return _i1349.toString();};return i;}(function(){_this902["#sidebar-resize-grippie"].removeEventListener("pointermove",e),_this902["#sidebar-resize-grippie"].removeEventListener("lostpointercapture",i),_this902.Qs.setConfig("bx-filterinspector:sidebarWidth",n);}));}},{key:"JS",value:function JS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect()),s=this["#graph-backdrop"].getBBox();s=He(s,qt(this["#graph-group"])),s=je(s,0);var n=DOMRect.fromRect(s);n.x+=t,n.y+=e,n=je(n,0),qe(i,s)?(n.width<i.width&&(n.x<i.x?n.x=i.x:n.x+n.width>i.x+i.width&&(n.x=i.x+i.width-n.width)),n.height<i.height&&(n.y<i.y?n.y=i.y:n.y+n.height>i.y+i.height&&(n.y=i.y+i.height-n.height))):!1===Xe(i,s)&&(n.x+n.width<i.x?n.x=i.x-n.width:n.x>i.x+i.width&&(n.x=i.x+i.width),n.y+n.height<i.y?n.y=i.y-n.height:n.y>i.y+i.height&&(n.y=i.y+i.height));var o=n.x-s.x,l=n.y-s.y,a=new DOMMatrix();a.translateSelf(o,l),a.multiplySelf(Wt(this["#graph-group"])),this["#graph-group"].setAttribute("transform",a);}},{key:"t_",value:function t_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=Wt(this["#graph-group"]),n=qt(this["#canvas"]).inverse(),o=new DOMPoint(e,i).matrixTransform(n);if(s.a>0){100*(s.a+t*s.a)<ig?t=(ig-100*s.a)/(100*s.a):100*(s.a+t*s.a)>sg&&(t=(sg-100*s.a)/(100*s.a));var _e1572=new DOMMatrix();_e1572.scaleSelf(1+t,1+t,1,o.x,o.y),_e1572.multiplySelf(s),this["#graph-group"].setAttribute("transform",_e1572);}}},{key:"p_",value:function p_(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect());if(i=He(i,qt(this["#canvas"]).inverse()),i.x+=e,i.y+=e,i.width-=2*e,i.height-=2*e,t.width>0&&t.height>0){var _e1573=i.width/t.width,_s771=i.height/t.height;_e1573>_s771?_e1573=_s771:_s771>_e1573&&(_s771=_e1573),(_e1573>1||_s771>1)&&(_e1573=1,_s771=1);var _n619=i.x-t.x*_e1573+(i.width-t.width*_e1573)/2,_o498=i.y-t.y*_s771+(i.height-t.height*_s771)/2,_l375=new DOMMatrix();_l375.translateSelf(_n619,_o498),_l375.scaleSelf(_e1573,_s771),this["#graph-group"].setAttribute("transform",_l375);}}},{key:"XS",value:function XS(){this.p_(this["#graph-backdrop"].getBBox());}},{key:"getSelection",value:function getSelection(){var t=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}),e=this.US.node,i=this.US.edge;if("SourceGraphic"!==e&&"SourceAlpha"!==e){var _i1350=!1;var _iterator1446=_createForOfIteratorHelper(t),_step1446;try{for(_iterator1446.s();!(_step1446=_iterator1446.n()).done;){var _s772=_step1446.value;if(_s772.result.baseVal===e){_i1350=!0;break;}}}catch(err){_iterator1446.e(err);}finally{_iterator1446.f();}!1===_i1350&&(e=null);}if(i){var _e1574=t.find(function(t){return t.result.baseVal===i.from;}),_s773=t.find(function(t){return t.result.baseVal===i.to;});if(_s773){if("SourceGraphic"===i.from||"SourceAlpha"===i.from){if("feMerge"===_s773.localName){var _t2183=_toConsumableArray(_s773.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2183[i.slot-1]&&_t2183[i.slot-1].in1.baseVal===i.from||(i=null);}else _s773["in"+i.slot]&&_s773["in"+i.slot].baseVal===i.from||(i=null);}else if(_e1574){if("feMerge"===_s773.localName){var _t2184=_toConsumableArray(_s773.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2184[i.slot-1]&&_t2184[i.slot-1].in1.baseVal===_e1574.result.baseVal||(i=null);}else _s773["in"+i.slot]&&_s773["in"+i.slot].baseVal===_e1574.result.baseVal||(i=null);}else i=null;}else i=null;}return[e,i];}},{key:"setSelection",value:function setSelection(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.US={node:t,edge:e},this.qs();}},{key:"u_",value:function u_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"SourceGraphic";var e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);});var _iterator1447=_createForOfIteratorHelper(e),_step1447;try{for(_iterator1447.s();!(_step1447=_iterator1447.n()).done;){var _i1351=_step1447.value;if("feMerge"===_i1351.localName){var _e1575=_toConsumableArray(_i1351.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1448=_createForOfIteratorHelper(_e1575),_step1448;try{for(_iterator1448.s();!(_step1448=_iterator1448.n()).done;){var _i1352=_step1448.value;if(_i1352.in1.baseVal===t)return!0;}}catch(err){_iterator1448.e(err);}finally{_iterator1448.f();}}else{if(_i1351.in1&&_i1351.in1.baseVal===t)return!0;if(_i1351.in2&&_i1351.in2.baseVal===t)return!0;}}}catch(err){_iterator1447.e(err);}finally{_iterator1447.f();}return!1;}},{key:"ZS",value:function ZS(){var _this$getSelection=this.getSelection(),_this$getSelection2=_slicedToArray(_this$getSelection,2),t=_this$getSelection2[0],e=_this$getSelection2[1],i=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}),s=this.u_("SourceGraphic"),n=this.u_("SourceAlpha");if(t){if(this.Js.board.undoManager.checkpoint("Delete filter primitive"),"SourceGraphic"===t||"SourceAlpha"===t){var _iterator1449=_createForOfIteratorHelper(i),_step1449;try{for(_iterator1449.s();!(_step1449=_iterator1449.n()).done;){var _e1577=_step1449.value;if("feMerge"===_e1577.localName){var _i1353=_toConsumableArray(_e1577.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1450=_createForOfIteratorHelper(_i1353),_step1450;try{for(_iterator1450.s();!(_step1450=_iterator1450.n()).done;){var _e1578=_step1450.value;_e1578.in1.baseVal===t&&_e1578.remove();}}catch(err){_iterator1450.e(err);}finally{_iterator1450.f();}}else _e1577.in1&&_e1577.in1.baseVal===t&&_e1577.setAttribute("in","none"),_e1577.in2&&_e1577.in2.baseVal===t&&_e1577.setAttribute("in2","none");}}catch(err){_iterator1449.e(err);}finally{_iterator1449.f();}{var _e1576=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];_e1576.includes(t)&&(_e1576=_e1576.filter(function(e){return e!==t;})),0===_e1576.length?this.filter.removeAttribute("data-bx-details"):this.filter.setAttribute("data-bx-details",_e1576.join(" "));}}else{var _e1579=i.find(function(e){return e.result.baseVal===t;}),_o499=i.filter(function(t){return t!==_e1579;});_e1579.remove();var _iterator1451=_createForOfIteratorHelper(_o499),_step1451;try{for(_iterator1451.s();!(_step1451=_iterator1451.n()).done;){var _t2186=_step1451.value;if("feMerge"===_t2186.localName){var _i1355=_toConsumableArray(_t2186.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1452=_createForOfIteratorHelper(_i1355),_step1452;try{for(_iterator1452.s();!(_step1452=_iterator1452.n()).done;){var _t2187=_step1452.value;_t2187.in1.baseVal===_e1579.result.baseVal&&_t2187.remove();}}catch(err){_iterator1452.e(err);}finally{_iterator1452.f();}}else _t2186.in1&&_t2186.in1.baseVal===_e1579.result.baseVal&&_t2186.setAttribute("in","none"),_t2186.in2&&_t2186.in2.baseVal===_e1579.result.baseVal&&_t2186.setAttribute("in2","none");}}catch(err){_iterator1451.e(err);}finally{_iterator1451.f();}{var _t2185=this.u_("SourceGraphic"),_e1580=this.u_("SourceAlpha");if(_e1580!==n||_t2185!==s){var _i1354=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2185&&!0===s&&!1===_i1354.includes("SourceGraphic")&&_i1354.push("SourceGraphic"),!1===_e1580&&!0===n&&!1===_i1354.includes("SourceAlpha")&&_i1354.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1354.join(" "));}}}}else if(e){var _iterator1453=_createForOfIteratorHelper(i),_step1453;try{for(_iterator1453.s();!(_step1453=_iterator1453.n()).done;){var _t2189=_step1453.value;if("feMerge"===_t2189.localName){if(_t2189.result.baseVal===e.to){var _i1357=_toConsumableArray(_t2189.children).filter(function(t){return"feMergeNode"===t.localName;}),_s774=null;var _iterator1454=_createForOfIteratorHelper(_i1357),_step1454;try{for(_iterator1454.s();!(_step1454=_iterator1454.n()).done;){var _t2190=_step1454.value;if(_t2190.in1.baseVal===e.from){_s774=_t2190;break;}}}catch(err){_iterator1454.e(err);}finally{_iterator1454.f();}_s774&&(this.Js.board.undoManager.checkpoint("Delete filter connector"),_s774.remove());}}else{if(_t2189.in1&&_t2189.in1.baseVal===e.from&&_t2189.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2189.setAttribute("in","none");break;}if(_t2189.in2&&_t2189.in2.baseVal===e.from&&_t2189.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2189.setAttribute("in2","none");break;}}}}catch(err){_iterator1453.e(err);}finally{_iterator1453.f();}{var _t2188=this.u_("SourceGraphic"),_e1581=this.u_("SourceAlpha");if(_t2188!==s||_e1581!==n){var _i1356=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2188&&!0===s&&!1===_i1356.includes("SourceGraphic")&&_i1356.push("SourceGraphic"),!1===_e1581&&!0===n&&!1===_i1356.includes("SourceAlpha")&&_i1356.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1356.join(" "));}}}}},{key:"x_",value:function x_(){var _this$getSelection3=this.getSelection(),_this$getSelection4=_slicedToArray(_this$getSelection3,2),t=_this$getSelection4[0],e=_this$getSelection4[1];return!!t||!!e;}},{key:"h_",value:function h_(){this.Js.board.undoManager.checkpoint("Duplicate filter primitive");var _this$getSelection5=this.getSelection(),_this$getSelection6=_slicedToArray(_this$getSelection5,1),t=_this$getSelection6[0],e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}).find(function(e){return e.result.baseVal===t;}),i=di(e.localName).substring(3),s=e.cloneNode("feMerge"!==e.localName);s.setAttribute("result",this.c_(i)),s.removeAttribute("id"),s.in1&&(s.in1.baseVal="none"),s.in2&&(s.in2.baseVal="none"),this.filter.append(s);}},{key:"l_",value:function l_(){var _this$getSelection7=this.getSelection(),_this$getSelection8=_slicedToArray(_this$getSelection7,1),t=_this$getSelection8[0];return"SourceGraphic"!==t&&"SourceAlpha"!==t;}},{key:"r_",value:function r_(){var _this$getSelection9=this.getSelection(),_this$getSelection10=_slicedToArray(_this$getSelection9,1),t=_this$getSelection10[0],e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}),i=this.o_.getGroups(),s=i.find(function(e){return e.includes(t);}),n=_toConsumableArray(i).sort(function(t){return t===s?1:-1;});this.Js.board.undoManager.checkpoint("Set terminal filter primitive");{var _t2191=[];var _iterator1455=_createForOfIteratorHelper(n),_step1455;try{for(_iterator1455.s();!(_step1455=_iterator1455.n()).done;){var _i1359=_step1455.value;var _iterator1456=_createForOfIteratorHelper(_i1359),_step1456;try{var _loop35=function _loop35(){var s=_step1456.value;if("SourceGraphic"!==s&&"SourceAlpha"!==s){var _i1360=e.find(function(t){return t.result.baseVal===s;});_t2191.push(_i1360);}};for(_iterator1456.s();!(_step1456=_iterator1456.n()).done;){_loop35();}}catch(err){_iterator1456.e(err);}finally{_iterator1456.f();}}}catch(err){_iterator1455.e(err);}finally{_iterator1455.f();}for(var _i1358=0,_t2192=_t2191;_i1358<_t2192.length;_i1358++){var _e1582=_t2192[_i1358];this.filter.append(_e1582);}}}},{key:"a_",value:function a_(){var _this$getSelection11=this.getSelection(),_this$getSelection12=_slicedToArray(_this$getSelection11,1),t=_this$getSelection12[0],e=this.o_.getGroups();if("SourceGraphic"===t||"SourceAlpha"===t)return!1;{var _i1361=e.flat();if(_i1361=_i1361.filter(function(t){return"SourceGraphic"!==t&&"SourceAlpha"!==t;}),t===_i1361[_i1361.length-1])return!1;}{var _i1362=e.find(function(e){return e.includes(t);});if(_i1362.indexOf(t)!==_i1362.length-1)return!1;}return!0;}},{key:"c_",value:function c_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"primitive";this.filter;var e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}).map(function(t){return t.result.baseVal;});for(var _i1363=0;_i1363<Infinity;_i1363+=1){var _s775=t+"-"+_i1363;if(!1===e.includes(_s775))return _s775;}}},{key:"qs",value:function qs(){this.d_(),this.QS();}},{key:"d_",value:function d_(){var _this903=this;(function(t){var e=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);}),i=Symbol();{var _t2193=null,_s776={};var _iterator1457=_createForOfIteratorHelper(e),_step1457;try{for(_iterator1457.s();!(_step1457=_iterator1457.n()).done;){var _n620=_step1457.value;if(_n620[i]=[],"feMerge"===_n620.localName){var _e1583=_toConsumableArray(_n620.children).filter(function(t){return"feMergeNode"===t.localName;}),_o500=null,_l376=Symbol();var _iterator1458=_createForOfIteratorHelper(_e1583),_step1458;try{for(_iterator1458.s();!(_step1458=_iterator1458.n()).done;){var _i1364=_step1458.value;["SourceGraphic","SourceAlpha","none"].includes(_i1364.in1.baseVal)?_i1364[_l376]=_i1364.in1.baseVal:_s776[_i1364.in1.baseVal]?_i1364[_l376]=_s776[_i1364.in1.baseVal]:_i1364[_l376]=_o500?_o500[_l376]:_t2193||"SourceGraphic",_o500=_i1364;}}catch(err){_iterator1458.e(err);}finally{_iterator1458.f();}var _iterator1459=_createForOfIteratorHelper(_e1583),_step1459;try{for(_iterator1459.s();!(_step1459=_iterator1459.n()).done;){var _t2194=_step1459.value;var _e1584=_t2194[_l376];_n620[i].push(_e1584);}}catch(err){_iterator1459.e(err);}finally{_iterator1459.f();}}else for(var _i1365=0,_arr71=["in1","in2"];_i1365<_arr71.length;_i1365++){var _e1585=_arr71[_i1365];if(void 0!==_n620[_e1585])if(["SourceGraphic","SourceAlpha","none"].includes(_n620[_e1585].baseVal))_n620[i].push(_n620[_e1585].baseVal);else if(_s776[_n620[_e1585].baseVal]){var _t2195=_s776[_n620[_e1585].baseVal];_n620[i].push(_t2195);}else _t2193?_n620[i].push(_t2193):_n620[i].push("SourceGraphic");}_t2193=_n620,""!==_n620.result.baseVal&&(_s776[_n620.result.baseVal]=_n620);}}catch(err){_iterator1457.e(err);}finally{_iterator1457.f();}}{var _t2196=[];var _iterator1460=_createForOfIteratorHelper(e),_step1460;try{for(_iterator1460.s();!(_step1460=_iterator1460.n()).done;){var _i1366=_step1460.value;var _e1586=_i1366.result.baseVal;""!==_e1586&&(_t2196.includes(_e1586)?_i1366.result.baseVal="":_t2196.push(_i1366.result.baseVal));}}catch(err){_iterator1460.e(err);}finally{_iterator1460.f();}var _iterator1461=_createForOfIteratorHelper(e),_step1461;try{for(_iterator1461.s();!(_step1461=_iterator1461.n()).done;){var _i1367=_step1461.value;if(""===_i1367.result.baseVal){var _e1587=di(_i1367.localName).substring(3);for(var _s777=0;_s777<Infinity;_s777+=1){var _n621="".concat(_e1587,"-").concat(_s777);if(!1===_t2196.includes(_n621)){_i1367.result.baseVal=_n621,_t2196.push(_n621);break;}}}}}catch(err){_iterator1461.e(err);}finally{_iterator1461.f();}}var _iterator1462=_createForOfIteratorHelper(e),_step1462;try{for(_iterator1462.s();!(_step1462=_iterator1462.n()).done;){var _t2197=_step1462.value;var _e1588=_t2197[i].map(function(t){return t.result?t.result.baseVal:t;});if("feMerge"===_t2197.localName){var _i1368=_toConsumableArray(_t2197.children).filter(function(t){return"feMergeNode"===t.localName;});for(var _t2198=0;_t2198<_i1368.length;_t2198+=1){_i1368[_t2198].in1.baseVal!==_e1588[_t2198]&&(_i1368[_t2198].in1.baseVal=_e1588[_t2198]);}}else void 0!==_t2197.in1&&_t2197.in1.baseVal!==_e1588[0]&&(_t2197.in1.baseVal=_e1588[0]),void 0!==_t2197.in2&&_t2197.in2.baseVal!==_e1588[1]&&(_t2197.in2.baseVal=_e1588[1]);}}catch(err){_iterator1462.e(err);}finally{_iterator1462.f();}})(this.filter),this.o_=new Om(this.filter);var t=this.o_.getNodes(),e=this.o_.getEdges(),_this$getSelection13=this.getSelection(),_this$getSelection14=_slicedToArray(_this$getSelection13,2),i=_this$getSelection14[0],s=_this$getSelection14[1];this["#graph-backdrop"].width.baseVal.value=this.o_.getWidth(),this["#graph-backdrop"].height.baseVal.value=this.o_.getHeight();{var _loop36=function _loop36(){var e=_arr72[_i1369];t.find(function(t){return t.name===e.dataset.name;})||e.remove();};for(var _i1369=0,_arr72=_toConsumableArray(this["#graph-nodes"].children);_i1369<_arr72.length;_i1369++){_loop36();}var _e1589=_toConsumableArray(this["#graph-nodes"].children);var _iterator1463=_createForOfIteratorHelper(t),_step1463;try{var _loop37=function _loop37(){var _step1463$value=_step1463.value,s=_step1463$value.x,n=_step1463$value.y,o=_step1463$value.width,l=_step1463$value.height,a=_step1463$value.name,h=_step1463$value.type,r=_step1463$value.terminal;var t=_e1589.find(function(t){return t.dataset.name===a;});if(!t){var _e1590="";_e1590="SourceGraphic"===h?"filter-source-graphic-hd":"SourceAlpha"===h?"filter-source-alpha-hd":"feDiffuseLighting"===h||"feSpecularLighting"===h?"filter-lighting-hd":"filter-"+di(h).substring(3)+"-hd",t=ts(_templateObject63(),a,_e1590),_this903["#graph-nodes"].append(t);}a===i?t.setAttribute("data-selected",""):t.removeAttribute("data-selected"),r?t.setAttribute("data-terminal",""):t.removeAttribute("data-terminal"),t.setAttribute("transform","translate(".concat(s-o/2,", ").concat(n-l/2,")"));};for(_iterator1463.s();!(_step1463=_iterator1463.n()).done;){_loop37();}}catch(err){_iterator1463.e(err);}finally{_iterator1463.f();}}{var _loop38=function _loop38(){var t=_arr73[_i1370];e.find(function(e){return e.from===t.dataset.from&&e.to===t.dataset.to&&e.slot===parseInt(t.dataset.slot);})||t.remove();};for(var _i1370=0,_arr73=_toConsumableArray(this["#graph-edges"].children);_i1370<_arr73.length;_i1370++){_loop38();}var _t2199=_toConsumableArray(this["#graph-edges"].children);var _iterator1464=_createForOfIteratorHelper(e),_step1464;try{var _loop39=function _loop39(){var n=_step1464.value;var e=n.points,o=n.label,l=n.from,a=n.to,h=n.slot,r=_t2199.find(function(t){return t.dataset.from===l&&t.dataset.to===a&&t.dataset.slot==="".concat(h);}),_e1591=_toArray(e),d=_e1591[0],c=_e1591.slice(1),p="M ".concat(d.x," ").concat(d.y)+c.map(function(t){return" L ".concat(t.x," ").concat(t.y);}).join("");r||(r=ts(_templateObject64(),o.width,o.height,o.height),_this903["#graph-edges"].append(r)),s&&s.from===l&&s.to===a&&s.slot===h?r.setAttribute("data-selected",""):r.removeAttribute("data-selected"),s?s.to===n.to?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"):i&&i===a?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"),r.setAttribute("data-from",l),r.setAttribute("data-to",a),r.setAttribute("data-slot",h),r.children[0].style.d="path(\"".concat(p,"\")"),r.children[1].style.d="path(\"".concat(p,"\")"),r.children[2].style.x=o.x-o.width/2+"px",r.children[2].style.y=o.y-o.height/2+"px",r.children[2].innerHTML=o.text;};for(_iterator1464.s();!(_step1464=_iterator1464.n()).done;){_loop39();}}catch(err){_iterator1464.e(err);}finally{_iterator1464.f();}}}},{key:"QS",value:function QS(){var t=this["#sidebar-content"].firstElementChild,e=null,_this$getSelection15=this.getSelection(),_this$getSelection16=_slicedToArray(_this$getSelection15,2),i=_this$getSelection16[0],s=_this$getSelection16[1];if(i){if("SourceGraphic"===i||"SourceAlpha"===i)e=i;else{e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}).find(function(t){return t.result.baseVal===i;});}if(!t||t.primitive!==e)if("SourceAlpha"===e)this["#sidebar-heading"].textContent="Source Alpha",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else if("SourceGraphic"===e)this["#sidebar-heading"].textContent="Source Graphic",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else{var _t2200=Ii("bx-".concat(e.localName.substring(2).toLowerCase(),"primitiveinspector"));_t2200.primitive=e,this["#sidebar-heading"].textContent=_t2200.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2200);}}else if(s){if(!t||"bx-filteredgeinspector"!==t.localName){var _t2201=Ii("bx-filteredgeinspector");this["#sidebar-heading"].textContent=_t2201.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2201);}}else if(!t||"bx-filterhostinspector"!==t.localName){var _t2202=Ii("bx-filterhostinspector");_t2202.filter=this.filter,this["#sidebar-heading"].textContent="Filter",this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2202);}}}]);return ag;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ag,"observedAttributes",["enabled"]);_defineProperty(ag,"_shadowTemplate",Qi(_templateObject439()));_defineProperty(ag,"_shadowStyleSheet",Ji(_templateObject440()));customElements.define("bx-filterinspector",ag);var hg=Symbol(),rg=Symbol();var dg=/*#__PURE__*/function(_HTMLElement118){_inherits(dg,_HTMLElement118);var _super190=_createSuper(dg);_createClass(dg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function dg(){var _temp48,_this904;_classCallCheck(this,dg);(_temp48=_this904=_super190.call(this),_defineProperty(_assertThisInitialized(_this904),"commands",{selectAll:{enabled:function enabled(){return _this904.wv();},exec:function exec(){return _this904.vv();}},deselectAll:{enabled:function enabled(){return _this904.yv();},exec:function exec(){return _this904.kv();}}}),_temp48),_this904.Dy=is(_this904.qs,2e3,_assertThisInitialized(_this904)),_this904._v=0,_this904._shadowRoot=_this904.attachShadow({mode:"closed"}),_this904._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,dg._shadowStyleSheet],_this904._shadowRoot.append(document.importNode(dg._shadowTemplate.content,!0));var _iterator1465=_createForOfIteratorHelper(_this904._shadowRoot.querySelectorAll("[id]")),_step1465;try{for(_iterator1465.s();!(_step1465=_iterator1465.n()).done;){var _t2203=_step1465.value;_this904["#"+_t2203.id]=_t2203;}}catch(err){_iterator1465.e(err);}finally{_iterator1465.f();}_this904.addEventListener("keydown",function(t){return _this904.wn(t);}),_this904["#items"].addEventListener("scroll",function(){return _this904.Cv();}),_this904["#items"].addEventListener("contextmenu",function(t){return _this904.op(t);}),_this904["#items"].addEventListener("pointerdown",function(t){return _this904.sp(t);}),_this904["#items"].addEventListener("click",function(t){return _this904.np(t);}),_this904["#search-input"].addEventListener("input",function(){return _this904.Mv();}),_this904["#developer-mode-button"].addEventListener("toggle",function(){return _this904.$u();}),_this904["#add-menu"].addEventListener("click",function(t){return _this904.Xw(t);}),_this904["#add-menu"].addEventListener("open",function(){return _this904.Pv();}),_this904["#filter-inspector-popover"].addEventListener("close",function(){return _this904["#filter-inspector"].enabled=!1;});return _this904;}_createClass(dg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this905=this;window.addEventListener("resize",this.sn=function(){_this905.zv();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this905.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this905.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this905.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filtersbrowser:developerMode",!1),this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("artworkchange",this.yr),this.b_(),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"ln",value:function ln(t){var _t$detail15=t.detail,e=_t$detail15.key,i=_t$detail15.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"zv",value:function zv(){this.b_();}},{key:"al",value:function al(t){var e=t.detail,i="debounced",s=!1;var _iterator1466=_createForOfIteratorHelper(e),_step1466;try{for(_iterator1466.s();!(_step1466=_iterator1466.n()).done;){var _t2204=_step1466.value;var _e1592=_t2204.target.nodeName,_n622=_t2204.addedNodes[0]?_t2204.addedNodes[0].nodeName:null,_o501=_t2204.removedNodes[0]?_t2204.removedNodes[0].nodeName:null,_l377=_t2204.attributeName;if("filter"===_e1592){if("bx-title"===_n622||"bx-title"===_o501){i="now";break;}if("id"===_l377){i="now",s=!0;break;}if("data-bx-pinned"===_l377){i="now";break;}}else if("bx-title"===_e1592){if(_n622||_o501){i="now";break;}}else if("filter"===_n622||"filter"===_o501){i="now",s=!0;break;}}}catch(err){_iterator1466.e(err);}finally{_iterator1466.f();}!0===s&&this.b_(),"now"===i?this.qs():"debounced"===i&&this.Dy();}},{key:"Ov",value:function Ov(){this.b_(),this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop,this.b_();}},{key:"op",value:function(){var _op7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee163(t){var e,_i1371,_s778,_n623;return regeneratorRuntime.wrap(function _callee163$(_context165){while(1){switch(_context165.prev=_context165.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context165.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.Dv([e]);_i1371=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[hg];});_s778=e[hg];_context165.next=7;return this.Qs.openContextMenu([{label:"Edit Filter",value:"edit",disabled:1!==_i1371.length},{label:"Edit Filter ID",value:"edit-id",disabled:1!==_i1371.length},{label:"Edit Filter Title",value:"edit-title",disabled:1!==_i1371.length},{type:"separator"},{label:"Delete Filter"+(_i1371.length>1?"s":""),value:"delete",disabled:0===_i1371.length},{type:"separator"},{label:"Pin Filter"+(_i1371.length>1?"s":""),value:"pin",disabled:void 0===_i1371.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Filter"+(_i1371.length>1?"s":""),value:"unpin",disabled:void 0===_i1371.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Filter Users",value:"select-users",disabled:1!==_i1371.length}]);case 7:_n623=_context165.sent;"edit"===_n623?this.editFilter(_s778.id):"edit-id"===_n623?this.$v(_s778.id,"id"):"edit-title"===_n623?this.$v(_s778.id,"title"):"delete"===_n623?this.Lv():"pin"===_n623?this.Rv():"unpin"===_n623?this.Bv():"select-users"===_n623&&this.m_(_s778.id);case 9:case"end":return _context165.stop();}}},_callee163,this);}));function op(_x191){return _op7.apply(this,arguments);}return op;}()},{key:"np",value:function np(t){t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys23=this.Qs.modKeys,e=_this$Qs$modKeys23.ctrl,i=_this$Qs$modKeys23.shift;if(!1===e&&!1===i){var _e1593=t.target.closest(".item"),_i1372=t.target.closest(".thumbnail"),_s779=t.target.closest(".counter-button"),_n624=t.target.closest(".pin-button"),_o502=_e1593[hg].id;_s779?this.m_(_o502):_n624?_n624.toggled?this.g_(_o502):this.f_(_o502):_i1372?t.detail%2==0&&this.editFilter(_o502):t.detail%2==0&&this.$v(_o502);}}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1594=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1594&&this.Dv([]);}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this906=this;var _this$Qs$modKeys24=this.Qs.modKeys,e=_this$Qs$modKeys24.ctrl,i=_this$Qs$modKeys24.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.b_(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[rg]=Date.now());else if(!0===i){var _t2205=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1595=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1595.length>0){var _i1373=_t2205.indexOf(s),_n625=_e1595.sort(function(t,e){return e[rg]-t[rg];})[0],_o503=_t2205.indexOf(_n625),_l378=[];if(_i1373>_o503?_l378=_toConsumableArray(_t2205).slice(_o503,_i1373+1):_i1373<_o503&&(_l378=_toConsumableArray(_t2205).slice(_i1373,_o503+1).reverse()),_l378=_l378.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l378.length>0){var _iterator1467=_createForOfIteratorHelper(_l378),_step1467;try{for(_iterator1467.s();!(_step1467=_iterator1467.n()).done;){var _t2206=_step1467.value;_t2206.setAttribute("data-selected",""),_t2206[rg]=Date.now();}}catch(err){_iterator1467.e(err);}finally{_iterator1467.f();}}}}else{var _t2209,_e1597,_i1374=!1;window.addEventListener("pointermove",_t2209=function _t2207(o){var l=new DOMPoint(o.clientX,o.clientY);if(Te(n,l)>=3){if(window.removeEventListener("pointermove",_t2209),window.removeEventListener("pointerup",_e1597),!1===s.hasAttribute("data-selected")){var _iterator1468=_createForOfIteratorHelper(_this906["#items"].children),_step1468;try{for(_iterator1468.s();!(_step1468=_iterator1468.n()).done;){var _t2208=_step1468.value;_t2208===s?(_t2208.setAttribute("data-selected",""),_t2208[rg]=Date.now()):_t2208.removeAttribute("data-selected");}}catch(err){_iterator1468.e(err);}finally{_iterator1468.f();}}_this906.sv(o),_i1374=!0;}}),window.addEventListener("pointerup",_e1597=function _e1596(){if(window.removeEventListener("pointermove",_t2209),window.removeEventListener("pointerup",_e1597),!1===_i1374){var _iterator1469=_createForOfIteratorHelper(_this906["#items"].children),_step1469;try{for(_iterator1469.s();!(_step1469=_iterator1469.n()).done;){var _t2210=_step1469.value;_t2210===s?(_t2210.setAttribute("data-selected",""),_t2210[rg]=Date.now()):_t2210.removeAttribute("data-selected");}}catch(err){_iterator1469.e(err);}finally{_iterator1469.f();}}});}}},{key:"sv",value:function sv(t){var _this907=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this907["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this907.Qs.pointerClientPoint,e=_this907._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this907._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1598=l.getBoundingClientRect();if(a=t.y<_e1598.y+_e1598.height/2?"start":"end",_this907.nv(n,l,a)){var _t2211=l.offsetTop-_this907["#items"].scrollTop;"end"===a&&(_t2211+=_e1598.height),_this907["#drop-indicator"].hidden=!1,_this907["#drop-indicator"].style.top=_t2211-1+"px";}else l=null,_this907["#drop-indicator"].hidden=!0;}else _this907["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s780){function s(_x192){return _s780.apply(this,arguments);}s.toString=function(){return _s780.toString();};return s;}(function(t){if(_this907["#items"].removeEventListener("pointermove",e),_this907["#items"].removeEventListener("scroll",i),_this907["#items"].removeEventListener("lostpointercapture",s),_this907["#items"].style.cursor=null,_this907["#drop-indicator"].hidden=!0,c(),_this907.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1599=n[0][hg],_i1375=_this907.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1375&&E.includes(_i1375.localName)&&(_this907.Js.board.undoManager.checkpoint("Apply filter"),_i1375.style.setProperty("filter","url(#".concat(_e1599.id,")")),Dp("filter",_i1375),"image"===_i1375.localName&&(_e1599.previousElementSibling?_e1599.previousElementSibling.after(_e1599):_e1599.nextElementSibling?_e1599.nextElementSibling.before(_e1599):_e1599.parentElement.append(_e1599)),_this907.Nv());}}else if(l){_this907.Js.board.undoManager.checkpoint("Rearrange filters");var _t2212=document.createDocumentFragment(),_e1600=l[hg];var _iterator1470=_createForOfIteratorHelper(n),_step1470;try{for(_iterator1470.s();!(_step1470=_iterator1470.n()).done;){var _i1376=_step1470.value;_i1376[hg]!==_e1600&&_t2212.append(_i1376[hg]);}}catch(err){_iterator1470.e(err);}finally{_iterator1470.f();}"start"===a?_e1600.before(_t2212):_e1600.after(_t2212);}}));}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus")||this["#filter-inspector-popover"].opened)return;var e=ao.fromEvent(t);if(e.matches("Enter")){var _t2213=this["#items"].querySelector(".item[data-label-edited]"),_e1601=this["#items"].querySelector(".item[data-selected]");_t2213?this.focus():_e1601&&this.$v(_e1601[hg].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.Lv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu()||this.Vv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu()||this.jv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Nu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}}},{key:"$u",value:function $u(){this.Qs.setConfig("bx-filtersbrowser:developerMode",this["#developer-mode-button"].toggled),this.pv(),this.focus();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&"add-filter"===e.value&&this.Hv();}},{key:"Pv",value:function Pv(){}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"editFilter",value:function(){var _editFilter=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee164(t){var e,_t2214,_i1377;return regeneratorRuntime.wrap(function _callee164$(_context166){while(1){switch(_context166.prev=_context166.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[hg].id===t;});if(!e){_context166.next=9;break;}this.Dv([e]);_t2214=e.getBoundingClientRect(),_i1377=new DOMPoint(_t2214.left,_t2214.top+_t2214.height/2);_context166.next=6;return ns(10);case 6:this["#filter-inspector-popover"].open(_i1377);this["#filter-inspector"].filter=e[hg];this["#filter-inspector"].enabled=!0;case 9:case"end":return _context166.stop();}}},_callee164,this);}));function editFilter(_x193){return _editFilter.apply(this,arguments);}return editFilter;}()},{key:"b_",value:function b_(){this["#filter-inspector-popover"].opened&&(this["#filter-inspector-popover"].close(),this["#filter-inspector"].enabled=!1);}},{key:"$v",value:function $v(t){var _this908=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[hg].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2215=this["#items"].querySelector(".item[data-label-edited]");if(_t2215){if(_t2215===i)return;this.qv();}}this.Dv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[hg],l=this["#developer-mode-button"].toggled?"Filter ID":"Filter title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Qi(_templateObject65(),h,l);n.after(r),r.selectAll(),ns(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this908.qv();}),r.validate=function(){var t=null;if(_this908["#developer-mode-button"].toggled){var _e1602=r.value.trim();if(_e1602.startsWith("#")&&(_e1602=_e1602.substring(1)),0===_e1602.length)t="Filter must have ID";else if(Xi(_e1602)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1602)))&&o.id!==_e1602&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"qv",value:function qv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1603=this.Js.board,_i1378=t.querySelector(".label"),_s781=t.querySelector("x-input"),_n626=t[hg];if(_s781.remove(),_i1378.hidden=!1,t.removeAttribute("data-label-edited"),null===_s781.error)if(this["#developer-mode-button"].toggled){var _t2216=_n626.getAttribute("id").trim(),_i1379=_s781.value.trim().toLowerCase();if(_i1379.startsWith("#")&&(_i1379=_i1379.substring(1)),_t2216!==_i1379){_e1603.undoManager.checkpoint("Filter ID");var _s782=document.createNodeIterator(_e1603.workspaces,NodeFilter.SHOW_ELEMENT),_n627=null;for(;_n627=_s782.nextNode();){"filter"===_n627.localName&&(_n627.id===_t2216&&_n627.setAttribute("id",_i1379),_n627.href.baseVal==="#"+_t2216&&_n627.setAttribute("href","#"+_i1379));{var _e1604=getComputedStyle(_n627).getPropertyValue("filter");if(_e1604&&_e1604.startsWith("url(")){_e1604.substring(6,_e1604.length-2)===_t2216&&_n627.style.setProperty("filter","url(#".concat(_i1379,")"));}}}}}else{var _t2217=_n626.querySelector(":scope > bx-title"),_i1380=_s781.value.trim();if(_t2217){_t2217.textContent!==_i1380&&(_e1603.undoManager.checkpoint("Filter title"),""===_i1380?_t2217.remove():_t2217.textContent=_i1380);}else""!==_i1380&&(_e1603.undoManager.checkpoint("Filter title"),_t2217=Ii("svg:bx-title"),_t2217.textContent=_i1380,_n626.prepend(_t2217));}}}},{key:"g_",value:function g_(t){this.Js.board.undoManager.checkpoint("Pin Filter"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"f_",value:function f_(t){this.Js.board.undoManager.checkpoint("Unpin Filter"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"Dv",value:function Dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1471=_createForOfIteratorHelper(this["#items"].children),_step1471;try{for(_iterator1471.s();!(_step1471=_iterator1471.n()).done;){var _e1605=_step1471.value;t.includes(_e1605)?(_e1605.setAttribute("data-selected",""),_e1605[rg]=Date.now()):_e1605.removeAttribute("data-selected");}}catch(err){_iterator1471.e(err);}finally{_iterator1471.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.b_();}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1381=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s783=e[0],_n628=_i1381.indexOf(_s783),_o504=_i1381[_n628-1];if(_o504){if(_o504.scrollIntoViewIfNeeded(),t)_o504.setAttribute("data-selected",""),_o504[rg]=Date.now();else{var _iterator1472=_createForOfIteratorHelper(_i1381),_step1472;try{for(_iterator1472.s();!(_step1472=_iterator1472.n()).done;){var _t2218=_step1472.value;_t2218===_o504?(_t2218.setAttribute("data-selected",""),_t2218[rg]=Date.now()):_t2218.removeAttribute("data-selected");}}catch(err){_iterator1472.e(err);}finally{_iterator1472.f();}}return this.b_(),!0;}}return!1;}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1382=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s784=e[e.length-1],_n629=_i1382.indexOf(_s784),_o505=_i1382[_n629+1];if(_o505){if(_o505.scrollIntoViewIfNeeded(),t)_o505.setAttribute("data-selected",""),_o505[rg]=Date.now();else{var _iterator1473=_createForOfIteratorHelper(_i1382),_step1473;try{for(_iterator1473.s();!(_step1473=_iterator1473.n()).done;){var _t2219=_step1473.value;_t2219===_o505?(_t2219.setAttribute("data-selected",""),_t2219[rg]=Date.now()):_t2219.removeAttribute("data-selected");}}catch(err){_iterator1473.e(err);}finally{_iterator1473.f();}}return this.b_(),!0;}}return!1;}},{key:"Vv",value:function Vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1474=_createForOfIteratorHelper(t),_step1474;try{for(_iterator1474.s();!(_step1474=_iterator1474.n()).done;){var _i1383=_step1474.value;_i1383===e?(_i1383.setAttribute("data-selected",""),_i1383[rg]=Date.now()):_i1383.removeAttribute("data-selected");}}catch(err){_iterator1474.e(err);}finally{_iterator1474.f();}return this.b_(),!0;}return!1;}},{key:"jv",value:function jv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1475=_createForOfIteratorHelper(t),_step1475;try{for(_iterator1475.s();!(_step1475=_iterator1475.n()).done;){var _i1384=_step1475.value;_i1384===e?(_i1384.setAttribute("data-selected",""),_i1384[rg]=Date.now()):_i1384.removeAttribute("data-selected");}}catch(err){_iterator1475.e(err);}finally{_iterator1475.f();}return this.b_(),!0;}return!1;}},{key:"vv",value:function vv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.Dv(t,!1);}},{key:"kv",value:function kv(){this.Dv([],!1);}},{key:"wv",value:function wv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"yv",value:function yv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"Hv",value:function Hv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add filter");var i=Ii("svg:filter");if(i.setAttribute("id",t.generateUniqueID("filter")),i.setAttribute("data-bx-pinned","true"),i.setAttribute("primitiveUnits","objectBoundingBox"),e.length>0){e[e.length-1][hg].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[hg]===i;});this.Dv([s]);}},{key:"Lv",value:function(){var _Lv6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee165(){var t,e,i,s,n,_iterator1476,_step1476,_e1608,o,_iterator1477,_step1477,_t2223,_iterator1481,_step1481,_e1609,_t2220,_e1606,_iterator1478,_step1478,_t2221,_iterator1480,_step1480,_e1607,_iterator1479,_step1479,_t2222;return regeneratorRuntime.wrap(function _callee165$(_context167){while(1){switch(_context167.prev=_context167.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[hg];}),s=[],n=[];_iterator1476=_createForOfIteratorHelper(i);try{for(_iterator1476.s();!(_step1476=_iterator1476.n()).done;){_e1608=_step1476.value;s.push.apply(s,_toConsumableArray(t.workspaces.querySelectorAll("filter[href=\"#".concat(CSS.escape(_e1608.id),"\"]"))));}}catch(err){_iterator1476.e(err);}finally{_iterator1476.f();}o=[].concat(_toConsumableArray(i),s);_iterator1477=_createForOfIteratorHelper(o);try{for(_iterator1477.s();!(_step1477=_iterator1477.n()).done;){_t2223=_step1477.value;_iterator1481=_createForOfIteratorHelper(Mx(_t2223));try{for(_iterator1481.s();!(_step1481=_iterator1481.n()).done;){_e1609=_step1481.value;!1===n.includes(_e1609)&&n.push(_e1609);}}catch(err){_iterator1481.e(err);}finally{_iterator1481.f();}}}catch(err){_iterator1477.e(err);}finally{_iterator1477.f();}if(!(0!==e.length)){_context167.next=20;break;}if(!(n.length>0)){_context167.next=15;break;}_t2220="Delete ";1===i.length?_t2220+="a filter":_t2220+="".concat(i.length," filters"),_t2220+=" applied to ",1===n.length?_t2220+="1 object?":_t2220+="".concat(n.length," objects?");_context167.next=12;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2220,detail:"Deleting a filter also removes it from all objects it was applied to."});case 12:_e1606=_context167.sent;if(!(-1===_e1606||1===_e1606)){_context167.next=15;break;}return _context167.abrupt("return");case 15:t.undoManager.checkpoint("Delete filters"),this.Vu()||this.Nu();_iterator1478=_createForOfIteratorHelper(n);try{for(_iterator1478.s();!(_step1478=_iterator1478.n()).done;){_t2221=_step1478.value;_iterator1480=_createForOfIteratorHelper(o);try{for(_iterator1480.s();!(_step1480=_iterator1480.n()).done;){_e1607=_step1480.value;getComputedStyle(_t2221).filter==="url(\"#".concat(_e1607.id,"\")")&&(_t2221.style.filter=null,_t2221.removeAttribute("filter"));}}catch(err){_iterator1480.e(err);}finally{_iterator1480.f();}}}catch(err){_iterator1478.e(err);}finally{_iterator1478.f();}_iterator1479=_createForOfIteratorHelper(o);try{for(_iterator1479.s();!(_step1479=_iterator1479.n()).done;){_t2222=_step1479.value;_t2222.remove();}}catch(err){_iterator1479.e(err);}finally{_iterator1479.f();}case 20:case"end":return _context167.stop();}}},_callee165,this);}));function Lv(){return _Lv6.apply(this,arguments);}return Lv;}()},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[hg];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin filter"+e.length>1?"s":"");var _iterator1482=_createForOfIteratorHelper(e),_step1482;try{for(_iterator1482.s();!(_step1482=_iterator1482.n()).done;){var _t2224=_step1482.value;_t2224.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1482.e(err);}finally{_iterator1482.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[hg];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin filter"+e.length>1?"s":"");var _iterator1483=_createForOfIteratorHelper(e),_step1483;try{for(_iterator1483.s();!(_step1483=_iterator1483.n()).done;){var _t2225=_step1483.value;_t2225.removeAttribute("data-bx-pinned");}}catch(err){_iterator1483.e(err);}finally{_iterator1483.f();}}}},{key:"nv",value:function nv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s785=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n630=t[0],_o506=_s785.indexOf(e);if("start"===i){if(_s785[_o506-1]===_n630)return!1;}else if("end"===i){if(_s785[_o506+1]===_n630)return!1;}}return!0;}},{key:"m_",value:function m_(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[hg].id===t;})[hg],s=this.w_().get(i);e.selectedElements=s?_toConsumableArray(s):[];}},{key:"w_",value:function w_(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(E.includes(s.localName)){var _i1385=getComputedStyle(s),_n631=co.fromString(_i1385.filter),_o507=_n631?t.masterWorkspace.querySelector(_n631.value):null,_l379=_o507&&"filter"===_o507.localName?_o507:null;_l379&&(!1===e.has(_l379)&&e.set(_l379,[]),e.get(_l379).push(s));}}return e;}},{key:"qs",value:function qs(){{var _t2226=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("href");}).filter(function(t){return!1===t.hasAttribute("data-bx-preset");}),_e1610=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]")).map(function(t){return t[hg];}),_i1386=document.createDocumentFragment();var _iterator1484=_createForOfIteratorHelper(_t2226),_step1484;try{for(_iterator1484.s();!(_step1484=_iterator1484.n()).done;){var _s786=_step1484.value;var _t2227=Qi(_templateObject66(),_s786.id,_s786.id);_t2227[hg]=_s786,_e1610.includes(_s786)&&(_t2227.setAttribute("data-selected",""),_t2227[rg]=Date.now()),this.Zv(_t2227),this.Kv(_t2227),_i1386.append(_t2227);}}catch(err){_iterator1484.e(err);}finally{_iterator1484.f();}this["#items"].innerHTML="",this["#items"].append(_i1386),this["#mirror-svg"].innerHTML=this.Js.board.defs.innerHTML;}this.Nv(),this.Av(),this.Fu();}},{key:"Yv",value:function Yv(){var _iterator1485=_createForOfIteratorHelper(this["#items"].children),_step1485;try{for(_iterator1485.s();!(_step1485=_iterator1485.n()).done;){var _t2228=_step1485.value;this.Kv(_t2228);}}catch(err){_iterator1485.e(err);}finally{_iterator1485.f();}}},{key:"pv",value:function pv(){this["#search-input"].value="";var _iterator1486=_createForOfIteratorHelper(this["#items"].children),_step1486;try{for(_iterator1486.s();!(_step1486=_iterator1486.n()).done;){var _t2229=_step1486.value;this.Zv(_t2229),this.Kv(_t2229);}}catch(err){_iterator1486.e(err);}finally{_iterator1486.f();}this.Fu();}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Zv",value:function Zv(t){var e=t[hg],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<filter>",i.removeAttribute("data-custom"));else{var _t2230;_t2230=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2230?(i.textContent=_t2230.textContent,i.setAttribute("data-custom","")):(i.textContent="Filter",i.removeAttribute("data-custom"));}}},{key:"Nv",value:function Nv(){var t=this.w_();var _iterator1487=_createForOfIteratorHelper(this["#items"].children),_step1487;try{for(_iterator1487.s();!(_step1487=_iterator1487.n()).done;){var _e1611=_step1487.value;var _i1387=_e1611.querySelector(".counter-button"),_s787=t.get(_e1611[hg]),_n632=_s787?_s787.length:0;0===_n632?(_i1387.setAttribute("hidden",""),_i1387.firstElementChild.textContent="0"):(_i1387.setAttribute("title",1===_n632?"Select 1 filter user":"Select ".concat(_n632," filter users")),_i1387.removeAttribute("hidden"),_i1387.firstElementChild.textContent=_n632);}}catch(err){_iterator1487.e(err);}finally{_iterator1487.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.filters){var _iterator1488=_createForOfIteratorHelper(this["#items"].children),_step1488;try{for(_iterator1488.s();!(_step1488=_iterator1488.n()).done;){var _t2231=_step1488.value;var _e1612=_t2231[hg],_i1388=_t2231.lastElementChild;_i1388.hidden=!1,_i1388.toggled=_e1612.hasAttribute("data-bx-pinned");}}catch(err){_iterator1488.e(err);}finally{_iterator1488.f();}}else{var _iterator1489=_createForOfIteratorHelper(this["#items"].children),_step1489;try{for(_iterator1489.s();!(_step1489=_iterator1489.n()).done;){var _t2232=_step1489.value;_t2232.lastElementChild.hidden=!0;}}catch(err){_iterator1489.e(err);}finally{_iterator1489.f();}}}}]);return dg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dg,"observedAttributes",["enabled"]);_defineProperty(dg,"_shadowTemplate",Qi(_templateObject441()));_defineProperty(dg,"_shadowStyleSheet",Ji(_templateObject442()));customElements.define("bx-filtersbrowser",dg);var cg=Symbol(),pg=Symbol(),ug=Symbol();var xg=/*#__PURE__*/function(_HTMLElement119){_inherits(xg,_HTMLElement119);var _super191=_createSuper(xg);_createClass(xg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function xg(){var _temp49,_this909;_classCallCheck(this,xg);(_temp49=_this909=_super191.call(this),_defineProperty(_assertThisInitialized(_this909),"commands",{selectAll:{enabled:function enabled(){return null===_this909._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this909.vv();}},deselectAll:{enabled:function enabled(){return null===_this909._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this909.kv();}}}),_temp49),_this909.Dy=is(_this909.qs,2e3,_assertThisInitialized(_this909)),_this909._v=0,_this909.v_=!1,_this909.y_=!1,_this909.k_=null,_this909.S_=[],_this909._shadowRoot=_this909.attachShadow({mode:"closed"}),_this909._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,xg._shadowStyleSheet],_this909._shadowRoot.append(document.importNode(xg._shadowTemplate.content,!0));var _iterator1490=_createForOfIteratorHelper(_this909._shadowRoot.querySelectorAll("[id]")),_step1490;try{for(_iterator1490.s();!(_step1490=_iterator1490.n()).done;){var _t2233=_step1490.value;_this909["#"+_t2233.id]=_t2233;}}catch(err){_iterator1490.e(err);}finally{_iterator1490.f();}_this909.addEventListener("keydown",function(t){return _this909.wn(t);}),_this909["#items"].addEventListener("scroll",function(){return _this909.Cv();}),_this909["#items"].addEventListener("pointerdown",function(t){return _this909.sp(t);}),_this909["#items"].addEventListener("click",function(t){return _this909.np(t);}),_this909["#search-input"].addEventListener("input",function(){return _this909.Mv();}),_this909["#add-menu"].addEventListener("click",function(t){return _this909.Xw(t);});return _this909;}_createClass(xg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),this["#items"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"__",value:function __(){var _this910=this;return new Promise(function(t){!1===_this910.C_?t():_this910.S_.push(t);});}},{key:"tn",value:function tn(){var _this911=this;this.Qs.addEventListener("configchange",this.nn=function(t){_this911.ln(t);}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this911.al(t);}),this.Js.board.addEventListener("artworkchange",this.yr=function(t){_this911.Ov();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this._v,this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.qs();}},{key:"en",value:function en(){this.Qs.removeEventListener("configchange",this.nn),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.removeEventListener("workspacemutation",this.hn),this["#items"].remove();}},{key:"ln",value:function ln(t){var _t$detail16=t.detail,e=_t$detail16.key,i=_t$detail16.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Ev=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip),this.Av());}},{key:"al",value:function al(t){var e=t.detail,i="debounced";var _iterator1491=_createForOfIteratorHelper(e),_step1491;try{for(_iterator1491.s();!(_step1491=_iterator1491.n()).done;){var _t2234=_step1491.value;if(_t2234.target.hasAttribute&&_t2234.target.hasAttribute("data-bx-fonts")||_t2234.target.parentElement&&_t2234.target.parentElement.hasAttribute("data-bx-fonts")){i="now";break;}}}catch(err){_iterator1491.e(err);}finally{_iterator1491.f();}"now"===i?this.qs():"debounced"===i&&this.Dy();}},{key:"Ov",value:function Ov(){this.qs();}},{key:"Cv",value:function Cv(){this._v=this["#items"].scrollTop;}},{key:"np",value:function np(t){t.target.closest(".arrow-button")?this.ov(t):t.target.closest(".item")&&this.hv(t);}},{key:"hv",value:function hv(t){var _this$Qs$modKeys25=this.Qs.modKeys,e=_this$Qs$modKeys25.ctrl,i=_this$Qs$modKeys25.shift;if(!1===e&&!1===i){var _e1613=t.target.closest(".item"),_i1389=t.target.closest(".unlink-button"),_s788=t.target.closest(".counter-button"),_n633=t.target.closest(".pin-button"),_o508=_e1613.dataset.family;_i1389?this.M_(_o508):_s788?this.P_(_o508):_n633&&(_n633.toggled?this.D_(_o508):this.z_(_o508));}}},{key:"ov",value:function ov(t){var e=t.target.closest(".item");e.matches(".family-item")&&(e.hasAttribute("data-expanded")?this.dv(e):this.cv(e));}},{key:"sp",value:function sp(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1614=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1614&&this.kv();}else t.target.closest(".item")&&this.Lm(t);}},{key:"Lm",value:function Lm(t){var _this912=this;if(t.target.closest(".arrow-button")||1!==t.buttons)return;if(t.target.closest("x-button"))return;var _this$Qs$modKeys26=this.Qs.modKeys,e=_this$Qs$modKeys26.ctrl,i=_this$Qs$modKeys26.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!1===e&&!1===i){var _t2237,_e1616,_i1390=!1;window.addEventListener("pointermove",_t2237=function _t2235(e){var o=new DOMPoint(e.clientX,e.clientY);if(Te(n,o)>=3){if(window.removeEventListener("pointermove",_t2237),!1===s.hasAttribute("data-selected")){var _iterator1492=_createForOfIteratorHelper(_this912["#items"].querySelectorAll(".item")),_step1492;try{for(_iterator1492.s();!(_step1492=_iterator1492.n()).done;){var _t2236=_step1492.value;_t2236===s?(_t2236.setAttribute("data-selected",""),_t2236[ug]=Date.now()):_t2236.removeAttribute("data-selected");}}catch(err){_iterator1492.e(err);}finally{_iterator1492.f();}}_this912.sv(e),_i1390=!0;}}),window.addEventListener("pointerup",_e1616=function _e1615(){if(window.removeEventListener("pointermove",_t2237),window.removeEventListener("pointerup",_e1616),!1===_i1390){var _iterator1493=_createForOfIteratorHelper(_this912["#items"].querySelectorAll(".item")),_step1493;try{for(_iterator1493.s();!(_step1493=_iterator1493.n()).done;){var _t2238=_step1493.value;_t2238===s?(_t2238.setAttribute("data-selected",""),_t2238[ug]=Date.now()):_t2238.removeAttribute("data-selected");}}catch(err){_iterator1493.e(err);}finally{_iterator1493.f();}}});}else if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[ug]=Date.now());else if(!0===i){var _t2239=_toConsumableArray(this["#items"].querySelectorAll(".item"));_t2239=_t2239.filter(function(t){return!t.matches("[hidden], [hidden] > *");});var _e1617=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]"));if(_e1617=_e1617.filter(function(t){return!t.matches("[hidden], [hidden] > *");}),_e1617.length>0){var _i1391=_t2239.indexOf(s),_n634=_e1617.sort(function(t,e){return e[ug]-t[ug];})[0],_o509=_t2239.indexOf(_n634),_l380=[];if(_i1391>_o509?_l380=_toConsumableArray(_t2239).slice(_o509,_i1391+1):_i1391<_o509&&(_l380=_toConsumableArray(_t2239).slice(_i1391,_o509+1).reverse()),_l380=_l380.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l380.length>0){var _iterator1494=_createForOfIteratorHelper(_l380),_step1494;try{for(_iterator1494.s();!(_step1494=_iterator1494.n()).done;){var _t2240=_step1494.value;_t2240.setAttribute("data-selected",""),_t2240[ug]=Date.now();}}catch(err){_iterator1494.e(err);}finally{_iterator1494.f();}}}}}},{key:"sv",value:function sv(t){var _this913=this;var e=this.Js.board,i=this.O_().filter(function(t){return t.hasAttribute("data-selected");}),s=i.filter(function(t){return t.matches(".family-item");}),n=i.filter(function(t){return t.matches(".font-item");});if(s.length>0&&n.length>0)return;var o,l,_a280,h=null,r="start",d=this["#main"].getBoundingClientRect(),c=null,p=0;this.v_=!0,this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var u=function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;p=t,null===c&&(c=setInterval(function(){return _this913["#items"].scrollTop+=p;},10));},x=function x(){null!==c&&(clearInterval(c),c=null);},b=function b(){var t=_this913.Qs.pointerClientPoint,e=_this913._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this913._shadowRoot&&(e=null),h=e?e.closest(".item"):null,h){var _e1618=h.getBoundingClientRect();if(r=t.y<_e1618.y+_e1618.height/2?"start":"end",h.hasAttribute("data-expanded")&&"end"===r&&(h=h.querySelector(".item"),r="start",_e1618=h.getBoundingClientRect()),_this913.nv(i,h,r)){var _t2241=h.offsetTop-_this913["#items"].scrollTop;if(h.matches(".font-item")){_t2241+=h.closest(".family-item").offsetTop;}"end"===r&&(_t2241+=_e1618.height),_this913["#drop-indicator"].hidden=!1,_this913["#drop-indicator"].style.top=_t2241-1+"px",_this913["#drop-indicator"].style.marginLeft=(h.matches(".font-item")?34:18)+"px";}else h=null,_this913["#drop-indicator"].hidden=!0;}else _this913["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",l=function l(t){b();}),this["#items"].addEventListener("pointermove",o=function o(t){t.clientX>d.left&&t.clientX<d.right&&(t.clientY<d.top+20?u(-3):t.clientY>d.bottom-20?u(3):x()),b();}),this["#items"].addEventListener("lostpointercapture",_a280=function a(t){if(_this913["#items"].removeEventListener("pointermove",o),_this913["#items"].removeEventListener("scroll",l),_this913["#items"].removeEventListener("lostpointercapture",_a280),_this913["#items"].style.cursor=null,_this913["#drop-indicator"].hidden=!0,x(),e.isPointOverBoard(t.clientX,t.clientY)){e.undoManager.checkpoint("Text");var _s789=i[0].querySelector(".label"),_n635=e.currentContainer||e.currentWorkspace,_o510=qt(_n635).inverse(),_l381=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o510),_a279=tt(_l381.x,e.geometryPrecision),_h220=tt(_l381.y,e.geometryPrecision),_getComputedStyle7=getComputedStyle(_s789),_r150=_getComputedStyle7.fontFamily,_d117=_getComputedStyle7.fontSize,_c86=_getComputedStyle7.fontStyle,_p78=_getComputedStyle7.fontWeight;_d117=parseFloat(_d117)/e.scale+"px";var _u65=Ii("svg:text");_u65.style.fontFamily=_r150,_u65.style.fontSize=_d117,_u65.style.fontStyle=_c86,_u65.style.fontWeight=_p78,_u65.setAttribute("x",_a279),_u65.setAttribute("y",_h220),_u65.textContent=_s789.textContent,_n635.append(_u65);var _x194=Ei(_u65);_u65.setAttribute("x",_a279-_x194.width/2),_u65.setAttribute("y",_h220+_x194.height/3),e.selectedElements=[_u65],_this913.Nv();}else if(h&&s.length>0){if("start"===r){var _iterator1495=_createForOfIteratorHelper(i),_step1495;try{for(_iterator1495.s();!(_step1495=_iterator1495.n()).done;){var _t2242=_step1495.value;h.before(_t2242);}}catch(err){_iterator1495.e(err);}finally{_iterator1495.f();}}else{var _iterator1496=_createForOfIteratorHelper(i),_step1496;try{for(_iterator1496.s();!(_step1496=_iterator1496.n()).done;){var _t2243=_step1496.value;h.after(_t2243);}}catch(err){_iterator1496.e(err);}finally{_iterator1496.f();}}{var _t2244=_toConsumableArray(_this913["#items"].querySelectorAll(".family-item")).map(function(t){return t.getAttribute("data-family");});e.defsFontsManager.reorderFontFamilies(_t2244);}}_this913.v_=!1;});}},{key:"Mv",value:function Mv(){this.Yv(),this.Fu();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-menuitem");e&&("add-from-disk"===e.value?this.E_():"add-from-library"===e.value&&this.T_());}},{key:"E_",value:function(){var _E_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee166(){var t,e,_iterator1497,_step1497,_i1392,_t2246,_s790,_n636,_o511,_l382,_a281,_h221,_i1393,_n637,_o512,_t2245,_iterator1498,_step1498,_e1619;return regeneratorRuntime.wrap(function _callee166$(_context168){while(1){switch(_context168.prev=_context168.next){case 0:_context168.next=2;return ns(500);case 2:_context168.next=4;return this.Qs.openLocalFontsImportDialog();case 4:t=_context168.sent;e=[];_iterator1497=_createForOfIteratorHelper(t);_context168.prev=7;_iterator1497.s();case 9:if((_step1497=_iterator1497.n()).done){_context168.next=27;break;}_i1392=_step1497.value;_t2246="url("+_i1392.data+")";_s790={};_n636=_i1392.data;_context168.next=16;return fetch(_n636);case 16:_o511=_context168.sent;_context168.next=19;return _o511.blob();case 19:_l382=_context168.sent;_context168.next=22;return _l382.arrayBuffer();case 22:_a281=_context168.sent;_h221=fontkit.create(_a281);if(_h221){_i1393=_h221.familyName,_n637=_h221.subfamilyName.toLowerCase();_n637=ai(_n637," ",""),_n637=ai(_n637,"-",""),_n637=ai(_n637,"_",""),_n637.includes("italic")?_s790.style="italic":_n637.includes("oblique")&&(_s790.style="oblique"),_n637.includes("thin")?_s790.weight="100":_n637.includes("extralight")?_s790.weight="200":_n637.includes("light")?_s790.weight="300":_n637.includes("medium")?_s790.weight="500":_n637.includes("semibold")?_s790.weight="600":_n637.includes("bold")?_s790.weight="700":_n637.includes("extrabold")?_s790.weight="800":_n637.includes("ultrabold")&&(_s790.weight="900");_o512=new FontFace(_i1393,_t2246,_s790);_o512.src=_t2246,e.push(_o512);}else this.Qs.openMessageDialog({message:"Can't add a font",detail:"Unsupported font format.",buttons:["OK"]});case 25:_context168.next=9;break;case 27:_context168.next=32;break;case 29:_context168.prev=29;_context168.t0=_context168["catch"](7);_iterator1497.e(_context168.t0);case 32:_context168.prev=32;_iterator1497.f();return _context168.finish(32);case 35:if(!(e.length>0)){_context168.next=43;break;}this.Js.board.undoManager.checkpoint("Add fonts");_context168.next=39;return this.Js.board.defsFontsManager.addFontFaces(e);case 39:_t2245=e.map(function(t){return t.family;});_t2245=ni(_t2245);_iterator1498=_createForOfIteratorHelper(_t2245);try{for(_iterator1498.s();!(_step1498=_iterator1498.n()).done;){_e1619=_step1498.value;this.Js.board.defsFontsManager.pinFontFamily(_e1619);}}catch(err){_iterator1498.e(err);}finally{_iterator1498.f();}case 43:case"end":return _context168.stop();}}},_callee166,this,[[7,29,32,35]]);}));function E_(){return _E_.apply(this,arguments);}return E_;}()},{key:"T_",value:function T_(){this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("fonts-library-browser");}},{key:"wn",value:function wn(t){if(this["#search-input"].matches(":focus"))return;var e=ao.fromEvent(t);if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),t.preventDefault(),this.Lv();else if(e.matches("ArrowUp"))t.preventDefault(),t.stopPropagation(),this.Nu();else if(e.matches("ArrowDown"))t.preventDefault(),t.stopPropagation(),this.Vu();else if(e.matches("ArrowRight")){var _e1620=this["#items"].querySelectorAll(".item[data-selected]");1===_e1620.length&&_e1620[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.cv(_e1620[0]));}else if(e.matches("ArrowLeft")){var _e1621=this["#items"].querySelectorAll(".item[data-selected]");1===_e1621.length&&_e1621[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.dv(_e1621[0]));}else e.matches("Shift","ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Nu(!0)):e.matches("Shift","ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Vu(!0));}},{key:"featureFamily",value:function(){var _featureFamily=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee167(t){var _iterator1499,_step1499,_e1622,_iterator1500,_step1500,_e1623;return regeneratorRuntime.wrap(function _callee167$(_context169){while(1){switch(_context169.prev=_context169.next){case 0:_context169.next=2;return this.__();case 2:this["#search-input"].value="";this.Yv();this.Fu();_iterator1499=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1499.s();!(_step1499=_iterator1499.n()).done;){_e1622=_step1499.value;_e1622.dataset.family!==t&&(_e1622.removeAttribute("data-selected"),this.dv(_e1622,!1));}}catch(err){_iterator1499.e(err);}finally{_iterator1499.f();}_iterator1500=_createForOfIteratorHelper(this["#items"].children);_context169.prev=8;_iterator1500.s();case 10:if((_step1500=_iterator1500.n()).done){_context169.next=17;break;}_e1623=_step1500.value;if(!(_e1623.dataset.family===t)){_context169.next=15;break;}_e1623.setAttribute("data-selected",""),this.cv(_e1623,!1),_e1623.scrollIntoViewIfNeeded(),_e1623[ug]=Date.now();return _context169.abrupt("break",17);case 15:_context169.next=10;break;case 17:_context169.next=22;break;case 19:_context169.prev=19;_context169.t0=_context169["catch"](8);_iterator1500.e(_context169.t0);case 22:_context169.prev=22;_iterator1500.f();return _context169.finish(22);case 25:case"end":return _context169.stop();}}},_callee167,this,[[8,19,22,25]]);}));function featureFamily(_x195){return _featureFamily.apply(this,arguments);}return featureFamily;}()},{key:"cv",value:function(){var _cv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee168(t){var e,_i1394,_t2247,_e1624,_s791,_args170=arguments;return regeneratorRuntime.wrap(function _callee168$(_context170){while(1){switch(_context170.prev=_context170.next){case 0:e=_args170.length>1&&_args170[1]!==undefined?_args170[1]:!0;if(!(!1===t.hasAttribute("data-expanded"))){_context170.next=11;break;}_i1394=t.querySelector(".font-items");if(!(_i1394.hidden=!1,t.setAttribute("data-expanded",""),e)){_context170.next=11;break;}this.y_=!0;_t2247=getComputedStyle(_i1394).marginTop,_e1624="0px";"0px"===_t2247&&(_t2247="-"+getComputedStyle(_i1394).height);_s791=_i1394.animate({marginTop:[_t2247,_e1624]},{duration:250,easing:"ease"});_context170.next=10;return _s791.finished;case 10:this.y_=!1;case 11:case"end":return _context170.stop();}}},_callee168,this);}));function cv(_x196){return _cv.apply(this,arguments);}return cv;}()},{key:"dv",value:function(){var _dv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee169(t){var e,_i1395,_t2248,_e1625,_s792,_args171=arguments;return regeneratorRuntime.wrap(function _callee169$(_context171){while(1){switch(_context171.prev=_context171.next){case 0:e=_args171.length>1&&_args171[1]!==undefined?_args171[1]:!0;if(!t.hasAttribute("data-expanded")){_context171.next=10;break;}_i1395=t.querySelector(".font-items");if(!(t.removeAttribute("data-expanded"),e)){_context171.next=9;break;}this.y_=!0;_t2248=getComputedStyle(_i1395).marginTop,_e1625="-"+getComputedStyle(_i1395).height,_s792=_i1395.animate({marginTop:[_t2248,_e1625]},{duration:250,easing:"ease"});_context171.next=8;return _s792.finished;case 8:this.y_=!1;case 9:!1===t.hasAttribute("data-expanded")&&(_i1395.hidden=!0);case 10:case"end":return _context171.stop();}}},_callee169,this);}));function dv(_x197){return _dv2.apply(this,arguments);}return dv;}()},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.O_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s793=i[i.length-1],_n638=e.indexOf(_s793),_o513=e[_n638+1];if(_o513){if(_o513.scrollIntoViewIfNeeded(),t)_o513.setAttribute("data-selected",""),_o513[ug]=Date.now();else{var _iterator1501=_createForOfIteratorHelper(e),_step1501;try{for(_iterator1501.s();!(_step1501=_iterator1501.n()).done;){var _t2249=_step1501.value;_t2249===_o513?(_t2249.setAttribute("data-selected",""),_t2249[ug]=Date.now()):_t2249.removeAttribute("data-selected");}}catch(err){_iterator1501.e(err);}finally{_iterator1501.f();}}}else if(!1===t&&_n638===e.length-1&&i.length>1){var _iterator1502=_createForOfIteratorHelper(e),_step1502;try{for(_iterator1502.s();!(_step1502=_iterator1502.n()).done;){var _t2250=_step1502.value;_t2250===_s793?(_t2250.setAttribute("data-selected",""),_t2250[ug]=Date.now()):_t2250.removeAttribute("data-selected");}}catch(err){_iterator1502.e(err);}finally{_iterator1502.f();}}}}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.O_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s794=i[0],_n639=e.indexOf(_s794),_o514=e[_n639-1];if(_o514){if(_o514.scrollIntoViewIfNeeded(),t)_o514.setAttribute("data-selected",""),_o514[ug]=Date.now();else{var _iterator1503=_createForOfIteratorHelper(e),_step1503;try{for(_iterator1503.s();!(_step1503=_iterator1503.n()).done;){var _t2251=_step1503.value;_t2251===_o514?(_t2251.setAttribute("data-selected",""),_t2251[ug]=Date.now()):_t2251.removeAttribute("data-selected");}}catch(err){_iterator1503.e(err);}finally{_iterator1503.f();}}}else if(!1===t&&0===_n639&&i.length>1){var _iterator1504=_createForOfIteratorHelper(e),_step1504;try{for(_iterator1504.s();!(_step1504=_iterator1504.n()).done;){var _t2252=_step1504.value;_t2252===_s794?(_t2252.setAttribute("data-selected",""),_t2252[ug]=Date.now()):_t2252.removeAttribute("data-selected");}}catch(err){_iterator1504.e(err);}finally{_iterator1504.f();}}}}},{key:"vv",value:function vv(){var t=this.O_();var _iterator1505=_createForOfIteratorHelper(t),_step1505;try{for(_iterator1505.s();!(_step1505=_iterator1505.n()).done;){var _e1626=_step1505.value;_e1626.setAttribute("data-selected",""),_e1626[ug]=Date.now();}}catch(err){_iterator1505.e(err);}finally{_iterator1505.f();}}},{key:"kv",value:function kv(){var t=this.O_().filter(function(t){return t.hasAttribute("data-selected");});if(t.length>0){var _iterator1506=_createForOfIteratorHelper(t),_step1506;try{for(_iterator1506.s();!(_step1506=_iterator1506.n()).done;){var _e1627=_step1506.value;_e1627.removeAttribute("data-selected");}}catch(err){_iterator1506.e(err);}finally{_iterator1506.f();}}}},{key:"Lv",value:function(){var _Lv7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee170(){var t,e,i,s,n,o,_e1628,_t2253,_i1396,_s795,_iterator1507,_step1507,_e1630,_iterator1508,_step1508,_e1631,_i1397,_e1629,_t2254;return regeneratorRuntime.wrap(function _callee170$(_context172){while(1){switch(_context172.prev=_context172.next){case 0:t=this.Js.board,e=this.O_(),i=e.filter(function(t){return t.matches(".family-item[data-selected]");}),s=e.filter(function(t){return t.matches(".font-item[data-selected]");}),n=i.map(function(t){return t.getAttribute("data-family");}),o=s.map(function(t){return t[cg];});if(!(o=o.filter(function(t){return!1===n.includes(t.family);}),n.length>0||o.length>0)){_context172.next=18;break;}_e1628=[];if(!(_e1628.length>0)){_context172.next=11;break;}_t2253=1===o.length?"a font":"".concat(o.length," fonts");_i1396=1===_e1628.length?"1 text":"".concat(_e1628.length," texts");_context172.next=8;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:"Delete ".concat(_t2253," applied to ").concat(_i1396,"?"),detail:"Deleting a font also removes it from all texts it was applied to."});case 8:_s795=_context172.sent;if(!(-1===_s795||1===_s795)){_context172.next=11;break;}return _context172.abrupt("return");case 11:t.undoManager.checkpoint("Delete fonts");_iterator1507=_createForOfIteratorHelper(n);try{for(_iterator1507.s();!(_step1507=_iterator1507.n()).done;){_e1630=_step1507.value;t.defsFontsManager.removeFontFamily(_e1630);}}catch(err){_iterator1507.e(err);}finally{_iterator1507.f();}_iterator1508=_createForOfIteratorHelper(o);try{for(_iterator1508.s();!(_step1508=_iterator1508.n()).done;){_e1631=_step1508.value;t.defsFontsManager.removeFontFace(_e1631);}}catch(err){_iterator1508.e(err);}finally{_iterator1508.f();}for(_i1397=0,_e1629=_e1628;_i1397<_e1629.length;_i1397++){_t2254=_e1629[_i1397];_t2254.style.fontFamily=null;}this.qs();case 18:case"end":return _context172.stop();}}},_callee170,this);}));function Lv(){return _Lv7.apply(this,arguments);}return Lv;}()},{key:"O_",value:function O_(){var t=this["#items"].querySelectorAll(".item");return t=_toConsumableArray(t).filter(function(t){if(t.matches(".family-item"))return!1===t.hidden;if(t.matches(".font-item")){var _e1632=t.closest(".family-item");return!1===_e1632.hidden&&_e1632.hasAttribute("data-expanded");}}),t;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Pin font"+n.length>1?"s":"");var _iterator1509=_createForOfIteratorHelper(n),_step1509;try{for(_iterator1509.s();!(_step1509=_iterator1509.n()).done;){var _t2255=_step1509.value;_t2255.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1509.e(err);}finally{_iterator1509.f();}}}},{key:"Bv",value:function Bv(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Unpin font"+n.length>1?"s":"");var _iterator1510=_createForOfIteratorHelper(n),_step1510;try{for(_iterator1510.s();!(_step1510=_iterator1510.n()).done;){var _t2256=_step1510.value;_t2256.removeAttribute("data-bx-pinned");}}catch(err){_iterator1510.e(err);}finally{_iterator1510.f();}}}},{key:"nv",value:function nv(t,e,i){var s=t.filter(function(t){return t.matches(".family-item");}),n=t.filter(function(t){return t.matches(".font-item");}),o=this.O_();if(s.length>0&&n>0)return!1;if(1===n.length){var _t2257=n[0],_s796=o.indexOf(e);if(e===_t2257||e.matches(".family-item"))return!1;if(e.closest(".family-item")!==_t2257.closest(".family-item"))return!1;if("start"===i){if(o[_s796-1]===_t2257)return!1;}else if("end"===i){if(o[_s796+1]===_t2257)return!1;}}else if(1===s.length){if(e===t[0]||e.matches(".font-item"))return!1;var _n640=s[0],_l383=o.indexOf(e);if("start"===i){if(o[_l383-1]===_n640)return!1;}else if("end"===i){if(o[_l383+1]===_n640)return!1;}}else if(s.length>1&&e.matches(".font-item"))return!1;return!0;}},{key:"M_",value:function(){var _M_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee171(t){var e;return regeneratorRuntime.wrap(function _callee171$(_context173){while(1){switch(_context173.prev=_context173.next){case 0:_context173.next=2;return this.Qs.openMessageDialog({type:"question",buttons:["Unlink","Cancel"],message:"Unlink font family",detail:"<strong>".concat(t,"</strong> font family will be downloaded and embedded into the currently edited SVG file. This operation might increase your SVG file size significantly.")});case 2:e=_context173.sent;-1!==e&&1!==e&&(this.Js.board.undoManager.checkpoint("Unlink font family"),this.Js.board.defsFontsManager.unlinkFontFamily(t));case 4:case"end":return _context173.stop();}}},_callee171,this);}));function M_(_x198){return _M_.apply(this,arguments);}return M_;}()},{key:"D_",value:function D_(t){this.Js.board.undoManager.checkpoint("Pin font family"),this.Js.board.defsFontsManager.pinFontFamily(t);}},{key:"z_",value:function z_(t){this.Js.board.undoManager.checkpoint("Unpin font family"),this.Js.board.defsFontsManager.unpinFontFamily(t);}},{key:"P_",value:function P_(t){var e=this.Js.board,i=this.A_()[t];e.selectedElements=i?_toConsumableArray(i):[];}},{key:"A_",value:function A_(){var t={},e=this.Js.board.masterWorkspace.querySelectorAll("text");var _iterator1511=_createForOfIteratorHelper(e),_step1511;try{for(_iterator1511.s();!(_step1511=_iterator1511.n()).done;){var _i1398=_step1511.value;var _e1633=[],_s797=vi(_i1398);var _iterator1512=_createForOfIteratorHelper(_s797),_step1512;try{for(_iterator1512.s();!(_step1512=_iterator1512.n()).done;){var _t2258=_step1512.value;var _i1400=_t2258.closest("text, textPath, tspan, a"),_s799=gh.fromString(getComputedStyle(_i1400).fontFamily);if(_s799&&_s799.items.length>0){var _t2259=_s799.items[0];!1===_e1633.includes(_t2259)&&_e1633.push(_t2259);}}}catch(err){_iterator1512.e(err);}finally{_iterator1512.f();}for(var _i1399=0,_e1634=_e1633;_i1399<_e1634.length;_i1399++){var _s798=_e1634[_i1399];void 0===t[_s798]&&(t[_s798]=[]),t[_s798].push(_i1398);}}}catch(err){_iterator1511.e(err);}finally{_iterator1511.f();}return t;}},{key:"qs",value:function(){var _qs3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee172(){var _t2260,_e1635,_i1401,_s800,_n641,_o515,_l384,_a282,_iterator1513,_step1513,_step1513$value,_t2261,_e1636,_i1402,_a283,_h222,_r151,_i1403,_arr74,_s801,_e1637,_i1404,_n642,_iterator1514,_step1514,_t2262,_iterator1515,_step1515,_t2263;return regeneratorRuntime.wrap(function _callee172$(_context174){while(1){switch(_context174.prev=_context174.next){case 0:if(!(this.v_||this.y_)){_context174.next=4;break;}this.Dy();_context174.next=66;break;case 4:this.k_=!0;_t2260=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-selected]"));_e1635=_toConsumableArray(this["#items"].querySelectorAll(".font-item[data-selected]"));_i1401=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-expanded]"));_s800=_t2260.map(function(t){return t.getAttribute("data-family");});_n641=_i1401.map(function(t){return t.getAttribute("data-family");});_o515=_e1635.map(function(t){return t[cg];});_l384=document.createDocumentFragment();_context174.next=14;return this.Js.board.defsFontsManager.search();case 14:_a282=_context174.sent;_iterator1513=_createForOfIteratorHelper(_a282);_context174.prev=16;_iterator1513.s();case 18:if((_step1513=_iterator1513.n()).done){_context174.next=53;break;}_step1513$value=_step1513.value,_t2261=_step1513$value.family,_e1636=_step1513$value.embeddedFaces,_i1402=_step1513$value.linkedFaces;_a283=!1,_h222="";_i1402.length>_e1636.length&&(_a283=!0,_h222=Mp.fromString(_i1402[0].src).items[0].url.origin);_r151=Qi(_templateObject67(),_t2261,_a283?"data-linked":"",_t2261,_t2261,_h222,_a283?"":"hidden");_s800.includes(_t2261)&&(_r151.setAttribute("data-selected",""),_r151[ug]=Date.now()),_n641.includes(_t2261)&&(_r151.setAttribute("data-expanded",""),_r151.querySelector(".font-items").removeAttribute("hidden"));_i1403=0,_arr74=[].concat(_toConsumableArray(_e1636),_toConsumableArray(_i1402));case 25:if(!(_i1403<_arr74.length)){_context174.next=50;break;}_s801=_arr74[_i1403];_e1637=kh(_s801),_i1404="\n            font-size: 16px;\n            font-family: '".concat(_t2261,"';\n            font-weight: ").concat(_s801.weight,";\n            font-style: ").concat(_s801.style,";\n            font-stetch: ").concat(_s801.stretch,";\n          "),_n642=Qi(_templateObject68(),_i1404,_e1637);_iterator1514=_createForOfIteratorHelper(_o515);_context174.prev=29;_iterator1514.s();case 31:if((_step1514=_iterator1514.n()).done){_context174.next=38;break;}_t2262=_step1514.value;if(!(_s801.family===_t2262.family&&_s801.style===_t2262.style&&_s801.weight===_t2262.weight&&_s801.stretch===_t2262.stretch&&_s801.unicodeRange===_t2262.unicodeRange&&_s801.variant===_t2262.variant&&_s801.featureSettings===_t2262.featureSettings)){_context174.next=36;break;}_n642.setAttribute("data-selected",""),_n642[ug]=Date.now();return _context174.abrupt("break",38);case 36:_context174.next=31;break;case 38:_context174.next=43;break;case 40:_context174.prev=40;_context174.t0=_context174["catch"](29);_iterator1514.e(_context174.t0);case 43:_context174.prev=43;_iterator1514.f();return _context174.finish(43);case 46:_n642[cg]=_s801,_r151.querySelector(".font-items").append(_n642);case 47:_i1403++;_context174.next=25;break;case 50:_r151[pg]=[].concat(_toConsumableArray(_e1636),_toConsumableArray(_i1402)),_l384.append(_r151),this.Kv(_r151);case 51:_context174.next=18;break;case 53:_context174.next=58;break;case 55:_context174.prev=55;_context174.t1=_context174["catch"](16);_iterator1513.e(_context174.t1);case 58:_context174.prev=58;_iterator1513.f();return _context174.finish(58);case 61:this["#items"].innerHTML="",this["#items"].append(_l384);this.Nv(),this.Av(),this.Fu(),this.k_=!1;_iterator1515=_createForOfIteratorHelper(this.S_);try{for(_iterator1515.s();!(_step1515=_iterator1515.n()).done;){_t2263=_step1515.value;_t2263();}}catch(err){_iterator1515.e(err);}finally{_iterator1515.f();}this.S_=[];case 66:case"end":return _context174.stop();}}},_callee172,this,[[16,55,58,61],[29,40,43,46]]);}));function qs(){return _qs3.apply(this,arguments);}return qs;}()},{key:"Yv",value:function Yv(){var _iterator1516=_createForOfIteratorHelper(this["#items"].children),_step1516;try{for(_iterator1516.s();!(_step1516=_iterator1516.n()).done;){var _t2264=_step1516.value;this.Kv(_t2264);}}catch(err){_iterator1516.e(err);}finally{_iterator1516.f();}}},{key:"Fu",value:function Fu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Kv",value:function Kv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Nv",value:function Nv(){var t=this.A_();var _iterator1517=_createForOfIteratorHelper(this["#items"].children),_step1517;try{for(_iterator1517.s();!(_step1517=_iterator1517.n()).done;){var _e1638=_step1517.value;var _i1405=_e1638.querySelector(".counter-button"),_s802=t[_e1638.dataset.family],_n643=_s802?_s802.length:0;0===_n643?(_i1405.setAttribute("hidden",""),_i1405.firstElementChild.textContent="0"):(_i1405.setAttribute("title",1===_n643?"This font family has 1 user. Click to select the user.":"This font family has ".concat(_n643," users. Click to select all users.")),_i1405.removeAttribute("hidden"),_i1405.firstElementChild.textContent=_n643);}}catch(err){_iterator1517.e(err);}finally{_iterator1517.f();}}},{key:"Av",value:function Av(){if("unpinned"===this.Ev.fonts){var _iterator1518=_createForOfIteratorHelper(this["#items"].children),_step1518;try{for(_iterator1518.s();!(_step1518=_iterator1518.n()).done;){var _t2265=_step1518.value;var _e1639=_t2265.dataset.family,_i1406=_t2265.querySelector(".pin-button"),_s803=this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e1639,"\"]"));_i1406.hidden=!1,_s803.hasAttribute("data-bx-pinned")?(_i1406.toggled=!0,_i1406.setAttribute("title","This font family is pinned - garbage collector will not auto-remove it even when it is no longer used. Click to unpin.")):(_i1406.toggled=!1,_i1406.setAttribute("title","This font family is unpinned - garbage collector will auto-remove it when it is no longer used. Click to pin."));}}catch(err){_iterator1518.e(err);}finally{_iterator1518.f();}}else{var _iterator1519=_createForOfIteratorHelper(this["#items"].children),_step1519;try{for(_iterator1519.s();!(_step1519=_iterator1519.n()).done;){var _t2266=_step1519.value;_t2266.querySelector(".pin-button").hidden=!0;}}catch(err){_iterator1519.e(err);}finally{_iterator1519.f();}}}}]);return xg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xg,"observedAttributes",["enabled"]);_defineProperty(xg,"_shadowTemplate",Qi(_templateObject443()));_defineProperty(xg,"_shadowStyleSheet",Ji(_templateObject444()));customElements.define("bx-fontsbrowser",xg);var bg=/*#__PURE__*/function(_HTMLElement120){_inherits(bg,_HTMLElement120);var _super192=_createSuper(bg);_createClass(bg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function bg(){var _this914;_classCallCheck(this,bg);_this914=_super192.call(this),_this914._shadowRoot=_this914.attachShadow({mode:"closed"}),_this914._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,bg._shadowStyleSheet],_this914._shadowRoot.append(document.importNode(bg._shadowTemplate.content,!0));var _iterator1520=_createForOfIteratorHelper(_this914._shadowRoot.querySelectorAll("[id]")),_step1520;try{for(_iterator1520.s();!(_step1520=_iterator1520.n()).done;){var _t2267=_step1520.value;_this914["#"+_t2267.id]=_t2267;}}catch(err){_iterator1520.e(err);}finally{_iterator1520.f();}var _iterator1521=_createForOfIteratorHelper(_this914["#main"].children),_step1521;try{for(_iterator1521.s();!(_step1521=_iterator1521.n()).done;){var _t2268=_step1521.value;_this914[ri(_t2268.id)]=_t2268;}}catch(err){_iterator1521.e(err);}finally{_iterator1521.f();}_this914["#buttons"].addEventListener("toggle",function(){return _this914.toggleBrowser(_this914["#buttons"].value);});return _this914;}_createClass(bg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-defspanel:currentBrowserID","gradients-browser");this.toggleBrowser(t);}},{key:"en",value:function en(){this.toggleBrowser(null);}},{key:"editColor",value:function editColor(t){this.toggleBrowser("colors-browser"),this["#colors-browser"].editColor(t);}},{key:"editGradient",value:function editGradient(t){this.toggleBrowser("gradients-browser"),this["#gradients-browser"].editGradient(t);}},{key:"editFilter",value:function editFilter(t){this.toggleBrowser("filters-browser"),this["#filters-browser"].editFilter(t);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1522=_createForOfIteratorHelper(this["#main"].children),_step1522;try{for(_iterator1522.s();!(_step1522=_iterator1522.n()).done;){var _e1640=_step1522.value;null!==t&&_e1640.id===t?_e1640.enabled=!0:_e1640.enabled=!1;}}catch(err){_iterator1522.e(err);}finally{_iterator1522.f();}null!==t&&this.Qs.setConfig("bx-defspanel:currentBrowserID",t);}}]);return bg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bg,"observedAttributes",["enabled"]);_defineProperty(bg,"_shadowTemplate",Qi(_templateObject445()));_defineProperty(bg,"_shadowStyleSheet",Ji(_templateObject446()));customElements.define("bx-defspanel",bg);var mg=/*#__PURE__*/function(_HTMLElement121){_inherits(mg,_HTMLElement121);var _super193=_createSuper(mg);function mg(){var _this915;_classCallCheck(this,mg);_this915=_super193.call(this),_this915._shadowRoot=_this915.attachShadow({mode:"closed"}),_this915._shadowRoot.append(document.importNode(_this915.constructor._shadowTemplate.content,!0)),_this915._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,mg._shadowStyleSheet,_this915.constructor._shadowStyleSheet];var _iterator1523=_createForOfIteratorHelper(_this915._shadowRoot.querySelectorAll("[id]")),_step1523;try{for(_iterator1523.s();!(_step1523=_iterator1523.n()).done;){var _t2269=_step1523.value;_this915["#"+_t2269.id]=_t2269;}}catch(err){_iterator1523.e(err);}finally{_iterator1523.f();}_this915.setAttribute("extends","bx-toolsettings");return _this915;}_createClass(mg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}}]);return mg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mg,"observedAttributes",["enabled"]);_defineProperty(mg,"_shadowStyleSheet",Ji(_templateObject447()));var gg=/*#__PURE__*/function(_mg){_inherits(gg,_mg);var _super194=_createSuper(gg);function gg(){var _this916;_classCallCheck(this,gg);_this916=_super194.call(this),_this916["#sort-buttons"].addEventListener("toggle",function(){return _this916.I_();});return _this916;}_createClass(gg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(gg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-colorhuntcolorslibrarysearchsettings:sort","popular");this["#sort-buttons"].value=t;}},{key:"I_",value:function I_(){var t=this["#sort-buttons"].value;this.Qs.setConfig("bx-colorhuntcolorslibrarysearchsettings:sort",t);}}]);return gg;}(mg);_defineProperty(gg,"_shadowTemplate",Qi(_templateObject448()));_defineProperty(gg,"_shadowStyleSheet",Ji(_templateObject449()));customElements.define("bx-colorhuntcolorslibrarysearchsettings",gg);var fg=Symbol();var wg=/*#__PURE__*/function(_HTMLElement122){_inherits(wg,_HTMLElement122);var _super195=_createSuper(wg);_createClass(wg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function wg(){var _this917;_classCallCheck(this,wg);_this917=_super195.call(this),_this917.L_=!1,_this917.R_=!1,_this917.B_=!1,_this917._v=0,_this917.G_=is(_this917.G_,600,_assertThisInitialized(_this917)),_this917.U_={},_this917._shadowRoot=_this917.attachShadow({mode:"closed"}),_this917._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,wg._shadowStyleSheet],_this917._shadowRoot.append(document.importNode(wg._shadowTemplate.content,!0));var _iterator1524=_createForOfIteratorHelper(_this917._shadowRoot.querySelectorAll("[id]")),_step1524;try{for(_iterator1524.s();!(_step1524=_iterator1524.n()).done;){var _t2270=_step1524.value;_this917["#"+_t2270.id]=_t2270;}}catch(err){_iterator1524.e(err);}finally{_iterator1524.f();}_this917["#provider-select"].addEventListener("change",function(){return _this917.F_();}),_this917["#main"].addEventListener("scroll",function(){return _this917.N_();}),_this917["#items"].addEventListener("pointerdown",function(t){return _this917.sp(t);}),_this917["#items"].addEventListener("click",function(t){return _this917.np(t);}),_this917["#items"].addEventListener("contextmenu",function(t){return _this917.op(t);}),_this917["#items"].addEventListener("keydown",function(t){return _this917.lp(t);}),_this917["#meta-add-to-defs-button"].addEventListener("click",function(){return _this917.V_();}),_this917["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this917.j_();}),_this917["#search-input"].addEventListener("input",function(){return _this917.G_();});return _this917;}_createClass(wg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1525=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1525;try{for(_iterator1525.s();!(_step1525=_iterator1525.n()).done;){var _t2271=_step1525.value;_t2271.setAttribute("rel","noopener");}}catch(err){_iterator1525.e(err);}finally{_iterator1525.f();}}this["#main"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this918=this;window.addEventListener("resize",this.sn=function(){_this918.H_();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this918.ln(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.W_=function(){_this918.H_();}),!1===this.L_&&(this.L_=!0,this.Y_(),this.q_(),this.Om()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ns(10).then(function(){return _this918["#main"].scrollTop=_this918._v;}));}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.W_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"ln",value:function ln(t){var _t$detail17=t.detail,e=_t$detail17.key,i=_t$detail17.value;"color-hunt"===this["#provider-select"].value&&e.startsWith("bx-colorhuntcolorslibrarysearchsettings")&&this.Om();}},{key:"H_",value:function H_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.X_();}},{key:"F_",value:function F_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-colorslibrarybrowser:provider",this["#provider-select"].value),this.Om(),this.q_();}},{key:"N_",value:function N_(){this._v=this["#items"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.X_();}},{key:"sp",value:function sp(t){var _this919=this;if(t.target.matches(".item")){var _e1641=t.target;if("touch"!==t.pointerType&&this.Z_(_e1641),0===t.button){var _i1408,_s805,_n645,_o516=new DOMPoint(t.clientX,t.clientY);_e1641.setPointerCapture(t.pointerId),_e1641.addEventListener("pointermove",_i1408=function _i1407(l){var a=new DOMPoint(l.clientX,l.clientY);Te(_o516,a)>=5&&(_e1641.removeEventListener("pointermove",_i1408),_e1641.removeEventListener("pointerup",_s805),_e1641.removeEventListener("pointercancel",_n645),_this919.sv(_e1641,t));}),_e1641.addEventListener("pointerup",_s805=function _s804(){_e1641.removeEventListener("pointermove",_i1408),_e1641.removeEventListener("pointerup",_s805),_e1641.removeEventListener("pointercancel",_n645);}),_e1641.addEventListener("pointercancel",_n645=function _n644(){_e1641.removeEventListener("pointermove",_i1408),_e1641.removeEventListener("pointerup",_s805),_e1641.removeEventListener("pointercancel",_n645);});}}}},{key:"sv",value:function sv(t,e){var _this920=this;var i,s,n,o=this.Js.board,l=t[fg],a=t.getBoundingClientRect(),h=this.K_(l,a);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(h),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;h.style.left=a.x+i+"px",h.style.top=a.y+s+"px";}),t.addEventListener("pointercancel",s=function(_s806){function s(){return _s806.apply(this,arguments);}s.toString=function(){return _s806.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,h.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref167=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee173(e){var _t2272,_e1642,_i1409;return regeneratorRuntime.wrap(function _callee173$(_context175){while(1){switch(_context175.prev=_context175.next){case 0:if(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY)){_t2272=h.getBoundingClientRect(),_e1642=_this920.Q_(l.colors,a);o.undoManager.checkpoint("Add colors from library");_i1409=o.insertArtworkIntoBBox(_e1642,_t2272);o.selectedElements=[_i1409],o.selectedTextRange=null,h.remove();}else h.remove();case 1:case"end":return _context175.stop();}}},_callee173);}));return function n(_x199){return _ref167.apply(this,arguments);};}());}},{key:"np",value:function np(t){var e=t.target.closest(".item");e&&(this.Z_(e),2===t.detail&&this.cv(e));}},{key:"op",value:function(){var _op8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee174(t){var e;return regeneratorRuntime.wrap(function _callee174$(_context176){while(1){switch(_context176.prev=_context176.next){case 0:e=t.target.closest(".item");_context176.t0=e;if(!_context176.t0){_context176.next=8;break;}t.preventDefault();this.Z_(e);_context176.next=7;return ns(150);case 7:this.cv(e);case 8:case"end":return _context176.stop();}}},_callee174,this);}));function op(_x200){return _op8.apply(this,arguments);}return op;}()},{key:"lp",value:function lp(t){var e=ao.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.cv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.Z_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.previousElementSibling)));}},{key:"V_",value:function V_(){var t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]")[fg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add colors from library");var _iterator1526=_createForOfIteratorHelper(e.colors),_step1526;try{for(_iterator1526.s();!(_step1526=_iterator1526.n()).done;){var _n646=_step1526.value;var _e1643=Ii("svg:linearGradient");_e1643.setAttribute("data-bx-pinned","true"),_e1643.id=t.generateUniqueID("color",i),_e1643.innerHTML="<stop style=\"stop-color: ".concat(_n646,";\"></stop>"),i.append(_e1643),s.push(_e1643.id);}}catch(err){_iterator1526.e(err);}finally{_iterator1526.f();}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser"),this.Js.defsPanel.colorsBrowser.selectColors(s);}},{key:"j_",value:function(){var _j_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee175(){var t,e,i,s,n,o,_t2273,_e1644,_e1645,_s807;return regeneratorRuntime.wrap(function _callee175$(_context177){while(1){switch(_context177.prev=_context177.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[fg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#meta-popover"].close();_t2273=Qi(_templateObject69());_t2273.style.display="flex",_t2273.style.position="fixed",_t2273.style.left=n.left+"px",_t2273.style.top=n.top+"px",_t2273.style.width=n.width+"px",_t2273.style.height=n.height+"px",_t2273.style.zIndex="999999999",_t2273.style.pointerEvents="none",_t2273.style.background=this.J_(i.colors),document.body.append(_t2273);_e1644=_t2273.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context177.next=7;return _e1644.finished;case 7:_t2273.remove();t.undoManager.checkpoint("Add colors from library");_e1645=this.Q_(i.colors,o),_s807=t.insertArtworkIntoBBox(_e1645,o);t.selectedElements=[_s807],t.selectedTextRange=null;case 11:case"end":return _context177.stop();}}},_callee175,this);}));function j_(){return _j_.apply(this,arguments);}return j_;}()},{key:"G_",value:function G_(){this.Om();}},{key:"Z_",value:function Z_(t){{var _e1646=this["#items"].querySelector(":scope > .item[data-selected]");_e1646!==t&&(_e1646&&_e1646.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"cv",value:function cv(t){this.tC();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"xv",value:function xv(t){var e=t.colors,i=t.page,s=t.pageURL,n=t.provider,o=t.size,l=t.tags,a=this.J_(e),h=Qi(_templateObject70(),a);return h[fg]=t,h;}},{key:"K_",value:function K_(t,e){var i=Qi(_templateObject71());return i.style.display="flex",i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background=this.J_(t.colors),i;}},{key:"J_",value:function J_(t){var e="linear-gradient(to right";for(var _i1410=0;_i1410<t.length;_i1410+=1){var _s808=_i1410*(100/t.length),_n647=(_i1410+1)*(100/t.length);e+=", ".concat(t[_i1410],"  ").concat(_s808,"%, ").concat(t[_i1410],"  ").concat(_n647,"%");}return e+=")",e;}},{key:"Q_",value:function Q_(t,e){var i=this.Js.board.geometryPrecision,s=tt(e.width*(1/t.length),i),n=tt(e.height,i),o="<svg viewBox=\"0 0 ".concat(e.width," ").concat(e.height,"\">");for(var _e1647=0;_e1647<t.length;_e1647+=1){o+="<rect x=\"".concat(_e1647*s,"\" width=\"").concat(s,"\" height=\"").concat(n,"\" style=\"fill: ").concat(t[_e1647],";\"></rect>");}return o+="</svg>",ts(_templateObject72(),o);}},{key:"eC",value:function eC(t,e,i){var _this921=this;return new Promise(/*#__PURE__*/function(){var _ref168=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee176(s,n){var o,l,a,h,_iterator1527,_step1527,_t2274;return regeneratorRuntime.wrap(function _callee176$(_context178){while(1){switch(_context178.prev=_context178.next){case 0:l=i?i.page+1:0;"popular"===e?(_this921.U_["colorHuntColors:popularityDesc"]||(_this921.U_["colorHuntColors:popularityDesc"]=algolia.initIndex("colorHuntColors:popularityDesc")),o=_this921.U_["colorHuntColors:popularityDesc"]):(_this921.U_.colorHuntColors||(_this921.U_.colorHuntColors=algolia.initIndex("colorHuntColors")),o=_this921.U_.colorHuntColors);_context178.next=4;return o.search(t,{filters:"",page:l,hitsPerPage:40});case 4:a=_context178.sent;h=[];_iterator1527=_createForOfIteratorHelper(a.hits);try{for(_iterator1527.s();!(_step1527=_iterator1527.n()).done;){_t2274=_step1527.value;h.push({page:l,pageURL:"https://colorhunt.co/palette/".concat(_t2274.objectID),provider:"color-hunt",colors:_t2274.colors,tags:_t2274.tags,size:_t2274.size});}}catch(err){_iterator1527.e(err);}finally{_iterator1527.f();}s(h);case 9:case"end":return _context178.stop();}}},_callee176);}));return function(_x201,_x202){return _ref168.apply(this,arguments);};}());}},{key:"Om",value:function(){var _Om=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee177(){var _t2275;return regeneratorRuntime.wrap(function _callee177$(_context179){while(1){switch(_context179.prev=_context179.next){case 0:this.R_=!1,this.B_=!0,this._v=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2275=0;case 2:if(!(_t2275<50&&!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context179.next=15;break;}_context179.prev=3;_context179.next=6;return this.X_();case 6:_context179.next=12;break;case 8:_context179.prev=8;_context179.t0=_context179["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context179.t0.message);return _context179.abrupt("break",15);case 12:_t2275+=1;_context179.next=2;break;case 15:case"end":return _context179.stop();}}},_callee177,this,[[3,8]]);}));function Om(){return _Om.apply(this,arguments);}return Om;}()},{key:"X_",value:function X_(){var _this922=this;return new Promise(/*#__PURE__*/function(){var _ref169=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee178(t,e){var i,s,n,o,_t2276,_t2277,_iterator1528,_step1528,_e1648,_i1411;return regeneratorRuntime.wrap(function _callee178$(_context180){while(1){switch(_context180.prev=_context180.next){case 0:_this922.R_=!0;i=null,s=null,n=_this922["#search-input"].value.trim(),o=_this922["#items"].lastElementChild?_this922["#items"].lastElementChild[fg]:null;_context180.prev=2;if(!("color-hunt"===_this922["#provider-select"].value)){_context180.next=8;break;}_t2276=_this922.Qs.getConfig("bx-colorhuntcolorslibrarysearchsettings:sort","popular");_context180.next=7;return _this922.eC(n,_t2276,o);case 7:i=_context180.sent;case 8:_context180.next=13;break;case 10:_context180.prev=10;_context180.t0=_context180["catch"](2);s=_context180.t0;case 13:if(s)_this922["#throbber"].hidden=!0,_this922.R_=!1,e(s);else{if(i.length>0){_t2277=document.createDocumentFragment();_iterator1528=_createForOfIteratorHelper(i);try{for(_iterator1528.s();!(_step1528=_iterator1528.n()).done;){_e1648=_step1528.value;_i1411=_this922.xv(_e1648);_t2277.append(_i1411);}}catch(err){_iterator1528.e(err);}finally{_iterator1528.f();}_this922["#items"].append(_t2277),_this922["#throbber"].hidden=!0;}else _this922.B_=!1,_this922["#throbber"].hidden=!0,0===_this922["#items"].childElementCount&&(_this922["#placeholder"].hidden=!1,_this922["#placeholder"].textContent="No colors found");_this922.R_=!1,t();}case 14:case"end":return _context180.stop();}}},_callee178,null,[[2,10]]);}));return function(_x203,_x204){return _ref169.apply(this,arguments);};}());}},{key:"Y_",value:function Y_(){var t=this.Qs.getConfig("bx-colorslibrarybrowser:provider","color-hunt");this["#provider-select"].value=t;}},{key:"tC",value:function tC(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1649=t[fg];this["#meta-provider-anchor"].href=_e1649.pageURL,"color-hunt"===_e1649.provider&&(this["#meta-provider-label"].textContent="View on Color Hunt"),this["#meta-tags-value"].textContent=_e1649.tags.join(", ");}}},{key:"q_",value:function q_(){"color-hunt"===this["#provider-select"].value&&(this["#settings-popover"].innerHTML="<bx-colorhuntcolorslibrarysearchsettings/>");}}]);return wg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wg,"observedAttributes",["enabled"]);_defineProperty(wg,"_shadowTemplate",Qi(_templateObject450()));_defineProperty(wg,"_shadowStyleSheet",Ji(_templateObject451()));customElements.define("bx-colorslibrarybrowser",wg);var vg=Symbol();var yg=/*#__PURE__*/function(_HTMLElement123){_inherits(yg,_HTMLElement123);var _super196=_createSuper(yg);_createClass(yg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function yg(){var _this923;_classCallCheck(this,yg);_this923=_super196.call(this),_this923.L_=!1,_this923.R_=!1,_this923.B_=!1,_this923._v=0,_this923.G_=is(_this923.G_,600,_assertThisInitialized(_this923)),_this923.U_={},_this923._shadowRoot=_this923.attachShadow({mode:"closed"}),_this923._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,yg._shadowStyleSheet],_this923._shadowRoot.append(document.importNode(yg._shadowTemplate.content,!0));var _iterator1529=_createForOfIteratorHelper(_this923._shadowRoot.querySelectorAll("[id]")),_step1529;try{for(_iterator1529.s();!(_step1529=_iterator1529.n()).done;){var _t2278=_step1529.value;_this923["#"+_t2278.id]=_t2278;}}catch(err){_iterator1529.e(err);}finally{_iterator1529.f();}_this923["#provider-select"].addEventListener("change",function(){return _this923.F_();}),_this923["#main"].addEventListener("scroll",function(){return _this923.N_();}),_this923["#items"].addEventListener("pointerdown",function(t){return _this923.sp(t);}),_this923["#items"].addEventListener("click",function(t){return _this923.np(t);}),_this923["#items"].addEventListener("contextmenu",function(t){return _this923.op(t);}),_this923["#items"].addEventListener("keydown",function(t){return _this923.lp(t);}),_this923["#meta-add-to-defs-button"].addEventListener("click",function(){return _this923.V_();}),_this923["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this923.j_();}),_this923["#search-input"].addEventListener("input",function(){return _this923.G_();});return _this923;}_createClass(yg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1530=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1530;try{for(_iterator1530.s();!(_step1530=_iterator1530.n()).done;){var _t2279=_step1530.value;_t2279.setAttribute("rel","noopener");}}catch(err){_iterator1530.e(err);}finally{_iterator1530.f();}}this["#main"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this924=this;window.addEventListener("resize",this.sn=function(){_this924.H_();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this924.ln(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.W_=function(){_this924.H_();}),!1===this.L_&&(this.L_=!0,this.Y_(),this.q_(),this.Om()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ns(10).then(function(){return _this924["#main"].scrollTop=_this924._v;}));}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.W_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"ln",value:function ln(t){var _t$detail18=t.detail,e=_t$detail18.key,i=_t$detail18.value;"ui-gradients"===this["#provider-select"].value&&e.startsWith("bx-uigradientslibrarysearchsettings")&&this.Om();}},{key:"H_",value:function H_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.X_();}},{key:"F_",value:function F_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-gradientslibrarybrowser:provider",this["#provider-select"].value),this.Om(),this.q_();}},{key:"N_",value:function N_(){this._v=this["#items"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.X_();}},{key:"sp",value:function sp(t){var _this925=this;if(t.target.matches(".item")){var _e1650=t.target;if("touch"!==t.pointerType&&this.Z_(_e1650),0===t.button){var _i1413,_s810,_n649,_o517=new DOMPoint(t.clientX,t.clientY);_e1650.setPointerCapture(t.pointerId),_e1650.addEventListener("pointermove",_i1413=function _i1412(l){var a=new DOMPoint(l.clientX,l.clientY);Te(_o517,a)>=5&&(_e1650.removeEventListener("pointermove",_i1413),_e1650.removeEventListener("pointerup",_s810),_e1650.removeEventListener("pointercancel",_n649),_this925.sv(_e1650,t));}),_e1650.addEventListener("pointerup",_s810=function _s809(){_e1650.removeEventListener("pointermove",_i1413),_e1650.removeEventListener("pointerup",_s810),_e1650.removeEventListener("pointercancel",_n649);}),_e1650.addEventListener("pointercancel",_n649=function _n648(){_e1650.removeEventListener("pointermove",_i1413),_e1650.removeEventListener("pointerup",_s810),_e1650.removeEventListener("pointercancel",_n649);});}}}},{key:"sv",value:function sv(t,e){var _this926=this;var i,s,n,o=this.Js.board,l=t[vg],a=t.getBoundingClientRect(),h=this.K_(l,a);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(h),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;h.style.left=a.x+i+"px",h.style.top=a.y+s+"px";}),t.addEventListener("pointercancel",s=function(_s811){function s(){return _s811.apply(this,arguments);}s.toString=function(){return _s811.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,h.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref170=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee179(e){var _t2280,_e1651,_i1414;return regeneratorRuntime.wrap(function _callee179$(_context181){while(1){switch(_context181.prev=_context181.next){case 0:if(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY)){_t2280=h.getBoundingClientRect(),_e1651=_this926.Q_(l.stops,a);o.undoManager.checkpoint("Add gradient from library");_i1414=o.insertArtworkIntoBBox(_e1651,_t2280);o.selectedElements=[_i1414],o.selectedTextRange=null,h.remove();}else h.remove();case 1:case"end":return _context181.stop();}}},_callee179);}));return function n(_x205){return _ref170.apply(this,arguments);};}());}},{key:"np",value:function np(t){var e=t.target.closest(".item");e&&(this.Z_(e),2===t.detail&&this.cv(e));}},{key:"op",value:function(){var _op9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee180(t){var e;return regeneratorRuntime.wrap(function _callee180$(_context182){while(1){switch(_context182.prev=_context182.next){case 0:e=t.target.closest(".item");_context182.t0=e;if(!_context182.t0){_context182.next=8;break;}t.preventDefault();this.Z_(e);_context182.next=7;return ns(150);case 7:this.cv(e);case 8:case"end":return _context182.stop();}}},_callee180,this);}));function op(_x206){return _op9.apply(this,arguments);}return op;}()},{key:"lp",value:function lp(t){var e=ao.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.cv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.Z_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.previousElementSibling)));}},{key:"V_",value:function V_(){var t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]")[vg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add gradient from library");var n=Ii("svg:linearGradient");n.setAttribute("data-bx-pinned","true"),n.id=t.generateUniqueID("color",i),i.append(n),s.push(n.id);var o="";var _iterator1531=_createForOfIteratorHelper(e.stops),_step1531;try{for(_iterator1531.s();!(_step1531=_iterator1531.n()).done;){var _step1531$value=_slicedToArray(_step1531.value,2),_t2281=_step1531$value[0],_i1415=_step1531$value[1];o+="<stop style=\"stop-color: ".concat(_t2281,";\" offset=\"").concat(_i1415,"\"></stop>");}}catch(err){_iterator1531.e(err);}finally{_iterator1531.f();}n.innerHTML=o,t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("gradients-browser"),this.Js.defsPanel.gradientsBrowser.selectGradients(s);}},{key:"j_",value:function(){var _j_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee181(){var t,e,i,s,n,o,_t2282,_e1652,_e1653,_s812;return regeneratorRuntime.wrap(function _callee181$(_context183){while(1){switch(_context183.prev=_context183.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[vg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#meta-popover"].close();_t2282=Qi(_templateObject73());_t2282.style.display="flex",_t2282.style.position="fixed",_t2282.style.left=n.left+"px",_t2282.style.top=n.top+"px",_t2282.style.width=n.width+"px",_t2282.style.height=n.height+"px",_t2282.style.zIndex="999999999",_t2282.style.pointerEvents="none",_t2282.style.background=this.J_(i.stops),document.body.append(_t2282);_e1652=_t2282.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context183.next=7;return _e1652.finished;case 7:_t2282.remove();t.undoManager.checkpoint("Add gradient from library");_e1653=this.Q_(i.stops,o),_s812=t.insertArtworkIntoBBox(_e1653,o);t.selectedElements=[_s812],t.selectedTextRange=null;case 11:case"end":return _context183.stop();}}},_callee181,this);}));function j_(){return _j_2.apply(this,arguments);}return j_;}()},{key:"G_",value:function G_(){this.Om();}},{key:"Z_",value:function Z_(t){{var _e1654=this["#items"].querySelector(":scope > .item[data-selected]");_e1654!==t&&(_e1654&&_e1654.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"cv",value:function cv(t){this.tC();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"xv",value:function xv(t){var e=t.stops,i=t.likes,s=t.page,n=this.J_(e),o=Qi(_templateObject74(),n);return o[vg]=t,o;}},{key:"K_",value:function K_(t,e){var i=Qi(_templateObject75());return i.style.display="flex",i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background=this.J_(t.stops),i;}},{key:"J_",value:function J_(t){var e="linear-gradient(to right";var _iterator1532=_createForOfIteratorHelper(t),_step1532;try{for(_iterator1532.s();!(_step1532=_iterator1532.n()).done;){var _step1532$value=_slicedToArray(_step1532.value,2),_i1416=_step1532$value[0],_s813=_step1532$value[1];e+=", ".concat(_i1416,"  ").concat(100*_s813,"%");}}catch(err){_iterator1532.e(err);}finally{_iterator1532.f();}return e+=")",e;}},{key:"Q_",value:function Q_(t,e){var i="";var _iterator1533=_createForOfIteratorHelper(t),_step1533;try{for(_iterator1533.s();!(_step1533=_iterator1533.n()).done;){var _e1655=_step1533.value;var _e1656=_slicedToArray(_e1655,2),_t2283=_e1656[0],_s814=_e1656[1];i+="<stop offset=\"".concat(_s814,"\" style=\"stop-color: ").concat(_t2283,";\"></stop>");}}catch(err){_iterator1533.e(err);}finally{_iterator1533.f();}var s="\n      <svg viewBox=\"0 0 ".concat(e.width," ").concat(e.height,"\">\n        <defs>\n          <linearGradient id=\"gradient-1\">").concat(i,"</linearGradient>\n        </defs>\n        <rect x=\"0\" y=\"0\" width=\"").concat(e.width,"\" height=\"").concat(e.height,"\" style=\"fill: url(#gradient-1);\"></rect>\n      </svg>\n    ");return ts(_templateObject76(),s);}},{key:"iC",value:function iC(t,e){var _this927=this;return new Promise(/*#__PURE__*/function(){var _ref171=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee182(i,s){var n,o,l,_iterator1534,_step1534,_t2284;return regeneratorRuntime.wrap(function _callee182$(_context184){while(1){switch(_context184.prev=_context184.next){case 0:n=e?e.page+1:0;_this927.U_.uiGradients||(_this927.U_.uiGradients=algolia.initIndex("uiGradients"));_context184.next=4;return _this927.U_.uiGradients.search(t,{filters:"",page:n,hitsPerPage:40});case 4:o=_context184.sent;l=[];_iterator1534=_createForOfIteratorHelper(o.hits);try{for(_iterator1534.s();!(_step1534=_iterator1534.n()).done;){_t2284=_step1534.value;l.push({page:n,pageURL:"https://uigradients.com/#".concat(_t2284.objectID),provider:"ui-gradients",stops:_t2284.stops,name:_t2284.name,tags:_t2284.tags});}}catch(err){_iterator1534.e(err);}finally{_iterator1534.f();}i(l);case 9:case"end":return _context184.stop();}}},_callee182);}));return function(_x207,_x208){return _ref171.apply(this,arguments);};}());}},{key:"Om",value:function(){var _Om2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee183(){var _t2285;return regeneratorRuntime.wrap(function _callee183$(_context185){while(1){switch(_context185.prev=_context185.next){case 0:this.R_=!1,this.B_=!0,this._v=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2285=0;case 2:if(!(_t2285<50&&!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context185.next=15;break;}_context185.prev=3;_context185.next=6;return this.X_();case 6:_context185.next=12;break;case 8:_context185.prev=8;_context185.t0=_context185["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context185.t0.message);return _context185.abrupt("break",15);case 12:_t2285+=1;_context185.next=2;break;case 15:case"end":return _context185.stop();}}},_callee183,this,[[3,8]]);}));function Om(){return _Om2.apply(this,arguments);}return Om;}()},{key:"X_",value:function X_(){var _this928=this;return new Promise(/*#__PURE__*/function(){var _ref172=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee184(t,e){var i,s,n,o,_t2286,_iterator1535,_step1535,_e1657,_i1417;return regeneratorRuntime.wrap(function _callee184$(_context186){while(1){switch(_context186.prev=_context186.next){case 0:_this928.R_=!0;i=null,s=null,n=_this928["#search-input"].value.trim(),o=_this928["#items"].lastElementChild?_this928["#items"].lastElementChild[vg]:null;_context186.prev=2;_context186.t0="ui-gradients"===_this928["#provider-select"].value;if(!_context186.t0){_context186.next=8;break;}_context186.next=7;return _this928.iC(n,o);case 7:i=_context186.sent;case 8:_context186.next=13;break;case 10:_context186.prev=10;_context186.t1=_context186["catch"](2);s=_context186.t1;case 13:if(s)_this928["#throbber"].hidden=!0,_this928.R_=!1,e(s);else{if(i.length>0){_t2286=document.createDocumentFragment();_iterator1535=_createForOfIteratorHelper(i);try{for(_iterator1535.s();!(_step1535=_iterator1535.n()).done;){_e1657=_step1535.value;_i1417=_this928.xv(_e1657);_t2286.append(_i1417);}}catch(err){_iterator1535.e(err);}finally{_iterator1535.f();}_this928["#items"].append(_t2286),_this928["#throbber"].hidden=!0;}else _this928.B_=!1,_this928["#throbber"].hidden=!0,0===_this928["#items"].childElementCount&&(_this928["#placeholder"].hidden=!1,_this928["#placeholder"].textContent="No gradients found");_this928.R_=!1,t();}case 14:case"end":return _context186.stop();}}},_callee184,null,[[2,10]]);}));return function(_x209,_x210){return _ref172.apply(this,arguments);};}());}},{key:"Y_",value:function Y_(){var t=this.Qs.getConfig("bx-gradientslibrarybrowser:provider","ui-gradients");this["#provider-select"].value=t;}},{key:"tC",value:function tC(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1658=t[vg];this["#meta-provider-anchor"].href=_e1658.pageURL,"ui-gradients"===_e1658.provider&&(this["#meta-provider-label"].textContent="View on uiGradients"),this["#meta-name-value"].textContent=_e1658.name,this["#meta-tags-value"].textContent=_e1658.tags.join(", ");}}},{key:"q_",value:function q_(){"ui-gradients"===this["#provider-select"].value&&(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="");}}]);return yg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yg,"observedAttributes",["enabled"]);_defineProperty(yg,"_shadowTemplate",Qi(_templateObject452()));_defineProperty(yg,"_shadowStyleSheet",Ji(_templateObject453()));customElements.define("bx-gradientslibrarybrowser",yg);var kg=/*#__PURE__*/function(_mg2){_inherits(kg,_mg2);var _super197=_createSuper(kg);function kg(){var _this929;_classCallCheck(this,kg);_this929=_super197.call(this),_this929["#sort-select"].addEventListener("change",function(){return _this929.sC();}),_this929["#category-select"].addEventListener("change",function(){return _this929.nC();}),_this929["#subset-select"].addEventListener("change",function(){return _this929.oC();});return _this929;}_createClass(kg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(kg.prototype),"connectedCallback",this).call(this),this.qs();}},{key:"sC",value:function sC(){this.Qs.setConfig("bx-googlefontslibrarysearchsettings:sort",this["#sort-select"].value);}},{key:"nC",value:function nC(){this.Qs.setConfig("bx-googlefontslibrarysearchsettings:category",this["#category-select"].value);}},{key:"oC",value:function oC(){this.Qs.setConfig("bx-googlefontslibrarysearchsettings:subset",this["#subset-select"].value);}},{key:"qs",value:function(){var _qs4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee185(){var _t2287,_i1418,_Object$entries9,_Object$entries9$_i,_e1659,_i1419,_t2288,_i1420,_Object$entries10,_Object$entries10$_i,_e1660,_i1421;return regeneratorRuntime.wrap(function _callee185$(_context187){while(1){switch(_context187.prev=_context187.next){case 0:if(this["#sort-select"].value=this.Qs.getConfig("bx-googlefontslibrarysearchsettings:sort","alphabetical"),2===this["#category-menu"].children.length){_t2287="";for(_i1418=0,_Object$entries9=Object.entries(p);_i1418<_Object$entries9.length;_i1418++){_Object$entries9$_i=_slicedToArray(_Object$entries9[_i1418],2),_e1659=_Object$entries9$_i[0],_i1419=_Object$entries9$_i[1];_t2287+="<x-menuitem value=\"".concat(_e1659,"\"><x-label>").concat(_i1419,"</x-label></x-menuitem>");}this["#category-menu"].insertAdjacentHTML("beforeend",_t2287);}if(this["#category-select"].value=this.Qs.getConfig("bx-googlefontslibrarysearchsettings:category","all"),2===this["#subset-menu"].children.length){_t2288="";for(_i1420=0,_Object$entries10=Object.entries(u);_i1420<_Object$entries10.length;_i1420++){_Object$entries10$_i=_slicedToArray(_Object$entries10[_i1420],2),_e1660=_Object$entries10$_i[0],_i1421=_Object$entries10$_i[1];_t2288+="<x-menuitem value=\"".concat(_e1660,"\"><x-label>").concat(_i1421,"</x-label></x-menuitem>");}this["#subset-menu"].insertAdjacentHTML("beforeend",_t2288);}this["#subset-select"].value=this.Qs.getConfig("bx-googlefontslibrarysearchsettings:subset","all");case 3:case"end":return _context187.stop();}}},_callee185,this);}));function qs(){return _qs4.apply(this,arguments);}return qs;}()}]);return kg;}(mg);_defineProperty(kg,"_shadowTemplate",Qi(_templateObject454()));_defineProperty(kg,"_shadowStyleSheet",Ji(_templateObject455()));customElements.define("bx-googlefontslibrarysearchsettings",kg);var Sg=Math.abs,_g={"http://scripts.sil.org/OFL":"SIL Open Font License","https://ubuntu.com/legal/font-licence":"Ubuntu Font Licence","http://www.apache.org/licenses/LICENSE-2.0.html":"Apache License"},Cg=Symbol();var Mg=/*#__PURE__*/function(_HTMLElement124){_inherits(Mg,_HTMLElement124);var _super198=_createSuper(Mg);_createClass(Mg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Mg(){var _this930;_classCallCheck(this,Mg);_this930=_super198.call(this),_this930.L_=!1,_this930.R_=!1,_this930.B_=!1,_this930._v=0,_this930.G_=is(_this930.G_,600,_assertThisInitialized(_this930)),_this930._shadowRoot=_this930.attachShadow({mode:"closed"}),_this930._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Mg._shadowStyleSheet],_this930._shadowRoot.append(document.importNode(Mg._shadowTemplate.content,!0));var _iterator1536=_createForOfIteratorHelper(_this930._shadowRoot.querySelectorAll("[id]")),_step1536;try{for(_iterator1536.s();!(_step1536=_iterator1536.n()).done;){var _t2289=_step1536.value;_this930["#"+_t2289.id]=_t2289;}}catch(err){_iterator1536.e(err);}finally{_iterator1536.f();}_this930["#provider-select"].addEventListener("change",function(){return _this930.F_();}),_this930["#refresh-button"].addEventListener("click",function(){return _this930.lC();}),_this930["#main"].addEventListener("scroll",function(){return _this930.N_();}),_this930["#items"].addEventListener("pointerdown",function(t){return _this930.sp(t);}),_this930["#items"].addEventListener("click",function(t){return _this930.np(t);}),_this930["#items"].addEventListener("contextmenu",function(t){return _this930.op(t);}),_this930["#items"].addEventListener("keydown",function(t){return _this930.lp(t);}),_this930["#placeholder"].addEventListener("pointerdown",function(t){return _this930.$m(t);}),_this930["#placeholder"].addEventListener("click",function(t){return _this930.Im(t);}),_this930["#meta-link-button"].addEventListener("click",function(){return _this930.aC();}),_this930["#meta-embed-button"].addEventListener("click",function(){return _this930.hC();}),_this930["#search-input"].addEventListener("input",function(){return _this930.G_();});return _this930;}_createClass(Mg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),"bx-chromeapp"===this.Qs.localName)this["#meta-link-button"].hidden=!0;else{var _iterator1537=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1537;try{for(_iterator1537.s();!(_step1537=_iterator1537.n()).done;){var _t2290=_step1537.value;_t2290.setAttribute("rel","noopener");}}catch(err){_iterator1537.e(err);}finally{_iterator1537.f();}}this["#main"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this931=this;window.addEventListener("resize",this.sn=function(){_this931.H_();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this931.ln(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.W_=function(){_this931.H_();}),!1===this.L_&&(this.L_=!0,this.Om(),this.q_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ns(10).then(function(){return _this931["#main"].scrollTop=_this931._v;}));}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.W_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"ln",value:function ln(t){var _t$detail19=t.detail,e=_t$detail19.key,i=_t$detail19.value;"google-fonts"===this["#provider-select"].value&&e.startsWith("bx-googlefontslibrarysearchsettings")&&this.Om();}},{key:"H_",value:function H_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.X_();}},{key:"F_",value:function F_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-fontslibrarybrowser:provider",this["#provider-select"].value),this.Om(),this.q_();}},{key:"lC",value:function(){var _lC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee186(){return regeneratorRuntime.wrap(function _callee186$(_context188){while(1){switch(_context188.prev=_context188.next){case 0:this.Om(!0);case 1:case"end":return _context188.stop();}}},_callee186,this);}));function lC(){return _lC.apply(this,arguments);}return lC;}()},{key:"N_",value:function N_(){this._v=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.X_();}},{key:"sp",value:function sp(t){var _this932=this;if(t.target.matches(".item")){var _e1661=t.target;if("touch"!==t.pointerType&&this.Z_(_e1661),0===t.button){var _i1423,_s816,_n651,_o518=new DOMPoint(t.clientX,t.clientY);_e1661.setPointerCapture(t.pointerId),_e1661.addEventListener("pointermove",_i1423=function _i1422(l){var a=new DOMPoint(l.clientX,l.clientY);Te(_o518,a)>=5&&(_e1661.removeEventListener("pointermove",_i1423),_e1661.removeEventListener("pointerup",_s816),_e1661.removeEventListener("pointercancel",_n651),_this932.sv(_e1661,t));}),_e1661.addEventListener("pointerup",_s816=function _s815(){_e1661.removeEventListener("pointermove",_i1423),_e1661.removeEventListener("pointerup",_s816),_e1661.removeEventListener("pointercancel",_n651);}),_e1661.addEventListener("pointercancel",_n651=function _n650(){_e1661.removeEventListener("pointermove",_i1423),_e1661.removeEventListener("pointerup",_s816),_e1661.removeEventListener("pointercancel",_n651);});}}}},{key:"$m",value:function $m(t){"refresh-anchor"===t.target.id&&t.preventDefault();}},{key:"Im",value:function(){var _Im2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee187(t){return regeneratorRuntime.wrap(function _callee187$(_context189){while(1){switch(_context189.prev=_context189.next){case 0:"refresh-anchor"===t.target.id&&(t.preventDefault(),this.Om(!0));case 1:case"end":return _context189.stop();}}},_callee187,this);}));function Im(_x211){return _Im2.apply(this,arguments);}return Im;}()},{key:"sv",value:function sv(t,e){var _this933=this;var i,s,n,o=this.Js.board,l=t[Cg],a=1,h=t.firstElementChild.getBoundingClientRect(),r=t.firstElementChild.cloneNode(!0);r.style.position="fixed",r.style.left=h.left+"px",r.style.top=h.top+"px",r.style.width=h.width+"px",r.style.height=h.height+"px",r.style.zIndex="999999999",r.style.pointerEvents="none",r.style.transformOrigin=(e.clientX-h.left)/h.width*100+"%"+(e.clientY-h.top)/h.height*100+"%","local-fonts"===l.provider?(r.style.fontSize="20px",r.style.lineHeight="1",r.style.whiteSpace="pre"):"google-fonts"===l.provider&&(r.style.backgroundColor="currentColor",r.style.webkitMaskRepeat="no-repeat",r.style.webkitMaskOrigin="content-box"),document.body.append(r),t.style.cursor="copy",t.setPointerCapture(e.pointerId),this["#meta-popover"].opened&&this["#meta-popover"].close(),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;i<0&&(a=1+Sg(i)/150,a>3&&(a=3)),r.style.top=h.y+s+"px",r.style.left=h.x+i+"px",r.style.transform="scale(".concat(a,")");}),t.addEventListener("pointercancel",s=function(_s817){function s(){return _s817.apply(this,arguments);}s.toString=function(){return _s817.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref173=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee188(e){var _t2291,_e1662,_i1424,_s818,_n652,_h223,_d118,_t2292,_t2293,_e1663,_i1425,_s819,_n653,_h224,_d119;return regeneratorRuntime.wrap(function _callee188$(_context190){while(1){switch(_context190.prev=_context190.next){case 0:if(!(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,!1!==o.isPointOverBoard(e.clientX,e.clientY))){_context190.next=26;break;}if(!("local-fonts"===l.provider)){_context190.next=7;break;}o.undoManager.checkpoint("Add \"".concat(l.family,"\" font family"));_t2291=o.currentContainer||o.currentWorkspace,_e1662=r.getBoundingClientRect(),_i1424=qt(_t2291).inverse(),_s818=new DOMPoint(_e1662.x,_e1662.y+_e1662.height-4*a).matrixTransform(_i1424),_n652=tt(_s818.x,o.geometryPrecision),_h223=tt(_s818.y,o.geometryPrecision),_d118=Ii("svg:text");_d118.setAttribute("x",_n652),_d118.setAttribute("y",_h223),_d118.textContent=l.family,_d118.style.whiteSpace="pre",_d118.style.fontSize=20*a*(1/o.scale)+"px",_d118.style.fontFamily="\"".concat(l.family,"\""),_t2291.append(_d118),o.selectedElements=[_d118],o.selectedTextRange=null,r.remove();_context190.next=24;break;case 7:if(!("google-fonts"===l.provider)){_context190.next=24;break;}_t2292=_this933.rC(l);_context190.next=11;return o.defsFontsManager.search();case 11:if(!_context190.sent.map(function(t){return t.family;}).includes(l.family)){_context190.next=17;break;}_context190.next=14;return _this933.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override it?"});case 14:_context190.t0=_context190.sent;if(!(0!==_context190.t0)){_context190.next=17;break;}return _context190.abrupt("return",void r.remove());case 17:_this933.Js.board.undoManager.checkpoint("Add \"".concat(l.family,"\" font family"));_context190.next=20;return _this933.Js.board.defsFontsManager.linkFontFamily(l.family,_t2292);case 20:_context190.next=22;return _this933.Js.board.defsFontsManager.pinFontFamily(l.family);case 22:_t2293=o.currentContainer||o.currentWorkspace,_e1663=r.getBoundingClientRect(),_i1425=qt(_t2293).inverse(),_s819=new DOMPoint(_e1663.x,_e1663.y+_e1663.height-4*a).matrixTransform(_i1425),_n653=tt(_s819.x,o.geometryPrecision),_h224=tt(_s819.y,o.geometryPrecision),_d119=Ii("svg:text");_d119.setAttribute("x",_n653),_d119.setAttribute("y",_h224),_d119.textContent=l.family,_d119.style.whiteSpace="pre",_d119.style.fontSize=20*a*(1/o.scale)+"px",_d119.style.fontFamily="\"".concat(l.family,"\""),_t2293.append(_d119),o.selectedElements=[_d119],o.selectedTextRange=null,r.remove();case 24:_context190.next=27;break;case 26:r.remove();case 27:case"end":return _context190.stop();}}},_callee188);}));return function n(_x212){return _ref173.apply(this,arguments);};}());}},{key:"np",value:function np(t){var e=t.target.closest(".item");e&&(this.Z_(e),2===t.detail&&this.cv(e));}},{key:"op",value:function(){var _op10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee189(t){var e;return regeneratorRuntime.wrap(function _callee189$(_context191){while(1){switch(_context191.prev=_context191.next){case 0:e=t.target.closest(".item");_context191.t0=e;if(!_context191.t0){_context191.next=8;break;}t.preventDefault();this.Z_(e);_context191.next=7;return ns(150);case 7:this.cv(e);case 8:case"end":return _context191.stop();}}},_callee189,this);}));function op(_x213){return _op10.apply(this,arguments);}return op;}()},{key:"lp",value:function lp(t){var e=ao.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.cv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.Z_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.previousElementSibling)));}},{key:"aC",value:function(){var _aC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee190(){var t,e;return regeneratorRuntime.wrap(function _callee190$(_context192){while(1){switch(_context192.prev=_context192.next){case 0:this["#meta-link-button"].disabled=!0,this["#meta-embed-button"].disabled=!0;t=this["#items"].querySelector(".item[data-selected]")[Cg],e=this.rC(t);_context192.next=4;return this.Js.board.defsFontsManager.search();case 4:if(!_context192.sent.map(function(t){return t.family;}).includes(t.family)){_context192.next=10;break;}_context192.next=7;return this.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 7:_context192.t0=_context192.sent;if(!(0!==_context192.t0)){_context192.next=10;break;}return _context192.abrupt("return",(this["#meta-link-button"].disabled=!1,void(this["#meta-embed-button"].disabled=!1)));case 10:this.Js.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs"));_context192.next=13;return this.Js.board.defsFontsManager.linkFontFamily(t.family,e);case 13:_context192.next=15;return this.Js.board.defsFontsManager.pinFontFamily(t.family);case 15:_context192.next=17;return ns(500);case 17:this.Js.togglePrimaryPanel("defs-panel");this.Js.defsPanel.toggleBrowser("fonts-browser");this.Js.defsPanel.fontsBrowser.featureFamily(t.family);this["#meta-link-button"].disabled=!1;this["#meta-embed-button"].disabled=!1;case 22:case"end":return _context192.stop();}}},_callee190,this);}));function aC(){return _aC.apply(this,arguments);}return aC;}()},{key:"hC",value:function(){var _hC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee191(){var t,e;return regeneratorRuntime.wrap(function _callee191$(_context193){while(1){switch(_context193.prev=_context193.next){case 0:this["#meta-link-button"].disabled=!0,this["#meta-embed-button"].disabled=!0;t=this["#items"].querySelector(".item[data-selected]")[Cg];_context193.next=4;return this.dC(t);case 4:e=_context193.sent;if(!(null===e)){_context193.next=7;break;}return _context193.abrupt("return",(this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(t.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}),this["#meta-link-button"].disabled=!1,void(this["#meta-embed-button"].disabled=!1)));case 7:_context193.next=9;return this.Js.board.defsFontsManager.search();case 9:if(!_context193.sent.map(function(t){return t.family;}).includes(t.family)){_context193.next=15;break;}_context193.next=12;return this.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 12:_context193.t0=_context193.sent;if(!(0!==_context193.t0)){_context193.next=15;break;}return _context193.abrupt("return",(this["#meta-link-button"].disabled=!1,void(this["#meta-embed-button"].disabled=!1)));case 15:_context193.next=17;return ns(500);case 17:this.Js.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs"));_context193.next=20;return this.Js.board.defsFontsManager.removeFontFamily(t.family);case 20:_context193.next=22;return this.Js.board.defsFontsManager.addFontFaces(e);case 22:_context193.next=24;return this.Js.board.defsFontsManager.pinFontFamily(t.family);case 24:this.Js.togglePrimaryPanel("defs-panel");this.Js.defsPanel.toggleBrowser("fonts-browser");this.Js.defsPanel.fontsBrowser.featureFamily(t.family);this["#meta-link-button"].disabled=!1;this["#meta-embed-button"].disabled=!1;case 29:case"end":return _context193.stop();}}},_callee191,this);}));function hC(){return _hC.apply(this,arguments);}return hC;}()},{key:"G_",value:function G_(){this.Om();}},{key:"Z_",value:function Z_(t){{var _e1664=this["#items"].querySelector(":scope > .item[data-selected]");_e1664!==t&&(_e1664&&(_e1664.removeAttribute("data-selected"),_e1664.part.remove("selected-item")),t.setAttribute("data-selected",""),t.part.add("selected-item"),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"cv",value:function cv(t){this.tC();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"xv",value:function xv(t){var e;if("google-fonts"===t.provider)e=Qi(_templateObject77(),t.family,t.provider,t.thumbnail);else if("local-fonts"===t.provider){var _i1426=t.family.startsWith("STIX")?"STIXGeneral":t.family;e=Qi(_templateObject78(),t.family,t.provider,_i1426,t.family);}return e[Cg]=t,e;}},{key:"dC",value:function dC(t){return new Promise(/*#__PURE__*/function(){var _ref174=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee192(e,i){var s,n,_i1427,_Object$entries11,_Object$entries11$_i,_e1665,_i1428,_o519,_l385,_a284,_h225,_r152,_d120,_c87;return regeneratorRuntime.wrap(function _callee192$(_context194){while(1){switch(_context194.prev=_context194.next){case 0:s=[],n=null;_i1427=0,_Object$entries11=Object.entries(t.urls);case 2:if(!(_i1427<_Object$entries11.length)){_context194.next=31;break;}_Object$entries11$_i=_slicedToArray(_Object$entries11[_i1427],2),_e1665=_Object$entries11$_i[0],_i1428=_Object$entries11$_i[1];_o519=null;_context194.prev=5;_context194.next=8;return fetch(_i1428);case 8:_o519=_context194.sent;_context194.next=15;break;case 11:_context194.prev=11;_context194.t0=_context194["catch"](5);n=_context194.t0;return _context194.abrupt("break",31);case 15:_context194.next=17;return _o519.blob();case 17:_l385=_context194.sent;_context194.next=20;return Vh(_l385);case 20:_context194.t1=_context194.sent;_context194.t2="url("+_context194.t1;_a284=_context194.t2+")";_h225=t.family;_r152=_e1665.substring(0,3);_d120=_e1665.includes("italic")?"italic":"normal";_c87=new FontFace(_h225,_a284,{family:_h225,weight:_r152,style:_d120});_c87.src=_a284,s.push(_c87);case 28:_i1427++;_context194.next=2;break;case 31:e(n?null:s);case 32:case"end":return _context194.stop();}}},_callee192,null,[[5,11]]);}));return function(_x214,_x215){return _ref174.apply(this,arguments);};}());}},{key:"rC",value:function rC(t){var e=new URL("https://fonts.googleapis.com/css2"),i=[],s=[];var _iterator1538=_createForOfIteratorHelper(t.faces),_step1538;try{for(_iterator1538.s();!(_step1538=_iterator1538.n()).done;){var _e1666=_step1538.value;var _t2294=parseInt(_e1666),_n654=_e1666.endsWith("italic")?1:0;0===_n654?i.push([_n654,_t2294]):s.push([_n654,_t2294]);}}catch(err){_iterator1538.e(err);}finally{_iterator1538.f();}i.sort(function(t,e){return t[1]<e[1]?-1:1;}),s.sort(function(t,e){return t[1]<e[1]?-1:1;});var n=[].concat(i,s).map(function(t){return t.join(",");}).join(";"),o=t.family+":ital,wght@"+n,l=new URLSearchParams();return l.set("family",o),l.set("display","swap"),e.search=l.toString(),e.href;}},{key:"cC",value:function cC(t,e,i,s,n){return new Promise(/*#__PURE__*/function(){var _ref175=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee193(o,l){var a,h,_iterator1539,_step1539,_t2295;return regeneratorRuntime.wrap(function _callee193$(_context195){while(1){switch(_context195.prev=_context195.next){case 0:a=n?n.page+1:0;_context195.next=3;return kr.search(t,e,i,s,a);case 3:h=_context195.sent;_iterator1539=_createForOfIteratorHelper(h);try{for(_iterator1539.s();!(_step1539=_iterator1539.n()).done;){_t2295=_step1539.value;_t2295.page=a,_t2295.provider="google-fonts";}}catch(err){_iterator1539.e(err);}finally{_iterator1539.f();}o(h);case 7:case"end":return _context195.stop();}}},_callee193);}));return function(_x216,_x217){return _ref175.apply(this,arguments);};}());}},{key:"pC",value:function pC(t,e){return new Promise(/*#__PURE__*/function(){var _ref176=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee194(i,s){var n,o,_iterator1540,_step1540,_t2296;return regeneratorRuntime.wrap(function _callee194$(_context196){while(1){switch(_context196.prev=_context196.next){case 0:n=e?e.page+1:0;_context196.next=3;return Qx.search(t,n);case 3:o=_context196.sent;_iterator1540=_createForOfIteratorHelper(o);try{for(_iterator1540.s();!(_step1540=_iterator1540.n()).done;){_t2296=_step1540.value;_t2296.page=n,_t2296.provider="local-fonts";}}catch(err){_iterator1540.e(err);}finally{_iterator1540.f();}i(o);case 7:case"end":return _context196.stop();}}},_callee194);}));return function(_x218,_x219){return _ref176.apply(this,arguments);};}());}},{key:"Om",value:function Om(){var _this934=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return new Promise(/*#__PURE__*/function(){var _ref177=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee195(e){var i,_t2297,_t2298;return regeneratorRuntime.wrap(function _callee195$(_context197){while(1){switch(_context197.prev=_context197.next){case 0:i=_this934.Qs.getConfig("bx-fontslibrarybrowser:provider","google-fonts");if(!(!0===t)){_context197.next=33;break;}if(!("google-fonts"===i)){_context197.next=20;break;}_context197.prev=3;_context197.next=6;return kr.refresh();case 6:_context197.next=18;break;case 8:_context197.prev=8;_context197.t0=_context197["catch"](3);if(!("RetryError"===_context197.t0.name)){_context197.next=15;break;}_context197.next=13;return _this934.Qs.openMessageDialog({message:"Failed to refresh Google Fonts list",detail:"The server is down or you have no internet connection. Please try again later.",buttons:["OK"]});case 13:_context197.next=17;break;case 15:_context197.next=17;return _this934.Qs.openMessageDialog({message:"Failed to refresh Google Fonts list",detail:"".concat(_context197.t0.message," (").concat(_context197.t0.name,")"),buttons:["OK"]});case 17:return _context197.abrupt("return",e());case 18:_context197.next=33;break;case 20:if(!("local-fonts"===i)){_context197.next=33;break;}_context197.prev=21;_context197.next=24;return Qx.refresh();case 24:_context197.next=33;break;case 26:_context197.prev=26;_context197.t1=_context197["catch"](21);_context197.t2="AbortError"===_context197.t1.name;if(_context197.t2){_context197.next=32;break;}_context197.next=32;return _this934.Qs.openMessageDialog({message:"Failed to refresh local fonts list",detail:"".concat(_context197.t1.message," (").concat(_context197.t1.name,")"),buttons:["OK"]});case 32:return _context197.abrupt("return",e());case 33:if(!(_this934["#provider-select"].value=i,_this934["#meta-popover"].opened&&_this934["#meta-popover"].close(),"local-fonts"===i)){_context197.next=48;break;}_context197.next=36;return Qx.getCacheSize();case 36:_t2297=_context197.sent;if(!("bx-webapp"===_this934.Qs.localName)){_context197.next=44;break;}if(!(!1===_this934.Qs.isLocalFontsApiEnabled)){_context197.next=40;break;}return _context197.abrupt("return",(_this934.R_=!1,_this934._v=0,_this934.B_=!1,_this934["#refresh-button"].disabled=!0,_this934["#items"].innerHTML="",_this934["#throbber"].hidden=!0,_this934["#placeholder"].hidden=!1,_this934["#placeholder"].innerHTML='Please enable Local Font Access API. <a href="https://boxy-svg.com/blog/15" target="_blank">Click here</a> for more details.',e()));case 40:if(!(0===_t2297)){_context197.next=42;break;}return _context197.abrupt("return",(_this934.R_=!1,_this934._v=0,_this934.B_=!1,_this934["#refresh-button"].disabled=!0,_this934["#items"].innerHTML="",_this934["#throbber"].hidden=!0,_this934["#placeholder"].hidden=!1,_this934["#placeholder"].innerHTML='<a id="refresh-anchor" href="">Click here</a> to give Boxy SVG permission to use your local fonts.',e()));case 42:_context197.next=48;break;case 44:_context197.t3=0===_t2297;if(!_context197.t3){_context197.next=48;break;}_context197.next=48;return Qx.refresh();case 48:_this934.R_=!1,_this934._v=0,_this934.B_=!0,_this934["#refresh-button"].disabled=!1,_this934["#items"].innerHTML="",_this934["#throbber"].hidden=!1,_this934["#placeholder"].hidden=!0;_t2298=0;case 50:if(!(_t2298<50&&!1===_this934.R_&&!0===_this934.B_&&_this934["#items"].clientHeight<=_this934["#main"].clientHeight+500)){_context197.next=63;break;}_context197.prev=51;_context197.next=54;return _this934.X_();case 54:_context197.next=60;break;case 56:_context197.prev=56;_context197.t4=_context197["catch"](51);0===_this934["#items"].childElementCount&&(_this934["#placeholder"].hidden=!1,_this934["#placeholder"].textContent=_context197.t4.message);return _context197.abrupt("break",63);case 60:_t2298+=1;_context197.next=50;break;case 63:e();case 64:case"end":return _context197.stop();}}},_callee195,null,[[3,8],[21,26],[51,56]]);}));return function(_x220){return _ref177.apply(this,arguments);};}());}},{key:"X_",value:function X_(){var _this935=this;return new Promise(/*#__PURE__*/function(){var _ref178=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee196(t,e){var i,s,n,o,l,_t2299,_e1667,_s820,_t2300,_iterator1541,_step1541,_e1668,_i1429;return regeneratorRuntime.wrap(function _callee196$(_context198){while(1){switch(_context198.prev=_context198.next){case 0:_this935.R_=!0;i=null,s=null,n=_this935["#search-input"].value.trim(),o=_this935["#items"].lastElementChild?_this935["#items"].lastElementChild[Cg]:null,l=_this935.Qs.getConfig("bx-fontslibrarybrowser:provider","google-fonts");_context198.prev=2;if(!("google-fonts"===l)){_context198.next=10;break;}_t2299=_this935.Qs.getConfig("bx-googlefontslibrarysearchsettings:sort","alphabetical"),_e1667=_this935.Qs.getConfig("bx-googlefontslibrarysearchsettings:category","all"),_s820=_this935.Qs.getConfig("bx-googlefontslibrarysearchsettings:subset","all");_context198.next=7;return _this935.cC(n,_t2299,_e1667,_s820,o);case 7:i=_context198.sent;_context198.next=15;break;case 10:_context198.t0="local-fonts"===l;if(!_context198.t0){_context198.next=15;break;}_context198.next=14;return _this935.pC(n,o);case 14:i=_context198.sent;case 15:_context198.next=20;break;case 17:_context198.prev=17;_context198.t1=_context198["catch"](2);s=_context198.t1;case 20:if(s)_this935["#throbber"].hidden=!0,_this935.R_=!1,e(s);else{if(i.length>0){_t2300=document.createDocumentFragment();_iterator1541=_createForOfIteratorHelper(i);try{for(_iterator1541.s();!(_step1541=_iterator1541.n()).done;){_e1668=_step1541.value;_i1429=_this935.xv(_e1668);_t2300.append(_i1429);}}catch(err){_iterator1541.e(err);}finally{_iterator1541.f();}_this935["#items"].append(_t2300),_this935["#throbber"].hidden=!0;}else _this935.B_=!1,_this935["#throbber"].hidden=!0,0===_this935["#items"].childElementCount&&(_this935["#placeholder"].hidden=!1,_this935["#placeholder"].textContent="No fonts found");_this935.R_=!1,t();}case 21:case"end":return _context198.stop();}}},_callee196,null,[[2,17]]);}));return function(_x221,_x222){return _ref178.apply(this,arguments);};}());}},{key:"tC",value:function tC(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1669=t[Cg],_i1430=ni(_e1669.faces.map(function(t){return parseInt(t);})).sort();if("google-fonts"===_e1669.provider){var _t2301="https://fonts.google.com/specimen/"+ai(_e1669.family," ","+"),_s821=_e1669.subsets.map(function(t){return kr.getSubsetDisplayName(t);}).join(", ");this["#meta-family-value"].textContent=_e1669.family,this["#meta-weights-value"].textContent=_i1430.join(", "),this["#meta-subsets"].hidden=!1,this["#meta-subsets-value"].textContent=_s821,this["#meta-category"].hidden=!1,this["#meta-category-value"].textContent=kr.getCategoryDisplayName(_e1669.category),this["#meta-license"].hidden=!1,this["#meta-license-anchor"].href=_e1669.license,this["#meta-license-anchor"].textContent=_g[_e1669.license]?_g[_e1669.license]:"Custom",this["#meta-footer"].hidden=!1,this["#meta-google-fonts-anchor"].setAttribute("href",_t2301);}else"local-fonts"===_e1669.provider&&(this["#meta-family-value"].textContent=_e1669.family,this["#meta-weights-value"].textContent=_i1430.join(", "),this["#meta-subsets"].hidden=!0,this["#meta-category"].hidden=!0,this["#meta-license"].hidden=!0,this["#meta-footer"].hidden=!0);}}},{key:"q_",value:function q_(){var t=this.Qs.getConfig("bx-fontslibrarybrowser:provider","google-fonts");"google-fonts"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-googlefontslibrarysearchsettings/>"):"local-fonts"===t&&(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="");}}]);return Mg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Mg,"observedAttributes",["enabled"]);_defineProperty(Mg,"_shadowTemplate",Qi(_templateObject456(),tb()));_defineProperty(Mg,"_shadowStyleSheet",Ji(_templateObject457()));customElements.define("bx-fontslibrarybrowser",Mg);var Pg=/*#__PURE__*/function(_mg3){_inherits(Pg,_mg3);var _super199=_createSuper(Pg);function Pg(){var _this936;_classCallCheck(this,Pg);_this936=_super199.call(this),_this936["#quality-select"].addEventListener("change",function(){return _this936.uC();}),_this936["#orientation-select"].addEventListener("change",function(){return _this936.xC();});return _this936;}_createClass(Pg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Pg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:quality","640"),e=this.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:orientation","all");this["#quality-select"].value=t,this["#orientation-select"].value=e;}},{key:"uC",value:function uC(){var t=this["#quality-select"].value;this.Qs.setConfig("bx-pexelsbitmapslibrarysearchsettings:quality",t);}},{key:"xC",value:function xC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-pexelsbitmapslibrarysearchsettings:orientation",t);}}]);return Pg;}(mg);_defineProperty(Pg,"_shadowTemplate",Qi(_templateObject458()));_defineProperty(Pg,"_shadowStyleSheet",Ji(_templateObject459()));customElements.define("bx-pexelsbitmapslibrarysearchsettings",Pg);var Dg=/*#__PURE__*/function(_mg4){_inherits(Dg,_mg4);var _super200=_createSuper(Dg);function Dg(){var _this937;_classCallCheck(this,Dg);_this937=_super200.call(this),_this937["#sort-buttons"].addEventListener("toggle",function(){return _this937.bC();}),_this937["#quality-select"].addEventListener("change",function(){return _this937.uC();}),_this937["#orientation-select"].addEventListener("change",function(){return _this937.xC();}),_this937["#category-select"].addEventListener("change",function(){return _this937.nC();}),_this937["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this937.mC();});return _this937;}_createClass(Dg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Dg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:sort","popular"),e=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:quality","640"),i=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:orientation","all"),s=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:category","all"),n=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",!1);this["#sort-buttons"].value=t,this["#quality-select"].value=e,this["#orientation-select"].value=i,this["#category-select"].value=s,this["#editors-choice-checkbox"].toggled=n;}},{key:"bC",value:function bC(){var t=this["#sort-buttons"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:sort",t);}},{key:"uC",value:function uC(){var t=this["#quality-select"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:quality",t);}},{key:"xC",value:function xC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:orientation",t);}},{key:"nC",value:function nC(){var t=this["#category-select"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:category",t);}},{key:"mC",value:function mC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",t);}}]);return Dg;}(mg);_defineProperty(Dg,"_shadowTemplate",Qi(_templateObject460()));_defineProperty(Dg,"_shadowStyleSheet",Ji(_templateObject461()));customElements.define("bx-pixabaybitmapslibrarysearchsettings",Dg);var zg=/*#__PURE__*/function(_mg5){_inherits(zg,_mg5);var _super201=_createSuper(zg);function zg(){var _this938;_classCallCheck(this,zg);_this938=_super201.call(this),_this938["#quality-select"].addEventListener("change",function(){return _this938.uC();}),_this938["#orientation-select"].addEventListener("change",function(){return _this938.xC();});return _this938;}_createClass(zg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(zg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:quality","640"),e=this.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:orientation","all");this["#quality-select"].value=t,this["#orientation-select"].value=e;}},{key:"uC",value:function uC(){var t=this["#quality-select"].value;this.Qs.setConfig("bx-unsplashbitmapslibrarysearchsettings:quality",t);}},{key:"xC",value:function xC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-unsplashbitmapslibrarysearchsettings:orientation",t);}}]);return zg;}(mg);_defineProperty(zg,"_shadowTemplate",Qi(_templateObject462()));_defineProperty(zg,"_shadowStyleSheet",Ji(_templateObject463()));customElements.define("bx-unsplashbitmapslibrarysearchsettings",zg);var Og=/*#__PURE__*/function(_mg6){_inherits(Og,_mg6);var _super202=_createSuper(Og);function Og(){var _this939;_classCallCheck(this,Og);_this939=_super202.call(this),_this939["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this939.mC();});return _this939;}_createClass(Og,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Og.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",!1);this["#editors-choice-checkbox"].toggled=t;}},{key:"mC",value:function mC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",t);}}]);return Og;}(mg);_defineProperty(Og,"_shadowTemplate",Qi(_templateObject464()));customElements.define("bx-wikimediabitmapslibrarysearchsettings",Og);var Eg=function Eg(t,e,i){var s=new URL(t),n=new URLSearchParams(s.search);return null==i||""===i?n["delete"](e):n.set(e,i),s.search=n.toString(),s.href;},Tg=Math.abs,Ag=Object.entries,$g=Symbol(),Ig=20;var Lg=/*#__PURE__*/function(_HTMLElement125){_inherits(Lg,_HTMLElement125);var _super203=_createSuper(Lg);_createClass(Lg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Lg(){var _this940;_classCallCheck(this,Lg);_this940=_super203.call(this),_this940.L_=!1,_this940.R_=!1,_this940.B_=!1,_this940._v=0,_this940.G_=is(_this940.G_,600,_assertThisInitialized(_this940)),_this940.Ao=new Dexie("bx-bitmapslibrarybrowser"),_this940.Ao.version(1).stores({pixabayCache:"requestURL,time"}),_this940._shadowRoot=_this940.attachShadow({mode:"closed"}),_this940._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Lg._shadowStyleSheet],_this940._shadowRoot.append(document.importNode(Lg._shadowTemplate.content,!0));var _iterator1542=_createForOfIteratorHelper(_this940._shadowRoot.querySelectorAll("[id]")),_step1542;try{for(_iterator1542.s();!(_step1542=_iterator1542.n()).done;){var _t2302=_step1542.value;_this940["#"+_t2302.id]=_t2302;}}catch(err){_iterator1542.e(err);}finally{_iterator1542.f();}_this940["#provider-select"].addEventListener("change",function(){return _this940.F_();}),_this940["#main"].addEventListener("scroll",function(){return _this940.N_();}),_this940["#items"].addEventListener("pointerdown",function(t){return _this940.sp(t);}),_this940["#items"].addEventListener("click",function(t){return _this940.np(t);}),_this940["#items"].addEventListener("contextmenu",function(t){return _this940.op(t);}),_this940["#items"].addEventListener("keydown",function(t){return _this940.lp(t);}),_this940["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this940.j_();}),_this940["#search-input"].addEventListener("input",function(){return _this940.G_();});return _this940;}_createClass(Lg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1543=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1543;try{for(_iterator1543.s();!(_step1543=_iterator1543.n()).done;){var _t2303=_step1543.value;_t2303.setAttribute("rel","noopener");}}catch(err){_iterator1543.e(err);}finally{_iterator1543.f();}}this["#main"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"gC",value:function gC(t){var _this941=this;return new Promise(/*#__PURE__*/function(){var _ref179=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee197(e){var i,s;return regeneratorRuntime.wrap(function _callee197$(_context199){while(1){switch(_context199.prev=_context199.next){case 0:_context199.next=2;return _this941.Ao.pixabayCache.get(t);case 2:i=_context199.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context199.stop();}}},_callee197);}));return function(_x223){return _ref179.apply(this,arguments);};}());}},{key:"fC",value:function fC(t,e){this.Ao.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"wC",value:function wC(){var _this942=this;return new Promise(/*#__PURE__*/function(){var _ref180=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee198(t){var e;return regeneratorRuntime.wrap(function _callee198$(_context200){while(1){switch(_context200.prev=_context200.next){case 0:_context200.next=2;return _this942.Ao.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context200.sent;e>0&&console.log("Deleted ".concat(e," cached responses.")),t();case 4:case"end":return _context200.stop();}}},_callee198);}));return function(_x224){return _ref180.apply(this,arguments);};}());}},{key:"tn",value:function tn(){var _this943=this;window.addEventListener("resize",this.sn=function(){_this943.H_();}),this.Qs.addEventListener("configchange",this.nn=function(t){_this943.ln(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.W_=function(){_this943.H_();}),!1===this.L_&&(this.L_=!0,this.wC(),this.Y_(),this.q_(),this.Om()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ns(10).then(function(){return _this943["#main"].scrollTop=_this943._v;}));}},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Js.primaryPanelsDock.removeEventListener("resize",this.W_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"ln",value:function ln(t){var _t$detail20=t.detail,e=_t$detail20.key,i=_t$detail20.value,s=this["#provider-select"].value;"pexels"===s?e.startsWith("bx-pexelsbitmapslibrarysearchsettings")&&this.Om():"pixabay"===s?e.startsWith("bx-pixabaybitmapslibrarysearchsettings")&&this.Om():"unsplash"===s?e.startsWith("bx-unsplashbitmapslibrarysearchsettings")&&this.Om():"wikimedia"===s&&e.startsWith("bx-wikimediabitmapslibrarysearchsettings")&&this.Om();}},{key:"H_",value:function H_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.X_();}},{key:"F_",value:function F_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-bitmapslibrarybrowser:provider",this["#provider-select"].value),this.Om(),this.q_();}},{key:"N_",value:function N_(){this._v=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.X_();}},{key:"sp",value:function sp(t){var _this944=this;if(t.target.matches(".item")){var _e1670=t.target;if("touch"!==t.pointerType&&this.Z_(_e1670),0===t.button){var _i1432,_s823,_n656,_o520=new DOMPoint(t.clientX,t.clientY);_e1670.setPointerCapture(t.pointerId),_e1670.addEventListener("pointermove",_i1432=function _i1431(l){var a=new DOMPoint(l.clientX,l.clientY);Te(_o520,a)>=5&&(_e1670.removeEventListener("pointermove",_i1432),_e1670.removeEventListener("pointerup",_s823),_e1670.removeEventListener("pointercancel",_n656),_this944.sv(_e1670,t));}),_e1670.addEventListener("pointerup",_s823=function _s822(){_e1670.removeEventListener("pointermove",_i1432),_e1670.removeEventListener("pointerup",_s823),_e1670.removeEventListener("pointercancel",_n656);}),_e1670.addEventListener("pointercancel",_n656=function _n655(){_e1670.removeEventListener("pointermove",_i1432),_e1670.removeEventListener("pointerup",_s823),_e1670.removeEventListener("pointercancel",_n656);});}}}},{key:"sv",value:function sv(t,e){var _this945=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),a=l.getBoundingClientRect(),h=t[$g],r=this.vC(l.src,a),d=this.yC(h);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Tg(i)/150,n>3&&(n=3)),r.style.top=a.y+s+"px",r.style.left=a.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s824){function s(){return _s824.apply(this,arguments);}s.toString=function(){return _s824.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref181=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee199(e){var l,_t2304,_e1671,_i1433,_t2305,_yield$Xh3,_e1672,_i1434,_s825;return regeneratorRuntime.wrap(function _callee199$(_context201){while(1){switch(_context201.prev=_context201.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;l="<desc>Author: ".concat(h.user.profileURL,"\nLicense: ").concat(h.license.url,"\n</desc>");if(!o.isPointOverBoard(e.clientX,e.clientY)){_context201.next=21;break;}_t2304=r.getBoundingClientRect();_context201.next=6;return d;case 6:_e1671=_context201.sent;if(!(null===_e1671)){_context201.next=14;break;}r.remove();_context201.next=11;return ns(100);case 11:_this945.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context201.next=19;break;case 14:o.undoManager.checkpoint("Add bitmap from library");_context201.next=17;return o.insertBitmapIntoBBox(_e1671,_t2304);case 17:_i1433=_context201.sent;_i1433.innerHTML=l,o.selectedElements=[_i1433],o.selectedTextRange=null,r.remove();case 19:_context201.next=36;break;case 21:if(!_this945.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context201.next=35;break;}r.remove();_context201.next=25;return d;case 25:_t2305=_context201.sent;_context201.next=28;return Xh(_t2305);case 28:_yield$Xh3=_context201.sent;_e1672=_yield$Xh3.width;_i1434=_yield$Xh3.height;_s825="\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_e1672," ").concat(_i1434,"\">\n            <image href=\"").concat(_t2305,"\">").concat(l,"</image>\n          </svg>\n        ");_this945.Qs.openEditorTabWithArtworkFromLibrary(_s825);_context201.next=36;break;case 35:r.remove();case 36:case"end":return _context201.stop();}}},_callee199);}));return function n(_x225){return _ref181.apply(this,arguments);};}());}},{key:"np",value:function np(t){var e=t.target.closest(".item");e&&(this.Z_(e),2===t.detail&&this.cv(e));}},{key:"op",value:function(){var _op11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee200(t){var e;return regeneratorRuntime.wrap(function _callee200$(_context202){while(1){switch(_context202.prev=_context202.next){case 0:e=t.target.closest(".item");_context202.t0=e;if(!_context202.t0){_context202.next=8;break;}t.preventDefault();this.Z_(e);_context202.next=7;return ns(150);case 7:this.cv(e);case 8:case"end":return _context202.stop();}}},_callee200,this);}));function op(_x226){return _op11.apply(this,arguments);}return op;}()},{key:"lp",value:function lp(t){var e=ao.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s826=i.getBoundingClientRect();if(e.matches("Enter"))this.cv(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s826.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s826.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1673=i.nextElementSibling;_e1673;_e1673=_e1673.nextElementSibling){if(_s826.left===_e1673.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.Z_(_e1673);break;}}}else if(e.matches("ArrowUp"))for(var _e1674=i.previousElementSibling;_e1674;_e1674=_e1674.previousElementSibling){if(_s826.left===_e1674.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.Z_(_e1674);break;}}}}},{key:"j_",value:function(){var _j_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee201(){var t,e,i,s,n,o,l,_yield$Promise$all,_yield$Promise$all2,a,_t2306;return regeneratorRuntime.wrap(function _callee201$(_context203){while(1){switch(_context203.prev=_context203.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[$g],i=this.Js.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#meta-popover"].close();o=this.vC(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context203.next=7;return Promise.all([this.yC(e),l.finished]);case 7:_yield$Promise$all=_context203.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);a=_yield$Promise$all2[0];if(!(null===a)){_context203.next=14;break;}this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();_context203.next=19;break;case 14:this.Js.board.undoManager.checkpoint("Add bitmap from library");_context203.next=17;return this.Js.board.insertBitmapIntoBBox(a,n);case 17:_t2306=_context203.sent;_t2306.innerHTML="<desc>Author: ".concat(e.user.profileURL,"\nLicense: ").concat(e.license.url,"\n</desc>"),this.Js.board.selectedElements=[_t2306],this.Js.board.selectedTextRange=null,o.remove();case 19:case"end":return _context203.stop();}}},_callee201,this);}));function j_(){return _j_3.apply(this,arguments);}return j_;}()},{key:"G_",value:function G_(){this.Om();}},{key:"Z_",value:function Z_(t){{var _e1675=this["#items"].querySelector(":scope > .item[data-selected]");_e1675!==t&&(_e1675&&_e1675.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"cv",value:function cv(t){this.tC();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"xv",value:function xv(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2307=i/s;i=110,s=i/_t2307;}if(s>90){var _t2308=i/s;s=90,i=s*_t2308;}var n=Qi(_templateObject79(),i,s,o);return n[$g]=t,"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee202(){var t,_e1676,_i1435;return regeneratorRuntime.wrap(function _callee202$(_context204){while(1){switch(_context204.prev=_context204.next){case 0:_context204.prev=0;_context204.next=3;return fetch(e,{mode:"cors"});case 3:t=_context204.sent;_context204.next=14;break;case 6:_context204.prev=6;_context204.t0=_context204["catch"](0);console.log("Retrying",_context204.t0);_context204.next=11;return ns(2e3);case 11:_context204.next=13;return fetch(e,{mode:"cors"});case 13:t=_context204.sent;case 14:if(!t){_context204.next=22;break;}_context204.next=17;return t.blob();case 17:_e1676=_context204.sent;_context204.next=20;return Vh(_e1676);case 20:_i1435=_context204.sent;n.querySelector("img").setAttribute("src",_i1435);case 22:case"end":return _context204.stop();}}},_callee202,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",e),n;}},{key:"vC",value:function vC(t,e){var i=Qi(_templateObject80());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"yC",value:function yC(t){var _this946=this;return new Promise(/*#__PURE__*/function(){var _ref183=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee203(e,i){var s,n,_e1677,_t2309;return regeneratorRuntime.wrap(function _callee203$(_context205){while(1){switch(_context205.prev=_context205.next){case 0:s=null,n="640";"pexels"===_this946["#provider-select"].value?n=_this946.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:quality","640"):"pixabay"===_this946["#provider-select"].value?n=_this946.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:quality","640"):"unsplash"===_this946["#provider-select"].value&&(n=_this946.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:quality","640"));_context205.prev=2;_context205.next=5;return fetch(t.sources[n],{mode:"cors"});case 5:_e1677=_context205.sent;if(!_e1677.ok){_context205.next=13;break;}_context205.next=9;return _e1677.blob();case 9:_t2309=_context205.sent;_context205.next=12;return Vh(_t2309);case 12:s=_context205.sent;case 13:_context205.next=18;break;case 15:_context205.prev=15;_context205.t0=_context205["catch"](2);console.log(_context205.t0);case 18:"unsplash"===t.provider&&_this946.Qs.callCloudFunction("sendUnsplashApiRequest",t.downloadURL),e(s);case 19:case"end":return _context205.stop();}}},_callee203,null,[[2,15]]);}));return function(_x227,_x228){return _ref183.apply(this,arguments);};}());}},{key:"kC",value:function kC(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref184=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee204(s,n){var o,l,a,h,r,_t2310,_iterator1544,_step1544,_e1678,_i1436,_s827;return regeneratorRuntime.wrap(function _callee204$(_context206){while(1){switch(_context206.prev=_context206.next){case 0:""===t&&(t="hd");o=i?i.page+1:1,l={page:o,per_page:Ig,query:encodeURIComponent(t)};"all"!==e&&(l.orientation="vertical"===e?"portrait":"landscape");a="https://api.pexels.com/v1/search?"+Ag(l).map(function(_ref185){var _ref186=_slicedToArray(_ref185,2),t=_ref186[0],e=_ref186[1];return"".concat(t,"=").concat(e);}).join("&"),h=null,r=null;_context206.prev=4;_context206.next=7;return fetch(a,{mode:"cors",headers:{Authorization:"563492ad6f91700001000001d2beff8a762546b38a9f11038c06e118"}});case 7:h=_context206.sent;_context206.next=10;return h.json();case 10:h=_context206.sent;_context206.next=16;break;case 13:_context206.prev=13;_context206.t0=_context206["catch"](4);h=null,r=_context206.t0;case 16:if(r)n(r);else{_t2310=[];_iterator1544=_createForOfIteratorHelper(h.photos);try{for(_iterator1544.s();!(_step1544=_iterator1544.n()).done;){_e1678=_step1544.value;_i1436=_e1678.width>=_e1678.height?"w":"h",_s827=_e1678.width>=_e1678.height?_e1678.width/_e1678.height:_e1678.height/_e1678.width;_t2310.push({page:o,pageURL:_e1678.url,previewURL:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=110"),previewWidth:"h"===_i1436?110:Math.floor(110*_s827),previewHeight:"w"===_i1436?110:Math.floor(110*_s827),provider:"pexels",license:{displayName:"Pexels license",url:"https://www.pexels.com/license/"},user:{label:"Uploader",displayName:_e1678.photographer,profileURL:_e1678.photographer_url},sources:{180:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=180"),340:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=340"),640:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=640"),960:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=960"),1280:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=1280"),1920:"".concat(_e1678.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1436,"=1920")}});}}catch(err){_iterator1544.e(err);}finally{_iterator1544.f();}s(_t2310);}case 17:case"end":return _context206.stop();}}},_callee204,null,[[4,13]]);}));return function(_x229,_x230){return _ref184.apply(this,arguments);};}());}},{key:"SC",value:function SC(t,e,i,s,n,o,l){var _this947=this;return new Promise(/*#__PURE__*/function(){var _ref187=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee205(a,h){var r,d,c,p,u,x,_t2311,_iterator1545,_step1545,_e1679;return regeneratorRuntime.wrap(function _callee205$(_context207){while(1){switch(_context207.prev=_context207.next){case 0:r=l?l.page+1:1,d={q:encodeURIComponent(t),response_group:"high_resolution",per_page:Ig,page:r,editors_choice:""===t||s,order:n,orientation:e,image_type:"photo",safesearch:o,key:"7905818-d06eb7dad844f6efdf1932a90"};"all"!==i&&(d.category=i);c="https://pixabay.com/api/?"+Ag(d).map(function(_ref188){var _ref189=_slicedToArray(_ref188,2),t=_ref189[0],e=_ref189[1];return"".concat(t,"=").concat(e);}).join("&");_context207.next=5;return _this947.gC(c);case 5:p=_context207.sent;u=null;x=null;if(!p){_context207.next=12;break;}u=p;_context207.next=25;break;case 12:_context207.prev=12;_context207.next=15;return fetch(c,{mode:"cors"});case 15:u=_context207.sent;_context207.next=18;return u.json();case 18:u=_context207.sent;_context207.next=24;break;case 21:_context207.prev=21;_context207.t0=_context207["catch"](12);u=null,x=_context207.t0;case 24:x||_this947.fC(c,u);case 25:if(x)h(x);else{_t2311=[];_iterator1545=_createForOfIteratorHelper(u.hits);try{for(_iterator1545.s();!(_step1545=_iterator1545.n()).done;){_e1679=_step1545.value;_t2311.push({page:r,pageURL:_e1679.pageURL,previewURL:_e1679.previewURL,previewWidth:_e1679.previewWidth,previewHeight:_e1679.previewHeight,provider:"pixabay",license:{displayName:"Pixabay License",url:"https://pixabay.com/service/terms/#license"},user:{label:"Uploader",displayName:_e1679.user,profileURL:"https://pixabay.com/users/".concat(_e1679.user,"-").concat(_e1679.user_id)},sources:{180:_e1679.webformatURL.replace("_640","_180"),340:_e1679.webformatURL.replace("_640","_340"),640:_e1679.webformatURL,960:_e1679.webformatURL.replace("_640","_960"),1280:_e1679.largeImageURL,1920:_e1679.fullHDURL}});}}catch(err){_iterator1545.e(err);}finally{_iterator1545.f();}a(_t2311);}case 26:case"end":return _context207.stop();}}},_callee205,null,[[12,21]]);}));return function(_x231,_x232){return _ref187.apply(this,arguments);};}());}},{key:"_C",value:function _C(t,e,i,s){var _this948=this;return new Promise(/*#__PURE__*/function(){var _ref190=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee206(n,o){var l,a,h,r,d,_t2312,_iterator1546,_step1546,_e1680,_i1437,_s828,_n657;return regeneratorRuntime.wrap(function _callee206$(_context208){while(1){switch(_context208.prev=_context208.next){case 0:""===t&&(t="hd");l=s?s.page+1:1,a={query:encodeURIComponent(t),page:l,per_page:Ig,order_by:"relevant",content_filter:i?"high":"low"};"all"!==e&&(a.orientation="vertical"===e?"portrait":"landscape");h="https://api.unsplash.com/search/photos?"+Ag(a).map(function(_ref191){var _ref192=_slicedToArray(_ref191,2),t=_ref192[0],e=_ref192[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context208.prev=4;_context208.next=7;return _this948.Qs.callCloudFunction("sendUnsplashApiRequest",h);case 7:r=_context208.sent;r=r.data;_context208.next=14;break;case 11:_context208.prev=11;_context208.t0=_context208["catch"](4);r=null,d=_context208.t0;case 14:if(d)o(d);else{_t2312=[];_iterator1546=_createForOfIteratorHelper(r.results);try{for(_iterator1546.s();!(_step1546=_iterator1546.n()).done;){_e1680=_step1546.value;_i1437=_e1680.width>=_e1680.height?"w":"h",_s828=_e1680.width>=_e1680.height?_e1680.width/_e1680.height:_e1680.height/_e1680.width,_n657=new URL(_e1680.urls.regular);_n657.searchParams["delete"]("w"),_n657.searchParams["delete"]("h"),_t2312.push({page:l,pageURL:_e1680.links.html+"?utm_source=Boxy+SVG&utm_medium=referral",previewURL:Eg(_n657.href,_i1437,"110"),previewWidth:"h"===_i1437?110:Math.floor(110*_s828),previewHeight:"w"===_i1437?110:Math.floor(110*_s828),provider:"unsplash",license:{displayName:"Unsplash License",url:"https://unsplash.com/license"},downloadURL:_e1680.links.download_location,user:{label:"Uploader",displayName:_e1680.user.name,profileURL:_e1680.user.links.html+"?utm_source=Boxy+SVG&utm_medium=referral"},sources:{180:Eg(_n657.href,_i1437,"180"),340:Eg(_n657.href,_i1437,"340"),640:Eg(_n657.href,_i1437,"640"),960:Eg(_n657.href,_i1437,"960"),1280:Eg(_n657.href,_i1437,"1280"),1920:Eg(_n657.href,_i1437,"1920")}});}}catch(err){_iterator1546.e(err);}finally{_iterator1546.f();}n(_t2312);}case 15:case"end":return _context208.stop();}}},_callee206,null,[[4,11]]);}));return function(_x233,_x234){return _ref190.apply(this,arguments);};}());}},{key:"CC",value:function CC(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref193=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee207(s,n){var o,l,a,h,r,d,_t2313,_i1438,_Object$values,_e1681,_i1439;return regeneratorRuntime.wrap(function _callee207$(_context209){while(1){switch(_context209.prev=_context209.next){case 0:o="";o=""===t?'deepcat:"Featured pictures on Wikimedia Commons" filetype:bitmap':!0===e?"".concat(t," deepcat:\"Featured pictures on Wikimedia Commons\" filetype:bitmap"):"".concat(t," filetype:bitmap");l=i?i.page+1:0,a={generator:"search",gsrnamespace:"6",gsrsearch:encodeURIComponent(o),gsroffset:l*Ig,gsrlimit:Ig,action:"query",prop:"imageinfo",iiurlwidth:110,iiprop:"url|size|user|userid|mime|extmetadata",iiextmetadatafilter:"LicenceShortName|UsageTerms|LicenseUrl|AttributionRequired",extmetadata:1,gimlimit:Ig,format:"json",origin:"*"},h="https://commons.wikimedia.org/w/api.php?"+Ag(a).map(function(_ref194){var _ref195=_slicedToArray(_ref194,2),t=_ref195[0],e=_ref195[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context209.prev=3;_context209.next=6;return fetch(h);case 6:r=_context209.sent;_context209.next=9;return r.json();case 9:r=_context209.sent;_context209.next=15;break;case 12:_context209.prev=12;_context209.t0=_context209["catch"](3);r=null,d=_context209.t0;case 15:if(d)n(d);else if(r.error)n({message:r.error.info,code:r.error.code});else{_t2313=[];if(r.query)for(_i1438=0,_Object$values=Object.values(r.query.pages);_i1438<_Object$values.length;_i1438++){_e1681=_Object$values[_i1438];if(_e1681.imageinfo){_i1439=_e1681.imageinfo[0];["image/png","image/jpeg","image/webp"].includes(_i1439.mime)&&_t2313.push({page:l,pageURL:_i1439.descriptionurl,previewURL:_i1439.thumburl,previewWidth:_i1439.thumbwidth,previewHeight:_i1439.thumbheight,provider:"wikimedia",license:{displayName:_i1439.extmetadata.UsageTerms?_i1439.extmetadata.UsageTerms.value:"Wikimedia License",url:_i1439.extmetadata.LicenseUrl?_i1439.extmetadata.LicenseUrl.value:_i1439.descriptionurl+"#Licensing"},user:{label:"Uploader",displayName:_i1439.user,profileURL:"https://commons.wikimedia.org/wiki/User:"+_i1439.user},sources:{180:_i1439.url,340:_i1439.url,640:_i1439.url,960:_i1439.url,1280:_i1439.url,1920:_i1439.url}});}}s(_t2313);}case 16:case"end":return _context209.stop();}}},_callee207,null,[[3,12]]);}));return function(_x235,_x236){return _ref193.apply(this,arguments);};}());}},{key:"Om",value:function(){var _Om3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee208(){var _t2314;return regeneratorRuntime.wrap(function _callee208$(_context210){while(1){switch(_context210.prev=_context210.next){case 0:this.R_=!1,this.B_=!0,this._v=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2314=0;case 2:if(!(_t2314<50&&!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context210.next=15;break;}_context210.prev=3;_context210.next=6;return this.X_();case 6:_context210.next=12;break;case 8:_context210.prev=8;_context210.t0=_context210["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context210.t0.message);return _context210.abrupt("break",15);case 12:_t2314+=1;_context210.next=2;break;case 15:case"end":return _context210.stop();}}},_callee208,this,[[3,8]]);}));function Om(){return _Om3.apply(this,arguments);}return Om;}()},{key:"X_",value:function X_(){var _this949=this;return new Promise(/*#__PURE__*/function(){var _ref196=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee209(t,e){var i,s,n,o,_t2315,_t2316,_e1682,_s829,_l386,_a285,_t2317,_e1683,_t2318,_t2319,_iterator1547,_step1547,_e1684,_i1440;return regeneratorRuntime.wrap(function _callee209$(_context211){while(1){switch(_context211.prev=_context211.next){case 0:_this949.R_=!0;i=null,s=null,n=_this949["#search-input"].value.trim(),o=_this949["#items"].lastElementChild?_this949["#items"].lastElementChild[$g]:null;_context211.prev=2;if(!("pexels"===_this949["#provider-select"].value)){_context211.next=10;break;}_t2315=_this949.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:orientation","all");_context211.next=7;return _this949.kC(n,_t2315,o);case 7:i=_context211.sent;_context211.next=29;break;case 10:if(!("pixabay"===_this949["#provider-select"].value)){_context211.next=17;break;}_t2316=_this949.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:sort","popular"),_e1682=_this949.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:orientation","all"),_s829=_this949.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:category","all"),_l386=_this949.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",!1),_a285="bx-macapp"===_this949.Qs.localName;_context211.next=14;return _this949.SC(n,_e1682,_s829,_l386,_t2316,_a285,o);case 14:i=_context211.sent;_context211.next=29;break;case 17:if(!("unsplash"===_this949["#provider-select"].value)){_context211.next=24;break;}_t2317=_this949.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:orientation","all"),_e1683="bx-macapp"===_this949.Qs.localName;_context211.next=21;return _this949._C(n,_t2317,_e1683,o);case 21:i=_context211.sent;_context211.next=29;break;case 24:if(!("wikimedia"===_this949["#provider-select"].value)){_context211.next=29;break;}_t2318=_this949.Qs.getConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",!1);_context211.next=28;return _this949.CC(n,_t2318,o);case 28:i=_context211.sent;case 29:_context211.next=34;break;case 31:_context211.prev=31;_context211.t0=_context211["catch"](2);s=_context211.t0;case 34:if(s)_this949["#throbber"].hidden=!0,_this949.R_=!1,e(s);else{if(i.length>0){_t2319=document.createDocumentFragment();_iterator1547=_createForOfIteratorHelper(i);try{for(_iterator1547.s();!(_step1547=_iterator1547.n()).done;){_e1684=_step1547.value;_i1440=_this949.xv(_e1684);_t2319.append(_i1440);}}catch(err){_iterator1547.e(err);}finally{_iterator1547.f();}_this949["#items"].append(_t2319),_this949["#throbber"].hidden=!0;}else _this949.B_=!1,_this949["#throbber"].hidden=!0,0===_this949["#items"].childElementCount&&(_this949["#placeholder"].hidden=!1,_this949["#placeholder"].textContent="No bitmaps found");_this949.R_=!1,t();}case 35:case"end":return _context211.stop();}}},_callee209,null,[[2,31]]);}));return function(_x237,_x238){return _ref196.apply(this,arguments);};}());}},{key:"Y_",value:function Y_(){var t=this.Qs.getConfig("bx-bitmapslibrarybrowser:provider","pixabay");this["#unsplash-menu-item"].hidden="bx-webapp"!==this.Qs.localName,this["#provider-select"].value=t;}},{key:"tC",value:function tC(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1685=t[$g];if(_e1685.user){var _e1685$user=_e1685.user,_t2320=_e1685$user.label,_i1441=_e1685$user.profileURL,_s830=_e1685$user.displayName;this["#meta-user-label"].textContent=_t2320,this["#meta-user-value"].innerHTML="<a href=\"".concat(_i1441,"\" target=\"_blank\">").concat(_s830,"</a>");}_e1685.license?(this["#meta-license"].hidden=!1,this["#meta-license-anchor"].textContent=_e1685.license.displayName,this["#meta-license-anchor"].href=_e1685.license.url):this["#meta-license"].hidden=!0,this["#meta-provider-anchor"].href=_e1685.pageURL,"pexels"===_e1685.provider?this["#meta-provider-label"].textContent="View on Pexels":"pixabay"===_e1685.provider?this["#meta-provider-label"].textContent="View on Pixabay":"unsplash"===_e1685.provider?this["#meta-provider-label"].textContent="View on Unsplash":"wikimedia"===_e1685.provider&&(this["#meta-provider-label"].textContent="View on Wikimedia");}}},{key:"q_",value:function q_(){var t=this["#provider-select"].value;"pexels"===t?this["#settings-popover"].innerHTML="<bx-pexelsbitmapslibrarysearchsettings/>":"pixabay"===t?this["#settings-popover"].innerHTML="<bx-pixabaybitmapslibrarysearchsettings/>":"unsplash"===t?this["#settings-popover"].innerHTML="<bx-unsplashbitmapslibrarysearchsettings/>":"wikimedia"===t&&(this["#settings-popover"].innerHTML="<bx-wikimediabitmapslibrarysearchsettings/>");}}]);return Lg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lg,"observedAttributes",["enabled"]);_defineProperty(Lg,"_shadowTemplate",Qi(_templateObject465()));_defineProperty(Lg,"_shadowStyleSheet",Ji(_templateObject466()));customElements.define("bx-bitmapslibrarybrowser",Lg);var Rg=/*#__PURE__*/function(_mg7){_inherits(Rg,_mg7);var _super204=_createSuper(Rg);function Rg(){var _this950;_classCallCheck(this,Rg);_this950=_super204.call(this),_this950["#scope-buttons"].addEventListener("toggle",function(){return _this950.MC();});return _this950;}_createClass(Rg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Rg.prototype),"connectedCallback",this).call(this),this["#scope-buttons"].value=this.Qs.getConfig("bx-cloudvectorslibrarysearchsettings:scope","org");}},{key:"MC",value:function MC(){this.Qs.setConfig("bx-cloudvectorslibrarysearchsettings:scope",this["#scope-buttons"].value);}}]);return Rg;}(mg);_defineProperty(Rg,"_shadowTemplate",Qi(_templateObject467()));_defineProperty(Rg,"_shadowStyleSheet",Ji(_templateObject468()));customElements.define("bx-cloudvectorslibrarysearchsettings",Rg);var Bg=/*#__PURE__*/function(_mg8){_inherits(Bg,_mg8);var _super205=_createSuper(Bg);function Bg(){var _this951;_classCallCheck(this,Bg);_this951=_super205.call(this),_this951["#sort-buttons"].addEventListener("toggle",function(){return _this951.bC();}),_this951["#orientation-select"].addEventListener("change",function(){return _this951.xC();}),_this951["#category-select"].addEventListener("change",function(){return _this951.nC();}),_this951["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this951.mC();});return _this951;}_createClass(Bg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Bg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:sort","popular"),e=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:orientation","all"),i=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:category","all"),s=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",!1);this["#sort-buttons"].value=t,this["#orientation-select"].value=e,this["#category-select"].value=i,this["#editors-choice-checkbox"].toggled=s;}},{key:"bC",value:function bC(){var t=this["#sort-buttons"].value;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:sort",t);}},{key:"xC",value:function xC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:orientation",t);}},{key:"nC",value:function nC(){var t=this["#category-select"].value;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:category",t);}},{key:"mC",value:function mC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",t);}}]);return Bg;}(mg);_defineProperty(Bg,"_shadowTemplate",Qi(_templateObject469()));_defineProperty(Bg,"_shadowStyleSheet",Ji(_templateObject470()));customElements.define("bx-pixabayvectorslibrarysearchsettings",Bg);var Gg=/*#__PURE__*/function(_mg9){_inherits(Gg,_mg9);var _super206=_createSuper(Gg);function Gg(){var _this952;_classCallCheck(this,Gg);_this952=_super206.call(this),_this952["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this952.mC();});return _this952;}_createClass(Gg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Gg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",!1);this["#editors-choice-checkbox"].toggled=t;}},{key:"mC",value:function mC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",t);}}]);return Gg;}(mg);_defineProperty(Gg,"_shadowTemplate",Qi(_templateObject471()));customElements.define("bx-wikimediavectorslibrarysearchsettings",Gg);var Ug=/*#__PURE__*/function(_mg10){_inherits(Ug,_mg10);var _super207=_createSuper(Ug);function Ug(){var _this953;_classCallCheck(this,Ug);_this953=_super207.call(this),_this953["#variant-select"].addEventListener("change",function(){return _this953.PC();});return _this953;}_createClass(Ug,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Ug.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-fluenticonsvectorslibrarysearchsettings:variant","regular");this["#variant-select"].value=t;}},{key:"PC",value:function PC(){var t=this["#variant-select"].value;this.Qs.setConfig("bx-fluenticonsvectorslibrarysearchsettings:variant",t);}}]);return Ug;}(mg);_defineProperty(Ug,"_shadowTemplate",Qi(_templateObject472()));_defineProperty(Ug,"_shadowStyleSheet",Ji(_templateObject473()));customElements.define("bx-fluenticonsvectorslibrarysearchsettings",Ug);var Fg=/*#__PURE__*/function(_mg11){_inherits(Fg,_mg11);var _super208=_createSuper(Fg);function Fg(){var _this954;_classCallCheck(this,Fg);_this954=_super208.call(this),_this954["#variant-select"].addEventListener("change",function(){return _this954.PC();}),_this954["#category-select"].addEventListener("change",function(){return _this954.nC();});return _this954;}_createClass(Fg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Fg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:variant","filled"),e=this.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:category","all");this["#variant-select"].value=t,this["#category-select"].value=e;}},{key:"PC",value:function PC(){this.Qs.setConfig("bx-materialiconsvectorslibrarysearchsettings:variant",this["#variant-select"].value);}},{key:"nC",value:function nC(){this.Qs.setConfig("bx-materialiconsvectorslibrarysearchsettings:category",this["#category-select"].value);}}]);return Fg;}(mg);_defineProperty(Fg,"_shadowTemplate",Qi(_templateObject474()));_defineProperty(Fg,"_shadowStyleSheet",Ji(_templateObject475()));customElements.define("bx-materialiconsvectorslibrarysearchsettings",Fg);var Ng=/*#__PURE__*/function(_mg12){_inherits(Ng,_mg12);var _super209=_createSuper(Ng);function Ng(){var _this955;_classCallCheck(this,Ng);_this955=_super209.call(this),_this955["#category-select"].addEventListener("change",function(){return _this955.nC();}),_this955["#skin-tone-select"].addEventListener("change",function(){return _this955.DC();});return _this955;}_createClass(Ng,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Ng.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-googleemojisvectorslibrarysearchsettings:category","all"),e=this.Qs.getConfig("bx-googleemojisvectorslibrarysearchsettings:skinTone","all");this["#category-select"].value=t,this["#skin-tone-select"].value=e;}},{key:"nC",value:function nC(){this.Qs.setConfig("bx-googleemojisvectorslibrarysearchsettings:category",this["#category-select"].value);}},{key:"DC",value:function DC(){this.Qs.setConfig("bx-googleemojisvectorslibrarysearchsettings:skinTone",this["#skin-tone-select"].value);}}]);return Ng;}(mg);_defineProperty(Ng,"_shadowTemplate",Qi(_templateObject476()));_defineProperty(Ng,"_shadowStyleSheet",Ji(_templateObject477()));customElements.define("bx-googleemojisvectorslibrarysearchsettings",Ng);var Vg=/*#__PURE__*/function(_mg13){_inherits(Vg,_mg13);var _super210=_createSuper(Vg);function Vg(){var _this956;_classCallCheck(this,Vg);_this956=_super210.call(this),_this956["#category-select"].addEventListener("change",function(){return _this956.nC();}),_this956["#skin-tone-select"].addEventListener("change",function(){return _this956.DC();});return _this956;}_createClass(Vg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Vg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-twitteremojisvectorslibrarysearchsettings:category","all"),e=this.Qs.getConfig("bx-twitteremojisvectorslibrarysearchsettings:skinTone","all");this["#category-select"].value=t,this["#skin-tone-select"].value=e;}},{key:"nC",value:function nC(){this.Qs.setConfig("bx-twitteremojisvectorslibrarysearchsettings:category",this["#category-select"].value);}},{key:"DC",value:function DC(){this.Qs.setConfig("bx-twitteremojisvectorslibrarysearchsettings:skinTone",this["#skin-tone-select"].value);}}]);return Vg;}(mg);_defineProperty(Vg,"_shadowTemplate",Qi(_templateObject478()));_defineProperty(Vg,"_shadowStyleSheet",Ji(_templateObject479()));customElements.define("bx-twitteremojisvectorslibrarysearchsettings",Vg);var jg=function jg(t){var e="",i="string"==typeof t.detail?"".concat(t.code," / ").concat(t.detail):"".concat(t.code);return e=t.message&&t.message.toLowerCase()!==t.code?"".concat(t.message," (").concat(i,")"):"Server error, please try again later. (".concat(i,")"),e;},Hg=function Hg(t){return t.startsWith("/")&&(t=t.substring(1)),"https://firebasestorage.googleapis.com/v0/b/boxy-svg.appspot.com/o/".concat(encodeURIComponent(t),"?alt=media");},Wg=function Wg(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=0;e>=100?s=.3:e>=30?s=.2:e>=10&&(s=.1);var n=tt((t===i?99.99:9.99)*(1-s),2);return[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"code"}).format(e*n).replace("USD\xa0",""),0===s?"None":100*s+"%"];},Yg=function Yg(t,i){var s=null,n=!1,o=!1;return t&&(void 0!==t.subscriptionPlanID&&(null===t.cancellationEffectiveDate||new Date(t.cancellationEffectiveDate)-Date.now()>0)&&(s=t.subscriptionPlanID),void 0!==t.subscriptionPlanID&&"deleted"!==t.status||void 0!==t.orgPlanID&&(null===t.orgCancellationEffectiveDate||new Date(t.orgCancellationEffectiveDate)-Date.now()>0)&&(s=t.orgPlanID,n=!0)),null===s&&i&&(Date.now()-new Date(i.metadata.creationTime).getTime())/1e3/60/60/24<15&&(s=e,o=!0),[s,n,o];},qg=Math.abs,Xg=Object.entries,Zg=Symbol(),Kg=20;var Qg=/*#__PURE__*/function(_HTMLElement126){_inherits(Qg,_HTMLElement126);var _super211=_createSuper(Qg);_createClass(Qg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Qg(){var _this957;_classCallCheck(this,Qg);_this957=_super211.call(this),_this957.L_=!1,_this957.R_=!1,_this957.B_=!1,_this957._v=0,_this957.G_=is(_this957.G_,600,_assertThisInitialized(_this957)),_this957.U_={},_this957.Ao=new Dexie("bx-vectorslibrarybrowser"),_this957.Ao.version(1).stores({pixabayCache:"requestURL,time"}),_this957._shadowRoot=_this957.attachShadow({mode:"closed"}),_this957._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Qg._shadowStyleSheet],_this957._shadowRoot.append(document.importNode(Qg._shadowTemplate.content,!0));var _iterator1548=_createForOfIteratorHelper(_this957._shadowRoot.querySelectorAll("[id]")),_step1548;try{for(_iterator1548.s();!(_step1548=_iterator1548.n()).done;){var _t2321=_step1548.value;_this957["#"+_t2321.id]=_t2321;}}catch(err){_iterator1548.e(err);}finally{_iterator1548.f();}_this957["#provider-select"].addEventListener("change",function(){return _this957.F_();}),_this957["#main"].addEventListener("scroll",function(){return _this957.N_();}),_this957["#items"].addEventListener("pointerdown",function(t){return _this957.sp(t);}),_this957["#items"].addEventListener("click",function(t){return _this957.np(t);}),_this957["#items"].addEventListener("contextmenu",function(t){return _this957.op(t);}),_this957["#items"].addEventListener("keydown",function(t){return _this957.lp(t);}),_this957["#meta-add-to-defs-button"].addEventListener("click",function(){return _this957.V_();}),_this957["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this957.j_();}),_this957["#search-input"].addEventListener("input",function(){return _this957.G_();});return _this957;}_createClass(Qg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1549=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1549;try{for(_iterator1549.s();!(_step1549=_iterator1549.n()).done;){var _t2322=_step1549.value;_t2322.setAttribute("rel","noopener");}}catch(err){_iterator1549.e(err);}finally{_iterator1549.f();}}this["#main"].scrollTop=this._v;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"gC",value:function gC(t){var _this958=this;return new Promise(/*#__PURE__*/function(){var _ref197=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee210(e){var i,s;return regeneratorRuntime.wrap(function _callee210$(_context212){while(1){switch(_context212.prev=_context212.next){case 0:_context212.next=2;return _this958.Ao.pixabayCache.get(t);case 2:i=_context212.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context212.stop();}}},_callee210);}));return function(_x239){return _ref197.apply(this,arguments);};}());}},{key:"fC",value:function fC(t,e){this.Ao.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"wC",value:function wC(){var _this959=this;return new Promise(/*#__PURE__*/function(){var _ref198=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee211(t){var e;return regeneratorRuntime.wrap(function _callee211$(_context213){while(1){switch(_context213.prev=_context213.next){case 0:_context213.next=2;return _this959.Ao.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context213.sent;e>0&&console.log("Deleted ".concat(e," cached responses.")),t();case 4:case"end":return _context213.stop();}}},_callee211);}));return function(_x240){return _ref198.apply(this,arguments);};}());}},{key:"tn",value:function(){var _tn4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee212(){var _this960=this;return regeneratorRuntime.wrap(function _callee212$(_context214){while(1){switch(_context214.prev=_context214.next){case 0:window.addEventListener("resize",this.sn=function(){_this960.H_();});this.Qs.addEventListener("configchange",this.nn=function(t){_this960.ln(t);});this.Qs.addEventListener("userchange",this.zC=function(){_this960.OC();});this.Js.primaryPanelsDock.addEventListener("resize",this.W_=function(){_this960.H_();});_context214.t0=!1===this.L_;if(!_context214.t0){_context214.next=12;break;}this.L_=!0;this.wC();_context214.next=10;return this.Y_();case 10:this.q_();this.Om();case 12:!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ns(10).then(function(){return _this960["#main"].scrollTop=_this960._v;}));case 13:case"end":return _context214.stop();}}},_callee212,this);}));function tn(){return _tn4.apply(this,arguments);}return tn;}()},{key:"en",value:function en(){window.removeEventListener("resize",this.sn),this.Qs.removeEventListener("configchange",this.nn),this.Qs.removeEventListener("userchange",this.zC),this.Js.primaryPanelsDock.removeEventListener("resize",this.W_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"ln",value:function ln(t){var _t$detail21=t.detail,e=_t$detail21.key,i=_t$detail21.value,s=this["#provider-select"].value;"cloud"===s?e.startsWith("bx-cloudvectorslibrarysearchsettings")&&this.Om():"pixabay"===s?e.startsWith("bx-pixabayvectorslibrarysearchsettings")&&this.Om():"wikimedia"===s?e.startsWith("bx-wikimediavectorslibrarysearchsettings")&&this.Om():"fluent-icons"===s?e.startsWith("bx-fluenticonsvectorslibrarysearchsettings")&&this.Om():"material-icons"===s?e.startsWith("bx-materialiconsvectorslibrarysearchsettings")&&this.Om():"google-emojis"===s?e.startsWith("bx-googleemojisvectorslibrarysearchsettings")&&this.Om():"twitter-emojis"===s&&e.startsWith("bx-twitteremojisvectorslibrarysearchsettings")&&this.Om();}},{key:"OC",value:function(){var _OC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee213(){return regeneratorRuntime.wrap(function _callee213$(_context215){while(1){switch(_context215.prev=_context215.next){case 0:_context215.next=2;return this.Y_();case 2:this.q_();this.Om();case 4:case"end":return _context215.stop();}}},_callee213,this);}));function OC(){return _OC.apply(this,arguments);}return OC;}()},{key:"H_",value:function H_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.X_();}},{key:"F_",value:function F_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-vectorslibrarybrowser:provider",this["#provider-select"].value),this.EC=null,this.Om(),this.q_();}},{key:"N_",value:function N_(){this._v=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.R_&&!0===this.B_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.X_();}},{key:"sp",value:function sp(t){var _this961=this;if(t.target.matches(".item")){var _e1686=t.target;if("touch"!==t.pointerType&&this.Z_(_e1686),0===t.button){var _i1443,_s832,_n659,_o521=new DOMPoint(t.clientX,t.clientY);_e1686.setPointerCapture(t.pointerId),_e1686.addEventListener("pointermove",_i1443=function _i1442(l){var a=new DOMPoint(l.clientX,l.clientY);Te(_o521,a)>=5&&(_e1686.removeEventListener("pointermove",_i1443),_e1686.removeEventListener("pointerup",_s832),_e1686.removeEventListener("pointercancel",_n659),_this961.sv(_e1686,t));}),_e1686.addEventListener("pointerup",_s832=function _s831(){_e1686.removeEventListener("pointermove",_i1443),_e1686.removeEventListener("pointerup",_s832),_e1686.removeEventListener("pointercancel",_n659);}),_e1686.addEventListener("pointercancel",_n659=function _n658(){_e1686.removeEventListener("pointermove",_i1443),_e1686.removeEventListener("pointerup",_s832),_e1686.removeEventListener("pointercancel",_n659);});}}}},{key:"sv",value:function sv(t,e){var _this962=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),a=l.getBoundingClientRect(),h=t[Zg],r=this.vC(l.src,a),d=this.yC(h);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+qg(i)/150,n>3&&(n=3)),r.style.top=a.y+s+"px",r.style.left=a.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s833){function s(){return _s833.apply(this,arguments);}s.toString=function(){return _s833.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref199=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee214(e){var _t2323,_e1687,_i1444,_s834,_t2324;return regeneratorRuntime.wrap(function _callee214$(_context216){while(1){switch(_context216.prev=_context216.next){case 0:if(!(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY))){_context216.next=17;break;}_t2323=r.getBoundingClientRect();_context216.next=4;return d;case 4:_e1687=_context216.sent;if(!(null===_e1687)){_context216.next=12;break;}r.remove();_context216.next=9;return ns(100);case 9:_this962.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context216.next=15;break;case 12:o.undoManager.checkpoint("Add vectors from library");_i1444=Eh(_e1687),_s834=o.insertArtworkIntoBBox(_i1444,_t2323);o.selectedElements=[_s834],o.selectedTextRange=null,r.remove();case 15:_context216.next=26;break;case 17:if(!_this962.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context216.next=25;break;}r.remove();_context216.next=21;return d;case 21:_t2324=_context216.sent;_this962.Qs.openEditorTabWithArtworkFromLibrary(_t2324);_context216.next=26;break;case 25:r.remove();case 26:case"end":return _context216.stop();}}},_callee214);}));return function n(_x241){return _ref199.apply(this,arguments);};}());}},{key:"np",value:function np(t){var e=t.target.closest(".item");e&&(this.Z_(e),2===t.detail&&this.cv(e));}},{key:"op",value:function(){var _op12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee215(t){var e;return regeneratorRuntime.wrap(function _callee215$(_context217){while(1){switch(_context217.prev=_context217.next){case 0:e=t.target.closest(".item");_context217.t0=e;if(!_context217.t0){_context217.next=8;break;}t.preventDefault();this.Z_(e);_context217.next=7;return ns(150);case 7:this.cv(e);case 8:case"end":return _context217.stop();}}},_callee215,this);}));function op(_x242){return _op12.apply(this,arguments);}return op;}()},{key:"lp",value:function lp(t){var e=ao.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s835=i.getBoundingClientRect();if(e.matches("Enter"))this.cv(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s835.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s835.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.Z_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1688=i.nextElementSibling;_e1688;_e1688=_e1688.nextElementSibling){if(_s835.left===_e1688.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.Z_(_e1688);break;}}}else if(e.matches("ArrowUp"))for(var _e1689=i.previousElementSibling;_e1689;_e1689=_e1689.previousElementSibling){if(_s835.left===_e1689.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.Z_(_e1689);break;}}}}},{key:"V_",value:function(){var _V_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee216(){var t,e,i,_e1690,_s836,_i1445,_arr75,_t2325;return regeneratorRuntime.wrap(function _callee216$(_context218){while(1){switch(_context218.prev=_context218.next){case 0:t=this.Js.board;e=this["#items"].querySelector(".item[data-selected]")[Zg];_context218.next=4;return this.yC(e);case 4:i=_context218.sent;if(null===i)this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});else{t.undoManager.checkpoint("Add vectors from library");_e1690=Eh(i),_s836=Ii("svg:symbol");_s836.setAttribute("viewBox",_e1690.getAttribute("viewBox"));for(_i1445=0,_arr75=_toConsumableArray(_e1690.children);_i1445<_arr75.length;_i1445++){_t2325=_arr75[_i1445];_s836.append(_t2325);}_s836.setAttribute("id",t.generateUniqueID("symbol",_s836)),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s836),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("symbols-browser"),this.Js.defsPanel.symbolsBrowser.selectSymbols([_s836.id]);}case 6:case"end":return _context218.stop();}}},_callee216,this);}));function V_(){return _V_.apply(this,arguments);}return V_;}()},{key:"j_",value:function(){var _j_4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee217(){var t,e,i,s,n,o,l,_yield$Promise$all3,_yield$Promise$all4,a,_t2326,_e1691,_i1446;return regeneratorRuntime.wrap(function _callee217$(_context219){while(1){switch(_context219.prev=_context219.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[Zg],i=this.Js.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#meta-popover"].close();o=this.vC(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context219.next=7;return Promise.all([this.yC(e),l.finished]);case 7:_yield$Promise$all3=_context219.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,1);a=_yield$Promise$all4[0];if(null===a)this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();else{this.Js.board.undoManager.checkpoint("Add vectors from library");_t2326=o.getBoundingClientRect(),_e1691=Eh(a),_i1446=this.Js.board.insertArtworkIntoBBox(_e1691,_t2326);this.Js.board.selectedElements=[_i1446],this.Js.board.selectedTextRange=null,o.remove();}case 11:case"end":return _context219.stop();}}},_callee217,this);}));function j_(){return _j_4.apply(this,arguments);}return j_;}()},{key:"G_",value:function G_(){this.Om();}},{key:"Z_",value:function Z_(t){{var _e1692=this["#items"].querySelector(":scope > .item[data-selected]");_e1692!==t&&(_e1692&&_e1692.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"cv",value:function cv(t){this.tC();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"xv",value:function xv(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight,n=t.provider;if(i>110){var _t2327=i/s;i=110,s=i/_t2327;}if(s>90){var _t2328=i/s;s=90,i=s*_t2328;}var l=Qi(_templateObject81(),i,s,o);return l[Zg]=t,"cloud"===n||"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee218(){var t,_e1693,_i1447;return regeneratorRuntime.wrap(function _callee218$(_context220){while(1){switch(_context220.prev=_context220.next){case 0:_context220.prev=0;_context220.next=3;return fetch(e,{mode:"cors"});case 3:t=_context220.sent;_context220.next=14;break;case 6:_context220.prev=6;_context220.t0=_context220["catch"](0);console.log("Retrying",_context220.t0);_context220.next=11;return ns(2e3);case 11:_context220.next=13;return fetch(e,{mode:"cors"});case 13:t=_context220.sent;case 14:if(!t){_context220.next=22;break;}_context220.next=17;return t.blob();case 17:_e1693=_context220.sent;_context220.next=20;return Vh(_e1693);case 20:_i1447=_context220.sent;l.querySelector("img").setAttribute("src",_i1447);case 22:case"end":return _context220.stop();}}},_callee218,null,[[0,6]]);}))():l.querySelector("img").setAttribute("src",e),l;}},{key:"vC",value:function vC(t,e){var i=Qi(_templateObject82());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"yC",value:function yC(t){return new Promise(/*#__PURE__*/function(){var _ref201=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee219(e,i){var s,_e1694,_e1695,_t2329;return regeneratorRuntime.wrap(function _callee219$(_context221){while(1){switch(_context221.prev=_context221.next){case 0:s=null;_context221.prev=1;if(!t.sources.svg){_context221.next=13;break;}_context221.next=5;return fetch(t.sources.svg,{mode:"cors"});case 5:_e1694=_context221.sent;_context221.t0=_e1694.ok;if(!_context221.t0){_context221.next=11;break;}_context221.next=10;return _e1694.text();case 10:s=_context221.sent;case 11:_context221.next=24;break;case 13:if(!t.sources.ai){_context221.next=24;break;}_context221.next=16;return fetch(t.sources.ai,{mode:"cors"});case 16:_e1695=_context221.sent;if(!_e1695.ok){_context221.next=24;break;}_context221.next=20;return _e1695.arrayBuffer();case 20:_t2329=_context221.sent;_context221.next=23;return Gm(_t2329);case 23:s=_context221.sent;case 24:_context221.next=29;break;case 26:_context221.prev=26;_context221.t1=_context221["catch"](1);console.log(_context221.t1);case 29:e(s);case 30:case"end":return _context221.stop();}}},_callee219,null,[[1,26]]);}));return function(_x243,_x244){return _ref201.apply(this,arguments);};}());}},{key:"TC",value:function TC(t,e){var _this963=this;return new Promise(/*#__PURE__*/function(){var _ref202=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee220(i,s){var n,o,_t2330,_t2331,_iterator1550,_step1550,_i1448,_iterator1551,_step1551,_t2332;return regeneratorRuntime.wrap(function _callee220$(_context222){while(1){switch(_context222.prev=_context222.next){case 0:n=[],o=[];if(_this963.EC){_context222.next=6;break;}_context222.next=4;return app.callCloudFunction("getSharedArtworks",_this963.Qs.user.uid);case 4:_t2330=_context222.sent.data;_this963.EC=_t2330;case 6:if(e){_t2331=!1;_iterator1550=_createForOfIteratorHelper(_this963.EC);try{for(_iterator1550.s();!(_step1550=_iterator1550.n()).done;){_i1448=_step1550.value;_t2331?n.push(_i1448):_i1448.artworkUID===e.artworkUID&&(_t2331=!0);}}catch(err){_iterator1550.e(err);}finally{_iterator1550.f();}}else n=_toConsumableArray(_this963.EC);""!==t&&(n=n.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase());}));_iterator1551=_createForOfIteratorHelper(n);try{for(_iterator1551.s();!(_step1551=_iterator1551.n()).done;){_t2332=_step1551.value;o.push({pageURL:"https://boxy-svg.com/app/".concat(_t2332.artworkUID),previewURL:Hg("/artworks/".concat(_t2332.artworkUID,".png")),previewWidth:90,previewHeight:90,provider:"cloud",artworkUID:_t2332.artworkUID,license:null,user:{label:"Author",displayName:_t2332.authorName,profileURL:"https://boxy-svg.com/profiles/".concat(_t2332.authorUID,"/").concat(ui(_t2332.authorName))},sources:{svg:Hg("/artworks/".concat(_t2332.artworkUID,".svg")),ai:null},meta:{name:_t2332.name}});}}catch(err){_iterator1551.e(err);}finally{_iterator1551.f();}i(o);case 11:case"end":return _context222.stop();}}},_callee220);}));return function(_x245,_x246){return _ref202.apply(this,arguments);};}());}},{key:"SC",value:function SC(t,e,i,s,n,o,l){var _this964=this;return new Promise(/*#__PURE__*/function(){var _ref203=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee221(a,h){var r,d,c,p,u,x,_t2333,_iterator1552,_step1552,_e1696;return regeneratorRuntime.wrap(function _callee221$(_context223){while(1){switch(_context223.prev=_context223.next){case 0:r=l?l.page+1:1,d={q:encodeURIComponent(t),response_group:"high_resolution",per_page:Kg,page:r,editors_choice:""===t||s,order:n,orientation:e,image_type:"vector",safesearch:o,key:"7905818-d06eb7dad844f6efdf1932a90"};"all"!==i&&(d.category=i);c="https://pixabay.com/api/?"+Xg(d).map(function(_ref204){var _ref205=_slicedToArray(_ref204,2),t=_ref205[0],e=_ref205[1];return"".concat(t,"=").concat(e);}).join("&");_context223.next=5;return _this964.gC(c);case 5:p=_context223.sent;u=null;x=null;if(!p){_context223.next=12;break;}u=p;_context223.next=25;break;case 12:_context223.prev=12;_context223.next=15;return fetch(c,{mode:"cors"});case 15:u=_context223.sent;_context223.next=18;return u.json();case 18:u=_context223.sent;_context223.next=24;break;case 21:_context223.prev=21;_context223.t0=_context223["catch"](12);u=null,x=_context223.t0;case 24:x||_this964.fC(c,u);case 25:if(x)h(x);else{_t2333=[];_iterator1552=_createForOfIteratorHelper(u.hits);try{for(_iterator1552.s();!(_step1552=_iterator1552.n()).done;){_e1696=_step1552.value;_t2333.push({page:r,pageURL:_e1696.pageURL,previewURL:_e1696.previewURL,previewWidth:_e1696.previewWidth,previewHeight:_e1696.previewHeight,provider:"pixabay",license:{displayName:"Pixabay License",url:"https://pixabay.com/service/terms/#license"},user:{label:"Uploader",displayName:_e1696.user,profileURL:"https://pixabay.com/users/".concat(_e1696.user,"-").concat(_e1696.user_id)},sources:{svg:"vector/svg"===_e1696.type?_e1696.vectorURL:null,ai:"vector/ai"===_e1696.type?_e1696.vectorURL:null}});}}catch(err){_iterator1552.e(err);}finally{_iterator1552.f();}a(_t2333);}case 26:case"end":return _context223.stop();}}},_callee221,null,[[12,21]]);}));return function(_x247,_x248){return _ref203.apply(this,arguments);};}());}},{key:"CC",value:function CC(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref206=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee222(s,n){var o,l,a,h,r,d,_t2334,_i1449,_Object$values2,_e1697,_i1450;return regeneratorRuntime.wrap(function _callee222$(_context224){while(1){switch(_context224.prev=_context224.next){case 0:o=i?i.page+1:0,l="";l=""===t?'deepcat:"Quality images - vector" filetype:drawing':!0===e?"".concat(t," deepcat:\"Quality images - vector\" filetype:drawing"):"".concat(t," filetype:drawing");a={generator:"search",gsrnamespace:"6",gsrsearch:encodeURIComponent(l),gsroffset:o*Kg,gsrlimit:Kg,action:"query",prop:"imageinfo",iiurlwidth:110,iiprop:"url|size|user|userid|mime|extmetadata",iiextmetadatafilter:"LicenceShortName|UsageTerms|LicenseUrl|AttributionRequired",extmetadata:1,gimlimit:Kg,format:"json",origin:"*"},h="https://commons.wikimedia.org/w/api.php?"+Xg(a).map(function(_ref207){var _ref208=_slicedToArray(_ref207,2),t=_ref208[0],e=_ref208[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context224.prev=3;_context224.next=6;return fetch(h);case 6:r=_context224.sent;_context224.next=9;return r.json();case 9:r=_context224.sent;_context224.next=15;break;case 12:_context224.prev=12;_context224.t0=_context224["catch"](3);r=null,d=_context224.t0;case 15:if(d)n(d);else if(r.error)n({message:r.error.info,code:r.error.code});else{_t2334=[];if(r.query)for(_i1449=0,_Object$values2=Object.values(r.query.pages);_i1449<_Object$values2.length;_i1449++){_e1697=_Object$values2[_i1449];if(_e1697.imageinfo){_i1450=_e1697.imageinfo[0];"image/svg+xml"===_i1450.mime&&_t2334.push({page:o,pageURL:_i1450.descriptionurl,previewURL:_i1450.thumburl,previewWidth:_i1450.thumbwidth,previewHeight:_i1450.thumbheight,provider:"wikimedia",license:{displayName:_i1450.extmetadata.UsageTerms?_i1450.extmetadata.UsageTerms.value:"Wikimedia License",url:_i1450.extmetadata.LicenseUrl?_i1450.extmetadata.LicenseUrl.value:_i1450.descriptionurl+"#Licensing"},user:{label:"Uploader",displayName:_i1450.user,profileURL:"https://commons.wikimedia.org/wiki/User:"+_i1450.user},sources:{svg:_i1450.url,ai:null}});}}s(_t2334);}case 16:case"end":return _context224.stop();}}},_callee222,null,[[3,12]]);}));return function(_x249,_x250){return _ref206.apply(this,arguments);};}());}},{key:"AC",value:function AC(t,e,i){var _this965=this;return new Promise(/*#__PURE__*/function(){var _ref209=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee223(s,n){var o,l,a,_iterator1553,_step1553,_t2335,_e1698;return regeneratorRuntime.wrap(function _callee223$(_context225){while(1){switch(_context225.prev=_context225.next){case 0:_this965.U_.fluentIcons||(_this965.U_.fluentIcons=algolia.initIndex("fluentIcons"));o=i?i.page+1:0;_context225.next=4;return _this965.U_.fluentIcons.search(t,{filters:"all"===e?"":"(variant:\"".concat(e,"\")"),page:o,hitsPerPage:Kg});case 4:l=_context225.sent;a=[];_iterator1553=_createForOfIteratorHelper(l.hits);_context225.prev=7;_iterator1553.s();case 9:if((_step1553=_iterator1553.n()).done){_context225.next=17;break;}_t2335=_step1553.value;_context225.next=13;return Vh(new Blob([_t2335.source],{type:"image/svg+xml"}));case 13:_e1698=_context225.sent;a.push({page:o,pageURL:"https://github.com/microsoft/fluentui-system-icons/tree/master/assets/".concat(encodeURIComponent(_t2335.name),"/SVG"),previewURL:_e1698,previewWidth:90,previewHeight:90,provider:"fluent-icons",license:{displayName:"MIT License",url:"https://github.com/microsoft/fluentui-system-icons/blob/master/LICENSE"},user:{label:"Author",displayName:"Microsoft",profileURL:"https://opensource.microsoft.com/"},sources:{svg:_e1698,ai:null},meta:{name:_t2335.name,category:_t2335.category,variant:_t2335.variant}});case 15:_context225.next=9;break;case 17:_context225.next=22;break;case 19:_context225.prev=19;_context225.t0=_context225["catch"](7);_iterator1553.e(_context225.t0);case 22:_context225.prev=22;_iterator1553.f();return _context225.finish(22);case 25:s(a);case 26:case"end":return _context225.stop();}}},_callee223,null,[[7,19,22,25]]);}));return function(_x251,_x252){return _ref209.apply(this,arguments);};}());}},{key:"$C",value:function $C(t,e,i,s){var _this966=this;return new Promise(/*#__PURE__*/function(){var _ref210=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee224(n,o){var l,a,h,r,_iterator1554,_step1554,_t2336,_e1699;return regeneratorRuntime.wrap(function _callee224$(_context226){while(1){switch(_context226.prev=_context226.next){case 0:_this966.U_.materialIcons||(_this966.U_.materialIcons=algolia.initIndex("materialIcons"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(variant:\"".concat(e,"\")")),"all"!==i&&a.push("(category:\"".concat(i,"\")"));_context226.next=5;return _this966.U_.materialIcons.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Kg});case 5:h=_context226.sent;r=[];_iterator1554=_createForOfIteratorHelper(h.hits);_context226.prev=8;_iterator1554.s();case 10:if((_step1554=_iterator1554.n()).done){_context226.next=18;break;}_t2336=_step1554.value;_context226.next=14;return Vh(new Blob([_t2336.source],{type:"image/svg+xml"}));case 14:_e1699=_context226.sent;r.push({page:l,pageURL:"https://fonts.google.com/icons?selected=".concat(_t2336.objectID),previewURL:_e1699,previewWidth:90,previewHeight:90,provider:"material-icons",license:{displayName:"Apache License 2.0",url:"https://www.apache.org/licenses/LICENSE-2.0.html"},user:{label:"Author",displayName:"Google",profileURL:"https://opensource.google/"},sources:{svg:_e1699,ai:null},meta:{name:_t2336.name,category:_t2336.category,variant:_t2336.variant}});case 16:_context226.next=10;break;case 18:_context226.next=23;break;case 20:_context226.prev=20;_context226.t0=_context226["catch"](8);_iterator1554.e(_context226.t0);case 23:_context226.prev=23;_iterator1554.f();return _context226.finish(23);case 26:n(r);case 27:case"end":return _context226.stop();}}},_callee224,null,[[8,20,23,26]]);}));return function(_x253,_x254){return _ref210.apply(this,arguments);};}());}},{key:"IC",value:function IC(t,e,i,s){var _this967=this;return new Promise(/*#__PURE__*/function(){var _ref211=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee225(n,o){var l,a,h,r,_iterator1555,_step1555,_t2337,_e1700,_i1451,_s837,_n660;return regeneratorRuntime.wrap(function _callee225$(_context227){while(1){switch(_context227.prev=_context227.next){case 0:_this967.U_.googleEmojis||(_this967.U_.googleEmojis=algolia.initIndex("googleEmojis"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(category:\"".concat(e,"\")")),"all"!==i&&a.push("(skinTone:\"".concat(i,"\" OR skinTone:\"none\")"));_context227.next=5;return _this967.U_.googleEmojis.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Kg});case 5:h=_context227.sent;r=[];_iterator1555=_createForOfIteratorHelper(h.hits);_context227.prev=8;_iterator1555.s();case 10:if((_step1555=_iterator1555.n()).done){_context227.next=21;break;}_t2337=_step1555.value;_e1700=atob(_t2337.source).split("").map(function(t){return t.charCodeAt(0);});_i1451=new Uint8Array(_e1700);_s837=pako.inflate(_i1451);_context227.next=17;return Vh(new Blob([_s837],{type:"image/svg+xml"}));case 17:_n660=_context227.sent;r.push({page:l,pageURL:"https://github.com/googlefonts/noto-emoji/blob/main/svg/emoji_u".concat(_t2337.objectID,".svg"),previewURL:_n660,previewWidth:90,previewHeight:90,provider:"google-emojis",license:{displayName:"Apache License 2.0",url:"https://www.apache.org/licenses/LICENSE-2.0.html"},user:{label:"Author",displayName:"Google",profileURL:"https://opensource.google/"},sources:{svg:_n660,ai:null},meta:{name:_t2337.name,category:_t2337.category,skinTone:_t2337.skinTone}});case 19:_context227.next=10;break;case 21:_context227.next=26;break;case 23:_context227.prev=23;_context227.t0=_context227["catch"](8);_iterator1555.e(_context227.t0);case 26:_context227.prev=26;_iterator1555.f();return _context227.finish(26);case 29:n(r);case 30:case"end":return _context227.stop();}}},_callee225,null,[[8,23,26,29]]);}));return function(_x255,_x256){return _ref211.apply(this,arguments);};}());}},{key:"LC",value:function LC(t,e,i,s){var _this968=this;return new Promise(/*#__PURE__*/function(){var _ref212=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee226(n,o){var l,a,h,r,_iterator1556,_step1556,_t2338,_e1701,_i1452,_s838,_n661;return regeneratorRuntime.wrap(function _callee226$(_context228){while(1){switch(_context228.prev=_context228.next){case 0:_this968.U_.twitterEmojis||(_this968.U_.twitterEmojis=algolia.initIndex("twitterEmojis"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(category:\"".concat(e,"\")")),"all"!==i&&a.push("(skinTone:\"".concat(i,"\" OR skinTone:\"none\")"));_context228.next=5;return _this968.U_.twitterEmojis.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Kg});case 5:h=_context228.sent;r=[];_iterator1556=_createForOfIteratorHelper(h.hits);_context228.prev=8;_iterator1556.s();case 10:if((_step1556=_iterator1556.n()).done){_context228.next=21;break;}_t2338=_step1556.value;_e1701=atob(_t2338.source).split("").map(function(t){return t.charCodeAt(0);});_i1452=new Uint8Array(_e1701);_s838=pako.inflate(_i1452);_context228.next=17;return Vh(new Blob([_s838],{type:"image/svg+xml"}));case 17:_n661=_context228.sent;r.push({page:l,pageURL:"https://github.com/twitter/twemoji/blob/master/assets/svg/".concat(_t2338.objectID,".svg"),previewURL:_n661,previewWidth:90,previewHeight:90,provider:"twitter-emojis",license:{displayName:"CC-BY 4.0",url:"https://creativecommons.org/licenses/by/4.0/"},user:{label:"Author",displayName:"Twitter",profileURL:"https://twemoji.twitter.com/"},sources:{svg:_n661,ai:null},meta:{name:_t2338.name,category:_t2338.category,skinTone:_t2338.skinTone}});case 19:_context228.next=10;break;case 21:_context228.next=26;break;case 23:_context228.prev=23;_context228.t0=_context228["catch"](8);_iterator1556.e(_context228.t0);case 26:_context228.prev=26;_iterator1556.f();return _context228.finish(26);case 29:n(r);case 30:case"end":return _context228.stop();}}},_callee226,null,[[8,23,26,29]]);}));return function(_x257,_x258){return _ref212.apply(this,arguments);};}());}},{key:"Om",value:function(){var _Om4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee227(){var _t2339;return regeneratorRuntime.wrap(function _callee227$(_context229){while(1){switch(_context229.prev=_context229.next){case 0:this.R_=!1,this.B_=!0,this._v=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2339=0;case 2:if(!(_t2339<50&&!1===this.R_&&!0===this.B_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context229.next=15;break;}_context229.prev=3;_context229.next=6;return this.X_();case 6:_context229.next=12;break;case 8:_context229.prev=8;_context229.t0=_context229["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context229.t0.message);return _context229.abrupt("break",15);case 12:_t2339+=1;_context229.next=2;break;case 15:case"end":return _context229.stop();}}},_callee227,this,[[3,8]]);}));function Om(){return _Om4.apply(this,arguments);}return Om;}()},{key:"X_",value:function X_(){var _this969=this;return new Promise(/*#__PURE__*/function(){var _ref213=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee228(t,e){var i,s,n,o,_t2340,_e1702,_s839,_l387,_a286,_t2341,_t2342,_t2343,_e1703,_t2344,_e1704,_t2345,_e1705,_t2346,_iterator1557,_step1557,_e1706,_i1453;return regeneratorRuntime.wrap(function _callee228$(_context230){while(1){switch(_context230.prev=_context230.next){case 0:_this969.R_=!0;i=null,s=null,n=_this969["#search-input"].value.trim(),o=_this969["#items"].lastElementChild?_this969["#items"].lastElementChild[Zg]:null;_context230.prev=2;if(!("cloud"===_this969["#provider-select"].value)){_context230.next=9;break;}_context230.next=6;return _this969.TC(n,o);case 6:i=_context230.sent;_context230.next=49;break;case 9:if(!("pixabay"===_this969["#provider-select"].value)){_context230.next=16;break;}_t2340=_this969.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:orientation","all"),_e1702=_this969.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:category","all"),_s839=_this969.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",!1),_l387=_this969.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:sort","popular"),_a286="bx-macapp"===_this969.Qs.localName;_context230.next=13;return _this969.SC(n,_t2340,_e1702,_s839,_l387,_a286,o);case 13:i=_context230.sent;_context230.next=49;break;case 16:if(!("wikimedia"===_this969["#provider-select"].value)){_context230.next=23;break;}_t2341=_this969.Qs.getConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",!1);_context230.next=20;return _this969.CC(n,_t2341,o);case 20:i=_context230.sent;_context230.next=49;break;case 23:if(!("fluent-icons"===_this969["#provider-select"].value)){_context230.next=30;break;}_t2342=_this969.Qs.getConfig("bx-fluenticonsvectorslibrarysearchsettings:variant","regular");_context230.next=27;return _this969.AC(n,_t2342,o);case 27:i=_context230.sent;_context230.next=49;break;case 30:if(!("material-icons"===_this969["#provider-select"].value)){_context230.next=37;break;}_t2343=_this969.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:variant","filled"),_e1703=_this969.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:category","all");_context230.next=34;return _this969.$C(n,_t2343,_e1703,o);case 34:i=_context230.sent;_context230.next=49;break;case 37:if(!("google-emojis"===_this969["#provider-select"].value)){_context230.next=44;break;}_t2344=_this969.Qs.getConfig("bx-googleemojisvectorslibrarysearchsettings:category","all"),_e1704=_this969.Qs.getConfig("bx-googleemojisvectorslibrarysearchsettings:skinTone","all");_context230.next=41;return _this969.IC(n,_t2344,_e1704,o);case 41:i=_context230.sent;_context230.next=49;break;case 44:if(!("twitter-emojis"===_this969["#provider-select"].value)){_context230.next=49;break;}_t2345=_this969.Qs.getConfig("bx-twitteremojisvectorslibrarysearchsettings:category","all"),_e1705=_this969.Qs.getConfig("bx-twitteremojisvectorslibrarysearchsettings:skinTone","all");_context230.next=48;return _this969.LC(n,_t2345,_e1705,o);case 48:i=_context230.sent;case 49:_context230.next=54;break;case 51:_context230.prev=51;_context230.t0=_context230["catch"](2);s=_context230.t0;case 54:if(s)_this969["#throbber"].hidden=!0,_this969.R_=!1,e(s);else{if(i.length>0){_t2346=document.createDocumentFragment();_iterator1557=_createForOfIteratorHelper(i);try{for(_iterator1557.s();!(_step1557=_iterator1557.n()).done;){_e1706=_step1557.value;_i1453=_this969.xv(_e1706);_t2346.append(_i1453);}}catch(err){_iterator1557.e(err);}finally{_iterator1557.f();}_this969["#items"].append(_t2346),_this969["#throbber"].hidden=!0;}else _this969.B_=!1,_this969["#throbber"].hidden=!0,0===_this969["#items"].childElementCount&&(_this969["#placeholder"].hidden=!1,_this969["#placeholder"].textContent="No vectors found");_this969.R_=!1,t();}case 55:case"end":return _context230.stop();}}},_callee228,null,[[2,51]]);}));return function(_x259,_x260){return _ref213.apply(this,arguments);};}());}},{key:"Y_",value:function Y_(){var _this970=this;return new Promise(/*#__PURE__*/function(){var _ref214=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee229(t){var e,n,_Yg,_Yg2,_t2347;return regeneratorRuntime.wrap(function _callee229$(_context231){while(1){switch(_context231.prev=_context231.next){case 0:_context231.next=2;return _this970.Qs.whenAuthReady;case 2:e=_this970.Qs.getConfig("bx-vectorslibrarybrowser:provider","pixabay"),n=!1;if("bx-webapp"===_this970.Qs.localName&&_this970.Qs.userProfile){_Yg=Yg(_this970.Qs.userSubscription,_this970.Qs.user),_Yg2=_slicedToArray(_Yg,1),_t2347=_Yg2[0];n=_t2347===i||_t2347===s;}"cloud"===e&&!1===n&&(e="pixabay"),_this970["#provider-select"].value=e,_this970["#cloud-provider-select-item"].hidden=!1===n,_this970["#cloud-provider-select-separator"].hidden=!1===n,t();case 5:case"end":return _context231.stop();}}},_callee229);}));return function(_x261){return _ref214.apply(this,arguments);};}());}},{key:"tC",value:function tC(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1707=t[Zg];if(_e1707.user){var _e1707$user=_e1707.user,_t2348=_e1707$user.label,_i1454=_e1707$user.profileURL,_s840=_e1707$user.displayName;this["#meta-user-label"].textContent=_t2348,this["#meta-user-value"].innerHTML="<a href=\"".concat(_i1454,"\" target=\"_blank\">").concat(_s840,"</a>");}_e1707.license?(this["#meta-license"].hidden=!1,this["#meta-license-anchor"].textContent=_e1707.license.displayName,this["#meta-license-anchor"].href=_e1707.license.url):this["#meta-license"].hidden=!0,this["#meta-provider-anchor"].href=_e1707.pageURL,"cloud"===_e1707.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1707.meta.name,this["#meta-provider-label"].textContent="Open with Boxy SVG",this["#meta-add-to-defs-button"].hidden=!0):"pixabay"===_e1707.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="View on Pixabay",this["#meta-add-to-defs-button"].hidden=!0):"wikimedia"===_e1707.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="View on Wikimedia",this["#meta-add-to-defs-button"].hidden=!0):"fluent-icons"===_e1707.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1707.meta.name,this["#meta-provider-label"].textContent="View on GitHub",this["#meta-add-to-defs-button"].hidden=!1):"material-icons"===_e1707.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1707.meta.name,this["#meta-provider-label"].textContent="View on Google",this["#meta-add-to-defs-button"].hidden=!1):("google-emojis"===_e1707.provider||"twitter-emojis"===_e1707.provider)&&(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1707.meta.name,this["#meta-provider-label"].textContent="View on GitHub",this["#meta-add-to-defs-button"].hidden=!1);}}},{key:"q_",value:function q_(){var t=this["#provider-select"].value;"cloud"===t?(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="<bx-cloudvectorslibrarysearchsettings/>"):"pixabay"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-pixabayvectorslibrarysearchsettings/>"):"wikimedia"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-wikimediavectorslibrarysearchsettings/>"):"fluent-icons"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-fluenticonsvectorslibrarysearchsettings/>"):"material-icons"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-materialiconsvectorslibrarysearchsettings/>"):"google-emojis"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-googleemojisvectorslibrarysearchsettings/>"):"twitter-emojis"===t&&(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-twitteremojisvectorslibrarysearchsettings/>");}}]);return Qg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qg,"observedAttributes",["enabled"]);_defineProperty(Qg,"_shadowTemplate",Qi(_templateObject480()));_defineProperty(Qg,"_shadowStyleSheet",Ji(_templateObject481()));customElements.define("bx-vectorslibrarybrowser",Qg);var Jg=/*#__PURE__*/function(_HTMLElement127){_inherits(Jg,_HTMLElement127);var _super212=_createSuper(Jg);_createClass(Jg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Jg(){var _this971;_classCallCheck(this,Jg);_this971=_super212.call(this),_this971._shadowRoot=_this971.attachShadow({mode:"closed"}),_this971._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Jg._shadowStyleSheet],_this971._shadowRoot.append(document.importNode(Jg._shadowTemplate.content,!0));var _iterator1558=_createForOfIteratorHelper(_this971._shadowRoot.querySelectorAll("[id]")),_step1558;try{for(_iterator1558.s();!(_step1558=_iterator1558.n()).done;){var _t2349=_step1558.value;_this971["#"+_t2349.id]=_t2349;}}catch(err){_iterator1558.e(err);}finally{_iterator1558.f();}_this971["#buttons"].addEventListener("toggle",function(){return _this971.toggleBrowser(_this971["#buttons"].value);});return _this971;}_createClass(Jg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-librarypanel:currentBrowserID","bitmaps-library-browser");!1===_toConsumableArray(this["#main"].children).map(function(t){return t.id;}).includes(t)&&(t="colors-library-browser"),this.toggleBrowser(t);}},{key:"en",value:function en(){this.toggleBrowser(null);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1559=_createForOfIteratorHelper(this["#main"].children),_step1559;try{for(_iterator1559.s();!(_step1559=_iterator1559.n()).done;){var _e1708=_step1559.value;null!==t&&_e1708.id===t?_e1708.enabled=!0:_e1708.enabled=!1;}}catch(err){_iterator1559.e(err);}finally{_iterator1559.f();}null!==t&&this.Qs.setConfig("bx-librarypanel:currentBrowserID",t);}}]);return Jg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jg,"observedAttributes",["enabled"]);_defineProperty(Jg,"_shadowTemplate",Qi(_templateObject482()));_defineProperty(Jg,"_shadowStyleSheet",Ji(_templateObject483()));customElements.define("bx-librarypanel",Jg);var tf=/*#__PURE__*/function(_HTMLElement128){_inherits(tf,_HTMLElement128);var _super213=_createSuper(tf);function tf(){var _this972;_classCallCheck(this,tf);_this972=_super213.call(this);var t=_this972.constructor.RC,e=_this972.constructor.BC;_this972._shadowRoot=_this972.attachShadow({mode:"closed"}),_this972._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,tf._shadowStyleSheet,_this972.constructor._shadowStyleSheet],_this972._shadowRoot.append(document.importNode(tf._shadowTemplate.content,!0)),t&&_this972._shadowRoot.querySelector("#main").append(document.importNode(t.content,!0)),e&&_this972._shadowRoot.querySelector("#footer").append(document.importNode(e.content,!0));var _iterator1560=_createForOfIteratorHelper(_this972._shadowRoot.querySelectorAll("[id]")),_step1560;try{for(_iterator1560.s();!(_step1560=_iterator1560.n()).done;){var _t2350=_step1560.value;_this972["#"+_t2350.id]=_t2350;}}catch(err){_iterator1560.e(err);}finally{_iterator1560.f();}_this972.setAttribute("extends","bx-generator"),_this972.setAttribute("tabindex","0");return _this972;}return tf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tf,"_shadowTemplate",Qi(_templateObject484()));_defineProperty(tf,"_shadowStyleSheet",Ji(_templateObject485()));var ef=function ef(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(function(i,s){var n=document.createElement("script");e&&(n.type="module"),n.src=t,n.onload=function(){i(),n.remove();},n.onerror=function(){s(new Error("Failed to lazy load script with URL "+t)),n.remove();},document.documentElement.appendChild(n);});},sf={CODE128:"Test value",CODE39:"TEST VALUE",EAN2:"00",EAN5:"00000",EAN8:"0000000",EAN13:"000000000000",UPC:"00000000000",MSI:"0000",MSI10:"0000",MSI11:"0000",MSI1010:"0000",MSI1110:"0000",codabar:"0000",pharmacode:"1000",ITF14:"0000000000000"};var nf=/*#__PURE__*/function(_tf){_inherits(nf,_tf);var _super214=_createSuper(nf);function nf(){var _this973;_classCallCheck(this,nf);_this973=_super214.call(this),_this973["#format-select"].addEventListener("change",function(){return _this973.nx();}),_this973["#value-input"].addEventListener("input",function(){return _this973.GC();}),_this973["#label-switch"].addEventListener("toggle",function(){return _this973.UC();}),_this973["#label-position-buttons"].addEventListener("toggle",function(){return _this973.FC();}),_this973["#generate-button"].addEventListener("click",function(){return _this973.NC();});return _this973;}_createClass(nf,[{key:"connectedCallback",value:function(){var _connectedCallback4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee230(){var t,e,i;return regeneratorRuntime.wrap(function _callee230$(_context232){while(1){switch(_context232.prev=_context232.next){case 0:this.Qs=Gi(this,"#app");this.Js=Gi(this,"bx-editor");_context232.t0=window.JsBarcode;if(_context232.t0){_context232.next=6;break;}_context232.next=6;return ef("/node_modules/jsbarcode/dist/JsBarcode.all.min.js");case 6:t=this.Qs.getConfig("bx-barcodegenerator:format","CODE128"),e=this.Qs.getConfig("bx-barcodegenerator:showLabel",!0),i=this.Qs.getConfig("bx-barcodegenerator:labelPosition","center");this["#format-select"].value=t,this["#value-input"].value=sf[t],this["#label-switch"].toggled=e,this["#label-position-buttons"].value=i,this.qs();case 8:case"end":return _context232.stop();}}},_callee230,this);}));function connectedCallback(){return _connectedCallback4.apply(this,arguments);}return connectedCallback;}()},{key:"nx",value:function nx(){var t=this["#format-select"].value;this["#value-input"].value=sf[t],this.Qs.setConfig("bx-barcodegenerator:format",t),this.qs();}},{key:"GC",value:function GC(){this.qs();}},{key:"UC",value:function UC(){this.Qs.setConfig("bx-barcodegenerator:showLabel",this["#label-switch"].toggled),this.qs();}},{key:"FC",value:function FC(){this.Qs.setConfig("bx-barcodegenerator:labelPosition",this["#label-position-buttons"].value),this.qs();}},{key:"NC",value:function NC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate barcode"),this.Js.board.insertArtwork(t);}},{key:"VC",value:function VC(t,e){var i;return JsBarcode({},e,{format:t,valid:function valid(t){return i=t;}}),i;}},{key:"qs",value:function qs(){var t=this["#format-select"].value,e=this["#value-input"].value,i=this.VC(t,e);if(this["#value-input"].error=i?null:"","EAN8"===t||"EAN13"===t||"UPC"===t?!1===this["#label-position-inset-button"].isConnected&&this["#label-position-buttons"].append(this["#label-position-inset-button"]):("inset"===this["#label-position-buttons"].value&&(this["#label-position-buttons"].value="center"),this["#label-position-inset-button"].toggled=!1,this["#label-position-inset-button"].remove()),this["#label-switch"].toggled?(this["#label-position-label"].disabled=!1,this["#label-position-left-button"].disabled=!1,this["#label-position-center-button"].disabled=!1,this["#label-position-right-button"].disabled=!1,this["#label-position-inset-button"].disabled=!1):(this["#label-position-label"].disabled=!0,this["#label-position-left-button"].disabled=!0,this["#label-position-center-button"].disabled=!0,this["#label-position-right-button"].disabled=!0,this["#label-position-inset-button"].disabled=!0),i){var _i1455=this["#label-switch"].toggled?this["#label-position-buttons"].value:"center";if(JsBarcode(this["#preview"],e,{format:t,textAlign:"inset"===_i1455?"center":_i1455,flat:"inset"!==_i1455,displayValue:this["#label-switch"].toggled}),this["#preview"].firstElementChild.remove(),this["#preview"].childElementCount>1){var _t2351=Ii("svg:g");for(var _i1456=0,_arr76=_toConsumableArray(this["#preview"].children);_i1456<_arr76.length;_i1456++){var _e1709=_arr76[_i1456];_t2351.append(_e1709);}this["#preview"].append(_t2351);}}else this["#preview"].innerHTML="";this["#generate-button"].disabled=!1===i;}}]);return nf;}(tf);_defineProperty(nf,"RC",Qi(_templateObject486()));_defineProperty(nf,"BC",Qi(_templateObject487()));_defineProperty(nf,"_shadowStyleSheet",Ji(_templateObject488()));customElements.define("bx-barcodegenerator",nf);var of=["/node_modules/qrcode-generator/qrcode.js","/node_modules/qrcode-generator/qrcode_SJIS.js"],lf={Numeric:"0000",Alphanumeric:"TEST",Byte:"Test",Kanji:"\u30C6\u30B9\u30C8"};var af=/*#__PURE__*/function(_tf2){_inherits(af,_tf2);var _super215=_createSuper(af);function af(){var _this974;_classCallCheck(this,af);_this974=_super215.call(this),_this974["#mode-select"].addEventListener("change",function(){return _this974.jC();}),_this974["#charset-select"].addEventListener("change",function(){return _this974.HC();}),_this974["#error-correction-buttons"].addEventListener("toggle",function(){return _this974.WC();}),_this974["#value-input"].addEventListener("input",function(){return _this974.GC();}),_this974["#generate-button"].addEventListener("click",function(){return _this974.NC();});return _this974;}_createClass(af,[{key:"connectedCallback",value:function(){var _connectedCallback5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee231(){var _iterator1561,_step1561,_t2352,t,e,i,s;return regeneratorRuntime.wrap(function _callee231$(_context233){while(1){switch(_context233.prev=_context233.next){case 0:if(!(this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor"),!window.qrcode)){_context233.next=18;break;}_iterator1561=_createForOfIteratorHelper(of);_context233.prev=2;_iterator1561.s();case 4:if((_step1561=_iterator1561.n()).done){_context233.next=10;break;}_t2352=_step1561.value;_context233.next=8;return ef(_t2352);case 8:_context233.next=4;break;case 10:_context233.next=15;break;case 12:_context233.prev=12;_context233.t0=_context233["catch"](2);_iterator1561.e(_context233.t0);case 15:_context233.prev=15;_iterator1561.f();return _context233.finish(15);case 18:t=this.Qs.getConfig("bx-qrcodegenerator:mode","Byte"),e=this.Qs.getConfig("bx-qrcodegenerator:charset","default"),i=this.Qs.getConfig("bx-qrcodegenerator:errorCorrection","L"),s=lf[t];this["#mode-select"].value=t,this["#charset-select"].value=e,this["#error-correction-buttons"].value=i,this["#value-input"].value=s,this.qs();case 20:case"end":return _context233.stop();}}},_callee231,this,[[2,12,15,18]]);}));function connectedCallback(){return _connectedCallback5.apply(this,arguments);}return connectedCallback;}()},{key:"jC",value:function jC(){var t=this["#mode-select"].value;this["#value-input"].value=lf[t],this.Qs.setConfig("bx-qrcodegenerator:mode",t),this.qs();}},{key:"HC",value:function HC(){var t=this["#charset-select"].value;this.Qs.setConfig("bx-qrcodegenerator:charset",t),this.qs();}},{key:"WC",value:function WC(){var t=this["#error-correction-buttons"].value;this.Qs.setConfig("bx-qrcodegenerator:errorCorrection",t),this.qs();}},{key:"GC",value:function GC(){this.qs();}},{key:"NC",value:function NC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate QR code"),this.Js.board.insertArtwork(t);}},{key:"YC",value:function YC(t,e,i,s){var n=null,o=0,l=null;qrcode.stringToBytes=qrcode.stringToBytesFuncs[e];try{var _e1710=qrcode(0,i);_e1710.addData(s,t),_e1710.make();var _l388=$i(_e1710.createSvgTag());n=_l388.querySelector("path"),o=_l388.viewBox.baseVal.width;}catch(t){l="string"==typeof t?t.replace("illegal char :","Illegal char: "):"Invalid value";}return[n,o,l];}},{key:"qs",value:function qs(){var t=this["#mode-select"].value,e=this["#charset-select"].value,i=this["#error-correction-buttons"].value,s=this["#value-input"].value,_this$YC=this.YC(t,e,i,s),_this$YC2=_slicedToArray(_this$YC,3),n=_this$YC2[0],o=_this$YC2[1],l=_this$YC2[2];this["#charset-subsection"].hidden="Byte"!==t,this["#value-input"].error=l,this["#preview"].innerHTML="",null===l&&(this["#preview"].append(n),this["#preview"].setAttribute("viewBox","0 0 ".concat(o," ").concat(o))),this["#generate-button"].disabled=null!==l;}}]);return af;}(tf);_defineProperty(af,"RC",Qi(_templateObject489()));_defineProperty(af,"BC",Qi(_templateObject490()));_defineProperty(af,"_shadowStyleSheet",Ji(_templateObject491()));customElements.define("bx-qrcodegenerator",af);var hf=Math.sin,rf=Math.cos,df=Math.abs,cf=Math.log,pf=Math.floor,uf=Math.PI,xf=[{color:"#d7392e",seats:54},{color:"#7aaa42",seats:32},{color:"#2470b0",seats:50},{color:"#2f2f2f",seats:36}],bf=["#a62a26","#d7392e","#ec6c42","#f4ad60","#7aaa42","#217eda","#2470b0","#542988","#2f2f2f"];var mf=/*#__PURE__*/function(_tf3){_inherits(mf,_tf3);var _super216=_createSuper(mf);function mf(){var _this975;_classCallCheck(this,mf);_this975=_super216.call(this),_this975["#hall-radius-box"].addEventListener("changestart",function(){return _this975.XC();}),_this975["#seat-radius-box"].addEventListener("changestart",function(){return _this975.ZC();}),_this975["#parties-box"].addEventListener("changestart",function(t){return _this975.KC(t);}),_this975["#parties-box"].addEventListener("click",function(t){return _this975.QC(t);}),_this975["#add-party-button"].addEventListener("click",function(){return _this975.JC();}),_this975["#generate-button"].addEventListener("click",function(){return _this975.NC();});return _this975;}_createClass(mf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Qs.getConfig("bx-parliamentchartgenerator:hallRadius",.3),e=this.Qs.getConfig("bx-parliamentchartgenerator:seatRadius",.8),i=this.Qs.getConfig("bx-parliamentchartgenerator:parties",xf);this["#hall-radius-slider"].value=tt(100*t,2),this["#hall-radius-input"].value=tt(100*t,2),this["#seat-radius-slider"].value=tt(100*e,2),this["#seat-radius-input"].value=tt(100*e,2),this["#parties-box"].innerHTML="";for(var _t2353=0;_t2353<i.length;_t2353+=1){var _i$_t=i[_t2353],_e1711=_i$_t.seats,_s841=_i$_t.color,_n662=document.importNode(mf.qC.content,!0).firstElementChild;this["#parties-box"].append(_n662),_n662.querySelector("x-colorselect").value=_s841,_n662.querySelector("x-numberinput").value=_e1711;}this.qs();}},{key:"XC",value:function XC(){var _this976=this;var t,_e1712;this["#hall-radius-box"].addEventListener("change",t=function t(_t2354){_t2354.target===_this976["#hall-radius-slider"]?_this976["#hall-radius-input"].value=_this976["#hall-radius-slider"].value:_t2354.target===_this976["#hall-radius-input"]&&(_this976["#hall-radius-slider"].value=_this976["#hall-radius-input"].value),_this976.qs();}),this["#hall-radius-box"].addEventListener("changeend",_e1712=function e(){_this976["#hall-radius-box"].removeEventListener("change",t),_this976["#hall-radius-box"].removeEventListener("changeend",_e1712),_this976.Qs.setConfig("bx-parliamentchartgenerator:hallRadius",_this976["#hall-radius-slider"].value/100);});}},{key:"ZC",value:function ZC(){var _this977=this;var t,_e1713;this["#seat-radius-box"].addEventListener("change",t=function t(_t2355){_t2355.target===_this977["#seat-radius-slider"]?_this977["#seat-radius-input"].value=_this977["#seat-radius-slider"].value:_t2355.target===_this977["#seat-radius-input"]&&(_this977["#seat-radius-slider"].value=_this977["#seat-radius-input"].value),_this977.qs();}),this["#seat-radius-box"].addEventListener("changeend",_e1713=function e(){_this977["#seat-radius-box"].removeEventListener("change",t),_this977["#seat-radius-box"].removeEventListener("changeend",_e1713),_this977.Qs.setConfig("bx-parliamentchartgenerator:seatRadius",_this977["#seat-radius-slider"].value/100);});}},{key:"KC",value:function KC(t){var _this978=this;var e,i,s=t.target;s.addEventListener("change",e=function e(){_this978.qs();}),s.addEventListener("changeend",i=function(_i1457){function i(){return _i1457.apply(this,arguments);}i.toString=function(){return _i1457.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this978.qs();var t=_toConsumableArray(_this978["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});_this978.Qs.setConfig("bx-parliamentchartgenerator:parties",t);}));}},{key:"QC",value:function QC(t){var e=t.target.closest(".delete-button");if(e){e.closest(".party-box").remove();var _t2356=_toConsumableArray(this["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});this.Qs.setConfig("bx-parliamentchartgenerator:parties",_t2356),this.qs();}}},{key:"JC",value:function JC(){var t,e=function(t){var e=t.length;for(;--e;){var _i1458=pl(0,1,5),_s842=Math.floor(_i1458*(e+1)),_n663=t[_s842];t[_s842]=t[e],t[e]=_n663;}return t;}([].concat(bf)),i=_toConsumableArray(this["#parties-box"].querySelectorAll("x-colorselect")).map(function(t){return t.value;}),s=document.importNode(mf.qC.content,!0).firstElementChild;do{t=e.pop();}while(e.length>0&&i.includes(t));this["#parties-box"].append(s),s.querySelector("x-colorselect").value=t,this.qs();}},{key:"NC",value:function NC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Parliament chart"),this.Js.board.insertArtwork(t);}},{key:"tM",value:function tM(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;var s=100,n=0,o=0,l=[],a=[],h=[],r=[],d=null,c=this.Js.board.geometryPrecision;var _iterator1562=_createForOfIteratorHelper(t),_step1562;try{for(_iterator1562.s();!(_step1562=_iterator1562.n()).done;){var _e1722=_step1562.value;n+=_e1722.seats;}}catch(err){_iterator1562.e(err);}finally{_iterator1562.f();}var p=function p(t,e,i){return uf*e*i/(t-e)/(1+uf*(e-1)*e/2/(t-e));},u=function u(t,i,s){var n=p(t,i,s)*i/s-(1-e);return df(n);};{var _t2357=pf(cf(n)/cf(2))||1,_e1714=u(n,_t2357,s),_i1459=0;for(u(n,_t2357+1,s)<_e1714&&(_i1459=1),u(n,_t2357-1,s)<_e1714&&_t2357>1&&(_i1459=-1);u(n,_t2357+_i1459,s)<_e1714&&_t2357>0;){_e1714=u(n,_t2357+_i1459,s),_t2357+=_i1459;}o=_t2357||1;}var x=p(n,o,s);for(var _t2358=1;_t2358<=o;_t2358+=1){l[_t2358]=s-(_t2358-1)*x;}{var _t2359=0;for(var _e1716 in l){_t2359+=l[_e1716];}var _e1715=_t2359/(n-2),_i1460=_t2359/(n+2),_s843=_t2359/n,_o522={},_h226=0;for(var _t2360 in l){_o522[_t2360]=tt(l[_t2360]/_s843,0),_h226+=_o522[_t2360];}for(;_h226!==n;){_h226<n?_e1715=_s843:_h226>n&&(_i1460=_s843),_s843=(_e1715+_i1460)/2,_o522={},_h226=0;for(var _t2361 in l){_o522[_t2361]=tt(l[_t2361]/_s843,0),_h226+=_o522[_t2361];}}a=_o522;}{for(var _t2362=1;_t2362<=o;_t2362+=1){var _e1718=[],_n664=s-(_t2362-1)*x,_o523=uf*_n664/(a[_t2362]-1||1);for(var _s844=0;_s844<=a[_t2362]-1;_s844+=1){var _t2363={x:tt(_n664*rf(_s844*_o523/_n664-uf),c),y:tt(_n664*hf(_s844*_o523/_n664-uf),c),r:tt(i/2*x,c)};_e1718.push(_t2363);}h.push(_e1718);}var _e1717=Array(h.length).fill(0);for(var _i1461=0;_i1461<t.length;_i1461+=1){var _s845=t[_i1461];for(var _t2364=0;_t2364<_s845.seats;_t2364+=1){var _t2365=void 0,_s846=void 0,_n665=void 0;for(var _t2366 in h){_n665=tt((_e1717[_t2366]||0)/h[_t2366].length,10),(!_s846||_n665<_s846)&&(_s846=_n665);}for(var _i1462 in h){if(_n665=tt((_e1717[_i1462]||0)/h[_i1462].length,10),_n665===_s846){_t2365=_i1462;break;}}h[_t2365][_e1717[_t2365]].partyIndex=_i1461,_e1717[_t2365]+=1;}}}for(var _t2367 in h){var _iterator1563=_createForOfIteratorHelper(h[_t2367]),_step1563;try{for(_iterator1563.s();!(_step1563=_iterator1563.n()).done;){var _e1719=_step1563.value;void 0===r[_e1719.partyIndex]&&(r[_e1719.partyIndex]=[]),r[_e1719.partyIndex].push(_e1719);}}catch(err){_iterator1563.e(err);}finally{_iterator1563.f();}}{var _e1720=r[0][0].r/(i/2),_n666="<svg viewBox=\"".concat(-100-_e1720/2," ").concat(-100-_e1720/2," ").concat(200+_e1720," ").concat(s+_e1720,"\">");for(var _e1721=0;_e1721<t.length;_e1721+=1){_n666+="<g style=\"fill: ".concat(t[_e1721].color,"\">");var _iterator1564=_createForOfIteratorHelper(r[_e1721]),_step1564;try{for(_iterator1564.s();!(_step1564=_iterator1564.n()).done;){var _t2368=_step1564.value;_n666+="<circle cx=\"".concat(_t2368.x,"\" cy=\"").concat(_t2368.y,"\" r=\"").concat(_t2368.r,"\"></circle>");}}catch(err){_iterator1564.e(err);}finally{_iterator1564.f();}_n666+="</g>";}_n666+="</svg>",d=ts(_templateObject83(),_n666);}return d;}},{key:"qs",value:function qs(){var _iterator1565=_createForOfIteratorHelper(this["#parties-box"].querySelectorAll(".delete-button")),_step1565;try{for(_iterator1565.s();!(_step1565=_iterator1565.n()).done;){var _t2371=_step1565.value;_t2371.disabled=1===this["#parties-box"].childElementCount;}}catch(err){_iterator1565.e(err);}finally{_iterator1565.f();}{var _t2369=this["#hall-radius-slider"].value/100,_e1723=this["#seat-radius-slider"].value/100,_i1463=[];var _iterator1566=_createForOfIteratorHelper(this["#parties-box"].children),_step1566;try{for(_iterator1566.s();!(_step1566=_iterator1566.n()).done;){var _t2370=_step1566.value;_i1463.push({seats:_t2370.querySelector("x-numberinput").value,color:_t2370.querySelector("x-colorselect").value});}}catch(err){_iterator1566.e(err);}finally{_iterator1566.f();}var _s847=this.tM(_i1463,_t2369,_e1723);this["#preview"].innerHTML=_s847.innerHTML,this["#preview"].setAttribute("viewBox",_s847.getAttribute("viewBox"));}}}]);return mf;}(tf);_defineProperty(mf,"RC",Qi(_templateObject492()));_defineProperty(mf,"BC",Qi(_templateObject493()));_defineProperty(mf,"qC",Qi(_templateObject494()));_defineProperty(mf,"_shadowStyleSheet",Ji(_templateObject495()));customElements.define("bx-parliamentchartgenerator",mf);var gf=Math.min,ff=Math.max,wf=Math.floor,vf=["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"];var yf=/*#__PURE__*/function(_tf4){_inherits(yf,_tf4);var _super217=_createSuper(yf);function yf(){var _this979;_classCallCheck(this,yf);_this979=_super217.call(this),_this979["#width-input"].addEventListener("changestart",function(){return _this979.jg();}),_this979["#height-input"].addEventListener("changestart",function(){return _this979.Hg();}),_this979["#aspect-ratio-button"].addEventListener("toggle",function(){return _this979.Bg();}),_this979["#cell-size-box"].addEventListener("changestart",function(){return _this979.eM();}),_this979["#variance-box"].addEventListener("changestart",function(){return _this979.iM();}),_this979["#seed-box"].addEventListener("changestart",function(){return _this979.Mk();}),_this979["#colors-box"].addEventListener("changestart",function(){return _this979.sM();}),_this979["#random-colors-button"].addEventListener("click",function(){return _this979.nM();}),_this979["#generate-button"].addEventListener("click",function(){return _this979.NC();});return _this979;}_createClass(yf,[{key:"connectedCallback",value:function(){var _connectedCallback6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee232(){var t,e,i,s,n,o,l,_t2372;return regeneratorRuntime.wrap(function _callee232$(_context234){while(1){switch(_context234.prev=_context234.next){case 0:this.Qs=Gi(this,"#app");this.Js=Gi(this,"bx-editor");_context234.t0=window.Delaunator;if(_context234.t0){_context234.next=6;break;}_context234.next=6;return ef("/node_modules/delaunator/delaunator.min.js");case 6:_context234.t1=window.chroma;if(_context234.t1){_context234.next=10;break;}_context234.next=10;return ef("/node_modules/chroma-js/chroma.min.js");case 10:t=this.Qs.getConfig("bx-triangulatedsurfacegenerator:width",500),e=this.Qs.getConfig("bx-triangulatedsurfacegenerator:height",400),i=this.Qs.getConfig("bx-triangulatedsurfacegenerator:cellSize",.2),s=this.Qs.getConfig("bx-triangulatedsurfacegenerator:variance",.75),n=this.Qs.getConfig("bx-triangulatedsurfacegenerator:seed",100),o=this.Qs.getConfig("bx-triangulatedsurfacegenerator:colors",vf),l=this.Qs.getConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",!1);this["#width-input"].value=t,this["#height-input"].value=e,this["#aspect-ratio-button"].toggled=l,this["#aspect-ratio-icon"].name=l?"lock-on":"lock-off",this["#cell-size-slider"].value=tt(100*i,2),this["#cell-size-input"].value=tt(100*i,2),this["#variance-slider"].value=tt(100*s,2),this["#variance-input"].value=tt(100*s,2),this["#seed-slider"].value=n,this["#seed-input"].value=n;for(_t2372=0;_t2372<5;_t2372+=1){this["#colors-box"].children[_t2372].value=o[_t2372];}this.qs();case 14:case"end":return _context234.stop();}}},_callee232,this);}));function connectedCallback(){return _connectedCallback6.apply(this,arguments);}return connectedCallback;}()},{key:"jg",value:function jg(){var _this980=this;var t,_e1724,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this980["#aspect-ratio-button"].toggled){var _t2373=_this980["#width-input"].value/i;_t2373=et(_t2373,1,Infinity,0),_this980["#height-input"].value=_t2373;}_this980.qs();}),this["#width-input"].addEventListener("changeend",_e1724=function e(){_this980["#width-input"].removeEventListener("change",t),_this980["#width-input"].removeEventListener("changeend",_e1724),_this980.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this980["#width-input"].value),_this980.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this980["#height-input"].value);});}},{key:"Hg",value:function Hg(){var _this981=this;var t,_e1725,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this981["#aspect-ratio-button"].toggled){var _t2374=_this981["#height-input"].value/i;_t2374=et(_t2374,1,Infinity,0),_this981["#width-input"].value=_t2374;}_this981.qs();}),this["#height-input"].addEventListener("changeend",_e1725=function e(){_this981["#height-input"].removeEventListener("change",t),_this981["#height-input"].removeEventListener("changeend",_e1725),_this981.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this981["#width-input"].value),_this981.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this981["#height-input"].value);});}},{key:"Bg",value:function Bg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"eM",value:function eM(){var _this982=this;var t,_e1726;this["#cell-size-box"].addEventListener("change",t=function t(_t2375){_t2375.target===_this982["#cell-size-slider"]?_this982["#cell-size-input"].value=_this982["#cell-size-slider"].value:_t2375.target===_this982["#cell-size-input"]&&(_this982["#cell-size-slider"].value=_this982["#cell-size-input"].value),_this982.qs();}),this["#cell-size-box"].addEventListener("changeend",_e1726=function e(){_this982["#cell-size-box"].removeEventListener("change",t),_this982["#cell-size-box"].removeEventListener("changeend",_e1726),_this982.Qs.setConfig("bx-triangulatedsurfacegenerator:cellSize",_this982["#cell-size-slider"].value/100);});}},{key:"iM",value:function iM(){var _this983=this;var t,_e1727;this["#variance-box"].addEventListener("change",t=function t(_t2376){_t2376.target===_this983["#variance-slider"]?_this983["#variance-input"].value=_this983["#variance-slider"].value:_t2376.target===_this983["#variance-input"]&&(_this983["#variance-slider"].value=_this983["#variance-input"].value),_this983.qs();}),this["#variance-box"].addEventListener("changeend",_e1727=function e(){_this983["#variance-box"].removeEventListener("change",t),_this983["#variance-box"].removeEventListener("changeend",_e1727),_this983.Qs.setConfig("bx-triangulatedsurfacegenerator:variance",_this983["#variance-slider"].value/100);});}},{key:"Mk",value:function Mk(){var _this984=this;var t,_e1728;this["#seed-box"].addEventListener("change",t=function t(_t2377){_t2377.target===_this984["#seed-slider"]?_this984["#seed-input"].value=_this984["#seed-slider"].value:_t2377.target===_this984["#seed-input"]&&(_this984["#seed-slider"].value=_this984["#seed-input"].value),_this984.qs();}),this["#seed-box"].addEventListener("changeend",_e1728=function e(){_this984["#seed-box"].removeEventListener("change",t),_this984["#seed-box"].removeEventListener("changeend",_e1728),_this984.Qs.setConfig("bx-triangulatedsurfacegenerator:seed",_this984["#seed-slider"].value);});}},{key:"sM",value:function sM(){var _this985=this;var t,_e1729;this["#colors-box"].addEventListener("change",t=function t(_t2378){_this985.qs();}),this["#colors-box"].addEventListener("changeend",_e1729=function e(){_this985["#colors-box"].removeEventListener("change",t),_this985["#colors-box"].removeEventListener("changeend",_e1729);var i=_toConsumableArray(_this985["#colors-box"].children).map(function(t){return t.value;});_this985.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",i);});}},{key:"nM",value:function(){var _nM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee233(){var t,e,_t2379;return regeneratorRuntime.wrap(function _callee233$(_context235){while(1){switch(_context235.prev=_context235.next){case 0:t=pl(0,G.length-1),e=G[t];for(_t2379=0;_t2379<5;_t2379+=1){this["#colors-box"].children[_t2379].value=e[_t2379];}this.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",e),this.qs();case 3:case"end":return _context235.stop();}}},_callee233,this);}));function nM(){return _nM.apply(this,arguments);}return nM;}()},{key:"NC",value:function NC(){var t=this["#preview"].cloneNode(!0);t.style.shapeRendering="crispEdges",this.Js.board.undoManager.checkpoint("Generate triangle art"),this.Js.board.insertArtwork(t);}},{key:"oM",value:function oM(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:400;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:75;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:.75;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:50;s<.02*e&&(s=tt(.02*e));var l=wf((e+4*s)/s),a=wf((i+4*s)/s),h=(l*s-e)/2,r=(a*s-i)/2,d=function d(t,e,i){return(t-e[0])*(i[1]-i[0])/(e[1]-e[0])+i[0];},c=function c(t,e){return gf(ff(t,e[0]),e[1]);},p=function p(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3};},u=function u(t){return c(d(t,[0,e],[0,1]),[0,1]);},x=function x(t){return c(d(t,[0,i],[0,1]),[0,1]);},b=[],m=[],g="";{var _t2380=s*n/2,_l389=new Math.seedrandom(o);for(var _n667=-h;_n667<e+h;_n667+=s){for(var _e1730=-r;_e1730<i+r;_e1730+=s){var _i1464=_n667+.5*s+(_l389()*_t2380*2-_t2380),_o524=_e1730+.5*s+(_l389()*_t2380*2-_t2380);b.push([wf(_i1464),wf(_o524)]);}}}{var _e1731=Delaunator.from(b).triangles,_i1465=chroma.scale(t).mode("lab");for(var _t2381=0;_t2381<_e1731.length;_t2381+=3){var _s848=[_e1731[_t2381],_e1731[_t2381+1],_e1731[_t2381+2]].map(function(t){return b[t];}),_n668=p(_s848),_o525=_i1465(u(_n668.x)),_l390=_i1465(x(_n668.y)),_a287=chroma.interpolate(_o525,_l390,.5,"lab").css();m.push([_a287,_s848]);}}{var _t2382="";for(var _i1466=0,_m47=m;_i1466<_m47.length;_i1466++){var _m47$_i=_slicedToArray(_m47[_i1466],2),_s849=_m47$_i[0],_m47$_i$=_slicedToArray(_m47$_i[1],3),_n669=_m47$_i$[0],_o526=_m47$_i$[1],_l391=_m47$_i$[2];var _a288=Ye(new DOMRect(0,0,e,i),[new DOMPoint(_n669[0],_n669[1]),new DOMPoint(_o526[0],_o526[1]),new DOMPoint(_l391[0],_l391[1])]);if(_a288.length>1){var _a289=_toArray(_a288),_e1732=_a289[0],_i1467=_a289.slice(1),_n670="M ".concat(_e1732.x," ").concat(_e1732.y);var _iterator1567=_createForOfIteratorHelper(_i1467),_step1567;try{for(_iterator1567.s();!(_step1567=_iterator1567.n()).done;){var _t2383=_step1567.value;_n670+=" L ".concat(_t2383.x," ").concat(_t2383.y);}}catch(err){_iterator1567.e(err);}finally{_iterator1567.f();}_n670+=" Z",_t2382+="<path d=\"".concat(_n670,"\" style=\"fill: ").concat(_s849,";\"></path>");}}g="\n        <svg viewBox=\"0 0 ".concat(e," ").concat(i,"\" style=\"shape-rendering: crispedges;\">\n          <g>").concat(_t2382,"</g>\n        </svg>\n      ");}return ts(_templateObject84(),g);}},{key:"qs",value:function(){var _qs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee234(){var t,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee234$(_context236){while(1){switch(_context236.prev=_context236.next){case 0:t=this["#width-input"].value,e=this["#height-input"].value,i=this["#cell-size-slider"].value/100*gf(t,e),s=this["#variance-slider"].value/100,n=this["#seed-slider"].value,o=_toConsumableArray(this["#colors-box"].children).map(function(t){return t.value;}),l=this.oM(o,t,e,i,s,n);this["#preview"].innerHTML=l.innerHTML,this["#preview"].setAttribute("viewBox","0 0 ".concat(t," ").concat(e));case 2:case"end":return _context236.stop();}}},_callee234,this);}));function qs(){return _qs5.apply(this,arguments);}return qs;}()}]);return yf;}(tf);_defineProperty(yf,"RC",Qi(_templateObject496()));_defineProperty(yf,"BC",Qi(_templateObject497()));_defineProperty(yf,"_shadowStyleSheet",Ji(_templateObject498()));customElements.define("bx-triangulatedsurfacegenerator",yf);var kf=/*#__PURE__*/function(_tf5){_inherits(kf,_tf5);var _super218=_createSuper(kf);_createClass(kf,[{key:"options",get:function get(){return{width:this["#width-input"].value,height:this["#height-input"].value,columns:this["#columns-input"].value,rows:this["#rows-input"].value,tabSize:this["#tab-size-slider"].value,jitter:this["#jitter-slider"].value,seed:this["#seed-slider"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function kf(){var _this986;_classCallCheck(this,kf);_this986=_super218.call(this),_this986.ip=is(_this986.qs,1e3,_assertThisInitialized(_this986)),_this986["#columns-input"].addEventListener("changestart",function(){return _this986.lM();}),_this986["#rows-input"].addEventListener("changestart",function(){return _this986.aM();}),_this986["#width-input"].addEventListener("changestart",function(){return _this986.jg();}),_this986["#height-input"].addEventListener("changestart",function(){return _this986.Hg();}),_this986["#aspect-ratio-button"].addEventListener("toggle",function(){return _this986.Bg();}),_this986["#tab-size-box"].addEventListener("changestart",function(){return _this986.hM();}),_this986["#jitter-box"].addEventListener("changestart",function(){return _this986.rM();}),_this986["#seed-box"].addEventListener("changestart",function(){return _this986.Mk();}),_this986["#generate-button"].addEventListener("click",function(){return _this986.NC();});return _this986;}_createClass(kf,[{key:"connectedCallback",value:function(){var _connectedCallback7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee235(){var _this987=this;var t,e,i,s,n,o,l,a;return regeneratorRuntime.wrap(function _callee235$(_context237){while(1){switch(_context237.prev=_context237.next){case 0:this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");t=this.Qs.getConfig("bx-jigsawpuzzlegenerator:columns",8),e=this.Qs.getConfig("bx-jigsawpuzzlegenerator:rows",8),i=this.Qs.getConfig("bx-jigsawpuzzlegenerator:width",500),s=this.Qs.getConfig("bx-jigsawpuzzlegenerator:height",400),n=this.Qs.getConfig("bx-jigsawpuzzlegenerator:tabSize",.2),o=this.Qs.getConfig("bx-jigsawpuzzlegenerator:jitter",.02),l=this.Qs.getConfig("bx-jigsawpuzzlegenerator:seed",100),a=this.Qs.getConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",!1);this["#columns-input"].value=t,this["#rows-input"].value=e,this["#width-input"].value=i,this["#height-input"].value=s,this["#aspect-ratio-button"].toggled=a,this["#aspect-ratio-icon"].name=a?"lock-on":"lock-off",this["#tab-size-slider"].value=tt(100*n,2),this["#tab-size-input"].value=tt(100*n,2),this["#jitter-slider"].value=tt(100*o,2),this["#jitter-input"].value=tt(100*o,2),this["#seed-slider"].value=l,this["#seed-input"].value=l,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this987.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this987.ip();});case 3:case"end":return _context237.stop();}}},_callee235,this);}));function connectedCallback(){return _connectedCallback7.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"lM",value:function lM(t){var _this988=this;var _e1733;this["#columns-input"].addEventListener("changeend",_e1733=function e(){_this988["#columns-input"].removeEventListener("changeend",_e1733),_this988.Qs.setConfig("bx-jigsawpuzzlegenerator:columns",_this988["#columns-input"].value),_this988.dM();});}},{key:"aM",value:function aM(t){var _this989=this;var _e1734;this["#rows-input"].addEventListener("changeend",_e1734=function e(){_this989["#rows-input"].removeEventListener("changeend",_e1734),_this989.Qs.setConfig("bx-jigsawpuzzlegenerator:rows",_this989["#rows-input"].value),_this989.dM();});}},{key:"jg",value:function jg(){var _this990=this;var t,_e1735,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this990["#aspect-ratio-button"].toggled){var _t2384=_this990["#width-input"].value/i;_t2384=et(_t2384,1,Infinity,0),_this990["#height-input"].value=_t2384;}_this990.dM();}),this["#width-input"].addEventListener("changeend",_e1735=function e(){_this990["#width-input"].removeEventListener("change",t),_this990["#width-input"].removeEventListener("changeend",_e1735),_this990.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this990["#width-input"].value),_this990.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this990["#height-input"].value);});}},{key:"Hg",value:function Hg(){var _this991=this;var t,_e1736,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this991["#aspect-ratio-button"].toggled){var _t2385=_this991["#height-input"].value/i;_t2385=et(_t2385,1,Infinity,0),_this991["#width-input"].value=_t2385;}_this991.dM();}),this["#height-input"].addEventListener("changeend",_e1736=function e(){_this991["#height-input"].removeEventListener("change",t),_this991["#height-input"].removeEventListener("changeend",_e1736),_this991.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this991["#width-input"].value),_this991.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this991["#height-input"].value);});}},{key:"Bg",value:function Bg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"hM",value:function hM(){var _this992=this;var t,_e1737;this["#tab-size-box"].addEventListener("change",t=function t(_t2386){_t2386.target===_this992["#tab-size-slider"]?_this992["#tab-size-input"].value=_this992["#tab-size-slider"].value:_t2386.target===_this992["#tab-size-input"]&&(_this992["#tab-size-slider"].value=_this992["#tab-size-input"].value),_this992.dM();}),this["#tab-size-box"].addEventListener("changeend",_e1737=function e(){_this992["#tab-size-box"].removeEventListener("change",t),_this992["#tab-size-box"].removeEventListener("changeend",_e1737),_this992.Qs.setConfig("bx-jigsawpuzzlegenerator:tabSize",_this992["#tab-size-slider"].value/100);});}},{key:"rM",value:function rM(){var _this993=this;var t,_e1738;this["#jitter-box"].addEventListener("change",t=function t(_t2387){_t2387.target===_this993["#jitter-slider"]?_this993["#jitter-input"].value=_this993["#jitter-slider"].value:_t2387.target===_this993["#jitter-input"]&&(_this993["#jitter-slider"].value=_this993["#jitter-input"].value),_this993.dM();}),this["#jitter-box"].addEventListener("changeend",_e1738=function e(){_this993["#jitter-box"].removeEventListener("change",t),_this993["#jitter-box"].removeEventListener("changeend",_e1738),_this993.Qs.setConfig("bx-jigsawpuzzlegenerator:jitter",_this993["#jitter-slider"].value/100);});}},{key:"Mk",value:function Mk(){var _this994=this;var t,_e1739;this["#seed-box"].addEventListener("change",t=function t(_t2388){_t2388.target===_this994["#seed-slider"]?_this994["#seed-input"].value=_this994["#seed-slider"].value:_t2388.target===_this994["#seed-input"]&&(_this994["#seed-slider"].value=_this994["#seed-input"].value),_this994.dM();}),this["#seed-box"].addEventListener("changeend",_e1739=function e(){_this994["#seed-box"].removeEventListener("change",t),_this994["#seed-box"].removeEventListener("changeend",_e1739),_this994.Qs.setConfig("bx-jigsawpuzzlegenerator:seed",_this994["#seed-slider"].value);});}},{key:"NC",value:function NC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Jigsaw puzzle"),this.Js.board.insertArtwork(t);}},{key:"cM",value:function cM(t){var e,i,s,n,o,l,a,h,r,d=t.width,c=t.height,p=t.seed,u=t.tabSize/200,x=t.jitter/100,b=t.columns,m=t.rows,g=new Math.seedrandom(p),f=function f(t,e){return t+g()*(e-t);},w=function w(){o=f(-x,x),v();},v=function v(){var t=h;h=g()>.5,e=h==t?-o:o,i=f(-x,x),s=f(-x,x),n=f(-x,x),o=f(-x,x);},y=function y(){return r?c/m:d/b;},k=function k(){return r?d/b:c/m;},S=function S(t){return Math.round(100*(0+y()*(r?a:l)+y()*t))/100;},_=function _(t){return Math.round(100*(0+k()*(r?l:a)+k()*t*(h?-1:1)))/100;},C=function C(){return S(0);},M=function M(){return _(0);},P=function P(){return S(.2);},D=function D(){return _(e);},z=function z(){return S(.5+i+n);},O=function O(){return _(-u+s);},E=function E(){return S(.5-u+i);},T=function T(){return _(u+s);},A=function A(){return S(.5-2*u+i-n);},$=function $(){return _(3*u+s);},I=function I(){return S(.5+2*u+i-n);},L=function L(){return _(3*u+s);},R=function R(){return S(.5+u+i);},B=function B(){return _(u+s);},G=function G(){return S(.5+i+n);},U=function U(){return _(-u+s);},F=function F(){return S(.8);},N=function N(){return _(o);},V=function V(){return S(1);},j=function j(){return _(0);},H=[],W=[],Y=[];for(r=0,a=0;a<=m;++a){for(l=0,w(),H[a]=[];l<=b;++l){0===a||a===m?H[a].push([{type:"M",values:[C(),M()]},{type:"L",values:[V(),j()]}]):H[a].push([{type:"M",values:[C(),M()]},{type:"C",values:[P(),D(),z(),O(),E(),T()]},{type:"C",values:[A(),$(),I(),L(),R(),B()]},{type:"C",values:[G(),U(),F(),N(),V(),j()]}]),v();}}for(r=1,l=0;l<=b;++l){for(a=0,w(),W[l]=[];a<=m;++a){0===l||l===b?W[l].push([{type:"M",values:[M(),C()]},{type:"L",values:[j(),V()]}]):W[l].push([{type:"M",values:[M(),C()]},{type:"C",values:[D(),P(),O(),z(),T(),E()]},{type:"C",values:[$(),A(),L(),I(),B(),R()]},{type:"C",values:[U(),G(),N(),F(),j(),V()]}]),v();}}for(var _t2389=0;_t2389<b;_t2389+=1){for(var _e1740=0;_e1740<m;_e1740+=1){var _i1468=[].concat(_toConsumableArray(H[_e1740][_t2389]),_toConsumableArray(W[_t2389+1][_e1740].slice(1)),_toConsumableArray(pt(H[_e1740+1][_t2389]).slice(1)),_toConsumableArray(pt(W[_t2389][_e1740]).slice(1)),[{type:"Z"}]);Y.push(_i1468);}}return Y;}},{key:"qs",value:function qs(){this.dM();}},{key:"dM",value:function dM(){var t=this.cM(this.options),e="";var _iterator1568=_createForOfIteratorHelper(t),_step1568;try{for(_iterator1568.s();!(_step1568=_iterator1568.n()).done;){var _i1469=_step1568.value;e+="<path style=\"fill: white; stroke: black; stroke-width: 1px;\" d=\"".concat(ot(_i1469),"\"></path>");}}catch(err){_iterator1568.e(err);}finally{_iterator1568.f();}this["#preview"].innerHTML="<g>".concat(e,"</g>"),this["#preview"].setAttribute("viewBox","0 0 ".concat(this.options.width," ").concat(this.options.height));}}]);return kf;}(tf);_defineProperty(kf,"RC",Qi(_templateObject499()));_defineProperty(kf,"BC",Qi(_templateObject500()));_defineProperty(kf,"_shadowStyleSheet",Ji(_templateObject501()));customElements.define("bx-jigsawpuzzlegenerator",kf);var Sf=function Sf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"png";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(/*#__PURE__*/function(){var _ref215=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee240(s){var _e1741,_n671,_o527,_e1742,_n672,_o528,_e1743,_n673,_o529,_e1744,_n674,_o530;return regeneratorRuntime.wrap(function _callee240$(_context242){while(1){switch(_context242.prev=_context242.next){case 0:if("png"===e){_e1741=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n671=URL.createObjectURL(_e1741),_o527=new Image();_o527.src=_n671,_o527.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee236(){var t,e,l,a,h,r,d,c,p;return regeneratorRuntime.wrap(function _callee236$(_context238){while(1){switch(_context238.prev=_context238.next){case 0:t=i.dpi||96,e=i.colors||0,l=i.background||"rgba(0, 0, 0, 0)",a=new OffscreenCanvas(_o527.naturalWidth,_o527.naturalHeight),h=a.getContext("2d");h.fillStyle=l,h.fillRect(0,0,_o527.naturalWidth,_o527.naturalHeight),h.drawImage(_o527,0,0);r=h.getImageData(0,0,a.width,a.height),d=UPNG.encode([r.data.buffer],r.width,r.height,e),c=new Uint8Array(d);c=Kh(c,t);p=new Blob([c],{type:"image/png"});URL.revokeObjectURL(_n671),s(p);case 6:case"end":return _context238.stop();}}},_callee236);})),{once:!0});}else if("jpeg"===e||"jpg"===e){_e1742=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n672=URL.createObjectURL(_e1742),_o528=new Image();_o528.src=_n672,_o528.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee237(){var t,e,l,a,h;return regeneratorRuntime.wrap(function _callee237$(_context239){while(1){switch(_context239.prev=_context239.next){case 0:t=i.background||"rgb(255, 255, 255)",e=i.compression||1,l=new OffscreenCanvas(_o528.naturalWidth,_o528.naturalHeight),a=l.getContext("2d");a.fillStyle="white",a.fillRect(0,0,_o528.naturalWidth,_o528.naturalHeight),a.fillStyle=t,a.fillRect(0,0,_o528.naturalWidth,_o528.naturalHeight),a.drawImage(_o528,0,0);_context239.next=4;return l.convertToBlob({type:"image/jpeg",quality:e});case 4:h=_context239.sent;URL.revokeObjectURL(_n672),s(h);case 6:case"end":return _context239.stop();}}},_callee237);})),{once:!0});}else if("gif"===e){_e1743=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n673=URL.createObjectURL(_e1743),_o529=new Image();_o529.src=_n673,_o529.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee238(){var t,e,n,l,a,h;return regeneratorRuntime.wrap(function _callee238$(_context240){while(1){switch(_context240.prev=_context240.next){case 0:t=i.background?So(i.background,"hex"):"#ffffff",e=i.transparent||!1,n=!1;"floyd-steinberg"===i.dithering?n="FloydSteinberg":"false-floyd-steinberg"===i.dithering?n="FalseFloydSteinberg":"stucki"===i.dithering?n="Stucki":"atkinson"===i.dithering&&(n="Atkinson");l=new OffscreenCanvas(_o529.naturalWidth,_o529.naturalHeight).getContext("2d");l.fillStyle=t,l.fillRect(0,0,_o529.naturalWidth,_o529.naturalHeight),l.drawImage(_o529,0,0);a=l.getImageData(0,0,_o529.naturalWidth,_o529.naturalHeight),h=new GIF({workers:2,quality:1,dither:n,transparent:e?parseInt("0x"+t.substring(1)):null,workerScript:"node_modules/gif.js/dist/gif.worker.js"});h.addFrame(a),h.render(),h.on("finished",function(t){s(t);});case 6:case"end":return _context240.stop();}}},_callee238);})),{once:!0});}else if("webp"===e){_e1744=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n674=URL.createObjectURL(_e1744),_o530=new Image();_o530.src=_n674,_o530.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee239(){var t,e,l,a,h;return regeneratorRuntime.wrap(function _callee239$(_context241){while(1){switch(_context241.prev=_context241.next){case 0:t=i.background||"rgba(255, 255, 255, 0)",e=i.compression||1,l=new OffscreenCanvas(_o530.naturalWidth,_o530.naturalHeight),a=l.getContext("2d");a.fillStyle=t,a.fillRect(0,0,_o530.naturalWidth,_o530.naturalHeight),a.drawImage(_o530,0,0);_context241.next=4;return l.convertToBlob({type:"image/webp",quality:e});case 4:h=_context241.sent;URL.revokeObjectURL(_n674),s(h);case 6:case"end":return _context241.stop();}}},_callee239);})),{once:!0});}case 1:case"end":return _context242.stop();}}},_callee240);}));return function(_x262){return _ref215.apply(this,arguments);};}());};var _f=/*#__PURE__*/function(_tf6){_inherits(_f,_tf6);var _super219=_createSuper(_f);function _f(){var _this995;_classCallCheck(this,_f);_this995=_super219.call(this),_this995["#format-buttons"].addEventListener("toggle",function(){return _this995.pM();}),_this995["#ppu-box"].addEventListener("changestart",function(t){return _this995.uM(t);}),_this995["#colors-mode-buttons"].addEventListener("toggle",function(){return _this995.xM();}),_this995["#colors-slider"].addEventListener("changestart",function(){return _this995.bM();}),_this995["#colors-input"].addEventListener("changestart",function(){return _this995.mM();}),_this995["#compression-slider"].addEventListener("changestart",function(){return _this995.gM();}),_this995["#compression-input"].addEventListener("changestart",function(){return _this995.fM();}),_this995["#background-select"].addEventListener("changeend",function(){return _this995.wM();}),_this995["#background-popover"].addEventListener("close",function(){return _this995.vM();}),_this995["#preview-button"].addEventListener("click",function(){return _this995.yM();}),_this995["#generate-button"].addEventListener("click",function(){return _this995.NC();});return _this995;}_createClass(_f,[{key:"connectedCallback",value:function connectedCallback(){var _this996=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Js.board,e=this.Qs.getConfig("bx-rasterizegenerator:format","png"),i=this.Qs.getConfig("bx-rasterizegenerator:ppu",1),s=this.Qs.getConfig("bx-rasterizegenerator:colorsMode","rgb"),n=this.Qs.getConfig("bx-rasterizegenerator:colors",256),o=this.Qs.getConfig("bx-rasterizegenerator:compression",1),l=this.Qs.getConfig("bx-rasterizegenerator:background","rgb(255, 255, 255)");this["#format-buttons"].value=e,this["#ppu-slider"].value=i,this["#ppu-input"].value=i,this["#colors-mode-buttons"].value=s,this["#colors-slider"].value=n,this["#colors-input"].value=n,this["#compression-slider"].value=o,this["#compression-input"].value=o,this["#background-select"].value=l,this.qs(),t.addEventListener("selectedelementschange",this.il=function(){_this996.sl();}),t.addEventListener("workspacemutation",this.hn=function(){_this996.al();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){this.kM(),this.qs();}},{key:"al",value:function al(){this.kM(),this.qs();}},{key:"pM",value:function pM(){this.Qs.setConfig("bx-rasterizegenerator:format",this["#format-buttons"].value),this.kM(),this.qs();}},{key:"uM",value:function uM(t){var _this997=this;var e,i;this.kM(),this["#ppu-box"].addEventListener("change",e=function e(t){t.target===_this997["#ppu-slider"]?_this997["#ppu-input"].value=_this997["#ppu-slider"].value:t.target===_this997["#ppu-input"]&&(_this997["#ppu-slider"].value=_this997["#ppu-input"].value),_this997.qs();}),this["#ppu-box"].addEventListener("changeend",i=function(_i1470){function i(){return _i1470.apply(this,arguments);}i.toString=function(){return _i1470.toString();};return i;}(function(){_this997["#ppu-box"].removeEventListener("change",e),_this997["#ppu-box"].removeEventListener("changeend",i),_this997.Qs.setConfig("bx-rasterizegenerator:ppu",_this997["#ppu-slider"].value);}));}},{key:"xM",value:function xM(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-rasterizegenerator:colorsMode",this["#colors-mode-buttons"].value),this.kM();}},{key:"bM",value:function bM(){var _this998=this;var t,_e1745;this["#colors-slider"].addEventListener("change",t=function t(){_this998["#colors-input"].value=_this998["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1745=function e(){_this998["#colors-slider"].removeEventListener("change",t),_this998["#colors-slider"].removeEventListener("changeend",_e1745),_this998.Qs.setConfig("bx-rasterizegenerator:colors",_this998["#colors-slider"].value),_this998.kM();});}},{key:"mM",value:function mM(){var _this999=this;var t,_e1746;this["#colors-input"].addEventListener("change",t=function t(){_this999["#colors-slider"].value=_this999["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1746=function e(){_this999["#colors-input"].removeEventListener("change",t),_this999["#colors-input"].removeEventListener("changeend",_e1746),_this999.Qs.setConfig("bx-rasterizegenerator:colors",_this999["#colors-input"].value),_this999.kM();});}},{key:"gM",value:function gM(){var _this1000=this;var t,_e1747;this["#compression-slider"].addEventListener("change",t=function t(){_this1000["#compression-input"].value=_this1000["#compression-slider"].value,_this1000.Qs.setConfig("bx-rasterizegenerator:compression",_this1000["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1747=function e(){_this1000["#compression-slider"].removeEventListener("change",t),_this1000["#compression-slider"].removeEventListener("changeend",_e1747),_this1000.kM();});}},{key:"fM",value:function fM(){var _this1001=this;var t,_e1748;this["#compression-input"].addEventListener("change",t=function t(){_this1001["#compression-slider"].value=_this1001["#compression-input"].value,_this1001.Qs.setConfig("bx-rasterizegenerator:compression",_this1001["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1748=function e(){_this1001["#compression-input"].removeEventListener("change",t),_this1001["#compression-input"].removeEventListener("changeend",_e1748),_this1001.kM();});}},{key:"wM",value:function wM(){this.SM=!0;}},{key:"vM",value:function vM(){this.SM&&(this.SM=!1,this.Qs.setConfig("bx-rasterizegenerator:background",this["#background-select"].value),this.kM());}},{key:"yM",value:function yM(){this._M();}},{key:"NC",value:function(){var _NC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee241(){var t,e,i,s,n,o,l,a,h,r,d,c,_iterator1569,_step1569,_t2390;return regeneratorRuntime.wrap(function _callee241$(_context243){while(1){switch(_context243.prev=_context243.next){case 0:t=this.Js.board,e=this["#format-buttons"].value,i=this["#ppu-input"].value,s=t.extractArtworkWithSelectedElements(),n=t.vectorCanvas.getScreenCTM(),o=Ft.fromString(s.getAttribute("viewBox")).toRect(),l=He(o,n),a=_toConsumableArray(t.outermostSelectedElements);s.setAttribute("width",tt(o.width*i,0)+"px"),s.setAttribute("height",tt(o.height*i,0)+"px"),s.setAttribute("preserveAspectRatio","none");h={};"png"===e?h={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===e&&(h={background:this["#background-select"].value,compression:this["#compression-input"].value});r=Vp(s);_context243.next=7;return Sf(r,e,h);case 7:d=_context243.sent;_context243.next=10;return Vh(d);case 10:c=_context243.sent;t.undoManager.checkpoint("Rasterize"),t.insertBitmapIntoBBox(c,l);_iterator1569=_createForOfIteratorHelper(a);try{for(_iterator1569.s();!(_step1569=_iterator1569.n()).done;){_t2390=_step1569.value;_t2390.remove();}}catch(err){_iterator1569.e(err);}finally{_iterator1569.f();}case 14:case"end":return _context243.stop();}}},_callee241,this);}));function NC(){return _NC.apply(this,arguments);}return NC;}()},{key:"_M",value:function(){var _M3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee242(){var t,e,i,s,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee242$(_context244){while(1){switch(_context244.prev=_context244.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this["#format-buttons"].value,e=this["#ppu-input"].value,i=this.Js.board.extractArtworkWithSelectedElements(),s=tt(i.viewBox.baseVal.width*e,0),n=tt(i.viewBox.baseVal.height*e,0);i.setAttribute("width",s+"px"),i.setAttribute("height",n+"px"),i.setAttribute("preserveAspectRatio","none");o={};"png"===t?o={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===t&&(o={background:this["#background-select"].value,compression:this["#compression-input"].value});l=Vp(i);_context244.next=8;return Sf(l,t,o);case 8:a=_context244.sent;_context244.next=11;return Vh(a);case 11:h=_context244.sent;r=tt(h.length);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",h),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Data size: "+Yh(r),this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context244.stop();}}},_callee242,this);}));function _M(){return _M3.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=this.Js.board,e=null;t.outermostSelectedObjectElements.length>0&&(e=We(t.outermostSelectedObjectElements.map(function(e){var i=Yt(e,t.currentWorkspace),s=Ei(e);return He(s,i);}))),e&&e.width>0&&e.height>0?(this["#options-heading"].disabled=!1,this["#format-heading"].disabled=!1,this["#png-format-button"].disabled=!1,this["#jpeg-format-button"].disabled=!1,this["#ppu-heading"].disabled=!1,this["#ppu-slider"].disabled=!1,this["#ppu-input"].disabled=!1,this["#colors-heading"].disabled=!1,this["#colors-rgb-button"].disabled=!1,this["#colors-palette-button"].disabled=!1,this["#colors-slider"].disabled=!1,this["#colors-input"].disabled=!1,this["#compression-heading"].disabled=!1,this["#compression-slider"].disabled=!1,this["#compression-input"].disabled=!1,this["#background-heading"].disabled=!1,this["#background-select"].disabled=!1,this["#preview-heading"].disabled=!1,this["#preview-button"].disabled=!1,this["#generate-button"].disabled=!1):(this["#options-heading"].disabled=!0,this["#format-heading"].disabled=!0,this["#png-format-button"].disabled=!0,this["#jpeg-format-button"].disabled=!0,this["#ppu-heading"].disabled=!0,this["#ppu-slider"].disabled=!0,this["#ppu-input"].disabled=!0,this["#colors-heading"].disabled=!0,this["#colors-rgb-button"].disabled=!0,this["#colors-palette-button"].disabled=!0,this["#colors-slider"].disabled=!0,this["#colors-input"].disabled=!0,this["#compression-heading"].disabled=!0,this["#compression-slider"].disabled=!0,this["#compression-input"].disabled=!0,this["#background-heading"].disabled=!0,this["#background-select"].disabled=!0,this["#preview-heading"].disabled=!0,this["#preview-button"].disabled=!0,this["#generate-button"].disabled=!0),"png"===this["#format-buttons"].value?(this["#colors-subsection"].hidden=!1,this["#compression-subsection"].hidden=!0,this["#background-subsection"].hidden=!0,"palette"===this["#colors-mode-buttons"].value?this["#colors-box"].hidden=!1:this["#colors-box"].hidden=!0):"jpeg"===this["#format-buttons"].value&&(this["#colors-subsection"].hidden=!0,this["#compression-subsection"].hidden=!1,this["#background-subsection"].hidden=!1);}}]);return _f;}(tf);_defineProperty(_f,"RC",Qi(_templateObject502()));_defineProperty(_f,"BC",Qi(_templateObject503()));_defineProperty(_f,"_shadowStyleSheet",Ji(_templateObject504()));customElements.define("bx-rasterizegenerator",_f);var Cf=/*#__PURE__*/function(_HTMLElement129){_inherits(Cf,_HTMLElement129);var _super220=_createSuper(Cf);_createClass(Cf,[{key:"value",get:function get(){return Array.isArray(this._t)?_toConsumableArray(this._t):this._t;},set:function set(t){this._t=Array.isArray(t)?_toConsumableArray(t):t,this.qs();}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Cf(){var _this1002;_classCallCheck(this,Cf);_this1002=_super220.call(this),_this1002._t=[0,0,0,0],_this1002._shadowRoot=_this1002.attachShadow({mode:"closed"}),_this1002._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Cf._shadowStyleSheet],_this1002._shadowRoot.append(document.importNode(Cf._shadowTemplate.content,!0));var _iterator1570=_createForOfIteratorHelper(_this1002._shadowRoot.querySelectorAll("[id]")),_step1570;try{for(_iterator1570.s();!(_step1570=_iterator1570.n()).done;){var _t2391=_step1570.value;_this1002["#"+_t2391.id]=_t2391;}}catch(err){_iterator1570.e(err);}finally{_iterator1570.f();}_this1002["#top-input"].addEventListener("changestart",function(t){return _this1002.CM(t);}),_this1002["#right-input"].addEventListener("changestart",function(t){return _this1002.MM(t);}),_this1002["#bottom-input"].addEventListener("changestart",function(t){return _this1002.PM(t);}),_this1002["#left-input"].addEventListener("changestart",function(t){return _this1002.DM(t);}),_this1002["#uniform-button"].addEventListener("toggle",function(){return _this1002.zM();});return _this1002;}_createClass(Cf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("suffix"===t?this.OM():"disabled"===t&&this.qs());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"CM",value:function CM(){var _this1003=this;var t,_e1749,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#top-input"].addEventListener("change",t=function t(){i?(_this1003._t=_this1003["#top-input"].value,_this1003["#left-input"].value=_this1003["#top-input"].value,_this1003["#right-input"].value=_this1003["#top-input"].value,_this1003["#bottom-input"].value=_this1003["#top-input"].value):_this1003._t[0]=_this1003["#top-input"].value,_this1003.dispatchEvent(new CustomEvent("change"));}),this["#top-input"].addEventListener("changeend",_e1749=function e(){_this1003["#top-input"].removeEventListener("change",t),_this1003["#top-input"].removeEventListener("changeend",_e1749),_this1003.dispatchEvent(new CustomEvent("changeend"));});}},{key:"MM",value:function MM(){var _this1004=this;var t,_e1750,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#right-input"].addEventListener("change",t=function t(){i?_this1004._t=_this1004["#top-input"].value:_this1004._t[1]=_this1004["#right-input"].value,_this1004.dispatchEvent(new CustomEvent("change"));}),this["#right-input"].addEventListener("changeend",_e1750=function e(){_this1004["#right-input"].removeEventListener("change",t),_this1004["#right-input"].removeEventListener("changeend",_e1750),_this1004.dispatchEvent(new CustomEvent("changeend"));});}},{key:"PM",value:function PM(){var _this1005=this;var t,_e1751,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#bottom-input"].addEventListener("change",t=function t(){i?_this1005._t=_this1005["#bottom-input"].value:_this1005._t[2]=_this1005["#bottom-input"].value,_this1005.dispatchEvent(new CustomEvent("change"));}),this["#bottom-input"].addEventListener("changeend",_e1751=function e(){_this1005["#bottom-input"].removeEventListener("change",t),_this1005["#bottom-input"].removeEventListener("changeend",_e1751),_this1005.dispatchEvent(new CustomEvent("changeend"));});}},{key:"DM",value:function DM(){var _this1006=this;var t,_e1752,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#left-input"].addEventListener("change",t=function t(){i?_this1006._t=_this1006["#left-input"].value:_this1006._t[3]=_this1006["#left-input"].value,_this1006.dispatchEvent(new CustomEvent("change"));}),this["#left-input"].addEventListener("changeend",_e1752=function e(){_this1006["#left-input"].removeEventListener("change",t),_this1006["#left-input"].removeEventListener("changeend",_e1752),_this1006.dispatchEvent(new CustomEvent("changeend"));});}},{key:"zM",value:function zM(){this["#uniform-button"].toggled?this.value=this["#top-input"].value:this.value=[this["#top-input"].value,this["#top-input"].value,this["#top-input"].value,this["#top-input"].value],this.dispatchEvent(new CustomEvent("changestart")),this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend"));}},{key:"OM",value:function OM(){this["#left-input"].suffix=this.suffix,this["#right-input"].suffix=this.suffix,this["#top-input"].suffix=this.suffix,this["#bottom-input"].suffix=this.suffix;}},{key:"qs",value:function qs(){if(Array.isArray(this.value)){var _this$value6=_slicedToArray(this.value,4),_t2392=_this$value6[0],_e1753=_this$value6[1],_i1471=_this$value6[2],_s850=_this$value6[3];this["#top-input"].value=_t2392,this["#top-input"].disabled=this.disabled,this["#right-input"].value=_e1753,this["#right-input"].disabled=this.disabled,this["#bottom-input"].value=_i1471,this["#bottom-input"].disabled=this.disabled,this["#left-input"].value=_s850,this["#left-input"].disabled=this.disabled,this["#uniform-button"].toggled=!1,this["#uniform-button"].disabled=this.disabled;}else this["#top-input"].value=this.value,this["#top-input"].disabled=this.disabled,this["#right-input"].value=this.value,this["#right-input"].disabled=!0,this["#bottom-input"].value=this.value,this["#bottom-input"].disabled=!0,this["#left-input"].value=this.value,this["#left-input"].disabled=!0,this["#uniform-button"].toggled=!0,this["#uniform-button"].disabled=this.disabled;}}]);return Cf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cf,"observedAttributes",["suffix","disabled"]);_defineProperty(Cf,"_shadowTemplate",Qi(_templateObject505()));_defineProperty(Cf,"_shadowStyleSheet",Ji(_templateObject506()));customElements.define("bx-edgeinput",Cf);var Mf=Array.isArray;var Pf=/*#__PURE__*/function(_tf7){_inherits(Pf,_tf7);var _super221=_createSuper(Pf);function Pf(){var _this1007;_classCallCheck(this,Pf);_this1007=_super221.call(this),_this1007.EM=is(_this1007.dM,1e3,_assertThisInitialized(_this1007)),_this1007["#area-buttons"].addEventListener("toggle",function(){return _this1007.TM();}),_this1007["#padding-input"].addEventListener("changestart",function(){return _this1007.AM();}),_this1007["#origin-switch"].addEventListener("toggle",function(){return _this1007.$M();}),_this1007["#origin-x-input"].addEventListener("changestart",function(){return _this1007.Ff();}),_this1007["#origin-y-input"].addEventListener("changestart",function(){return _this1007.Nf();}),_this1007["#generate-button"].addEventListener("click",function(){return _this1007.NC();});return _this1007;}_createClass(Pf,[{key:"connectedCallback",value:function connectedCallback(){var _this1008=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Js.board;t.addEventListener("selectedelementschange",this.il=function(){_this1008.sl();}),t.addEventListener("workspacemutation",this.hn=function(){_this1008.al();}),this.IM(!0),this.dM(),this.LM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){"selected"===this["#area-buttons"].value&&(this.dM(),this.LM());}},{key:"al",value:function al(){this.IM(),this.LM(),this.EM();}},{key:"TM",value:function TM(){this.Qs.setConfig("bx-resizeviewgenerator:area",this["#area-buttons"].value),this.dM(),this.LM();}},{key:"AM",value:function AM(){var _this1009=this;var t,_e1754;this["#padding-input"].addEventListener("change",t=function t(){_this1009.IM();}),this["#padding-input"].addEventListener("changeend",_e1754=function e(){_this1009["#padding-input"].removeEventListener("change",t),_this1009["#padding-input"].removeEventListener("changeend",_e1754),_this1009.dM(),_this1009.Qs.setConfig("bx-resizeviewgenerator:padding",_this1009["#padding-input"].value);});}},{key:"$M",value:function $M(){this["#origin-switch"].toggled?this.Qs.setConfig("bx-resizeviewgenerator:origin",[0,0]):this.Qs.setConfig("bx-resizeviewgenerator:origin",null),this.IM(),this.dM();}},{key:"Ff",value:function Ff(){var _this1010=this;var t,_e1755;this["#origin-x-input"].addEventListener("change",t=function t(){_this1010["#preview-x-td"].textContent=_this1010["#origin-x-input"].value;}),this["#origin-x-input"].addEventListener("changeend",_e1755=function e(){_this1010["#origin-x-input"].removeEventListener("change",t),_this1010["#origin-x-input"].removeEventListener("changeend",_e1755);var i=[_this1010["#origin-x-input"].value,_this1010["#origin-y-input"].value];_this1010.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"Nf",value:function Nf(){var _this1011=this;var t,_e1756;this["#origin-y-input"].addEventListener("change",t=function t(){_this1011["#preview-y-td"].textContent=_this1011["#origin-y-input"].value;}),this["#origin-y-input"].addEventListener("changeend",_e1756=function e(){_this1011["#origin-y-input"].removeEventListener("change",t),_this1011["#origin-y-input"].removeEventListener("changeend",_e1756);var i=[_this1011["#origin-x-input"].value,_this1011["#origin-y-input"].value];_this1011.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"NC",value:function NC(){var t=this.Js.board,e=[];if("all"===this["#area-buttons"].value){var _iterator1571=_createForOfIteratorHelper(t.currentWorkspace.children),_step1571;try{for(_iterator1571.s();!(_step1571=_iterator1571.n()).done;){var _i1472=_step1571.value;v.includes(_i1472.localName)&&e.push(_i1472);}}catch(err){_iterator1571.e(err);}finally{_iterator1571.f();}}else"selected"===this["#area-buttons"].value&&(e=t.outermostSelectedObjectElements);if(e.length>0){t.undoManager.checkpoint("Resize view");var _i1473=e.map(function(t){return Ti(t);}),_s851=He(We(_i1473),qt(t.currentWorkspace).inverse()),_n675=this["#padding-input"].value;!1===Mf(_n675)&&(_n675=[_n675,_n675,_n675,_n675]);var _n676=_n675,_n677=_slicedToArray(_n676,4),_o531=_n677[0],_l392=_n677[1],_a290=_n677[2],_h227=_n677[3];if(!1===this["#origin-switch"].toggled)_s851.x-=_h227,_s851.y-=_o531,_s851.width+=_h227+_l392,_s851.height+=_o531+_a290,_s851=je(_s851,t.geometryPrecision);else{var _i1474=this["#origin-x-input"].value-_s851.x+_h227,_n678=this["#origin-y-input"].value-_s851.y+_o531;_s851.x=this["#origin-x-input"].value,_s851.y=this["#origin-y-input"].value,_s851.width+=_h227+_l392,_s851.height+=_o531+_a290,_s851=je(_s851,t.geometryPrecision);var _iterator1572=_createForOfIteratorHelper(e),_step1572;try{for(_iterator1572.s();!(_step1572=_iterator1572.n()).done;){var _s852=_step1572.value;if(v.includes(_s852.localName)){var _e1757=Yt(_s852,t.vectorCanvas),_o532=_e1757.inverse(),_l393=Wt(_s852),_a291=DOMMatrix.fromMatrix(_l393);_a291.multiplySelf(_o532),_a291.translateSelf(_i1474,_n678),_a291.multiplySelf(_e1757),_s852.setAttribute("transform",_a291.toString()),ka(_s852,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}}catch(err){_iterator1572.e(err);}finally{_iterator1572.f();}}if(this["#view-select"].value.startsWith("#")){t.currentWorkspace.querySelector(this["#view-select"].value).setAttribute("viewBox","".concat(_s851.x," ").concat(_s851.y," ").concat(_s851.width," ").concat(_s851.height));}else t.currentWorkspace.setAttribute("viewBox","".concat(_s851.x," ").concat(_s851.y," ").concat(_s851.width," ").concat(_s851.height));}}},{key:"IM",value:function IM(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===e.currentWorkspace.hasAttribute("viewBox")&&0===i.length?this["#options-heading"].disabled=!0:this["#options-heading"].disabled=!1;{var _t2393=[];e.currentWorkspace.hasAttribute("viewBox")&&_t2393.push(["default","Default view"]);var _iterator1573=_createForOfIteratorHelper(i),_step1573;try{for(_iterator1573.s();!(_step1573=_iterator1573.n()).done;){var _e1759=_step1573.value;var _i1478=_e1759.querySelector(":scope > bx-title"),_s854="#"+_e1759.id;_t2393.push([_s854,_i1478?_i1478.textContent:_s854]);}}catch(err){_iterator1573.e(err);}finally{_iterator1573.f();}{var _e1758="",_i1475=this["#view-select"].value||"default";for(var _i1476=0,_t2394=_t2393;_i1476<_t2394.length;_i1476++){var _t2394$_i=_slicedToArray(_t2394[_i1476],2),_i1477=_t2394$_i[0],_s853=_t2394$_i[1];_e1758+="<x-menuitem value=\"".concat(_i1477,"\"><x-label>").concat(_s853,"</x-label></x-menuitem>");}this["#view-select"].value=null,this["#view-menu"].innerHTML=_e1758,0===_t2393.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=null):1===_t2393.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=_t2393[0][0]):(this["#view-subsection"].hidden=!1,void 0!==_t2393.find(function(_ref220){var _ref221=_slicedToArray(_ref220,1),t=_ref221[0];return t===_i1475;})?this["#view-select"].value=_i1475:this["#view-select"].value=_t2393[0][0]);}}if(t){var _t2395=this.Qs.getConfig("bx-resizeviewgenerator:area","all");this["#area-buttons"].value=_t2395;}if(null===this["#view-select"].value?(this["#area-heading"].disabled=!0,this["#all-area-button"].disabled=!0,this["#selected-area-button"].disabled=!0):(this["#area-heading"].disabled=!1,this["#all-area-button"].disabled=!1,this["#selected-area-button"].disabled=!1),t&&(this["#padding-input"].value=this.Qs.getConfig("bx-resizeviewgenerator:padding",0)),null===this["#view-select"].value?(this["#padding-heading"].disabled=!0,this["#padding-input"].disabled=!0):(this["#padding-heading"].disabled=!1,this["#padding-input"].disabled=!1),t){var _t2396=this.Qs.getConfig("bx-resizeviewgenerator:origin",null);this["#origin-switch"].toggled=Mf(_t2396),this["#origin-x-input"].value=Mf(_t2396)?_t2396[0]:0,this["#origin-y-input"].value=Mf(_t2396)?_t2396[1]:0;}null===this["#view-select"].value?(this["#origin-heading"].disabled=!0,this["#origin-switch"].disabled=!0,this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0):(this["#origin-heading"].disabled=!1,this["#origin-switch"].disabled=!1,this["#origin-switch"].toggled?(this["#origin-x-label"].disabled=!1,this["#origin-x-input"].disabled=!1,this["#origin-y-label"].disabled=!1,this["#origin-y-input"].disabled=!1,null===this["#origin-x-input"].value&&(this["#origin-x-input"].value=0),null===this["#origin-y-input"].value&&(this["#origin-y-input"].value=0)):(this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-x-input"].value=null,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0,this["#origin-y-input"].value=null));}},{key:"dM",value:function(){var _dM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee243(){var t,e,_e1760,_i1479,_iterator1574,_step1574,_i1480,_s855,_n679,_o533,_l394,_l395,_l396,_a292,_h228,_r153,_d121,_c88,_p79;return regeneratorRuntime.wrap(function _callee243$(_context245){while(1){switch(_context245.prev=_context245.next){case 0:t=this.Js.board,e=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");if(!(!1===t.currentWorkspace.hasAttribute("viewBox")&&0===e.length)){_context245.next=5;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context245.next=21;break;case 5:_e1760=[],_i1479=[];_iterator1574=_createForOfIteratorHelper(t.currentWorkspace.children);try{for(_iterator1574.s();!(_step1574=_iterator1574.n()).done;){_i1480=_step1574.value;v.includes(_i1480.localName)&&_e1760.push(_i1480);}}catch(err){_iterator1574.e(err);}finally{_iterator1574.f();}if(!("all"===this["#area-buttons"].value?_i1479=[].concat(_e1760):"selected"===this["#area-buttons"].value&&(_i1479=t.outermostSelectedObjectElements),0===_i1479.length)){_context245.next=12;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context245.next=21;break;case 12:_s855=t.extractArtworkWithElements(_e1760),_n679=_i1479.map(function(t){return Ti(t);}),_o533=We(_n679),_l394=this["#padding-input"].value;!1===Mf(_l394)&&(_l394=[_l394,_l394,_l394,_l394]);_l395=_l394,_l396=_slicedToArray(_l395,4),_a292=_l396[0],_h228=_l396[1],_r153=_l396[2],_d121=_l396[3];_o533=He(_o533,qt(t.currentWorkspace).inverse()),_o533=je(_o533,t.geometryPrecision),_s855.initialViewBox=new DOMRect(_o533.x,_o533.y,_o533.width,_o533.height),_o533.width+=_d121+_h228,_o533.height+=_a292+_r153,_o533.x-=_d121,_o533.y-=_a292,_o533=je(_o533,t.geometryPrecision),_s855.setAttribute("viewBox","".concat(_o533.x," ").concat(_o533.y," ").concat(_o533.width," ").concat(_o533.height)),_s855.setAttribute("width",_o533.width),_s855.setAttribute("height",_o533.height);_c88=Vp(_s855);_context245.next=19;return Hp(_c88);case 19:_p79=_context245.sent;this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1,this["#preview"].setAttribute("src",_p79),this["#origin-switch"].toggled?(this["#preview-x-td"].textContent=this["#origin-x-input"].value,this["#preview-y-td"].textContent=this["#origin-y-input"].value):(this["#preview-x-td"].textContent=_o533.x,this["#preview-y-td"].textContent=_o533.y),this["#preview-width-td"].textContent=_o533.width,this["#preview-height-td"].textContent=_o533.height;case 21:case"end":return _context245.stop();}}},_callee243,this);}));function dM(){return _dM.apply(this,arguments);}return dM;}()},{key:"LM",value:function LM(){var t=this.Js.board,e=t.outermostSelectedObjectElements,i=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===t.currentWorkspace.hasAttribute("viewBox")&&0===i.length||"selected"===this["#area-buttons"].value&&0===e.length?this["#generate-button"].disabled=!0:this["#generate-button"].disabled=!1;}}]);return Pf;}(tf);_defineProperty(Pf,"RC",Qi(_templateObject507()));_defineProperty(Pf,"BC",Qi(_templateObject508()));_defineProperty(Pf,"_shadowStyleSheet",Ji(_templateObject509()));customElements.define("bx-resizeviewgenerator",Pf);var Df={"default":{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},blackAndWhite:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:2,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:0,lineFilter:!1,ignoreWhite:!0},grayscale:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:7,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},posterized:{workingSize:512,blurRadius:5,blurDelta:20,numberOfColors:5,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},curvy:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.01,qtres:1,pathOmit:8,rightAngleEnhance:!1,strokeWidth:1,lineFilter:!0,ignoreWhite:!1},sharp:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:.01,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},detailed:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:64,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.5,qtres:.5,pathOmit:0,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},smoothed:{workingSize:512,blurRadius:5,blurDelta:64,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1}};var zf=/*#__PURE__*/function(_tf8){_inherits(zf,_tf8);var _super222=_createSuper(zf);_createClass(zf,[{key:"options",get:function get(){return{workingSize:this["#working-size-input"].value,blurRadius:this["#blur-radius-input"].value,blurDelta:this["#blur-delta-input"].value,numberOfColors:this["#number-of-colors-input"].value,minColorRatio:this["#min-color-ratio-input"].value,colorQuantCycles:this["#color-quant-cycles-input"].value,colorSampling:parseInt(this["#color-sampling-buttons"].value),ltres:this["#ltres-input"].value,qtres:this["#qtres-input"].value,pathOmit:this["#path-omit-input"].value,rightAngleEnhance:this["#right-angle-enhance-checkbox"].toggled,strokeWidth:this["#stroke-width-input"].value,lineFilter:this["#line-filter-checkbox"].toggled,ignoreWhite:this["#ignore-white-checkbox"].toggled,geometryPrecision:this.Js.board.geometryPrecision};}}]);function zf(){var _this1012;_classCallCheck(this,zf);_this1012=_super222.call(this),_this1012["#preset-select"].addEventListener("change",function(){return _this1012.RM();}),_this1012["#working-size-box"].addEventListener("changestart",function(){return _this1012.BM();}),_this1012["#blur-radius-input"].addEventListener("changestart",function(){return _this1012.GM();}),_this1012["#blur-delta-input"].addEventListener("changestart",function(){return _this1012.UM();}),_this1012["#number-of-colors-input"].addEventListener("changestart",function(){return _this1012.FM();}),_this1012["#min-color-ratio-input"].addEventListener("changestart",function(){return _this1012.NM();}),_this1012["#color-quant-cycles-input"].addEventListener("changestart",function(){return _this1012.VM();}),_this1012["#color-sampling-buttons"].addEventListener("toggle",function(){return _this1012.jM();}),_this1012["#ltres-input"].addEventListener("changestart",function(){return _this1012.HM();}),_this1012["#qtres-input"].addEventListener("changestart",function(){return _this1012.WM();}),_this1012["#path-omit-input"].addEventListener("changestart",function(){return _this1012.YM();}),_this1012["#right-angle-enhance-checkbox"].addEventListener("toggle",function(){return _this1012.qM();}),_this1012["#stroke-width-box"].addEventListener("changestart",function(){return _this1012.XM();}),_this1012["#line-filter-checkbox"].addEventListener("toggle",function(){return _this1012.ZM();}),_this1012["#ignore-white-checkbox"].addEventListener("toggle",function(){return _this1012.KM();}),_this1012["#preview-button"].addEventListener("click",function(){return _this1012.yM();}),_this1012["#generate-button"].addEventListener("click",function(){return _this1012.NC();});return _this1012;}_createClass(zf,[{key:"connectedCallback",value:function connectedCallback(){var _this1013=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-vectorizegenerator:workingSize",512),s=t.getConfig("bx-vectorizegenerator:blurRadius",0),n=t.getConfig("bx-vectorizegenerator:blurDelta",20),o=t.getConfig("bx-vectorizegenerator:numberOfColors",16),l=t.getConfig("bx-vectorizegenerator:minColorRatio",0),a=t.getConfig("bx-vectorizegenerator:colorQuantCycles",3),h=t.getConfig("bx-vectorizegenerator:colorSampling",2),r=t.getConfig("bx-vectorizegenerator:ltres",1),d=t.getConfig("bx-vectorizegenerator:qtres",1),c=t.getConfig("bx-vectorizegenerator:pathOmit",8),p=t.getConfig("bx-vectorizegenerator:rightAngleEnhance",!0),u=t.getConfig("bx-vectorizegenerator:strokeWidth",1),x=t.getConfig("bx-vectorizegenerator:lineFilter",!1),b=t.getConfig("bx-vectorizegenerator:ignoreWhite",!1);this["#working-size-slider"].value=i,this["#working-size-input"].value=i,this["#blur-radius-input"].value=s,this["#blur-delta-input"].value=n,this["#number-of-colors-input"].value=o,this["#min-color-ratio-input"].value=l,this["#color-quant-cycles-input"].value=a,this["#color-sampling-buttons"].value=h+"",this["#ltres-input"].value=r,this["#qtres-input"].value=d,this["#path-omit-input"].value=c,this["#right-angle-enhance-checkbox"].toggled=p,this["#stroke-width-input"].value=u,this["#stroke-width-slider"].value=u,this["#line-filter-checkbox"].toggled=x,this["#ignore-white-checkbox"].toggled=b,e.addEventListener("selectedelementschange",this.il=function(){_this1013.kM(),_this1013.qs();}),e.addEventListener("workspacemutation",this.hn=function(){_this1013.kM(),_this1013.qs();}),this.qs(),this.QM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"RM",value:function RM(){var t=this["#preset-select"].value,e=Df[t];if(this.kM(),e){for(var _i1481=0,_Object$entries12=Object.entries(e);_i1481<_Object$entries12.length;_i1481++){var _Object$entries12$_i=_slicedToArray(_Object$entries12[_i1481],2),_t2397=_Object$entries12$_i[0],_i1482=_Object$entries12$_i[1];this.Qs.setConfig("bx-vectorizegenerator:".concat(_t2397),_i1482);}this["#working-size-slider"].value=e.workingSize,this["#working-size-input"].value=e.workingSize,this["#blur-radius-input"].value=e.blurRadius,this["#blur-delta-input"].value=e.blurDelta,this["#number-of-colors-input"].value=e.numberOfColors,this["#min-color-ratio-input"].value=e.minColorRatio,this["#color-quant-cycles-input"].value=e.colorQuantCycles,this["#color-sampling-buttons"].value=e.colorSampling+"",this["#ltres-input"].value=e.ltres,this["#qtres-input"].value=e.qtres,this["#path-omit-input"].value=e.pathOmit,this["#right-angle-enhance-checkbox"].toggled=e.rightAngleEnhance,this["#stroke-width-input"].value=e.strokeWidth,this["#stroke-width-slider"].value=e.strokeWidth,this["#line-filter-checkbox"].toggled=e.lineFilter,this["#ignore-white-checkbox"].toggled=e.ignoreWhite;}}},{key:"BM",value:function BM(){var _this1014=this;var t,_e1761;this.kM(),this["#working-size-box"].addEventListener("change",t=function t(_t2398){_t2398.target===_this1014["#working-size-slider"]?_this1014["#working-size-input"].value=_this1014["#working-size-slider"].value:_t2398.target===_this1014["#working-size-input"]&&(_this1014["#working-size-slider"].value=_this1014["#working-size-input"].value);}),this["#working-size-box"].addEventListener("changeend",_e1761=function e(){_this1014["#working-size-box"].removeEventListener("change",t),_this1014["#working-size-box"].removeEventListener("changeend",_e1761),_this1014.Qs.setConfig("bx-vectorizegenerator:workingSize",_this1014["#working-size-slider"].value),_this1014.QM();});}},{key:"GM",value:function GM(){var _this1015=this;this.kM(),this["#blur-radius-input"].addEventListener("changeend",function(){_this1015.Qs.setConfig("bx-vectorizegenerator:blurRadius",_this1015["#blur-radius-input"].value),_this1015.QM();},{once:!0});}},{key:"UM",value:function UM(){var _this1016=this;this.kM(),this["#blur-delta-input"].addEventListener("changeend",function(){_this1016.Qs.setConfig("bx-vectorizegenerator:blurDelta",_this1016["#blur-delta-input"].value),_this1016.QM();},{once:!0});}},{key:"FM",value:function FM(){var _this1017=this;this.kM(),this["#number-of-colors-input"].addEventListener("changeend",function(){_this1017.Qs.setConfig("bx-vectorizegenerator:numberOfColors",_this1017["#number-of-colors-input"].value),_this1017.QM();},{once:!0});}},{key:"NM",value:function NM(){var _this1018=this;this.kM(),this["#min-color-ratio-input"].addEventListener("changeend",function(){_this1018.Qs.setConfig("bx-vectorizegenerator:minColorRatio",_this1018["#min-color-ratio-input"].value),_this1018.QM();},{once:!0});}},{key:"VM",value:function VM(){var _this1019=this;this.kM(),this["#color-quant-cycles-input"].addEventListener("changeend",function(){_this1019.Qs.setConfig("bx-vectorizegenerator:colorQuantCycles",_this1019["#color-quant-cycles-input"].value),_this1019.QM();});}},{key:"jM",value:function jM(){this.kM(),this.Qs.setConfig("bx-vectorizegenerator:colorSampling",this["#color-sampling-buttons"].value),this.QM();}},{key:"HM",value:function HM(){var _this1020=this;this.kM(),this["#ltres-input"].addEventListener("changeend",function(){_this1020.Qs.setConfig("bx-vectorizegenerator:ltres",_this1020["#ltres-input"].value),_this1020.QM();},{once:!0});}},{key:"WM",value:function WM(){var _this1021=this;this.kM(),this["#qtres-input"].addEventListener("changeend",function(){_this1021.Qs.setConfig("bx-vectorizegenerator:qtres",_this1021["#qtres-input"].value),_this1021.QM();},{once:!0});}},{key:"YM",value:function YM(){var _this1022=this;this.kM(),this["#path-omit-input"].addEventListener("changeend",function(){_this1022.Qs.setConfig("bx-vectorizegenerator:pathOmit",_this1022["#path-omit-input"].value),_this1022.QM();},{once:!0});}},{key:"qM",value:function qM(){this.kM(),this.Qs.setConfig("bx-vectorizegenerator:rightAngleEnhance",this["#right-angle-enhance-checkbox"].toggled),this.QM();}},{key:"XM",value:function XM(){var _this1023=this;var t,_e1762;this.kM(),this["#stroke-width-box"].addEventListener("change",t=function t(_t2399){_t2399.target===_this1023["#stroke-width-slider"]?_this1023["#stroke-width-input"].value=_this1023["#stroke-width-slider"].value:_t2399.target===_this1023["#stroke-width-input"]&&(_this1023["#stroke-width-slider"].value=_this1023["#stroke-width-input"].value);}),this["#stroke-width-box"].addEventListener("changeend",_e1762=function e(){_this1023["#stroke-width-box"].removeEventListener("change",t),_this1023["#stroke-width-box"].removeEventListener("changeend",_e1762),_this1023.Qs.setConfig("bx-vectorizegenerator:strokeWidth",_this1023["#stroke-width-input"].value),_this1023.QM();});}},{key:"ZM",value:function ZM(){this.kM(),this.Qs.setConfig("bx-vectorizegenerator:lineFilter",this["#line-filter-checkbox"].toggled),this.QM();}},{key:"KM",value:function KM(){this.kM(),this.Qs.setConfig("bx-vectorizegenerator:ignoreWhite",this["#ignore-white-checkbox"].toggled),this.QM();}},{key:"yM",value:function yM(){this._M();}},{key:"NC",value:function(){var _NC2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee244(){var t,e,i,s,n,o,l,a,h,r,d,c,p,_i1483,_arr77,_e1763,_iterator1575,_step1575,_loop40;return regeneratorRuntime.wrap(function _callee244$(_context246){while(1){switch(_context246.prev=_context246.next){case 0:e=this.Js.board;i=e.selectedElements[0];_context246.next=4;return window.createImageBitmap(i);case 4:s=_context246.sent;n=Wt(i);o=i.getBBox();_context246.next=9;return this.JM(s,this.options);case 9:l=_context246.sent;a=$i(l);h=o.width/a.viewBox.baseVal.width;r=o.height/a.viewBox.baseVal.height;d=o.x-a.viewBox.baseVal.x*h;c=o.y-a.viewBox.baseVal.y*r;p=new DOMMatrix();if(p.multiplySelf(n),p.translateSelf(d,c),p.scaleSelf(h,r),p=Nt(p,e.transformPrecision),e.undoManager.checkpoint("Vectorize"),1===a.children.length)t=a.children[0];else{t=Ii("svg:g");for(_i1483=0,_arr77=_toConsumableArray(a.children);_i1483<_arr77.length;_i1483++){_e1763=_arr77[_i1483];t.append(_e1763);}}t.setAttribute("transform",p);_iterator1575=_createForOfIteratorHelper(i.style);try{_loop40=function _loop40(){var e=_step1575.value;var s=i.style.getPropertyValue(e),n=V.find(function(t){return t.name===e;});n&&n.appliesTo.includes(t.localName)&&t.style.setProperty(e,s);};for(_iterator1575.s();!(_step1575=_iterator1575.n()).done;){_loop40();}}catch(err){_iterator1575.e(err);}finally{_iterator1575.f();}i.replaceWith(t),e.selectedElements=[t],e.selectedTextRange=null;case 21:case"end":return _context246.stop();}}},_callee244,this);}));function NC(){return _NC2.apply(this,arguments);}return NC;}()},{key:"JM",value:function JM(t,e){return new Promise(function(i){var s=new Worker("/workers/vectorize.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"_M",value:function(){var _M4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee245(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee245$(_context247){while(1){switch(_context247.prev=_context247.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this.Js.board.selectedElements[0];_context247.next=4;return window.createImageBitmap(t);case 4:e=_context247.sent;t.getBoundingClientRect();_context247.next=8;return this.JM(e,this.options);case 8:i=_context247.sent;s=$i(i);s.setAttribute("id","preview"),s.setAttribute("part","preview"),this["#preview"].replaceWith(s),this["#preview"]=s,this["#preview-label"].textContent="",this["#preview-label"].hidden=!0,this["#preview-section"].scrollIntoViewIfNeeded();case 11:case"end":return _context247.stop();}}},_callee245,this);}));function _M(){return _M4.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].setAttribute("hidden",""),this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=null;1===this.Js.board.outermostSelectedObjectElements.length&&"image"===this.Js.board.outermostSelectedObjectElements[0].localName&&(t=this.Js.board.outermostSelectedObjectElements[0]);var e=null===t;this["#options-heading"].disabled=e,this["#preset-heading"].disabled=e,this["#preset-select"].disabled=e,this["#preprocessing-heading"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#blur-radius-heading"].disabled=e,this["#blur-radius-input"].disabled=e,this["#blur-delta-heading"].disabled=e,this["#blur-delta-input"].disabled=e,this["#color-heading"].disabled=e,this["#number-of-colors-heading"].disabled=e,this["#number-of-colors-input"].disabled=e,this["#min-color-ratio-heading"].disabled=e,this["#min-color-ratio-input"].disabled=e,this["#color-quant-cycles-heading"].disabled=e,this["#color-quant-cycles-input"].disabled=e,this["#color-sampling-heading"].disabled=e;var _iterator1576=_createForOfIteratorHelper(this["#color-sampling-buttons"].children),_step1576;try{for(_iterator1576.s();!(_step1576=_iterator1576.n()).done;){var _t2400=_step1576.value;_t2400.disabled=e;}}catch(err){_iterator1576.e(err);}finally{_iterator1576.f();}this["#tracing-heading"].disabled=e,this["#ltres-heading"].disabled=e,this["#ltres-input"].disabled=e,this["#qtres-heading"].disabled=e,this["#qtres-input"].disabled=e,this["#path-omit-heading"].disabled=e,this["#path-omit-input"].disabled=e,this["#right-angle-enhance-checkbox"].disabled=e,this["#right-angle-enhance-label"].disabled=e,this["#rendering-heading"].disabled=e,this["#stroke-width-heading"].disabled=e,this["#stroke-width-slider"].disabled=e,this["#stroke-width-input"].disabled=e,this["#line-filter-checkbox"].disabled=e,this["#ignore-white-checkbox"].disabled=e,this["#preview-heading"].disabled=e,this["#preview-button"].disabled=e,this["#generate-button"].disabled=null===t;}},{key:"QM",value:function QM(){var t=null;for(var _i1484=0,_Object$entries13=Object.entries(Df);_i1484<_Object$entries13.length;_i1484++){var _Object$entries13$_i=_slicedToArray(_Object$entries13[_i1484],2),_e1764=_Object$entries13$_i[0],_i1485=_Object$entries13$_i[1];if(this["#working-size-input"].value===_i1485.workingSize&&this["#working-size-slider"].value===_i1485.workingSize&&this["#blur-radius-input"].value===_i1485.blurRadius&&this["#blur-delta-input"].value===_i1485.blurDelta&&this["#number-of-colors-input"].value===_i1485.numberOfColors&&this["#min-color-ratio-input"].value===_i1485.minColorRatio&&this["#color-quant-cycles-input"].value===_i1485.colorQuantCycles&&this["#color-sampling-buttons"].value===_i1485.colorSampling+""&&this["#ltres-input"].value===_i1485.ltres&&this["#qtres-input"].value===_i1485.qtres&&this["#path-omit-input"].value===_i1485.pathOmit&&this["#right-angle-enhance-checkbox"].toggled===_i1485.rightAngleEnhance&&this["#stroke-width-input"].value===_i1485.strokeWidth&&this["#line-filter-checkbox"].toggled===_i1485.lineFilter&&this["#ignore-white-checkbox"].toggled===_i1485.ignoreWhite){t=_e1764;break;}}this["#preset-select"].value=t;}}]);return zf;}(tf);_defineProperty(zf,"RC",Qi(_templateObject510()));_defineProperty(zf,"BC",Qi(_templateObject511()));_defineProperty(zf,"_shadowStyleSheet",Ji(_templateObject512()));customElements.define("bx-vectorizegenerator",zf);var Of=/*#__PURE__*/function(_tf9){_inherits(Of,_tf9);var _super223=_createSuper(Of);_createClass(Of,[{key:"options",get:function get(){return{columns:this["#columns-input"].value,rows:this["#rows-input"].value,pixelSize:this["#pixel-size-input"].value/100,pixelShape:this["#pixel-shape-buttons"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function Of(){var _this1024;_classCallCheck(this,Of);_this1024=_super223.call(this),_this1024.ip=is(_this1024.qs,1e3,_assertThisInitialized(_this1024)),_this1024["#columns-input"].addEventListener("changestart",function(){return _this1024.lM();}),_this1024["#rows-input"].addEventListener("changestart",function(){return _this1024.aM();}),_this1024["#pixel-size-box"].addEventListener("changestart",function(){return _this1024.om();}),_this1024["#pixel-shape-buttons"].addEventListener("toggle",function(){return _this1024.tP();}),_this1024["#render-as-buttons"].addEventListener("toggle",function(){return _this1024.eP();}),_this1024["#generate-button"].addEventListener("click",function(){return _this1024.NC();});return _this1024;}_createClass(Of,[{key:"connectedCallback",value:function connectedCallback(){var _this1025=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Qs.getConfig("bx-pixelategenerator:columns",20),e=this.Qs.getConfig("bx-pixelategenerator:rows",20),i=this.Qs.getConfig("bx-pixelategenerator:pixelSize",.9),s=this.Qs.getConfig("bx-pixelategenerator:pixelShape","rectangle"),n=this.Qs.getConfig("bx-pixelategenerator:renderAs","paths");this["#columns-input"].value=t,this["#rows-input"].value=e,this["#pixel-size-slider"].value=tt(100*i,2),this["#pixel-size-input"].value=tt(100*i,2),this["#pixel-shape-buttons"].value=s,this["#render-as-buttons"].value=n,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this1025.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this1025.ip();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"lM",value:function lM(t){var _this1026=this;var e,i,s=this["#rows-input"].value/this["#columns-input"].value;this["#columns-input"].addEventListener("change",e=function e(){_this1026["#rows-input"].value=Math.ceil(_this1026["#columns-input"].value*s);}),this["#columns-input"].addEventListener("changeend",i=function(_i1486){function i(){return _i1486.apply(this,arguments);}i.toString=function(){return _i1486.toString();};return i;}(function(){_this1026["#columns-input"].removeEventListener("change",e),_this1026["#columns-input"].removeEventListener("changeend",i),_this1026.Qs.setConfig("bx-pixelategenerator:columns",_this1026["#columns-input"].value),_this1026.Qs.setConfig("bx-pixelategenerator:rows",_this1026["#rows-input"].value),_this1026.qs();}));}},{key:"aM",value:function aM(t){var _this1027=this;var e,i,s=this["#columns-input"].value/this["#rows-input"].value;this["#rows-input"].addEventListener("change",e=function e(){_this1027["#columns-input"].value=Math.ceil(_this1027["#rows-input"].value*s);}),this["#rows-input"].addEventListener("changeend",i=function(_i1487){function i(){return _i1487.apply(this,arguments);}i.toString=function(){return _i1487.toString();};return i;}(function(){_this1027["#rows-input"].removeEventListener("change",e),_this1027["#rows-input"].removeEventListener("changeend",i),_this1027.Qs.setConfig("bx-pixelategenerator:columns",_this1027["#columns-input"].value),_this1027.Qs.setConfig("bx-pixelategenerator:rows",_this1027["#rows-input"].value),_this1027.qs();}));}},{key:"om",value:function om(){var _this1028=this;var t,_e1765;this["#pixel-size-box"].addEventListener("change",t=function t(_t2401){_t2401.target===_this1028["#pixel-size-slider"]?_this1028["#pixel-size-input"].value=_this1028["#pixel-size-slider"].value:_t2401.target===_this1028["#pixel-size-input"]&&(_this1028["#pixel-size-slider"].value=_this1028["#pixel-size-input"].value);}),this["#pixel-size-box"].addEventListener("changeend",_e1765=function e(){_this1028["#pixel-size-box"].removeEventListener("change",t),_this1028["#pixel-size-box"].removeEventListener("changeend",_e1765),_this1028.Qs.setConfig("bx-pixelategenerator:pixelSize",_this1028["#pixel-size-slider"].value/100),_this1028.qs();});}},{key:"tP",value:function tP(){this.Qs.setConfig("bx-pixelategenerator:pixelShape",this["#pixel-shape-buttons"].value),this.qs();}},{key:"eP",value:function eP(){this.Qs.setConfig("bx-pixelategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"NC",value:function(){var _NC3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee246(){var t,e,i,_t2402,_i1488,_s856,s,n,o,l,_iterator1577,_step1577,_loop41;return regeneratorRuntime.wrap(function _callee246$(_context248){while(1){switch(_context248.prev=_context248.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context248.next=7;break;}_context248.next=4;return createImageBitmap(i);case 4:e=_context248.sent;_context248.next=15;break;case 7:_t2402=this.Js.board.extractArtworkWithSelectedElements();_i1488=Vp(_t2402);_context248.next=11;return Sf(_i1488,"png",{colors:0});case 11:_s856=_context248.sent;_context248.next=14;return createImageBitmap(_s856);case 14:e=_context248.sent;case 15:s=i.getBoundingClientRect();_context248.next=18;return this.iP(e,this.options);case 18:n=_context248.sent;o=Eh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Pixelate");l=t.insertArtworkIntoBBox(o,s);_iterator1577=_createForOfIteratorHelper(i.style);try{_loop41=function _loop41(){var t=_step1577.value;var e=i.style.getPropertyValue(t),s=V.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1577.s();!(_step1577=_iterator1577.n()).done;){_loop41();}}catch(err){_iterator1577.e(err);}finally{_iterator1577.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context248.stop();}}},_callee246,this);}));function NC(){return _NC3.apply(this,arguments);}return NC;}()},{key:"iP",value:function iP(t,e){return new Promise(function(i){var s=new Worker("/workers/pixelate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee247(){var t,_e1766,_i1489,_e1767,_i1490,_s857,_e1768,_iterator1578,_step1578,_e1770,_iterator1579,_step1579,_e1771,_e1769,_i1491;return regeneratorRuntime.wrap(function _callee247$(_context249){while(1){switch(_context249.prev=_context249.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context249.next=18;break;}_e1766=this.Js.board.outermostSelectedObjectElements[0],_i1489=_e1766.getBoundingClientRect();if(!(_i1489.width>=1&&_i1489.height>=1)){_context249.next=18;break;}if(!("image"===_e1766.localName)){_context249.next=10;break;}_context249.next=7;return createImageBitmap(_e1766);case 7:t=_context249.sent;_context249.next=18;break;case 10:_e1767=this.Js.board.extractArtworkWithSelectedElements();_i1490=Vp(_e1767);_context249.next=14;return Sf(_i1490,"png",{colors:0});case 14:_s857=_context249.sent;_context249.next=17;return createImageBitmap(_s857);case 17:t=_context249.sent;case 18:if(this["#options-heading"].disabled=null===t,this["#columns-heading"].disabled=null===t,this["#columns-input"].disabled=null===t,this["#rows-heading"].disabled=null===t,this["#rows-input"].disabled=null===t,t){_e1768=t.height/t.width;this["#rows-input"].value=Math.floor(this["#columns-input"].value*_e1768);}this["#pixel-size-heading"].disabled=null===t,this["#pixel-size-slider"].disabled=null===t,this["#pixel-size-input"].disabled=null===t,this["#pixel-shape-heading"].disabled=null===t;_iterator1578=_createForOfIteratorHelper(this["#pixel-shape-buttons"].children);try{for(_iterator1578.s();!(_step1578=_iterator1578.n()).done;){_e1770=_step1578.value;_e1770.disabled=null===t;}}catch(err){_iterator1578.e(err);}finally{_iterator1578.f();}this["#render-as-heading"].disabled=null===t;_iterator1579=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1579.s();!(_step1579=_iterator1579.n()).done;){_e1771=_step1579.value;_e1771.disabled=null===t;}}catch(err){_iterator1579.e(err);}finally{_iterator1579.f();}if(!(null===t)){_context249.next=29;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context249.next=34;break;case 29:_context249.next=31;return this.iP(t,this.options);case 31:_e1769=_context249.sent;_i1491=$i(_e1769);_i1491.setAttribute("id","preview"),_i1491.setAttribute("part","preview"),this["#preview"].replaceWith(_i1491),this["#preview"]=_i1491,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 34:this["#generate-button"].disabled=null===t;case 35:case"end":return _context249.stop();}}},_callee247,this);}));function qs(){return _qs6.apply(this,arguments);}return qs;}()}]);return Of;}(tf);_defineProperty(Of,"RC",Qi(_templateObject513()));_defineProperty(Of,"BC",Qi(_templateObject514()));_defineProperty(Of,"_shadowStyleSheet",Ji(_templateObject515()));customElements.define("bx-pixelategenerator",Of);var Ef=/*#__PURE__*/function(_tf10){_inherits(Ef,_tf10);var _super224=_createSuper(Ef);_createClass(Ef,[{key:"options",get:function get(){return{cellSize:this["#cell-size-input"].value/100,variance:this["#variance-input"].value/100,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function Ef(){var _this1029;_classCallCheck(this,Ef);_this1029=_super224.call(this),_this1029.ip=is(_this1029.qs,1e3,_assertThisInitialized(_this1029)),_this1029["#cell-size-box"].addEventListener("changestart",function(){return _this1029.eM();}),_this1029["#variance-box"].addEventListener("changestart",function(){return _this1029.iM();}),_this1029["#seed-box"].addEventListener("changestart",function(){return _this1029.Mk();}),_this1029["#render-as-buttons"].addEventListener("toggle",function(){return _this1029.eP();}),_this1029["#generate-button"].addEventListener("click",function(){return _this1029.NC();});return _this1029;}_createClass(Ef,[{key:"connectedCallback",value:function connectedCallback(){var _this1030=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Qs.getConfig("bx-triangulategenerator:cellSize",.1),e=this.Qs.getConfig("bx-triangulategenerator:variance",.75),i=this.Qs.getConfig("bx-triangulategenerator:seed",100),s=this.Qs.getConfig("bx-triangulategenerator:renderAs","paths");this["#cell-size-slider"].value=tt(100*t,2),this["#cell-size-input"].value=tt(100*t,2),this["#variance-slider"].value=tt(100*e,2),this["#variance-input"].value=tt(100*e,2),this["#seed-slider"].value=i,this["#seed-input"].value=i,this["#render-as-buttons"].value=s,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this1030.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this1030.ip();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"eM",value:function eM(){var _this1031=this;var t,_e1772;this["#cell-size-box"].addEventListener("change",t=function t(_t2403){_t2403.target===_this1031["#cell-size-slider"]?_this1031["#cell-size-input"].value=_this1031["#cell-size-slider"].value:_t2403.target===_this1031["#cell-size-input"]&&(_this1031["#cell-size-slider"].value=_this1031["#cell-size-input"].value);}),this["#cell-size-box"].addEventListener("changeend",_e1772=function e(){_this1031["#cell-size-box"].removeEventListener("change",t),_this1031["#cell-size-box"].removeEventListener("changeend",_e1772),_this1031.Qs.setConfig("bx-triangulategenerator:cellSize",_this1031["#cell-size-slider"].value/100),_this1031.qs();});}},{key:"iM",value:function iM(){var _this1032=this;var t,_e1773;this["#variance-box"].addEventListener("change",t=function t(_t2404){_t2404.target===_this1032["#variance-slider"]?_this1032["#variance-input"].value=_this1032["#variance-slider"].value:_t2404.target===_this1032["#variance-input"]&&(_this1032["#variance-slider"].value=_this1032["#variance-input"].value);}),this["#variance-box"].addEventListener("changeend",_e1773=function e(){_this1032["#variance-box"].removeEventListener("change",t),_this1032["#variance-box"].removeEventListener("changeend",_e1773),_this1032.Qs.setConfig("bx-triangulategenerator:variance",_this1032["#variance-slider"].value/100),_this1032.qs();});}},{key:"Mk",value:function Mk(){var _this1033=this;var t,_e1774;this["#seed-box"].addEventListener("change",t=function t(_t2405){_t2405.target===_this1033["#seed-slider"]?_this1033["#seed-input"].value=_this1033["#seed-slider"].value:_t2405.target===_this1033["#seed-input"]&&(_this1033["#seed-slider"].value=_this1033["#seed-input"].value);}),this["#seed-box"].addEventListener("changeend",_e1774=function e(){_this1033["#seed-box"].removeEventListener("change",t),_this1033["#seed-box"].removeEventListener("changeend",_e1774),_this1033.Qs.setConfig("bx-triangulategenerator:seed",_this1033["#seed-slider"].value),_this1033.qs();});}},{key:"eP",value:function eP(){this.Qs.setConfig("bx-triangulategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"NC",value:function(){var _NC4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee248(){var t,e,i,_t2406,_i1492,_s858,s,n,o,l,_iterator1580,_step1580,_loop42;return regeneratorRuntime.wrap(function _callee248$(_context250){while(1){switch(_context250.prev=_context250.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context250.next=7;break;}_context250.next=4;return createImageBitmap(i);case 4:e=_context250.sent;_context250.next=15;break;case 7:_t2406=this.Js.board.extractArtworkWithSelectedElements();_i1492=Vp(_t2406);_context250.next=11;return Sf(_i1492,"png",{colors:0});case 11:_s858=_context250.sent;_context250.next=14;return createImageBitmap(_s858);case 14:e=_context250.sent;case 15:s=i.getBoundingClientRect();_context250.next=18;return this.sP(e,this.options);case 18:n=_context250.sent;o=Eh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Triangulate");l=t.insertArtworkIntoBBox(o,s);_iterator1580=_createForOfIteratorHelper(i.style);try{_loop42=function _loop42(){var t=_step1580.value;var e=i.style.getPropertyValue(t),s=V.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1580.s();!(_step1580=_iterator1580.n()).done;){_loop42();}}catch(err){_iterator1580.e(err);}finally{_iterator1580.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context250.stop();}}},_callee248,this);}));function NC(){return _NC4.apply(this,arguments);}return NC;}()},{key:"sP",value:function sP(t,e){return new Promise(function(i){var s=new Worker("/workers/triangulate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee249(){var t,_e1775,_i1493,_e1776,_i1494,_s859,_iterator1581,_step1581,_e1778,_e1777,_i1495;return regeneratorRuntime.wrap(function _callee249$(_context251){while(1){switch(_context251.prev=_context251.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context251.next=18;break;}_e1775=this.Js.board.outermostSelectedObjectElements[0],_i1493=_e1775.getBoundingClientRect();if(!(_i1493.width>=1&&_i1493.height>=1)){_context251.next=18;break;}if(!("image"===_e1775.localName)){_context251.next=10;break;}_context251.next=7;return createImageBitmap(_e1775);case 7:t=_context251.sent;_context251.next=18;break;case 10:_e1776=this.Js.board.extractArtworkWithSelectedElements();_i1494=Vp(_e1776);_context251.next=14;return Sf(_i1494,"png",{colors:0});case 14:_s859=_context251.sent;_context251.next=17;return createImageBitmap(_s859);case 17:t=_context251.sent;case 18:this["#options-heading"].disabled=null===t,this["#cell-size-heading"].disabled=null===t,this["#cell-size-slider"].disabled=null===t,this["#cell-size-input"].disabled=null===t,this["#variance-heading"].disabled=null===t,this["#variance-slider"].disabled=null===t,this["#variance-input"].disabled=null===t,this["#seed-heading"].disabled=null===t,this["#seed-slider"].disabled=null===t,this["#seed-input"].disabled=null===t,this["#render-as-heading"].disabled=null===t;_iterator1581=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1581.s();!(_step1581=_iterator1581.n()).done;){_e1778=_step1581.value;_e1778.disabled=null===t;}}catch(err){_iterator1581.e(err);}finally{_iterator1581.f();}if(!(null===t)){_context251.next=25;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context251.next=30;break;case 25:_context251.next=27;return this.sP(t,this.options);case 27:_e1777=_context251.sent;_i1495=$i(_e1777);_i1495.setAttribute("id","preview"),_i1495.setAttribute("part","preview"),this["#preview"].replaceWith(_i1495),this["#preview"]=_i1495,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 30:this["#generate-button"].disabled=null===t;case 31:case"end":return _context251.stop();}}},_callee249,this);}));function qs(){return _qs7.apply(this,arguments);}return qs;}()}]);return Ef;}(tf);_defineProperty(Ef,"RC",Qi(_templateObject516()));_defineProperty(Ef,"BC",Qi(_templateObject517()));_defineProperty(Ef,"_shadowStyleSheet",Ji(_templateObject518()));customElements.define("bx-triangulategenerator",Ef);var Tf=/*#__PURE__*/function(_tf11){_inherits(Tf,_tf11);var _super225=_createSuper(Tf);_createClass(Tf,[{key:"nP",value:function nP(){var _this1035=this;return new Promise(function(t){_this1035.isConnected?t():_this1035.oP.push(t);});}},{key:"options",get:function get(){return{shapesType:this["#shapes-type-buttons"].value,shapesNumber:this["#shapes-number-input"].value,shapesAlpha:this["#shapes-alpha-input"].value,autoAdjustShapesAlpha:this["#auto-adjust-shapes-alpha-checkbox"].toggled,workingSize:this["#working-size-input"].value,shapesPerIteration:this["#shapes-per-iteration-input"].value,maxMutations:this["#max-mutations-input"].value,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,overflow:this["#overflow-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision};}}]);function Tf(){var _this1034;_classCallCheck(this,Tf);_this1034=_super225.call(this),_this1034.lP=null,_this1034.aP=null,_this1034.oP=[],_this1034["#shapes-type-buttons"].addEventListener("toggle",function(){return _this1034.hP();}),_this1034["#render-as-buttons"].addEventListener("toggle",function(){return _this1034.eP();}),_this1034["#overflow-buttons"].addEventListener("toggle",function(){return _this1034.rP();}),_this1034["#shapes-number-box"].addEventListener("changestart",function(){return _this1034.dP();}),_this1034["#shapes-alpha-box"].addEventListener("changestart",function(){return _this1034.cP();}),_this1034["#auto-adjust-shapes-alpha-checkbox"].addEventListener("toggle",function(){return _this1034.pP();}),_this1034["#working-size-box"].addEventListener("changestart",function(){return _this1034.BM();}),_this1034["#shapes-per-iteration-box"].addEventListener("changestart",function(){return _this1034.uP();}),_this1034["#max-mutations-box"].addEventListener("changestart",function(){return _this1034.xP();}),_this1034["#seed-box"].addEventListener("changestart",function(){return _this1034.Mk();}),_this1034["#generate-button"].addEventListener("click",function(){return _this1034.NC();});return _this1034;}_createClass(Tf,[{key:"connectedCallback",value:function connectedCallback(){var _this1036=this;this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");var t=this.Qs.getConfig("bx-primitivizegenerator:shapesType",["triangles"]),e=this.Qs.getConfig("bx-primitivizegenerator:renderAs","paths"),i=this.Qs.getConfig("bx-primitivizegenerator:overflow","cut"),s=this.Qs.getConfig("bx-primitivizegenerator:shapesNumber",40),n=this.Qs.getConfig("bx-primitivizegenerator:shapesAlpha",.7),o=this.Qs.getConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",!0),l=this.Qs.getConfig("bx-primitivizegenerator:workingSize",128),a=this.Qs.getConfig("bx-primitivizegenerator:shapesPerIteration",200),h=this.Qs.getConfig("bx-primitivizegenerator:maxMutations",16),r=this.Qs.getConfig("bx-primitivizegenerator:seed",100);this["#shapes-type-buttons"].value=t,this["#render-as-buttons"].value=e,this["#overflow-buttons"].value=i,this["#shapes-number-input"].value=s,this["#shapes-number-slider"].value=s,this["#shapes-alpha-input"].value=n,this["#shapes-alpha-slider"].value=n,this["#auto-adjust-shapes-alpha-checkbox"].toggled=o,this["#working-size-slider"].value=l,this["#working-size-input"].value=l,this["#shapes-per-iteration-slider"].value=a,this["#shapes-per-iteration-input"].value=a,this["#max-mutations-slider"].value=h,this["#max-mutations-input"].value=h,this["#seed-slider"].value=r,this["#seed-input"].value=r,this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this1036.qs();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(){_this1036.qs();}),this.Js.board.undoManager.addEventListener("undo",this.Da=function(){_this1036.bP();}),this.Js.board.undoManager.addEventListener("redo",this.za=function(){_this1036.bP();}),this.qs();var _iterator1582=_createForOfIteratorHelper(this.oP),_step1582;try{for(_iterator1582.s();!(_step1582=_iterator1582.n()).done;){var _t2407=_step1582.value;_t2407();}}catch(err){_iterator1582.e(err);}finally{_iterator1582.f();}this.oP=[];}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn),this.Js.board.undoManager.removeEventListener("undo",this.Da),this.Js.board.undoManager.removeEventListener("redo",this.za),null===Gi(this,"bx-generatorspanel")&&this.bP();}},{key:"mP",value:function(){var _mP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee251(){var _this1037=this;var t,e,i,_i1496,_s860,_n680;return regeneratorRuntime.wrap(function _callee251$(_context253){while(1){switch(_context253.prev=_context253.next){case 0:null!==this.lP&&this.bP();t=this.Js.board,e=null,i=t.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context253.next=8;break;}_context253.next=5;return createImageBitmap(i);case 5:e=_context253.sent;_context253.next=16;break;case 8:_i1496=t.extractArtworkWithSelectedElements();_s860=Vp(_i1496);_context253.next=12;return Sf(_s860,"png",{colors:0});case 12:_n680=_context253.sent;_context253.next=15;return createImageBitmap(_n680);case 15:e=_context253.sent;case 16:this.lP=new Worker("/workers/primitivize.js"),this.lP.postMessage([e,this.options]),this.aP=i,this["#progress-bar"].value=0,this.qs(),this["#preview"].innerHTML="",this["#preview"].setAttribute("viewBox","0 0 ".concat(e.width," ").concat(e.height)),this["#preview-section"].scrollIntoViewIfNeeded(),this.lP.addEventListener("message",/*#__PURE__*/function(){var _ref222=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee250(e){var _e$data,s,n,_e1779,_s861,_iterator1583,_step1583,_loop43;return regeneratorRuntime.wrap(function _callee250$(_context252){while(1){switch(_context252.prev=_context252.next){case 0:_e$data=_slicedToArray(e.data,2),s=_e$data[0],n=_e$data[1];if(!n.startsWith("<svg")){_context252.next=5;break;}_this1037["#progress-bar"].value=s;_context252.next=19;break;case 5:if(!("</svg>"===n)){_context252.next=18;break;}_context252.next=8;return _this1037.nP();case 8:if(!i.isConnected){_context252.next=15;break;}_e1779=_this1037["#preview"].cloneNode(!0);_e1779.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");_s861=t.insertArtworkIntoBBox(_e1779,i.getBoundingClientRect());_iterator1583=_createForOfIteratorHelper(i.style);try{_loop43=function _loop43(){var t=_step1583.value;var e=i.style.getPropertyValue(t),n=V.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s861.style.setProperty(t,e);};for(_iterator1583.s();!(_step1583=_iterator1583.n()).done;){_loop43();}}catch(err){_iterator1583.e(err);}finally{_iterator1583.f();}t.selectedElements=[_s861],t.selectedTextRange=null,i.remove();case 15:_this1037["#preview"].innerHTML="",_this1037["#progress-bar"].value=-1,_this1037.lP.terminate(),_this1037.lP=null,_this1037.qs();_context252.next=19;break;case 18:_this1037["#progress-bar"].value=s,_this1037["#preview"].insertAdjacentHTML("beforeend",n);case 19:case"end":return _context252.stop();}}},_callee250);}));return function(_x263){return _ref222.apply(this,arguments);};}());case 17:case"end":return _context253.stop();}}},_callee251,this);}));function mP(){return _mP.apply(this,arguments);}return mP;}()},{key:"gP",value:function gP(){if(null===this.lP)return;var t=this.Js.board,e=this.aP;if(e.isConnected){var _i1497=this["#preview"].cloneNode(!0);_i1497.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");var _s862=t.insertArtworkIntoBBox(_i1497,e.getBoundingClientRect());var _iterator1584=_createForOfIteratorHelper(e.style),_step1584;try{var _loop44=function _loop44(){var t=_step1584.value;var i=e.style.getPropertyValue(t),n=V.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s862.style.setProperty(t,i);};for(_iterator1584.s();!(_step1584=_iterator1584.n()).done;){_loop44();}}catch(err){_iterator1584.e(err);}finally{_iterator1584.f();}t.selectedElements=[_s862],t.selectedTextRange=null,e.remove();}this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.lP.terminate(),this.lP=null,this.aP=null,this.qs();}},{key:"bP",value:function bP(){null!==this.lP&&(this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.lP.terminate(),this.lP=null,this.aP=null,this.qs());}},{key:"hP",value:function hP(t){this.Qs.setConfig("bx-primitivizegenerator:shapesType",this["#shapes-type-buttons"].value);}},{key:"eP",value:function eP(){this.Qs.setConfig("bx-primitivizegenerator:renderAs",this["#render-as-buttons"].value);}},{key:"rP",value:function rP(){this.Qs.setConfig("bx-primitivizegenerator:overflow",this["#overflow-buttons"].value);}},{key:"dP",value:function dP(){var _this1038=this;var t,_e1780;this["#shapes-number-box"].addEventListener("change",t=function t(_t2408){_t2408.target===_this1038["#shapes-number-slider"]?_this1038["#shapes-number-input"].value=_this1038["#shapes-number-slider"].value:_t2408.target===_this1038["#shapes-number-input"]&&(_this1038["#shapes-number-slider"].value=_this1038["#shapes-number-input"].value);}),this["#shapes-number-box"].addEventListener("changeend",_e1780=function e(){_this1038["#shapes-number-box"].removeEventListener("change",t),_this1038["#shapes-number-box"].removeEventListener("changeend",_e1780),_this1038.Qs.setConfig("bx-primitivizegenerator:shapesNumber",_this1038["#shapes-number-input"].value);});}},{key:"cP",value:function cP(){var _this1039=this;var t,_e1781;this["#shapes-alpha-box"].addEventListener("change",t=function t(_t2409){_t2409.target===_this1039["#shapes-alpha-slider"]?_this1039["#shapes-alpha-input"].value=_this1039["#shapes-alpha-slider"].value:_t2409.target===_this1039["#shapes-alpha-input"]&&(_this1039["#shapes-alpha-slider"].value=_this1039["#shapes-alpha-input"].value);}),this["#shapes-alpha-box"].addEventListener("changeend",_e1781=function e(){_this1039["#shapes-alpha-box"].removeEventListener("change",t),_this1039["#shapes-alpha-box"].removeEventListener("changeend",_e1781),_this1039.Qs.setConfig("bx-primitivizegenerator:shapesAlpha",_this1039["#shapes-alpha-input"].value);});}},{key:"pP",value:function pP(){this.Qs.setConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",this["#auto-adjust-shapes-alpha-checkbox"].toggled);}},{key:"BM",value:function BM(){var _this1040=this;var t,_e1782;this["#working-size-box"].addEventListener("change",t=function t(_t2410){_t2410.target===_this1040["#working-size-slider"]?_this1040["#working-size-input"].value=_this1040["#working-size-slider"].value:_t2410.target===_this1040["#working-size-input"]&&(_this1040["#working-size-slider"].value=_this1040["#working-size-input"].value),_this1040.qs();}),this["#working-size-box"].addEventListener("changeend",_e1782=function e(){_this1040["#working-size-box"].removeEventListener("change",t),_this1040["#working-size-box"].removeEventListener("changeend",_e1782),_this1040.Qs.setConfig("bx-primitivizegenerator:workingSize",_this1040["#working-size-slider"].value);});}},{key:"uP",value:function uP(){var _this1041=this;var t,_e1783;this["#shapes-per-iteration-box"].addEventListener("change",t=function t(_t2411){_t2411.target===_this1041["#shapes-per-iteration-slider"]?_this1041["#shapes-per-iteration-input"].value=_this1041["#shapes-per-iteration-slider"].value:_t2411.target===_this1041["#shapes-per-iteration-input"]&&(_this1041["#shapes-per-iteration-slider"].value=_this1041["#shapes-per-iteration-input"].value),_this1041.qs();}),this["#shapes-per-iteration-box"].addEventListener("changeend",_e1783=function e(){_this1041["#shapes-per-iteration-box"].removeEventListener("change",t),_this1041["#shapes-per-iteration-box"].removeEventListener("changeend",_e1783),_this1041.Qs.setConfig("bx-primitivizegenerator:shapesPerIteration",_this1041["#shapes-per-iteration-slider"].value);});}},{key:"xP",value:function xP(){var _this1042=this;var t,_e1784;this["#max-mutations-box"].addEventListener("change",t=function t(_t2412){_t2412.target===_this1042["#max-mutations-slider"]?_this1042["#max-mutations-input"].value=_this1042["#max-mutations-slider"].value:_t2412.target===_this1042["#max-mutations-input"]&&(_this1042["#max-mutations-slider"].value=_this1042["#max-mutations-input"].value),_this1042.qs();}),this["#max-mutations-box"].addEventListener("changeend",_e1784=function e(){_this1042["#max-mutations-box"].removeEventListener("change",t),_this1042["#max-mutations-box"].removeEventListener("changeend",_e1784),_this1042.Qs.setConfig("bx-primitivizegenerator:maxMutations",_this1042["#max-mutations-slider"].value);});}},{key:"Mk",value:function Mk(){var _this1043=this;var t,_e1785;this["#seed-box"].addEventListener("change",t=function t(_t2413){_t2413.target===_this1043["#seed-slider"]?_this1043["#seed-input"].value=_this1043["#seed-slider"].value:_t2413.target===_this1043["#seed-input"]&&(_this1043["#seed-slider"].value=_this1043["#seed-input"].value),_this1043.qs();}),this["#seed-box"].addEventListener("changeend",_e1785=function e(){_this1043["#seed-box"].removeEventListener("change",t),_this1043["#seed-box"].removeEventListener("changeend",_e1785),_this1043.Qs.setConfig("bx-primitivizegenerator:seed",_this1043["#seed-slider"].value);});}},{key:"NC",value:function(){var _NC5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee252(){return regeneratorRuntime.wrap(function _callee252$(_context254){while(1){switch(_context254.prev=_context254.next){case 0:this.lP?this.gP():this.mP();case 1:case"end":return _context254.stop();}}},_callee252,this);}));function NC(){return _NC5.apply(this,arguments);}return NC;}()},{key:"qs",value:function(){var _qs8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee253(){var t,e,_iterator1585,_step1585,_t2414,_iterator1586,_step1586,_t2415,_iterator1587,_step1587,_t2416;return regeneratorRuntime.wrap(function _callee253$(_context255){while(1){switch(_context255.prev=_context255.next){case 0:t=null;1===this.Js.board.outermostSelectedObjectElements.length&&(t=this.Js.board.outermostSelectedObjectElements[0]);e=null===t||null!==this.lP;this["#options-heading"].disabled=e,this["#shapes-heading"].disabled=e,this["#algorithm-heading"].disabled=e,this["#rendering-heading"].disabled=e,this["#shapes-type-heading"].disabled=e;_iterator1585=_createForOfIteratorHelper(this["#shapes-type-buttons"].children);try{for(_iterator1585.s();!(_step1585=_iterator1585.n()).done;){_t2414=_step1585.value;_t2414.disabled=e;}}catch(err){_iterator1585.e(err);}finally{_iterator1585.f();}this["#shapes-number-heading"].disabled=e,this["#shapes-number-slider"].disabled=e,this["#shapes-number-input"].disabled=e,this["#shapes-alpha-heading"].disabled=e,this["#shapes-alpha-slider"].disabled=e,this["#shapes-alpha-input"].disabled=e,this["#auto-adjust-shapes-alpha-checkbox"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#shapes-per-iteration-heading"].disabled=e,this["#shapes-per-iteration-slider"].disabled=e,this["#shapes-per-iteration-input"].disabled=e,this["#max-mutations-heading"].disabled=e,this["#max-mutations-slider"].disabled=e,this["#max-mutations-input"].disabled=e,this["#seed-heading"].disabled=e,this["#seed-slider"].disabled=e,this["#seed-input"].disabled=e,this["#overflow-heading"].disabled=e;_iterator1586=_createForOfIteratorHelper(this["#overflow-buttons"].children);try{for(_iterator1586.s();!(_step1586=_iterator1586.n()).done;){_t2415=_step1586.value;_t2415.disabled=e;}}catch(err){_iterator1586.e(err);}finally{_iterator1586.f();}this["#render-as-heading"].disabled=e;_iterator1587=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1587.s();!(_step1587=_iterator1587.n()).done;){_t2416=_step1587.value;_t2416.disabled=e;}}catch(err){_iterator1587.e(err);}finally{_iterator1587.f();}this["#preview-section"].hidden=null===this.lP,this["#preview-section-hr"].hidden=null===this.lP,null===this.lP?(this["#generate-label"].textContent="Primitivize",this["#generate-button"].disabled=e):(this["#generate-label"].textContent="Stop",this["#generate-button"].disabled=!1);case 13:case"end":return _context255.stop();}}},_callee253,this);}));function qs(){return _qs8.apply(this,arguments);}return qs;}()}]);return Tf;}(tf);_defineProperty(Tf,"RC",Qi(_templateObject519()));_defineProperty(Tf,"BC",Qi(_templateObject520()));_defineProperty(Tf,"_shadowStyleSheet",Ji(_templateObject521()));customElements.define("bx-primitivizegenerator",Tf);var Af=/*#__PURE__*/function(_HTMLElement130){_inherits(Af,_HTMLElement130);var _super226=_createSuper(Af);_createClass(Af,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Af(){var _this1044;_classCallCheck(this,Af);_this1044=_super226.call(this),_this1044._shadowRoot=_this1044.attachShadow({mode:"closed"}),_this1044._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Af._shadowStyleSheet],_this1044._shadowRoot.append(document.importNode(Af._shadowTemplate.content,!0));var _iterator1588=_createForOfIteratorHelper(_this1044._shadowRoot.querySelectorAll("[id]")),_step1588;try{for(_iterator1588.s();!(_step1588=_iterator1588.n()).done;){var _t2417=_step1588.value;_this1044["#"+_t2417.id]=_t2417;}}catch(err){_iterator1588.e(err);}finally{_iterator1588.f();}_this1044["#generator-select"].addEventListener("change",function(){return _this1044.fP();});return _this1044;}_createClass(Af,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}},{key:"tn",value:function tn(){this["#generator-select"].value=this.Qs.getConfig("bx-generatorspanel:generator","bx-barcodegenerator"),this.qs();}},{key:"en",value:function en(){this["#generator-select"].value=null,this.qs();}},{key:"fP",value:function fP(){this.Qs.setConfig("bx-generatorspanel:generator",this["#generator-select"].value),this.qs();}},{key:"qs",value:function qs(){var t=this["#generator-select"].value;this["#main"].innerHTML=null===t?"":"<".concat(t,"></").concat(t,">");}}]);return Af;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Af,"observedAttributes",["enabled"]);_defineProperty(Af,"_shadowTemplate",Qi(_templateObject522()));_defineProperty(Af,"_shadowStyleSheet",Ji(_templateObject523()));customElements.define("bx-generatorspanel",Af);var $f=/*#__PURE__*/function(_HTMLElement131){_inherits($f,_HTMLElement131);var _super227=_createSuper($f);_createClass($f,[{key:"exportable",get:function get(){return this.hasAttribute("exportable");},set:function set(t){!0===t?this.setAttribute("exportable",""):this.removeAttribute("exportable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function $f(){var _this1045;_classCallCheck(this,$f);_this1045=_super227.call(this);var t=_this1045.constructor.wP;_this1045._shadowRoot=_this1045.attachShadow({mode:"closed"}),_this1045._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,$f._shadowStyleSheet,_this1045.constructor._shadowStyleSheet],_this1045._shadowRoot.append(document.importNode($f._shadowTemplate.content,!0)),t&&_this1045._shadowRoot.querySelector("#options-section").append(document.importNode(t.content,!0));var _iterator1589=_createForOfIteratorHelper(_this1045._shadowRoot.querySelectorAll("[id]")),_step1589;try{for(_iterator1589.s();!(_step1589=_iterator1589.n()).done;){var _t2418=_step1589.value;_this1045["#"+_t2418.id]=_t2418;}}catch(err){_iterator1589.e(err);}finally{_iterator1589.f();}_this1045.setAttribute("extends","bx-exportsettings");return _this1045;}_createClass($f,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("disabled"===t?this.qs():"exportable"===t&&this.dispatchEvent(new CustomEvent("exportablechange",{bubbles:!0})));}}]);return $f;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($f,"observedAttributes",["exportable","disabled"]);_defineProperty($f,"_shadowTemplate",Qi(_templateObject524()));_defineProperty($f,"_shadowStyleSheet",Ji(_templateObject525()));var If=Array.isArray;var Lf=/*#__PURE__*/function(_$f){_inherits(Lf,_$f);var _super228=_createSuper(Lf);_createClass(Lf,[{key:"format",get:function get(){return"png";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===If(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"dpi",get:function get(){return this["#dpi-input"].value;}},{key:"colors",get:function get(){return"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Lf(){var _this1046;_classCallCheck(this,Lf);_this1046=_super228.call(this),_this1046["#area-buttons"].addEventListener("toggle",function(){return _this1046.TM();}),_this1046["#view-select"].addEventListener("change",function(){return _this1046.vP();}),_this1046["#width-input"].addEventListener("changestart",function(){return _this1046.jg();}),_this1046["#height-input"].addEventListener("changestart",function(){return _this1046.Hg();}),_this1046["#lock-size-button"].addEventListener("toggle",function(){return _this1046.yP();}),_this1046["#margin-switch"].addEventListener("toggle",function(){return _this1046.kP();}),_this1046["#margin-input"].addEventListener("changeend",function(){return _this1046.SP();}),_this1046["#scale-input"].addEventListener("changeend",function(){return _this1046._P();}),_this1046["#dpi-slider"].addEventListener("changestart",function(){return _this1046.CP();}),_this1046["#dpi-input"].addEventListener("changestart",function(){return _this1046.MP();}),_this1046["#colors-mode-buttons"].addEventListener("toggle",function(){return _this1046.xM();}),_this1046["#colors-slider"].addEventListener("changestart",function(){return _this1046.bM();}),_this1046["#colors-input"].addEventListener("changestart",function(){return _this1046.mM();}),_this1046["#background-select"].addEventListener("changeend",function(){return _this1046.wM();}),_this1046["#background-popover"].addEventListener("close",function(){return _this1046.vM();}),_this1046["#preview-button"].addEventListener("click",function(){return _this1046.yM();});return _this1046;}_createClass(Lf,[{key:"connectedCallback",value:function connectedCallback(){var _this1047=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-pngexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-pngexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-pngexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-pngexportsettings:scale",1),this["#dpi-slider"].value=t.getConfig("bx-pngexportsettings:dpi",96),this["#dpi-input"].value=t.getConfig("bx-pngexportsettings:dpi",96),this["#colors-mode-buttons"].value=this.Qs.getConfig("bx-pngexportsettings:colorsMode","rgb"),this["#colors-slider"].value=t.getConfig("bx-pngexportsettings:colors",256),this["#colors-input"].value=t.getConfig("bx-pngexportsettings:colors",256),this["#background-select"].value=t.getConfig("bx-pngexportsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1047.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1047.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){this.kM(),this.qs(),this.Qs.setConfig("bx-pngexportsettings:area",this["#area-buttons"].value);}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var _t2419=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);_t2419&&(this.Js.board.selectedElements=[_t2419]);}}else this.qs();}},{key:"jg",value:function jg(){var _this1048=this;var t,_e1786,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2420=_this1048["#width-input"].value/i;_this1048["#height-input"].value=et(_t2420,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1786=function e(){_this1048["#width-input"].removeEventListener("change",t),_this1048["#width-input"].removeEventListener("changeend",_e1786),_this1048.kM();});}},{key:"Hg",value:function Hg(){var _this1049=this;var t,_e1787,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2421=i*_this1049["#height-input"].value;_this1049["#width-input"].value=et(_t2421,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1787=function e(){_this1049["#height-input"].removeEventListener("change",t),_this1049["#height-input"].removeEventListener("changeend",_e1787),_this1049.kM();});}},{key:"yP",value:function yP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pngexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"kP",value:function kP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-pngexportsettings:margin",t),this["#margin-input"].value=t,this.kM(),this.qs(!1);}},{key:"SP",value:function SP(){this.Qs.setConfig("bx-pngexportsettings:margin",this["#margin-input"].value),this.kM();}},{key:"_P",value:function _P(){this.Qs.setConfig("bx-pngexportsettings:scale",this["#scale-input"].value),this.kM();}},{key:"CP",value:function CP(){var _this1050=this;var t,_e1788;this["#dpi-slider"].addEventListener("change",t=function t(){_this1050["#dpi-input"].value=_this1050["#dpi-slider"].value;}),this["#dpi-slider"].addEventListener("changeend",_e1788=function e(){_this1050["#dpi-slider"].removeEventListener("change",t),_this1050["#dpi-slider"].removeEventListener("changeend",_e1788),_this1050.Qs.setConfig("bx-pngexportsettings:dpi",_this1050["#dpi-slider"].value);});}},{key:"MP",value:function MP(){var _this1051=this;var t,_e1789;this["#dpi-input"].addEventListener("change",t=function t(){_this1051["#dpi-slider"].value=_this1051["#dpi-input"].value;}),this["#dpi-input"].addEventListener("changeend",_e1789=function e(){_this1051["#dpi-input"].removeEventListener("change",t),_this1051["#dpi-input"].removeEventListener("changeend",_e1789),_this1051.Qs.setConfig("bx-pngexportsettings:dpi",_this1051["#dpi-input"].value);});}},{key:"xM",value:function xM(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-pngexportsettings:colorsMode",this["#colors-mode-buttons"].value),this.kM();}},{key:"bM",value:function bM(){var _this1052=this;var t,_e1790;this["#colors-slider"].addEventListener("change",t=function t(){_this1052["#colors-input"].value=_this1052["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1790=function e(){_this1052["#colors-slider"].removeEventListener("change",t),_this1052["#colors-slider"].removeEventListener("changeend",_e1790),_this1052.Qs.setConfig("bx-pngexportsettings:colors",_this1052["#colors-slider"].value),_this1052.kM();});}},{key:"mM",value:function mM(){var _this1053=this;var t,_e1791;this["#colors-input"].addEventListener("change",t=function t(){_this1053["#colors-slider"].value=_this1053["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1791=function e(){_this1053["#colors-input"].removeEventListener("change",t),_this1053["#colors-input"].removeEventListener("changeend",_e1791),_this1053.Qs.setConfig("bx-pngexportsettings:colors",_this1053["#colors-input"].value),_this1053.kM();});}},{key:"wM",value:function wM(){this.SM=!0;}},{key:"vM",value:function vM(){this.SM&&(this.SM=!1,this.Qs.setConfig("bx-pngexportsettings:background",this["#background-select"].value),this.kM());}},{key:"yM",value:function yM(){this._M();}},{key:"_M",value:function(){var _M5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee254(){var t,_e1792,_t2422,e,i,s,_e1793,_iterator1590,_step1590,_i1498,_t2423,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee254$(_context256){while(1){switch(_context256.prev=_context256.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1792=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2422=this["#view-select"].value.substring(1);_e1792=this.Js.board.currentWorkspace.querySelector("#"+_t2422);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1792);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.Js.offscreenBoard.setArtwork(t);_e1793=new Tp(t);_iterator1590=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context256.prev=6;_iterator1590.s();case 8:if((_step1590=_iterator1590.n()).done){_context256.next=15;break;}_i1498=_step1590.value;_t2423=_i1498.getAttribute("data-bx-fonts");_context256.next=13;return _e1793.unlinkFontFamily(_t2423);case 13:_context256.next=8;break;case 15:_context256.next=20;break;case 17:_context256.prev=17;_context256.t0=_context256["catch"](6);_iterator1590.e(_context256.t0);case 20:_context256.prev=20;_iterator1590.f();return _context256.finish(20);case 23:this.Js.offscreenBoard.clear();n=Vp(t);_context256.next=27;return Sf(n,"png",{dpi:this["#dpi-input"].value,colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value,background:this["#background-select"].value});case 27:o=_context256.sent;_context256.next=30;return Vh(o);case 30:l=_context256.sent;a=l.substring(0,l.indexOf(",")+1);h=tt((l.length-a.length)*(3/4));r=Yh(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context256.stop();}}},_callee254,this,[[6,17,20,23]]);}));function _M(){return _M5.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1054=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=We(e.outermostSelectedObjectElements.map(function(t){var i=Yt(t,e.currentWorkspace),s=Ei(t);return He(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2424=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2424.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2425=e.selectedElements.find(function(t){return"view"===t.localName;});_t2425&&(s=_t2425);}else{var _e1794=_t2424.find(function(t){return"#"+t.id===_this1054["#view-select"].value;});_e1794&&(s=_e1794);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ft.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2426=e.currentWorkspace.querySelector("#"+s.id);_t2426.hasAttribute("viewBox")&&(i=Ft.fromString(_t2426.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2427=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2427.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2427.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1795=["default"].concat(_toConsumableArray(_t2427.map(function(t){return"#"+t.id;}))),_i1499=["Default"].concat(_toConsumableArray(_t2427.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1795.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1795.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2428=0;_t2428<_e1795.length;_t2428+=1){var _s863=this["#view-menu"].children[_t2428];_s863.value=_e1795[_t2428],_s863.firstElementChild.textContent=_i1499[_t2428];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:tt(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:tt(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#dpi-heading"].disabled=null===i,this["#dpi-slider"].disabled=null===i,this["#dpi-input"].disabled=null===i,this["#colors-heading"].disabled=null===i,this["#rgb-button"].disabled=null===i,this["#palette-button"].disabled=null===i,this["#palette-button"].toggled?(this["#colors-box"].hidden=!1,this["#colors-slider"].disabled=null===i,this["#colors-input"].disabled=null===i):this["#colors-box"].hidden=!0,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Lf;}($f);_defineProperty(Lf,"wP",Qi(_templateObject526()));_defineProperty(Lf,"_shadowStyleSheet",Ji(_templateObject527()));customElements.define("bx-pngexportsettings",Lf);var Rf=Array.isArray;var Bf=/*#__PURE__*/function(_$f2){_inherits(Bf,_$f2);var _super229=_createSuper(Bf);_createClass(Bf,[{key:"format",get:function get(){return"jpeg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Rf(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Bf(){var _this1055;_classCallCheck(this,Bf);_this1055=_super229.call(this),_this1055["#area-buttons"].addEventListener("toggle",function(){return _this1055.TM();}),_this1055["#view-select"].addEventListener("change",function(){return _this1055.vP();}),_this1055["#width-input"].addEventListener("changestart",function(){return _this1055.jg();}),_this1055["#height-input"].addEventListener("changestart",function(){return _this1055.Hg();}),_this1055["#lock-size-button"].addEventListener("toggle",function(){return _this1055.yP();}),_this1055["#margin-switch"].addEventListener("toggle",function(){return _this1055.kP();}),_this1055["#margin-input"].addEventListener("changeend",function(){return _this1055.SP();}),_this1055["#scale-input"].addEventListener("changeend",function(){return _this1055._P();}),_this1055["#compression-slider"].addEventListener("changestart",function(){return _this1055.gM();}),_this1055["#compression-input"].addEventListener("changestart",function(){return _this1055.fM();}),_this1055["#background-select"].addEventListener("changeend",function(){return _this1055.wM();}),_this1055["#background-popover"].addEventListener("close",function(){return _this1055.vM();}),_this1055["#preview-button"].addEventListener("click",function(){return _this1055.yM();});return _this1055;}_createClass(Bf,[{key:"connectedCallback",value:function connectedCallback(){var _this1056=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-jpegexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-jpegexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-jpegexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-jpegexportsettings:scale",1),this["#compression-slider"].value=t.getConfig("bx-jpegexportsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-jpegexportsettings:compression",1),this["#background-select"].value=t.getConfig("bx-jpegexportsettings:background","rgb(255, 255, 255)"),this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1056.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1056.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){this.kM(),this.qs(),this.Qs.setConfig("bx-jpegexportsettings:area",this["#area-buttons"].value);}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"jg",value:function jg(){var _this1057=this;var t,_e1796,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2429=_this1057["#width-input"].value/i;_this1057["#height-input"].value=et(_t2429,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1796=function e(){_this1057["#width-input"].removeEventListener("change",t),_this1057["#width-input"].removeEventListener("changeend",_e1796),_this1057.kM();});}},{key:"Hg",value:function Hg(){var _this1058=this;var t,_e1797,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2430=i*_this1058["#height-input"].value;_this1058["#width-input"].value=et(_t2430,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1797=function e(){_this1058["#height-input"].removeEventListener("change",t),_this1058["#height-input"].removeEventListener("changeend",_e1797),_this1058.kM();});}},{key:"yP",value:function yP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-jpegexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"kP",value:function kP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-jpegexportsettings:margin",t),this["#margin-input"].value=t,this.kM(),this.qs(!1);}},{key:"SP",value:function SP(){this.Qs.setConfig("bx-jpegexportsettings:margin",this["#margin-input"].value),this.kM();}},{key:"_P",value:function _P(){this.Qs.setConfig("bx-jpegexportsettings:scale",this["#scale-input"].value),this.kM();}},{key:"gM",value:function gM(){var _this1059=this;var t,_e1798;this["#compression-slider"].addEventListener("change",t=function t(){_this1059["#compression-input"].value=_this1059["#compression-slider"].value,_this1059.Qs.setConfig("bx-jpegexportsettings:compression",_this1059["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1798=function e(){_this1059["#compression-slider"].removeEventListener("change",t),_this1059["#compression-slider"].removeEventListener("changeend",_e1798),_this1059.kM();});}},{key:"fM",value:function fM(){var _this1060=this;var t,_e1799;this["#compression-input"].addEventListener("change",t=function t(){_this1060["#compression-slider"].value=_this1060["#compression-input"].value,_this1060.Qs.setConfig("bx-jpegexportsettings:compression",_this1060["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1799=function e(){_this1060["#compression-input"].removeEventListener("change",t),_this1060["#compression-input"].removeEventListener("changeend",_e1799),_this1060.kM();});}},{key:"wM",value:function wM(){this.SM=!0;}},{key:"vM",value:function vM(){this.SM&&(this.SM=!1,this.Qs.setConfig("bx-jpegexportsettings:background",this["#background-select"].value),this.kM());}},{key:"yM",value:function yM(){this._M();}},{key:"_M",value:function(){var _M6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee255(){var t,_e1800,_t2431,e,i,s,_e1801,_iterator1591,_step1591,_i1500,_t2432,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee255$(_context257){while(1){switch(_context257.prev=_context257.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1800=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2431=this["#view-select"].value.substring(1);_e1800=this.Js.board.currentWorkspace.querySelector("#"+_t2431);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1800);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.Js.offscreenBoard.setArtwork(t);_e1801=new Tp(t);_iterator1591=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context257.prev=6;_iterator1591.s();case 8:if((_step1591=_iterator1591.n()).done){_context257.next=15;break;}_i1500=_step1591.value;_t2432=_i1500.getAttribute("data-bx-fonts");_context257.next=13;return _e1801.unlinkFontFamily(_t2432);case 13:_context257.next=8;break;case 15:_context257.next=20;break;case 17:_context257.prev=17;_context257.t0=_context257["catch"](6);_iterator1591.e(_context257.t0);case 20:_context257.prev=20;_iterator1591.f();return _context257.finish(20);case 23:this.Js.offscreenBoard.clear();n=Vp(t);_context257.next=27;return Sf(n,"jpeg",{background:this["#background-select"].value,compression:this["#compression-input"].value});case 27:o=_context257.sent;_context257.next=30;return Vh(o);case 30:l=_context257.sent;a=l.substring(0,l.indexOf(",")+1);h=tt((l.length-a.length)*(3/4));r=Yh(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context257.stop();}}},_callee255,this,[[6,17,20,23]]);}));function _M(){return _M6.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1061=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=We(e.outermostSelectedObjectElements.map(function(t){var i=Yt(t,e.currentWorkspace),s=Ei(t);return He(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2433=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2433.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2434=e.selectedElements.find(function(t){return"view"===t.localName;});_t2434&&(s=_t2434);}else{var _e1802=_t2433.find(function(t){return"#"+t.id===_this1061["#view-select"].value;});_e1802&&(s=_e1802);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ft.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2435=e.currentWorkspace.querySelector("#"+s.id);_t2435.hasAttribute("viewBox")&&(i=Ft.fromString(_t2435.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2436=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2436.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2436.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1803=["default"].concat(_toConsumableArray(_t2436.map(function(t){return"#"+t.id;}))),_i1501=["Default"].concat(_toConsumableArray(_t2436.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1803.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1803.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2437=0;_t2437<_e1803.length;_t2437+=1){var _s864=this["#view-menu"].children[_t2437];_s864.value=_e1803[_t2437],_s864.firstElementChild.textContent=_i1501[_t2437];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:tt(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:tt(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Bf;}($f);_defineProperty(Bf,"wP",Qi(_templateObject528()));_defineProperty(Bf,"_shadowStyleSheet",Ji(_templateObject529()));customElements.define("bx-jpegexportsettings",Bf);var Gf=Array.isArray;var Uf=/*#__PURE__*/function(_$f3){_inherits(Uf,_$f3);var _super230=_createSuper(Uf);_createClass(Uf,[{key:"format",get:function get(){return"gif";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Gf(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"dithering",get:function get(){return this["#dithering-select"].value;}},{key:"background",get:function get(){return So(this["#background-select"].value,"hex");}},{key:"transparent",get:function get(){return this["#transparent-checkbox"].toggled;}}]);function Uf(){var _this1062;_classCallCheck(this,Uf);_this1062=_super230.call(this),_this1062["#area-buttons"].addEventListener("toggle",function(){return _this1062.TM();}),_this1062["#view-select"].addEventListener("change",function(){return _this1062.vP();}),_this1062["#width-input"].addEventListener("changestart",function(){return _this1062.jg();}),_this1062["#height-input"].addEventListener("changestart",function(){return _this1062.Hg();}),_this1062["#lock-size-button"].addEventListener("toggle",function(){return _this1062.yP();}),_this1062["#margin-switch"].addEventListener("toggle",function(){return _this1062.kP();}),_this1062["#margin-input"].addEventListener("changeend",function(){return _this1062.SP();}),_this1062["#scale-input"].addEventListener("changeend",function(){return _this1062._P();}),_this1062["#dithering-select"].addEventListener("change",function(){return _this1062.PP();}),_this1062["#background-select"].addEventListener("changeend",function(){return _this1062.wM();}),_this1062["#background-popover"].addEventListener("close",function(){return _this1062.vM();}),_this1062["#transparent-checkbox"].addEventListener("toggle",function(){return _this1062.DP();}),_this1062["#preview-button"].addEventListener("click",function(){return _this1062.yM();});return _this1062;}_createClass(Uf,[{key:"connectedCallback",value:function connectedCallback(){var _this1063=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-gifexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-gifexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-gifexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-gifexportsettings:scale",1),this["#dithering-select"].value=t.getConfig("bx-gifexportsettings:dithering","none"),this["#background-select"].value=t.getConfig("bx-gifexportsettings:background","rgb(255, 255, 255)"),this["#transparent-checkbox"].toggled=t.getConfig("bx-gifexportsettings:transparent",!0),this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1063.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1063.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){this.kM(),this.qs(),this.Qs.setConfig("bx-gifexportsettings:area",this["#area-buttons"].value);}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"jg",value:function jg(){var _this1064=this;var t,_e1804,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2438=_this1064["#width-input"].value/i;_this1064["#height-input"].value=et(_t2438,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1804=function e(){_this1064["#width-input"].removeEventListener("change",t),_this1064["#width-input"].removeEventListener("changeend",_e1804),_this1064.kM();});}},{key:"Hg",value:function Hg(){var _this1065=this;var t,_e1805,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2439=i*_this1065["#height-input"].value;_this1065["#width-input"].value=et(_t2439,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1805=function e(){_this1065["#height-input"].removeEventListener("change",t),_this1065["#height-input"].removeEventListener("changeend",_e1805),_this1065.kM();});}},{key:"yP",value:function yP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gifexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"kP",value:function kP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-gifexportsettings:margin",t),this["#margin-input"].value=t,this.kM(),this.qs(!1);}},{key:"SP",value:function SP(){this.Qs.setConfig("bx-gifexportsettings:margin",this["#margin-input"].value),this.kM();}},{key:"_P",value:function _P(){this.Qs.setConfig("bx-gifexportsettings:scale",this["#scale-input"].value),this.kM();}},{key:"PP",value:function PP(){this.Qs.setConfig("bx-gifexportsettings:dithering",this["#dithering-select"].value),this.kM();}},{key:"wM",value:function wM(){this.Qs.setConfig("bx-gifexportsettings:background",this["#background-select"].value),this.SM=!0;}},{key:"vM",value:function vM(){this.SM&&(this.SM=!1,this.Qs.setConfig("bx-gifexportsettings:background",this["#background-select"].value),this.kM());}},{key:"DP",value:function DP(){this.Qs.setConfig("bx-gifexportsettings:transparent",this["#transparent-checkbox"].value),this.kM();}},{key:"yM",value:function yM(){this._M();}},{key:"_M",value:function(){var _M7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee256(){var t,_e1806,_t2440,e,i,s,_e1807,_iterator1592,_step1592,_i1502,_t2441,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee256$(_context258){while(1){switch(_context258.prev=_context258.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1806=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2440=this["#view-select"].value.substring(1);_e1806=this.Js.board.currentWorkspace.querySelector("#"+_t2440);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1806);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.Js.offscreenBoard.setArtwork(t);_e1807=new Tp(t);_iterator1592=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context258.prev=6;_iterator1592.s();case 8:if((_step1592=_iterator1592.n()).done){_context258.next=15;break;}_i1502=_step1592.value;_t2441=_i1502.getAttribute("data-bx-fonts");_context258.next=13;return _e1807.unlinkFontFamily(_t2441);case 13:_context258.next=8;break;case 15:_context258.next=20;break;case 17:_context258.prev=17;_context258.t0=_context258["catch"](6);_iterator1592.e(_context258.t0);case 20:_context258.prev=20;_iterator1592.f();return _context258.finish(20);case 23:this.Js.offscreenBoard.clear();n=Vp(t);_context258.next=27;return Sf(n,"gif",{background:this["#background-select"].value,dithering:this["#dithering-select"].value,transparent:this["#transparent-checkbox"].toggled});case 27:o=_context258.sent;_context258.next=30;return Vh(o);case 30:l=_context258.sent;a=l.substring(0,l.indexOf(",")+1);h=tt((l.length-a.length)*(3/4));r=Yh(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context258.stop();}}},_callee256,this,[[6,17,20,23]]);}));function _M(){return _M7.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1066=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=We(e.outermostSelectedObjectElements.map(function(t){var i=Yt(t,e.currentWorkspace),s=Ei(t);return He(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2442=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2442.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2443=e.selectedElements.find(function(t){return"view"===t.localName;});_t2443&&(s=_t2443);}else{var _e1808=_t2442.find(function(t){return"#"+t.id===_this1066["#view-select"].value;});_e1808&&(s=_e1808);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ft.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2444=e.currentWorkspace.querySelector("#"+s.id);_t2444.hasAttribute("viewBox")&&(i=Ft.fromString(_t2444.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2445=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2445.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2445.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1809=["default"].concat(_toConsumableArray(_t2445.map(function(t){return"#"+t.id;}))),_i1503=["Default"].concat(_toConsumableArray(_t2445.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1809.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1809.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2446=0;_t2446<_e1809.length;_t2446+=1){var _s865=this["#view-menu"].children[_t2446];_s865.value=_e1809[_t2446],_s865.firstElementChild.textContent=_i1503[_t2446];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:tt(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:tt(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#dithering-heading"].disabled=null===i,this["#dithering-select"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#transparent-checkbox"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Uf;}($f);_defineProperty(Uf,"wP",Qi(_templateObject530()));_defineProperty(Uf,"_shadowStyleSheet",Ji(_templateObject531()));customElements.define("bx-gifexportsettings",Uf);var Ff=Array.isArray;var Nf=/*#__PURE__*/function(_$f4){_inherits(Nf,_$f4);var _super231=_createSuper(Nf);_createClass(Nf,[{key:"format",get:function get(){return"webp";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Ff(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Nf(){var _this1067;_classCallCheck(this,Nf);_this1067=_super231.call(this),_this1067["#area-buttons"].addEventListener("toggle",function(){return _this1067.TM();}),_this1067["#view-select"].addEventListener("change",function(){return _this1067.vP();}),_this1067["#width-input"].addEventListener("changestart",function(){return _this1067.jg();}),_this1067["#height-input"].addEventListener("changestart",function(){return _this1067.Hg();}),_this1067["#lock-size-button"].addEventListener("toggle",function(){return _this1067.yP();}),_this1067["#margin-switch"].addEventListener("toggle",function(){return _this1067.kP();}),_this1067["#margin-input"].addEventListener("changeend",function(){return _this1067.SP();}),_this1067["#scale-input"].addEventListener("changeend",function(){return _this1067._P();}),_this1067["#compression-slider"].addEventListener("changestart",function(){return _this1067.gM();}),_this1067["#compression-input"].addEventListener("changestart",function(){return _this1067.fM();}),_this1067["#background-select"].addEventListener("changeend",function(){return _this1067.wM();}),_this1067["#background-popover"].addEventListener("close",function(){return _this1067.vM();}),_this1067["#preview-button"].addEventListener("click",function(){return _this1067.yM();});return _this1067;}_createClass(Nf,[{key:"connectedCallback",value:function connectedCallback(){var _this1068=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-webpexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-webpexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-webpexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-webpexportsettings:scale",1),this["#compression-slider"].value=t.getConfig("bx-webpexportsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-webpexportsettings:compression",1),this["#background-select"].value=t.getConfig("bx-webpexportsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1068.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1068.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){this.kM(),this.qs(),this.Qs.setConfig("bx-webpexportsettings:area",this["#area-buttons"].value);}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"jg",value:function jg(){var _this1069=this;var t,_e1810,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2447=_this1069["#width-input"].value/i;_this1069["#height-input"].value=et(_t2447,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1810=function e(){_this1069["#width-input"].removeEventListener("change",t),_this1069["#width-input"].removeEventListener("changeend",_e1810),_this1069.kM();});}},{key:"Hg",value:function Hg(){var _this1070=this;var t,_e1811,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2448=i*_this1070["#height-input"].value;_this1070["#width-input"].value=et(_t2448,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1811=function e(){_this1070["#height-input"].removeEventListener("change",t),_this1070["#height-input"].removeEventListener("changeend",_e1811),_this1070.kM();});}},{key:"yP",value:function yP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-webpexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"kP",value:function kP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-webpexportsettings:margin",t),this["#margin-input"].value=t,this.kM(),this.qs(!1);}},{key:"_P",value:function _P(){this.Qs.setConfig("bx-webpexportsettings:scale",this["#scale-input"].value),this.kM();}},{key:"SP",value:function SP(){this.Qs.setConfig("bx-webpexportsettings:margin",this["#margin-input"].value),this.kM();}},{key:"fM",value:function fM(){var _this1071=this;var t,_e1812;this["#compression-input"].addEventListener("change",t=function t(){_this1071["#compression-slider"].value=_this1071["#compression-input"].value;}),this["#compression-input"].addEventListener("changeend",_e1812=function e(){_this1071["#compression-input"].removeEventListener("change",t),_this1071["#compression-input"].removeEventListener("changeend",_e1812),_this1071.Qs.setConfig("bx-webpexportsettings:compression",_this1071["#compression-input"].value),_this1071.kM();});}},{key:"gM",value:function gM(){var _this1072=this;var t,_e1813;this["#compression-slider"].addEventListener("change",t=function t(){_this1072["#compression-input"].value=_this1072["#compression-slider"].value;}),this["#compression-slider"].addEventListener("changeend",_e1813=function e(){_this1072["#compression-slider"].removeEventListener("change",t),_this1072["#compression-slider"].removeEventListener("changeend",_e1813),_this1072.Qs.setConfig("bx-webpexportsettings:compression",_this1072["#compression-slider"].value),_this1072.kM();});}},{key:"wM",value:function wM(){this.SM=!0;}},{key:"vM",value:function vM(){this.SM&&(this.SM=!1,this.Qs.setConfig("bx-webpexportsettings:background",this["#background-select"].value),this.kM());}},{key:"yM",value:function yM(){this._M();}},{key:"_M",value:function(){var _M8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee257(){var t,_e1814,_t2449,e,i,s,_e1815,_iterator1593,_step1593,_i1504,_t2450,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee257$(_context259){while(1){switch(_context259.prev=_context259.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1814=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2449=this["#view-select"].value.substring(1);_e1814=this.Js.board.currentWorkspace.querySelector("#"+_t2449);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1814);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.Js.offscreenBoard.setArtwork(t);_e1815=new Tp(t);_iterator1593=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context259.prev=6;_iterator1593.s();case 8:if((_step1593=_iterator1593.n()).done){_context259.next=15;break;}_i1504=_step1593.value;_t2450=_i1504.getAttribute("data-bx-fonts");_context259.next=13;return _e1815.unlinkFontFamily(_t2450);case 13:_context259.next=8;break;case 15:_context259.next=20;break;case 17:_context259.prev=17;_context259.t0=_context259["catch"](6);_iterator1593.e(_context259.t0);case 20:_context259.prev=20;_iterator1593.f();return _context259.finish(20);case 23:this.Js.offscreenBoard.clear();n=Vp(t);_context259.next=27;return Sf(n,"webp",{background:this["#background-select"].value,compression:this["#compression-slider"].value});case 27:o=_context259.sent;_context259.next=30;return Vh(o);case 30:l=_context259.sent;a=l.substring(0,l.indexOf(",")+1);h=tt((l.length-a.length)*(3/4));r=Yh(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context259.stop();}}},_callee257,this,[[6,17,20,23]]);}));function _M(){return _M8.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1073=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=We(e.outermostSelectedObjectElements.map(function(t){var i=Yt(t,e.currentWorkspace),s=Ei(t);return He(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2451=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2451.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2452=e.selectedElements.find(function(t){return"view"===t.localName;});_t2452&&(s=_t2452);}else{var _e1816=_t2451.find(function(t){return"#"+t.id===_this1073["#view-select"].value;});_e1816&&(s=_e1816);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ft.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2453=e.currentWorkspace.querySelector("#"+s.id);_t2453.hasAttribute("viewBox")&&(i=Ft.fromString(_t2453.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2454=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2454.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2454.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1817=["default"].concat(_toConsumableArray(_t2454.map(function(t){return"#"+t.id;}))),_i1505=["Default"].concat(_toConsumableArray(_t2454.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1817.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1817.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2455=0;_t2455<_e1817.length;_t2455+=1){var _s866=this["#view-menu"].children[_t2455];_s866.value=_e1817[_t2455],_s866.firstElementChild.textContent=_i1505[_t2455];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:tt(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:tt(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Nf;}($f);_defineProperty(Nf,"wP",Qi(_templateObject532()));_defineProperty(Nf,"_shadowStyleSheet",Ji(_templateObject533()));customElements.define("bx-webpexportsettings",Nf);var Vf=/*#__PURE__*/function(_$f5){_inherits(Vf,_$f5);var _super232=_createSuper(Vf);_createClass(Vf,[{key:"format",get:function get(){return"svg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$zP=this.zP(),_this$zP2=_slicedToArray(_this$zP,1),t=_this$zP2[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$zP3=this.zP(),_this$zP4=_slicedToArray(_this$zP3,1),t=_this$zP4[0];return t?t.height:0;}}]);function Vf(){var _this1074;_classCallCheck(this,Vf);_this1074=_super232.call(this),_this1074["#area-buttons"].addEventListener("toggle",function(){_this1074.TM();}),_this1074["#view-select"].addEventListener("change",function(){_this1074.vP();}),_this1074["#viewport-buttons"].addEventListener("toggle",function(){_this1074.OP();}),_this1074["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1074.EP();}),_this1074["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1074.TP();}),_this1074["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1074.AP();}),_this1074["#preview-button"].addEventListener("click",function(){_this1074.yM();});return _this1074;}_createClass(Vf,[{key:"connectedCallback",value:function connectedCallback(){var _this1075=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgexportsettings:area","view-box"),s=t.getConfig("bx-svgexportsettings:viewport","responsive"),n=t.getConfig("bx-svgexportsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgexportsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgexportsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1075.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1075.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgexportsettings:area",t),this.kM(),this.qs();}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"OP",value:function OP(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgexportsettings:viewport",t),this.kM(),this.qs();}},{key:"EP",value:function EP(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgexportsettings:convertTextsToPaths",t),this.kM();}},{key:"TP",value:function TP(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgexportsettings:removeEmbeddedFonts",t),this.kM();}},{key:"AP",value:function AP(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgexportsettings:removeNonStandardNamespaces",t);}},{key:"yM",value:function yM(){this._M();}},{key:"zP",value:function zP(){var _this1076=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=We(t.outermostSelectedObjectElements.map(function(e){var i=Yt(e,t.currentWorkspace),s=Ei(e);return He(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s867=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s867.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1818=t.selectedElements.find(function(t){return"view"===t.localName;});_e1818&&(i=_e1818);}else{var _t2456=_s867.find(function(t){return"#"+t.id===_this1076["#view-select"].value;});_t2456&&(i=_t2456);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ft.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s868=t.currentWorkspace.querySelector("#"+i.id);_s868.hasAttribute("viewBox")&&(e=Ft.fromString(_s868.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"$P",value:function $P(t){return new Promise(/*#__PURE__*/function(){var _ref223=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee258(t){return regeneratorRuntime.wrap(function _callee258$(_context260){while(1){switch(_context260.prev=_context260.next){case 0:t();case 1:case"end":return _context260.stop();}}},_callee258);}));return function(_x264){return _ref223.apply(this,arguments);};}());}},{key:"_M",value:function(){var _M9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee259(){var t,_e1819,_t2457,_e1820,_this$Js$board55,_i1506,_s869,_iterator1594,_step1594,_n681,_i1507,_arr78,_e1821,_e1822,_iterator1595,_step1595,_i1508,_t2458,e,i,s,_this$zP5,_this$zP6,n;return regeneratorRuntime.wrap(function _callee259$(_context261){while(1){switch(_context261.prev=_context261.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1819=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2457=this["#view-select"].value.substring(1);_e1819=this.Js.board.currentWorkspace.querySelector("#"+_t2457);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1819);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());if(!this["#convert-texts-to-paths-checkbox"].toggled){_context261.next=38;break;}this.Js.offscreenBoard.setArtwork(t);_context261.next=5;return ns(100);case 5:_e1820=new Tp(t),_this$Js$board55=this.Js.board,_i1506=_this$Js$board55.geometryPrecision,_s869=_this$Js$board55.transformPrecision;_iterator1594=_createForOfIteratorHelper(t.querySelectorAll("text"));_context261.prev=7;_iterator1594.s();case 9:if((_step1594=_iterator1594.n()).done){_context261.next=26;break;}_n681=_step1594.value;_context261.next=13;return _e1820.canReplaceTextWithPaths(_n681);case 13:if(!_context261.sent){_context261.next=18;break;}_context261.next=16;return _e1820.replaceTextWithPaths(_n681,_i1506,_s869);case 16:_context261.next=24;break;case 18:_context261.next=20;return Qx.canReplaceTextWithPaths(_n681);case 20:_context261.t0=_context261.sent;if(!_context261.t0){_context261.next=24;break;}_context261.next=24;return Qx.replaceTextWithPaths(_n681,_i1506,_s869);case 24:_context261.next=9;break;case 26:_context261.next=31;break;case 28:_context261.prev=28;_context261.t1=_context261["catch"](7);_iterator1594.e(_context261.t1);case 31:_context261.prev=31;_iterator1594.f();return _context261.finish(31);case 34:for(_i1507=0,_arr78=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1507<_arr78.length;_i1507++){_e1821=_arr78[_i1507];_e1821.remove();}this.Js.offscreenBoard.clear();_context261.next=59;break;case 38:this.Js.offscreenBoard.setArtwork(t);_e1822=new Tp(t);_iterator1595=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context261.prev=41;_iterator1595.s();case 43:if((_step1595=_iterator1595.n()).done){_context261.next=50;break;}_i1508=_step1595.value;_t2458=_i1508.getAttribute("data-bx-fonts");_context261.next=48;return _e1822.unlinkFontFamily(_t2458);case 48:_context261.next=43;break;case 50:_context261.next=55;break;case 52:_context261.prev=52;_context261.t2=_context261["catch"](41);_iterator1595.e(_context261.t2);case 55:_context261.prev=55;_iterator1595.f();return _context261.finish(55);case 58:this.Js.offscreenBoard.clear();case 59:e=Vp(t);_context261.next=62;return Hp(e);case 62:i=_context261.sent;s=Yh(e.length);_this$zP5=this.zP();_this$zP6=_slicedToArray(_this$zP5,1);n=_this$zP6[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",i),this["#preview"].setAttribute("width",n.width),this["#preview"].setAttribute("height",n.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+s,this["#preview-section"].scrollIntoViewIfNeeded();case 68:case"end":return _context261.stop();}}},_callee259,this,[[7,28,31,34],[41,52,55,58]]);}));function _M(){return _M9.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$zP7=this.zP(),_this$zP8=_slicedToArray(_this$zP7,2),t=_this$zP8[0],e=_this$zP8[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2459=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2459.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2459.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1509=["default"].concat(_toConsumableArray(_t2459.map(function(t){return"#"+t.id;}))),_s870=["Default"].concat(_toConsumableArray(_t2459.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1509.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1509.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2460=0;_t2460<_i1509.length;_t2460+=1){var _e1823=this["#view-menu"].children[_t2460];_e1823.value=_i1509[_t2460],_e1823.firstElementChild.textContent=_s870[_t2460];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Vf;}($f);_defineProperty(Vf,"wP",Qi(_templateObject534()));_defineProperty(Vf,"_shadowStyleSheet",Ji(_templateObject535()));customElements.define("bx-svgexportsettings",Vf);var jf=function jf(t){var e=[];for(var _i1510=0,_s871=t.length;_i1510<_s871;_i1510+=1){e.push(t[_i1510].charCodeAt(0));}var i=new Uint8Array(e);return pako.gzip(i);},Hf=function Hf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string";try{var _i1511=null,_s872=pako.inflate(t);if("string"===e){_i1511="";for(var _t2461=0,_e1824=_s872.length;_t2461<_e1824;_t2461+=1){_i1511+=String.fromCharCode(_s872[_t2461]);}}else"blob"===e&&(_i1511=new Blob([_s872],{type:"image/svg+xml"}));return _i1511;}catch(t){return null;}};var Wf=/*#__PURE__*/function(_$f6){_inherits(Wf,_$f6);var _super233=_createSuper(Wf);_createClass(Wf,[{key:"format",get:function get(){return"svgz";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$zP9=this.zP(),_this$zP10=_slicedToArray(_this$zP9,1),t=_this$zP10[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$zP11=this.zP(),_this$zP12=_slicedToArray(_this$zP11,1),t=_this$zP12[0];return t?t.height:0;}}]);function Wf(){var _this1077;_classCallCheck(this,Wf);_this1077=_super233.call(this),_this1077["#area-buttons"].addEventListener("toggle",function(){_this1077.TM();}),_this1077["#view-select"].addEventListener("change",function(){_this1077.vP();}),_this1077["#viewport-buttons"].addEventListener("toggle",function(){_this1077.OP();}),_this1077["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1077.EP();}),_this1077["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1077.TP();}),_this1077["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1077.AP();}),_this1077["#preview-button"].addEventListener("click",function(){_this1077.yM();});return _this1077;}_createClass(Wf,[{key:"connectedCallback",value:function connectedCallback(){var _this1078=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgzexportsettings:area","view-box"),s=t.getConfig("bx-svgzexportsettings:viewport","responsive"),n=t.getConfig("bx-svgzexportsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgzexportsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgzexportsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1078.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1078.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgzexportsettings:area",t),this.kM(),this.qs();}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"OP",value:function OP(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgzexportsettings:viewport",t),this.kM(),this.qs();}},{key:"EP",value:function EP(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgzexportsettings:convertTextsToPaths",t),this.kM();}},{key:"TP",value:function TP(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgzexportsettings:removeEmbeddedFonts",t),this.kM();}},{key:"AP",value:function AP(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgzexportsettings:removeNonStandardNamespaces",t);}},{key:"yM",value:function yM(){this._M();}},{key:"zP",value:function zP(){var _this1079=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=We(t.outermostSelectedObjectElements.map(function(e){var i=Yt(e,t.currentWorkspace),s=Ei(e);return He(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s873=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s873.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1825=t.selectedElements.find(function(t){return"view"===t.localName;});_e1825&&(i=_e1825);}else{var _t2462=_s873.find(function(t){return"#"+t.id===_this1079["#view-select"].value;});_t2462&&(i=_t2462);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ft.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s874=t.currentWorkspace.querySelector("#"+i.id);_s874.hasAttribute("viewBox")&&(e=Ft.fromString(_s874.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"_M",value:function(){var _M10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee260(){var t,_e1826,_t2463,_e1827,_this$Js$board56,_i1512,_s875,_iterator1596,_step1596,_n682,_i1513,_arr79,_e1828,_e1829,_iterator1597,_step1597,_i1514,_t2464,e,i,s,n,_this$zP13,_this$zP14,o;return regeneratorRuntime.wrap(function _callee260$(_context262){while(1){switch(_context262.prev=_context262.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1826=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2463=this["#view-select"].value.substring(1);_e1826=this.Js.board.currentWorkspace.querySelector("#"+_t2463);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1826);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());if(!this["#convert-texts-to-paths-checkbox"].toggled){_context262.next=38;break;}this.Js.offscreenBoard.setArtwork(t);_context262.next=5;return ns(100);case 5:_e1827=new Tp(t),_this$Js$board56=this.Js.board,_i1512=_this$Js$board56.geometryPrecision,_s875=_this$Js$board56.transformPrecision;_iterator1596=_createForOfIteratorHelper(t.querySelectorAll("text"));_context262.prev=7;_iterator1596.s();case 9:if((_step1596=_iterator1596.n()).done){_context262.next=26;break;}_n682=_step1596.value;_context262.next=13;return _e1827.canReplaceTextWithPaths(_n682);case 13:if(!_context262.sent){_context262.next=18;break;}_context262.next=16;return _e1827.replaceTextWithPaths(_n682,_i1512,_s875);case 16:_context262.next=24;break;case 18:_context262.next=20;return Qx.canReplaceTextWithPaths(_n682);case 20:_context262.t0=_context262.sent;if(!_context262.t0){_context262.next=24;break;}_context262.next=24;return Qx.replaceTextWithPaths(_n682,_i1512,_s875);case 24:_context262.next=9;break;case 26:_context262.next=31;break;case 28:_context262.prev=28;_context262.t1=_context262["catch"](7);_iterator1596.e(_context262.t1);case 31:_context262.prev=31;_iterator1596.f();return _context262.finish(31);case 34:for(_i1513=0,_arr79=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1513<_arr79.length;_i1513++){_e1828=_arr79[_i1513];_e1828.remove();}this.Js.offscreenBoard.clear();_context262.next=59;break;case 38:this.Js.offscreenBoard.setArtwork(t);_e1829=new Tp(t);_iterator1597=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context262.prev=41;_iterator1597.s();case 43:if((_step1597=_iterator1597.n()).done){_context262.next=50;break;}_i1514=_step1597.value;_t2464=_i1514.getAttribute("data-bx-fonts");_context262.next=48;return _e1829.unlinkFontFamily(_t2464);case 48:_context262.next=43;break;case 50:_context262.next=55;break;case 52:_context262.prev=52;_context262.t2=_context262["catch"](41);_iterator1597.e(_context262.t2);case 55:_context262.prev=55;_iterator1597.f();return _context262.finish(55);case 58:this.Js.offscreenBoard.clear();case 59:e=Vp(t);i=jf(e);_context262.next=63;return Hp(e);case 63:s=_context262.sent;n=Yh(i.length);_this$zP13=this.zP();_this$zP14=_slicedToArray(_this$zP13,1);o=_this$zP14[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 69:case"end":return _context262.stop();}}},_callee260,this,[[7,28,31,34],[41,52,55,58]]);}));function _M(){return _M10.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$zP15=this.zP(),_this$zP16=_slicedToArray(_this$zP15,2),t=_this$zP16[0],e=_this$zP16[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2465=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2465.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2465.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1515=["default"].concat(_toConsumableArray(_t2465.map(function(t){return"#"+t.id;}))),_s876=["Default"].concat(_toConsumableArray(_t2465.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1515.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1515.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2466=0;_t2466<_i1515.length;_t2466+=1){var _e1830=this["#view-menu"].children[_t2466];_e1830.value=_i1515[_t2466],_e1830.firstElementChild.textContent=_s876[_t2466];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Wf;}($f);_defineProperty(Wf,"wP",Qi(_templateObject536()));_defineProperty(Wf,"_shadowStyleSheet",Ji(_templateObject537()));customElements.define("bx-svgzexportsettings",Wf);var Yf=/*#__PURE__*/function(_$f7){_inherits(Yf,_$f7);var _super234=_createSuper(Yf);_createClass(Yf,[{key:"format",get:function get(){return"html";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"width",get:function get(){var _this$zP17=this.zP(),_this$zP18=_slicedToArray(_this$zP17,1),t=_this$zP18[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$zP19=this.zP(),_this$zP20=_slicedToArray(_this$zP19,1),t=_this$zP20[0];return t?t.height:0;}}]);function Yf(){var _this1080;_classCallCheck(this,Yf);_this1080=_super234.call(this),_this1080["#area-buttons"].addEventListener("toggle",function(){return _this1080.TM();}),_this1080["#view-select"].addEventListener("change",function(){return _this1080.vP();}),_this1080["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1080.EP();}),_this1080["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){return _this1080.TP();}),_this1080["#preview-button"].addEventListener("click",function(){return _this1080.yM();});return _this1080;}_createClass(Yf,[{key:"connectedCallback",value:function connectedCallback(){var _this1081=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-htmlexportsettings:area","view-box"),this["#convert-texts-to-paths-checkbox"].toggled=t.getConfig("bx-htmlexportsettings:convertTextsToPaths",!1),this["#remove-embedded-fonts-checkbox"].toggled=t.getConfig("bx-htmlexportsettings:removeEmbeddedFonts",!1),this.qs(),e.addEventListener("selectedelementschange",this.il=function(){_this1081.sl();}),e.addEventListener("workspacemutation",this.hn=function(t){_this1081.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.kM(),t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){this.kM(),this.qs(),this.Qs.setConfig("bx-htmlexportsettings:area",this["#area-buttons"].value);}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"EP",value:function EP(){this.kM(),this.Qs.setConfig("bx-htmlexportsettings:convertTextsToPaths",this["#convert-texts-to-paths-checkbox"].toggled);}},{key:"TP",value:function TP(){this.kM(),this.Qs.setConfig("bx-htmlexportsettings:removeEmbeddedFonts",this["#remove-embedded-fonts-checkbox"].toggled);}},{key:"yM",value:function yM(){this._M();}},{key:"zP",value:function zP(){var _this1082=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=We(t.outermostSelectedObjectElements.map(function(e){var i=Yt(e,t.currentWorkspace),s=Ei(e);return He(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s877=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s877.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1831=t.selectedElements.find(function(t){return"view"===t.localName;});_e1831&&(i=_e1831);}else{var _t2467=_s877.find(function(t){return"#"+t.id===_this1082["#view-select"].value;});_t2467&&(i=_t2467);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ft.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s878=t.currentWorkspace.querySelector("#"+i.id);_s878.hasAttribute("viewBox")&&(e=Ft.fromString(_s878.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"$P",value:function $P(t){return new Promise(/*#__PURE__*/function(){var _ref224=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee261(t){return regeneratorRuntime.wrap(function _callee261$(_context263){while(1){switch(_context263.prev=_context263.next){case 0:t();case 1:case"end":return _context263.stop();}}},_callee261);}));return function(_x265){return _ref224.apply(this,arguments);};}());}},{key:"_M",value:function(){var _M11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee262(){var t,_e1832,_t2468,_e1833,_this$Js$board57,_i1516,_s879,_iterator1598,_step1598,_n683,_i1517,_arr80,_e1834,_e1835,_iterator1599,_step1599,_i1518,_t2469,e,i,s,n,_this$zP21,_this$zP22,o;return regeneratorRuntime.wrap(function _callee262$(_context264){while(1){switch(_context264.prev=_context264.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1832=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2468=this["#view-select"].value.substring(1);_e1832=this.Js.board.currentWorkspace.querySelector("#"+_t2468);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1832);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());if(!this["#convert-texts-to-paths-checkbox"].toggled){_context264.next=38;break;}this.Js.offscreenBoard.setArtwork(t);_context264.next=5;return ns(100);case 5:_e1833=new Tp(t),_this$Js$board57=this.Js.board,_i1516=_this$Js$board57.geometryPrecision,_s879=_this$Js$board57.transformPrecision;_iterator1598=_createForOfIteratorHelper(t.querySelectorAll("text"));_context264.prev=7;_iterator1598.s();case 9:if((_step1598=_iterator1598.n()).done){_context264.next=26;break;}_n683=_step1598.value;_context264.next=13;return _e1833.canReplaceTextWithPaths(_n683);case 13:if(!_context264.sent){_context264.next=18;break;}_context264.next=16;return _e1833.replaceTextWithPaths(_n683,_i1516,_s879);case 16:_context264.next=24;break;case 18:_context264.next=20;return Qx.canReplaceTextWithPaths(_n683);case 20:_context264.t0=_context264.sent;if(!_context264.t0){_context264.next=24;break;}_context264.next=24;return Qx.replaceTextWithPaths(_n683,_i1516,_s879);case 24:_context264.next=9;break;case 26:_context264.next=31;break;case 28:_context264.prev=28;_context264.t1=_context264["catch"](7);_iterator1598.e(_context264.t1);case 31:_context264.prev=31;_iterator1598.f();return _context264.finish(31);case 34:for(_i1517=0,_arr80=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1517<_arr80.length;_i1517++){_e1834=_arr80[_i1517];_e1834.remove();}this.Js.offscreenBoard.clear();_context264.next=59;break;case 38:this.Js.offscreenBoard.setArtwork(t);_e1835=new Tp(t);_iterator1599=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context264.prev=41;_iterator1599.s();case 43:if((_step1599=_iterator1599.n()).done){_context264.next=50;break;}_i1518=_step1599.value;_t2469=_i1518.getAttribute("data-bx-fonts");_context264.next=48;return _e1835.unlinkFontFamily(_t2469);case 48:_context264.next=43;break;case 50:_context264.next=55;break;case 52:_context264.prev=52;_context264.t2=_context264["catch"](41);_iterator1599.e(_context264.t2);case 55:_context264.prev=55;_iterator1599.f();return _context264.finish(55);case 58:this.Js.offscreenBoard.clear();case 59:e=Vp(t,"xml");i=Vp(t,"html");_context264.next=63;return Hp(e);case 63:s=_context264.sent;n=Yh(i.length);_this$zP21=this.zP();_this$zP22=_slicedToArray(_this$zP21,1);o=_this$zP22[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 69:case"end":return _context264.stop();}}},_callee262,this,[[7,28,31,34],[41,52,55,58]]);}));function _M(){return _M11.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$zP23=this.zP(),_this$zP24=_slicedToArray(_this$zP23,2),t=_this$zP24[0],e=_this$zP24[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2470=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2470.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2470.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1519=["default"].concat(_toConsumableArray(_t2470.map(function(t){return"#"+t.id;}))),_s880=["Default"].concat(_toConsumableArray(_t2470.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1519.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1519.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2471=0;_t2471<_i1519.length;_t2471+=1){var _e1836=this["#view-menu"].children[_t2471];_e1836.value=_i1519[_t2471],_e1836.firstElementChild.textContent=_s880[_t2471];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Yf;}($f);_defineProperty(Yf,"wP",Qi(_templateObject538()));_defineProperty(Yf,"_shadowStyleSheet",Ji(_templateObject539()));customElements.define("bx-htmlexportsettings",Yf);var qf=/*#__PURE__*/function(_$f8){_inherits(qf,_$f8);var _super235=_createSuper(qf);_createClass(qf,[{key:"format",get:function get(){return"pdf";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"widthUnit",get:function get(){return this["#width-unit-select"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"heightUnit",get:function get(){return this["#height-unit-select"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}}]);function qf(){var _this1083;_classCallCheck(this,qf);_this1083=_super235.call(this),_this1083["#area-buttons"].addEventListener("toggle",function(){return _this1083.TM();}),_this1083["#view-select"].addEventListener("change",function(){return _this1083.vP();}),_this1083["#width-input"].addEventListener("changestart",function(){return _this1083.jg();}),_this1083["#height-input"].addEventListener("changestart",function(){return _this1083.Hg();}),_this1083["#width-unit-select"].addEventListener("change",function(){return _this1083.IP();}),_this1083["#height-unit-select"].addEventListener("change",function(){return _this1083.LP();}),_this1083["#lock-size-button"].addEventListener("toggle",function(){return _this1083.yP();}),_this1083["#background-select"].addEventListener("changeend",function(){return _this1083.wM();}),_this1083["#background-popover"].addEventListener("close",function(){return _this1083.vM();}),_this1083["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1083.EP();}),_this1083["#preview-button"].addEventListener("click",function(){return _this1083.yM();});return _this1083;}_createClass(qf,[{key:"connectedCallback",value:function connectedCallback(){var _this1084=this;this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app"),this["#area-buttons"].value=this.Qs.getConfig("bx-pdfexportsettings:area","view-box"),this["#width-unit-select"].value=this.Qs.getConfig("bx-pdfexportsettings:widthUnit","cm"),this["#height-unit-select"].value=this.Qs.getConfig("bx-pdfexportsettings:heightUnit","cm"),this["#lock-size-button"].toggled=this.Qs.getConfig("bx-pdfexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#background-select"].value=this.Qs.getConfig("bx-pdfexportsettings:background","rgb(255, 255, 255)"),this["#convert-texts-to-paths-checkbox"].toggled=this.Qs.getConfig("bx-pdfexportsettings:convertTextsToPaths",!1),this.qs(),this.Js.board.addEventListener("selectedelementschange",this.il=function(){_this1084.sl();}),this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this1084.al(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.kM(),this.Js.board.removeEventListener("selectedelementschange",this.il),this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"sl",value:function sl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.kM(),this.qs());}},{key:"al",value:function al(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.kM(),this.qs());}},{key:"TM",value:function TM(){this.kM(),this.qs(),this.Qs.setConfig("bx-pdfexportsettings:area",this["#area-buttons"].value);}},{key:"vP",value:function vP(){if(this.kM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"jg",value:function jg(){var _this1085=this;var t,_e1837,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2472=_this1085["#width-input"].value/i;_this1085["#height-input"].value=et(_t2472,1,Infinity,3);}}),this["#width-input"].addEventListener("changeend",_e1837=function e(){_this1085["#width-input"].removeEventListener("change",t),_this1085["#width-input"].removeEventListener("changeend",_e1837),_this1085.kM();});}},{key:"Hg",value:function Hg(){var _this1086=this;var t,_e1838,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2473=i*_this1086["#height-input"].value;_this1086["#width-input"].value=et(_t2473,1,Infinity,3);}}),this["#height-input"].addEventListener("changeend",_e1838=function e(){_this1086["#height-input"].removeEventListener("change",t),_this1086["#height-input"].removeEventListener("changeend",_e1838),_this1086.kM();});}},{key:"IP",value:function IP(){this.Qs.setConfig("bx-pdfexportsettings:widthUnit",this["#width-unit-select"].value),this.kM(),"cm"===this["#width-unit-select"].value?this["#width-input"].value=tt(2.54*this["#width-input"].value,3):this["#width-input"].value=tt(this["#width-input"].value/2.54,3);}},{key:"LP",value:function LP(){this.Qs.setConfig("bx-pdfexportsettings:heightUnit",this["#height-unit-select"].value),this.kM(),"cm"===this["#height-unit-select"].value?this["#height-input"].value=tt(2.54*this["#height-input"].value,3):this["#height-input"].value=tt(this["#height-input"].value/2.54,3);}},{key:"yP",value:function yP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pdfexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"wM",value:function wM(){this.SM=!0;}},{key:"vM",value:function vM(){this.SM&&(this.SM=!1,this.Qs.setConfig("bx-pdfexportsettings:background",this["#background-select"].value),this.kM());}},{key:"EP",value:function EP(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-pdfexportsettings:convertTextsToPaths",t),this.kM();}},{key:"yM",value:function yM(){this._M();}},{key:"_M",value:function(){var _M12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee263(){var t,_e1839,_t2474,e,i,s,n,_e1840,_this$Js$board58,_i1520,_s881,_iterator1600,_step1600,_n684,_i1521,_arr81,_e1841,_e1842,_iterator1601,_step1601,_i1522,_t2475,o,l;return regeneratorRuntime.wrap(function _callee263$(_context265){while(1){switch(_context265.prev=_context265.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1839=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2474=this["#view-select"].value.substring(1);_e1839=this.Js.board.currentWorkspace.querySelector("#"+_t2474);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1839);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());e=this["#width-input"].value+this["#width-unit-select"].value,i=this["#height-input"].value+this["#height-unit-select"].value,s=this["#width-input"].value*("cm"===this["#width-unit-select"].value?37.7953:96),n=this["#height-input"].value*("cm"===this["#height-unit-select"].value?37.7953:96);if(!(t.setAttribute("width",e),t.setAttribute("height",i),t.setAttribute("preserveAspectRatio","none"),t.style.background=this["#background-select"].value,t.insertAdjacentHTML("beforeEnd","<style>@page {size: ".concat(e," ").concat(i,";}</style>")),this["#convert-texts-to-paths-checkbox"].toggled)){_context265.next=39;break;}this.Js.offscreenBoard.setArtwork(t);_context265.next=6;return ns(100);case 6:_e1840=new Tp(t),_this$Js$board58=this.Js.board,_i1520=_this$Js$board58.geometryPrecision,_s881=_this$Js$board58.transformPrecision;_iterator1600=_createForOfIteratorHelper(t.querySelectorAll("text"));_context265.prev=8;_iterator1600.s();case 10:if((_step1600=_iterator1600.n()).done){_context265.next=27;break;}_n684=_step1600.value;_context265.next=14;return _e1840.canReplaceTextWithPaths(_n684);case 14:if(!_context265.sent){_context265.next=19;break;}_context265.next=17;return _e1840.replaceTextWithPaths(_n684,_i1520,_s881);case 17:_context265.next=25;break;case 19:_context265.next=21;return Qx.canReplaceTextWithPaths(_n684);case 21:_context265.t0=_context265.sent;if(!_context265.t0){_context265.next=25;break;}_context265.next=25;return Qx.replaceTextWithPaths(_n684,_i1520,_s881);case 25:_context265.next=10;break;case 27:_context265.next=32;break;case 29:_context265.prev=29;_context265.t1=_context265["catch"](8);_iterator1600.e(_context265.t1);case 32:_context265.prev=32;_iterator1600.f();return _context265.finish(32);case 35:for(_i1521=0,_arr81=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1521<_arr81.length;_i1521++){_e1841=_arr81[_i1521];_e1841.remove();}this.Js.offscreenBoard.clear();_context265.next=60;break;case 39:this.Js.offscreenBoard.setArtwork(t);_e1842=new Tp(t);_iterator1601=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context265.prev=42;_iterator1601.s();case 44:if((_step1601=_iterator1601.n()).done){_context265.next=51;break;}_i1522=_step1601.value;_t2475=_i1522.getAttribute("data-bx-fonts");_context265.next=49;return _e1842.unlinkFontFamily(_t2475);case 49:_context265.next=44;break;case 51:_context265.next=56;break;case 53:_context265.prev=53;_context265.t2=_context265["catch"](42);_iterator1601.e(_context265.t2);case 56:_context265.prev=56;_iterator1601.f();return _context265.finish(56);case 59:this.Js.offscreenBoard.clear();case 60:o=Vp(t);_context265.next=63;return Hp(o);case 63:l=_context265.sent;this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="",this["#preview-section"].scrollIntoViewIfNeeded();case 65:case"end":return _context265.stop();}}},_callee263,this,[[8,29,32,35],[42,53,56,59]]);}));function _M(){return _M12.apply(this,arguments);}return _M;}()},{key:"kM",value:function kM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1087=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=We(t.outermostSelectedObjectElements.map(function(e){var i=Yt(e,t.currentWorkspace),s=Ei(e);return He(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s882=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s882.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1843=t.selectedElements.find(function(t){return"view"===t.localName;});_e1843&&(i=_e1843);}else{var _t2476=_s882.find(function(t){return"#"+t.id===_this1087["#view-select"].value;});_t2476&&(i=_t2476);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ft.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s883=t.currentWorkspace.querySelector("#"+i.id);_s883.hasAttribute("viewBox")&&(e=Ft.fromString(_s883.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}this.exportable=!!e,this["#options-heading"].disabled=this.disabled,this["#area-heading"].disabled=this.disabled;var _iterator1602=_createForOfIteratorHelper(this["#area-buttons"].children),_step1602;try{for(_iterator1602.s();!(_step1602=_iterator1602.n()).done;){var _t2479=_step1602.value;_t2479.disabled=this.disabled;}}catch(err){_iterator1602.e(err);}finally{_iterator1602.f();}if("selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _e1844=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_e1844.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_e1844.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _t2477=["default"].concat(_toConsumableArray(_e1844.map(function(t){return"#"+t.id;}))),_s884=["Default"].concat(_toConsumableArray(_e1844.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_t2477.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_t2477.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _e1845=0;_e1845<_t2477.length;_e1845+=1){var _i1523=this["#view-menu"].children[_e1845];_i1523.value=_t2477[_e1845],_i1523.firstElementChild.textContent=_s884[_e1845];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=i?"#"+i.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}{var _t2478=100,_i1524=100;null!==e&&(_t2478="cm"===this["#width-unit-select"].value?tt(e.width/37.7953,3):tt(e.width/96,3),_i1524="cm"===this["#height-unit-select"].value?tt(e.height/37.7953,3):tt(e.height/96,3)),this["#width-heading"].disabled=null===e||this.disabled,this["#width-input"].disabled=null===e||this.disabled,this["#width-input"].value=_t2478,this["#width-unit-select"].disabled=null===e||this.disabled,this["#height-heading"].disabled=null===e||this.disabled,this["#height-input"].disabled=null===e||this.disabled,this["#height-input"].value=_i1524,this["#height-unit-select"].disabled=null===e||this.disabled,this["#lock-size-button"].disabled=null===e||this.disabled;}this["#background-heading"].disabled=null===e||this.disabled,this["#background-select"].disabled=null===e||this.disabled,this["#normalize-heading"].disabled=null===e||this.disabled,this["#convert-texts-to-paths-checkbox"].disabled=null===e||this.disabled,this["#preview-heading"].disabled=null===e||this.disabled,this["#preview-button"].disabled=null===e||this.disabled;}}]);return qf;}($f);_defineProperty(qf,"wP",Qi(_templateObject540()));_defineProperty(qf,"_shadowStyleSheet",Ji(_templateObject541()));customElements.define("bx-pdfexportsettings",qf);var Xf=/*#__PURE__*/function(_HTMLElement132){_inherits(Xf,_HTMLElement132);var _super236=_createSuper(Xf);_createClass(Xf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Xf(){var _this1088;_classCallCheck(this,Xf);_this1088=_super236.call(this),_this1088._shadowRoot=_this1088.attachShadow({mode:"closed"}),_this1088._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Xf._shadowStyleSheet],_this1088._shadowRoot.append(document.importNode(Xf._shadowTemplate.content,!0));var _iterator1603=_createForOfIteratorHelper(_this1088._shadowRoot.querySelectorAll("[id]")),_step1603;try{for(_iterator1603.s();!(_step1603=_iterator1603.n()).done;){var t=_step1603.value;_this1088["#"+t.id]=t;}}catch(err){_iterator1603.e(err);}finally{_iterator1603.f();}_this1088["#format-select"].addEventListener("change",function(){return _this1088.nx();}),_this1088["#main"].addEventListener("exportablechange",function(t){return _this1088.qs();}),_this1088["#export-button"].addEventListener("click",function(t){return _this1088.RP(t);});return _this1088;}_createClass(Xf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"connectedCallback",value:function connectedCallback(){this.Js=Gi(this,"bx-editor"),this.Qs=Gi(this,"#app"),this["#pdf-menu-item"].hidden=!0===this.Qs.matches("bx-chromeapp");}},{key:"tn",value:function tn(){this["#format-select"].value=this.Qs.getConfig("bx-exportpanel:format","png"),this.BP=null,this.qs();}},{key:"en",value:function en(){this["#format-select"].value=null,this.BP=null,this.qs();}},{key:"nx",value:function nx(){this.Qs.setConfig("bx-exportpanel:format",this["#format-select"].value),this.BP=null,this.qs();}},{key:"RP",value:function(){var _RP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee264(){var _this$Qs$checkDiskWri,_this$Qs$checkDiskWri2,_t2480,_i1525,_Yg3,_Yg4,_s885,t,i,s,n,_t2481,_t2482,_iterator1604,_step1604,_e1846,_i1526,_t2483,_e1847,_i$margin,_e1848,_o534,_l397,_a293,_h229,_r154,_d122,_c89,_p80,_i$margin2,_e1849,_o535,_l398,_a294,_h230,_r155,_d123,_c90,_p81,_i$margin3,_e1850,_o536,_l399,_a295,_h231,_r156,_d124,_c91,_p82,_i$margin4,_e1851,_o537,_l400,_a296,_h232,_r157,_d125,_c92,_p83,_t2484,_e1853,_t2485,_e1854,_i1527,_arr82,_arr82$_i,_e1855,_i1528,_t2486,_e1856,_i1529,_s886,_i1530,_He,_s887,_o539,_e1852,_o538,_t2487,_e1858,_e1857,_o540,_t2488,_e1859,_t2489,_e1860,_i1531,_t2490;return regeneratorRuntime.wrap(function _callee264$(_context266){while(1){switch(_context266.prev=_context266.next){case 0:if(!("bx-webapp"===this.Qs.localName)){_context266.next=8;break;}_this$Qs$checkDiskWri=this.Qs.checkDiskWriteAccess(),_this$Qs$checkDiskWri2=_slicedToArray(_this$Qs$checkDiskWri,2),_t2480=_this$Qs$checkDiskWri2[0],_i1525=_this$Qs$checkDiskWri2[1],_Yg3=Yg(this.Qs.userSubscription,this.Qs.user),_Yg4=_slicedToArray(_Yg3,1),_s885=_Yg4[0];if(!("rejected"===_t2480)){_context266.next=4;break;}return _context266.abrupt("return",void this.Qs.handleWriteAccessRejection(_i1525,"Can't export file"));case 4:if(!("pdf"===this["#format-select"].value&&(null===_s885||_s885===e))){_context266.next=6;break;}return _context266.abrupt("return",void this.Qs.handleWriteAccessRejection("boxy-svg/user-not-subscribed-to-premium-plan","Can't export file"));case 6:if(!this.BP){_context266.next=8;break;}return _context266.abrupt("return",(this.BP=null,void this.qs()));case 8:t=this["#format-select"].value,i=this["#main"].firstElementChild,s=null,n=null;if("view-box"===i.area){if(null===i.viewID)n=this.Js.board.extractArtworkWithViewBoxElements();else{_t2481=this.Js.board.currentWorkspace.querySelector("#"+i.viewID);n=this.Js.board.extractArtworkWithViewBoxElements(_t2481);}}else"selection"===i.area&&(n=this.Js.board.extractArtworkWithSelectedElements(i.margin||[0,0,0,0]));if(!["png","jpeg","gif","webp","pdf"].includes(t)){_context266.next=32;break;}this.Js.offscreenBoard.setArtwork(n);_t2482=new Tp(n);_iterator1604=_createForOfIteratorHelper(n.querySelectorAll("style[data-bx-fonts]"));_context266.prev=14;_iterator1604.s();case 16:if((_step1604=_iterator1604.n()).done){_context266.next=23;break;}_e1846=_step1604.value;_i1526=_e1846.getAttribute("data-bx-fonts");_context266.next=21;return _t2482.unlinkFontFamily(_i1526);case 21:_context266.next=16;break;case 23:_context266.next=28;break;case 25:_context266.prev=25;_context266.t0=_context266["catch"](14);_iterator1604.e(_context266.t0);case 28:_context266.prev=28;_iterator1604.f();return _context266.finish(28);case 31:this.Js.offscreenBoard.clear();case 32:_t2483=null;if("view-box"===i.area){if(null===i.viewID){_t2483=this.Js.board.currentWorkspace.querySelector(":scope > bx-title");}else{_t2483=this.Js.board.currentWorkspace.querySelector("#"+i.viewID).querySelector(":scope > bx-title");}}else{_e1847=this.Js.board.outermostSelectedObjectElements;1===_e1847.length&&(_t2483=_e1847[0].querySelector(":scope > bx-title"));}_t2483&&_t2483.textContent.trim().length>0&&(s=_t2483.textContent);if(!("png"===t)){_context266.next=46;break;}_i$margin=_slicedToArray(i.margin,4),_e1848=_i$margin[0],_o534=_i$margin[1],_l397=_i$margin[2],_a293=_i$margin[3],_h229=i.scale,_r154=(i.width+_a293+_o534)*_h229,_d122=(i.height+_e1848+_l397)*_h229,_c89=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r154+"px"),n.setAttribute("height",_d122+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=40;return Sf(Vp(n),"png",{dpi:i.dpi,colors:i.colors,background:i.background});case 40:_p80=_context266.sent;_context266.next=43;return ns(100);case 43:this.Qs.openBitmapExportDialog(_p80,t,s,_c89);_context266.next=134;break;case 46:if(!("jpeg"===t)){_context266.next=57;break;}_i$margin2=_slicedToArray(i.margin,4),_e1849=_i$margin2[0],_o535=_i$margin2[1],_l398=_i$margin2[2],_a294=_i$margin2[3],_h230=i.scale,_r155=(i.width+_a294+_o535)*_h230,_d123=(i.height+_e1849+_l398)*_h230,_c90=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r155+"px"),n.setAttribute("height",_d123+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=51;return Sf(Vp(n),"jpeg",{compression:i.compression,background:i.background});case 51:_p81=_context266.sent;_context266.next=54;return ns(100);case 54:this.Qs.openBitmapExportDialog(_p81,t,s,_c90);_context266.next=134;break;case 57:if(!("gif"===t)){_context266.next=68;break;}_i$margin3=_slicedToArray(i.margin,4),_e1850=_i$margin3[0],_o536=_i$margin3[1],_l399=_i$margin3[2],_a295=_i$margin3[3],_h231=i.scale,_r156=(i.width+_a295+_o536)*_h231,_d124=(i.height+_e1850+_l399)*_h231,_c91=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r156+"px"),n.setAttribute("height",_d124+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=62;return Sf(Vp(n),"gif",{background:i.background,transparent:i.transparent,dithering:i.dithering});case 62:_p82=_context266.sent;_context266.next=65;return ns(100);case 65:this.Qs.openBitmapExportDialog(_p82,t,s,_c91);_context266.next=134;break;case 68:if(!("webp"===t)){_context266.next=79;break;}_i$margin4=_slicedToArray(i.margin,4),_e1851=_i$margin4[0],_o537=_i$margin4[1],_l400=_i$margin4[2],_a296=_i$margin4[3],_h232=i.scale,_r157=(i.width+_a296+_o537)*_h232,_d125=(i.height+_e1851+_l400)*_h232,_c92=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r157+"px"),n.setAttribute("height",_d125+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=73;return Sf(Vp(n),"webp",{compression:i.compression,background:i.background});case 73:_p83=_context266.sent;_context266.next=76;return ns(100);case 76:this.Qs.openBitmapExportDialog(_p83,t,s,_c92);_context266.next=134;break;case 79:if(!("svg"===t||"svgz"===t)){_context266.next=95;break;}_context266.t1=i.convertTextsToPaths;if(!_context266.t1){_context266.next=84;break;}_context266.next=84;return this.$P(n);case 84:if(!i.removeEmbeddedFonts){_context266.next=87;break;}_e1853=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2484=_e1853.nextNode();){"style"===_t2484.localName&&_t2484.hasAttribute("data-bx-fonts")&&_t2484.textContent.includes("data:font/")&&_t2484.remove();}case 87:if(i.removeNonStandardNamespaces){_e1854=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2485=_e1854.nextNode();){_t2485.localName.includes("-")&&"bx-title"!==_t2485.localName&&_t2485.remove();for(_i1527=0,_arr82=_toConsumableArray(_t2485.attributes);_i1527<_arr82.length;_i1527++){_arr82$_i=_arr82[_i1527],_e1855=_arr82$_i.name,_i1528=_arr82$_i.value;_e1855.startsWith("data-bx-")&&_t2485.removeAttribute(_e1855);}}}if("responsive"===i.viewport)n.removeAttribute("width"),n.removeAttribute("height");else if("fixed"===i.viewport){_t2486=this.Js.board,_e1856=null,_i1529=_t2486.getComputedViewportWidth(),_s886=_t2486.getComputedViewportWidth();if(_i1529&&null!==_i1529.unit?_e1856=_i1529.unit:_s886&&null!==_s886.unit&&(_e1856=_s886.unit),null===_e1856)n.setAttribute("width",tt(n.viewBox.baseVal.width,_t2486.geometryPrecision)),n.setAttribute("height",tt(n.viewBox.baseVal.height,_t2486.geometryPrecision));else{_i1530=Kt(_t2486.currentWorkspace).multiply(Qt("px",_e1856)),_He=He(n.viewBox.baseVal,_i1530),_s887=_He.width,_o539=_He.height;n.setAttribute("width",tt(_s887,_t2486.geometryPrecision)+_e1856),n.setAttribute("height",tt(_o539,_t2486.geometryPrecision)+_e1856);}}_e1852=this.Qs.getConfig("bx-markupsettings:indentation",2),_o538=Vp(n,"xml",_e1852);_context266.next=92;return ns(100);case 92:this.Qs.openArtworkExportDialog(_o538,t,s);_context266.next=134;break;case 95:if(!("html"===t)){_context266.next=109;break;}_context266.t2=i.convertTextsToPaths;if(!_context266.t2){_context266.next=100;break;}_context266.next=100;return this.$P(n);case 100:if(!i.removeEmbeddedFonts){_context266.next=103;break;}_e1858=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2487=_e1858.nextNode();){"style"===_t2487.localName&&_t2487.hasAttribute("data-bx-fonts")&&_t2487.textContent.includes("data:font/")&&_t2487.remove();}case 103:_e1857=this.Qs.getConfig("bx-markupsettings:indentation",2),_o540=Vp(n,"html",_e1857);_context266.next=106;return ns(100);case 106:this.Qs.openArtworkExportDialog(_o540,t,s);_context266.next=134;break;case 109:if(!("pdf"===t)){_context266.next=134;break;}_context266.t3=i.convertTextsToPaths;if(!_context266.t3){_context266.next=114;break;}_context266.next=114;return this.$P(n);case 114:_t2488=i.width+i.widthUnit,_e1859=i.height+i.heightUnit;if(!(n.setAttribute("width",_t2488),n.setAttribute("height",_e1859),n.setAttribute("preserveAspectRatio","none"),n.style.background=i.background,n.insertAdjacentHTML("beforeEnd","\n        <style>\n          @page {\n            size: ".concat(_t2488," ").concat(_e1859,";\n          }\n          html,\n          html > body {\n            width: ").concat(_t2488,";\n            height: ").concat(_e1859,";\n            overflow: hidden;\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact !important;\n          }\n        </style>")),"bx-webapp"===this.Qs.localName)){_context266.next=130;break;}_t2489=null,_e1860=null,_i1531=Symbol();this.BP=_i1531,this.qs();_context266.prev=118;_context266.next=121;return this.Qs.convertArtworkToPDF(n);case 121:_t2489=_context266.sent;_context266.next=127;break;case 124:_context266.prev=124;_context266.t4=_context266["catch"](118);_e1860=_context266.t4;case 127:this.BP===_i1531&&(this.BP=null,_e1860?console.log("Server error",_e1860):this.Qs.openPDFExportDialog(_t2489,s),this.qs());_context266.next=134;break;case 130:_t2490=Vp(n,"html");_context266.next=133;return ns(100);case 133:this.Qs.openPDFExportDialog(_t2490,s);case 134:case"end":return _context266.stop();}}},_callee264,this,[[14,25,28,31],[118,124]]);}));function RP(){return _RP.apply(this,arguments);}return RP;}()},{key:"$P",value:function $P(t){var _this1089=this;return new Promise(/*#__PURE__*/function(){var _ref225=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee265(e){var i,_this1089$Js$board,s,n,_iterator1605,_step1605,_e1862,_i1532,_arr83,_e1861;return regeneratorRuntime.wrap(function _callee265$(_context267){while(1){switch(_context267.prev=_context267.next){case 0:_this1089.Js.offscreenBoard.setArtwork(t);_context267.next=3;return ns(100);case 3:i=new Tp(t),_this1089$Js$board=_this1089.Js.board,s=_this1089$Js$board.geometryPrecision,n=_this1089$Js$board.transformPrecision;_iterator1605=_createForOfIteratorHelper(t.querySelectorAll("text"));_context267.prev=5;_iterator1605.s();case 7:if((_step1605=_iterator1605.n()).done){_context267.next=24;break;}_e1862=_step1605.value;_context267.next=11;return i.canReplaceTextWithPaths(_e1862);case 11:if(!_context267.sent){_context267.next=16;break;}_context267.next=14;return i.replaceTextWithPaths(_e1862,s,n);case 14:_context267.next=22;break;case 16:_context267.next=18;return Qx.canReplaceTextWithPaths(_e1862);case 18:_context267.t0=_context267.sent;if(!_context267.t0){_context267.next=22;break;}_context267.next=22;return Qx.replaceTextWithPaths(_e1862,s,n);case 22:_context267.next=7;break;case 24:_context267.next=29;break;case 26:_context267.prev=26;_context267.t1=_context267["catch"](5);_iterator1605.e(_context267.t1);case 29:_context267.prev=29;_iterator1605.f();return _context267.finish(29);case 32:for(_i1532=0,_arr83=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1532<_arr83.length;_i1532++){_e1861=_arr83[_i1532];_e1861.remove();}_this1089.Js.offscreenBoard.clear(),e();case 34:case"end":return _context267.stop();}}},_callee265,null,[[5,26,29,32]]);}));return function(_x266){return _ref225.apply(this,arguments);};}());}},{key:"qs",value:function(){var _qs9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee266(){var t,e;return regeneratorRuntime.wrap(function _callee266$(_context268){while(1){switch(_context268.prev=_context268.next){case 0:t=this["#format-select"].value;null===t?this["#main"].innerHTML="":null!==this["#main"].firstElementChild&&this["#main"].firstElementChild.localName==="bx-".concat(t,"exportsettings")||(this["#main"].innerHTML="<bx-".concat(t,"exportsettings></bx-").concat(t,"exportsettings>"));e=this["#main"].firstElementChild;e&&(null===this.BP?(e.disabled=!1,this["#export-label"].textContent="Export",this["#export-button"].disabled=!e.exportable,this["#progress-bar"].value=-1):(e.disabled=!0,this["#export-label"].textContent="Stop",this["#export-button"].disabled=!1,this["#progress-bar"].value=null));case 4:case"end":return _context268.stop();}}},_callee266,this);}));function qs(){return _qs9.apply(this,arguments);}return qs;}()}]);return Xf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xf,"observedAttributes",["enabled"]);_defineProperty(Xf,"_shadowTemplate",Qi(_templateObject542()));_defineProperty(Xf,"_shadowStyleSheet",Ji(_templateObject543()));customElements.define("bx-exportpanel",Xf);var Zf=Symbol();var Kf=/*#__PURE__*/function(_HTMLElement133){_inherits(Kf,_HTMLElement133);var _super237=_createSuper(Kf);_createClass(Kf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Kf(){var _this1090;_classCallCheck(this,Kf);_this1090=_super237.call(this),_this1090._shadowRoot=_this1090.attachShadow({mode:"closed"}),_this1090._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Kf._shadowStyleSheet],_this1090._shadowRoot.append(document.importNode(Kf._shadowTemplate.content,!0));var _iterator1606=_createForOfIteratorHelper(_this1090._shadowRoot.querySelectorAll("[id]")),_step1606;try{for(_iterator1606.s();!(_step1606=_iterator1606.n()).done;){var t=_step1606.value;_this1090["#"+t.id]=t;}}catch(err){_iterator1606.e(err);}finally{_iterator1606.f();}_this1090["#items"].addEventListener("click",function(t){return _this1090.np(t);}),_this1090["#undo-button"].addEventListener("click",function(){return _this1090.GP();}),_this1090["#redo-button"].addEventListener("click",function(){return _this1090.UP();}),_this1090["#clear-button"].addEventListener("click",function(){return _this1090.nb();}),_this1090["#slider"].addEventListener("changestart",function(){return _this1090.FP();});return _this1090;}_createClass(Kf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this1091=this;this.Js.board.undoManager.addEventListener("change",this.NP=function(t){_this1091.VP(t);}),this.qs(),this.Eu();}},{key:"en",value:function en(){this.Js.board.undoManager.removeEventListener("change",this.NP),this["#items"].innerHTML="";}},{key:"VP",value:function VP(t){this.qs();}},{key:"np",value:function np(t){var e=t.target.closest(".item"),i=this.Js.board.undoManager;if(e&&!1===e.hasAttribute("data-selected")){var _t2491=Ri(e)+1;if(_t2491<i.position)for(;_t2491<i.position&&i.canUndo();){i.undo();}else if(_t2491>i.position)for(;_t2491>i.position&&i.canRedo();){i.redo();}}}},{key:"GP",value:function GP(){this.Js.board.undoManager.undo();}},{key:"UP",value:function UP(){this.Js.board.undoManager.redo();}},{key:"nb",value:function(){var _nb=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee267(){return regeneratorRuntime.wrap(function _callee267$(_context269){while(1){switch(_context269.prev=_context269.next){case 0:_context269.next=2;return this.Qs.openMessageDialog({type:"question",buttons:["Clear","Cancel"],title:"Confirm",message:"Clear history",detail:"This action can't be reverted."});case 2:_context269.t0=_context269.sent;if(!(0===_context269.t0)){_context269.next=5;break;}this.Js.board.undoManager.clear();case 5:case"end":return _context269.stop();}}},_callee267,this);}));function nb(){return _nb.apply(this,arguments);}return nb;}()},{key:"FP",value:function FP(){var _this1092=this;var t,_e1863,i=this.Js.board.undoManager;this["#slider"].addEventListener("change",t=function t(){var t=_this1092["#slider"].value;if(t<i.position)for(;t<i.position&&i.canUndo();){i.undo();}else if(t>i.position)for(;t>i.position&&i.canRedo();){i.redo();}}),this["#slider"].addEventListener("changeend",_e1863=function e(){_this1092["#slider"].removeEventListener("change",t),_this1092["#slider"].removeEventListener("changeend",_e1863);});}},{key:"Eu",value:function Eu(){var t=this["#items"].querySelector(":scope > [data-selected]");t&&Ui(t);}},{key:"qs",value:function qs(){var t=this.Js.board.undoManager,e=t.groups.length;for(;this["#items"].childElementCount>e;){this["#items"].lastElementChild.remove();}if(this["#items"].childElementCount<e){var _t2492="";for(var _i1533=this["#items"].childElementCount;_i1533<e;_i1533+=1){_t2492+='<div class="item"></div>';}this["#items"].insertAdjacentHTML("beforeend",_t2492);}{var _i1534=t.position-1;for(var _s888=0;_s888<e;_s888+=1){var _e1864=t.groups[_s888],_n685=this["#items"].children[_s888];_n685[Zf]!==_e1864&&(_n685[Zf]=_e1864,_n685.textContent=_e1864.label),_s888===_i1534?_n685.setAttribute("data-selected",""):_n685.removeAttribute("data-selected");}}this["#undo-button"].disabled=!1===t.canUndo(),this["#redo-button"].disabled=!1===t.canRedo(),this["#clear-button"].disabled=!1===t.canUndo()&&!1===t.canRedo(),0===e?(this["#slider"].disabled=!0,this["#slider"].min=0,this["#slider"].max=1,this["#slider"].value=0):(this["#slider"].disabled=!1,this["#slider"].min=0,this["#slider"].max=e,this["#slider"].value=t.position),this["#placeholder"].hidden=this["#items"].childElementCount>0;}}]);return Kf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kf,"observedAttributes",["enabled"]);_defineProperty(Kf,"_shadowTemplate",Qi(_templateObject544()));_defineProperty(Kf,"_shadowStyleSheet",Ji(_templateObject545()));customElements.define("bx-historypanel",Kf);V.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;});var Qf=function Qf(t){var e=t.indexOf("="),i=-1===e?t:t.substring(0,e),s=-1===e?"":t.substring(e+1);return i=i.trim(),s=s.trim(),s.length<2||'"'!==s[0]&&"'"!==s[0]||s[0]!==s[s.length-1]?["",""]:(s=s.substr(1,s.length-2),[i,s]);},Jf=Math.floor,tw=Math.ceil,ew=Number.isNaN,iw=Symbol(),sw='<span class="attribute" spellcheck="false"><span class="name"></span>="<span class="value"></span><span class="ellipsis" hidden>...</span>"</span>';var nw=/*#__PURE__*/function(_HTMLElement134){_inherits(nw,_HTMLElement134);var _super238=_createSuper(nw);_createClass(nw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedNodes",get:function get(){return this.da;},set:function set(t){this.da=t,this.jP();}},{key:"outermostSelectedNodes",get:function get(){return this.HP();}}]);function nw(){var _temp50,_this1093;_classCallCheck(this,nw);(_temp50=_this1093=_super238.call(this),_defineProperty(_assertThisInitialized(_this1093),"commands",{selectAll:{exec:function exec(){return _this1093.Pd();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this1093.Bd();}}}),_temp50),_this1093.tabIndex=1,_this1093.da=[],_this1093.WP=[],_this1093.YP=null,_this1093.qP=!1,_this1093.XP=_this1093.XP.bind(_assertThisInitialized(_this1093)),_this1093._shadowRoot=_this1093.attachShadow({mode:"closed"}),_this1093._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,nw._shadowStyleSheet],_this1093._shadowRoot.append(document.importNode(nw._shadowTemplate.content,!0));var _iterator1607=_createForOfIteratorHelper(_this1093._shadowRoot.querySelectorAll("[id]")),_step1607;try{for(_iterator1607.s();!(_step1607=_iterator1607.n()).done;){var t=_step1607.value;_this1093["#"+t.id]=t;}}catch(err){_iterator1607.e(err);}finally{_iterator1607.f();}_this1093.addEventListener("keydown",function(t){return _this1093.wn(t);}),_this1093["#tree"].addEventListener("dragstart",function(t){return _this1093.sv(t);}),_this1093._shadowRoot.addEventListener("contextmenu",function(t){return _this1093.Ks(t);}),_this1093._shadowRoot.addEventListener("pointerdown",function(t){return _this1093.gx(t);}),_this1093._shadowRoot.addEventListener("click",function(t){return _this1093.ZP(t);}),_this1093._shadowRoot.addEventListener("dblclick",function(t){return _this1093.KP(t);});return _this1093;}_createClass(nw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this1094=this;this.QP();var t=this.Js.board;t.addEventListener("selectedelementschange",this.il=function(){_this1094.JP();}),t.addEventListener("currentworkspacechange",this.Fx=function(){_this1094.QP();}),t.addEventListener("workspacemutation",this.hn=function(t){_this1094.al(t.detail);});}},{key:"en",value:function en(){this.WP=[],this["#tree"].innerHTML="";var t=this.Js.board;t.removeEventListener("selectedelementschange",this.il),t.removeEventListener("currentworkspacechange",this.Fx),t.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){var _this1095=this;var _iterator1608=_createForOfIteratorHelper(t),_step1608;try{var _loop45=function _loop45(){var e=_step1608.value;if("attributes"===e.type){_this1095.WP.find(function(t){return"attributes"===t.type&&t.target===e.target&&t.attributeName===e.attributeName;})||_this1095.WP.push(e);}else if("characterData"===e.type){_this1095.WP.find(function(t){return"characterData"===t.type&&t.target===e.target;})||_this1095.WP.push(e);}else"childList"===e.type&&_this1095.WP.push(e);};for(_iterator1608.s();!(_step1608=_iterator1608.n()).done;){_loop45();}}catch(err){_iterator1608.e(err);}finally{_iterator1608.f();}requestIdleCallback(this.XP);}},{key:"XP",value:function XP(t){var _this1096=this;var _loop46=function _loop46(){var t=_this1096.WP.shift(),e=_toConsumableArray(_this1096["#tree"].querySelectorAll(".item")).find(function(e){return e[iw]===t.target;});e&&("childList"===t.type?(_this1096.tD(e),_this1096.eD(e,t)):"attributes"===t.type?_this1096.iD(e,t.attributeName,!0):"characterData"===t.type&&_this1096.sD(e));};for(;t.timeRemaining()>10&&this.WP.length>0;){_loop46();}this.WP.length>0&&requestIdleCallback(this.XP);}},{key:"jP",value:function jP(){var _iterator1609=_createForOfIteratorHelper(this["#tree"].querySelectorAll(".item:not([hidden])")),_step1609;try{for(_iterator1609.s();!(_step1609=_iterator1609.n()).done;){var t=_step1609.value;this.selectedNodes.includes(t[iw])?t.setAttribute("data-selected",""):t.removeAttribute("data-selected");}}catch(err){_iterator1609.e(err);}finally{_iterator1609.f();}this.dispatchEvent(new CustomEvent("selectednodeschange"));}},{key:"JP",value:function JP(){var _this1097=this;if(!0===this.qP)return void(this.qP=!1);var t=this.Js.board;if(0===t.selectedElements.length)this.selectedNodes=t.currentContainer?[]:[t.currentWorkspace];else{var _iterator1610=_createForOfIteratorHelper(t.selectedElements),_step1610;try{for(_iterator1610.s();!(_step1610=_iterator1610.n()).done;){var _e1865=_step1610.value;var _i1535=[];for(var _s890=_e1865.parentElement;_s890!==t.workspaces;_s890=_s890.parentElement){"g"!==_s890.localName&&"a"!==_s890.localName||_i1535.push(_s890);}var _s889=this["#tree"];for(;_i1535.length>0;){var _t2493=_i1535.pop();var _iterator1611=_createForOfIteratorHelper(_s889.children),_step1611;try{for(_iterator1611.s();!(_step1611=_iterator1611.n()).done;){var _e1866=_step1611.value;if(_e1866[iw]===_t2493){this.cv(_e1866),_s889=_e1866.querySelector(".subtree");break;}}}catch(err){_iterator1611.e(err);}finally{_iterator1611.f();}}}}catch(err){_iterator1610.e(err);}finally{_iterator1610.f();}this.selectedNodes=_toConsumableArray(t.selectedElements);}if(this.selectedNodes.length>0){var _t2494=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])"));var _loop47=function _loop47(_e1867){var i=_this1097.selectedNodes[_e1867],s=_t2494.find(function(t){return t[iw]===i;});if(s){_this1097.nD(s);return"break";}};for(var _e1867=this.selectedNodes.length-1;_e1867>=0;_e1867-=1){var _ret3=_loop47(_e1867);if(_ret3==="break")break;}}}},{key:"gx",value:function gx(t){if(!1===t.target.matches(".icon")&&!1===t.target.matches(".ellipsis")&&t.target!==this["#main"]){var _e1868;_e1868=t.target.matches("#tree, #tree .subtree")?this.oD(t.clientY):t.target.closest("#tree .item");{var _t2495=_e1868[iw],_i1536=_toConsumableArray(this.selectedNodes),_this$Qs$modKeys27=this.Qs.modKeys,_s891=_this$Qs$modKeys27.ctrl,_n686=_this$Qs$modKeys27.shift;if(_s891||_n686){if(_s891&&!_n686)_i1536=[_t2495];else if(_s891&&_n686)_i1536.includes(_t2495)?_i1536=_i1536.filter(function(e){return e!==_t2495;}):_i1536.push(_t2495);else if(!_s891&&_n686)if(0===_i1536.length)_i1536=[_t2495];else{var _t2496=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s892=_e1868,_n687=_t2496.indexOf(_s892),_o541=_i1536[_i1536.length-1],_l401=_t2496.find(function(t){return t[iw]===_o541;}),_a297=_t2496.indexOf(_l401);if(_n687<_a297){var _loop48=function _loop48(_e1869){var s=_t2496[_e1869][iw];_i1536.includes(s)&&(_i1536=_i1536.filter(function(t){return t!==s;})),_i1536.push(s);};for(var _e1869=_a297-1;_e1869>=_n687;_e1869-=1){_loop48(_e1869);}}else if(_n687>_a297){var _loop49=function _loop49(_e1870){var s=_t2496[_e1870][iw];_i1536.includes(s)&&(_i1536=_i1536.filter(function(t){return t!==s;})),_i1536.push(s);};for(var _e1870=_a297+1;_e1870<=_n687;_e1870+=1){_loop49(_e1870);}}}}else!1===_i1536.includes(_t2495)&&(_i1536=[_t2495]);this.selectedNodes=_i1536;}{var _t2497=this.Js.board,_e1871=this.selectedNodes.filter(function(e){return _t2497.isSelectableElement(e);}),_i1537=_e1871[0],_s893=null;if(_i1537)for(var _e1872=_i1537.parentElement;_e1872!==_t2497.currentWorkspace;_e1872=_e1872.parentElement){if("g"===_e1872.localName||"a"===_e1872.localName){_s893=_e1872;break;}}this.qP=!0,_t2497.currentContainer=_s893,_t2497.selectedElements=_e1871;}}}},{key:"ZP",value:function ZP(t){if(t.target.matches(".icon")){var _e1873=t.target.closest(".item");0===t.button&&(_e1873.hasAttribute("data-expanded")?this.dv(_e1873):this.cv(_e1873));}else if(t.target.matches(".ellipsis")){var _e1874=t.target.closest(".item"),_i1538=t.target.closest(".attribute").dataset.name;this.lD(_e1874,_i1538);}}},{key:"sv",value:function sv(t){var _this1098=this;var e,i,s,n,o=null,l=this["#tree"].querySelector(".item");if(this["#tree"].querySelector("*[contenteditable]"))return;t.dataTransfer.setDragImage(Ii("span"),0,0);var a=function a(t,e){var i=_this1098.oD(e),s=null;if(i){if(i.hasAttribute("data-expanded")){var _t2498=i.querySelector(".tag").getBoundingClientRect();s=e<_t2498.y+_t2498.height/2?"beforebegin":"afterbegin";}else{var _n688=i.getBoundingClientRect();for(;null===i.nextElementSibling&&t<_n688.x;){var _t2499=i.parentElement.closest(".item");if(!_t2499||_t2499===l)break;i=_t2499,_n688=i.getBoundingClientRect();}s=e<_n688.y+_n688.height/2?"beforebegin":0===i[iw].childNodes.length&&t>_n688.x+22&&_this1098.aD(_this1098.HP(),i[iw],"afterbegin")?"afterbegin":"afterend";}!1===_this1098.aD(_this1098.HP(),i[iw],s)&&(i=null,s=null);}return[i,s];};window.addEventListener("dragover",e=function e(t){if(s===t.clientX&&n===t.clientY)return;var e=t.clientX,i=t.clientY,_a298=a(e,i),_a299=_slicedToArray(_a298,2),l=_a299[0],h=_a299[1];s=e,n=i,o&&(o.removeAttribute("data-dragover"),o=null),l&&(l.setAttribute("data-dragover",h),o=l);}),window.addEventListener("dragend",i=function(_i1540){function i(_x267){return _i1540.apply(this,arguments);}i.toString=function(){return _i1540.toString();};return i;}(function(t){window.removeEventListener("dragover",e),window.removeEventListener("dragend",i),o&&o.removeAttribute("data-dragover");var s=t.clientX,n=t.clientY,_a300=a(s,n),_a301=_slicedToArray(_a300,2),l=_a301[0],h=_a301[1],r=_this1098.Js.board;if(l){r.undoManager.checkpoint("Move element(s)");{var _t2500=document.createDocumentFragment();var _iterator1612=_createForOfIteratorHelper(Vi(_this1098.HP())),_step1612;try{for(_iterator1612.s();!(_step1612=_iterator1612.n()).done;){var _e1875=_step1612.value;_t2500.append(_e1875);}}catch(err){_iterator1612.e(err);}finally{_iterator1612.f();}"beforebegin"===h?l[iw].before(_t2500):"afterend"===h?l[iw].after(_t2500):"afterbegin"===h&&(l[iw].prepend(_t2500),_this1098.cv(l));}{var _t2501=_this1098.selectedNodes.filter(function(t){return r.isSelectableElement(t);})[0],_e1876=null;if(_t2501)for(var _i1539=_t2501.parentElement;_i1539!==r.currentWorkspace;_i1539=_i1539.parentElement){if("g"===_i1539.localName||"a"===_i1539.localName){_e1876=_i1539;break;}}_this1098.qP=!0,r.currentContainer=_e1876,r.selectedTextRange=null;}}}));}},{key:"KP",value:function KP(t){var e=t.target.closest(".item");if(e)if("element"===e.getAttribute("data-type")){if(t.target.matches(".attribute, .attribute *")){var _e1877=t.target.closest(".attribute");if(!1===_e1877.hasAttribute("disabled")){var _i1541=t.target.closest(".item"),_s894=_e1877.dataset.name;this.hD(_i1541,_s894);}}else if(t.target.matches(".tag-name, .opening-bracket, .attributes:empty + .closing-bracket")&&!1===t.target.hasAttribute("disabled")){var _e1878=t.target.closest(".item");this.rD(_e1878);}}else"text"===e.getAttribute("data-type")&&t.target.matches(".content")&&this.dD(e);}},{key:"Ks",value:function(){var _Ks2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee268(t){var e,i,_i1542,_t2502,_e1879,_i1544,_iterator1613,_step1613,_step1613$value,_e1880,_i1545,_e1881,_iterator1614,_step1614,_step1614$value,_t2503,_i1546,_iterator1615,_step1615,_e1882,_i1543;return regeneratorRuntime.wrap(function _callee268$(_context270){while(1){switch(_context270.prev=_context270.next){case 0:e=t.target.closest(".item"),i=t.target.matches("[contenteditable]");if(!(e&&"element"===e.getAttribute("data-type")&&!1===i)){_context270.next=7;break;}t.preventDefault();_context270.next=5;return this.Qs.openContextMenu([{label:"Copy outer SVG",value:"copy-outer-svg"},{label:"Add Attribute",value:"add-attribute"}]);case 5:_i1542=_context270.sent;if("add-attribute"===_i1542)this.cD(e);else if("copy-outer-svg"===_i1542){_t2502=null,_e1879=!0;if(this.HP()[0].hasAttribute("data-bx-workspace")){_i1544=this.HP()[0].getAttribute("data-bx-workspace");if("master"===_i1544){_t2502=Ii("svg:svg"),_t2502.innerHTML=this.HP()[0].innerHTML;_iterator1613=_createForOfIteratorHelper(this.HP()[0].attributes);try{for(_iterator1613.s();!(_step1613=_iterator1613.n()).done;){_step1613$value=_step1613.value,_e1880=_step1613$value.name,_i1545=_step1613$value.value;"data-bx-workspace"!==_e1880&&_t2502.setAttribute(_e1880,_i1545);}}catch(err){_iterator1613.e(err);}finally{_iterator1613.f();}_e1879=!1;}else{_t2502=Ii("svg:svg");_e1881=Ii("svg:"+_i1544);_e1881.innerHTML=this.HP()[0].innerHTML,_t2502.append(_e1881);_iterator1614=_createForOfIteratorHelper(this.HP()[0].attributes);try{for(_iterator1614.s();!(_step1614=_iterator1614.n()).done;){_step1614$value=_step1614.value,_t2503=_step1614$value.name,_i1546=_step1614$value.value;"data-bx-workspace"!==_t2503&&_e1881.setAttribute(_t2503,_i1546);}}catch(err){_iterator1614.e(err);}finally{_iterator1614.f();}}}else{_t2502=Ii("svg:svg");_iterator1615=_createForOfIteratorHelper(this.HP());try{for(_iterator1615.s();!(_step1615=_iterator1615.n()).done;){_e1882=_step1615.value;_t2502.append(_e1882.cloneNode(!0));}}catch(err){_iterator1615.e(err);}finally{_iterator1615.f();}}Wp(_t2502,"xml"),dp(_t2502,2,_e1879?0:1);_i1543=_e1879?_t2502.innerHTML:_t2502.outerHTML;_i1543=ai(_i1543,"url(&quot;","url("),_i1543=ai(_i1543,"&quot;)",")"),clipboard.writeText(_i1543);}case 7:case"end":return _context270.stop();}}},_callee268,this);}));function Ks(_x268){return _Ks2.apply(this,arguments);}return Ks;}()},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);if(e.matches("Enter")){t.preventDefault(),t.stopPropagation();var _e1883=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(1===_e1883.length){var _t2504=_e1883[0];"element"===_t2504.getAttribute("data-type")?this.pD(_t2504):"text"===_t2504.getAttribute("data-type")&&this.dD(_t2504);}}else if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),this.uD();else if(e.matches("Tab")){t.preventDefault(),t.stopPropagation();var _e1884=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1884.length>0){var _t2505=[],_i1547="\n          :scope > .tag > .tag-name:not([disabled]),\n          :scope > .tag > .attributes > .attribute:not([disabled])\n        ";var _iterator1616=_createForOfIteratorHelper(_e1884),_step1616;try{for(_iterator1616.s();!(_step1616=_iterator1616.n()).done;){var _s896=_step1616.value;_t2505=[].concat(_toConsumableArray(_t2505),_toConsumableArray(_s896.querySelectorAll(_i1547)));}}catch(err){_iterator1616.e(err);}finally{_iterator1616.f();}var _s895=_t2505.find(function(t){return t.matches("[contenteditable]");}),_n689=_s895?_t2505.indexOf(_s895):-1,_o542=_t2505[_n689+1]||_t2505[0]||null;if(_o542){var _t2506=_o542.closest(".item");_o542.matches(".attribute")?this.hD(_t2506,_o542.getAttribute("data-name")):_o542.matches(".tag-name")&&this.rD(_t2506);}}}else if(e.matches("Shift","Tab")){t.preventDefault(),t.stopPropagation();var _e1885=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1885.length>0){var _t2507=[];var _iterator1617=_createForOfIteratorHelper(_e1885),_step1617;try{for(_iterator1617.s();!(_step1617=_iterator1617.n()).done;){var _i1549=_step1617.value;_t2507=[].concat(_toConsumableArray(_t2507),_toConsumableArray(_i1549.querySelectorAll(".tag-name, .attribute")));}}catch(err){_iterator1617.e(err);}finally{_iterator1617.f();}var _i1548=_t2507.find(function(t){return t.matches("[contenteditable]");}),_s897=_i1548?_t2507.indexOf(_i1548):-1,_n690=_t2507[_s897-1]||_t2507[_t2507.length-1]||null;if(_n690){var _t2508=_n690.closest(".item");_n690.matches(".attribute")?this.hD(_t2508,_n690.getAttribute("data-name")):_n690.matches(".tag-name")&&this.rD(_t2508);}}}else e.matches("ArrowLeft")?(t.stopPropagation(),this.xD()):e.matches("ArrowRight")?(t.stopPropagation(),this.bD()):e.matches("ArrowDown")?(t.stopPropagation(),this.Vu(!1)):e.matches("ArrowUp")?(t.stopPropagation(),this.Nu(!1)):e.matches("Shift","ArrowDown")?(t.stopPropagation(),this.Vu(!0)):e.matches("Shift","ArrowUp")&&(t.stopPropagation(),this.Nu(!0));}},{key:"xv",value:function xv(t,e){var i=null;return"element"===t?(i=Qi(_templateObject85(),'<div class="item" data-type="element" draggable="true"><svg class="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px"><path d="M 0 0 L 100 50 L 0 100 Z"></path></svg><div class="tag"><span class="opening-bracket">&lt</span><span class="tag-name" spellcheck="false">svg</span><span class="attributes"></span><span class="closing-bracket">&gt</span></div><div class="subtree"></div></div>'),i[iw]=e,this.tD(i),this.mD(i),this.gD(i)):"text"===t&&(i=Qi(_templateObject86(),'<div class="item" data-type="text"><span class="content" spellcheck="false"></span></div>'),i[iw]=e,this.sD(i)),i;}},{key:"cv",value:function cv(t){if(!1===t.hasAttribute("data-expanded")){var _e1886=t.querySelector(".subtree");var _iterator1618=_createForOfIteratorHelper(t[iw].childNodes),_step1618;try{for(_iterator1618.s();!(_step1618=_iterator1618.n()).done;){var _i1550=_step1618.value;var _t2509=null;if(_i1550.nodeType===document.ELEMENT_NODE?_t2509="element":_i1550.nodeType===document.TEXT_NODE&&(_t2509="text"),_t2509){var _s898=this.xv(_t2509,_i1550);"text"===_t2509&&pp(_i1550.textContent)&&_s898.setAttribute("hidden",""),_e1886.append(_s898),this.selectedNodes.includes(_i1550)&&_s898.setAttribute("data-selected","");}}}catch(err){_iterator1618.e(err);}finally{_iterator1618.f();}_e1886.childElementCount>0&&t.setAttribute("data-expanded","");}}},{key:"dv",value:function dv(t){t.hasAttribute("data-expanded")&&(t.querySelector(".subtree").innerHTML="",t.removeAttribute("data-expanded"),this.tD(t));}},{key:"bD",value:function bD(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.cv(t[0]);}},{key:"xD",value:function xD(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.dv(t[0]);}},{key:"Nu",value:function Nu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2510=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1551=null;if(_t2510){var _e1887=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s899=_e1887.find(function(e){return e[iw]===_t2510;}),_n691=_e1887.indexOf(_s899);_e1887[_n691-1]&&(_i1551=_e1887[_n691-1]);}if(_i1551){this.nD(_i1551);var _t2511=_i1551[iw];this.selectedNodes=[_t2511];var _s900=null,_n692=[];if(e.isSelectableElement(_t2511)){for(var _i1552=_t2511.parentElement;_i1552!==e.currentWorkspace;_i1552=_i1552.parentElement){if("g"===_i1552.localName||"a"===_i1552.localName){_s900=_i1552;break;}}_n692=[_t2511];}this.qP=!0,e.currentContainer=_s900,e.selectedElements=_n692;}}else if(!0===t){var _t2512=_toConsumableArray(this.selectedNodes);if(_t2512.length>0){var _i1553=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s901=_t2512[_t2512.length-1],_n693=_i1553.find(function(t){return t[iw]===_s901;}),_o543=_i1553.indexOf(_n693);if(_o543>0)for(var _s902=_o543-1;_s902>=0;_s902-=1){var _n694=_i1553[_s902][iw];if(!1===_t2512.includes(_n694)){this.selectedNodes=[].concat(_toConsumableArray(_t2512),[_n694]),e.isSelectableElement(_n694)&&(this.qP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n694]));break;}}}}}},{key:"Vu",value:function Vu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2513=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1554=null;if(_t2513){var _e1888=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s903=_e1888.find(function(e){return e[iw]===_t2513;}),_n695=_e1888.indexOf(_s903);_e1888[_n695+1]&&(_i1554=_e1888[_n695+1]);}if(_i1554){this.nD(_i1554);var _t2514=_i1554[iw];this.selectedNodes=[_t2514];var _s904=null,_n696=[];if(e.isSelectableElement(_t2514)){for(var _i1555=_t2514.parentElement;_i1555!==e.currentWorkspace;_i1555=_i1555.parentElement){if("g"===_i1555.localName||"a"===_i1555.localName){_s904=_i1555;break;}}_n696=[_t2514];}this.qP=!0,e.currentContainer=_s904,e.selectedElements=_n696;}}else if(!0===t){var _t2515=_toConsumableArray(this.selectedNodes);if(_t2515.length>0){var _i1556=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s905=_t2515[_t2515.length-1],_n697=_i1556.find(function(t){return t[iw]===_s905;}),_o544=_i1556.indexOf(_n697);if(_o544<_i1556.length-1)for(var _s906=_o544+1;_s906<_i1556.length;_s906+=1){var _n698=_i1556[_s906][iw];if(!1===_t2515.includes(_n698)){this.selectedNodes=[].concat(_toConsumableArray(_t2515),[_n698]),e.isSelectableElement(_n698)&&(this.qP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n698]));break;}}}}}},{key:"nD",value:function nD(t){var e=this["#main"].scrollTop,i=t.getBoundingClientRect().top-this["#tree"].getBoundingClientRect().top;if(i-e<0)this["#main"].scrollTop=i;else if(t.hasAttribute("data-expanded")){var _s907=t.querySelector(".tag").getBoundingClientRect().height;i+_s907-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+_s907-this["#main"].clientHeight);}else i+t.clientHeight-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+t.clientHeight-this["#main"].clientHeight);}},{key:"uD",value:function uD(){var _this1099=this;var t=this.Js.board,e=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),i=Vi(this.HP());if(i=i.filter(function(t){return"g"!==t.localName||!t.hasAttribute("data-bx-workspace");}),i.length>0){var _loop50=function _loop50(){var t=_this1099["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[iw]);}))return"break";if(_this1099.Vu(),t===_this1099["#tree"].querySelector(".item[data-selected]"))return"break";};for(t.undoManager.checkpoint("Delete");;){var _ret4=_loop50();if(_ret4==="break")break;}var _loop51=function _loop51(){var t=_this1099["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[iw]);}))return"break";if(_this1099.Nu(),t===_this1099["#tree"].querySelector(".item[data-selected]"))return"break";};for(;;){var _ret5=_loop51();if(_ret5==="break")break;}var _iterator1619=_createForOfIteratorHelper(i),_step1619;try{var _loop52=function _loop52(){var t=_step1619.value;t.remove();var i=e.find(function(e){return e[iw]===t;});i&&i.remove();};for(_iterator1619.s();!(_step1619=_iterator1619.n()).done;){_loop52();}}catch(err){_iterator1619.e(err);}finally{_iterator1619.f();}}}},{key:"aD",value:function aD(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";var s=!0;if(0===t.length)s=!1;else{var _iterator1620=_createForOfIteratorHelper(t),_step1620;try{for(_iterator1620.s();!(_step1620=_iterator1620.n()).done;){var _n699=_step1620.value;if(!1===this.fD(_n699,e,i)){s=!1;break;}}}catch(err){_iterator1620.e(err);}finally{_iterator1620.f();}}return s;}},{key:"fD",value:function fD(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";if(e.parentNode===this.Js.board.workspaces)return!1;if(t.contains(e))return!1;if("beforebegin"===i){if(!1===this.wD(e.parentNode).includes(t.nodeName))return!1;if(e.previousSibling&&e.previousSibling===t)return!1;}else if("afterend"===i){if(!1===this.wD(e.parentNode).includes(t.nodeName))return!1;if(e.nextSibling&&e.nextSibling===t)return!1;}else if("afterbegin"===i){if(!1===this.wD(e).includes(t.nodeName))return!1;if(e.firstChild&&e.firstChild===t)return!1;}else if("beforeend"===i){if(!1===this.wD(e).includes(t.nodeName))return!1;if(e.lastChild&&e.lastChild===t)return!1;}return!0;}},{key:"Pd",value:function Pd(){var t=this._shadowRoot.querySelector("[contenteditable]"),e=t?t.closest(".item"):null;if(t&&e)if("element"===e.getAttribute("data-type")){if(t.matches(".tag-name")||t.matches(".attribute")){var _e1889=new Range();_e1889.selectNodeContents(t);var _i1557=window.getSelection();_i1557.removeAllRanges(),_i1557.addRange(_e1889);}}else if("text"===e.getAttribute("data-type")){var _e1890=new Range();_e1890.selectNodeContents(t);var _i1558=window.getSelection();_i1558.removeAllRanges(),_i1558.addRange(_e1890);}}},{key:"Bd",value:function Bd(){var t=window.getSelection();if(t.rangeCount>0){t.getRangeAt(0).collapse(!0);}}},{key:"dD",value:function dD(t){var _this1100=this;var e,i,s,n=t.querySelector(".content"),o=n.textContent,l=t[iw],a=this.Js.board,h=!0;n.hasAttribute("contenteditable")||(n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Pd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),n.addEventListener("keydown",e=function e(t){var e=ao.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1100.focus()):e.matches("Escape")&&(h=!0,_this1100.focus());}),n.addEventListener("input",i=function i(){h=!1;}),n.addEventListener("blur",s=function(_s908){function s(){return _s908.apply(this,arguments);}s.toString=function(){return _s908.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1100.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),h)n.textContent=o;else{a.undoManager.checkpoint("Text content");n.textContent;l.textContent=n.textContent;}})));}},{key:"rD",value:function rD(t){var _this1101=this;var e,i,s,n=t.querySelector(".tag-name"),o=n.textContent,l=t[iw],a=this.Js.board,h=!0;if(n.hasAttribute("contenteditable"))return;n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Pd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var r=function r(t){var e=t;return"title"===t?e="bx-title":t.startsWith("bx:")&&(e=t.replace("bx:","bx-")),e;};n.addEventListener("keydown",e=function e(t){var e=ao.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1101.focus()):e.matches("Escape")&&(h=!0,_this1101.focus());}),n.addEventListener("input",i=function i(){var t=n.textContent,e=r(t),i=!1;if(l===a.currentWorkspace)i=!0,h=!0;else{(N[l.parentElement.nodeName]||[]).includes(e)?(i=!1,h=e===r(o)):(i=!0,h=!0);}i?(n.setAttribute("data-invalid",""),n.part.add("invalid-input")):(n.removeAttribute("data-invalid"),n.part.remove("invalid-input"));}),n.addEventListener("blur",s=function(_s909){function s(){return _s909.apply(this,arguments);}s.toString=function(){return _s909.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1101.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),h)n.textContent=o;else{a.undoManager.checkpoint("Rename element");n.textContent;var _e1891=r(n.textContent),_i1559=Ii("svg:".concat(_e1891));var _iterator1621=_createForOfIteratorHelper(l.attributes),_step1621;try{for(_iterator1621.s();!(_step1621=_iterator1621.n()).done;){var _step1621$value=_step1621.value,_t2517=_step1621$value.name,_e1892=_step1621$value.value;_i1559.setAttribute(_t2517,_e1892);}}catch(err){_iterator1621.e(err);}finally{_iterator1621.f();}l.replaceWith(_i1559);for(var _i1560=0,_arr84=_toConsumableArray(l.childNodes);_i1560<_arr84.length;_i1560++){var _t2516=_arr84[_i1560];N[_e1891].includes(_t2516.nodeName)&&_i1559.append(_t2516);}t[iw]=_i1559,_this1101.selectedNodes=_this1101.selectedNodes.map(function(t){return t===l?_i1559:t;}),a.selectedElements.includes(l)?(_this1101.qP=!0,a.isSelectableElement(_i1559)?a.selectedElements=a.selectedElements.map(function(t){return t===l?_i1559:t;}):a.selectedElements=a.selectedElements.filter(function(t){return t!==l;})):a.isSelectableElement(_i1559)&&(_this1101.qP=!0,a.selectedElements=[].concat(_toConsumableArray(a.selectedElements),[_i1559]));}}));}},{key:"hD",value:function hD(t,e){var _this1102=this;var i,s,_n702,o=this.Js.board,l=t[iw],a=!0,h=t.querySelector(".attribute[data-name=\"".concat(e,"\"]"));if(!h||h.hasAttribute("contenteditable"))return;var r=e,d=h.innerHTML;this.YP=h,this.lD(t,e),h.innerHTML=h.innerText,h.style.transition="none",h.setAttribute("contenteditable",""),h.part.add("input"),h.focus(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));{var _t2518=h.textContent.indexOf('"'),_e1893=h.textContent.lastIndexOf('"');if(_t2518>=0&&_e1893>=0&&_t2518!==_e1893){var _i1561=new Range();_i1561.setStart(h.firstChild,_t2518+1),_i1561.setEnd(h.firstChild,_e1893);var _s910=window.getSelection();_s910.removeAllRanges(),_s910.addRange(_i1561);}else this.Pd();}h.addEventListener("keydown",i=function i(t){var e=ao.fromEvent(t);if(e.matches("Enter"))t.preventDefault(),t.stopPropagation(),_this1102.focus();else if(e.matches("Escape"))t.stopPropagation(),a=!0,_this1102.focus();else if(e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight"))t.stopPropagation();else if(e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown")){t.stopPropagation();var _i1562=_this1102._shadowRoot.getSelection();if(_i1562.rangeCount>0){var _s911=_i1562.getRangeAt(0),_n700=_s911.startOffset,_o545=_s911.startOffset;{var _t2519=h.textContent,_e1894=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(var _i1563=_s911.startOffset;_i1563<=_t2519.length&&(_o545=_i1563,!_e1894.includes(_t2519[_i1563]));_i1563+=1){;}for(var _i1564=_s911.startOffset-1;_i1564>=0&&!_e1894.includes(_t2519[_i1564]);_i1564-=1){_n700=_i1564;}}if(_n700!==_o545){var _l402=h.textContent.substring(_n700,_o545);if(!1===ew(parseFloat(_l402))){var _r158="",_d126="",_c93=/[^\d-\.]+/.exec(_l402),_p84=parseFloat(_l402);if(t.preventDefault(),_c93){var _t2520=_c93.index+_c93[0].length;_s911.startOffset>_n700+_c93.index&&_t2520<_l402.length&&_s911.startOffset!==_n700?(_r158=_l402.substring(0,_t2520),_l402=_l402.substring(_t2520)):(_d126=_l402.substring(_c93.index),_l402=_l402.substring(0,_c93.index));}e.matches("ArrowUp")?_p84=Jf(_p84)+1:e.matches("ArrowDown")?_p84=tw(_p84)-1:e.matches("Shift","ArrowUp")?_p84=Jf(_p84)+10:e.matches("Shift","ArrowDown")&&(_p84=tw(_p84)-10);var _u66=_r158+_p84+_d126,_x269=h.textContent;_x269=_x269.substring(0,_n700)+_u66+_x269.substring(_o545),h.textContent=_x269;var _b50=document.createRange();_b50.setStart(h.firstChild,_n700),_b50.setEnd(h.firstChild,_n700+_u66.length),_i1562.removeAllRanges(),_i1562.addRange(_b50),a=!1;}}}}}),h.addEventListener("input",s=function s(){a=!1;}),h.addEventListener("blur",_n702=function n(){h.removeEventListener("blur",_n702),h.removeEventListener("keydown",i),h.removeEventListener("input",s),h.removeAttribute("contenteditable"),h.part.remove("input"),h.style.transition=null,_this1102.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));var _Qf=Qf(h.textContent),_Qf2=_slicedToArray(_Qf,2),t=_Qf2[0],e=_Qf2[1];if(l.hasAttribute("data-bx-workspace")&&"id"===r&&("id"===t&&!1!==Xi(e)||(a=!0)),a)h.innerHTML=d;else if(o.undoManager.checkpoint("Edit attribute"),h.remove(),"id"===r&&l.hasAttribute("data-bx-workspace")){var _t2521=l.getAttribute("id"),_i1565=e,_s912=document.createNodeIterator(o.workspaces,NodeFilter.SHOW_ELEMENT),_n701=null;for(l.setAttribute("id",_i1565);_n701=_s912.nextNode();){["pattern","marker","symbol"].includes(_n701.localName)&&_n701.id===_t2521&&_n701.setAttribute("id",_i1565);}}else""===t?l.removeAttribute(r):l.setAttribute(t,e);});}},{key:"cD",value:function cD(t){var _this1103=this;var e,i,s,n=this.Js.board,o=t[iw],l=!0,a=Qi(_templateObject87(),sw);a.innerHTML=" ",a.style.transition="none",a.setAttribute("contenteditable",""),a.part.add("input"),t.querySelector(".attributes").append(a),a.focus(),this.Pd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),this.YP=a,a.addEventListener("keydown",e=function e(t){var e=ao.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1103.focus()):e.matches("Escape")&&(l=!0,_this1103.focus());}),a.addEventListener("input",i=function i(){l=!1;}),a.addEventListener("blur",s=function(_s913){function s(){return _s913.apply(this,arguments);}s.toString=function(){return _s913.toString();};return s;}(function(){if(a.removeEventListener("blur",s),a.removeEventListener("keydown",e),a.removeEventListener("input",i),a.removeAttribute("contenteditable"),a.part.remove("input"),a.style.transition=null,_this1103.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),l)a.remove();else{n.undoManager.checkpoint("Edit attribute");var _Qf3=Qf(a.textContent),_Qf4=_slicedToArray(_Qf3,2),_t2522=_Qf4[0],_e1895=_Qf4[1];a.remove(),""!==_t2522&&o.setAttribute(_t2522,_e1895);}}));}},{key:"pD",value:function pD(t){if(this.YP&&t.contains(this.YP))this.hD(t,this.YP.getAttribute("data-name"));else{var _e1896=t.querySelector(".attribute");_e1896?this.hD(t,_e1896.getAttribute("data-name")):this.cD(t);}}},{key:"lD",value:function lD(t,e){var _iterator1622=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1622;try{for(_iterator1622.s();!(_step1622=_iterator1622.n()).done;){var _i1566=_step1622.value;if(_i1566.dataset.name===e){_i1566.querySelector(".value").textContent=t[iw].getAttribute(e),_i1566.querySelector(".ellipsis").hidden=!0;break;}}}catch(err){_iterator1622.e(err);}finally{_iterator1622.f();}}},{key:"QP",value:function QP(){this.WP=[],this["#tree"].innerHTML="";var t=this.Js.board.currentWorkspace,e=this.xv("element",t);this["#tree"].append(e),this.JP();}},{key:"eD",value:function eD(t,e){var i=t.querySelector(".subtree"),s=_toConsumableArray(e.addedNodes),n=_toConsumableArray(e.removedNodes);for(var _i1567=0,_arr85=_toConsumableArray(i.children);_i1567<_arr85.length;_i1567++){var _t2523=_arr85[_i1567];(n.includes(_t2523[iw])||s.includes(_t2523[iw]))&&_t2523.remove();}if(0===t[iw].childNodes.length&&t.removeAttribute("data-expanded"),s.length>0&&t.hasAttribute("data-expanded")){var _t2524=document.createDocumentFragment();var _iterator1623=_createForOfIteratorHelper(s),_step1623;try{for(_iterator1623.s();!(_step1623=_iterator1623.n()).done;){var _e1897=_step1623.value;var _i1568=null;if(_e1897.nodeType===document.ELEMENT_NODE?_i1568="element":_e1897.nodeType===document.TEXT_NODE&&(_i1568="text"),_i1568){var _s914=this.xv(_i1568,_e1897);"text"===_i1568&&pp(_e1897.textContent)&&_s914.setAttribute("hidden",""),this.selectedNodes.includes(_e1897)&&_s914.setAttribute("data-selected",""),_t2524.append(_s914);}}}catch(err){_iterator1623.e(err);}finally{_iterator1623.f();}if(e.previousSibling){_toConsumableArray(i.children).find(function(t){return t[iw]===e.previousSibling;}).after(_t2524);}else if(e.nextSibling){_toConsumableArray(i.children).find(function(t){return t[iw]===e.nextSibling;}).before(_t2524);}else i.append(_t2524);}}},{key:"tD",value:function tD(t){var e=t.querySelector(".icon"),i="hidden";var _iterator1624=_createForOfIteratorHelper(t[iw].childNodes),_step1624;try{for(_iterator1624.s();!(_step1624=_iterator1624.n()).done;){var _e1898=_step1624.value;if(_e1898.nodeType===document.ELEMENT_NODE){i="visible";break;}if(_e1898.nodeType===document.TEXT_NODE&&!1===pp(_e1898.textContent)){i="visible";break;}}}catch(err){_iterator1624.e(err);}finally{_iterator1624.f();}e.style.setProperty("visibility",i);}},{key:"mD",value:function mD(t){var e=t[iw],i=e.localName,s=t.querySelector(".tag-name"),n=!1;if("g"===i){if(e.hasAttribute("data-bx-workspace")){var _t2525=e.getAttribute("data-bx-workspace");"master"===_t2525?i="svg":"pattern"===_t2525?i="pattern":"symbol"===_t2525?i="symbol":"marker"===_t2525&&(i="marker"),n=!0;}}else"bx-title"===i?i="title":i.startsWith("bx-")&&(i="bx:"+i.substring(3));s.textContent=i,n&&(s.setAttribute("disabled",""),s.previousElementSibling.setAttribute("disabled",""));}},{key:"gD",value:function gD(t){var e=t[iw],i=document.createDocumentFragment();var _iterator1625=_createForOfIteratorHelper(e.attributes),_step1625;try{for(_iterator1625.s();!(_step1625=_iterator1625.n()).done;){var _step1625$value=_step1625.value,_t2526=_step1625$value.name,_s915=_step1625$value.value;if("data-bx-workspace"!==_t2526){var _n703=Qi(_templateObject88(),sw),_o546=this.vD(_t2526),_l403=_s915.length-100>100;_n703.dataset.name=_t2526,_n703.querySelector(".name").textContent=_o546,_n703.querySelector(".value").textContent=_l403?_s915.substring(0,100):_s915,_n703.querySelector(".ellipsis").hidden=!_l403,e.hasAttribute("data-bx-workspace")&&("xmlns"!==_t2526&&"xmlns:bx"!==_t2526||_n703.setAttribute("disabled","")),i.append(_n703);}}}catch(err){_iterator1625.e(err);}finally{_iterator1625.f();}t.querySelector(".attributes").append(i);}},{key:"iD",value:function iD(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t[iw],n=s.getAttribute(e),o=this.vD(e);if(null===n){var _iterator1626=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1626;try{for(_iterator1626.s();!(_step1626=_iterator1626.n()).done;){var _i1569=_step1626.value;if(_i1569.dataset.name===e){_i1569.remove();break;}}}catch(err){_iterator1626.e(err);}finally{_iterator1626.f();}}else{var _l404=null,_a302=n.length-100>100;var _iterator1627=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1627;try{for(_iterator1627.s();!(_step1627=_iterator1627.n()).done;){var _i1571=_step1627.value;if(_i1571.dataset.name===e){_l404=_i1571;break;}}}catch(err){_iterator1627.e(err);}finally{_iterator1627.f();}if(null===_l404){_l404=Qi(_templateObject89(),sw),_l404.dataset.name=e,_l404.querySelector(".name").textContent=o;var _i1570=0;var _iterator1628=_createForOfIteratorHelper(s.attributes),_step1628;try{for(_iterator1628.s();!(_step1628=_iterator1628.n()).done;){var _t2527=_step1628.value;if("data-bx-workspace"!==_t2527.name){if(_t2527.name===e)break;_i1570+=1;}}}catch(err){_iterator1628.e(err);}finally{_iterator1628.f();}var _n704=t.querySelector(".attributes").children[_i1570];_n704?_n704.before(_l404):t.querySelector(".attributes").append(_l404);}_l404.querySelector(".value").textContent=_a302?n.substring(0,100):n,_l404.querySelector(".ellipsis").hidden=!_a302,i&&(_l404.setAttribute("highlighted",""),ns(500).then(function(){return _l404.removeAttribute("highlighted","");}));}1===this.selectedNodes.length&&this.selectedNodes[0]===s&&this.nD(t);}},{key:"sD",value:function sD(t){t.querySelector(".content").textContent=t[iw].textContent;}},{key:"HP",value:function HP(){var t=[];var _iterator1629=_createForOfIteratorHelper(this.selectedNodes),_step1629;try{for(_iterator1629.s();!(_step1629=_iterator1629.n()).done;){var _e1899=_step1629.value;var _i1572=!0;var _iterator1630=_createForOfIteratorHelper(this.selectedNodes),_step1630;try{for(_iterator1630.s();!(_step1630=_iterator1630.n()).done;){var _t2528=_step1630.value;if(_t2528!==_e1899&&_t2528.contains(_e1899)){_i1572=!1;break;}}}catch(err){_iterator1630.e(err);}finally{_iterator1630.f();}_i1572&&t.push(_e1899);}}catch(err){_iterator1629.e(err);}finally{_iterator1629.f();}return t;}},{key:"wD",value:function wD(t){var e;if("g"===t.localName&&t.hasAttribute("data-bx-workspace")){var _i1573=t.getAttribute("data-bx-workspace");e="master"===_i1573?N.svg:N[_i1573];}else e=N[t.nodeName]||[];return e;}},{key:"vD",value:function vD(t){var e=t;return t.startsWith("data-bx-")?e=t.replace("data-bx-","bx:"):"_href"===t&&(e="href"),e;}},{key:"oD",value:function oD(t){var e=function e(i){var _iterator1631=_createForOfIteratorHelper(i.children),_step1631;try{for(_iterator1631.s();!(_step1631=_iterator1631.n()).done;){var _s916=_step1631.value;var _i1574=_s916.getBoundingClientRect();if(t>=_i1574.y&&t<=_i1574.y+_i1574.height){if(_s916.hasAttribute("data-expanded")){var _t2529=_s916.querySelector(".subtree");return e(_t2529)||_s916;}return _s916;}}}catch(err){_iterator1631.e(err);}finally{_iterator1631.f();}return null;};return e(this["#tree"]);}}]);return nw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nw,"observedAttributes",["enabled"]);_defineProperty(nw,"_shadowTemplate",Qi(_templateObject546()));_defineProperty(nw,"_shadowStyleSheet",Ji(_templateObject547()));customElements.define("bx-dominspector",nw);var ow=Math.floor,lw=Math.ceil,aw=Number.isNaN,hw=Object.keys,rw=Symbol(),dw=Symbol(),cw=ts(_templateObject90()),pw=function pw(t){return void 0!==V.find(function(e){return e.name===t;});},uw=function uw(t,e){return cw.style.removeProperty(t),cw.style.setProperty(t,e),""!==cw.style.getPropertyValue(t);};var xw=/*#__PURE__*/function(_HTMLElement135){_inherits(xw,_HTMLElement135);var _super239=_createSuper(xw);_createClass(xw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"target",get:function get(){return this.yD;},set:function set(t){t!==this.yD&&(this.yD=t,this.qs());}}]);function xw(){var _this1104;_classCallCheck(this,xw);_this1104=_super239.call(this),_this1104.yD=null,_this1104.tabIndex=0,_this1104._shadowRoot=_this1104.attachShadow({mode:"closed"}),_this1104._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,xw._shadowStyleSheet],_this1104._shadowRoot.append(document.importNode(xw._shadowTemplate.content,!0));var _iterator1632=_createForOfIteratorHelper(_this1104._shadowRoot.querySelectorAll("[id]")),_step1632;try{for(_iterator1632.s();!(_step1632=_iterator1632.n()).done;){var _t2533=_step1632.value;_this1104["#"+_t2533.id]=_t2533;}}catch(err){_iterator1632.e(err);}finally{_iterator1632.f();}var t=!1,e=!1;_this1104["#cascade-items"].addEventListener("pointerdown",function(i){var s,_n705,o=new DOMPoint(i.clientX,i.clientY);t=!1,e=null!==_this1104["#cascade-items"].querySelector("[contenteditable]"),window.addEventListener("pointermove",s=function(_s917){function s(_x270){return _s917.apply(this,arguments);}s.toString=function(){return _s917.toString();};return s;}(function(e){var i=new DOMPoint(e.clientX,e.clientY);Te(o,i)>=3&&(window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n705),t=!0);})),window.addEventListener("pointerup",_n705=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n705);});}),_this1104["#cascade-items"].addEventListener("click",function(i){if(!1===t&&!1===i.target.hasAttribute("contenteditable")){var _t2530=_this1104._shadowRoot.elementFromPoint(i.clientX,i.clientY);if(_t2530.getRootNode()!==_this1104._shadowRoot&&(_t2530=null),i.target.matches(".property-item .name"))_this1104.kD(i.target);else if(i.target.matches(".property-item .value"))_this1104.SD(i.target);else if(i.target.matches(".prefix")){if(!1===e){var _t2531=i.target.closest(".cascade-item");_this1104._D(_t2531,0);}}else if(i.target.closest(".property-item")&&!1===e&&i.target.matches(".property-item, .property-div")){var _t2532=i.target.closest(".cascade-item"),_e1900=i.target.closest(".property-item"),_s918=_toConsumableArray(i.target.closest(".properties").children).indexOf(_e1900);_this1104._D(_t2532,_s918+1);}}}),_this1104["#cascade-items"].addEventListener("focusout",function(t){var e=_this1104["#cascade-items"].querySelector("span[contenteditable]");e&&(e.removeAttribute("contenteditable"),editableSpan.part.remove("input"));}),_this1104["#resize-grippie"].addEventListener("pointerdown",function(t){return _this1104.ku(t);});return _this1104;}_createClass(xw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.Js=Gi(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){var _this1105=this;this.Js.board.addEventListener("workspacemutation",this.hn=function(t){_this1105.al(t);}),this.style.width=this.Qs.getConfig("bx-csscascadeinspector:width",250)+"px";}},{key:"en",value:function en(){this.Js.board.removeEventListener("workspacemutation",this.hn);}},{key:"al",value:function al(t){var _iterator1633=_createForOfIteratorHelper(t.detail),_step1633;try{for(_iterator1633.s();!(_step1633=_iterator1633.n()).done;){var _e1901=_step1633.value;if("childList"===_e1901.type&&"style"===_e1901.target.localName){this.qs();break;}if("attributes"===_e1901.type&&_e1901.target===this.target){this.qs();break;}}}catch(err){_iterator1633.e(err);}finally{_iterator1633.f();}}},{key:"ku",value:function ku(t){var _this1106=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,i,s=this.clientWidth,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e1902){n=s-(_e1902.clientX-t.clientX),n<80?n=80:n>400&&(n=400),_this1106.style.width=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",i=function(_i1575){function i(){return _i1575.apply(this,arguments);}i.toString=function(){return _i1575.toString();};return i;}(function(){_this1106["#resize-grippie"].removeEventListener("pointermove",e),_this1106["#resize-grippie"].removeEventListener("lostpointercapture",i),_this1106.Qs.setConfig("bx-csscascadeinspector:width",n);}));}},{key:"kD",value:function kD(t){var _this1107=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,_n711,o,l=t.closest(".cascade-item"),a=t.closest(".property-item"),h=t.textContent.trim(),r=t.parentElement.querySelector(".value").textContent.trim(),d=this["#main"].scrollTop,c=Qi(_templateObject91());r.endsWith("!important")&&(r=r.substring(0,r.indexOf("!important")).trim()),a.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=l.getAttribute("data-origin"),i=t.textContent.trim();if(""===i)""===h?a.remove():u();else if(i===h||!1===pw(i))t.textContent=h;else{_this1107.Js.board.undoManager.checkpoint("Rename styling property");var _t2534=[];var _iterator1634=_createForOfIteratorHelper(l.querySelector(".properties").children),_step1634;try{for(_iterator1634.s();!(_step1634=_iterator1634.n()).done;){var _e1905=_step1634.value;var _s921=_e1905.querySelector(".name").textContent.trim(),_n707=_e1905.querySelector(".value").textContent.trim(),_o547="";_n707.endsWith("!important")&&(_o547="!important",_n707=_n707.substring(0,_n707.indexOf("!important")).trim()),!1===uw(_s921,_n707)&&(_n707="initial",_o547=""),_e1905!==a&&_s921===i||_t2534.push([_s921,_n707,_o547]);}}catch(err){_iterator1634.e(err);}finally{_iterator1634.f();}if("style-attribute"===e)_t2534=_t2534.map(function(_ref226){var _ref227=_slicedToArray(_ref226,3),t=_ref227[0],e=_ref227[1],i=_ref227[2];return"".concat(t," : ").concat(e).concat(i,";");}),_this1107.target.setAttribute("style",_t2534.join(" "));else if("style-element"===e){var _e1903=l[rw],_i1576=_e1903.parentStyleSheet.ownerNode;for(var _i1577=0,_arr86=_toConsumableArray(_e1903.style);_i1577<_arr86.length;_i1577++){var _t2535=_arr86[_i1577];_e1903.style.removeProperty(_t2535);}var _iterator1635=_createForOfIteratorHelper(_t2534),_step1635;try{for(_iterator1635.s();!(_step1635=_iterator1635.n()).done;){var _step1635$value=_slicedToArray(_step1635.value,3),_i1578=_step1635$value[0],_s919=_step1635$value[1],_n706=_step1635$value[2];_e1903.style.setProperty(_i1578,_s919,_n706);}}catch(err){_iterator1635.e(err);}finally{_iterator1635.f();}Op(_i1576);}else if("presentation-attributes"===e){var _e1904=l[dw];var _iterator1636=_createForOfIteratorHelper(_t2534),_step1636;try{for(_iterator1636.s();!(_step1636=_iterator1636.n()).done;){var _step1636$value=_slicedToArray(_step1636.value,2),_i1579=_step1636$value[0],_s920=_step1636$value[1];_e1904.hasAttribute(_i1579)&&_e1904.removeAttribute(_i1579),_e1904.setAttribute(_i1579,_s920);}}catch(err){_iterator1636.e(err);}finally{_iterator1636.f();}}}},u=function u(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin");if(_this1107.Js.board.undoManager.checkpoint("Remove styling property"),"style-attribute"===i)_this1107.target.style.removeProperty(h);else if("style-element"===i){var _t2536=e[rw],_i1580=_t2536.parentStyleSheet.ownerNode;_t2536.style.removeProperty(h),Op(_i1580);}else if("presentation-attributes"===i){e[dw].removeAttribute(h);}Gi(_this1107,"[tabindex]").focus();},x=function x(){var e="",i=[];var _iterator1637=_createForOfIteratorHelper(V),_step1637;try{for(_iterator1637.s();!(_step1637=_iterator1637.n()).done;){var _e1909=_step1637.value;_e1909.name.startsWith(t.textContent)&&i.push(_e1909.name);}}catch(err){_iterator1637.e(err);}finally{_iterator1637.f();}for(var _i1582=0,_i1581=i;_i1582<_i1581.length;_i1582++){var _t2537=_i1581[_i1582];e+="<div class=\"item\" ".concat(_t2537===i[0]?"data-selected":"",">").concat(_t2537,"</div>");}if(c.innerHTML=e,c.hidden=i.length<=1,c.childElementCount>0){var _e1906="below";{var _i1583=t.getBoundingClientRect(),_s922=_this1107.getBoundingClientRect();_s922.bottom-_i1583.bottom<_i1583.top-_s922.top&&(_e1906="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1906){var _e1907=t.getBoundingClientRect(),_i1584=_this1107.getBoundingClientRect(),_s923=_this1107["#main"].scrollTop;c.style.left=_e1907.left-_i1584.left-6+"px",c.style.top=_e1907.bottom-_i1584.top+_s923+6+"px";var _n708=c.getBoundingClientRect();_n708.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n708.top-6+"px"),_n708.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n708.right-3+"px");}else if("above"===_e1906){var _e1908=t.getBoundingClientRect(),_i1585=_this1107.getBoundingClientRect(),_s924=_this1107["#main"].scrollTop;c.style.left=_e1908.left-_i1585.left-6+"px",c.style.bottom=_i1585.bottom-_e1908.top-_s924+6+"px";var _n709=c.getBoundingClientRect();if(_n709.top<_i1585.top-6){var _t2538=_i1585.top-_n709.top;c.style.height=_n709.height-_t2538-6+"px";}_n709.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n709.right-3+"px");}}},b=function b(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,b();{var _e1910=new Range();_e1910.selectNodeContents(t),_e1910.collapse(!1);var _i1586=window.getSelection();_i1586.removeAllRanges(),_i1586.addRange(_e1910);}}),this["#main"].addEventListener("scroll",o=function o(){!1===c.hidden?_this1107["#main"].scrollTop=d:d=_this1107["#main"].scrollTop;}),t.addEventListener("keydown",s=/*#__PURE__*/function(){var _ref228=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee269(e){var _t2539,_i1587,_t2540,_i1588,_e1911,_e1912,_e1913,_i1589,_i1590,_s925,_n710,_o548,_a303,_iterator1638,_step1638,_t2541,_i1591,_t2542;return regeneratorRuntime.wrap(function _callee269$(_context271){while(1){switch(_context271.prev=_context271.next){case 0:if(!("ArrowUp"===e.key)){_context271.next=4;break;}if(!1===c.hidden){e.preventDefault();_t2539=c.querySelector(".item[data-selected]"),_i1587=_t2539.previousElementSibling||c.lastElementChild;_t2539.removeAttribute("data-selected"),_i1587.setAttribute("data-selected",""),_i1587.scrollIntoViewIfNeeded(),b();}_context271.next=35;break;case 4:if(!("ArrowDown"===e.key)){_context271.next=8;break;}if(!1===c.hidden){e.preventDefault();_t2540=c.querySelector(".item[data-selected]"),_i1588=_t2540.nextElementSibling||c.firstElementChild;_t2540.removeAttribute("data-selected"),_i1588.setAttribute("data-selected",""),_i1588.scrollIntoViewIfNeeded(),b();}_context271.next=35;break;case 8:if(!("Enter"===e.key)){_context271.next=13;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1911=c.querySelector(".item[data-selected]");t.textContent=_e1911?_e1911.textContent:h;}Gi(_this1107,"[tabindex]").focus();_context271.next=35;break;case 13:if(!("Tab"===e.key||":"===e.key)){_context271.next=34;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context271.next=24;break;}_e1912=c.querySelector(".item[data-selected]");_e1912&&(t.textContent=_e1912.textContent);_e1913=new Range();_e1913.selectNodeContents(t),_e1913.collapse(!1);_i1589=window.getSelection();_i1589.removeAllRanges(),_i1589.addRange(_e1913);x(),b();_context271.next=32;break;case 24:_i1590=_toConsumableArray(_this1107["#cascade-items"].children).indexOf(l),_s925=t.textContent.trim();Gi(_this1107,"[tabindex]").focus();_context271.next=28;return ns(10);case 28:_n710=_this1107["#cascade-items"].children[_i1590],_o548=_toConsumableArray(_this1107["#cascade-items"].querySelectorAll(".name, .value")),_a303=null;_iterator1638=_createForOfIteratorHelper(_n710.querySelector(".properties").children);try{for(_iterator1638.s();!(_step1638=_iterator1638.n()).done;){_t2541=_step1638.value;_i1591=_t2541.querySelector(".name");if(_i1591.textContent===_s925){_t2542=_o548.indexOf(_i1591);_a303=!1===e.shiftKey?_o548[_t2542+1]||_o548[0]:_o548[_t2542-1]||_o548[_o548.length-1];}}}catch(err){_iterator1638.e(err);}finally{_iterator1638.f();}_a303&&(_a303.matches(".name")?_this1107.kD(_a303):_a303.matches(".value")&&_this1107.SD(_a303));case 32:_context271.next=35;break;case 34:if("Escape"===e.key){e.preventDefault(),t.textContent=h,Gi(_this1107,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault(),u());case 35:case"end":return _context271.stop();}}},_callee269);}));return function s(_x271){return _ref228.apply(this,arguments);};}()),t.addEventListener("input",i=function i(e){x(),b(),function(){var e=t.textContent;t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),pw(e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}();}),t.addEventListener("blur",_n711=function n(){p(),_this1107["#main"].removeEventListener("scroll",o),t.removeEventListener("keydown",s),t.removeEventListener("blur",_n711),t.removeAttribute("contenteditable"),t.part.remove("input"),t.removeAttribute("data-invalid"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1107._shadowRoot.getSelection().collapse(t),_this1107.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();});}},{key:"SD",value:function SD(t){var _this1108=this;var e,i,s,n,o=t.closest(".cascade-item"),l=t.closest(".property-item"),a=t.parentElement.querySelector(".name").textContent.trim(),h=t.textContent.trim(),r="",d=this["#main"].scrollTop,c=Qi(_templateObject92());h.endsWith("!important")&&(r="important",h=h.substring(0,h.indexOf("!important")).trim()),l.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin"),s=t.textContent.trim(),n="";if(s.endsWith("!important")&&(s=s.substring(0,s.indexOf("!important")),n="important"),!1===(s!==h||n!==r)||!1===uw(a,s))t.textContent=h,r&&(t.textContent+=" !"+r);else if(_this1108.Js.board.undoManager.checkpoint("Rename styling property"),"style-attribute"===i)_this1108.target.style.setProperty(a,s,n);else if("style-element"===i){var _t2543=e[rw],_i1592=_t2543.parentStyleSheet.ownerNode;_t2543.style.setProperty(a,s,n),Op(_i1592);}else if("presentation-attributes"===i){e[dw].setAttribute(a,s);}},u=function u(){var e="",i=new Set();var _iterator1639=_createForOfIteratorHelper(V),_step1639;try{for(_iterator1639.s();!(_step1639=_iterator1639.n()).done;){var _e1914=_step1639.value;if(_e1914.name===a){var _iterator1641=_createForOfIteratorHelper(_e1914.values),_step1641;try{for(_iterator1641.s();!(_step1641=_iterator1641.n()).done;){var _s926=_step1641.value;if("token"===_s926.type||"token-list"===_s926.type){var _iterator1642=_createForOfIteratorHelper(_s926.tokens),_step1642;try{for(_iterator1642.s();!(_step1642=_iterator1642.n()).done;){var _e1915=_step1642.value;_e1915.startsWith(t.textContent)&&i.add(_e1915);}}catch(err){_iterator1642.e(err);}finally{_iterator1642.f();}}else if("color"===_s926.type){var _iterator1643=_createForOfIteratorHelper(hw(U)),_step1643;try{for(_iterator1643.s();!(_step1643=_iterator1643.n()).done;){var _e1916=_step1643.value;_e1916.startsWith(t.textContent)&&i.add(_e1916);}}catch(err){_iterator1643.e(err);}finally{_iterator1643.f();}}}}catch(err){_iterator1641.e(err);}finally{_iterator1641.f();}}}}catch(err){_iterator1639.e(err);}finally{_iterator1639.f();}i=_toConsumableArray(i);var _iterator1640=_createForOfIteratorHelper(i),_step1640;try{for(_iterator1640.s();!(_step1640=_iterator1640.n()).done;){var _t2544=_step1640.value;e+="<div class=\"item\" ".concat(_t2544===i[0]?"data-selected":"",">").concat(_t2544,"</div>");}}catch(err){_iterator1640.e(err);}finally{_iterator1640.f();}c.innerHTML=e,c.hidden=i.length<=1;},x=function x(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,x();{var _e1917=new Range();_e1917.selectNodeContents(t),_e1917.collapse(!1);var _i1593=window.getSelection();_i1593.removeAllRanges(),_i1593.addRange(_e1917);}}),this["#main"].addEventListener("scroll",n=function n(){!1===c.hidden?_this1108["#main"].scrollTop=d:d=_this1108["#main"].scrollTop;}),t.addEventListener("keydown",i=/*#__PURE__*/function(){var _ref229=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee270(e){var i,_t2545,_e1918,_e1919,_s927,_n712,_o549,_l405,_e1920,_i1594,_t2546,_t2547,_a304,_h233,_r159,_d127,_c94,_t2548,_p85,_u67,_x273,_e1921,_e1922,_e1923,_i1595,_t2549,_i1596,_s928,_n713,_iterator1644,_step1644,_t2550,_i1597,_t2551;return regeneratorRuntime.wrap(function _callee270$(_context272){while(1){switch(_context272.prev=_context272.next){case 0:i=ao.fromEvent(e);if(!(i.matches("ArrowUp")||i.matches("ArrowDown")||i.matches("Shift","ArrowUp")||i.matches("Shift","ArrowDown"))){_context272.next=5;break;}if(!1===c.hidden){e.preventDefault();_t2545=c.querySelector(".item[data-selected]");if(_t2545.removeAttribute("data-selected"),"ArrowUp"===e.key){_e1918=_t2545.previousElementSibling||c.lastElementChild;_e1918.setAttribute("data-selected",""),_e1918.scrollIntoViewIfNeeded();}else if("ArrowDown"===e.key){_e1919=_t2545.nextElementSibling||c.firstElementChild;_e1919.setAttribute("data-selected",""),_e1919.scrollIntoViewIfNeeded();}x();}else{e.preventDefault(),e.stopPropagation();_s927=_this1108._shadowRoot.getSelection();if(_s927.rangeCount>0){_n712=_s927.getRangeAt(0),_o549=_n712.startOffset,_l405=_n712.startOffset;{_e1920=t.textContent,_i1594=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(_t2546=_n712.startOffset;_t2546<=_e1920.length&&(_l405=_t2546,!_i1594.includes(_e1920[_t2546]));_t2546+=1){;}for(_t2547=_n712.startOffset-1;_t2547>=0&&!_i1594.includes(_e1920[_t2547]);_t2547-=1){_o549=_t2547;}}if(_o549!==_l405){_a304=t.textContent.substring(_o549,_l405);if(!1===aw(parseFloat(_a304))){_h233="",_r159="",_d127=/[^\d-\.]+/.exec(_a304),_c94=parseFloat(_a304);if(e.preventDefault(),_d127){_t2548=_d127.index+_d127[0].length;_n712.startOffset>_o549+_d127.index&&_t2548<_a304.length&&_n712.startOffset!==_o549?(_h233=_a304.substring(0,_t2548),_a304=_a304.substring(_t2548)):(_r159=_a304.substring(_d127.index),_a304=_a304.substring(0,_d127.index));}i.matches("ArrowUp")?_c94=ow(_c94)+1:i.matches("ArrowDown")?_c94=lw(_c94)-1:i.matches("Shift","ArrowUp")?_c94=ow(_c94)+10:i.matches("Shift","ArrowDown")&&(_c94=lw(_c94)-10);_p85=_h233+_c94+_r159,_u67=t.textContent;_u67=_u67.substring(0,_o549)+_p85+_u67.substring(_l405),t.textContent=_u67;_x273=document.createRange();_x273.setStart(t.firstChild,_o549),_x273.setEnd(t.firstChild,_o549+_p85.length),_s927.removeAllRanges(),_s927.addRange(_x273);}}}}_context272.next=32;break;case 5:if(!("Enter"===e.key)){_context272.next=10;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1921=c.querySelector(".item[data-selected]");t.textContent=_e1921?_e1921.textContent:r?h+"!"+r:h;}Gi(_this1108,"[tabindex]").focus();_context272.next=32;break;case 10:if(!("Tab"===e.key)){_context272.next=31;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context272.next=21;break;}_e1922=c.querySelector(".item[data-selected]");_e1922&&(t.textContent=_e1922.textContent);_e1923=new Range();_e1923.selectNodeContents(t),_e1923.collapse(!1);_i1595=window.getSelection();_i1595.removeAllRanges(),_i1595.addRange(_e1923);u(),x();_context272.next=29;break;case 21:_t2549=_toConsumableArray(_this1108["#cascade-items"].children).indexOf(o);Gi(_this1108,"[tabindex]").focus();_context272.next=25;return ns(10);case 25:_i1596=_this1108["#cascade-items"].children[_t2549],_s928=_toConsumableArray(_this1108["#cascade-items"].querySelectorAll(".name, .value")),_n713=null;_iterator1644=_createForOfIteratorHelper(_i1596.querySelector(".properties").children);try{for(_iterator1644.s();!(_step1644=_iterator1644.n()).done;){_t2550=_step1644.value;_i1597=_t2550.querySelector(".name");if(_i1597.textContent===a){_t2551=_s928.indexOf(_i1597);_n713=!1===e.shiftKey?_s928[_t2551+2]||_s928[0]:_s928[_t2551]||_s928[_s928.length-1];}}}catch(err){_iterator1644.e(err);}finally{_iterator1644.f();}_n713&&(_n713.matches(".name")?_this1108.kD(_n713):_n713.matches(".value")&&_this1108.SD(_n713));case 29:_context272.next=32;break;case 31:if("Escape"===e.key){e.preventDefault(),t.textContent=r?h+"!"+r:h,Gi(_this1108,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault());case 32:case"end":return _context272.stop();}}},_callee270);}));return function i(_x272){return _ref229.apply(this,arguments);};}()),t.addEventListener("input",e=function e(){if(u(),x(),function(){var e=t.textContent.trim();e.endsWith("!important")&&(e=e.substring(0,e.indexOf("!important"))),t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),uw(a,e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}(),c.childElementCount>0){var _e1924="below";{var _i1598=t.getBoundingClientRect(),_s929=_this1108.getBoundingClientRect();_s929.bottom-_i1598.bottom<_i1598.top-_s929.top&&(_e1924="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1924){var _e1925=t.getBoundingClientRect(),_i1599=_this1108.getBoundingClientRect(),_s930=_this1108["#main"].scrollTop;c.style.left=_e1925.left-_i1599.left-6+"px",c.style.top=_e1925.bottom-_i1599.top+_s930+6+"px";var _n714=c.getBoundingClientRect();_n714.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n714.top-6+"px"),_n714.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n714.right-3+"px");}else if("above"===_e1924){var _e1926=t.getBoundingClientRect(),_i1600=_this1108.getBoundingClientRect(),_s931=_this1108["#main"].scrollTop;c.style.left=_e1926.left-_i1600.left-6+"px",c.style.bottom=_i1600.bottom-_e1926.top-_s931+6+"px";var _n715=c.getBoundingClientRect();if(_n715.top<_i1600.top-6){var _t2552=_i1600.top-_n715.top;c.style.height=_n715.height-_t2552-6+"px";}_n715.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n715.right-3+"px");}}}),t.addEventListener("blur",s=function(_s932){function s(){return _s932.apply(this,arguments);}s.toString=function(){return _s932.toString();};return s;}(function(){p(),_this1108["#main"].removeEventListener("scroll",n),t.removeEventListener("keydown",i),t.removeEventListener("blur",s),t.removeAttribute("contenteditable"),t.removeAttribute("data-invalid"),t.part.remove("input"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1108._shadowRoot.getSelection().collapse(t),_this1108.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();}));}},{key:"_D",value:function _D(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Qi(_templateObject93()),s=t.querySelector(".properties");e===s.childElementCount?s.append(i):s.children[e].before(i),this.kD(i.querySelector(".name"),!0);}},{key:"qs",value:function qs(){var _this1109=this;this.yD;var t=[];if(this["#cascade-items"].innerHTML="",this.yD){(function(){var e=_this1109.yD.closest("[data-bx-workspace]");for(var _i1601=_this1109.yD;e.contains(_i1601);_i1601=_i1601.parentElement){var _s933=_i1601!==_this1109.yD;if(_i1601.style.length>0||_i1601===_this1109.yD){var _t2553=_this1109.CD(_i1601),_e1927=Qi(_templateObject94(),_s933?"Inherited from <code>".concat(_t2553,"</code>"):"");var _iterator1645=_createForOfIteratorHelper(_i1601.style),_step1645;try{for(_iterator1645.s();!(_step1645=_iterator1645.n()).done;){var _t2554=_step1645.value;if(!_s933||!1!==zp(_t2554)){var _s934=_i1601.style.getPropertyValue(_t2554),_n716=_i1601.style.getPropertyPriority(_t2554),_o550=Qi(_templateObject95(),_t2554,_s934+("important"===_n716?" !important":""));_e1927.children[2].append(_o550);}}}catch(err){_iterator1645.e(err);}finally{_iterator1645.f();}_this1109["#cascade-items"].append(_e1927);}{var _n717=Ep(_i1601);_n717=_n717.filter(function(t){return!t.parentStyleSheet||!1!==e.contains(t.parentStyleSheet.ownerNode);});var _iterator1646=_createForOfIteratorHelper(_n717),_step1646;try{for(_iterator1646.s();!(_step1646=_iterator1646.n()).done;){var _e1928=_step1646.value;if(!1===t.includes(_e1928)){var _n718=[];var _iterator1647=_createForOfIteratorHelper(_e1928.style),_step1647;try{for(_iterator1647.s();!(_step1647=_iterator1647.n()).done;){var _t2556=_step1647.value;if(!1===_s933||!0===zp(_t2556)){var _i1603=_e1928.style.getPropertyValue(_t2556),_s936=_e1928.style.getPropertyPriority(_t2556);_s936="important"===_s936?" !important":"",_n718.push([_t2556,_i1603,_s936]);}}}catch(err){_iterator1647.e(err);}finally{_iterator1647.f();}if(_n718.length>0){var _o551=_this1109.CD(_i1601),_l406=Qi(_templateObject96(),_s933?"Inherited from <span>".concat(_o551,"</span>"):"",_e1928.selectorText);var _iterator1648=_createForOfIteratorHelper(_n718),_step1648;try{for(_iterator1648.s();!(_step1648=_iterator1648.n()).done;){var _step1648$value=_slicedToArray(_step1648.value,3),_t2555=_step1648$value[0],_e1929=_step1648$value[1],_i1602=_step1648$value[2];var _s935=Qi(_templateObject97(),_t2555,_e1929+("important"===_i1602?" !important":""));_l406.children[2].append(_s935);}}catch(err){_iterator1648.e(err);}finally{_iterator1648.f();}_l406[rw]=_e1928,_this1109["#cascade-items"].append(_l406),t.push(_e1928);}}}}catch(err){_iterator1646.e(err);}finally{_iterator1646.f();}}{var _t2557=[];var _iterator1649=_createForOfIteratorHelper(_i1601.attributes),_step1649;try{var _loop53=function _loop53(){var _step1649$value=_step1649.value,e=_step1649$value.name,n=_step1649$value.value;var i=V.filter(function(t){return t.presentationAttributeName===e;}),o=i.find(function(t){return t.appliesTo.includes(_this1109.yD.localName);})||i[0];o&&(!1!==_s933&&!0!==o.inheritable||_t2557.push({name:e,value:n}));};for(_iterator1649.s();!(_step1649=_iterator1649.n()).done;){_loop53();}}catch(err){_iterator1649.e(err);}finally{_iterator1649.f();}if(_t2557.length>0){var _e1930=_this1109.CD(_i1601),_n719=_s933?"Inherited from <span>".concat(_e1930,"</span>"):"",_o552="".concat(_i1601.localName,"[Presentation attributes]"),_l407=Qi(_templateObject98(),_n719,_o552);var _iterator1650=_createForOfIteratorHelper(_t2557),_step1650;try{for(_iterator1650.s();!(_step1650=_iterator1650.n()).done;){var _step1650$value=_step1650.value,_e1931=_step1650$value.name,_i1604=_step1650$value.value;var _t2558=Qi(_templateObject99(),_e1931,_i1604);_l407.children[2].append(_t2558);}}catch(err){_iterator1650.e(err);}finally{_iterator1650.f();}_l407[dw]=_i1601,_this1109["#cascade-items"].append(_l407);}}}})();}}},{key:"MD",value:function MD(t){var e,i=function i(t){return _toConsumableArray(stylesheet.cssRules);},s=[],n=i(sheet);for(;e=n.shift();){e.type===CSSRule.MEDIA_RULE?n=i().concat(n):e.type===CSSRule.STYLE_RULE&&element.matches(e.selectorText)&&s.push(e);}return s;}},{key:"CD",value:function CD(t){var e="";if(t.hasAttribute("data-bx-workspace")){var _i1605=t.getAttribute("data-bx-workspace");e+="master"===_i1605?"svg":_i1605;}else e+="g";return t.id.length>0&&(e+="#"+t.id),t.classList.length>0&&(e+="."+_toConsumableArray(t.classList).join(".")),e;}}]);return xw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xw,"observedAttributes",["enabled"]);_defineProperty(xw,"_shadowTemplate",Qi(_templateObject548()));_defineProperty(xw,"_shadowStyleSheet",Ji(_templateObject549()));customElements.define("bx-csscascadeinspector",xw);var bw=/*#__PURE__*/function(_HTMLElement136){_inherits(bw,_HTMLElement136);var _super240=_createSuper(bw);_createClass(bw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function bw(){var _this1110;_classCallCheck(this,bw);_this1110=_super240.call(this),_this1110._shadowRoot=_this1110.attachShadow({mode:"closed"}),_this1110._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,bw._shadowStyleSheet],_this1110._shadowRoot.append(document.importNode(bw._shadowTemplate.content,!0));var _iterator1651=_createForOfIteratorHelper(_this1110._shadowRoot.querySelectorAll("[id]")),_step1651;try{for(_iterator1651.s();!(_step1651=_iterator1651.n()).done;){var t=_step1651.value;_this1110["#"+t.id]=t;}}catch(err){_iterator1651.e(err);}finally{_iterator1651.f();}_this1110["#dom-inspector"].addEventListener("selectednodeschange",function(){return _this1110.PD();});return _this1110;}_createClass(bw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){this["#dom-inspector"].enabled=!0,this["#css-cascade-inspector"].enabled=!0;}},{key:"en",value:function en(){this["#dom-inspector"].enabled=!1,this["#css-cascade-inspector"].enabled=!1;}},{key:"PD",value:function PD(){var t=this["#dom-inspector"].selectedNodes;1===t.length&&t[0].nodeType===document.ELEMENT_NODE?this["#css-cascade-inspector"].target=t[0]:this["#css-cascade-inspector"].target=null;}}]);return bw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bw,"observedAttributes",["enabled"]);_defineProperty(bw,"_shadowTemplate",Qi(_templateObject550()));_defineProperty(bw,"_shadowStyleSheet",Ji(_templateObject551()));customElements.define("bx-elementspanel",bw);var mw=/*#__PURE__*/function(_HTMLElement137){_inherits(mw,_HTMLElement137);var _super241=_createSuper(mw);_createClass(mw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function mw(){var _this1111;_classCallCheck(this,mw);_this1111=_super241.call(this),_this1111._shadowRoot=_this1111.attachShadow({mode:"closed"}),_this1111._shadowRoot.adoptedStyleSheets=[mw._shadowStyleSheet],_this1111._shadowRoot.append(document.importNode(mw._shadowTemplate.content,!0));var _iterator1652=_createForOfIteratorHelper(_this1111._shadowRoot.querySelectorAll("[id]")),_step1652;try{for(_iterator1652.s();!(_step1652=_iterator1652.n()).done;){var t=_step1652.value;_this1111["#"+t.id]=t;}}catch(err){_iterator1652.e(err);}finally{_iterator1652.f();}return _this1111;}_createClass(mw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){}},{key:"en",value:function en(){}}]);return mw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mw,"observedAttributes",["enabled"]);_defineProperty(mw,"_shadowTemplate",Qi(_templateObject552()));_defineProperty(mw,"_shadowStyleSheet",Ji(_templateObject553()));customElements.define("bx-codepanel",mw);var gw=/*#__PURE__*/function(_HTMLElement138){_inherits(gw,_HTMLElement138);var _super242=_createSuper(gw);_createClass(gw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function gw(){var _this1112;_classCallCheck(this,gw);_this1112=_super242.call(this),_this1112._shadowRoot=_this1112.attachShadow({mode:"closed"}),_this1112._shadowRoot.adoptedStyleSheets=[gw._shadowStyleSheet],_this1112._shadowRoot.append(document.importNode(gw._shadowTemplate.content,!0));var _iterator1653=_createForOfIteratorHelper(_this1112._shadowRoot.querySelectorAll("[id]")),_step1653;try{for(_iterator1653.s();!(_step1653=_iterator1653.n()).done;){var t=_step1653.value;_this1112["#"+t.id]=t;}}catch(err){_iterator1653.e(err);}finally{_iterator1653.f();}return _this1112;}_createClass(gw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){}},{key:"en",value:function en(){}}]);return gw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gw,"observedAttributes",["enabled"]);_defineProperty(gw,"_shadowTemplate",Qi(_templateObject554()));_defineProperty(gw,"_shadowStyleSheet",Ji(_templateObject555()));customElements.define("bx-animationpanel",gw);var fw=Object.defineProperty;var ww=/*#__PURE__*/function(_HTMLElement139){_inherits(ww,_HTMLElement139);var _super243=_createSuper(ww);_createClass(ww,[{key:"board",get:function get(){return this._shadowRoot.querySelector("#board");}},{key:"offscreenBoard",get:function get(){return this._shadowRoot.querySelector("#offscreen-board");}},{key:"toolsDock",get:function get(){return this["#tools-dock"];}},{key:"primaryPanelsDock",get:function get(){return this["#primary-panels-dock"];}},{key:"secondaryPanelsDock",get:function get(){return this["#secondary-panels-dock"];}},{key:"colorGrabber",get:function get(){return this["#color-grabber"];}},{key:"objectGrabber",get:function get(){return this["#object-grabber"];}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function ww(){var _temp51,_this1113;_classCallCheck(this,ww);(_temp51=_this1113=_super243.call(this),_defineProperty(_assertThisInitialized(_this1113),"commands",{"import":{enabled:function enabled(){return!0;},exec:function exec(){return _this1113.DD();}},"export":{enabled:function enabled(){return!0;},exec:function exec(){return _this1113.zD();}},undo:{enabled:function enabled(){return _this1113.OD();},exec:function exec(){return _this1113.ED();}},redo:{enabled:function enabled(){return _this1113.TD();},exec:function exec(){return _this1113.AD();}},copy:{enabled:function enabled(){return _this1113.Qs.textInputMode||_this1113.board.selectedElements.length>0;},exec:function exec(){return _this1113.$D();}},cut:{enabled:function enabled(){return _this1113.Qs.textInputMode||_this1113.board.selectedElements.length>0;},exec:function exec(){return _this1113.ID();}},paste:{exec:function exec(){return _this1113.LD();}},duplicate:{enabled:function enabled(){return _this1113.board.selectedObjectElements.length>0;},exec:function exec(){return _this1113.RD();}},"delete":{enabled:function enabled(){return _this1113.BD();},exec:function exec(){return _this1113.GD();}},selectAll:{exec:function exec(){return _this1113.Pd();}},deselectAll:{enabled:function enabled(){return _this1113.board.selectedElements.length>0;},exec:function exec(){return _this1113.Bd();}},manualGuides:{exec:function exec(){return _this1113.board.showManualGuides=!_this1113.board.showManualGuides;}},smartGuides:{exec:function exec(){return _this1113.board.showSmartGuides=!_this1113.board.showSmartGuides;}},grid:{exec:function exec(){return _this1113.board.showGrid=!_this1113.board.showGrid;}},transparency:{exec:function exec(){return _this1113.board.showTransparency=!_this1113.board.showTransparency;}},views:{exec:function exec(){return _this1113.board.showViews=!_this1113.board.showViews;}},zoomIn:{exec:function exec(){return _this1113.board.zoomIn();}},zoomOut:{exec:function exec(){return _this1113.board.zoomOut();}},resetZoom:{enabled:function enabled(){return 100!==_this1113.board.zoom;},exec:function exec(){return _this1113.board.zoom=100;}},zoomToFitAllViews:{enabled:function enabled(){return _this1113.board.canZoomToFitAllViews();},exec:function exec(){return _this1113.board.zoomToFitAllViews();}},zoomToFitAllObjects:{enabled:function enabled(){return _this1113.board.canZoomToFitAllObjects();},exec:function exec(){return _this1113.board.zoomToFitAllObjects();}},zoomToFitSelectedObjects:{enabled:function enabled(){return _this1113.board.canZoomToFitSelectedObjects();},exec:function exec(){return _this1113.board.zoomToFitSelectedObjects("center");}},group:{enabled:function enabled(){return _this1113.UD();},exec:function exec(){return _this1113.FD();}},ungroup:{enabled:function enabled(){return _this1113.ND();},exec:function exec(){return _this1113.VD();}},clip:{enabled:function enabled(){return _this1113.jD();},exec:function exec(){return _this1113.HD();}},unclip:{enabled:function enabled(){return _this1113.WD();},exec:function exec(){return _this1113.YD();}},mask:{enabled:function enabled(){return _this1113.qD();},exec:function exec(){return _this1113.XD();}},unmask:{enabled:function enabled(){return _this1113.ZD();},exec:function exec(){return _this1113.KD();}},increaseOpacity:{enabled:function enabled(){return _this1113.QD();},exec:function exec(){return _this1113.JD();}},decreaseOpacity:{enabled:function enabled(){return _this1113.tz();},exec:function exec(){return _this1113.ez();}},increaseFillOpacity:{enabled:function enabled(){return _this1113.iz();},exec:function exec(){return _this1113.sz();}},decreaseFillOpacity:{enabled:function enabled(){return _this1113.nz();},exec:function exec(){return _this1113.oz();}},increaseStrokeOpacity:{enabled:function enabled(){return _this1113.lz();},exec:function exec(){return _this1113.az();}},decreaseStrokeOpacity:{enabled:function enabled(){return _this1113.hz();},exec:function exec(){return _this1113.rz();}},raise:{enabled:function enabled(){return _this1113.dz();},exec:function exec(){return _this1113.cz();}},raiseToFront:{enabled:function enabled(){return _this1113.dz();},exec:function exec(){return _this1113.pz();}},lower:{enabled:function enabled(){return _this1113.uz();},exec:function exec(){return _this1113.xz();}},lowerToBack:{enabled:function enabled(){return _this1113.uz();},exec:function exec(){return _this1113.bz();}},rotateClockwise:{enabled:function enabled(){return _this1113.mz();},exec:function exec(){return _this1113.gz(90);}},rotateCounterclockwise:{enabled:function enabled(){return _this1113.mz();},exec:function exec(){return _this1113.gz(-90);}},flipX:{enabled:function enabled(){return _this1113.fz();},exec:function exec(){return _this1113.wz("x");}},flipY:{enabled:function enabled(){return _this1113.fz();},exec:function exec(){return _this1113.wz("y");}},removeTransform:{enabled:function enabled(){return _this1113.vz();},exec:function exec(){return _this1113.yz();}},reduceTransform:{enabled:function enabled(){return _this1113.kz();},exec:function exec(){return _this1113.Sz();}},moveOneUnitLeft:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(1,"left");}},moveOneUnitRight:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(1,"right");}},moveOneUnitUp:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(1,"up");}},moveOneUnitDown:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(1,"down");}},moveTenUnitsLeft:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(10,"left");}},moveTenUnitsRight:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(10,"right");}},moveTenUnitsUp:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(10,"up");}},moveTenUnitsDown:{enabled:function enabled(){return _this1113._z();},exec:function exec(){return _this1113.Cz(10,"down");}},grabPaintColor:{enabled:function enabled(){return _this1113.Mz();},exec:function exec(){return _this1113.Pz();}},reorient:{enabled:function enabled(){return _this1113.Dz();},exec:function exec(){return _this1113.zz();}},reverse:{enabled:function enabled(){return _this1113.Oz();},exec:function exec(){return _this1113.Ez();}},shapeToPath:{enabled:function enabled(){return _this1113.Tz();},exec:function exec(){return _this1113.Az();}},strokeToPath:{enabled:function enabled(){return _this1113.$z();},exec:function exec(){return _this1113.Iz();}},unite:{enabled:function enabled(){return _this1113.Lz("unite");},exec:function exec(){return _this1113.Rz("unite");}},subtract:{enabled:function enabled(){return _this1113.Lz("subtract");},exec:function exec(){return _this1113.Rz("subtract");}},intersect:{enabled:function enabled(){return _this1113.Lz("intersect");},exec:function exec(){return _this1113.Rz("intersect");}},exclude:{enabled:function enabled(){return _this1113.Lz("exclude");},exec:function exec(){return _this1113.Rz("exclude");}},joinPaths:{enabled:function enabled(){return _this1113.Bz();},exec:function exec(){return _this1113.Gz();}},splitPath:{enabled:function enabled(){return _this1113.Uz();},exec:function exec(){return _this1113.Fz();}},openPath:{enabled:function enabled(){return _this1113.Nz();},exec:function exec(){return _this1113.Vz();}},closePath:{enabled:function enabled(){return _this1113.jz();},exec:function exec(){return _this1113.Wz();}},insetPath:{enabled:function enabled(){return _this1113.Yz();},exec:function exec(){return _this1113.qz(-1);}},outsetPath:{enabled:function enabled(){return _this1113.Yz();},exec:function exec(){return _this1113.qz(1);}},simplifyPath:{enabled:function enabled(){return _this1113.Xz();},exec:function exec(){return _this1113.Zz();}},complexifyPath:{enabled:function enabled(){return _this1113.Kz();},exec:function exec(){return _this1113.Qz();}},joinNodes:{enabled:function enabled(){return _this1113.Jz();},exec:function exec(){return _this1113.tO();}},splitNode:{enabled:function enabled(){return _this1113.eO();},exec:function exec(){return _this1113.iO();}},deleteNode:{enabled:function enabled(){return _this1113.sO();},exec:function exec(){return _this1113.nO();}},breakNode:{enabled:function enabled(){return _this1113.oO();},exec:function exec(){return _this1113.lO();}},previousTool:{enabled:function enabled(){return _this1113.aO();},exec:function exec(){return _this1113.togglePreviousTool();}},transformTool:{exec:function exec(){return _this1113.toggleTool("transform-tool");}},editTool:{exec:function exec(){return _this1113.toggleTool("edit-tool");}},panTool:{exec:function exec(){return _this1113.toggleTool("pan-tool");}},quadBezierTool:{exec:function exec(){return _this1113.toggleTool("quad-bezier-tool");}},cubicBezierTool:{exec:function exec(){return _this1113.toggleTool("cubic-bezier-tool");}},arcTool:{exec:function exec(){return _this1113.toggleTool("arc-tool");}},freehandTool:{exec:function exec(){return _this1113.toggleTool("freehand-tool");}},blobTool:{exec:function exec(){return _this1113.toggleTool("blob-tool");}},textTool:{exec:function exec(){return _this1113.toggleTool("text-tool");}},textPathTool:{exec:function exec(){return _this1113.toggleTool("text-path-tool");}},viewTool:{exec:function exec(){return _this1113.toggleTool("view-tool");}},rectTool:{exec:function exec(){return _this1113.toggleTool("rect-tool");}},circleTool:{exec:function exec(){return _this1113.toggleTool("circle-tool");}},ellipseTool:{exec:function exec(){return _this1113.toggleTool("ellipse-tool");}},ringTool:{exec:function exec(){return _this1113.toggleTool("ring-tool");}},pieTool:{exec:function exec(){return _this1113.toggleTool("pie-tool");}},crescentTool:{exec:function exec(){return _this1113.toggleTool("crescent-tool");}},triangleTool:{exec:function exec(){return _this1113.toggleTool("triangle-tool");}},nGonTool:{exec:function exec(){return _this1113.toggleTool("n-gon-tool");}},starTool:{exec:function exec(){return _this1113.toggleTool("star-tool");}},cogTool:{exec:function exec(){return _this1113.toggleTool("cog-tool");}},arrowTool:{exec:function exec(){return _this1113.toggleTool("arrow-tool");}},crossTool:{exec:function exec(){return _this1113.toggleTool("cross-tool");}},spiralTool:{exec:function exec(){return _this1113.toggleTool("spiral-tool");}},lineTool:{exec:function exec(){return _this1113.toggleTool("line-tool");}},polylineTool:{exec:function exec(){return _this1113.toggleTool("polyline-tool");}},polygonTool:{exec:function exec(){return _this1113.toggleTool("polygon-tool");}},fillPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("fill-panel");}},strokePanel:{exec:function exec(){return _this1113.togglePrimaryPanel("stroke-panel");}},compositingPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("compositing-panel");}},typographyPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("typography-panel");}},geometryPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("geometry-panel");}},metaPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("meta-panel");}},shapePanel:{exec:function exec(){return _this1113.togglePrimaryPanel("shape-panel");}},arrangementPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("arrangement-panel");}},viewPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("view-panel");}},generatorsPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("generators-panel");}},exportPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("export-panel");}},libraryPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("library-panel");}},defsPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("defs-panel");}},objectsPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("objects-panel");}},historyPanel:{exec:function exec(){return _this1113.togglePrimaryPanel("history-panel");}},elementsPanel:{exec:function exec(){return _this1113.toggleSecondaryPanel("elements-panel");}},codePanel:{exec:function exec(){return _this1113.toggleSecondaryPanel("code-panel");}},animationPanel:{exec:function exec(){return _this1113.toggleSecondaryPanel("animation-panel");}}}),_temp51),_this1113.hO=null,_this1113.rO=null,_this1113.dO=!1,_this1113._shadowRoot=_this1113.attachShadow({mode:"closed"}),_this1113._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,ww._shadowStyleSheet],_this1113._shadowRoot.append(document.importNode(ww._shadowTemplate.content,!0));var _iterator1654=_createForOfIteratorHelper(_this1113._shadowRoot.querySelectorAll("[id]")),_step1654;try{for(_iterator1654.s();!(_step1654=_iterator1654.n()).done;){var t=_step1654.value;_this1113["#"+t.id]=t;}}catch(err){_iterator1654.e(err);}finally{_iterator1654.f();}var _loop54=function _loop54(){var t=_arr87[_i1606];fw(_assertThisInitialized(_this1113),ri(t.id),{get:function get(){return t;}});};for(var _i1606=0,_arr87=[].concat(_toConsumableArray(_this1113["#primary-panels-dock"].children),_toConsumableArray(_this1113["#secondary-panels-dock"].children));_i1606<_arr87.length;_i1606++){_loop54();}_this1113.board.undoManager.addEventListener("change",function(t){return _this1113.VP(t);}),_this1113["#tools-dock"].addEventListener("toggle",function(){return _this1113.qs();}),_this1113["#primary-panels-dock"].addEventListener("toggle",function(){return _this1113.qs();}),_this1113["#color-grabber"].addEventListener("blur",function(){return _this1113.focus();}),_this1113["#object-grabber"].addEventListener("blur",function(){return _this1113.focus();});return _this1113;}_createClass(ww,[{key:"connectedCallback",value:function(){var _connectedCallback8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee271(){var t,_e1932,_t2559,_iterator1655,_step1655,_e1933,_t2560,_t2561;return regeneratorRuntime.wrap(function _callee271$(_context273){while(1){switch(_context273.prev=_context273.next){case 0:if(!(this.Qs=Gi(this,"#app"),this.tabIndex=0,!1===this.dO)){_context273.next=10;break;}if(!(this.dO=!0,this.qs(),window.argv.includes("--debug"))){_context273.next=9;break;}t=window.argv.filter(function(t){return t.startsWith("--")&&t.endsWith("-panel");}),_e1932=window.argv.find(function(t){return t.startsWith("--")&&t.endsWith("-tool");});if(_e1932){_t2559=_e1932.substring(2);this.toggleTool(_t2559);}if(!(t.length>0)){_context273.next=9;break;}_context273.next=7;return ns(500);case 7:_iterator1655=_createForOfIteratorHelper(t);try{for(_iterator1655.s();!(_step1655=_iterator1655.n()).done;){_e1933=_step1655.value;_t2560=_e1933.substring(2);this.primaryPanelsDock.querySelector("#"+_t2560)?this.togglePrimaryPanel(_t2560):this.secondaryPanelsDock.querySelector("#"+_t2560)&&this.toggleSecondaryPanel(_t2560);}}catch(err){_iterator1655.e(err);}finally{_iterator1655.f();}case 9:if(window.argv.includes("--select")){_t2561=window.argv[window.argv.indexOf("--select")+1];_t2561&&(this.board.selectedElements=_toConsumableArray(this.board.currentWorkspace.querySelectorAll(_t2561)));}case 10:case"end":return _context273.stop();}}},_callee271,this);}));function connectedCallback(){return _connectedCallback8.apply(this,arguments);}return connectedCallback;}()},{key:"VP",value:function VP(t){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:t.detail}));}},{key:"qs",value:function qs(){var t=this["#tools-dock"].value,e=this["#primary-panels-dock"].value;t!==this.hO&&(this.rO=this.hO,this.hO=t),"transform-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="transform",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!0,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!0,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"edit-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!0,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!0,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"pan-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!0,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"cubic-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!0,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"quad-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!0,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"arc-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!0,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"freehand-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!0,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"blob-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!0,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!0,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit-text",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!0,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!0,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-path-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!0,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"view-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!0,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!0):["rect-tool","circle-tool","ellipse-tool","ring-tool","pie-tool","crescent-tool","triangle-tool","n-gon-tool","star-tool","cog-tool","arrow-tool","cross-tool","spiral-tool"].includes(t)?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!0,this["#board"].shapeContext.shape=t.substring(0,t.indexOf("-tool")),this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"line-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!0,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polyline-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!0,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polygon-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!0,this["#board"].viewContext.enabled=!1):(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1),"edit-tool"===t?(this["#board"].rectHud.enabled=!0,this["#board"].circleHud.enabled=!0,this["#board"].ellipseHud.enabled=!0,this["#board"].ringHud.enabled=!0,this["#board"].pieHud.enabled=!0,this["#board"].crescentHud.enabled=!0,this["#board"].triangleHud.enabled=!0,this["#board"].nGonHud.enabled=!0,this["#board"].starHud.enabled=!0,this["#board"].cogHud.enabled=!0,this["#board"].arrowHud.enabled=!0,this["#board"].crossHud.enabled=!0,this["#board"].spiralHud.enabled=!0,this["#board"].lineHud.enabled=!0,this["#board"].polyHud.enabled=!0):(this["#board"].rectHud.enabled=!1,this["#board"].circleHud.enabled=!1,this["#board"].ellipseHud.enabled=!1,this["#board"].ringHud.enabled=!1,this["#board"].pieHud.enabled=!1,this["#board"].crescentHud.enabled=!1,this["#board"].triangleHud.enabled=!1,this["#board"].nGonHud.enabled=!1,this["#board"].starHud.enabled=!1,this["#board"].cogHud.enabled=!1,this["#board"].arrowHud.enabled=!1,this["#board"].crossHud.enabled=!1,this["#board"].spiralHud.enabled=!1,this["#board"].lineHud.enabled=!1,this["#board"].polyHud.enabled=!1),"edit-tool"===t&&"fill-panel"===e?(this["#board"].linearGradientHud.context="fill",this["#board"].radialGradientHud.context="fill",this["#board"].patternHud.context="fill",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):"edit-tool"===t&&"stroke-panel"===e?(this["#board"].linearGradientHud.context="stroke",this["#board"].radialGradientHud.context="stroke",this["#board"].patternHud.context="stroke",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):(this["#board"].linearGradientHud.enabled=!1,this["#board"].radialGradientHud.enabled=!1,this["#board"].patternHud.enabled=!1),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"toggleTool",value:function toggleTool(t){this["#tools-dock"].value=t,this.qs();}},{key:"togglePreviousTool",value:function togglePreviousTool(){this.rO&&this.toggleTool(this.rO);}},{key:"aO",value:function aO(){return null!==this.rO;}},{key:"togglePrimaryPanel",value:function togglePrimaryPanel(t){this["#primary-panels-dock"].value===t?this["#primary-panels-dock"].value=null:this["#primary-panels-dock"].value=t,this.qs();}},{key:"toggleSecondaryPanel",value:function toggleSecondaryPanel(t){this["#secondary-panels-dock"].value===t?this["#secondary-panels-dock"].value=null:this["#secondary-panels-dock"].value=t,this.qs();}},{key:"Cz",value:function Cz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";if(this.board.undoManager.checkpoint("Move"),0===this.board.outermostSelectedElements.length){if("view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")){var _i1607=Ft.fromString(this.board.currentWorkspace.getAttribute("viewBox"));"left"===e?_i1607.x-=t:"right"===e?_i1607.x+=t:"up"===e?_i1607.y-=t:"down"===e&&(_i1607.y+=t),this.board.currentWorkspace.setAttribute("viewBox",_i1607.toString());}}else{var _iterator1656=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1656;try{for(_iterator1656.s();!(_step1656=_iterator1656.n()).done;){var _i1608=_step1656.value;if("view"===_i1608.localName){var _s937=Ft.fromString(_i1608.getAttribute("viewBox")||"0 0 0 0");"left"===e?_s937.x-=t:"right"===e?_s937.x+=t:"up"===e?_s937.y-=t:"down"===e&&(_s937.y+=t),_i1608.setAttribute("viewBox",_s937.toString());}else if("bx-guide"===_i1608.localName){var _s938=Gp.fromString(_i1608.getAttribute("x")).value,_n720=Gp.fromString(_i1608.getAttribute("y")).value;"left"===e?_s938-=t:"right"===e?_s938+=t:"up"===e?_n720-=t:"down"===e&&(_n720+=t),_i1608.setAttribute("x",_s938),_i1608.setAttribute("y",_n720),this["#board"].manualGuidesHud.requestImmidiateUpdate();}else{var _s939=Wt(_i1608),_n721=Yt(_i1608,this.board.currentWorkspace),_o553=_n721.inverse(),_l408=new DOMMatrix();"left"===e?_l408.translateSelf(-t,0):"right"===e?_l408.translateSelf(t,0):"up"===e?_l408.translateSelf(0,-t):"down"===e&&_l408.translateSelf(0,t);var _a305=DOMMatrix.fromMatrix(_s939);_a305.multiplySelf(_o553),_a305.multiplySelf(_l408),_a305.multiplySelf(_n721),_i1608.setAttribute("transform",_a305.toString()),ka(_i1608,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}}catch(err){_iterator1656.e(err);}finally{_iterator1656.f();}}}},{key:"_z",value:function _z(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"wz",value:function wz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";this.board.undoManager.checkpoint("Flip");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=e.map(function(t){return Ti(t);}),s=We(i);var _iterator1657=_createForOfIteratorHelper(e),_step1657;try{for(_iterator1657.s();!(_step1657=_iterator1657.n()).done;){var _i1609=_step1657.value;var _e1934=void 0,_n722=Wt(_i1609),_o554=qt(_i1609),_l409=_o554.inverse();if("x"===t){var _t2562=2*(s.x+s.width/2);_e1934=new DOMMatrix([-1,0,0,1,_t2562,0]);}else if("y"===t){var _t2563=2*(s.y+s.height/2);_e1934=new DOMMatrix([1,0,0,-1,0,_t2563]);}var _a306=DOMMatrix.fromMatrix(_n722);_a306.multiplySelf(_l409),_a306.multiplySelf(_e1934),_a306.multiplySelf(_o554),_i1609.setAttribute("transform",_a306.toString()),ka(_i1609,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1657.e(err);}finally{_iterator1657.f();}}},{key:"fz",value:function fz(){return this.board.selectedObjectElements.length>0;}},{key:"yz",value:function yz(){this.board.undoManager.checkpoint("Remove transform");var _iterator1658=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1658;try{for(_iterator1658.s();!(_step1658=_iterator1658.n()).done;){var t=_step1658.value;y.includes(t.localName)&&t.removeAttribute("transform");}}catch(err){_iterator1658.e(err);}finally{_iterator1658.f();}}},{key:"vz",value:function vz(){var _iterator1659=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1659;try{for(_iterator1659.s();!(_step1659=_iterator1659.n()).done;){var t=_step1659.value;if(y.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1659.e(err);}finally{_iterator1659.f();}}},{key:"Sz",value:function Sz(){this.board.undoManager.checkpoint("Reduce transform");var _iterator1660=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1660;try{for(_iterator1660.s();!(_step1660=_iterator1660.n()).done;){var t=_step1660.value;y.includes(t.localName)&&t.hasAttribute("transform")&&ka(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1660.e(err);}finally{_iterator1660.f();}}},{key:"kz",value:function kz(){var _iterator1661=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1661;try{for(_iterator1661.s();!(_step1661=_iterator1661.n()).done;){var t=_step1661.value;if(y.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1661.e(err);}finally{_iterator1661.f();}}},{key:"gz",value:function gz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:90;this.board.undoManager.checkpoint("Rotate");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=se(e);var _iterator1662=_createForOfIteratorHelper(e),_step1662;try{for(_iterator1662.s();!(_step1662=_iterator1662.n()).done;){var _s940=_step1662.value;var _e1935=Wt(_s940),_n723=qt(_s940),_o555=_n723.inverse(),_l410=DOMMatrix.fromMatrix(_e1935);_l410.multiplySelf(_o555),_l410.translateSelf(i.x,i.y),_l410.rotateSelf(t),_l410.translateSelf(-i.x,-i.y),_l410.multiplySelf(_n723),_s940.setAttribute("transform",_l410.toString()),ka(_s940,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1662.e(err);}finally{_iterator1662.f();}}},{key:"mz",value:function mz(){return this.board.selectedObjectElements.length>0;}},{key:"cz",value:function cz(){this.board.undoManager.checkpoint("Raise");var _iterator1663=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1663;try{for(_iterator1663.s();!(_step1663=_iterator1663.n()).done;){var t=_step1663.value;var _iterator1664=_createForOfIteratorHelper(qi(t)),_step1664;try{var _loop55=function _loop55(){var e=_step1664.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1665=_createForOfIteratorHelper(e),_step1665;try{for(_iterator1665.s();!(_step1665=_iterator1665.n()).done;){var _i1610=_step1665.value;if(Yi(t,_i1610))return!0;}}catch(err){_iterator1665.e(err);}finally{_iterator1665.f();}return!1;}).find(function(t){return Ri(t)>Ri(e[e.length-1]);});if(t){var _iterator1666=_createForOfIteratorHelper(e.reverse()),_step1666;try{for(_iterator1666.s();!(_step1666=_iterator1666.n()).done;){var _i1611=_step1666.value;t.after(_i1611);}}catch(err){_iterator1666.e(err);}finally{_iterator1666.f();}}};for(_iterator1664.s();!(_step1664=_iterator1664.n()).done;){_loop55();}}catch(err){_iterator1664.e(err);}finally{_iterator1664.f();}}}catch(err){_iterator1663.e(err);}finally{_iterator1663.f();}}},{key:"pz",value:function pz(){this.board.undoManager.checkpoint("Raise to Front");var _iterator1667=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1667;try{for(_iterator1667.s();!(_step1667=_iterator1667.n()).done;){var t=_step1667.value;var _iterator1668=_createForOfIteratorHelper(qi(t)),_step1668;try{var _loop56=function _loop56(){var e=_step1668.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1669=_createForOfIteratorHelper(e),_step1669;try{for(_iterator1669.s();!(_step1669=_iterator1669.n()).done;){var _i1612=_step1669.value;if(Yi(t,_i1612))return!0;}}catch(err){_iterator1669.e(err);}finally{_iterator1669.f();}return!1;}),i=t[t.length-1];if(i){var _iterator1670=_createForOfIteratorHelper(e.reverse()),_step1670;try{for(_iterator1670.s();!(_step1670=_iterator1670.n()).done;){var _t2564=_step1670.value;i.after(_t2564);}}catch(err){_iterator1670.e(err);}finally{_iterator1670.f();}}};for(_iterator1668.s();!(_step1668=_iterator1668.n()).done;){_loop56();}}catch(err){_iterator1668.e(err);}finally{_iterator1668.f();}}}catch(err){_iterator1667.e(err);}finally{_iterator1667.f();}}},{key:"dz",value:function dz(){var t=ji(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1671=_createForOfIteratorHelper(t),_step1671;try{for(_iterator1671.s();!(_step1671=_iterator1671.n()).done;){var _i1613=_step1671.value;var _t2565=qi(_i1613);var _iterator1672=_createForOfIteratorHelper(_t2565),_step1672;try{var _loop57=function _loop57(){var i=_step1672.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1673=_createForOfIteratorHelper(i),_step1673;try{for(_iterator1673.s();!(_step1673=_iterator1673.n()).done;){var _s941=_step1673.value;if(_s941.transform&&(_s941[e]||(_s941[e]=Ti(_s941)),t[e]||(t[e]=Ti(t)),Xe(_s941[e],t[e])))return!0;}}catch(err){_iterator1673.e(err);}finally{_iterator1673.f();}return!1;}return!1;}).find(function(t){return Ri(t)>Ri(i[i.length-1]);}))return{v:!0};};for(_iterator1672.s();!(_step1672=_iterator1672.n()).done;){var _ret6=_loop57();if(_typeof(_ret6)==="object")return _ret6.v;}}catch(err){_iterator1672.e(err);}finally{_iterator1672.f();}}}catch(err){_iterator1671.e(err);}finally{_iterator1671.f();}return!1;}},{key:"xz",value:function xz(){this.board.undoManager.checkpoint("Lower");var _iterator1674=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1674;try{for(_iterator1674.s();!(_step1674=_iterator1674.n()).done;){var t=_step1674.value;var _iterator1675=_createForOfIteratorHelper(qi(t)),_step1675;try{var _loop58=function _loop58(){var e=_step1675.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1676=_createForOfIteratorHelper(e),_step1676;try{for(_iterator1676.s();!(_step1676=_iterator1676.n()).done;){var _i1614=_step1676.value;if(Yi(t,_i1614))return!0;}}catch(err){_iterator1676.e(err);}finally{_iterator1676.f();}return!1;}).reverse().find(function(t){return Ri(t)<Ri(e[0]);});if(t){var _iterator1677=_createForOfIteratorHelper(e),_step1677;try{for(_iterator1677.s();!(_step1677=_iterator1677.n()).done;){var _i1615=_step1677.value;t.before(_i1615);}}catch(err){_iterator1677.e(err);}finally{_iterator1677.f();}}};for(_iterator1675.s();!(_step1675=_iterator1675.n()).done;){_loop58();}}catch(err){_iterator1675.e(err);}finally{_iterator1675.f();}}}catch(err){_iterator1674.e(err);}finally{_iterator1674.f();}}},{key:"bz",value:function bz(){this.board.undoManager.checkpoint("Lower to Back");var _iterator1678=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1678;try{for(_iterator1678.s();!(_step1678=_iterator1678.n()).done;){var t=_step1678.value;var _iterator1679=_createForOfIteratorHelper(qi(t)),_step1679;try{var _loop59=function _loop59(){var e=_step1679.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1680=_createForOfIteratorHelper(e),_step1680;try{for(_iterator1680.s();!(_step1680=_iterator1680.n()).done;){var _i1616=_step1680.value;if(Yi(t,_i1616))return!0;}}catch(err){_iterator1680.e(err);}finally{_iterator1680.f();}return!1;})[0];if(t){var _iterator1681=_createForOfIteratorHelper(e),_step1681;try{for(_iterator1681.s();!(_step1681=_iterator1681.n()).done;){var _i1617=_step1681.value;t.before(_i1617);}}catch(err){_iterator1681.e(err);}finally{_iterator1681.f();}}};for(_iterator1679.s();!(_step1679=_iterator1679.n()).done;){_loop59();}}catch(err){_iterator1679.e(err);}finally{_iterator1679.f();}}}catch(err){_iterator1678.e(err);}finally{_iterator1678.f();}}},{key:"uz",value:function uz(){var t=ji(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1682=_createForOfIteratorHelper(t),_step1682;try{for(_iterator1682.s();!(_step1682=_iterator1682.n()).done;){var _i1618=_step1682.value;var _t2566=qi(_i1618);var _iterator1683=_createForOfIteratorHelper(_t2566),_step1683;try{var _loop60=function _loop60(){var i=_step1683.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(_toConsumableArray(w),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1684=_createForOfIteratorHelper(i),_step1684;try{for(_iterator1684.s();!(_step1684=_iterator1684.n()).done;){var _s942=_step1684.value;if(_s942.transform&&(_s942[e]||(_s942[e]=Ti(_s942)),t[e]||(t[e]=Ti(t)),Xe(_s942[e],t[e])))return!0;}}catch(err){_iterator1684.e(err);}finally{_iterator1684.f();}return!1;}return!1;}).find(function(t){return Ri(t)<Ri(i[0]);}))return{v:!0};};for(_iterator1683.s();!(_step1683=_iterator1683.n()).done;){var _ret7=_loop60();if(_typeof(_ret7)==="object")return _ret7.v;}}catch(err){_iterator1683.e(err);}finally{_iterator1683.f();}}}catch(err){_iterator1682.e(err);}finally{_iterator1682.f();}return!1;}},{key:"FD",value:function FD(){this.board.undoManager.checkpoint("Group");var t=document.createDocumentFragment(),e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=Ii("svg:g");e[0].after(i),e=Vi(e);var _iterator1685=_createForOfIteratorHelper(e),_step1685;try{for(_iterator1685.s();!(_step1685=_iterator1685.n()).done;){var _s943=_step1685.value;var _e1936=Yt(_s943,i);_s943.setAttribute("transform",_e1936.toString()),t.append(_s943);}}catch(err){_iterator1685.e(err);}finally{_iterator1685.f();}i.append(t);var _iterator1686=_createForOfIteratorHelper(i.children),_step1686;try{for(_iterator1686.s();!(_step1686=_iterator1686.n()).done;){var _t2567=_step1686.value;ka(_t2567,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1686.e(err);}finally{_iterator1686.f();}this.board.selectedElements=[i];}},{key:"UD",value:function UD(){return this.board.selectedObjectElements.length>0;}},{key:"VD",value:function VD(){this.board.undoManager.checkpoint("Ungroup");var t=_toConsumableArray(this.board.outermostSelectedObjectElements),e=[];var _iterator1687=_createForOfIteratorHelper(t),_step1687;try{for(_iterator1687.s();!(_step1687=_iterator1687.n()).done;){var _i1619=_step1687.value;if("g"===_i1619.localName){var _t2568=_i1619,_s944=document.createDocumentFragment();for(var _i1620=0,_arr88=_toConsumableArray(_t2568.children);_i1620<_arr88.length;_i1620++){var _i1621=_arr88[_i1620];if("bx-title"!==_i1621.localName&&"desc"!==_i1621.localName){if(this.board.isSelectableElement(_i1621)){var _s945=Yt(_i1621,_t2568.parentElement);_i1621.setAttribute("transform",_s945.toString()),ka(_i1621,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision}),e.push(_i1621);}var _iterator1688=_createForOfIteratorHelper(_t2568.attributes),_step1688;try{for(_iterator1688.s();!(_step1688=_iterator1688.n()).done;){var _step1688$value=_step1688.value,_e1937=_step1688$value.name,_s946=_step1688$value.value;j.includes(_e1937)&&!1===_i1621.hasAttribute(_e1937)&&_i1621.setAttribute(_e1937,_s946);}}catch(err){_iterator1688.e(err);}finally{_iterator1688.f();}var _iterator1689=_createForOfIteratorHelper(_t2568.style),_step1689;try{for(_iterator1689.s();!(_step1689=_iterator1689.n()).done;){var _e1938=_step1689.value;var _s947=_t2568.style.getPropertyValue(_e1938);""===_i1621.style.getPropertyValue(_e1938)&&_i1621.style.setProperty(_e1938,_s947);}}catch(err){_iterator1689.e(err);}finally{_iterator1689.f();}_s944.append(_i1621);}}_t2568.before(_s944),_t2568.remove();}else e.push(_i1619);}}catch(err){_iterator1687.e(err);}finally{_iterator1687.f();}this.board.selectedElements=[].concat(e);}},{key:"ND",value:function ND(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1690=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1690;try{for(_iterator1690.s();!(_step1690=_iterator1690.n()).done;){var t=_step1690.value;if("g"===t.localName)return!0;}}catch(err){_iterator1690.e(err);}finally{_iterator1690.f();}return!1;}},{key:"HD",value:function HD(){this.board.undoManager.checkpoint("Clip");var _this$board$outermost=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost[0],e=_this$board$outermost.slice(1),i=H(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=Ii("svg:clipPath"),i.id=this.board.generateUniqueID("clip"),this.board.defs.append(i));var _iterator1691=_createForOfIteratorHelper(e),_step1691;try{for(_iterator1691.s();!(_step1691=_iterator1691.n()).done;){var _s948=_step1691.value;var _e1939=Yt(_s948,t);_s948.setAttribute("transform",_e1939.toString()),i.append(_s948),ka(_s948,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1691.e(err);}finally{_iterator1691.f();}t.style.clipPath="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"jD",value:function jD(){var _this$board$outermost2=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost2[0],e=_this$board$outermost2.slice(1);if(!t||!P.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1692=_createForOfIteratorHelper(e),_step1692;try{for(_iterator1692.s();!(_step1692=_iterator1692.n()).done;){var _t2569=_step1692.value;if(!1===M.includes(_t2569.localName))return!1;}}catch(err){_iterator1692.e(err);}finally{_iterator1692.f();}return"none"===getComputedStyle(t).clipPath;}},{key:"YD",value:function YD(){if(!1===this.WD())return;this.board.undoManager.checkpoint("Unclip");var t=[];var _iterator1693=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1693;try{for(_iterator1693.s();!(_step1693=_iterator1693.n()).done;){var _e1940=_step1693.value;var _i1622=H(_e1940),_s949=Wt(_e1940);if(_i1622){var _n724=Wt(_i1622);t.push(_e1940);for(var _i1623=0,_arr89=_toConsumableArray(_i1622.children);_i1623<_arr89.length;_i1623++){var _o556=_arr89[_i1623];if(M.includes(_o556.localName)){var _i1624=_o556,_l411=Wt(_i1624),_a307=new DOMMatrix();_a307=_a307.multiply(_s949),_a307=_a307.multiply(_n724),_a307=_a307.multiply(_l411),_i1624.setAttribute("transform",_a307.toString()),_e1940.after(_i1624),t.push(_i1624),ka(_i1624,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1622.remove();}_e1940.style.setProperty("clip-path","none"),Dp("clip-path",_e1940);}}catch(err){_iterator1693.e(err);}finally{_iterator1693.f();}this.board.selectedElements=t;}},{key:"WD",value:function WD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1694=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1694;try{for(_iterator1694.s();!(_step1694=_iterator1694.n()).done;){var t=_step1694.value;if(!1===P.includes(t.localName)||null===H(t))return!1;}}catch(err){_iterator1694.e(err);}finally{_iterator1694.f();}return!0;}},{key:"XD",value:function XD(){this.board.undoManager.checkpoint("Mask");var _this$board$outermost3=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost3[0],e=_this$board$outermost3.slice(1),i=W(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=Ii("svg:mask"),i.id=this.board.generateUniqueID("mask"),this.board.defs.append(i));var _iterator1695=_createForOfIteratorHelper(e),_step1695;try{for(_iterator1695.s();!(_step1695=_iterator1695.n()).done;){var _s950=_step1695.value;var _e1941=Yt(_s950,t);_s950.setAttribute("transform",_e1941.toString()),i.append(_s950),ka(_s950,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1695.e(err);}finally{_iterator1695.f();}t.style.mask="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"qD",value:function qD(){var _this$board$outermost4=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost4[0],e=_this$board$outermost4.slice(1);if(!t||!z.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1696=_createForOfIteratorHelper(e),_step1696;try{for(_iterator1696.s();!(_step1696=_iterator1696.n()).done;){var _t2570=_step1696.value;if(!1===D.includes(_t2570.localName))return!1;}}catch(err){_iterator1696.e(err);}finally{_iterator1696.f();}return"none"===getComputedStyle(t).mask;}},{key:"KD",value:function KD(){if(!1===this.ZD())return;this.board.undoManager.checkpoint("Unmask");var t=[];var _iterator1697=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1697;try{for(_iterator1697.s();!(_step1697=_iterator1697.n()).done;){var _e1942=_step1697.value;var _i1625=W(_e1942),_s951=Wt(_e1942);if(_i1625){t.push(_e1942);for(var _i1626=0,_arr90=_toConsumableArray(_i1625.children);_i1626<_arr90.length;_i1626++){var _n725=_arr90[_i1626];if(D.includes(_n725.localName)){var _i1627=_n725,_o557=Wt(_i1627),_l412=new DOMMatrix();_l412=_l412.multiply(_s951),_l412=_l412.multiply(_o557),_i1627.setAttribute("transform",_l412.toString()),_e1942.after(_i1627),t.push(_i1627),ka(_i1627,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1625.remove();}_e1942.style.setProperty("mask","none"),Dp("mask",_e1942);}}catch(err){_iterator1697.e(err);}finally{_iterator1697.f();}this.board.selectedElements=t;}},{key:"ZD",value:function ZD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1698=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1698;try{for(_iterator1698.s();!(_step1698=_iterator1698.n()).done;){var t=_step1698.value;if(!1===z.includes(t.localName)||null===W(t))return!1;}}catch(err){_iterator1698.e(err);}finally{_iterator1698.f();}return!0;}},{key:"JD",value:function JD(){var _this1114=this;var t=ss(function(){return _this1114.board.undoManager.checkpoint("Increase opacity");});var _iterator1699=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1699;try{for(_iterator1699.s();!(_step1699=_iterator1699.n()).done;){var _e1943=_step1699.value;var _i1628=_e1943.computedStyleMap().get("opacity").value;_i1628<1&&(t(),_i1628=et(_i1628+.1,0,1,2),_e1943.attributeStyleMap.set("opacity",CSS.number(_i1628)));}}catch(err){_iterator1699.e(err);}finally{_iterator1699.f();}}},{key:"QD",value:function QD(){var _iterator1700=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1700;try{for(_iterator1700.s();!(_step1700=_iterator1700.n()).done;){var t=_step1700.value;if(t.computedStyleMap().get("opacity").value<1)return!0;}}catch(err){_iterator1700.e(err);}finally{_iterator1700.f();}return!1;}},{key:"ez",value:function ez(){var _this1115=this;var t=ss(function(){return _this1115.board.undoManager.checkpoint("Decrease opacity");});var _iterator1701=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1701;try{for(_iterator1701.s();!(_step1701=_iterator1701.n()).done;){var _e1944=_step1701.value;var _i1629=_e1944.computedStyleMap().get("opacity").value;_i1629>0&&(t(),_i1629=et(_i1629-.1,0,1,2),_e1944.attributeStyleMap.set("opacity",CSS.number(_i1629)));}}catch(err){_iterator1701.e(err);}finally{_iterator1701.f();}}},{key:"tz",value:function tz(){var _iterator1702=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1702;try{for(_iterator1702.s();!(_step1702=_iterator1702.n()).done;){var t=_step1702.value;if(t.computedStyleMap().get("opacity").value>0)return!0;}}catch(err){_iterator1702.e(err);}finally{_iterator1702.f();}return!1;}},{key:"sz",value:function sz(){var _this1116=this;var t=ss(function(){return _this1116.board.undoManager.checkpoint("Increase fill opacity");});var _iterator1703=_createForOfIteratorHelper(this.Zx()),_step1703;try{for(_iterator1703.s();!(_step1703=_iterator1703.n()).done;){var _e1945=_step1703.value;var _i1630=_e1945.computedStyleMap().get("fill-opacity").value;_i1630<1&&(t(),_i1630=et(_i1630+.1,0,1,2),_e1945.attributeStyleMap.set("fill-opacity",CSS.number(_i1630)));}}catch(err){_iterator1703.e(err);}finally{_iterator1703.f();}}},{key:"iz",value:function iz(){return this.Zx().length>0;}},{key:"oz",value:function oz(){var _this1117=this;var t=ss(function(){return _this1117.board.undoManager.checkpoint("Decrease fill opacity");});var _iterator1704=_createForOfIteratorHelper(this.Zx()),_step1704;try{for(_iterator1704.s();!(_step1704=_iterator1704.n()).done;){var _e1946=_step1704.value;var _i1631=_e1946.computedStyleMap().get("fill-opacity").value;_i1631>0&&(t(),_i1631=et(_i1631-.1,0,1,2),_e1946.attributeStyleMap.set("fill-opacity",CSS.number(_i1631)));}}catch(err){_iterator1704.e(err);}finally{_iterator1704.f();}}},{key:"nz",value:function nz(){return this.Zx().length>0;}},{key:"az",value:function az(){var _this1118=this;var t=ss(function(){return _this1118.board.undoManager.checkpoint("Increase stroke opacity");});var _iterator1705=_createForOfIteratorHelper(this.Zx()),_step1705;try{for(_iterator1705.s();!(_step1705=_iterator1705.n()).done;){var _e1947=_step1705.value;var _i1632=_e1947.computedStyleMap().get("stroke-opacity").value;_i1632<1&&(t(),_i1632=et(_i1632+.1,0,1,2),_e1947.attributeStyleMap.set("stroke-opacity",CSS.number(_i1632)));}}catch(err){_iterator1705.e(err);}finally{_iterator1705.f();}}},{key:"lz",value:function lz(){return this.Zx().length>0;}},{key:"rz",value:function rz(){var _this1119=this;var t=ss(function(){return _this1119.board.undoManager.checkpoint("Decrease stroke opacity");});var _iterator1706=_createForOfIteratorHelper(this.Zx()),_step1706;try{for(_iterator1706.s();!(_step1706=_iterator1706.n()).done;){var _e1948=_step1706.value;var _i1633=_e1948.computedStyleMap().get("stroke-opacity").value;_i1633>0&&(t(),_i1633=et(_i1633-.1,0,1,2),_e1948.attributeStyleMap.set("stroke-opacity",CSS.number(_i1633)));}}catch(err){_iterator1706.e(err);}finally{_iterator1706.f();}}},{key:"hz",value:function hz(){return this.Zx().length>0;}},{key:"Pd",value:function Pd(){this.Qs.textInputMode?document.execCommand("selectAll"):this.board.selectAll();}},{key:"Bd",value:function Bd(){this.board.deselectAll();}},{key:"ED",value:function ED(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("undo"):this.board.undoManager.undo();}},{key:"OD",value:function OD(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canUndo()&&!1===this.Qs.isPointerDown;}},{key:"AD",value:function AD(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("redo"):this.board.undoManager.redo();}},{key:"TD",value:function TD(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canRedo()&&!1===this.Qs.isPointerDown;}},{key:"DD",value:function(){var _DD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee272(){var t,_e1949,_e1950,_i1634,_t2571,_e1951,_i1635;return regeneratorRuntime.wrap(function _callee272$(_context274){while(1){switch(_context274.prev=_context274.next){case 0:_context274.next=2;return this.Qs.openImageImportDialog();case 2:t=_context274.sent;if(!t){_context274.next=29;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context274.next=9;break;}_e1949=Eh(t.data);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_e1949,"boardCenter");_context274.next=29;break;case 9:if(!("pdf"===t.extension||"ai"===t.extension)){_context274.next=23;break;}_e1950=null,_i1634=null;_context274.prev=11;_context274.next=14;return Gm(t.data);case 14:_e1950=_context274.sent;_context274.next=20;break;case 17:_context274.prev=17;_context274.t0=_context274["catch"](11);_i1634=_context274.t0;case 20:if(_i1634)this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_i1634.message});else{_t2571=Eh(_e1950);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_t2571,"boardCenter");}_context274.next=29;break;case 23:if(!["png","jpeg","jpg","gif","webp","avif"].includes(t.extension)){_context274.next=29;break;}_context274.next=26;return Xp(t.data);case 26:_e1951=_context274.sent;_i1635=Eh(_e1951);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_i1635,"boardCenter");case 29:case"end":return _context274.stop();}}},_callee272,this,[[11,17]]);}));function DD(){return _DD.apply(this,arguments);}return DD;}()},{key:"zD",value:function(){var _zD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee273(){return regeneratorRuntime.wrap(function _callee273$(_context275){while(1){switch(_context275.prev=_context275.next){case 0:_context275.t0="export-panel"===this.primaryPanelsDock.value;if(!_context275.t0){_context275.next=5;break;}this.togglePrimaryPanel(null);_context275.next=5;return ns(400);case 5:this.togglePrimaryPanel("export-panel");case 6:case"end":return _context275.stop();}}},_callee273,this);}));function zD(){return _zD.apply(this,arguments);}return zD;}()},{key:"$D",value:function $D(){if(this.Qs.textInputMode)document.execCommand("copy");else{this.board.collectGarbage();var t=this.board.extractArtworkWithSelectedElements(),_e1952=this.Qs.getConfig("bx-markupsettings:indentation",2),_i1636=Vp(t,"html",_e1952),_s952={"text/plain":_i1636,"text/html":_i1636,"image/svg+xml":Vp(t,"xml",_e1952)};this.Qs.setClipboardData(_s952);}}},{key:"LD",value:function(){var _LD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee274(){var t,_e1953,_i1637,_i1638,_i1639,_t2572,_i1640,_i1641;return regeneratorRuntime.wrap(function _callee274$(_context276){while(1){switch(_context276.prev=_context276.next){case 0:if(!this.Qs.textInputMode){_context276.next=4;break;}document.execCommand("paste");_context276.next=36;break;case 4:_context276.next=6;return this.Qs.getClipboardData();case 6:t=_context276.sent;if(!t){_context276.next=36;break;}_e1953=this.board.matches(":hover")?"pointer":"boardCenter";if(!(t["text/html"]&&Yp(t["text/html"]))){_context276.next=15;break;}this.board.undoManager.checkpoint("Paste");_i1637=Eh(t["text/html"]);this.board.insertArtwork(_i1637,_e1953);_context276.next=36;break;case 15:if(!(t["text/plain"]&&Yp(t["text/plain"]))){_context276.next=21;break;}this.board.undoManager.checkpoint("Paste");_i1638=Eh(t["text/plain"]);this.board.insertArtwork(_i1638,_e1953);_context276.next=36;break;case 21:if(!t["application/pdf"]){_context276.next=35;break;}_i1639=null;_context276.prev=23;_context276.next=26;return Gm(t["application/pdf"]);case 26:_i1639=_context276.sent;_context276.next=32;break;case 29:_context276.prev=29;_context276.t0=_context276["catch"](23);_i1639=null;case 32:if(_i1639){this.board.undoManager.checkpoint("Paste");_t2572=Eh(_i1639);this.board.insertArtwork(_t2572,_e1953);}_context276.next=36;break;case 35:if(t["image/png"]){this.board.undoManager.checkpoint("Paste");_i1640=t["image/png"];this.board.insertBitmap(_i1640,_e1953);}else if(t["text/plain"]){this.board.undoManager.checkpoint("Paste");_i1641=Eh("<svg><text style=\"font-size: 36; font-family: Roboto; white-space: pre;\">".concat(t["text/plain"],"</text></svg>\n          "));this.board.insertArtwork(_i1641,_e1953);}case 36:case"end":return _context276.stop();}}},_callee274,this,[[23,29]]);}));function LD(){return _LD.apply(this,arguments);}return LD;}()},{key:"ID",value:function ID(){if(this.Qs.textInputMode)document.execCommand("cut");else{this.board.undoManager.checkpoint("Cut"),this.$D();var t=Vi(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1707=_createForOfIteratorHelper(t),_step1707;try{for(_iterator1707.s();!(_step1707=_iterator1707.n()).done;){var _e1954=_step1707.value;_e1954.remove();}}catch(err){_iterator1707.e(err);}finally{_iterator1707.f();}}}},{key:"GD",value:function GD(){if(this.board.undoManager.checkpoint("Delete"),0===this.board.outermostSelectedElements.length)"view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")&&this.board.currentWorkspace.removeAttribute("viewBox");else{var t=Vi(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1708=_createForOfIteratorHelper(t),_step1708;try{for(_iterator1708.s();!(_step1708=_iterator1708.n()).done;){var _e1955=_step1708.value;_e1955.remove();}}catch(err){_iterator1708.e(err);}finally{_iterator1708.f();}}}},{key:"BD",value:function BD(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"RD",value:function RD(){this.board.undoManager.checkpoint("Duplicate"),this.board.collectGarbage(),this.board.insertArtwork(this.board.extractArtworkWithSelectedElements(),"original"),this.board.transformHud.blink();}},{key:"Pz",value:function(){var _Pz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee275(){var t,_e1956,_i1642,_s953,_iterator1709,_step1709,_t2573,_e1957,_n726,_o558,_l413,_iterator1710,_step1710,_t2575,_iterator1711,_step1711,_t2576,_e1958,_i1644,_s954,_i1643,_l414,_t2574,_iterator1712,_step1712,_t2577;return regeneratorRuntime.wrap(function _callee275$(_context277){while(1){switch(_context277.prev=_context277.next){case 0:if(!(!1===this.colorGrabber.grabbing)){_context277.next=9;break;}t=this.board;_e1956=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops));t.selectedTextRange;_context277.next=6;return this.colorGrabber.grab();case 6:_i1642=_context277.sent;_s953=this.Qs.modKeys.shift?"stroke":"fill";if(null!==_i1642)if(_e1956.length>0){this.board.undoManager.checkpoint("Paint color");_iterator1709=_createForOfIteratorHelper(_e1956);try{for(_iterator1709.s();!(_step1709=_iterator1709.n()).done;){_t2573=_step1709.value;_t2573.style.stopColor=_i1642,Dp("stop-color",_t2573);}}catch(err){_iterator1709.e(err);}finally{_iterator1709.f();}}else{_e1957=this.Zx();if(_e1957.length>0){this.board.undoManager.checkpoint("Paint color");_n726=_e1957.filter(function(t){return"text"===t.localName;}),_o558=t.selectedTextRange,_l413=[];_iterator1710=_createForOfIteratorHelper(_n726);try{for(_iterator1710.s();!(_step1710=_iterator1710.n()).done;){_t2575=_step1710.value;mi(_t2575,_o558);}}catch(err){_iterator1710.e(err);}finally{_iterator1710.f();}_iterator1711=_createForOfIteratorHelper(_e1957);try{for(_iterator1711.s();!(_step1711=_iterator1711.n()).done;){_t2576=_step1711.value;if("text"===_t2576.localName&&_t2576.querySelector("tspan")){_e1958=_t2576.querySelectorAll("tspan"),_i1644=fi(_o558,_t2576),_s954=_i1644.length>0&&!_o558.collapsed?_i1644:_e1958;_l413.push.apply(_l413,_toConsumableArray(_s954));}else _l413.push(_t2576);}}catch(err){_iterator1711.e(err);}finally{_iterator1711.f();}for(_i1643=0,_l414=_l413;_i1643<_l414.length;_i1643++){_t2574=_l414[_i1643];_t2574.style[_s953]=_i1642,Dp(_s953,_t2574);}_iterator1712=_createForOfIteratorHelper(_n726);try{for(_iterator1712.s();!(_step1712=_iterator1712.n()).done;){_t2577=_step1712.value;gi(_t2577,_o558);}}catch(err){_iterator1712.e(err);}finally{_iterator1712.f();}}}case 9:case"end":return _context277.stop();}}},_callee275,this);}));function Pz(){return _Pz.apply(this,arguments);}return Pz;}()},{key:"Mz",value:function Mz(){return this.Zx().length>0;}},{key:"Az",value:function Az(){var _this1120=this;return new Promise(/*#__PURE__*/function(){var _ref230=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee276(t){var _t2578,_e1959,_i1645,_iterator1713,_step1713,_s955,_n727,_n728,_n729,_n730,_n731,_n732,_e1960,_e1961,_e1962;return regeneratorRuntime.wrap(function _callee276$(_context278){while(1){switch(_context278.prev=_context278.next){case 0:if(!_this1120.Tz()){_context278.next=82;break;}_t2578=[],_e1959=_this1120.board.geometryPrecision,_i1645=ss(function(){return _this1120.board.undoManager.checkpoint("Convert to path");});_iterator1713=_createForOfIteratorHelper(_this1120.board.selectedElements);_context278.prev=3;_iterator1713.s();case 5:if((_step1713=_iterator1713.n()).done){_context278.next=73;break;}_s955=_step1713.value;if(!("rect"===_s955.localName)){_context278.next=12;break;}_n727=Ch(_s955,_e1959);_i1645(),_s955.replaceWith(_n727),_t2578.push(_n727);_context278.next=71;break;case 12:if(!("circle"===_s955.localName)){_context278.next=17;break;}_n728=Mh(_s955,_e1959);_i1645(),_s955.replaceWith(_n728),_t2578.push(_n728);_context278.next=71;break;case 17:if(!("ellipse"===_s955.localName)){_context278.next=22;break;}_n729=Ph(_s955,_e1959);_i1645(),_s955.replaceWith(_n729),_t2578.push(_n729);_context278.next=71;break;case 22:if(!("line"===_s955.localName)){_context278.next=27;break;}_n730=Dh(_s955,_e1959);_i1645(),_s955.replaceWith(_n730),_t2578.push(_n730);_context278.next=71;break;case 27:if(!("polyline"===_s955.localName)){_context278.next=32;break;}_n731=zh(_s955,_e1959);_i1645(),_s955.replaceWith(_n731),_t2578.push(_n731);_context278.next=71;break;case 32:if(!("polygon"===_s955.localName)){_context278.next=37;break;}_n732=Oh(_s955,_e1959);_i1645(),_s955.replaceWith(_n732),_t2578.push(_n732);_context278.next=71;break;case 37:if(!("path"===_s955.localName)){_context278.next=41;break;}_s955.hasAttribute("data-bx-shape")&&(_i1645(),_s955.removeAttribute("data-bx-shape")),_t2578.push(_s955);_context278.next=71;break;case 41:if(!("text"===_s955.localName)){_context278.next=70;break;}_context278.next=44;return _this1120.board.defsFontsManager.canReplaceTextWithPaths(_s955);case 44:_e1960=_context278.sent;if(!_e1960){_context278.next=53;break;}_i1645();_context278.next=49;return _this1120.board.defsFontsManager.replaceTextWithPaths(_s955,_this1120.board.geometryPrecision,_this1120.board.transformPrecision);case 49:_e1961=_context278.sent;_t2578=[].concat(_toConsumableArray(_t2578),_toConsumableArray(_e1961));_context278.next=68;break;case 53:_context278.next=55;return Qx.canReplaceTextWithPaths(_s955);case 55:_e1960=_context278.sent;if(!_e1960){_context278.next=64;break;}_i1645();_context278.next=60;return Qx.replaceTextWithPaths(_s955,_this1120.board.geometryPrecision,_this1120.board.transformPrecision);case 60:_e1962=_context278.sent;_t2578=[].concat(_toConsumableArray(_t2578),_toConsumableArray(_e1962));_context278.next=68;break;case 64:_context278.next=66;return ns(200);case 66:_this1120.Qs.openMessageDialog({message:"Can't convert selected text to path",detail:"The font used by this text was not found in the defs or on the local machine.",buttons:["Close"]});_t2578.push(_s955);case 68:_context278.next=71;break;case 70:_t2578.push(_s955);case 71:_context278.next=5;break;case 73:_context278.next=78;break;case 75:_context278.prev=75;_context278.t0=_context278["catch"](3);_iterator1713.e(_context278.t0);case 78:_context278.prev=78;_iterator1713.f();return _context278.finish(78);case 81:_this1120.board.selectedTextRange=null,_this1120.board.selectedElements=_t2578;case 82:t();case 83:case"end":return _context278.stop();}}},_callee276,null,[[3,75,78,81]]);}));return function(_x274){return _ref230.apply(this,arguments);};}());}},{key:"Tz",value:function Tz(){var t=!1;var _iterator1714=_createForOfIteratorHelper(this.board.selectedElements),_step1714;try{for(_iterator1714.s();!(_step1714=_iterator1714.n()).done;){var _e1963=_step1714.value;if("rect"===_e1963.localName||"circle"===_e1963.localName||"ellipse"===_e1963.localName||"line"===_e1963.localName||"polyline"===_e1963.localName||"polygon"===_e1963.localName||"text"===_e1963.localName)t=!0;else if("path"===_e1963.localName){if(!_e1963.hasAttribute("data-bx-shape")){t=!1;break;}t=!0;}}}catch(err){_iterator1714.e(err);}finally{_iterator1714.f();}return t;}},{key:"Iz",value:function Iz(){if(!1!==this.$z()){this.board.undoManager.checkpoint("Stroke to path");var _iterator1715=_createForOfIteratorHelper(this.board.selectedElements),_step1715;try{for(_iterator1715.s();!(_step1715=_iterator1715.n()).done;){var t=_step1715.value;if(g.includes(t.localName)){var _e1964=parseFloat(getComputedStyle(t).strokeWidth);if(_e1964>0){var _i1646=t.getPathData(),_s956=this.board.geometryPrecision,_n733=gt(_i1646,_e1964,_s956),_o559=getComputedStyle(t).stroke,_l415=Ii("svg:path");_l415.setPathData(_n733),t.after(_l415),_l415.style.setProperty("fill",_o559),_l415.style.setProperty("stroke","none"),Dp("fill",_l415),Dp("stroke",_l415),t.hasAttribute("transform")&&_l415.setAttribute("transform",t.getAttribute("transform")),t.style.setProperty("stroke","none"),Dp("stroke",t);}}}}catch(err){_iterator1715.e(err);}finally{_iterator1715.f();}}}},{key:"$z",value:function $z(){var _iterator1716=_createForOfIteratorHelper(this.board.selectedElements),_step1716;try{for(_iterator1716.s();!(_step1716=_iterator1716.n()).done;){var t=_step1716.value;if(g.includes(t.localName)){if(parseFloat(getComputedStyle(t).strokeWidth)>0)return!0;}}}catch(err){_iterator1716.e(err);}finally{_iterator1716.f();}return!1;}},{key:"Vz",value:function Vz(){if(!1!==this.Nz()){this.board.undoManager.checkpoint("Open path");var _iterator1717=_createForOfIteratorHelper(this.board.selectedElements),_step1717;try{for(_iterator1717.s();!(_step1717=_iterator1717.n()).done;){var t=_step1717.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ut(t);}}catch(err){_iterator1717.e(err);}finally{_iterator1717.f();}}}},{key:"Nz",value:function Nz(){var _iterator1718=_createForOfIteratorHelper(this.board.selectedElements),_step1718;try{for(_iterator1718.s();!(_step1718=_iterator1718.n()).done;){var t=_step1718.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&bt(t))return!0;}}catch(err){_iterator1718.e(err);}finally{_iterator1718.f();}return!1;}},{key:"Wz",value:function Wz(){if(!1!==this.jz()){this.board.undoManager.checkpoint("Close path");var _iterator1719=_createForOfIteratorHelper(this.board.selectedElements),_step1719;try{for(_iterator1719.s();!(_step1719=_iterator1719.n()).done;){var t=_step1719.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&xt(t);}}catch(err){_iterator1719.e(err);}finally{_iterator1719.f();}}}},{key:"jz",value:function jz(){var _iterator1720=_createForOfIteratorHelper(this.board.selectedElements),_step1720;try{for(_iterator1720.s();!(_step1720=_iterator1720.n()).done;){var t=_step1720.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&mt(t))return!0;}}catch(err){_iterator1720.e(err);}finally{_iterator1720.f();}return!1;}},{key:"qz",value:function qz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!1!==this.Yz()){this.board.undoManager.checkpoint("Inset path");var _iterator1721=_createForOfIteratorHelper(this.board.selectedElements),_step1721;try{for(_iterator1721.s();!(_step1721=_iterator1721.n()).done;){var _e1965=_step1721.value;if("path"===_e1965.localName&&!1===_e1965.hasAttribute("data-bx-shape")){var _i1647=_e1965.getPathData(),_s957=ft(_i1647,t,1,this.board.geometryPrecision);_e1965.setPathData(_s957);}}}catch(err){_iterator1721.e(err);}finally{_iterator1721.f();}}}},{key:"Yz",value:function Yz(){var _iterator1722=_createForOfIteratorHelper(this.board.selectedElements),_step1722;try{for(_iterator1722.s();!(_step1722=_iterator1722.n()).done;){var t=_step1722.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1722.e(err);}finally{_iterator1722.f();}return!1;}},{key:"Zz",value:function Zz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.5;if(!1!==this.Xz()){this.board.undoManager.checkpoint("Simplify path");var _iterator1723=_createForOfIteratorHelper(this.board.selectedElements),_step1723;try{for(_iterator1723.s();!(_step1723=_iterator1723.n()).done;){var _e1966=_step1723.value;if("path"===_e1966.localName&&!1===_e1966.hasAttribute("data-bx-shape")){var _i1648=_e1966.getPathData(),_s958=wt(_i1648,t,this.board.geometryPrecision);_e1966.setPathData(_s958);}}}catch(err){_iterator1723.e(err);}finally{_iterator1723.f();}}}},{key:"Xz",value:function Xz(){var _iterator1724=_createForOfIteratorHelper(this.board.selectedElements),_step1724;try{for(_iterator1724.s();!(_step1724=_iterator1724.n()).done;){var t=_step1724.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1724.e(err);}finally{_iterator1724.f();}return!1;}},{key:"Qz",value:function Qz(){if(!1!==this.Kz()){this.board.undoManager.checkpoint("Complexify path");var _iterator1725=_createForOfIteratorHelper(this.board.selectedElements),_step1725;try{for(_iterator1725.s();!(_step1725=_iterator1725.n()).done;){var t=_step1725.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1967=t.getPathData(),_i1649=vt(_e1967,this.board.geometryPrecision);t.setPathData(_i1649);}}}catch(err){_iterator1725.e(err);}finally{_iterator1725.f();}}}},{key:"Kz",value:function Kz(){var _iterator1726=_createForOfIteratorHelper(this.board.selectedElements),_step1726;try{for(_iterator1726.s();!(_step1726=_iterator1726.n()).done;){var t=_step1726.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1726.e(err);}finally{_iterator1726.f();}return!1;}},{key:"tO",value:function tO(){var _this1121=this;if(!1===this.Jz())return;this.board.undoManager.checkpoint("Join nodes");var t=null,e=null,i=null,s=[],n=[],o=[];{var _l416=[];if(this.board.pathHud.selectedNodes[0].path===this.board.pathHud.selectedNodes[1].path){t=this.board.pathHud.selectedNodes[0].path,_l416=ht(t.getPathData({normalize:!0}));var _iterator1727=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1727;try{for(_iterator1727.s();!(_step1727=_iterator1727.n()).done;){var _t2579=_step1727.value;_l416[_t2579.index].selected=!0;}}catch(err){_iterator1727.e(err);}finally{_iterator1727.f();}}else{var _this$board$pathHud$s=this.board.pathHud.selectedNodes[0],_e1968=_this$board$pathHud$s.path,_i1650=_this$board$pathHud$s.index,_this$board$pathHud$s2=this.board.pathHud.selectedNodes[1],_s959=_this$board$pathHud$s2.path,_n734=_this$board$pathHud$s2.index,_o560=Yt(_s959,_e1968),_a308=ht(_e1968.getPathData({normalize:!0})),_h234=ht(_s959.getPathData({normalize:!0}));_h234=le(_h234,_o560,this.board.geometryPrecision);for(var _t2580=0;_t2580<_a308.length;_t2580+=1){_a308[_t2580].selected=_t2580===_i1650;}for(var _t2581=0;_t2581<_h234.length;_t2581+=1){_h234[_t2581].selected=_t2581===_n734;}t=_e1968,_l416=[].concat(_toConsumableArray(_a308),_toConsumableArray(_h234)),_s959.remove();}var _iterator1728=_createForOfIteratorHelper(dt(_l416)),_step1728;try{for(_iterator1728.s();!(_step1728=_iterator1728.n()).done;){var _t2582=_step1728.value;var _l417=_t2582.filter(function(t){return t.selected;});2===_l417.length?(e=_t2582,n=_l417):1===_l417.length?null===e?(e=_t2582,n=_l417):(i=_t2582,o=_l417):0===_l417.length&&s.push.apply(s,_toConsumableArray(_t2582));}}catch(err){_iterator1728.e(err);}finally{_iterator1728.f();}}if(2===n.length){var _i1651=e[0],_n735=e[1],_o561=e[e.length-1],_l418=new DOMPoint(_i1651.values[0],_i1651.values[1]),_a309="C"===_o561.type?new DOMPoint(_o561.values[4],_o561.values[5]):new DOMPoint(_o561.values[0],_o561.values[1]),_h235=Ae(_l418,_a309);{var _t2583=new J(_h235.x-_i1651.values[0],_h235.y-_i1651.values[1]);_i1651.values[0]+=_t2583.x,_i1651.values[1]+=_t2583.y,"C"===_n735.type&&e.length>2&&(_n735.values[0]+=_t2583.x,_n735.values[1]+=_t2583.y);}if("C"===_o561.type){var _t2584=new J(_h235.x-_o561.values[4],_h235.y-_o561.values[5]);_o561.values[4]+=_t2584.x,_o561.values[5]+=_t2584.y,e.length>2&&(_o561.values[2]+=_t2584.x,_o561.values[3]+=_t2584.y);}else if("L"===_o561.type){var _t2585=new J(_h235.x-_o561.values[0],_h235.y-_o561.values[1]);_o561.values[0]+=_t2585.x,_o561.values[1]+=_t2585.y;}var _r160=[].concat(_toConsumableArray(e),[{type:"Z",values:[]}],s);_r160.forEach(function(t){return t.values=t.values.map(function(t){return tt(t,_this1121.board.geometryPrecision);});}),t.setPathData(_r160),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[e.length-1]){o[0]===i[i.length-1]&&(i=pt(i));var _n736=e[e.length-1],_l419=i[0];if("C"===_n736.type){var _t2586=new DOMPoint(_n736.values[4],_n736.values[5]),_e1969=new DOMPoint(_l419.values[0],_l419.values[1]),_i1652=Ae(_t2586,_e1969);_n736.values[4]=_i1652.x,_n736.values[5]=_i1652.y;}else{var _t2587=new DOMPoint(_n736.values[0],_n736.values[1]),_e1970=new DOMPoint(_l419.values[0],_l419.values[1]),_i1653=Ae(_t2587,_e1970);_n736.values[0]=_i1653.x,_n736.values[1]=_i1653.y;}i.shift();var _a310=[].concat(_toConsumableArray(e),_toConsumableArray(i),s);_a310.forEach(function(t){return t.values=t.values.map(function(t){return tt(t,_this1121.board.geometryPrecision);});}),t.setPathData(_a310),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[0]){o[0]===i[0]&&(i=pt(i));var _n737=e[0],_l420=i[i.length-1];if("C"===_l420.type){var _t2588=new DOMPoint(_n737.values[0],_n737.values[1]),_e1971=new DOMPoint(_l420.values[4],_l420.values[5]),_i1654=Ae(_t2588,_e1971);_l420.values[4]=_i1654.x,_l420.values[5]=_i1654.y;}else{var _t2589=new DOMPoint(_n737.values[0],_n737.values[1]),_e1972=new DOMPoint(_l420.values[0],_l420.values[1]),_i1655=Ae(_t2589,_e1972);_l420.values[0]=_i1655.x,_l420.values[1]=_i1655.y;}e.shift();var _a311=[].concat(_toConsumableArray(i),_toConsumableArray(e),s);_a311.forEach(function(t){return t.values=t.values.map(function(t){return tt(t,_this1121.board.geometryPrecision);});}),t.setPathData(_a311),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:i.length-1}];}}},{key:"Jz",value:function Jz(){if(2!==this.board.pathHud.selectedNodes.length)return!1;var _iterator1729=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1729;try{for(_iterator1729.s();!(_step1729=_iterator1729.n()).done;){var t=_step1729.value;var _e1973=t.path,_i1656=ht(_e1973.getPathData({normalize:!0}));for(var _e1974=t.index+1;_e1974<_i1656.length;_e1974+=1){if("Z"===_i1656[_e1974].type)return!1;if("M"===_i1656[_e1974].type)break;}{var _e1975=!!_i1656[t.index]&&"M"===_i1656[t.index].type,_s960=!_i1656[t.index+1]||"M"===_i1656[t.index+1].type;if(!1===_e1975&&!1===_s960)return!1;}}}catch(err){_iterator1729.e(err);}finally{_iterator1729.f();}return!0;}},{key:"nO",value:function nO(){var _this1122=this;if(!1===this.sO())return;this.board.undoManager.checkpoint("Delete node");var t=ni(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1730=_createForOfIteratorHelper(t),_step1730;try{var _loop61=function _loop61(){var e=_step1730.value;var t=ht(e.getPathData({normalize:!0}));Dt(t);var i=_this1122.board.pathHud.selectedNodes.filter(function(t){return t.path===e;});i=i.sort(function(t,e){return e.index-t.index;});var s=i.filter(function(e){return"C"===t[e.index].type;}),n=i.filter(function(e){return"M"===t[e.index].type;});if(0!==i.length){var _iterator1731=_createForOfIteratorHelper(s),_step1731;try{var _loop62=function _loop62(){var e=_step1731.value;var i=t[e.index],s=t[e.index+1]||null,n=t[e.index-1]||null;if(null===s)t=t.filter(function(t){return t!==i;});else if("M"===s.type)t=t.filter(function(t){return t!==i;});else if("Z"===s.type){var _e1976=St(i,t),_s961=_e1976[0],_o562=_e1976[1];t=t.filter(function(t){return t!==i;}),"M"===n.type?(_s961.values[0]=n.values[0],_s961.values[1]=n.values[1]):"C"===n.type&&(_s961.values[0]=n.values[4],_s961.values[1]=n.values[5]),"C"===_o562.type&&(_o562.values[0]=i.values[0],_o562.values[1]=i.values[1]);}else"C"===s.type&&(t=t.filter(function(t){return t!==i;}),s.values[0]=i.values[0],s.values[1]=i.values[1]);};for(_iterator1731.s();!(_step1731=_iterator1731.n()).done;){_loop62();}}catch(err){_iterator1731.e(err);}finally{_iterator1731.f();}var _iterator1732=_createForOfIteratorHelper(n),_step1732;try{for(_iterator1732.s();!(_step1732=_iterator1732.n()).done;){var _e1977=_step1732.value;var _i1657=t[_e1977.index],_s962=St(_i1657,t);if(_s962.length>1){(function(){var e=_s962[0],i=_s962[1];t=t.filter(function(t){return t!==i;}),"C"===i.type&&(e.values[0]=i.values[4],e.values[1]=i.values[5]);})();}}}catch(err){_iterator1732.e(err);}finally{_iterator1732.f();}var _iterator1733=_createForOfIteratorHelper(dt(t)),_step1733;try{for(_iterator1733.s();!(_step1733=_iterator1733.n()).done;){var _e1978=_step1733.value;var _i1658=_e1978.filter(function(t){return"C"===t.type;}),_s963="Z"===_e1978[_e1978.length-1].type?2:1;if(_i1658.length<_s963){var _iterator1735=_createForOfIteratorHelper(_e1978),_step1735;try{var _loop63=function _loop63(){var i=_step1735.value;t=t.filter(function(t){return t!==i;});};for(_iterator1735.s();!(_step1735=_iterator1735.n()).done;){_loop63();}}catch(err){_iterator1735.e(err);}finally{_iterator1735.f();}}}}catch(err){_iterator1733.e(err);}finally{_iterator1733.f();}zt(t);var _iterator1734=_createForOfIteratorHelper(t),_step1734;try{for(_iterator1734.s();!(_step1734=_iterator1734.n()).done;){var _e1979=_step1734.value;_e1979.values=_e1979.values.map(function(t){return tt(t,_this1122.board.geometryPrecision);});}}catch(err){_iterator1734.e(err);}finally{_iterator1734.f();}e.setPathData(t),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator1730.s();!(_step1730=_iterator1730.n()).done;){_loop61();}}catch(err){_iterator1730.e(err);}finally{_iterator1730.f();}this.board.pathHud.selectedNodes=[];}},{key:"sO",value:function sO(){return this.board.pathHud.selectedNodes.length>0;}},{key:"iO",value:function iO(){var _this1123=this;if(!1===this.eO())return;this.board.undoManager.checkpoint("Split node");var t=ni(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1736=_createForOfIteratorHelper(t),_step1736;try{for(_iterator1736.s();!(_step1736=_iterator1736.n()).done;){var _i1659=_step1736.value;var _t2590=ht(_i1659.getPathData({normalize:!0})),_s964=[];var _iterator1737=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1737;try{for(_iterator1737.s();!(_step1737=_iterator1737.n()).done;){var _e1980=_step1737.value;_e1980.path===_i1659&&(_t2590[_e1980.index].select=!0,_t2590[_e1980.index].split=!0);}}catch(err){_iterator1737.e(err);}finally{_iterator1737.f();}var _iterator1738=_createForOfIteratorHelper(dt(_t2590)),_step1738;try{for(_iterator1738.s();!(_step1738=_iterator1738.n()).done;){var _e1981=_step1738.value;if(void 0===_e1981.find(function(t){return t.split;}))_s964.push.apply(_s964,_toConsumableArray(_e1981));else{var _t2592=_e1981[0],_i1660=[];if("Z"!==_e1981[_e1981.length-1].type)for(var _t2593=0;_t2593<_e1981.length;_t2593+=1){var _s965=_e1981[_t2593],_n739=_e1981[_t2593+1]||null;_i1660.push(_s965),!0===_s965.split&&_n739&&("C"===_s965.type?_i1660.push({type:"M",values:[_s965.values[4],_s965.values[5]]}):"L"===_s965.type&&_i1660.push({type:"M",values:[_s965.values[0],_s965.values[1]]}));}else{{var _i1661=[];for(var _s966=0;_s966<_e1981.length;_s966+=1){var _n740=_e1981[_s966];if(_n740.split){"L"===_n740.type?_i1661.push({type:"M",values:[_n740.values[0],_n740.values[1]],select:!0}):"C"===_n740.type&&_i1661.push({type:"M",values:[_n740.values[4],_n740.values[5]],select:!0});for(var _n741=_s966+1;_n741<_e1981.length;_n741+=1){var _s967=_e1981[_n741];"Z"===_s967.type?_i1661.push({type:"L",values:[_t2592.values[0],_t2592.values[1]]}):_i1661.push(_s967);}for(var _t2594=0;_t2594<=_s966;_t2594+=1){var _s968=_e1981[_t2594];"M"!==_s968.type&&_i1661.push(_s968);}break;}}_e1981=_i1661;}for(var _t2595=0;_t2595<_e1981.length;_t2595+=1){var _s969=_e1981[_t2595],_n742=_e1981[_t2595+1]||null;!0===_s969.split?(_i1660.push(_s969),_n742?"C"===_s969.type?_i1660.push({type:"M",values:[_s969.values[4],_s969.values[5]]}):"L"===_s969.type&&_i1660.push({type:"M",values:[_s969.values[0],_s969.values[1]]}):_s969.select=!1):_i1660.push(_s969);}}_s964.push.apply(_s964,_i1660);}}}catch(err){_iterator1738.e(err);}finally{_iterator1738.f();}for(var _t2591=0;_t2591<_s964.length;_t2591+=1){var _n738=_s964[_t2591];_n738.values=_n738.values.map(function(t){return tt(t,_this1123.board.geometryPrecision);}),_n738.select&&e.push({path:_i1659,index:_t2591});}_i1659.setPathData(_s964);}}catch(err){_iterator1736.e(err);}finally{_iterator1736.f();}this.board.pathHud.selectedNodes=e;}},{key:"eO",value:function eO(){var t=ni(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1739=_createForOfIteratorHelper(t),_step1739;try{for(_iterator1739.s();!(_step1739=_iterator1739.n()).done;){var _e1982=_step1739.value;var _t2596=ht(_e1982.getPathData({normalize:!0}));var _iterator1740=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1740;try{for(_iterator1740.s();!(_step1740=_iterator1740.n()).done;){var _i1662=_step1740.value;if(_i1662.path===_e1982){var _e1983=_t2596[_i1662.index],_s970=_t2596[_i1662.index+1];if("M"!==_e1983.type&&_s970&&"M"!==_s970.type)return!0;}}}catch(err){_iterator1740.e(err);}finally{_iterator1740.f();}}}catch(err){_iterator1739.e(err);}finally{_iterator1739.f();}return!1;}},{key:"lO",value:function lO(){var _this1124=this;if(!1===this.oO())return;this.board.undoManager.checkpoint("Break node");var t=ni(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1741=_createForOfIteratorHelper(t),_step1741;try{for(_iterator1741.s();!(_step1741=_iterator1741.n()).done;){var _i1663=_step1741.value;var _t2597=ht(_i1663.getPathData({normalize:!0})),_s971=[];var _iterator1742=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1742;try{for(_iterator1742.s();!(_step1742=_iterator1742.n()).done;){var _e1984=_step1742.value;_e1984.path===_i1663&&(_t2597[_e1984.index].select=!0,_t2597[_e1984.index]["break"]=!0);}}catch(err){_iterator1742.e(err);}finally{_iterator1742.f();}var _iterator1743=_createForOfIteratorHelper(dt(_t2597)),_step1743;try{for(_iterator1743.s();!(_step1743=_iterator1743.n()).done;){var _e1985=_step1743.value;if(0===_e1985.filter(function(t){return t.select;}).length)_s971.push.apply(_s971,_toConsumableArray(_e1985));else{var _t2599=_e1985[0],_i1664=[];if("Z"!==_e1985[_e1985.length-1].type)for(var _t2600=0;_t2600<_e1985.length;_t2600+=1){var _s972=_e1985[_t2600],_n744=(_e1985[_t2600-1],_e1985[_t2600+1]||null),_o563=_e1985[_t2600+2]||null;_i1664.push(_s972),!0===_s972["break"]&&("M"===_s972.type?("C"===_n744.type?_i1664.push({type:"M",values:[_n744.values[4],_n744.values[5]]}):"L"===_n744.type&&_i1664.push({type:"M",values:[_n744.values[0],_n744.values[1]]}),_t2600+=1):"C"!==_s972.type&&"L"!==_s972.type||(_o563&&("C"===_n744.type?_i1664.push({type:"M",values:[_n744.values[4],_n744.values[5]],select:!0}):"L"===_n744.type&&_i1664.push({type:"M",values:[_n744.values[0],_n744.values[1]],select:!0})),_t2600+=1));}else for(var _s973=0;_s973<_e1985.length;_s973+=1){var _n745=_e1985[_s973];if(_n745["break"]){var _o564=_e1985[_s973+1];_e1985[_s973-1];if(_o564["break"]){"L"===_o564.type?_i1664.push({type:"M",values:[_o564.values[0],_o564.values[1]],select:!0}):"C"===_o564.type&&_i1664.push({type:"M",values:[_o564.values[4],_o564.values[5]],select:!0});for(var _n746=_s973+2;_n746<_e1985.length;_n746+=1){_e1985[_n746-1];var _s974=_e1985[_n746];if("Z"===_s974.type){var _e1986=_i1664[_i1664.length-1];"L"===_e1986.type?_e1986.values[0]===_t2599.values[0]&&_e1986.values[1]===_t2599.values[1]||_i1664.push({type:"L",values:[_t2599.values[0],_t2599.values[1]]}):"C"===_e1986.type&&(_e1986.values[4]===_t2599.values[0]&&_e1986.values[5]===_t2599.values[1]||_i1664.push({type:"L",values:[_t2599.values[0],_t2599.values[1]]}));}else _s974.select=!1,_i1664.push(_s974);}for(var _t2601=0;_t2601<=_s973;_t2601+=1){var _n747=_e1985[_t2601];_n747.select=_t2601===_s973,"M"!==_n747.type&&_i1664.push(_n747);}}else{"L"===_n745.type?_i1664.push({type:"M",values:[_n745.values[0],_n745.values[1]],select:!0}):"C"===_n745.type&&_i1664.push({type:"M",values:[_n745.values[4],_n745.values[5]],select:!0});for(var _t2602=_s973+1;_t2602<_e1985.length;_t2602+=1){var _n748=_e1985[_t2602];"Z"!==_n748.type&&(_n748.select=_s973===_e1985.length-2,_i1664.push(_n748));}_i1664[_i1664.length-1].select=!0;}break;}}_s971.push.apply(_s971,_i1664);}}}catch(err){_iterator1743.e(err);}finally{_iterator1743.f();}for(var _t2598=0;_t2598<_s971.length;_t2598+=1){var _n743=_s971[_t2598];_n743.values=_n743.values.map(function(t){return tt(t,_this1124.board.geometryPrecision);}),_n743.select&&e.push({path:_i1663,index:_t2598});}_i1663.setPathData(_s971);}}catch(err){_iterator1741.e(err);}finally{_iterator1741.f();}this.board.pathHud.selectedNodes=e;}},{key:"oO",value:function oO(){var t=ni(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=!1;var _iterator1744=_createForOfIteratorHelper(t),_step1744;try{for(_iterator1744.s();!(_step1744=_iterator1744.n()).done;){var _i1665=_step1744.value;var _t2603=ht(_i1665.getPathData({normalize:!0}));var _iterator1745=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1745;try{for(_iterator1745.s();!(_step1745=_iterator1745.n()).done;){var _e1987=_step1745.value;_e1987.path===_i1665&&(_t2603[_e1987.index].selected=!0);}}catch(err){_iterator1745.e(err);}finally{_iterator1745.f();}var _iterator1746=_createForOfIteratorHelper(dt(_t2603)),_step1746;try{for(_iterator1746.s();!(_step1746=_iterator1746.n()).done;){var _i1666=_step1746.value;var _t2604=_i1666.filter(function(t){return t.selected;});if(2===_t2604.length){var _t2605=null,_s975=null,_n749="Z"===_i1666[_i1666.length-1].type;for(var _e1988=0;_e1988<_i1666.length;_e1988+=1){_i1666[_e1988].selected&&(null===_t2605?_t2605=_e1988:_s975=_e1988);}if(_t2605===_s975-1){e=!0;continue;}if(_n749&&1===_t2605&&_s975===_i1666.length-2){e=!0;continue;}return!1;}if(0!==_t2604.length)return!1;}}catch(err){_iterator1746.e(err);}finally{_iterator1746.f();}}}catch(err){_iterator1744.e(err);}finally{_iterator1744.f();}return e;}},{key:"Ez",value:function Ez(){if(!1!==this.Oz()){this.board.undoManager.checkpoint("Reverse");var _iterator1747=_createForOfIteratorHelper(this.board.selectedElements),_step1747;try{for(_iterator1747.s();!(_step1747=_iterator1747.n()).done;){var t=_step1747.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ct(t);}}catch(err){_iterator1747.e(err);}finally{_iterator1747.f();}}}},{key:"Oz",value:function Oz(){var _iterator1748=_createForOfIteratorHelper(this.board.selectedElements),_step1748;try{for(_iterator1748.s();!(_step1748=_iterator1748.n()).done;){var t=_step1748.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1748.e(err);}finally{_iterator1748.f();}return!1;}},{key:"zz",value:function zz(){if(!1!==this.Dz()){this.board.undoManager.checkpoint("Reorient");var _iterator1749=_createForOfIteratorHelper(this.board.selectedElements),_step1749;try{for(_iterator1749.s();!(_step1749=_iterator1749.n()).done;){var t=_step1749.value;"path"===t.localName?t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape")&&ka(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}):["line","polygon","polyline","circle"].includes(t.localName)&&ka(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1749.e(err);}finally{_iterator1749.f();}}}},{key:"Dz",value:function Dz(){var _iterator1750=_createForOfIteratorHelper(this.board.selectedElements),_step1750;try{for(_iterator1750.s();!(_step1750=_iterator1750.n()).done;){var t=_step1750.value;if("path"===t.localName){if(t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape"))return!0;}else if(["line","polygon","polyline","circle"].includes(t.localName))return t.hasAttribute("transform");}}catch(err){_iterator1750.e(err);}finally{_iterator1750.f();}return!1;}},{key:"Gz",value:function Gz(){if(!1===this.Bz())return;this.board.undoManager.checkpoint("Join paths");var _this$board$selectedE=_toArray(this.board.selectedElements),t=_this$board$selectedE[0],e=_this$board$selectedE.slice(1),i=[];var _iterator1751=_createForOfIteratorHelper(this.board.selectedElements),_step1751;try{for(_iterator1751.s();!(_step1751=_iterator1751.n()).done;){var _e1989=_step1751.value;var _s976=void 0;"rect"===_e1989.localName?_s976=Ch(_e1989,this.board.geometryPrecision):"circle"===_e1989.localName?_s976=Mh(_e1989):"ellipse"===_e1989.localName?_s976=Ph(_e1989):"line"===_e1989.localName?_s976=Dh(_e1989):"polyline"===_e1989.localName?_s976=zh(_e1989):"polygon"===_e1989.localName?_s976=Oh(_e1989):"path"===_e1989.localName&&(_s976=_e1989.cloneNode(),_s976.removeAttribute("data-bx-shape"));var _n750=Yt(_e1989,t.parentElement).toString();_s976.setAttribute("transform",_n750),_s976.setPathData(_s976.getPathData({normalize:!0})),ka(_s976,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}),i.push(_s976);}}catch(err){_iterator1751.e(err);}finally{_iterator1751.f();}var s=i[0],n=i.slice(1),o=s.getPathData();var _iterator1752=_createForOfIteratorHelper(n),_step1752;try{for(_iterator1752.s();!(_step1752=_iterator1752.n()).done;){var _t2606=_step1752.value;var _e1990=_t2606.getPathData();o=[].concat(_toConsumableArray(o),_toConsumableArray(_e1990));}}catch(err){_iterator1752.e(err);}finally{_iterator1752.f();}s.setPathData(o),t.replaceWith(s);var _iterator1753=_createForOfIteratorHelper(e),_step1753;try{for(_iterator1753.s();!(_step1753=_iterator1753.n()).done;){var _t2607=_step1753.value;_t2607.remove();}}catch(err){_iterator1753.e(err);}finally{_iterator1753.f();}this.board.selectedElements=[s];}},{key:"Bz",value:function Bz(){if(this.board.selectedElements.length<2)return!1;var t=["rect","circle","ellipse","line","polygon","polyline","path"];var _iterator1754=_createForOfIteratorHelper(this.board.selectedElements),_step1754;try{for(_iterator1754.s();!(_step1754=_iterator1754.n()).done;){var _e1991=_step1754.value;if(!1===t.includes(_e1991.localName))return!1;}}catch(err){_iterator1754.e(err);}finally{_iterator1754.f();}return!0;}},{key:"Fz",value:function Fz(){if(!1===this.Uz())return;this.board.undoManager.checkpoint("Break Apart");var _this$board$selectedE2=_toArray(this.board.selectedElements),t=_this$board$selectedE2[0],e=_this$board$selectedE2.slice(1),i=[];var _iterator1755=_createForOfIteratorHelper(this.board.selectedElements),_step1755;try{for(_iterator1755.s();!(_step1755=_iterator1755.n()).done;){var _t2608=_step1755.value;if("path"===_t2608.localName){var _e1992=ht(_t2608.getPathData({normalize:!0})),_s977=dt(_e1992);if(_s977.length>1){var _s978=_toArray(_s977),_e1993=_s978[0],_n751=_s978.slice(1),_o565=_t2608;_o565.setPathData(_e1993),i.push(_o565);var _iterator1756=_createForOfIteratorHelper(_n751),_step1756;try{for(_iterator1756.s();!(_step1756=_iterator1756.n()).done;){var _t2609=_step1756.value;var _e1994=_o565.cloneNode();_e1994.setPathData(_t2609),_o565.after(_e1994),i.push(_e1994);for(var _i1667=0,_arr91=["fill","stroke"];_i1667<_arr91.length;_i1667++){var _t2610=_arr91[_i1667];var _i1668=el(_e1994,_t2610);if(_i1668)if("linearGradient"===_i1668.localName||"radialGradient"===_i1668.localName){var _s979=_i1668,_n752=Po(_s979);if(_n752){var _i1669=_s979.cloneNode();_i1669.id=this.board.generateUniqueID("gradient"),_i1669.setAttribute("href","#"+_n752.id),_s979.after(_i1669),_e1994.style.setProperty(_t2610,"url(\"#".concat(_i1669.id,"\")"));}else{var _i1670=_s979.cloneNode(!0);_i1670.id=this.board.generateUniqueID("gradient"),_s979.after(_i1670),_e1994.style.setProperty(_t2610,"url(\"#".concat(_i1670.id,"\")"));}}else if("pattern"===_i1668.localName){var _s980=_i1668;if(_s980.hasAttribute("href")){var _i1671=Wo(_s980),_n753=_s980.cloneNode();_n753.id=this.board.generateUniqueID(_i1671.id),_s980.after(_n753),_e1994.style.setProperty(_t2610,"url(\"#".concat(_n753.id,"\")"));}else{var _i1672=Ii("svg:pattern");_i1672.id=this.board.generateUniqueID(_s980.id),_i1672.setAttribute("href","#"+_s980.id),_s980.after(_i1672),_e1994.style.setProperty(_t2610,"url(\"#".concat(_i1672.id,"\")"));}}}}}catch(err){_iterator1756.e(err);}finally{_iterator1756.f();}}else i.push(_t2608);}else i.push(_t2608);}}catch(err){_iterator1755.e(err);}finally{_iterator1755.f();}this.board.selectedElements=i;}},{key:"Uz",value:function Uz(){var _iterator1757=_createForOfIteratorHelper(this.board.selectedElements),_step1757;try{for(_iterator1757.s();!(_step1757=_iterator1757.n()).done;){var t=_step1757.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1995=ht(t.getPathData({normalize:!0}));if(dt(_e1995).length>1)return!0;}}}catch(err){_iterator1757.e(err);}finally{_iterator1757.f();}return!1;}},{key:"Rz",value:function(){var _Rz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee277(t){var _this$board,e,i,_this$board$outermost5,_i1673,_s981,_n754,_o566,_l421,_a312,_h236,_e1996,_n755,_l422,_t2611,_l423,_r161,_d128,_c95,_p86,_s982,_n756,_this$board$outermost6,_s983,_n757,_o567,_iterator1758,_step1758,_t2612,_n758,_l425,_l424,_a313,_iterator1759,_step1759,_i1674,_s984,_n759,_o568,_iterator1760,_step1760,_t2613;return regeneratorRuntime.wrap(function _callee277$(_context279){while(1){switch(_context279.prev=_context279.next){case 0:if(!(!1===this.Lz(t))){_context279.next=2;break;}return _context279.abrupt("return");case 2:this.board.undoManager.checkpoint(hi(t));_this$board=this.board,e=_this$board.geometryPrecision,i=_this$board.transformPrecision;if(!("image"===this.board.outermostSelectedElements[0].localName)){_context279.next=29;break;}_this$board$outermost5=_slicedToArray(this.board.outermostSelectedElements,2),_i1673=_this$board$outermost5[0],_s981=_this$board$outermost5[1],_n754=document.createElement("canvas"),_o566=_n754.getContext("2d"),_l421=new Image();_l421.setAttribute("src",_i1673.getAttribute("href"));_context279.next=9;return new Promise(function(t){return _l421.onload=t;});case 9:_a312=_l421.naturalWidth/_i1673.width.baseVal.value,_h236=_l421.naturalHeight/_i1673.height.baseVal.value;_n754.width=_l421.naturalWidth,_n754.height=_l421.naturalHeight,_o566.imageSmoothingEnabled=!1,_o566.drawImage(_l421,0,0,_l421.naturalWidth,_l421.naturalHeight);_e1996=new DOMMatrix();_e1996=_e1996.scale(_a312,_h236),_e1996=_e1996.translate(-_i1673.x.baseVal.value,-_i1673.y.baseVal.value),_e1996=_e1996.multiply(Yt(_s981,_i1673));_n755=_s981.getPathData({normalize:!0});_n755=le(_n755,_e1996),_n755.forEach(function(t){return t.values=t.values.map(function(t){return tt(t,0);});});_l422=new Path2D(ot(_n755));"subtract"===t?_o566.globalCompositeOperation="destination-out":"intersect"===t&&(_o566.globalCompositeOperation="destination-in"),_o566.imageSmoothingEnabled=!1,_o566.fillStyle="black",_o566.fill(_l422);_t2611=qh(_n754);_l423=_o566.getImageData(0,0,_n754.width,_n754.height);_r161=UPNG.encode([_l423.data.buffer],_l423.width,_l423.height,0);_d128=new Uint8Array(_r161);_c95=new Blob([_d128],{type:"image/png"});_context279.next=24;return Vh(_c95);case 24:_p86=_context279.sent;if(_i1673.setAttribute("href",_p86),_i1673.setAttribute("width",_n754.width/_a312),_i1673.setAttribute("height",_n754.height/_h236),_t2611){_s982=_i1673.x.baseVal.value+_t2611.x/_a312,_n756=_i1673.y.baseVal.value+_t2611.y/_h236;_i1673.setAttribute("x",tt(_s982,e)),_i1673.setAttribute("y",tt(_n756,e));}_s981.remove(),this.board.selectedElements=[_i1673],_i1673.parentElement===this.board.currentWorkspace?this.board.currentContainer=null:this.board.currentContainer=_i1673.parentElement;_context279.next=39;break;case 29:_this$board$outermost6=_toArray(this.board.outermostSelectedElements),_s983=_this$board$outermost6[0],_n757=_this$board$outermost6.slice(1),_o567=[];_iterator1758=_createForOfIteratorHelper(this.board.outermostSelectedElements);try{for(_iterator1758.s();!(_step1758=_iterator1758.n()).done;){_t2612=_step1758.value;_n758=void 0;"rect"===_t2612.localName?_n758=Ch(_t2612,this.board.geometryPrecision):"circle"===_t2612.localName?_n758=Mh(_t2612):"ellipse"===_t2612.localName?_n758=Ph(_t2612):"line"===_t2612.localName?_n758=Dh(_t2612):"polyline"===_t2612.localName?_n758=zh(_t2612):"polygon"===_t2612.localName?_n758=Oh(_t2612):"path"===_t2612.localName&&(_n758=_t2612.cloneNode(),_n758.hasAttribute("data-bx-shape")&&_n758.removeAttribute("data-bx-shape"));_l425=Yt(_t2612,_s983.parentElement).toString();_n758.setAttribute("transform",_l425),_n758.setPathData(_n758.getPathData({normalize:!0})),ka(_n758,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_o567.push(_n758);}}catch(err){_iterator1758.e(err);}finally{_iterator1758.f();}_l424=_o567[0],_a313=_o567.slice(1);_iterator1759=_createForOfIteratorHelper(_a313);try{for(_iterator1759.s();!(_step1759=_iterator1759.n()).done;){_i1674=_step1759.value;_s984=_l424.getPathData(),_n759=_i1674.getPathData(),_o568=[];"unite"===t?_o568=Qh(_s984,_n759,e):"subtract"===t?_o568=Jh(_s984,_n759,e):"intersect"===t?_o568=tr(_s984,_n759,e):"exclude"===t&&(_o568=er(_s984,_n759,e)),_l424.setPathData(_o568);}}catch(err){_iterator1759.e(err);}finally{_iterator1759.f();}_l424.hasAttribute("d")?(_s983.replaceWith(_l424),_l424.removeAttribute("data-bx-origin")):_s983.remove();_iterator1760=_createForOfIteratorHelper(_n757);try{for(_iterator1760.s();!(_step1760=_iterator1760.n()).done;){_t2613=_step1760.value;_t2613.remove();}}catch(err){_iterator1760.e(err);}finally{_iterator1760.f();}_l424.hasAttribute("d")?this.board.selectedElements=[_l424]:this.board.selectedElements=[];case 39:case"end":return _context279.stop();}}},_callee277,this);}));function Rz(_x275){return _Rz.apply(this,arguments);}return Rz;}()},{key:"Lz",value:function Lz(t){return this.cO(t)||this.pO(t);}},{key:"cO",value:function cO(t){if(this.board.outermostSelectedElements.length<2)return!1;var _iterator1761=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1761;try{for(_iterator1761.s();!(_step1761=_iterator1761.n()).done;){var _t2614=_step1761.value;if(!1===g.includes(_t2614.localName))return!1;}}catch(err){_iterator1761.e(err);}finally{_iterator1761.f();}return!0;}},{key:"pO",value:function pO(t){var _this$board$outermost7=_toArray(this.board.outermostSelectedElements),e=_this$board$outermost7[0],i=_this$board$outermost7.slice(1);return("subtract"===t||"intersect"===t)&&!(!e||"image"!==e.localName)&&1===i.length&&!1!==g.includes(i[0].localName);}},{key:"Zx",value:function Zx(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1762=_createForOfIteratorHelper(s),_step1762;try{for(_iterator1762.s();!(_step1762=_iterator1762.n()).done;){var _n760=_step1762.value;t.includes(_n760.localName)?e.push(_n760):"g"!==_n760.localName&&"a"!==_n760.localName||i(_n760.children);}}catch(err){_iterator1762.e(err);}finally{_iterator1762.f();}};return i(this.board.outermostSelectedElements),e;}}]);return ww;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ww,"_shadowTemplate",Qi(_templateObject556()));_defineProperty(ww,"_shadowStyleSheet",Ji(_templateObject557()));customElements.define("bx-editor",ww);var vw=/*#__PURE__*/function(_HTMLElement140){_inherits(vw,_HTMLElement140);var _super244=_createSuper(vw);_createClass(vw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function vw(){var _this1125;_classCallCheck(this,vw);_this1125=_super244.call(this),_this1125._shadowRoot=_this1125.attachShadow({mode:"closed"}),_this1125._shadowRoot.append(document.importNode(_this1125.constructor._shadowTemplate.content,!0)),_this1125._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,vw._shadowStyleSheet,_this1125.constructor._shadowStyleSheet];var _iterator1763=_createForOfIteratorHelper(_this1125._shadowRoot.querySelectorAll("[id]")),_step1763;try{for(_iterator1763.s();!(_step1763=_iterator1763.n()).done;){var t=_step1763.value;_this1125["#"+t.id]=t;}}catch(err){_iterator1763.e(err);}finally{_iterator1763.f();}_this1125.setAttribute("extends","bx-appsettings");return _this1125;}_createClass(vw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.en());}},{key:"tn",value:function tn(){}},{key:"en",value:function en(){}}]);return vw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vw,"observedAttributes",["enabled"]);_defineProperty(vw,"_shadowStyleSheet",Ji(_templateObject558()));var yw=/*#__PURE__*/function(_vw){_inherits(yw,_vw);var _super245=_createSuper(yw);function yw(){var _this1126;_classCallCheck(this,yw);_this1126=_super245.call(this),_this1126["#hardware-acceleration-checkbox"].addEventListener("toggle",function(){_this1126.Qs.hardwareAcceleration=_this1126["#hardware-acceleration-checkbox"].toggled;}),_this1126["#recent-files-select"].addEventListener("change",function(){var t=parseInt(_this1126["#recent-files-select"].value);_this1126.Qs.setConfig("bx-generalsettings:maxRecentFiles",t),_this1126.Qs.clearExcessiveRecentFiles&&_this1126.Qs.clearExcessiveRecentFiles(t);});return _this1126;}_createClass(yw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function(){var _qs10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee278(){var t,e,i;return regeneratorRuntime.wrap(function _callee278$(_context280){while(1){switch(_context280.prev=_context280.next){case 0:_context280.next=2;return this.Qs.hardwareAcceleration;case 2:t=_context280.sent;e=this.Qs.getConfig("bx-generalsettings:maxRecentFiles",5);i=this.Qs.matches("bx-webapp, bx-portalapp");this["#hardware-acceleration-section"].hidden=i,this["#hardware-acceleration-checkbox"].toggled=t,this["#recent-files-section"].hidden=!i,this["#recent-files-select"].value=e+"",this["#hr-1"].hidden=this["#hardware-acceleration-section"].hidden||this["#recent-files-section"].hidden;case 6:case"end":return _context280.stop();}}},_callee278,this);}));function qs(){return _qs10.apply(this,arguments);}return qs;}()}]);return yw;}(vw);_defineProperty(yw,"_shadowTemplate",Qi(_templateObject559()));_defineProperty(yw,"_shadowStyleSheet",Ji(_templateObject560()));customElements.define("bx-generalsettings",yw);var kw=/*#__PURE__*/function(_vw2){_inherits(kw,_vw2);var _super246=_createSuper(kw);function kw(){var _this1127;_classCallCheck(this,kw);_this1127=_super246.call(this),_this1127["#theme-select"].addEventListener("change",function(){return _this1127.uO();}),_this1127["#color-scheme-select"].addEventListener("change",function(){return _this1127.xO();}),_this1127["#accent-color-preset-select"].addEventListener("change",function(t){return _this1127.bO(t);}),_this1127["#accent-color-select"].addEventListener("changestart",function(t){return _this1127.mO(t);}),_this1127["#widgets-size-select"].addEventListener("change",function(){return _this1127.gO();}),_this1127["#show-install-button-checkbox"].addEventListener("toggle",function(){_this1127.Qs.setConfig("bx-uisettings:showInstallButton",_this1127["#show-install-button-checkbox"].toggled);}),_this1127["#show-cloud-button-checkbox"].addEventListener("toggle",function(){_this1127.Qs.setConfig("bx-uisettings:showCloudButton",_this1127["#show-cloud-button-checkbox"].toggled);}),_this1127["#show-dock-tooltips-checkbox"].addEventListener("toggle",function(){_this1127.Qs.setConfig("bx-uisettings:showDockTooltips",_this1127["#show-dock-tooltips-checkbox"].toggled);}),_this1127["#limit-scrollable-area-checkbox"].addEventListener("toggle",function(){_this1127.Qs.setConfig("bx-uisettings:limitScrollableArea",_this1127["#limit-scrollable-area-checkbox"].toggled);}),_this1127["#show-view-outline-above-objects-checkbox"].addEventListener("toggle",function(){_this1127.Qs.setConfig("bx-uisettings:showViewOutlineAboveObjects",_this1127["#show-view-outline-above-objects-checkbox"].toggled);});return _this1127;}_createClass(kw,[{key:"tn",value:function(){var _tn5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee279(){var _this1128=this;return regeneratorRuntime.wrap(function _callee279$(_context281){while(1){switch(_context281.prev=_context281.next){case 0:_context281.next=2;return Us.whenThemeReady;case 2:this.qs();this.fO=window.matchMedia("(prefers-color-scheme: dark)");this.Qs.addEventListener("userchange",this.zC=function(){return _this1128.qs();});this.Qs.addEventListener("installedchange",this.wO=function(){return _this1128.qs();});this.fO.addEventListener("change",this.vO=function(){return _this1128.qs();});Us.addEventListener("themechange",this.yO=function(){return _this1128.qs();});Us.addEventListener("accentcolorchange",this.kO=function(){return _this1128.qs();});case 9:case"end":return _context281.stop();}}},_callee279,this);}));function tn(){return _tn5.apply(this,arguments);}return tn;}()},{key:"en",value:function en(){this.Qs.removeEventListener("userchange",this.zC),this.Qs.removeEventListener("installedchange",this.wO),this.fO.removeEventListener("change",this.vO),Us.removeEventListener("themechange",this.yO),Us.removeEventListener("accentcolorchange",this.kO);}},{key:"uO",value:function uO(){this.Qs.setConfig("bx-uisettings:theme",this["#theme-select"].value);}},{key:"xO",value:function xO(){var t=this["#color-scheme-select"].value;"bx-macapp"===this.Qs.localName?this.Qs.setColorScheme(t):this.Qs.setConfig("bx-uisettings:colorScheme",t),this.qs();}},{key:"bO",value:function bO(){"custom"===this["#accent-color-preset-select"].value?(this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-select"].value),this["#accent-color-select"].click()):"auto"===this["#accent-color-preset-select"].value?this.Qs.setConfig("bx-uisettings:accentColor","auto"):this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-preset-select"].value);}},{key:"mO",value:function mO(){var _this1129=this;var t,_e1997;this["#accent-color-preset-select"].value="custom",this["#accent-color-select"].addEventListener("change",t=es(function(){_this1129.Qs.setConfig("bx-uisettings:accentColor",_this1129["#accent-color-select"].value);},150)),this["#accent-color-select"].addEventListener("changeend",_e1997=function e(){_this1129["#accent-color-select"].removeEventListener("change",t),_this1129["#accent-color-select"].removeEventListener("changeend",_e1997);});}},{key:"gO",value:function gO(){this.Qs.setConfig("bx-uisettings:widgetsSize",this["#widgets-size-select"].value);}},{key:"qs",value:function(){var _qs11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee280(){var _e1998,_i1675,_t2615,_e1999,_t2616,_t2617,_t2618,_e2000,_t2619,_i1676,_arr92,_e2001,_i1677,_e2002,_i1678,_e2003,_i1679,_s985,_i1680,_t2620,_e2004,_Yg5,_Yg6,_t2621,_t2622,_t2623,_e2005;return regeneratorRuntime.wrap(function _callee280$(_context282){while(1){switch(_context282.prev=_context282.next){case 0:if("bx-macapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-chromeapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1998=this.Qs.getConfig("bx-uisettings:theme","auto"),_i1675=null;"cupertino"===_e1998&&!1===t&&(_e1998="auto"),_i1675=navigator.platform.startsWith("Mac")?"cupertino":navigator.platform.startsWith("Win")?"fluent":navigator.platform.startsWith("Linux")?(navigator.userAgent.includes("CrOS")||navigator.userAgent.includes("Android"),"vanilla"):"vanilla",this["#auto-theme-label"].textContent="Auto ("+hi(_i1675)+")",this["#cupertino-theme-select-item"].hidden=!1===t,this["#theme-select"].value=_e1998;}if(!("bx-macapp"===this.Qs.localName)){_context282.next=14;break;}_context282.next=4;return this.Qs.getColorScheme();case 4:_t2615=_context282.sent;_e1999="Auto";if(!("auto"===_t2615)){_context282.next=11;break;}_context282.next=9;return this.Qs.getColorScheme(!0);case 9:_t2616=_context282.sent;_e1999+=" ("+hi(_t2616)+")";case 11:this["#auto-color-scheme-label"].textContent=_e1999,this["#color-scheme-select"].value=_t2615;_context282.next=15;break;case 14:if("bx-linuxapp"===this.Qs.localName){_t2617=this.Qs.getConfig("bx-uisettings:colorScheme","light");this["#color-scheme-menu"].children[0].hidden=!0,this["#color-scheme-menu"].children[1].hidden=!0,this["#color-scheme-select"].value=_t2617;}else if("bx-chromeapp"===this.Qs.localName||"bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_t2618=this.Qs.getConfig("bx-uisettings:colorScheme","auto"),_e2000=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this["#auto-color-scheme-label"].textContent="Auto ("+hi(_e2000)+")",this["#color-scheme-select"].value=_t2618;}case 15:_t2619=Us.presetAccentColors;for(_i1676=0,_arr92=_toConsumableArray(this["#accent-color-preset-menu"].querySelectorAll("x-swatch"));_i1676<_arr92.length;_i1676++){_e2001=_arr92[_i1676];_i1677=_e2001.parentElement;_e2001.value=_t2619[_i1677.value];}if("bx-macapp"===this.Qs.localName)this["#accent-color-subsection"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName){_e2002=this.Qs.getConfig("bx-uisettings:accentColor","blue"),_i1678=!!_t2619[_e2002];this["#accent-color-preset-menu"].children[0].hidden=!0,this["#accent-color-preset-menu"].children[1].hidden=!0,this["#accent-color-preset-select"].value=_i1678?_e2002:"custom",this["#accent-color-select"].value=_i1678?_t2619[_e2002]:_e2002;}else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e2003=this.Qs.getConfig("bx-uisettings:accentColor","auto"),_i1679=this.Qs.getSystemAccentColorName(),_s985=_t2619[_i1679];if(this["#auto-accent-color-preset-label"].textContent="Auto ("+hi(_i1679)+")",this["#auto-accent-color-preset-swatch"].value=_s985,"auto"===_e2003)this["#accent-color-preset-select"].value="auto",this["#accent-color-select"].value=_s985;else{_i1680=!!_t2619[_e2003];this["#accent-color-preset-select"].value=_i1680?_e2003:"custom",this["#accent-color-select"].value=_i1680?_t2619[_e2003]:_e2003;}}if("bx-macapp"===this.Qs.localName)this["#widgets-size-subsection"].hidden=!0;else{_t2620=this.Qs.getConfig("bx-uisettings:widgetsSize","auto"),_e2004=null;_e2004=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large",this["#auto-widgets-size-label"].textContent="Auto ("+hi(_e2004)+")",this["#widgets-size-select"].value=_t2620;}if(this["#size-section"].hidden=this["#widgets-size-subsection"].hidden,"bx-macapp"===this.Qs.localName||"bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName)this["#menubar-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_Yg5=Yg(this.Qs.userSubscription,this.Qs.user),_Yg6=_slicedToArray(_Yg5,1),_t2621=_Yg6[0];this["#show-install-button-checkbox"].hidden=!0===this.Qs.isInstalled,this["#show-install-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showInstallButton",!0),this["#show-cloud-button-checkbox"].hidden=null===_t2621||_t2621===e,this["#show-cloud-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showCloudButton",!0);}_t2622=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this["#show-dock-tooltips-checkbox"].toggled=_t2622;_t2623=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),_e2005=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1);this["#limit-scrollable-area-checkbox"].toggled=_t2623,this["#show-view-outline-above-objects-checkbox"].toggled=_e2005;case 24:case"end":return _context282.stop();}}},_callee280,this);}));function qs(){return _qs11.apply(this,arguments);}return qs;}()}]);return kw;}(vw);_defineProperty(kw,"_shadowTemplate",Qi(_templateObject561()));_defineProperty(kw,"_shadowStyleSheet",Ji(_templateObject562()));customElements.define("bx-uisettings",kw);var Sw=/*#__PURE__*/function(_vw3){_inherits(Sw,_vw3);var _super247=_createSuper(Sw);function Sw(){var _this1130;_classCallCheck(this,Sw);_this1130=_super247.call(this),_this1130["#geometry-precision-slider"].addEventListener("changeend",function(){_this1130.Qs.setConfig("bx-markupsettings:geometryPrecision",_this1130["#geometry-precision-slider"].value);}),_this1130["#transform-precision-slider"].addEventListener("changeend",function(){_this1130.Qs.setConfig("bx-markupsettings:transformPrecision",_this1130["#transform-precision-slider"].value);}),_this1130["#indentation-slider"].addEventListener("changeend",function(){_this1130.Qs.setConfig("bx-markupsettings:indentation",_this1130["#indentation-slider"].value);});return _this1130;}_createClass(Sw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),e=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),i=this.Qs.getConfig("bx-markupsettings:indentation",2);this["#geometry-precision-slider"].value=t,this["#transform-precision-slider"].value=e,this["#indentation-slider"].value=i;}}]);return Sw;}(vw);_defineProperty(Sw,"_shadowTemplate",Qi(_templateObject563()));customElements.define("bx-markupsettings",Sw);var _w=/*#__PURE__*/function(_vw4){_inherits(_w,_vw4);var _super248=_createSuper(_w);function _w(){var _this1131;_classCallCheck(this,_w);_this1131=_super248.call(this),_this1131["#defs-section"].addEventListener("toggle",function(t){_this1131.SO(t);});return _this1131;}_createClass(_w,[{key:"tn",value:function tn(){this.qs();}},{key:"SO",value:function SO(t){this.Qs.setConfig("bx-garbagecollectorsettings:collectOptions",{colors:this["#colors-buttons"].value,gradients:this["#gradients-buttons"].value,patterns:this["#patterns-buttons"].value,markers:this["#markers-buttons"].value,symbols:this["#symbols-buttons"].value,filters:this["#filters-buttons"].value,fonts:this["#fonts-buttons"].value});}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Ip);this["#colors-buttons"].value=t.colors,this["#gradients-buttons"].value=t.gradients,this["#patterns-buttons"].value=t.patterns,this["#markers-buttons"].value=t.markers,this["#symbols-buttons"].value=t.symbols,this["#filters-buttons"].value=t.filters,this["#fonts-buttons"].value=t.fonts;}}]);return _w;}(vw);_defineProperty(_w,"_shadowTemplate",Qi(_templateObject564()));_defineProperty(_w,"_shadowStyleSheet",Ji(_templateObject565()));customElements.define("bx-garbagecollectorsettings",_w);var Cw=Symbol(),Mw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"];var Pw=/*#__PURE__*/function(_HTMLElement141){_inherits(Pw,_HTMLElement141);var _super249=_createSuper(Pw);_createClass(Pw,[{key:"value",get:function get(){return this._O;},set:function set(t){this._O=t,!0===this.CO&&this.qs();}}]);function Pw(){var _this1132;_classCallCheck(this,Pw);_this1132=_super249.call(this),_this1132._O={},_this1132.CO=!1,_this1132._shadowRoot=_this1132.attachShadow({mode:"closed"}),_this1132._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Pw._shadowStyleSheet],_this1132._shadowRoot.append(document.importNode(Pw._shadowTemplate.content,!0));var _iterator1764=_createForOfIteratorHelper(_this1132._shadowRoot.querySelectorAll("[id]")),_step1764;try{for(_iterator1764.s();!(_step1764=_iterator1764.n()).done;){var _t2624=_step1764.value;_this1132["#"+_t2624.id]=_t2624;}}catch(err){_iterator1764.e(err);}finally{_iterator1764.f();}_this1132._shadowRoot.addEventListener("keydown",function(t){return _this1132.wn(t);}),_this1132["#items"].addEventListener("blur",function(){return _this1132.MO();}),_this1132["#items"].addEventListener("click",function(t){return _this1132.np(t);}),_this1132["#items"].addEventListener("scroll",function(){return _this1132.Cv();}),_this1132["#filter-input"].addEventListener("input",function(){return _this1132.PO();}),_this1132["#filter-buttons"].addEventListener("toggle",function(){return _this1132.DO();}),_this1132["#filter-buttons"].addEventListener("click",function(){return _this1132["#items"].focus();});return _this1132;}_createClass(Pw,[{key:"connectedCallback",value:function connectedCallback(){var _this1133=this;this.Qs=Gi(this,"#app"),this.CO=!0,this.qs(),Us.addEventListener("sizechange",this.hp=function(){_this1133.zO();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.hp);}},{key:"MO",value:function MO(){var t=this["#items"].querySelector(".item[data-editable]");t&&(t.removeAttribute("data-editable"),this.OO(t));}},{key:"np",value:function np(t){var e=t.target.closest(".reset-button"),i=t.target.closest(".item");if(e)this.Yn(t);else if(i)this.hv(t);else{var _iterator1765=_createForOfIteratorHelper(this["#items"].children),_step1765;try{for(_iterator1765.s();!(_step1765=_iterator1765.n()).done;){var _t2625=_step1765.value;_t2625.hasAttribute("data-editable")&&(_t2625.removeAttribute("data-editable"),this.OO(_t2625));}}catch(err){_iterator1765.e(err);}finally{_iterator1765.f();}}}},{key:"hv",value:function hv(t){var e=t.target.closest(".item");if(2===t.detail)!1===e.hasAttribute("data-editable")&&(e.setAttribute("data-editable",""),this.OO(e));else{var _iterator1766=_createForOfIteratorHelper(this["#items"].children),_step1766;try{for(_iterator1766.s();!(_step1766=_iterator1766.n()).done;){var _t2626=_step1766.value;_t2626===e?_t2626.setAttribute("data-selected",""):_t2626.removeAttribute("data-selected"),_t2626.hasAttribute("data-editable")&&(_t2626.removeAttribute("data-editable"),this.OO(_t2626));}}catch(err){_iterator1766.e(err);}finally{_iterator1766.f();}}}},{key:"Cv",value:function Cv(){}},{key:"Yn",value:function Yn(t){var e=t.target.closest(".reset-button").closest(".item"),i=e[Cw].commandID;delete this._O[i],this.dispatchEvent(new CustomEvent("change")),this.OO(e),this.EO();}},{key:"DO",value:function DO(){this["#filter-input"].value="",this.PO();}},{key:"wn",value:function wn(t){var e=ao.fromEvent(t);if(t.target===this["#items"]){var _i1681=this["#items"].querySelector(".item[data-editable]");if(_i1681){if(t.preventDefault(),t.stopPropagation(),e.matches("Backspace")||e.matches("Delete")||e.matches("Escape")||e.matches("Enter")||e.matches("Space"))_i1681.removeAttribute("data-editable"),this.OO(_i1681);else if(e.key&&!1===Mw.includes(e.toString())){var _i1681$Cw=_i1681[Cw],_t2627=_i1681$Cw.commandID,_s986=_i1681$Cw.defaultShortcut,_n761=this._O[_t2627]||null;_n761&&e.toString()===_n761?(_i1681.removeAttribute("data-editable"),this.OO(_i1681)):_s986&&e.toString()===_s986?(delete this._O[_t2627],this.dispatchEvent(new CustomEvent("change")),_i1681.removeAttribute("data-editable"),this.OO(_i1681),this.EO()):(this._O[_t2627]=e.toString(),this.dispatchEvent(new CustomEvent("change")),_i1681.removeAttribute("data-editable"),this.OO(_i1681),this.EO());}}else if(e.matches("ArrowUp"))t.preventDefault(),this.Nu();else if(e.matches("ArrowDown"))t.preventDefault(),this.Vu();else if(e.matches("Enter")){t.preventDefault();var _e2006=this["#items"].querySelector(".item[data-selected]:not([hidden])");_e2006.setAttribute("data-editable",""),this.OO(_e2006);}else if(e.matches("Backspace")||e.matches("Delete")){var _e2007=this["#items"].querySelector(".item[data-selected]:not([hidden])"),_e2007$Cw=_e2007[Cw],_i1682=_e2007$Cw.commandID,_s987=_e2007$Cw.defaultShortcut;void 0!==this._O[_i1682]?(t.preventDefault(),delete this._O[_i1682],this.dispatchEvent(new CustomEvent("change")),this.OO(_e2007),this.EO()):null!==_s987&&(t.preventDefault(),this._O[_i1682]=null,this.dispatchEvent(new CustomEvent("change")),this.OO(_e2007),this.EO());}}}},{key:"xv",value:function xv(t){var e=Qi(_templateObject100(),'\n  <div class="item">\n    <div class="command-label"></div>\n    <div class="shortcut-label"></div>\n\n    <x-button class="button reset-button" title="Reset to default shortcut" skin="recessed" toggled condensed>\n      <x-label>Reset</x-label>\n    </x-button>\n  </div>\n');return e[Cw]=t,this.OO(e),e;}},{key:"Nu",value:function Nu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i-1];if(s){s.scrollIntoViewIfNeeded();var _iterator1767=_createForOfIteratorHelper(this["#items"].children),_step1767;try{for(_iterator1767.s();!(_step1767=_iterator1767.n()).done;){var _t2628=_step1767.value;_t2628===s?_t2628.setAttribute("data-selected",""):_t2628.removeAttribute("data-selected");}}catch(err){_iterator1767.e(err);}finally{_iterator1767.f();}}}},{key:"Vu",value:function Vu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i+1];if(s){s.scrollIntoViewIfNeeded();var _iterator1768=_createForOfIteratorHelper(this["#items"].children),_step1768;try{for(_iterator1768.s();!(_step1768=_iterator1768.n()).done;){var _t2629=_step1768.value;_t2629===s?_t2629.setAttribute("data-selected",""):_t2629.removeAttribute("data-selected");}}catch(err){_iterator1768.e(err);}finally{_iterator1768.f();}}}},{key:"qs",value:function(){var _qs12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee281(){var _t2630,_iterator1769,_step1769,_e2008,_t2631,_iterator1770,_step1770,_t2632;return regeneratorRuntime.wrap(function _callee281$(_context283){while(1){switch(_context283.prev=_context283.next){case 0:if(!(0===this["#items"].childElementCount)){_context283.next=9;break;}_context283.next=3;return this.Qs.getShortcutsEditorModel();case 3:_t2630=_context283.sent;this["#items"].innerHTML="";_iterator1769=_createForOfIteratorHelper(_t2630);try{for(_iterator1769.s();!(_step1769=_iterator1769.n()).done;){_e2008=_step1769.value;_t2631=this.xv(_e2008);this["#items"].append(_t2631);}}catch(err){_iterator1769.e(err);}finally{_iterator1769.f();}_context283.next=11;break;case 9:_iterator1770=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1770.s();!(_step1770=_iterator1770.n()).done;){_t2632=_step1770.value;this.OO(_t2632);}}catch(err){_iterator1770.e(err);}finally{_iterator1770.f();}case 11:this.zO(),this.EO();case 12:case"end":return _context283.stop();}}},_callee281,this);}));function qs(){return _qs12.apply(this,arguments);}return qs;}()},{key:"OO",value:function OO(t){var _t$Cw=t[Cw],e=_t$Cw.commandID,i=_t$Cw.label,s=_t$Cw.defaultShortcut,n=this._O[e];n||null===n?t.setAttribute("data-user-shortcut",""):t.removeAttribute("data-user-shortcut");t.querySelector(".command-label").textContent=i;{var _e2009=t.querySelector(".shortcut-label");t.hasAttribute("data-editable")?_e2009.textContent="Press new shortcut":n?_e2009.textContent=ao.fromString(n).toDisplayString():null===n?_e2009.textContent="":void 0===n&&(_e2009.textContent=s?ao.fromString(s).toDisplayString():"");}t.querySelector(".reset-button").hidden=void 0===n;}},{key:"EO",value:function EO(){var t=0;var _iterator1771=_createForOfIteratorHelper(this["#items"].children),_step1771;try{for(_iterator1771.s();!(_step1771=_iterator1771.n()).done;){var _e2010=_step1771.value;var _e2010$Cw=_e2010[Cw],_i1683=_e2010$Cw.commandID,_s988=_e2010$Cw.defaultShortcut,_n762=this._O[_i1683]||_s988,_o569=!1;if(_n762){var _iterator1772=_createForOfIteratorHelper(this["#items"].children),_step1772;try{for(_iterator1772.s();!(_step1772=_iterator1772.n()).done;){var _t2633=_step1772.value;if(_t2633!==_e2010){var _e2011=this._O[_t2633[Cw].commandID]||_t2633[Cw].defaultShortcut;if(_e2011&&_e2011===_n762){_o569=!0;break;}}}}catch(err){_iterator1772.e(err);}finally{_iterator1772.f();}}_o569?(_e2010.setAttribute("data-conflicting",""),t+=1):_e2010.removeAttribute("data-conflicting");}}catch(err){_iterator1771.e(err);}finally{_iterator1771.f();}this["#conflicting-items-counter"].textContent=t>0?"(".concat(t,")"):"";}},{key:"zO",value:function zO(){this["#items"].setAttribute("data-size",Us.size);}},{key:"PO",value:function PO(){var t=this["#filter-input"].value.trim().toLowerCase();var _iterator1773=_createForOfIteratorHelper(this["#items"].querySelectorAll(".command-label")),_step1773;try{for(_iterator1773.s();!(_step1773=_iterator1773.n()).done;){var _e2012=_step1773.value;var _i1684=_e2012.closest(".item"),_s989=!1;if(t.length>0){_s989=-1===_e2012.textContent.trim().toLowerCase().indexOf(t);}else _s989=!1;_s989||("custom"===this["#filter-buttons"].value?!1===_i1684.hasAttribute("data-user-shortcut")&&(_s989=!0):"conflicting"===this["#filter-buttons"].value&&!1===_i1684.hasAttribute("data-conflicting")&&(_s989=!0)),_i1684.hidden=_s989;}}catch(err){_iterator1773.e(err);}finally{_iterator1773.f();}}}]);return Pw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pw,"_shadowTemplate",Qi(_templateObject566()));_defineProperty(Pw,"_shadowStyleSheet",Ji(_templateObject567()));customElements.define("bx-shortcutseditor",Pw);var Dw=/*#__PURE__*/function(_vw5){_inherits(Dw,_vw5);var _super250=_createSuper(Dw);function Dw(){var _this1134;_classCallCheck(this,Dw);_this1134=_super250.call(this),_this1134["#tabs"].addEventListener("change",function(){return _this1134.TO();}),_this1134["#shortcuts-editor"].addEventListener("change",function(){return _this1134.AO();}),_this1134["#space-modifier-radios"].addEventListener("toggle",function(){return _this1134.$O();});return _this1134;}_createClass(Dw,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-keyboardsettings:userShortcuts",{}),e=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");this["#shortcuts-editor"].value=t,this["#space-modifier-radios"].value=e;}},{key:"TO",value:function TO(){this["#shortcuts-view"].hidden="shortcuts"!==this["#tabs"].value,this["#modifiers-view"].hidden="modifiers"!==this["#tabs"].value;}},{key:"AO",value:function AO(){this.Qs.setConfig("bx-keyboardsettings:userShortcuts",this["#shortcuts-editor"].value);}},{key:"$O",value:function $O(){this.Qs.setConfig("bx-keyboardsettings:spaceKeyMode",this["#space-modifier-radios"].value);}}]);return Dw;}(vw);_defineProperty(Dw,"_shadowTemplate",Qi(_templateObject568()));_defineProperty(Dw,"_shadowStyleSheet",Ji(_templateObject569()));customElements.define("bx-keyboardsettings",Dw);var zw=Math.ceil,Ow=Math.floor;var Ew=/*#__PURE__*/function(_HTMLElement142){_inherits(Ew,_HTMLElement142);var _super251=_createSuper(Ew);_createClass(Ew,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"random";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"transparent",get:function get(){return this.hasAttribute("transparent");},set:function set(t){t?this.setAttribute("transparent",""):this.removeAttribute("transparent");}}],[{key:"reloadInstances",value:function reloadInstances(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator1774=_createForOfIteratorHelper(Ew.LO),_step1774;try{for(_iterator1774.s();!(_step1774=_iterator1774.n()).done;){var _e2013=_step1774.value;_e2013.value===t&&_e2013.reload();}}catch(err){_iterator1774.e(err);}finally{_iterator1774.f();}}}]);function Ew(){var _this1135;_classCallCheck(this,Ew);_this1135=_super251.call(this),_this1135._shadowRoot=_this1135.attachShadow({mode:"closed"}),_this1135._shadowRoot.adoptedStyleSheets=[Ew._shadowStyleSheet],_this1135._shadowRoot.append(document.importNode(Ew._shadowTemplate.content,!0));var _iterator1775=_createForOfIteratorHelper(_this1135._shadowRoot.querySelectorAll("[id]")),_step1775;try{for(_iterator1775.s();!(_step1775=_iterator1775.n()).done;){var _t2634=_step1775.value;_this1135["#"+_t2634.id]=_t2634;}}catch(err){_iterator1775.e(err);}finally{_iterator1775.f();}return _this1135;}_createClass(Ew,[{key:"connectedCallback",value:function connectedCallback(){Ew.LO.add(this),"quick-preferences-avatar"!==this.id&&this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ew.LO["delete"](this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&this._shadowRoot&&("type"===t||"value"===t)&&this.qs();}},{key:"reload",value:function reload(){"custom"===this.type&&(this["#img"].src="",this.qs());}},{key:"qs",value:function qs(){if("custom"===this.type)null===this.value?(this["#img"].src="",this["#img"].hidden=!0):(this["#img"].src=Hg("/avatars/".concat(this.value,".png")),this["#img"].hidden=!1);else if("random"===this.type)if(null===this.value)this["#img"].src="",this["#img"].hidden=!0;else{if(void 0===Ew.IO[this.value]){var _t2635=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:i/2;var n=pl(50,100,0,t)/100,o=i*e+2*s,l=G[pl(0,G.length-1,0,t)],a='<?xml version="1.0" encoding="utf-8"?>\n';a+="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"".concat(o,"px\" height=\"").concat(o,"px\" viewBox=\"0 0 ").concat(o," ").concat(o,"\">");var h=function h(t,e,n){a+="<rect x=\"".concat(s+t*i,"\" y=\"").concat(s+e*i,"\" width=\"").concat(i,"\" height=\"").concat(i,"\" style=\"fill: ").concat(n,";\"/>");};a+="<rect width=\"".concat(o,"\" height=\"").concat(o,"\" style=\"fill: ").concat(l[0],"; opacity: 0.2;\"/>");for(var _i1686=0;_i1686<zw(e/2);_i1686++){for(var _s990=0;_s990<e;_s990++){if(pl(0,1,10,t+_i1686*_s990)<n){var _n763=l[pl(0,l.length-1,0,t+_i1686*_s990)];h(_i1686,_s990,_n763),_i1686<Ow(e/2)&&h(e-1-_i1686,_s990,_n763);}}}return a+="</svg>",a;}(this.value),_e2014=new Blob([_t2635],{type:"image/svg+xml;charset=utf-8"}),_i1685=URL.createObjectURL(_e2014);Ew.IO[this.value]=_i1685;}this["#img"].src=Ew.IO[this.value],this["#img"].hidden=!1;}}}]);return Ew;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ew,"observedAttributes",["type","value"]);_defineProperty(Ew,"_shadowTemplate",Qi(_templateObject570()));_defineProperty(Ew,"IO",{});_defineProperty(Ew,"LO",new Set());_defineProperty(Ew,"_shadowStyleSheet",Ji(_templateObject571()));customElements.define("bx-avatar",Ew);var Tw=/*#__PURE__*/function(_vw6){_inherits(Tw,_vw6);var _super252=_createSuper(Tw);function Tw(){var _this1136;_classCallCheck(this,Tw);_this1136=_super252.call(this),_this1136["#avatar-edit-button"].addEventListener("click",function(){return _this1136.RO();}),_this1136["#name-input"].addEventListener("input",function(){return _this1136.BO();}),_this1136["#name-input"].addEventListener("keydown",function(t){return _this1136.GO(t);}),_this1136["#name-change-button"].addEventListener("click",function(){return _this1136.UO();}),_this1136["#website-input"].addEventListener("input",function(){return _this1136.FO();}),_this1136["#website-input"].addEventListener("keydown",function(t){return _this1136.NO(t);}),_this1136["#website-change-button"].addEventListener("click",function(){return _this1136.VO();}),_this1136["#bio-editor"].addEventListener("input",function(){return _this1136.jO();}),_this1136["#bio-change-button"].addEventListener("click",function(){return _this1136.HO();});return _this1136;}_createClass(Tw,[{key:"tn",value:function tn(){var _this1137=this;this.Qs.addEventListener("userprofilechange",this.WO=function(){return _this1137.qs();}),this.qs();}},{key:"en",value:function en(){this.Qs.removeEventListener("userprofilechange",this.WO);}},{key:"RO",value:function RO(){"standalone"===this.Qs.displayMode?window.open("/app/avatar","_blank","noopener,menubar=no,toolbar=no,location=no,status=no"):window.open("/app/avatar","_blank","noopener");}},{key:"BO",value:function BO(){var t=this.Qs.userProfile.name,e=this["#name-input"].value.trim();t===e||""===e?(this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1):(this["#name-change-button"].disabled=!1,this["#name-change-button"].toggled=!0);}},{key:"GO",value:function GO(t){"Enter"===t.code&&!1===this["#name-change-button"].disabled&&this["#name-change-button"].click();}},{key:"UO",value:function(){var _UO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee282(){var t,e,i;return regeneratorRuntime.wrap(function _callee282$(_context284){while(1){switch(_context284.prev=_context284.next){case 0:firebase.functions();e=this.Qs.user,i=this["#name-input"].value.trim();this["#name-input"].disabled=!0,this["#name-change-button"].disabled=!0,this["#name-throbber"].hidden=!1;_context284.prev=3;_context284.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,name:i});case 6:_context284.next=11;break;case 8:_context284.prev=8;_context284.t0=_context284["catch"](3);t=_context284.t0;case 11:t?(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!1,this["#name-throbber"].hidden=!0,"name-taken"===t.details?this["#name-input"].error="This name is already taken.":"auth/invalid-display-name"===t.details?this["#name-input"].error="Invalid name.":this.Qs.openMessageDialog({message:"Failed to change user name",detail:jg(t),buttons:["OK"]})):(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1,this["#name-throbber"].hidden=!0);case 12:case"end":return _context284.stop();}}},_callee282,this,[[3,8]]);}));function UO(){return _UO.apply(this,arguments);}return UO;}()},{key:"FO",value:function FO(){this.Qs.userProfile.websiteURL===this["#website-input"].value.trim()?(this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1):(this["#website-change-button"].disabled=!1,this["#website-change-button"].toggled=!0);}},{key:"NO",value:function NO(t){"Enter"===t.code&&!1===this["#website-change-button"].disabled&&this["#website-change-button"].click();}},{key:"VO",value:function(){var _VO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee283(){var t,e,i;return regeneratorRuntime.wrap(function _callee283$(_context285){while(1){switch(_context285.prev=_context285.next){case 0:firebase.functions();e=this.Qs.user,i=this["#website-input"].value.trim();this["#website-input"].disabled=!0,this["#website-input"].error=null,this["#website-change-button"].disabled=!0,this["#website-throbber"].hidden=!1;_context285.prev=3;_context285.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,websiteURL:i});case 6:_context285.next=11;break;case 8:_context285.prev=8;_context285.t0=_context285["catch"](3);t=_context285.t0;case 11:t?(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!1,this["#website-throbber"].hidden=!0,"invalid-url"===t.details?this["#website-input"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user website",detail:jg(t),buttons:["OK"]})):(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1,this["#website-throbber"].hidden=!0);case 12:case"end":return _context285.stop();}}},_callee283,this,[[3,8]]);}));function VO(){return _VO.apply(this,arguments);}return VO;}()},{key:"jO",value:function jO(){this.Qs.userProfile.bio===this["#bio-editor"].value.trim()?(this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1):(this["#bio-change-button"].disabled=!1,this["#bio-change-button"].toggled=!0);}},{key:"HO",value:function(){var _HO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee284(){var t,e,i;return regeneratorRuntime.wrap(function _callee284$(_context286){while(1){switch(_context286.prev=_context286.next){case 0:firebase.functions();e=this.Qs.user,i=this["#bio-editor"].value.trim();this["#bio-editor"].disabled=!0,this["#bio-change-button"].disabled=!0,this["#bio-throbber"].hidden=!1;_context286.prev=3;_context286.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,bio:i});case 6:_context286.next=11;break;case 8:_context286.prev=8;_context286.t0=_context286["catch"](3);t=_context286.t0;case 11:t?(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!1,this["#bio-throbber"].hidden=!0,"invalid-url"===t.details?this["#bio-editor"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user bio",detail:jg(t),buttons:["OK"]})):(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1,this["#bio-throbber"].hidden=!0);case 12:case"end":return _context286.stop();}}},_callee284,this,[[3,8]]);}));function HO(){return _HO.apply(this,arguments);}return HO;}()},{key:"qs",value:function(){var _qs13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee285(){var t,_e2015,_i1687,_s991;return regeneratorRuntime.wrap(function _callee285$(_context287){while(1){switch(_context287.prev=_context287.next){case 0:t=this.Qs.userProfile;if(t){_e2015=t.name,_i1687=t.bio,_s991=t.websiteURL;this["#avatar"].type=this.Qs.userProfile.avatar||"random",this["#avatar"].value=this.Qs.user.uid,this["#name-input"].value=_e2015,this["#name-change-button"].toggled=!1,this["#name-change-button"].disabled=!0,this["#website-input"].value=_s991,this["#website-change-button"].toggled=!1,this["#website-change-button"].disabled=!0,this["#bio-editor"].value=_i1687,this["#bio-change-button"].toggled=!1,this["#bio-change-button"].disabled=!0;}else this["#avatar"].value="",this["#name-input"].value="",this["#website-input"].value="",this["#bio-editor"].value="";case 2:case"end":return _context287.stop();}}},_callee285,this);}));function qs(){return _qs13.apply(this,arguments);}return qs;}()}]);return Tw;}(vw);_defineProperty(Tw,"_shadowTemplate",Qi(_templateObject572()));_defineProperty(Tw,"_shadowStyleSheet",Ji(_templateObject573()));customElements.define("bx-profilesettings",Tw);var Aw=/*#__PURE__*/function(_HTMLElement143){_inherits(Aw,_HTMLElement143);var _super253=_createSuper(Aw);_createClass(Aw,[{key:"value",get:function get(){return _toConsumableArray(this._t);},set:function set(t){this._t=_toConsumableArray(t),this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"limit",get:function get(){return this.YO;},set:function set(t){this.YO=t,this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"editing",get:function get(){return null!==this["#table"].querySelector("tr[data-editing]");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Aw(){var _this1138;_classCallCheck(this,Aw);_this1138=_super253.call(this),_this1138._t=[],_this1138.YO=10,_this1138._shadowRoot=_this1138.attachShadow({mode:"closed",delegatesFocus:!1}),_this1138._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Aw._shadowStyleSheet],_this1138._shadowRoot.append(document.importNode(Aw._shadowTemplate.content,!0));var _iterator1776=_createForOfIteratorHelper(_this1138._shadowRoot.querySelectorAll("[id]")),_step1776;try{for(_iterator1776.s();!(_step1776=_iterator1776.n()).done;){var _t2636=_step1776.value;_this1138["#"+_t2636.id]=_t2636;}}catch(err){_iterator1776.e(err);}finally{_iterator1776.f();}_this1138._shadowRoot.addEventListener("pointerdown",function(t){return _this1138.wo(t);}),_this1138._shadowRoot.addEventListener("click",function(t){return _this1138["do"](t);}),_this1138.addEventListener("keydown",function(t){return _this1138.wn(t);});return _this1138;}_createClass(Aw,[{key:"connectedCallback",value:function connectedCallback(){var _this1139=this;this.tabIndex=0,Us.addEventListener("sizechange",this.hp=function(){_this1139.Su();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.hp);}},{key:"wo",value:function wo(t){if(this.disabled)return;var e=t.target.closest("tr"),i=t.target.closest("x-input");if(e&&!i&&this["#tbody"].childElementCount>1){this.uv();var _iterator1777=_createForOfIteratorHelper(this["#tbody"].children),_step1777;try{for(_iterator1777.s();!(_step1777=_iterator1777.n()).done;){var _t2637=_step1777.value;if(_t2637===e){_t2637.setAttribute("data-selected","");var _iterator1778=_createForOfIteratorHelper(_t2637.children),_step1778;try{for(_iterator1778.s();!(_step1778=_iterator1778.n()).done;){var _e2016=_step1778.value;_e2016.part.add("selected-cell");}}catch(err){_iterator1778.e(err);}finally{_iterator1778.f();}}else{_t2637.removeAttribute("data-selected");var _iterator1779=_createForOfIteratorHelper(_t2637.children),_step1779;try{for(_iterator1779.s();!(_step1779=_iterator1779.n()).done;){var _e2017=_step1779.value;_e2017.part.remove("selected-cell");}}catch(err){_iterator1779.e(err);}finally{_iterator1779.f();}}}}catch(err){_iterator1777.e(err);}finally{_iterator1777.f();}}}},{key:"do",value:function _do(t){if(this.disabled)return;var e=t.target.closest("tr");e&&2===t.detail&&!1===e.hasAttribute("data-editing")&&!1===e.hasAttribute("data-disabled")&&this.qO(e);}},{key:"wn",value:function wn(t){this.disabled||("Enter"===t.key?!0===this.editing?(this.uv(),this.focus()):this.qO():"Escape"===t.key?!0===this.editing&&(t.preventDefault(),this.uv(),this.focus()):"Backspace"===t.key?!1===this.editing&&(t.preventDefault(),this.XO()):"ArrowUp"===t.key?!1===this.editing&&this.ZO():"ArrowDown"===t.key&&!1===this.editing&&this.KO());}},{key:"qO",value:function qO(t){var _this1140=this;var e=this["#table"].querySelector("tr[data-selected]");if(e&&!1===e.hasAttribute("data-disabled")){e.setAttribute("data-editing",""),e.scrollIntoViewIfNeeded();var _iterator1780=_createForOfIteratorHelper(e.children),_step1780;try{for(_iterator1780.s();!(_step1780=_iterator1780.n()).done;){var _t2639=_step1780.value;_t2639.part.add("selected-cell");}}catch(err){_iterator1780.e(err);}finally{_iterator1780.f();}var _t2638=e.querySelector(".label"),_i1688=Qi(_templateObject101(),_t2638.textContent);_t2638.after(_i1688),_t2638.hidden=!0,_i1688.selectAll(),_i1688.addEventListener("focusout",function(){_this1140.uv();}),_i1688.validate=function(){var t=null,e=_i1688.value.trim();var s;e.length>0&&!1===(s=e,new RegExp("[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(s))&&(t=""),_i1688.error=t;};}}},{key:"uv",value:function uv(){var t=this["#table"].querySelector("tr[data-editing]");if(t){var _e2018=Ri(t),_i1689=t.querySelector(".label"),_s992=t.querySelector(".input");if(t.removeAttribute("data-editing"),_i1689.hidden=!1,_s992.remove(),null===_s992.error){var _n764=_i1689.textContent,_o570=_s992.value.trim().toLowerCase();if(_n764!==_o570){var _s993=null;if(""!==_o570){var _iterator1781=_createForOfIteratorHelper(this["#tbody"].children),_step1781;try{for(_iterator1781.s();!(_step1781=_iterator1781.n()).done;){var _e2019=_step1781.value;if(_e2019!==t){if(_e2019.querySelector(".label").textContent===_o570){_s993=_e2019;break;}}}}catch(err){_iterator1781.e(err);}finally{_iterator1781.f();}}_s993?(""!==_n764&&(_i1689.textContent="",this._t[_e2018]="",this.dispatchEvent(new CustomEvent("change"))),this.QO(_s993)):(_i1689.textContent=_o570,this._t[_e2018]=""===_o570?null:_o570,this.dispatchEvent(new CustomEvent("change")));}}}}},{key:"QO",value:function QO(t){var e=this["#table"].querySelector("tr[data-selected]");if(e&&e!==t){e.removeAttribute("data-selected");var _iterator1782=_createForOfIteratorHelper(e.children),_step1782;try{for(_iterator1782.s();!(_step1782=_iterator1782.n()).done;){var _t2640=_step1782.value;_t2640.part.remove("selected-cell");}}catch(err){_iterator1782.e(err);}finally{_iterator1782.f();}}t.setAttribute("data-selected","");var _iterator1783=_createForOfIteratorHelper(t.children),_step1783;try{for(_iterator1783.s();!(_step1783=_iterator1783.n()).done;){var _e2020=_step1783.value;_e2020.part.add("selected-cell");}}catch(err){_iterator1783.e(err);}finally{_iterator1783.f();}t.scrollIntoViewIfNeeded();}},{key:"ZO",value:function ZO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e2021=t.previousElementSibling;if(_e2021){t.removeAttribute("data-selected");var _iterator1784=_createForOfIteratorHelper(t.children),_step1784;try{for(_iterator1784.s();!(_step1784=_iterator1784.n()).done;){var _e2022=_step1784.value;_e2022.part.remove("selected-cell");}}catch(err){_iterator1784.e(err);}finally{_iterator1784.f();}_e2021.setAttribute("data-selected","");var _iterator1785=_createForOfIteratorHelper(_e2021.children),_step1785;try{for(_iterator1785.s();!(_step1785=_iterator1785.n()).done;){var _t2641=_step1785.value;_t2641.part.add("selected-cell");}}catch(err){_iterator1785.e(err);}finally{_iterator1785.f();}_e2021.scrollIntoViewIfNeeded();}}}},{key:"KO",value:function KO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e2023=t.nextElementSibling;if(_e2023){t.removeAttribute("data-selected");var _iterator1786=_createForOfIteratorHelper(t.children),_step1786;try{for(_iterator1786.s();!(_step1786=_iterator1786.n()).done;){var _e2024=_step1786.value;_e2024.part.remove("selected-cell");}}catch(err){_iterator1786.e(err);}finally{_iterator1786.f();}_e2023.setAttribute("data-selected","");var _iterator1787=_createForOfIteratorHelper(_e2023.children),_step1787;try{for(_iterator1787.s();!(_step1787=_iterator1787.n()).done;){var _t2642=_step1787.value;_t2642.part.add("selected-cell");}}catch(err){_iterator1787.e(err);}finally{_iterator1787.f();}_e2023.scrollIntoViewIfNeeded();}}}},{key:"XO",value:function XO(){var t=this["#table"].querySelector("tr[data-selected]"),e=Ri(t),i=t.querySelector(".label");if(t){var _t2643="";i.textContent!==_t2643&&(i.textContent=_t2643,this._t[e]=null,this.dispatchEvent(new CustomEvent("change")));}}},{key:"qs",value:function qs(){var t="";for(var _e2025=1;_e2025<=this.YO;_e2025+=1){var _i1690=this._t[_e2025-1];t+="\n        <tr class=\"row\" ".concat(1===_e2025?"data-disabled":"",">\n          <td class=\"index-cell\" part=\"cell index-cell\">").concat(_e2025,"</td>\n          <td class=\"value-cell\" part=\"cell value-cell\">\n            <div class=\"label\">").concat(null==_i1690?"":this._t[_e2025-1],"</div>\n          </td>\n        </tr>\n      ");}this["#tbody"].innerHTML=t,this.Su();}},{key:"Su",value:function Su(){this["#table"].setAttribute("data-size",Us.size);}}]);return Aw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Aw,"_shadowTemplate",Qi(_templateObject574()));_defineProperty(Aw,"_shadowStyleSheet",Ji(_templateObject575()));customElements.define("bx-userseditor",Aw);var $w=/*#__PURE__*/function(_vw7){_inherits($w,_vw7);var _super254=_createSuper($w);function $w(){var _this1141;_classCallCheck(this,$w);_this1141=_super254.call(this),_this1141["#email-input"].addEventListener("input",function(){return _this1141.JO();}),_this1141["#email-input"].addEventListener("keydown",function(t){return _this1141.tE(t);}),_this1141["#email-change-button"].addEventListener("click",function(){return _this1141.eE();}),_this1141["#email-verify-button"].addEventListener("click",function(){return _this1141.iE();}),_this1141["#password-input"].addEventListener("input",function(){return _this1141.sE();}),_this1141["#password-input"].addEventListener("keydown",function(t){return _this1141.nE(t);}),_this1141["#password-change-button"].addEventListener("click",function(){return _this1141.oE();}),_this1141["#subscription-anchor"].addEventListener("click",function(t){return _this1141.lE(t);}),_this1141["#users-editor"].addEventListener("change",function(){return _this1141.aE();}),_this1141["#users-change-button"].addEventListener("click",function(){return _this1141.hE();});return _this1141;}_createClass($w,[{key:"tn",value:function tn(){var _this1142=this;this.qs(),this.Qs.addEventListener("userchange",this.zC=function(){return _this1142.qs();});}},{key:"en",value:function en(){this.Qs.removeEventListener("userchange",this.zC);}},{key:"JO",value:function JO(){this.Qs.user.email!==this["#email-input"].value.trim()&&null===this["#email-input"].error?(this["#email-change-button"].disabled=!1,this["#email-change-button"].toggled=!0):(this["#email-change-button"].disabled=!0,this["#email-change-button"].toggled=!1);}},{key:"tE",value:function tE(t){"Enter"===t.code&&this["#email-change-button"].click();}},{key:"eE",value:function(){var _eE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee286(){var _t2644,_e2026,_i1691,_s994,_n765;return regeneratorRuntime.wrap(function _callee286$(_context288){while(1){switch(_context288.prev=_context288.next){case 0:if(!(this["#email-input"].validate(),null===this["#email-input"].error)){_context288.next=25;break;}this["#email-input"].disabled=!0,this["#email-change-button"].disabled=!0,this["#email-throbber"].hidden=!1;_t2644=this.Qs.user,_e2026=_t2644.uid,_i1691=this["#email-input"].value.trim(),_s994=_t2644.email,_n765=null;_context288.prev=3;_context288.next=6;return _t2644.updateEmail(_i1691);case 6:_context288.next=11;break;case 8:_context288.prev=8;_context288.t0=_context288["catch"](3);_n765=_context288.t0;case 11:if(!(_n765&&"auth/requires-recent-login"===_n765.code)){_context288.next=24;break;}_context288.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context288.sent){_context288.next=24;break;}_n765=null;_context288.prev=16;_context288.next=19;return _t2644.updateEmail(_i1691);case 19:_context288.next=24;break;case 21:_context288.prev=21;_context288.t1=_context288["catch"](16);_n765=_context288.t1;case 24:this["#email-input"].disabled=!1,this["#email-change-button"].disabled=!1,this["#email-throbber"].hidden=!0,_n765?"auth/invalid-email"===_n765.code?this["#email-input"].error="Invalid e-mail":"auth/email-already-in-use"===_n765.code?this["#email-input"].error="This email address is already registered":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_n765.message," (").concat(_n765.code,")"),buttons:["OK"]}):(this.Qs.callCloudFunction("editUser",{userUID:_e2026,email:_i1691,oldEmail:_s994}),_t2644.sendEmailVerification(),this.rE());case 25:case"end":return _context288.stop();}}},_callee286,this,[[3,8],[16,21]]);}));function eE(){return _eE.apply(this,arguments);}return eE;}()},{key:"iE",value:function(){var _iE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee287(){return regeneratorRuntime.wrap(function _callee287$(_context289){while(1){switch(_context289.prev=_context289.next){case 0:_context289.next=2;return this.Qs.openMessageDialog({message:"Verify your email address",detail:"Please follow the link in the confirmation email we have sent you to verify your email address.",buttons:["OK","Rensend"]});case 2:_context289.t0=_context289.sent;_context289.t1=1===_context289.t0;if(!_context289.t1){_context289.next=6;break;}firebase.auth().currentUser.sendEmailVerification();case 6:case"end":return _context289.stop();}}},_callee287,this);}));function iE(){return _iE.apply(this,arguments);}return iE;}()},{key:"sE",value:function sE(){this["#password-input"].value.length>0?(this["#password-change-button"].disabled=!1,this["#password-change-button"].toggled=!0):(this["#password-change-button"].disabled=!0,this["#password-change-button"].toggled=!1);}},{key:"nE",value:function nE(t){"Enter"===t.code&&this["#password-change-button"].click();}},{key:"oE",value:function(){var _oE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee288(){var _t2645,_e2027,_i1692;return regeneratorRuntime.wrap(function _callee288$(_context290){while(1){switch(_context290.prev=_context290.next){case 0:if(!(this["#password-input"].validate(),null===this["#password-input"].error)){_context290.next=25;break;}this["#password-input"].disabled=!0,this["#password-change-button"].disabled=!0,this["#password-throbber"].hidden=!1;_t2645=this.Qs.user,_e2027=this["#password-input"].value.trim(),_i1692=null;_context290.prev=3;_context290.next=6;return _t2645.updatePassword(_e2027);case 6:_context290.next=11;break;case 8:_context290.prev=8;_context290.t0=_context290["catch"](3);_i1692=_context290.t0;case 11:if(!(_i1692&&"auth/requires-recent-login"===_i1692.code)){_context290.next=24;break;}_context290.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context290.sent){_context290.next=24;break;}_i1692=null;_context290.prev=16;_context290.next=19;return _t2645.updatePassword(_e2027);case 19:_context290.next=24;break;case 21:_context290.prev=21;_context290.t1=_context290["catch"](16);_i1692=_context290.t1;case 24:this["#password-input"].disabled=!1,this["#password-change-button"].disabled=!1,this["#password-throbber"].hidden=!0,_i1692?"auth/requires-recent-login"===_i1692.code||("auth/weak-password"===_i1692.code?this["#password-input"].error="The password must be 6 characters long or more":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_i1692.message," (").concat(_i1692.code,")"),buttons:["OK"]})):this.dE();case 25:case"end":return _context290.stop();}}},_callee288,this,[[3,8],[16,21]]);}));function oE(){return _oE.apply(this,arguments);}return oE;}()},{key:"lE",value:function lE(t){t.preventDefault(),this.Qs.navigate(Eg(location.href,"dialog","preferences\u2192subscription"),!0);}},{key:"aE",value:function(){var _aE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee289(){return regeneratorRuntime.wrap(function _callee289$(_context291){while(1){switch(_context291.prev=_context291.next){case 0:this["#users-change-button"].disabled=!1;case 1:case"end":return _context291.stop();}}},_callee289,this);}));function aE(){return _aE.apply(this,arguments);}return aE;}()},{key:"hE",value:function(){var _hE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee290(){var t,_this$UsersEditor$v,e,i,s;return regeneratorRuntime.wrap(function _callee290$(_context292){while(1){switch(_context292.prev=_context292.next){case 0:this["#users-editor"].disabled=!0,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!1;t=this.Qs.user,_this$UsersEditor$v=_toArray(this["#users-editor"].value),e=_this$UsersEditor$v[0],i=_this$UsersEditor$v.slice(1),s=null;_context292.next=4;return ns(4e3);case 4:_context292.prev=4;_context292.next=7;return this.Qs.callCloudFunction("setOrgUsers",{orgLeaderUID:t.uid,orgUsers:i});case 7:_context292.next=12;break;case 9:_context292.prev=9;_context292.t0=_context292["catch"](4);s=_context292.t0;case 12:_context292.next=14;return ns(4e3);case 14:if(!s){_context292.next=22;break;}this["#users-editor"].disabled=!1;this["#users-change-button"].disabled=!1;this["#users-change-throbber"].hidden=!0;_context292.next=20;return this.Qs.openMessageDialog({message:"Failed to change users",detail:jg(s),buttons:["OK"]});case 20:_context292.next=23;break;case 22:this["#users-editor"].disabled=!1,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!0;case 23:case"end":return _context292.stop();}}},_callee290,this,[[4,9]]);}));function hE(){return _hE.apply(this,arguments);}return hE;}()},{key:"qs",value:function qs(){this.rE(),this.dE(),this.cE();}},{key:"rE",value:function rE(){var t=this.Qs.user,e=this.Qs.userSubscription;t?(this["#email-section"].hidden=!1,this["#email-input"].value=t.email,this["#email-input"].error=null,this["#email-verify-button"].disabled=t.emailVerified,this["#email-change-button"].toggled=!1,this["#email-change-button"].disabled=!0,null===e||"deleted"===e.status||void 0===e.status?this["#email-input"].disabled=!1:this["#email-input"].disabled=!0):this["#email-section"].hidden=!0;}},{key:"dE",value:function dE(){this.Qs.user?(this["#password-section"].hidden=!1,this["#password-input"].value="",this["#password-input"].error=null,this["#password-change-button"].toggled=!1,this["#password-change-button"].disabled=!0):this["#password-section"].hidden=!0;}},{key:"cE",value:function cE(){var t=this.Qs.user,e=this.Qs.userSubscription,_Yg7=Yg(e,t),_Yg8=_slicedToArray(_Yg7,2),i=_Yg8[0],s=_Yg8[1];if(s)this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;else if(t){var _i1693=[];e&&e.orgUsers&&(_i1693=e.orgUsers),this["#users-section"].hidden=!1,this["#users-section"].previousElementSibling.hidden=!1,this["#users-editor"].limit=e&&void 0!==e.quantity?e.quantity:1,this["#users-editor"].value=[t.email].concat(_toConsumableArray(_i1693)),this["#users-change-button"].disabled=!0;}else this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;}}]);return $w;}(vw);_defineProperty($w,"_shadowTemplate",Qi(_templateObject576()));_defineProperty($w,"_shadowStyleSheet",Ji(_templateObject577()));customElements.define("bx-authsettings",$w);var Iw=/*#__PURE__*/function(_HTMLElement144){_inherits(Iw,_HTMLElement144);var _super255=_createSuper(Iw);_createClass(Iw,[{key:"planID",get:function get(){return this.hasAttribute("planid")?this.getAttribute("planid"):null;},set:function set(t){null===t?this.removeAttribute("planid"):this.setAttribute("planid",t);}},{key:"quantity",get:function get(){return this.hasAttribute("quantity")?parseInt(this.getAttribute("quantity")):1;},set:function set(t){null===t?this.removeAttribute("quantity"):this.setAttribute("quantity",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Iw(){var _this1143;_classCallCheck(this,Iw);_this1143=_super255.call(this),_this1143._shadowRoot=_this1143.attachShadow({mode:"closed"}),_this1143._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Iw._shadowStyleSheet],_this1143._shadowRoot.append(document.importNode(Iw._shadowTemplate.content,!0));var _iterator1788=_createForOfIteratorHelper(_this1143._shadowRoot.querySelectorAll("[id]")),_step1788;try{for(_iterator1788.s();!(_step1788=_iterator1788.n()).done;){var _t2646=_step1788.value;_this1143["#"+_t2646.id]=_t2646;}}catch(err){_iterator1788.e(err);}finally{_iterator1788.f();}_this1143._shadowRoot.addEventListener("click",function(t){return _this1143["do"](t);}),_this1143["#quantity-input"].addEventListener("change",function(t){return _this1143.pE(t);}),_this1143["#quantity-input"].addEventListener("changeend",function(t){return _this1143.uE(t);}),_this1143["#billing-select"].addEventListener("change",function(){return _this1143.xE();});return _this1143;}_createClass(Iw,[{key:"connectedCallback",value:function connectedCallback(){var _this1144=this;this.Qs=Gi(this,"#app"),this.qs(),Us.addEventListener("sizechange",this.hp=function(){_this1144.bE();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Us.removeEventListener("sizechange",this.hp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("planid"===t||"quantity"===t||"disabled"===t)&&this.qs();}},{key:"do",value:function _do(t){var n=t.target.closest("a"),o=t.target.closest("td");if(n)t.preventDefault(),this.Qs.navigate(n.href,!0);else if(o&&o.cellIndex>0&&o.closest("thead, tbody")){var _t2647;1===o.cellIndex?_t2647=e:2===o.cellIndex&&("monthly"===this["#billing-select"].value?_t2647=s:"yearly"===this["#billing-select"].value&&(_t2647=i)),_t2647!==this.planID&&(this.planID=_t2647,this.dispatchEvent(new CustomEvent("change")));}}},{key:"pE",value:function pE(t){var _Wg=Wg(this.planID,this["#quantity-input"].value),_Wg2=_slicedToArray(_Wg,2),e=_Wg2[0],i=_Wg2[1];this["#discount-span"].textContent=i,this["#price-span"].textContent=e;}},{key:"uE",value:function uE(t){this.quantity=this["#quantity-input"].value,this.dispatchEvent(new CustomEvent("change"));}},{key:"xE",value:function xE(){"yearly"===this["#billing-select"].value?(this.planID=i,this.dispatchEvent(new CustomEvent("change"))):"monthly"===this["#billing-select"].value&&(this.planID=s,this.dispatchEvent(new CustomEvent("change")));}},{key:"qs",value:function qs(){this.mE(),this.bE();}},{key:"mE",value:function mE(){var _Wg3=Wg(this.planID,this.quantity),_Wg4=_slicedToArray(_Wg3,2),t=_Wg4[0],n=_Wg4[1];if(this["#standard-plan-radio"].disabled=this.disabled,this["#premium-plan-radio"].disabled=this.disabled,this["#standard-plan-radio"].toggled=this.planID===e,this["#premium-plan-radio"].toggled=this.planID===s||this.planID===i,this["#cloud-button"].disabled=this.planID===e,this.disabled?(this["#quantity-help-button"].collapse(),this["#quantity-help-button"].disabled=!0):this["#quantity-help-button"].disabled=!1,null===this.planID?(this["#quantity-input"].disabled=!0,this["#quantity-input"].value=1):(this["#quantity-input"].disabled=this.disabled,this["#quantity-input"].value=this.quantity),this.disabled?(this["#discount-help-button"].collapse(),this["#discount-help-button"].disabled=!0):this["#discount-help-button"].disabled=!1,this["#discount-span"].textContent=n,null===this.planID?this["#billing-select"].disabled=!0:this.planID===e?(this["#billing-select"].disabled=!0,this["#billing-select"].value="yearly"):this.planID!==s&&this.planID!==i||(this["#billing-select"].disabled=!1,this["#billing-select"].value=this.planID===s?"monthly":"yearly"),this.disabled?(this["#price-help-button"].collapse(),this["#price-help-button"].disabled=!0):this["#price-help-button"].disabled=!1,this["#price-span"].textContent=t,null===this.planID){var _iterator1789=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1789;try{for(_iterator1789.s();!(_step1789=_iterator1789.n()).done;){var _t2648=_step1789.value;_t2648.part.remove("selected-cell");}}catch(err){_iterator1789.e(err);}finally{_iterator1789.f();}var _iterator1790=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1790;try{for(_iterator1790.s();!(_step1790=_iterator1790.n()).done;){var _t2649=_step1790.value;_t2649.part.remove("selected-cell");}}catch(err){_iterator1790.e(err);}finally{_iterator1790.f();}this["#quantity-td"].part.remove("selected-cell"),this["#discount-td"].part.remove("selected-cell"),this["#billing-td"].part.remove("selected-cell"),this["#price-td"].part.remove("selected-cell");}else if(this.planID===e){var _iterator1791=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1791;try{for(_iterator1791.s();!(_step1791=_iterator1791.n()).done;){var _t2650=_step1791.value;1===_t2650.cellIndex?_t2650.part.add("selected-cell"):_t2650.part.remove("selected-cell");}}catch(err){_iterator1791.e(err);}finally{_iterator1791.f();}var _iterator1792=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1792;try{for(_iterator1792.s();!(_step1792=_iterator1792.n()).done;){var _t2651=_step1792.value;1===_t2651.cellIndex?_t2651.part.add("selected-cell"):_t2651.part.remove("selected-cell");}}catch(err){_iterator1792.e(err);}finally{_iterator1792.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}else if(this.planID===s||this.planID===i){var _iterator1793=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1793;try{for(_iterator1793.s();!(_step1793=_iterator1793.n()).done;){var _t2652=_step1793.value;2===_t2652.cellIndex?_t2652.part.add("selected-cell"):_t2652.part.remove("selected-cell");}}catch(err){_iterator1793.e(err);}finally{_iterator1793.f();}var _iterator1794=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1794;try{for(_iterator1794.s();!(_step1794=_iterator1794.n()).done;){var _t2653=_step1794.value;2===_t2653.cellIndex?_t2653.part.add("selected-cell"):_t2653.part.remove("selected-cell");}}catch(err){_iterator1794.e(err);}finally{_iterator1794.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}}},{key:"bE",value:function bE(){this["#table"].setAttribute("data-size",Us.size);}}]);return Iw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Iw,"observedAttributes",["planid","quantity","disabled"]);_defineProperty(Iw,"_shadowTemplate",Qi(_templateObject578()));_defineProperty(Iw,"_shadowStyleSheet",Ji(_templateObject579()));customElements.define("bx-planselectblock",Iw);var Lw=/*#__PURE__*/function(_vw8){_inherits(Lw,_vw8);var _super256=_createSuper(Lw);function Lw(){var _this1145;_classCallCheck(this,Lw);_this1145=_super256.call(this),_this1145["#plan-select-block"].addEventListener("change",function(){return _this1145.gE();}),_this1145["#billing-button"].addEventListener("click",function(){return _this1145.fE();}),_this1145["#cancel-button"].addEventListener("click",function(){return _this1145.wE();}),_this1145["#subscribe-button"].addEventListener("click",function(){return _this1145.vE();});return _this1145;}_createClass(Lw,[{key:"tn",value:function tn(){var _this1146=this;this.Qs.addEventListener("usersubscriptionchange",this.yE=function(){_this1146.qs();}),this.qs();}},{key:"en",value:function en(){this["#plan-select-block"].disabled=!0,this.Qs.removeEventListener("usersubscriptionchange",this.yE);}},{key:"gE",value:function gE(){this.kE();}},{key:"fE",value:function fE(){window.open(this["#billing-button"].value);}},{key:"wE",value:function wE(){window.open(this["#cancel-button"].value);}},{key:"vE",value:function(){var _vE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee291(){var t,e,i,s,_n766,_t2654;return regeneratorRuntime.wrap(function _callee291$(_context293){while(1){switch(_context293.prev=_context293.next){case 0:t=this.Qs.user,e=this.Qs.userSubscription,i=this["#plan-select-block"].planID,s=this["#plan-select-block"].quantity;if(!(null===e||"deleted"===e.status||"past_due"===e.status&&null!==e.cancellationEffectiveDate)){_context293.next=5;break;}this.Qs.navigate(Eg(location.href,"dialog","checkout\u2192".concat(i,"\xD7").concat(s)));_context293.next=27;break;case 5:if(!("active"===e.status)){_context293.next=27;break;}_context293.next=8;return this.Qs.openPasswordConfirmDialog();case 8:if(!_context293.sent){_context293.next=27;break;}this["#main"].hidden=!0,this["#progress-bar"].hidden=!1,this.Qs.lockInput();_n766=null;_context293.prev=11;_context293.next=14;return this.Qs.callCloudFunction("changeUserSubscriptionPlan",{userUID:t.uid,subscriptionID:e.subscriptionID,planID:i,quantity:s});case 14:_context293.next=19;break;case 16:_context293.prev=16;_context293.t0=_context293["catch"](11);_n766=_context293.t0;case 19:if(!(this["#main"].hidden=!1,this["#progress-bar"].hidden=!0,this.Qs.unlockInput(),_n766)){_context293.next=24;break;}_context293.next=22;return this.Qs.openMessageDialog({message:"Failed to change the current plan",detail:jg(_n766),buttons:["OK"]});case 22:_context293.next=27;break;case 24:_t2654=this.SE(i,s);_context293.next=27;return this.Qs.openMessageDialog({message:"Changed the current plan",detail:"Your new plan is: ".concat(_t2654,"."),buttons:["OK"]});case 27:case"end":return _context293.stop();}}},_callee291,this,[[11,16]]);}));function vE(){return _vE.apply(this,arguments);}return vE;}()},{key:"SE",value:function SE(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o,l;return l=1===n?"1 user":"".concat(n," users"),t===e?o="Standard (yearly billing, ".concat(l,")"):t===s?o="Premium (monthly billing, ".concat(l,")"):t===i&&(o="Premium (yearly billing, ".concat(l,")")),o;}},{key:"qs",value:function qs(){this._E(),this.CE(),this.kE();}},{key:"_E",value:function _E(){var t=this.Qs.user;if(null===t)this["#info-section"].hidden=!0;else{this["#info-section"].hidden=!1;var _i1694=this.Qs.userSubscription,_Yg9=Yg(_i1694,t),_Yg10=_slicedToArray(_Yg9,3),_s995=_Yg10[0],_n767=_Yg10[1],_o571=_Yg10[2];if(null===_i1694){if(this["#subscription-plan-span"].textContent="Standard",_o571){var _e2028=moment().to(moment(t.metadata.creationTime).add(15,"days"),!0);this["#subscription-status-span"].textContent="Trial (".concat(_e2028," remaining)");}else this["#subscription-status-span"].textContent="Canceled (trial period expired)";}else if(!0===_n767)this["#subscription-plan-span"].textContent=_s995===e?"Standard":"Premium",this["#subscription-status-span"].textContent="Active (contact your organization admin to make changes)";else{this["#subscription-plan-span"].textContent=this.SE(_s995,_i1694.quantity);var _t2655=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"});if("active"===_i1694.status){var _e2029=_t2655.format(new Date(_i1694.nextBillDate));this["#subscription-status-span"].textContent="Active (next payment due on ".concat(_e2029,")");}else if("deleted"===_i1694.status){var _e2030=_t2655.format(new Date(_i1694.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e2030,")");}else if("past_due"===_i1694.status)if(null===_i1694.cancellationEffectiveDate)this["#subscription-status-span"].textContent="Past due (please update your billing information)";else{var _e2031=_t2655.format(new Date(_i1694.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e2031,")");}}}}},{key:"CE",value:function CE(){var t=this.Qs.user;if(null===t)this["#plan-section"].hidden=!0;else{var _i1695=this.Qs.userSubscription,_Yg11=Yg(_i1695,t),_Yg12=_slicedToArray(_Yg11,2),_s996=_Yg12[0],_n768=_Yg12[1];this["#plan-section"].hidden=!1,this["#plan-select-block"].disabled=_n768,this["#plan-select-block"].planID=_s996||e,this["#plan-select-block"].quantity=_n768?1:_i1695?_i1695.quantity:1;}}},{key:"kE",value:function kE(){var t=this.Qs.user;if(null===t)this["#buttons-section"].hidden=!0;else{this["#buttons-section"].hidden=!1;var _e2032=this.Qs.userSubscription,_Yg13=Yg(_e2032,t),_Yg14=_slicedToArray(_Yg13,2),_i1696=_Yg14[0],_s997=_Yg14[1];_s997?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Subscribe"):null===_e2032||"deleted"===_e2032.status?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"):"active"===_e2032.status?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e2032.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e2032.cancelURL,this["#subscribe-button"].disabled=this["#plan-select-block"].planID===_e2032.subscriptionPlanID&&this["#plan-select-block"].quantity===_e2032.quantity,this["#subscribe-button-label"].textContent="Change plan"):"past_due"===_e2032.status&&(null===_e2032.cancellationEffectiveDate?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e2032.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e2032.cancelURL,this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Change plan"):(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"));}}}]);return Lw;}(vw);_defineProperty(Lw,"_shadowTemplate",Qi(_templateObject580()));_defineProperty(Lw,"_shadowStyleSheet",Ji(_templateObject581()));customElements.define("bx-subscriptionsettings",Lw);var Rw=/*#__PURE__*/function(_vw9){_inherits(Rw,_vw9);var _super257=_createSuper(Rw);function Rw(){var _this1147;_classCallCheck(this,Rw);_this1147=_super257.call(this),_this1147["#password-input"].addEventListener("input",function(){return _this1147.qs();}),_this1147["#delete-account-button"].addEventListener("click",function(){return _this1147.ME();});return _this1147;}_createClass(Rw,[{key:"tn",value:function tn(){var _this1148=this;this.PE=firebase.auth().onAuthStateChanged(function(t){return _this1148.qs();}),this.qs();}},{key:"en",value:function en(){this.PE();}},{key:"qs",value:function qs(){0===this["#password-input"].value.length?(this["#delete-account-button"].disabled=!0,this["#delete-account-button"].toggled=!1,this["#delete-account-button"].part.remove("delete-button")):(this["#delete-account-button"].disabled=!1,this["#delete-account-button"].toggled=!0,this["#delete-account-button"].part.add("delete-button"));}},{key:"ME",value:function(){var _ME=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee292(){var _t2656,_e2033,_i1697,_s998,_t2657,_e2034,_t2658;return regeneratorRuntime.wrap(function _callee292$(_context294){while(1){switch(_context294.prev=_context294.next){case 0:this["#default-view"].hidden=!0,this["#progress-view"].hidden=!1,this.Qs.lockInput();this["#progress-label"].textContent="Validating password\u2026";_t2656=this.Qs.user,_e2033=this["#password-input"].value,_i1697=firebase.auth.EmailAuthProvider.credential(_t2656.email,_e2033),_s998=null;_context294.prev=3;_context294.next=6;return _t2656.reauthenticateWithCredential(_i1697);case 6:_context294.next=11;break;case 8:_context294.prev=8;_context294.t0=_context294["catch"](3);_s998=_context294.t0;case 11:if(!_s998){_context294.next=23;break;}this["#default-view"].hidden=!1;this["#progress-view"].hidden=!0;this.Qs.unlockInput();if(!("auth/wrong-password"===_s998.code)){_context294.next=19;break;}_context294.t1=(this["#password-input"].error="Wrong password",this["#delete-account-button"].disabled=!0);_context294.next=22;break;case 19:_context294.next=21;return this.Qs.openMessageDialog({message:"Error",detail:"".concat(_s998.message," (").concat(_s998.code,")"),buttons:["OK"]});case 21:_context294.t1=_context294.sent;case 22:return _context294.abrupt("return",void _context294.t1);case 23:this["#progress-label"].textContent="Deleting account\u2026";_t2657=this.Qs.user,_e2034=null;_context294.prev=25;_context294.next=28;return this.Qs.callCloudFunction("deleteUser",_t2657.uid);case 28:_context294.next=33;break;case 30:_context294.prev=30;_context294.t2=_context294["catch"](25);_e2034=_context294.t2;case 33:if(!_e2034){_context294.next=35;break;}return _context294.abrupt("return",(this["#default-view"].hidden=!1,this["#progress-view"].hidden=!0,this.Qs.unlockInput(),void this.Qs.openMessageDialog({message:"Failed to delete user account",detail:jg(_e2034),buttons:["OK"]})));case 35:this["#progress-label"].textContent="Logging out\u2026";_context294.next=38;return ns(1e3);case 38:_context294.next=40;return firebase.auth().signOut();case 40:this.Qs.unlockInput();_t2658=Gi(this,"dialog");_t2658&&_t2658.close();case 43:case"end":return _context294.stop();}}},_callee292,this,[[3,8],[25,30]]);}));function ME(){return _ME.apply(this,arguments);}return ME;}()}]);return Rw;}(vw);_defineProperty(Rw,"_shadowTemplate",Qi(_templateObject582()));_defineProperty(Rw,"_shadowStyleSheet",Ji(_templateObject583()));customElements.define("bx-deleteaccountsettings",Rw);var Bw=/*#__PURE__*/function(_HTMLElement145){_inherits(Bw,_HTMLElement145);var _super258=_createSuper(Bw);_createClass(Bw,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"general";},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}}]);function Bw(){var _temp52,_this1149;_classCallCheck(this,Bw);(_temp52=_this1149=_super258.call(this),_defineProperty(_assertThisInitialized(_this1149),"commands",{copy:{exec:function exec(){return document.execCommand("copy");}},cut:{exec:function exec(){return document.execCommand("cut");}},paste:{exec:function exec(){return document.execCommand("paste");}},selectAll:{exec:function exec(){return document.execCommand("selectAll");}},undo:{exec:function exec(){return document.execCommand("undo");}},redo:{exec:function exec(){return document.execCommand("redo");}}}),_temp52),_this1149._shadowRoot=_this1149.attachShadow({mode:"closed"}),_this1149._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Bw._shadowStyleSheet],_this1149._shadowRoot.append(document.importNode(Bw._shadowTemplate.content,!0));var _iterator1795=_createForOfIteratorHelper(_this1149._shadowRoot.querySelectorAll("[id]")),_step1795;try{for(_iterator1795.s();!(_step1795=_iterator1795.n()).done;){var _t2659=_step1795.value;_this1149["#"+_t2659.id]=_t2659;}}catch(err){_iterator1795.e(err);}finally{_iterator1795.f();}_this1149.setAttribute("tabindex","0"),_this1149["#sidebar-buttons"].addEventListener("toggle",function(){_this1149.value=_this1149["#sidebar-buttons"].value,_this1149.dispatchEvent(new CustomEvent("valuechange"));}),_this1149["#logout-button"].addEventListener("click",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee293(){return regeneratorRuntime.wrap(function _callee293$(_context295){while(1){switch(_context295.prev=_context295.next){case 0:_context295.next=2;return firebase.auth().signOut();case 2:_this1149.DE&&_this1149.DE.close();case 3:case"end":return _context295.stop();}}},_callee293);}))),_this1149.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1149.DE&&_this1149.DE.close();});return _this1149;}_createClass(Bw,[{key:"connectedCallback",value:function connectedCallback(){var _this1150=this;this.Qs=Gi(this,"#app"),this.DE=Gi(this,"dialog"),this.Qs.addEventListener("userchange",this.zC=function(){_this1150.qs();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("userchange",this.zC);var _iterator1796=_createForOfIteratorHelper(this["#main"].children),_step1796;try{for(_iterator1796.s();!(_step1796=_iterator1796.n()).done;){var _t2660=_step1796.value;_t2660.enabled=!1;}}catch(err){_iterator1796.e(err);}finally{_iterator1796.f();}}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.ux();}},{key:"ux",value:function ux(){this.isConnected&&this.qs();}},{key:"qs",value:function qs(){var t=void 0!==this.Qs.user&&null!==this.Qs.user,e=this.value;["profile","auth","subscription","delete-account"].includes(e)&&!1===t&&(e="general"),this["#sidebar-buttons"].value=e,this["#profile-button"].hidden=!1===t,this["#auth-button"].hidden=!1===t,this["#subscription-button"].hidden=!1===t,this["#delete-account-button"].hidden=!1===t,this["#logout-button"].hidden=!1===t,this["#sidebar-separator-1"].hidden=!1===t,this["#sidebar-separator-2"].hidden=!1===t;var _iterator1797=_createForOfIteratorHelper(this["#main"].children),_step1797;try{for(_iterator1797.s();!(_step1797=_iterator1797.n()).done;){var _t2661=_step1797.value;_t2661.enabled=_t2661.getAttribute("data-name")===e;}}catch(err){_iterator1797.e(err);}finally{_iterator1797.f();}}}]);return Bw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bw,"observedAttributes",["value"]);_defineProperty(Bw,"_shadowTemplate",Qi(_templateObject584()));_defineProperty(Bw,"_shadowStyleSheet",Ji(_templateObject585()));customElements.define("bx-preferences",Bw);var Gw=/*#__PURE__*/function(_HTMLElement146){_inherits(Gw,_HTMLElement146);var _super259=_createSuper(Gw);_createClass(Gw,[{key:"version",get:function get(){return this.hasAttribute("version")?this.getAttribute("version"):"1.0.0";},set:function set(t){this.setAttribute("version",t);}}]);function Gw(){var _temp53,_this1151;_classCallCheck(this,Gw);(_temp53=_this1151=_super259.call(this),_defineProperty(_assertThisInitialized(_this1151),"commands",{}),_defineProperty(_assertThisInitialized(_this1151),"_v",0),_temp53),_this1151._shadowRoot=_this1151.attachShadow({mode:"closed"}),_this1151._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Gw._shadowStyleSheet],_this1151._shadowRoot.append(document.importNode(Gw._shadowTemplate.content,!0));var _iterator1798=_createForOfIteratorHelper(_this1151._shadowRoot.querySelectorAll("[id]")),_step1798;try{for(_iterator1798.s();!(_step1798=_iterator1798.n()).done;){var _t2662=_step1798.value;_this1151["#"+_t2662.id]=_t2662;}}catch(err){_iterator1798.e(err);}finally{_iterator1798.f();}_this1151.setAttribute("tabindex","0"),_this1151["#main"].addEventListener("scroll",function(){return _this1151.Rc();}),_this1151.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1151.DE&&_this1151.DE.close();});return _this1151;}_createClass(Gw,[{key:"connectedCallback",value:function(){var _connectedCallback9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee294(){var _iterator1799,_step1799,_t2663;return regeneratorRuntime.wrap(function _callee294$(_context296){while(1){switch(_context296.prev=_context296.next){case 0:this.Qs=Gi(this,"#app");this.DE=Gi(this,"dialog");_context296.t0=null===this["#main"].firstElementChild;if(!_context296.t0){_context296.next=9;break;}_context296.next=6;return fetch("/templates/about.tpl");case 6:_context296.next=8;return _context296.sent.text();case 8:this["#main"].innerHTML=_context296.sent;case 9:if(!("bx-chromeapp"===this.Qs.localName)){_context296.next=12;break;}_iterator1799=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[rel="noopener"]'));try{for(_iterator1799.s();!(_step1799=_iterator1799.n()).done;){_t2663=_step1799.value;_t2663.removeAttribute("rel");}}catch(err){_iterator1799.e(err);}finally{_iterator1799.f();}case 12:this["#main"].scrollTop=this._v;case 13:case"end":return _context296.stop();}}},_callee294,this);}));function connectedCallback(){return _connectedCallback9.apply(this,arguments);}return connectedCallback;}()},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"version"===t&&(this["#version"].textContent="Version ".concat(this.version));}},{key:"Rc",value:function Rc(){this._v=this["#main"].scrollTop;}}]);return Gw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gw,"observedAttributes",["version"]);_defineProperty(Gw,"_shadowTemplate",Qi(_templateObject586(),new Date().getFullYear()));_defineProperty(Gw,"_shadowStyleSheet",Ji(_templateObject587()));customElements.define("bx-about",Gw);var Uw=/*#__PURE__*/function(_HTMLElement147){_inherits(Uw,_HTMLElement147);var _super260=_createSuper(Uw);_createClass(Uw,[{key:"throbber",get:function get(){return this.hasAttribute("throbber");},set:function set(t){t?this.setAttribute("throbber",""):this.removeAttribute("throbber");}},{key:"dirty",get:function get(){return this.zE;}}]);function Uw(){var _this1152;_classCallCheck(this,Uw);_this1152=_super260.call(this),_this1152.OE=!1,_this1152.zE=!1;var t=_this1152.constructor.EE,e=_this1152.constructor.RC,i=_this1152.constructor.BC;_this1152._shadowRoot=_this1152.attachShadow({mode:"closed"}),_this1152._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,Uw._shadowStyleSheet,_this1152.constructor._shadowStyleSheet],_this1152._shadowRoot.append(document.importNode(Uw._shadowTemplate.content,!0)),t&&_this1152._shadowRoot.querySelector("#header").append(document.importNode(t.content,!0)),e&&_this1152._shadowRoot.querySelector("#main").append(document.importNode(e.content,!0)),i&&_this1152._shadowRoot.querySelector("#footer").append(document.importNode(i.content,!0));var _iterator1800=_createForOfIteratorHelper(_this1152._shadowRoot.querySelectorAll("[id]")),_step1800;try{for(_iterator1800.s();!(_step1800=_iterator1800.n()).done;){var _t2664=_step1800.value;_this1152["#"+_t2664.id]=_t2664;}}catch(err){_iterator1800.e(err);}finally{_iterator1800.f();}_this1152.setAttribute("extends","bx-form"),_this1152.setAttribute("tabindex","0"),_this1152.addEventListener("keydown",function(t){return _this1152.wn(t);});return _this1152;}_createClass(Uw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Gi(this,"#app"),this.DE=Gi(this,"dialog");}},{key:"disconnectedCallback",value:function disconnectedCallback(){}},{key:"blinkFooter",value:function blinkFooter(){var _this1153=this;return new Promise(/*#__PURE__*/function(){var _ref232=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee295(t){return regeneratorRuntime.wrap(function _callee295$(_context297){while(1){switch(_context297.prev=_context297.next){case 0:_context297.t0=!1===_this1153.OE;if(!_context297.t0){_context297.next=14;break;}_this1153.OE=!0;_this1153.setAttribute("blink","");_context297.next=6;return ns(200);case 6:_this1153.removeAttribute("blink","");_context297.next=9;return ns(200);case 9:_this1153.setAttribute("blink","");_context297.next=12;return ns(200);case 12:_this1153.removeAttribute("blink","");_this1153.OE=!1;case 14:t();case 15:case"end":return _context297.stop();}}},_callee295);}));return function(_x276){return _ref232.apply(this,arguments);};}());}},{key:"clear",value:function clear(){this.zE=!1;}},{key:"wn",value:function wn(t){if(t.stopPropagation(),"Escape"===t.code&&t.preventDefault(),!1===this.throbber&&this.matches(":focus"))if("Escape"===t.code)this.dirty?this.blinkFooter():this["#cancel-button"]?this["#cancel-button"].click():this.DE&&this.DE.close();else if("Enter"===t.code||"Space"===t.code){var _e2035=this["#footer"].querySelector("x-button[toggled]");_e2035&&!1===_e2035.disabled&&t.target!==_e2035&&_e2035.click();}}}]);return Uw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Uw,"_shadowTemplate",Qi(_templateObject588()));_defineProperty(Uw,"_shadowStyleSheet",Ji(_templateObject589()));var Fw=/*#__PURE__*/function(_Uw){_inherits(Fw,_Uw);var _super261=_createSuper(Fw);function Fw(){var _this1154;_classCallCheck(this,Fw);_this1154=_super261.call(this),_this1154["#ok-button"].addEventListener("click",function(){return _this1154.DE.close();});return _this1154;}return Fw;}(Uw);_defineProperty(Fw,"RC",Qi(_templateObject590()));_defineProperty(Fw,"BC",Qi(_templateObject591()));_defineProperty(Fw,"_shadowStyleSheet",Ji(_templateObject592()));customElements.define("bx-chromeinstallform",Fw);var Nw=/*#__PURE__*/function(_Uw2){_inherits(Nw,_Uw2);var _super262=_createSuper(Nw);function Nw(){_classCallCheck(this,Nw);return _super262.apply(this,arguments);}return Nw;}(Uw);_defineProperty(Nw,"RC",Qi(_templateObject593()));_defineProperty(Nw,"_shadowStyleSheet",Ji(_templateObject594()));customElements.define("bx-chromesigninform",Nw);var Vw=/*#__PURE__*/function(_Uw3){_inherits(Vw,_Uw3);var _super263=_createSuper(Vw);function Vw(){var _this1155;_classCallCheck(this,Vw);_this1155=_super263.call(this),_this1155["#close-button"].addEventListener("click",function(){return chrome.app.window.current().close();});return _this1155;}return Vw;}(Uw);_defineProperty(Vw,"RC",Qi(_templateObject595()));_defineProperty(Vw,"BC",Qi(_templateObject596()));_defineProperty(Vw,"_shadowStyleSheet",Ji(_templateObject597()));customElements.define("bx-chrometrialform",Vw);var jw=/*#__PURE__*/function(_Uw4){_inherits(jw,_Uw4);var _super264=_createSuper(jw);function jw(t){var _this1156;_classCallCheck(this,jw);if(_this1156=_super264.call(this),t.message&&(_this1156["#message"].innerHTML=pi(t.message)),t.detail){var _e2036=t.detail.startsWith("<p")?t.detail:"<p>".concat(t.detail,"</p>");_this1156["#detail"].innerHTML=pi(_e2036);}if(t.buttons){var _e2037="";for(var _i1698=t.buttons.length-1;_i1698>=0;_i1698-=1){_e2037+="\n          <x-button value=\"".concat(_i1698,"\" ").concat(0===_i1698?"toggled":"",">\n            <x-label>").concat(t.buttons[_i1698],"</x-label>\n          </x-button>\n        ");}_this1156["#footer"].innerHTML=_e2037;}_this1156["#footer"].addEventListener("click",function(t){return _this1156.TE(t);});return _possibleConstructorReturn(_this1156);}_createClass(jw,[{key:"TE",value:function TE(t){var e=t.target.closest("x-button");e&&this.dispatchEvent(new CustomEvent("submit",{detail:parseInt(e.value)}));}}]);return jw;}(Uw);_defineProperty(jw,"RC",Qi(_templateObject598()));_defineProperty(jw,"_shadowStyleSheet",Ji(_templateObject599()));customElements.define("bx-messageform",jw);var Hw=[{postscriptName:"Ahem",family:"Ahem",style:"Regular",fullName:"Ahem Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Arimo-Regular",family:"Arimo",style:"Regular",fullName:"Arimo Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Arimo-Bold",family:"Arimo",style:"Bold",fullName:"Arimo Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Arimo-Italic",family:"Arimo",style:"Italic",fullName:"Arimo Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Arimo-BoldItalic",family:"Arimo",style:"Bold Italic",fullName:"Arimo Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"Cousine-Regular",family:"Cousine",style:"Regular",fullName:"Cousine Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Cousine-Bold",family:"Cousine",style:"Bold",fullName:"Cousine Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Cousine-Italic",family:"Cousine",style:"Italic",fullName:"Cousine Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Cousine-BoldItalic",family:"Cousine",style:"Bold Italic",fullName:"Cousine Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"DejaVuSans",family:"DejaVu Sans",style:"Regular",fullName:"DejaVu Sans Regular",italic:!1,weight:400,stretch:1},{postscriptName:"DejaVuSans-Bold",family:"DejaVu Sans",style:"Bold",fullName:"DejaVu Sans Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Garuda",family:"Garuda",style:"Regular",fullName:"Garuda Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Gelasio-Regular",family:"Gelasio",style:"Regular",fullName:"Gelasio Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Gelasio-Bold",family:"Gelasio",style:"Bold",fullName:"Gelasio Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Gelasio-Italic",family:"Gelasio",style:"Italic",fullName:"Gelasio Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Gelasio-BoldItalic",family:"Gelasio",style:"Bold Italic",fullName:"Gelasio Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"Lohit-Devanagari",family:"Lohit Devanagari",style:"Regular",fullName:"Lohit Devanagari Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Lohit-Gurmukhi",family:"Lohit Gurmukhi",style:"Regular",fullName:"Lohit Gurmukhi Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Lohit-Tamil",family:"Lohit Tamil",style:"Regular",fullName:"Lohit Tamil Regular",italic:!1,weight:400,stretch:1},{postscriptName:"NotoSansKhmer-Regular",family:"Noto Sans Khmer",style:"Regular",fullName:"Noto Sans Khmer Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Tinos-Regular",family:"Tinos",style:"Regular",fullName:"Tinos Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Tinos-Bold",family:"Tinos",style:"Bold",fullName:"Tinos Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Tinos-Italic",family:"Tinos",style:"Italic",fullName:"Tinos Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Tinos-BoldItalic",family:"Tinos",style:"Bold Italic",fullName:"Tinos Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"muktinarrow",family:"Mukti Narrow",style:"Regular",fullName:"Mukti Narrow Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Roboto-Regular",family:"Roboto",style:"Regular",fullName:"Roboto Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Roboto-Bold",family:"Roboto",style:"Bold",fullName:"Roboto Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Roboto-Italic",family:"Roboto",style:"Italic",fullName:"Roboto Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Roboto-BoldItalic",family:"Roboto",style:"Bold Italic",fullName:"Roboto Bold Italic",italic:!0,weight:700,stretch:1}],Ww=function Ww(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/plain";return new Promise(/*#__PURE__*/function(){var _ref233=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee296(s,n){var o;return regeneratorRuntime.wrap(function _callee296$(_context298){while(1){switch(_context298.prev=_context298.next){case 0:_context298.next=2;return Kw(t);case 2:o=_context298.sent;o?o.createWriter(function(t){var _o572,_l426,a=e instanceof Blob?e:new Blob([e],{type:i}),h="write";t.addEventListener("writeend",_o572=function o(e){"write"===h?(h="truncate",t.truncate(a.size)):"truncate"===h&&(t.removeEventListener("writeend",_o572),t.removeEventListener("error",_l426),s());}),t.addEventListener("error",_l426=function l(e){t.removeEventListener("writeend",_o572),t.removeEventListener("error",_l426),n("READ_ONLY");}),t.write(a);},function(t){n("NOT_FOUND");}):n("READ_ONLY");case 4:case"end":return _context298.stop();}}},_callee296);}));return function(_x277,_x278){return _ref233.apply(this,arguments);};}());},Yw=function Yw(t){return new Promise(function(e,i){chrome.fileSystem.chooseEntry(t,function(s){chrome.runtime.lastError?"User cancelled"===chrome.runtime.lastError.message?e(!0===t.acceptsMultiple?[]:null):i(chrome.runtime.lastError.message):e(s);});});},qw=function qw(t){return new Promise(function(e){chrome.fileSystem.restoreEntry(t,function(t){t?t.file(function(){return e(t);},function(){return e(null);}):e(null);});});},Xw=/*#__PURE__*/function(){var _ref234=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee298(t,e){return regeneratorRuntime.wrap(function _callee298$(_context300){while(1){switch(_context300.prev=_context300.next){case 0:return _context300.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref235=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee297(i){return regeneratorRuntime.wrap(function _callee297$(_context299){while(1){switch(_context299.prev=_context299.next){case 0:_context299.t0=i;_context299.next=3;return Zw(t);case 3:_context299.t1=_context299.sent;_context299.next=6;return Zw(e);case 6:_context299.t2=_context299.sent;_context299.t3=_context299.t1===_context299.t2;(0,_context299.t0)(_context299.t3);case 9:case"end":return _context299.stop();}}},_callee297);}));return function(_x281){return _ref235.apply(this,arguments);};}()));case 1:case"end":return _context300.stop();}}},_callee298);}));return function Xw(_x279,_x280){return _ref234.apply(this,arguments);};}(),Zw=function Zw(t){return new Promise(function(e){chrome.fileSystem.getDisplayPath(t,function(t){e(t);});});},Kw=function Kw(t){return new Promise(function(e){chrome.fileSystem.isWritableEntry(t,function(i){i?e(t):chrome.fileSystem.getWritableEntry(t,function(t){chrome.runtime.lastError?e(null):e(t);});});});},Qw=Math.pow,Jw=Math.sqrt,tv=Object.entries,ev=Symbol(),iv=Symbol(),sv=Symbol(),nv=Symbol(),ov=Symbol();var lv=/*#__PURE__*/function(_HTMLElement148){_inherits(lv,_HTMLElement148);var _super265=_createSuper(lv);_createClass(lv,[{key:"currentTab",get:function get(){return this["#tabs"].querySelector("x-doctab[selected]");}},{key:"currentEditorTab",get:function get(){var t=this.currentTab;return t&&"editor"===t[ev]?t:null;}},{key:"currentEditor",get:function get(){return this.currentEditorTab?this.currentEditorTab[iv]:null;}},{key:"currentView",get:function get(){return this.currentTab?this.currentTab[iv]:null;}},{key:"textInputMode",get:function get(){return this.AE;}},{key:"modKeys",get:function get(){var _this$$E=this.$E,t=_this$$E.ctrl,e=_this$$E.alt,i=_this$$E.meta,s=_this$$E.shift;return{ctrl:t,alt:e,meta:i,shift:s};}},{key:"pointerClientPoint",get:function get(){return new DOMPoint(this.IE,this.LE);}},{key:"pointerPressure",get:function get(){return this.RE;}},{key:"pointers",get:function get(){return _toConsumableArray(this.BE);}},{key:"pointerClickCount",get:function get(){return this.GE;}},{key:"isPointerDown",get:function get(){return this.UE;}},{key:"hardwareAcceleration",get:function get(){return new Promise(function(t){return t(!0);});},set:function set(t){}}]);function lv(){var _temp54,_this1157;_classCallCheck(this,lv);(_temp54=_this1157=_super265.call(this),_defineProperty(_assertThisInitialized(_this1157),"commands",{"new":{exec:function exec(){return _this1157.FE();}},newFromSelected:{enabled:function enabled(){return _this1157.NE();},exec:function exec(){return _this1157.VE();}},newFromClipboard:{exec:function exec(){return _this1157.jE();}},open:{exec:function exec(){return _this1157.HE();}},clearRecent:{exec:function exec(){return _this1157.WE();}},save:{exec:function exec(){return _this1157.YE();}},saveAs:{exec:function exec(){return _this1157.qE();}},reloadFromDisk:{enabled:function enabled(){return _this1157.currentEditorTab&&null!==_this1157.currentEditorTab[sv];},exec:function exec(){return _this1157.XE();}},close:{exec:function exec(){return _this1157.ZE(_this1157.currentTab);}},quit:{exec:function exec(){return _this1157.KE();}},preferences:{exec:function exec(){return _this1157.QE();}},minimize:{exec:function exec(){return _this1157.JE();}},maximize:{exec:function exec(){return _this1157.tT();}},previousTab:{exec:function exec(){return _this1157.eT();}},nextTab:{exec:function exec(){return _this1157.iT();}},moveTabLeft:{exec:function exec(){return _this1157["#tabs"].moveSelectedTabLeft();}},moveTabRight:{exec:function exec(){return _this1157["#tabs"].moveSelectedTabRight();}},about:{exec:function exec(){return _this1157.sT();}}}),_temp54),_this1157.$E={ctrl:!1,alt:!1,meta:!1,shift:!1},_this1157.AE=!1,_this1157.BE=new Set(),_this1157.IE=0,_this1157.LE=0,_this1157.RE=0,_this1157.GE=0,_this1157.UE=!1,_this1157.nT=[],_this1157.oT=0,_this1157.lT={},_this1157.aT={},_this1157.hT={},_this1157.rT=null,window.algolia=algoliasearch("501AW1B8SF","8e5b1516b6b9453144a8623f77b6cad3"),_this1157.dT().then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee299(){var _iterator1801,_step1801,_t2667,_t2665;return regeneratorRuntime.wrap(function _callee299$(_context301){while(1){switch(_context301.prev=_context301.next){case 0:_this1157._shadowRoot=_this1157.attachShadow({mode:"closed"}),_this1157._shadowRoot.adoptedStyleSheets=[Us.themeStyleSheet,lv._shadowStyleSheet],_this1157._shadowRoot.append(document.importNode(lv._shadowTemplate.content,!0));_iterator1801=_createForOfIteratorHelper(_this1157._shadowRoot.querySelectorAll("[id]"));try{for(_iterator1801.s();!(_step1801=_iterator1801.n()).done;){_t2667=_step1801.value;_this1157["#"+_t2667.id]=_t2667;}}catch(err){_iterator1801.e(err);}finally{_iterator1801.f();}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return _this1157.cT();});window.addEventListener("message",function(t){return _this1157.pT(t);});window.addEventListener("keydown",function(t){return _this1157.wn(t);});window.addEventListener("keyup",function(t){return _this1157.Bn(t);});window.addEventListener("focus",function(t){return _this1157.uT(t);});window.addEventListener("blur",function(t){return _this1157.xT(t);});window.addEventListener("pointerdown",function(t){return _this1157.wo(t);},!0);window.addEventListener("pointermove",function(t){return _this1157.Hd(t);});window.addEventListener("pointerup",function(t){return _this1157.qa(t);});window.addEventListener("pointercancel",function(t){return _this1157.bT(t);});_this1157.addEventListener("configchange",function(t){return _this1157.ln(t);});_this1157.addEventListener("textinputmodestart",function(){return _this1157.AE=!0;});_this1157.addEventListener("textinputmodeend",function(){return _this1157.AE=!1;});_this1157._shadowRoot.addEventListener("dragover",function(t){return _this1157.mT(t);});_this1157._shadowRoot.addEventListener("drop",function(t){return _this1157.gT(t);});_this1157["#titlebar-buttons"].addEventListener("click",function(t){return _this1157.fT(t);});_this1157["#menubar"].addEventListener("click",function(t){return _this1157.wT(t);});_this1157["#menubar"].addEventListener("toggle",function(t){return _this1157.vT(t);});_this1157["#menubar"].addEventListener("open",function(t){return _this1157.yT(t);});_this1157["#menubar"].addEventListener("close",function(t){return _this1157.kT(t);});_this1157["#tabs"].addEventListener("open",function(t){return _this1157.ST(t);});_this1157["#tabs"].addEventListener("close",function(t){return _this1157._T(t);});_this1157["#tabs"].addEventListener("select",function(t){return _this1157.CT(t);});_this1157["#main"].addEventListener("change",function(t){return _this1157.MT(t);});_this1157.addMessageListener("openTabs",function(t){return _this1157.PT(t);});_context301.next=30;return _this1157.DT();case 30:_this1157.zT();_this1157.OT();_this1157.postMessage("ready",null,function(t){return _this1157.ET(t);});_t2665=_this1157.getConfig("license",null);if(!("FULL"===_t2665)){_context301.next=38;break;}_t2665="FULL";_context301.next=44;break;case 38:_this1157["#sign-in-dialog"].showModal();_context301.next=41;return new Promise(function(t){chrome.identity.getAuthToken({interactive:!0},function(e){if(chrome.runtime.lastError)console.log("chrome.identity.getAuthToken() failed, assuming trial license",chrome.runtime.lastError),t("FREE_TRIAL");else{var _i1699=new XMLHttpRequest();_i1699.open("GET","https://www.googleapis.com/chromewebstore/v1.1/userlicenses/"+chrome.runtime.id),_i1699.setRequestHeader("Authorization","Bearer ".concat(e)),_i1699.send(),_i1699.onerror=function(e){console.log("xhr.open() failed, assuming trial license",e),t("FREE_TRIAL");},_i1699.onload=function(){if(200!==_i1699.status)console.log("XHR response with status code ".concat(_i1699.status,", assuming trial license")),t("FREE_TRIAL");else{var _e2038="FREE_TRIAL",_s999=_i1699.response,_n769=JSON.parse(_s999);if("FULL"===_n769.accessLevel)_e2038="FULL";else if("FREE_TRIAL"===_n769.accessLevel){var _t2666=1502367014252,_i1700=Date.now(),_s1000=parseInt(_n769.createdTime,10);_e2038=(_i1700-_s1000)/1e3/60/60/24<=7?"FREE_TRIAL":_s1000<_t2666?"FULL":"FREE_TRIAL_EXPIRED";}else _e2038="NONE";t(_e2038);}};}});});case 41:_t2665=_context301.sent;_this1157["#sign-in-dialog"].close();_this1157.setConfig("license",_t2665);case 44:"FREE_TRIAL_EXPIRED"===_t2665?_this1157["#trial-dialog"].showModal():!1===navigator.userAgent.includes("CrOS")&&_this1157["#install-dialog"].showModal();case 45:case"end":return _context301.stop();}}},_callee299);})));return _this1157;}_createClass(lv,[{key:"postMessage",value:function(){var _postMessage=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee300(t){var e,i,s,_args302=arguments;return regeneratorRuntime.wrap(function _callee300$(_context302){while(1){switch(_context302.prev=_context302.next){case 0:e=_args302.length>1&&_args302[1]!==undefined?_args302[1]:null;i=_args302.length>2&&_args302[2]!==undefined?_args302[2]:null;s={channel:"request",id:this.oT++,name:t,arg:e};i&&(this.aT[s.id]=i);_context302.t0=this.rT;if(_context302.t0){_context302.next=9;break;}_context302.next=8;return new Promise(function(t){chrome.runtime.getBackgroundPage(function(e){return t(e);});});case 8:this.rT=_context302.sent;case 9:this.rT.postMessage(s,"*");case 10:case"end":return _context302.stop();}}},_callee300,this);}));function postMessage(_x282){return _postMessage.apply(this,arguments);}return postMessage;}()},{key:"addMessageListener",value:function addMessageListener(t,e){this.lT[t]||(this.lT[t]=[]),this.lT[t].push(e);}},{key:"removeMessageListener",value:function removeMessageListener(t,e){this.lT[t]&&(this.lT[t]=this.lT[t].filter(function(t){return t!==e;}));}},{key:"getConfig",value:function getConfig(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=e;var s;return void 0!==this.hT[t]&&(this.hT[t]instanceof Object?(s=this.hT[t],i=JSON.parse(JSON.stringify(s))):i=this.hT[t]),i;}},{key:"setConfig",value:function setConfig(t,e){var i="!"===t[0]?"local":"sync";null===e?(delete this.hT[t],chrome.storage[i].remove(t)):(this.hT[t]=e,chrome.storage[i].set(_defineProperty({},t,e))),this.dispatchEvent(new CustomEvent("configchange",{detail:{key:t,value:e}}));}},{key:"clearConfig",value:function clearConfig(){var t=this.hT;this.hT={schema:3},chrome.storage.local.clear(),chrome.storage.sync.clear();var _iterator1802=_createForOfIteratorHelper(tv(t)),_step1802;try{for(_iterator1802.s();!(_step1802=_iterator1802.n()).done;){var _step1802$value=_slicedToArray(_step1802.value,2),_e2039=_step1802$value[0],_i1701=_step1802$value[1];this.dispatchEvent(new CustomEvent("configchange",{detail:{key:_e2039,value:null}}));}}catch(err){_iterator1802.e(err);}finally{_iterator1802.f();}}},{key:"dT",value:function dT(){var _this1158=this;return new Promise(function(t){var e={};chrome.storage.local.get(null,function(i){chrome.storage.sync.get(null,function(s){var _iterator1803=_createForOfIteratorHelper(tv(i)),_step1803;try{for(_iterator1803.s();!(_step1803=_iterator1803.n()).done;){var _step1803$value=_slicedToArray(_step1803.value,2),_t2668=_step1803$value[0],_s1001=_step1803$value[1];e[_t2668]=_s1001;}}catch(err){_iterator1803.e(err);}finally{_iterator1803.f();}var _iterator1804=_createForOfIteratorHelper(tv(s)),_step1804;try{for(_iterator1804.s();!(_step1804=_iterator1804.n()).done;){var _step1804$value=_slicedToArray(_step1804.value,2),_t2669=_step1804$value[0],_i1702=_step1804$value[1];e[_t2669]=_i1702;}}catch(err){_iterator1804.e(err);}finally{_iterator1804.f();}_this1158.hT=e,function(t){"yellowgreen"===t.getConfig("bx-uisettings:accentColor")&&t.setConfig("bx-uisettings:accentColor","green"),null!==t.getConfig("bx-shortcutssettings:userShortcuts")&&(t.setConfig("bx-keyboardsettings:userShortcuts",t.getConfig("bx-shortcutssettings:userShortcuts")),t.setConfig("bx-shortcutssettings:userShortcuts",null)),null!==t.getConfig("bx-shortcutssettings:spaceKeyMode")&&(t.setConfig("bx-keyboardsettings:spaceKeyMode",t.getConfig("bx-shortcutssettings:spaceKeyMode")),t.setConfig("bx-shortcutssettings:spaceKeyMode",null)),"photos-library-browser"===t.getConfig("bx-librarypanel:currentBrowserID")&&t.setConfig("bx-librarypanel:currentBrowserID","bitmaps-library-browser"),["pixabay.com","wikimedia.org"].includes(t.getConfig("bx-vectorslibrarybrowser:provider"))&&t.setConfig("bx-vectorslibrarybrowser:provider",null);}(_this1158),t();});});});}},{key:"getClipboardData",value:function getClipboardData(){return new Promise(function(t){document.addEventListener("paste",function(e){var i=Array.prototype.slice.call(e.clipboardData.items,0),s={},n=0;i?i.forEach(/*#__PURE__*/function(){var _ref237=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee302(e){var o,l;return regeneratorRuntime.wrap(function _callee302$(_context304){while(1){switch(_context304.prev=_context304.next){case 0:o=e.type;_context304.next=3;return function(t){return new Promise(/*#__PURE__*/function(){var _ref238=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee301(e){var _i1703,_t2670;return regeneratorRuntime.wrap(function _callee301$(_context303){while(1){switch(_context303.prev=_context303.next){case 0:if(!["image/png","image/jpeg","image/gif","image/webp","image/avif"].includes(t.type)){_context303.next=12;break;}_i1703=t.getAsFile();if(!_i1703){_context303.next=9;break;}_context303.next=5;return Nh(_i1703,"dataURL");case 5:_t2670=_context303.sent;e("data:"!==_t2670?_t2670:null);_context303.next=10;break;case 9:e(null);case 10:_context303.next=13;break;case 12:["text/plain","text/html","image/svg+xml"].includes(t.type)?t.getAsString(function(t){return e(t);}):(console.warn("Clipboard contains data with unsupported mime-type:",t.type),e(null));case 13:case"end":return _context303.stop();}}},_callee301);}));return function(_x284){return _ref238.apply(this,arguments);};}());}(e);case 3:l=_context304.sent;l&&(s[o]=l),n+=1,n===i.length&&t(s);case 5:case"end":return _context304.stop();}}},_callee302);}));return function(_x283){return _ref237.apply(this,arguments);};}()):t(s);},{once:!0}),document.execCommand("paste");});}},{key:"setClipboardData",value:function setClipboardData(t){return new Promise(function(e){var i;document.addEventListener("copy",i=/*#__PURE__*/function(){var _ref239=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee303(s){return regeneratorRuntime.wrap(function _callee303$(_context305){while(1){switch(_context305.prev=_context305.next){case 0:document.removeEventListener("copy",i),s.preventDefault(),s.clipboardData.items.clear(),t["text/plain"]&&s.clipboardData.items.add(t["text/plain"],"text/plain"),t["text/html"]&&s.clipboardData.items.add(t["text/html"],"text/html"),e();case 1:case"end":return _context305.stop();}}},_callee303);}));return function i(_x285){return _ref239.apply(this,arguments);};}()),document.execCommand("copy");});}},{key:"getLocalFontsMetadata",value:function getLocalFontsMetadata(){return new Promise(/*#__PURE__*/function(){var _ref240=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee304(t){return regeneratorRuntime.wrap(function _callee304$(_context306){while(1){switch(_context306.prev=_context306.next){case 0:t(Hw);case 1:case"end":return _context306.stop();}}},_callee304);}));return function(_x286){return _ref240.apply(this,arguments);};}());}},{key:"openArtworkExportDialog",value:function openArtworkExportDialog(t,e){var _this1159=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref241=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee305(s){var n,o,l,a,_t2671;return regeneratorRuntime.wrap(function _callee305$(_context307){while(1){switch(_context307.prev=_context307.next){case 0:n=null,o=null,l=null,a=null;if(null===i){_t2671=_this1159.currentEditorTab.querySelector("x-label").textContent;_t2671.endsWith(".svg")?i=_t2671.substring(0,_t2671.length-4):_t2671.endsWith(".svgz")&&(i=_t2671.substring(0,_t2671.length-5));}"svg"===e?(o="SVG",l="image/svg+xml",a=["svg"]):"svgz"===e?(o="SVGZ",l="image/svg+xml",a=["svgz"]):"html"===e&&(o="HTML",l="text/html",a=["html"]);_context307.prev=3;_context307.next=6;return Yw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:a,mimeTypes:[l]}]});case 6:n=_context307.sent;_context307.next=19;break;case 9:_context307.prev=9;_context307.t0=_context307["catch"](3);n=null;_context307.next=14;return _this1159.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context307.t1=_context307.sent;_context307.t2=1===_context307.t1;if(!_context307.t2){_context307.next=19;break;}_context307.next=19;return _this1159.openArtworkExportDialog(t,e,i);case 19:if(!n){_context307.next=46;break;}_context307.prev=20;if(!("svg"===e)){_context307.next=26;break;}_context307.next=24;return Ww(n,t,"image/svg+xml;charset=utf-8");case 24:_context307.next=35;break;case 26:if(!("svgz"===e)){_context307.next=31;break;}_context307.next=29;return Ww(n,jf(t),"image/svg+xml;charset=utf-8");case 29:_context307.next=35;break;case 31:_context307.t3="html"===e;if(!_context307.t3){_context307.next=35;break;}_context307.next=35;return Ww(n,t,"text/html;charset=utf-8");case 35:_context307.next=46;break;case 37:_context307.prev=37;_context307.t4=_context307["catch"](20);_context307.next=41;return _this1159.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 41:_context307.t5=_context307.sent;_context307.t6=1===_context307.t5;if(!_context307.t6){_context307.next=46;break;}_context307.next=46;return _this1159.openArtworkExportDialog(t,e,i);case 46:s();case 47:case"end":return _context307.stop();}}},_callee305,null,[[3,9],[20,37]]);}));return function(_x287){return _ref241.apply(this,arguments);};}());}},{key:"openBitmapExportDialog",value:function openBitmapExportDialog(t,e){var _this1160=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";return new Promise(/*#__PURE__*/function(){var _ref242=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee306(n){var o,l,a,h,_t2672;return regeneratorRuntime.wrap(function _callee306$(_context308){while(1){switch(_context308.prev=_context308.next){case 0:o=null,l=null,a=null,h=null;if(null===i){_t2672=_this1160.currentEditorTab.querySelector("x-label").textContent;_t2672.endsWith(".svg")?i=_t2672.substring(0,_t2672.length-4):_t2672.endsWith(".svgz")&&(i=_t2672.substring(0,_t2672.length-5));}"png"===e?(l="PNG",a="image/png",h=["png"]):"jpeg"===e||"jpg"===e?(l="JPEG",a="image/jpeg",h=["jpg","jpeg"]):"gif"===e?(l="GIF",a="image/gif",h=["gif"]):"webp"===e?(l="WebP",a="image/webp",h=["webp"]):"avif"===e&&(l="AVIF",a="image/avif",h=["avif"]);_context308.prev=3;_context308.next=6;return Yw({type:"saveFile",suggestedName:"".concat(i).concat(s,".").concat(e),acceptsAllTypes:!1,accepts:[{description:l,extensions:h,mimeTypes:[a]}]});case 6:o=_context308.sent;_context308.next=19;break;case 9:_context308.prev=9;_context308.t0=_context308["catch"](3);o=null;_context308.next=14;return _this1160.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context308.t1=_context308.sent;_context308.t2=1===_context308.t1;if(!_context308.t2){_context308.next=19;break;}_context308.next=19;return _this1160.openBitmapExportDialog(t,e,i,s);case 19:if(!o){_context308.next=34;break;}_context308.prev=20;_context308.next=23;return Ww(o,t);case 23:_context308.next=34;break;case 25:_context308.prev=25;_context308.t3=_context308["catch"](20);_context308.next=29;return _this1160.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 29:_context308.t4=_context308.sent;_context308.t5=1===_context308.t4;if(!_context308.t5){_context308.next=34;break;}_context308.next=34;return _this1160.openBitmapExportDialog(t,e,i,s);case 34:n();case 35:case"end":return _context308.stop();}}},_callee306,null,[[3,9],[20,25]]);}));return function(_x288){return _ref242.apply(this,arguments);};}());}},{key:"openLocalFontsImportDialog",value:function openLocalFontsImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref243=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee307(t){var e,i,_iterator1805,_step1805,_t2673,_e2040,_s1002,_n770,_o573;return regeneratorRuntime.wrap(function _callee307$(_context309){while(1){switch(_context309.prev=_context309.next){case 0:_context309.prev=0;_context309.next=3;return Yw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["woff","woff2","ttf","otf"]},{description:"WOFF",extensions:["woff"]},{description:"WOFF2",extensions:["woff2"]},{description:"TTF",extensions:["ttf"]},{description:"OTF",extensions:["otf"]}]});case 3:e=_context309.sent;_context309.next=9;break;case 6:_context309.prev=6;_context309.t0=_context309["catch"](0);return _context309.abrupt("return",void t());case 9:i=[];_iterator1805=_createForOfIteratorHelper(e);_context309.prev=11;_iterator1805.s();case 13:if((_step1805=_iterator1805.n()).done){_context309.next=24;break;}_t2673=_step1805.value;_e2040=Wh(_t2673);_s1002=jh(_t2673).toLowerCase();_n770=_t2673.fullPath;_context309.next=20;return Fh(_t2673,"dataURL");case 20:_o573=_context309.sent;_o573=_o573.substring(_o573.indexOf("base64")+7),_o573="data:application/font-".concat(_s1002,";charset=utf-8;base64,").concat(_o573),i.push({baseName:_e2040,extension:_s1002,path:_n770,data:_o573});case 22:_context309.next=13;break;case 24:_context309.next=29;break;case 26:_context309.prev=26;_context309.t1=_context309["catch"](11);_iterator1805.e(_context309.t1);case 29:_context309.prev=29;_iterator1805.f();return _context309.finish(29);case 32:t(i);case 33:case"end":return _context309.stop();}}},_callee307,null,[[0,6],[11,26,29,32]]);}));return function(_x289){return _ref243.apply(this,arguments);};}());}},{key:"openImageImportDialog",value:function openImageImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref244=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee308(t){var e,_i1704,_s1003,_n771,_o574;return regeneratorRuntime.wrap(function _callee308$(_context310){while(1){switch(_context310.prev=_context310.next){case 0:_context310.prev=0;_context310.next=3;return Yw({type:"openFile",acceptsMultiple:!1,acceptsAllTypes:!1,accepts:[{description:"Images",extensions:["png","jpg","jpeg","gif","webp","avif","svg","svgz","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context310.sent;_context310.next=9;break;case 6:_context310.prev=6;_context310.t0=_context310["catch"](0);return _context310.abrupt("return",void t());case 9:if(!e){_context310.next=31;break;}_i1704=Wh(e),_s1003=jh(e).toLowerCase(),_n771=e.fullPath,_o574=null;if(!("svg"===_s1003||"svgz"===_s1003)){_context310.next=17;break;}_context310.next=14;return Fh(e,"text");case 14:_context310.t1=_context310.sent;_context310.next=27;break;case 17:if(!("pdf"===_s1003||"ai"===_s1003)){_context310.next=23;break;}_context310.next=20;return Fh(e,"arrayBuffer");case 20:_context310.t2=_context310.sent;_context310.next=26;break;case 23:_context310.next=25;return Fh(e,"dataURL");case 25:_context310.t2=_context310.sent;case 26:_context310.t1=_context310.t2;case 27:_o574=_context310.t1;t({baseName:_i1704,extension:_s1003,path:_n771,data:_o574});_context310.next=32;break;case 31:t(null);case 32:case"end":return _context310.stop();}}},_callee308,null,[[0,6]]);}));return function(_x290){return _ref244.apply(this,arguments);};}());}},{key:"openMessageDialog",value:function openMessageDialog(t){var _this1161=this;return new Promise(function(e){var i,s,n=Qi(_templateObject102()),o=new jw(t);n.append(o),_this1161["#dialogs"].append(n),n.showModal(),n.addEventListener("close",s=function(_s1004){function s(_x291){return _s1004.apply(this,arguments);}s.toString=function(){return _s1004.toString();};return s;}(function(t){n.removeEventListener("close",s),o.removeEventListener("submit",i),_this1161.TT(t),e(-1);})),o.addEventListener("submit",i=/*#__PURE__*/function(){var _ref245=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee309(t){return regeneratorRuntime.wrap(function _callee309$(_context311){while(1){switch(_context311.prev=_context311.next){case 0:n.removeEventListener("close",s);o.removeEventListener("submit",i);_context311.next=4;return n.close();case 4:e(t.detail);case 5:case"end":return _context311.stop();}}},_callee309);}));return function i(_x292){return _ref245.apply(this,arguments);};}());});}},{key:"openNotification",value:function openNotification(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Sample notification";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2e3;this["#notification"].innerHTML=t,this["#notification"].timeout=e,this["#notification"].opened=!0;}},{key:"openContextMenu",value:function openContextMenu(){var _this1162=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(function(e){var i,s,n="",o=null,l=_this1162.IE,a=_this1162.LE;null===t&&(t=[{value:"command:undo",label:"Undo"},{value:"command:redo",label:"Redo"},{type:"separator"},{value:"command:cut",label:"Cut"},{value:"command:copy",label:"Copy"},{value:"command:paste",label:"Paste"},{type:"separator"},{value:"command:selectAll",label:"Select All"}]);var _iterator1806=_createForOfIteratorHelper(t),_step1806;try{for(_iterator1806.s();!(_step1806=_iterator1806.n()).done;){var _e2041=_step1806.value;if("separator"===_e2041.type)n+="<hr/>";else{var _t2675=_e2041.toggled?"toggled":"",_i1705=_e2041.disabled?"disabled":"";n+="\n            <x-menuitem value=\"".concat(_e2041.value,"\" ").concat(_t2675," ").concat(_i1705,">\n              <x-label>").concat(_e2041.label,"</x-label>\n            </x-menuitem>\n          ");}}}catch(err){_iterator1806.e(err);}finally{_iterator1806.f();}_this1162["#context-menu"].innerHTML="<x-menu>"+n+"</x-menu>",_this1162["#context-menu"].open(l,a),_this1162["#context-menu"].addEventListener("click",i=function i(t){var e=t.target.closest("x-menuitem");if(o=e.value,null!==e.value&&e.value.startsWith("command:")){var _e$value$split=e.value.split(":"),_e$value$split2=_slicedToArray(_e$value$split,2),_t2674=_e$value$split2[1];_this1162.execCommand(_t2674);}}),_this1162["#context-menu"].addEventListener("close",s=function(_s1005){function s(){return _s1005.apply(this,arguments);}s.toString=function(){return _s1005.toString();};return s;}(function(){_this1162["#context-menu"].removeEventListener("click",i),_this1162["#context-menu"].removeEventListener("close",s),e(o);}));});}},{key:"ET",value:function(){var _ET=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee310(t){return regeneratorRuntime.wrap(function _callee310$(_context312){while(1){switch(_context312.prev=_context312.next){case 0:_context312.next=2;return this.PT(t);case 2:_context312.t0=_context312.sent.length;_context312.t1=0===_context312.t0;if(!_context312.t1){_context312.next=6;break;}this.FE();case 6:case"end":return _context312.stop();}}},_callee310,this);}));function ET(_x293){return _ET.apply(this,arguments);}return ET;}()},{key:"pT",value:function pT(t){var e=t.source,_t$data=t.data,i=_t$data.channel,s=_t$data.id,n=_t$data.name,o=_t$data.arg;"request"===i?this.lT[n]&&this.lT[n].forEach(function(t){t(o,function(t){var i={channel:"response",id:s,name:n,arg:t};e.postMessage(i,"*");});}):"response"===i&&this.aT[s]&&(this.aT[s](o),delete this.aT[s]);}},{key:"wn",value:function wn(t){if(this["#sign-in-dialog"].open||this["#install-dialog"].open||this["#trial-dialog"].open)return t.preventDefault(),void t.stopImmediatePropagation();var e=ao.fromEvent(t);e.ctrl===this.$E.ctrl&&e.alt===this.$E.alt&&e.meta===this.$E.meta&&e.shift===this.$E.shift||(this.$E={ctrl:e.ctrl,alt:e.alt,meta:e.meta,shift:e.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),e.matches("Escape")?!1===t.defaultPrevented&&this.execCommand("transformTool"):!1===this.textInputMode&&(e.matches("Backspace")||e.matches("Delete")?this.execCommand("delete"):e.matches("ArrowDown")?this.execCommand("moveOneUnitDown"):e.matches("ArrowUp")?this.execCommand("moveOneUnitUp"):e.matches("ArrowLeft")?this.execCommand("moveOneUnitLeft"):e.matches("ArrowRight")?this.execCommand("moveOneUnitRight"):e.matches("Shift","ArrowDown")?this.execCommand("moveTenUnitsDown"):e.matches("Shift","ArrowUp")?this.execCommand("moveTenUnitsUp"):e.matches("Shift","ArrowLeft")?this.execCommand("moveTenUnitsLeft"):e.matches("Shift","ArrowRight")&&this.execCommand("moveTenUnitsRight"));{var _i1706=!1;this.textInputMode?(e.ctrl||e.alt||e.meta)&&(_i1706=this.AT(e)):_i1706=this.AT(e),_i1706&&t.preventDefault();}}},{key:"Bn",value:function Bn(t){var _ao$fromEvent=ao.fromEvent(t),e=_ao$fromEvent.ctrl,i=_ao$fromEvent.alt,s=_ao$fromEvent.meta,n=_ao$fromEvent.shift;e===this.$E.ctrl&&i===this.$E.alt&&s===this.$E.meta&&n===this.$E.shift||(this.$E={ctrl:e,alt:i,meta:s,shift:n},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"uT",value:function uT(e){var _this1163=this;window.addEventListener("pointermove",function(e){var i=e.getModifierState("Control"),s=e.getModifierState("Alt"),n=e.getModifierState("Meta"),o=e.getModifierState("Shift"),l=t?n:i,a=s,h=t?i:n,r=o;_this1163.$E.ctrl===l&&_this1163.$E.alt===a&&_this1163.$E.meta===h&&_this1163.$E.shift===r||(_this1163.$E={ctrl:l,alt:a,meta:h,shift:r},_this1163.dispatchEvent(new CustomEvent("modkeyschange")));},{once:!0});}},{key:"xT",value:function xT(t){var _this$$E2=this.$E,e=_this$$E2.ctrl,i=_this$$E2.alt,s=_this$$E2.meta,n=_this$$E2.shift;(e||i||s||n)&&(this.$E={ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"wo",value:function wo(t){this.UE=!0,this.IE=t.clientX,this.LE=t.clientY,!1===this.BE.has(t.pointerId)&&(this.BE.add(t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _ao$fromEvent2=ao.fromEvent(t),e=_ao$fromEvent2.ctrl,_i1707=_ao$fromEvent2.alt,_s1006=_ao$fromEvent2.meta,_n772=_ao$fromEvent2.shift;e===this.$E.ctrl&&_i1707===this.$E.alt&&_s1006===this.$E.meta&&_n772===this.$E.shift||(this.$E={ctrl:e,alt:_i1707,meta:_s1006,shift:_n772},this.dispatchEvent(new CustomEvent("modkeyschange")));}{var _e2042=1,_i1708=null;for(this.nT.push(t);this.nT.length>8;){this.nT.shift();}var _iterator1807=_createForOfIteratorHelper(this.nT),_step1807;try{for(_iterator1807.s();!(_step1807=_iterator1807.n()).done;){var _t2676=_step1807.value;if(_i1708)if("pen"===_t2676.pointerType){Jw(Qw(_t2676.clientX-_i1708.clientX,2)+Qw(_t2676.clientY-_i1708.clientY,2))<3&&_t2676.timeStamp-_i1708.timeStamp<600?_e2042+=1:_e2042=1;}else _t2676.clientX===_i1708.clientX&&_t2676.clientY===_i1708.clientY&&_t2676.timeStamp-_i1708.timeStamp<600?_e2042+=1:_e2042=1;_i1708=_t2676;}}catch(err){_iterator1807.e(err);}finally{_iterator1807.f();}this.GE=_e2042;}}},{key:"Hd",value:function Hd(t){this.IE=t.clientX,this.LE=t.clientY,this.RE=t.pressure;{var _ao$fromEvent3=ao.fromEvent(t),e=_ao$fromEvent3.ctrl,_i1709=_ao$fromEvent3.alt,_s1007=_ao$fromEvent3.meta,_n773=_ao$fromEvent3.shift;e===this.$E.ctrl&&_i1709===this.$E.alt&&_s1007===this.$E.meta&&_n773===this.$E.shift||(this.$E={ctrl:e,alt:_i1709,meta:_s1007,shift:_n773},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"qa",value:function qa(t){this.UE=!1,!0===this.BE.has(t.pointerId)&&(this.BE["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _ao$fromEvent4=ao.fromEvent(t),e=_ao$fromEvent4.ctrl,_i1710=_ao$fromEvent4.alt,_s1008=_ao$fromEvent4.meta,_n774=_ao$fromEvent4.shift;e===this.$E.ctrl&&_i1710===this.$E.alt&&_s1008===this.$E.meta&&_n774===this.$E.shift||(this.$E={ctrl:e,alt:_i1710,meta:_s1008,shift:_n774},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"bT",value:function bT(t){!0===this.BE.has(t.pointerId)&&(this.BE["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));}},{key:"mT",value:function mT(t){this.IE=t.clientX,this.LE=t.clientY,t.preventDefault(),t.dataTransfer.dropEffect="copy";}},{key:"gT",value:function(){var _gT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee311(t){var e,_i1711,_s1009,_iterator1808,_step1808,_e2043,_t2679,_o575,_e2044,_s1010,_e2045,_s1011,_n775,_e2046,_s1012,_l427,_t2680,_e2047,_iterator1809,_step1809,_t2677,_iterator1810,_step1810,_t2678,_e2048,_iterator1811,_step1811,_i1712,_t2682,_s1013,_t2681;return regeneratorRuntime.wrap(function _callee311$(_context313){while(1){switch(_context313.prev=_context313.next){case 0:if(!(this.IE=t.clientX,this.LE=t.clientY,t.preventDefault(),"bx-editor"===t.target.localName)){_context313.next=61;break;}e=t.target,_i1711=[],_s1009=[];_iterator1808=_createForOfIteratorHelper(t.dataTransfer.items);_context313.prev=3;_iterator1808.s();case 5:if((_step1808=_iterator1808.n()).done){_context313.next=50;break;}_e2043=_step1808.value;_t2679=_e2043.webkitGetAsEntry(),_o575=jh(_t2679).toLowerCase();if(!("svg"===_o575)){_context313.next=16;break;}_context313.next=11;return Fh(_t2679,"text");case 11:_e2044=_context313.sent;_s1010=Eh(_e2044);_i1711.push(_s1010);_context313.next=48;break;case 16:if(!("svgz"===_o575)){_context313.next=25;break;}_context313.next=19;return Fh(_t2679,"arrayBuffer");case 19:_e2045=_context313.sent;_s1011=Hf(_e2045);_n775=Eh(_s1011);_i1711.push(_n775);_context313.next=48;break;case 25:if(!("pdf"===_o575||"ai"===_o575)){_context313.next=43;break;}_context313.next=28;return Fh(_t2679,"arrayBuffer");case 28:_e2046=_context313.sent;_s1012=null;_l427=null;_context313.prev=31;_context313.next=34;return Gm(_e2046);case 34:_s1012=_context313.sent;_context313.next=40;break;case 37:_context313.prev=37;_context313.t0=_context313["catch"](31);_l427=_context313.t0;case 40:if(_l427)this.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_o575?n:_l427.message});else{_t2680=Eh(_s1012);_i1711.push(_t2680);}_context313.next=48;break;case 43:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_o575)){_context313.next=48;break;}_context313.next=46;return Fh(_t2679,"dataURL");case 46:_e2047=_context313.sent;_s1009.push(_e2047);case 48:_context313.next=5;break;case 50:_context313.next=55;break;case 52:_context313.prev=52;_context313.t1=_context313["catch"](3);_iterator1808.e(_context313.t1);case 55:_context313.prev=55;_iterator1808.f();return _context313.finish(55);case 58:if(_i1711.length>0||_s1009.length>0){e.board.undoManager.checkpoint("Insert files");_iterator1809=_createForOfIteratorHelper(_i1711);try{for(_iterator1809.s();!(_step1809=_iterator1809.n()).done;){_t2677=_step1809.value;e.board.insertArtwork(_t2677,"pointer");}}catch(err){_iterator1809.e(err);}finally{_iterator1809.f();}_iterator1810=_createForOfIteratorHelper(_s1009);try{for(_iterator1810.s();!(_step1810=_iterator1810.n()).done;){_t2678=_step1810.value;e.board.insertBitmap(_t2678,"pointer");}}catch(err){_iterator1810.e(err);}finally{_iterator1810.f();}}_context313.next=65;break;case 61:_e2048=[];_iterator1811=_createForOfIteratorHelper(t.dataTransfer.items);try{for(_iterator1811.s();!(_step1811=_iterator1811.n()).done;){_i1712=_step1811.value;_t2682=_i1712.webkitGetAsEntry(),_s1013=jh(_t2682).toLowerCase();["svg","svgz","pdf","ai","png","jpeg","jpg","gif","webp","avif"].includes(_s1013)&&_e2048.push(_t2682);}}catch(err){_iterator1811.e(err);}finally{_iterator1811.f();}if(_e2048.length>0){_t2681=_e2048.map(function(t){return{type:"editor",selected:!1,entry:t};});_t2681[_t2681.length-1].selected=!0,this.$T(_t2681);}case 65:case"end":return _context313.stop();}}},_callee311,this,[[3,52,55,58],[31,37]]);}));function gT(_x294){return _gT.apply(this,arguments);}return gT;}()},{key:"ln",value:function ln(t){var _t$detail22=t.detail,e=_t$detail22.key,i=_t$detail22.value;"bx-keyboardsettings:userShortcuts"===e?this.OT():"bx-uisettings:colorScheme"===e?this.DT():"bx-uisettings:accentColor"===e?this.IT():"bx-uisettings:widgetsSize"===e&&this.zT();}},{key:"cT",value:function cT(){this.DT();}},{key:"fT",value:function fT(t){var e=t.target.closest("x-button");"minimize-button"===e.id?this.execCommand("minimize"):"maximize-button"===e.id?this.execCommand("maximize"):"close-button"===e.id&&this.execCommand("quit");}},{key:"wT",value:function(){var _wT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee312(t){var e,_t2683,_i1713,_t2684,_i1714;return regeneratorRuntime.wrap(function _callee312$(_context314){while(1){switch(_context314.prev=_context314.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context314.next=18;break;}if(!t.isTrusted){_context314.next=7;break;}_context314.next=5;return ns(500);case 5:_context314.next=8;break;case 7:if(!e.closest("[expanded]")){_t2683=null;for(_i1713=e;_i1713!==this["#menubar"];_i1713=_i1713.parentElement){"x-menuitem"===_i1713.localName&&(_t2683=_i1713);}_t2683.style.background="var(--accent-color)",_t2683.style.color="white",ns(150).then(function(){_t2683.style.background=null,_t2683.style.color=null;});}case 8:if(!e.value){_context314.next=12;break;}this.execCommand(e.value);_context314.next=18;break;case 12:if(!(e.id&&e.id.startsWith("open-recent-"))){_context314.next=18;break;}_t2684=e.id.substring(12);_context314.next=16;return qw(_t2684);case 16:_i1714=_context314.sent;_i1714&&(this.FE(_i1714,!0),this.LT([_i1714]));case 18:case"end":return _context314.stop();}}},_callee312,this);}));function wT(_x295){return _wT.apply(this,arguments);}return wT;}()},{key:"vT",value:function vT(t){t.preventDefault();}},{key:"ST",value:function ST(t){t.preventDefault(),this.FE();}},{key:"_T",value:function _T(t){t.preventDefault();var e=t.target;this.ZE(e);}},{key:"CT",value:function CT(t){this.RT(this.currentTab);}},{key:"MT",value:function MT(t){var e=t.target,i=t.detail,s=_toConsumableArray(this["#tabs"].children).find(function(t){return t[iv]===e;}),n=s[ov];"increment"===i?s[ov]+=1:"decrement"===i&&(s[ov]-=1),0!==n!=(0!==s[ov])&&(s.edited=0!==s[ov]);}},{key:"yT",value:function yT(t){var e=t.target;this.BT(e),this["#menubar"].setAttribute("data-expaneded","");}},{key:"kT",value:function(){var _kT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee313(t){return regeneratorRuntime.wrap(function _callee313$(_context315){while(1){switch(_context315.prev=_context315.next){case 0:_context315.next=2;return ns(500);case 2:null===this["#menubar"].querySelector("x-menu[opened]")&&(this.currentView.focus(),this["#menubar"].removeAttribute("data-expaneded"));case 3:case"end":return _context315.stop();}}},_callee313,this);}));function kT(_x296){return _kT.apply(this,arguments);}return kT;}()},{key:"$T",value:function $T(t){var _this1164=this;return new Promise(/*#__PURE__*/function(){var _ref246=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee314(e){var i,_iterator1812,_step1812,_e2050,_t2686,_t2687,_t2688,_t2685,_e2049;return regeneratorRuntime.wrap(function _callee314$(_context316){while(1){switch(_context316.prev=_context316.next){case 0:i=[];_iterator1812=_createForOfIteratorHelper(t);_context316.prev=2;_iterator1812.s();case 4:if((_step1812=_iterator1812.n()).done){_context316.next=23;break;}_e2050=_step1812.value;if(!("about"===_e2050.type)){_context316.next=11;break;}_t2686=_this1164.sT(!1);_e2050.selected&&(_t2686.selected=!0),i.push(_t2686);_context316.next=21;break;case 11:if(!("preferences"===_e2050.type)){_context316.next=16;break;}_t2687=_this1164.QE(!1);_e2050.selected&&(_t2687.selected=!0),i.push(_t2687);_context316.next=21;break;case 16:if(!("editor"===_e2050.type)){_context316.next=21;break;}_context316.next=19;return _this1164.FE(_e2050.entry,!1);case 19:_t2688=_context316.sent;_e2050.selected&&(_t2688.selected=!0),i.push(_t2688);case 21:_context316.next=4;break;case 23:_context316.next=28;break;case 25:_context316.prev=25;_context316.t0=_context316["catch"](2);_iterator1812.e(_context316.t0);case 28:_context316.prev=28;_iterator1812.f();return _context316.finish(28);case 31:if(i.length>0){_t2685=i.find(function(t){return t.selected;}),_e2049=i[i.length-1];_this1164.RT(_t2685||_e2049);}e(i);case 33:case"end":return _context316.stop();}}},_callee314,null,[[2,25,28,31]]);}));return function(_x297){return _ref246.apply(this,arguments);};}());}},{key:"sT",value:function sT(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1813=_createForOfIteratorHelper(this["#tabs"].children),_step1813;try{for(_iterator1813.s();!(_step1813=_iterator1813.n()).done;){var _t2689=_step1813.value;if("about"===_t2689[ev]){e=_t2689;break;}}}catch(err){_iterator1813.e(err);}finally{_iterator1813.f();}return null===e&&(e=Qi(_templateObject103()),e[ev]="about",e[iv]=null,e[nv]=function(){var t=Qi(_templateObject104());return e[iv]=t,t.version=chrome.runtime.getManifest().version,t;},this["#tabs"].openTab(e,!1)),t&&this.RT(e),e;}},{key:"QE",value:function QE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1814=_createForOfIteratorHelper(this["#tabs"].children),_step1814;try{for(_iterator1814.s();!(_step1814=_iterator1814.n()).done;){var _t2690=_step1814.value;if("preferences"===_t2690[ev]){e=_t2690;break;}}}catch(err){_iterator1814.e(err);}finally{_iterator1814.f();}return null===e&&(e=Qi(_templateObject105()),e[ev]="preferences",e[iv]=null,e[nv]=function(){var t=Qi(_templateObject106());return e[iv]=t,t;},this["#tabs"].openTab(e,!1)),t&&this.RT(e),e;}},{key:"FE",value:function FE(){var _this1165=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref247=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee316(i){var s,_iterator1815,_step1815,_e2051,_e2052,_i1715,_o576,_s1014;return regeneratorRuntime.wrap(function _callee316$(_context318){while(1){switch(_context318.prev=_context318.next){case 0:s=null;if(!t){_context318.next=25;break;}_iterator1815=_createForOfIteratorHelper(_this1165["#tabs"].children);_context318.prev=3;_iterator1815.s();case 5:if((_step1815=_iterator1815.n()).done){_context318.next=17;break;}_e2051=_step1815.value;_context318.t0=!!_e2051[sv];if(!_context318.t0){_context318.next=12;break;}_context318.next=11;return Xw(_e2051[sv],t);case 11:_context318.t0=_context318.sent;case 12:if(!_context318.t0){_context318.next=15;break;}s=_e2051;return _context318.abrupt("break",17);case 15:_context318.next=5;break;case 17:_context318.next=22;break;case 19:_context318.prev=19;_context318.t1=_context318["catch"](3);_iterator1815.e(_context318.t1);case 22:_context318.prev=22;_iterator1815.f();return _context318.finish(22);case 25:if(!(null===s)){_context318.next=37;break;}if(t){_s1014=Wh(t);_i1715=jh(t).toLowerCase(),["svg","svgz"].includes(_i1715)?(_e2052=_s1014+"."+_i1715,_o576=0):(_e2052=_s1014+".svg",_o576=1);}else _e2052="Untitled",_i1715="svg",_o576=0;s=Qi(_templateObject107(),_e2052,_e2052);s[ev]="editor";s[sv]=t;s[iv]=null;s[ov]=_o576;s.edited=0!==s[ov];s[nv]=function(){var e=Qi(_templateObject108());return s[iv]=e,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee315(){var _i1716,_s1015,_i1717,_s1016,_n776,_s1017,_o577,_l428,_t2691,_i1718,_s1018,_n777;return regeneratorRuntime.wrap(function _callee315$(_context317){while(1){switch(_context317.prev=_context317.next){case 0:if(!t){_context317.next=47;break;}if(!("svg"===_i1715)){_context317.next=9;break;}_context317.next=4;return Fh(t,"text");case 4:_i1716=_context317.sent;_s1015=Eh(_i1716);e.board.setArtwork(_s1015);_context317.next=45;break;case 9:if(!("svgz"===_i1715)){_context317.next=18;break;}_context317.next=12;return Fh(t,"arrayBuffer");case 12:_i1717=_context317.sent;_s1016=Hf(_i1717);_n776=Eh(_s1016);e.board.setArtwork(_n776);_context317.next=45;break;case 18:if(!("pdf"===_i1715||"ai"===_i1715)){_context317.next=36;break;}_context317.next=21;return Fh(t,"arrayBuffer");case 21:_s1017=_context317.sent;_o577=null;_l428=null;_context317.prev=24;_context317.next=27;return Gm(_s1017);case 27:_o577=_context317.sent;_context317.next=33;break;case 30:_context317.prev=30;_context317.t0=_context317["catch"](24);_l428=_context317.t0;case 33:if(_l428)e.board.setDefaultArtwork(),_this1165.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_i1715?n:_l428.message});else{_t2691=Eh(_o577);e.board.setArtwork(_t2691);}_context317.next=45;break;case 36:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_i1715)){_context317.next=45;break;}_context317.next=39;return Fh(t,"dataURL");case 39:_i1718=_context317.sent;_context317.next=42;return Xp(_i1718);case 42:_s1018=_context317.sent;_n777=Eh(_s1018);e.board.setArtwork(_n777);case 45:_context317.next=48;break;case 47:e.board.setDefaultArtwork();case 48:case"end":return _context317.stop();}}},_callee315,null,[[24,30]]);}))(),e;};_this1165["#tabs"].openTab(s,!1);_context318.next=37;return os;case 37:_context318.t2=e;if(!_context318.t2){_context318.next=44;break;}_context318.t3=null===t;if(!_context318.t3){_context318.next=43;break;}_context318.next=43;return ns(100);case 43:_this1165.RT(s);case 44:i(s);case 45:case"end":return _context318.stop();}}},_callee316,null,[[3,19,22,25]]);}));return function(_x298){return _ref247.apply(this,arguments);};}());}},{key:"VE",value:function VE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(this.NE()){this.currentEditor.board.collectGarbage();var e=this.currentEditor.board.extractArtworkWithSelectedElements(),_i1719=Vp(e,"xml"),_s1019=Qi(_templateObject109());_s1019[ev]="editor",_s1019[sv]=null,_s1019[iv]=null,_s1019[ov]=1,_s1019.edited=!0,_s1019[nv]=function(){var t=Qi(_templateObject110());return t.board.setArtwork(Eh(_i1719)),_s1019[iv]=t,t;},this["#tabs"].openTab(_s1019),t&&this.RT(_s1019);}}},{key:"NE",value:function NE(){return null!==this.currentEditor&&this.currentEditor.board.selectedObjectElements.length>0;}},{key:"jE",value:function(){var _jE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee317(){var _t2692,e,_i1720,_yield$Xh4,_s1020,_n778,_i1721,_yield$Xh5,_s1021,_n779,_t2693;return regeneratorRuntime.wrap(function _callee317$(_context319){while(1){switch(_context319.prev=_context319.next){case 0:if(!this.currentEditor){_context319.next=46;break;}_context319.next=3;return this.getClipboardData();case 3:_t2692=_context319.sent;if(!_t2692){_context319.next=46;break;}e=null;if(!(_t2692["text/html"]&&Yp(_t2692["text/html"]))){_context319.next=10;break;}e=_t2692["text/html"];_context319.next=32;break;case 10:if(!(_t2692["text/plain"]&&Yp(_t2692["text/plain"]))){_context319.next=14;break;}e=_t2692["text/plain"];_context319.next=32;break;case 14:if(!_t2692["image/png"]){_context319.next=24;break;}_i1720=_t2692["image/png"];_context319.next=18;return Xh(_i1720);case 18:_yield$Xh4=_context319.sent;_s1020=_yield$Xh4.width;_n778=_yield$Xh4.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1020," ").concat(_n778,"\">\n              <image href=\"").concat(_i1720,"\"></image>\n            </svg>");_context319.next=32;break;case 24:if(!_t2692["image/avif"]){_context319.next=32;break;}_i1721=_t2692["image/avif"];_context319.next=28;return Xh(_i1721);case 28:_yield$Xh5=_context319.sent;_s1021=_yield$Xh5.width;_n779=_yield$Xh5.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1021," ").concat(_n779,"\">\n              <image href=\"").concat(_i1721,"\"></image>\n            </svg>");case 32:if(!e){_context319.next=45;break;}_t2693=Qi(_templateObject111());_t2693[ev]="editor";_t2693[sv]=null;_t2693[iv]=null;_t2693[ov]=1;_t2693.edited=!0;_t2693[nv]=function(){var i=Qi(_templateObject112());return i.board.setArtwork(Eh(e)),_t2693[iv]=i,i;};_context319.next=42;return this["#tabs"].openTab(_t2693);case 42:this.RT(_t2693);_context319.next=46;break;case 45:this.openMessageDialog({buttons:["OK"],message:"Can't create file",detail:"The current contents of the clipboard can't be used to create a new file."});case 46:case"end":return _context319.stop();}}},_callee317,this);}));function jE(){return _jE.apply(this,arguments);}return jE;}()},{key:"openEditorTabWithArtworkFromLibrary",value:function openEditorTabWithArtworkFromLibrary(t){var _this1166=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref249=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee318(i){var s;return regeneratorRuntime.wrap(function _callee318$(_context320){while(1){switch(_context320.prev=_context320.next){case 0:s=Qi(_templateObject113());s[ev]="editor";s[sv]=null;s[iv]=null;s[ov]=1;s.edited=!0;s[nv]=function(){var e=Qi(_templateObject114());return e.board.setArtwork(Eh(t)),s[iv]=e,e;};_this1166["#tabs"].openTab(s);_context320.t0=e;if(!_context320.t0){_context320.next=13;break;}_context320.next=12;return ns(200);case 12:_this1166.RT(s);case 13:i();case 14:case"end":return _context320.stop();}}},_callee318);}));return function(_x299){return _ref249.apply(this,arguments);};}());}},{key:"HE",value:function HE(){var _this1167=this;return new Promise(/*#__PURE__*/function(){var _ref250=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee319(t){var e,_t2694;return regeneratorRuntime.wrap(function _callee319$(_context321){while(1){switch(_context321.prev=_context321.next){case 0:_context321.prev=0;_context321.next=3;return Yw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["svg","svgz","png","jpg","jpeg","gif","webp","avif","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context321.sent;_context321.next=9;break;case 6:_context321.prev=6;_context321.t0=_context321["catch"](0);return _context321.abrupt("return",void t());case 9:if(!(e.length>0)){_context321.next=15;break;}_t2694=e.map(function(t){return{type:"editor",entry:t,selected:!1};});_t2694[_t2694.length-1].selected=!0;_this1167.$T(_t2694);_context321.next=15;return _this1167.LT(e);case 15:t();case 16:case"end":return _context321.stop();}}},_callee319,null,[[0,6]]);}));return function(_x300){return _ref250.apply(this,arguments);};}());}},{key:"PT",value:function PT(t){var _this1168=this;return new Promise(/*#__PURE__*/function(){var _ref251=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee320(e){var i,_iterator1816,_step1816,_e2053,_t2695,s;return regeneratorRuntime.wrap(function _callee320$(_context322){while(1){switch(_context322.prev=_context322.next){case 0:i=[];_iterator1816=_createForOfIteratorHelper(t);_context322.prev=2;_iterator1816.s();case 4:if((_step1816=_iterator1816.n()).done){_context322.next=12;break;}_e2053=_step1816.value;_context322.next=8;return qw(_e2053);case 8:_t2695=_context322.sent;_t2695&&i.push(_t2695);case 10:_context322.next=4;break;case 12:_context322.next=17;break;case 14:_context322.prev=14;_context322.t0=_context322["catch"](2);_iterator1816.e(_context322.t0);case 17:_context322.prev=17;_iterator1816.f();return _context322.finish(17);case 20:s=i.map(function(t){return{type:"editor",entry:t,selected:!1};});s.length>0&&(s[s.length-1].selected=!0);_context322.t1=e;_context322.next=25;return _this1168.$T(s);case 25:_context322.t2=_context322.sent;(0,_context322.t1)(_context322.t2);case 27:case"end":return _context322.stop();}}},_callee320,null,[[2,14,17,20]]);}));return function(_x301){return _ref251.apply(this,arguments);};}());}},{key:"RT",value:function(){var _RT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee321(t){var e,_iterator1817,_step1817,_i1723,i,s,_i1722,_arr93,_t2696;return regeneratorRuntime.wrap(function _callee321$(_context323){while(1){switch(_context323.prev=_context323.next){case 0:e=_toConsumableArray(this["#tabs"].children);_iterator1817=_createForOfIteratorHelper(e);try{for(_iterator1817.s();!(_step1817=_iterator1817.n()).done;){_i1723=_step1817.value;_i1723.selected=_i1723===t;}}catch(err){_iterator1817.e(err);}finally{_iterator1817.f();}i=t[iv]?t[iv]:t[nv](),s=Symbol();this.GT=s;i.hidden=!0;_context323.t0=!1===this["#main"].contains(i);if(!_context323.t0){_context323.next=11;break;}this["#main"].append(i);_context323.next=11;return ns(100);case 11:_context323.next=13;return os;case 13:if(!(this.GT===s)){_context323.next=16;break;}i.hidden=!1,i.focus();for(_i1722=0,_arr93=_toConsumableArray(this["#main"].children);_i1722<_arr93.length;_i1722++){_t2696=_arr93[_i1722];_t2696!==i&&(_t2696.remove(),_t2696.hidden=!0);}case 16:case"end":return _context323.stop();}}},_callee321,this);}));function RT(_x302){return _RT.apply(this,arguments);}return RT;}()},{key:"eT",value:function eT(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectPreviousTab();e&&t&&this.RT(e);}},{key:"iT",value:function iT(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectNextTab();e&&t&&this.RT(e);}},{key:"YE",value:function YE(){var _this1169=this;return new Promise(/*#__PURE__*/function(){var _ref252=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee322(t){var e;return regeneratorRuntime.wrap(function _callee322$(_context324){while(1){switch(_context324.prev=_context324.next){case 0:e=!1;_context324.t0=_this1169.currentEditorTab;if(!_context324.t0){_context324.next=6;break;}_context324.next=5;return _this1169.UT(_this1169.currentEditorTab);case 5:e=_context324.sent;case 6:t(e);case 7:case"end":return _context324.stop();}}},_callee322);}));return function(_x303){return _ref252.apply(this,arguments);};}());}},{key:"qE",value:function qE(){var _this1170=this;return new Promise(/*#__PURE__*/function(){var _ref253=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee323(t){var e;return regeneratorRuntime.wrap(function _callee323$(_context325){while(1){switch(_context325.prev=_context325.next){case 0:e=!1;_context325.t0=_this1170.currentEditorTab;if(!_context325.t0){_context325.next=6;break;}_context325.next=5;return _this1170.FT(_this1170.currentEditorTab);case 5:e=_context325.sent;case 6:t(e);case 7:case"end":return _context325.stop();}}},_callee323);}));return function(_x304){return _ref253.apply(this,arguments);};}());}},{key:"UT",value:function UT(t){var _this1171=this;return new Promise(/*#__PURE__*/function(){var _ref254=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee324(e){var i,_s1022,_n780,_o578,_l429,_t2697,_t2698,_e2054;return regeneratorRuntime.wrap(function _callee324$(_context326){while(1){switch(_context326.prev=_context326.next){case 0:i=t[sv];if(!(null===i)){_context326.next=9;break;}_context326.t0=e;_context326.next=5;return _this1171.FT(t);case 5:_context326.t1=_context326.sent;(0,_context326.t0)(_context326.t1);_context326.next=69;break;case 9:if(!t.edited){_context326.next=68;break;}_s1022=jh(i).toLowerCase(),_n780=_this1171.getConfig("bx-markupsettings:indentation",2);if(!["png","jpg","jpeg","gif","webp","avif","pdf","ai"].includes(_s1022)){_context326.next=15;break;}e(_this1171.FT(t));_context326.next=66;break;case 15:if(!["svg","svgz"].includes(_s1022)){_context326.next=65;break;}_o578=t[iv].board.extractArtwork(),_l429=null;if(!("svg"===_s1022)){_context326.next=29;break;}_t2697=Vp(_o578,"xml",_n780);_context326.prev=19;_context326.next=22;return Ww(i,_t2697,"image/svg+xml;charset=utf-8");case 22:_context326.next=27;break;case 24:_context326.prev=24;_context326.t2=_context326["catch"](19);_l429=_context326.t2;case 27:_context326.next=39;break;case 29:if(!("svgz"===_s1022)){_context326.next=39;break;}_t2698=Vp(_o578,"xml",_n780),_e2054=jf(_t2698);_context326.prev=31;_context326.next=34;return Ww(i,_e2054,"image/svg+xml;charset=utf-8");case 34:_context326.next=39;break;case 36:_context326.prev=36;_context326.t3=_context326["catch"](31);_l429=_context326.t3;case 39:if(!_l429){_context326.next=62;break;}if(!("READ_ONLY"===_l429)){_context326.next=55;break;}_context326.next=43;return _this1171.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"The file \"".concat(i.name,"\" is read-only.")});case 43:_context326.t4=_context326.sent;if(!(1===_context326.t4)){_context326.next=52;break;}_context326.t5=e;_context326.next=48;return _this1171.qE();case 48:_context326.t6=_context326.sent;(0,_context326.t5)(_context326.t6);_context326.next=53;break;case 52:e(!1);case 53:_context326.next=60;break;case 55:_context326.t7=e;_context326.next=58;return _this1171.qE();case 58:_context326.t8=_context326.sent;(0,_context326.t7)(_context326.t8);case 60:_context326.next=63;break;case 62:t[ov]=0,t.edited=!1,e(!0);case 63:_context326.next=66;break;case 65:e(!1);case 66:_context326.next=69;break;case 68:e(!1);case 69:case"end":return _context326.stop();}}},_callee324,null,[[19,24],[31,36]]);}));return function(_x305){return _ref254.apply(this,arguments);};}());}},{key:"FT",value:function FT(t){var _this1172=this;return new Promise(/*#__PURE__*/function(){var _ref255=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee325(e){var i,_s1023,_n781,_o579,_l430,_t2699,_e2055,_t2700;return regeneratorRuntime.wrap(function _callee325$(_context327){while(1){switch(_context327.prev=_context327.next){case 0:i=null;_context327.prev=1;_context327.next=4;return Yw({type:"saveFile",suggestedName:t[sv]?Wh(t[sv]):"Untitled.svg",acceptsAllTypes:!1,accepts:[{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]}]});case 4:i=_context327.sent;_context327.next=22;break;case 7:_context327.prev=7;_context327.t0=_context327["catch"](1);_context327.next=11;return _this1172.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Selected directory is read-only."});case 11:_context327.t1=_context327.sent;if(!(1===_context327.t1)){_context327.next=20;break;}_context327.t2=e;_context327.next=16;return _this1172.qE();case 16:_context327.t3=_context327.sent;(0,_context327.t2)(_context327.t3);_context327.next=21;break;case 20:e(!1);case 21:return _context327.abrupt("return");case 22:if(!(null===i)){_context327.next=26;break;}e(!1);_context327.next=72;break;case 26:_s1023=t[iv].board.extractArtwork(),_n781=jh(i).toLowerCase(),_o579=_this1172.getConfig("bx-markupsettings:indentation",2),_l430=null;if(!("svgz"===_n781)){_context327.next=39;break;}_t2699=Vp(_s1023,"xml",_o579),_e2055=jf(_t2699);_context327.prev=29;_context327.next=32;return Ww(i,_e2055,"image/svg+xml;charset=utf-8");case 32:_context327.next=37;break;case 34:_context327.prev=34;_context327.t4=_context327["catch"](29);_l430=_context327.t4;case 37:_context327.next=48;break;case 39:_t2700=Vp(_s1023,"xml",_o579);_context327.prev=40;_context327.next=43;return Ww(i,_t2700,"image/svg+xml;charset=utf-8");case 43:_context327.next=48;break;case 45:_context327.prev=45;_context327.t5=_context327["catch"](40);_l430=_context327.t5;case 48:if(!_l430){_context327.next=71;break;}if(!("READ_ONLY"===_l430)){_context327.next=64;break;}_context327.next=52;return _this1172.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Chosen location is read-only."});case 52:_context327.t6=_context327.sent;if(!(1===_context327.t6)){_context327.next=61;break;}_context327.t7=e;_context327.next=57;return _this1172.qE();case 57:_context327.t8=_context327.sent;(0,_context327.t7)(_context327.t8);_context327.next=62;break;case 61:e(!1);case 62:_context327.next=69;break;case 64:_context327.t9=e;_context327.next=67;return _this1172.qE();case 67:_context327.t10=_context327.sent;(0,_context327.t9)(_context327.t10);case 69:_context327.next=72;break;case 71:t[sv]=i,t[ov]=0,t.edited=!1,t.title=i.name,t.querySelector("x-label").textContent=i.name,_this1172.LT([i]),e(!0);case 72:case"end":return _context327.stop();}}},_callee325,null,[[1,7],[29,34],[40,45]]);}));return function(_x306){return _ref255.apply(this,arguments);};}());}},{key:"ZE",value:function ZE(t){var _this1173=this;return new Promise(/*#__PURE__*/function(){var _ref256=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee326(e){var _i1724,_s1024,i,s;return regeneratorRuntime.wrap(function _callee326$(_context328){while(1){switch(_context328.prev=_context328.next){case 0:if(!t.edited){_context328.next=16;break;}_i1724="Do you want to save the changes you made to ".concat(t[sv]?"\"".concat(t[sv].name,"\""):"untitled"," file?");_context328.next=4;return _this1173.openMessageDialog({type:"question",buttons:["Save","Cancel","Don't Save"],title:"Confirm",message:_i1724,detail:"Your changes will be lost if you don't save them."});case 4:_s1024=_context328.sent;if(!(0===_s1024)){_context328.next=14;break;}_context328.t0=!1;_context328.next=9;return _this1173.UT(t);case 9:_context328.t1=_context328.sent;if(!(_context328.t0===_context328.t1)){_context328.next=12;break;}return _context328.abrupt("return",void e(!1));case 12:_context328.next=16;break;case 14:if(!(1===_s1024||-1===_s1024)){_context328.next=16;break;}return _context328.abrupt("return",void e(!1));case 16:i=t[iv],s=t.selected;_this1173["#tabs"].closeTab(t,!1),s&&_this1173.currentTab&&_this1173.RT(_this1173.currentTab),i&&(1===_this1173["#main"].childElementCount?i.remove():ns(3e3).then(function(){i.remove();})),e(!0);case 18:case"end":return _context328.stop();}}},_callee326);}));return function(_x307){return _ref256.apply(this,arguments);};}());}},{key:"NT",value:function NT(){var _this1174=this;return new Promise(/*#__PURE__*/function(){var _ref257=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee327(t){var e,_iterator1818,_step1818,_i1725;return regeneratorRuntime.wrap(function _callee327$(_context329){while(1){switch(_context329.prev=_context329.next){case 0:e=_toConsumableArray(_this1174["#tabs"].children);_iterator1818=_createForOfIteratorHelper(e);_context329.prev=2;_iterator1818.s();case 4:if((_step1818=_iterator1818.n()).done){_context329.next=18;break;}_i1725=_step1818.value;_context329.t0=_i1725!==e[0];if(!_context329.t0){_context329.next=10;break;}_context329.next=10;return ns(1e3);case 10:_context329.t1=!1;_context329.next=13;return _this1174.ZE(_i1725);case 13:_context329.t2=_context329.sent;if(!(_context329.t1===_context329.t2)){_context329.next=16;break;}return _context329.abrupt("return",void t(!1));case 16:_context329.next=4;break;case 18:_context329.next=23;break;case 20:_context329.prev=20;_context329.t3=_context329["catch"](2);_iterator1818.e(_context329.t3);case 23:_context329.prev=23;_iterator1818.f();return _context329.finish(23);case 26:t(!0);case 27:case"end":return _context329.stop();}}},_callee327,null,[[2,20,23,26]]);}));return function(_x308){return _ref257.apply(this,arguments);};}());}},{key:"XE",value:function(){var _XE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee328(){var _t2701,e,_i1726,_s1025,_n782,_o580,_e2056,_l431;return regeneratorRuntime.wrap(function _callee328$(_context330){while(1){switch(_context330.prev=_context330.next){case 0:if(!(this.currentEditor&&this.currentTab[sv])){_context330.next=14;break;}e=this.currentEditor.board,_i1726=e.currentWorkspace===e.masterWorkspace?e.getZoomArea():null,_s1025=this.currentEditor,_n782=this.currentTab,_o580=this.currentTab[sv];if(!("svgz"===jh(_o580).toLowerCase())){_context330.next=9;break;}_context330.next=5;return Fh(_o580,"arrayBuffer");case 5:_e2056=_context330.sent;_t2701=Hf(_e2056);_context330.next=12;break;case 9:_context330.next=11;return Fh(_o580,"text");case 11:_t2701=_context330.sent;case 12:_l431=Eh(_t2701);_s1025.board.setArtwork(_l431),_n782[ov]=0,_n782.edited=!1,_i1726&&e.addEventListener("currentworkspacechange",function(){e.zoomToArea(_i1726,"top-left",0);},{once:!0});case 14:case"end":return _context330.stop();}}},_callee328,this);}));function XE(){return _XE.apply(this,arguments);}return XE;}()},{key:"VT",value:function VT(){var t=[];var _iterator1819=_createForOfIteratorHelper(this["#tabs"].getTabsByScreenIndex()),_step1819;try{for(_iterator1819.s();!(_step1819=_iterator1819.n()).done;){var e=_step1819.value;var _i1727={type:e[ev],path:e[$path],selected:e.selected};t.push(_i1727);}}catch(err){_iterator1819.e(err);}finally{_iterator1819.f();}return t;}},{key:"KE",value:function(){var _KE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee329(){return regeneratorRuntime.wrap(function _callee329$(_context331){while(1){switch(_context331.prev=_context331.next){case 0:_context331.next=2;return this.NT();case 2:_context331.t0=_context331.sent;if(!_context331.t0){_context331.next=5;break;}chrome.app.window.current().close();case 5:case"end":return _context331.stop();}}},_callee329,this);}));function KE(){return _KE.apply(this,arguments);}return KE;}()},{key:"isPointOverNewTabDropArea",value:function isPointOverNewTabDropArea(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return i.getRootNode()!==this._shadowRoot&&(i=null),i&&i.closest("#header");}},{key:"openDevTools",value:function openDevTools(){this.postMessage("openDevTools",null);}},{key:"tT",value:function tT(){chrome.app.window.current().isMaximized()?chrome.app.window.current().restore():chrome.app.window.current().maximize();}},{key:"JE",value:function JE(){chrome.app.window.current().minimize();}},{key:"LT",value:function LT(t){var _this1175=this;return new Promise(/*#__PURE__*/function(){var _ref258=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee331(e){return regeneratorRuntime.wrap(function _callee331$(_context334){while(1){switch(_context334.prev=_context334.next){case 0:if(!(0===t.length)){_context334.next=4;break;}e();_context334.next=5;break;case 4:return _context334.delegateYield(/*#__PURE__*/regeneratorRuntime.mark(function _callee330(){var i,s,_iterator1820,_step1820,_t2702,_e2057,_t2703,_iterator1821,_step1821,_loop64,n;return regeneratorRuntime.wrap(function _callee330$(_context333){while(1){switch(_context333.prev=_context333.next){case 0:i=[],s=Symbol();_context333.t0=_createForOfIteratorHelper;_context333.next=4;return _this1175.jT();case 4:_context333.t1=_context333.sent;_iterator1820=(0,_context333.t0)(_context333.t1);_context333.prev=6;_iterator1820.s();case 8:if((_step1820=_iterator1820.n()).done){_context333.next=20;break;}_t2702=_step1820.value;_context333.next=12;return qw(_t2702);case 12:_e2057=_context333.sent;if(!_e2057){_context333.next=18;break;}_context333.next=16;return Zw(_e2057);case 16:_t2703=_context333.sent;_e2057[s]=_t2703,i.push(_e2057);case 18:_context333.next=8;break;case 20:_context333.next=25;break;case 22:_context333.prev=22;_context333.t2=_context333["catch"](6);_iterator1820.e(_context333.t2);case 25:_context333.prev=25;_iterator1820.f();return _context333.finish(25);case 28:_iterator1821=_createForOfIteratorHelper(t);_context333.prev=29;_loop64=/*#__PURE__*/regeneratorRuntime.mark(function _loop64(){var e,t;return regeneratorRuntime.wrap(function _loop64$(_context332){while(1){switch(_context332.prev=_context332.next){case 0:e=_step1821.value;t=jh(e).toLowerCase();_context332.t0="svg"!==t&&"svgz"!==t&&"html"!==t;if(_context332.t0){_context332.next=9;break;}_context332.next=6;return Zw(e);case 6:e[s]=_context332.sent;i=i.filter(function(t){return t[s]!==e[s];});i.push(e);case 9:case"end":return _context332.stop();}}},_loop64);});_iterator1821.s();case 32:if((_step1821=_iterator1821.n()).done){_context333.next=36;break;}return _context333.delegateYield(_loop64(),"t3",34);case 34:_context333.next=32;break;case 36:_context333.next=41;break;case 38:_context333.prev=38;_context333.t4=_context333["catch"](29);_iterator1821.e(_context333.t4);case 41:_context333.prev=41;_iterator1821.f();return _context333.finish(41);case 44:for(;i.length>10;){i.shift();}n=i.map(function(t){return chrome.fileSystem.retainEntry(t);});_this1175.setConfig("!bx-chromeapp:retainedRecentEntries",n),e();case 47:case"end":return _context333.stop();}}},_callee330,null,[[6,22,25,28],[29,38,41,44]]);})(),"t0",5);case 5:case"end":return _context334.stop();}}},_callee331);}));return function(_x309){return _ref258.apply(this,arguments);};}());}},{key:"jT",value:function jT(){var _this1176=this;return new Promise(/*#__PURE__*/function(){var _ref259=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee332(t){return regeneratorRuntime.wrap(function _callee332$(_context335){while(1){switch(_context335.prev=_context335.next){case 0:t(_this1176.getConfig("!bx-chromeapp:retainedRecentEntries",[]));case 1:case"end":return _context335.stop();}}},_callee332);}));return function(_x310){return _ref259.apply(this,arguments);};}());}},{key:"WE",value:function WE(){this.setConfig("!bx-chromeapp:retainedRecentEntries",null);}},{key:"execCommand",value:function execCommand(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1728=e;_i1728;_i1728=_i1728.parentNode||_i1728.host){if(_i1728.commands&&_i1728.commands[t]){var _e2058=_i1728.commands[t];if(_e2058){var _t2704=!_e2058.enabled||_e2058.enabled();if(!0===_t2704){_e2058.exec();break;}if(!1===_t2704)break;if(null===_t2704)continue;}}}}},{key:"isCommandEnabled",value:function isCommandEnabled(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1729=e;_i1729;_i1729=_i1729.parentNode||_i1729.host){if(_i1729.commands&&_i1729.commands[t]){var _e2059=_i1729.commands[t];if(_e2059){if(!_e2059.enabled||_e2059.enabled())return!0;break;}}}return!1;}},{key:"getShortcutsEditorModel",value:function getShortcutsEditorModel(){return new Promise(/*#__PURE__*/function(){var _ref260=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee333(t){var e,i,s,_iterator1822,_step1822,_t2705,_i1730,_e2060,_t2706,_iterator1823,_step1823,_s1026,_t2707,_n783,_o581,_l432;return regeneratorRuntime.wrap(function _callee333$(_context336){while(1){switch(_context336.prev=_context336.next){case 0:e=[];_context336.next=3;return fetch("/templates/chrome-app-menu.tpl");case 3:_context336.next=5;return _context336.sent.text();case 5:i=_context336.sent;s=new DOMParser().parseFromString(i,"text/html");_iterator1822=_createForOfIteratorHelper(s.querySelectorAll("x-menu"));try{for(_iterator1822.s();!(_step1822=_iterator1822.n()).done;){_t2705=_step1822.value;_i1730=[];for(_e2060=_t2705.closest("x-menuitem");_e2060;_e2060=_e2060.parentNode.closest("x-menuitem")){_t2706=_e2060.querySelector(":scope > x-label");_t2706&&_i1730.unshift(_t2706.textContent);}_iterator1823=_createForOfIteratorHelper(_t2705.children);try{for(_iterator1823.s();!(_step1823=_iterator1823.n()).done;){_s1026=_step1823.value;if("x-menuitem"===_s1026.localName){_t2707=_s1026.getAttribute("value");if(null!==_t2707&&!1===_t2707.startsWith("disk:")){_n783=_s1026.querySelector(":scope > x-label"),_o581=_s1026.querySelector(":scope > x-shortcut.default-shortcut"),_l432={commandID:_t2707,label:[].concat(_i1730,[_n783.textContent]).join(" \u2023 "),defaultShortcut:null};_o581&&_o581.hasAttribute("value")&&(_l432.defaultShortcut=_o581.getAttribute("value")),e.push(_l432);}}}}catch(err){_iterator1823.e(err);}finally{_iterator1823.f();}}}catch(err){_iterator1822.e(err);}finally{_iterator1822.f();}t(e);case 10:case"end":return _context336.stop();}}},_callee333);}));return function(_x311){return _ref260.apply(this,arguments);};}());}},{key:"AT",value:function AT(t){var e=!1;if(null!==t.key){var _i1731=t.toString(),_s1027=null,_n784=this["#menubar"].querySelector("x-shortcut.user-shortcut[value=\"".concat(_i1731,"\"]"));if(_n784)_s1027=_n784.closest("x-menuitem");else{var _t2708=this["#menubar"].querySelector("x-shortcut.default-shortcut[value=\"".concat(_i1731,"\"]"));_t2708&&null===_t2708.nextElementSibling.normalKey&&(_s1027=_t2708.closest("x-menuitem"));}if(_s1027){var _t2709=_s1027.value;this.isCommandEnabled(_t2709)&&(_s1027.click(),e=!0);}}return e;}},{key:"DT",value:function DT(){var _this1177=this;return new Promise(/*#__PURE__*/function(){var _ref261=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee334(t){var e;return regeneratorRuntime.wrap(function _callee334$(_context337){while(1){switch(_context337.prev=_context337.next){case 0:e=_this1177.getConfig("bx-uisettings:colorScheme","auto");"auto"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Us.theme="light"===e?"/themes/vanilla.css":"/themes/vanilla-dark.css";_context337.next=5;return Us.whenThemeReady;case 5:_context337.next=7;return _this1177.IT();case 7:t();case 8:case"end":return _context337.stop();}}},_callee334);}));return function(_x312){return _ref261.apply(this,arguments);};}());}},{key:"IT",value:function IT(){Us.accentColor=this.getConfig("bx-uisettings:accentColor","blue");}},{key:"zT",value:function zT(){var t=this.getConfig("bx-uisettings:widgetsSize","auto");"auto"===t&&(t=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large"),Us.size=t;}},{key:"OT",value:function(){var _OT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee335(){var _iterator1824,_step1824,_t2710,_iterator1825,_step1825,_t2711;return regeneratorRuntime.wrap(function _callee335$(_context338){while(1){switch(_context338.prev=_context338.next){case 0:if(!(null===this["#menubar"].firstElementChild)){_context338.next=8;break;}_context338.next=3;return fetch("/templates/chrome-app-menu.tpl");case 3:_context338.next=5;return _context338.sent.text();case 5:this["#menubar"].innerHTML=_context338.sent;_iterator1824=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("[id]"));try{for(_iterator1824.s();!(_step1824=_iterator1824.n()).done;){_t2710=_step1824.value;this["#"+_t2710.id]=_t2710;}}catch(err){_iterator1824.e(err);}finally{_iterator1824.f();}case 8:_iterator1825=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("x-menu"));try{for(_iterator1825.s();!(_step1825=_iterator1825.n()).done;){_t2711=_step1825.value;this.BT(_t2711);}}catch(err){_iterator1825.e(err);}finally{_iterator1825.f();}case 10:case"end":return _context338.stop();}}},_callee335,this);}));function OT(){return _OT.apply(this,arguments);}return OT;}()},{key:"BT",value:function BT(t){if(t===this["#open-recent-menu"])return;var e=this.getConfig("bx-keyboardsettings:userShortcuts",{}),i=_toConsumableArray(t.children).filter(function(t){return"x-menuitem"===t.localName;});var _iterator1826=_createForOfIteratorHelper(i),_step1826;try{for(_iterator1826.s();!(_step1826=_iterator1826.n()).done;){var _t2712=_step1826.value;var _i1732=_t2712.value&&!1===_t2712.value.startsWith("open-recent")?_t2712.value:null;if(_i1732&&(_t2712.disabled=!1===this.isCommandEnabled(_i1732)),_i1732)if("manualGuides"===_i1732)_t2712.toggled=null!==this.currentEditor&&this.currentEditor.board.showManualGuides;else if("smartGuides"===_i1732)_t2712.toggled=null!==this.currentEditor&&this.currentEditor.board.showSmartGuides;else if("grid"===_i1732)_t2712.toggled=null!==this.currentEditor&&this.currentEditor.board.showGrid;else if("transparency"===_i1732)_t2712.toggled=null!==this.currentEditor&&this.currentEditor.board.showTransparency;else if("views"===_i1732)_t2712.toggled=null!==this.currentEditor&&this.currentEditor.board.showViews;else if(_i1732.endsWith("Tool")){var _e2061=this.currentEditor?ri(this.currentEditor.toolsDock.value||""):"";_t2712.toggled=_e2061===_i1732;}else if(_i1732.endsWith("Panel")){var _e2062=null;this.currentEditor&&(_e2062="elementsPanel"===_i1732||"codePanel"===_i1732||"animationPanel"===_i1732?this.currentEditor.secondaryPanelsDock:this.currentEditor.primaryPanelsDock);var _s1028=_e2062?ri(_e2062.value||""):"";_t2712.toggled=_s1028===_i1732;}else"maximize"===_i1732&&(_t2712.toggled=chrome.app.window.current().isMaximized());if(_i1732){var _s1029=_t2712.querySelector(":scope > x-shortcut.default-shortcut"),_n785=_t2712.querySelector(":scope > x-shortcut.user-shortcut");void 0!==e[_i1732]?(_s1029.hidden=!0,_n785.hidden=!1,_n785.setAttribute("value",e[_i1732])):(_s1029.hidden=!1,_n785.hidden=!0,_n785.removeAttribute("value"));}"open-recent-menu-item"===_t2712.id&&this.HT();}}catch(err){_iterator1826.e(err);}finally{_iterator1826.f();}}},{key:"HT",value:function HT(){var _this1178=this;return new Promise(/*#__PURE__*/function(){var _ref262=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee336(t){var e,i,_iterator1827,_step1827,_t2713,_e2063;return regeneratorRuntime.wrap(function _callee336$(_context339){while(1){switch(_context339.prev=_context339.next){case 0:_context339.next=2;return _this1178.jT();case 2:e=_context339.sent;i="";_iterator1827=_createForOfIteratorHelper(e);_context339.prev=5;_iterator1827.s();case 7:if((_step1827=_iterator1827.n()).done){_context339.next=15;break;}_t2713=_step1827.value;_context339.next=11;return qw(_t2713);case 11:_e2063=_context339.sent;_e2063&&(i+="\n            <x-menuitem id=\"open-recent-".concat(_t2713,"\">\n              <x-label>").concat(_e2063.name,"</x-label>\n            </x-menuitem>\n          "));case 13:_context339.next=7;break;case 15:_context339.next=20;break;case 17:_context339.prev=17;_context339.t0=_context339["catch"](5);_iterator1827.e(_context339.t0);case 20:_context339.prev=20;_iterator1827.f();return _context339.finish(20);case 23:""===i?(_this1178["#open-recent-menu"].innerHTML=i,_this1178["#open-recent-menu-item"].disabled=!0):(i+='\n          <hr/>\n\n          <x-menuitem value="clearRecent">\n            <x-label>Clear Recent</x-label>\n          </x-menuitem>\n        ',_this1178["#open-recent-menu"].innerHTML=i,_this1178["#open-recent-menu-item"].disabled=!1),t();case 24:case"end":return _context339.stop();}}},_callee336,null,[[5,17,20,23]]);}));return function(_x313){return _ref262.apply(this,arguments);};}());}}]);return lv;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lv,"_shadowTemplate",Qi(_templateObject600()));_defineProperty(lv,"_shadowStyleSheet",Ji(_templateObject601()));customElements.define("bx-chromeapp",lv);}();